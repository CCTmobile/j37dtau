const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-D6CkDO2s.js","assets/js/vendor-CC_ZIGTP.js","assets/js/router-BAGLiJ1d.js"])))=>i.map(i=>d[i]);
var xB=Object.defineProperty;var bB=(t,e,r)=>e in t?xB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zt=(t,e,r)=>bB(t,typeof e!="symbol"?e+"":e,r);import{r as WT,a as wB,b as _B,g as hr,c as Ap}from"./vendor-CC_ZIGTP.js";import{r as S,a as Xg,R as K,b as HT,c as VT,d as jB,e as NB}from"./router-BAGLiJ1d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var uy={exports:{}},tf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function SB(){if(VS)return tf;VS=1;var t=WT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:h,props:f,_owner:a.current}}return tf.Fragment=r,tf.jsx=s,tf.jsxs=s,tf}var GS;function AB(){return GS||(GS=1,uy.exports=SB()),uy.exports}var o=AB(),kp={},YS;function kB(){if(YS)return kp;YS=1;var t=wB();return kp.createRoot=t.createRoot,kp.hydrateRoot=t.hydrateRoot,kp}var PB=kB();function KS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GT(...t){return e=>{let r=!1;const n=t.map(a=>{const i=KS(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():KS(t[a],null)}}}}function Bt(...t){return S.useCallback(GT(...t),t)}function Xl(t){const e=CB(t),r=S.forwardRef((n,a)=>{const{children:i,...s}=n,l=S.Children.toArray(i),c=l.find(EB);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...s,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return o.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var YT=Xl("Slot");function CB(t){const e=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const s=IB(a),l=TB(i,a.props);return a.type!==S.Fragment&&(l.ref=n?GT(n,s):s),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KT=Symbol("radix.slottable");function OB(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=KT,e}function EB(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KT}function TB(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function IB(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function XT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=XT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=XT(t))&&(n&&(n+=" "),n+=e);return n}const XS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ZS=Rt,P_=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return ZS(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=XS(d)||XS(f);return a[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,p]:u},[]);return ZS(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},C_="-",RB=t=>{const e=MB(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(C_);return l[0]===""&&l.length!==1&&l.shift(),ZT(l,e)||LB(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},ZT=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?ZT(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(C_);return(s=e.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},JS=/^\[(.+)\]$/,LB=t=>{if(JS.test(t)){const e=JS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},MB=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)m2(r[a],n,a,e);return n},m2=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:QS(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(DB(a)){m2(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{m2(s,QS(e,i),r,n)})})},QS=(t,e)=>{let r=t;return e.split(C_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},DB=t=>t.isThemeGetter,$B=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},g2="!",v2=":",FB=v2.length,BB=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let s=0,l=0,c=0,u;for(let g=0;g<a.length;g++){let m=a[g];if(s===0&&l===0){if(m===v2){i.push(a.slice(c,g)),c=g+FB;continue}if(m==="/"){u=g;continue}}m==="["?s++:m==="]"?s--:m==="("?l++:m===")"&&l--}const d=i.length===0?a:a.substring(c),f=qB(d),p=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const a=e+v2,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},qB=t=>t.endsWith(g2)?t.substring(0,t.length-1):t.startsWith(g2)?t.substring(1):t,UB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||e[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},zB=t=>({cache:$B(t.cacheSize),parseClassName:BB(t),sortModifiers:UB(t),...RB(t)}),WB=/\s+/,HB=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,s=[],l=t.trim().split(WB);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=n(g),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const j=i(p).join(":"),w=h?j+g2:j,_=w+x;if(s.includes(_))continue;s.push(_);const N=a(x,v);for(let A=0;A<N.length;++A){const k=N[A];s.push(w+k)}c=d+(c.length>0?" "+c:c)}return c};function VB(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=JT(e))&&(n&&(n+=" "),n+=r);return n}const JT=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=JT(t[n]))&&(r&&(r+=" "),r+=e);return r};function GB(t,...e){let r,n,a,i=s;function s(c){const u=e.reduce((d,f)=>f(d),t());return r=zB(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=HB(c,r);return a(c,d),d}return function(){return i(VB.apply(null,arguments))}}const mn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},QT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,YB=/^\d+\/\d+$/,KB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,JB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dc=t=>YB.test(t),Ut=t=>!!t&&!Number.isNaN(Number(t)),Po=t=>!!t&&Number.isInteger(Number(t)),dy=t=>t.endsWith("%")&&Ut(t.slice(0,-1)),Ls=t=>KB.test(t),eq=()=>!0,tq=t=>XB.test(t)&&!ZB.test(t),tI=()=>!1,rq=t=>JB.test(t),nq=t=>QB.test(t),aq=t=>!Ze(t)&&!Je(t),iq=t=>ud(t,aI,tI),Ze=t=>QT.test(t),Nl=t=>ud(t,iI,tq),fy=t=>ud(t,uq,Ut),e4=t=>ud(t,rI,tI),sq=t=>ud(t,nI,nq),Pp=t=>ud(t,sI,rq),Je=t=>eI.test(t),rf=t=>dd(t,iI),oq=t=>dd(t,dq),t4=t=>dd(t,rI),lq=t=>dd(t,aI),cq=t=>dd(t,nI),Cp=t=>dd(t,sI,!0),ud=(t,e,r)=>{const n=QT.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},dd=(t,e,r=!1)=>{const n=eI.exec(t);return n?n[1]?e(n[1]):r:!1},rI=t=>t==="position"||t==="percentage",nI=t=>t==="image"||t==="url",aI=t=>t==="length"||t==="size"||t==="bg-size",iI=t=>t==="length",uq=t=>t==="number",dq=t=>t==="family-name",sI=t=>t==="shadow",fq=()=>{const t=mn("color"),e=mn("font"),r=mn("text"),n=mn("font-weight"),a=mn("tracking"),i=mn("leading"),s=mn("breakpoint"),l=mn("container"),c=mn("spacing"),u=mn("radius"),d=mn("shadow"),f=mn("inset-shadow"),p=mn("text-shadow"),h=mn("drop-shadow"),g=mn("blur"),m=mn("perspective"),v=mn("aspect"),x=mn("ease"),j=mn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[..._(),Je,Ze],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],O=()=>[Je,Ze,c],T=()=>[Dc,"full","auto",...O()],R=()=>[Po,"none","subgrid",Je,Ze],P=()=>["auto",{span:["full",Po,Je,Ze]},Po,Je,Ze],I=()=>[Po,"auto",Je,Ze],M=()=>["auto","min","max","fr",Je,Ze],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...O()],q=()=>[Dc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],B=()=>[t,Je,Ze],X=()=>[..._(),t4,e4,{position:[Je,Ze]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",lq,iq,{size:[Je,Ze]}],$=()=>[dy,rf,Nl],W=()=>["","none","full",u,Je,Ze],H=()=>["",Ut,rf,Nl],ee=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Ut,dy,t4,e4],de=()=>["","none",g,Je,Ze],se=()=>["none",Ut,Je,Ze],he=()=>["none",Ut,Je,Ze],ge=()=>[Ut,Je,Ze],ue=()=>[Dc,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ls],breakpoint:[Ls],color:[eq],container:[Ls],"drop-shadow":[Ls],ease:["in","out","in-out"],font:[aq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ls],shadow:[Ls],spacing:["px",Ut],text:[Ls],"text-shadow":[Ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dc,Ze,Je,v]}],container:["container"],columns:[{columns:[Ut,Ze,Je,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Po,"auto",Je,Ze]}],basis:[{basis:[Dc,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,Dc,"auto","initial","none",Ze]}],grow:[{grow:["",Ut,Je,Ze]}],shrink:[{shrink:["",Ut,Je,Ze]}],order:[{order:[Po,"first","last","none",Je,Ze]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,rf,Nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Je,fy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dy,Ze]}],"font-family":[{font:[oq,Ze,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Je,Ze]}],"line-clamp":[{"line-clamp":[Ut,"none",Je,fy]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Je,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",Je,Nl]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Ut,"auto",Je,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Po,Je,Ze],radial:["",Je,Ze],conic:[Po,Je,Ze]},cq,sq]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,Je,Ze]}],"outline-w":[{outline:["",Ut,rf,Nl]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",d,Cp,Pp]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",f,Cp,Pp]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Ut,Nl]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",p,Cp,Pp]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Ut,Je,Ze]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Je,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ze]}],filter:[{filter:["","none",Je,Ze]}],blur:[{blur:de()}],brightness:[{brightness:[Ut,Je,Ze]}],contrast:[{contrast:[Ut,Je,Ze]}],"drop-shadow":[{"drop-shadow":["","none",h,Cp,Pp]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Ut,Je,Ze]}],"hue-rotate":[{"hue-rotate":[Ut,Je,Ze]}],invert:[{invert:["",Ut,Je,Ze]}],saturate:[{saturate:[Ut,Je,Ze]}],sepia:[{sepia:["",Ut,Je,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ze]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,Je,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,Je,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,Je,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,Je,Ze]}],"backdrop-invert":[{"backdrop-invert":["",Ut,Je,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,Je,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,Je,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,Je,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",Je,Ze]}],ease:[{ease:["linear","initial",x,Je,Ze]}],delay:[{delay:[Ut,Je,Ze]}],animate:[{animate:["none",j,Je,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Je,Ze]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[Je,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ze]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Ut,rf,Nl,fy]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hq=GB(fq);function qe(...t){return hq(Rt(t))}const Mf=P_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),be=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?YT:"button";return o.jsx(s,{"data-slot":"button",className:qe(Mf({variant:e,size:r,className:t})),ref:i,...a})});be.displayName="Button";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),r4=t=>{const e=mq(t);return e.charAt(0).toUpperCase()+e.slice(1)},oI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>S.createElement("svg",{ref:c,...gq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:oI("lucide",a),...l},[...s.map(([u,d])=>S.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(vq,{ref:i,iconNode:e,className:oI(`lucide-${pq(r4(t))}`,`lucide-${t}`,n),...a}));return r.displayName=r4(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xq=Me("activity",yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ks=Me("archive",bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zg=Me("arrow-left",wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],jq=Me("at-sign",_q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lI=Me("award",Nq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fl=Me("bell",Sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],kq=Me("brush",Aq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jg=Me("calendar",Pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Oq=Me("camera",Cq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],n4=Me("chart-column",Eq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Iq=Me("chart-pie",Tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qg=Me("check",Rq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O_=Me("chevron-down",Lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cI=Me("chevron-left",Mq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pm=Me("chevron-right",Dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Fq=Me("chevron-up",$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zl=Me("circle-alert",Bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ph=Me("circle-check-big",qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E_=Me("circle-help",Uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T_=Me("circle",zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],bu=Me("clock",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vq=Me("copy",Hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],I_=Me("credit-card",Gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],a4=Me("crop",Yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xq=Me("crown",Kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jq=Me("dollar-sign",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],uI=Me("download",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tU=Me("external-link",eU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y2=Me("eye-off",rU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ti=Me("eye",nU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xs=Me("file-text",aU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Df=Me("funnel",iU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],oU=Me("gift",sU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ev=Me("grid-3x3",lU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Go=Me("heart",cU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hy=Me("history",uU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fU=Me("house",dU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],i4=Me("image",hU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tv=Me("info",pU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],s4=Me("key",mU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rv=Me("list",gU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Za=Me("loader-circle",vU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],py=Me("lock",yU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dI=Me("log-out",xU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],$f=Me("mail",bU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],R_=Me("map-pin",wU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],fI=Me("menu",_U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ei=Me("message-circle",jU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],mm=Me("message-square",NU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M5 12h14",key:"1ays0h"}]],hI=Me("minus",SU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],kU=Me("monitor",AU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Cm=Me("moon",PU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],OU=Me("mountain",CU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wo=Me("package",EU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Ff=Me("palette",TU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],RU=Me("pen-line",IU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],my=Me("percent",LU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],L_=Me("phone",MU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wl=Me("plus",DU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],pI=Me("printer",$U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hl=Me("refresh-cw",FU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],o4=Me("reply",BU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ci=Me("rotate-ccw",qU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],M_=Me("ruler",UU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Om=Me("save",zU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],l4=Me("scissors",WU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],to=Me("search",HU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mI=Me("send",VU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D_=Me("settings",GU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],KU=Me("share-2",YU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hs=Me("shield",XU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],$_=Me("shopping-bag",ZU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Em=Me("shopping-cart",JU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jf=Me("sparkles",QU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],F_=Me("square-pen",ez);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$c=Me("square",tz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qr=Me("star",rz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bf=Me("sun",nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],gI=Me("tag",az);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sz=Me("target",iz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],lz=Me("thumbs-down",oz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],vI=Me("thumbs-up",cz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ro=Me("trash-2",uz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],fz=Me("tree-pine",dz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Tu=Me("trending-up",hz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nv=Me("triangle-alert",pz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Iu=Me("truck",mz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],yI=Me("upload",gz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],yz=Me("user-check",vz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],no=Me("user",xz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xI=Me("users",bz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],_z=Me("wand-sparkles",wz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zs=Me("x",jz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Sz=Me("zap",Nz),Az=({images:t,alt:e,className:r="",aspectRatio:n="3/1",showNavigation:a=!0,autoSlide:i=!1,autoSlideInterval:s=3e3})=>{const[l,c]=S.useState(0),[u,d]=S.useState(new Set),[f,p]=S.useState(!0),h=()=>{const N=["/images/summer-floral-dress.jpg","/images/evening-gown.jpg","/images/denim-jacket.jpg","/images/ankle-boots.jpg"];return[N[Math.floor(Math.random()*N.length)]]},g=t.filter((N,A)=>!u.has(A)),m=g.length===0?h():g,v=m[l]||m[0];S.useEffect(()=>{u.size>0&&console.log(" ImageCarousel Debug:",{totalImages:t.length,currentIndex:l,imageErrors:Array.from(u),autoSlide:i,aspectRatio:n})},[l,t.length,u,i,n]),S.useEffect(()=>{if(!i||m.length<=1)return;const N=setInterval(()=>{c(A=>{const k=(A+1)%m.length;return console.log(" Auto-slide: Moving to image",k),k})},s);return()=>clearInterval(N)},[i,m.length,s]);const x=()=>{const N=l===0?m.length-1:l-1;console.log(" Navigation: Previous clicked, moving to index",N),c(N)},j=()=>{const N=(l+1)%m.length;console.log(" Navigation: Next clicked, moving to index",N),c(N)},w=N=>{const A=t[N];console.error(" Image Loading Error: Failed to load image at index",N,"URL:",A),A&&console.log(" URL Analysis:",{isDataUrl:A.startsWith("data:"),isHttps:A.startsWith("https:"),isSupabase:A.includes("supabase.co"),urlLength:A.length,urlPreview:A.substring(0,100)+(A.length>100?"...":"")}),d(k=>new Set([...k,N])),console.log(" Fallback triggered for image",N,"- switching to fallback images")},_=N=>{console.log(" Image Loaded Successfully: Index",N,"URL:",t[N]),N===l&&p(!1)};return m.length===0?(console.warn(" ImageCarousel Warning: No valid images or fallbacks available"),o.jsx("div",{className:`flex items-center justify-center bg-gray-100 w-full h-full ${r}`,children:o.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[o.jsx(Zl,{className:"h-8 w-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Image not available"})]})})):o.jsxs("div",{className:`relative overflow-hidden group w-full h-full ${r}`,children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110 opacity-60",style:{backgroundImage:`url(${v})`,backgroundPosition:"center",backgroundSize:"cover"}}),o.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:o.jsx("img",{src:v,alt:`${e} - Image ${l+1} of ${m.length}`,className:"max-w-full max-h-full object-contain",onError:()=>w(l),onLoad:()=>_(l),loading:"lazy"})}),f&&o.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-50",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}),a&&m.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:x,className:`absolute left-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Previous image",children:o.jsx(cI,{className:"h-4 w-4"})}),o.jsx("button",{onClick:j,className:`absolute right-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Next image",children:o.jsx(Pm,{className:"h-4 w-4"})}),o.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 z-20 \r
                        flex space-x-2`,children:m.map((N,A)=>o.jsx("button",{onClick:()=>{console.log(" Indicator clicked: Moving from index",l,"to index",A),c(A),p(!0)},className:`w-3 h-3 rounded-full transition-all duration-200 
                          ${A===l?"bg-white shadow-lg scale-110":"bg-white bg-opacity-60 hover:bg-opacity-80 hover:scale-105"}`,"aria-label":`Go to image ${A+1} of ${m.length}`},A))})]}),!1]})},bI=async(t,e,r,n)=>{try{window.tp||(console.warn("Trustpilot not loaded yet, waiting..."),await B_());const a="https://rosemamaclothing.store",i=n.map(l=>({sku:l.id,productUrl:`${a}/product/${l.id}`,imageUrl:l.image.startsWith("http")?l.image:`${a}/images/${l.image}`,name:l.name})),s={recipientEmail:t,recipientName:e,referenceId:`Order_${r}`,source:"PostPurchase",productSkus:n.map(l=>l.id),products:i};return window.tp("createInvitation",s),console.log("Trustpilot invitation sent successfully:",s),!0}catch(a){return console.error("Failed to send Trustpilot invitation:",a),!1}},kz=async(t,e,r)=>{try{window.tp||await B_();const n={recipientEmail:t,recipientName:e,referenceId:`Service_${r}`,source:"ServiceExperience"};return window.tp("createInvitation",n),console.log("Trustpilot service invitation sent successfully:",n),!0}catch(n){return console.error("Failed to send Trustpilot service invitation:",n),!1}},B_=()=>new Promise((t,e)=>{let r=0;const n=50,a=()=>{typeof window.tp=="function"&&window.TrustpilotObject?t():r>=n?e(new Error("Trustpilot failed to load")):(r++,setTimeout(a,100))};a()}),Pz=(t,e,r={})=>{const n=document.getElementById(t);if(!n){console.error(`Element with ID ${t} not found`);return}n.innerHTML="";const a=document.createElement("div");a.className="trustpilot-widget",a.setAttribute("data-locale","en-US"),a.setAttribute("data-template-id",Cz(e)),a.setAttribute("data-businessunit-id","66e3a5c8fe53e5eddc65b0fd"),a.setAttribute("data-style-height",r.height||"350px"),a.setAttribute("data-style-width",r.width||"100%"),e==="product-review"&&r.productSku&&a.setAttribute("data-sku",r.productSku),n.appendChild(a),typeof window.tp=="function"?window.tp("loadFromElement",a):console.warn("Trustpilot not loaded, widget will load when script is ready")},Cz=t=>{const e={trustbox:"5419b6a8b0d04a076446a9ad","product-review":"5419b6a8b0d04a076446a9ae","review-carousel":"5419b6a8b0d04a076446a9af"};return e[t]||e.trustbox},Oz=()=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c4):c4()},c4=async()=>{try{(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))&&console.info(" Trustpilot Development Mode: Widgets may not load on localhost due to domain restrictions. This is expected behavior."),await B_(),document.querySelectorAll("[data-trustpilot-widget]").forEach(r=>{const n=r,a=n.dataset.trustpilotWidget,i={height:n.dataset.height,width:n.dataset.width,productSku:n.dataset.productSku};Pz(n.id,a,i)})}catch(t){console.error("Failed to initialize Trustpilot widgets:",t)}},Ez=async t=>{try{await Promise.all([bI(t.customerEmail,t.customerName,t.orderId,t.products),kz(t.customerEmail,t.customerName,t.orderId)]),console.log("All Trustpilot invitations sent successfully")}catch(e){console.error("Error sending Trustpilot invitations:",e)}},Tz=(t,e)=>{try{const a=`https://www.trustpilot.com/evaluate/66e3a5c8fe53e5eddc65b0fd?utm_medium=trustbox&utm_source=ProductReview&p=${encodeURIComponent(e)}&s=${encodeURIComponent(t)}&r=${encodeURIComponent(`https://rosemamaclothing.store/product/${t}`)}`;window.open(a,"_blank","width=800,height=700,scrollbars=yes,resizable=yes"),console.log("Opened Trustpilot review form for product:",t)}catch(r){console.error("Error opening Trustpilot review form:",r)}},Iz=async t=>{try{const e={default:{rating:4.2,reviewCount:8,trustScore:4.2},sku_1:{rating:4.5,reviewCount:12,trustScore:4.5},sku_2:{rating:4.1,reviewCount:5,trustScore:4.1}};return await new Promise(r=>setTimeout(r,100)),e[t]||e.default}catch(e){return console.error("Error fetching Trustpilot product rating:",e),null}},u4=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),x2=({product:t,layout:e="enhanced",showQuickActions:r=!0,onAddToCart:n,onViewDetails:a,onToggleWishlist:i,className:s=""})=>{const[l,c]=S.useState(null);S.useEffect(()=>{(async()=>{try{const v=await Iz(t.id);c(v)}catch(v){console.error("Failed to load Trustpilot rating:",v)}})()},[t.id]);const u=t.originalPrice&&t.originalPrice>t.price&&t.originalPrice!==t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,d=m=>{m.stopPropagation(),n==null||n(t)},f=()=>{a==null||a(t)},p=m=>{m.stopPropagation(),i==null||i(t)},h=t.images&&t.images.length>0?t.images:["/images/placeholder-product.svg"],g=m=>{switch(m.toLowerCase()){case"black":return"bg-black border-gray-300";case"white":return"bg-white border-gray-400";case"gray":case"grey":return"bg-gray-400 border-gray-500";case"navy":return"bg-blue-900 border-blue-800";case"brown":return"bg-amber-800 border-amber-700";case"beige":return"bg-amber-100 border-amber-200";case"pink":return"bg-pink-400 border-pink-500";case"blue":return"bg-blue-500 border-blue-600";case"red":return"bg-red-500 border-red-600";case"green":return"bg-green-500 border-green-600";case"yellow":return"bg-yellow-400 border-yellow-500";case"purple":return"bg-purple-500 border-purple-600";case"orange":return"bg-orange-500 border-orange-600";default:return"bg-gradient-to-br from-purple-400 to-pink-400 border-purple-300"}};return o.jsxs("div",{className:`
        bg-background rounded-lg shadow-md hover:shadow-xl transition-all duration-300 
        cursor-pointer group overflow-hidden border border-border dark:border-border/50 
        hover:border-primary/20 dark:hover:border-primary/30
        flex flex-col
        ${s}
      `,onClick:f,children:[o.jsxs("div",{className:"relative w-full aspect-[3/4] flex-shrink-0",children:[o.jsx(Az,{images:h,alt:t.name,showNavigation:h.length>1,className:"rounded-t-lg h-full w-full object-cover"}),o.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:u>0&&o.jsxs("span",{className:"bg-rose-500 dark:bg-rose-600 text-white text-xs px-2.5 py-1 rounded-full font-medium shadow-md",children:["-",u,"%"]})}),r&&o.jsxs("div",{className:`absolute top-2 right-2 z-20 flex flex-col gap-2 \r
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:[o.jsx("button",{onClick:p,className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-rose-500`,"aria-label":"Add to wishlist",children:o.jsx(Go,{className:"h-4 w-4 text-foreground hover:text-rose-500"})}),o.jsx("button",{onClick:m=>{m.stopPropagation(),f()},className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Quick view",children:o.jsx(ti,{className:"h-4 w-4 text-foreground hover:text-blue-500"})})]})]}),o.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[t.category&&o.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide font-medium",children:t.category}),o.jsx("h3",{className:"font-semibold text-foreground text-sm line-clamp-2 leading-tight",children:t.name}),(l||t.rating)&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((m,v)=>o.jsx(qr,{className:`h-3.5 w-3.5 ${v<Math.floor((l==null?void 0:l.rating)||t.rating||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},v))}),o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:l?o.jsxs(o.Fragment,{children:["(",l.reviewCount," reviews)"]}):t.reviews&&t.reviews.length>0?o.jsxs(o.Fragment,{children:["(",t.reviews.length,")"]}):o.jsx(o.Fragment,{children:"(0)"})})]}),l&&o.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-green-100 to-green-50 dark:from-green-900/30 dark:to-green-800/20 px-2 py-1 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-[8px] font-bold",children:"T"})}),o.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:l.trustScore.toFixed(1)})]})]}),t.colors&&t.colors.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Colors:"}),o.jsxs("div",{className:"flex gap-1",children:[t.colors.slice(0,5).map((m,v)=>o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${g(m)} 
                               shadow-sm hover:scale-110 transition-transform cursor-pointer`,title:m},v)),t.colors.length>5&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",t.colors.length-5]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-foreground text-lg",children:u4(t.price)}),t.originalPrice&&t.originalPrice>t.price&&o.jsx("span",{className:"text-sm text-muted-foreground line-through",children:u4(t.originalPrice)})]}),o.jsx("button",{onClick:d,className:`bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:hover:bg-white \r
                     text-white dark:text-slate-900 border-2 border-slate-900 dark:border-slate-100\r
                     p-2 rounded-full transition-all duration-200\r
                     hover:scale-105 focus:outline-none focus:ring-2 focus:ring-slate-500 \r
                     shadow-md hover:shadow-lg`,"aria-label":"Add to cart",children:o.jsx(Em,{className:"h-4 w-4 text-white dark:text-slate-900"})})]})]}),!1]})};function q_({widgetType:t,productSku:e,businessUnitId:r="66e3a5c8fe53e5eddc65b0fd",height:n="350px",width:a="100%",className:i=""}){const[s,l]=S.useState(!0),[c,u]=S.useState(!1),d=`trustpilot-widget-${t}-${e||"general"}`;return S.useEffect(()=>{Oz();const p=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),h=setTimeout(()=>{l(!1),p&&u(!0)},p?3e3:5e3),g=setInterval(()=>{const v=document.getElementById(d);if(v){const x=v.querySelector("iframe"),j=v.children.length>1||v.children[0]&&v.children[0].children.length>0;(x||j)&&(l(!1),u(!1),clearInterval(g))}},1e3),m=v=>{v.message&&v.message.includes("trustpilot")&&(console.warn("Trustpilot widget loading issue detected"),u(!0),l(!1))};return window.addEventListener("error",m),()=>{clearTimeout(h),clearInterval(g),window.removeEventListener("error",m)}},[d]),(()=>{const p={className:`trustpilot-widget ${i}`,"data-locale":"en-US","data-template-id":r,"data-businessunit-id":r,"data-style-height":n,"data-style-width":a};switch(t){case"review-carousel":return o.jsx("div",{id:d,...p,"data-widget":"carousel","data-stars":"1,2,3,4,5","data-schema-type":"Organization",children:o.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[s&&!c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),o.jsx("div",{className:"animate-pulse",children:"Loading customer reviews..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),o.jsx("div",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Loading...":"Customer Reviews"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?"Widgets restricted on localhost - will work on live domain":"We're setting up our review system. Check back soon!":"See what our customers are saying"})]}),o.jsx("div",{className:"text-xs mt-2 text-muted-foreground",children:"Powered by Trustpilot"})]})})});case"product-review":return o.jsx("div",{id:d,...p,"data-widget":"product-review","data-sku":e,children:s&&!c?o.jsx("div",{className:"flex items-center justify-center py-8 text-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading product reviews..."}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Powered by Trustpilot"})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),o.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Currently Unavailable":"No reviews yet"}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?'Trustpilot widgets are restricted on localhost for security. They will work on the live domain (rosemamaclothing.store). You can still test the "Write a Review" button functionality.':"We're working on getting reviews set up. In the meantime, you can leave a review directly on Trustpilot.":"Be the first to share your experience with this product. Your review helps other customers make informed decisions."})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"Powered by"}),o.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs",children:"T"})}),"Trustpilot"]})]})]})});case"trustbox":default:return o.jsx("div",{id:d,...p,"data-widget":"trustbox","data-stars":"1,2,3,4,5",children:o.jsx("div",{className:"flex items-center justify-center py-6 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),o.jsx("span",{children:"Loading reviews..."})]}),o.jsx("div",{className:"text-xs",children:"Be the first to leave a review!"})]})})})}})()}const Rz="modulepreload",Lz=function(t){return"/"+t},d4={},Ja=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=s(r.map(u=>{if(u=Lz(u),u in d4)return;d4[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Rz,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Mz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ja(async()=>{const{default:n}=await Promise.resolve().then(()=>fd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class U_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Dz extends U_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class f4 extends U_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class h4 extends U_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var b2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(b2||(b2={}));var $z=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Fz{constructor(e,{headers:r={},customFetch:n,region:a=b2.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Mz(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return $z(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(m=>{throw new Dz(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new f4(f);if(!f.ok)throw new h4(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof h4||a instanceof f4?a.context:void 0}}})}}var Sn={},Fc={},Bc={},qc={},Uc={},zc={},Bz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ru=Bz();const qz=Ru.fetch,wI=Ru.fetch.bind(Ru),_I=Ru.Headers,Uz=Ru.Request,zz=Ru.Response,fd=Object.freeze(Object.defineProperty({__proto__:null,Headers:_I,Request:Uz,Response:zz,default:wI,fetch:qz},Symbol.toStringTag,{value:"Module"})),Wz=_B(fd);var Op={},p4;function jI(){if(p4)return Op;p4=1,Object.defineProperty(Op,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Op.default=t,Op}var m4;function NI(){if(m4)return zc;m4=1;var t=zc&&zc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zc,"__esModule",{value:!0});const e=t(Wz),r=t(jI());class n{constructor(i){var s,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let g=null,m=null,v=null,x=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&N&&N.length>1&&(v=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,x=406,j="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(m=[],g=null,x=200,j="OK")}catch{u.status===404&&_===""?(x=204,j="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,j="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:x,statusText:j}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return zc.default=n,zc}var g4;function SI(){if(g4)return Uc;g4=1;var t=Uc&&Uc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Uc,"__esModule",{value:!0});const e=t(NI());class r extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Uc.default=r,Uc}var v4;function z_(){if(v4)return qc;v4=1;var t=qc&&qc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qc,"__esModule",{value:!0});const e=t(SI());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return qc.default=r,qc}var y4;function AI(){if(y4)return Bc;y4=1;var t=Bc&&Bc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bc,"__esModule",{value:!0});const e=t(z_());class r{constructor(a,{headers:i={},schema:s,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=l}select(a,{head:i=!1,count:s}={}){const l=i?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Bc.default=r,Bc}var x4;function Hz(){if(x4)return Fc;x4=1;var t=Fc&&Fc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Fc,"__esModule",{value:!0});const e=t(AI()),r=t(z_());class n{constructor(i,{headers:s={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${i}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(s).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{p.searchParams.append(m,v)})):(f="POST",h=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Fc.default=n,Fc}var b4;function Vz(){if(b4)return Sn;b4=1;var t=Sn&&Sn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const e=t(Hz());Sn.PostgrestClient=e.default;const r=t(AI());Sn.PostgrestQueryBuilder=r.default;const n=t(z_());Sn.PostgrestFilterBuilder=n.default;const a=t(SI());Sn.PostgrestTransformBuilder=a.default;const i=t(NI());Sn.PostgrestBuilder=i.default;const s=t(jI());return Sn.PostgrestError=s.default,Sn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},Sn}var Gz=Vz();const Yz=hr(Gz),{PostgrestClient:Kz,PostgrestQueryBuilder:jwe,PostgrestFilterBuilder:Nwe,PostgrestTransformBuilder:Swe,PostgrestBuilder:Awe,PostgrestError:kwe}=Yz;class Xz{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zz="2.15.5",Jz=`realtime-js/${Zz}`,Qz="1.0.0",w2=1e4,eW=1e3,tW=100;var Nf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nf||(Nf={}));var yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yn||(yn={}));var ji;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ji||(ji={}));var _2;(function(t){t.websocket="websocket"})(_2||(_2={}));var Ll;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ll||(Ll={}));class rW{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(e.slice(s,s+a));s=s+a;const c=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class kI{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Nr||(Nr={}));const w4=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=nW(s,t,e,a),i),{})},nW=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?PI(i,s):j2(s)},PI=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return oW(e,r)}switch(t){case Nr.bool:return aW(e);case Nr.float4:case Nr.float8:case Nr.int2:case Nr.int4:case Nr.int8:case Nr.numeric:case Nr.oid:return iW(e);case Nr.json:case Nr.jsonb:return sW(e);case Nr.timestamp:return lW(e);case Nr.abstime:case Nr.date:case Nr.daterange:case Nr.int4range:case Nr.int8range:case Nr.money:case Nr.reltime:case Nr.text:case Nr.time:case Nr.timestamptz:case Nr.timetz:case Nr.tsrange:case Nr.tstzrange:return j2(e);default:return j2(e)}},j2=t=>t,aW=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iW=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sW=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},oW=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>PI(e,l))}return t},lW=t=>typeof t=="string"?t.replace(" ","T"):t,CI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class gy{constructor(e,r,n={},a=w2){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _4;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_4||(_4={}));class Sf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sf.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Sf.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Sf.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const p=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(s,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j4;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(j4||(j4={}));var Af;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Af||(Af={}));var Us;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Us||(Us={}));class W_{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gy(this,ji.join,this.params,this.timeout),this.rejoinTimer=new kI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ji.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Sf(this),this.broadcastEndpointURL=CI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==yn.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Af.PRESENCE]&&this.bindings[Af.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Us.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Us.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(Us.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,x=[];for(let j=0;j<v;j++){const w=m[j],{filter:{event:_,schema:N,table:A,filter:k}}=w,O=h&&h[j];if(O&&O.event===_&&O.schema===N&&O.table===A&&O.filter===k)x.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),this.state=yn.errored,e==null||e(Us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Us.SUBSCRIBED);return}}).receive("error",h=>{this.state=yn.errored,e==null||e(Us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===yn.joined&&e===Af.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ji.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new gy(this,ji.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gy(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ji;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var g,m,v,x,j,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,N=(g=h.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(j=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:x,type:j,errors:w}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:j,new:{},old:{},errors:w}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===yn.closed}_isJoined(){return this.state===yn.joined}_isJoining(){return this.state===yn.joining}_isLeaving(){return this.state===yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&W_.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ji.close,{},e)}_onError(e){this._on(ji.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=w4(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=w4(e.columns,e.old_record)),r}}const vy=()=>{},Ep={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cW=[1e3,2e3,5e3,1e4],uW=1e4,dW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fW{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=w2,this.transport=null,this.heartbeatIntervalMs=Ep.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vy,this.ref=0,this.reconnectTimer=null,this.logger=vy,this.conn=null,this.sendBuffer=[],this.serializer=new rW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Ja(async()=>{const{default:l}=await Promise.resolve().then(()=>fd);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${_2.websocket}`,this.httpEndpoint=CI(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xz.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qz}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nf.connecting:return Ll.Connecting;case Nf.open:return Ll.Open;case Nf.closing:return Ll.Closing;default:return Ll.Closed}}isConnected(){return this.connectionState()===Ll.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new W_(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ep.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ji.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Jz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ji.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ep.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,s,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:w2,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Ep.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:vy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(f=>cW[f-1]||uW),this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((f,p)=>p(JSON.stringify(f))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class H_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hW extends H_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N2 extends H_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var pW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const OI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ja(async()=>{const{default:n}=await Promise.resolve().then(()=>fd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mW=()=>pW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ja(()=>Promise.resolve().then(()=>fd),void 0)).Response:Response}),S2=t=>{if(Array.isArray(t))return t.map(r=>S2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=S2(n)}),e},gW=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const yy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vW=(t,e,r)=>fc(void 0,void 0,void 0,function*(){const n=yield mW();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,s=(a==null?void 0:a.statusCode)||i+"";e(new hW(yy(a),i,s))}).catch(a=>{e(new N2(yy(a),a))}):e(new N2(yy(t),t))}),yW=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(gW(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Ch(t,e,r,n,a,i){return fc(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(r,yW(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>vW(c,l,n))})})}function Tm(t,e,r,n){return fc(this,void 0,void 0,function*(){return Ch(t,"GET",e,r,n)})}function ts(t,e,r,n,a){return fc(this,void 0,void 0,function*(){return Ch(t,"POST",e,n,a,r)})}function A2(t,e,r,n,a){return fc(this,void 0,void 0,function*(){return Ch(t,"PUT",e,n,a,r)})}function xW(t,e,r,n){return fc(this,void 0,void 0,function*(){return Ch(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function EI(t,e,r,n,a){return fc(this,void 0,void 0,function*(){return Ch(t,"DELETE",e,n,a,r)})}var Xn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const bW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wW{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=OI(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Xn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},N4),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?A2:ts)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Xn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:N4.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield A2(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(xn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ts(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new H_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xn(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Xn(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Xn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield ts(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Xn(this,void 0,void 0,function*(){try{const a=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}download(e,r){return Xn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Tm(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(xn(l))return{data:null,error:l};throw l}})}info(e){return Xn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Tm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:S2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}exists(e){return Xn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield xW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n)&&n instanceof N2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Xn(this,void 0,void 0,function*(){try{return{data:yield EI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},bW),r),{prefix:e||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}listV2(e,r){return Xn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const _W="2.12.1",jW={"X-Client-Info":`storage-js/${_W}`};var Wc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class NW{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},jW),r),this.fetch=OI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Wc(this,void 0,void 0,function*(){try{return{data:yield Tm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xn(e))return{data:null,error:e};throw e}})}getBucket(e){return Wc(this,void 0,void 0,function*(){try{return{data:yield Tm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Wc(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Wc(this,void 0,void 0,function*(){try{return{data:yield A2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Wc(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Wc(this,void 0,void 0,function*(){try{return{data:yield EI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}}class SW extends NW{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new wW(this.url,this.headers,e,this.fetch)}}const AW="2.57.4";let yf="";typeof Deno<"u"?yf="deno":typeof document<"u"?yf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yf="react-native":yf="node";const kW={"X-Client-Info":`supabase-js-${yf}/${AW}`},PW={headers:kW},CW={schema:"public"},OW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EW={};var TW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const IW=t=>{let e;return t?e=t:typeof fetch>"u"?e=wI:e=fetch,(...r)=>e(...r)},RW=()=>typeof Headers>"u"?_I:Headers,LW=(t,e,r)=>{const n=IW(r),a=RW();return(i,s)=>TW(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var MW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function DW(t){return t.endsWith("/")?t:t+"/"}function $W(t,e){var r,n;const{db:a,auth:i,realtime:s,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>MW(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function FW(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TI="2.71.1",cu=30*1e3,k2=3,xy=k2*cu,BW="http://localhost:9999",qW="supabase.auth.token",UW={"X-Client-Info":`gotrue-js/${TI}`},P2="X-Supabase-Api-Version",II={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WW=600*1e3;class V_ extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Mt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HW extends V_{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function VW(t){return Mt(t)&&t.name==="AuthApiError"}class RI extends V_{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jo extends V_{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Io extends Jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GW(t){return Mt(t)&&t.name==="AuthSessionMissingError"}class Tp extends Jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ip extends Jo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rp extends Jo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YW(t){return Mt(t)&&t.name==="AuthImplicitGrantRedirectError"}class S4 extends Jo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C2 extends Jo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function by(t){return Mt(t)&&t.name==="AuthRetryableFetchError"}class A4 extends Jo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class O2 extends Jo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Im="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k4=` 	
\r=`.split(""),KW=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<k4.length;e+=1)t[k4[e].charCodeAt(0)]=-2;for(let e=0;e<Im.length;e+=1)t[Im[e].charCodeAt(0)]=e;return t})();function P4(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Im[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Im[n]),e.queuedBits-=6}}function LI(t,e,r){const n=KW[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function C4(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{JW(s,n,r)};for(let s=0;s<t.length;s+=1)LI(t.charCodeAt(s),a,i);return e.join("")}function XW(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ZW(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}XW(n,e)}}function JW(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function QW(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)LI(t.charCodeAt(a),r,n);return new Uint8Array(e)}function eH(t){const e=[];return ZW(t,r=>e.push(r)),new Uint8Array(e)}function tH(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>P4(a,r,n)),P4(null,r,n),e.join("")}function rH(t){return Math.round(Date.now()/1e3)+t}function nH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const bi=()=>typeof window<"u"&&typeof document<"u",Sl={tested:!1,writable:!1},MI=()=>{if(!bi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sl.tested)return Sl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sl.tested=!0,Sl.writable=!0}catch{Sl.tested=!0,Sl.writable=!1}return Sl.writable};function aH(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const DI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ja(async()=>{const{default:n}=await Promise.resolve().then(()=>fd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},iH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Al=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Co=async(t,e)=>{await t.removeItem(e)};class av{constructor(){this.promise=new av.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}av.promiseConstructor=Promise;function wy(t){const e=t.split(".");if(e.length!==3)throw new O2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!zW.test(e[n]))throw new O2("JWT not in base64url format");return{header:JSON.parse(C4(e[0])),payload:JSON.parse(C4(e[1])),signature:QW(e[2]),raw:{header:e[0],payload:e[1]}}}async function sH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oH(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function lH(t){return("0"+t.toString(16)).substr(-2)}function cH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,lH).join("")}async function uH(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function dH(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uH(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hc(t,e,r=!1){const n=cH();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uu(t,`${e}-code-verifier`,a);const i=await dH(n);return[i,n===i?"plain":"s256"]}const fH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hH(t){const e=t.headers.get(P2);if(!e||!e.match(fH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pH(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mH(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vc(t){if(!gH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _y(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function O4(t){return JSON.parse(JSON.stringify(t))}var vH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Ol=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yH=[502,503,504];async function E4(t){var e;if(!iH(t))throw new C2(Ol(t),0);if(yH.includes(t.status))throw new C2(Ol(t),t.status);let r;try{r=await t.json()}catch(i){throw new RI(Ol(i),i)}let n;const a=hH(t);if(a&&a.getTime()>=II["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new A4(Ol(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Io}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new A4(Ol(r),t.status,r.weak_password.reasons);throw new HW(Ol(r),t.status||500,n)}const xH=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function zt(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[P2]||(i[P2]=II["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await bH(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bH(t,e,r,n,a,i){const s=xH(e,n,a,i);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new C2(Ol(c),0)}if(l.ok||await E4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await E4(c)}}function qs(t){var e;let r=null;NH(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=rH(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function T4(t){const e=qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $o(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wH(t){return{data:t,error:null}}function _H(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=vH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function jH(t){return t}function NH(t){return t.access_token&&t.refresh_token&&t.expires_in}const jy=["global","local","others"];var SH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class AH{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=DI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=jy[0]){if(jy.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jy.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$o})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=SH(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_H,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Mt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$o})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:jH});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Mt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Vc(e);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$o})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Vc(e);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$o})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Vc(e);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$o})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vc(e.userId);try{const{data:r,error:n}=await zt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Vc(e.userId),Vc(e.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}function I4(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function kH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gc={debug:!!(globalThis&&MI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $I extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PH extends $I{}async function CH(t,e,r){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PH(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}kH();const OH={url:BW,storageKey:qW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function R4(t,e,r){return await r()}const Yc={};class qf{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qf.nextInstanceID,qf.nextInstanceID+=1,this.instanceID>0&&bi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},OH),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new AH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=DI(a.fetch),this.lock=a.lock||R4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:bi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=CH:this.lock=R4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:MI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=I4(this.memoryStorage)),bi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Yc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Yc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=aH(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),bi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YW(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Mt(r)?{error:r}:{error:new RI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:qs}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Hc(this.storage,this.storageKey)),i=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:qs})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:qs})}else throw new Ip("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:l}=e;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T4})}else if("phone"in e){const{phone:i,password:s,options:l}=e;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T4})}else throw new Ip("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Tp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,l,c,u,d,f,p,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:x,statement:j,options:w}=e;let _;if(bi())if(typeof x=="object")_=x;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let k;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")k=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)k=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{const{data:v,error:x}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:tH(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qs});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Tp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Mt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await Al(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qs});if(await Co(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Tp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Mt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,l=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Tp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hc(this.storage,this.storageKey));const{error:f}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ip("You must provide either an email or phone number.")}catch(l){if(Mt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:qs});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Mt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Hc(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:wH})}catch(i){if(Mt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Io;const{error:a}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Mt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:l}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new Ip("You must provide either an email or phone number and a type")}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Al(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=_y()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$o}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Io}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:$o})})}catch(r){if(Mt(r))return GW(r)&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Io;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Hc(this.storage,this.storageKey));const{data:u,error:d}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:$o});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Io;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=wy(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Mt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Io;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!bi())throw new Rp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new S4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new S4("No code detected.");const{data:j,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!s||!u)throw new Rp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const h=p-d;h*1e3<=cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:p,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Mt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(VW(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=nH(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hc(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Mt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return bi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Mt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await oH(async a=>(a>0&&await sH(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qs})),(a,i)=>{const s=200*Math.pow(2,a);return i&&by(i)&&Date.now()+s-n<cu})}catch(n){if(this._debug(r,"error",n),Mt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),bi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Al(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await uu(this.userStorage,this.storageKey+"-user",s)),a.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:_y()}else if(a&&!a.user&&!a.user){const s=await Al(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Co(this.storage,this.storageKey+"-user"),await uu(this.storage,this.storageKey,a)):a.user=_y()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xy;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${xy}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),by(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Io;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new av;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Io;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Mt(i)){const s={session:null,error:i};return by(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=O4(a);await uu(this.storage,this.storageKey,i)}else{const a=O4(r);await uu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Co(this.storage,this.storageKey),await Co(this.storage,this.storageKey+"-code-verifier"),await Co(this.storage,this.storageKey+"-user"),this.userStorage&&await Co(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${cu}ms, refresh threshold is ${k2} ticks`),a<=k2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $I)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Hc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await zt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=wy(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+WW>a)return n;const{data:i,error:s}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=wy(n);r!=null&&r.allowExpired||pH(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:s},error:null}}const d=mH(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,eH(`${l}.${c}`)))throw new O2("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}}qf.nextInstanceID=0;const EH=qf;class TH extends EH{constructor(e){super(e)}}var IH=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class RH{constructor(e,r,n){var a,i,s;this.supabaseUrl=e,this.supabaseKey=r;const l=FW(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:CW,realtime:EW,auth:Object.assign(Object.assign({},OW),{storageKey:c}),global:PW},d=$W(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=LW(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Kz(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new SW(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Fz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return IH(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:l,lock:c,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new TH({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fW(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LH=(t,e,r)=>new RH(t,e,r);function MH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}MH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DH="https://xsgumgcioyaehccvklbr.supabase.co",$H="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZ3VtZ2Npb3lhZWhjY3ZrbGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4MDM2MTIsImV4cCI6MjA3MTM3OTYxMn0.WdjuHdpQglzzCvuEUWOdLl8Z94bK2FQhtJgS2Dlfs5Q",Ce=LH(DH,$H),ra=async()=>{try{const{data:t,error:e}=await Ce.rpc("is_admin");if(e)throw e;return t||!1}catch(t){return console.error("Error checking admin status:",t),!1}},FI=async t=>{try{let e=Ce.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(e=e.eq("category",t));const{data:r,error:n}=await e;if(n)throw n;return r||[]}catch(e){return console.error("Error fetching products:",e),[]}},G_=async t=>{try{if(!await ra())throw new Error("Unauthorized");let r=Ce.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(r=r.eq("category",t));const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching all products:",e),[]}},BI=async t=>{try{if(!await ra())throw new Error("Unauthorized");let r=Ce.from("products").select("*").eq("is_active",!1).order("updated_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching deleted products:",e),[]}},Y_=async t=>{try{const{data:e,error:r}=await Ce.from("products").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){return console.error("Error fetching product:",e),null}},K_=async()=>{try{const{data:{user:t}}=await Ce.auth.getUser();if(!t)return null;const{data:e,error:r}=await Ce.from("cart").select("*").eq("user_id",t.id).single();if(r)throw r;const{data:n,error:a}=await Ce.from("cart_items").select(`
        id,
        quantity,
        size,
        color,
        products (id, name, price, image_url, category)
      `).eq("cart_id",e.id);if(a)throw a;return{...e,items:n||[]}}catch(t){return console.error("Error fetching user cart:",t),null}},E2=async(t,e,r,n=1)=>{try{const{data:{user:a}}=await Ce.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:i,error:s}=await Ce.from("cart").select("id").eq("user_id",a.id).single();if(s)throw s;let l=Ce.from("cart_items").select("id, quantity").eq("cart_id",i.id).eq("product_id",t);e?l=l.eq("size",e):l=l.is("size",null),r?l=l.eq("color",r):l=l.is("color",null);const{data:c,error:u}=await l.single();if(u&&u.code!=="PGRST116")throw u;if(c){const{error:d}=await Ce.from("cart_items").update({quantity:c.quantity+n}).eq("id",c.id);if(d)throw d}else{const{error:d}=await Ce.from("cart_items").insert({cart_id:i.id,product_id:t,size:e||null,color:r||null,quantity:n});if(d)throw d}return!0}catch(a){return console.error("Error adding to cart:",a),!1}},X_=async(t,e,r)=>{try{const{data:{user:n}}=await Ce.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:a,error:i}=await Ce.from("cart").select("id").eq("user_id",n.id).single();if(i)throw i;let s=Ce.from("cart_items").select("id, quantity, size, color").eq("cart_id",a.id).eq("product_id",t);e?s=s.eq("size",e):s=s.is("size",null),r?s=s.eq("color",r):s=s.is("color",null);const{data:l,error:c}=await s.single();if(c&&c.code!=="PGRST116")throw c;return l}catch(n){return console.error("Error finding cart item:",n),null}},qI=async(t,e,r)=>{try{const n=await X_(t,e,r);if(!n)return!1;const{error:a}=await Ce.from("cart_items").delete().eq("id",n.id);if(a)throw a;return!0}catch(n){return console.error("Error removing cart item:",n),!1}},FH=async(t,e,r,n)=>{try{const a=await X_(t,r,n);if(!a)return!1;if(e<=0)return await qI(t,r,n);{const{error:i}=await Ce.from("cart_items").update({quantity:e}).eq("id",a.id);if(i)throw i;return!0}}catch(a){return console.error("Error updating cart item by variant:",a),!1}},UI=async t=>{try{const{data:{user:e}}=await Ce.auth.getUser();if(!e)throw new Error("User not authenticated");const r=await K_();if(!r||!r.items||r.items.length===0)throw new Error("Cart is empty");const{data:n,error:a}=await Ce.rpc("create_order_from_cart",{p_user_id:e.id,p_shipping_address:t});if(a)throw a;return n}catch(e){return console.error("Error creating order:",e),null}},zI=async(t,e,r,n=!1,a)=>{var i;try{let s=null;if(n&&a){const{data:p,error:h}=await Ce.auth.signUp({email:r.email,password:a,options:{data:{name:`${r.firstName} ${r.lastName}`,phone:r.phone}}});h?console.warn("Account creation failed, proceeding as guest:",h):s=(i=p.user)==null?void 0:i.id}const l={user_id:s,status:"pending",total_amount:t.reduce((p,h)=>p+h.product.price*h.quantity,0),shipping_address:e,customer_email:r.email,customer_name:`${r.firstName} ${r.lastName}`,customer_phone:r.phone},{data:c,error:u}=await Ce.from("orders").insert(l).select().single();if(u)throw u;const d=t.map(p=>({order_id:c.id,product_id:p.productId,quantity:p.quantity,price_at_purchase:p.product.price})),{error:f}=await Ce.from("order_items").insert(d);if(f)throw f;return c.id}catch(s){return console.error("Error creating guest order:",s),null}},WI=async()=>{try{const{data:{user:t}}=await Ce.auth.getUser();if(!t)return[];const{data:e,error:r}=await Ce.from("orders").select(`
        id,
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching user orders:",t),[]}},HI=async()=>{try{if(!await ra())throw new Error("Unauthorized");const{data:e,error:r}=await Ce.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching all orders:",t),[]}},VI=async(t,e)=>{try{if(!await ra())throw new Error("Unauthorized");const{error:n}=await Ce.from("orders").update({status:e}).eq("id",t);if(n)throw n;return!0}catch(r){return console.error("Error updating order status:",r),!1}},GI=async t=>{try{if(!await ra())throw new Error("Unauthorized");const{data:r,error:n}=await Ce.from("products").insert(t).select().single();if(n)throw n;return r}catch(e){return console.error("Error creating product:",e),null}},gm=async(t,e)=>{try{if(!await ra())throw new Error("Unauthorized");const{data:n,error:a}=await Ce.from("products").update(e).eq("id",t).select().single();if(a)throw a;return n}catch(r){return console.error("Error updating product:",r),null}},YI=async t=>{try{if(console.log(" DeleteProduct: Starting soft deletion for product:",t),!await ra())throw console.error(" DeleteProduct: User is not admin"),new Error("Unauthorized");console.log(" DeleteProduct: Admin check passed");const r=await Y_(t);if(!r)throw console.error(" DeleteProduct: Product not found"),new Error("Product not found");console.log(" DeleteProduct: Product found:",r.name),console.log(" DeleteProduct: Performing soft delete (setting is_active to false)");const{error:n}=await Ce.from("products").update({is_active:!1}).eq("id",t);if(n)throw console.error(" DeleteProduct: Soft delete failed:",n),n;return console.log(" DeleteProduct: Successfully soft deleted product"),console.log(" DeleteProduct: Product moved to deleted inventory"),!0}catch(e){return console.error(" DeleteProduct: Error during soft delete:",e),!1}},KI=async t=>{try{if(console.log(" RestoreProduct: Starting restore for product:",t),!await ra())throw console.error(" RestoreProduct: User is not admin"),new Error("Unauthorized");const{error:r}=await Ce.from("products").update({is_active:!0}).eq("id",t);if(r)throw console.error(" RestoreProduct: Restore failed:",r),r;return console.log(" RestoreProduct: Successfully restored product"),!0}catch(e){return console.error(" RestoreProduct: Error during restore:",e),!1}},XI=async t=>{try{if(console.log(" PermanentDelete: Starting permanent deletion for product:",t),!await ra())throw console.error(" PermanentDelete: User is not admin"),new Error("Unauthorized");const{error:r}=await Ce.from("products").delete().eq("id",t);if(r)throw console.error(" PermanentDelete: Permanent delete failed:",r),r;return console.log(" PermanentDelete: Successfully permanently deleted product"),!0}catch(e){return console.error(" PermanentDelete: Error during permanent delete:",e),!1}},ZI=async(t,e)=>{try{const{data:r,error:n}=await Ce.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Error updating user profile:",r),null}},JI=async t=>{try{const{data:e,error:r}=await Ce.auth.updateUser({password:t});if(r)throw r;return e}catch(e){return console.error("Error updating user password:",e),null}},QI=async()=>{try{const{data:t,error:e}=await Ce.from("orders").select("total_amount");if(e)throw e;return(t==null?void 0:t.reduce((n,a)=>n+(a.total_amount||0),0))||0}catch(t){return console.error("Error fetching total revenue:",t),0}},e8=async()=>{try{const{count:t,error:e}=await Ce.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total orders:",t),0}},t8=async()=>{try{const{count:t,error:e}=await Ce.from("users").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total users:",t),0}},r8=async(t,e)=>{try{const{data:r,error:n}=await Ce.from("orders").select(`
        created_at,
        total_amount
      `).gte("created_at",t).lte("created_at",e);if(n)throw n;const a={};return(r||[]).forEach(s=>{const l=new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});a[l]||(a[l]={sales:0,orders:0}),a[l].sales+=s.total_amount,a[l].orders+=1}),Object.entries(a).map(([s,l])=>({month:s,sales:l.sales,orders_count:l.orders}))}catch(r){return console.error("Error fetching sales data:",r),[]}},n8=async()=>{try{const{data:t,error:e}=await Ce.from("products").select("category");if(e)throw e;const r={};(t||[]).forEach(i=>{const s=i.category||"Uncategorized";r[s]=(r[s]||0)+1});const n=Object.values(r).reduce((i,s)=>i+s,0);return Object.entries(r).map(([i,s])=>({category_name:i,product_count:s,percentage:Math.round(s/n*100*100)/100}))}catch(t){return console.error("Error fetching category distribution:",t),[]}},a8=async(t=10)=>{try{const{data:e,error:r}=await Ce.from("orders").select(`
        id,
        total_amount,
        status,
        created_at,
        users!inner (
          email,
          name
        )
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e==null?void 0:e.map(a=>{var i,s;return{order_id:a.id,customer_email:((i=a.users)==null?void 0:i.email)||"N/A",customer_name:((s=a.users)==null?void 0:s.name)||"N/A",amount:a.total_amount,status:a.status,order_date:a.created_at}}))||[]}catch(e){return console.error("Error fetching recent orders:",e),[]}},i8=async(t=30)=>{try{const e=new Date,r=new Date(e.getTime()-t*24*60*60*1e3),n=new Date(e.getTime()-t*2*24*60*60*1e3),a=new Date(e.getTime()-t*24*60*60*1e3),{data:i,error:s}=await Ce.from("orders").select("total_amount").gte("created_at",r.toISOString());if(s)throw s;const l=(i==null?void 0:i.reduce((p,h)=>p+(h.total_amount||0),0))||0,{data:c,error:u}=await Ce.from("orders").select("total_amount").gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(u)throw u;const d=(c==null?void 0:c.reduce((p,h)=>p+(h.total_amount||0),0))||0,f=d===0?l>0?100:0:Math.round((l-d)/d*100*100)/100;return{current_period_revenue:l,previous_period_revenue:d,growth_percentage:f}}catch(e){return console.error("Error fetching revenue growth:",e),{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}},s8=async t=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can delete orders");const{error:r}=await Ce.from("orders").update({deleted_at:new Date().toISOString()}).eq("id",t).is("deleted_at",null);if(r)throw r;return!0}catch(e){return console.error("Error soft deleting order:",e),!1}},o8=async t=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can restore orders");const{error:r}=await Ce.from("orders").update({deleted_at:null}).eq("id",t).not("deleted_at","is",null);if(r)throw r;return!0}catch(e){return console.error("Error restoring order:",e),!1}},l8=async t=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can permanently delete orders");const{error:r}=await Ce.from("order_items").delete().eq("order_id",t);if(r)throw r;const{error:n}=await Ce.from("orders").delete().eq("id",t);if(n)throw n;return!0}catch(e){return console.error("Error permanently deleting order:",e),!1}},c8=async()=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can view deleted orders");const{data:e,error:r}=await Ce.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        updated_at,
        deleted_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).not("deleted_at","is",null).order("deleted_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching deleted orders:",t),[]}},Lp=Object.freeze(Object.defineProperty({__proto__:null,addToCart:E2,createGuestOrder:zI,createOrderFromCart:UI,createProduct:GI,deleteProduct:YI,findCartItem:X_,getAllOrders:HI,getAllProducts:G_,getCategoryDistribution:n8,getDeletedOrders:c8,getDeletedProducts:BI,getProduct:Y_,getProducts:FI,getRecentOrders:a8,getRevenueGrowth:i8,getSalesData:r8,getTotalOrders:e8,getTotalRevenue:QI,getTotalUsers:t8,getUserCart:K_,getUserOrders:WI,isAdmin:ra,permanentlyDeleteOrder:l8,permanentlyDeleteProduct:XI,removeCartItem:qI,restoreOrder:o8,restoreProduct:KI,softDeleteOrder:s8,supabase:Ce,updateCartItemByVariant:FH,updateOrderStatus:VI,updateProduct:gm,updateUserPassword:JI,updateUserProfile:ZI},Symbol.toStringTag,{value:"Module"})),u8=S.createContext(void 0),BH=({children:t})=>{const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),l=async d=>{try{a(!0),s(null);const p=(await FI(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Ce.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Ce.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching products:",f),s("Failed to load products")}finally{a(!1)}},c=async d=>{try{a(!0),s(null);const p=(await G_(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Ce.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Ce.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching all products:",f),s("Failed to load products")}finally{a(!1)}},u=async d=>{try{a(!0),s(null);const f=await Y_(d);if(!f)return null;let p=[];if(f.images&&Array.isArray(f.images)&&f.images.length>0)p=f.images.filter(g=>g&&typeof g=="string"&&g.trim()!=="").map(g=>{if(g.startsWith("http"))return g;const m=g.startsWith("/")?g.substring(1):g;return Ce.storage.from("product-images").getPublicUrl(m).data.publicUrl});else if(f.image_url&&typeof f.image_url=="string"&&f.image_url.trim()!==""){const g=f.image_url;if(g.startsWith("http"))p=[g];else{const m=g.startsWith("/images/")?g.substring(8):g.startsWith("/")?g.substring(1):g;p=[Ce.storage.from("product-images").getPublicUrl(m).data.publicUrl]}}else p=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:f.id,name:f.name,category:f.category,price:f.price,images:p,sizes:f.sizes||["S","M","L"],colors:f.colors||["Black","White"],description:f.description||"",reviews:[],rating:4.5,inStock:f.in_stock??!0,originalPrice:f.original_price||void 0}}catch(f){return console.error("Error fetching product:",f),s("Failed to load product"),null}finally{a(!1)}};return S.useEffect(()=>{l()},[]),o.jsx(u8.Provider,{value:{products:e,loading:n,error:i,fetchProducts:l,fetchAllProducts:c,fetchProduct:u},children:t})},Oh=()=>{const t=S.useContext(u8);if(t===void 0)throw new Error("useProducts must be used within a ProductProvider");return t},d8=S.createContext(void 0),qH=({children:t})=>{const[e,r]=S.useState(null),[n,a]=S.useState(!0),[i,s]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,p]=S.useState(!1),h=S.useRef(!1),g=S.useRef(!1),m=S.useCallback(async()=>{var A,k;if(h.current){console.log("fetchUser: Already fetching, skipping...");return}console.log("fetchUser: Starting"),h.current=!0;try{a(!0),s(null),console.log("fetchUser: Getting auth user from Supabase");const{data:{user:O}}=await Ce.auth.getUser();console.log("fetchUser: Checking admin status");const T=await ra();if(console.log(`fetchUser: Admin status is ${T}`),O){console.log(`fetchUser: Auth user found with ID: ${O.id}`),d(O.email_confirmed_at!==null),console.log('fetchUser: Fetching user profile from "users" table');const{data:R,error:P}=await Ce.from("users").select("*").eq("id",O.id).single();if(P&&P.code!=="PGRST116")throw console.error("fetchUser: Error fetching user profile:",P),P;console.log("fetchUser: User profile data:",R);const I={id:O.id,email:O.email??"",name:(R==null?void 0:R.name)??((A=O.user_metadata)==null?void 0:A.name)??"New User",phone:(R==null?void 0:R.phone)??((k=O.user_metadata)==null?void 0:k.phone)??void 0,membershipTier:"Bronze",points:0,created_at:R==null?void 0:R.created_at,preferences:{sizes:[],colors:[],styles:[]}};console.log("fetchUser: User state transformed and ready to be set:",I),r(I),c(T)}else console.log("fetchUser: No auth user found. Clearing user state."),r(null),c(!1),d(!1)}catch(O){console.error("Error in fetchUser:",O),s(O.message||"Failed to load user data"),r(null),c(!1)}finally{console.log("fetchUser: Finished"),a(!1),h.current=!1}},[]),v=async(A,k)=>{console.log("signIn: Starting"),a(!0),s(null);try{console.log("signIn: Calling Supabase signInWithPassword");const{data:O,error:T}=await Ce.auth.signInWithPassword({email:A,password:k});if(console.log("signIn: Supabase call returned."),console.log("signIn: Data:",O),console.log("signIn: Error:",T),T)throw console.error("signIn: Supabase auth error:",T),T;return console.log("signIn: Supabase sign-in appears successful. Waiting for auth state change."),!0}catch(O){return console.error("Error in signIn:",O),s(O.message||"Failed to sign in"),!1}finally{console.log("signIn: Finished"),a(!1)}},x=async(A,k,O)=>{try{a(!0),s(null);const{error:T}=await Ce.auth.signUp({email:A,password:k,options:{data:{name:O}}});if(T)throw T;return!0}catch(T){return console.error("Error signing up:",T),s(T.message||"Failed to sign up"),!1}finally{a(!1)}},j=async()=>{console.log("signOut: Starting logout process"),g.current=!0;try{a(!0),console.log("signOut: Calling supabase.auth.signOut()");const{error:A}=await Ce.auth.signOut();if(A)throw console.error("signOut: Supabase sign out error:",A),A;console.log("signOut: Supabase sign out successful"),console.log("signOut: Clearing local state"),r(null),c(!1),console.log("signOut: Local state cleared")}catch(A){console.error("signOut: Error during logout:",A),s("Failed to sign out")}finally{console.log("signOut: Setting loading to false"),a(!1)}},w=async A=>{try{a(!0),s(null);const{error:k}=await Ce.auth.resetPasswordForEmail(A);if(k)throw k;return!0}catch(k){return console.error("Error resetting password:",k),s(k.message||"Failed to reset password"),!1}finally{a(!1)}},_=async()=>{try{s(null),p(!0);const{data:{user:A}}=await Ce.auth.getUser();if(!A)throw new Error("User not found");const{error:k}=await Ce.auth.resend({type:"signup",email:A.email});if(k)throw k;return!0}catch(A){return console.error("Error resending verification:",A),s(A.message||"Failed to resend verification email"),!1}finally{p(!1)}},N=async()=>{try{const{data:{user:A}}=await Ce.auth.getUser();A&&d(A.email_confirmed_at!==null)}catch(A){console.error("Error checking verification status:",A)}};return S.useEffect(()=>{console.log("AuthContext: Component mounted, resetting logout flag"),g.current=!1},[]),S.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const{data:{subscription:A}}=Ce.auth.onAuthStateChange(async(k,O)=>{if(console.log("AuthContext: Auth state changed:",k,O?"Session exists":"No session"),g.current&&k==="SIGNED_OUT"){console.log("AuthContext: Skipping fetchUser during logout process");return}await m()});return m(),()=>{console.log("AuthContext: Unsubscribing from auth state listener"),A.unsubscribe()}},[m]),o.jsx(d8.Provider,{value:{user:e,loading:n,error:i,isAdmin:l,isEmailVerified:u,pendingVerification:f,signIn:v,signUp:x,signOut:j,resetPassword:w,resendVerification:_,checkVerificationStatus:N},children:t})},Cn=()=>{const t=S.useContext(d8);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Qo(){return o.jsx("div",{className:"h-24 w-full"})}const f8=S.createContext(void 0),UH=({children:t})=>{const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),{user:l}=Cn(),c="rosemama_guest_cart",u=!l,d=()=>{try{const w=localStorage.getItem(c);if(w){const _=JSON.parse(w);r(_)}else r([])}catch(w){console.error("Error loading guest cart:",w),r([])}},f=w=>{try{localStorage.setItem(c,JSON.stringify(w))}catch(_){console.error("Error saving guest cart:",_)}},p=async()=>{if(l&&e.length>0)try{for(const w of e)await E2(w.productId,w.size,w.color,w.quantity);localStorage.removeItem(c),await h()}catch(w){console.error("Error merging guest cart:",w)}},h=async()=>{try{a(!0),s(null);const w=await K_();if(!w){r([]);return}const _=w.items.map(N=>({productId:N.products.id,product:{id:N.products.id,name:N.products.name,category:N.products.category,price:N.products.price,images:N.products.image_url?[N.products.image_url]:[],sizes:["S","M","L"],colors:["Black","White"],description:"",reviews:[],rating:4.5,inStock:!0},size:N.size||"M",color:N.color||"Black",quantity:N.quantity}));r(_)}catch(w){console.error("Error fetching cart:",w),s("Failed to load cart")}finally{a(!1)}},g=async(w,_,N,A)=>{try{if(a(!0),s(null),u){const k={productId:w.id,product:w,size:_,color:N,quantity:A},O=[...e],T=O.findIndex(R=>R.productId===w.id&&R.size===_&&R.color===N);return T>=0?O[T].quantity+=A:O.push(k),r(O),f(O),!0}else{const k=await E2(w.id,_,N,A);return k&&await h(),k}}catch(k){return console.error("Error adding to cart:",k),s("Failed to add item to cart"),!1}finally{a(!1)}},m=async w=>{try{console.log("CartContext removeItem called:",{cartItemId:w,isGuestCart:u}),a(!0),s(null);const{supabase:_}=await Ja(async()=>{const{supabase:k}=await Promise.resolve().then(()=>Lp);return{supabase:k}},void 0),{data:{session:N}}=await _.auth.getSession(),A=N&&N.user;if(console.log("Session check:",{hasValidSession:A,sessionExists:!!N,userExists:!!(N!=null&&N.user)}),A){const[k,O,T]=w.split("|");console.log("Removing from authenticated cart:",{productId:k,size:O,color:T});const{removeCartItem:R}=await Ja(async()=>{const{removeCartItem:I}=await Promise.resolve().then(()=>Lp);return{removeCartItem:I}},void 0),P=await R(k,O,T);return P&&await h(),P}else{const[k,O,T]=w.split("|");console.log("Removing from guest cart (no valid session):",{productId:k,size:O,color:T}),console.log("Current items before filter:",e);const R=e.filter(P=>!(P.productId===k&&P.size===O&&P.color===T));return console.log("Updated items after filter:",R),r(R),f(R),!0}}catch(_){return console.error("Error removing from cart:",_),s("Failed to remove item from cart"),!1}finally{a(!1)}},v=async(w,_)=>{try{console.log("CartContext updateItemQuantity called:",{cartItemId:w,quantity:_,isGuestCart:u}),a(!0),s(null);const{supabase:N}=await Ja(async()=>{const{supabase:O}=await Promise.resolve().then(()=>Lp);return{supabase:O}},void 0),{data:{session:A}}=await N.auth.getSession(),k=A&&A.user;if(console.log("Session check for update:",{hasValidSession:k,sessionExists:!!A,userExists:!!(A!=null&&A.user)}),k){const[O,T,R]=w.split("|");console.log("Updating authenticated cart item:",{productId:O,size:T,color:R,quantity:_});const{updateCartItemByVariant:P}=await Ja(async()=>{const{updateCartItemByVariant:M}=await Promise.resolve().then(()=>Lp);return{updateCartItemByVariant:M}},void 0),I=await P(O,_,T,R);return I&&await h(),I}else{const[O,T,R]=w.split("|");console.log("Updating guest cart item:",{productId:O,size:T,color:R,quantity:_}),console.log("Current items before update:",e);const P=e.map(I=>I.productId===O&&I.size===T&&I.color===R?{...I,quantity:_}:I);return console.log("Updated items after update:",P),r(P),f(P),!0}}catch(N){return console.error("Error updating cart quantity:",N),s("Failed to update cart"),!1}finally{a(!1)}},x=()=>e.reduce((w,_)=>w+_.quantity,0),j=()=>e.reduce((w,_)=>w+_.product.price*_.quantity,0);return S.useEffect(()=>{(async()=>{l?await h():(d(),a(!1))})()},[l]),S.useEffect(()=>{l&&e.length>0&&localStorage.getItem(c)&&p()},[l]),o.jsx(f8.Provider,{value:{items:e,loading:n,error:i,addItem:g,removeItem:m,updateItemQuantity:v,getTotalItems:x,getTotalPrice:j,isGuestCart:u,mergeGuestCartOnLogin:p,fetchCart:h},children:t})},Eh=()=>{const t=S.useContext(f8);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};function h8({onViewProduct:t,onNavigateToCategory:e}){const{products:r}=Oh(),{user:n}=Cn(),{addItem:a}=Eh(),[i,s]=S.useState(new Set);console.log(" Home Component Debug:",{totalProducts:r.length,featuredProductsCount:r.slice(0,4).length,saleProductsCount:r.filter(g=>g.originalPrice&&g.price<g.originalPrice).length,userLoggedIn:!!n,likedProductsCount:i.size});const l=[{name:"Dresses",icon:"",color:"bg-pink-100 dark:bg-pink-900/30"},{name:"Casual",icon:"",color:"bg-blue-100 dark:bg-blue-900/30"},{name:"Shoes",icon:"",color:"bg-purple-100 dark:bg-purple-900/30"},{name:"Outwear",icon:"",color:"bg-orange-100 dark:bg-orange-900/30"},{name:"Party",icon:"",color:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Accessories",icon:"",color:"bg-green-100 dark:bg-green-900/30"}],c=r.slice(0,4),u=r.filter(g=>g.originalPrice).slice(0,3),d=async g=>{try{console.log(" Home: Adding product to cart:",g.id,g.name),await a(g,"M","Default",1)?console.log(" Home: Product added to cart successfully"):console.error(" Home: Failed to add product to cart")}catch(m){console.error(" Home: Error adding product to cart:",m)}},f=g=>{console.log(" Home: Viewing product details:",g.id,g.name),t(g)},p=g=>{console.log(" Home: Toggling wishlist for product:",g.id,g.name),s(m=>{const v=new Set(m);return v.has(g.id)?(v.delete(g.id),console.log(" Home: Removed from wishlist")):(v.add(g.id),console.log(" Home: Added to wishlist")),v})},h=()=>{const g=new Date().getHours(),m=g<12?"Good morning":g<17?"Good afternoon":"Good evening";return n?`${m}, ${n.name.split(" ")[0]}! `:`${m}! Welcome to Rosemama`};return o.jsxs("div",{className:"space-y-8 pb-24",children:[o.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/10 dark:from-primary/10 dark:to-secondary/20 px-6 py-16 rounded-b-3xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-50"}),o.jsxs("div",{className:"container mx-auto text-center space-y-4 relative",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(jf,{className:"h-6 w-6 text-primary animate-pulse"}),o.jsx("span",{className:"text-sm font-medium text-primary bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-full",children:n?"Personalized for You":"Latest Collection"})]}),o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:h()}),o.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto text-lg leading-relaxed",children:n?"Your fashion journey awaits with personalized recommendations tailored just for you.":"Explore our curated collection of premium fashion pieces. Sign in to unlock exclusive rewards and personalized recommendations!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[o.jsxs(be,{onClick:()=>e("All"),size:"lg",className:"group transform hover:scale-105 transition-all duration-300",children:[o.jsx("span",{className:"mr-2",children:"Shop Collection"}),o.jsx(Pm,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),n&&o.jsxs(be,{variant:"outline",size:"lg",onClick:()=>e("Sale"),className:"group transform hover:scale-105 transition-all duration-300",children:[o.jsx("span",{className:"mr-2",children:"View Offers"}),o.jsx(Tu,{className:"h-4 w-4 group-hover:rotate-12 transition-transform"})]})]})]})]}),o.jsxs("div",{className:"px-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Shop by Category"}),o.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:l.map(g=>o.jsxs(be,{variant:"ghost",className:"h-auto p-4 flex-col gap-2 hover:scale-105 transition-transform dark:hover:bg-accent/50",onClick:()=>e(g.name),children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${g.color} flex items-center justify-center text-xl dark:text-foreground`,children:g.icon}),o.jsx("span",{className:"text-xs text-foreground",children:g.name})]},g.name))})]}),o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Tu,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n?"Recommended for You":"Featured Products"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(g=>{var m,v;return console.log(" Home: Rendering featured product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),o.jsxs("div",{className:"h-[480px]",children:[" ",o.jsx(x2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})})]}),u.length>0&&o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-destructive/10 to-orange-100 dark:from-destructive/20 dark:to-orange-900/30 rounded-2xl p-4 md:p-6 lg:p-8 mt-6 md:mt-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-2xl animate-bounce",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg md:text-xl font-semibold text-destructive dark:text-destructive-foreground",children:" Flash Sale"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:" Limited time offers! Ends soon."})]})]}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>{console.log(" Home: View All Flash Sale clicked"),e("All")},className:"dark:border-border dark:hover:bg-accent",children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:u.map(g=>{var m,v;return console.log(" Home: Rendering flash sale product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),o.jsxs("div",{className:"h-[480px]",children:[" ",o.jsx(x2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})}),o.jsx("div",{className:"border-t border-border/50 pt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Up to 70% OFF"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Limited Stock"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Sale ends in 2 days"})]})]})})]})}),o.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Why Shop at Rosemama?"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Discover what makes us your premier fashion destination"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Free Shipping"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Free delivery on Orders over R3500"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Secure Payments"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"100% secure checkout protected"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Curated Collections"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Exclusive fashion pieces selected just for you"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:""}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Premium Quality"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"curated fashion"})]})]})]}),o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-2xl p-4 md:p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"What Our Customers Say"}),o.jsx("p",{className:"text-muted-foreground",children:"Real reviews from verified customers"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(q_,{widgetType:"review-carousel",width:"100%",height:"200",className:"max-w-4xl"})}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/70 dark:bg-card/70 px-6 py-3 rounded-full border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"T"})}),o.jsx("span",{className:"font-semibold text-foreground",children:"Trustpilot"})]}),o.jsx("div",{className:"h-4 w-px bg-border"}),o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Be the first to review us!"}),o.jsx("div",{className:"flex",children:[...Array(5)].map((g,m)=>o.jsx(qr,{className:"h-3 w-3 text-gray-300 dark:text-gray-600"},m))})]})]})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Help other fashion lovers by sharing your experience"}),o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>window.open("https://www.trustpilot.com/review/rosemamaclothing.store","_blank"),className:"bg-green-50 hover:bg-green-100 border-green-200 text-green-700 hover:text-green-800",children:[o.jsx(qr,{className:"h-4 w-4 mr-1"}),"Write a Review"]})]})]})}),o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8",children:[o.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Join Our Fashion Community"}),o.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"Get exclusive access to flash sales, new arrivals, and personalized recommendations"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!n&&o.jsx(be,{size:"lg",onClick:()=>{},className:"group",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Sign In to Get Started"}),o.jsx(Pm,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(be,{variant:"outline",size:"lg",onClick:()=>e("All"),children:"Continue Shopping"})]})]})}),o.jsx(Qo,{})]})}function Re({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function gt({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function vt({className:t,...e}){return o.jsx("h4",{"data-slot":"card-title",className:qe("leading-none",t),...e})}function L4({className:t,...e}){return o.jsx("p",{"data-slot":"card-description",className:qe("text-muted-foreground",t),...e})}function Le({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:qe("px-6 [&:last-child]:pb-6",t),...e})}const zH=P_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,asChild:r=!1,...n}){const a=r?YT:"span";return o.jsx(a,{"data-slot":"badge",className:qe(zH({variant:e}),t),...n})}var WH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=WH.reduce((t,e)=>{const r=Xl(`Primitive.${e}`),n=S.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function HH(t,e){t&&Xg.flushSync(()=>t.dispatchEvent(e))}var VH="Separator",M4="horizontal",GH=["horizontal","vertical"],p8=S.forwardRef((t,e)=>{const{decorative:r,orientation:n=M4,...a}=t,i=YH(n)?n:M4,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(it.div,{"data-orientation":i,...l,...a,ref:e})});p8.displayName=VH;function YH(t){return GH.includes(t)}var KH=p8;function Jn({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return o.jsx(KH,{"data-slot":"separator-root",decorative:r,orientation:e,className:qe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function XH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const ZH=t=>{switch(t){case"success":return eV;case"info":return rV;case"warning":return tV;case"error":return nV;default:return null}},JH=Array(12).fill(0),QH=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},JH.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),eV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aV=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iV=()=>{const[t,e]=K.useState(document.hidden);return K.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let T2=1;class sV{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:T2++,s=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,s;const l=a.then(async u=>{if(s=["resolve",u],K.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(lV(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...g})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,h=typeof d=="object"&&!K.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...h})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||T2++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const la=new sV,oV=(t,e)=>{const r=(e==null?void 0:e.id)||T2++;return la.addToast({title:t,...e,id:r}),r},lV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cV=oV,uV=()=>la.toasts,dV=()=>la.getActiveToasts(),_e=Object.assign(cV,{success:la.success,info:la.info,warning:la.warning,error:la.error,custom:la.custom,message:la.message,promise:la.promise,dismiss:la.dismiss,loading:la.loading},{getHistory:uV,getToasts:dV});XH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mp(t){return t.label!==void 0}const fV=3,hV="24px",pV="16px",D4=4e3,mV=356,gV=14,vV=45,yV=200;function Ji(...t){return t.filter(Boolean).join(" ")}function xV(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const bV=t=>{var e,r,n,a,i,s,l,c,u;const{invert:d,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:m,heights:v,index:x,toasts:j,expanded:w,removeToast:_,defaultRichColors:N,closeButton:A,style:k,cancelButtonStyle:O,actionButtonStyle:T,className:R="",descriptionClassName:P="",duration:I,position:M,gap:D,expandByDefault:G,classNames:F,icons:q,closeButtonAriaLabel:B="Close toast"}=t,[X,J]=K.useState(null),[ie,$]=K.useState(null),[W,H]=K.useState(!1),[ee,le]=K.useState(!1),[oe,de]=K.useState(!1),[se,he]=K.useState(!1),[ge,ue]=K.useState(!1),[Oe,me]=K.useState(0),[te,Ge]=K.useState(0),Ue=K.useRef(f.duration||I||D4),He=K.useRef(null),Pe=K.useRef(null),et=x===0,$e=x+1<=m,Xe=f.type,Ye=f.dismissible!==!1,Wt=f.className||"",xt=f.descriptionClassName||"",bt=K.useMemo(()=>v.findIndex(Be=>Be.toastId===f.id)||0,[v,f.id]),rr=K.useMemo(()=>{var Be;return(Be=f.closeButton)!=null?Be:A},[f.closeButton,A]),Pt=K.useMemo(()=>f.duration||I||D4,[f.duration,I]),st=K.useRef(0),ft=K.useRef(0),lt=K.useRef(0),Gt=K.useRef(null),[Yt,at]=M.split("-"),kt=K.useMemo(()=>v.reduce((Be,xr,Kt)=>Kt>=bt?Be:Be+xr.height,0),[v,bt]),nr=iV(),ht=f.invert||d,qt=Xe==="loading";ft.current=K.useMemo(()=>bt*D+kt,[bt,kt]),K.useEffect(()=>{Ue.current=Pt},[Pt]),K.useEffect(()=>{H(!0)},[]),K.useEffect(()=>{const Be=Pe.current;if(Be){const xr=Be.getBoundingClientRect().height;return Ge(xr),g(Kt=>[{toastId:f.id,height:xr,position:f.position},...Kt]),()=>g(Kt=>Kt.filter(Fr=>Fr.toastId!==f.id))}},[g,f.id]),K.useLayoutEffect(()=>{if(!W)return;const Be=Pe.current,xr=Be.style.height;Be.style.height="auto";const Kt=Be.getBoundingClientRect().height;Be.style.height=xr,Ge(Kt),g(Fr=>Fr.find(ze=>ze.toastId===f.id)?Fr.map(ze=>ze.toastId===f.id?{...ze,height:Kt}:ze):[{toastId:f.id,height:Kt,position:f.position},...Fr])},[W,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const pt=K.useCallback(()=>{le(!0),me(ft.current),g(Be=>Be.filter(xr=>xr.toastId!==f.id)),setTimeout(()=>{_(f)},yV)},[f,_,g,ft]);K.useEffect(()=>{if(f.promise&&Xe==="loading"||f.duration===1/0||f.type==="loading")return;let Be;return w||h||nr?(()=>{if(lt.current<st.current){const Fr=new Date().getTime()-st.current;Ue.current=Ue.current-Fr}lt.current=new Date().getTime()})():(()=>{Ue.current!==1/0&&(st.current=new Date().getTime(),Be=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),pt()},Ue.current))})(),()=>clearTimeout(Be)},[w,h,f,Xe,nr,pt]),K.useEffect(()=>{f.delete&&(pt(),f.onDismiss==null||f.onDismiss.call(f,f))},[pt,f.delete]);function $r(){var Be;if(q!=null&&q.loading){var xr;return K.createElement("div",{className:Ji(F==null?void 0:F.loader,f==null||(xr=f.classNames)==null?void 0:xr.loader,"sonner-loader"),"data-visible":Xe==="loading"},q.loading)}return K.createElement(QH,{className:Ji(F==null?void 0:F.loader,f==null||(Be=f.classNames)==null?void 0:Be.loader),visible:Xe==="loading"})}const Gr=f.icon||(q==null?void 0:q[Xe])||ZH(Xe);var ar,wt;return K.createElement("li",{tabIndex:0,ref:Pe,className:Ji(R,Wt,F==null?void 0:F.toast,f==null||(e=f.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Xe],f==null||(r=f.classNames)==null?void 0:r[Xe]),"data-sonner-toast":"","data-rich-colors":(ar=f.richColors)!=null?ar:N,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":W,"data-promise":!!f.promise,"data-swiped":ge,"data-removed":ee,"data-visible":$e,"data-y-position":Yt,"data-x-position":at,"data-index":x,"data-front":et,"data-swiping":oe,"data-dismissible":Ye,"data-type":Xe,"data-invert":ht,"data-swipe-out":se,"data-swipe-direction":ie,"data-expanded":!!(w||G&&W),"data-testid":f.testId,style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${ee?Oe:ft.current}px`,"--initial-height":G?"auto":`${te}px`,...k,...f.style},onDragEnd:()=>{de(!1),J(null),Gt.current=null},onPointerDown:Be=>{Be.button!==2&&(qt||!Ye||(He.current=new Date,me(ft.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(de(!0),Gt.current={x:Be.clientX,y:Be.clientY})))},onPointerUp:()=>{var Be,xr,Kt;if(se||!Ye)return;Gt.current=null;const Fr=Number(((Be=Pe.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hn=Number(((xr=Pe.current)==null?void 0:xr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ze=new Date().getTime()-((Kt=He.current)==null?void 0:Kt.getTime()),Ur=X==="x"?Fr:Hn,na=Math.abs(Ur)/ze;if(Math.abs(Ur)>=vV||na>.11){me(ft.current),f.onDismiss==null||f.onDismiss.call(f,f),$(X==="x"?Fr>0?"right":"left":Hn>0?"down":"up"),pt(),he(!0);return}else{var Ir,Rr;(Ir=Pe.current)==null||Ir.style.setProperty("--swipe-amount-x","0px"),(Rr=Pe.current)==null||Rr.style.setProperty("--swipe-amount-y","0px")}ue(!1),de(!1),J(null)},onPointerMove:Be=>{var xr,Kt,Fr;if(!Gt.current||!Ye||((xr=window.getSelection())==null?void 0:xr.toString().length)>0)return;const ze=Be.clientY-Gt.current.y,Ur=Be.clientX-Gt.current.x;var na;const Ir=(na=t.swipeDirections)!=null?na:xV(M);!X&&(Math.abs(Ur)>1||Math.abs(ze)>1)&&J(Math.abs(Ur)>Math.abs(ze)?"x":"y");let Rr={x:0,y:0};const Cr=br=>1/(1.5+Math.abs(br)/20);if(X==="y"){if(Ir.includes("top")||Ir.includes("bottom"))if(Ir.includes("top")&&ze<0||Ir.includes("bottom")&&ze>0)Rr.y=ze;else{const br=ze*Cr(ze);Rr.y=Math.abs(br)<Math.abs(ze)?br:ze}}else if(X==="x"&&(Ir.includes("left")||Ir.includes("right")))if(Ir.includes("left")&&Ur<0||Ir.includes("right")&&Ur>0)Rr.x=Ur;else{const br=Ur*Cr(Ur);Rr.x=Math.abs(br)<Math.abs(Ur)?br:Ur}(Math.abs(Rr.x)>0||Math.abs(Rr.y)>0)&&ue(!0),(Kt=Pe.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Rr.x}px`),(Fr=Pe.current)==null||Fr.style.setProperty("--swipe-amount-y",`${Rr.y}px`)}},rr&&!f.jsx&&Xe!=="loading"?K.createElement("button",{"aria-label":B,"data-disabled":qt,"data-close-button":!0,onClick:qt||!Ye?()=>{}:()=>{pt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ji(F==null?void 0:F.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(wt=q==null?void 0:q.close)!=null?wt:aV):null,(Xe||f.icon||f.promise)&&f.icon!==null&&((q==null?void 0:q[Xe])!==null||f.icon)?K.createElement("div",{"data-icon":"",className:Ji(F==null?void 0:F.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||$r():null,f.type!=="loading"?Gr:null):null,K.createElement("div",{"data-content":"",className:Ji(F==null?void 0:F.content,f==null||(i=f.classNames)==null?void 0:i.content)},K.createElement("div",{"data-title":"",className:Ji(F==null?void 0:F.title,f==null||(s=f.classNames)==null?void 0:s.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?K.createElement("div",{"data-description":"",className:Ji(P,xt,F==null?void 0:F.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),K.isValidElement(f.cancel)?f.cancel:f.cancel&&Mp(f.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:Be=>{Mp(f.cancel)&&Ye&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Be),pt())},className:Ji(F==null?void 0:F.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,K.isValidElement(f.action)?f.action:f.action&&Mp(f.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Be=>{Mp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Be),!Be.defaultPrevented&&pt())},className:Ji(F==null?void 0:F.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function $4(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wV(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,s=i?"--mobile-offset":"--offset",l=i?pV:hV;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const _V=K.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:g,style:m,visibleToasts:v=fV,toastOptions:x,dir:j=$4(),gap:w=gV,icons:_,containerAriaLabel:N="Notifications"}=e,[A,k]=K.useState([]),O=K.useMemo(()=>n?A.filter(W=>W.toasterId===n):A.filter(W=>!W.toasterId),[A,n]),T=K.useMemo(()=>Array.from(new Set([i].concat(O.filter(W=>W.position).map(W=>W.position)))),[O,i]),[R,P]=K.useState([]),[I,M]=K.useState(!1),[D,G]=K.useState(!1),[F,q]=K.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=K.useRef(null),X=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=K.useRef(null),ie=K.useRef(!1),$=K.useCallback(W=>{k(H=>{var ee;return(ee=H.find(le=>le.id===W.id))!=null&&ee.delete||la.dismiss(W.id),H.filter(({id:le})=>le!==W.id)})},[]);return K.useEffect(()=>la.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{k(H=>H.map(ee=>ee.id===W.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{HT.flushSync(()=>{k(H=>{const ee=H.findIndex(le=>le.id===W.id);return ee!==-1?[...H.slice(0,ee),{...H[ee],...W},...H.slice(ee+1)]:[W,...H]})})})}),[A]),K.useEffect(()=>{if(p!=="system"){q(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:H})=>{q(H?"dark":"light")})}catch{W.addListener(({matches:ee})=>{try{q(ee?"dark":"light")}catch(le){console.error(le)}})}},[p]),K.useEffect(()=>{A.length<=1&&M(!1)},[A]),K.useEffect(()=>{const W=H=>{var ee;if(s.every(de=>H[de]||H.code===de)){var oe;M(!0),(oe=B.current)==null||oe.focus()}H.code==="Escape"&&(document.activeElement===B.current||(ee=B.current)!=null&&ee.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),K.useEffect(()=>{if(B.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,ie.current=!1)}},[B.current]),K.createElement("section",{ref:r,"aria-label":`${N} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((W,H)=>{var ee;const[le,oe]=W.split("-");return O.length?K.createElement("ol",{key:W,dir:j==="auto"?$4():j,tabIndex:-1,ref:B,className:u,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":le,"data-x-position":oe,style:{"--front-toast-height":`${((ee=R[0])==null?void 0:ee.height)||0}px`,"--width":`${mV}px`,"--gap":`${w}px`,...m,...wV(d,f)},onBlur:de=>{ie.current&&!de.currentTarget.contains(de.relatedTarget)&&(ie.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,J.current=de.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{D||M(!1)},onDragEnd:()=>M(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},O.filter(de=>!de.position&&H===0||de.position===W).map((de,se)=>{var he,ge;return K.createElement(bV,{key:de.id,icons:_,index:se,toast:de,defaultRichColors:h,duration:(he=x==null?void 0:x.duration)!=null?he:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:a,visibleToasts:v,closeButton:(ge=x==null?void 0:x.closeButton)!=null?ge:c,interacting:D,position:W,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:$,toasts:O.filter(ue=>ue.position==de.position),heights:R.filter(ue=>ue.position==de.position),setHeights:P,expandByDefault:l,gap:w,expanded:I,swipeDirections:e.swipeDirections})})):null}))});function jV({product:t,onAddToCart:e,onBack:r}){const[n,a]=S.useState(""),[i,s]=S.useState(""),[l,c]=S.useState(1),[u,d]=S.useState(!1),[f,p]=S.useState(0),[h,g]=S.useState(!1),m=S.useRef(null);S.useEffect(()=>{const k=O=>{m.current&&!m.current.contains(O.target)&&g(!1)};return h&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[h]);const v=async()=>{const k={title:t.name,text:`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`,url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(k)?(await navigator.share(k),_e.success("Product shared successfully!")):g(!h)}catch(O){console.error("Error sharing:",O),g(!h)}},x=async()=>{try{await navigator.clipboard.writeText(window.location.href),_e.success("Product link copied to clipboard!"),g(!1)}catch(k){console.error("Clipboard error:",k),_e.error("Unable to copy link. Please copy the URL manually.")}},j=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price} ${window.location.href}`);window.open(`https://wa.me/?text=${k}`,"_blank"),g(!1)},w=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`);window.open(`https://twitter.com/intent/tweet?text=${k}&url=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},_=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},N=()=>{if(!n){_e.error("Please select a size");return}if(!i){_e.error("Please select a color");return}e(t,n,i,l),_e.success("Added to cart successfully!")},A={XS:"Extra Small (0-2)",S:"Small (4-6)",M:"Medium (8-10)",L:"Large (12-14)",XL:"Extra Large (16-18)",XXL:"XXL (20-22)"};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[o.jsxs(be,{variant:"ghost",onClick:r,className:"mb-6 hover:bg-secondary",children:[o.jsx(Zg,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:o.jsx("img",{src:t.images[f]||t.images[0],alt:`${t.name} - Image ${f+1}`,className:"w-full h-full object-cover",loading:"eager"})}),t.originalPrice&&o.jsxs(jt,{className:"absolute top-4 left-4 bg-destructive text-destructive-foreground z-10 shadow-lg",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]}),!t.inStock&&o.jsx(jt,{className:"absolute top-4 right-4 bg-gray-500 text-white z-10 shadow-lg",children:"Out of Stock"})]}),t.images.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.images.map((k,O)=>o.jsx("button",{onClick:()=>{console.log(" ProductDetail: Thumbnail clicked, moving from index",f,"to index",O),p(O)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${f===O?"border-primary shadow-md ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:o.jsx("img",{src:k,alt:`${t.name} ${O+1}`,className:"w-full h-full object-cover",loading:"eager"})},O))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(jt,{variant:"secondary",className:"mb-2",children:t.category}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,O)=>o.jsx(qr,{className:`h-4 w-4 ${O<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},O))}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviews.length," reviews)"]})]}),o.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[o.jsxs("span",{className:"text-3xl font-bold",children:["R",t.price]}),t.originalPrice&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["R",t.originalPrice]}),o.jsxs(jt,{variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]})]}),o.jsx("div",{className:"flex items-center gap-2 mb-6",children:t.inStock?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-sm text-green-600",children:"In Stock"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),o.jsx("span",{className:"text-sm text-red-600",children:"Out of Stock"})]})})]}),o.jsx(Jn,{}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Size"}),o.jsx(be,{variant:"link",className:"text-sm p-0 h-auto",children:"Size Guide"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:t.sizes.map(k=>o.jsx(be,{variant:n===k?"default":"outline",className:"aspect-square",onClick:()=>a(k),children:k},k))}),n&&A[n]&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:A[n]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium mb-3",children:["Color: ",i]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(k=>o.jsxs("button",{onClick:()=>s(k),className:`relative flex items-center gap-2 px-3 py-2 border rounded-lg transition-all ${i===k?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx("div",{className:`w-4 h-4 rounded-full border ${k.toLowerCase()==="black"?"bg-black":k.toLowerCase()==="white"?"bg-white border-gray-300":k.toLowerCase()==="gray"?"bg-gray-400":k.toLowerCase()==="navy"?"bg-blue-900":k.toLowerCase()==="brown"?"bg-amber-800":k.toLowerCase()==="beige"?"bg-amber-100":k.toLowerCase()==="pink"?"bg-pink-400":k.toLowerCase()==="blue"?"bg-blue-500":k.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`}),o.jsx("span",{className:"text-sm",children:k})]},k))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Quantity"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(be,{variant:"outline",size:"icon",onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,children:o.jsx(hI,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-12 text-center font-medium",children:l}),o.jsx(be,{variant:"outline",size:"icon",onClick:()=>c(l+1),disabled:l>=10,children:o.jsx(Wl,{className:"h-4 w-4"})})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(be,{className:"w-full",size:"lg",onClick:N,disabled:!t.inStock,children:[o.jsx($_,{className:"h-4 w-4 mr-2"}),"Add to Cart - R",(t.price*l).toFixed(2)]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(be,{variant:"outline",className:"flex-1",onClick:()=>d(!u),children:[o.jsx(Go,{className:`h-4 w-4 mr-2 ${u?"fill-red-500 text-red-500":""}`}),u?"Saved":"Save"]}),o.jsxs("div",{className:"relative flex-1",ref:m,children:[o.jsxs(be,{variant:"outline",className:"w-full",onClick:v,children:[o.jsx(KU,{className:"h-4 w-4 mr-2"}),"Share"]}),h&&o.jsxs("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border rounded-lg shadow-lg z-10 overflow-hidden",children:[o.jsxs("button",{onClick:x,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx(Vq,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Copy Link"})]}),o.jsxs("button",{onClick:j,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx(ei,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Share on WhatsApp"})]}),o.jsxs("button",{onClick:w,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx("div",{className:"h-4 w-4 bg-blue-400 rounded-sm flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:""})}),o.jsx("span",{className:"text-sm",children:"Share on X (Twitter)"})]}),o.jsxs("button",{onClick:_,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-sm flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),o.jsx("span",{className:"text-sm",children:"Share on Facebook"})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Iu,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Free Shipping"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders over R3500"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Ci,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Collections"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Curated fashion"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Hs,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Secure Payment"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL protected"})]})]})]})]})]}),o.jsxs("div",{className:"mt-12 space-y-8",children:[o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Description"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>Tz(t.id,t.name),className:"flex items-center gap-2",children:[o.jsx(qr,{className:"h-4 w-4"}),"Write a Review"]})})]}),o.jsx(q_,{widgetType:"product-review",productSku:t.id,height:"400px",className:"w-full"}),o.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Reviews are powered by ",o.jsx("span",{className:"font-medium",children:"Trustpilot"})]})]})})]}),o.jsx(Qo,{})]})}function Dt({className:t,type:e,...r}){return o.jsx("input",{type:e,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const NV="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function m8(t){const[e,r]=S.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:s,className:l,...c}=t;return e?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:s,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:NV,alt:"Error loading image",...c,"data-original-url":a})})}):o.jsx("img",{src:a,alt:i,className:l,style:s,...c,onError:n})}function SV({items:t,onUpdateQuantity:e,onRemoveItem:r,onProceedToCheckout:n,onContinueShopping:a}){const[i,s]=S.useState(""),[l,c]=S.useState(null),u=t.reduce((x,j)=>x+j.product.price*j.quantity,0),d=(l==null?void 0:l.amount)||0,f=u*15/115,p=u-f,g=p>=3500?0:110,m=u-d+g,v=()=>{const x={WELCOME10:10,SAVE20:20,MEMBER15:15,FREESHIP:9.99},j=i.toUpperCase();x[j]?(c({code:j,amount:x[j]}),_e.success(`Discount code ${j} applied!`)):_e.error("Invalid discount code")};return t.length===0?o.jsx("div",{className:"container mx-auto px-6 py-12 pb-24",children:o.jsxs("div",{className:"text-center max-w-md mx-auto",children:[o.jsx($_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added anything to your cart yet."}),o.jsx(be,{onClick:a||(()=>window.history.back()),children:"Continue Shopping"})]})}):o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Shopping Cart (",t.length," items)"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(x=>o.jsx(Re,{children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(m8,{src:x.product.images[0],alt:x.product.name,className:"w-24 h-24 object-cover rounded-lg",loading:"eager"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:x.product.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",x.size,"  Color: ",x.color]})]}),o.jsx(be,{variant:"ghost",size:"icon",onClick:()=>r(x.productId,x.size,x.color),children:o.jsx(ro,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(x.productId,x.size,x.color,x.quantity-1),disabled:x.quantity<=1,children:o.jsx(hI,{className:"h-3 w-3"})}),o.jsx("span",{className:"w-8 text-center text-sm",children:x.quantity}),o.jsx(be,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(x.productId,x.size,x.color,x.quantity+1),disabled:x.quantity>=10,children:o.jsx(Wl,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"font-semibold",children:["R",(x.product.price*x.quantity).toFixed(2)]}),x.product.originalPrice&&o.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["R",(x.product.originalPrice*x.quantity).toFixed(2)]})]})]})]})]})})},`${x.productId}-${x.size}-${x.color}`))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(Re,{className:"sticky top-24",children:[o.jsx(gt,{children:o.jsx(vt,{children:"Order Summary"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Discount Code"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Dt,{placeholder:"Enter code",value:i,onChange:x=>s(x.target.value),className:"flex-1"}),o.jsx(be,{variant:"outline",size:"sm",onClick:v,children:o.jsx(gI,{className:"h-4 w-4"})})]}),l&&o.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[o.jsxs("span",{children:["Code: ",l.code]}),o.jsxs("span",{children:["-R",l.amount.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R",p.toFixed(2)]})]}),d>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Discount"}),o.jsxs("span",{children:["-R",d.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:g===0?o.jsx("span",{className:"text-green-600",children:"FREE"}):`R${g.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax (15% VAT)"}),o.jsxs("span",{children:["R",f.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R",m.toFixed(2)]})]}),p<3500&&o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-600",children:["Add R",(3500-p).toFixed(2)," more for FREE shipping!"]})}),o.jsx(be,{className:"w-full",size:"lg",onClick:n,children:"Proceed to Checkout"}),o.jsx("div",{className:"text-center",children:o.jsx(be,{variant:"link",onClick:a||(()=>window.history.back()),children:"Continue Shopping"})})]})]})})]}),o.jsx(Qo,{})]})}var AV="Label",g8=S.forwardRef((t,e)=>o.jsx(it.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));g8.displayName=AV;var kV=g8;function Et({className:t,...e}){return o.jsx(kV,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function PV(t,e){const r=S.createContext(e),n=i=>{const{children:s,...l}=i,c=S.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=t+"Provider";function a(i){const s=S.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Mn(t,e=[]){let r=[];function n(i,s){const l=S.createContext(s),c=r.length;r=[...r,s];const u=f=>{var x;const{scope:p,children:h,...g}=f,m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,v=S.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:h})};u.displayName=i+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=S.useContext(h);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>S.createContext(s));return function(l){const c=(l==null?void 0:l[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,CV(a,...e)]}function CV(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Wn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var nn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},Ny={exports:{}},Sy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4;function OV(){if(F4)return Sy;F4=1;var t=WT();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),m=g[0].inst,v=g[1];return i(function(){m.value=h,m.getSnapshot=p,c(m)&&v({inst:m})},[f,h,p]),a(function(){return c(m)&&v({inst:m}),f(function(){c(m)&&v({inst:m})})},[f]),s(h),h}function c(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Sy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Sy}var B4;function EV(){return B4||(B4=1,Ny.exports=OV()),Ny.exports}var TV=EV();function IV(){return TV.useSyncExternalStore(RV,()=>!0,()=>!1)}function RV(){return()=>{}}var Z_="Avatar",[LV,Pwe]=Mn(Z_),[MV,v8]=LV(Z_),y8=S.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=S.useState("idle");return o.jsx(MV,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(it.span,{...n,ref:e})})});y8.displayName=Z_;var x8="AvatarImage",DV=S.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=v8(x8,r),l=$V(n,i),c=Wn(u=>{a(u),s.onImageLoadingStatusChange(u)});return nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(it.img,{...i,ref:e,src:n}):null});DV.displayName=x8;var b8="AvatarFallback",w8=S.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=v8(b8,r),[s,l]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(it.span,{...a,ref:e}):null});w8.displayName=b8;function q4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $V(t,{referrerPolicy:e,crossOrigin:r}){const n=IV(),a=S.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,l]=S.useState(()=>q4(i,t));return nn(()=>{l(q4(i,t))},[i,t]),nn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,e]),s}var FV=y8,BV=w8;function _8({className:t,...e}){return o.jsx(FV,{"data-slot":"avatar",className:qe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function j8({className:t,...e}){return o.jsx(BV,{"data-slot":"avatar-fallback",className:qe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function dt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}var qV=VT[" useId ".trim().toString()]||(()=>{}),UV=0;function ki(t){const[e,r]=S.useState(qV());return nn(()=>{r(n=>n??String(UV++))},[t]),t||(e?`radix-${e}`:"")}var zV=VT[" useInsertionEffect ".trim().toString()]||nn;function ri({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=WV({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=S.useCallback(d=>{var f;if(l){const p=HV(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else i(d)},[l,t,i,s]);return[c,u]}function WV({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),a=S.useRef(r),i=S.useRef(e);return zV(()=>{i.current=e},[e]),S.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function HV(t){return typeof t=="function"}function VV(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t);S.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var GV="DismissableLayer",I2="dismissableLayer.update",YV="dismissableLayer.pointerDownOutside",KV="dismissableLayer.focusOutside",U4,N8=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iv=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=t,u=S.useContext(N8),[d,f]=S.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=S.useState({}),g=Bt(e,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),j=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=j>=x,N=JV(k=>{const O=k.target,T=[...u.branches].some(R=>R.contains(O));!_||T||(a==null||a(k),s==null||s(k),k.defaultPrevented||l==null||l())},p),A=QV(k=>{const O=k.target;[...u.branches].some(R=>R.contains(O))||(i==null||i(k),s==null||s(k),k.defaultPrevented||l==null||l())},p);return VV(k=>{j===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),S.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(U4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),z4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=U4)}},[d,p,r,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),z4())},[d,u]),S.useEffect(()=>{const k=()=>h({});return document.addEventListener(I2,k),()=>document.removeEventListener(I2,k)},[]),o.jsx(it.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:dt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:dt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:dt(t.onPointerDownCapture,N.onPointerDownCapture)})});iv.displayName=GV;var XV="DismissableLayerBranch",ZV=S.forwardRef((t,e)=>{const r=S.useContext(N8),n=S.useRef(null),a=Bt(e,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(it.div,{...t,ref:a})});ZV.displayName=XV;function JV(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t),n=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){S8(YV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function QV(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t),n=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!n.current&&S8(KV,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function z4(){const t=new CustomEvent(I2);document.dispatchEvent(t)}function S8(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?HH(a,i):a.dispatchEvent(i)}var Ay="focusScope.autoFocusOnMount",ky="focusScope.autoFocusOnUnmount",W4={bubbles:!1,cancelable:!0},eG="FocusScope",sv=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[l,c]=S.useState(null),u=Wn(a),d=Wn(i),f=S.useRef(null),p=Bt(e,m=>c(m)),h=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(w){if(h.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Ro(f.current,{select:!0})},v=function(w){if(h.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Ro(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ro(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const j=new MutationObserver(x);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),j.disconnect()}}},[n,l,h.paused]),S.useEffect(()=>{if(l){V4.add(h);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Ay,W4);l.addEventListener(Ay,u),l.dispatchEvent(x),x.defaultPrevented||(tG(sG(A8(l)),{select:!0}),document.activeElement===m&&Ro(l))}return()=>{l.removeEventListener(Ay,u),setTimeout(()=>{const x=new CustomEvent(ky,W4);l.addEventListener(ky,d),l.dispatchEvent(x),x.defaultPrevented||Ro(m??document.body,{select:!0}),l.removeEventListener(ky,d),V4.remove(h)},0)}}},[l,u,d,h]);const g=S.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const j=m.currentTarget,[w,_]=rG(j);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ro(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&Ro(_,{select:!0})):x===j&&m.preventDefault()}},[r,n,h.paused]);return o.jsx(it.div,{tabIndex:-1,...s,ref:p,onKeyDown:g})});sv.displayName=eG;function tG(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ro(n,{select:e}),document.activeElement!==r)return}function rG(t){const e=A8(t),r=H4(e,t),n=H4(e.reverse(),t);return[r,n]}function A8(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function H4(t,e){for(const r of t)if(!nG(r,{upTo:e}))return r}function nG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function aG(t){return t instanceof HTMLInputElement&&"select"in t}function Ro(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&aG(t)&&e&&t.select()}}var V4=iG();function iG(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=G4(t,e),t.unshift(e)},remove(e){var r;t=G4(t,e),(r=t[0])==null||r.resume()}}}function G4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function sG(t){return t.filter(e=>e.tagName!=="A")}var oG="Portal",ov=S.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,i]=S.useState(!1);nn(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?HT.createPortal(o.jsx(it.div,{...n,ref:e}),s):null});ov.displayName=oG;function lG(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var fa=t=>{const{present:e,children:r}=t,n=cG(e),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Bt(n.ref,uG(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};fa.displayName="Presence";function cG(t){const[e,r]=S.useState(),n=S.useRef(null),a=S.useRef(t),i=S.useRef("none"),s=t?"mounted":"unmounted",[l,c]=lG(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Dp(n.current);i.current=l==="mounted"?u:"none"},[l]),nn(()=>{const u=n.current,d=a.current;if(d!==t){const p=i.current,h=Dp(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),nn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const m=Dp(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=h=>{h.target===e&&(i.current=Dp(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dp(t){return(t==null?void 0:t.animationName)||"none"}function uG(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Py=0;function J_(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y4()),document.body.insertAdjacentElement("beforeend",t[1]??Y4()),Py++,()=>{Py===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Py--}},[])}function Y4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ns=function(){return ns=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ns.apply(this,arguments)};function k8(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function dG(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var vm="right-scroll-bar-position",ym="width-before-scroll-bar",fG="with-scroll-bars-hidden",hG="--removed-body-scroll-bar-size";function Cy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pG(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var mG=typeof window<"u"?S.useLayoutEffect:S.useEffect,K4=new WeakMap;function gG(t,e){var r=pG(null,function(n){return t.forEach(function(a){return Cy(a,n)})});return mG(function(){var n=K4.get(r);if(n){var a=new Set(n),i=new Set(t),s=r.current;a.forEach(function(l){i.has(l)||Cy(l,null)}),i.forEach(function(l){a.has(l)||Cy(l,s)})}K4.set(r,t)},[t]),r}function vG(t){return t}function yG(t,e){e===void 0&&(e=vG);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var s=e(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function xG(t){t===void 0&&(t={});var e=yG(null);return e.options=ns({async:!0,ssr:!1},t),e}var P8=function(t){var e=t.sideCar,r=k8(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,ns({},r))};P8.isSideCarExport=!0;function bG(t,e){return t.useMedium(e),P8}var C8=xG(),Oy=function(){},lv=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:Oy,onWheelCapture:Oy,onTouchMoveCapture:Oy}),a=n[0],i=n[1],s=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,x=t.as,j=x===void 0?"div":x,w=t.gapMode,_=k8(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,A=gG([r,e]),k=ns(ns({},_),a);return S.createElement(S.Fragment,null,d&&S.createElement(N,{sideCar:C8,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?S.cloneElement(S.Children.only(l),ns(ns({},k),{ref:A})):S.createElement(j,ns({},k,{className:c,ref:A}),l))});lv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lv.classNames={fullWidth:ym,zeroRight:vm};var wG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _G(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wG();return e&&t.setAttribute("nonce",e),t}function jG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function NG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var SG=function(){var t=0,e=null;return{add:function(r){t==0&&(e=_G())&&(jG(e,r),NG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AG=function(){var t=SG();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},O8=function(){var t=AG(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},kG={left:0,top:0,right:0,gap:0},Ey=function(t){return parseInt(t||"",10)||0},PG=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ey(r),Ey(n),Ey(a)]},CG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kG;var e=PG(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},OG=O8(),wu="data-scroll-locked",EG=function(t,e,r,n){var a=t.left,i=t.top,s=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(fG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ym,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vm," .").concat(vm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ym," .").concat(ym,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wu,`] {
    `).concat(hG,": ").concat(l,`px;
  }
`)},X4=function(){var t=parseInt(document.body.getAttribute(wu)||"0",10);return isFinite(t)?t:0},TG=function(){S.useEffect(function(){return document.body.setAttribute(wu,(X4()+1).toString()),function(){var t=X4()-1;t<=0?document.body.removeAttribute(wu):document.body.setAttribute(wu,t.toString())}},[])},IG=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;TG();var i=S.useMemo(function(){return CG(a)},[a]);return S.createElement(OG,{styles:EG(i,!e,a,r?"":"!important")})},R2=!1;if(typeof window<"u")try{var $p=Object.defineProperty({},"passive",{get:function(){return R2=!0,!0}});window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{R2=!1}var Kc=R2?{passive:!1}:!1,RG=function(t){return t.tagName==="TEXTAREA"},E8=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!RG(t)&&r[e]==="visible")},LG=function(t){return E8(t,"overflowY")},MG=function(t){return E8(t,"overflowX")},Z4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=T8(t,n);if(a){var i=I8(t,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},DG=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},$G=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},T8=function(t,e){return t==="v"?LG(e):MG(e)},I8=function(t,e){return t==="v"?DG(e):$G(e)},FG=function(t,e){return t==="h"&&e==="rtl"?-1:1},BG=function(t,e,r,n,a){var i=FG(t,window.getComputedStyle(e).direction),s=i*n,l=r.target,c=e.contains(l),u=!1,d=s>0,f=0,p=0;do{if(!l)break;var h=I8(t,l),g=h[0],m=h[1],v=h[2],x=m-v-i*g;(g||x)&&T8(t,l)&&(f+=x,p+=g);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Fp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J4=function(t){return[t.deltaX,t.deltaY]},Q4=function(t){return t&&"current"in t?t.current:t},qG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zG=0,Xc=[];function WG(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),a=S.useState(zG++)[0],i=S.useState(O8)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=dG([t.lockRef.current],(t.shards||[]).map(Q4),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var x=Fp(m),j=r.current,w="deltaX"in m?m.deltaX:j[0]-x[0],_="deltaY"in m?m.deltaY:j[1]-x[1],N,A=m.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&A.type==="range")return!1;var O=Z4(k,A);if(!O)return!0;if(O?N=k:(N=k==="v"?"h":"v",O=Z4(k,A)),!O)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=N),!N)return!0;var T=n.current||N;return BG(T,v,m,T==="h"?w:_)},[]),c=S.useCallback(function(m){var v=m;if(!(!Xc.length||Xc[Xc.length-1]!==i)){var x="deltaY"in v?J4(v):Fp(v),j=e.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&qG(N.delta,x)})[0];if(j&&j.should){v.cancelable&&v.preventDefault();return}if(!j){var w=(s.current.shards||[]).map(Q4).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?l(v,w[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=S.useCallback(function(m,v,x,j){var w={name:m,delta:v,target:x,should:j,shadowParent:HG(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=S.useCallback(function(m){r.current=Fp(m),n.current=void 0},[]),f=S.useCallback(function(m){u(m.type,J4(m),m.target,l(m,t.lockRef.current))},[]),p=S.useCallback(function(m){u(m.type,Fp(m),m.target,l(m,t.lockRef.current))},[]);S.useEffect(function(){return Xc.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Kc),document.addEventListener("touchmove",c,Kc),document.addEventListener("touchstart",d,Kc),function(){Xc=Xc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Kc),document.removeEventListener("touchmove",c,Kc),document.removeEventListener("touchstart",d,Kc)}},[]);var h=t.removeScrollBar,g=t.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:UG(a)}):null,h?S.createElement(IG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function HG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const VG=bG(C8,WG);var cv=S.forwardRef(function(t,e){return S.createElement(lv,ns({},t,{ref:e,sideCar:VG}))});cv.classNames=lv.classNames;var GG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zc=new WeakMap,Bp=new WeakMap,qp={},Ty=0,R8=function(t){return t&&(t.host||R8(t.parentNode))},YG=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=R8(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},KG=function(t,e,r,n){var a=YG(e,Array.isArray(t)?t:[t]);qp[r]||(qp[r]=new WeakMap);var i=qp[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",m=(Zc.get(p)||0)+1,v=(i.get(p)||0)+1;Zc.set(p,m),i.set(p,v),s.push(p),m===1&&g&&Bp.set(p,!0),v===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),l.clear(),Ty++,function(){s.forEach(function(f){var p=Zc.get(f)-1,h=i.get(f)-1;Zc.set(f,p),i.set(f,h),p||(Bp.has(f)||f.removeAttribute(n),Bp.delete(f)),h||f.removeAttribute(r)}),Ty--,Ty||(Zc=new WeakMap,Zc=new WeakMap,Bp=new WeakMap,qp={})}},Q_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=GG(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),KG(n,a,r,"aria-hidden")):function(){return null}},uv="Dialog",[L8,M8]=Mn(uv),[XG,$i]=L8(uv),D8=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=t,l=S.useRef(null),c=S.useRef(null),[u,d]=ri({prop:n,defaultProp:a??!1,onChange:i,caller:uv});return o.jsx(XG,{scope:e,triggerRef:l,contentRef:c,contentId:ki(),titleId:ki(),descriptionId:ki(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};D8.displayName=uv;var $8="DialogTrigger",F8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i($8,r),i=Bt(e,a.triggerRef);return o.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rj(a.open),...n,ref:i,onClick:dt(t.onClick,a.onOpenToggle)})});F8.displayName=$8;var ej="DialogPortal",[ZG,B8]=L8(ej,{forceMount:void 0}),q8=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=$i(ej,e);return o.jsx(ZG,{scope:e,forceMount:r,children:S.Children.map(n,s=>o.jsx(fa,{present:r||i.open,children:o.jsx(ov,{asChild:!0,container:a,children:s})}))})};q8.displayName=ej;var Rm="DialogOverlay",U8=S.forwardRef((t,e)=>{const r=B8(Rm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=$i(Rm,t.__scopeDialog);return i.modal?o.jsx(fa,{present:n||i.open,children:o.jsx(QG,{...a,ref:e})}):null});U8.displayName=Rm;var JG=Xl("DialogOverlay.RemoveScroll"),QG=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(Rm,r);return o.jsx(cv,{as:JG,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(it.div,{"data-state":rj(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Jl="DialogContent",z8=S.forwardRef((t,e)=>{const r=B8(Jl,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=$i(Jl,t.__scopeDialog);return o.jsx(fa,{present:n||i.open,children:i.modal?o.jsx(eY,{...a,ref:e}):o.jsx(tY,{...a,ref:e})})});z8.displayName=Jl;var eY=S.forwardRef((t,e)=>{const r=$i(Jl,t.__scopeDialog),n=S.useRef(null),a=Bt(e,r.contentRef,n);return S.useEffect(()=>{const i=n.current;if(i)return Q_(i)},[]),o.jsx(W8,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:dt(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:dt(t.onFocusOutside,i=>i.preventDefault())})}),tY=S.forwardRef((t,e)=>{const r=$i(Jl,t.__scopeDialog),n=S.useRef(!1),a=S.useRef(!1);return o.jsx(W8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),W8=S.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=t,l=$i(Jl,r),c=S.useRef(null),u=Bt(e,c);return J_(),o.jsxs(o.Fragment,{children:[o.jsx(sv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(iv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rj(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(nY,{titleId:l.titleId}),o.jsx(iY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tj="DialogTitle",H8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(tj,r);return o.jsx(it.h2,{id:a.titleId,...n,ref:e})});H8.displayName=tj;var V8="DialogDescription",G8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(V8,r);return o.jsx(it.p,{id:a.descriptionId,...n,ref:e})});G8.displayName=V8;var Y8="DialogClose",K8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(Y8,r);return o.jsx(it.button,{type:"button",...n,ref:e,onClick:dt(t.onClick,()=>a.onOpenChange(!1))})});K8.displayName=Y8;function rj(t){return t?"open":"closed"}var X8="DialogTitleWarning",[rY,Z8]=PV(X8,{contentName:Jl,titleName:tj,docsSlug:"dialog"}),nY=({titleId:t})=>{const e=Z8(X8),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},aY="DialogDescriptionWarning",iY=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z8(aY).contentName}}.`;return S.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},nj=D8,dv=F8,aj=q8,fv=U8,hv=z8,J8=H8,Q8=G8,pv=K8;function Oi({...t}){return o.jsx(nj,{"data-slot":"dialog",...t})}function ij({...t}){return o.jsx(dv,{"data-slot":"dialog-trigger",...t})}function sY({...t}){return o.jsx(aj,{"data-slot":"dialog-portal",...t})}const eR=S.forwardRef(({className:t,...e},r)=>o.jsx(fv,{ref:r,"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9996] bg-black/50",t),...e}));eR.displayName=fv.displayName;const ni=S.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(sY,{"data-slot":"dialog-portal",children:[o.jsx(eR,{}),o.jsxs(hv,{ref:n,"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9996] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,o.jsxs(pv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Zs,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ni.displayName=hv.displayName;function Ei({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function oY({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Ti({className:t,...e}){return o.jsx(J8,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",t),...e})}function lY({className:t,...e}){return o.jsx(Q8,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function fr(t){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(t)}var Ii=Uint8Array,Ta=Uint16Array,sj=Int32Array,oj=new Ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lj=new Ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eA=new Ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tR=function(t,e){for(var r=new Ta(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new sj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},rR=tR(oj,2),cY=rR.b,L2=rR.r;cY[28]=258,L2[258]=28;var uY=tR(lj,0),tA=uY.r,M2=new Ta(32768);for(var Tr=0;Tr<32768;++Tr){var Oo=(Tr&43690)>>1|(Tr&21845)<<1;Oo=(Oo&52428)>>2|(Oo&13107)<<2,Oo=(Oo&61680)>>4|(Oo&3855)<<4,M2[Tr]=((Oo&65280)>>8|(Oo&255)<<8)>>1}var kf=(function(t,e,r){for(var n=t.length,a=0,i=new Ta(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new Ta(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new Ta(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=s[t[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)l[M2[f]>>c]=u}else for(l=new Ta(n),a=0;a<n;++a)t[a]&&(l[a]=M2[s[t[a]-1]++]>>15-t[a]);return l}),Ql=new Ii(288);for(var Tr=0;Tr<144;++Tr)Ql[Tr]=8;for(var Tr=144;Tr<256;++Tr)Ql[Tr]=9;for(var Tr=256;Tr<280;++Tr)Ql[Tr]=7;for(var Tr=280;Tr<288;++Tr)Ql[Tr]=8;var Lm=new Ii(32);for(var Tr=0;Tr<32;++Tr)Lm[Tr]=5;var dY=kf(Ql,9,0),fY=kf(Lm,5,0),nR=function(t){return(t+7)/8|0},hY=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ii(t.subarray(e,r))},Ms=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},nf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Iy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:iR,l:0};if(a==1){var s=new Ii(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(N,A){return N.f-A.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new Ta(p+1),g=D2(r[d-1],h,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(i.sort(function(A,k){return h[k.s]-h[A.s]||A.f-k.f});n<a;++n){var j=i[n].s;if(h[j]>e)m+=x-(1<<g-h[j]),h[j]=e;else break}for(m>>=v;m>0;){var w=i[n].s;h[w]<e?m-=1<<e-h[w]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;h[_]==e&&(--h[_],++m)}g=e}return{t:new Ii(h),l:g}},D2=function(t,e,r){return t.s==-1?Math.max(D2(t.l,e,r+1),D2(t.r,e,r+1)):e[t.s]=r},rA=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ta(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},af=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},aR=function(t,e,r){var n=r.length,a=nR(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},nA=function(t,e,r,n,a,i,s,l,c,u,d){Ms(e,d++,r),++a[256];for(var f=Iy(a,15),p=f.t,h=f.l,g=Iy(i,15),m=g.t,v=g.l,x=rA(p),j=x.c,w=x.n,_=rA(m),N=_.c,A=_.n,k=new Ta(19),O=0;O<j.length;++O)++k[j[O]&31];for(var O=0;O<N.length;++O)++k[N[O]&31];for(var T=Iy(k,7),R=T.t,P=T.l,I=19;I>4&&!R[eA[I-1]];--I);var M=u+5<<3,D=af(a,Ql)+af(i,Lm)+s,G=af(a,p)+af(i,m)+s+14+3*I+af(k,R)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&M<=D&&M<=G)return aR(e,d,t.subarray(c,c+u));var F,q,B,X;if(Ms(e,d,1+(G<D)),d+=2,G<D){F=kf(p,h,0),q=p,B=kf(m,v,0),X=m;var J=kf(R,P,0);Ms(e,d,w-257),Ms(e,d+5,A-1),Ms(e,d+10,I-4),d+=14;for(var O=0;O<I;++O)Ms(e,d+3*O,R[eA[O]]);d+=3*I;for(var ie=[j,N],$=0;$<2;++$)for(var W=ie[$],O=0;O<W.length;++O){var H=W[O]&31;Ms(e,d,J[H]),d+=R[H],H>15&&(Ms(e,d,W[O]>>5&127),d+=W[O]>>12)}}else F=dY,q=Ql,B=fY,X=Lm;for(var O=0;O<l;++O){var ee=n[O];if(ee>255){var H=ee>>18&31;nf(e,d,F[H+257]),d+=q[H+257],H>7&&(Ms(e,d,ee>>23&31),d+=oj[H]);var le=ee&31;nf(e,d,B[le]),d+=X[le],le>3&&(nf(e,d,ee>>5&8191),d+=lj[le])}else nf(e,d,F[ee]),d+=q[ee]}return nf(e,d,F[256]),d+q[256]},pY=new sj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iR=new Ii(0),mY=function(t,e,r,n,a,i){var s=i.z||t.length,l=new Ii(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=pY[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,m=i.p||new Ta(32768),v=i.h||new Ta(g+1),x=Math.ceil(r/3),j=2*x,w=function(me){return(t[me]^t[me+1]<<x^t[me+2]<<j)&g},_=new sj(25e3),N=new Ta(288),A=new Ta(32),k=0,O=0,T=i.i||0,R=0,P=i.w||0,I=0;T+2<s;++T){var M=w(T),D=T&32767,G=v[M];if(m[D]=G,v[M]=D,P<=T){var F=s-T;if((k>7e3||R>24576)&&(F>423||!u)){d=nA(t,c,0,_,N,A,O,R,I,T-I,d),R=k=O=0,I=T;for(var q=0;q<286;++q)N[q]=0;for(var q=0;q<30;++q)A[q]=0}var B=2,X=0,J=h,ie=D-G&32767;if(F>2&&M==w(T-ie))for(var $=Math.min(p,F)-1,W=Math.min(32767,T),H=Math.min(258,F);ie<=W&&--J&&D!=G;){if(t[T+B]==t[T+B-ie]){for(var ee=0;ee<H&&t[T+ee]==t[T+ee-ie];++ee);if(ee>B){if(B=ee,X=ie,ee>$)break;for(var le=Math.min(ie,ee-2),oe=0,q=0;q<le;++q){var de=T-ie+q&32767,se=m[de],he=de-se&32767;he>oe&&(oe=he,G=de)}}}D=G,G=m[D],ie+=D-G&32767}if(X){_[R++]=268435456|L2[B]<<18|tA[X];var ge=L2[B]&31,ue=tA[X]&31;O+=oj[ge]+lj[ue],++N[257+ge],++A[ue],P=T+B,++k}else _[R++]=t[T],++N[t[T]]}}for(T=Math.max(T,P);T<s;++T)_[R++]=t[T],++N[t[T]];d=nA(t,c,u,_,N,A,O,R,I,T-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=m,i.i=T,i.w=P)}else{for(var T=i.w||0;T<s+u;T+=65535){var Oe=T+65535;Oe>=s&&(c[d/8|0]=u,Oe=s),d=aR(c,d+1,t.subarray(T,Oe))}i.i=s}return hY(l,0,n+nR(d)+a)},sR=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},gY=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Ii(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return mY(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},oR=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},vY=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=sR();a.p(e.dictionary),oR(t,2,a.d())}};function $2(t,e){e||(e={});var r=sR();r.p(t);var n=gY(t,e,e.dictionary?6:2,4);return vY(n,e),oR(n,n.length-4,r.d()),n}var yY=typeof TextDecoder<"u"&&new TextDecoder,xY=0;try{yY.decode(iR,{stream:!0}),xY=1}catch{}function bY(t){if(Array.isArray(t))return t}function wY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function aA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _Y(t,e){if(t){if(typeof t=="string")return aA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aA(t,e):void 0}}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iA(t,e){return bY(t)||wY(t,e)||_Y(t,e)||jY()}function sA(t,e="utf8"){return new TextDecoder(e).decode(t)}const NY=new TextEncoder;function SY(t){return NY.encode(t)}const AY=1024*8,kY=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ry={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cj{constructor(e=AY,r={}){Zt(this,"buffer");Zt(this,"byteLength");Zt(this,"byteOffset");Zt(this,"length");Zt(this,"offset");Zt(this,"lastWrittenByte");Zt(this,"littleEndian");Zt(this,"_data");Zt(this,"_mark");Zt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof cj)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Ry[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===kY&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new Ry[r](l.buffer);return this.offset+=n,c.reverse(),c}const s=new Ry[r](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return sA(this.readBytes(e))}decodeText(e=1,r="utf8"){return sA(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(SY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function hd(t){let e=t.length;for(;--e>=0;)t[e]=0}const PY=3,CY=258,lR=29,OY=256,EY=OY+1+lR,cR=30,TY=512,IY=new Array((EY+2)*2);hd(IY);const RY=new Array(cR*2);hd(RY);const LY=new Array(TY);hd(LY);const MY=new Array(CY-PY+1);hd(MY);const DY=new Array(lR);hd(DY);const $Y=new Array(cR);hd($Y);const FY=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var F2=FY;const BY=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},qY=new Uint32Array(BY()),UY=(t,e,r,n)=>{const a=qY,i=n+r;t^=-1;for(let s=n;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var Qi=UY,B2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const zY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var WY=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)zY(r,n)&&(t[n]=r[n])}}return t},HY=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let s=t[n];r.set(s,a),a+=s.length}return r},dR={assign:WY,flattenChunks:HY};let fR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{fR=!1}const Uf=new Uint8Array(256);for(let t=0;t<256;t++)Uf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Uf[254]=Uf[254]=1;var VY=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,s=t.length,l=0;for(a=0;a<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const GY=(t,e)=>{if(e<65534&&t.subarray&&fR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var YY=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=t[n++];if(s<128){i[a++]=s;continue}let l=Uf[s];if(l>4){i[a++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return GY(i,a)},KY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Uf[t[r]]>e?r:e},q2={string2buf:VY,buf2string:YY,utf8border:KY};function XY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ZY=XY;const Up=16209,JY=16191;var QY=function(e,r){let n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,w,_,N,A,k,O,T,R;const P=e.state;n=e.next_in,T=e.input,a=n+(e.avail_in-5),i=e.next_out,R=e.output,s=i-(r-e.avail_out),l=i+(e.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,p=P.window,h=P.hold,g=P.bits,m=P.lencode,v=P.distcode,x=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),w=m[h&x];t:for(;;){if(_=w>>>24,h>>>=_,g-=_,_=w>>>16&255,_===0)R[i++]=w&65535;else if(_&16){N=w&65535,_&=15,_&&(g<_&&(h+=T[n++]<<g,g+=8),N+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),w=v[h&j];r:for(;;){if(_=w>>>24,h>>>=_,g-=_,_=w>>>16&255,_&16){if(A=w&65535,_&=15,g<_&&(h+=T[n++]<<g,g+=8,g<_&&(h+=T[n++]<<g,g+=8)),A+=h&(1<<_)-1,A>c){e.msg="invalid distance too far back",P.mode=Up;break e}if(h>>>=_,g-=_,_=i-s,A>_){if(_=A-_,_>d&&P.sane){e.msg="invalid distance too far back",P.mode=Up;break e}if(k=0,O=p,f===0){if(k+=u-_,_<N){N-=_;do R[i++]=p[k++];while(--_);k=i-A,O=R}}else if(f<_){if(k+=u+f-_,_-=f,_<N){N-=_;do R[i++]=p[k++];while(--_);if(k=0,f<N){_=f,N-=_;do R[i++]=p[k++];while(--_);k=i-A,O=R}}}else if(k+=f-_,_<N){N-=_;do R[i++]=p[k++];while(--_);k=i-A,O=R}for(;N>2;)R[i++]=O[k++],R[i++]=O[k++],R[i++]=O[k++],N-=3;N&&(R[i++]=O[k++],N>1&&(R[i++]=O[k++]))}else{k=i-A;do R[i++]=R[k++],R[i++]=R[k++],R[i++]=R[k++],N-=3;while(N>2);N&&(R[i++]=R[k++],N>1&&(R[i++]=R[k++]))}}else if((_&64)===0){w=v[(w&65535)+(h&(1<<_)-1)];continue r}else{e.msg="invalid distance code",P.mode=Up;break e}break}}else if((_&64)===0){w=m[(w&65535)+(h&(1<<_)-1)];continue t}else if(_&32){P.mode=JY;break e}else{e.msg="invalid literal/length code",P.mode=Up;break e}break}}while(n<a&&i<l);N=g>>3,n-=N,g-=N<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),P.hold=h,P.bits=g};const Jc=15,oA=852,lA=592,cA=0,Ly=1,uA=2,eK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aK=(t,e,r,n,a,i,s,l)=>{const c=l.bits;let u=0,d=0,f=0,p=0,h=0,g=0,m=0,v=0,x=0,j=0,w,_,N,A,k,O=null,T;const R=new Uint16Array(Jc+1),P=new Uint16Array(Jc+1);let I=null,M,D,G;for(u=0;u<=Jc;u++)R[u]=0;for(d=0;d<n;d++)R[e[r+d]]++;for(h=c,p=Jc;p>=1&&R[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&R[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Jc;u++)if(v<<=1,v-=R[u],v<0)return-1;if(v>0&&(t===cA||p!==1))return-1;for(P[1]=0,u=1;u<Jc;u++)P[u+1]=P[u]+R[u];for(d=0;d<n;d++)e[r+d]!==0&&(s[P[e[r+d]]++]=d);if(t===cA?(O=I=s,T=20):t===Ly?(O=eK,I=tK,T=257):(O=rK,I=nK,T=0),j=0,d=0,u=f,k=i,g=h,m=0,N=-1,x=1<<h,A=x-1,t===Ly&&x>oA||t===uA&&x>lA)return 1;for(;;){M=u-m,s[d]+1<T?(D=0,G=s[d]):s[d]>=T?(D=I[s[d]-T],G=O[s[d]-T]):(D=96,G=0),w=1<<u-m,_=1<<g,f=_;do _-=w,a[k+(j>>m)+_]=M<<24|D<<16|G|0;while(_!==0);for(w=1<<u-1;j&w;)w>>=1;if(w!==0?(j&=w-1,j+=w):j=0,d++,--R[u]===0){if(u===p)break;u=e[r+s[d]]}if(u>h&&(j&A)!==N){for(m===0&&(m=h),k+=f,g=u-m,v=1<<g;g+m<p&&(v-=R[g+m],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===Ly&&x>oA||t===uA&&x>lA)return 1;N=j&A,a[N]=h<<24|g<<16|k-i|0}}return j!==0&&(a[k+j]=u-m<<24|64<<16|0),l.bits=h,0};var Pf=aK;const iK=0,hR=1,pR=2,{Z_FINISH:dA,Z_BLOCK:sK,Z_TREES:zp,Z_OK:ec,Z_STREAM_END:oK,Z_NEED_DICT:lK,Z_STREAM_ERROR:ai,Z_DATA_ERROR:mR,Z_MEM_ERROR:gR,Z_BUF_ERROR:cK,Z_DEFLATED:fA}=uR,mv=16180,hA=16181,pA=16182,mA=16183,gA=16184,vA=16185,yA=16186,xA=16187,bA=16188,wA=16189,Mm=16190,Ds=16191,My=16192,_A=16193,Dy=16194,jA=16195,NA=16196,SA=16197,AA=16198,Wp=16199,Hp=16200,kA=16201,PA=16202,CA=16203,OA=16204,EA=16205,$y=16206,TA=16207,IA=16208,Lr=16209,vR=16210,yR=16211,uK=852,dK=592,fK=15,hK=fK,RA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function pK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<mv||e.mode>yR?1:0},xR=t=>{if(hc(t))return ai;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=mv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uK),e.distcode=e.distdyn=new Int32Array(dK),e.sane=1,e.back=-1,ec},bR=t=>{if(hc(t))return ai;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,xR(t)},wR=(t,e)=>{let r;if(hc(t))return ai;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ai:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,bR(t))},_R=(t,e)=>{if(!t)return ai;const r=new pK;t.state=r,r.strm=t,r.window=null,r.mode=mv;const n=wR(t,e);return n!==ec&&(t.state=null),n},mK=t=>_R(t,hK);let LA=!0,Fy,By;const gK=t=>{if(LA){Fy=new Int32Array(512),By=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pf(hR,t.lens,0,288,Fy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pf(pR,t.lens,0,32,By,0,t.work,{bits:5}),LA=!1}t.lencode=Fy,t.lenbits=9,t.distcode=By,t.distbits=5},jR=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},vK=(t,e)=>{let r,n,a,i,s,l,c,u,d,f,p,h,g,m,v=0,x,j,w,_,N,A,k,O;const T=new Uint8Array(4);let R,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hc(t)||!t.output||!t.input&&t.avail_in!==0)return ai;r=t.state,r.mode===Ds&&(r.mode=My),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,f=l,p=c,O=ec;e:for(;;)switch(r.mode){case mv:if(r.wrap===0){r.mode=My;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0),u=0,d=0,r.mode=hA;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Lr;break}if((u&15)!==fA){t.msg="unknown compression method",r.mode=Lr;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Lr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?wA:Ds,u=0,d=0;break;case hA:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==fA){t.msg="unknown compression method",r.mode=Lr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Lr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0)),u=0,d=0,r.mode=pA;case pA:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=Qi(r.check,T,4,0)),u=0,d=0,r.mode=mA;case mA:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0)),u=0,d=0,r.mode=gA;case gA:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=vA;case vA:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),k)),r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=yA;case yA:if(r.flags&2048){if(l===0)break e;h=0;do k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,h,i)),l-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xA;case xA:if(r.flags&4096){if(l===0)break e;h=0;do k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,h,i)),l-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=bA;case bA:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Lr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ds;break;case wA:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}t.adler=r.check=RA(u),u=0,d=0,r.mode=Mm;case Mm:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,lK;t.adler=r.check=1,r.mode=Ds;case Ds:if(e===sK||e===zp)break e;case My:if(r.last){u>>>=d&7,d-=d&7,r.mode=$y;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=_A;break;case 1:if(gK(r),r.mode=Wp,e===zp){u>>>=2,d-=2;break e}break;case 2:r.mode=NA;break;case 3:t.msg="invalid block type",r.mode=Lr}u>>>=2,d-=2;break;case _A:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Lr;break}if(r.length=u&65535,u=0,d=0,r.mode=Dy,e===zp)break e;case Dy:r.mode=jA;case jA:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),s),l-=h,i+=h,c-=h,s+=h,r.length-=h;break}r.mode=Ds;break;case NA:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Lr;break}r.have=0,r.mode=SA;case SA:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},O=Pf(iK,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,O){t.msg="invalid code lengths set",r.mode=Lr;break}r.have=0,r.mode=AA;case AA:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,j=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,r.lens[r.have++]=w;else{if(w===16){for(P=x+2;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Lr;break}k=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(w===17){for(P=x+3;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,k=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=x+7;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,k=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Lr;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Lr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Lr;break}if(r.lenbits=9,R={bits:r.lenbits},O=Pf(hR,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,O){t.msg="invalid literal/lengths set",r.mode=Lr;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},O=Pf(pR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,O){t.msg="invalid distances set",r.mode=Lr;break}if(r.mode=Wp,e===zp)break e;case Wp:r.mode=Hp;case Hp:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,QY(t,p),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Ds&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,j=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(j&&(j&240)===0){for(_=x,N=j,A=w;v=r.lencode[A+((u&(1<<_+N)-1)>>_)],x=v>>>24,j=v>>>16&255,w=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,r.length=w,j===0){r.mode=EA;break}if(j&32){r.back=-1,r.mode=Ds;break}if(j&64){t.msg="invalid literal/length code",r.mode=Lr;break}r.extra=j&15,r.mode=kA;case kA:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=PA;case PA:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,j=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((j&240)===0){for(_=x,N=j,A=w;v=r.distcode[A+((u&(1<<_+N)-1)>>_)],x=v>>>24,j=v>>>16&255,w=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,j&64){t.msg="invalid distance code",r.mode=Lr;break}r.offset=w,r.extra=j&15,r.mode=CA;case CA:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Lr;break}r.mode=OA;case OA:if(c===0)break e;if(h=p-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Lr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,g=s-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[s++]=m[g++];while(--h);r.length===0&&(r.mode=Hp);break;case EA:if(c===0)break e;a[s++]=r.length,c--,r.mode=Hp;break;case $y:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Qi(r.check,a,p,s-p):F2(r.check,a,p,s-p)),p=c,r.wrap&4&&(r.flags?u:RA(u))!==r.check){t.msg="incorrect data check",r.mode=Lr;break}u=0,d=0}r.mode=TA;case TA:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Lr;break}u=0,d=0}r.mode=IA;case IA:O=oK;break e;case Lr:O=mR;break e;case vR:return gR;case yR:default:return ai}return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Lr&&(r.mode<$y||e!==dA))&&jR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Qi(r.check,a,p,t.next_out-p):F2(r.check,a,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ds?128:0)+(r.mode===Wp||r.mode===Dy?256:0),(f===0&&p===0||e===dA)&&O===ec&&(O=cK),O},yK=t=>{if(hc(t))return ai;let e=t.state;return e.window&&(e.window=null),t.state=null,ec},xK=(t,e)=>{if(hc(t))return ai;const r=t.state;return(r.wrap&2)===0?ai:(r.head=e,e.done=!1,ec)},bK=(t,e)=>{const r=e.length;let n,a,i;return hc(t)||(n=t.state,n.wrap!==0&&n.mode!==Mm)?ai:n.mode===Mm&&(a=1,a=F2(a,e,r,0),a!==n.check)?mR:(i=jR(t,e,r,r),i?(n.mode=vR,gR):(n.havedict=1,ec))};var wK=bR,_K=wR,jK=xR,NK=mK,SK=_R,AK=vK,kK=yK,PK=xK,CK=bK,OK="pako inflate (from Nodeca project)",Ws={inflateReset:wK,inflateReset2:_K,inflateResetKeep:jK,inflateInit:NK,inflateInit2:SK,inflate:AK,inflateEnd:kK,inflateGetHeader:PK,inflateSetDictionary:CK,inflateInfo:OK};function EK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var TK=EK;const NR=Object.prototype.toString,{Z_NO_FLUSH:IK,Z_FINISH:RK,Z_OK:zf,Z_STREAM_END:qy,Z_NEED_DICT:Uy,Z_STREAM_ERROR:LK,Z_DATA_ERROR:MA,Z_MEM_ERROR:MK}=uR;function Th(t){this.options=dR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZY,this.strm.avail_out=0;let r=Ws.inflateInit2(this.strm,e.windowBits);if(r!==zf)throw new Error(B2[r]);if(this.header=new TK,Ws.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=q2.string2buf(e.dictionary):NR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ws.inflateSetDictionary(this.strm,e.dictionary),r!==zf)))throw new Error(B2[r])}Th.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?RK:IK,NR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Ws.inflate(r,s),i===Uy&&a&&(i=Ws.inflateSetDictionary(r,a),i===zf?i=Ws.inflate(r,s):i===MA&&(i=Uy));r.avail_in>0&&i===qy&&r.state.wrap>0&&t[r.next_in]!==0;)Ws.inflateReset(r),i=Ws.inflate(r,s);switch(i){case LK:case MA:case Uy:case MK:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===qy))if(this.options.to==="string"){let c=q2.utf8border(r.output,r.next_out),u=r.next_out-c,d=q2.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===zf&&l===0)){if(i===qy)return i=Ws.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Th.prototype.onData=function(t){this.chunks.push(t)};Th.prototype.onEnd=function(t){t===zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function DK(t,e){const r=new Th(e);if(r.push(t),r.err)throw r.msg||B2[r.err];return r.result}var $K=Th,FK=DK,BK={Inflate:$K,inflate:FK};const{Inflate:qK,inflate:UK}=BK;var DA=qK,zK=UK;const SR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;SR[t]=e}const $A=4294967295;function WK(t,e,r){let n=t;for(let a=0;a<r;a++)n=SR[(n^e[a])&255]^n>>>8;return n}function HK(t,e){return(WK($A,t,e)^$A)>>>0}function FA(t,e,r){const n=t.readUint32(),a=HK(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function AR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function kR(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function PR(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function CR(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function OR(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+VK(e[i-a],r[i],r[i-a])&255}}function VK(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),s=Math.abs(n-r);return a<=i&&a<=s?t:i<=s?e:r}function GK(t,e,r,n,a,i){switch(t){case 0:AR(e,r,a);break;case 1:kR(e,r,a,i);break;case 2:PR(e,r,n,a);break;case 3:CR(e,r,n,a,i);break;case 4:OR(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const YK=new Uint16Array([255]),KK=new Uint8Array(YK.buffer),XK=KK[0]===255;function ZK(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*l,m=new Uint8Array(g);for(let v=0;v<h;v++){const x=e[u++],j=e.subarray(u,u+g);u+=g;const w=new Uint8Array(g);GK(x,j,w,m,g,l),m.set(w);for(let _=0;_<p;_++){const N=f.x+_*f.xStep,A=f.y+v*f.yStep;if(!(N>=r||A>=n))for(let k=0;k<l;k++)c[(A*r+N)*l+k]=w[_*l+k]}}}if(i===16){const d=new Uint16Array(c.buffer);if(XK)for(let f=0;f<d.length;f++)d[f]=JK(d[f]);return d}else return c}function JK(t){return(t&255)<<8|t>>8&255}const QK=new Uint16Array([255]),eX=new Uint8Array(QK.buffer),tX=eX[0]===255,rX=new Uint8Array(0);function BA(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=rX,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+l),p=c.subarray(h*l,(h+1)*l),e[d]){case 0:AR(f,p,l);break;case 1:kR(f,p,l,s);break;case 2:PR(f,p,u,l);break;case 3:CR(f,p,u,l,s);break;case 4:OR(f,p,u,l,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(tX)for(let g=0;g<h.length;g++)h[g]=nX(h[g]);return h}else return c}function nX(t){return(t&255)<<8|t>>8&255}const xm=Uint8Array.of(137,80,78,71,13,10,26,10);function qA(t){if(!aX(t.readBytes(xm.length)))throw new Error("wrong PNG signature")}function aX(t){if(t.length<xm.length)return!1;for(let e=0;e<xm.length;e++)if(t[e]!==xm[e])return!1;return!0}const iX="tEXt",sX=0,ER=new TextDecoder("latin1");function oX(t){if(cX(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const lX=/^[\u0000-\u00FF]*$/;function cX(t){if(!lX.test(t))throw new Error("invalid latin1 text")}function uX(t,e,r){const n=TR(e);t[n]=dX(e,r-n.length-1)}function TR(t){for(t.mark();t.readByte()!==sX;);const e=t.offset;t.reset();const r=ER.decode(t.readBytes(e-t.offset-1));return t.skip(1),oX(r),r}function dX(t,e){return ER.decode(t.readBytes(e))}const ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},zy={UNKNOWN:-1,DEFLATE:0},UA={UNKNOWN:-1,ADAPTIVE:0},Wy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Vp={NONE:0,BACKGROUND:1,PREVIOUS:2},Hy={SOURCE:0,OVER:1};class fX extends cj{constructor(r,n={}){super(r);Zt(this,"_checkCrc");Zt(this,"_inflator");Zt(this,"_png");Zt(this,"_apng");Zt(this,"_end");Zt(this,"_hasPalette");Zt(this,"_palette");Zt(this,"_hasTransparency");Zt(this,"_transparency");Zt(this,"_compressionMethod");Zt(this,"_filterMethod");Zt(this,"_interlaceMethod");Zt(this,"_colorType");Zt(this,"_isAnimated");Zt(this,"_numberOfFrames");Zt(this,"_numberOfPlays");Zt(this,"_frames");Zt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new DA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=zy.UNKNOWN,this._filterMethod=UA.UNKNOWN,this._interlaceMethod=Wy.UNKNOWN,this._colorType=ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(qA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case iX:uX(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?FA(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?FA(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=hX(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case ja.GREYSCALE:a=1;break;case ja.TRUECOLOUR:a=3;break;case ja.INDEXED_COLOUR:a=1;break;case ja.GREYSCALE_ALPHA:a=2;break;case ja.TRUECOLOUR_ALPHA:a=4;break;case ja.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==zy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ja.GREYSCALE:case ja.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ja.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ja.UNKNOWN:case ja.GREYSCALE_ALPHA:case ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=TR(this),a=this.readUint8();if(a!==zy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:zK(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=BA({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Vp.NONE:break;case Vp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const l=(i*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Vp.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(s,l)=>{const c=((s+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(s*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Hy.SOURCE:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(s,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Hy.OVER:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(s,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==UA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wy.NO_INTERLACE)this._png.data=BA({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wy.ADAM7)this._png.data=ZK({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Vp.NONE,blendOp:Hy.SOURCE,data:r}),this._inflator=new DA,this._writingDataChunks=!1}}function hX(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var zA;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(zA||(zA={}));function pX(t,e){return new fX(t,e).decode()}var St=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Vy(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var vr={log:Vy,warn:function(t){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):Vy.call(null,arguments))},error:function(t){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):Vy(t))}};function Gy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){El(n.response,e,r)},n.onerror=function(){vr.error("could not download file")},n.send()}function WA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Gp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var El=St.saveAs||((typeof window>"u"?"undefined":fr(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=St.URL||St.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?WA(a.href)?Gy(t,e,r):Gp(a,a.target="_blank"):Gp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Gp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(WA(t))Gy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Gp(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:fr(i)!=="object"&&(vr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Gy(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(St.HTMLElement)||St.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":fr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=St.URL||St.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IR(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var bm=St.atob.bind(St),HA=St.btoa.bind(St);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yy(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=$n(r,n,a,i,e[0],7,-680876936),i=$n(i,r,n,a,e[1],12,-389564586),a=$n(a,i,r,n,e[2],17,606105819),n=$n(n,a,i,r,e[3],22,-1044525330),r=$n(r,n,a,i,e[4],7,-176418897),i=$n(i,r,n,a,e[5],12,1200080426),a=$n(a,i,r,n,e[6],17,-1473231341),n=$n(n,a,i,r,e[7],22,-45705983),r=$n(r,n,a,i,e[8],7,1770035416),i=$n(i,r,n,a,e[9],12,-1958414417),a=$n(a,i,r,n,e[10],17,-42063),n=$n(n,a,i,r,e[11],22,-1990404162),r=$n(r,n,a,i,e[12],7,1804603682),i=$n(i,r,n,a,e[13],12,-40341101),a=$n(a,i,r,n,e[14],17,-1502002290),r=Fn(r,n=$n(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Fn(i,r,n,a,e[6],9,-1069501632),a=Fn(a,i,r,n,e[11],14,643717713),n=Fn(n,a,i,r,e[0],20,-373897302),r=Fn(r,n,a,i,e[5],5,-701558691),i=Fn(i,r,n,a,e[10],9,38016083),a=Fn(a,i,r,n,e[15],14,-660478335),n=Fn(n,a,i,r,e[4],20,-405537848),r=Fn(r,n,a,i,e[9],5,568446438),i=Fn(i,r,n,a,e[14],9,-1019803690),a=Fn(a,i,r,n,e[3],14,-187363961),n=Fn(n,a,i,r,e[8],20,1163531501),r=Fn(r,n,a,i,e[13],5,-1444681467),i=Fn(i,r,n,a,e[2],9,-51403784),a=Fn(a,i,r,n,e[7],14,1735328473),r=Bn(r,n=Fn(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Bn(i,r,n,a,e[8],11,-2022574463),a=Bn(a,i,r,n,e[11],16,1839030562),n=Bn(n,a,i,r,e[14],23,-35309556),r=Bn(r,n,a,i,e[1],4,-1530992060),i=Bn(i,r,n,a,e[4],11,1272893353),a=Bn(a,i,r,n,e[7],16,-155497632),n=Bn(n,a,i,r,e[10],23,-1094730640),r=Bn(r,n,a,i,e[13],4,681279174),i=Bn(i,r,n,a,e[0],11,-358537222),a=Bn(a,i,r,n,e[3],16,-722521979),n=Bn(n,a,i,r,e[6],23,76029189),r=Bn(r,n,a,i,e[9],4,-640364487),i=Bn(i,r,n,a,e[12],11,-421815835),a=Bn(a,i,r,n,e[15],16,530742520),r=qn(r,n=Bn(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=qn(i,r,n,a,e[7],10,1126891415),a=qn(a,i,r,n,e[14],15,-1416354905),n=qn(n,a,i,r,e[5],21,-57434055),r=qn(r,n,a,i,e[12],6,1700485571),i=qn(i,r,n,a,e[3],10,-1894986606),a=qn(a,i,r,n,e[10],15,-1051523),n=qn(n,a,i,r,e[1],21,-2054922799),r=qn(r,n,a,i,e[8],6,1873313359),i=qn(i,r,n,a,e[15],10,-30611744),a=qn(a,i,r,n,e[6],15,-1560198380),n=qn(n,a,i,r,e[13],21,1309151649),r=qn(r,n,a,i,e[4],6,-145523070),i=qn(i,r,n,a,e[11],10,-1120210379),a=qn(a,i,r,n,e[2],15,718787259),n=qn(n,a,i,r,e[9],21,-343485551),t[0]=qo(r,t[0]),t[1]=qo(n,t[1]),t[2]=qo(a,t[2]),t[3]=qo(i,t[3])}function gv(t,e,r,n,a,i){return e=qo(qo(e,t),qo(n,i)),qo(e<<a|e>>>32-a,r)}function $n(t,e,r,n,a,i,s){return gv(e&r|~e&n,t,e,a,i,s)}function Fn(t,e,r,n,a,i,s){return gv(e&n|r&~n,t,e,a,i,s)}function Bn(t,e,r,n,a,i,s){return gv(e^r^n,t,e,a,i,s)}function qn(t,e,r,n,a,i,s){return gv(r^(e|~n),t,e,a,i,s)}function RR(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Yy(n,mX(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Yy(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Yy(n,a),n}function mX(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var VA="0123456789abcdef".split("");function gX(t){for(var e="",r=0;r<4;r++)e+=VA[t>>8*r+4&15]+VA[t>>8*r&15];return e}function vX(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function U2(t){return RR(t).map(vX).join("")}var yX=(function(t){for(var e=0;e<t.length;e++)t[e]=gX(t[e]);return t.join("")})(RR("hello"))!="5d41402abc4b2a76b9719d911017c592";function qo(t,e){if(yX){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function z2(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+s.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var f=e.length,p=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=d,s=l[(l[p]+l[h])%256],g+=String.fromCharCode(e.charCodeAt(c)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GA={print:4,modify:8,copy:16,"annot-forms":32};function du(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(GA.perm!==void 0)throw new Error("Invalid permission: "+l);a+=GA[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=U2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=z2(this.encryptionKey,this.padding)}function fu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function YA(t){if(fr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(l){St.console&&vr.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dm(t){if(!(this instanceof Dm))return new Dm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function LR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ml(t,e,r,n,a){if(!(this instanceof Ml))return new Ml(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,LR.call(this,n,a)}function pu(t,e,r,n,a){if(!(this instanceof pu))return new pu(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,LR.call(this,n,a)}function ut(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",d=null;fr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=YA;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(C){g=C};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(C){return v[C]};a=a||"a4";var j="compat",w="advanced",_=j;function N(){this.saveGraphicsState(),te(new ze(ft,0,0,-ft,0,ma()*ft).toString()+" cm"),this.setFontSize(this.getFontSize()/ft),u="n",_=w}function A(){this.restoreGraphicsState(),u="S",_=j}var k=h.__private__.combineFontStyleAndFontWeight=function(C,z){if(C=="bold"&&z=="normal"||C=="bold"&&z==400||C=="normal"&&z=="italic"||C=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(C=z==400||z==="normal"?C==="italic"?"italic":"normal":z!=700&&z!=="bold"||C!=="normal"?(z==700?"bold":z)+""+C:"bold"),C};h.advancedAPI=function(C){var z=_===j;return z&&N.call(this),typeof C!="function"||(C(this),z&&A.call(this)),this},h.compatAPI=function(C){var z=_===w;return z&&A.call(this),typeof C!="function"||(C(this),z&&N.call(this)),this},h.isAdvancedAPI=function(){return _===w};var O,T=function(C){if(_!==w)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=h.roundToPrecision=h.__private__.roundToPrecision=function(C,z){var ae=e||z;if(isNaN(C)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ae).replace(/0+$/,"")};O=h.hpf=h.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,16)};var P=h.f2=h.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return R(C,2)},I=h.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return R(C,3)},M=h.scale=h.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return _===j?C*ft:_===w?C:void 0},D=function(C){return M((function(z){return _===j?ma()-z:_===w?z:void 0})(C))};h.__private__.setPrecision=h.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var G,F="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return F},B=h.__private__.setFileId=function(C){return F=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Yr=new du(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};h.setFileId=function(C){return B(C),this},h.getFileId=function(){return q()};var X=h.__private__.convertDateToPDFDate=function(C){var z=C.getTimezoneOffset(),ae=z<0?"+":"-",ce=Math.floor(Math.abs(z/60)),ve=Math.abs(z%60),Ae=[ae,H(ce),"'",H(ve),"'"].join("");return["D:",C.getFullYear(),H(C.getMonth()+1),H(C.getDate()),H(C.getHours()),H(C.getMinutes()),H(C.getSeconds()),Ae].join("")},J=h.__private__.convertPDFDateToDate=function(C){var z=parseInt(C.substr(2,4),10),ae=parseInt(C.substr(6,2),10)-1,ce=parseInt(C.substr(8,2),10),ve=parseInt(C.substr(10,2),10),Ae=parseInt(C.substr(12,2),10),Te=parseInt(C.substr(14,2),10);return new Date(z,ae,ce,ve,Ae,Te,0)},ie=h.__private__.setCreationDate=function(C){var z;if(C===void 0&&(C=new Date),C instanceof Date)z=X(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=C}return G=z},$=h.__private__.getCreationDate=function(C){var z=G;return C==="jsDate"&&(z=J(G)),z};h.setCreationDate=function(C){return ie(C),this},h.getCreationDate=function(C){return $(C)};var W,H=h.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},ee=h.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},le=0,oe=[],de=[],se=0,he=[],ge=[],ue=!1,Oe=de;h.__private__.setCustomOutputDestination=function(C){ue=!0,Oe=C};var me=function(C){ue||(Oe=C)};h.__private__.resetCustomOutputDestination=function(){ue=!1,Oe=de};var te=h.__private__.out=function(C){return C=C.toString(),se+=C.length+1,Oe.push(C),Oe},Ge=h.__private__.write=function(C){return te(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Ue=h.__private__.getArrayBuffer=function(C){for(var z=C.length,ae=new ArrayBuffer(z),ce=new Uint8Array(ae);z--;)ce[z]=C.charCodeAt(z);return ae},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return He};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(C){return Pe=_===w?C/ft:C,this};var et,$e=h.__private__.getFontSize=h.getFontSize=function(){return _===j?Pe:Pe*ft},Xe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(C){return Xe=C,this},h.__private__.getR2L=h.getR2L=function(){return Xe};var Ye,Wt=h.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))et=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');et=C}else et=parseInt(C,10)};h.__private__.getZoomMode=function(){return et};var xt,bt=h.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ye=C};h.__private__.getPageMode=function(){return Ye};var rr=h.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');xt=C};h.__private__.getLayoutMode=function(){return xt},h.__private__.setDisplayMode=h.setDisplayMode=function(C,z,ae){return Wt(C),rr(z),bt(ae),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(C){if(Object.keys(Pt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[C]},h.__private__.getDocumentProperties=function(){return Pt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(C){for(var z in Pt)Pt.hasOwnProperty(z)&&C[z]&&(Pt[z]=C[z]);return this},h.__private__.setDocumentProperty=function(C,z){if(Object.keys(Pt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[C]=z};var st,ft,lt,Gt,Yt,at={},kt={},nr=[],ht={},qt={},pt={},$r={},Gr=null,ar=0,wt=[],Be=new YA(h),xr=t.hotfixes||[],Kt={},Fr={},Hn=[],ze=function C(z,ae,ce,ve,Ae,Te){if(!(this instanceof C))return new C(z,ae,ce,ve,Ae,Te);isNaN(z)&&(z=1),isNaN(ae)&&(ae=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(Ae)&&(Ae=0),isNaN(Te)&&(Te=0),this._matrix=[z,ae,ce,ve,Ae,Te]};Object.defineProperty(ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ze.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(C)},ze.prototype.multiply=function(C){var z=C.sx*this.sx+C.shy*this.shx,ae=C.sx*this.shy+C.shy*this.sy,ce=C.shx*this.sx+C.sy*this.shx,ve=C.shx*this.shy+C.sy*this.sy,Ae=C.tx*this.sx+C.ty*this.shx+this.tx,Te=C.tx*this.shy+C.ty*this.sy+this.ty;return new ze(z,ae,ce,ve,Ae,Te)},ze.prototype.decompose=function(){var C=this.sx,z=this.shy,ae=this.shx,ce=this.sy,ve=this.tx,Ae=this.ty,Te=Math.sqrt(C*C+z*z),tt=(C/=Te)*ae+(z/=Te)*ce;ae-=C*tt,ce-=z*tt;var ot=Math.sqrt(ae*ae+ce*ce);return tt/=ot,C*(ce/=ot)<z*(ae/=ot)&&(C=-C,z=-z,tt=-tt,Te=-Te),{scale:new ze(Te,0,0,ot,0,0),translate:new ze(1,0,0,1,ve,Ae),rotate:new ze(C,z,-z,C,0,0),skew:new ze(1,0,tt,1,0,0)}},ze.prototype.toString=function(C){return this.join(" ")},ze.prototype.inversed=function(){var C=this.sx,z=this.shy,ae=this.shx,ce=this.sy,ve=this.tx,Ae=this.ty,Te=1/(C*ce-z*ae),tt=ce*Te,ot=-z*Te,Nt=-ae*Te,Lt=C*Te;return new ze(tt,ot,Nt,Lt,-tt*ve-Nt*Ae,-ot*ve-Lt*Ae)},ze.prototype.applyToPoint=function(C){var z=C.x*this.sx+C.y*this.shx+this.tx,ae=C.x*this.shy+C.y*this.sy+this.ty;return new vl(z,ae)},ze.prototype.applyToRectangle=function(C){var z=this.applyToPoint(C),ae=this.applyToPoint(new vl(C.x+C.w,C.y+C.h));return new Dd(z.x,z.y,ae.x-z.x,ae.y-z.y)},ze.prototype.clone=function(){var C=this.sx,z=this.shy,ae=this.shx,ce=this.sy,ve=this.tx,Ae=this.ty;return new ze(C,z,ae,ce,ve,Ae)},h.Matrix=ze;var Ur=h.matrixMult=function(C,z){return z.multiply(C)},na=new ze(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=na;var Ir=function(C,z){if(!qt[C]){var ae=(z instanceof Ml?"Sh":"P")+(Object.keys(ht).length+1).toString(10);z.id=ae,qt[C]=ae,ht[ae]=z,Be.publish("addPattern",z)}};h.ShadingPattern=Ml,h.TilingPattern=pu,h.addShadingPattern=function(C,z){return T("addShadingPattern()"),Ir(C,z),this},h.beginTilingPattern=function(C){T("beginTilingPattern()"),$d(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},h.endTilingPattern=function(C,z){T("endTilingPattern()"),z.stream=ge[W].join(`
`),Ir(C,z),Be.publish("endTilingPattern",z),Hn.pop().restore()};var Rr,Cr=h.__private__.newObject=function(){var C=br();return jn(C,!0),C},br=h.__private__.newObjectDeferred=function(){return le++,oe[le]=function(){return se},le},jn=function(C,z){return z=typeof z=="boolean"&&z,oe[C]=se,z&&te(C+" 0 obj"),C},ll=h.__private__.newAdditionalObject=function(){var C={objId:br(),content:""};return he.push(C),C},po=br(),li=br(),zi=h.__private__.decodeColorString=function(C){var z=C.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ae=parseFloat(z[0]);z=[ae,ae,ae,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(z[ve])).toString(16)).slice(-2);return ce},ci=h.__private__.encodeColorString=function(C){var z;typeof C=="string"&&(C={ch1:C});var ae=C.ch1,ce=C.ch2,ve=C.ch3,Ae=C.ch4,Te=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var tt=new IR(ae);if(tt.ok)ae=tt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var ot=parseInt(ae.substr(1),16);ae=ot>>16&255,ce=ot>>8&255,ve=255&ot}if(ce===void 0||Ae===void 0&&ae===ce&&ce===ve)z=typeof ae=="string"?ae+" "+Te[0]:C.precision===2?P(ae/255)+" "+Te[0]:I(ae/255)+" "+Te[0];else if(Ae===void 0||fr(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Te[1]].join(" ");z=typeof ae=="string"?[ae,ce,ve,Te[1]].join(" "):C.precision===2?[P(ae/255),P(ce/255),P(ve/255),Te[1]].join(" "):[I(ae/255),I(ce/255),I(ve/255),Te[1]].join(" ")}else z=typeof ae=="string"?[ae,ce,ve,Ae,Te[2]].join(" "):C.precision===2?[P(ae),P(ce),P(ve),P(Ae),Te[2]].join(" "):[I(ae),I(ce),I(ve),I(Ae),Te[2]].join(" ");return z},ui=h.__private__.getFilters=function(){return s},qa=h.__private__.putStream=function(C){var z=(C=C||{}).data||"",ae=C.filters||ui(),ce=C.alreadyAppliedFilters||[],ve=C.addLength1||!1,Ae=z.length,Te=C.objectId,tt=function(un){return un};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(tt=Yr.encryptor(Te,0));var ot={};ae===!0&&(ae=["FlateEncode"]);var Nt=C.additionalKeyValues||[],Lt=(ot=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(z,ae):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(ot.data.length!==0&&(Nt.push({key:"Length",value:ot.data.length}),ve===!0&&Nt.push({key:"Length1",value:Ae})),Lt.length!=0)if(Lt.split("/").length-1==1)Nt.push({key:"Filter",value:Lt});else{Nt.push({key:"Filter",value:"["+Lt+"]"});for(var tr=0;tr<Nt.length;tr+=1)if(Nt[tr].key==="DecodeParms"){for(var Br=[],sn=0;sn<ot.reverseChain.split("/").length-1;sn+=1)Br.push("null");Br.push(Nt[tr].value),Nt[tr].value="["+Br.join(" ")+"]"}}te("<<");for(var pr=0;pr<Nt.length;pr++)te("/"+Nt[pr].key+" "+Nt[pr].value);te(">>"),ot.data.length!==0&&(te("stream"),te(tt(ot.data)),te("endstream"))},cl=h.__private__.putPage=function(C){var z=C.number,ae=C.data,ce=C.objId,ve=C.contentsObjId;jn(ce,!0),te("<</Type /Page"),te("/Parent "+C.rootDictionaryObjId+" 0 R"),te("/Resources "+C.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(O(C.mediaBox.bottomLeftX))+" "+parseFloat(O(C.mediaBox.bottomLeftY))+" "+O(C.mediaBox.topRightX)+" "+O(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&te("/CropBox ["+O(C.cropBox.bottomLeftX)+" "+O(C.cropBox.bottomLeftY)+" "+O(C.cropBox.topRightX)+" "+O(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&te("/BleedBox ["+O(C.bleedBox.bottomLeftX)+" "+O(C.bleedBox.bottomLeftY)+" "+O(C.bleedBox.topRightX)+" "+O(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&te("/TrimBox ["+O(C.trimBox.bottomLeftX)+" "+O(C.trimBox.bottomLeftY)+" "+O(C.trimBox.topRightX)+" "+O(C.trimBox.topRightY)+"]"),C.artBox!==null&&te("/ArtBox ["+O(C.artBox.bottomLeftX)+" "+O(C.artBox.bottomLeftY)+" "+O(C.artBox.topRightX)+" "+O(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&te("/UserUnit "+C.userUnit),Be.publish("putPage",{objId:ce,pageContext:wt[z],pageNumber:z,page:ae}),te("/Contents "+ve+" 0 R"),te(">>"),te("endobj");var Ae=ae.join(`
`);return _===w&&(Ae+=`
Q`),jn(ve,!0),qa({data:Ae,filters:ui(),objectId:ve}),te("endobj"),ce},Wi=h.__private__.putPages=function(){var C,z,ae=[];for(C=1;C<=ar;C++)wt[C].objId=br(),wt[C].contentsObjId=br();for(C=1;C<=ar;C++)ae.push(cl({number:C,data:ge[C],objId:wt[C].objId,contentsObjId:wt[C].contentsObjId,mediaBox:wt[C].mediaBox,cropBox:wt[C].cropBox,bleedBox:wt[C].bleedBox,trimBox:wt[C].trimBox,artBox:wt[C].artBox,userUnit:wt[C].userUnit,rootDictionaryObjId:po,resourceDictionaryObjId:li}));jn(po,!0),te("<</Type /Pages");var ce="/Kids [";for(z=0;z<ar;z++)ce+=ae[z]+" 0 R ";te(ce+"]"),te("/Count "+ar),te(">>"),te("endobj"),Be.publish("postPutPages")},ul=function(C){Be.publish("putFont",{font:C,out:te,newObject:Cr,putStream:qa}),C.isAlreadyPutted!==!0&&(C.objectNumber=Cr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+fu(C.postScriptName)),te("/Subtype /Type1"),typeof C.encoding=="string"&&te("/Encoding /"+C.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},bc=function(C){C.objectNumber=Cr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[O(C.x),O(C.y),O(C.x+C.width),O(C.y+C.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ae=C.pages[1].join(`
`);qa({data:ae,additionalKeyValues:z,objectId:C.objectNumber}),te("endobj")},wc=function(C,z){z||(z=21);var ae=Cr(),ce=(function(Te,tt){var ot,Nt=[],Lt=1/(tt-1);for(ot=0;ot<1;ot+=Lt)Nt.push(ot);if(Nt.push(1),Te[0].offset!=0){var tr={offset:0,color:Te[0].color};Te.unshift(tr)}if(Te[Te.length-1].offset!=1){var Br={offset:1,color:Te[Te.length-1].color};Te.push(Br)}for(var sn="",pr=0,un=0;un<Nt.length;un++){for(ot=Nt[un];ot>Te[pr+1].offset;)pr++;var on=Te[pr].offset,En=(ot-on)/(Te[pr+1].offset-on),ks=Te[pr].color,vo=Te[pr+1].color;sn+=ee(Math.round((1-En)*ks[0]+En*vo[0]).toString(16))+ee(Math.round((1-En)*ks[1]+En*vo[1]).toString(16))+ee(Math.round((1-En)*ks[2]+En*vo[2]).toString(16))}return sn.trim()})(C.colors,z),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+z+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qa({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),te("endobj"),C.objectNumber=Cr(),te("<< /ShadingType "+C.type),te("/ColorSpace /DeviceRGB");var Ae="/Coords ["+O(parseFloat(C.coords[0]))+" "+O(parseFloat(C.coords[1]))+" ";C.type===2?Ae+=O(parseFloat(C.coords[2]))+" "+O(parseFloat(C.coords[3])):Ae+=O(parseFloat(C.coords[2]))+" "+O(parseFloat(C.coords[3]))+" "+O(parseFloat(C.coords[4]))+" "+O(parseFloat(C.coords[5])),te(Ae+="]"),C.matrix&&te("/Matrix ["+C.matrix.toString()+"]"),te("/Function "+ae+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},_c=function(C,z){var ae=br(),ce=Cr();z.push({resourcesOid:ae,objectOid:ce}),C.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+C.boundingBox.map(O).join(" ")+"]"}),ve.push({key:"XStep",value:O(C.xStep)}),ve.push({key:"YStep",value:O(C.yStep)}),ve.push({key:"Resources",value:ae+" 0 R"}),C.matrix&&ve.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),qa({data:C.stream,additionalKeyValues:ve,objectId:C.objectNumber}),te("endobj")},O0=function(C){for(var z in C.objectNumber=Cr(),te("<<"),C)switch(z){case"opacity":te("/ca "+P(C[z]));break;case"stroke-opacity":te("/CA "+P(C[z]))}te(">>"),te("endobj")},kd=function(C){jn(C.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in te("/Font <<"),at)at.hasOwnProperty(z)&&(f===!1||f===!0&&p.hasOwnProperty(z))&&te("/"+z+" "+at[z].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(ht).length>0){for(var z in te("/Shading <<"),ht)ht.hasOwnProperty(z)&&ht[z]instanceof Ml&&ht[z].objectNumber>=0&&te("/"+z+" "+ht[z].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),te(">>")}})(),(function(z){if(Object.keys(ht).length>0){for(var ae in te("/Pattern <<"),ht)ht.hasOwnProperty(ae)&&ht[ae]instanceof h.TilingPattern&&ht[ae].objectNumber>=0&&ht[ae].objectNumber<z&&te("/"+ae+" "+ht[ae].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),te(">>")}})(C.objectOid),(function(){if(Object.keys(pt).length>0){var z;for(z in te("/ExtGState <<"),pt)pt.hasOwnProperty(z)&&pt[z].objectNumber>=0&&te("/"+z+" "+pt[z].objectNumber+" 0 R");Be.publish("putGStateDict"),te(">>")}})(),(function(){for(var z in te("/XObject <<"),Kt)Kt.hasOwnProperty(z)&&Kt[z].objectNumber>=0&&te("/"+z+" "+Kt[z].objectNumber+" 0 R");Be.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},Zh=function(C){kt[C.fontName]=kt[C.fontName]||{},kt[C.fontName][C.fontStyle]=C.id},Jh=function(C,z,ae,ce,ve){var Ae={id:"F"+(Object.keys(at).length+1).toString(10),postScriptName:C,fontName:z,fontStyle:ae,encoding:ce,isStandardFont:ve||!1,metadata:{}};return Be.publish("addFont",{font:Ae,instance:this}),at[Ae.id]=Ae,Zh(Ae),Ae.id},Ua=h.__private__.pdfEscape=h.pdfEscape=function(C,z){return(function(ae,ce){var ve,Ae,Te,tt,ot,Nt,Lt,tr,Br;if(Te=(ce=ce||{}).sourceEncoding||"Unicode",ot=ce.outputEncoding,(ce.autoencode||ot)&&at[st].metadata&&at[st].metadata[Te]&&at[st].metadata[Te].encoding&&(tt=at[st].metadata[Te].encoding,!ot&&at[st].encoding&&(ot=at[st].encoding),!ot&&tt.codePages&&(ot=tt.codePages[0]),typeof ot=="string"&&(ot=tt[ot]),ot)){for(Lt=!1,Nt=[],ve=0,Ae=ae.length;ve<Ae;ve++)(tr=ot[ae.charCodeAt(ve)])?Nt.push(String.fromCharCode(tr)):Nt.push(ae[ve]),Nt[ve].charCodeAt(0)>>8&&(Lt=!0);ae=Nt.join("")}for(ve=ae.length;Lt===void 0&&ve!==0;)ae.charCodeAt(ve-1)>>8&&(Lt=!0),ve--;if(!Lt)return ae;for(Nt=ce.noBOM?[]:[254,255],ve=0,Ae=ae.length;ve<Ae;ve++){if((Br=(tr=ae.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(Br),Nt.push(tr-(Br<<8))}return String.fromCharCode.apply(void 0,Nt)})(C,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pd=h.__private__.beginPage=function(C){ge[++ar]=[],wt[ar]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ep(ar),me(ge[W])},Qh=function(C,z){var ae,ce,ve;switch(r=z||r,typeof C=="string"&&(ae=x(C.toLowerCase()),Array.isArray(ae)&&(ce=ae[0],ve=ae[1])),Array.isArray(C)&&(ce=C[0]*ft,ve=C[1]*ft),isNaN(ce)&&(ce=a[0],ve=a[1]),(ce>14400||ve>14400)&&(vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),a=[ce,ve],r.substr(0,1)){case"l":ve>ce&&(a=[ve,ce]);break;case"p":ce>ve&&(a=[ve,ce])}Pd(a),F0(Id),te(Nc),Ld!==0&&te(Ld+" J"),Md!==0&&te(Md+" j"),Be.publish("addPage",{pageNumber:ar})},Cd=function(C){C>0&&C<=ar&&(ge.splice(C,1),wt.splice(C,1),ar--,W>ar&&(W=ar),this.setPage(W))},ep=function(C){C>0&&C<=ar&&(W=C)},tp=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ge.length-1},rp=function(C,z,ae){var ce,ve=void 0;return ae=ae||{},C=C!==void 0?C:at[st].fontName,z=z!==void 0?z:at[st].fontStyle,ce=C.toLowerCase(),kt[ce]!==void 0&&kt[ce][z]!==void 0?ve=kt[ce][z]:kt[C]!==void 0&&kt[C][z]!==void 0?ve=kt[C][z]:ae.disableWarning===!1&&vr.warn("Unable to look up font label for font '"+C+"', '"+z+"'. Refer to getFontList() for available fonts."),ve||ae.noFallback||(ve=kt.times[z])==null&&(ve=kt.times.normal),ve},jc=h.__private__.putInfo=function(){var C=Cr(),z=function(ce){return ce};for(var ae in d!==null&&(z=Yr.encryptor(C,0)),te("<<"),te("/Producer ("+Ua(z("jsPDF "+ut.version))+")"),Pt)Pt.hasOwnProperty(ae)&&Pt[ae]&&te("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Ua(z(Pt[ae]))+")");te("/CreationDate ("+Ua(z(G))+")"),te(">>"),te("endobj")},E0=h.__private__.putCatalog=function(C){var z=(C=C||{}).rootDictionaryObjId||po;switch(Cr(),te("<<"),te("/Type /Catalog"),te("/Pages "+z+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+et;ae.substr(ae.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&te("/OpenAction [3 0 R /XYZ null null "+P(et)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Ye&&te("/PageMode /"+Ye),Be.publish("putCatalog"),te(">>"),te("endobj")},an=h.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(le+1)),te("/Root "+le+" 0 R"),te("/Info "+(le-1)+" 0 R"),d!==null&&te("/Encrypt "+Yr.oid+" 0 R"),te("/ID [ <"+F+"> <"+F+"> ]"),te(">>")},np=h.__private__.putHeader=function(){te("%PDF-"+g),te("%")},ap=h.__private__.putXRef=function(){var C="0000000000";te("xref"),te("0 "+(le+1)),te("0000000000 65535 f ");for(var z=1;z<=le;z++)typeof oe[z]=="function"?te((C+oe[z]()).slice(-10)+" 00000 n "):oe[z]!==void 0?te((C+oe[z]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Ns=h.__private__.buildDocument=function(){var C;le=0,se=0,de=[],oe=[],he=[],po=br(),li=br(),me(de),Be.publish("buildDocument"),np(),Wi(),(function(){Be.publish("putAdditionalObjects");for(var ae=0;ae<he.length;ae++){var ce=he[ae];jn(ce.objId,!0),te(ce.content),te("endobj")}Be.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var ae in at)at.hasOwnProperty(ae)&&(f===!1||f===!0&&p.hasOwnProperty(ae))&&ul(at[ae])})(),(function(){var ae;for(ae in pt)pt.hasOwnProperty(ae)&&O0(pt[ae])})(),(function(){for(var ae in Kt)Kt.hasOwnProperty(ae)&&bc(Kt[ae])})(),(function(ae){var ce;for(ce in ht)ht.hasOwnProperty(ce)&&(ht[ce]instanceof Ml?wc(ht[ce]):ht[ce]instanceof pu&&_c(ht[ce],ae))})(C),Be.publish("putResources"),C.forEach(kd),kd({resourcesOid:li,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources"),d!==null&&(Yr.oid=Cr(),te("<<"),te("/Filter /Standard"),te("/V "+Yr.v),te("/R "+Yr.r),te("/U <"+Yr.toHexString(Yr.U)+">"),te("/O <"+Yr.toHexString(Yr.O)+">"),te("/P "+Yr.P),te(">>"),te("endobj")),jc(),E0();var z=se;return ap(),an(),te("startxref"),te(""+z),te("%%EOF"),me(ge[W]),de.join(`
`)},dl=h.__private__.getBlob=function(C){return new Blob([Ue(C)],{type:"application/pdf"})},di=h.output=h.__private__.output=(Rr=function(C,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",C){case void 0:return Ns();case"save":h.save(z.filename);break;case"arraybuffer":return Ue(Ns());case"blob":return dl(Ns());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(dl(Ns()))||void 0;vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ce=Ns();try{ae=HA(ce)}catch{ae=HA(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+z.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ve=z.pdfObjectUrl,Ae="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",tt=St.open();return tt!==null&&tt.document.write(Te),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Nt=St.open();if(Nt!==null){Nt.document.write(ot);var Lt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=z.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Br=St.open();if(Br!==null&&(Br.document.write(tr),Br.document.title=z.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",z);default:return null}},Rr.foo=function(){try{return Rr.apply(this,arguments)}catch(ae){var C=ae.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var z="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ae.message;if(!St.console)throw new Error(z);St.console.error(z,ae),St.alert&&alert(z)}},Rr.foo.bar=Rr,Rr.foo),fl=function(C){return Array.isArray(xr)===!0&&xr.indexOf(C)>-1};switch(n){case"pt":ft=1;break;case"mm":ft=72/25.4;break;case"cm":ft=72/2.54;break;case"in":ft=72;break;case"px":ft=fl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ft=12;break;case"ex":ft=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ft=n}var Yr=null;ie(),B();var Od=h.__private__.getPageInfo=h.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[C].objId,pageNumber:C,pageContext:wt[C]}},T0=h.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in wt)if(wt[z].objId===C)break;return Od(z)},I0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:wt[W].objId,pageNumber:W,pageContext:wt[W]}};h.addPage=function(){return Qh.apply(this,arguments),this},h.setPage=function(){return ep.apply(this,arguments),me.call(this,ge[W]),this},h.insertPage=function(C){return this.addPage(),this.movePage(W,C),this},h.movePage=function(C,z){var ae,ce;if(C>z){ae=ge[C],ce=wt[C];for(var ve=C;ve>z;ve--)ge[ve]=ge[ve-1],wt[ve]=wt[ve-1];ge[z]=ae,wt[z]=ce,this.setPage(z)}else if(C<z){ae=ge[C],ce=wt[C];for(var Ae=C;Ae<z;Ae++)ge[Ae]=ge[Ae+1],wt[Ae]=wt[Ae+1];ge[z]=ae,wt[z]=ce,this.setPage(z)}return this},h.deletePage=function(){return Cd.apply(this,arguments),this},h.__private__.text=h.text=function(C,z,ae,ce,ve){var Ae,Te,tt,ot,Nt,Lt,tr,Br,sn,pr=(ce=ce||{}).scope||this;if(typeof C=="number"&&typeof z=="number"&&(typeof ae=="string"||Array.isArray(ae))){var un=ae;ae=z,z=C,C=un}if(arguments[3]instanceof ze==0?(tt=arguments[4],ot=arguments[5],fr(tr=arguments[3])==="object"&&tr!==null||(typeof tt=="string"&&(ot=tt,tt=null),typeof tr=="string"&&(ot=tr,tr=null),typeof tr=="number"&&(tt=tr,tr=null),ce={flags:tr,angle:tt,align:ot})):(T("The transform parameter of text() with a Matrix value"),sn=ve),isNaN(z)||isNaN(ae)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return pr;var on,En="",ks=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:pl,vo=pr.internal.scaleFactor;function V0(wr){return wr=wr.split("	").join(Array(ce.TabLen||9).join(" ")),Ua(wr,tr)}function op(wr){for(var _r,Xr=wr.concat(),Zr=[],Es=Xr.length;Es--;)typeof(_r=Xr.shift())=="string"?Zr.push(_r):Array.isArray(wr)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?Zr.push(_r[0]):Zr.push([_r[0],_r[1],_r[2]]);return Zr}function xl(wr,_r){var Xr;if(typeof wr=="string")Xr=_r(wr)[0];else if(Array.isArray(wr)){for(var Zr,Es,Lc=wr.concat(),Zi=[],Yd=Lc.length;Yd--;)typeof(Zr=Lc.shift())=="string"?Zi.push(_r(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Es=_r(Zr[0],Zr[1],Zr[2]),Zi.push([Es[0],Es[1],Es[2]]));Xr=Zi}return Xr}var fi=!1,qd=!0;if(typeof C=="string")fi=!0;else if(Array.isArray(C)){var Pc=C.concat();Te=[];for(var yo,Nn=Pc.length;Nn--;)(typeof(yo=Pc.shift())!="string"||Array.isArray(yo)&&typeof yo[0]!="string")&&(qd=!1);fi=qd}if(fi===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Ps=Pe/pr.internal.scaleFactor,Cs=Ps*(ks-1);switch(ce.baseline){case"bottom":ae-=Cs;break;case"top":ae+=Ps-Cs;break;case"hanging":ae+=Ps-2*Cs;break;case"middle":ae+=Ps/2-Cs}if((Lt=ce.maxWidth||0)>0&&(typeof C=="string"?C=pr.splitTextToSize(C,Lt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(wr,_r){return wr.concat(pr.splitTextToSize(_r,Lt))},[]))),Ae={text:C,x:z,y:ae,options:ce,mutex:{pdfEscape:Ua,activeFontKey:st,fonts:at,activeFontSize:Pe}},Be.publish("preProcessText",Ae),C=Ae.text,tt=(ce=Ae.options).angle,sn instanceof ze==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,ce.rotationDirection===0&&(tt=-tt),_===w&&(tt=-tt);var Cc=Math.cos(tt),Ud=Math.sin(tt);sn=new ze(Cc,Ud,-Ud,Cc,0,0)}else tt&&tt instanceof ze&&(sn=tt);_!==w||sn||(sn=na),(Nt=ce.charSpace||Ac)!==void 0&&(En+=O(M(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=ce.horizontalScale)!==void 0&&(En+=O(100*Br)+` Tz
`),ce.lang;var Vn=-1,lp=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Oc=pr.internal.getCurrentPageInfo().pageContext;switch(lp){case 0:case!1:case"fill":Vn=0;break;case 1:case!0:case"stroke":Vn=1;break;case 2:case"fillThenStroke":Vn=2;break;case 3:case"invisible":Vn=3;break;case 4:case"fillAndAddForClipping":Vn=4;break;case 5:case"strokeAndAddPathForClipping":Vn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vn=6;break;case 7:case"addToPathForClipping":Vn=7}var cp=Oc.usedRenderingMode!==void 0?Oc.usedRenderingMode:-1;Vn!==-1?En+=Vn+` Tr
`:cp!==-1&&(En+=`0 Tr
`),Vn!==-1&&(Oc.usedRenderingMode=Vn),ot=ce.align||"left";var dn,za=Pe*ks,zd=pr.internal.pageSize.getWidth(),Wd=at[st];Nt=ce.charSpace||Ac,Lt=ce.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var xo=[],Ec=function(wr){return pr.getStringUnitWidth(wr,{font:Wd,charSpace:Nt,fontSize:Pe,doKerning:!1})*Pe/vo};if(Object.prototype.toString.call(C)==="[object Array]"){var aa;Te=op(C),ot!=="left"&&(dn=Te.map(Ec));var ia,bl=0;if(ot==="right"){z-=dn[0],C=[],Nn=Te.length;for(var Gi=0;Gi<Nn;Gi++)Gi===0?(ia=Ss(z),aa=As(ae)):(ia=M(bl-dn[Gi]),aa=-za),C.push([Te[Gi],ia,aa]),bl=dn[Gi]}else if(ot==="center"){z-=dn[0]/2,C=[],Nn=Te.length;for(var bo=0;bo<Nn;bo++)bo===0?(ia=Ss(z),aa=As(ae)):(ia=M((bl-dn[bo])/2),aa=-za),C.push([Te[bo],ia,aa]),bl=dn[bo]}else if(ot==="left"){C=[],Nn=Te.length;for(var Hd=0;Hd<Nn;Hd++)C.push(Te[Hd])}else if(ot==="justify"&&Wd.encoding==="Identity-H"){C=[],Nn=Te.length,Lt=Lt!==0?Lt:zd;for(var wo=0,Kr=0;Kr<Nn;Kr++)if(aa=Kr===0?As(ae):-za,ia=Kr===0?Ss(z):wo,Kr<Nn-1){var G0=M((Lt-dn[Kr])/(Te[Kr].split(" ").length-1)),Yi=Te[Kr].split(" ");C.push([Yi[0]+" ",ia,aa]),wo=0;for(var Ki=1;Ki<Yi.length;Ki++){var Tc=(Ec(Yi[Ki-1]+" "+Yi[Ki])-Ec(Yi[Ki]))*vo+G0;Ki==Yi.length-1?C.push([Yi[Ki],Tc,0]):C.push([Yi[Ki]+" ",Tc,0]),wo-=Tc}}else C.push([Te[Kr],ia,aa]);C.push(["",wo,0])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Nn=Te.length,Lt=Lt!==0?Lt:zd,Kr=0;Kr<Nn;Kr++)aa=Kr===0?As(ae):-za,ia=Kr===0?Ss(z):0,Kr<Nn-1?xo.push(O(M((Lt-dn[Kr])/(Te[Kr].split(" ").length-1)))):xo.push(0),C.push([Te[Kr],ia,aa])}}(typeof ce.R2L=="boolean"?ce.R2L:Xe)===!0&&(C=xl(C,function(wr,_r,Xr){return[wr.split("").reverse().join(""),_r,Xr]})),Ae={text:C,x:z,y:ae,options:ce,mutex:{pdfEscape:Ua,activeFontKey:st,fonts:at,activeFontSize:Pe}},Be.publish("postProcessText",Ae),C=Ae.text,on=Ae.mutex.isHex||!1;var Vd=at[st].encoding;Vd!=="WinAnsiEncoding"&&Vd!=="StandardEncoding"||(C=xl(C,function(wr,_r,Xr){return[V0(wr),_r,Xr]})),Te=op(C),C=[];for(var Ic,Rc,wl,_l=Array.isArray(Te[0])?1:0,Os="",Gd=function(wr,_r,Xr){var Zr="";return Xr instanceof ze?(Xr=typeof ce.angle=="number"?Ur(Xr,new ze(1,0,0,1,wr,_r)):Ur(new ze(1,0,0,1,wr,_r),Xr),_===w&&(Xr=Ur(new ze(1,0,0,-1,0,0),Xr)),Zr=Xr.join(" ")+` Tm
`):Zr=O(wr)+" "+O(_r)+` Td
`,Zr},ga=0;ga<Te.length;ga++){switch(Os="",_l){case 1:wl=(on?"<":"(")+Te[ga][0]+(on?">":")"),Ic=parseFloat(Te[ga][1]),Rc=parseFloat(Te[ga][2]);break;case 0:wl=(on?"<":"(")+Te[ga]+(on?">":")"),Ic=Ss(z),Rc=As(ae)}xo!==void 0&&xo[ga]!==void 0&&(Os=xo[ga]+` Tw
`),ga===0?C.push(Os+Gd(Ic,Rc,sn)+wl):_l===0?C.push(Os+wl):_l===1&&C.push(Os+Gd(Ic,Rc,sn)+wl)}C=_l===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Xi=`BT
/`;return Xi+=st+" "+Pe+` Tf
`,Xi+=O(Pe*ks)+` TL
`,Xi+=ml+`
`,Xi+=En,Xi+=C,te(Xi+="ET"),p[st]=!0,pr};var R0=h.__private__.clip=h.clip=function(C){return te(C==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return R0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return te("n"),this};var Hi=h.__private__.isValidStyle=function(C){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(z=!0),z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(C){return Hi(C)&&(u=C),this};var ip=h.__private__.getStyle=h.getStyle=function(C){var z=u;switch(C){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=C}return z},sp=h.close=function(){return te("h"),this};h.stroke=function(){return te("S"),this},h.fill=function(C){return mo("f",C),this},h.fillEvenOdd=function(C){return mo("f*",C),this},h.fillStroke=function(C){return mo("B",C),this},h.fillStrokeEvenOdd=function(C){return mo("B*",C),this};var mo=function(C,z){fr(z)==="object"?M0(z,C):te(C)},Ed=function(C){C===null||_===w&&C===void 0||(C=ip(C),te(C))};function L0(C,z,ae,ce,ve){var Ae=new pu(z||this.boundingBox,ae||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);Ae.stream=this.stream;var Te=C+"$$"+this.cloneIndex+++"$$";return Ir(Te,Ae),Ae}var M0=function(C,z){var ae=qt[C.key],ce=ht[ae];if(ce instanceof Ml)te("q"),te(D0(z)),ce.gState&&h.setGState(ce.gState),te(C.matrix.toString()+" cm"),te("/"+ae+" sh"),te("Q");else if(ce instanceof pu){var ve=new ze(1,0,0,-1,0,ma());C.matrix&&(ve=ve.multiply(C.matrix||na),ae=L0.call(ce,C.key,C.boundingBox,C.xStep,C.yStep,ve).id),te("q"),te("/Pattern cs"),te("/"+ae+" scn"),ce.gState&&h.setGState(ce.gState),te(z),te("Q")}},D0=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Td=h.moveTo=function(C,z){return te(O(M(C))+" "+O(D(z))+" m"),this},hl=h.lineTo=function(C,z){return te(O(M(C))+" "+O(D(z))+" l"),this},go=h.curveTo=function(C,z,ae,ce,ve,Ae){return te([O(M(C)),O(D(z)),O(M(ae)),O(D(ce)),O(M(ve)),O(D(Ae)),"c"].join(" ")),this};h.__private__.line=h.line=function(C,z,ae,ce,ve){if(isNaN(C)||isNaN(z)||isNaN(ae)||isNaN(ce)||!Hi(ve))throw new Error("Invalid arguments passed to jsPDF.line");return _===j?this.lines([[ae-C,ce-z]],C,z,[1,1],ve||"S"):this.lines([[ae-C,ce-z]],C,z,[1,1]).stroke()},h.__private__.lines=h.lines=function(C,z,ae,ce,ve,Ae){var Te,tt,ot,Nt,Lt,tr,Br,sn,pr,un,on,En;if(typeof C=="number"&&(En=ae,ae=z,z=C,C=En),ce=ce||[1,1],Ae=Ae||!1,isNaN(z)||isNaN(ae)||!Array.isArray(C)||!Array.isArray(ce)||!Hi(ve)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Td(z,ae),Te=ce[0],tt=ce[1],Nt=C.length,un=z,on=ae,ot=0;ot<Nt;ot++)(Lt=C[ot]).length===2?(un=Lt[0]*Te+un,on=Lt[1]*tt+on,hl(un,on)):(tr=Lt[0]*Te+un,Br=Lt[1]*tt+on,sn=Lt[2]*Te+un,pr=Lt[3]*tt+on,un=Lt[4]*Te+un,on=Lt[5]*tt+on,go(tr,Br,sn,pr,un,on));return Ae&&sp(),Ed(ve),this},h.path=function(C){for(var z=0;z<C.length;z++){var ae=C[z],ce=ae.c;switch(ae.op){case"m":Td(ce[0],ce[1]);break;case"l":hl(ce[0],ce[1]);break;case"c":go.apply(this,ce);break;case"h":sp()}}return this},h.__private__.rect=h.rect=function(C,z,ae,ce,ve){if(isNaN(C)||isNaN(z)||isNaN(ae)||isNaN(ce)||!Hi(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return _===j&&(ce=-ce),te([O(M(C)),O(D(z)),O(M(ae)),O(M(ce)),"re"].join(" ")),Ed(ve),this},h.__private__.triangle=h.triangle=function(C,z,ae,ce,ve,Ae,Te){if(isNaN(C)||isNaN(z)||isNaN(ae)||isNaN(ce)||isNaN(ve)||isNaN(Ae)||!Hi(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-C,ce-z],[ve-ae,Ae-ce],[C-ve,z-Ae]],C,z,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(C,z,ae,ce,ve,Ae,Te){if(isNaN(C)||isNaN(z)||isNaN(ae)||isNaN(ce)||isNaN(ve)||isNaN(Ae)||!Hi(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ae),Ae=Math.min(Ae,.5*ce),this.lines([[ae-2*ve,0],[ve*tt,0,ve,Ae-Ae*tt,ve,Ae],[0,ce-2*Ae],[0,Ae*tt,-ve*tt,Ae,-ve,Ae],[2*ve-ae,0],[-ve*tt,0,-ve,-Ae*tt,-ve,-Ae],[0,2*Ae-ce],[0,-Ae*tt,ve*tt,-Ae,ve,-Ae]],C+ve,z,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(C,z,ae,ce,ve){if(isNaN(C)||isNaN(z)||isNaN(ae)||isNaN(ce)||!Hi(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*ae,Te=4/3*(Math.SQRT2-1)*ce;return Td(C+ae,z),go(C+ae,z-Te,C+Ae,z-ce,C,z-ce),go(C-Ae,z-ce,C-ae,z-Te,C-ae,z),go(C-ae,z+Te,C-Ae,z+ce,C,z+ce),go(C+Ae,z+ce,C+ae,z+Te,C+ae,z),Ed(ve),this},h.__private__.circle=h.circle=function(C,z,ae,ce){if(isNaN(C)||isNaN(z)||isNaN(ae)||!Hi(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,z,ae,ae,ce)},h.setFont=function(C,z,ae){return ae&&(z=k(z,ae)),st=rp(C,z,{disableWarning:!1}),this};var $0=h.__private__.getFont=h.getFont=function(){return at[rp.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var C,z,ae={};for(C in kt)if(kt.hasOwnProperty(C))for(z in ae[C]=[],kt[C])kt[C].hasOwnProperty(z)&&ae[C].push(z);return ae},h.addFont=function(C,z,ae,ce,ve){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(ae=k(ae,ce)),Jh.call(this,C,z,ae,ve=ve||"Identity-H")};var pl,Id=t.lineWidth||.200025,Ct=h.__private__.getLineWidth=h.getLineWidth=function(){return Id},F0=h.__private__.setLineWidth=h.setLineWidth=function(C){return Id=C,te(O(M(C))+" w"),this};h.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(C,z){if(C=C||[],z=z||0,isNaN(z)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ae){return O(M(ae))}).join(" "),z=O(M(z)),te("["+C+"] "+z+" d"),this};var B0=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*pl};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*pl};var q0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(pl=C),this},U0=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return pl};q0(t.lineHeight);var Ss=h.__private__.getHorizontalCoordinate=function(C){return M(C)},As=h.__private__.getVerticalCoordinate=function(C){return _===w?C:wt[W].mediaBox.topRightY-wt[W].mediaBox.bottomLeftY-M(C)},z0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(C){return O(Ss(C))},W0=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(C){return O(As(C))},Nc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return zi(Nc)},h.__private__.setStrokeColor=h.setDrawColor=function(C,z,ae,ce){return Nc=ci({ch1:C,ch2:z,ch3:ae,ch4:ce,pdfColorType:"draw",precision:2}),te(Nc),this};var Rd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return zi(Rd)},h.__private__.setFillColor=h.setFillColor=function(C,z,ae,ce){return Rd=ci({ch1:C,ch2:z,ch3:ae,ch4:ce,pdfColorType:"fill",precision:2}),te(Rd),this};var ml=t.textColor||"0 g",Sc=h.__private__.getTextColor=h.getTextColor=function(){return zi(ml)};h.__private__.setTextColor=h.setTextColor=function(C,z,ae,ce){return ml=ci({ch1:C,ch2:z,ch3:ae,ch4:ce,pdfColorType:"text",precision:3}),this};var Ac=t.charSpace,H0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ac||0)};h.__private__.setCharSpace=h.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ac=C,this};var Ld=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(C){var z=h.CapJoinStyles[C];if(z===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ld=z,te(z+" J"),this};var Md=0;h.__private__.setLineJoin=h.setLineJoin=function(C){var z=h.CapJoinStyles[C];if(z===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Md=z,te(z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(O(M(C))+" M"),this},h.GState=Dm,h.setGState=function(C){(C=typeof C=="string"?pt[$r[C]]:gl(null,C)).equals(Gr)||(te("/"+C.id+" gs"),Gr=C)};var gl=function(C,z){if(!C||!$r[C]){var ae=!1;for(var ce in pt)if(pt.hasOwnProperty(ce)&&pt[ce].equals(z)){ae=!0;break}if(ae)z=pt[ce];else{var ve="GS"+(Object.keys(pt).length+1).toString(10);pt[ve]=z,z.id=ve}return C&&($r[C]=z.id),Be.publish("addGState",z),z}};h.addGState=function(C,z){return gl(C,z),this},h.saveGraphicsState=function(){return te("q"),nr.push({key:st,size:Pe,color:ml}),this},h.restoreGraphicsState=function(){te("Q");var C=nr.pop();return st=C.key,Pe=C.size,ml=C.color,Gr=null,this},h.setCurrentTransformationMatrix=function(C){return te(C.toString()+" cm"),this},h.comment=function(C){return te("#"+C),this};var vl=function(C,z){var ae=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Ae){isNaN(Ae)||(ae=parseFloat(Ae))}});var ce=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ae){isNaN(Ae)||(ce=parseFloat(Ae))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ae){ve=Ae.toString()}}),this},Dd=function(C,z,ae,ce){vl.call(this,C,z),this.type="rect";var ve=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Te){isNaN(Te)||(ve=parseFloat(Te))}});var Ae=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Te){isNaN(Te)||(Ae=parseFloat(Te))}}),this},kc=function(){this.page=ar,this.currentPage=W,this.pages=ge.slice(0),this.pagesContext=wt.slice(0),this.x=lt,this.y=Gt,this.matrix=Yt,this.width=Fd(W),this.height=ma(W),this.outputDestination=Oe,this.id="",this.objectNumber=-1};kc.prototype.restore=function(){ar=this.page,W=this.currentPage,wt=this.pagesContext,ge=this.pages,lt=this.x,Gt=this.y,Yt=this.matrix,Bd(W,this.width),Vi(W,this.height),Oe=this.outputDestination};var $d=function(C,z,ae,ce,ve){Hn.push(new kc),ar=W=0,ge=[],lt=C,Gt=z,Yt=ve,Pd([ae,ce])};for(var yl in h.beginFormObject=function(C,z,ae,ce,ve){return $d(C,z,ae,ce,ve),this},h.endFormObject=function(C){return(function(z){if(Fr[z])Hn.pop().restore();else{var ae=new kc,ce="Xo"+(Object.keys(Kt).length+1).toString(10);ae.id=ce,Fr[z]=ce,Kt[ce]=ae,Be.publish("addFormObject",ae),Hn.pop().restore()}})(C),this},h.doFormObject=function(C,z){var ae=Kt[Fr[C]];return te("q"),te(z.toString()+" cm"),te("/"+ae.id+" Do"),te("Q"),this},h.getFormObject=function(C){var z=Kt[Fr[C]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},h.save=function(C,z){return C=C||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(El(dl(Ns()),C),typeof El.unload=="function"&&St.setTimeout&&setTimeout(El.unload,911),this):new Promise(function(ae,ce){try{var ve=El(dl(Ns()),C);typeof El.unload=="function"&&St.setTimeout&&setTimeout(El.unload,911),ae(ve)}catch(Ae){ce(Ae.message)}})},ut.API)ut.API.hasOwnProperty(yl)&&(yl==="events"&&ut.API.events.length?(function(C,z){var ae,ce,ve;for(ve=z.length-1;ve!==-1;ve--)ae=z[ve][0],ce=z[ve][1],C.subscribe.apply(C,[ae].concat(typeof ce=="function"?[ce]:ce))})(Be,ut.API.events):h[yl]=ut.API[yl]);var Fd=h.getPageWidth=function(C){return(wt[C=C||W].mediaBox.topRightX-wt[C].mediaBox.bottomLeftX)/ft},Bd=h.setPageWidth=function(C,z){wt[C].mediaBox.topRightX=z*ft+wt[C].mediaBox.bottomLeftX},ma=h.getPageHeight=function(C){return(wt[C=C||W].mediaBox.topRightY-wt[C].mediaBox.bottomLeftY)/ft},Vi=h.setPageHeight=function(C,z){wt[C].mediaBox.topRightY=z*ft+wt[C].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ua,getStyle:ip,getFont:$0,getFontSize:$e,getCharSpace:H0,getTextColor:Sc,getLineHeight:B0,getLineHeightFactor:U0,getLineWidth:Ct,write:Ge,getHorizontalCoordinate:Ss,getVerticalCoordinate:As,getCoordinateString:z0,getVerticalCoordinateString:W0,collections:{},newObject:Cr,newAdditionalObject:ll,newObjectDeferred:br,newObjectDeferredBegin:jn,getFilters:ui,putStream:qa,events:Be,scaleFactor:ft,pageSize:{getWidth:function(){return Fd(W)},setWidth:function(C){Bd(W,C)},getHeight:function(){return ma(W)},setHeight:function(C){Vi(W,C)}},encryptionOptions:d,encryption:Yr,getEncryptor:function(C){return d!==null?Yr.encryptor(C,0):function(z){return z}},output:di,getNumberOfPages:tp,pages:ge,out:te,f2:P,f3:I,getPageInfo:Od,getPageInfoByObjId:T0,getCurrentPageInfo:I0,getPDFVersion:m,Point:vl,Rectangle:Dd,Matrix:ze,hasHotfix:fl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Fd(W)},set:function(C){Bd(W,C)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ma(W)},set:function(C){Vi(W,C)},enumerable:!0,configurable:!0}),(function(C){for(var z=0,ae=He.length;z<ae;z++){var ce=Jh.call(this,C[z][0],C[z][1],C[z][2],He[z][3],!0);f===!1&&(p[ce]=!0);var ve=C[z][0].split("-");Zh({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}Be.publish("addFonts",{fonts:at,dictionary:kt})}).call(h,He),st="F1",Qh(a,r),Be.publish("initialized"),h}du.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},du.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},du.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},du.prototype.processOwnerPassword=function(t,e){return z2(U2(e).substr(0,5),t)},du.prototype.encryptor=function(t,e){var r=U2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return z2(r,n)}},Dm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||fr(t)!==fr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ut.API={events:[]},ut.version="3.0.2";var Hr=ut.API,uj=1,pc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},Eo=function(t){return t.toFixed(5)};Hr.__acroform__={};var ha=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},KA=function(t){return t*uj},es=function(t){var e=new DR,r=Qe.internal.getHeight(t)||0,n=Qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],e},xX=Hr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},bX=Hr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},wX=Hr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},en=Hr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wX(t,e-1)},tn=Hr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xX(t,e-1)},rn=Hr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bX(t,e-1)},_X=Hr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Ot(c.lowerLeft_X)),Number(Ot(c.lowerLeft_Y)),Number(Ot(c.upperRight_X)),Number(Ot(c.upperRight_Y))]},jX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=W2(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=es(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},W2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,s=Qe.internal.getHeight(t)||0;s=s<0?-s:s;var l=Qe.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(P,I,M){if(P+1<a.length){var D=I+" "+a[P+1][0];return Yp(D,t,M).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=Yp("3",t,i).height,p=t.multiline?s-i:(s-f)/2,h=p+=2,g=0,m=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Yp(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",j=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var _=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(j+2)+2>s)continue e;x+=a[w][v],_=!0,m=w,w--}else{x=(x+=a[w][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var N=parseInt(w),A=c(N,x,i),k=w>=a.length-1;if(A&&!k){x+=" ",v=0;continue}if(A||k){if(k)m=N;else if(t.multiline&&(f+2)*(j+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(j+2)+2>s)continue e;m=N}}for(var O="",T=g;T<=m;T++){var R=a[T];if(t.multiline){if(T===m){O+=R[v]+" ",v=(v+1)%R.length;continue}if(T===g){O+=R[R.length-1]+" ";continue}}O+=R[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=Yp(O,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Ot(u)+" "+Ot(h)+` Td
`,e+="("+pc(O)+`) Tj
`,e+=-Ot(u)+` 0 Td
`,h=-(i+2),d=0,g=_?m:m+1,j++,x=""}break}return n.text=e,n.fontSize=i,n},Yp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},NX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},SX=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},AX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(NX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uj=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $R,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&SX(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=_X(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Qe.createDefaultAppearanceStream(l),fr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=jX(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(a,l)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,l)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(m,v){for(var x in m)if(m.hasOwnProperty(x)){var j=x,w=m[x];v.internal.newObjectDeferredBegin(w.objId,!0),fr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[j]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},MR=Hr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),fr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+pc(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ky=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+pc(n(t))+")"},as=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};as.prototype.toString=function(){return this.objId+" 0 R"},as.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},as.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:MR(a,this.objId,this.scope)}):a instanceof as?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var DR=function(){as.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ha(DR,as);var $R=function(){as.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pc(r(t))+")"}},set:function(r){t=r}})};ha($R,as);var Fi=function t(){as.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!en(e,3)},set:function(x){x?this.F=tn(e,3):this.F=rn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $m)return;i="FieldObject"+t.FieldNum++}var x=function(j){return j};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+pc(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/uj:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof $m||this instanceof Vl))return Ky(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof kn==0?Ky(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof kn==0?x.substr(0,1)==="("?Qc(x.substr(1,x.length-2)):Qc(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?Qc(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof kn==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof kn==0?Ky(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof kn==0?x.substr(0,1)==="("?Qc(x.substr(1,x.length-2)):Qc(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?Qc(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof kn==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,1)},set:function(x){x?this.Ff=tn(this.Ff,1):this.Ff=rn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,2)},set:function(x){x?this.Ff=tn(this.Ff,2):this.Ff=rn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,3)},set:function(x){x?this.Ff=tn(this.Ff,3):this.Ff=rn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ha(Fi,as);var _u=function(){Fi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MR(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,18)},set:function(r){r?this.Ff=tn(this.Ff,18):this.Ff=rn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=tn(this.Ff,19):this.Ff=rn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,20)},set:function(r){r?(this.Ff=tn(this.Ff,20),e.sort()):this.Ff=rn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,22)},set:function(r){r?this.Ff=tn(this.Ff,22):this.Ff=rn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(r){r?this.Ff=tn(this.Ff,23):this.Ff=rn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,27)},set:function(r){r?this.Ff=tn(this.Ff,27):this.Ff=rn(this.Ff,27)}}),this.hasAppearanceStream=!1};ha(_u,Fi);var ju=function(){_u.call(this),this.fontName="helvetica",this.combo=!1};ha(ju,_u);var Nu=function(){ju.call(this),this.combo=!0};ha(Nu,ju);var wm=function(){Nu.call(this),this.edit=!0};ha(wm,Nu);var kn=function(){Fi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,15)},set:function(r){r?this.Ff=tn(this.Ff,15):this.Ff=rn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,16)},set:function(r){r?this.Ff=tn(this.Ff,16):this.Ff=rn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,17)},set:function(r){r?this.Ff=tn(this.Ff,17):this.Ff=rn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(r){r?this.Ff=tn(this.Ff,26):this.Ff=rn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+pc(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){fr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ha(kn,Fi);var _m=function(){kn.call(this),this.pushButton=!0};ha(_m,kn);var Su=function(){kn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ha(Su,kn);var $m=function(){var t,e;Fi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+pc(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){fr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ha($m,Fi),Su.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Su.prototype.createOption=function(t){var e=new $m;return e.Parent=this,e.optionName=t,this.Kids.push(e),kX.call(this.scope,e),e};var jm=function(){kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};ha(jm,kn);var Vl=function(){Fi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,13)},set:function(e){e?this.Ff=tn(this.Ff,13):this.Ff=rn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,21)},set:function(e){e?this.Ff=tn(this.Ff,21):this.Ff=rn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(e){e?this.Ff=tn(this.Ff,23):this.Ff=rn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,24)},set:function(e){e?this.Ff=tn(this.Ff,24):this.Ff=rn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,25)},set:function(e){e?this.Ff=tn(this.Ff,25):this.Ff=rn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(e){e?this.Ff=tn(this.Ff,26):this.Ff=rn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ha(Vl,Fi);var Nm=function(){Vl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,14)},set:function(t){t?this.Ff=tn(this.Ff,14):this.Ff=rn(this.Ff,14)}}),this.password=!0};ha(Nm,Vl);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=W2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(Qe.internal.getWidth(t))+" "+Ot(Qe.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=es(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Qe.internal.getHeight(t),s=Qe.internal.getWidth(t),l=W2(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ot(s)+" "+Ot(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ot(s-1)+" "+Ot(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ot(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Qe.internal.getWidth(t))+" "+Ot(Qe.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Circle.YesNormal,e.D[t]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=es(t);e.scope=t.scope;var r=[],n=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Qe.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Eo(Qe.internal.getWidth(t)/2)+" "+Eo(Qe.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[],n=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Qe.internal.Bezier_C).toFixed(5)),s=Number((n*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eo(Qe.internal.getWidth(t)/2)+" "+Eo(Qe.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Eo(Qe.internal.getWidth(t)/2)+" "+Eo(Qe.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[],n=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eo(Qe.internal.getWidth(t)/2)+" "+Eo(Qe.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Cross.YesNormal,e.D[t]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=es(t);e.scope=t.scope;var r=[],n=Qe.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ot(Qe.internal.getWidth(t)-2)+" "+Ot(Qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var r=Qe.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(Qe.internal.getWidth(t))+" "+Ot(Qe.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(Qe.internal.getWidth(t)-2)+" "+Ot(Qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Qe.internal.getWidth(t))+" "+Ot(Qe.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Qe.internal.getWidth(t),r=Qe.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Qe.internal.getWidth=function(t){var e=0;return fr(t)==="object"&&(e=KA(t.Rect[2])),e},Qe.internal.getHeight=function(t){var e=0;return fr(t)==="object"&&(e=KA(t.Rect[3])),e};var kX=Hr.addField=function(t){if(AX(this,t),!(t instanceof Fi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=_u,Hr.AcroFormListBox=ju,Hr.AcroFormComboBox=Nu,Hr.AcroFormEditBox=wm,Hr.AcroFormButton=kn,Hr.AcroFormPushButton=_m,Hr.AcroFormRadioButton=Su,Hr.AcroFormCheckBox=jm,Hr.AcroFormTextField=Vl,Hr.AcroFormPasswordField=Nm,Hr.AcroFormAppearance=Qe,Hr.AcroForm={ChoiceField:_u,ListBox:ju,ComboBox:Nu,EditBox:wm,Button:kn,PushButton:_m,RadioButton:Su,CheckBox:jm,TextField:Vl,PasswordField:Nm,Appearance:Qe},ut.AcroForm={ChoiceField:_u,ListBox:ju,ComboBox:Nu,EditBox:wm,Button:kn,PushButton:_m,RadioButton:Su,CheckBox:jm,TextField:Vl,PasswordField:Nm,Appearance:Qe};ut.AcroForm;function FR(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(P,I){var M,D,G,F,q,B=r;if((I=I||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(A(P))for(q in n)for(G=n[q],M=0;M<G.length;M+=1){for(F=!0,D=0;D<G[M].length;D+=1)if(G[M][D]!==void 0&&G[M][D]!==P[D]){F=!1;break}if(F===!0){B=q;break}}else for(q in n)for(G=n[q],M=0;M<G.length;M+=1){for(F=!0,D=0;D<G[M].length;D+=1)if(G[M][D]!==void 0&&G[M][D]!==P.charCodeAt(D)){F=!1;break}if(F===!0){B=q;break}}return B===r&&I!==r&&(B=I),B},i=function P(I){for(var M=this.internal.write,D=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:I.width}),F.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var q="",B=0,X=I.transparency.length;B<X;B++)q+=I.transparency[B]+" "+I.transparency[B]+" ";F.push({key:"Mask",value:"["+q+"]"})}I.sMask!==void 0&&F.push({key:"SMask",value:I.objectId+1+" 0 R"});var J=I.filter!==void 0?["/"+I.filter]:void 0;if(D({data:I.data,additionalKeyValues:F,alreadyAppliedFilters:J,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var ie=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,$={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ie,data:I.sMask};"filter"in I&&($.filter=I.filter),P.call(this,$)}if(I.colorSpace===x.INDEXED){var W=this.internal.newObject();D({data:O(new Uint8Array(I.palette)),objectId:W}),M("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var I in P)i.call(this,P[I])},l=function(){var P,I=this.internal.collections[e+"images"],M=this.internal.write;for(var D in I)M("/I"+(P=I[D]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},p=function(P){return fr(P)==="object"&&P.nodeType===1},h=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var M=""+P.getAttribute("src");if(M.indexOf("data:image/")===0)return bm(unescape(M).split("base64,").pop());var D=t.loadFile(M,!0);if(D!==void 0)return D}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var G;switch(I){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return bm(P.toDataURL(G,1).split("base64,").pop())}},g=function(P){var I=this.internal.collections[e+"images"];if(I){for(var M in I)if(P===I[M].alias)return I[M]}},m=function(P,I,M){return P||I||(P=-96,I=-96),P<0&&(P=-1*M.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),P===0&&(P=I*M.width/M.height),I===0&&(I=P*M.height/M.width),[P,I]},v=function(P,I,M,D,G,F){var q=m.call(this,M,D,G),B=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,J=u.call(this);if(M=q[0],D=q[1],J[G.index]=G,F){F*=Math.PI/180;var ie=Math.cos(F),$=Math.sin(F),W=function(ee){return ee.toFixed(4)},H=[W(ie),W($),W(-1*$),W(ie),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,B(P),X(I+D),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([B(M),"0","0",B(D),"0","0","cm"].join(" "))):this.internal.write([B(M),"0","0",B(D),B(P),X(I+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(P){var I,M,D=0;if(typeof P=="string")for(M=P.length,I=0;I<M;I++)D=(D<<5)-D+P.charCodeAt(I),D|=0;else if(A(P))for(M=P.byteLength/2,I=0;I<M;I++)D=(D<<5)-D+P[I],D|=0;return D},_=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},N=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var A=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,M=new Uint8Array(I),D=0;D<I;D++)M[D]=P.charCodeAt(D);return M},O=t.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",M=A(P)?P:new Uint8Array(P),D=0;D<M.length;D+=8192)I+=String.fromCharCode.apply(null,M.subarray(D,D+8192));return I};t.addImage=function(){var P,I,M,D,G,F,q,B,X;if(typeof arguments[1]=="number"?(I=r,M=arguments[1],D=arguments[2],G=arguments[3],F=arguments[4],q=arguments[5],B=arguments[6],X=arguments[7]):(I=arguments[1],M=arguments[2],D=arguments[3],G=arguments[4],F=arguments[5],q=arguments[6],B=arguments[7],X=arguments[8]),fr(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var J=P;P=J.imageData,I=J.format||I||r,M=J.x||M||0,D=J.y||D||0,G=J.w||J.width||G,F=J.h||J.height||F,q=J.alias||q,B=J.compression||B,X=J.rotation||J.angle||X}var ie=this.internal.getFilters();if(B===void 0&&ie.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(M)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var $=T.call(this,P,I,q,B);return v.call(this,M,D,G,F,$,X),this};var T=function(P,I,M,D){var G,F,q;if(typeof P=="string"&&a(P)===r){P=unescape(P);var B=R(P,!1);(B!==""||(B=t.loadFile(P,!0))!==void 0)&&(P=B)}if(p(P)&&(P=h(P,I)),I=a(P,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((q=M)==null||q.length===0)&&(M=(function(X){return typeof X=="string"||A(X)?w(X):A(X.data)?w(X.data):null})(P)),(G=g.call(this,M))||(P instanceof Uint8Array||I==="RGBA"||(F=P,P=k(P)),G=this["process"+I.toUpperCase()](P,d.call(this),M,(function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:j.NONE})(D),F)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},R=t.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var M,D="";if(typeof P=="string"){var G;M=(G=N(P))!==null&&G!==void 0?G:P;try{D=bm(M)}catch(F){if(I)throw _(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};t.getImageProperties=function(P){var I,M,D="";if(p(P)&&(P=h(P)),typeof P=="string"&&a(P)===r&&((D=R(P,!1))===""&&(D=t.loadFile(P)||""),P=D),M=a(P),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(P instanceof Uint8Array||(P=k(P)),!(I=this["process"+M.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(ut.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(j))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var A=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;s=Math.ceil(u*d)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(ut.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,j="",w=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(w++,typeof(x=x[m.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(x),x=r,w=0),v===m.length-1&&(x=r,j+=m.charAt(v-(w-1)),v-=w-1,w=0)):(x=r,j+=m.charAt(v-w),v-=w,w=0);return j};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,v,x){return s(m)?i(m)===!1?-1:!u(m)||!s(v)&&!s(x)||!s(x)&&l(v)||l(m)&&!s(v)||l(m)&&c(v)||l(m)&&l(v)?0:d(m)&&s(v)&&!l(v)&&s(x)&&u(x)?3:l(m)||!s(x)?1:2:-1},h=function(m){var v=0,x=0,j=0,w="",_="",N="",A=(m=m||"").split("\\s+"),k=[];for(v=0;v<A.length;v+=1){for(k.push(""),x=0;x<A[v].length;x+=1)w=A[v][x],_=A[v][x-1],N=A[v][x+1],s(w)?(j=p(w,_,N),k[v]+=j!==-1?String.fromCharCode(e[w.charCodeAt(0)][j]):w):k[v]+=w;k[v]=f(k[v])}return k.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var j=0;for(x=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?x.push([h(v[j][0]),v[j][1],v[j][2]]):x.push([h(v[j])]);m=x}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])})(ut.API),ut.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ut.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,_){return w.concat(v.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(m=this.getStringUnitWidth(c[j],{font:f})*d)&&(h=m);return h!==0&&(g=c.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,m,v,x=[],j=[],w=[],_={},N={},A=[],k=[],O=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),I=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=D,this.setFontSize(R),f==null)j=x=Object.keys(d[0]),w=x.map(function(){return"left"});else if(Array.isArray(f)&&fr(f[0])==="object")for(x=f.map(function(J){return J.name}),j=f.map(function(J){return J.prompt||J.name||""}),w=f.map(function(J){return J.align||"left"}),h=0;h<f.length;h+=1)N[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(j=x=f,w=x.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[v=x[h]]=d.map(function(J){return J[v]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)A.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,A)+I+I,A=[]}if(T){var G={};for(h=0;h<x.length;h+=1)G[x[h]]={},G[x[h]].text=j[h],G[x[h]].align=w[h];var F=l.call(this,G,N);k=x.map(function(J){return new i(c,u,N[J],F,G[J].text,void 0,G[J].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var q=f.reduce(function(J,ie){return J[ie.name]=ie.align,J},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var B=l.call(this,d[h],N);for(m=0;m<x.length;m+=1){var X=d[h][x[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:X},this),s.call(this,new i(c,u,N[x[m]],B,X,h+2,q[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(ut.API);var BR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H2=FR(qR),UR=[100,200,300,400,500,600,700,800,900],PX=FR(UR);function Xy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return BR[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof H2[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function XA(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var CX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function JA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function QA(t){return t.trimLeft()}function OX(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function EX(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Kp,ek,tk,eu,Xp,rk,nk,ak,Zy=["times"];function ik(t,e,r,n){var a=4,i=ok;switch(n){case ut.API.image_compression.FAST:a=1,i=sk;break;case ut.API.image_compression.MEDIUM:a=6,i=lk;break;case ut.API.image_compression.SLOW:a=9,i=ck}t=(function(l,c,u,d){for(var f,p=l.length/c,h=new Uint8Array(l.length+p),g=[TX,sk,ok,lk,ck],m=0;m<p;m+=1){var v=m*c,x=l.subarray(v,v+c);if(d)h.set(d(x,u,f),v+m);else{for(var j=g.length,w=[],_=0;_<j;_+=1)w[_]=g[_](x,u,f);var N=RX(w.concat());h.set(w[N],v+m)}f=x}return h})(t,e,r,i);var s=$2(t,{level:a});return ut.API.__addimage__.arrayBufferToBinaryString(s)}function TX(t){var e=Array.apply([],t);return e.unshift(0),e}function sk(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function ok(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=t[i]-s+256&255}return a}function lk(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(s+l>>>1)&255}return a}function ck(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=IX(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-s+256&255}return a}function IX(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function RX(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Jy(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return zR(t,a)>>i&s}function uk(t,e,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,i,zR(t,i)&~(l<<s)&65535|c)}function zR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function LX(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=s,e+=3*s);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++],N=_>>6&1,A=1<<1+(7&_),k=l,O=c,T=!1;_>>7&&(T=!0,k=e,O=A,e+=3*A);var R=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:v,y:x,width:j,height:w,has_local_palette:T,palette_offset:k,palette_size:O,data_offset:R,data_length:e-R,transparent_index:p,interlaced:!!N,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,M){var D=this.frameInfo(I),G=D.width*D.height,F=new Uint8Array(G);dk(t,D.data_offset,F,G);var q=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var X=D.width,J=r-X,ie=X,$=4*(D.y*r+D.x),W=4*((D.y+D.height)*r+D.x),H=$,ee=4*J;D.interlaced===!0&&(ee+=4*r*7);for(var le=8,oe=0,de=F.length;oe<de;++oe){var se=F[oe];if(ie===0&&(ie=X,(H+=ee)>=W&&(ee=4*J+4*r*(le-1),H=$+(X+J)*(le<<1),le>>=1)),se===B)H+=4;else{var he=t[q+3*se],ge=t[q+3*se+1],ue=t[q+3*se+2];M[H++]=ue,M[H++]=ge,M[H++]=he,M[H++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(I,M){var D=this.frameInfo(I),G=D.width*D.height,F=new Uint8Array(G);dk(t,D.data_offset,F,G);var q=D.palette_offset,B=D.transparent_index;B===null&&(B=256);var X=D.width,J=r-X,ie=X,$=4*(D.y*r+D.x),W=4*((D.y+D.height)*r+D.x),H=$,ee=4*J;D.interlaced===!0&&(ee+=4*r*7);for(var le=8,oe=0,de=F.length;oe<de;++oe){var se=F[oe];if(ie===0&&(ie=X,(H+=ee)>=W&&(ee=4*J+4*r*(le-1),H=$+(X+J)*(le<<1),le>>=1)),se===B)H+=4;else{var he=t[q+3*se],ge=t[q+3*se+1],ue=t[q+3*se+2];M[H++]=he,M[H++]=ge,M[H++]=ue,M[H++]=255}--ie}}}function dk(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===s)break;for(var x=v<l?v:m,j=0,w=x;w>i;)w=g[w]>>8,++j;var _=w;if(p+j+(x!==v?1:0)>n)return void vr.log("Warning, gif stream longer than expected.");r[p++]=_;var N=p+=j;for(x!==v&&(r[p++]=_),w=x;j--;)w=g[w],r[--N]=255&w,w>>=8;m!==null&&l<4096&&(g[l++]=m<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else l=s+1,u=(1<<(c=a+1))-1,m=null}return p!==n&&vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qy(t){var e,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,x=7,j=new Array(64),w=new Array(64),_=new Array(64),N=new Array(256),A=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F($,W){for(var H=0,ee=0,le=new Array,oe=1;oe<=16;oe++){for(var de=1;de<=$[oe];de++)le[W[ee]]=[],le[W[ee]][0]=H,le[W[ee]][1]=oe,ee++,H++;H*=2}return le}function q($){for(var W=$[0],H=$[1]-1;H>=0;)W&1<<H&&(v|=1<<x),H--,--x<0&&(v==255?(B(255),B(0)):B(v),x=7,v=0)}function B($){m.push($)}function X($){B($>>8&255),B(255&$)}function J($,W,H,ee,le){for(var oe,de=le[0],se=le[240],he=(function(Pe,et){var $e,Xe,Ye,Wt,xt,bt,rr,Pt,st,ft,lt=0;for(st=0;st<8;++st){$e=Pe[lt],Xe=Pe[lt+1],Ye=Pe[lt+2],Wt=Pe[lt+3],xt=Pe[lt+4],bt=Pe[lt+5],rr=Pe[lt+6];var Gt=$e+(Pt=Pe[lt+7]),Yt=$e-Pt,at=Xe+rr,kt=Xe-rr,nr=Ye+bt,ht=Ye-bt,qt=Wt+xt,pt=Wt-xt,$r=Gt+qt,Gr=Gt-qt,ar=at+nr,wt=at-nr;Pe[lt]=$r+ar,Pe[lt+4]=$r-ar;var Be=.707106781*(wt+Gr);Pe[lt+2]=Gr+Be,Pe[lt+6]=Gr-Be;var xr=.382683433*(($r=pt+ht)-(wt=kt+Yt)),Kt=.5411961*$r+xr,Fr=1.306562965*wt+xr,Hn=.707106781*(ar=ht+kt),ze=Yt+Hn,Ur=Yt-Hn;Pe[lt+5]=Ur+Kt,Pe[lt+3]=Ur-Kt,Pe[lt+1]=ze+Fr,Pe[lt+7]=ze-Fr,lt+=8}for(lt=0,st=0;st<8;++st){$e=Pe[lt],Xe=Pe[lt+8],Ye=Pe[lt+16],Wt=Pe[lt+24],xt=Pe[lt+32],bt=Pe[lt+40],rr=Pe[lt+48];var na=$e+(Pt=Pe[lt+56]),Ir=$e-Pt,Rr=Xe+rr,Cr=Xe-rr,br=Ye+bt,jn=Ye-bt,ll=Wt+xt,po=Wt-xt,li=na+ll,zi=na-ll,ci=Rr+br,ui=Rr-br;Pe[lt]=li+ci,Pe[lt+32]=li-ci;var qa=.707106781*(ui+zi);Pe[lt+16]=zi+qa,Pe[lt+48]=zi-qa;var cl=.382683433*((li=po+jn)-(ui=Cr+Ir)),Wi=.5411961*li+cl,ul=1.306562965*ui+cl,bc=.707106781*(ci=jn+Cr),wc=Ir+bc,_c=Ir-bc;Pe[lt+40]=_c+Wi,Pe[lt+24]=_c-Wi,Pe[lt+8]=wc+ul,Pe[lt+56]=wc-ul,lt++}for(st=0;st<64;++st)ft=Pe[st]*et[st],h[st]=ft>0?ft+.5|0:ft-.5|0;return h})($,W),ge=0;ge<64;++ge)g[k[ge]]=he[ge];var ue=g[0]-H;H=g[0],ue==0?q(ee[0]):(q(ee[p[oe=32767+ue]]),q(f[oe]));for(var Oe=63;Oe>0&&g[Oe]==0;)Oe--;if(Oe==0)return q(de),H;for(var me,te=1;te<=Oe;){for(var Ge=te;g[te]==0&&te<=Oe;)++te;var Ue=te-Ge;if(Ue>=16){me=Ue>>4;for(var He=1;He<=me;++He)q(se);Ue&=15}oe=32767+g[te],q(le[(Ue<<4)+p[oe]]),q(f[oe]),te++}return Oe!=63&&q(de),H}function ie($){$=Math.min(Math.max($,1),100),i!=$&&((function(W){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var le=s((H[ee]*W+50)/100);le=Math.min(Math.max(le,1),255),l[k[ee]]=le}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var se=s((oe[de]*W+50)/100);se=Math.min(Math.max(se,1),255),c[k[de]]=se}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ue=0;ue<8;ue++)for(var Oe=0;Oe<8;Oe++)u[ge]=1/(l[k[ge]]*he[ue]*he[Oe]*8),d[ge]=1/(c[k[ge]]*he[ue]*he[Oe]*8),ge++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,W){W&&ie(W),m=new Array,v=0,x=7,X(65496),X(65504),X(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),X(1),X(1),B(0),B(0),(function(){X(65499),X(132),B(0);for(var Xe=0;Xe<64;Xe++)B(l[Xe]);B(1);for(var Ye=0;Ye<64;Ye++)B(c[Ye])})(),(function(Xe,Ye){X(65472),X(17),B(8),X(Ye),X(Xe),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)})($.width,$.height),(function(){X(65476),X(418),B(0);for(var Xe=0;Xe<16;Xe++)B(O[Xe+1]);for(var Ye=0;Ye<=11;Ye++)B(T[Ye]);B(16);for(var Wt=0;Wt<16;Wt++)B(R[Wt+1]);for(var xt=0;xt<=161;xt++)B(P[xt]);B(1);for(var bt=0;bt<16;bt++)B(I[bt+1]);for(var rr=0;rr<=11;rr++)B(M[rr]);B(17);for(var Pt=0;Pt<16;Pt++)B(D[Pt+1]);for(var st=0;st<=161;st++)B(G[st])})(),X(65498),X(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var H=0,ee=0,le=0;v=0,x=7,this.encode.displayName="_encode_";for(var oe,de,se,he,ge,ue,Oe,me,te,Ge=$.data,Ue=$.width,He=$.height,Pe=4*Ue,et=0;et<He;){for(oe=0;oe<Pe;){for(ge=Pe*et+oe,Oe=-1,me=0,te=0;te<64;te++)ue=ge+(me=te>>3)*Pe+(Oe=4*(7&te)),et+me>=He&&(ue-=Pe*(et+1+me-He)),oe+Oe>=Pe&&(ue-=oe+Oe-Pe+4),de=Ge[ue++],se=Ge[ue++],he=Ge[ue++],j[te]=(A[de]+A[se+256|0]+A[he+512|0]>>16)-128,w[te]=(A[de+768|0]+A[se+1024|0]+A[he+1280|0]>>16)-128,_[te]=(A[de+1280|0]+A[se+1536|0]+A[he+1792|0]>>16)-128;H=J(j,u,H,e,n),ee=J(w,d,ee,r,a),le=J(_,d,le,r,a),oe+=32}et+=8}if(x>=0){var $e=[];$e[1]=x+1,$e[0]=(1<<x+1)-1,q($e)}return X(65497),new Uint8Array(m)},t=t||50,(function(){for(var $=String.fromCharCode,W=0;W<256;W++)N[W]=$(W)})(),e=F(O,T),r=F(I,M),n=F(R,P),a=F(D,G),(function(){for(var $=1,W=2,H=1;H<=15;H++){for(var ee=$;ee<W;ee++)p[32767+ee]=H,f[32767+ee]=[],f[32767+ee][1]=H,f[32767+ee][0]=ee;for(var le=-(W-1);le<=-$;le++)p[32767+le]=H,f[32767+le]=[],f[32767+le][1]=H,f[32767+le][0]=W-1+le;$<<=1,W<<=1}})(),(function(){for(var $=0;$<256;$++)A[$]=19595*$,A[$+256|0]=38470*$,A[$+512|0]=7471*$+32768,A[$+768|0]=-11059*$,A[$+1024|0]=-21709*$,A[$+1280|0]=32768*$+8421375,A[$+1536|0]=-27439*$,A[$+1792|0]=-5329*$})(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fk(t){function e(T){if(!T)throw Error("assert :P")}function r(T,R,P){for(var I=0;4>I;I++)if(T[R+I]!=P.charCodeAt(I))return!0;return!1}function n(T,R,P,I,M){for(var D=0;D<M;D++)T[R+D]=P[I+D]}function a(T,R,P,I){for(var M=0;M<I;M++)T[R+M]=P}function i(T){return new Int32Array(T)}function s(T,R){for(var P=[],I=0;I<T;I++)P.push(new R);return P}function l(T,R){var P=[];return(function I(M,D,G){for(var F=G[D],q=0;q<F&&(M.push(G.length>D+1?[]:new R),!(G.length<D+1));q++)I(M[q],D+1,G)})(P,0,T),P}var c=function(){var T=this;function R(y,b){for(var E=1<<b-1>>>0;y&E;)E>>>=1;return E?(y&E-1)+E:y}function P(y,b,E,L,U){e(!(L%E));do y[b+(L-=E)]=U;while(0<L)}function I(y,b,E,L,U){if(e(2328>=U),512>=U)var V=i(512);else if((V=i(U))==null)return 0;return(function(Y,Z,Q,re,fe,we){var ne,pe,ye=Z,je=1<<Q,xe=i(16),Se=i(16);for(e(fe!=0),e(re!=null),e(Y!=null),e(0<Q),pe=0;pe<fe;++pe){if(15<re[pe])return 0;++xe[re[pe]]}if(xe[0]==fe)return 0;for(Se[1]=0,ne=1;15>ne;++ne){if(xe[ne]>1<<ne)return 0;Se[ne+1]=Se[ne]+xe[ne]}for(pe=0;pe<fe;++pe)ne=re[pe],0<re[pe]&&(we[Se[ne]++]=pe);if(Se[15]==1)return(re=new M).g=0,re.value=we[0],P(Y,ye,1,je,re),je;var ke,Ie=-1,Ee=je-1,ct=0,Ke=1,$t=1,rt=1<<Q;for(pe=0,ne=1,fe=2;ne<=Q;++ne,fe<<=1){if(Ke+=$t<<=1,0>($t-=xe[ne]))return 0;for(;0<xe[ne];--xe[ne])(re=new M).g=ne,re.value=we[pe++],P(Y,ye+ct,fe,rt,re),ct=R(ct,ne)}for(ne=Q+1,fe=2;15>=ne;++ne,fe<<=1){if(Ke+=$t<<=1,0>($t-=xe[ne]))return 0;for(;0<xe[ne];--xe[ne]){if(re=new M,(ct&Ee)!=Ie){for(ye+=rt,ke=1<<(Ie=ne)-Q;15>Ie&&!(0>=(ke-=xe[Ie]));)++Ie,ke<<=1;je+=rt=1<<(ke=Ie-Q),Y[Z+(Ie=ct&Ee)].g=ke+Q,Y[Z+Ie].value=ye-Z-Ie}re.g=ne-Q,re.value=we[pe++],P(Y,ye+(ct>>Q),fe,rt,re),ct=R(ct,ne)}}return Ke!=2*Se[15]-1?0:je})(y,b,E,L,U,V)}function M(){this.value=this.g=0}function D(){this.value=this.g=0}function G(){this.G=s(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Gi,D)}function F(y,b,E,L){e(y!=null),e(b!=null),e(2147483648>L),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=b,y.pa=E,y.Jd=b,y.Yc=E+L,y.Zc=4<=L?E+L-4+1:E,de(y)}function q(y,b){for(var E=0;0<b--;)E|=he(y,128)<<b;return E}function B(y,b){var E=q(y,b);return se(y)?-E:E}function X(y,b,E,L){var U,V=0;for(e(y!=null),e(b!=null),e(4294967288>L),y.Sb=L,y.Ra=0,y.u=0,y.h=0,4<L&&(L=4),U=0;U<L;++U)V+=b[E+U]<<8*U;y.Ra=V,y.bb=L,y.oa=b,y.pa=E}function J(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<wo-8>>>0,++y.bb,y.u-=8;ee(y)&&(y.h=1,y.u=0)}function ie(y,b){if(e(0<=b),!y.h&&b<=Hd){var E=H(y)&bo[b];return y.u+=b,J(y),E}return y.h=1,y.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(y){return y.Ra>>>(y.u&wo-1)>>>0}function ee(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>wo}function le(y,b){y.u=b,y.h=ee(y)}function oe(y){y.u>=Kr&&(e(y.u>=Kr),J(y))}function de(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function se(y){return q(y,1)}function he(y,b){var E=y.Ca;0>y.b&&de(y);var L=y.b,U=E*b>>>8,V=(y.I>>>L>U)+0;for(V?(E-=U,y.I-=U+1<<L>>>0):E=U+1,L=E,U=0;256<=L;)U+=8,L>>=8;return L=7^U+G0[L],y.b-=L,y.Ca=(E<<L)-1,V}function ge(y,b,E){y[b+0]=E>>24&255,y[b+1]=E>>16&255,y[b+2]=E>>8&255,y[b+3]=255&E}function ue(y,b){return y[b+0]|y[b+1]<<8}function Oe(y,b){return ue(y,b)|y[b+2]<<16}function me(y,b){return ue(y,b)|ue(y,b+2)<<16}function te(y,b){var E=1<<b;return e(y!=null),e(0<b),y.X=i(E),y.X==null?0:(y.Mb=32-b,y.Xa=b,1)}function Ge(y,b){e(y!=null),e(b!=null),e(y.Xa==b.Xa),n(b.X,0,y.X,0,1<<b.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function He(y,b,E,L){e(E!=null),e(L!=null);var U=E[0],V=L[0];return U==0&&(U=(y*V+b/2)/b),V==0&&(V=(b*U+y/2)/y),0>=U||0>=V?0:(E[0]=U,L[0]=V,1)}function Pe(y,b){return y+(1<<b)-1>>>b}function et(y,b){return((4278255360&y)+(4278255360&b)>>>0&4278255360)+((16711935&y)+(16711935&b)>>>0&16711935)>>>0}function $e(y,b){T[b]=function(E,L,U,V,Y,Z,Q){var re;for(re=0;re<Y;++re){var fe=T[y](Z[Q+re-1],U,V+re);Z[Q+re]=et(E[L+re],fe)}}}function Xe(){this.ud=this.hd=this.jd=0}function Ye(y,b){return((4278124286&(y^b))>>>1)+(y&b)>>>0}function Wt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function xt(y,b){return Wt(y+(y-b+.5>>1))}function bt(y,b,E){return Math.abs(b-E)-Math.abs(y-E)}function rr(y,b,E,L,U,V,Y){for(L=V[Y-1],E=0;E<U;++E)V[Y+E]=L=et(y[b+E],L)}function Pt(y,b,E,L,U){var V;for(V=0;V<E;++V){var Y=y[b+V],Z=Y>>8&255,Q=16711935&(Q=(Q=16711935&Y)+((Z<<16)+Z));L[U+V]=(4278255360&Y)+Q>>>0}}function st(y,b){b.jd=255&y,b.hd=y>>8&255,b.ud=y>>16&255}function ft(y,b,E,L,U,V){var Y;for(Y=0;Y<L;++Y){var Z=b[E+Y],Q=Z>>>8,re=Z,fe=255&(fe=(fe=Z>>>16)+((y.jd<<24>>24)*(Q<<24>>24)>>>5));re=255&(re=(re+=(y.hd<<24>>24)*(Q<<24>>24)>>>5)+((y.ud<<24>>24)*(fe<<24>>24)>>>5)),U[V+Y]=(4278255360&Z)+(fe<<16)+re}}function lt(y,b,E,L,U){T[b]=function(V,Y,Z,Q,re,fe,we,ne,pe){for(Q=we;Q<ne;++Q)for(we=0;we<pe;++we)re[fe++]=U(Z[L(V[Y++])])},T[y]=function(V,Y,Z,Q,re,fe,we){var ne=8>>V.b,pe=V.Ea,ye=V.K[0],je=V.w;if(8>ne)for(V=(1<<V.b)-1,je=(1<<ne)-1;Y<Z;++Y){var xe,Se=0;for(xe=0;xe<pe;++xe)xe&V||(Se=L(Q[re++])),fe[we++]=U(ye[Se&je]),Se>>=ne}else T["VP8LMapColor"+E](Q,re,ye,je,fe,we,Y,Z,pe)}}function Gt(y,b,E,L,U){for(E=b+E;b<E;){var V=y[b++];L[U++]=V>>16&255,L[U++]=V>>8&255,L[U++]=255&V}}function Yt(y,b,E,L,U){for(E=b+E;b<E;){var V=y[b++];L[U++]=V>>16&255,L[U++]=V>>8&255,L[U++]=255&V,L[U++]=V>>24&255}}function at(y,b,E,L,U){for(E=b+E;b<E;){var V=(Y=y[b++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[U++]=V,L[U++]=Y}}function kt(y,b,E,L,U){for(E=b+E;b<E;){var V=(Y=y[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[U++]=V,L[U++]=Y}}function nr(y,b,E,L,U){for(E=b+E;b<E;){var V=y[b++];L[U++]=255&V,L[U++]=V>>8&255,L[U++]=V>>16&255}}function ht(y,b,E,L,U,V){if(V==0)for(E=b+E;b<E;)ge(L,((V=y[b++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else n(L,U,y,b,E)}function qt(y,b){T[b][0]=T[y+"0"],T[b][1]=T[y+"1"],T[b][2]=T[y+"2"],T[b][3]=T[y+"3"],T[b][4]=T[y+"4"],T[b][5]=T[y+"5"],T[b][6]=T[y+"6"],T[b][7]=T[y+"7"],T[b][8]=T[y+"8"],T[b][9]=T[y+"9"],T[b][10]=T[y+"10"],T[b][11]=T[y+"11"],T[b][12]=T[y+"12"],T[b][13]=T[y+"13"],T[b][14]=T[y+"0"],T[b][15]=T[y+"0"]}function pt(y){return y==X0||y==Z0||y==mp||y==J0}function $r(){this.eb=[],this.size=this.A=this.fb=0}function Gr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $r,this.f.kb=new Gr,this.sd=null}function wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Be(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Kt(y,b){var E=y.T,L=b.ba.f.RGBA,U=L.eb,V=L.fb+y.ka*L.A,Y=Ha[b.ba.S],Z=y.y,Q=y.O,re=y.f,fe=y.N,we=y.ea,ne=y.W,pe=b.cc,ye=b.dc,je=b.Mc,xe=b.Nc,Se=y.ka,ke=y.ka+y.T,Ie=y.U,Ee=Ie+1>>1;for(Se==0?Y(Z,Q,null,null,re,fe,we,ne,re,fe,we,ne,U,V,null,null,Ie):(Y(b.ec,b.fc,Z,Q,pe,ye,je,xe,re,fe,we,ne,U,V-L.A,U,V,Ie),++E);Se+2<ke;Se+=2)pe=re,ye=fe,je=we,xe=ne,fe+=y.Rc,ne+=y.Rc,V+=2*L.A,Y(Z,(Q+=2*y.fa)-y.fa,Z,Q,pe,ye,je,xe,re,fe,we,ne,U,V-L.A,U,V,Ie);return Q+=y.fa,y.j+ke<y.o?(n(b.ec,b.fc,Z,Q,Ie),n(b.cc,b.dc,re,fe,Ee),n(b.Mc,b.Nc,we,ne,Ee),E--):1&ke||Y(Z,Q,null,null,re,fe,we,ne,re,fe,we,ne,U,V+L.A,null,null,Ie),E}function Fr(y,b,E){var L=y.F,U=[y.J];if(L!=null){var V=y.U,Y=b.ba.S,Z=Y==pp||Y==mp;b=b.ba.f.RGBA;var Q=[0],re=y.ka;Q[0]=y.T,y.Kb&&(re==0?--Q[0]:(--re,U[0]-=y.width),y.j+y.ka+y.T==y.o&&(Q[0]=y.o-y.j-re));var fe=b.eb;re=b.fb+re*b.A,y=gS(L,U[0],y.width,V,Q,fe,re+(Z?0:3),b.A),e(E==Q),y&&pt(Y)&&Kd(fe,re,Z,V,Q,b.A)}return 0}function Hn(y){var b=y.ma,E=b.ba.S,L=11>E,U=E==fp||E==hp||E==pp||E==K0||E==12||pt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!aa(b.Oa,y,U?11:12))return 0;if(U&&pt(E)&&qd(),y.da)alert("todo:use_scaling");else{if(L){if(b.Ib=xr,y.Kb){if(E=y.U+1>>1,b.memory=i(y.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+y.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Kt,qd()}}else alert("todo:EmitYUV");U&&(b.Jb=Fr,L&&xl())}if(L&&!TS){for(y=0;256>y;++y)eB[y]=89858*(y-128)+vp>>gp,nB[y]=-22014*(y-128)+vp,rB[y]=-45773*(y-128),tB[y]=113618*(y-128)+vp>>gp;for(y=Zd;y<ty;++y)b=76283*(y-16)+vp>>gp,aB[y-Zd]=dn(b,255),iB[y-Zd]=dn(b+8>>4,15);TS=1}return 1}function ze(y){var b=y.ma,E=y.U,L=y.T;return e(!(1&y.ka)),0>=E||0>=L?0:(E=b.Ib(y,b),b.Jb!=null&&b.Jb(y,b,E),b.Dc+=E,1)}function Ur(y){y.ma.memory=null}function na(y,b,E,L){return ie(y,8)!=47?0:(b[0]=ie(y,14)+1,E[0]=ie(y,14)+1,L[0]=ie(y,1),ie(y,3)!=0?0:!y.h)}function Ir(y,b){if(4>y)return y+1;var E=y-2>>1;return(2+(1&y)<<E)+ie(b,E)+1}function Rr(y,b){return 120<b?b-120:1<=(E=((E=BF[b-1])>>4)*y+(8-(15&E)))?E:1;var E}function Cr(y,b,E){var L=H(E),U=y[b+=255&L].g-8;return 0<U&&(le(E,E.u+8),L=H(E),b+=y[b].value,b+=L&(1<<U)-1),le(E,E.u+y[b].g),y[b].value}function br(y,b,E){return E.g+=y.g,E.value+=y.value<<b>>>0,e(8>=E.g),y.g}function jn(y,b,E){var L=y.xc;return e((b=L==0?0:y.vc[y.md*(E>>L)+(b>>L)])<y.Wb),y.Ya[b]}function ll(y,b,E,L){var U=y.ab,V=y.c*b,Y=y.C;b=Y+b;var Z=E,Q=L;for(L=y.Ta,E=y.Ua;0<U--;){var re=y.gc[U],fe=Y,we=b,ne=Z,pe=Q,ye=(Q=L,Z=E,re.Ea);switch(e(fe<we),e(we<=re.nc),re.hc){case 2:Tc(ne,pe,(we-fe)*ye,Q,Z);break;case 0:var je=fe,xe=we,Se=Q,ke=Z,Ie=(rt=re).Ea;je==0&&(Yi(ne,pe,null,null,1,Se,ke),rr(ne,pe+1,0,0,Ie-1,Se,ke+1),pe+=Ie,ke+=Ie,++je);for(var Ee=1<<rt.b,ct=Ee-1,Ke=Pe(Ie,rt.b),$t=rt.K,rt=rt.w+(je>>rt.b)*Ke;je<xe;){var Ht=$t,fn=rt,Ft=1;for(Ki(ne,pe,Se,ke-Ie,1,Se,ke);Ft<Ie;){var nt=(Ft&~ct)+Ee;nt>Ie&&(nt=Ie),(0,_l[Ht[fn++]>>8&15])(ne,pe+ +Ft,Se,ke+Ft-Ie,nt-Ft,Se,ke+Ft),Ft=nt}pe+=Ie,ke+=Ie,++je&ct||(rt+=Ke)}we!=re.nc&&n(Q,Z-ye,Q,Z+(we-fe-1)*ye,ye);break;case 1:for(ye=ne,xe=pe,Ie=(ne=re.Ea)-(ke=ne&~(Se=(pe=1<<re.b)-1)),je=Pe(ne,re.b),Ee=re.K,re=re.w+(fe>>re.b)*je;fe<we;){for(ct=Ee,Ke=re,$t=new Xe,rt=xe+ke,Ht=xe+ne;xe<rt;)st(ct[Ke++],$t),Os($t,ye,xe,pe,Q,Z),xe+=pe,Z+=pe;xe<Ht&&(st(ct[Ke++],$t),Os($t,ye,xe,Ie,Q,Z),xe+=Ie,Z+=Ie),++fe&Se||(re+=je)}break;case 3:if(ne==Q&&pe==Z&&0<re.b){for(xe=Q,ne=ye=Z+(we-fe)*ye-(ke=(we-fe)*Pe(re.Ea,re.b)),pe=Q,Se=Z,je=[],ke=(Ie=ke)-1;0<=ke;--ke)je[ke]=pe[Se+ke];for(ke=Ie-1;0<=ke;--ke)xe[ne+ke]=je[ke];Vd(re,fe,we,Q,ye,Q,Z)}else Vd(re,fe,we,ne,pe,Q,Z)}Z=L,Q=E}Q!=E&&n(L,E,Z,Q,V)}function po(y,b){var E=y.V,L=y.Ba+y.c*y.C,U=b-y.C;if(e(b<=y.l.o),e(16>=U),0<U){var V=y.l,Y=y.Ta,Z=y.Ua,Q=V.width;if(ll(y,U,E,L),U=Z=[Z],e((E=y.C)<(L=b)),e(V.v<V.va),L>V.o&&(L=V.o),E<V.j){var re=V.j-E;E=V.j,U[0]+=re*Q}if(E>=L?E=0:(U[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=L-E,E=1),E){if(Z=Z[0],11>(E=y.ca).S){var fe=E.f.RGBA,we=(L=E.S,U=V.U,V=V.T,re=fe.eb,fe.A),ne=V;for(fe=fe.fb+y.Ma*fe.A;0<ne--;){var pe=Y,ye=Z,je=U,xe=re,Se=fe;switch(L){case dp:Gd(pe,ye,je,xe,Se);break;case fp:ga(pe,ye,je,xe,Se);break;case X0:ga(pe,ye,je,xe,Se),Kd(xe,Se,0,je,1,0);break;case jS:_r(pe,ye,je,xe,Se);break;case hp:ht(pe,ye,je,xe,Se,1);break;case Z0:ht(pe,ye,je,xe,Se,1),Kd(xe,Se,0,je,1,0);break;case pp:ht(pe,ye,je,xe,Se,0);break;case mp:ht(pe,ye,je,xe,Se,0),Kd(xe,Se,1,je,1,0);break;case K0:Xi(pe,ye,je,xe,Se);break;case J0:Xi(pe,ye,je,xe,Se),mS(xe,Se,je,1,0);break;case NS:wr(pe,ye,je,xe,Se);break;default:e(0)}Z+=Q,fe+=we}y.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=E.height)}}y.C=b,e(y.C<=y.i)}function li(y){var b;if(0<y.ua)return 0;for(b=0;b<y.Wb;++b){var E=y.Ya[b].G,L=y.Ya[b].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function zi(y,b,E,L,U,V){if(y.Z!=0){var Y=y.qd,Z=y.rd;for(e(jo[y.Z]!=null);b<E;++b)jo[y.Z](Y,Z,L,U,L,U,V),Y=L,Z=U,U+=V;y.qd=Y,y.rd=Z}}function ci(y,b){var E=y.l.ma,L=E.Z==0||E.Z==1?y.l.j:y.C;if(L=y.C<L?L:y.C,e(b<=y.l.o),b>L){var U=y.l.width,V=E.ca,Y=E.tb+U*L,Z=y.V,Q=y.Ba+y.c*L,re=y.gc;e(y.ab==1),e(re[0].hc==3),Rc(re[0],L,b,Z,Q,V,Y),zi(E,L,b,V,Y,U)}y.C=y.Ma=b}function ui(y,b,E,L,U,V,Y){var Z=y.$/L,Q=y.$%L,re=y.m,fe=y.s,we=E+y.$,ne=we;U=E+L*U;var pe=E+L*V,ye=280+fe.ua,je=y.Pb?Z:16777216,xe=0<fe.ua?fe.Wa:null,Se=fe.wc,ke=we<pe?jn(fe,Q,Z):null;e(y.C<V),e(pe<=U);var Ie=!1;e:for(;;){for(;Ie||we<pe;){var Ee=0;if(Z>=je){var ct=we-E;e((je=y).Pb),je.wd=je.m,je.xd=ct,0<je.s.ua&&Ge(je.s.Wa,je.s.vb),je=Z+UF}if(Q&Se||(ke=jn(fe,Q,Z)),e(ke!=null),ke.Qb&&(b[we]=ke.qb,Ie=!0),!Ie)if(oe(re),ke.jc){Ee=re,ct=b;var Ke=we,$t=ke.pd[H(Ee)&Gi-1];e(ke.jc),256>$t.g?(le(Ee,Ee.u+$t.g),ct[Ke]=$t.value,Ee=0):(le(Ee,Ee.u+$t.g-256),e(256<=$t.value),Ee=$t.value),Ee==0&&(Ie=!0)}else Ee=Cr(ke.G[0],ke.H[0],re);if(re.h)break;if(Ie||256>Ee){if(!Ie)if(ke.nd)b[we]=(ke.qb|Ee<<8)>>>0;else{if(oe(re),Ie=Cr(ke.G[1],ke.H[1],re),oe(re),ct=Cr(ke.G[2],ke.H[2],re),Ke=Cr(ke.G[3],ke.H[3],re),re.h)break;b[we]=(Ke<<24|Ie<<16|Ee<<8|ct)>>>0}if(Ie=!1,++we,++Q>=L&&(Q=0,++Z,Y!=null&&Z<=V&&!(Z%16)&&Y(y,Z),xe!=null))for(;ne<we;)Ee=b[ne++],xe.X[(506832829*Ee&4294967295)>>>xe.Mb]=Ee}else if(280>Ee){if(Ee=Ir(Ee-256,re),ct=Cr(ke.G[4],ke.H[4],re),oe(re),ct=Rr(L,ct=Ir(ct,re)),re.h)break;if(we-E<ct||U-we<Ee)break e;for(Ke=0;Ke<Ee;++Ke)b[we+Ke]=b[we+Ke-ct];for(we+=Ee,Q+=Ee;Q>=L;)Q-=L,++Z,Y!=null&&Z<=V&&!(Z%16)&&Y(y,Z);if(e(we<=U),Q&Se&&(ke=jn(fe,Q,Z)),xe!=null)for(;ne<we;)Ee=b[ne++],xe.X[(506832829*Ee&4294967295)>>>xe.Mb]=Ee}else{if(!(Ee<ye))break e;for(Ie=Ee-280,e(xe!=null);ne<we;)Ee=b[ne++],xe.X[(506832829*Ee&4294967295)>>>xe.Mb]=Ee;Ee=we,e(!(Ie>>>(ct=xe).Xa)),b[Ee]=ct.X[Ie],Ie=!0}Ie||e(re.h==ee(re))}if(y.Pb&&re.h&&we<U)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ge(y.s.vb,y.s.Wa);else{if(re.h)break e;Y!=null&&Y(y,Z>V?V:Z),y.a=0,y.$=we-E}return 1}return y.a=3,0}function qa(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var b=y.Wa;b!=null&&(b.X=null),y.vb=null,e(y!=null)}function cl(){var y=new Br;return y==null?null:(y.a=0,y.xb=kS,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),Tc=Pt,Os=ft,Gd=Gt,ga=Yt,Xi=at,wr=kt,_r=nr,T.VP8LMapColor32b=Ic,T.VP8LMapColor8b=wl,y)}function Wi(y,b,E,L,U){var V=1,Y=[y],Z=[b],Q=L.m,re=L.s,fe=null,we=0;e:for(;;){if(E)for(;V&&ie(Q,1);){var ne=Y,pe=Z,ye=L,je=1,xe=ye.m,Se=ye.gc[ye.ab],ke=ie(xe,2);if(ye.Oc&1<<ke)V=0;else{switch(ye.Oc|=1<<ke,Se.hc=ke,Se.Ea=ne[0],Se.nc=pe[0],Se.K=[null],++ye.ab,e(4>=ye.ab),ke){case 0:case 1:Se.b=ie(xe,3)+2,je=Wi(Pe(Se.Ea,Se.b),Pe(Se.nc,Se.b),0,ye,Se.K),Se.K=Se.K[0];break;case 3:var Ie,Ee=ie(xe,8)+1,ct=16<Ee?0:4<Ee?1:2<Ee?2:3;if(ne[0]=Pe(Se.Ea,ct),Se.b=ct,Ie=je=Wi(Ee,1,0,ye,Se.K)){var Ke,$t=Ee,rt=Se,Ht=1<<(8>>rt.b),fn=i(Ht);if(fn==null)Ie=0;else{var Ft=rt.K[0],nt=rt.w;for(fn[0]=rt.K[0][0],Ke=1;Ke<1*$t;++Ke)fn[Ke]=et(Ft[nt+Ke],fn[Ke-1]);for(;Ke<4*Ht;++Ke)fn[Ke]=0;rt.K[0]=null,rt.K[0]=fn,Ie=1}}je=Ie;break;case 2:break;default:e(0)}V=je}}if(Y=Y[0],Z=Z[0],V&&ie(Q,1)&&!(V=1<=(we=ie(Q,4))&&11>=we)){L.a=3;break e}var Fe;if(Fe=V)t:{var Jr,It,Vt,Or=L,Tn=Y,Gn=Z,zr=we,Dn=E,Yn=Or.m,hn=Or.s,Xt=[null],or=1,Wr=0,lr=qF[zr];r:for(;;){if(Dn&&ie(Yn,1)){var In=ie(Yn,3)+2,pi=Pe(Tn,In),Qr=Pe(Gn,In),sa=pi*Qr;if(!Wi(pi,Qr,0,Or,Xt))break r;for(Xt=Xt[0],hn.xc=In,Jr=0;Jr<sa;++Jr){var gr=Xt[Jr]>>8&65535;Xt[Jr]=gr,gr>=or&&(or=gr+1)}}if(Yn.h)break r;for(It=0;5>It;++It){var pn=SS[It];!It&&0<zr&&(pn+=1<<zr),Wr<pn&&(Wr=pn)}var ya=s(or*lr,M),Kn=or,xa=s(Kn,G);if(xa==null)var ba=null;else e(65536>=Kn),ba=xa;var oa=i(Wr);if(ba==null||oa==null||ya==null){Or.a=1;break r}var wa=ya;for(Jr=Vt=0;Jr<or;++Jr){var jr=ba[Jr],_a=jr.G,mi=jr.H,jl=0,Is=1,Rn=0;for(It=0;5>It;++It){pn=SS[It],_a[It]=wa,mi[It]=Vt,!It&&0<zr&&(pn+=1<<zr);a:{var xp,ry=pn,bp=Or,Jd=oa,lB=wa,cB=Vt,ny=0,No=bp.m,uB=ie(No,1);if(a(Jd,0,0,ry),uB){var dB=ie(No,1)+1,fB=ie(No,1),LS=ie(No,fB==0?1:8);Jd[LS]=1,dB==2&&(Jd[LS=ie(No,8)]=1);var wp=1}else{var MS=i(19),DS=ie(No,4)+4;if(19<DS){bp.a=3;var _p=0;break a}for(xp=0;xp<DS;++xp)MS[FF[xp]]=ie(No,3);var ay=void 0,Qd=void 0,$S=bp,hB=MS,jp=ry,FS=Jd,iy=0,So=$S.m,BS=8,qS=s(128,M);n:for(;I(qS,0,7,hB,19);){if(ie(So,1)){var pB=2+2*ie(So,3);if((ay=2+ie(So,pB))>jp)break n}else ay=jp;for(Qd=0;Qd<jp&&ay--;){oe(So);var US=qS[0+(127&H(So))];le(So,So.u+US.g);var Mc=US.value;if(16>Mc)FS[Qd++]=Mc,Mc!=0&&(BS=Mc);else{var mB=Mc==16,zS=Mc-16,gB=DF[zS],WS=ie(So,MF[zS])+gB;if(Qd+WS>jp)break n;for(var vB=mB?BS:0;0<WS--;)FS[Qd++]=vB}}iy=1;break n}iy||($S.a=3),wp=iy}(wp=wp&&!No.h)&&(ny=I(lB,cB,8,Jd,ry)),wp&&ny!=0?_p=ny:(bp.a=3,_p=0)}if(_p==0)break r;if(Is&&$F[It]==1&&(Is=wa[Vt].g==0),jl+=wa[Vt].g,Vt+=_p,3>=It){var ef,sy=oa[0];for(ef=1;ef<pn;++ef)oa[ef]>sy&&(sy=oa[ef]);Rn+=sy}}if(jr.nd=Is,jr.Qb=0,Is&&(jr.qb=(_a[3][mi[3]+0].value<<24|_a[1][mi[1]+0].value<<16|_a[2][mi[2]+0].value)>>>0,jl==0&&256>_a[0][mi[0]+0].value&&(jr.Qb=1,jr.qb+=_a[0][mi[0]+0].value<<8)),jr.jc=!jr.Qb&&6>Rn,jr.jc){var Np,Rs=jr;for(Np=0;Np<Gi;++Np){var Ao=Np,ko=Rs.pd[Ao],Sp=Rs.G[0][Rs.H[0]+Ao];256<=Sp.value?(ko.g=Sp.g+256,ko.value=Sp.value):(ko.g=0,ko.value=0,Ao>>=br(Sp,8,ko),Ao>>=br(Rs.G[1][Rs.H[1]+Ao],16,ko),Ao>>=br(Rs.G[2][Rs.H[2]+Ao],0,ko),br(Rs.G[3][Rs.H[3]+Ao],24,ko))}}}hn.vc=Xt,hn.Wb=or,hn.Ya=ba,hn.yc=ya,Fe=1;break t}Fe=0}if(!(V=Fe)){L.a=3;break e}if(0<we){if(re.ua=1<<we,!te(re.Wa,we)){L.a=1,V=0;break e}}else re.ua=0;var oy=L,HS=Y,yB=Z,ly=oy.s,cy=ly.xc;if(oy.c=HS,oy.i=yB,ly.md=Pe(HS,cy),ly.wc=cy==0?-1:(1<<cy)-1,E){L.xb=KF;break e}if((fe=i(Y*Z))==null){L.a=1,V=0;break e}V=(V=ui(L,fe,0,Y,Z,Z,null))&&!Q.h;break e}return V?(U!=null?U[0]=fe:(e(fe==null),e(E)),L.$=0,E||qa(re)):qa(re),V}function ul(y,b){var E=y.c*y.i,L=E+b+16*b;return e(y.c<=b),y.V=i(L),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+E+b,1)}function bc(y,b){var E=y.C,L=b-E,U=y.V,V=y.Ba+y.c*E;for(e(b<=y.l.o);0<L;){var Y=16<L?16:L,Z=y.l.ma,Q=y.l.width,re=Q*Y,fe=Z.ca,we=Z.tb+Q*E,ne=y.Ta,pe=y.Ua;ll(y,Y,U,V),vS(ne,pe,fe,we,re),zi(Z,E,E+Y,fe,we,Q),L-=Y,U+=Y*y.c,E+=Y}e(E==b),y.C=y.Ma=b}function wc(){this.ub=this.yd=this.td=this.Rb=0}function _c(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function O0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function kd(){this.Yb=(function(){var y=[];return(function b(E,L,U){for(var V=U[L],Y=0;Y<V&&(E.push(U.length>L+1?[]:0),!(U.length<L+1));Y++)b(E[Y],L+1,U)})(y,0,[3,11]),y})()}function Zh(){this.jb=i(3),this.Wc=l([4,8],kd),this.Xc=l([4,17],kd)}function Jh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ua(){this.ld=this.La=this.dd=this.tc=0}function Pd(){this.Na=this.la=0}function Qh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ep(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ua),this.Y=0,this.ya=Array(new Cd),this.aa=0,this.l=new jc}function tp(){this.y=i(16),this.f=i(8),this.ea=i(8)}function rp(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new wc,this.Kc=new _c,this.ed=new Jh,this.Qa=new O0,this.Ic=this.$c=this.Aa=0,this.D=new ep,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,Qh),this.Pa=new Zh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tp),this.Hd=0,this.rb=Array(new Pd),this.sb=0,this.wa=Array(new Ua),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cd),this.L=this.aa=0,this.gd=l([4,2],Ua),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function E0(){var y=new rp;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Xd||(Xd=Ns)),y}function an(y,b,E){return y.a==0&&(y.a=b,y.sc=E,y.cb=0),0}function np(y,b,E){return 3<=E&&y[b+0]==157&&y[b+1]==1&&y[b+2]==42}function ap(y,b){if(y==null)return 0;if(y.a=0,y.sc="OK",b==null)return an(y,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,L=b.w,U=b.ha;if(4>U)return an(y,7,"Truncated header.");var V=E[L+0]|E[L+1]<<8|E[L+2]<<16,Y=y.Od;if(Y.Rb=!(1&V),Y.td=V>>1&7,Y.yd=V>>4&1,Y.ub=V>>5,3<Y.td)return an(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return an(y,4,"Frame not displayable.");L+=3,U-=3;var Z=y.Kc;if(Y.Rb){if(7>U)return an(y,7,"cannot parse picture header");if(!np(E,L,U))return an(y,3,"Bad code word");Z.c=16383&(E[L+4]<<8|E[L+3]),Z.Td=E[L+4]>>6,Z.i=16383&(E[L+6]<<8|E[L+5]),Z.Ud=E[L+6]>>6,L+=7,U-=7,y.za=Z.c+15>>4,y.Ub=Z.i+15>>4,b.width=Z.c,b.height=Z.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((V=y.Pa).jb,0,255,V.jb.length),e((V=y.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(Y.ub>U)return an(y,7,"bad partition length");F(V=y.m,E,L,Y.ub),L+=Y.ub,U-=Y.ub,Y.Rb&&(Z.Ld=se(V),Z.Kd=se(V)),Z=y.Qa;var Q,re=y.Pa;if(e(V!=null),e(Z!=null),Z.Cb=se(V),Z.Cb){if(Z.Bb=se(V),se(V)){for(Z.Fb=se(V),Q=0;4>Q;++Q)Z.Zb[Q]=se(V)?B(V,7):0;for(Q=0;4>Q;++Q)Z.Lb[Q]=se(V)?B(V,6):0}if(Z.Bb)for(Q=0;3>Q;++Q)re.jb[Q]=se(V)?q(V,8):255}else Z.Bb=0;if(V.Ka)return an(y,3,"cannot parse segment header");if((Z=y.ed).zd=se(V),Z.Tb=q(V,6),Z.wb=q(V,3),Z.Pc=se(V),Z.Pc&&se(V)){for(re=0;4>re;++re)se(V)&&(Z.vd[re]=B(V,6));for(re=0;4>re;++re)se(V)&&(Z.od[re]=B(V,6))}if(y.L=Z.Tb==0?0:Z.zd?1:2,V.Ka)return an(y,3,"cannot parse filter header");var fe=U;if(U=Q=L,L=Q+fe,Z=fe,y.Xb=(1<<q(y.m,2))-1,fe<3*(re=y.Xb))E=7;else{for(Q+=3*re,Z-=3*re,fe=0;fe<re;++fe){var we=E[U+0]|E[U+1]<<8|E[U+2]<<16;we>Z&&(we=Z),F(y.Jc[+fe],E,Q,we),Q+=we,Z-=we,U+=3}F(y.Jc[+re],E,Q,Z),E=Q<L?0:5}if(E!=0)return an(y,E,"cannot parse partitions");for(E=q(Q=y.m,7),U=se(Q)?B(Q,4):0,L=se(Q)?B(Q,4):0,Z=se(Q)?B(Q,4):0,re=se(Q)?B(Q,4):0,Q=se(Q)?B(Q,4):0,fe=y.Qa,we=0;4>we;++we){if(fe.Cb){var ne=fe.Zb[we];fe.Fb||(ne+=E)}else{if(0<we){y.pb[we]=y.pb[0];continue}ne=E}var pe=y.pb[we];pe.Sc[0]=Q0[dn(ne+U,127)],pe.Sc[1]=ey[dn(ne+0,127)],pe.Eb[0]=2*Q0[dn(ne+L,127)],pe.Eb[1]=101581*ey[dn(ne+Z,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Q0[dn(ne+re,117)],pe.Qc[1]=ey[dn(ne+Q,127)],pe.lc=ne+Q}if(!Y.Rb)return an(y,4,"Not a key frame.");for(se(V),Y=y.Pa,E=0;4>E;++E){for(U=0;8>U;++U)for(L=0;3>L;++L)for(Z=0;11>Z;++Z)re=he(V,GF[E][U][L][Z])?q(V,8):HF[E][U][L][Z],Y.Wc[E][U].Yb[L][Z]=re;for(U=0;17>U;++U)Y.Xc[E][U]=Y.Wc[E][YF[U]]}return y.kc=se(V),y.kc&&(y.Bd=q(V,8)),y.cb=1}function Ns(y,b,E,L,U,V,Y){var Z=b[U].Yb[E];for(E=0;16>U;++U){if(!he(y,Z[E+0]))return U;for(;!he(y,Z[E+1]);)if(Z=b[++U].Yb[0],E=0,U==16)return 16;var Q=b[U+1].Yb;if(he(y,Z[E+2])){var re=y,fe=0;if(he(re,(ne=Z)[(we=E)+3]))if(he(re,ne[we+6])){for(Z=0,we=2*(fe=he(re,ne[we+8]))+(ne=he(re,ne[we+9+fe])),fe=0,ne=zF[we];ne[Z];++Z)fe+=fe+he(re,ne[Z]);fe+=3+(8<<we)}else he(re,ne[we+7])?(fe=7+2*he(re,165),fe+=he(re,145)):fe=5+he(re,159);else fe=he(re,ne[we+4])?3+he(re,ne[we+5]):2;Z=Q[2]}else fe=1,Z=Q[1];Q=Y+WF[U],0>(re=y).b&&de(re);var we,ne=re.b,pe=(we=re.Ca>>1)-(re.I>>ne)>>31;--re.b,re.Ca+=pe,re.Ca|=1,re.I-=(we+1&pe)<<ne,V[Q]=((fe^pe)-pe)*L[(0<U)+0]}return 16}function dl(y){var b=y.rb[y.sb-1];b.la=0,b.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function di(y,b,E,L,U){U=y[b+E+32*L]+(U>>3),y[b+E+32*L]=-256&U?0>U?0:255:U}function fl(y,b,E,L,U,V){di(y,b,0,E,L+U),di(y,b,1,E,L+V),di(y,b,2,E,L-V),di(y,b,3,E,L-U)}function Yr(y){return(20091*y>>16)+y}function Od(y,b,E,L){var U,V=0,Y=i(16);for(U=0;4>U;++U){var Z=y[b+0]+y[b+8],Q=y[b+0]-y[b+8],re=(35468*y[b+4]>>16)-Yr(y[b+12]),fe=Yr(y[b+4])+(35468*y[b+12]>>16);Y[V+0]=Z+fe,Y[V+1]=Q+re,Y[V+2]=Q-re,Y[V+3]=Z-fe,V+=4,b++}for(U=V=0;4>U;++U)Z=(y=Y[V+0]+4)+Y[V+8],Q=y-Y[V+8],re=(35468*Y[V+4]>>16)-Yr(Y[V+12]),di(E,L,0,0,Z+(fe=Yr(Y[V+4])+(35468*Y[V+12]>>16))),di(E,L,1,0,Q+re),di(E,L,2,0,Q-re),di(E,L,3,0,Z-fe),V++,L+=32}function T0(y,b,E,L){var U=y[b+0]+4,V=35468*y[b+4]>>16,Y=Yr(y[b+4]),Z=35468*y[b+1]>>16;fl(E,L,0,U+Y,y=Yr(y[b+1]),Z),fl(E,L,1,U+V,y,Z),fl(E,L,2,U-V,y,Z),fl(E,L,3,U-Y,y,Z)}function I0(y,b,E,L,U){Od(y,b,E,L),U&&Od(y,b+16,E,L+4)}function R0(y,b,E,L){Zr(y,b+0,E,L,1),Zr(y,b+32,E,L+128,1)}function Hi(y,b,E,L){var U;for(y=y[b+0]+4,U=0;4>U;++U)for(b=0;4>b;++b)di(E,L,b,U,y)}function ip(y,b,E,L){y[b+0]&&Zi(y,b+0,E,L),y[b+16]&&Zi(y,b+16,E,L+4),y[b+32]&&Zi(y,b+32,E,L+128),y[b+48]&&Zi(y,b+48,E,L+128+4)}function sp(y,b,E,L){var U,V=i(16);for(U=0;4>U;++U){var Y=y[b+0+U]+y[b+12+U],Z=y[b+4+U]+y[b+8+U],Q=y[b+4+U]-y[b+8+U],re=y[b+0+U]-y[b+12+U];V[0+U]=Y+Z,V[8+U]=Y-Z,V[4+U]=re+Q,V[12+U]=re-Q}for(U=0;4>U;++U)Y=(y=V[0+4*U]+3)+V[3+4*U],Z=V[1+4*U]+V[2+4*U],Q=V[1+4*U]-V[2+4*U],re=y-V[3+4*U],E[L+0]=Y+Z>>3,E[L+16]=re+Q>>3,E[L+32]=Y-Z>>3,E[L+48]=re-Q>>3,L+=64}function mo(y,b,E){var L,U=b-32,V=va,Y=255-y[U-1];for(L=0;L<E;++L){var Z,Q=V,re=Y+y[b-1];for(Z=0;Z<E;++Z)y[b+Z]=Q[re+y[U+Z]];b+=32}}function Ed(y,b){mo(y,b,4)}function L0(y,b){mo(y,b,8)}function M0(y,b){mo(y,b,16)}function D0(y,b){var E;for(E=0;16>E;++E)n(y,b+32*E,y,b-32,16)}function Td(y,b){var E;for(E=16;0<E;--E)a(y,b,y[b-1],16),b+=32}function hl(y,b,E){var L;for(L=0;16>L;++L)a(b,E+32*L,y,16)}function go(y,b){var E,L=16;for(E=0;16>E;++E)L+=y[b-1+32*E]+y[b+E-32];hl(L>>5,y,b)}function $0(y,b){var E,L=8;for(E=0;16>E;++E)L+=y[b-1+32*E];hl(L>>4,y,b)}function pl(y,b){var E,L=8;for(E=0;16>E;++E)L+=y[b+E-32];hl(L>>4,y,b)}function Id(y,b){hl(128,y,b)}function Ct(y,b,E){return y+2*b+E+2>>2}function F0(y,b){var E,L=b-32;for(L=new Uint8Array([Ct(y[L-1],y[L+0],y[L+1]),Ct(y[L+0],y[L+1],y[L+2]),Ct(y[L+1],y[L+2],y[L+3]),Ct(y[L+2],y[L+3],y[L+4])]),E=0;4>E;++E)n(y,b+32*E,L,0,L.length)}function B0(y,b){var E=y[b-1],L=y[b-1+32],U=y[b-1+64],V=y[b-1+96];ge(y,b+0,16843009*Ct(y[b-1-32],E,L)),ge(y,b+32,16843009*Ct(E,L,U)),ge(y,b+64,16843009*Ct(L,U,V)),ge(y,b+96,16843009*Ct(U,V,V))}function q0(y,b){var E,L=4;for(E=0;4>E;++E)L+=y[b+E-32]+y[b-1+32*E];for(L>>=3,E=0;4>E;++E)a(y,b+32*E,L,4)}function U0(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1-32],Y=y[b+0-32],Z=y[b+1-32],Q=y[b+2-32],re=y[b+3-32];y[b+0+96]=Ct(L,U,y[b-1+96]),y[b+1+96]=y[b+0+64]=Ct(E,L,U),y[b+2+96]=y[b+1+64]=y[b+0+32]=Ct(V,E,L),y[b+3+96]=y[b+2+64]=y[b+1+32]=y[b+0+0]=Ct(Y,V,E),y[b+3+64]=y[b+2+32]=y[b+1+0]=Ct(Z,Y,V),y[b+3+32]=y[b+2+0]=Ct(Q,Z,Y),y[b+3+0]=Ct(re,Q,Z)}function Ss(y,b){var E=y[b+1-32],L=y[b+2-32],U=y[b+3-32],V=y[b+4-32],Y=y[b+5-32],Z=y[b+6-32],Q=y[b+7-32];y[b+0+0]=Ct(y[b+0-32],E,L),y[b+1+0]=y[b+0+32]=Ct(E,L,U),y[b+2+0]=y[b+1+32]=y[b+0+64]=Ct(L,U,V),y[b+3+0]=y[b+2+32]=y[b+1+64]=y[b+0+96]=Ct(U,V,Y),y[b+3+32]=y[b+2+64]=y[b+1+96]=Ct(V,Y,Z),y[b+3+64]=y[b+2+96]=Ct(Y,Z,Q),y[b+3+96]=Ct(Z,Q,Q)}function As(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1-32],Y=y[b+0-32],Z=y[b+1-32],Q=y[b+2-32],re=y[b+3-32];y[b+0+0]=y[b+1+64]=V+Y+1>>1,y[b+1+0]=y[b+2+64]=Y+Z+1>>1,y[b+2+0]=y[b+3+64]=Z+Q+1>>1,y[b+3+0]=Q+re+1>>1,y[b+0+96]=Ct(U,L,E),y[b+0+64]=Ct(L,E,V),y[b+0+32]=y[b+1+96]=Ct(E,V,Y),y[b+1+32]=y[b+2+96]=Ct(V,Y,Z),y[b+2+32]=y[b+3+96]=Ct(Y,Z,Q),y[b+3+32]=Ct(Z,Q,re)}function z0(y,b){var E=y[b+0-32],L=y[b+1-32],U=y[b+2-32],V=y[b+3-32],Y=y[b+4-32],Z=y[b+5-32],Q=y[b+6-32],re=y[b+7-32];y[b+0+0]=E+L+1>>1,y[b+1+0]=y[b+0+64]=L+U+1>>1,y[b+2+0]=y[b+1+64]=U+V+1>>1,y[b+3+0]=y[b+2+64]=V+Y+1>>1,y[b+0+32]=Ct(E,L,U),y[b+1+32]=y[b+0+96]=Ct(L,U,V),y[b+2+32]=y[b+1+96]=Ct(U,V,Y),y[b+3+32]=y[b+2+96]=Ct(V,Y,Z),y[b+3+64]=Ct(Y,Z,Q),y[b+3+96]=Ct(Z,Q,re)}function W0(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1+96];y[b+0+0]=E+L+1>>1,y[b+2+0]=y[b+0+32]=L+U+1>>1,y[b+2+32]=y[b+0+64]=U+V+1>>1,y[b+1+0]=Ct(E,L,U),y[b+3+0]=y[b+1+32]=Ct(L,U,V),y[b+3+32]=y[b+1+64]=Ct(U,V,V),y[b+3+64]=y[b+2+64]=y[b+0+96]=y[b+1+96]=y[b+2+96]=y[b+3+96]=V}function Nc(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1+96],Y=y[b-1-32],Z=y[b+0-32],Q=y[b+1-32],re=y[b+2-32];y[b+0+0]=y[b+2+32]=E+Y+1>>1,y[b+0+32]=y[b+2+64]=L+E+1>>1,y[b+0+64]=y[b+2+96]=U+L+1>>1,y[b+0+96]=V+U+1>>1,y[b+3+0]=Ct(Z,Q,re),y[b+2+0]=Ct(Y,Z,Q),y[b+1+0]=y[b+3+32]=Ct(E,Y,Z),y[b+1+32]=y[b+3+64]=Ct(L,E,Y),y[b+1+64]=y[b+3+96]=Ct(U,L,E),y[b+1+96]=Ct(V,U,L)}function Rd(y,b){var E;for(E=0;8>E;++E)n(y,b+32*E,y,b-32,8)}function ml(y,b){var E;for(E=0;8>E;++E)a(y,b,y[b-1],8),b+=32}function Sc(y,b,E){var L;for(L=0;8>L;++L)a(b,E+32*L,y,8)}function Ac(y,b){var E,L=8;for(E=0;8>E;++E)L+=y[b+E-32]+y[b-1+32*E];Sc(L>>4,y,b)}function H0(y,b){var E,L=4;for(E=0;8>E;++E)L+=y[b+E-32];Sc(L>>3,y,b)}function Ld(y,b){var E,L=4;for(E=0;8>E;++E)L+=y[b-1+32*E];Sc(L>>3,y,b)}function Md(y,b){Sc(128,y,b)}function gl(y,b,E){var L=y[b-E],U=y[b+0],V=3*(U-L)+Y0[1020+y[b-2*E]-y[b+E]],Y=up[112+(V+4>>3)];y[b-E]=va[255+L+up[112+(V+3>>3)]],y[b+0]=va[255+U-Y]}function vl(y,b,E,L){var U=y[b+0],V=y[b+E];return Wa[255+y[b-2*E]-y[b-E]]>L||Wa[255+V-U]>L}function Dd(y,b,E,L){return 4*Wa[255+y[b-E]-y[b+0]]+Wa[255+y[b-2*E]-y[b+E]]<=L}function kc(y,b,E,L,U){var V=y[b-3*E],Y=y[b-2*E],Z=y[b-E],Q=y[b+0],re=y[b+E],fe=y[b+2*E],we=y[b+3*E];return 4*Wa[255+Z-Q]+Wa[255+Y-re]>L?0:Wa[255+y[b-4*E]-V]<=U&&Wa[255+V-Y]<=U&&Wa[255+Y-Z]<=U&&Wa[255+we-fe]<=U&&Wa[255+fe-re]<=U&&Wa[255+re-Q]<=U}function $d(y,b,E,L){var U=2*L+1;for(L=0;16>L;++L)Dd(y,b+L,E,U)&&gl(y,b+L,E)}function yl(y,b,E,L){var U=2*L+1;for(L=0;16>L;++L)Dd(y,b+L*E,1,U)&&gl(y,b+L*E,1)}function Fd(y,b,E,L){var U;for(U=3;0<U;--U)$d(y,b+=4*E,E,L)}function Bd(y,b,E,L){var U;for(U=3;0<U;--U)yl(y,b+=4,E,L)}function ma(y,b,E,L,U,V,Y,Z){for(V=2*V+1;0<U--;){if(kc(y,b,E,V,Y))if(vl(y,b,E,Z))gl(y,b,E);else{var Q=y,re=b,fe=E,we=Q[re-2*fe],ne=Q[re-fe],pe=Q[re+0],ye=Q[re+fe],je=Q[re+2*fe],xe=27*(ke=Y0[1020+3*(pe-ne)+Y0[1020+we-ye]])+63>>7,Se=18*ke+63>>7,ke=9*ke+63>>7;Q[re-3*fe]=va[255+Q[re-3*fe]+ke],Q[re-2*fe]=va[255+we+Se],Q[re-fe]=va[255+ne+xe],Q[re+0]=va[255+pe-xe],Q[re+fe]=va[255+ye-Se],Q[re+2*fe]=va[255+je-ke]}b+=L}}function Vi(y,b,E,L,U,V,Y,Z){for(V=2*V+1;0<U--;){if(kc(y,b,E,V,Y))if(vl(y,b,E,Z))gl(y,b,E);else{var Q=y,re=b,fe=E,we=Q[re-fe],ne=Q[re+0],pe=Q[re+fe],ye=up[112+(4+(je=3*(ne-we))>>3)],je=up[112+(je+3>>3)],xe=ye+1>>1;Q[re-2*fe]=va[255+Q[re-2*fe]+xe],Q[re-fe]=va[255+we+je],Q[re+0]=va[255+ne-ye],Q[re+fe]=va[255+pe-xe]}b+=L}}function C(y,b,E,L,U,V){ma(y,b,E,1,16,L,U,V)}function z(y,b,E,L,U,V){ma(y,b,1,E,16,L,U,V)}function ae(y,b,E,L,U,V){var Y;for(Y=3;0<Y;--Y)Vi(y,b+=4*E,E,1,16,L,U,V)}function ce(y,b,E,L,U,V){var Y;for(Y=3;0<Y;--Y)Vi(y,b+=4,1,E,16,L,U,V)}function ve(y,b,E,L,U,V,Y,Z){ma(y,b,U,1,8,V,Y,Z),ma(E,L,U,1,8,V,Y,Z)}function Ae(y,b,E,L,U,V,Y,Z){ma(y,b,1,U,8,V,Y,Z),ma(E,L,1,U,8,V,Y,Z)}function Te(y,b,E,L,U,V,Y,Z){Vi(y,b+4*U,U,1,8,V,Y,Z),Vi(E,L+4*U,U,1,8,V,Y,Z)}function tt(y,b,E,L,U,V,Y,Z){Vi(y,b+4,1,U,8,V,Y,Z),Vi(E,L+4,1,U,8,V,Y,Z)}function ot(){this.ba=new ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Be,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tr(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new M}function Br(){this.xb=this.a=0,this.l=new jc,this.ca=new ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tr,this.ab=0,this.gc=s(4,Lt),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pr(y,b,E,L,U,V,Y){for(y=y==null?0:y[b+0],b=0;b<Y;++b)U[V+b]=y+E[L+b]&255,y=U[V+b]}function un(y,b,E,L,U,V,Y){var Z;if(y==null)pr(null,null,E,L,U,V,Y);else for(Z=0;Z<Y;++Z)U[V+Z]=y[b+Z]+E[L+Z]&255}function on(y,b,E,L,U,V,Y){if(y==null)pr(null,null,E,L,U,V,Y);else{var Z,Q=y[b+0],re=Q,fe=Q;for(Z=0;Z<Y;++Z)re=fe+(Q=y[b+Z])-re,fe=E[L+Z]+(-256&re?0>re?0:255:re)&255,re=Q,U[V+Z]=fe}}function En(y,b,E,L){var U=b.width,V=b.o;if(e(y!=null&&b!=null),0>E||0>=L||E+L>V)return null;if(!y.Cc){if(y.ga==null){var Y;if(y.ga=new sn,(Y=y.ga==null)||(Y=b.width*b.o,e(y.Gb.length==0),y.Gb=i(Y),y.Uc=0,y.Gb==null?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){Y=y.ga;var Z=y.Fa,Q=y.P,re=y.qc,fe=y.mb,we=y.nb,ne=Q+1,pe=re-1,ye=Y.l;if(e(Z!=null&&fe!=null&&b!=null),jo[0]=null,jo[1]=pr,jo[2]=un,jo[3]=on,Y.ca=fe,Y.tb=we,Y.c=b.width,Y.i=b.height,e(0<Y.c&&0<Y.i),1>=re)b=0;else if(Y.$a=3&Z[Q+0],Y.Z=Z[Q+0]>>2&3,Y.Lc=Z[Q+0]>>4&3,Q=Z[Q+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Q)b=0;else if(ye.put=ze,ye.ac=Hn,ye.bc=Ur,ye.ma=Y,ye.width=b.width,ye.height=b.height,ye.Da=b.Da,ye.v=b.v,ye.va=b.va,ye.j=b.j,ye.o=b.o,Y.$a)e:{e(Y.$a==1),b=cl();t:for(;;){if(b==null){b=0;break e}if(e(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,X(b.m,Z,ne,pe),!Wi(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&li(b.s)?(Y.ic=1,Z=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(Z),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=ul(b,Y.c)),!b))break t;b=1;break e}Y.mc=null,b=0}else b=pe>=Y.c*Y.i;Y=!b}if(Y)return null;y.ga.Lc!=1?y.Ga=0:L=V-E}e(y.ga!=null),e(E+L<=V);e:{if(b=(Z=y.ga).c,V=Z.l.o,Z.$a==0){if(ne=y.rc,pe=y.Vc,ye=y.Fa,Q=y.P+1+E*b,re=y.mb,fe=y.nb+E*b,e(Q<=y.P+y.qc),Z.Z!=0)for(e(jo[Z.Z]!=null),Y=0;Y<L;++Y)jo[Z.Z](ne,pe,ye,Q,re,fe,b),ne=re,pe=fe,fe+=b,Q+=b;else for(Y=0;Y<L;++Y)n(re,fe,ye,Q,b),ne=re,pe=fe,fe+=b,Q+=b;y.rc=ne,y.Vc=pe}else{if(e(Z.mc!=null),b=E+L,e((Y=Z.mc)!=null),e(b<=Y.i),Y.C>=b)b=1;else if(Z.ic||xl(),Z.ic){Z=Y.V,ne=Y.Ba,pe=Y.c;var je=Y.i,xe=(ye=1,Q=Y.$/pe,re=Y.$%pe,fe=Y.m,we=Y.s,Y.$),Se=pe*je,ke=pe*b,Ie=we.wc,Ee=xe<ke?jn(we,re,Q):null;e(xe<=Se),e(b<=je),e(li(we));t:for(;;){for(;!fe.h&&xe<ke;){if(re&Ie||(Ee=jn(we,re,Q)),e(Ee!=null),oe(fe),256>(je=Cr(Ee.G[0],Ee.H[0],fe)))Z[ne+xe]=je,++xe,++re>=pe&&(re=0,++Q<=b&&!(Q%16)&&ci(Y,Q));else{if(!(280>je)){ye=0;break t}je=Ir(je-256,fe);var ct,Ke=Cr(Ee.G[4],Ee.H[4],fe);if(oe(fe),!(xe>=(Ke=Rr(pe,Ke=Ir(Ke,fe)))&&Se-xe>=je)){ye=0;break t}for(ct=0;ct<je;++ct)Z[ne+xe+ct]=Z[ne+xe+ct-Ke];for(xe+=je,re+=je;re>=pe;)re-=pe,++Q<=b&&!(Q%16)&&ci(Y,Q);xe<ke&&re&Ie&&(Ee=jn(we,re,Q))}e(fe.h==ee(fe))}ci(Y,Q>b?b:Q);break t}!ye||fe.h&&xe<Se?(ye=0,Y.a=fe.h?5:3):Y.$=xe,b=ye}else b=ui(Y,Y.V,Y.Ba,Y.c,Y.i,b,bc);if(!b){L=0;break e}}E+L>=V&&(y.Cc=1),L=1}if(!L)return null;if(y.Cc&&((L=y.ga)!=null&&(L.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+E*U}function ks(y,b,E,L,U,V){for(;0<U--;){var Y,Z=y,Q=b+(E?1:0),re=y,fe=b+(E?0:3);for(Y=0;Y<L;++Y){var we=re[fe+4*Y];we!=255&&(we*=32897,Z[Q+4*Y+0]=Z[Q+4*Y+0]*we>>23,Z[Q+4*Y+1]=Z[Q+4*Y+1]*we>>23,Z[Q+4*Y+2]=Z[Q+4*Y+2]*we>>23)}b+=V}}function vo(y,b,E,L,U){for(;0<L--;){var V;for(V=0;V<E;++V){var Y=y[b+2*V+0],Z=15&(re=y[b+2*V+1]),Q=4369*Z,re=(240&re|re>>4)*Q>>16;y[b+2*V+0]=(240&Y|Y>>4)*Q>>16&240|(15&Y|Y<<4)*Q>>16>>4&15,y[b+2*V+1]=240&re|Z}b+=U}}function V0(y,b,E,L,U,V,Y,Z){var Q,re,fe=255;for(re=0;re<U;++re){for(Q=0;Q<L;++Q){var we=y[b+Q];V[Y+4*Q]=we,fe&=we}b+=E,Y+=Z}return fe!=255}function op(y,b,E,L,U){var V;for(V=0;V<U;++V)E[L+V]=y[b+V]>>8}function xl(){Kd=ks,mS=vo,gS=V0,vS=op}function fi(y,b,E){T[y]=function(L,U,V,Y,Z,Q,re,fe,we,ne,pe,ye,je,xe,Se,ke,Ie){var Ee,ct=Ie-1>>1,Ke=Z[Q+0]|re[fe+0]<<16,$t=we[ne+0]|pe[ye+0]<<16;e(L!=null);var rt=3*Ke+$t+131074>>2;for(b(L[U+0],255&rt,rt>>16,je,xe),V!=null&&(rt=3*$t+Ke+131074>>2,b(V[Y+0],255&rt,rt>>16,Se,ke)),Ee=1;Ee<=ct;++Ee){var Ht=Z[Q+Ee]|re[fe+Ee]<<16,fn=we[ne+Ee]|pe[ye+Ee]<<16,Ft=Ke+Ht+$t+fn+524296,nt=Ft+2*(Ht+$t)>>3;rt=nt+Ke>>1,Ke=(Ft=Ft+2*(Ke+fn)>>3)+Ht>>1,b(L[U+2*Ee-1],255&rt,rt>>16,je,xe+(2*Ee-1)*E),b(L[U+2*Ee-0],255&Ke,Ke>>16,je,xe+(2*Ee-0)*E),V!=null&&(rt=Ft+$t>>1,Ke=nt+fn>>1,b(V[Y+2*Ee-1],255&rt,rt>>16,Se,ke+(2*Ee-1)*E),b(V[Y+2*Ee+0],255&Ke,Ke>>16,Se,ke+(2*Ee+0)*E)),Ke=Ht,$t=fn}1&Ie||(rt=3*Ke+$t+131074>>2,b(L[U+Ie-1],255&rt,rt>>16,je,xe+(Ie-1)*E),V!=null&&(rt=3*$t+Ke+131074>>2,b(V[Y+Ie-1],255&rt,rt>>16,Se,ke+(Ie-1)*E)))}}function qd(){Ha[dp]=XF,Ha[fp]=PS,Ha[jS]=ZF,Ha[hp]=CS,Ha[pp]=OS,Ha[K0]=ES,Ha[NS]=JF,Ha[X0]=PS,Ha[Z0]=CS,Ha[mp]=OS,Ha[J0]=ES}function Pc(y){return y&-16384?0>y?0:255:y>>QF}function yo(y,b){return Pc((19077*y>>8)+(26149*b>>8)-14234)}function Nn(y,b,E){return Pc((19077*y>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function Ps(y,b){return Pc((19077*y>>8)+(33050*b>>8)-17685)}function Cs(y,b,E,L,U){L[U+0]=yo(y,E),L[U+1]=Nn(y,b,E),L[U+2]=Ps(y,b)}function Cc(y,b,E,L,U){L[U+0]=Ps(y,b),L[U+1]=Nn(y,b,E),L[U+2]=yo(y,E)}function Ud(y,b,E,L,U){var V=Nn(y,b,E);b=V<<3&224|Ps(y,b)>>3,L[U+0]=248&yo(y,E)|V>>5,L[U+1]=b}function Vn(y,b,E,L,U){var V=240&Ps(y,b)|15;L[U+0]=240&yo(y,E)|Nn(y,b,E)>>4,L[U+1]=V}function lp(y,b,E,L,U){L[U+0]=255,Cs(y,b,E,L,U+1)}function Oc(y,b,E,L,U){Cc(y,b,E,L,U),L[U+3]=255}function cp(y,b,E,L,U){Cs(y,b,E,L,U),L[U+3]=255}function dn(y,b){return 0>y?0:y>b?b:y}function za(y,b,E){T[y]=function(L,U,V,Y,Z,Q,re,fe,we){for(var ne=fe+(-2&we)*E;fe!=ne;)b(L[U+0],V[Y+0],Z[Q+0],re,fe),b(L[U+1],V[Y+0],Z[Q+0],re,fe+E),U+=2,++Y,++Q,fe+=2*E;1&we&&b(L[U+0],V[Y+0],Z[Q+0],re,fe)}}function zd(y,b,E){return E==0?y==0?b==0?6:5:b==0?4:0:E}function Wd(y,b,E,L,U){switch(y>>>30){case 3:Zr(b,E,L,U,0);break;case 2:Es(b,E,L,U);break;case 1:Zi(b,E,L,U)}}function xo(y,b){var E,L,U=b.M,V=b.Nb,Y=y.oc,Z=y.pc+40,Q=y.oc,re=y.pc+584,fe=y.oc,we=y.pc+600;for(E=0;16>E;++E)Y[Z+32*E-1]=129;for(E=0;8>E;++E)Q[re+32*E-1]=129,fe[we+32*E-1]=129;for(0<U?Y[Z-1-32]=Q[re-1-32]=fe[we-1-32]=129:(a(Y,Z-32-1,127,21),a(Q,re-32-1,127,9),a(fe,we-32-1,127,9)),L=0;L<y.za;++L){var ne=b.ya[b.aa+L];if(0<L){for(E=-1;16>E;++E)n(Y,Z+32*E-4,Y,Z+32*E+12,4);for(E=-1;8>E;++E)n(Q,re+32*E-4,Q,re+32*E+4,4),n(fe,we+32*E-4,fe,we+32*E+4,4)}var pe=y.Gd,ye=y.Hd+L,je=ne.ad,xe=ne.Hc;if(0<U&&(n(Y,Z-32,pe[ye].y,0,16),n(Q,re-32,pe[ye].f,0,8),n(fe,we-32,pe[ye].ea,0,8)),ne.Za){var Se=Y,ke=Z-32+16;for(0<U&&(L>=y.za-1?a(Se,ke,pe[ye].y[15],4):n(Se,ke,pe[ye+1].y,0,4)),E=0;4>E;E++)Se[ke+128+E]=Se[ke+256+E]=Se[ke+384+E]=Se[ke+0+E];for(E=0;16>E;++E,xe<<=2)Se=Y,ke=Z+IS[E],hi[ne.Ob[E]](Se,ke),Wd(xe,je,16*+E,Se,ke)}else if(Se=zd(L,U,ne.Ob[0]),_o[Se](Y,Z),xe!=0)for(E=0;16>E;++E,xe<<=2)Wd(xe,je,16*+E,Y,Z+IS[E]);for(E=ne.Gc,Se=zd(L,U,ne.Dd),Ts[Se](Q,re),Ts[Se](fe,we),xe=je,Se=Q,ke=re,255&(ne=0|E)&&(170&ne?Lc(xe,256,Se,ke):Yd(xe,256,Se,ke)),ne=fe,xe=we,255&(E>>=8)&&(170&E?Lc(je,320,ne,xe):Yd(je,320,ne,xe)),U<y.Ub-1&&(n(pe[ye].y,0,Y,Z+480,16),n(pe[ye].f,0,Q,re+224,8),n(pe[ye].ea,0,fe,we+224,8)),E=8*V*y.B,pe=y.sa,ye=y.ta+16*L+16*V*y.R,je=y.qa,ne=y.ra+8*L+E,xe=y.Ha,Se=y.Ia+8*L+E,E=0;16>E;++E)n(pe,ye+E*y.R,Y,Z+32*E,16);for(E=0;8>E;++E)n(je,ne+E*y.B,Q,re+32*E,8),n(xe,Se+E*y.B,fe,we+32*E,8)}}function Ec(y,b,E,L,U,V,Y,Z,Q){var re=[0],fe=[0],we=0,ne=Q!=null?Q.kd:0,pe=Q??new Nt;if(y==null||12>E)return 7;pe.data=y,pe.w=b,pe.ha=E,b=[b],E=[E],pe.gb=[pe.gb];e:{var ye=b,je=E,xe=pe.gb;if(e(y!=null),e(je!=null),e(xe!=null),xe[0]=0,12<=je[0]&&!r(y,ye[0],"RIFF")){if(r(y,ye[0]+8,"WEBP")){xe=3;break e}var Se=me(y,ye[0]+4);if(12>Se||4294967286<Se){xe=3;break e}if(ne&&Se>je[0]-8){xe=7;break e}xe[0]=Se,ye[0]+=12,je[0]-=12}xe=0}if(xe!=0)return xe;for(Se=0<pe.gb[0],E=E[0];;){e:{var ke=y;je=b,xe=E;var Ie=re,Ee=fe,ct=ye=[0];if((rt=we=[we])[0]=0,8>xe[0])xe=7;else{if(!r(ke,je[0],"VP8X")){if(me(ke,je[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Ke=me(ke,je[0]+8),$t=1+Oe(ke,je[0]+12);if(2147483648<=$t*(ke=1+Oe(ke,je[0]+15))){xe=3;break e}ct!=null&&(ct[0]=Ke),Ie!=null&&(Ie[0]=$t),Ee!=null&&(Ee[0]=ke),je[0]+=18,xe[0]-=18,rt[0]=1}xe=0}}if(we=we[0],ye=ye[0],xe!=0)return xe;if(je=!!(2&ye),!Se&&we)return 3;if(V!=null&&(V[0]=!!(16&ye)),Y!=null&&(Y[0]=je),Z!=null&&(Z[0]=0),Y=re[0],ye=fe[0],we&&je&&Q==null){xe=0;break}if(4>E){xe=7;break}if(Se&&we||!Se&&!we&&!r(y,b[0],"ALPH")){E=[E],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Ke=y,xe=b,Se=E;var rt=pe.gb;Ie=pe.na,Ee=pe.P,ct=pe.Sa,$t=22,e(Ke!=null),e(Se!=null),ke=xe[0];var Ht=Se[0];for(e(Ie!=null),e(ct!=null),Ie[0]=null,Ee[0]=null,ct[0]=0;;){if(xe[0]=ke,Se[0]=Ht,8>Ht){xe=7;break e}var fn=me(Ke,ke+4);if(4294967286<fn){xe=3;break e}var Ft=8+fn+1&-2;if($t+=Ft,0<rt&&$t>rt){xe=3;break e}if(!r(Ke,ke,"VP8 ")||!r(Ke,ke,"VP8L")){xe=0;break e}if(Ht[0]<Ft){xe=7;break e}r(Ke,ke,"ALPH")||(Ie[0]=Ke,Ee[0]=ke+8,ct[0]=fn),ke+=Ft,Ht-=Ft}}if(E=E[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],xe!=0)break}E=[E],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(rt=y,xe=b,Se=E,Ie=pe.gb[0],Ee=pe.Ja,ct=pe.xa,Ke=xe[0],ke=!r(rt,Ke,"VP8 "),$t=!r(rt,Ke,"VP8L"),e(rt!=null),e(Se!=null),e(Ee!=null),e(ct!=null),8>Se[0])xe=7;else{if(ke||$t){if(rt=me(rt,Ke+4),12<=Ie&&rt>Ie-12){xe=3;break e}if(ne&&rt>Se[0]-8){xe=7;break e}Ee[0]=rt,xe[0]+=8,Se[0]-=8,ct[0]=$t}else ct[0]=5<=Se[0]&&rt[Ke+0]==47&&!(rt[Ke+4]>>5),Ee[0]=Se[0];xe=0}if(E=E[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],b=b[0],xe!=0)break;if(4294967286<pe.Ja)return 3;if(Z==null||je||(Z[0]=pe.xa?2:1),Y=[Y],ye=[ye],pe.xa){if(5>E){xe=7;break}Z=Y,ne=ye,je=V,y==null||5>E?y=0:5<=E&&y[b+0]==47&&!(y[b+4]>>5)?(Se=[0],rt=[0],Ie=[0],X(Ee=new W,y,b,E),na(Ee,Se,rt,Ie)?(Z!=null&&(Z[0]=Se[0]),ne!=null&&(ne[0]=rt[0]),je!=null&&(je[0]=Ie[0]),y=1):y=0):y=0}else{if(10>E){xe=7;break}Z=ye,y==null||10>E||!np(y,b+3,E-3)?y=0:(ne=y[b+0]|y[b+1]<<8|y[b+2]<<16,je=16383&(y[b+7]<<8|y[b+6]),y=16383&(y[b+9]<<8|y[b+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=pe.Ja||!je||!y?y=0:(Y&&(Y[0]=je),Z&&(Z[0]=y),y=1))}if(!y||(Y=Y[0],ye=ye[0],we&&(re[0]!=Y||fe[0]!=ye)))return 3;Q!=null&&(Q[0]=pe,Q.offset=b-Q.w,e(4294967286>b-Q.w),e(Q.offset==Q.ha-E));break}return xe==0||xe==7&&we&&Q==null?(V!=null&&(V[0]|=pe.na!=null&&0<pe.na.length),L!=null&&(L[0]=Y),U!=null&&(U[0]=ye),0):xe}function aa(y,b,E){var L=b.width,U=b.height,V=0,Y=0,Z=L,Q=U;if(b.Da=y!=null&&0<y.Da,b.Da&&(Z=y.cd,Q=y.bd,V=y.v,Y=y.j,11>E||(V&=-2,Y&=-2),0>V||0>Y||0>=Z||0>=Q||V+Z>L||Y+Q>U))return 0;if(b.v=V,b.j=Y,b.va=V+Z,b.o=Y+Q,b.U=Z,b.T=Q,b.da=y!=null&&0<y.da,b.da){if(!He(Z,Q,E=[y.ib],V=[y.hb]))return 0;b.ib=E[0],b.hb=V[0]}return b.ob=y!=null&&y.ob,b.Kb=y==null||!y.Sd,b.da&&(b.ob=b.ib<3*L/4&&b.hb<3*U/4,b.Kb=0),1}function ia(y){if(y==null)return 2;if(11>y.S){var b=y.f.RGBA;b.fb+=(y.height-1)*b.A,b.A=-b.A}else b=y.f.kb,y=y.height,b.O+=(y-1)*b.fa,b.fa=-b.fa,b.N+=(y-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(y-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(y-1)*b.lb,b.lb=-b.lb);return 0}function bl(y,b,E,L){if(L==null||0>=y||0>=b)return 2;if(E!=null){if(E.Da){var U=E.cd,V=E.bd,Y=-2&E.v,Z=-2&E.j;if(0>Y||0>Z||0>=U||0>=V||Y+U>y||Z+V>b)return 2;y=U,b=V}if(E.da){if(!He(y,b,U=[E.ib],V=[E.hb]))return 2;y=U[0],b=V[0]}}L.width=y,L.height=b;e:{var Q=L.width,re=L.height;if(y=L.S,0>=Q||0>=re||!(y>=dp&&13>y))y=2;else{if(0>=L.Rd&&L.sd==null){Y=V=U=b=0;var fe=(Z=Q*RS[y])*re;if(11>y||(V=(re+1)/2*(b=(Q+1)/2),y==12&&(Y=(U=Q)*re)),(re=i(fe+2*V+Y))==null){y=1;break e}L.sd=re,11>y?((Q=L.f.RGBA).eb=re,Q.fb=0,Q.A=Z,Q.size=fe):((Q=L.f.kb).y=re,Q.O=0,Q.fa=Z,Q.Fd=fe,Q.f=re,Q.N=0+fe,Q.Ab=b,Q.Cd=V,Q.ea=re,Q.W=0+fe+V,Q.Db=b,Q.Ed=V,y==12&&(Q.F=re,Q.J=0+fe+2*V),Q.Tc=Y,Q.lb=U)}if(b=1,U=L.S,V=L.width,Y=L.height,U>=dp&&13>U)if(11>U)y=L.f.RGBA,b&=(Z=Math.abs(y.A))*(Y-1)+V<=y.size,b&=Z>=V*RS[U],b&=y.eb!=null;else{y=L.f.kb,Z=(V+1)/2,fe=(Y+1)/2,Q=Math.abs(y.fa),re=Math.abs(y.Ab);var we=Math.abs(y.Db),ne=Math.abs(y.lb),pe=ne*(Y-1)+V;b&=Q*(Y-1)+V<=y.Fd,b&=re*(fe-1)+Z<=y.Cd,b=(b&=we*(fe-1)+Z<=y.Ed)&Q>=V&re>=Z&we>=Z,b&=y.y!=null,b&=y.f!=null,b&=y.ea!=null,U==12&&(b&=ne>=V,b&=pe<=y.Tc,b&=y.F!=null)}else b=0;y=b?0:2}}return y!=0||E!=null&&E.fd&&(y=ia(L)),y}var Gi=64,bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hd=24,wo=32,Kr=8,G0=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(y){return y},T.Predictor2=function(y,b,E){return b[E+0]},T.Predictor3=function(y,b,E){return b[E+1]},T.Predictor4=function(y,b,E){return b[E-1]},T.Predictor5=function(y,b,E){return Ye(Ye(y,b[E+1]),b[E+0])},T.Predictor6=function(y,b,E){return Ye(y,b[E-1])},T.Predictor7=function(y,b,E){return Ye(y,b[E+0])},T.Predictor8=function(y,b,E){return Ye(b[E-1],b[E+0])},T.Predictor9=function(y,b,E){return Ye(b[E+0],b[E+1])},T.Predictor10=function(y,b,E){return Ye(Ye(y,b[E-1]),Ye(b[E+0],b[E+1]))},T.Predictor11=function(y,b,E){var L=b[E+0];return 0>=bt(L>>24&255,y>>24&255,(b=b[E-1])>>24&255)+bt(L>>16&255,y>>16&255,b>>16&255)+bt(L>>8&255,y>>8&255,b>>8&255)+bt(255&L,255&y,255&b)?L:y},T.Predictor12=function(y,b,E){var L=b[E+0];return(Wt((y>>24&255)+(L>>24&255)-((b=b[E-1])>>24&255))<<24|Wt((y>>16&255)+(L>>16&255)-(b>>16&255))<<16|Wt((y>>8&255)+(L>>8&255)-(b>>8&255))<<8|Wt((255&y)+(255&L)-(255&b)))>>>0},T.Predictor13=function(y,b,E){var L=b[E-1];return(xt((y=Ye(y,b[E+0]))>>24&255,L>>24&255)<<24|xt(y>>16&255,L>>16&255)<<16|xt(y>>8&255,L>>8&255)<<8|xt(255&y,255&L))>>>0};var Yi=T.PredictorAdd0;T.PredictorAdd1=rr,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Ki=T.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Tc,Vd=T.ColorIndexInverseTransform,Ic=T.MapARGB,Rc=T.VP8LColorIndexInverseTransformAlpha,wl=T.MapAlpha,_l=T.VP8LPredictorsAdd=[];_l.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Os,Gd,ga,Xi,wr,_r,Xr,Zr,Es,Lc,Zi,Yd,nS,aS,iS,sS,oS,lS,cS,uS,dS,fS,hS,pS,Kd,mS,gS,vS,yS=i(511),xS=i(2041),bS=i(225),wS=i(767),_S=0,Y0=xS,up=bS,va=wS,Wa=yS,dp=0,fp=1,jS=2,hp=3,pp=4,K0=5,NS=6,X0=7,Z0=8,mp=9,J0=10,MF=[2,3,7],DF=[3,3,11],SS=[280,256,256,256,40],$F=[0,1,1,1,0],FF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],BF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UF=8,Q0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ey=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xd=null,zF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],AS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],VF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_o=[],hi=[],Ts=[],KF=1,kS=2,jo=[],Ha=[];fi("UpsampleRgbLinePair",Cs,3),fi("UpsampleBgrLinePair",Cc,3),fi("UpsampleRgbaLinePair",cp,4),fi("UpsampleBgraLinePair",Oc,4),fi("UpsampleArgbLinePair",lp,4),fi("UpsampleRgba4444LinePair",Vn,2),fi("UpsampleRgb565LinePair",Ud,2);var XF=T.UpsampleRgbLinePair,ZF=T.UpsampleBgrLinePair,PS=T.UpsampleRgbaLinePair,CS=T.UpsampleBgraLinePair,OS=T.UpsampleArgbLinePair,ES=T.UpsampleRgba4444LinePair,JF=T.UpsampleRgb565LinePair,gp=16,vp=1<<gp-1,Zd=-227,ty=482,QF=6,TS=0,eB=i(256),tB=i(256),rB=i(256),nB=i(256),aB=i(ty-Zd),iB=i(ty-Zd);za("YuvToRgbRow",Cs,3),za("YuvToBgrRow",Cc,3),za("YuvToRgbaRow",cp,4),za("YuvToBgraRow",Oc,4),za("YuvToArgbRow",lp,4),za("YuvToRgba4444Row",Vn,2),za("YuvToRgb565Row",Ud,2);var IS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yp=[0,2,8],sB=[8,7,6,4,4,2,2,2,1,1,1,1],oB=1;this.WebPDecodeRGBA=function(y,b,E,L,U){var V=fp,Y=new ot,Z=new ar;Y.ba=Z,Z.S=V,Z.width=[Z.width],Z.height=[Z.height];var Q=Z.width,re=Z.height,fe=new wt;if(fe==null||y==null)var we=2;else e(fe!=null),we=Ec(y,b,E,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(we!=0?Q=0:(Q!=null&&(Q[0]=fe.width[0]),re!=null&&(re[0]=fe.height[0]),Q=1),Q){Z.width=Z.width[0],Z.height=Z.height[0],L!=null&&(L[0]=Z.width),U!=null&&(U[0]=Z.height);e:{if(L=new jc,(U=new Nt).data=y,U.w=b,U.ha=E,U.kd=1,b=[0],e(U!=null),((y=Ec(U.data,U.w,U.ha,null,null,null,b,null,U))==0||y==7)&&b[0]&&(y=4),(b=y)==0){if(e(Y!=null),L.data=U.data,L.w=U.w+U.offset,L.ha=U.ha-U.offset,L.put=ze,L.ac=Hn,L.bc=Ur,L.ma=Y,U.xa){if((y=cl())==null){Y=1;break e}if((function(ne,pe){var ye=[0],je=[0],xe=[0];t:for(;;){if(ne==null)return 0;if(pe==null)return ne.a=2,0;if(ne.l=pe,ne.a=0,X(ne.m,pe.data,pe.w,pe.ha),!na(ne.m,ye,je,xe)){ne.a=3;break t}if(ne.xb=kS,pe.width=ye[0],pe.height=je[0],!Wi(ye[0],je[0],1,ne,null))break t;return 1}return e(ne.a!=0),0})(y,L)){if(L=(b=bl(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=y;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((E=L.l)!=null),e((U=E.ma)!=null),L.xb!=0){if(L.ca=U.ba,L.tb=U.tb,e(L.ca!=null),!aa(U.Oa,E,hp)){L.a=2;break r}if(!ul(L,E.width)||E.da)break r;if((E.da||pt(L.ca.S))&&xl(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&xl()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!te(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!ui(L,L.V,L.Ba,L.c,L.i,E.o,po))break r;U.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(b=y.a)}else b=y.a}else{if((y=new E0)==null){Y=1;break e}if(y.Fa=U.na,y.P=U.P,y.qc=U.Sa,ap(y,L)){if((b=bl(L.width,L.height,Y.Oa,Y.ba))==0){if(y.Aa=0,E=Y.Oa,e((U=y)!=null),E!=null){if(0<(Q=0>(Q=E.Md)?0:100<Q?255:255*Q/100)){for(re=fe=0;4>re;++re)12>(we=U.pb[re]).lc&&(we.ia=Q*sB[0>we.lc?0:we.lc]>>3),fe|=we.ia;fe&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=E.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ne,pe){if(ne==null)return 0;if(pe==null)return an(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!ap(ne,pe))return 0;if(e(ne.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(ne.L=0);var ye=yp[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=pe.v-ye>>4,ne.zb=pe.j-ye>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=pe.o+15+ye>>4,ne.Hb=pe.va+15+ye>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var je=ne.ed;for(ye=0;4>ye;++ye){var xe;if(ne.Qa.Cb){var Se=ne.Qa.Lb[ye];ne.Qa.Fb||(Se+=je.Tb)}else Se=je.Tb;for(xe=0;1>=xe;++xe){var ke=ne.gd[ye][xe],Ie=Se;if(je.Pc&&(Ie+=je.vd[0],xe&&(Ie+=je.od[0])),0<(Ie=0>Ie?0:63<Ie?63:Ie)){var Ee=Ie;0<je.wb&&(Ee=4<je.wb?Ee>>2:Ee>>1)>9-je.wb&&(Ee=9-je.wb),1>Ee&&(Ee=1),ke.dd=Ee,ke.tc=2*Ie+Ee,ke.ld=40<=Ie?2:15<=Ie?1:0}else ke.tc=0;ke.La=xe}}}ye=0}else an(ne,6,"Frame setup failed"),ye=ne.a;if(ye=ye==0){if(ye){ne.$c=0,0<ne.Aa||(ne.Ic=oB);t:{ye=ne.Ic,je=4*(Ee=ne.za);var ct=32*Ee,Ke=Ee+1,$t=0<ne.L?Ee*(0<ne.Aa?2:1):0,rt=(ne.Aa==2?2:1)*Ee;if((ke=je+832+(xe=3*(16*ye+yp[ne.L])/2*ct)+(Se=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=ke)ye=0;else{if(ke>ne.Vb){if(ne.Vb=0,ne.Ec=i(ke),ne.Fc=0,ne.Ec==null){ye=an(ne,1,"no memory during frame initialization.");break t}ne.Vb=ke}ke=ne.Ec,Ie=ne.Fc,ne.Ac=ke,ne.Bc=Ie,Ie+=je,ne.Gd=s(ct,tp),ne.Hd=0,ne.rb=s(Ke+1,Pd),ne.sb=1,ne.wa=$t?s($t,Ua):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Ee),e(!0),ne.oc=ke,ne.pc=Ie,Ie+=832,ne.ya=s(rt,Cd),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Ee),ne.R=16*Ee,ne.B=8*Ee,Ee=(ct=yp[ne.L])*ne.R,ct=ct/2*ne.B,ne.sa=ke,ne.ta=Ie+Ee,ne.qa=ne.sa,ne.ra=ne.ta+16*ye*ne.R+ct,ne.Ha=ne.qa,ne.Ia=ne.ra+8*ye*ne.B+ct,ne.$c=0,Ie+=xe,ne.mb=Se?ke:null,ne.nb=Se?Ie:null,e(Ie+Se<=ne.Fc+ne.Vb),dl(ne),a(ne.Ac,ne.Bc,0,je),ye=1}}if(ye){if(pe.ka=0,pe.y=ne.sa,pe.O=ne.ta,pe.f=ne.qa,pe.N=ne.ra,pe.ea=ne.Ha,pe.Vd=ne.Ia,pe.fa=ne.R,pe.Rc=ne.B,pe.F=null,pe.J=0,!_S){for(ye=-255;255>=ye;++ye)yS[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)xS[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)bS[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)wS[255+ye]=0>ye?0:255<ye?255:ye;_S=1}Xr=sp,Zr=I0,Lc=R0,Zi=Hi,Yd=ip,Es=T0,nS=C,aS=z,iS=ve,sS=Ae,oS=ae,lS=ce,cS=Te,uS=tt,dS=$d,fS=yl,hS=Fd,pS=Bd,hi[0]=q0,hi[1]=Ed,hi[2]=F0,hi[3]=B0,hi[4]=U0,hi[5]=As,hi[6]=Ss,hi[7]=z0,hi[8]=Nc,hi[9]=W0,_o[0]=go,_o[1]=M0,_o[2]=D0,_o[3]=Td,_o[4]=$0,_o[5]=pl,_o[6]=Id,Ts[0]=Ac,Ts[1]=L0,Ts[2]=Rd,Ts[3]=ml,Ts[4]=Ld,Ts[5]=H0,Ts[6]=Md,ye=1}else ye=0}ye&&(ye=(function(Ht,fn){for(Ht.M=0;Ht.M<Ht.Va;++Ht.M){var Ft,nt=Ht.Jc[Ht.M&Ht.Xb],Fe=Ht.m,Jr=Ht;for(Ft=0;Ft<Jr.za;++Ft){var It=Fe,Vt=Jr,Or=Vt.Ac,Tn=Vt.Bc+4*Ft,Gn=Vt.zc,zr=Vt.ya[Vt.aa+Ft];if(Vt.Qa.Bb?zr.$b=he(It,Vt.Pa.jb[0])?2+he(It,Vt.Pa.jb[2]):he(It,Vt.Pa.jb[1]):zr.$b=0,Vt.kc&&(zr.Ad=he(It,Vt.Bd)),zr.Za=!he(It,145)+0,zr.Za){var Dn=zr.Ob,Yn=0;for(Vt=0;4>Vt;++Vt){var hn,Xt=Gn[0+Vt];for(hn=0;4>hn;++hn){Xt=VF[Or[Tn+hn]][Xt];for(var or=AS[he(It,Xt[0])];0<or;)or=AS[2*or+he(It,Xt[or])];Xt=-or,Or[Tn+hn]=Xt}n(Dn,Yn,Or,Tn,4),Yn+=4,Gn[0+Vt]=Xt}}else Xt=he(It,156)?he(It,128)?1:3:he(It,163)?2:0,zr.Ob[0]=Xt,a(Or,Tn,Xt,4),a(Gn,0,Xt,4);zr.Dd=he(It,142)?he(It,114)?he(It,183)?1:3:2:0}if(Jr.m.Ka)return an(Ht,7,"Premature end-of-partition0 encountered.");for(;Ht.ja<Ht.za;++Ht.ja){if(Jr=nt,It=(Fe=Ht).rb[Fe.sb-1],Or=Fe.rb[Fe.sb+Fe.ja],Ft=Fe.ya[Fe.aa+Fe.ja],Tn=Fe.kc?Ft.Ad:0)It.la=Or.la=0,Ft.Za||(It.Na=Or.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var Wr,lr;if(It=Or,Or=Jr,Tn=Fe.Pa.Xc,Gn=Fe.ya[Fe.aa+Fe.ja],zr=Fe.pb[Gn.$b],Vt=Gn.ad,Dn=0,Yn=Fe.rb[Fe.sb-1],Xt=hn=0,a(Vt,Dn,0,384),Gn.Za)var In=0,pi=Tn[3];else{or=i(16);var Qr=It.Na+Yn.Na;if(Qr=Xd(Or,Tn[1],Qr,zr.Eb,0,or,0),It.Na=Yn.Na=(0<Qr)+0,1<Qr)Xr(or,0,Vt,Dn);else{var sa=or[0]+3>>3;for(or=0;256>or;or+=16)Vt[Dn+or]=sa}In=1,pi=Tn[0]}var gr=15&It.la,pn=15&Yn.la;for(or=0;4>or;++or){var ya=1&pn;for(sa=lr=0;4>sa;++sa)gr=gr>>1|(ya=(Qr=Xd(Or,pi,Qr=ya+(1&gr),zr.Sc,In,Vt,Dn))>In)<<7,lr=lr<<2|(3<Qr?3:1<Qr?2:Vt[Dn+0]!=0),Dn+=16;gr>>=4,pn=pn>>1|ya<<7,hn=(hn<<8|lr)>>>0}for(pi=gr,In=pn>>4,Wr=0;4>Wr;Wr+=2){for(lr=0,gr=It.la>>4+Wr,pn=Yn.la>>4+Wr,or=0;2>or;++or){for(ya=1&pn,sa=0;2>sa;++sa)Qr=ya+(1&gr),gr=gr>>1|(ya=0<(Qr=Xd(Or,Tn[2],Qr,zr.Qc,0,Vt,Dn)))<<3,lr=lr<<2|(3<Qr?3:1<Qr?2:Vt[Dn+0]!=0),Dn+=16;gr>>=2,pn=pn>>1|ya<<5}Xt|=lr<<4*Wr,pi|=gr<<4<<Wr,In|=(240&pn)<<Wr}It.la=pi,Yn.la=In,Gn.Hc=hn,Gn.Gc=Xt,Gn.ia=43690&Xt?0:zr.ia,Tn=!(hn|Xt)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Ft.$b][Ft.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Tn),Jr.Ka)return an(Ht,7,"Premature end-of-file encountered.")}if(dl(Ht),Fe=fn,Jr=1,Ft=(nt=Ht).D,It=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Ft.M=nt.M,Ft.uc=It,xo(nt,Ft),Jr=1,Ft=(lr=nt.D).Nb,It=(Xt=yp[nt.L])*nt.R,Or=Xt/2*nt.B,or=16*Ft*nt.R,sa=8*Ft*nt.B,Tn=nt.sa,Gn=nt.ta-It+or,zr=nt.qa,Vt=nt.ra-Or+sa,Dn=nt.Ha,Yn=nt.Ia-Or+sa,pn=(gr=lr.M)==0,hn=gr>=nt.Va-1,nt.Aa==2&&xo(nt,lr),lr.uc)for(ya=(Qr=nt).D.M,e(Qr.D.uc),lr=Qr.yb;lr<Qr.Hb;++lr){In=lr,pi=ya;var Kn=(xa=(Rn=Qr).D).Nb;Wr=Rn.R;var xa=xa.wa[xa.Y+In],ba=Rn.sa,oa=Rn.ta+16*Kn*Wr+16*In,wa=xa.dd,jr=xa.tc;if(jr!=0)if(e(3<=jr),Rn.L==1)0<In&&fS(ba,oa,Wr,jr+4),xa.La&&pS(ba,oa,Wr,jr),0<pi&&dS(ba,oa,Wr,jr+4),xa.La&&hS(ba,oa,Wr,jr);else{var _a=Rn.B,mi=Rn.qa,jl=Rn.ra+8*Kn*_a+8*In,Is=Rn.Ha,Rn=Rn.Ia+8*Kn*_a+8*In;Kn=xa.ld,0<In&&(aS(ba,oa,Wr,jr+4,wa,Kn),sS(mi,jl,Is,Rn,_a,jr+4,wa,Kn)),xa.La&&(lS(ba,oa,Wr,jr,wa,Kn),uS(mi,jl,Is,Rn,_a,jr,wa,Kn)),0<pi&&(nS(ba,oa,Wr,jr+4,wa,Kn),iS(mi,jl,Is,Rn,_a,jr+4,wa,Kn)),xa.La&&(oS(ba,oa,Wr,jr,wa,Kn),cS(mi,jl,Is,Rn,_a,jr,wa,Kn))}}if(nt.ia&&alert("todo:DitherRow"),Fe.put!=null){if(lr=16*gr,gr=16*(gr+1),pn?(Fe.y=nt.sa,Fe.O=nt.ta+or,Fe.f=nt.qa,Fe.N=nt.ra+sa,Fe.ea=nt.Ha,Fe.W=nt.Ia+sa):(lr-=Xt,Fe.y=Tn,Fe.O=Gn,Fe.f=zr,Fe.N=Vt,Fe.ea=Dn,Fe.W=Yn),hn||(gr-=Xt),gr>Fe.o&&(gr=Fe.o),Fe.F=null,Fe.J=null,nt.Fa!=null&&0<nt.Fa.length&&lr<gr&&(Fe.J=En(nt,Fe,lr,gr-lr),Fe.F=nt.mb,Fe.F==null&&Fe.F.length==0)){Jr=an(nt,3,"Could not decode alpha data.");break t}lr<Fe.j&&(Xt=Fe.j-lr,lr=Fe.j,e(!(1&Xt)),Fe.O+=nt.R*Xt,Fe.N+=nt.B*(Xt>>1),Fe.W+=nt.B*(Xt>>1),Fe.F!=null&&(Fe.J+=Fe.width*Xt)),lr<gr&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=lr-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=gr-lr,Jr=Fe.put(Fe))}Ft+1!=nt.Ic||hn||(n(nt.sa,nt.ta-It,Tn,Gn+16*nt.R,It),n(nt.qa,nt.ra-Or,zr,Vt+8*nt.B,Or),n(nt.Ha,nt.Ia-Or,Dn,Yn+8*nt.B,Or))}if(!Jr)return an(Ht,6,"Output aborted.")}return 1})(ne,pe)),pe.bc!=null&&pe.bc(pe),ye&=1}return ye?(ne.cb=0,ye):0})(y,L)||(b=y.a)}}else b=y.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=ia(Y.ba))}Y=b}V=Y!=0?null:11>V?Z.f.RGBA.eb:Z.f.kb.y}else V=null;return V};var RS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,R){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(T[R++]);return P}function d(T,R){return T[R+0]|T[R+1]<<8}function f(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16)>>>0}function p(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16|T[R+3]<<24)>>>0}new c;var h=[0],g=[0],m=[],v=new c,x=t,j=(function(T,R){var P={},I=0,M=!1,D=0,G=0;if(P.frames=[],!(function($,W){for(var H=0;H<4;H++)if($[W+H]!="RIFF".charCodeAt(H))return!0;return!1})(T,R)){for(p(T,R+=4),R+=8;R<T.length;){var F=u(T,R),q=p(T,R+=4);R+=4;var B=q+(1&q);switch(F){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(ie=P.frames[I]).src_off=M?G:R-8,ie.src_size=D+q+8,I++,M&&(M=!1,D=0,G=0);break;case"VP8X":(ie=P.header={}).feature_flags=T[R];var X=R+4;ie.canvas_width=1+f(T,X),X+=3,ie.canvas_height=1+f(T,X),X+=3;break;case"ALPH":M=!0,D=B+8,G=R-8;break;case"ANIM":(ie=P.header).bgcolor=p(T,R),X=R+4,ie.loop_count=d(T,X),X+=2;break;case"ANMF":var J,ie;(ie=P.frames[I]={}).offset_x=2*f(T,R),R+=3,ie.offset_y=2*f(T,R),R+=3,ie.width=1+f(T,R),R+=3,ie.height=1+f(T,R),R+=3,ie.duration=f(T,R),R+=3,J=T[R++],ie.dispose=1&J,ie.blend=J>>1&1}F!="ANMF"&&(R+=B)}return P}})(x,0);j.response=x,j.rgbaoutput=!0,j.dataurl=!1;var w=j.header?j.header:null,_=j.frames?j.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],g=[w.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var A=_[0],k=v.WebPDecodeRGBA(x,A.src_off,A.src_size,g,h);A.rgba=k,A.imgwidth=g[0],A.imgheight=h[0];for(var O=0;O<g[0]*h[0]*4;O++)m[O]=k[O];return this.width=g,this.height=h,this.data=m,this}(function(t){var e,r,n,a,i,s,l,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=$;Object.defineProperty(this,"pdf",{get:function(){return W}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(me){H=!!me}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(me){ee=!!me}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(me){isNaN(me)||(le=me)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(me){isNaN(me)||(oe=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var te;typeof me=="number"?te=[me,me,me,me]:((te=new Array(4))[0]=me[0],te[1]=me.length>=2?me[1]:te[0],te[2]=me.length>=3?me[2]:te[0],te[3]=me.length>=4?me[3]:te[1]),u.margin=te}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(me){de=me}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(me){se=me}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(me){he=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof d&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(me){ge=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var te;te=p(me),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var te=p(me);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var ue=null,Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(me){ue=null,Oe=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var te;if(this.ctx.font=me,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var Ge=te[1];te[2];var Ue=te[3],He=te[4];te[5];var Pe=te[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(et==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var $e=(function(ft){var lt,Gt,Yt=[],at=ft.trim();if(at==="")return Zy;if(at in ZA)return[ZA[at]];for(;at!=="";){switch(Gt=null,lt=(at=QA(at)).charAt(0)){case'"':case"'":Gt=OX(at.substring(1),lt);break;default:Gt=EX(at)}if(Gt===null||(Yt.push(Gt[0]),(at=QA(Gt[1]))!==""&&at.charAt(0)!==","))return Zy;at=at.replace(/^,/,"")}return Yt})(Pe);if(this.fontFaces){var Xe=(function(ft,lt){if(ue===null){var Gt=(function(Yt){var at=[];return Object.keys(Yt).forEach(function(kt){Yt[kt].forEach(function(nr){var ht=null;switch(nr){case"bold":ht={family:kt,weight:"bold"};break;case"italic":ht={family:kt,style:"italic"};break;case"bolditalic":ht={family:kt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:kt}}ht!==null&&(ht.ref={name:kt,style:nr},at.push(ht))})}),at})(ft.getFontList());ue=(function(Yt){for(var at={},kt=0;kt<Yt.length;++kt){var nr=Xy(Yt[kt]),ht=nr.family,qt=nr.stretch,pt=nr.style,$r=nr.weight;at[ht]=at[ht]||{},at[ht][qt]=at[ht][qt]||{},at[ht][qt][pt]=at[ht][qt][pt]||{},at[ht][qt][pt][$r]=nr}return at})(Gt.concat(lt))}return ue})(this.pdf,this.fontFaces),Ye=$e.map(function(ft){return{family:ft,stretch:"normal",weight:Ue,style:Ge}}),Wt=(function(ft,lt,Gt){for(var Yt=(Gt=Gt||{}).defaultFontFamily||"times",at=Object.assign({},CX,Gt.genericFontFamilies||{}),kt=null,nr=null,ht=0;ht<lt.length;++ht)if(at[(kt=Xy(lt[ht])).family]&&(kt.family=at[kt.family]),ft.hasOwnProperty(kt.family)){nr=ft[kt.family];break}if(!(nr=nr||ft[Yt]))throw new Error("Could not find a font-family for the rule '"+JA(kt)+"' and default family '"+Yt+"'.");if(nr=(function(qt,pt){if(pt[qt])return pt[qt];var $r=H2[qt],Gr=$r<=H2.normal?-1:1,ar=XA(pt,qR,$r,Gr);if(!ar)throw new Error("Could not find a matching font-stretch value for "+qt);return ar})(kt.stretch,nr),nr=(function(qt,pt){if(pt[qt])return pt[qt];for(var $r=BR[qt],Gr=0;Gr<$r.length;++Gr)if(pt[$r[Gr]])return pt[$r[Gr]];throw new Error("Could not find a matching font-style for "+qt)})(kt.style,nr),!(nr=(function(qt,pt){if(pt[qt])return pt[qt];if(qt===400&&pt[500])return pt[500];if(qt===500&&pt[400])return pt[400];var $r=PX[qt],Gr=XA(pt,UR,$r,qt<400?-1:1);if(!Gr)throw new Error("Could not find a matching font-weight for value "+qt);return Gr})(kt.weight,nr)))throw new Error("Failed to resolve a font for the rule '"+JA(kt)+"'.");return nr})(Xe,Ye);this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var xt="";(Ue==="bold"||parseInt(Ue,10)>=700||Ge==="bold")&&(xt="bold"),Ge==="italic"&&(xt+="italic"),xt.length===0&&(xt="normal");for(var bt="",rr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<$e.length;Pt++){if(this.pdf.internal.getFont($e[Pt],xt,{noFallback:!0,disableWarning:!0})!==void 0){bt=$e[Pt];break}if(xt==="bolditalic"&&this.pdf.internal.getFont($e[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=$e[Pt],xt="bold";else if(this.pdf.internal.getFont($e[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=$e[Pt],xt="normal";break}}if(bt===""){for(var st=0;st<$e.length;st++)if(rr[$e[st]]){bt=rr[$e[st]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,W){if(isNaN($)||isNaN(W))throw vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s($,W));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s($,W)},f.prototype.closePath=function(){var $=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&fr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){$=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},f.prototype.lineTo=function($,W){if(isNaN($)||isNaN(W))throw vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s($,W));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,W,H,ee){if(isNaN(H)||isNaN(ee)||isNaN($)||isNaN(W))throw vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(H,ee)),oe=this.ctx.transform.applyToPoint(new s($,W));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},f.prototype.bezierCurveTo=function($,W,H,ee,le,oe){if(isNaN(le)||isNaN(oe)||isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee))throw vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(le,oe)),se=this.ctx.transform.applyToPoint(new s($,W)),he=this.ctx.transform.applyToPoint(new s(H,ee));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function($,W,H,ee,le,oe){if(isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee)||isNaN(le))throw vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s($,W));$=de.x,W=de.y;var se=this.ctx.transform.applyToPoint(new s(0,H)),he=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(se.x-he.x,2)+Math.pow(se.y-he.y,2))}Math.abs(le-ee)>=2*Math.PI&&(ee=0,le=2*Math.PI),this.path.push({type:"arc",x:$,y:W,radius:H,startAngle:ee,endAngle:le,counterclockwise:oe})},f.prototype.arcTo=function($,W,H,ee,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,W,H,ee){if(isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee))throw vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,W),this.lineTo($+H,W),this.lineTo($+H,W+ee),this.lineTo($,W+ee),this.lineTo($,W),this.lineTo($+H,W),this.lineTo($,W)},f.prototype.fillRect=function($,W,H,ee){if(isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee))throw vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,W,H,ee),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function($,W,H,ee){if(isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee))throw vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,W,H,ee),this.stroke())},f.prototype.clearRect=function($,W,H,ee){if(isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee))throw vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,W,H,ee))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(W),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function($){var W,H,ee,le;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))W=0,H=0,ee=0,le=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(oe!==null)W=parseInt(oe[1]),H=parseInt(oe[2]),ee=parseInt(oe[3]),le=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)W=parseInt(oe[1]),H=parseInt(oe[2]),ee=parseInt(oe[3]),le=parseFloat(oe[4]);else{if(le=1,typeof $=="string"&&$.charAt(0)!=="#"){var de=new IR($);$=de.ok?de.toHex():"#000000"}$.length===4?(W=$.substring(1,2),W+=W,H=$.substring(2,3),H+=H,ee=$.substring(3,4),ee+=ee):(W=$.substring(1,3),H=$.substring(3,5),ee=$.substring(5,7)),W=parseInt(W,16),H=parseInt(H,16),ee=parseInt(ee,16)}}return{r:W,g:H,b:ee,a:le,style:$}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,W,H,ee){if(isNaN(W)||isNaN(H)||typeof $!="string")throw vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!h.call(this)){var le=B(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:$,x:W,y:H,scale:oe,angle:le,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function($,W,H,ee){if(isNaN(W)||isNaN(H)||typeof $!="string")throw vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ee=isNaN(ee)?void 0:ee;var le=B(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:$,x:W,y:H,scale:oe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function($){if(typeof $!="string")throw vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,H=this.pdf.internal.scaleFactor,ee=W.internal.getFontSize(),le=W.getStringUnitWidth($)*ee/W.internal.scaleFactor;return new function(oe){var de=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:le*=Math.round(96*H/72*1e4)/1e4})},f.prototype.scale=function($,W){if(isNaN($)||isNaN(W))throw vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c($,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.rotate=function($){if(isNaN($))throw vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function($,W){if(isNaN($)||isNaN(W))throw vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,$,W);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.transform=function($,W,H,ee,le,oe){if(isNaN($)||isNaN(W)||isNaN(H)||isNaN(ee)||isNaN(le)||isNaN(oe))throw vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c($,W,H,ee,le,oe);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function($,W,H,ee,le,oe){$=isNaN($)?1:$,W=isNaN(W)?0:W,H=isNaN(H)?0:H,ee=isNaN(ee)?1:ee,le=isNaN(le)?0:le,oe=isNaN(oe)?0:oe,this.ctx.transform=new c($,W,H,ee,le,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,W,H,ee,le,oe,de,se,he){var ge=this.pdf.getImageProperties($),ue=1,Oe=1,me=1,te=1;ee!==void 0&&se!==void 0&&(me=se/ee,te=he/le,ue=ge.width/ee*se/ee,Oe=ge.height/le*he/le),oe===void 0&&(oe=W,de=H,W=0,H=0),ee!==void 0&&se===void 0&&(se=ee,he=le),ee===void 0&&se===void 0&&(se=ge.width,he=ge.height);for(var Ge,Ue=this.ctx.transform.decompose(),He=B(Ue.rotate.shx),Pe=new c,et=(Pe=(Pe=(Pe=Pe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(oe-W*me,de-H*te,ee*ue,le*Oe)),$e=v.call(this,et),Xe=[],Ye=0;Ye<$e.length;Ye+=1)Xe.indexOf($e[Ye])===-1&&Xe.push($e[Ye]);if(w(Xe),this.autoPaging)for(var Wt=Xe[0],xt=Xe[Xe.length-1],bt=Wt;bt<xt+1;bt++){this.pdf.setPage(bt);var rr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=bt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=bt===1?0:st+(bt-2)*ft;if(this.ctx.clip_path.length!==0){var Gt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ge,this.posX+this.margin[3],-lt+Pt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Gt}var Yt=JSON.parse(JSON.stringify(et));Yt=j([Yt],this.posX+this.margin[3],-lt+Pt+this.ctx.prevPageLastElemOffset)[0];var at=(bt>Wt||bt<xt)&&m.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rr,ft,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,He),at&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",et.x,et.y,et.w,et.h,null,null,He)};var v=function($,W,H){var ee=[];W=W||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ee.push(Math.floor(($.y+le)/H)+1);break;case"arc":ee.push(Math.floor(($.y+le-$.radius)/H)+1),ee.push(Math.floor(($.y+le+$.radius)/H)+1);break;case"qct":var oe=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ee.push(Math.floor((oe.y+le)/H)+1),ee.push(Math.floor((oe.y+oe.h+le)/H)+1);break;case"bct":var de=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ee.push(Math.floor((de.y+le)/H)+1),ee.push(Math.floor((de.y+de.h+le)/H)+1);break;case"rect":ee.push(Math.floor(($.y+le)/H)+1),ee.push(Math.floor(($.y+$.h+le)/H)+1)}for(var se=0;se<ee.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<ee[se];)x.call(this);return ee},x=function(){var $=this.fillStyle,W=this.strokeStyle,H=this.font,ee=this.lineCap,le=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=W,this.font=H,this.lineCap=ee,this.lineWidth=le,this.lineJoin=oe},j=function($,W,H){for(var ee=0;ee<$.length;ee++)switch($[ee].type){case"bct":$[ee].x2+=W,$[ee].y2+=H;case"qct":$[ee].x1+=W,$[ee].y1+=H;default:$[ee].x+=W,$[ee].y+=H}return $},w=function($){return $.sort(function(W,H){return W-H})},_=function($,W){for(var H,ee,le=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,se=this.lineWidth,he=Math.abs(se*this.ctx.transform.scaleX),ge=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),me=[],te=0;te<Oe.length;te++)if(Oe[te].x!==void 0)for(var Ge=v.call(this,Oe[te]),Ue=0;Ue<Ge.length;Ue+=1)me.indexOf(Ge[Ue])===-1&&me.push(Ge[Ue]);for(var He=0;He<me.length;He++)for(;this.pdf.internal.getNumberOfPages()<me[He];)x.call(this);if(w(me),this.autoPaging)for(var Pe=me[0],et=me[me.length-1],$e=Pe;$e<et+1;$e++){this.pdf.setPage($e),this.fillStyle=le,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=he,this.lineJoin=ge;var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=$e===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=$e===1?0:Wt+($e-2)*xt;if(this.ctx.clip_path.length!==0){var rr=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(H,this.posX+this.margin[3],-bt+Ye+this.ctx.prevPageLastElemOffset),N.call(this,$,!0),this.path=rr}if(ee=JSON.parse(JSON.stringify(ue)),this.path=j(ee,this.posX+this.margin[3],-bt+Ye+this.ctx.prevPageLastElemOffset),W===!1||$e===0){var Pt=($e>Pe||$e<et)&&m.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,xt,null).clip().discardPath()),N.call(this,$,W),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=he,N.call(this,$,W),this.lineWidth=se;this.path=ue},N=function($,W){if(($!=="stroke"||W||!g.call(this))&&($==="stroke"||W||!h.call(this))){for(var H,ee,le=[],oe=this.path,de=0;de<oe.length;de++){var se=oe[de];switch(se.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:se,deltas:[],abs:[]});break;case"lt":var he=le.length;if(oe[de-1]&&!isNaN(oe[de-1].x)&&(H=[se.x-oe[de-1].x,se.y-oe[de-1].y],he>0)){for(;he>=0;he--)if(le[he-1].close!==!0&&le[he-1].begin!==!0){le[he-1].deltas.push(H),le[he-1].abs.push(se);break}}break;case"bct":H=[se.x1-oe[de-1].x,se.y1-oe[de-1].y,se.x2-oe[de-1].x,se.y2-oe[de-1].y,se.x-oe[de-1].x,se.y-oe[de-1].y],le[le.length-1].deltas.push(H);break;case"qct":var ge=oe[de-1].x+2/3*(se.x1-oe[de-1].x),ue=oe[de-1].y+2/3*(se.y1-oe[de-1].y),Oe=se.x+2/3*(se.x1-se.x),me=se.y+2/3*(se.y1-se.y),te=se.x,Ge=se.y;H=[ge-oe[de-1].x,ue-oe[de-1].y,Oe-oe[de-1].x,me-oe[de-1].y,te-oe[de-1].x,Ge-oe[de-1].y],le[le.length-1].deltas.push(H);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(se)}}ee=W?null:$==="stroke"?"stroke":"fill";for(var Ue=!1,He=0;He<le.length;He++)if(le[He].arc)for(var Pe=le[He].abs,et=0;et<Pe.length;et++){var $e=Pe[et];$e.type==="arc"?O.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,W,!Ue):M.call(this,$e.x,$e.y),Ue=!0}else if(le[He].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(le[He].begin!==!0){var Xe=le[He].start.x,Ye=le[He].start.y;D.call(this,le[He].deltas,Xe,Ye),Ue=!0}ee&&T.call(this,ee),W&&R.call(this)}},A=function($){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-H;case"top":return $+W-H;case"hanging":return $+W-2*H;case"middle":return $+W/2-H;default:return $}},k=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(W,H){this.colorStops.push([W,H])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function($,W,H,ee,le,oe,de,se,he){for(var ge=F.call(this,H,ee,le,oe),ue=0;ue<ge.length;ue++){var Oe=ge[ue];ue===0&&(he?P.call(this,Oe.x1+$,Oe.y1+W):M.call(this,Oe.x1+$,Oe.y1+W)),G.call(this,$,W,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}se?R.call(this):T.call(this,de)},T=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},P=function($,W){this.pdf.internal.out(r($)+" "+n(W)+" m")},I=function($){var W;switch($.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var H=this.pdf.getTextDimensions($.text),ee=A.call(this,$.y),le=k.call(this,ee)-H.h,oe=this.ctx.transform.applyToPoint(new s($.x,ee)),de=this.ctx.transform.decompose(),se=new c;se=(se=(se=se.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,ge,ue,Oe=this.ctx.transform.applyToRectangle(new l($.x,ee,H.w,H.h)),me=se.applyToRectangle(new l($.x,le,H.w,H.h)),te=v.call(this,me),Ge=[],Ue=0;Ue<te.length;Ue+=1)Ge.indexOf(te[Ue])===-1&&Ge.push(te[Ue]);if(w(Ge),this.autoPaging)for(var He=Ge[0],Pe=Ge[Ge.length-1],et=He;et<Pe+1;et++){this.pdf.setPage(et);var $e=et===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],Wt=Ye-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],bt=xt-this.margin[3],rr=et===1?0:Xe+(et-2)*Wt;if(this.ctx.clip_path.length!==0){var Pt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(he,this.posX+this.margin[3],-1*rr+$e),N.call(this,"fill",!0),this.path=Pt}var st=j([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-rr+$e+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*$.scale),ue=this.lineWidth,this.lineWidth=ue*$.scale);var ft=this.autoPaging!=="text";if(ft||st.y+st.h<=Ye){if(ft||st.y>=$e&&st.x<=xt){var lt=ft?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||xt-st.x)[0],Gt=j([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-rr+$e+this.ctx.prevPageLastElemOffset)[0],Yt=ft&&(et>He||et<Pe)&&m.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Wt,null).clip().discardPath()),this.pdf.text(lt,Gt.x,Gt.y,{angle:$.angle,align:W,renderingMode:$.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else st.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-st.y);$.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)}else $.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*$.scale),ue=this.lineWidth,this.lineWidth=ue*$.scale),this.pdf.text($.text,oe.x+this.posX,oe.y+this.posY,{angle:$.angle,align:W,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)},M=function($,W,H,ee){H=H||0,ee=ee||0,this.pdf.internal.out(r($+H)+" "+n(W+ee)+" l")},D=function($,W,H){return this.pdf.lines($,W,H,null,null)},G=function($,W,H,ee,le,oe,de,se){this.pdf.internal.out([e(a(H+$)),e(i(ee+W)),e(a(le+$)),e(i(oe+W)),e(a(de+$)),e(i(se+W)),"c"].join(" "))},F=function($,W,H,ee){for(var le=2*Math.PI,oe=Math.PI/2;W>H;)W-=le;var de=Math.abs(H-W);de<le&&ee&&(de=le-de);for(var se=[],he=ee?-1:1,ge=W;de>1e-5;){var ue=ge+he*Math.min(de,oe);se.push(q.call(this,$,ge,ue)),de-=Math.abs(ue-ge),ge=ue}return se},q=function($,W,H){var ee=(H-W)/2,le=$*Math.cos(ee),oe=$*Math.sin(ee),de=le,se=-oe,he=de*de+se*se,ge=he+de*le+se*oe,ue=4/3*(Math.sqrt(2*he*ge)-ge)/(de*oe-se*le),Oe=de-ue*se,me=se+ue*de,te=Oe,Ge=-me,Ue=ee+W,He=Math.cos(Ue),Pe=Math.sin(Ue);return{x1:$*Math.cos(W),y1:$*Math.sin(W),x2:Oe*He-me*Pe,y2:Oe*Pe+me*He,x3:te*He-Ge*Pe,y3:te*Pe+Ge*He,x4:$*Math.cos(H),y4:$*Math.sin(H)}},B=function($){return 180*$/Math.PI},X=function($,W,H,ee,le,oe){var de=$+.5*(H-$),se=W+.5*(ee-W),he=le+.5*(H-le),ge=oe+.5*(ee-oe),ue=Math.min($,le,de,he),Oe=Math.max($,le,de,he),me=Math.min(W,oe,se,ge),te=Math.max(W,oe,se,ge);return new l(ue,me,Oe-ue,te-me)},J=function($,W,H,ee,le,oe,de,se){var he,ge,ue,Oe,me,te,Ge,Ue,He,Pe,et,$e,Xe,Ye,Wt=H-$,xt=ee-W,bt=le-H,rr=oe-ee,Pt=de-le,st=se-oe;for(ge=0;ge<41;ge++)He=(Ge=(ue=$+(he=ge/40)*Wt)+he*((me=H+he*bt)-ue))+he*(me+he*(le+he*Pt-me)-Ge),Pe=(Ue=(Oe=W+he*xt)+he*((te=ee+he*rr)-Oe))+he*(te+he*(oe+he*st-te)-Ue),ge==0?(et=He,$e=Pe,Xe=He,Ye=Pe):(et=Math.min(et,He),$e=Math.min($e,Pe),Xe=Math.max(Xe,He),Ye=Math.max(Ye,Pe));return new l(Math.round(et),Math.round($e),Math.round(Xe-et),Math.round(Ye-$e))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,W,H=($=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:W}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(ut.API),(function(t){var e=function(s){var l,c,u,d,f,p,h,g,m,v;for(c=[],u=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(p+33,h+33,g+33,m+33,v+33)):c.push(122);return(function(x,j){for(var w=j;w>0;w--)x.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,u,d,f,p=String,h="length",g=255,m="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(s+=l="uuuuu"[v](s[h]%5||5))[h];f>d;d+=5)c=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(j,w){for(var _=w;_>0;_--)j.pop()})(u,l[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=$2(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,l){var c=0,u=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(ut.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var m=g.length,v=[],x=String.fromCharCode;for(p=0;p<m;p+=1)v.push(x(255&g.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,s)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(ut.API),(function(t){function e(){return(St.html2canvas?Promise.resolve(St.html2canvas):Ja(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):Ja(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=fr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],m=g.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var u=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(f,l,c);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ut.getPageSize=function(l,c,u){if(fr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,m=0,v=0;if(h.hasOwnProperty(p))m=h[p][1]/f,v=h[p][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>m&&(g=v,v=m,m=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Xy):null;var u=new s(c);return c.worker?u:u.from(l).doCallback()}})(ut.API),ut.API.addJS=function(t){return tk=t,this.internal.events.subscribe("postPutResources",function(){Kp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ek=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kp!==void 0&&ek!==void 0&&this.internal.out("/Names <</JavaScript "+Kp+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(ut.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(ut.API),ut.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=pX(t,{checkCrc:!0}),s=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(k){for(var O=k.width,T=k.height,R=k.data,P=k.palette,I=k.depth,M=!1,D=[],G=[],F=void 0,q=!1,B=0,X=0;X<P.length;X++){var J=iA(P[X],4),ie=J[0],$=J[1],W=J[2],H=J[3];D.push(ie,$,W),H!=null&&(H===0?(B++,G.length<1&&G.push(X)):H<255&&(q=!0))}if(q||B>1){M=!0,G=void 0;var ee=O*T;F=new Uint8Array(ee);for(var le=new DataView(R.buffer),oe=0;oe<ee;oe++){var de=Jy(le,oe,I),se=iA(P[de],4)[3];F[oe]=se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:R,alphaBytes:F,needSMask:M,palette:D,mask:G}})(i):c===2||c===4?(function(k){for(var O=k.data,T=k.width,R=k.height,P=k.channels,I=k.depth,M=P===2?"DeviceGray":"DeviceRGB",D=P-1,G=T*R,F=D,q=G*F,B=1*G,X=Math.ceil(q*I/8),J=Math.ceil(B*I/8),ie=new Uint8Array(X),$=new Uint8Array(J),W=new DataView(O.buffer),H=new DataView(ie.buffer),ee=new DataView($.buffer),le=!1,oe=0;oe<G;oe++){for(var de=oe*P,se=0;se<F;se++)uk(H,Jy(W,de+se,I),oe*F+se,I);var he=Jy(W,de+F,I);he<(1<<I)-1&&(le=!0),uk(ee,he,1*oe,I)}return{colorSpace:M,colorsPerPixel:D,colorBytes:ie,alphaBytes:$,needSMask:le}})(i):(function(k){var O=k.data,T=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:O instanceof Uint8Array?O:new Uint8Array(O.buffer),needSMask:!1}})(i);var f,p,h,g=a,m=g.colorSpace,v=g.colorsPerPixel,x=g.colorBytes,j=g.alphaBytes,w=g.needSMask,_=g.palette,N=g.mask,A=null;return n!==ut.API.image_compression.NONE&&typeof $2=="function"?(A=(function(k){var O;switch(k){case ut.API.image_compression.FAST:O=11;break;case ut.API.image_compression.MEDIUM:O=13;break;case ut.API.image_compression.SLOW:O=14;break;default:O=12}return O})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(A," "),t=ik(x,s*v,v,n),w&&(h=ik(j,s,1,n))):(f=void 0,p="",t=x,w&&(h=j)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:N,palette:_,sMask:h,predictor:A,width:s,height:l,bitsPerComponent:d,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new LX(e),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},d=new Qy(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(ut.API),gi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){vr.log("bit decode error:"+r)}},gi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},gi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},gi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},gi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},gi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},gi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},gi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},gi.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new gi(e,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new Qy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ut.API),fk.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new fk(e),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new Qy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ut.API),ut.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=p,s[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eu=ut.API,Xp=eu.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,m=l[0]||c,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=f&&fr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((l[n]||m)/c+p)),g=n;return v},rk=eu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return eu.processArabic&&(t=eu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Xp.apply(this,arguments).reduce(function(i,s){return i+s},0)},nk=function(t,e,r,n){for(var a=[],i=0,s=t.length,l=0;i!==s&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==s;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},ak=function(t,e,r){r||(r={});var n,a,i,s,l,c,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,m=t.split(" "),v=Xp.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),j=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?j=j.concat(_.map(function(N,A){return(A&&N.length?`
`:"")+N})):j.push(_[0])}),m=j,c=rk.apply(this,[x,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(g=(a=Xp.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>e||w){if(g>e){for(l=nk.apply(this,[n,a,e-(p+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,N){return _+N},0)}else d=[n];f.push(d),p=g+c,h=v}else d.push(n),p+=h+g,h=v}return u=c?function(_,N){return(N?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},eu.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(ak.apply(this,[n[l],s,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var h,g,m,v,x=["{"];for(var j in p){if(h=p[j],isNaN(parseInt(j,10))?g="'"+j+"'":(j=parseInt(j,10),g=(g=s(j).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+a[m.slice(-1)];else{if(fr(h)!=="object")throw new Error("Don't know what to do with value type "+fr(h)+".");m=l(h)}x.push(g+m)}return x.push("}"),x.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,x={},j=1,w=x,_=[],N="",A="",k=p.length-1,O=1;O<k;O+=1)(v=p[O])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([w,m]),w={},m=void 0):v=="}"?((g=_.pop())[0][g[1]]=w,m=void 0,w=g[0]):v=="-"?j=-1:m===void 0?n.hasOwnProperty(v)?(N+=n[v],m=parseInt(N,16)*j,j=1,N=""):N+=v:n.hasOwnProperty(v)?(A+=n[v],w[m]=parseInt(A,16)*j,j=1,m=void 0,A=""):A+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(ut.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(bm(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(ut),ut.API.addSvgAsImage=function(t,e,r,n,a,i,s,l){if(isNaN(e)||isNaN(r))throw vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(St.canvg?Promise.resolve(St.canvg):Ja(()=>import("./index.es-D6CkDO2s.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,s,l)})},ut.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ut.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,f=0;function p(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(fr(t)==="object"){for(a in t)if(i=t[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(ut.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(l=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var s,l,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)s=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+fu(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+fu(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+fu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+fu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+fu(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",x=0,j="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(j=l,m=h,Array.isArray(l)&&(j=l[0]),x=0;x<j.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[j[x].charCodeAt(0)]),s||j[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=j[x]:v+="";var _="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?_=p(v,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=r(v,g[m])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])})(ut),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ut.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,w=0;this.__bidiEngine__={};var _=function(P){var I=P.charCodeAt(),M=I>>8,D=m[M];return D!==void 0?f[256*D+(255&I)]:M===252||M===253?"AL":x.test(M)?"L":M===8?"R":"N"},N=function(P){for(var I,M=0;M<P.length;M++){if((I=_(P.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},A=function(P,I,M,D){var G,F,q,B,X=I[D];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(X="AN");break;case"AL":j=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":D<1||D+1>=I.length||(G=M[D-1])!=="EN"&&G!=="AN"||(F=I[D+1])!=="EN"&&F!=="AN"?X="N":j&&(F="AN"),X=F===G?F:"N";break;case"ES":X=(G=D>0?M[D-1]:"B")==="EN"&&D+1<I.length&&I[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&M[D-1]==="EN"){X="EN";break}if(j){X="N";break}for(q=D+1,B=I.length;q<B&&I[q]==="ET";)q++;X=q<B&&I[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(B=I.length,q=D+1;q<B&&I[q]==="NSM";)q++;if(q<B){var J=P[D],ie=J>=1425&&J<=2303||J===64286;if(G=I[q],ie&&(G==="R"||G==="AL")){X="R";break}}}X=D<1||(G=I[D-1])==="B"?"N":M[D-1];break;case"B":j=!1,a=!0,X=w;break;case"S":i=!0,X="N"}return X},k=function(P,I,M){var D=P.split("");return M&&O(D,M,{hiLevel:w}),D.reverse(),I&&I.reverse(),D.join("")},O=function(P,I,M){var D,G,F,q,B,X=-1,J=P.length,ie=0,$=[],W=w?h:p,H=[];for(j=!1,a=!1,i=!1,G=0;G<J;G++)H[G]=_(P[G]);for(F=0;F<J;F++){if(B=ie,$[F]=A(P,H,$,F),D=240&(ie=W[B][g[$[F]]]),ie&=15,I[F]=q=W[ie][5],D>0)if(D===16){for(G=X;G<F;G++)I[G]=1;X=-1}else X=-1;if(W[ie][6])X===-1&&(X=F);else if(X>-1){for(G=X;G<F;G++)I[G]=q;X=-1}H[F]==="B"&&(I[F]=0),M.hiLevel|=q}i&&(function(ee,le,oe){for(var de=0;de<oe;de++)if(ee[de]==="S"){le[de]=w;for(var se=de-1;se>=0&&ee[se]==="WS";se--)le[se]=w}})(H,I,J)},T=function(P,I,M,D,G){if(!(G.hiLevel<P)){if(P===1&&w===1&&!a)return I.reverse(),void(M&&M.reverse());for(var F,q,B,X,J=I.length,ie=0;ie<J;){if(D[ie]>=P){for(B=ie+1;B<J&&D[B]>=P;)B++;for(X=ie,q=B-1;X<q;X++,q--)F=I[X],I[X]=I[q],I[q]=F,M&&(F=M[X],M[X]=M[q],M[q]=F);ie=B}ie++}}},R=function(P,I,M){var D=P.split(""),G={hiLevel:w};return M||(M=[]),O(D,M,G),(function(F,q,B){if(B.hiLevel!==0&&d)for(var X,J=0;J<F.length;J++)q[J]===1&&(X=v.indexOf(F[J]))>=0&&(F[J]=v[X+1])})(D,M,G),T(2,D,I,M,G),T(1,D,I,M,G),D.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,M){if((function(G,F){if(F)for(var q=0;q<G.length;q++)F[q]=q;l===void 0&&(l=N(G)),u===void 0&&(u=N(G))})(P,I),s||!c||u)if(s&&c&&l^u)w=l?1:0,P=k(P,I,M);else if(!s&&c&&u)w=l?1:0,P=R(P,I,M),P=k(P,I);else if(!s||l||c||u){if(s&&!c&&l^u)P=k(P,I),l?(w=0,P=R(P,I,M)):(w=1,P=R(P,I,M),P=k(P,I));else if(s&&l&&!c&&u)w=1,P=R(P,I,M),P=k(P,I);else if(!s&&!c&&l^u){var D=d;l?(w=1,P=R(P,I,M),w=0,d=!1,P=R(P,I,M),d=D):(w=0,P=R(P,I,M),P=k(P,I),w=1,d=!1,P=R(P,I,M),d=D,P=k(P,I))}}else w=0,P=R(P,I,M);else w=l?1:0,P=R(P,I,M);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(ut),ut.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Yo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new XX(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new MX(this.contents),this.head=new $X(this),this.name=new zX(this),this.cmap=new WR(this),this.toUnicode={},this.hhea=new FX(this),this.maxp=new WX(this),this.hmtx=new HX(this),this.post=new qX(this),this.os2=new BX(this),this.loca=new KX(this),this.glyf=new VX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,l;for(s=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Bi,Yo=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),MX=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,l,c,u,d,f,p,h,g,m;for(m in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),s=Math.floor(f/c),d=16*h-f,(a=new Yo).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*h,u=a.pos+i,l=null,g=[],r)for(p=r[m],a.writeString(m),a.writeInt(t(p)),a.writeInt(u),a.writeInt(p.length),g=g.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=HR.call(r);r.length%4;)r.push(0);for(i=new Yo(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),DX={}.hasOwnProperty,ys=function(t,e){for(var r in e)DX.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Bi=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var $X=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Yo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),hk=(function(){function t(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,i=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),e.pos+=2,m=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),u=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),d=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var _,N;for(N=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)N.push(e.readUInt16());return N})(),c=x=0,w=i.length;x<w;c=++x)for(v=i[c],n=j=g=m[c];g<=v?j<=v:j>=v;n=g<=v?++j:--j)d[c]===0?s=n+u[c]:(s=l[d[c]/2+(n-g)-(p-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,w,_,N,A,k,O,T,R,P,I,M,D,G,F,q,B,X,J,ie,$,W,H,ee,le,oe,de,se,he,ge,ue;switch(D=new Yo,s=Object.keys(e).sort(function(Oe,me){return Oe-me}),r){case"macroman":for(m=0,v=(function(){var Oe=[];for(g=0;g<256;++g)Oe.push(0);return Oe})(),j={0:0},i={},G=0,X=s.length;G<X;G++)j[se=e[a=s[G]]]==null&&(j[se]=++m),i[a]={old:e[a],new:j[e[a]]},v[a]=j[e[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:i,subtable:D.data,maxGlyphID:m+1};case"unicode":for(I=[],f=[],w=0,j={},n={},x=u=null,F=0,J=s.length;F<J;F++)j[N=e[a=s[F]]]==null&&(j[N]=++w),n[a]={old:N,new:j[N]},l=j[N]-a,x!=null&&l===u||(x&&f.push(x),I.push(a),u=l),x=a;for(x&&f.push(x),f.push(65535),I.push(65535),R=2*(T=I.length),O=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(O/2)/Math.LN2,k=2*T-O,c=[],A=[],h=[],g=q=0,ie=I.length;q<ie;g=++q){if(P=I[g],d=f[g],P===65535){c.push(0),A.push(0);break}if(P-(M=n[P].new)>=32768)for(c.push(0),A.push(2*(h.length+T-g)),a=B=P;P<=d?B<=d:B>=d;a=P<=d?++B:--B)h.push(n[a].new);else c.push(M-P),A.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*T+2*h.length),D.writeUInt16(0),D.writeUInt16(R),D.writeUInt16(O),D.writeUInt16(p),D.writeUInt16(k),oe=0,$=f.length;oe<$;oe++)a=f[oe],D.writeUInt16(a);for(D.writeUInt16(0),de=0,W=I.length;de<W;de++)a=I[de],D.writeUInt16(a);for(he=0,H=c.length;he<H;he++)l=c[he],D.writeUInt16(l);for(ge=0,ee=A.length;ge<ee;ge++)_=A[ge],D.writeUInt16(_);for(ue=0,le=h.length;ue<le;ue++)m=h[ue],D.writeUInt16(m);return{charMap:n,subtable:D.data,maxGlyphID:w+1}}},t})(),WR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new hk(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=hk.encode(e,r),(a=new Yo).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),FX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),BX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),qX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],i=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;i=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),UX=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},zX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,s,l,c,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,u=e.readString(a.length),s=new UX(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),WX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),HX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),HR=[].slice,VX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,s,l,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new Yo(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=s===-1?new YX(l,u,f,c,d):new GX(l,s,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,s,l,c;for(s=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},t})(),GX=(function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),YX=(function(){function t(e,r,n,a,i){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Yo(HR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),KX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ys(t,Bi),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),XX=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x;for(a in n=WR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return d=(function(j){var w,_;for(w in _={},j)_[j[w]]=w;return _})(h),f=Object.keys(d).sort(function(j,w){return j-w}),m=(function(){var j,w,_;for(_=[],j=0,w=f.length;j<w;j++)l=f[j],_.push(d[l]);return _})(),i=this.font.glyf.encode(s,m,h),u=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();ut.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e})();const Dl=t=>typeof t!="number"||isNaN(t)?"R0.00":new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),VR=async t=>{try{const e=new ut,r={background:[40,44,52],primary:[255,255,255],secondary:[156,163,175],accent:[239,68,68],accent2:[59,130,246],cardBg:[55,65,81],border:[75,85,99],success:[34,197,94],warning:[251,191,36]};e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F");let n=25;e.setFillColor(229,62,132),e.rect(0,0,210,35,"F"),e.setFillColor(219,39,119),e.rect(0,25,210,10,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("ROSMAMA",20,20),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Premium Fashion & Lifestyle",20,30),n=50,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.text(" New Rd, Carlswald, Midrand, 1684",20,n),e.text(" +27 63 470 8046",20,n+5),e.text(" info@rosemama.store",20,n+10),n+=25;const a=(u,d,f,p)=>{e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(u,d,f,p,"F"),e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.setLineWidth(.5),e.rect(u,d,f,p)};a(20,n,85,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Invoice Details",25,n+8),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]);let i=n+16;e.text("Invoice Number:",25,i),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`INV-${t.order_id.slice(-8).toUpperCase()}`,25,i+4),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Order ID:",25,i+12),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${t.order_id.slice(-12)}`,25,i+16),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Invoice Date:",25,i+24),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${new Date(t.order_date).toLocaleDateString()}`,25,i+28);const l={pending:r.warning,processing:r.accent2,shipped:r.accent2,delivered:r.success,cancelled:r.accent}[t.status]||r.secondary;if(e.setFillColor(l[0],l[1],l[2]),e.rect(67,i+32,25,8,"F"),e.setTextColor(255,255,255),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(t.status.toUpperCase(),69,i+37),a(110,n,80,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Bill To",115,n+8),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(t.customer_name,115,n+18),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text(t.customer_email,115,n+25),t.shipping_address&&(e.text(t.shipping_address.address,115,n+32),e.text(`${t.shipping_address.city}, ${t.shipping_address.state}`,115,n+37),e.text(`${t.shipping_address.zipCode} ${t.shipping_address.country}`,115,n+42)),n+=60,t.order_items&&t.order_items.length>0){e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Order Items",20,n),n+=15,e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(20,n-5,170,12,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.setFont("helvetica","bold"),e.text("ITEM",25,n),e.text("QTY",125,n,{align:"center"}),e.text("PRICE",150,n,{align:"center"}),e.text("TOTAL",180,n,{align:"right"}),n+=12,e.setFont("helvetica","normal"),t.order_items.forEach((f,p)=>{var g,m;p%2===0&&(e.setFillColor(45,55,72),e.rect(20,n-3,170,14,"F")),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9);const h=(((g=f.products)==null?void 0:g.name)||"Unknown Product").substring(0,30);e.text(h,25,n+3),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(7),e.text(((m=f.products)==null?void 0:m.category)||"N/A",25,n+8),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.text(f.quantity.toString(),125,n+3,{align:"center"}),e.text(Dl(f.price_at_purchase),150,n+3,{align:"center"}),e.text(Dl(f.quantity*f.price_at_purchase),180,n+3,{align:"right"}),n+=14,n>250&&(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20)}),n+=10,a(110,n,80,35),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9);let u=n+10;e.text("Subtotal:",115,u),e.text(Dl(dj(t)),185,u,{align:"right"}),u+=8,e.text("Shipping:",115,u),e.text(Dl(150),185,u,{align:"right"}),u+=8,e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.line(115,u,185,u),u+=8,e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("TOTAL:",115,u),e.setTextColor(r.accent[0],r.accent[1],r.accent[2]),e.text(Dl(t.amount),185,u,{align:"right"}),n+=45,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal");const d=t.payment_method==="cash-on-delivery"?" Cash on Delivery":t.payment_method==="bank-transfer"?" Bank Transfer":t.payment_method==="credit-card"?" Credit Card":"Payment Method Not Specified";e.text(`Payment Method: ${d}`,20,n)}n>250?(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20):n=270,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Thank you for shopping with Rosmama! We appreciate your business.",20,n),e.setFontSize(8),e.text("For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046",20,n+6);const c=`INV-${t.order_id.slice(-8).toUpperCase()}`;e.save(`${c}.pdf`)}catch(e){throw console.error("Error generating PDF:",e),new Error("Failed to generate PDF invoice. Please try again.")}},dj=t=>t.order_items?t.order_items.reduce((e,r)=>e+r.quantity*r.price_at_purchase,0):t.amount,Uo=t=>Dl(t),ZX=t=>({pending:"rgb(251, 191, 36)",processing:"rgb(59, 130, 246)",shipped:"rgb(168, 85, 247)",delivered:"rgb(34, 197, 94)",cancelled:"rgb(239, 68, 68)"})[t.toLowerCase()]||"rgb(107, 114, 128)",JX=t=>({pending:[251,191,36],processing:[59,130,246],shipped:[168,85,247],delivered:[34,197,94],cancelled:[239,68,68]})[t.toLowerCase()]||[107,114,128],GR=async t=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)throw new Error("Please allow popups for this site to print invoices.");const r=`
      <div style="max-width: 800px; margin: 0 auto; padding: 15px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; min-height: 100vh; display: flex; flex-direction: column;">
        <!-- Main Content Area -->
        <div style="flex: 1;">
          <!-- Compact Header with Gradient -->
          <div style="text-align: center; margin-bottom: 25px;">
            <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); margin-bottom: 15px;">
              <h1 style="font-size: 28px; font-weight: bold; color: white; margin: 0 0 5px 0; letter-spacing: 1px;">ROSMAMA</h1>
              <p style="font-size: 14px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
            </div>
            
            <!-- Contact Information with Icons -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; font-size: 12px;">
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">&bull;</span>
                <span>New Rd, Carlswald, Midrand, 1684</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1);">
                <span style="margin-right: 6px; font-weight: bold;">Tel:</span>
                <span>+27 63 470 8046</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">@</span>
                <span>info@rosemama.store</span>
              </div>
            </div>
          </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 30px; margin-bottom: 40px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Invoice Details</h2>
            <div style="space-y: 12px;">
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 8px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${JX(t.status)}; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Bill To</h2>
            <div style="space-y: 8px;">
              <p style="margin: 8px 0; font-weight: bold; color: white; font-size: 16px;">${t.customer_name}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.address}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.country}</p>
                <p style="margin: 8px 0; color: rgba(244, 63, 94, 1);"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>

        <!-- Order Items Table -->
        <div style="background: rgb(55, 65, 81); border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
                <th style="padding: 10px 12px; text-align: left; color: white; font-weight: 600; font-size: 12px;">ITEM</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">QTY</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">PRICE</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">TOTAL</th>
              </tr>
            </thead>
            <tbody>
              ${t.order_items&&t.order_items.length>0?t.order_items.map((n,a)=>{var i,s;return`
                  <tr style="background: ${a%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 10px 12px;">
                      <div>
                        <div style="font-weight: 600; color: white; font-size: 13px;">${((i=n.products)==null?void 0:i.name)||"Unknown Product"}</div>
                        <div style="font-size: 11px; color: rgba(255, 255, 255, 0.6); margin-top: 2px;">${((s=n.products)==null?void 0:s.category)||"N/A"}</div>
                      </div>
                    </td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500; font-size: 13px;">${n.quantity}</td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-size: 13px;">${Uo(n.price_at_purchase)}</td>
                    <td style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 13px;">${Uo(n.quantity*n.price_at_purchase)}</td>
                  </tr>
                `}).join(""):'<tr><td colspan="4" style="padding: 15px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
            </tbody>
          </table>
        </div>

        <!-- Payment and Totals Section -->
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 10px 0; color: rgb(244, 63, 94);">Payment Method</h3>
            <p style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <div style="space-y: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Subtotal:</span>
                <span>${Uo(dj(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 12px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 16px; color: white;">
                <span>Total:</span>
                <span style="color: rgb(244, 63, 94);">${Uo(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sticky Footer -->
        <div style="margin-top: auto; text-align: center; border-top: 1px solid rgba(244, 63, 94, 0.3); padding-top: 15px; flex-shrink: 0;">
          <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 8px; font-size: 13px; font-weight: 500;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 11px; color: rgba(255, 255, 255, 0.6);">
            For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
          </p>
        </div>
      </div>
    `;e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>INV-${t.order_id.slice(-8).toUpperCase()}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            @media print {
              body { 
                margin: 0 !important; 
                background: rgb(40, 44, 52) !important; 
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
                print-color-adjust: exact;
              }
              .no-print { display: none; }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              @page {
                margin: 0 !important;
                size: A4;
              }
            }
            body { 
              font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              background: rgb(40, 44, 52) !important;
              color: rgb(255, 255, 255) !important;
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
              print-color-adjust: exact;
              font-size: 14px;
              line-height: 1.5;
            }
            .invoice-container { 
              max-width: 800px; 
              margin: 0 auto; 
              padding: 15px; 
            }
            /* Ensure all text is properly encoded and rendered */
            * {
              font-feature-settings: "kern" 1, "liga" 1;
              text-rendering: optimizeLegibility;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
            }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            ${r}
          </div>
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 1000);
            }
          <\/script>
        </body>
      </html>
    `),e.document.close()}catch(e){throw console.error("Error printing invoice:",e),e}},YR=async t=>{const e=`
    <div style="max-width: 800px; margin: 0 auto; padding: 30px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3); display: flex; flex-direction: column; min-height: 70vh;">
      <!-- Modern Header with Gradient -->
      <div style="text-align: center; margin-bottom: 40px;">
        <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 30px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); margin-bottom: 25px;">
          <h1 style="font-size: 48px; font-weight: bold; color: white; margin: 0 0 10px 0; letter-spacing: 2px;">ROSMAMA</h1>
          <p style="font-size: 22px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
          <div style="width: 80px; height: 4px; background: white; margin: 15px auto 0; border-radius: 2px;"></div>
        </div>
        
        <!-- Contact Information with Icons -->
        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">&bull;</span>
            <span>New Rd, Carlswald, Midrand, 1684</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">Tel:</span>
            <span>+27 63 470 8046</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">@</span>
            <span>info@rosemama.store</span>
          </div>
        </div>
      </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: left;">Invoice Details</h2>
            <div style="space-y: 8px; text-align: left;">
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 4px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${ZX(t.status)}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: right;">Bill To</h2>
            <div style="space-y: 6px; text-align: right;">
              <p style="margin: 4px 0; font-weight: bold; color: white; font-size: 14px;">${t.customer_name}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.address}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.country}</p>
                <p style="margin: 4px 0; color: rgba(244, 63, 94, 1); font-size: 13px;"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>      <!-- Order Items Table -->
      <div style="background: rgb(55, 65, 81); border-radius: 12px; overflow: hidden; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
              <th style="padding: 16px 20px; text-align: left; color: white; font-weight: 600; font-size: 14px;">ITEM</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">QTY</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">PRICE</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">TOTAL</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map((i,s)=>{var l,c;return`
                <tr style="background: ${s%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                  <td style="padding: 16px 20px;">
                    <div>
                      <div style="font-weight: 600; color: white; font-size: 15px;">${((l=i.products)==null?void 0:l.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px;">${((c=i.products)==null?void 0:c.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500;">${i.quantity}</td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9);">${Uo(i.price_at_purchase)}</td>
                  <td style="padding: 16px 20px; text-align: right; color: white; font-weight: 600;">${Uo(i.quantity*i.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 20px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Payment and Totals Section -->
      <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <h3 style="font-size: 20px; font-weight: bold; margin: 0 0 15px 0; color: rgb(244, 63, 94);">Payment Method</h3>
          <p style="color: rgba(255, 255, 255, 0.8); font-size: 16px;">
            ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
          </p>
        </div>
        
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <div style="space-y: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Subtotal:</span>
              <span>${Uo(dj(t))}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Shipping:</span>
              <span>R150.00</span>
            </div>
            <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 16px 0;">
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 20px; color: white;">
              <span>Total:</span>
              <span style="color: rgb(244, 63, 94);">${Uo(t.amount)}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Elegant Footer -->
      <div style="margin-top: auto; text-align: center; border-top: 2px solid rgba(244, 63, 94, 0.3); padding-top: 30px;">
        <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; font-size: 16px; font-weight: 500;">
          Thank you for shopping with Rosemama! We appreciate your business.
        </p>
        <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6);">
          For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
        </p>
      </div>
    </div>
  `,r=document.createElement("div");r.id="invoice-modal-overlay",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.zIndex="9999",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.addEventListener("click",i=>{i.target===r&&document.body.removeChild(r)});const n=document.createElement("div");n.style.backgroundColor="rgb(40, 44, 52)",n.style.maxWidth="90vw",n.style.maxHeight="90vh",n.style.overflow="auto",n.style.borderRadius="16px",n.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.3)";const a=()=>{const i=document.getElementById("invoice-modal-overlay");i&&i.parentNode&&i.parentNode.removeChild(i)};n.innerHTML=`
    <div style="padding: 20px; background: rgb(40, 44, 52); display: flex; flex-direction: column; min-height: 80vh;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="font-size: 24px; font-weight: bold; color: white; margin: 0;">Invoice Preview</h2>
        <button id="close-modal-btn" style="background: linear-gradient(135deg, rgb(244, 63, 94), rgb(219, 39, 119)); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;">Close</button>
      </div>
      <div style="flex: 1;">
        ${e}
      </div>
    </div>
  `,r.appendChild(n),document.body.appendChild(r),setTimeout(()=>{const i=document.getElementById("close-modal-btn");i&&i.addEventListener("click",a)},0)};function QX({variant:t="banner",showDismiss:e=!1,onDismiss:r,className:n=""}){const{user:a,isEmailVerified:i,pendingVerification:s,resendVerification:l}=Cn(),[c,u]=S.useState(!1);if(!a||i||c)return null;const d=async()=>{await l()?_e.success("Verification email sent! Check your inbox."):_e.error("Failed to send verification email. Please try again.")},f=()=>{u(!0),r==null||r()},p=o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx($f,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Verify your email address"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Check your inbox and click the verification link to access order tracking and earn rewards."})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:d,disabled:s,className:"text-xs",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Za,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending..."]}):"Resend Email"}),e&&o.jsx(be,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto",children:o.jsx(Zs,{className:"h-4 w-4"})})]})]});return t==="card"?o.jsx(Re,{className:`border-blue-200 bg-blue-50 ${n}`,children:o.jsx(Le,{className:"p-4",children:p})}):t==="inline"?o.jsx("div",{className:`rounded-md bg-blue-50 border border-blue-200 p-3 ${n}`,children:p}):o.jsx("div",{className:`bg-blue-50 border-b border-blue-200 px-4 py-3 ${n}`,children:p})}function eZ({className:t=""}){const{user:e,isEmailVerified:r,resendVerification:n}=Cn(),[a,i]=S.useState(!1);return!e||r?null:o.jsxs("div",{className:`relative ${t}`,children:[o.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"text-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[o.jsx($f,{className:"h-3 w-3 mr-1"}),"Verify Email"]}),a&&o.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border p-3 z-50",children:o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-medium mb-1",children:"Email verification needed"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"Verify your email to track orders and earn rewards."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{size:"sm",onClick:async()=>{await n(),i(!1),_e.success("Verification email sent!")},className:"text-xs",children:"Resend"}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>i(!1),className:"text-xs",children:"Later"})]})]})})]})}function tZ({onLogout:t,onNavigateToInfo:e}){const{user:r,loading:n,signOut:a}=Cn(),[i,s]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState([]),[f,p]=S.useState(!1),[h,g]=S.useState(null),[m,v]=S.useState(!1);S.useEffect(()=>{m&&r&&x()},[m,r]);const x=async()=>{p(!0);try{const M=await WI();d(M)}catch(M){console.error("Error fetching orders:",M),_e.error("Failed to load order history")}finally{p(!1)}};if(n)return o.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(!r)return o.jsx("div",{className:"text-center py-12",children:"Could not load user profile. Please try logging in again."});const[j,w]=S.useState({name:r.name,email:r.email,phone:r.phone||""}),_=()=>{s(!1),_e.info("Profile update functionality is coming soon!")},N=async()=>{if(l){console.log("Profile: Logout already in progress, ignoring click");return}console.log("Profile: Logout button clicked"),c(!0);try{console.log("Profile: Calling signOut()"),await a(),console.log("Profile: signOut() completed"),_e.success("Signed out successfully"),console.log("Profile: About to reload page immediately");try{window.location.reload(),console.log("Profile: window.location.reload() called successfully")}catch(M){console.error("Profile: Error calling window.location.reload():",M),setTimeout(()=>{console.log("Profile: Fallback reload attempt"),window.location.reload()},100)}}catch(M){console.error("Profile: Logout failed:",M),_e.error("Failed to log out"),c(!1)}},A=async M=>{var G;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"};try{await GR(D),_e.success("Invoice opened for printing")}catch(F){console.error("Error printing invoice:",F),_e.error(F instanceof Error?F.message:"Failed to print invoice")}},k=async M=>{var G;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"};try{await VR(D),_e.success("PDF downloaded successfully")}catch(F){console.error("Error generating PDF:",F),_e.error("Failed to generate PDF")}},O=async M=>{var G;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"};try{await YR(D)}catch(F){console.error("Error viewing invoice:",F),_e.error("Failed to view invoice")}},T=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),R=async(M,D)=>{try{await bI(r.email,r.name,M.id,[{id:D.products.id,name:D.products.name,image:D.products.image_url||"/images/placeholder-product.svg"}]),_e.success(`Review invitation sent for ${D.products.name}!`)}catch(G){console.error("Error sending review invitation:",G),_e.error("Failed to send review invitation")}},P=M=>M.status==="delivered",I=[{icon:Wo,label:"Order History",action:()=>v(!0)},{icon:Go,label:"Wishlist",action:()=>_e.info("Wishlist coming soon!")},{icon:R_,label:"Addresses",action:()=>_e.info("Address management coming soon!")},{icon:I_,label:"Payment Methods",action:()=>_e.info("Payment methods coming soon!")},{icon:Fl,label:"Notifications",action:()=>_e.info("Notification settings coming soon!")},{icon:Hs,label:"Privacy & Security",action:()=>{e?e("privacy"):_e.info("Privacy settings coming soon!")}}];return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-2xl",children:[o.jsx(QX,{variant:"card",className:"mb-4",showDismiss:!0}),o.jsx(Re,{className:"mb-6",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(_8,{className:"h-20 w-20",children:o.jsx(j8,{className:"text-xl",children:r.name.split(" ").map(M=>M[0]).join("").toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h2",{className:"text-xl font-semibold",children:r.name}),o.jsxs(jt,{variant:"secondary",className:r.membershipTier==="Gold"?"bg-yellow-100 text-yellow-800":r.membershipTier==="Silver"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800",children:[r.membershipTier," Member"]})]}),o.jsx("p",{className:"text-muted-foreground",children:r.email}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("span",{className:"text-sm",children:[" ",r.points," points"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Member since ",r.created_at?new Date(r.created_at).getFullYear():"2024"]})]})]}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>s(!i),children:o.jsx(F_,{className:"h-4 w-4"})})]})})}),i&&o.jsxs(Re,{className:"mb-6",children:[o.jsx(gt,{children:o.jsx(vt,{children:"Edit Profile"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"name",children:"Full Name"}),o.jsx(Dt,{id:"name",value:j.name,onChange:M=>w(D=>({...D,name:M.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"email",children:"Email"}),o.jsx(Dt,{id:"email",type:"email",value:j.email,onChange:M=>w(D=>({...D,email:M.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"phone",children:"Phone"}),o.jsx(Dt,{id:"phone",type:"tel",value:j.phone,onChange:M=>w(D=>({...D,phone:M.target.value})),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{onClick:_,children:"Save Changes"}),o.jsx(be,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]}),o.jsxs(Re,{className:"mb-6",children:[o.jsx(gt,{children:o.jsx(vt,{children:"Account Settings"})}),o.jsx(Le,{className:"p-0",children:o.jsx("ul",{className:"divide-y",children:I.map((M,D)=>o.jsx("li",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-muted/50",onClick:M.action,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(M.icon,{className:"h-5 w-5 text-muted-foreground"}),o.jsx("span",{children:M.label})]})},D))})})]}),o.jsx(be,{variant:"destructive",className:"w-full",onClick:N,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Hl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):o.jsxs(o.Fragment,{children:[o.jsx(dI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),o.jsx(Oi,{open:m,onOpenChange:v,children:o.jsxs(ni,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsx(Ti,{className:"text-2xl",children:"Order History"})}),f?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Hl,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading your orders..."]}):u.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No orders found. Start shopping to see your order history here."}):o.jsx("div",{className:"space-y-4",children:u.map(M=>{var D;return o.jsx(Re,{children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",M.id.slice(-8)]}),o.jsx(jt,{variant:"outline",className:`${M.status==="delivered"?"border-green-500 text-green-700":M.status==="shipped"?"border-blue-500 text-blue-700":M.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:M.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Ordered on ",new Date(M.created_at).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{className:"text-sm font-medium",children:["Total: ",T(M.total_amount)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oi,{children:[o.jsx(ij,{asChild:!0,children:o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>g(M),children:[o.jsx(ti,{className:"h-4 w-4 mr-1"}),"View Details"]})}),o.jsxs(ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsxs(Ti,{children:["Order #",M.id.slice(-8)]})}),h&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Re,{children:o.jsxs(Le,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Order Date:"}),o.jsx("span",{className:"text-sm",children:new Date(h.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Status:"}),o.jsx(jt,{variant:"outline",className:`${h.status==="delivered"?"border-green-500 text-green-700":h.status==="shipped"?"border-blue-500 text-blue-700":h.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:h.status})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Total Amount:"}),o.jsx("span",{className:"text-sm font-semibold",children:T(h.total_amount)})]}),((D=h.shipping_address)==null?void 0:D.paymentMethod)&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),o.jsxs("span",{className:"text-sm",children:[h.shipping_address.paymentMethod==="cash-on-delivery"&&" COD",h.shipping_address.paymentMethod==="bank-transfer"&&" Bank Transfer",h.shipping_address.paymentMethod==="credit-card"&&" Card"]})]})]})}),o.jsx(Re,{children:o.jsx(Le,{className:"pt-4",children:o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsx("div",{children:o.jsx("strong",{children:"Shipping Address:"})}),h.shipping_address?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[h.shipping_address.firstName," ",h.shipping_address.lastName]}),o.jsx("div",{children:h.shipping_address.address}),o.jsxs("div",{children:[h.shipping_address.city,", ",h.shipping_address.state]}),o.jsx("div",{children:h.shipping_address.country}),o.jsxs("div",{children:[" ",h.shipping_address.phone]})]}):o.jsx("div",{className:"text-muted-foreground",children:"Address not available"})]})})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{className:"text-lg",children:"Order Items"})}),o.jsx(Le,{children:h.order_items&&h.order_items.length>0?o.jsxs("div",{className:"space-y-3",children:[h.order_items.map((G,F)=>{var q,B;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[((q=G.products)==null?void 0:q.image_url)&&o.jsx("img",{src:G.products.image_url,alt:G.products.name,className:"w-16 h-16 object-cover rounded-lg border"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-lg",children:((B=G.products)==null?void 0:B.name)||"Unknown Product"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Quantity: ",G.quantity,"  ",T(G.price_at_purchase)]}),P(h)&&o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>R(h,G),className:"bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-green-200 text-green-700 hover:text-green-800",children:[o.jsx(qr,{className:"h-3 w-3 mr-1"}),"Leave Review"]}),o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[o.jsx(ei,{className:"h-3 w-3 mr-1"}),"Share your experience"]})]}),!P(h)&&h.status!=="delivered"&&o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[o.jsx(qr,{className:"h-3 w-3 mr-1 text-gray-400"}),"Review available after delivery"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"font-semibold text-lg",children:T(G.quantity*G.price_at_purchase)})})]},F)}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:T(h.total_amount)})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Xs,{className:"h-5 w-5"}),"Invoice Actions"]})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(be,{variant:"outline",onClick:()=>O(h),className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"h-4 w-4"}),"View Invoice"]}),o.jsxs(be,{variant:"outline",onClick:()=>k(h),className:"flex items-center gap-2",children:[o.jsx(uI,{className:"h-4 w-4"}),"Download PDF"]}),o.jsxs(be,{variant:"outline",onClick:()=>A(h),className:"flex items-center gap-2",children:[o.jsx(pI,{className:"h-4 w-4"}),"Print Invoice"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate and download professional invoices for your orders."})]})]})]})]})]}),o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>O(M),children:[o.jsx(Xs,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})})},M.id)})})]})}),o.jsx(Qo,{})]})}function fj(t){const e=t+"CollectionProvider",[r,n]=Mn(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:x}=m,j=K.useRef(null),w=K.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:w,collectionRef:j,children:x})};s.displayName=e;const l=t+"CollectionSlot",c=Xl(l),u=K.forwardRef((m,v)=>{const{scope:x,children:j}=m,w=i(l,x),_=Bt(v,w.collectionRef);return o.jsx(c,{ref:_,children:j})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Xl(d),h=K.forwardRef((m,v)=>{const{scope:x,children:j,...w}=m,_=K.useRef(null),N=Bt(v,_),A=i(d,x);return K.useEffect(()=>(A.itemMap.set(_,{ref:_,...w}),()=>void A.itemMap.delete(_))),o.jsx(p,{[f]:"",ref:N,children:j})});h.displayName=d;function g(m){const v=i(t+"CollectionConsumer",m);return K.useCallback(()=>{const j=v.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,k)=>w.indexOf(A.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:h},g,n]}var rZ=S.createContext(void 0);function pd(t){const e=S.useContext(rZ);return t||e||"ltr"}var ex="rovingFocusGroup.onEntryFocus",nZ={bubbles:!1,cancelable:!0},Ih="RovingFocusGroup",[V2,KR,aZ]=fj(Ih),[iZ,vv]=Mn(Ih,[aZ]),[sZ,oZ]=iZ(Ih),XR=S.forwardRef((t,e)=>o.jsx(V2.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(V2.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(lZ,{...t,ref:e})})}));XR.displayName=Ih;var lZ=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=S.useRef(null),h=Bt(e,p),g=pd(i),[m,v]=ri({prop:s,defaultProp:l??null,onChange:c,caller:Ih}),[x,j]=S.useState(!1),w=Wn(u),_=KR(r),N=S.useRef(!1),[A,k]=S.useState(0);return S.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(ex,w),()=>O.removeEventListener(ex,w)},[w]),o.jsx(sZ,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:S.useCallback(O=>v(O),[v]),onItemShiftTab:S.useCallback(()=>j(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:S.useCallback(()=>k(O=>O-1),[]),children:o.jsx(it.div,{tabIndex:x||A===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:dt(t.onMouseDown,()=>{N.current=!0}),onFocus:dt(t.onFocus,O=>{const T=!N.current;if(O.target===O.currentTarget&&T&&!x){const R=new CustomEvent(ex,nZ);if(O.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=_().filter(F=>F.focusable),I=P.find(F=>F.active),M=P.find(F=>F.id===m),G=[I,M,...P].filter(Boolean).map(F=>F.ref.current);QR(G,d)}}N.current=!1}),onBlur:dt(t.onBlur,()=>j(!1))})})}),ZR="RovingFocusGroupItem",JR=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=t,c=ki(),u=i||c,d=oZ(ZR,r),f=d.currentTabStopId===u,p=KR(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return S.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(V2.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(it.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:dt(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:dt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=dZ(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?fZ(w,_+1):w.slice(_+1)}setTimeout(()=>QR(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});JR.displayName=ZR;var cZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dZ(t,e,r){const n=uZ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cZ[n]}function QR(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function fZ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var eL=XR,tL=JR,yv="Tabs",[hZ,Cwe]=Mn(yv,[vv]),rL=vv(),[pZ,hj]=hZ(yv),nL=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=pd(l),[f,p]=ri({prop:n,onChange:a,defaultProp:i??"",caller:yv});return o.jsx(pZ,{scope:r,baseId:ki(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:c,children:o.jsx(it.div,{dir:d,"data-orientation":s,...u,ref:e})})});nL.displayName=yv;var aL="TabsList",iL=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=hj(aL,r),s=rL(r);return o.jsx(eL,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(it.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});iL.displayName=aL;var sL="TabsTrigger",oL=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=hj(sL,r),l=rL(r),c=uL(s.baseId,n),u=dL(s.baseId,n),d=n===s.value;return o.jsx(tL,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(it.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:dt(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:dt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:dt(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});oL.displayName=sL;var lL="TabsContent",cL=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,l=hj(lL,r),c=uL(l.baseId,n),u=dL(l.baseId,n),d=n===l.value,f=S.useRef(d);return S.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(fa,{present:a||d,children:({present:p})=>o.jsx(it.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});cL.displayName=lL;function uL(t,e){return`${t}-trigger-${e}`}function dL(t,e){return`${t}-content-${e}`}var mZ=nL,gZ=iL,vZ=oL,yZ=cL;function fs({className:t,...e}){return o.jsx(mZ,{"data-slot":"tabs",className:qe("flex flex-col gap-2",t),...e})}function hs({className:t,...e}){return o.jsx(gZ,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px]",t),...e})}function ur({className:t,...e}){return o.jsx(vZ,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function dr({className:t,...e}){return o.jsx(yZ,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",t),...e})}function xZ({products:t}){const[e,r]=S.useState({revenue:0,orders:0,users:0,growth:{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}),[n,a]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const[c,u,d,f]=await Promise.all([QI(),e8(),t8(),i8(30)]);r({revenue:c||0,orders:u||0,users:d||0,growth:f||{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}})}catch(c){console.error("Error fetching metrics:",c)}finally{a(!1)}})()},[]);const i=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),s=l=>new Intl.NumberFormat("en-US").format(l);return n?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((l,c)=>o.jsx(Re,{children:o.jsx(Le,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-20",children:o.jsx(Za,{className:"h-6 w-6 animate-spin"})})})},c))}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tu,{className:"h-5 w-5 text-green-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Revenue"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:i(e.revenue)}),o.jsxs("p",{className:`text-xs ${e.growth.growth_percentage>=0?"text-green-600":"text-red-600"}`,children:[e.growth.growth_percentage>=0?"+":"",e.growth.growth_percentage.toFixed(1),"% from last month"]})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Em,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.orders)}),o.jsx("p",{className:"text-xs text-blue-600",children:"All time orders"})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wo,{className:"h-5 w-5 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Products"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(t.length)}),o.jsx("p",{className:"text-xs text-purple-600",children:"Available in store"})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xI,{className:"h-5 w-5 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Users"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.users)}),o.jsx("p",{className:"text-xs text-orange-600",children:"Registered users"})]})]})})]})}var tx,pk;function pa(){if(pk)return tx;pk=1;var t=Array.isArray;return tx=t,tx}var rx,mk;function fL(){if(mk)return rx;mk=1;var t=typeof Ap=="object"&&Ap&&Ap.Object===Object&&Ap;return rx=t,rx}var nx,gk;function xs(){if(gk)return nx;gk=1;var t=fL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return nx=r,nx}var ax,vk;function Rh(){if(vk)return ax;vk=1;var t=xs(),e=t.Symbol;return ax=e,ax}var ix,yk;function bZ(){if(yk)return ix;yk=1;var t=Rh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var l=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(l?s[a]=c:delete s[a]),d}return ix=i,ix}var sx,xk;function wZ(){if(xk)return sx;xk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return sx=r,sx}var ox,bk;function co(){if(bk)return ox;bk=1;var t=Rh(),e=bZ(),r=wZ(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return ox=s,ox}var lx,wk;function uo(){if(wk)return lx;wk=1;function t(e){return e!=null&&typeof e=="object"}return lx=t,lx}var cx,_k;function md(){if(_k)return cx;_k=1;var t=co(),e=uo(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return cx=n,cx}var ux,jk;function pj(){if(jk)return ux;jk=1;var t=pa(),e=md(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return ux=a,ux}var dx,Nk;function el(){if(Nk)return dx;Nk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return dx=t,dx}var fx,Sk;function mj(){if(Sk)return fx;Sk=1;var t=co(),e=el(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return fx=s,fx}var hx,Ak;function _Z(){if(Ak)return hx;Ak=1;var t=xs(),e=t["__core-js_shared__"];return hx=e,hx}var px,kk;function jZ(){if(kk)return px;kk=1;var t=_Z(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return px=r,px}var mx,Pk;function hL(){if(Pk)return mx;Pk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return mx=r,mx}var gx,Ck;function NZ(){if(Ck)return gx;Ck=1;var t=mj(),e=jZ(),r=el(),n=hL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:i;return h.test(n(p))}return gx=f,gx}var vx,Ok;function SZ(){if(Ok)return vx;Ok=1;function t(e,r){return e==null?void 0:e[r]}return vx=t,vx}var yx,Ek;function mc(){if(Ek)return yx;Ek=1;var t=NZ(),e=SZ();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return yx=r,yx}var xx,Tk;function xv(){if(Tk)return xx;Tk=1;var t=mc(),e=t(Object,"create");return xx=e,xx}var bx,Ik;function AZ(){if(Ik)return bx;Ik=1;var t=xv();function e(){this.__data__=t?t(null):{},this.size=0}return bx=e,bx}var wx,Rk;function kZ(){if(Rk)return wx;Rk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return wx=t,wx}var _x,Lk;function PZ(){if(Lk)return _x;Lk=1;var t=xv(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var l=s[i];return l===e?void 0:l}return n.call(s,i)?s[i]:void 0}return _x=a,_x}var jx,Mk;function CZ(){if(Mk)return jx;Mk=1;var t=xv(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return jx=n,jx}var Nx,Dk;function OZ(){if(Dk)return Nx;Dk=1;var t=xv(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Nx=r,Nx}var Sx,$k;function EZ(){if($k)return Sx;$k=1;var t=AZ(),e=kZ(),r=PZ(),n=CZ(),a=OZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Sx=i,Sx}var Ax,Fk;function TZ(){if(Fk)return Ax;Fk=1;function t(){this.__data__=[],this.size=0}return Ax=t,Ax}var kx,Bk;function gj(){if(Bk)return kx;Bk=1;function t(e,r){return e===r||e!==e&&r!==r}return kx=t,kx}var Px,qk;function bv(){if(qk)return Px;qk=1;var t=gj();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Px=e,Px}var Cx,Uk;function IZ(){if(Uk)return Cx;Uk=1;var t=bv(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var l=i.length-1;return s==l?i.pop():r.call(i,s,1),--this.size,!0}return Cx=n,Cx}var Ox,zk;function RZ(){if(zk)return Ox;zk=1;var t=bv();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Ox=e,Ox}var Ex,Wk;function LZ(){if(Wk)return Ex;Wk=1;var t=bv();function e(r){return t(this.__data__,r)>-1}return Ex=e,Ex}var Tx,Hk;function MZ(){if(Hk)return Tx;Hk=1;var t=bv();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Tx=e,Tx}var Ix,Vk;function wv(){if(Vk)return Ix;Vk=1;var t=TZ(),e=IZ(),r=RZ(),n=LZ(),a=MZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ix=i,Ix}var Rx,Gk;function vj(){if(Gk)return Rx;Gk=1;var t=mc(),e=xs(),r=t(e,"Map");return Rx=r,Rx}var Lx,Yk;function DZ(){if(Yk)return Lx;Yk=1;var t=EZ(),e=wv(),r=vj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Lx=n,Lx}var Mx,Kk;function $Z(){if(Kk)return Mx;Kk=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Mx=t,Mx}var Dx,Xk;function _v(){if(Xk)return Dx;Xk=1;var t=$Z();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Dx=e,Dx}var $x,Zk;function FZ(){if(Zk)return $x;Zk=1;var t=_v();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return $x=e,$x}var Fx,Jk;function BZ(){if(Jk)return Fx;Jk=1;var t=_v();function e(r){return t(this,r).get(r)}return Fx=e,Fx}var Bx,Qk;function qZ(){if(Qk)return Bx;Qk=1;var t=_v();function e(r){return t(this,r).has(r)}return Bx=e,Bx}var qx,e3;function UZ(){if(e3)return qx;e3=1;var t=_v();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return qx=e,qx}var Ux,t3;function yj(){if(t3)return Ux;t3=1;var t=DZ(),e=FZ(),r=BZ(),n=qZ(),a=UZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ux=i,Ux}var zx,r3;function pL(){if(r3)return zx;r3=1;var t=yj(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,s);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,zx=r,zx}var Wx,n3;function zZ(){if(n3)return Wx;n3=1;var t=pL(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Wx=r,Wx}var Hx,a3;function WZ(){if(a3)return Hx;a3=1;var t=zZ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,l,c,u){i.push(c?u.replace(r,"$1"):l||s)}),i});return Hx=n,Hx}var Vx,i3;function xj(){if(i3)return Vx;i3=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Vx=t,Vx}var Gx,s3;function HZ(){if(s3)return Gx;s3=1;var t=Rh(),e=xj(),r=pa(),n=md(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Gx=s,Gx}var Yx,o3;function mL(){if(o3)return Yx;o3=1;var t=HZ();function e(r){return r==null?"":t(r)}return Yx=e,Yx}var Kx,l3;function gL(){if(l3)return Kx;l3=1;var t=pa(),e=pj(),r=WZ(),n=mL();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return Kx=a,Kx}var Xx,c3;function jv(){if(c3)return Xx;c3=1;var t=md();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Xx=e,Xx}var Zx,u3;function bj(){if(u3)return Zx;u3=1;var t=gL(),e=jv();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return Zx=r,Zx}var Jx,d3;function vL(){if(d3)return Jx;d3=1;var t=bj();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return Jx=e,Jx}var VZ=vL();const Ia=hr(VZ);var Qx,f3;function GZ(){if(f3)return Qx;f3=1;function t(e){return e==null}return Qx=t,Qx}var YZ=GZ();const Tt=hr(YZ);var eb,h3;function KZ(){if(h3)return eb;h3=1;var t=co(),e=pa(),r=uo(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return eb=a,eb}var XZ=KZ();const tc=hr(XZ);var ZZ=mj();const At=hr(ZZ);var JZ=el();const gd=hr(JZ);var tb={exports:{}},ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3;function QZ(){if(p3)return ir;p3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var x=v.$$typeof;switch(x){case t:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case s:case c:case p:case f:case i:return v;default:return x}}case e:return x}}}return ir.ContextConsumer=s,ir.ContextProvider=i,ir.Element=t,ir.ForwardRef=c,ir.Fragment=r,ir.Lazy=p,ir.Memo=f,ir.Portal=e,ir.Profiler=a,ir.StrictMode=n,ir.Suspense=u,ir.SuspenseList=d,ir.isAsyncMode=function(){return!1},ir.isConcurrentMode=function(){return!1},ir.isContextConsumer=function(v){return m(v)===s},ir.isContextProvider=function(v){return m(v)===i},ir.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},ir.isForwardRef=function(v){return m(v)===c},ir.isFragment=function(v){return m(v)===r},ir.isLazy=function(v){return m(v)===p},ir.isMemo=function(v){return m(v)===f},ir.isPortal=function(v){return m(v)===e},ir.isProfiler=function(v){return m(v)===a},ir.isStrictMode=function(v){return m(v)===n},ir.isSuspense=function(v){return m(v)===u},ir.isSuspenseList=function(v){return m(v)===d},ir.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===i||v.$$typeof===s||v.$$typeof===c||v.$$typeof===g||v.getModuleId!==void 0)},ir.typeOf=m,ir}var m3;function eJ(){return m3||(m3=1,tb.exports=QZ()),tb.exports}var tJ=eJ(),rb,g3;function yL(){if(g3)return rb;g3=1;var t=co(),e=uo(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return rb=n,rb}var nb,v3;function rJ(){if(v3)return nb;v3=1;var t=yL();function e(r){return t(r)&&r!=+r}return nb=e,nb}var nJ=rJ();const Lh=hr(nJ);var aJ=yL();const iJ=hr(aJ);var Qn=function(e){return e===0?0:e>0?1:-1},Bl=function(e){return tc(e)&&e.indexOf("%")===e.length-1},De=function(e){return iJ(e)&&!Lh(e)},sJ=function(e){return Tt(e)},wn=function(e){return De(e)||tc(e)},oJ=0,vd=function(e){var r=++oJ;return"".concat(e||"").concat(r)},ea=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!tc(e))return n;var i;if(Bl(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Lh(i)&&(i=n),a&&i>r&&(i=r),i},Fo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},lJ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Pa=function(e,r){return De(e)&&De(r)?function(n){return e+n*(r-e)}:function(){return r}};function Fm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ia(n,e))===r})}var cJ=function(e,r){return De(e)&&De(r)?e-r:tc(e)&&tc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Au(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function G2(t){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G2(t)}var uJ=["viewBox","children"],dJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y3=["points","pathLength"],ab={svg:uJ,polygon:y3,polyline:y3},wj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!gd(n))return null;var a={};return Object.keys(n).forEach(function(i){wj.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},fJ=function(e,r,n){return function(a){return e(r,n,a),null}},rc=function(e,r,n){if(!gd(e)||G2(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];wj.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=fJ(s,r,n))}),a},hJ=["children"],pJ=["children"];function x3(t,e){if(t==null)return{};var r=mJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y2(t){"@babel/helpers - typeof";return Y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y2(t)}var b3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Js=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},w3=null,ib=null,_j=function t(e){if(e===w3&&Array.isArray(ib))return ib;var r=[];return S.Children.forEach(e,function(n){Tt(n)||(tJ.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ib=r,w3=e,r};function Ra(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Js(a)}):n=[Js(e)],_j(t).forEach(function(a){var i=Ia(a,"type.displayName")||Ia(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Aa(t,e){var r=Ra(t,e);return r&&r[0]}var _3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!De(n)||n<=0||!De(a)||a<=0)},gJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vJ=function(e){return e&&e.type&&tc(e.type)&&gJ.indexOf(e.type)>=0},yJ=function(e){return e&&Y2(e)==="object"&&"clipDot"in e},xJ=function(e,r,n,a){var i,s=(i=ab==null?void 0:ab[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!At(e)&&(a&&s.includes(r)||dJ.includes(r))||n&&wj.includes(r)},mt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(S.isValidElement(e)&&(a=e.props),!gd(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;xJ((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},K2=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return j3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!j3(i,s))return!1}return!0},j3=function(e,r){if(Tt(e)&&Tt(r))return!0;if(!Tt(e)&&!Tt(r)){var n=e.props||{},a=n.children,i=x3(n,hJ),s=r.props||{},l=s.children,c=x3(s,pJ);return a&&l?Au(i,c)&&K2(a,l):!a&&!l?Au(i,c):!1}return!1},N3=function(e,r){var n=[],a={};return _j(e).forEach(function(i,s){if(vJ(i))n.push(i);else if(i){var l=Js(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},bJ=function(e){var r=e&&e.type;return r&&b3[r]?b3[r]:null},wJ=function(e,r){return _j(r).indexOf(e)},_J=["children","width","height","viewBox","className","style","title","desc"];function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X2.apply(this,arguments)}function jJ(t,e){if(t==null)return{};var r=NJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z2(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,l=t.title,c=t.desc,u=jJ(t,_J),d=a||{width:r,height:n,x:0,y:0},f=Rt("recharts-surface",i);return K.createElement("svg",X2({},mt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var SJ=["children","className"];function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J2.apply(this,arguments)}function AJ(t,e){if(t==null)return{};var r=kJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qt=K.forwardRef(function(t,e){var r=t.children,n=t.className,a=AJ(t,SJ),i=Rt("recharts-layer",n);return K.createElement("g",J2({className:i},mt(a,!0),{ref:e}),r)}),Pi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},sb,S3;function PJ(){if(S3)return sb;S3=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return sb=t,sb}var ob,A3;function CJ(){if(A3)return ob;A3=1;var t=PJ();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return ob=e,ob}var lb,k3;function xL(){if(k3)return lb;k3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+a+i+"]");function c(u){return l.test(u)}return lb=c,lb}var cb,P3;function OJ(){if(P3)return cb;P3=1;function t(e){return e.split("")}return cb=t,cb}var ub,C3;function EJ(){if(C3)return ub;C3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",m="["+i+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+g+")*",x=m+g+v,j="(?:"+[d+l+"?",l,f,p,s].join("|")+")",w=RegExp(c+"(?="+c+")|"+j+x,"g");function _(N){return N.match(w)||[]}return ub=_,ub}var db,O3;function TJ(){if(O3)return db;O3=1;var t=OJ(),e=xL(),r=EJ();function n(a){return e(a)?r(a):t(a)}return db=n,db}var fb,E3;function IJ(){if(E3)return fb;E3=1;var t=CJ(),e=xL(),r=TJ(),n=mL();function a(i){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),u=l?t(l,1).join(""):s.slice(1);return c[i]()+u}}return fb=a,fb}var hb,T3;function RJ(){if(T3)return hb;T3=1;var t=IJ(),e=t("toUpperCase");return hb=e,hb}var LJ=RJ();const Nv=hr(LJ);function Ar(t){return function(){return t}}const bL=Math.cos,qm=Math.sin,qi=Math.sqrt,Um=Math.PI,Sv=2*Um,Q2=Math.PI,e5=2*Q2,Tl=1e-6,MJ=e5-Tl;function wL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function DJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wL;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $J{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wL:DJ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-e,u=a-r,d=s-e,f=l-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Tl)if(!(Math.abs(f*c-u*d)>Tl)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,g=a-l,m=c*c+u*u,v=h*h+g*g,x=Math.sqrt(m),j=Math.sqrt(p),w=i*Math.tan((Q2-Math.acos((m+p-v)/(2*x*j)))/2),_=w/j,N=w/x;Math.abs(_-1)>Tl&&this._append`L${e+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Tl||Math.abs(this._y1-d)>Tl)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%e5+e5),p>MJ?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Tl&&this._append`A${n},${n},0,${+(p>=Q2)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function jj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new $J(e)}function Nj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Av(t){return new _L(t)}function jL(t){return t[0]}function NL(t){return t[1]}function SL(t,e){var r=Ar(!0),n=null,a=Av,i=null,s=jj(l);t=typeof t=="function"?t:t===void 0?jL:Ar(t),e=typeof e=="function"?e:e===void 0?NL:Ar(e);function l(c){var u,d=(c=Nj(c)).length,f,p=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ar(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ar(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ar(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Zp(t,e,r){var n=null,a=Ar(!0),i=null,s=Av,l=null,c=jj(u);t=typeof t=="function"?t:t===void 0?jL:Ar(+t),e=typeof e=="function"?e:Ar(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?NL:Ar(+r);function u(f){var p,h,g,m=(f=Nj(f)).length,v,x=!1,j,w=new Array(m),_=new Array(m);for(i==null&&(l=s(j=c())),p=0;p<=m;++p){if(!(p<m&&a(v=f[p],p,f))===x)if(x=!x)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}x&&(w[p]=+t(v,p,f),_[p]=+e(v,p,f),l.point(n?+n(v,p,f):w[p],r?+r(v,p,f):_[p]))}if(j)return l=null,j+""||null}function d(){return SL().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ar(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ar(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ar(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ar(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ar(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ar(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ar(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class AL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function FJ(t){return new AL(t,!0)}function BJ(t){return new AL(t,!1)}const Sj={draw(t,e){const r=qi(e/Um);t.moveTo(r,0),t.arc(0,0,r,0,Sv)}},qJ={draw(t,e){const r=qi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},kL=qi(1/3),UJ=kL*2,zJ={draw(t,e){const r=qi(e/UJ),n=r*kL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},WJ={draw(t,e){const r=qi(e),n=-r/2;t.rect(n,n,r,r)}},HJ=.8908130915292852,PL=qm(Um/10)/qm(7*Um/10),VJ=qm(Sv/10)*PL,GJ=-bL(Sv/10)*PL,YJ={draw(t,e){const r=qi(e*HJ),n=VJ*r,a=GJ*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=Sv*i/5,l=bL(s),c=qm(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},pb=qi(3),KJ={draw(t,e){const r=-qi(e/(pb*3));t.moveTo(0,r*2),t.lineTo(-pb*r,-r),t.lineTo(pb*r,-r),t.closePath()}},Va=-.5,Ga=qi(3)/2,t5=1/qi(12),XJ=(t5/2+1)*3,ZJ={draw(t,e){const r=qi(e/XJ),n=r/2,a=r*t5,i=n,s=r*t5+r,l=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(l,c),t.lineTo(Va*n-Ga*a,Ga*n+Va*a),t.lineTo(Va*i-Ga*s,Ga*i+Va*s),t.lineTo(Va*l-Ga*c,Ga*l+Va*c),t.lineTo(Va*n+Ga*a,Va*a-Ga*n),t.lineTo(Va*i+Ga*s,Va*s-Ga*i),t.lineTo(Va*l+Ga*c,Va*c-Ga*l),t.closePath()}};function JJ(t,e){let r=null,n=jj(a);t=typeof t=="function"?t:Ar(t||Sj),e=typeof e=="function"?e:Ar(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ar(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ar(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zm(){}function Wm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CL(t){this._context=t}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QJ(t){return new CL(t)}function OL(t){this._context=t}OL.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eQ(t){return new OL(t)}function EL(t){this._context=t}EL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tQ(t){return new EL(t)}function TL(t){this._context=t}TL.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rQ(t){return new TL(t)}function I3(t){return t<0?-1:1}function R3(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(I3(i)+I3(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function L3(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function mb(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,s-l*r,i,s)}function Hm(t){this._context=t}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mb(this,this._t0,L3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mb(this,L3(this,r=R3(this,t,e)),r);break;default:mb(this,this._t0,r=R3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function IL(t){this._context=new RL(t)}(IL.prototype=Object.create(Hm.prototype)).point=function(t,e){Hm.prototype.point.call(this,e,t)};function RL(t){this._context=t}RL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function nQ(t){return new Hm(t)}function aQ(t){return new IL(t)}function LL(t){this._context=t}LL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=M3(t),a=M3(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M3(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function iQ(t){return new LL(t)}function kv(t,e){this._context=t,this._t=e}kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function sQ(t){return new kv(t,.5)}function oQ(t){return new kv(t,0)}function lQ(t){return new kv(t,1)}function Lu(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,l=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function r5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function cQ(t,e){return t[e]}function uQ(t){const e=[];return e.key=t,e}function dQ(){var t=Ar([]),e=r5,r=Lu,n=cQ;function a(i){var s=Array.from(t.apply(this,arguments),uQ),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=Nj(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ar(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ar(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?r5:typeof i=="function"?i:Ar(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Lu,a):r},a}function fQ(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Lu(t,e)}}function hQ(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Lu(t,e)}}function pQ(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<l;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;h+=v-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Lu(t,e)}}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var mQ=["type","size","sizeType"];function n5(){return n5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n5.apply(this,arguments)}function D3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(r),!0).forEach(function(n){gQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gQ(t,e,r){return e=vQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vQ(t){var e=yQ(t,"string");return Wf(e)=="symbol"?e:e+""}function yQ(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xQ(t,e){if(t==null)return{};var r=bQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ML={symbolCircle:Sj,symbolCross:qJ,symbolDiamond:zJ,symbolSquare:WJ,symbolStar:YJ,symbolTriangle:KJ,symbolWye:ZJ},wQ=Math.PI/180,_Q=function(e){var r="symbol".concat(Nv(e));return ML[r]||Sj},jQ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*wQ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},NQ=function(e,r){ML["symbol".concat(Nv(e))]=r},Aj=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,l=s===void 0?"area":s,c=xQ(e,mQ),u=$3($3({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=_Q(n),x=JJ().type(v).size(jQ(i,l,n));return x()},f=u.className,p=u.cx,h=u.cy,g=mt(u,!0);return p===+p&&h===+h&&i===+i?K.createElement("path",n5({},g,{className:Rt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};Aj.registerSymbol=NQ;function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function a5(){return a5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a5.apply(this,arguments)}function F3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(r),!0).forEach(function(n){Hf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function PQ(t,e,r){return e&&kQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CQ(t,e,r){return e=Vm(e),OQ(t,DL()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function OQ(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i5(t,e)}function i5(t,e){return i5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i5(t,e)}function Hf(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=IQ(t,"string");return Mu(e)=="symbol"?e:e+""}function IQ(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ya=32,kj=(function(t){function e(){return AQ(this,e),CQ(this,e,arguments)}return TQ(e,t),PQ(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ya/2,s=Ya/6,l=Ya/3,c=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ya,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ya,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ya/8,"h").concat(Ya,"v").concat(Ya*3/4,"h").concat(-Ya,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=SQ({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(Aj,{fill:c,cx:i,cy:i,size:Ya,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ya,height:Ya},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var m=h.formatter||c,v=Rt(Hf(Hf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=At(h.value)?null:h.value;Pi(!At(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=h.inactive?u:h.color;return K.createElement("li",a5({className:v,style:f,key:"legend-item-".concat(g)},rc(n.props,h,g)),K.createElement(Z2,{width:s,height:s,viewBox:d,style:p},n.renderIcon(h)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},m?m(x,h,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);Hf(kj,"displayName","Legend");Hf(kj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gb,B3;function RQ(){if(B3)return gb;B3=1;var t=wv();function e(){this.__data__=new t,this.size=0}return gb=e,gb}var vb,q3;function LQ(){if(q3)return vb;q3=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return vb=t,vb}var yb,U3;function MQ(){if(U3)return yb;U3=1;function t(e){return this.__data__.get(e)}return yb=t,yb}var xb,z3;function DQ(){if(z3)return xb;z3=1;function t(e){return this.__data__.has(e)}return xb=t,xb}var bb,W3;function $Q(){if(W3)return bb;W3=1;var t=wv(),e=vj(),r=yj(),n=200;function a(i,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,s),this.size=l.size,this}return bb=a,bb}var wb,H3;function FL(){if(H3)return wb;H3=1;var t=wv(),e=RQ(),r=LQ(),n=MQ(),a=DQ(),i=$Q();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,wb=s,wb}var _b,V3;function FQ(){if(V3)return _b;V3=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return _b=e,_b}var jb,G3;function BQ(){if(G3)return jb;G3=1;function t(e){return this.__data__.has(e)}return jb=t,jb}var Nb,Y3;function BL(){if(Y3)return Nb;Y3=1;var t=yj(),e=FQ(),r=BQ();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Nb=n,Nb}var Sb,K3;function qL(){if(K3)return Sb;K3=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Sb=t,Sb}var Ab,X3;function UL(){if(X3)return Ab;X3=1;function t(e,r){return e.has(r)}return Ab=t,Ab}var kb,Z3;function zL(){if(Z3)return kb;Z3=1;var t=BL(),e=qL(),r=UL(),n=1,a=2;function i(s,l,c,u,d,f){var p=c&n,h=s.length,g=l.length;if(h!=g&&!(p&&g>h))return!1;var m=f.get(s),v=f.get(l);if(m&&v)return m==l&&v==s;var x=-1,j=!0,w=c&a?new t:void 0;for(f.set(s,l),f.set(l,s);++x<h;){var _=s[x],N=l[x];if(u)var A=p?u(N,_,x,l,s,f):u(_,N,x,s,l,f);if(A!==void 0){if(A)continue;j=!1;break}if(w){if(!e(l,function(k,O){if(!r(w,O)&&(_===k||d(_,k,c,u,f)))return w.push(O)})){j=!1;break}}else if(!(_===N||d(_,N,c,u,f))){j=!1;break}}return f.delete(s),f.delete(l),j}return kb=i,kb}var Pb,J3;function qQ(){if(J3)return Pb;J3=1;var t=xs(),e=t.Uint8Array;return Pb=e,Pb}var Cb,Q3;function UQ(){if(Q3)return Cb;Q3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Cb=t,Cb}var Ob,eP;function Pj(){if(eP)return Ob;eP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Ob=t,Ob}var Eb,tP;function zQ(){if(tP)return Eb;tP=1;var t=Rh(),e=qQ(),r=gj(),n=zL(),a=UQ(),i=Pj(),s=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",x="[object ArrayBuffer]",j="[object DataView]",w=t?t.prototype:void 0,_=w?w.valueOf:void 0;function N(A,k,O,T,R,P,I){switch(O){case j:if(A.byteLength!=k.byteLength||A.byteOffset!=k.byteOffset)return!1;A=A.buffer,k=k.buffer;case x:return!(A.byteLength!=k.byteLength||!P(new e(A),new e(k)));case c:case u:case p:return r(+A,+k);case d:return A.name==k.name&&A.message==k.message;case h:case m:return A==k+"";case f:var M=a;case g:var D=T&s;if(M||(M=i),A.size!=k.size&&!D)return!1;var G=I.get(A);if(G)return G==k;T|=l,I.set(A,k);var F=n(M(A),M(k),T,R,P,I);return I.delete(A),F;case v:if(_)return _.call(A)==_.call(k)}return!1}return Eb=N,Eb}var Tb,rP;function WL(){if(rP)return Tb;rP=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Tb=t,Tb}var Ib,nP;function WQ(){if(nP)return Ib;nP=1;var t=WL(),e=pa();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return Ib=r,Ib}var Rb,aP;function HQ(){if(aP)return Rb;aP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var l=e[n];r(l,n,e)&&(s[i++]=l)}return s}return Rb=t,Rb}var Lb,iP;function VQ(){if(iP)return Lb;iP=1;function t(){return[]}return Lb=t,Lb}var Mb,sP;function GQ(){if(sP)return Mb;sP=1;var t=HQ(),e=VQ(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(l){return n.call(s,l)}))}:e;return Mb=i,Mb}var Db,oP;function YQ(){if(oP)return Db;oP=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Db=t,Db}var $b,lP;function KQ(){if(lP)return $b;lP=1;var t=co(),e=uo(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return $b=n,$b}var Fb,cP;function Cj(){if(cP)return Fb;cP=1;var t=KQ(),e=uo(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Fb=i,Fb}var xf={exports:{}},Bb,uP;function XQ(){if(uP)return Bb;uP=1;function t(){return!1}return Bb=t,Bb}xf.exports;var dP;function HL(){return dP||(dP=1,(function(t,e){var r=xs(),n=XQ(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(xf,xf.exports)),xf.exports}var qb,fP;function Oj(){if(fP)return qb;fP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return qb=r,qb}var Ub,hP;function Ej(){if(hP)return Ub;hP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Ub=e,Ub}var zb,pP;function ZQ(){if(pP)return zb;pP=1;var t=co(),e=Ej(),r=uo(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",j="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",T="[object Uint16Array]",R="[object Uint32Array]",P={};P[j]=P[w]=P[_]=P[N]=P[A]=P[k]=P[O]=P[T]=P[R]=!0,P[n]=P[a]=P[v]=P[i]=P[x]=P[s]=P[l]=P[c]=P[u]=P[d]=P[f]=P[p]=P[h]=P[g]=P[m]=!1;function I(M){return r(M)&&e(M.length)&&!!P[t(M)]}return zb=I,zb}var Wb,mP;function VL(){if(mP)return Wb;mP=1;function t(e){return function(r){return e(r)}}return Wb=t,Wb}var bf={exports:{}};bf.exports;var gP;function JQ(){return gP||(gP=1,(function(t,e){var r=fL(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(bf,bf.exports)),bf.exports}var Hb,vP;function GL(){if(vP)return Hb;vP=1;var t=ZQ(),e=VL(),r=JQ(),n=r&&r.isTypedArray,a=n?e(n):t;return Hb=a,Hb}var Vb,yP;function QQ(){if(yP)return Vb;yP=1;var t=YQ(),e=Cj(),r=pa(),n=HL(),a=Oj(),i=GL(),s=Object.prototype,l=s.hasOwnProperty;function c(u,d){var f=r(u),p=!f&&e(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&i(u),m=f||p||h||g,v=m?t(u.length,String):[],x=v.length;for(var j in u)(d||l.call(u,j))&&!(m&&(j=="length"||h&&(j=="offset"||j=="parent")||g&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,x)))&&v.push(j);return v}return Vb=c,Vb}var Gb,xP;function eee(){if(xP)return Gb;xP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Gb=e,Gb}var Yb,bP;function YL(){if(bP)return Yb;bP=1;function t(e,r){return function(n){return e(r(n))}}return Yb=t,Yb}var Kb,wP;function tee(){if(wP)return Kb;wP=1;var t=YL(),e=t(Object.keys,Object);return Kb=e,Kb}var Xb,_P;function ree(){if(_P)return Xb;_P=1;var t=eee(),e=tee(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&s.push(l);return s}return Xb=a,Xb}var Zb,jP;function Mh(){if(jP)return Zb;jP=1;var t=mj(),e=Ej();function r(n){return n!=null&&e(n.length)&&!t(n)}return Zb=r,Zb}var Jb,NP;function Pv(){if(NP)return Jb;NP=1;var t=QQ(),e=ree(),r=Mh();function n(a){return r(a)?t(a):e(a)}return Jb=n,Jb}var Qb,SP;function nee(){if(SP)return Qb;SP=1;var t=WQ(),e=GQ(),r=Pv();function n(a){return t(a,r,e)}return Qb=n,Qb}var e1,AP;function aee(){if(AP)return e1;AP=1;var t=nee(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,l,c,u,d){var f=l&e,p=t(i),h=p.length,g=t(s),m=g.length;if(h!=m&&!f)return!1;for(var v=h;v--;){var x=p[v];if(!(f?x in s:n.call(s,x)))return!1}var j=d.get(i),w=d.get(s);if(j&&w)return j==s&&w==i;var _=!0;d.set(i,s),d.set(s,i);for(var N=f;++v<h;){x=p[v];var A=i[x],k=s[x];if(c)var O=f?c(k,A,x,s,i,d):c(A,k,x,i,s,d);if(!(O===void 0?A===k||u(A,k,l,c,d):O)){_=!1;break}N||(N=x=="constructor")}if(_&&!N){var T=i.constructor,R=s.constructor;T!=R&&"constructor"in i&&"constructor"in s&&!(typeof T=="function"&&T instanceof T&&typeof R=="function"&&R instanceof R)&&(_=!1)}return d.delete(i),d.delete(s),_}return e1=a,e1}var t1,kP;function iee(){if(kP)return t1;kP=1;var t=mc(),e=xs(),r=t(e,"DataView");return t1=r,t1}var r1,PP;function see(){if(PP)return r1;PP=1;var t=mc(),e=xs(),r=t(e,"Promise");return r1=r,r1}var n1,CP;function KL(){if(CP)return n1;CP=1;var t=mc(),e=xs(),r=t(e,"Set");return n1=r,n1}var a1,OP;function oee(){if(OP)return a1;OP=1;var t=mc(),e=xs(),r=t(e,"WeakMap");return a1=r,a1}var i1,EP;function lee(){if(EP)return i1;EP=1;var t=iee(),e=vj(),r=see(),n=KL(),a=oee(),i=co(),s=hL(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=s(t),g=s(e),m=s(r),v=s(n),x=s(a),j=i;return(t&&j(new t(new ArrayBuffer(1)))!=p||e&&j(new e)!=l||r&&j(r.resolve())!=u||n&&j(new n)!=d||a&&j(new a)!=f)&&(j=function(w){var _=i(w),N=_==c?w.constructor:void 0,A=N?s(N):"";if(A)switch(A){case h:return p;case g:return l;case m:return u;case v:return d;case x:return f}return _}),i1=j,i1}var s1,TP;function cee(){if(TP)return s1;TP=1;var t=FL(),e=zL(),r=zQ(),n=aee(),a=lee(),i=pa(),s=HL(),l=GL(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(m,v,x,j,w,_){var N=i(m),A=i(v),k=N?d:a(m),O=A?d:a(v);k=k==u?f:k,O=O==u?f:O;var T=k==f,R=O==f,P=k==O;if(P&&s(m)){if(!s(v))return!1;N=!0,T=!1}if(P&&!T)return _||(_=new t),N||l(m)?e(m,v,x,j,w,_):r(m,v,k,x,j,w,_);if(!(x&c)){var I=T&&h.call(m,"__wrapped__"),M=R&&h.call(v,"__wrapped__");if(I||M){var D=I?m.value():m,G=M?v.value():v;return _||(_=new t),w(D,G,x,j,_)}}return P?(_||(_=new t),n(m,v,x,j,w,_)):!1}return s1=g,s1}var o1,IP;function Tj(){if(IP)return o1;IP=1;var t=cee(),e=uo();function r(n,a,i,s,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,l)}return o1=r,o1}var l1,RP;function uee(){if(RP)return l1;RP=1;var t=FL(),e=Tj(),r=1,n=2;function a(i,s,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var p=l[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<d;){p=l[u];var h=p[0],g=i[h],m=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var v=new t;if(c)var x=c(g,m,h,i,s,v);if(!(x===void 0?e(m,g,r|n,c,v):x))return!1}}return!0}return l1=a,l1}var c1,LP;function XL(){if(LP)return c1;LP=1;var t=el();function e(r){return r===r&&!t(r)}return c1=e,c1}var u1,MP;function dee(){if(MP)return u1;MP=1;var t=XL(),e=Pv();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],l=n[s];a[i]=[s,l,t(l)]}return a}return u1=r,u1}var d1,DP;function ZL(){if(DP)return d1;DP=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return d1=t,d1}var f1,$P;function fee(){if($P)return f1;$P=1;var t=uee(),e=dee(),r=ZL();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return f1=n,f1}var h1,FP;function hee(){if(FP)return h1;FP=1;function t(e,r){return e!=null&&r in Object(e)}return h1=t,h1}var p1,BP;function pee(){if(BP)return p1;BP=1;var t=gL(),e=Cj(),r=pa(),n=Oj(),a=Ej(),i=jv();function s(l,c,u){c=t(c,l);for(var d=-1,f=c.length,p=!1;++d<f;){var h=i(c[d]);if(!(p=l!=null&&u(l,h)))break;l=l[h]}return p||++d!=f?p:(f=l==null?0:l.length,!!f&&a(f)&&n(h,f)&&(r(l)||e(l)))}return p1=s,p1}var m1,qP;function mee(){if(qP)return m1;qP=1;var t=hee(),e=pee();function r(n,a){return n!=null&&e(n,a,t)}return m1=r,m1}var g1,UP;function gee(){if(UP)return g1;UP=1;var t=Tj(),e=vL(),r=mee(),n=pj(),a=XL(),i=ZL(),s=jv(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(s(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,l|c)}}return g1=u,g1}var v1,zP;function yd(){if(zP)return v1;zP=1;function t(e){return e}return v1=t,v1}var y1,WP;function vee(){if(WP)return y1;WP=1;function t(e){return function(r){return r==null?void 0:r[e]}}return y1=t,y1}var x1,HP;function yee(){if(HP)return x1;HP=1;var t=bj();function e(r){return function(n){return t(n,r)}}return x1=e,x1}var b1,VP;function xee(){if(VP)return b1;VP=1;var t=vee(),e=yee(),r=pj(),n=jv();function a(i){return r(i)?t(n(i)):e(i)}return b1=a,b1}var w1,GP;function bs(){if(GP)return w1;GP=1;var t=fee(),e=gee(),r=yd(),n=pa(),a=xee();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return w1=i,w1}var _1,YP;function JL(){if(YP)return _1;YP=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return _1=t,_1}var j1,KP;function bee(){if(KP)return j1;KP=1;function t(e){return e!==e}return j1=t,j1}var N1,XP;function wee(){if(XP)return N1;XP=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return N1=t,N1}var S1,ZP;function _ee(){if(ZP)return S1;ZP=1;var t=JL(),e=bee(),r=wee();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return S1=n,S1}var A1,JP;function jee(){if(JP)return A1;JP=1;var t=_ee();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return A1=e,A1}var k1,QP;function Nee(){if(QP)return k1;QP=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return k1=t,k1}var P1,eC;function See(){if(eC)return P1;eC=1;function t(){}return P1=t,P1}var C1,tC;function Aee(){if(tC)return C1;tC=1;var t=KL(),e=See(),r=Pj(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return C1=a,C1}var O1,rC;function kee(){if(rC)return O1;rC=1;var t=BL(),e=jee(),r=Nee(),n=UL(),a=Aee(),i=Pj(),s=200;function l(c,u,d){var f=-1,p=e,h=c.length,g=!0,m=[],v=m;if(d)g=!1,p=r;else if(h>=s){var x=u?null:a(c);if(x)return i(x);g=!1,p=n,v=new t}else v=u?[]:m;e:for(;++f<h;){var j=c[f],w=u?u(j):j;if(j=d||j!==0?j:0,g&&w===w){for(var _=v.length;_--;)if(v[_]===w)continue e;u&&v.push(w),m.push(j)}else p(v,w,d)||(v!==m&&v.push(w),m.push(j))}return m}return O1=l,O1}var E1,nC;function Pee(){if(nC)return E1;nC=1;var t=bs(),e=kee();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return E1=r,E1}var Cee=Pee();const aC=hr(Cee);function QL(t,e,r){return e===!0?aC(t,r):At(e)?aC(t,e):t}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}var Oee=["ref"];function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){Cv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tM(n.key),n)}}function Tee(t,e,r){return e&&sC(t.prototype,e),r&&sC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iee(t,e,r){return e=Gm(e),Ree(t,eM()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function Ree(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lee(t)}function Lee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function Mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s5(t,e)}function s5(t,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s5(t,e)}function Cv(t,e,r){return e=tM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tM(t){var e=Dee(t,"string");return Du(e)=="symbol"?e:e+""}function Dee(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $ee(t,e){if(t==null)return{};var r=Fee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bee(t){return t.value}function qee(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=$ee(e,Oee);return K.createElement(kj,r)}var oC=1,Gl=(function(t){function e(){var r;Eee(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Iee(this,e,[].concat(a)),Cv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Mee(e,t),Tee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>oC||Math.abs(a.height-this.lastBoundingBox.height)>oC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return $s($s({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=$s($s({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},qee(i,$s($s({},this.props),{},{payload:QL(d,u,Bee)})))}}],[{key:"getWithHeight",value:function(n,a){var i=$s($s({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&De(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(S.PureComponent);Cv(Gl,"displayName","Legend");Cv(Gl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var T1,lC;function Uee(){if(lC)return T1;lC=1;var t=Rh(),e=Cj(),r=pa(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return T1=a,T1}var I1,cC;function rM(){if(cC)return I1;cC=1;var t=WL(),e=Uee();function r(n,a,i,s,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,s,l):t(l,d):s||(l[l.length]=d)}return l}return I1=r,I1}var R1,uC;function zee(){if(uC)return R1;uC=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(s[u],u,s)===!1)break}return r}}return R1=t,R1}var L1,dC;function Wee(){if(dC)return L1;dC=1;var t=zee(),e=t();return L1=e,L1}var M1,fC;function nM(){if(fC)return M1;fC=1;var t=Wee(),e=Pv();function r(n,a){return n&&t(n,a,e)}return M1=r,M1}var D1,hC;function Hee(){if(hC)return D1;hC=1;var t=Mh();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,l=n?s:-1,c=Object(a);(n?l--:++l<s)&&i(c[l],l,c)!==!1;);return a}}return D1=e,D1}var $1,pC;function Ij(){if(pC)return $1;pC=1;var t=nM(),e=Hee(),r=e(t);return $1=r,$1}var F1,mC;function aM(){if(mC)return F1;mC=1;var t=Ij(),e=Mh();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,u){s[++i]=a(l,c,u)}),s}return F1=r,F1}var B1,gC;function Vee(){if(gC)return B1;gC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return B1=t,B1}var q1,vC;function Gee(){if(vC)return q1;vC=1;var t=md();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!s)return 1;if(!i&&!l&&!f&&r<n||f&&a&&s&&!i&&!l||u&&a&&s||!c&&s||!d)return-1}return 0}return q1=e,q1}var U1,yC;function Yee(){if(yC)return U1;yC=1;var t=Gee();function e(r,n,a){for(var i=-1,s=r.criteria,l=n.criteria,c=s.length,u=a.length;++i<c;){var d=t(s[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return U1=e,U1}var z1,xC;function Kee(){if(xC)return z1;xC=1;var t=xj(),e=bj(),r=bs(),n=aM(),a=Vee(),i=VL(),s=Yee(),l=yd(),c=pa();function u(d,f,p){f.length?f=t(f,function(m){return c(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[l];var h=-1;f=t(f,i(r));var g=n(d,function(m,v,x){var j=t(f,function(w){return w(m)});return{criteria:j,index:++h,value:m}});return a(g,function(m,v){return s(m,v,p)})}return z1=u,z1}var W1,bC;function Xee(){if(bC)return W1;bC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return W1=t,W1}var H1,wC;function Zee(){if(wC)return H1;wC=1;var t=Xee(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,l=-1,c=e(s.length-a,0),u=Array(c);++l<c;)u[l]=s[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=s[l];return d[a]=i(u),t(n,this,d)}}return H1=r,H1}var V1,_C;function Jee(){if(_C)return V1;_C=1;function t(e){return function(){return e}}return V1=t,V1}var G1,jC;function iM(){if(jC)return G1;jC=1;var t=mc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return G1=e,G1}var Y1,NC;function Qee(){if(NC)return Y1;NC=1;var t=Jee(),e=iM(),r=yd(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Y1=n,Y1}var K1,SC;function ete(){if(SC)return K1;SC=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return K1=n,K1}var X1,AC;function tte(){if(AC)return X1;AC=1;var t=Qee(),e=ete(),r=e(t);return X1=r,X1}var Z1,kC;function rte(){if(kC)return Z1;kC=1;var t=yd(),e=Zee(),r=tte();function n(a,i){return r(e(a,i,t),a+"")}return Z1=n,Z1}var J1,PC;function Ov(){if(PC)return J1;PC=1;var t=gj(),e=Mh(),r=Oj(),n=el();function a(i,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],i):!1}return J1=a,J1}var Q1,CC;function nte(){if(CC)return Q1;CC=1;var t=rM(),e=Kee(),r=rte(),n=Ov(),a=r(function(i,s){if(i==null)return[];var l=s.length;return l>1&&n(i,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return Q1=a,Q1}var ate=nte();const Rj=hr(ate);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}function ite(t,e){return cte(t)||lte(t,e)||ote(t,e)||ste()}function ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ote(t,e){if(t){if(typeof t=="string")return OC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(t,e)}}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function cte(t){if(Array.isArray(t))return t}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ew(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){ute(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ute(t,e,r){return e=dte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dte(t){var e=fte(t,"string");return Vf(e)=="symbol"?e:e+""}function fte(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hte(t){return Array.isArray(t)&&wn(t[0])&&wn(t[1])?t.join(" ~ "):t}var pte=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,j=x===void 0?!1:x,w=function(){if(d&&d.length){var I={padding:0,margin:0},M=(p?Rj(d,p):d).map(function(D,G){if(D.type==="none")return null;var F=ew({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),q=D.formatter||f||hte,B=D.value,X=D.name,J=B,ie=X;if(q&&J!=null&&ie!=null){var $=q(B,X,D,G,d);if(Array.isArray($)){var W=ite($,2);J=W[0],ie=W[1]}else J=$}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:F},wn(ie)?K.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,wn(ie)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},J),K.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},_=ew({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=ew({margin:0},u),A=!Tt(m),k=A?m:"",O=Rt("recharts-default-tooltip",h),T=Rt("recharts-tooltip-label",g);A&&v&&d!==void 0&&d!==null&&(k=v(m,d));var R=j?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",o5({className:O,style:_},R),K.createElement("p",{className:T,style:N},K.isValidElement(k)?k:"".concat(k)),w())};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Jp(t,e,r){return e=mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mte(t){var e=gte(t,"string");return Gf(e)=="symbol"?e:e+""}function gte(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sf="recharts-tooltip-wrapper",vte={visibility:"hidden"};function yte(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Rt(sf,Jp(Jp(Jp(Jp({},"".concat(sf,"-right"),De(r)&&e&&De(e.x)&&r>=e.x),"".concat(sf,"-left"),De(r)&&e&&De(e.x)&&r<e.x),"".concat(sf,"-bottom"),De(n)&&e&&De(e.y)&&n>=e.y),"".concat(sf,"-top"),De(n)&&e&&De(e.y)&&n<e.y))}function TC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&De(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function xte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function bte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=TC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=TC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=xte({translateX:d,translateY:f,useTranslate3d:l})):u=vte,{cssProperties:u,cssClasses:yte({translateX:d,translateY:f,coordinate:r})}}function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function IC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(r),!0).forEach(function(n){c5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _te(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oM(n.key),n)}}function jte(t,e,r){return e&&_te(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,r){return e=Ym(e),Ste(t,sM()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function Ste(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ate(t)}function Ate(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l5(t,e)}function l5(t,e){return l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l5(t,e)}function c5(t,e,r){return e=oM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oM(t){var e=Pte(t,"string");return $u(e)=="symbol"?e:e+""}function Pte(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LC=1,Cte=(function(t){function e(){var r;wte(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Nte(this,e,[].concat(a)),c5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return kte(e,t),jte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>LC||Math.abs(n.height-this.state.lastBoundingBox.height)>LC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,w=bte({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=w.cssClasses,N=w.cssProperties,A=RC(RC({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return K.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(O){n.wrapperNode=O}},u)}}])})(S.PureComponent),Ote=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gc={isSsr:Ote()};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function MC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(n){Lj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cM(n.key),n)}}function Ite(t,e,r){return e&&Tte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rte(t,e,r){return e=Km(e),Lte(t,lM()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function Lte(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mte(t)}function Mte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lM=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}function Dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u5(t,e)}function u5(t,e){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u5(t,e)}function Lj(t,e,r){return e=cM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cM(t){var e=$te(t,"string");return Fu(e)=="symbol"?e:e+""}function $te(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fte(t){return t.dataKey}function Bte(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(pte,e)}var ka=(function(t){function e(){return Ete(this,e),Rte(this,e,arguments)}return Dte(e,t),Ite(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,j=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,N=g??[];f&&N.length&&(N=QL(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,Fte));var A=N.length>0;return K.createElement(Cte,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:v,reverseDirection:x,useTranslate3d:j,viewBox:w,wrapperStyle:_},Bte(u,DC(DC({},this.props),{},{payload:N})))}}])})(S.PureComponent);Lj(ka,"displayName","Tooltip");Lj(ka,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tw,$C;function qte(){if($C)return tw;$C=1;var t=xs(),e=function(){return t.Date.now()};return tw=e,tw}var rw,FC;function Ute(){if(FC)return rw;FC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return rw=e,rw}var nw,BC;function zte(){if(BC)return nw;BC=1;var t=Ute(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return nw=r,nw}var aw,qC;function uM(){if(qC)return aw;qC=1;var t=zte(),e=el(),r=md(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||s.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return aw=c,aw}var iw,UC;function Wte(){if(UC)return iw;UC=1;var t=el(),e=qte(),r=uM(),n="Expected a function",a=Math.max,i=Math.min;function s(l,c,u){var d,f,p,h,g,m,v=0,x=!1,j=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(x=!!u.leading,j="maxWait"in u,p=j?a(r(u.maxWait)||0,c):p,w="trailing"in u?!!u.trailing:w);function _(M){var D=d,G=f;return d=f=void 0,v=M,h=l.apply(G,D),h}function N(M){return v=M,g=setTimeout(O,c),x?_(M):h}function A(M){var D=M-m,G=M-v,F=c-D;return j?i(F,p-G):F}function k(M){var D=M-m,G=M-v;return m===void 0||D>=c||D<0||j&&G>=p}function O(){var M=e();if(k(M))return T(M);g=setTimeout(O,A(M))}function T(M){return g=void 0,w&&d?_(M):(d=f=void 0,h)}function R(){g!==void 0&&clearTimeout(g),v=0,d=m=f=g=void 0}function P(){return g===void 0?h:T(e())}function I(){var M=e(),D=k(M);if(d=arguments,f=this,m=M,D){if(g===void 0)return N(m);if(j)return clearTimeout(g),g=setTimeout(O,c),_(m)}return g===void 0&&(g=setTimeout(O,c)),h}return I.cancel=R,I.flush=P,I}return iw=s,iw}var sw,zC;function Hte(){if(zC)return sw;zC=1;var t=Wte(),e=el(),r="Expected a function";function n(a,i,s){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return sw=n,sw}var Vte=Hte();const dM=hr(Vte);function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){Gte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gte(t,e,r){return e=Yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yte(t){var e=Kte(t,"string");return Yf(e)=="symbol"?e:e+""}function Kte(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xte(t,e){return ere(t)||Qte(t,e)||Jte(t,e)||Zte()}function Zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return HC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HC(t,e)}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ere(t){if(Array.isArray(t))return t}var Xm=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,j=t.onResize,w=t.style,_=w===void 0?{}:w,N=S.useRef(null),A=S.useRef();A.current=j,S.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=S.useState({containerWidth:a.width,containerHeight:a.height}),O=Xte(k,2),T=O[0],R=O[1],P=S.useCallback(function(M,D){R(function(G){var F=Math.round(M),q=Math.round(D);return G.containerWidth===F&&G.containerHeight===q?G:{containerWidth:F,containerHeight:q}})},[]);S.useEffect(function(){var M=function(X){var J,ie=X[0].contentRect,$=ie.width,W=ie.height;P($,W),(J=A.current)===null||J===void 0||J.call(A,$,W)};m>0&&(M=dM(M,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),G=N.current.getBoundingClientRect(),F=G.width,q=G.height;return P(F,q),D.observe(N.current),function(){D.disconnect()}},[P,m]);var I=S.useMemo(function(){var M=T.containerWidth,D=T.containerHeight;if(M<0||D<0)return null;Pi(Bl(s)||Bl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Pi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Bl(s)?M:s,F=Bl(c)?D:c;r&&r>0&&(G?F=G/r:F&&(G=F*r),p&&F>p&&(F=p)),Pi(G>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,F,s,c,d,f,r);var q=!Array.isArray(h)&&Js(h.type).endsWith("Chart");return K.Children.map(h,function(B){return K.isValidElement(B)?S.cloneElement(B,Qp({width:G,height:F},q?{style:Qp({height:"100%",width:"100%",maxHeight:F,maxWidth:G},B.props.style)}:{})):B})},[r,h,c,p,f,d,T,s]);return K.createElement("div",{id:v?"".concat(v):void 0,className:Rt("recharts-responsive-container",x),style:Qp(Qp({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:N},I)}),Dh=function(e){return null};Dh.displayName="Cell";function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function d5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tre(t,e,r){return e=rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=nre(t,"string");return Kf(e)=="symbol"?e:e+""}function nre(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tu={widthCache:{},cacheCount:0},are=2e3,ire={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GC="recharts_measurement_span";function sre(t){var e=d5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Cf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gc.isSsr)return{width:0,height:0};var n=sre(r),a=JSON.stringify({text:e,copyStyle:n});if(tu.widthCache[a])return tu.widthCache[a];try{var i=document.getElementById(GC);i||(i=document.createElement("span"),i.setAttribute("id",GC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=d5(d5({},ire),n);Object.assign(i.style,s),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return tu.widthCache[a]=c,++tu.cacheCount>are&&(tu.cacheCount=0,tu.widthCache={}),c}catch{return{width:0,height:0}}},ore=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Zm(t,e){return dre(t)||ure(t,e)||cre(t,e)||lre()}function lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(t,e){if(t){if(typeof t=="string")return YC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ure(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function dre(t){if(Array.isArray(t))return t}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pre(n.key),n)}}function hre(t,e,r){return e&&KC(t.prototype,e),r&&KC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pre(t){var e=mre(t,"string");return Xf(e)=="symbol"?e:e+""}function mre(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yre=Object.keys(fM),mu="NaN";function xre(t,e){return t*fM[e]}var em=(function(){function t(e,r){fre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!gre.test(r)&&(this.num=NaN,this.unit=""),yre.includes(r)&&(this.num=xre(e,r),this.unit="px")}return hre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=vre.exec(r))!==null&&n!==void 0?n:[],i=Zm(a,3),s=i[1],l=i[2];return new t(parseFloat(s),l??"")}}])})();function hM(t){if(t.includes(mu))return mu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=XC.exec(e))!==null&&r!==void 0?r:[],a=Zm(n,4),i=a[1],s=a[2],l=a[3],c=em.parse(i??""),u=em.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mu;e=e.replace(XC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=ZC.exec(e))!==null&&f!==void 0?f:[],h=Zm(p,4),g=h[1],m=h[2],v=h[3],x=em.parse(g??""),j=em.parse(v??""),w=m==="+"?x.add(j):x.subtract(j);if(w.isNaN())return mu;e=e.replace(ZC,w.toString())}return e}var JC=/\(([^()]*)\)/;function bre(t){for(var e=t;e.includes("(");){var r=JC.exec(e),n=Zm(r,2),a=n[1];e=e.replace(JC,hM(a))}return e}function wre(t){var e=t.replace(/\s+/g,"");return e=bre(e),e=hM(e),e}function _re(t){try{return wre(t)}catch{return mu}}function ow(t){var e=_re(t.slice(5,-1));return e===mu?"":e}var jre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nre=["dx","dy","angle","className","breakAll"];function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f5.apply(this,arguments)}function QC(t,e){if(t==null)return{};var r=Sre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eO(t,e){return Cre(t)||Pre(t,e)||kre(t,e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kre(t,e){if(t){if(typeof t=="string")return tO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Cre(t){if(Array.isArray(t))return t}var pM=/[ \f\n\r\t\v\u2028\u2029]+/,mM=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Tt(r)||(n?i=r.toString().split(""):i=r.toString().split(pM));var s=i.map(function(c){return{word:c,width:Cf(c,a).width}}),l=n?0:Cf("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Ore=function(e,r,n,a,i){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=De(s),f=l,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(F,q){var B=q.word,X=q.width,J=F[F.length-1];if(J&&(a==null||i||J.width+X+n<Number(a)))J.words.push(B),J.width+=X+n;else{var ie={words:[B],width:X};F.push(ie)}return F},[])},h=p(r),g=function(G){return G.reduce(function(F,q){return F.width>q.width?F:q})};if(!d)return h;for(var m="",v=function(G){var F=f.slice(0,G),q=mM({breakAll:u,style:c,children:F+m}).wordsWithComputedWidth,B=p(q),X=B.length>s||g(B).width>Number(a);return[X,B]},x=0,j=f.length-1,w=0,_;x<=j&&w<=f.length-1;){var N=Math.floor((x+j)/2),A=N-1,k=v(A),O=eO(k,2),T=O[0],R=O[1],P=v(N),I=eO(P,1),M=I[0];if(!T&&!M&&(x=N+1),T&&M&&(j=N-1),!T&&M){_=R;break}w++}return _||h},rO=function(e){var r=Tt(e)?[]:e.toString().split(pM);return[{words:r}]},Ere=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!gc.isSsr){var c,u,d=mM({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return rO(a);return Ore({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return rO(a)},nO="#808080",nc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?nO:v,j=QC(e,jre),w=S.useMemo(function(){return Ere({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),_=j.dx,N=j.dy,A=j.angle,k=j.className,O=j.breakAll,T=QC(j,Nre);if(!wn(n)||!wn(i))return null;var R=n+(De(_)?_:0),P=i+(De(N)?N:0),I;switch(m){case"start":I=ow("calc(".concat(u,")"));break;case"middle":I=ow("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=ow("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(f){var D=w[0].width,G=j.width;M.push("scale(".concat((De(G)?G/D:1)/D,")"))}return A&&M.push("rotate(".concat(A,", ").concat(R,", ").concat(P,")")),M.length&&(T.transform=M.join(" ")),K.createElement("text",f5({},mt(T,!0),{x:R,y:P,className:Rt("recharts-text",k),textAnchor:h,fill:x.includes("url")?nO:x}),w.map(function(F,q){var B=F.words.join(O?"":" ");return K.createElement("tspan",{x:R,dy:q===0?I:l,key:"".concat(B,"-").concat(q)},B)}))};function Ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mj(t){let e,r,n;t.length!==2?(e=Ho,r=(l,c)=>Ho(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ho||t===Tre?t:Ire,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function Ire(){return 0}function gM(t){return t===null?NaN:+t}function*Rre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Lre=Mj(Ho),$h=Lre.right;Mj(gM).center;class aO extends Map{constructor(e,r=$re){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(iO(this,e))}has(e){return super.has(iO(this,e))}set(e,r){return super.set(Mre(this,e),r)}delete(e){return super.delete(Dre(this,e))}}function iO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Mre({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Dre({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $re(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fre(t=Ho){if(t===Ho)return vM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bre=Math.sqrt(50),qre=Math.sqrt(10),Ure=Math.sqrt(2);function Jm(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Bre?10:i>=qre?5:i>=Ure?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Jm(t,e,r*2):[l,c,u]}function h5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Jm(e,t,r):Jm(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function p5(t,e,r){return e=+e,t=+t,r=+r,Jm(t,e,r)[2]}function m5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?p5(e,t,r):p5(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function sO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yM(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?vM:Fre(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+p)),g=Math.min(n,Math.floor(e+(c-u)*f/c+p));yM(t,e,h,g,a)}const i=t[e];let s=r,l=n;for(of(t,r,e),a(t[n],i)>0&&of(t,r,n);s<l;){for(of(t,s,l),++s,--l;a(t[s],i)<0;)++s;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?of(t,r,l):(++l,of(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function of(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function zre(t,e,r){if(t=Float64Array.from(Rre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return oO(t);if(e>=1)return sO(t);var n,a=(n-1)*e,i=Math.floor(a),s=sO(yM(t,i).subarray(0,i+1)),l=oO(t.subarray(i+1));return s+(l-s)*(a-i)}}function Wre(t,e,r=gM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return s+(l-s)*(a-i)}}function Hre(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const g5=Symbol("implicit");function Dj(){var t=new aO,e=[],r=[],n=g5;function a(i){let s=t.get(i);if(s===void 0){if(n!==g5)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new aO;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Dj(e,r).unknown(n)},si.apply(a,arguments),a}function Zf(){var t=Dj().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=a<n,g=h?a:n,m=h?n:a;i=(m-g)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(p-c))*d,s=i*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=Hre(p).map(function(x){return g+i*x});return r(h?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Zf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},si.apply(f(),arguments)}function xM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xM(e())},t}function Of(){return xM(Zf.apply(null,arguments).paddingInner(1))}function $j(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function bM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Fh(){}var Jf=.7,Qm=1/Jf,ku="\\s*([+-]?\\d+)\\s*",Qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vre=/^#([0-9a-f]{3,8})$/,Gre=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),Yre=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),Kre=new RegExp(`^rgba\\(${ku},${ku},${ku},${Qf}\\)$`),Xre=new RegExp(`^rgba\\(${ls},${ls},${ls},${Qf}\\)$`),Zre=new RegExp(`^hsl\\(${Qf},${ls},${ls}\\)$`),Jre=new RegExp(`^hsla\\(${Qf},${ls},${ls},${Qf}\\)$`),lO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$j(Fh,eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cO,formatHex:cO,formatHex8:Qre,formatHsl:ene,formatRgb:uO,toString:uO});function cO(){return this.rgb().formatHex()}function Qre(){return this.rgb().formatHex8()}function ene(){return wM(this).formatHsl()}function uO(){return this.rgb().formatRgb()}function eh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Vre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?dO(e):r===3?new ca(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?tm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?tm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gre.exec(t))?new ca(e[1],e[2],e[3],1):(e=Yre.exec(t))?new ca(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kre.exec(t))?tm(e[1],e[2],e[3],e[4]):(e=Xre.exec(t))?tm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zre.exec(t))?pO(e[1],e[2]/100,e[3]/100,1):(e=Jre.exec(t))?pO(e[1],e[2]/100,e[3]/100,e[4]):lO.hasOwnProperty(t)?dO(lO[t]):t==="transparent"?new ca(NaN,NaN,NaN,0):null}function dO(t){return new ca(t>>16&255,t>>8&255,t&255,1)}function tm(t,e,r,n){return n<=0&&(t=e=r=NaN),new ca(t,e,r,n)}function tne(t){return t instanceof Fh||(t=eh(t)),t?(t=t.rgb(),new ca(t.r,t.g,t.b,t.opacity)):new ca}function v5(t,e,r,n){return arguments.length===1?tne(t):new ca(t,e,r,n??1)}function ca(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$j(ca,v5,bM(Fh,{brighter(t){return t=t==null?Qm:Math.pow(Qm,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jf:Math.pow(Jf,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ca(Yl(this.r),Yl(this.g),Yl(this.b),eg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fO,formatHex:fO,formatHex8:rne,formatRgb:hO,toString:hO}));function fO(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function rne(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function hO(){const t=eg(this.opacity);return`${t===1?"rgb(":"rgba("}${Yl(this.r)}, ${Yl(this.g)}, ${Yl(this.b)}${t===1?")":`, ${t})`}`}function eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ql(t){return t=Yl(t),(t<16?"0":"")+t.toString(16)}function pO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,r,n)}function wM(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof Fh||(t=eh(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(e===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Ai(s,l,c,t.opacity)}function nne(t,e,r,n){return arguments.length===1?wM(t):new Ai(t,e,r,n??1)}function Ai(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$j(Ai,nne,bM(Fh,{brighter(t){return t=t==null?Qm:Math.pow(Qm,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jf:Math.pow(Jf,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new ca(lw(t>=240?t-240:t+120,a,n),lw(t,a,n),lw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ai(mO(this.h),rm(this.s),rm(this.l),eg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eg(this.opacity);return`${t===1?"hsl(":"hsla("}${mO(this.h)}, ${rm(this.s)*100}%, ${rm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mO(t){return t=(t||0)%360,t<0?t+360:t}function rm(t){return Math.max(0,Math.min(1,t||0))}function lw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Fj=t=>()=>t;function ane(t,e){return function(r){return t+r*e}}function ine(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function sne(t){return(t=+t)==1?_M:function(e,r){return r-e?ine(e,r,t):Fj(isNaN(e)?r:e)}}function _M(t,e){var r=e-t;return r?ane(t,r):Fj(isNaN(t)?e:t)}const gO=(function t(e){var r=sne(e);function n(a,i){var s=r((a=v5(a)).r,(i=v5(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=_M(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n})(1);function one(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function lne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=xd(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function une(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function tg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function dne(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=xd(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var y5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cw=new RegExp(y5.source,"g");function fne(t){return function(){return t}}function hne(t){return function(e){return t(e)+""}}function pne(t,e){var r=y5.lastIndex=cw.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=y5.exec(t))&&(a=cw.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:tg(n,a)})),r=cw.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?hne(c[0].x):fne(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function xd(t,e){var r=typeof e,n;return e==null||r==="boolean"?Fj(e):(r==="number"?tg:r==="string"?(n=eh(e))?(e=n,gO):pne:e instanceof eh?gO:e instanceof Date?une:lne(e)?one:Array.isArray(e)?cne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dne:tg)(t,e)}function Bj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function mne(t,e){e===void 0&&(e=t,t=xd);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function gne(t){return function(){return t}}function rg(t){return+t}var vO=[0,1];function ta(t){return t}function x5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:gne(isNaN(e)?NaN:.5)}function vne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function yne(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=x5(a,n),i=r(s,i)):(n=x5(n,a),i=r(i,s)),function(l){return i(n(l))}}function xne(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=x5(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(l){var c=$h(t,l,1,n)-1;return i[c](a[c](l))}}function Bh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ev(){var t=vO,e=vO,r=xd,n,a,i,s=ta,l,c,u;function d(){var p=Math.min(t.length,e.length);return s!==ta&&(s=vne(t[0],t[p-1])),l=p>2?xne:yne,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(a((u||(u=l(e,t.map(n),tg)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,rg),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=Bj,d()},f.clamp=function(p){return arguments.length?(s=p?!0:ta,d()):s!==ta},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function qj(){return Ev()(ta,ta)}function bne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ng(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Bu(t){return t=ng(Math.abs(t)),t?t[1]:NaN}function wne(t,e){return function(r,n){for(var a=r.length,i=[],s=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function _ne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var jne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function th(t){if(!(e=jne.exec(t)))throw new Error("invalid format: "+t);var e;return new Uj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}th.prototype=Uj.prototype;function Uj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Uj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nne(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var jM;function Sne(t,e){var r=ng(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(jM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ng(t,Math.max(0,e+i-1))[0]}function yO(t,e){var r=ng(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yO(t*100,e),r:yO,s:Sne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bO(t){return t}var wO=Array.prototype.map,_O=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ane(t){var e=t.grouping===void 0||t.thousands===void 0?bO:wne(wO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?bO:_ne(wO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=th(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,j=f.comma,w=f.precision,_=f.trim,N=f.type;N==="n"?(j=!0,N="g"):xO[N]||(w===void 0&&(w=12),_=!0,N="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var A=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=m==="$"?n:/[%p]/.test(N)?s:"",O=xO[N],T=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(P){var I=A,M=k,D,G,F;if(N==="c")M=O(P)+M,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?c:O(Math.abs(P),w),_&&(P=Nne(P)),q&&+P==0&&g!=="+"&&(q=!1),I=(q?g==="("?g:l:g==="-"||g==="("?"":g)+I,M=(N==="s"?_O[8+jM/3]:"")+M+(q&&g==="("?")":""),T){for(D=-1,G=P.length;++D<G;)if(F=P.charCodeAt(D),48>F||F>57){M=(F===46?a+P.slice(D+1):P.slice(D))+M,P=P.slice(0,D);break}}}j&&!v&&(P=e(P,1/0));var B=I.length+P.length+M.length,X=B<x?new Array(x-B+1).join(p):"";switch(j&&v&&(P=e(X+P,X.length?x-M.length:1/0),X=""),h){case"<":P=I+P+M+X;break;case"=":P=I+X+P+M;break;case"^":P=X.slice(0,B=X.length>>1)+I+P+M+X.slice(B);break;default:P=X+I+P+M;break}return i(P)}return R.toString=function(){return f+""},R}function d(f,p){var h=u((f=th(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Bu(p)/3)))*3,m=Math.pow(10,-g),v=_O[8+g/3];return function(x){return h(m*x)+v}}return{format:u,formatPrefix:d}}var nm,zj,NM;kne({thousands:",",grouping:[3],currency:["$",""]});function kne(t){return nm=Ane(t),zj=nm.format,NM=nm.formatPrefix,nm}function Pne(t){return Math.max(0,-Bu(Math.abs(t)))}function Cne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(e)/3)))*3-Bu(Math.abs(t)))}function One(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bu(e)-Bu(t))+1}function SM(t,e,r,n){var a=m5(t,e,r),i;switch(n=th(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Cne(a,s))&&(n.precision=i),NM(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=One(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Pne(a))&&(n.precision=i-(n.type==="%")*2);break}}return zj(n)}function tl(t){var e=t.domain;return t.ticks=function(r){var n=e();return h5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return SM(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=p5(s,l,r),u===c)return n[a]=s,n[i]=l,e(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function ag(){var t=qj();return t.copy=function(){return Bh(t,ag())},si.apply(t,arguments),tl(t)}function AM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,rg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return AM(t).unknown(e)},t=arguments.length?Array.from(t,rg):[0,1],tl(r)}function kM(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function jO(t){return Math.log(t)}function NO(t){return Math.exp(t)}function Ene(t){return-Math.log(-t)}function Tne(t){return-Math.exp(-t)}function Ine(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rne(t){return t===10?Ine:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function SO(t){return(e,r)=>-t(-e,r)}function Wj(t){const e=t(jO,NO),r=e.domain;let n=10,a,i;function s(){return a=Lne(n),i=Rne(n),r()[0]<0?(a=SO(a),i=SO(i),t(Ene,Tne)):t(jO,NO),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(m=p<0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(m=p>0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=h5(u,d,v))}else x=h5(p,h,Math.min(h-p,v)).map(i);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=th(c)).precision==null&&(c.trim=!0),c=zj(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(kM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function PM(){const t=Wj(Ev()).domain([1,10]);return t.copy=()=>Bh(t,PM()).base(t.base()),si.apply(t,arguments),t}function AO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Hj(t){var e=1,r=t(AO(e),kO(e));return r.constant=function(n){return arguments.length?t(AO(e=+n),kO(e)):e},tl(r)}function CM(){var t=Hj(Ev());return t.copy=function(){return Bh(t,CM()).constant(t.constant())},si.apply(t,arguments)}function PO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dne(t){return t<0?-t*t:t*t}function Vj(t){var e=t(ta,ta),r=1;function n(){return r===1?t(ta,ta):r===.5?t(Mne,Dne):t(PO(r),PO(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},tl(e)}function Gj(){var t=Vj(Ev());return t.copy=function(){return Bh(t,Gj()).exponent(t.exponent())},si.apply(t,arguments),t}function $ne(){return Gj.apply(null,arguments).exponent(.5)}function CO(t){return Math.sign(t)*t*t}function Fne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OM(){var t=qj(),e=[0,1],r=!1,n;function a(i){var s=Fne(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(CO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,rg)).map(CO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},si.apply(a,arguments),tl(a)}function EM(){var t=[],e=[],r=[],n;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=Wre(t,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:e[$h(r,s)]}return i.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ho),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return EM().domain(t).range(e).unknown(n)},si.apply(i,arguments)}function TM(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[$h(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return TM().domain([t,e]).range(a).unknown(i)},si.apply(tl(s),arguments)}function IM(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[$h(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return IM().domain(t).range(e).unknown(r)},si.apply(a,arguments)}const uw=new Date,dw=new Date;function _n(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<s);return c},a.filter=i=>_n(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(uw.setTime(+i),dw.setTime(+s),t(uw),t(dw),Math.floor(r(uw,dw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const ig=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ig);ig.range;const Vs=1e3,Qa=Vs*60,Gs=Qa*60,ao=Gs*24,Yj=ao*7,OO=ao*30,fw=ao*365,Ul=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vs)},(t,e)=>(e-t)/Vs,t=>t.getUTCSeconds());Ul.range;const Kj=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs)},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getMinutes());Kj.range;const Xj=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getUTCMinutes());Xj.range;const Zj=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vs-t.getMinutes()*Qa)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getHours());Zj.range;const Jj=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getUTCHours());Jj.range;const qh=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qa)/ao,t=>t.getDate()-1);qh.range;const Tv=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>t.getUTCDate()-1);Tv.range;const RM=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>Math.floor(t/ao));RM.range;function vc(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Qa)/Yj)}const Iv=vc(0),sg=vc(1),Bne=vc(2),qne=vc(3),qu=vc(4),Une=vc(5),zne=vc(6);Iv.range;sg.range;Bne.range;qne.range;qu.range;Une.range;zne.range;function yc(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Yj)}const Rv=yc(0),og=yc(1),Wne=yc(2),Hne=yc(3),Uu=yc(4),Vne=yc(5),Gne=yc(6);Rv.range;og.range;Wne.range;Hne.range;Uu.range;Vne.range;Gne.range;const Qj=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Qj.range;const eN=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());eN.range;const io=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});io.range;const so=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});so.range;function LM(t,e,r,n,a,i){const s=[[Ul,1,Vs],[Ul,5,5*Vs],[Ul,15,15*Vs],[Ul,30,30*Vs],[i,1,Qa],[i,5,5*Qa],[i,15,15*Qa],[i,30,30*Qa],[a,1,Gs],[a,3,3*Gs],[a,6,6*Gs],[a,12,12*Gs],[n,1,ao],[n,2,2*ao],[r,1,Yj],[e,1,OO],[e,3,3*OO],[t,1,fw]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=Mj(([,,v])=>v).right(s,p);if(h===s.length)return t.every(m5(u/fw,d/fw,f));if(h===0)return ig.every(Math.max(m5(u,d,f),1));const[g,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(m)}return[l,c]}const[Yne,Kne]=LM(so,eN,Rv,RM,Jj,Xj),[Xne,Zne]=LM(io,Qj,Iv,qh,Zj,Kj);function hw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Jne(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=cf(a),d=uf(a),f=cf(i),p=uf(i),h=cf(s),g=uf(s),m=cf(l),v=uf(l),x=cf(c),j=uf(c),w={a:q,A:B,b:X,B:J,c:null,d:MO,e:MO,f:wae,g:Eae,G:Iae,H:yae,I:xae,j:bae,L:MM,m:_ae,M:jae,p:ie,q:$,Q:FO,s:BO,S:Nae,u:Sae,U:Aae,V:kae,w:Pae,W:Cae,x:null,X:null,y:Oae,Y:Tae,Z:Rae,"%":$O},_={a:W,A:H,b:ee,B:le,c:null,d:DO,e:DO,f:$ae,g:Yae,G:Xae,H:Lae,I:Mae,j:Dae,L:$M,m:Fae,M:Bae,p:oe,q:de,Q:FO,s:BO,S:qae,u:Uae,U:zae,V:Wae,w:Hae,W:Vae,x:null,X:null,y:Gae,Y:Kae,Z:Zae,"%":$O},N={a:R,A:P,b:I,B:M,c:D,d:RO,e:RO,f:pae,g:IO,G:TO,H:LO,I:LO,j:uae,L:hae,m:cae,M:dae,p:T,q:lae,Q:gae,s:vae,S:fae,u:nae,U:aae,V:iae,w:rae,W:sae,x:G,X:F,y:IO,Y:TO,Z:oae,"%":mae};w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),_.x=A(r,_),_.X=A(n,_),_.c=A(e,_);function A(se,he){return function(ge){var ue=[],Oe=-1,me=0,te=se.length,Ge,Ue,He;for(ge instanceof Date||(ge=new Date(+ge));++Oe<te;)se.charCodeAt(Oe)===37&&(ue.push(se.slice(me,Oe)),(Ue=EO[Ge=se.charAt(++Oe)])!=null?Ge=se.charAt(++Oe):Ue=Ge==="e"?" ":"0",(He=he[Ge])&&(Ge=He(ge,Ue)),ue.push(Ge),me=Oe+1);return ue.push(se.slice(me,Oe)),ue.join("")}}function k(se,he){return function(ge){var ue=lf(1900,void 0,1),Oe=O(ue,se,ge+="",0),me,te;if(Oe!=ge.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(he&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(me=pw(lf(ue.y,0,1)),te=me.getUTCDay(),me=te>4||te===0?og.ceil(me):og(me),me=Tv.offset(me,(ue.V-1)*7),ue.y=me.getUTCFullYear(),ue.m=me.getUTCMonth(),ue.d=me.getUTCDate()+(ue.w+6)%7):(me=hw(lf(ue.y,0,1)),te=me.getDay(),me=te>4||te===0?sg.ceil(me):sg(me),me=qh.offset(me,(ue.V-1)*7),ue.y=me.getFullYear(),ue.m=me.getMonth(),ue.d=me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),te="Z"in ue?pw(lf(ue.y,0,1)).getUTCDay():hw(lf(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(te+5)%7:ue.w+ue.U*7-(te+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,pw(ue)):hw(ue)}}function O(se,he,ge,ue){for(var Oe=0,me=he.length,te=ge.length,Ge,Ue;Oe<me;){if(ue>=te)return-1;if(Ge=he.charCodeAt(Oe++),Ge===37){if(Ge=he.charAt(Oe++),Ue=N[Ge in EO?he.charAt(Oe++):Ge],!Ue||(ue=Ue(se,ge,ue))<0)return-1}else if(Ge!=ge.charCodeAt(ue++))return-1}return ue}function T(se,he,ge){var ue=u.exec(he.slice(ge));return ue?(se.p=d.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function R(se,he,ge){var ue=h.exec(he.slice(ge));return ue?(se.w=g.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function P(se,he,ge){var ue=f.exec(he.slice(ge));return ue?(se.w=p.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function I(se,he,ge){var ue=x.exec(he.slice(ge));return ue?(se.m=j.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function M(se,he,ge){var ue=m.exec(he.slice(ge));return ue?(se.m=v.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function D(se,he,ge){return O(se,e,he,ge)}function G(se,he,ge){return O(se,r,he,ge)}function F(se,he,ge){return O(se,n,he,ge)}function q(se){return s[se.getDay()]}function B(se){return i[se.getDay()]}function X(se){return c[se.getMonth()]}function J(se){return l[se.getMonth()]}function ie(se){return a[+(se.getHours()>=12)]}function $(se){return 1+~~(se.getMonth()/3)}function W(se){return s[se.getUTCDay()]}function H(se){return i[se.getUTCDay()]}function ee(se){return c[se.getUTCMonth()]}function le(se){return l[se.getUTCMonth()]}function oe(se){return a[+(se.getUTCHours()>=12)]}function de(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var he=A(se+="",w);return he.toString=function(){return se},he},parse:function(se){var he=k(se+="",!1);return he.toString=function(){return se},he},utcFormat:function(se){var he=A(se+="",_);return he.toString=function(){return se},he},utcParse:function(se){var he=k(se+="",!0);return he.toString=function(){return se},he}}}var EO={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Qne=/^%/,eae=/[\\^$*+?|[\]().{}]/g;function er(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function tae(t){return t.replace(eae,"\\$&")}function cf(t){return new RegExp("^(?:"+t.map(tae).join("|")+")","i")}function uf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function rae(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function nae(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function aae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function sae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function TO(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function IO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lae(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function cae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function RO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uae(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function LO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function dae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function hae(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function pae(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mae(t,e,r){var n=Qne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function gae(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function vae(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function MO(t,e){return er(t.getDate(),e,2)}function yae(t,e){return er(t.getHours(),e,2)}function xae(t,e){return er(t.getHours()%12||12,e,2)}function bae(t,e){return er(1+qh.count(io(t),t),e,3)}function MM(t,e){return er(t.getMilliseconds(),e,3)}function wae(t,e){return MM(t,e)+"000"}function _ae(t,e){return er(t.getMonth()+1,e,2)}function jae(t,e){return er(t.getMinutes(),e,2)}function Nae(t,e){return er(t.getSeconds(),e,2)}function Sae(t){var e=t.getDay();return e===0?7:e}function Aae(t,e){return er(Iv.count(io(t)-1,t),e,2)}function DM(t){var e=t.getDay();return e>=4||e===0?qu(t):qu.ceil(t)}function kae(t,e){return t=DM(t),er(qu.count(io(t),t)+(io(t).getDay()===4),e,2)}function Pae(t){return t.getDay()}function Cae(t,e){return er(sg.count(io(t)-1,t),e,2)}function Oae(t,e){return er(t.getFullYear()%100,e,2)}function Eae(t,e){return t=DM(t),er(t.getFullYear()%100,e,2)}function Tae(t,e){return er(t.getFullYear()%1e4,e,4)}function Iae(t,e){var r=t.getDay();return t=r>=4||r===0?qu(t):qu.ceil(t),er(t.getFullYear()%1e4,e,4)}function Rae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+er(e/60|0,"0",2)+er(e%60,"0",2)}function DO(t,e){return er(t.getUTCDate(),e,2)}function Lae(t,e){return er(t.getUTCHours(),e,2)}function Mae(t,e){return er(t.getUTCHours()%12||12,e,2)}function Dae(t,e){return er(1+Tv.count(so(t),t),e,3)}function $M(t,e){return er(t.getUTCMilliseconds(),e,3)}function $ae(t,e){return $M(t,e)+"000"}function Fae(t,e){return er(t.getUTCMonth()+1,e,2)}function Bae(t,e){return er(t.getUTCMinutes(),e,2)}function qae(t,e){return er(t.getUTCSeconds(),e,2)}function Uae(t){var e=t.getUTCDay();return e===0?7:e}function zae(t,e){return er(Rv.count(so(t)-1,t),e,2)}function FM(t){var e=t.getUTCDay();return e>=4||e===0?Uu(t):Uu.ceil(t)}function Wae(t,e){return t=FM(t),er(Uu.count(so(t),t)+(so(t).getUTCDay()===4),e,2)}function Hae(t){return t.getUTCDay()}function Vae(t,e){return er(og.count(so(t)-1,t),e,2)}function Gae(t,e){return er(t.getUTCFullYear()%100,e,2)}function Yae(t,e){return t=FM(t),er(t.getUTCFullYear()%100,e,2)}function Kae(t,e){return er(t.getUTCFullYear()%1e4,e,4)}function Xae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Uu(t):Uu.ceil(t),er(t.getUTCFullYear()%1e4,e,4)}function Zae(){return"+0000"}function $O(){return"%"}function FO(t){return+t}function BO(t){return Math.floor(+t/1e3)}var ru,BM,qM;Jae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jae(t){return ru=Jne(t),BM=ru.format,ru.parse,qM=ru.utcFormat,ru.utcParse,ru}function Qae(t){return new Date(t)}function eie(t){return t instanceof Date?+t:+new Date(+t)}function tN(t,e,r,n,a,i,s,l,c,u){var d=qj(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),j=u("%b %d"),w=u("%B"),_=u("%Y");function N(A){return(c(A)<A?h:l(A)<A?g:s(A)<A?m:i(A)<A?v:n(A)<A?a(A)<A?x:j:r(A)<A?w:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,eie)):p().map(Qae)},d.ticks=function(A){var k=p();return t(k[0],k[k.length-1],A??10)},d.tickFormat=function(A,k){return k==null?N:u(k)},d.nice=function(A){var k=p();return(!A||typeof A.range!="function")&&(A=e(k[0],k[k.length-1],A??10)),A?p(kM(k,A)):d},d.copy=function(){return Bh(d,tN(t,e,r,n,a,i,s,l,c,u))},d}function tie(){return si.apply(tN(Xne,Zne,io,Qj,Iv,qh,Zj,Kj,Ul,BM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rie(){return si.apply(tN(Yne,Kne,so,eN,Rv,Tv,Jj,Xj,Ul,qM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lv(){var t=0,e=1,r,n,a,i,s=ta,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),u):[s(0),s(1)]}}return u.range=d(xd),u.rangeRound=d(Bj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function rl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UM(){var t=tl(Lv()(ta));return t.copy=function(){return rl(t,UM())},fo.apply(t,arguments)}function zM(){var t=Wj(Lv()).domain([1,10]);return t.copy=function(){return rl(t,zM()).base(t.base())},fo.apply(t,arguments)}function WM(){var t=Hj(Lv());return t.copy=function(){return rl(t,WM()).constant(t.constant())},fo.apply(t,arguments)}function rN(){var t=Vj(Lv());return t.copy=function(){return rl(t,rN()).exponent(t.exponent())},fo.apply(t,arguments)}function nie(){return rN.apply(null,arguments).exponent(.5)}function HM(){var t=[],e=ta;function r(n){if(n!=null&&!isNaN(n=+n))return e(($h(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ho),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>zre(t,i/n))},r.copy=function(){return HM(e).domain(t)},fo.apply(r,arguments)}function Mv(){var t=0,e=.5,r=1,n=1,a,i,s,l,c,u=ta,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function g(m){return function(v){var x,j,w;return arguments.length?([x,j,w]=v,u=mne(m,[x,j,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(xd),h.rangeRound=g(Bj),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(t),i=m(e),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function VM(){var t=tl(Mv()(ta));return t.copy=function(){return rl(t,VM())},fo.apply(t,arguments)}function GM(){var t=Wj(Mv()).domain([.1,1,10]);return t.copy=function(){return rl(t,GM()).base(t.base())},fo.apply(t,arguments)}function YM(){var t=Hj(Mv());return t.copy=function(){return rl(t,YM()).constant(t.constant())},fo.apply(t,arguments)}function nN(){var t=Vj(Mv());return t.copy=function(){return rl(t,nN()).exponent(t.exponent())},fo.apply(t,arguments)}function aie(){return nN.apply(null,arguments).exponent(.5)}const qO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zf,scaleDiverging:VM,scaleDivergingLog:GM,scaleDivergingPow:nN,scaleDivergingSqrt:aie,scaleDivergingSymlog:YM,scaleIdentity:AM,scaleImplicit:g5,scaleLinear:ag,scaleLog:PM,scaleOrdinal:Dj,scalePoint:Of,scalePow:Gj,scaleQuantile:EM,scaleQuantize:TM,scaleRadial:OM,scaleSequential:UM,scaleSequentialLog:zM,scaleSequentialPow:rN,scaleSequentialQuantile:HM,scaleSequentialSqrt:nie,scaleSequentialSymlog:WM,scaleSqrt:$ne,scaleSymlog:CM,scaleThreshold:IM,scaleTime:tie,scaleUtc:rie,tickFormat:SM},Symbol.toStringTag,{value:"Module"}));var mw,UO;function Dv(){if(UO)return mw;UO=1;var t=md();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,d=l}return d}return mw=e,mw}var gw,zO;function KM(){if(zO)return gw;zO=1;function t(e,r){return e>r}return gw=t,gw}var vw,WO;function iie(){if(WO)return vw;WO=1;var t=Dv(),e=KM(),r=yd();function n(a){return a&&a.length?t(a,r,e):void 0}return vw=n,vw}var sie=iie();const $v=hr(sie);var yw,HO;function XM(){if(HO)return yw;HO=1;function t(e,r){return e<r}return yw=t,yw}var xw,VO;function oie(){if(VO)return xw;VO=1;var t=Dv(),e=XM(),r=yd();function n(a){return a&&a.length?t(a,r,e):void 0}return xw=n,xw}var lie=oie();const Fv=hr(lie);var bw,GO;function cie(){if(GO)return bw;GO=1;var t=xj(),e=bs(),r=aM(),n=pa();function a(i,s){var l=n(i)?t:r;return l(i,e(s,3))}return bw=a,bw}var ww,YO;function uie(){if(YO)return ww;YO=1;var t=rM(),e=cie();function r(n,a){return t(e(n,a),1)}return ww=r,ww}var die=uie();const fie=hr(die);var _w,KO;function hie(){if(KO)return _w;KO=1;var t=Tj();function e(r,n){return t(r,n)}return _w=e,_w}var pie=hie();const Uh=hr(pie);var bd=1e9,mie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iN,Dr=!0,ii="[DecimalError] ",Kl=ii+"Invalid argument: ",aN=ii+"Exponent out of range: ",wd=Math.floor,Il=Math.pow,gie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oa,An=1e7,Er=7,ZM=9007199254740991,lg=wd(ZM/Er),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Er;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(t){return Qs(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,r=e.constructor;return yr(Qs(e,new r(t),0,1),r.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return cn(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Oa))throw Error(ii+"NaN");if(r.s<1)throw Error(ii+(r.s?"NaN":"-Infinity"));return r.eq(Oa)?new n(0):(Dr=!1,e=Qs(rh(r,i),rh(t,i),i),Dr=!0,yr(e,a))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eD(e,t):JM(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ii+"NaN");return r.s?(Dr=!1,e=Qs(r,t,0,1).times(t),Dr=!0,r.minus(e)):yr(new n(r),a)};Ve.naturalExponential=Ve.exp=function(){return QM(this)};Ve.naturalLogarithm=Ve.ln=function(){return rh(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JM(e,t):eD(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Kl+t);if(e=cn(a)+1,n=a.d.length-1,r=n*Er+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ve.squareRoot=Ve.sqrt=function(){var t,e,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ii+"NaN")}for(t=cn(l),Dr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=is(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=wd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Qs(l,i,s+2)).times(.5),is(i.d).slice(0,s)===(e=is(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(yr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;s+=4}return Dr=!0,yr(n,r)};Ve.times=Ve.mul=function(t){var e,r,n,a,i,s,l,c,u,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*p[a-n-1]+e,i[a--]=l%An|0,e=l/An|0;i[a]=(i[a]+e)%An|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Dr?yr(t,f.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ps(t,0,bd),e===void 0?e=n.rounding:ps(e,0,8),yr(r,t+cn(r)+1,e))};Ve.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ac(n,!0):(ps(t,0,bd),e===void 0?e=a.rounding:ps(e,0,8),n=yr(new a(n),t+1,e),r=ac(n,!0,t+1)),r};Ve.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ac(a):(ps(t,0,bd),e===void 0?e=i.rounding:ps(e,0,8),n=yr(new i(a),t+cn(a)+1,e),r=ac(n.abs(),!1,t+cn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return yr(new e(t),cn(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Oa);if(l=new c(l),!l.s){if(t.s<1)throw Error(ii+"Infinity");return l}if(l.eq(Oa))return l;if(n=c.precision,t.eq(Oa))return yr(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=l.s,s){if((r=d<0?-d:d)<=ZM){for(a=new c(Oa),e=Math.ceil(n/Er+4),Dr=!1;r%2&&(a=a.times(l),ZO(a.d,e)),r=wd(r/2),r!==0;)l=l.times(l),ZO(l.d,e);return Dr=!0,t.s<0?new c(Oa).div(a):yr(a,n)}}else if(i<0)throw Error(ii+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dr=!1,a=t.times(rh(l,n+u)),Dr=!0,a=QM(a),a.s=i,a};Ve.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=cn(a),n=ac(a,r<=i.toExpNeg||r>=i.toExpPos)):(ps(t,1,bd),e===void 0?e=i.rounding:ps(e,0,8),a=yr(new i(a),t,e),r=cn(a),n=ac(a,t<=r||r<=i.toExpNeg,t)),n};Ve.toSignificantDigits=Ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ps(t,1,bd),e===void 0?e=n.rounding:ps(e,0,8)),yr(new n(r),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),r=t.constructor;return ac(t,e<=r.toExpNeg||e>=r.toExpPos)};function JM(t,e){var r,n,a,i,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dr?yr(e,f):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Er),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/An|0,c[i]%=An;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Dr?yr(e,f):e}function ps(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Kl+t)}function is(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Er-n.length,r&&(i+=Mo(r)),i+=n;s=t[e],n=s+"",r=Er-n.length,r&&(i+=Mo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Qs=(function(){function t(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%An|0,s=i/An|0;return s&&n.unshift(s),n}function e(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*An+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,p,h,g,m,v,x,j,w,_,N,A,k,O,T=n.constructor,R=n.s==a.s?1:-1,P=n.d,I=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(ii+"Division by zero");for(c=n.e-a.e,k=I.length,N=P.length,h=new T(R),g=h.d=[],u=0;I[u]==(P[u]||0);)++u;if(I[u]>(P[u]||0)&&--c,i==null?j=i=T.precision:s?j=i+(cn(n)-cn(a))+1:j=i,j<0)return new T(0);if(j=j/Er+2|0,u=0,k==1)for(d=0,I=I[0],j++;(u<N||d)&&j--;u++)w=d*An+(P[u]||0),g[u]=w/I|0,d=w%I|0;else{for(d=An/(I[0]+1)|0,d>1&&(I=t(I,d),P=t(P,d),k=I.length,N=P.length),_=k,m=P.slice(0,k),v=m.length;v<k;)m[v++]=0;O=I.slice(),O.unshift(0),A=I[0],I[1]>=An/2&&++A;do d=0,l=e(I,m,k,v),l<0?(x=m[0],k!=v&&(x=x*An+(m[1]||0)),d=x/A|0,d>1?(d>=An&&(d=An-1),f=t(I,d),p=f.length,v=m.length,l=e(f,m,p,v),l==1&&(d--,r(f,k<p?O:I,p))):(d==0&&(l=d=1),f=I.slice()),p=f.length,p<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=e(I,m,k,v),l<1&&(d++,r(m,k<v?O:I,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=P[_]||0:(m=[P[_]],v=1);while((_++<N||m[0]!==void 0)&&j--)}return g[0]||g.shift(),h.e=c,yr(h,s?i+cn(h)+1:i)}})();function QM(t,e){var r,n,a,i,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(cn(t)>16)throw Error(aN+cn(t));if(!t.s)return new d(Oa);for(Dr=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Il(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Oa),d.precision=l;;){if(a=yr(a.times(t),l),r=r.times(++c),s=i.plus(Qs(a,r,l)),is(s.d).slice(0,l)===is(i.d).slice(0,l)){for(;u--;)i=yr(i.times(i),l);return d.precision=f,e==null?(Dr=!0,yr(i,f)):i}i=s}}function cn(t){for(var e=t.e*Er,r=t.d[0];r>=10;r/=10)e++;return e}function jw(t,e,r){if(e>t.LN10.sd())throw Dr=!0,r&&(t.precision=r),Error(ii+"LN10 precision limit exceeded");return yr(new t(t.LN10),e)}function Mo(t){for(var e="";t--;)e+="0";return e}function rh(t,e){var r,n,a,i,s,l,c,u,d,f=1,p=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(ii+(h.s?"NaN":"-Infinity"));if(h.eq(Oa))return new m(0);if(e==null?(Dr=!1,u=v):u=e,h.eq(10))return e==null&&(Dr=!0),jw(m,u);if(u+=p,m.precision=u,r=is(g),n=r.charAt(0),i=cn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=is(h.d),n=r.charAt(0),f++;i=cn(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return c=jw(m,u+2,v).times(i+""),h=rh(new m(n+"."+r.slice(1)),u-p).plus(c),m.precision=v,e==null?(Dr=!0,yr(h,v)):h;for(l=s=h=Qs(h.minus(Oa),h.plus(Oa),u),d=yr(h.times(h),u),a=3;;){if(s=yr(s.times(d),u),c=l.plus(Qs(s,new m(a),u)),is(c.d).slice(0,u)===is(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(jw(m,u+2,v).times(i+""))),l=Qs(l,new m(f),u),m.precision=v,e==null?(Dr=!0,yr(l,v)):l;l=c,a+=2}}function XO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=wd(r/Er),t.d=[],n=(r+1)%Er,r<0&&(n+=Er),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Er;n<a;)t.d.push(+e.slice(n,n+=Er));e=e.slice(n),n=Er-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Dr&&(t.e>lg||t.e<-lg))throw Error(aN+r)}else t.s=0,t.e=0,t.d=[0];return t}function yr(t,e,r){var n,a,i,s,l,c,u,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Er,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Er),i=f.length,d>=i)return t;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Er,a=n-Er+s}if(r!==void 0&&(i=Il(10,s-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Il(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=cn(t),f.length=1,e=e-i-1,f[0]=Il(10,(Er-e%Er)%Er),t.e=wd(-e/Er)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Il(10,Er-n),f[d]=a>0?(u/Il(10,s-a)%Il(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==An&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=An)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Dr&&(t.e>lg||t.e<-lg))throw Error(aN+cn(t));return t}function eD(t,e){var r,n,a,i,s,l,c,u,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Dr?yr(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Er),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=An-1;--c[i],c[a]+=An}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dr?yr(e,h):e):new p(0)}function ac(t,e,r){var n,a=cn(t),i=is(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Mo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Mo(-a-1)+i,r&&(n=r-s)>0&&(i+=Mo(n))):a>=s?(i+=Mo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Mo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Mo(n))),t.s<0?"-"+i:i}function ZO(t,e){if(t.length>e)return t.length=e,!0}function tD(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return XO(s,i.toString())}else if(typeof i!="string")throw Error(Kl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,gie.test(i))XO(s,i);else throw Error(Kl+i)}if(a.prototype=Ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tD,a.config=a.set=vie,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function vie(t){if(!t||typeof t!="object")throw Error(ii+"Object expected");var e,r,n,a=["precision",1,bd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(wd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Kl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kl+r+": "+n);return this}var iN=tD(mie);Oa=new iN(1);const mr=iN;function yie(t){return _ie(t)||wie(t)||bie(t)||xie()}function xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function wie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _ie(t){if(Array.isArray(t))return b5(t)}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jie=function(e){return e},rD={},nD=function(e){return e===rD},JO=function(e){return function r(){return arguments.length===0||arguments.length===1&&nD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Nie=function t(e,r){return e===1?r:JO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==rD}).length;return s>=e?r.apply(void 0,a):t(e-s,JO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return nD(f)?c.shift():f});return r.apply(void 0,yie(d).concat(c))}))})},Bv=function(e){return Nie(e.length,e)},w5=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Sie=Bv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Aie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return jie;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},_5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aD=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function kie(t){var e;return t===0?e=1:e=Math.floor(new mr(t).abs().log(10).toNumber())+1,e}function Pie(t,e,r){for(var n=new mr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Cie=Bv(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Oie=Bv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Eie=Bv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const qv={rangeStep:Pie,getDigitCount:kie,interpolateNumber:Cie,uninterpolateNumber:Oie,uninterpolateTruncation:Eie};function j5(t){return Rie(t)||Iie(t)||iD(t)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rie(t){if(Array.isArray(t))return N5(t)}function nh(t,e){return Die(t)||Mie(t,e)||iD(t,e)||Lie()}function Lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iD(t,e){if(t){if(typeof t=="string")return N5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(t,e)}}function N5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mie(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Die(t){if(Array.isArray(t))return t}function sD(t){var e=nh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function oD(t,e,r){if(t.lte(0))return new mr(0);var n=qv.getDigitCount(t.toNumber()),a=new mr(10).pow(n),i=t.div(a),s=n!==1?.05:.1,l=new mr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return e?c:new mr(Math.ceil(c))}function $ie(t,e,r){var n=1,a=new mr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new mr(10).pow(qv.getDigitCount(t)-1),a=new mr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new mr(Math.floor(t)))}else t===0?a=new mr(Math.floor((e-1)/2)):r||(a=new mr(Math.floor(t)));var s=Math.floor((e-1)/2),l=Aie(Sie(function(c){return a.add(new mr(c-s).mul(n)).toNumber()}),w5);return l(0,e)}function lD(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mr(0),tickMin:new mr(0),tickMax:new mr(0)};var i=oD(new mr(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new mr(0):(s=new mr(t).add(e).div(2),s=s.sub(new mr(s).mod(i)));var l=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new mr(e).sub(s).div(i).toNumber()),u=l+c+1;return u>r?lD(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:s.sub(new mr(l).mul(i)),tickMax:s.add(new mr(c).mul(i))})}function Fie(t){var e=nh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=sD([r,n]),c=nh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(j5(w5(0,a-1).map(function(){return 1/0}))):[].concat(j5(w5(0,a-1).map(function(){return-1/0})),[d]);return r>n?_5(f):f}if(u===d)return $ie(u,a,i);var p=lD(u,d,s,i),h=p.step,g=p.tickMin,m=p.tickMax,v=qv.rangeStep(g,m.add(new mr(.1).mul(h)),h);return r>n?_5(v):v}function Bie(t,e){var r=nh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=sD([n,a]),l=nh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=oD(new mr(u).sub(c).div(d-1),i,0),p=[].concat(j5(qv.rangeStep(new mr(c),new mr(u).sub(new mr(.99).mul(f)),f)),[u]);return n>a?_5(p):p}var qie=aD(Fie),Uie=aD(Bie),zie="Invariant failed";function ic(t,e){throw new Error(zie)}var Wie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cg.apply(this,arguments)}function Hie(t,e){return Kie(t)||Yie(t,e)||Gie(t,e)||Vie()}function Vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(t,e){if(t){if(typeof t=="string")return QO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(t,e)}}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Kie(t){if(Array.isArray(t))return t}function Xie(t,e){if(t==null)return{};var r=Zie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function ese(t,e,r){return e&&Qie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tse(t,e,r){return e=ug(e),rse(t,cD()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function rse(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nse(t)}function nse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function ase(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S5(t,e)}function S5(t,e){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S5(t,e)}function uD(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=ise(t,"string");return zu(e)=="symbol"?e:e+""}function ise(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zh=(function(t){function e(){return Jie(this,e),tse(this,e,arguments)}return ase(e,t),ese(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Xie(n,Wie),h=mt(p,!1);this.props.direction==="x"&&d.type!=="number"&&ic();var g=c.map(function(m){var v=u(m,l),x=v.x,j=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],A,k;if(Array.isArray(_)){var O=Hie(_,2);A=O[0],k=O[1]}else A=k=_;if(i==="vertical"){var T=d.scale,R=j+a,P=R+s,I=R-s,M=T(w-A),D=T(w+k);N.push({x1:D,y1:P,x2:D,y2:I}),N.push({x1:M,y1:R,x2:D,y2:R}),N.push({x1:M,y1:P,x2:M,y2:I})}else if(i==="horizontal"){var G=f.scale,F=x+a,q=F-s,B=F+s,X=G(w-A),J=G(w+k);N.push({x1:q,y1:J,x2:B,y2:J}),N.push({x1:F,y1:X,x2:F,y2:J}),N.push({x1:q,y1:X,x2:B,y2:X})}return K.createElement(Qt,cg({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},h),N.map(function(ie){return K.createElement("line",cg({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return K.createElement(Qt,{className:"recharts-errorBars"},g)}}])})(K.Component);uD(zh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uD(zh,"displayName","ErrorBar");function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){sse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sse(t,e,r){return e=ose(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ose(t){var e=lse(t,"string");return ah(e)=="symbol"?e:e+""}function lse(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fD=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=Aa(r,Gl);if(!s)return null;var l=Gl.defaultProps,c=l!==void 0?kl(kl({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?kl(kl({},p),f.props):{},g=h.dataKey,m=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:sN(f),value:m||g,payload:h}}),kl(kl(kl({},c),Gl.getWithHeight(s,a)),{},{payload:u,item:s})};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function tE(t){return fse(t)||dse(t)||use(t)||cse()}function cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(t,e){if(t){if(typeof t=="string")return A5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(t,e)}}function dse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fse(t){if(Array.isArray(t))return A5(t)}function A5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){Pu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pu(t,e,r){return e=hse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hse(t){var e=pse(t,"string");return ih(e)=="symbol"?e:e+""}function pse(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bn(t,e,r){return Tt(t)||Tt(e)?r:wn(e)?Ia(t,e,r):At(e)?e(t):r}function Ef(t,e,r,n){var a=fie(t,function(l){return bn(l,e)});if(r==="number"){var i=a.filter(function(l){return De(l)||parseFloat(l)});return i.length?[Fv(i),$v(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Tt(l)}):a;return s.map(function(l){return wn(l)||l instanceof Date?l:""})}var mse=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Qn(f-d)!==Qn(p-f)){var g=[];if(Qn(p-f)===Qn(c[1]-c[0])){h=p;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{h=d;var v=p+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=a[u].index;break}}else{var j=Math.min(d,p),w=Math.max(d,p);if(e>(j+f)/2&&e<=(w+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},sN=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},gse=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],m=g.items,v=g.cateAxisId,x=m.filter(function(k){return Js(k.type).indexOf("Bar")>=0});if(x&&x.length){var j=x[0].type.defaultProps,w=j!==void 0?Vr(Vr({},j),x[0].props):x[0].props,_=w.barSize,N=w[v];s[N]||(s[N]=[]);var A=Tt(_)?r:_;s[N].push({item:x[0],stackList:x.slice(1),barSize:Tt(A)?void 0:ea(A,n,0)})}}return s},vse=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=ea(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=a/c,g=s.reduce(function(_,N){return _+N.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(p=!0,h*=.9,g=c*h);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(_,N){var A={item:N.item,position:{offset:v.offset+v.size+u,size:p?h:N.barSize}},k=[].concat(tE(_),[A]);return v=k[k.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){k.push({item:O,position:v})}),k},f)}else{var x=ea(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var j=(a-2*x-(c-1)*u)/c;j>1&&(j>>=0);var w=l===+l?Math.min(j,l):j;d=s.reduce(function(_,N,A){var k=[].concat(tE(_),[{item:N.item,position:{offset:x+(j+u)*A+(j-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},f)}return d},yse=function(e,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=fD({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&De(e[h]))return Vr(Vr({},e),{},Pu({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&De(e[g]))return Vr(Vr({},e),{},Pu({},g,e[g]+(p||0)))}return e},xse=function(e,r,n){return Tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hD=function(e,r,n,a,i){var s=r.props.children,l=Ra(s,zh).filter(function(u){return xse(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=bn(d,n);if(Tt(f))return u;var p=Array.isArray(f)?[Fv(f),$v(f)]:[f,f],h=c.reduce(function(g,m){var v=bn(d,m,0),x=p[0]-Math.abs(Array.isArray(v)?v[0]:v),j=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(j,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},bse=function(e,r,n,a,i){var s=r.map(function(l){return hD(e,l,n,i,a)}).filter(function(l){return!Tt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},pD=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&hD(e,c,u,a)||Ef(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},mD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gD=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Ys=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Qn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Lh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Nw=new WeakMap,am=function(e,r){if(typeof r!="function")return e;Nw.has(e)||Nw.set(e,new WeakMap);var n=Nw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},vD=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,l=e.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Zf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:ag(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Of(),realScaleType:"point"}:i==="category"?{scale:Zf(),realScaleType:"band"}:{scale:ag(),realScaleType:"linear"};if(tc(a)){var c="scale".concat(Nv(a));return{scale:(qO[c]||Of)(),realScaleType:qO[c]?c:"point"}}return At(a)?{scale:a}:{scale:Of(),realScaleType:"point"}},nE=1e-4,yD=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-nE,s=Math.max(a[0],a[1])+nE,l=e(r[0]),c=e(r[n-1]);(l<i||l>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},wse=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},_se=function(e,r){if(!r||r.length!==2||!De(r[0])||!De(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(i[0]=n),(!De(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},jse=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Lh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},Nse=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Lh(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Sse={sign:jse,expand:fQ,none:Lu,silhouette:hQ,wiggle:pQ,positive:Nse},Ase=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Sse[n],s=dQ().keys(a).value(function(l,c){return+bn(l,c,0)}).order(r5).offset(i);return s(e)},kse=function(e,r,n,a,i,s){if(!e)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Vr(Vr({},p.type.defaultProps),p.props):p.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],j=f[x]||{hasStack:!1,stackGroups:{}};if(wn(m)){var w=j.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(p),j.hasStack=!0,j.stackGroups[m]=w}else j.stackGroups[vd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return Vr(Vr({},f),{},Pu({},x,j))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var x=h.stackGroups[v];return Vr(Vr({},m),{},Pu({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Ase(e,x.items,i)}))},g)}return Vr(Vr({},f),{},Pu({},p,h))},d)},xD=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=qie(u,i,l);return e.domain([Fv(d),$v(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),p=Uie(f,i,l);return{niceTicks:p}}return null};function aE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Tt(a[e.dataKey])){var l=Fm(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=bn(a,Tt(s)?e.dataKey:s);return Tt(c)?null:e.scale(c)}var iE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=bn(s,r.dataKey,r.domain[l]);return Tt(c)?null:r.scale(c)-i/2+a},Pse=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Cse=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(wn(i)){var s=r[i];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Ose=function(e){return e.reduce(function(r,n){return[Fv(n.concat([r[0]]).filter(De)),$v(n.concat([r[1]]).filter(De))]},[1/0,-1/0])},bD=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],l=s.stackedData,c=l.reduce(function(u,d){var f=Ose(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},sE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k5=function(e,r,n){if(At(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(De(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(sE.test(e[0])){var i=+sE.exec(e[0])[1];a[0]=r[0]-i}else At(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(De(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(oE.test(e[1])){var s=+oE.exec(e[1])[1];a[1]=r[1]+s}else At(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},dg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Rj(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},lE=function(e,r,n){return!e||!e.length||Uh(e,Ia(n,"type.defaultProps.domain"))?r:e},wD=function(e,r){var n=e.type.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Vr(Vr({},mt(e,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:sN(e),value:bn(r,a),type:c,payload:r,chartType:u,hide:d})};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function cE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(r),!0).forEach(function(n){_D(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _D(t,e,r){return e=Ese(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ese(t){var e=Tse(t,"string");return sh(e)=="symbol"?e:e+""}function Tse(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t,e){return Dse(t)||Mse(t,e)||Lse(t,e)||Rse()}function Rse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return uE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Dse(t){if(Array.isArray(t))return t}var fg=Math.PI/180,$se=function(e){return e*180/Math.PI},kr=function(e,r,n,a){return{x:e+Math.cos(-fg*a)*n,y:r+Math.sin(-fg*a)*n}},jD=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fse=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=ea(e.cx,s,s/2),f=ea(e.cy,l,l/2),p=jD(s,l,n),h=ea(e.innerRadius,p,0),g=ea(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(v,x){var j=r[x],w=j.domain,_=j.reversed,N;if(Tt(j.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[h,g]),_&&(N=[N[1],N[0]]);else{N=j.range;var A=N,k=Ise(A,2);c=k[0],u=k[1]}var O=vD(j,i),T=O.realScaleType,R=O.scale;R.domain(w).range(N),yD(R);var P=xD(R,zs(zs({},j),{},{realScaleType:T})),I=zs(zs(zs({},j),P),{},{range:N,radius:g,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return zs(zs({},v),{},_D({},x,I))},{})},Bse=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},qse=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,l=Bse({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:$se(u),angleInRadian:u}},Use=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},zse=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return e+l*360},dE=function(e,r){var n=e.x,a=e.y,i=qse({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Use(r),f=d.startAngle,p=d.endAngle,h=l,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?zs(zs({},r),{},{radius:s,angle:zse(h,r)}):null},ND=function(e){return!S.isValidElement(e)&&!At(e)&&typeof e!="boolean"?e.className:""};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var Wse=["offset"];function Hse(t){return Kse(t)||Yse(t)||Gse(t)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function Yse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kse(t){if(Array.isArray(t))return P5(t)}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xse(t,e){if(t==null)return{};var r=Zse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(r),!0).forEach(function(n){Jse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jse(t,e,r){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qse(t){var e=eoe(t,"string");return oh(e)=="symbol"?e:e+""}function eoe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}var toe=function(e){var r=e.value,n=e.formatter,a=Tt(e.children)?r:e.children;return At(n)?n(a):a},roe=function(e,r){var n=Qn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},noe=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+p)/2,x=roe(h,g),j=x>=0?1:-1,w,_;a==="insideStart"?(w=h+j*s,_=m):a==="insideEnd"?(w=g-j*s,_=!m):a==="end"&&(w=g+j*s,_=m),_=x<=0?_:!_;var N=kr(u,d,v,w),A=kr(u,d,v,w+(_?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),O=Tt(e.id)?vd("recharts-radial-line-"):e.id;return K.createElement("text",lh({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:O,d:k})),K.createElement("textPath",{xlinkHref:"#".concat(O)},r))},aoe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=kr(s,l,u+n,p),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=kr(s,l,v,p),j=x.x,w=x.y;return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ioe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",j=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return vn(vn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return vn(vn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return vn(vn({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:l+u+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return vn(vn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?vn({x:l+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideRight"?vn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideTop"?vn({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?vn({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?vn({x:l+v,y:c+p,textAnchor:j,verticalAnchor:g},k):i==="insideTopRight"?vn({x:l+u-v,y:c+p,textAnchor:x,verticalAnchor:g},k):i==="insideBottomLeft"?vn({x:l+v,y:c+d-p,textAnchor:j,verticalAnchor:h},k):i==="insideBottomRight"?vn({x:l+u-v,y:c+d-p,textAnchor:x,verticalAnchor:h},k):gd(i)&&(De(i.x)||Bl(i.x))&&(De(i.y)||Bl(i.y))?vn({x:l+ea(i.x,u),y:c+ea(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):vn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},soe=function(e){return"cx"in e&&De(e.cx)};function Pn(t){var e=t.offset,r=e===void 0?5:e,n=Xse(t,Wse),a=vn({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||Tt(l)&&Tt(c)&&!S.isValidElement(u)&&!At(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var h;if(At(u)){if(h=S.createElement(u,a),S.isValidElement(h))return h}else h=toe(a);var g=soe(i),m=mt(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return noe(a,h,m);var v=g?aoe(a):ioe(a);return K.createElement(nc,lh({className:Rt("recharts-label",f)},m,v,{breakAll:p}),h)}Pn.displayName="Label";var SD=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,j=e.labelViewBox;if(j)return j;if(De(m)&&De(v)){if(De(f)&&De(p))return{x:f,y:p,width:m,height:v};if(De(h)&&De(g))return{x:h,y:g,width:m,height:v}}return De(f)&&De(p)?{x:f,y:p,width:0,height:0}:De(r)&&De(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},ooe=function(e,r){return e?e===!0?K.createElement(Pn,{key:"label-implicit",viewBox:r}):wn(e)?K.createElement(Pn,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===Pn?S.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Pn,{key:"label-implicit",content:e,viewBox:r}):At(e)?K.createElement(Pn,{key:"label-implicit",content:e,viewBox:r}):gd(e)?K.createElement(Pn,lh({viewBox:r},e,{key:"label-implicit"})):null:null},loe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=SD(e),s=Ra(a,Pn).map(function(c,u){return S.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=ooe(e.label,r||i);return[l].concat(Hse(s))};Pn.parseViewBox=SD;Pn.renderCallByParent=loe;var Sw,hE;function coe(){if(hE)return Sw;hE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Sw=t,Sw}var uoe=coe();const doe=hr(uoe);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}var foe=["valueAccessor"],hoe=["data","dataKey","clockWise","id","textBreakAll"];function poe(t){return yoe(t)||voe(t)||goe(t)||moe()}function moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function goe(t,e){if(t){if(typeof t=="string")return C5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C5(t,e)}}function voe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yoe(t){if(Array.isArray(t))return C5(t)}function C5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hg.apply(this,arguments)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){xoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xoe(t,e,r){return e=boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function boe(t){var e=woe(t,"string");return ch(e)=="symbol"?e:e+""}function woe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gE(t,e){if(t==null)return{};var r=_oe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _oe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var joe=function(e){return Array.isArray(e.value)?doe(e.value):e.value};function eo(t){var e=t.valueAccessor,r=e===void 0?joe:e,n=gE(t,foe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=gE(n,hoe);return!a||!a.length?null:K.createElement(Qt,{className:"recharts-label-list"},a.map(function(d,f){var p=Tt(i)?r(d,f):bn(d&&d.payload,i),h=Tt(l)?{}:{id:"".concat(l,"-").concat(f)};return K.createElement(Pn,hg({},mt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Pn.parseViewBox(Tt(s)?d:mE(mE({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}eo.displayName="LabelList";function Noe(t,e){return t?t===!0?K.createElement(eo,{key:"labelList-implicit",data:e}):K.isValidElement(t)||At(t)?K.createElement(eo,{key:"labelList-implicit",data:e,content:t}):gd(t)?K.createElement(eo,hg({data:e},t,{key:"labelList-implicit"})):null:null}function Soe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ra(n,eo).map(function(s,l){return S.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=Noe(t.label,e);return[i].concat(poe(a))}eo.renderCallByParent=Soe;function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function O5(){return O5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O5.apply(this,arguments)}function vE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(r),!0).forEach(function(n){Aoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aoe(t,e,r){return e=koe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function koe(t){var e=Poe(t,"string");return uh(e)=="symbol"?e:e+""}function Poe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Coe=function(e,r){var n=Qn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},im=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/fg,p=u?i:i+s*f,h=kr(r,n,d,p),g=kr(r,n,a,p),m=u?i-s*f:i,v=kr(r,n,d*Math.cos(f*fg),m);return{center:h,circleTangency:g,lineTangency:v,theta:f}},AD=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=Coe(s,l),u=s+c,d=kr(r,n,i,s),f=kr(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=kr(r,n,a,s),g=kr(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Ooe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Qn(d-u),p=im({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),h=p.circleTangency,g=p.lineTangency,m=p.theta,v=im({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,j=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var A=im({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=A.circleTangency,O=A.lineTangency,T=A.theta,R=im({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=R.circleTangency,I=R.lineTangency,M=R.theta,D=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(D<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Eoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kD=function(e){var r=yE(yE({},Eoe),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<i||d===f)return null;var h=Rt("recharts-sector",p),g=s-i,m=ea(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=Ooe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=AD({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),K.createElement("path",O5({},mt(r,!0),{className:h,d:v,role:"img"}))};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function E5(){return E5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E5.apply(this,arguments)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){Toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Toe(t,e,r){return e=Ioe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ioe(t){var e=Roe(t,"string");return dh(e)=="symbol"?e:e+""}function Roe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wE={curveBasisClosed:eQ,curveBasisOpen:tQ,curveBasis:QJ,curveBumpX:FJ,curveBumpY:BJ,curveLinearClosed:rQ,curveLinear:Av,curveMonotoneX:nQ,curveMonotoneY:aQ,curveNatural:iQ,curveStep:sQ,curveStepAfter:lQ,curveStepBefore:oQ},sm=function(e){return e.x===+e.x&&e.y===+e.y},df=function(e){return e.x},ff=function(e){return e.y},Loe=function(e,r){if(At(e))return e;var n="curve".concat(Nv(e));return(n==="curveMonotone"||n==="curveBump")&&r?wE["".concat(n).concat(r==="vertical"?"Y":"X")]:wE[n]||Av},Moe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Loe(n,l),f=u?i.filter(function(m){return sm(m)}):i,p;if(Array.isArray(s)){var h=u?s.filter(function(m){return sm(m)}):s,g=f.map(function(m,v){return bE(bE({},m),{},{base:h[v]})});return l==="vertical"?p=Zp().y(ff).x1(df).x0(function(m){return m.base.x}):p=Zp().x(df).y1(ff).y0(function(m){return m.base.y}),p.defined(sm).curve(d),p(g)}return l==="vertical"&&De(s)?p=Zp().y(ff).x1(df).x0(s):De(s)?p=Zp().x(df).y1(ff).y0(s):p=SL().x(df).y(ff),p.defined(sm).curve(d),p(f)},pg=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Moe(e):a;return S.createElement("path",E5({},mt(e,!1),Bm(e),{className:Rt("recharts-curve",r),d:s,ref:i}))},Aw={exports:{}},kw,_E;function Doe(){if(_E)return kw;_E=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kw=t,kw}var Pw,jE;function $oe(){if(jE)return Pw;jE=1;var t=Doe();function e(){}function r(){}return r.resetWarningCache=e,Pw=function(){function n(s,l,c,u,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Pw}var NE;function Foe(){return NE||(NE=1,Aw.exports=$oe()()),Aw.exports}var Boe=Foe();const sr=hr(Boe);var qoe=Object.getOwnPropertyNames,Uoe=Object.getOwnPropertySymbols,zoe=Object.prototype.hasOwnProperty;function SE(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function om(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function AE(t){return qoe(t).concat(Uoe(t))}var Woe=Object.hasOwn||(function(t,e){return zoe.call(t,e)});function xc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Hoe="__v",Voe="__o",Goe="_owner",kE=Object.getOwnPropertyDescriptor,PE=Object.keys;function Yoe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Koe(t,e){return xc(t.getTime(),e.getTime())}function Xoe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Zoe(t,e){return t===e}function CE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var p=s.value,h=l.value;if(r.equals(p[0],h[0],c,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Joe=xc;function Qoe(t,e,r){var n=PE(t),a=n.length;if(PE(e).length!==a)return!1;for(;a-- >0;)if(!PD(t,e,r,n[a]))return!1;return!0}function hf(t,e,r){var n=AE(t),a=n.length;if(AE(e).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!PD(t,e,r,i)||(s=kE(t,i),l=kE(e,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function ele(t,e){return xc(t.valueOf(),e.valueOf())}function tle(t,e){return t.source===e.source&&t.flags===e.flags}function OE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,l;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function rle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function nle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PD(t,e,r,n){return(n===Goe||n===Voe||n===Hoe)&&(t.$$typeof||e.$$typeof)?!0:Woe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ale="[object Arguments]",ile="[object Boolean]",sle="[object Date]",ole="[object Error]",lle="[object Map]",cle="[object Number]",ule="[object Object]",dle="[object RegExp]",fle="[object Set]",hle="[object String]",ple="[object URL]",mle=Array.isArray,EE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TE=Object.assign,gle=Object.prototype.toString.call.bind(Object.prototype.toString);function vle(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?s(g,m,v):x==="function"?a(g,m,v):!1;var j=g.constructor;if(j!==m.constructor)return!1;if(j===Object)return l(g,m,v);if(mle(g))return e(g,m,v);if(EE!=null&&EE(g))return f(g,m,v);if(j===Date)return r(g,m,v);if(j===RegExp)return u(g,m,v);if(j===Map)return i(g,m,v);if(j===Set)return d(g,m,v);var w=gle(g);return w===sle?r(g,m,v):w===dle?u(g,m,v):w===lle?i(g,m,v):w===fle?d(g,m,v):w===ule?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):w===ple?p(g,m,v):w===ole?n(g,m,v):w===ale?l(g,m,v):w===ile||w===cle||w===hle?c(g,m,v):!1}}function yle(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?hf:Yoe,areDatesEqual:Koe,areErrorsEqual:Xoe,areFunctionsEqual:Zoe,areMapsEqual:n?SE(CE,hf):CE,areNumbersEqual:Joe,areObjectsEqual:n?hf:Qoe,arePrimitiveWrappersEqual:ele,areRegExpsEqual:tle,areSetsEqual:n?SE(OE,hf):OE,areTypedArraysEqual:n?hf:rle,areUrlsEqual:nle};if(r&&(a=TE({},a,r(a))),e){var i=om(a.areArraysEqual),s=om(a.areMapsEqual),l=om(a.areObjectsEqual),c=om(a.areSetsEqual);a=TE({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function xle(t){return function(e,r,n,a,i,s,l){return t(e,r,l)}}function ble(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var wle=nl();nl({strict:!0});nl({circular:!0});nl({circular:!0,strict:!0});nl({createInternalComparator:function(){return xc}});nl({strict:!0,createInternalComparator:function(){return xc}});nl({circular:!0,createInternalComparator:function(){return xc}});nl({circular:!0,createInternalComparator:function(){return xc},strict:!0});function nl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,l=yle(t),c=vle(l),u=n?n(c):xle(c);return ble({circular:r,comparator:c,createState:a,equals:u,strict:s})}function _le(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):_le(a)};requestAnimationFrame(n)}function T5(t){"@babel/helpers - typeof";return T5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T5(t)}function jle(t){return kle(t)||Ale(t)||Sle(t)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(t,e){if(t){if(typeof t=="string")return RE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(t,e)}}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kle(t){if(Array.isArray(t))return t}function Ple(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=jle(s),c=l[0],u=l.slice(1);if(typeof c=="number"){IE(a.bind(null,u),c);return}a(c),IE(a.bind(null,u));return}T5(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){CD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CD(t,e,r){return e=Cle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cle(t){var e=Ole(t,"string");return fh(e)==="symbol"?e:String(e)}function Ole(t,e){if(fh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Tle=function(e){return e},Ile=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Tf=function(e,r){return Object.keys(r).reduce(function(n,a){return ME(ME({},n),{},CD({},a,e(a,r[a])))},{})},DE=function(e,r,n){return e.map(function(a){return"".concat(Ile(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Rle(t,e){return Dle(t)||Mle(t,e)||OD(t,e)||Lle()}function Lle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Dle(t){if(Array.isArray(t))return t}function $le(t){return qle(t)||Ble(t)||OD(t)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OD(t,e){if(t){if(typeof t=="string")return I5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(t,e)}}function Ble(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qle(t){if(Array.isArray(t))return I5(t)}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mg=1e-4,ED=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},TD=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},$E=function(e,r){return function(n){var a=ED(e,r);return TD(a,n)}},Ule=function(e,r){return function(n){var a=ED(e,r),i=[].concat($le(a.map(function(s,l){return s*l}).slice(1)),[0]);return TD(i,n)}},FE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Rle(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=$E(a,s),p=$E(i,l),h=Ule(a,s),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var j=x>1?1:x,w=j,_=0;_<8;++_){var N=f(w)-j,A=h(w);if(Math.abs(N-j)<mg||A<mg)return p(w);w=g(w-N/A)}return p(w)};return m.isStepper=!1,m},zle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,l=s===void 0?17:s,c=function(d,f,p){var h=-(d-f)*n,g=p*i,m=p+(h-g)*l/1e3,v=p*l/1e3+d;return Math.abs(v-f)<mg&&Math.abs(m)<mg?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},Wle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FE(a);case"spring":return zle();default:if(a.split("(")[0]==="cubic-bezier")return FE(a)}return typeof a=="function"?a:null};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function BE(t){return Gle(t)||Vle(t)||ID(t)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gle(t){if(Array.isArray(t))return L5(t)}function qE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(r),!0).forEach(function(n){R5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R5(t,e,r){return e=Yle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yle(t){var e=Kle(t,"string");return hh(e)==="symbol"?e:String(e)}function Kle(t,e){if(hh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xle(t,e){return Qle(t)||Jle(t,e)||ID(t,e)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ID(t,e){if(t){if(typeof t=="string")return L5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L5(t,e)}}function L5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Qle(t){if(Array.isArray(t))return t}var gg=function(e,r,n){return e+(r-e)*n},M5=function(e){var r=e.from,n=e.to;return r!==n},ece=function t(e,r,n){var a=Tf(function(i,s){if(M5(s)){var l=e(s.from,s.to,s.velocity),c=Xle(l,2),u=c[0],d=c[1];return Ln(Ln({},s),{},{from:u,velocity:d})}return s},r);return n<1?Tf(function(i,s){return M5(s)?Ln(Ln({},s),{},{velocity:gg(s.velocity,a[i].velocity,n),from:gg(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const tce=(function(t,e,r,n,a){var i=Ele(t,e),s=i.reduce(function(v,x){return Ln(Ln({},v),{},R5({},x,[t[x],e[x]]))},{}),l=i.reduce(function(v,x){return Ln(Ln({},v),{},R5({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Tf(function(x,j){return j.from},l)},h=function(){return!Object.values(l).filter(M5).length},g=function(x){u||(u=x);var j=x-u,w=j/r.dt;l=ece(r,l,w),a(Ln(Ln(Ln({},t),e),p())),u=x,h()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var j=(x-d)/n,w=Tf(function(N,A){return gg.apply(void 0,BE(A).concat([r(j)]))},s);if(a(Ln(Ln(Ln({},t),e),w)),j<1)c=requestAnimationFrame(f);else{var _=Tf(function(N,A){return gg.apply(void 0,BE(A).concat([r(1)]))},s);a(Ln(Ln(Ln({},t),e),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}var rce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nce(t,e){if(t==null)return{};var r=ace(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ace(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Cw(t){return lce(t)||oce(t)||sce(t)||ice()}function ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sce(t,e){if(t){if(typeof t=="string")return D5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D5(t,e)}}function oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lce(t){if(Array.isArray(t))return D5(t)}function D5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(r),!0).forEach(function(n){wf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wf(t,e,r){return e=RD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RD(n.key),n)}}function dce(t,e,r){return e&&uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RD(t){var e=fce(t,"string");return Wu(e)==="symbol"?e:String(e)}function fce(t,e){if(Wu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$5(t,e)}function $5(t,e){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$5(t,e)}function pce(t){var e=mce();return function(){var n=vg(t),a;if(e){var i=vg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return F5(this,a)}}function F5(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B5(t)}function B5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vg(t)}var ms=(function(t){hce(r,t);var e=pce(r);function r(n,a){var i;cce(this,r),i=e.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,p=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(B5(i)),i.changeStyle=i.changeStyle.bind(B5(i)),!l||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),F5(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},F5(i);i.state={style:c?wf({},c,u):u}}else i.state={style:{}};return i}return dce(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(l){if(!s){var h={style:c?wf({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(wle(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&p){var v={style:c?wf({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(v)}this.runAnimation(vi(vi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=tce(s,l,Wle(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,v,x){if(x===0)return m;var j=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,A=v.properties,k=v.onAnimationEnd,O=x>0?s[x-1]:v,T=A||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(Cw(m),[i.runJSAnimation.bind(i,{from:O.style,to:N,duration:j,easing:_}),j]);var R=DE(T,j,_),P=vi(vi(vi({},O.style),N),{},{transition:R});return[].concat(Cw(m),[P,j,k]).filter(Tle)};return this.manager.start([c].concat(Cw(s.reduce(h,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ple());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=l?wf({},l,c):c,v=DE(Object.keys(m),s,u);g.start([d,i,vi(vi({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nce(a,rce),u=S.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,x=g.className,j=S.cloneElement(h,vi(vi({},c),{},{style:vi(vi({},v),d),className:x}));return j};return u===1?f(S.Children.only(i)):K.createElement("div",null,S.Children.map(i,function(p){return f(p)}))}}]),r})(S.PureComponent);ms.displayName="Animate";ms.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ms.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yg.apply(this,arguments)}function gce(t,e){return bce(t)||xce(t,e)||yce(t,e)||vce()}function vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(t,e){if(t){if(typeof t=="string")return zE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zE(t,e)}}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function bce(t){if(Array.isArray(t))return t}function WE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(r),!0).forEach(function(n){wce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wce(t,e,r){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ce(t){var e=jce(t,"string");return ph(e)=="symbol"?e:e+""}function jce(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VE=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>s?s:i[p];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Nce=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),p=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},Sce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oN=function(e){var r=HE(HE({},Sce),e),n=S.useRef(),a=S.useState(-1),i=gce(a,2),s=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Rt("recharts-rectangle",h);return j?K.createElement(ms,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:j},function(_){var N=_.width,A=_.height,k=_.x,O=_.y;return K.createElement(ms,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},K.createElement("path",yg({},mt(r,!0),{className:w,d:VE(k,O,N,A,p),ref:n})))}):K.createElement("path",yg({},mt(r,!0),{className:w,d:VE(c,u,d,f,p)}))},Ace=["points","className","baseLinePoints","connectNulls"];function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}function kce(t,e){if(t==null)return{};var r=Pce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GE(t){return Tce(t)||Ece(t)||Oce(t)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(t,e){if(t){if(typeof t=="string")return q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q5(t,e)}}function Ece(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tce(t){if(Array.isArray(t))return q5(t)}function q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var YE=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ice=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){YE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},If=function(e,r){var n=Ice(e);r&&(n=[n.reduce(function(i,s){return[].concat(GE(i),GE(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Rce=function(e,r,n){var a=If(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(If(r.reverse(),n).slice(1))},Lce=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=kce(e,Ace);if(!r||!r.length)return null;var l=Rt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Rce(r,a,i);return K.createElement("g",{className:l},K.createElement("path",gu({},mt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?K.createElement("path",gu({},mt(s,!0),{fill:"none",d:If(r,i)})):null,c?K.createElement("path",gu({},mt(s,!0),{fill:"none",d:If(a,i)})):null)}var d=If(r,i);return K.createElement("path",gu({},mt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function U5(){return U5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U5.apply(this,arguments)}var Uv=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Rt("recharts-dot",i);return r===+r&&n===+n&&a===+a?S.createElement("circle",U5({},mt(e,!1),Bm(e),{className:s,cx:r,cy:n,r:a})):null};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}var Mce=["x","y","top","left","width","height","className"];function z5(){return z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z5.apply(this,arguments)}function KE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(r),!0).forEach(function(n){$ce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ce(t,e,r){return e=Fce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fce(t){var e=Bce(t,"string");return mh(e)=="symbol"?e:e+""}function Bce(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qce(t,e){if(t==null)return{};var r=Uce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zce=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Wce=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,g=e.className,m=qce(e,Mce),v=Dce({x:n,y:i,top:l,left:u,width:f,height:h},m);return!De(n)||!De(i)||!De(f)||!De(h)||!De(l)||!De(u)?null:K.createElement("path",z5({},mt(v,!0),{className:Rt("recharts-cross",g),d:zce(n,i,f,h,l,u)}))},Ow,XE;function Hce(){if(XE)return Ow;XE=1;var t=Dv(),e=KM(),r=bs();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Ow=n,Ow}var Vce=Hce();const Gce=hr(Vce);var Ew,ZE;function Yce(){if(ZE)return Ew;ZE=1;var t=Dv(),e=bs(),r=XM();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Ew=n,Ew}var Kce=Yce();const Xce=hr(Kce);var Zce=["cx","cy","angle","ticks","axisLine"],Jce=["ticks","tick","angle","tickFormatter","stroke"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rf.apply(this,arguments)}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){zv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QE(t,e){if(t==null)return{};var r=Qce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MD(n.key),n)}}function tue(t,e,r){return e&&e6(t.prototype,e),r&&e6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rue(t,e,r){return e=xg(e),nue(t,LD()?Reflect.construct(e,r||[],xg(t).constructor):e.apply(t,r))}function nue(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(t)}function aue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LD=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(t)}function iue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W5(t,e)}function W5(t,e){return W5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W5(t,e)}function zv(t,e,r){return e=MD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MD(t){var e=sue(t,"string");return Hu(e)=="symbol"?e:e+""}function sue(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wv=(function(t){function e(){return eue(this,e),rue(this,e,arguments)}return iue(e,t),tue(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return kr(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=Gce(l,function(d){return d.coordinate||0}),u=Xce(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=QE(n,Zce),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=kr(a,i,d[0],s),p=kr(a,i,d[1],s),h=Pl(Pl(Pl({},mt(u,!1)),{},{fill:"none"},mt(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return K.createElement("line",Rf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=QE(a,Jce),f=this.getTickTextAnchor(),p=mt(d,!1),h=mt(s,!1),g=i.map(function(m,v){var x=n.getTickValueCoord(m),j=Pl(Pl(Pl(Pl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:m});return K.createElement(Qt,Rf({className:Rt("recharts-polar-radius-axis-tick",ND(s)),key:"tick-".concat(m.coordinate)},rc(n.props,m,v)),e.renderTickItem(s,j,c?c(m.value,v):m.value))});return K.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:K.createElement(Qt,{className:Rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):At(n)?s=n(a):s=K.createElement(nc,Rf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(S.PureComponent);zv(Wv,"displayName","PolarRadiusAxis");zv(Wv,"axisType","radiusAxis");zv(Wv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$l.apply(this,arguments)}function t6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(r),!0).forEach(function(n){Hv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$D(n.key),n)}}function lue(t,e,r){return e&&r6(t.prototype,e),r&&r6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cue(t,e,r){return e=bg(e),uue(t,DD()?Reflect.construct(e,r||[],bg(t).constructor):e.apply(t,r))}function uue(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return due(t)}function due(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}function fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H5(t,e)}function H5(t,e){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H5(t,e)}function Hv(t,e,r){return e=$D(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $D(t){var e=hue(t,"string");return Vu(e)=="symbol"?e:e+""}function hue(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pue=Math.PI/180,n6=1e-5,Vv=(function(t){function e(){return oue(this,e),cue(this,e,arguments)}return fue(e,t),lue(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=kr(i,s,l,n.coordinate),p=kr(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*pue),s;return i>n6?s=a==="outer"?"start":"end":i<-n6?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Cl(Cl({},mt(this.props,!1)),{},{fill:"none"},mt(l,!1));if(c==="circle")return K.createElement(Uv,$l({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(p){return kr(a,i,s,p.coordinate)});return K.createElement(Lce,$l({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=mt(this.props,!1),f=mt(s,!1),p=Cl(Cl({},d),{},{fill:"none"},mt(l,!1)),h=i.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),j=Cl(Cl(Cl({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return K.createElement(Qt,$l({className:Rt("recharts-polar-angle-axis-tick",ND(s)),key:"tick-".concat(g.coordinate)},rc(n.props,g,m)),l&&K.createElement("line",$l({className:"recharts-polar-angle-axis-tick-line"},p,v)),s&&e.renderTickItem(s,j,c?c(g.value,m):g.value))});return K.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:K.createElement(Qt,{className:Rt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):At(n)?s=n(a):s=K.createElement(nc,$l({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(S.PureComponent);Hv(Vv,"displayName","PolarAngleAxis");Hv(Vv,"axisType","angleAxis");Hv(Vv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Tw,a6;function mue(){if(a6)return Tw;a6=1;var t=YL(),e=t(Object.getPrototypeOf,Object);return Tw=e,Tw}var Iw,i6;function gue(){if(i6)return Iw;i6=1;var t=co(),e=mue(),r=uo(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,l=i.hasOwnProperty,c=s.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==c}return Iw=u,Iw}var vue=gue();const yue=hr(vue);var Rw,s6;function xue(){if(s6)return Rw;s6=1;var t=co(),e=uo(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Rw=n,Rw}var bue=xue();const wue=hr(bue);function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wg.apply(this,arguments)}function _ue(t,e){return Aue(t)||Sue(t,e)||Nue(t,e)||jue()}function jue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nue(t,e){if(t){if(typeof t=="string")return o6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o6(t,e)}}function o6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Aue(t){if(Array.isArray(t))return t}function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function c6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kue(t,e,r){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Cue(t,"string");return gh(e)=="symbol"?e:e+""}function Cue(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u6=function(e,r,n,a,i){var s=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+i),l+="L ".concat(e+n-s/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},Oue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eue=function(e){var r=c6(c6({},Oue),e),n=S.useRef(),a=S.useState(-1),i=_ue(a,2),s=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var j=Rt("recharts-trapezoid",h);return x?K.createElement(ms,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(w){var _=w.upperWidth,N=w.lowerWidth,A=w.height,k=w.x,O=w.y;return K.createElement(ms,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},K.createElement("path",wg({},mt(r,!0),{className:j,d:u6(k,O,_,N,A),ref:n})))}):K.createElement("g",null,K.createElement("path",wg({},mt(r,!0),{className:j,d:u6(c,u,d,f,p)})))},Tue=["option","shapeType","propTransformer","activeClassName","isActive"];function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function Iue(t,e){if(t==null)return{};var r=Rue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(r),!0).forEach(function(n){Lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lue(t,e,r){return e=Mue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mue(t){var e=Due(t,"string");return vh(e)=="symbol"?e:e+""}function Due(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ue(t,e){return _g(_g({},e),t)}function Fue(t,e){return t==="symbols"}function f6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(oN,r);case"trapezoid":return K.createElement(Eue,r);case"sector":return K.createElement(kD,r);case"symbols":if(Fue(e))return K.createElement(Aj,r);break;default:return null}}function Bue(t){return S.isValidElement(t)?t.props:t}function FD(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?$ue:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Iue(t,Tue),u;if(S.isValidElement(e))u=S.cloneElement(e,_g(_g({},c),Bue(e)));else if(At(e))u=e(c);else if(yue(e)&&!wue(e)){var d=a(e,c);u=K.createElement(f6,{shapeType:r,elementProps:d})}else{var f=c;u=K.createElement(f6,{shapeType:r,elementProps:f})}return l?K.createElement(Qt,{className:s},u):u}function Gv(t,e){return e!=null&&"trapezoids"in t.props}function Yv(t,e){return e!=null&&"sectors"in t.props}function yh(t,e){return e!=null&&"points"in t.props}function que(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function Uue(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zue(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Wue(t,e){var r;return Gv(t,e)?r=que:Yv(t,e)?r=Uue:yh(t,e)&&(r=zue),r}function Hue(t,e){var r;return Gv(t,e)?r="trapezoids":Yv(t,e)?r="sectors":yh(t,e)&&(r="points"),r}function Vue(t,e){if(Gv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yh(t,e)?e.payload:{}}function Gue(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Hue(r,e),i=Vue(r,e),s=n.filter(function(c,u){var d=Uh(i,c),f=r.props[a].filter(function(g){var m=Wue(r,e);return m(g,e)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),l=n.indexOf(s[s.length-1]);return l}var Sm;function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vu.apply(this,arguments)}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){Xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qD(n.key),n)}}function Kue(t,e,r){return e&&p6(t.prototype,e),r&&p6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xue(t,e,r){return e=jg(e),Zue(t,BD()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function Zue(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jue(t)}function Jue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V5(t,e)}function V5(t,e){return V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V5(t,e)}function Xa(t,e,r){return e=qD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qD(t){var e=ede(t,"string");return Gu(e)=="symbol"?e:e+""}function ede(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ws=(function(t){function e(r){var n;return Yue(this,e),n=Xue(this,e,[r]),Xa(n,"pieRef",null),Xa(n,"sectorRefs",[]),Xa(n,"id",vd("recharts-pie-")),Xa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),At(a)&&a()}),Xa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),At(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Que(e,t),Kue(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=mt(this.props,!1),f=mt(s,!1),p=mt(l,!1),h=s&&s.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,j=kr(m.cx,m.cy,m.outerRadius+h,x),w=Sr(Sr(Sr(Sr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(j.x,m.cx)},j),_=Sr(Sr(Sr(Sr({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:v,points:[kr(m.cx,m.cy,m.outerRadius,x),j]}),N=c;return Tt(c)&&Tt(u)?N="value":Tt(c)&&(N=u),K.createElement(Qt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,_,"line"),e.renderLabelItem(s,w,bn(m,N)))});return K.createElement(Qt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?s:p,g=Sr(Sr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return K.createElement(Qt,vu({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},rc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),K.createElement(FD,vu({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return K.createElement(ms,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=i&&i[0],j=x.startAngle;return i.forEach(function(w,_){var N=p&&p[_],A=_>0?Ia(w,"paddingAngle",0):0;if(N){var k=Pa(N.endAngle-N.startAngle,w.endAngle-w.startAngle),O=Sr(Sr({},w),{},{startAngle:j+A,endAngle:j+k(m)+A});v.push(O),j=O.endAngle}else{var T=w.endAngle,R=w.startAngle,P=Pa(0,T-R),I=P(m),M=Sr(Sr({},w),{},{startAngle:j+A,endAngle:j+I+A});v.push(M),j=M.endAngle}}),K.createElement(Qt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Uh(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!De(u)||!De(d)||!De(f)||!De(p))return null;var m=Rt("recharts-pie",l);return K.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(s),Pn.renderCallByParent(this.props,null,!1),(!h||g)&&eo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);if(At(n))return n(a);var s=Rt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(pg,vu({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);var s=i;if(At(n)&&(s=n(a),K.isValidElement(s)))return s;var l=Rt("recharts-pie-label-text",typeof n!="boolean"&&!At(n)?n.className:"");return K.createElement(nc,vu({},a,{alignmentBaseline:"middle",className:l}),s)}}])})(S.PureComponent);Sm=ws;Xa(ws,"displayName","Pie");Xa(ws,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xa(ws,"parseDeltaAngle",function(t,e){var r=Qn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Xa(ws,"getRealPieData",function(t){var e=t.data,r=t.children,n=mt(t,!1),a=Ra(r,Dh);return e&&e.length?e.map(function(i,s){return Sr(Sr(Sr({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Sr(Sr({},n),i.props)}):[]});Xa(ws,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=jD(a,i),l=n+ea(t.cx,a,a/2),c=r+ea(t.cy,i,i/2),u=ea(t.innerRadius,s,0),d=ea(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Xa(ws,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Sr(Sr({},e.type.defaultProps),e.props):e.props,a=Sm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=Sm.parseCoordinateOfPie(n,r),m=Sm.parseDeltaAngle(s,l),v=Math.abs(m),x=u;Tt(u)&&Tt(f)?(Pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Tt(u)&&(Pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var j=a.filter(function(O){return bn(O,x,0)!==0}).length,w=(v>=360?j:j-1)*c,_=v-j*h-w,N=a.reduce(function(O,T){var R=bn(T,x,0);return O+(De(R)?R:0)},0),A;if(N>0){var k;A=a.map(function(O,T){var R=bn(O,x,0),P=bn(O,d,T),I=(De(R)?R:0)/N,M;T?M=k.endAngle+Qn(m)*c*(R!==0?1:0):M=s;var D=M+Qn(m)*((R!==0?h:0)+I*_),G=(M+D)/2,F=(g.innerRadius+g.outerRadius)/2,q=[{name:P,value:R,payload:O,dataKey:x,type:p}],B=kr(g.cx,g.cy,F,G);return k=Sr(Sr(Sr({percent:I,cornerRadius:i,name:P,tooltipPayload:q,midAngle:G,middleRadius:F,tooltipPosition:B},O),g),{},{value:bn(O,x),startAngle:M,endAngle:D,payload:O,paddingAngle:Qn(m)*c}),k})}return Sr(Sr({},g),{},{sectors:A,data:a})});var Lw,m6;function tde(){if(m6)return Lw;m6=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++l]=n,n+=i;return u}return Lw=r,Lw}var Mw,g6;function UD(){if(g6)return Mw;g6=1;var t=uM(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Mw=n,Mw}var Dw,v6;function rde(){if(v6)return Dw;v6=1;var t=tde(),e=Ov(),r=UD();function n(a){return function(i,s,l){return l&&typeof l!="number"&&e(i,s,l)&&(s=l=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),l=l===void 0?i<s?1:-1:r(l),t(i,s,l,a)}}return Dw=n,Dw}var $w,y6;function nde(){if(y6)return $w;y6=1;var t=rde(),e=t();return $w=e,$w}var ade=nde();const Ng=hr(ade);function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function b6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){zD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zD(t,e,r){return e=ide(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ide(t){var e=sde(t,"string");return xh(e)=="symbol"?e:e+""}function sde(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ode=["Webkit","Moz","O","ms"],lde=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=ode.reduce(function(i,s){return b6(b6({},i),{},zD({},s+n,r))},{});return a[e]=r,a};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sg.apply(this,arguments)}function w6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(r),!0).forEach(function(n){Sa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HD(n.key),n)}}function ude(t,e,r){return e&&_6(t.prototype,e),r&&_6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dde(t,e,r){return e=Ag(e),fde(t,WD()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function fde(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hde(t)}function hde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G5(t,e)}function G5(t,e){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G5(t,e)}function Sa(t,e,r){return e=HD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HD(t){var e=mde(t,"string");return Yu(e)=="symbol"?e:e+""}function mde(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gde=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Of().domain(Ng(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},j6=function(e){return e.changedTouches&&!!e.changedTouches.length},Ku=(function(t){function e(r){var n;return cde(this,e),n=dde(this,e,[r]),Sa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Sa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Sa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Sa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Sa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Sa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Sa(n,"handleSlideDragStart",function(a){var i=j6(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return pde(e,t),ude(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=e.getIndexInRange(s,f),g=e.getIndexInRange(s,p);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=bn(i[n],l,n);return At(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==p||v.endIndex!==h)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=j6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,f+p-h-u):j<0&&(j=Math.max(j,f-u)),x[s]=u+j;var w=this.getIndex(x),_=w.startIndex,N=w.endIndex,A=function(){var O=v.length-1;return s==="startX"&&(l>c?_%m===0:N%m===0)||l<c&&N===O||s==="endX"&&(l>c?N%m===0:_%m===0)||l>c&&N===O};this.setState(Sa(Sa({},s,u+j),"brushMoveStartX",n.pageX),function(){g&&A()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=l.length)){var h=l[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Sa({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?K.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),j=Fw(Fw({},mt(this.props,!1)),{},{x,y:u,width:d,height:f}),w=h||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return K.createElement(Qt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,j))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return K.createElement(Qt,{className:"recharts-brush-texts"},K.createElement(nc,Sg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+l/2},g),this.getTextOfTick(a)),K.createElement(nc,Sg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:s+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,m=p.isTextActive,v=p.isSlideMoving,x=p.isTravellerMoving,j=p.isTravellerFocused;if(!a||!a.length||!De(l)||!De(c)||!De(u)||!De(d)||u<=0||d<=0)return null;var w=Rt("recharts-brush",i),_=K.Children.count(s)===1,N=lde("userSelect","none");return K.createElement(Qt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return K.isValidElement(n)?i=K.cloneElement(n,a):At(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Fw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?gde({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])})(S.PureComponent);Sa(Ku,"displayName","Brush");Sa(Ku,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Bw,N6;function vde(){if(N6)return Bw;N6=1;var t=Ij();function e(r,n){var a;return t(r,function(i,s,l){return a=n(i,s,l),!a}),!!a}return Bw=e,Bw}var qw,S6;function yde(){if(S6)return qw;S6=1;var t=qL(),e=bs(),r=vde(),n=pa(),a=Ov();function i(s,l,c){var u=n(s)?t:r;return c&&a(s,l,c)&&(l=void 0),u(s,e(l,3))}return qw=i,qw}var xde=yde();const bde=hr(xde);var cs=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Uw,A6;function wde(){if(A6)return Uw;A6=1;var t=iM();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Uw=e,Uw}var zw,k6;function _de(){if(k6)return zw;k6=1;var t=wde(),e=nM(),r=bs();function n(a,i){var s={};return i=r(i,3),e(a,function(l,c,u){t(s,c,i(l,c,u))}),s}return zw=n,zw}var jde=_de();const Nde=hr(jde);var Ww,P6;function Sde(){if(P6)return Ww;P6=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Ww=t,Ww}var Hw,C6;function Ade(){if(C6)return Hw;C6=1;var t=Ij();function e(r,n){var a=!0;return t(r,function(i,s,l){return a=!!n(i,s,l),a}),a}return Hw=e,Hw}var Vw,O6;function kde(){if(O6)return Vw;O6=1;var t=Sde(),e=Ade(),r=bs(),n=pa(),a=Ov();function i(s,l,c){var u=n(s)?t:e;return c&&a(s,l,c)&&(l=void 0),u(s,r(l,3))}return Vw=i,Vw}var Pde=kde();const VD=hr(Pde);var Cde=["x","y"];function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function E6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(r),!0).forEach(function(n){Ode(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ode(t,e,r){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ede(t){var e=Tde(t,"string");return bh(e)=="symbol"?e:e+""}function Tde(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ide(t,e){if(t==null)return{};var r=Rde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lde(t,e){var r=t.x,n=t.y,a=Ide(t,Cde),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return pf(pf(pf(pf(pf({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function T6(t){return K.createElement(FD,Y5({shapeType:"rectangle",propTransformer:Lde,activeClassName:"recharts-active-bar"},t))}var Mde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=De(n)||sJ(n);return i?e(n,a):(i||ic(),r)}},Dde=["value","background"],GD;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function $de(t,e){if(t==null)return{};var r=Fde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kg.apply(this,arguments)}function I6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(r),!0).forEach(function(n){zo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KD(n.key),n)}}function qde(t,e,r){return e&&R6(t.prototype,e),r&&R6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,r){return e=Pg(e),zde(t,YD()?Reflect.construct(e,r||[],Pg(t).constructor):e.apply(t,r))}function zde(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wde(t)}function Wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}function Hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K5(t,e)}function K5(t,e){return K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K5(t,e)}function zo(t,e,r){return e=KD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KD(t){var e=Vde(t,"string");return Xu(e)=="symbol"?e:e+""}function Vde(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var al=(function(t){function e(){var r;Bde(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ude(this,e,[].concat(a)),zo(r,"state",{isAnimationFinished:!1}),zo(r,"id",vd("recharts-bar-")),zo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),zo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Hde(e,t),qde(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mt(this.props,!1);return n&&n.map(function(f,p){var h=p===c,g=h?u:s,m=ln(ln(ln({},d),f),{},{isActive:h,option:g,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Qt,kg({className:"recharts-bar-rectangle"},rc(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),K.createElement(T6,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return K.createElement(ms,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=i.map(function(v,x){var j=p&&p[x];if(j){var w=Pa(j.x,v.x),_=Pa(j.y,v.y),N=Pa(j.width,v.width),A=Pa(j.height,v.height);return ln(ln({},v),{},{x:w(g),y:_(g),width:N(g),height:A(g)})}if(s==="horizontal"){var k=Pa(0,v.height),O=k(g);return ln(ln({},v),{},{y:v.y+v.height-O,height:O})}var T=Pa(0,v.width),R=T(g);return ln(ln({},v),{},{width:R})});return K.createElement(Qt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Uh(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=mt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=$de(u,Dde);if(!f)return null;var h=ln(ln(ln(ln(ln({},p),{},{fill:"#eee"},f),c),rc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(T6,kg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ra(d,zh);if(!f)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,h=function(v,x){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:bn(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Qt,g,f.map(function(m){return K.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Rt("recharts-bar",s),j=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=j||w,N=Tt(m)?this.id:m;return K.createElement(Qt,{className:x},j||w?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:j?u:u-f/2,y:w?d:d-p/2,width:j?f:f*2,height:w?p:p*2}))):null,K.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!h||v)&&eo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(S.PureComponent);GD=al;zo(al,"displayName","Bar");zo(al,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo(al,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=wse(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?ln(ln({},m),r.props):r.props,x=v.dataKey,j=v.children,w=v.minPointSize,_=g==="horizontal"?s:i,N=u?_.scale.domain():null,A=Pse({numericAxis:_}),k=Ra(j,Dh),O=f.map(function(T,R){var P,I,M,D,G,F;u?P=_se(u[d+R],N):(P=bn(T,x),Array.isArray(P)||(P=[A,P]));var q=Mde(w,GD.defaultProps.minPointSize)(P[1],R);if(g==="horizontal"){var B,X=[s.scale(P[0]),s.scale(P[1])],J=X[0],ie=X[1];I=iE({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:T,index:R}),M=(B=ie??J)!==null&&B!==void 0?B:void 0,D=h.size;var $=J-ie;if(G=Number.isNaN($)?0:$,F={x:I,y:s.y,width:D,height:s.height},Math.abs(q)>0&&Math.abs(G)<Math.abs(q)){var W=Qn(G||q)*(Math.abs(q)-Math.abs(G));M-=W,G+=W}}else{var H=[i.scale(P[0]),i.scale(P[1])],ee=H[0],le=H[1];if(I=ee,M=iE({axis:s,ticks:c,bandSize:a,offset:h.offset,entry:T,index:R}),D=le-ee,G=h.size,F={x:i.x,y:M,width:i.width,height:G},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var oe=Qn(D||q)*(Math.abs(q)-Math.abs(D));D+=oe}}return ln(ln(ln({},T),{},{x:I,y:M,width:D,height:G,value:u?P:P[1],payload:T,background:F},k&&k[R]&&k[R].props),{},{tooltipPayload:[wD(r,T)],tooltipPosition:{x:I+D/2,y:M+G/2}})});return ln({data:O,layout:g},p)});function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XD(n.key),n)}}function Yde(t,e,r){return e&&L6(t.prototype,e),r&&L6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){Kv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kv(t,e,r){return e=XD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XD(t){var e=Kde(t,"string");return wh(e)=="symbol"?e:e+""}function Kde(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZD=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Aa(u,al);return d.reduce(function(h,g){var m=r[g],v=m.orientation,x=m.domain,j=m.padding,w=j===void 0?{}:j,_=m.mirror,N=m.reversed,A="".concat(v).concat(_?"Mirror":""),k,O,T,R,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=x[1]-x[0],M=1/0,D=m.categoricalDomain.sort(cJ);if(D.forEach(function(H,ee){ee>0&&(M=Math.min((H||0)-(D[ee-1]||0),M))}),Number.isFinite(M)){var G=M/I,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=G*F/2),m.padding==="no-gap"){var q=ea(e.barCategoryGap,G*F),B=G*F/2;k=B-q-(B-q)/F*q}}}a==="xAxis"?O=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:O=m.range,N&&(O=[O[1],O[0]]);var X=vD(m,i,p),J=X.scale,ie=X.realScaleType;J.domain(x).range(O),yD(J);var $=xD(J,Ni(Ni({},m),{},{realScaleType:ie}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,T=n.left,R=f[A]-P*m.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,T=f[A]-P*m.width,R=n.top);var W=Ni(Ni(Ni({},m),$),{},{realScaleType:ie,x:T,y:R,scale:J,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return W.bandSize=dg(W,$),!m.hide&&a==="xAxis"?f[A]+=(P?-1:1)*W.height:m.hide||(f[A]+=(P?-1:1)*W.width),Ni(Ni({},h),{},Kv({},g,W))},{})},JD=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Xde=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return JD({x:r,y:n},{x:a,y:i})},QD=(function(){function t(e){Gde(this,t),this.scale=e}return Yde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Kv(QD,"EPS",1e-4);var lN=function(e){var r=Object.keys(e).reduce(function(n,a){return Ni(Ni({},n),{},Kv({},a,QD.create(e[a])))},{});return Ni(Ni({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return Nde(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return VD(a,function(i,s){return r[s].isInRange(i)})}})};function Zde(t){return(t%180+180)%180}var Jde=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Zde(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Gw,D6;function Qde(){if(D6)return Gw;D6=1;var t=bs(),e=Mh(),r=Pv();function n(a){return function(i,s,l){var c=Object(i);if(!e(i)){var u=t(s,3);i=r(i),s=function(f){return u(c[f],f,c)}}var d=a(i,s,l);return d>-1?c[u?i[d]:d]:void 0}}return Gw=n,Gw}var Yw,$6;function efe(){if($6)return Yw;$6=1;var t=UD();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Yw=e,Yw}var Kw,F6;function tfe(){if(F6)return Kw;F6=1;var t=JL(),e=bs(),r=efe(),n=Math.max;function a(i,s,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(s,3),u)}return Kw=a,Kw}var Xw,B6;function rfe(){if(B6)return Xw;B6=1;var t=Qde(),e=tfe(),r=t(e);return Xw=r,Xw}var nfe=rfe();const afe=hr(nfe);var ife=pL();const sfe=hr(ife);var ofe=sfe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),cN=S.createContext(void 0),uN=S.createContext(void 0),e7=S.createContext(void 0),t7=S.createContext({}),r7=S.createContext(void 0),n7=S.createContext(0),a7=S.createContext(0),q6=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=ofe(i);return K.createElement(cN.Provider,{value:n},K.createElement(uN.Provider,{value:a},K.createElement(t7.Provider,{value:i},K.createElement(e7.Provider,{value:d},K.createElement(r7.Provider,{value:s},K.createElement(n7.Provider,{value:u},K.createElement(a7.Provider,{value:c},l)))))))},lfe=function(){return S.useContext(r7)},i7=function(e){var r=S.useContext(cN);r==null&&ic();var n=r[e];return n==null&&ic(),n},cfe=function(){var e=S.useContext(cN);return Fo(e)},ufe=function(){var e=S.useContext(uN),r=afe(e,function(n){return VD(n.domain,Number.isFinite)});return r||Fo(e)},s7=function(e){var r=S.useContext(uN);r==null&&ic();var n=r[e];return n==null&&ic(),n},dfe=function(){var e=S.useContext(e7);return e},ffe=function(){return S.useContext(t7)},dN=function(){return S.useContext(a7)},fN=function(){return S.useContext(n7)};function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l7(n.key),n)}}function mfe(t,e,r){return e&&pfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gfe(t,e,r){return e=Cg(e),vfe(t,o7()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function vfe(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yfe(t)}function yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o7=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function xfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X5(t,e)}function X5(t,e){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X5(t,e)}function U6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(r),!0).forEach(function(n){hN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hN(t,e,r){return e=l7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l7(t){var e=bfe(t,"string");return Zu(e)=="symbol"?e:e+""}function bfe(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wfe(t,e){return Sfe(t)||Nfe(t,e)||jfe(t,e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jfe(t,e){if(t){if(typeof t=="string")return W6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Sfe(t){if(Array.isArray(t))return t}function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z5.apply(this,arguments)}var Afe=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):At(e)?n=e(r):n=K.createElement("line",Z5({},r,{className:"recharts-reference-line-line"})),n},kfe=function(e,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:s});if(cs(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+p,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,j=e.x.apply(x,{position:s});if(cs(u,"discard")&&!e.x.isInRange(j))return null;var w=[{x:j,y:f+h},{x:j,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,N=_.map(function(A){return e.apply(A,{position:s})});return cs(u,"discard")&&bde(N,function(A){return!e.isInRange(A)})?null:N}return null};function Pfe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=lfe(),d=i7(a),f=s7(i),p=dfe();if(!u||!p)return null;Pi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=lN({x:d.scale,y:f.scale}),g=wn(e),m=wn(r),v=n&&n.length===2,x=kfe(h,g,m,v,p,t.position,d.orientation,f.orientation,t);if(!x)return null;var j=wfe(x,2),w=j[0],_=w.x,N=w.y,A=j[1],k=A.x,O=A.y,T=cs(t,"hidden")?"url(#".concat(u,")"):void 0,R=z6(z6({clipPath:T},mt(t,!0)),{},{x1:_,y1:N,x2:k,y2:O});return K.createElement(Qt,{className:Rt("recharts-reference-line",l)},Afe(s,R),Pn.renderCallByParent(t,Xde({x1:_,y1:N,x2:k,y2:O})))}var pN=(function(t){function e(){return hfe(this,e),gfe(this,e,arguments)}return xfe(e,t),mfe(e,[{key:"render",value:function(){return K.createElement(Pfe,this.props)}}])})(K.Component);hN(pN,"displayName","ReferenceLine");hN(pN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function J5(){return J5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J5.apply(this,arguments)}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function V6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){Xv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ofe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u7(n.key),n)}}function Efe(t,e,r){return e&&Ofe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tfe(t,e,r){return e=Og(e),Ife(t,c7()?Reflect.construct(e,r||[],Og(t).constructor):e.apply(t,r))}function Ife(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rfe(t)}function Rfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c7=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}function Lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q5(t,e)}function Q5(t,e){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q5(t,e)}function Xv(t,e,r){return e=u7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u7(t){var e=Mfe(t,"string");return Ju(e)=="symbol"?e:e+""}function Mfe(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dfe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=lN({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return cs(e,"discard")&&!s.isInRange(l)?null:l},Zv=(function(t){function e(){return Cfe(this,e),Tfe(this,e,arguments)}return Lfe(e,t),Efe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=wn(a),d=wn(i);if(Pi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Dfe(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,m=g.shape,v=g.className,x=cs(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=V6(V6({clipPath:x},mt(this.props,!0)),{},{cx:p,cy:h});return K.createElement(Qt,{className:Rt("recharts-reference-dot",v)},e.renderDot(m,j),Pn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])})(K.Component);Xv(Zv,"displayName","ReferenceDot");Xv(Zv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xv(Zv,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):At(t)?r=t(e):r=K.createElement(Uv,J5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e_.apply(this,arguments)}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function G6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(r),!0).forEach(function(n){Jv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ffe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f7(n.key),n)}}function Bfe(t,e,r){return e&&Ffe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qfe(t,e,r){return e=Eg(e),Ufe(t,d7()?Reflect.construct(e,r||[],Eg(t).constructor):e.apply(t,r))}function Ufe(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zfe(t)}function zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d7=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}function Wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t_(t,e)}function Jv(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=Hfe(t,"string");return Qu(e)=="symbol"?e:e+""}function Hfe(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vfe=function(e,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=lN({x:d.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return cs(i,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:JD(h,g)},Qv=(function(t){function e(){return $fe(this,e),qfe(this,e,arguments)}return Wfe(e,t),Bfe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Pi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wn(a),p=wn(i),h=wn(s),g=wn(l),m=this.props.shape;if(!f&&!p&&!h&&!g&&!m)return null;var v=Vfe(f,p,h,g,this.props);if(!v&&!m)return null;var x=cs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(Qt,{className:Rt("recharts-reference-area",c)},e.renderRect(m,Y6(Y6({clipPath:x},mt(this.props,!0)),v)),Pn.renderCallByParent(this.props,v))}}])})(K.Component);Jv(Qv,"displayName","ReferenceArea");Jv(Qv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jv(Qv,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):At(t)?r=t(e):r=K.createElement(oN,e_({},e,{className:"recharts-reference-area-rect"})),r});function h7(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Gfe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Jde(n,r)}function Yfe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Tg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Kfe(t,e){return h7(t,e+1)}function Xfe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:h7(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},j=g.coordinate,w=c===0||Tg(t,j,x,d,l);w||(c=0,d=s,u+=1),w&&(d=j+t*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){Zfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zfe(t,e,r){return e=Jfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jfe(t){var e=Qfe(t,"string");return _h(e)=="symbol"?e:e+""}function Qfe(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ehe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=e.start,c=e.end,u=function(p){var h=i[p],g,m=function(){return g===void 0&&(g=r(h,p)),g};if(p===s-1){var v=t*(h.coordinate+t*m()/2-c);i[p]=h=Un(Un({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else i[p]=h=Un(Un({},h),{},{tickCoord:h.coordinate});var x=Tg(t,h.tickCoord,m,l,c);x&&(c=h.tickCoord-t*(m()/2+a),i[p]=Un(Un({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function the(t,e,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=e.start,u=e.end;if(i){var d=n[l-1],f=r(d,l-1),p=t*(d.coordinate+t*f/2-u);s[l-1]=d=Un(Un({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=Tg(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),s[l-1]=Un(Un({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(j){var w=s[j],_,N=function(){return _===void 0&&(_=r(w,j)),_};if(j===0){var A=t*(w.coordinate-t*N()/2-c);s[j]=w=Un(Un({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else s[j]=w=Un(Un({},w),{},{tickCoord:w.coordinate});var k=Tg(t,w.tickCoord,N,c,u);k&&(c=w.tickCoord+t*(N()/2+a),s[j]=Un(Un({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function mN(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(De(c)||gc.isSsr)return Kfe(a,typeof c=="number"&&De(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?Cf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,_){var N=At(u)?u(w.value,_):w.value;return h==="width"?Gfe(Cf(N,{fontSize:e,letterSpacing:r}),g,f):Cf(N,{fontSize:e,letterSpacing:r})[h]},v=a.length>=2?Qn(a[1].coordinate-a[0].coordinate):1,x=Yfe(i,v,h);return c==="equidistantPreserveStart"?Xfe(v,x,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=the(v,x,m,a,s,c==="preserveStartEnd"):p=ehe(v,x,m,a,s),p.filter(function(j){return j.isShow}))}var rhe=["viewBox"],nhe=["viewBox"],ahe=["ticks"];function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yu.apply(this,arguments)}function X6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(r),!0).forEach(function(n){gN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zw(t,e){if(t==null)return{};var r=ihe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ihe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function she(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m7(n.key),n)}}function ohe(t,e,r){return e&&Z6(t.prototype,e),r&&Z6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lhe(t,e,r){return e=Ig(e),che(t,p7()?Reflect.construct(e,r||[],Ig(t).constructor):e.apply(t,r))}function che(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uhe(t)}function uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p7=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}function dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r_(t,e)}function gN(t,e,r){return e=m7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m7(t){var e=fhe(t,"string");return ed(e)=="symbol"?e:e+""}function fhe(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _d=(function(t){function e(r){var n;return she(this,e),n=lhe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return dhe(e,t),ohe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Zw(n,rhe),l=this.props,c=l.viewBox,u=Zw(l,nhe);return!Au(i,c)||!Au(s,u)||!Au(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,g,m,v,x,j,w=f?-1:1,_=n.tickSize||d,N=De(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,v=s+ +!f*c,m=v-w*_,j=m-w*p,x=N;break;case"left":m=v=n.coordinate,g=i+ +!f*l,h=g-w*_,x=h-w*p,j=N;break;case"right":m=v=n.coordinate,g=i+ +f*l,h=g+w*_,x=h+w*p,j=N;break;default:h=g=n.coordinate,v=s+ +f*c,m=v+w*_,j=m+w*p,x=N;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=gn(gn(gn({},mt(this.props,!1)),mt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=gn(gn({},f),{},{x1:a,y1:i+p*l,x2:a+s,y2:i+p*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=gn(gn({},f),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+l})}return K.createElement("line",yu({},f,{className:Rt("recharts-cartesian-axis-line",Ia(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,h=mN(gn(gn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=mt(this.props,!1),x=mt(d,!1),j=gn(gn({},v),{},{fill:"none"},mt(c,!1)),w=h.map(function(_,N){var A=s.getTickLineCoord(_),k=A.line,O=A.tick,T=gn(gn(gn(gn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),O),{},{index:N,payload:_,visibleTicksCount:h.length,tickFormatter:f});return K.createElement(Qt,yu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},rc(s.props,_,N)),c&&K.createElement("line",yu({},j,k,{className:Rt("recharts-cartesian-axis-tick-line",Ia(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(At(f)?f(_.value,N):_.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=Zw(f,ahe),g=p;return At(c)&&(g=p&&p.length>0?c(this.props):c(h)),s<=0||l<=0||!g||!g.length?null:K.createElement(Qt,{className:Rt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=Rt(a.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?s=K.cloneElement(n,gn(gn({},a),{},{className:l})):At(n)?s=n(gn(gn({},a),{},{className:l})):s=K.createElement(nc,yu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(S.Component);gN(_d,"displayName","CartesianAxis");gN(_d,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hhe=["x1","y1","x2","y2","key"],phe=["offset"];function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){mhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mhe(t,e,r){return e=ghe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ghe(t){var e=vhe(t,"string");return sc(e)=="symbol"?e:e+""}function vhe(t,e){if(sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function Q6(t,e){if(t==null)return{};var r=yhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xhe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g7(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(At(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,l=e.key,c=Q6(e,hhe),u=mt(c,!1);u.offset;var d=Q6(u,phe);r=K.createElement("line",zl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function bhe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=zn(zn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return g7(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function whe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=zn(zn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return g7(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _he(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?a+s-p:d[h+1]-p;if(m<=0)return null;var v=h%e.length;return K.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jhe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?i+l-p:d[h+1]-p;if(m<=0)return null;var v=h%n.length;return K.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Nhe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return gD(mN(zn(zn(zn({},_d.defaultProps),n),{},{ticks:Ys(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},She=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return gD(mN(zn(zn(zn({},_d.defaultProps),n),{},{ticks:Ys(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},nu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vN(t){var e,r,n,a,i,s,l=dN(),c=fN(),u=ffe(),d=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:nu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:nu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:nu.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:nu.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:nu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:nu.verticalFill,x:De(t.x)?t.x:u.left,y:De(t.y)?t.y:u.top,width:De(t.width)?t.width:u.width,height:De(t.height)?t.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,j=cfe(),w=ufe();if(!De(h)||h<=0||!De(g)||g<=0||!De(f)||f!==+f||!De(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||Nhe,N=d.horizontalCoordinatesGenerator||She,A=d.horizontalPoints,k=d.verticalPoints;if((!A||!A.length)&&At(N)){var O=v&&v.length,T=N({yAxis:w?zn(zn({},w),{},{ticks:O?v:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:m);Pi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sc(T),"]")),Array.isArray(T)&&(A=T)}if((!k||!k.length)&&At(_)){var R=x&&x.length,P=_({xAxis:j?zn(zn({},j),{},{ticks:R?x:j.ticks}):void 0,width:l,height:c,offset:u},R?!0:m);Pi(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sc(P),"]")),Array.isArray(P)&&(k=P)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(xhe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(bhe,zl({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:w})),K.createElement(whe,zl({},d,{offset:u,verticalPoints:k,xAxis:j,yAxis:w})),K.createElement(_he,zl({},d,{horizontalPoints:A})),K.createElement(jhe,zl({},d,{verticalPoints:k})))}vN.displayName="CartesianGrid";var Ahe=["type","layout","connectNulls","ref"],khe=["key"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function eT(t,e){if(t==null)return{};var r=Phe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Phe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lf.apply(this,arguments)}function tT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(r),!0).forEach(function(n){Si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function au(t){return The(t)||Ehe(t)||Ohe(t)||Che()}function Che(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ohe(t,e){if(t){if(typeof t=="string")return n_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(t,e)}}function Ehe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function The(t){if(Array.isArray(t))return n_(t)}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y7(n.key),n)}}function Rhe(t,e,r){return e&&rT(t.prototype,e),r&&rT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lhe(t,e,r){return e=Rg(e),Mhe(t,v7()?Reflect.construct(e,r||[],Rg(t).constructor):e.apply(t,r))}function Mhe(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dhe(t)}function Dhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}function $he(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a_(t,e)}function Si(t,e,r){return e=y7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y7(t){var e=Fhe(t,"string");return td(e)=="symbol"?e:e+""}function Fhe(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wh=(function(t){function e(){var r;Ihe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Lhe(this,e,[].concat(a)),Si(r,"state",{isAnimationFinished:!0,totalLength:0}),Si(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Si(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(x,j){return x+j});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,p=l-s,h=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){h=[].concat(au(c.slice(0,g)),[f-m]);break}var v=h.length%2===0?[0,p]:[p];return[].concat(au(e.repeat(c,d)),au(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Si(r,"id",vd("recharts-line-")),Si(r,"pathRef",function(s){r.mainCurve=s}),Si(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Si(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return $he(e,t),Rhe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ra(d,zh);if(!f)return null;var p=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:bn(m.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Qt,h,f.map(function(g){return K.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=mt(this.props,!1),p=mt(c,!0),h=u.map(function(m,v){var x=Na(Na(Na({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Qt,Lf({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=eT(l,Ahe),p=Na(Na(Na({},mt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return K.createElement(pg,Lf({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,x=this.state,j=x.prevPoints,w=x.totalLength;return K.createElement(ms,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(j){var A=j.length/l.length,k=l.map(function(I,M){var D=Math.floor(M*A);if(j[D]){var G=j[D],F=Pa(G.x,I.x),q=Pa(G.y,I.y);return Na(Na({},I),{},{x:F(N),y:q(N)})}if(g){var B=Pa(m*2,I.x),X=Pa(v/2,I.y);return Na(Na({},I),{},{x:B(N),y:X(N)})}return Na(Na({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(k,n,a)}var O=Pa(0,w),T=O(N),R;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});R=i.getStrokeDasharray(T,w,P)}else R=i.generateSimpleStrokeDasharray(w,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Uh(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,p=a.left,h=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,j=l.length===1,w=Rt("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,A=_||N,k=Tt(v)?this.id:v,O=(n=mt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=O.r,R=T===void 0?3:T,P=O.strokeWidth,I=P===void 0?2:P,M=yJ(s)?s:{},D=M.clipDot,G=D===void 0?!0:D,F=R*2+I;return K.createElement(Qt,{className:w},_||N?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(k)},K.createElement("rect",{x:_?p:p-h/2,y:N?f:f-g/2,width:_?h:h*2,height:N?g:g*2})),!G&&K.createElement("clipPath",{id:"clipPath-dots-".concat(k)},K.createElement("rect",{x:p-F/2,y:f-F/2,width:h+F,height:g+F}))):null,!j&&this.renderCurve(A,k),this.renderErrorBar(A,k),(j||s)&&this.renderDots(A,G,k),(!m||x)&&eo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(au(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(au(s),au(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(K.isValidElement(n))i=K.cloneElement(n,a);else if(At(n))i=n(a);else{var s=a.key,l=eT(a,khe),c=Rt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=K.createElement(Uv,Lf({key:s},l,{className:c}))}return i}}])})(S.PureComponent);Si(Wh,"displayName","Line");Si(Wh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Si(Wh,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(p,h){var g=bn(p,s);return d==="horizontal"?{x:aE({axis:r,ticks:a,bandSize:l,entry:p,index:h}),y:Tt(g)?null:n.scale(g),value:g,payload:p}:{x:Tt(g)?null:r.scale(g),y:aE({axis:n,ticks:i,bandSize:l,entry:p,index:h}),value:g,payload:p}});return Na({points:f,layout:d},u)});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function Bhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w7(n.key),n)}}function Uhe(t,e,r){return e&&qhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zhe(t,e,r){return e=Lg(e),Whe(t,x7()?Reflect.construct(e,r||[],Lg(t).constructor):e.apply(t,r))}function Whe(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hhe(t)}function Hhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(t)}function Vhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i_(t,e)}function b7(t,e,r){return e=w7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t){var e=Ghe(t,"string");return rd(e)=="symbol"?e:e+""}function Ghe(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s_.apply(this,arguments)}function Yhe(t){var e=t.xAxisId,r=dN(),n=fN(),a=i7(e);return a==null?null:S.createElement(_d,s_({},a,{className:Rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ys(s,!0)}}))}var jd=(function(t){function e(){return Bhe(this,e),zhe(this,e,arguments)}return Vhe(e,t),Uhe(e,[{key:"render",value:function(){return S.createElement(Yhe,this.props)}}])})(S.Component);b7(jd,"displayName","XAxis");b7(jd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Khe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N7(n.key),n)}}function Zhe(t,e,r){return e&&Xhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,r){return e=Mg(e),Qhe(t,_7()?Reflect.construct(e,r||[],Mg(t).constructor):e.apply(t,r))}function Qhe(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return epe(t)}function epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(t)}function tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o_(t,e)}function j7(t,e,r){return e=N7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N7(t){var e=rpe(t,"string");return nd(e)=="symbol"?e:e+""}function rpe(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l_.apply(this,arguments)}var npe=function(e){var r=e.yAxisId,n=dN(),a=fN(),i=s7(r);return i==null?null:S.createElement(_d,l_({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ys(l,!0)}}))},oc=(function(t){function e(){return Khe(this,e),Jhe(this,e,arguments)}return tpe(e,t),Zhe(e,[{key:"render",value:function(){return S.createElement(npe,this.props)}}])})(S.Component);j7(oc,"displayName","YAxis");j7(oc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nT(t){return ope(t)||spe(t)||ipe(t)||ape()}function ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t,e){if(t){if(typeof t=="string")return c_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c_(t,e)}}function spe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ope(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u_=function(e,r,n,a,i){var s=Ra(e,pN),l=Ra(e,Zv),c=[].concat(nT(s),nT(l)),u=Ra(e,Qv),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(m,v){if(v.props[d]===n&&cs(v.props,"extendDomain")&&De(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(m,v){if(v.props[d]===n&&cs(v.props,"extendDomain")&&De(v.props[h])&&De(v.props[g])){var x=v.props[h],j=v.props[g];return[Math.min(m[0],x,j),Math.max(m[1],x,j)]}return m},p)}return i&&i.length&&(p=i.reduce(function(m,v){return De(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},p)),p},Jw={exports:{}},aT;function lpe(){return aT||(aT=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,h,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,j,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,h),!0;case 6:return v.fn.call(v.context,d,f,p,h,g),!0}for(w=1,j=new Array(x-1);w<x;w++)j[w-1]=arguments[w];v.fn.apply(v.context,j)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,p);break;default:if(!j)for(N=1,j=new Array(x-1);N<x;N++)j[N-1]=arguments[N];v[w].fn.apply(v[w].context,j)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||p&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Jw)),Jw.exports}var cpe=lpe();const upe=hr(cpe);var Qw=new upe,e2="recharts.syncMouseEvents";function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S7(n.key),n)}}function hpe(t,e,r){return e&&fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t2(t,e,r){return e=S7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S7(t){var e=ppe(t,"string");return jh(e)=="symbol"?e:e+""}function ppe(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mpe=(function(){function t(){dpe(this,t),t2(this,"activeIndex",0),t2(this,"coordinateList",[]),t2(this,"layout","horizontal")}return hpe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function gpe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&De(n)&&De(a))return!0}return!1}function vpe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function A7(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=kr(e,r,n,a),l=kr(e,r,n,i);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function ype(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=kr(l,c,u,f),h=kr(l,c,d,f);n=p.x,a=p.y,i=h.x,s=h.y}else return A7(e);return[{x:n,y:a},{x:i,y:s}]}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function iT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(r),!0).forEach(function(n){xpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xpe(t,e,r){return e=bpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bpe(t){var e=wpe(t,"string");return Nh(e)=="symbol"?e:e+""}function wpe(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _pe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var g,m=pg;if(p==="ScatterChart")g=s,m=Wce;else if(p==="BarChart")g=vpe(f,s,c,d),m=oN;else if(f==="radial"){var v=A7(s),x=v.cx,j=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;g={cx:x,cy:j,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},m=kD}else g={points:ype(f,s,c)},m=pg;var A=lm(lm(lm(lm({stroke:"#ccc",pointerEvents:"none"},c),g),mt(h,!1)),{},{payload:l,payloadIndex:u,className:Rt("recharts-tooltip-cursor",h.className)});return S.isValidElement(h)?S.cloneElement(h,A):S.createElement(m,A)}var jpe=["item"],Npe=["children","className","width","height","style","compact","title","desc"];function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xu.apply(this,arguments)}function sT(t,e){return kpe(t)||Ape(t,e)||P7(t,e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ape(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kpe(t){if(Array.isArray(t))return t}function oT(t,e){if(t==null)return{};var r=Ppe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ppe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ope(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C7(n.key),n)}}function Epe(t,e,r){return e&&Ope(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tpe(t,e,r){return e=Dg(e),Ipe(t,k7()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function Ipe(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(t)}function Rpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k7=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d_(t,e)}function id(t){return $pe(t)||Dpe(t)||P7(t)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7(t,e){if(t){if(typeof t=="string")return f_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f_(t,e)}}function Dpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $pe(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yt(t,e,r){return e=C7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C7(t){var e=Fpe(t,"string");return ad(e)=="symbol"?e:e+""}function Fpe(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bpe={xAxis:["bottom","top"],yAxis:["left","right"]},qpe={width:"100%",height:"100%"},O7={x:0,y:0};function cm(t){return t}var Upe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},zpe=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,l=a.radius;return Ne(Ne(Ne({},a),kr(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return Ne(Ne(Ne({},a),kr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return O7},e0=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(id(l),id(u)):l},[]);return s.length>0?s:e&&e.length&&De(a)&&De(i)?e.slice(a,i+1):[]};function E7(t){return t==="number"?[0,"auto"]:void 0}var h_=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,l=e0(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?l:f;p=Fm(h,s.dataKey,a)}else p=f&&f[n]||l[n];return p?[].concat(id(c),[wD(u,p)]):c},[])},cT=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=Upe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=mse(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=h_(e,r,d,f),h=zpe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Wpe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=mD(d,i);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?Ne(Ne({},m.type.defaultProps),m.props):m.props,j=x.type,w=x.dataKey,_=x.allowDataOverflow,N=x.allowDuplicatedCategory,A=x.scale,k=x.ticks,O=x.includeHidden,T=x[s];if(g[T])return g;var R=e0(e.data,{graphicalItems:a.filter(function($){var W,H=s in $.props?$.props[s]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[s];return H===T}),dataStartIndex:c,dataEndIndex:u}),P=R.length,I,M,D;gpe(x.domain,_,j)&&(I=k5(x.domain,null,_),h&&(j==="number"||A!=="auto")&&(D=Ef(R,w,"category")));var G=E7(j);if(!I||I.length===0){var F,q=(F=x.domain)!==null&&F!==void 0?F:G;if(w){if(I=Ef(R,w,j),j==="category"&&h){var B=lJ(I);N&&B?(M=I,I=Ng(0,P)):N||(I=lE(q,I,m).reduce(function($,W){return $.indexOf(W)>=0?$:[].concat(id($),[W])},[]))}else if(j==="category")N?I=I.filter(function($){return $!==""&&!Tt($)}):I=lE(q,I,m).reduce(function($,W){return $.indexOf(W)>=0||W===""||Tt(W)?$:[].concat(id($),[W])},[]);else if(j==="number"){var X=bse(R,a.filter(function($){var W,H,ee=s in $.props?$.props[s]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[s],le="hide"in $.props?$.props.hide:(H=$.type.defaultProps)===null||H===void 0?void 0:H.hide;return ee===T&&(O||!le)}),w,i,d);X&&(I=X)}h&&(j==="number"||A!=="auto")&&(D=Ef(R,w,"category"))}else h?I=Ng(0,P):l&&l[T]&&l[T].hasStack&&j==="number"?I=p==="expand"?[0,1]:bD(l[T].stackGroups,c,u):I=pD(R,a.filter(function($){var W=s in $.props?$.props[s]:$.type.defaultProps[s],H="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return W===T&&(O||!H)}),j,d,!0);if(j==="number")I=u_(f,I,T,i,k),q&&(I=k5(q,I,_));else if(j==="category"&&q){var J=q,ie=I.every(function($){return J.indexOf($)>=0});ie&&(I=J)}}return Ne(Ne({},g),{},yt({},T,Ne(Ne({},x),{},{axisType:i,domain:I,categoricalDomain:D,duplicateDomain:M,originalDomain:(v=x.domain)!==null&&v!==void 0?v:G,isCategorical:h,layout:d})))},{})},Hpe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e0(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,g=mD(d,i),m=-1;return n.reduce(function(v,x){var j=x.type.defaultProps!==void 0?Ne(Ne({},x.type.defaultProps),x.props):x.props,w=j[s],_=E7("number");if(!v[w]){m++;var N;return g?N=Ng(0,h):l&&l[w]&&l[w].hasStack?(N=bD(l[w].stackGroups,c,u),N=u_(f,N,w,i)):(N=k5(_,pD(p,n.filter(function(A){var k,O,T=s in A.props?A.props[s]:(k=A.type.defaultProps)===null||k===void 0?void 0:k[s],R="hide"in A.props?A.props.hide:(O=A.type.defaultProps)===null||O===void 0?void 0:O.hide;return T===w&&!R}),"number",d),a.defaultProps.allowDataOverflow),N=u_(f,N,w,i)),Ne(Ne({},v),{},yt({},w,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ia(Bpe,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},Vpe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=Ra(d,i),h={};return p&&p.length?h=Wpe(e,{axes:p,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(h=Hpe(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Gpe=function(e){var r=Fo(e),n=Ys(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Rj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:dg(r,n)}},uT=function(e){var r=e.children,n=e.defaultShowTooltip,a=Aa(r,Ku),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Ype=function(e){return!e||!e.length?!1:e.some(function(r){var n=Js(r&&r.type);return n&&n.indexOf("Bar")>=0})},dT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kpe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Aa(f,Ku),g=Aa(f,Gl),m=Object.keys(c).reduce(function(N,A){var k=c[A],O=k.orientation;return!k.mirror&&!k.hide?Ne(Ne({},N),{},yt({},O,N[O]+k.width)):N},{left:p.left||0,right:p.right||0}),v=Object.keys(s).reduce(function(N,A){var k=s[A],O=k.orientation;return!k.mirror&&!k.hide?Ne(Ne({},N),{},yt({},O,Ia(N,"".concat(O))+k.height)):N},{top:p.top||0,bottom:p.bottom||0}),x=Ne(Ne({},v),m),j=x.bottom;h&&(x.bottom+=h.props.height||Ku.defaultProps.height),g&&r&&(x=yse(x,a,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return Ne(Ne({brushBottom:j},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},Xpe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},yN=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(x,j){var w=j.graphicalItems,_=j.stackGroups,N=j.offset,A=j.updateId,k=j.dataStartIndex,O=j.dataEndIndex,T=x.barSize,R=x.layout,P=x.barGap,I=x.barCategoryGap,M=x.maxBarSize,D=dT(R),G=D.numericAxisName,F=D.cateAxisName,q=Ype(w),B=[];return w.forEach(function(X,J){var ie=e0(x.data,{graphicalItems:[X],dataStartIndex:k,dataEndIndex:O}),$=X.type.defaultProps!==void 0?Ne(Ne({},X.type.defaultProps),X.props):X.props,W=$.dataKey,H=$.maxBarSize,ee=$["".concat(G,"Id")],le=$["".concat(F,"Id")],oe={},de=c.reduce(function($e,Xe){var Ye=j["".concat(Xe.axisType,"Map")],Wt=$["".concat(Xe.axisType,"Id")];Ye&&Ye[Wt]||Xe.axisType==="zAxis"||ic();var xt=Ye[Wt];return Ne(Ne({},$e),{},yt(yt({},Xe.axisType,xt),"".concat(Xe.axisType,"Ticks"),Ys(xt)))},oe),se=de[F],he=de["".concat(F,"Ticks")],ge=_&&_[ee]&&_[ee].hasStack&&Cse(X,_[ee].stackGroups),ue=Js(X.type).indexOf("Bar")>=0,Oe=dg(se,he),me=[],te=q&&gse({barSize:T,stackGroups:_,totalSize:Xpe(de,F)});if(ue){var Ge,Ue,He=Tt(H)?M:H,Pe=(Ge=(Ue=dg(se,he,!0))!==null&&Ue!==void 0?Ue:He)!==null&&Ge!==void 0?Ge:0;me=vse({barGap:P,barCategoryGap:I,bandSize:Pe!==Oe?Pe:Oe,sizeList:te[le],maxBarSize:He}),Pe!==Oe&&(me=me.map(function($e){return Ne(Ne({},$e),{},{position:Ne(Ne({},$e.position),{},{offset:$e.position.offset-Pe/2})})}))}var et=X&&X.type&&X.type.getComposedData;et&&B.push({props:Ne(Ne({},et(Ne(Ne({},de),{},{displayedData:ie,props:x,dataKey:W,item:X,bandSize:Oe,barPosition:me,offset:N,stackedData:ge,layout:R,dataStartIndex:k,dataEndIndex:O}))),{},yt(yt(yt({key:X.key||"item-".concat(J)},G,de[G]),F,de[F]),"animationId",A)),childIndex:wJ(X,x.children),item:X})}),B},h=function(x,j){var w=x.props,_=x.dataStartIndex,N=x.dataEndIndex,A=x.updateId;if(!_3({props:w}))return null;var k=w.children,O=w.layout,T=w.stackOffset,R=w.data,P=w.reverseStackOrder,I=dT(O),M=I.numericAxisName,D=I.cateAxisName,G=Ra(k,n),F=kse(R,G,"".concat(M,"Id"),"".concat(D,"Id"),T,P),q=c.reduce(function($,W){var H="".concat(W.axisType,"Map");return Ne(Ne({},$),{},yt({},H,Vpe(w,Ne(Ne({},W),{},{graphicalItems:G,stackGroups:W.axisType===M&&F,dataStartIndex:_,dataEndIndex:N}))))},{}),B=Kpe(Ne(Ne({},q),{},{props:w,graphicalItems:G}),j==null?void 0:j.legendBBox);Object.keys(q).forEach(function($){q[$]=d(w,q[$],B,$.replace("Map",""),r)});var X=q["".concat(D,"Map")],J=Gpe(X),ie=p(w,Ne(Ne({},q),{},{dataStartIndex:_,dataEndIndex:N,updateId:A,graphicalItems:G,stackGroups:F,offset:B}));return Ne(Ne({formattedGraphicalItems:ie,graphicalItems:G,offset:B,stackGroups:F},J),q)},g=(function(v){function x(j){var w,_,N;return Cpe(this,x),N=Tpe(this,x,[j]),yt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yt(N,"accessibilityManager",new mpe),yt(N,"handleLegendBBoxUpdate",function(A){if(A){var k=N.state,O=k.dataStartIndex,T=k.dataEndIndex,R=k.updateId;N.setState(Ne({legendBBox:A},h({props:N.props,dataStartIndex:O,dataEndIndex:T,updateId:R},Ne(Ne({},N.state),{},{legendBBox:A}))))}}),yt(N,"handleReceiveSyncEvent",function(A,k,O){if(N.props.syncId===A){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(k)}}),yt(N,"handleBrushChange",function(A){var k=A.startIndex,O=A.endIndex;if(k!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return Ne({dataStartIndex:k,dataEndIndex:O},h({props:N.props,dataStartIndex:k,dataEndIndex:O,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),yt(N,"handleMouseEnter",function(A){var k=N.getMouseInfo(A);if(k){var O=Ne(Ne({},k),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var T=N.props.onMouseEnter;At(T)&&T(O,A)}}),yt(N,"triggeredAfterMouseMove",function(A){var k=N.getMouseInfo(A),O=k?Ne(Ne({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var T=N.props.onMouseMove;At(T)&&T(O,A)}),yt(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),yt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),yt(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),yt(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var O=N.props.onMouseLeave;At(O)&&O(k,A)}),yt(N,"handleOuterEvent",function(A){var k=bJ(A),O=Ia(N.props,"".concat(k));if(k&&At(O)){var T,R;/.*touch.*/i.test(k)?R=N.getMouseInfo(A.changedTouches[0]):R=N.getMouseInfo(A),O((T=R)!==null&&T!==void 0?T:{},A)}}),yt(N,"handleClick",function(A){var k=N.getMouseInfo(A);if(k){var O=Ne(Ne({},k),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var T=N.props.onClick;At(T)&&T(O,A)}}),yt(N,"handleMouseDown",function(A){var k=N.props.onMouseDown;if(At(k)){var O=N.getMouseInfo(A);k(O,A)}}),yt(N,"handleMouseUp",function(A){var k=N.props.onMouseUp;if(At(k)){var O=N.getMouseInfo(A);k(O,A)}}),yt(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),yt(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),yt(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),yt(N,"handleDoubleClick",function(A){var k=N.props.onDoubleClick;if(At(k)){var O=N.getMouseInfo(A);k(O,A)}}),yt(N,"handleContextMenu",function(A){var k=N.props.onContextMenu;if(At(k)){var O=N.getMouseInfo(A);k(O,A)}}),yt(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&Qw.emit(e2,N.props.syncId,A,N.eventEmitterSymbol)}),yt(N,"applySyncEvent",function(A){var k=N.props,O=k.layout,T=k.syncMethod,R=N.state.updateId,P=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(Ne({dataStartIndex:P,dataEndIndex:I},h({props:N.props,dataStartIndex:P,dataEndIndex:I,updateId:R},N.state)));else if(A.activeTooltipIndex!==void 0){var M=A.chartX,D=A.chartY,G=A.activeTooltipIndex,F=N.state,q=F.offset,B=F.tooltipTicks;if(!q)return;if(typeof T=="function")G=T(B,A);else if(T==="value"){G=-1;for(var X=0;X<B.length;X++)if(B[X].value===A.activeLabel){G=X;break}}var J=Ne(Ne({},q),{},{x:q.left,y:q.top}),ie=Math.min(M,J.x+J.width),$=Math.min(D,J.y+J.height),W=B[G]&&B[G].value,H=h_(N.state,N.props.data,G),ee=B[G]?{x:O==="horizontal"?B[G].coordinate:ie,y:O==="horizontal"?$:B[G].coordinate}:O7;N.setState(Ne(Ne({},A),{},{activeLabel:W,activeCoordinate:ee,activePayload:H,activeTooltipIndex:G}))}else N.setState(A)}),yt(N,"renderCursor",function(A){var k,O=N.state,T=O.isTooltipActive,R=O.activeCoordinate,P=O.activePayload,I=O.offset,M=O.activeTooltipIndex,D=O.tooltipAxisBandSize,G=N.getTooltipEventType(),F=(k=A.props.active)!==null&&k!==void 0?k:T,q=N.props.layout,B=A.key||"_recharts-cursor";return K.createElement(_pe,{key:B,activeCoordinate:R,activePayload:P,activeTooltipIndex:M,chartName:r,element:A,isActive:F,layout:q,offset:I,tooltipAxisBandSize:D,tooltipEventType:G})}),yt(N,"renderPolarAxis",function(A,k,O){var T=Ia(A,"type.axisType"),R=Ia(N.state,"".concat(T,"Map")),P=A.type.defaultProps,I=P!==void 0?Ne(Ne({},P),A.props):A.props,M=R&&R[I["".concat(T,"Id")]];return S.cloneElement(A,Ne(Ne({},M),{},{className:Rt(T,M.className),key:A.key||"".concat(k,"-").concat(O),ticks:Ys(M,!0)}))}),yt(N,"renderPolarGrid",function(A){var k=A.props,O=k.radialLines,T=k.polarAngles,R=k.polarRadius,P=N.state,I=P.radiusAxisMap,M=P.angleAxisMap,D=Fo(I),G=Fo(M),F=G.cx,q=G.cy,B=G.innerRadius,X=G.outerRadius;return S.cloneElement(A,{polarAngles:Array.isArray(T)?T:Ys(G,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(R)?R:Ys(D,!0).map(function(J){return J.coordinate}),cx:F,cy:q,innerRadius:B,outerRadius:X,key:A.key||"polar-grid",radialLines:O})}),yt(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,k=N.props,O=k.children,T=k.width,R=k.height,P=N.props.margin||{},I=T-(P.left||0)-(P.right||0),M=fD({children:O,formattedGraphicalItems:A,legendWidth:I,legendContent:u});if(!M)return null;var D=M.item,G=oT(M,jpe);return S.cloneElement(D,Ne(Ne({},G),{},{chartWidth:T,chartHeight:R,margin:P,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),yt(N,"renderTooltip",function(){var A,k=N.props,O=k.children,T=k.accessibilityLayer,R=Aa(O,ka);if(!R)return null;var P=N.state,I=P.isTooltipActive,M=P.activeCoordinate,D=P.activePayload,G=P.activeLabel,F=P.offset,q=(A=R.props.active)!==null&&A!==void 0?A:I;return S.cloneElement(R,{viewBox:Ne(Ne({},F),{},{x:F.left,y:F.top}),active:q,label:G,payload:q?D:[],coordinate:M,accessibilityLayer:T})}),yt(N,"renderBrush",function(A){var k=N.props,O=k.margin,T=k.data,R=N.state,P=R.offset,I=R.dataStartIndex,M=R.dataEndIndex,D=R.updateId;return S.cloneElement(A,{key:A.key||"_recharts-brush",onChange:am(N.handleBrushChange,A.props.onChange),data:T,x:De(A.props.x)?A.props.x:P.left,y:De(A.props.y)?A.props.y:P.top+P.height+P.brushBottom-(O.bottom||0),width:De(A.props.width)?A.props.width:P.width,startIndex:I,endIndex:M,updateId:"brush-".concat(D)})}),yt(N,"renderReferenceElement",function(A,k,O){if(!A)return null;var T=N,R=T.clipPathId,P=N.state,I=P.xAxisMap,M=P.yAxisMap,D=P.offset,G=A.type.defaultProps||{},F=A.props,q=F.xAxisId,B=q===void 0?G.xAxisId:q,X=F.yAxisId,J=X===void 0?G.yAxisId:X;return S.cloneElement(A,{key:A.key||"".concat(k,"-").concat(O),xAxis:I[B],yAxis:M[J],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:R})}),yt(N,"renderActivePoints",function(A){var k=A.item,O=A.activePoint,T=A.basePoint,R=A.childIndex,P=A.isRange,I=[],M=k.props.key,D=k.item.type.defaultProps!==void 0?Ne(Ne({},k.item.type.defaultProps),k.item.props):k.item.props,G=D.activeDot,F=D.dataKey,q=Ne(Ne({index:R,dataKey:F,cx:O.x,cy:O.y,r:4,fill:sN(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},mt(G,!1)),Bm(G));return I.push(x.renderActiveDot(G,q,"".concat(M,"-activePoint-").concat(R))),T?I.push(x.renderActiveDot(G,Ne(Ne({},q),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(R))):P&&I.push(null),I}),yt(N,"renderGraphicChild",function(A,k,O){var T=N.filterFormatItem(A,k,O);if(!T)return null;var R=N.getTooltipEventType(),P=N.state,I=P.isTooltipActive,M=P.tooltipAxis,D=P.activeTooltipIndex,G=P.activeLabel,F=N.props.children,q=Aa(F,ka),B=T.props,X=B.points,J=B.isRange,ie=B.baseLine,$=T.item.type.defaultProps!==void 0?Ne(Ne({},T.item.type.defaultProps),T.item.props):T.item.props,W=$.activeDot,H=$.hide,ee=$.activeBar,le=$.activeShape,oe=!!(!H&&I&&q&&(W||ee||le)),de={};R!=="axis"&&q&&q.props.trigger==="click"?de={onClick:am(N.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(de={onMouseLeave:am(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:am(N.handleItemMouseEnter,A.props.onMouseEnter)});var se=S.cloneElement(A,Ne(Ne({},T.props),de));function he(Xe){return typeof M.dataKey=="function"?M.dataKey(Xe.payload):null}if(oe)if(D>=0){var ge,ue;if(M.dataKey&&!M.allowDuplicatedCategory){var Oe=typeof M.dataKey=="function"?he:"payload.".concat(M.dataKey.toString());ge=Fm(X,Oe,G),ue=J&&ie&&Fm(ie,Oe,G)}else ge=X==null?void 0:X[D],ue=J&&ie&&ie[D];if(le||ee){var me=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[S.cloneElement(A,Ne(Ne(Ne({},T.props),de),{},{activeIndex:me})),null,null]}if(!Tt(ge))return[se].concat(id(N.renderActivePoints({item:T,activePoint:ge,basePoint:ue,childIndex:D,isRange:J})))}else{var te,Ge=(te=N.getItemByXY(N.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:se},Ue=Ge.graphicalItem,He=Ue.item,Pe=He===void 0?A:He,et=Ue.childIndex,$e=Ne(Ne(Ne({},T.props),de),{},{activeIndex:et});return[S.cloneElement(Pe,$e),null,null]}return J?[se,null,null]:[se,null]}),yt(N,"renderCustomized",function(A,k,O){return S.cloneElement(A,Ne(Ne({key:"recharts-customized-".concat(O)},N.props),N.state))}),yt(N,"renderMap",{CartesianGrid:{handler:cm,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:cm},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:cm},YAxis:{handler:cm},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=j.id)!==null&&w!==void 0?w:vd("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=dM(N.triggeredAfterMouseMove,(_=j.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return Lpe(x,v),Epe(x,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,N=w.data,A=w.height,k=w.layout,O=Aa(_,ka);if(O){var T=O.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=h_(this.state,N,T,R),I=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+A)/2,D=k==="horizontal",G=D?{x:I,y:M}:{y:I,x:M},F=this.state.formattedGraphicalItems.find(function(B){var X=B.item;return X.type.name==="Scatter"});F&&(G=Ne(Ne({},G),F.props.points[T].tooltipPosition),P=F.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:G};this.setState(q),this.renderCursor(O),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){K2([Aa(w.children,ka)],[Aa(this.props.children,ka)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Aa(this.props.children,ka);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),A=ore(N),k={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},O=N.width/_.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,O);if(!T)return null;var R=this.state,P=R.xAxisMap,I=R.yAxisMap,M=this.getTooltipEventType(),D=cT(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&P&&I){var G=Fo(P).scale,F=Fo(I).scale,q=G&&G.invert?G.invert(k.chartX):null,B=F&&F.invert?F.invert(k.chartY):null;return Ne(Ne({},k),{},{xValue:q,yValue:B},D)}return D?Ne(Ne({},k),D):null}},{key:"inRange",value:function(w,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,k=w/N,O=_/N;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,R=k>=T.left&&k<=T.left+T.width&&O>=T.top&&O<=T.top+T.height;return R?{x:k,y:O}:null}var P=this.state,I=P.angleAxisMap,M=P.radiusAxisMap;if(I&&M){var D=Fo(I);return dE({x:k,y:O},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),N=Aa(w,ka),A={};N&&_==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Bm(this.props,this.handleOuterEvent);return Ne(Ne({},k),A)}},{key:"addListener",value:function(){Qw.on(e2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qw.removeListener(e2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,N){for(var A=this.state.formattedGraphicalItems,k=0,O=A.length;k<O;k++){var T=A[k];if(T.item===w||T.props.key===w.key||_===Js(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,N=_.left,A=_.top,k=_.height,O=_.width;return K.createElement("defs",null,K.createElement("clipPath",{id:w},K.createElement("rect",{x:N,y:A,height:k,width:O})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,N){var A=sT(N,2),k=A[0],O=A[1];return Ne(Ne({},_),{},yt({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,N){var A=sT(N,2),k=A[0],O=A[1];return Ne(Ne({},_),{},yt({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,N=_.formattedGraphicalItems,A=_.activeItem;if(N&&N.length)for(var k=0,O=N.length;k<O;k++){var T=N[k],R=T.props,P=T.item,I=P.type.defaultProps!==void 0?Ne(Ne({},P.type.defaultProps),P.props):P.props,M=Js(P.type);if(M==="Bar"){var D=(R.data||[]).find(function(B){return Nce(w,B)});if(D)return{graphicalItem:T,payload:D}}else if(M==="RadialBar"){var G=(R.data||[]).find(function(B){return dE(w,B)});if(G)return{graphicalItem:T,payload:G}}else if(Gv(T,A)||Yv(T,A)||yh(T,A)){var F=Gue({graphicalItem:T,activeTooltipItem:A,itemData:I.data}),q=I.activeIndex===void 0?F:I.activeIndex;return{graphicalItem:Ne(Ne({},T),{},{childIndex:q}),payload:yh(T,A)?I.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!_3(this))return null;var _=this.props,N=_.children,A=_.className,k=_.width,O=_.height,T=_.style,R=_.compact,P=_.title,I=_.desc,M=oT(_,Npe),D=mt(M,!1);if(R)return K.createElement(q6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(Z2,xu({},D,{width:k,height:O,title:P,desc:I}),this.renderClipPath(),N3(N,this.renderMap)));if(this.props.accessibilityLayer){var G,F;D.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,D.role=(F=this.props.role)!==null&&F!==void 0?F:"application",D.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},D.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return K.createElement(q6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",xu({className:Rt("recharts-wrapper",A),style:Ne({position:"relative",cursor:"default",width:k,height:O},T)},q,{ref:function(X){w.container=X}}),K.createElement(Z2,xu({},D,{width:k,height:O,title:P,desc:I,style:qpe}),this.renderClipPath(),N3(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);yt(g,"displayName",r),yt(g,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),yt(g,"getDerivedStateFromProps",function(v,x){var j=v.dataKey,w=v.data,_=v.children,N=v.width,A=v.height,k=v.layout,O=v.stackOffset,T=v.margin,R=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var I=uT(v);return Ne(Ne(Ne({},I),{},{updateId:0},h(Ne(Ne({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:j,prevData:w,prevWidth:N,prevHeight:A,prevLayout:k,prevStackOffset:O,prevMargin:T,prevChildren:_})}if(j!==x.prevDataKey||w!==x.prevData||N!==x.prevWidth||A!==x.prevHeight||k!==x.prevLayout||O!==x.prevStackOffset||!Au(T,x.prevMargin)){var M=uT(v),D={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},G=Ne(Ne({},cT(x,w,k)),{},{updateId:x.updateId+1}),F=Ne(Ne(Ne({},M),D),G);return Ne(Ne(Ne({},F),h(Ne({props:v},F),x)),{},{prevDataKey:j,prevData:w,prevWidth:N,prevHeight:A,prevLayout:k,prevStackOffset:O,prevMargin:T,prevChildren:_})}if(!K2(_,x.prevChildren)){var q,B,X,J,ie=Aa(_,Ku),$=ie&&(q=(B=ie.props)===null||B===void 0?void 0:B.startIndex)!==null&&q!==void 0?q:R,W=ie&&(X=(J=ie.props)===null||J===void 0?void 0:J.endIndex)!==null&&X!==void 0?X:P,H=$!==R||W!==P,ee=!Tt(w),le=ee&&!H?x.updateId:x.updateId+1;return Ne(Ne({updateId:le},h(Ne(Ne({props:v},x),{},{updateId:le,dataStartIndex:$,dataEndIndex:W}),x)),{},{prevChildren:_,dataStartIndex:$,dataEndIndex:W})}return null}),yt(g,"renderActiveDot",function(v,x,j){var w;return S.isValidElement(v)?w=S.cloneElement(v,x):At(v)?w=v(x):w=K.createElement(Uv,x),K.createElement(Qt,{className:"recharts-active-dot",key:j},w)});var m=S.forwardRef(function(x,j){return K.createElement(g,xu({},x,{ref:j}))});return m.displayName=g.displayName,m},Zpe=yN({chartName:"LineChart",GraphicalChild:Wh,axisComponents:[{axisType:"xAxis",AxisComp:jd},{axisType:"yAxis",AxisComp:oc}],formatAxisMap:ZD}),Jpe=yN({chartName:"BarChart",GraphicalChild:al,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jd},{axisType:"yAxis",AxisComp:oc}],formatAxisMap:ZD}),T7=yN({chartName:"PieChart",GraphicalChild:ws,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vv},{axisType:"radiusAxis",AxisComp:Wv}],formatAxisMap:Fse,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Qpe=["top","right","bottom","left"],Ko=Math.min,Ca=Math.max,$g=Math.round,um=Math.floor,us=t=>({x:t,y:t}),eme={left:"right",right:"left",bottom:"top",top:"bottom"},tme={start:"end",end:"start"};function p_(t,e,r){return Ca(t,Ko(e,r))}function oo(t,e){return typeof t=="function"?t(e):t}function lo(t){return t.split("-")[0]}function Nd(t){return t.split("-")[1]}function xN(t){return t==="x"?"y":"x"}function bN(t){return t==="y"?"height":"width"}const rme=new Set(["top","bottom"]);function ss(t){return rme.has(lo(t))?"y":"x"}function wN(t){return xN(ss(t))}function nme(t,e,r){r===void 0&&(r=!1);const n=Nd(t),a=wN(t),i=bN(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Fg(s)),[s,Fg(s)]}function ame(t){const e=Fg(t);return[m_(t),e,m_(e)]}function m_(t){return t.replace(/start|end/g,e=>tme[e])}const fT=["left","right"],hT=["right","left"],ime=["top","bottom"],sme=["bottom","top"];function ome(t,e,r){switch(t){case"top":case"bottom":return r?e?hT:fT:e?fT:hT;case"left":case"right":return e?ime:sme;default:return[]}}function lme(t,e,r,n){const a=Nd(t);let i=ome(lo(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(m_)))),i}function Fg(t){return t.replace(/left|right|bottom|top/g,e=>eme[e])}function cme(t){return{top:0,right:0,bottom:0,left:0,...t}}function I7(t){return typeof t!="number"?cme(t):{top:t,right:t,bottom:t,left:t}}function Bg(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function pT(t,e,r){let{reference:n,floating:a}=t;const i=ss(e),s=wN(e),l=bN(s),c=lo(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Nd(e)){case"start":h[s]-=p*(r&&u?-1:1);break;case"end":h[s]+=p*(r&&u?-1:1);break}return h}const ume=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=pT(u,n,c),p=n,h={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:j,y:w,data:_,reset:N}=await x({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:u,platform:s,elements:{reference:t,floating:e}});d=j??d,f=w??f,h={...h,[v]:{...h[v],..._}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):N.rects),{x:d,y:f}=pT(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function Sh(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=oo(e,t),g=I7(h),v=l[p?f==="floating"?"reference":"floating":f],x=Bg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Bg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(x.top-N.top+g.top)/_.y,bottom:(N.bottom-x.bottom+g.bottom)/_.y,left:(x.left-N.left+g.left)/_.x,right:(N.right-x.right+g.right)/_.x}}const dme=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=oo(t,e)||{};if(u==null)return{};const f=I7(d),p={x:r,y:n},h=wN(a),g=bN(h),m=await s.getDimensions(u),v=h==="y",x=v?"top":"left",j=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[h]-p[h]-i.floating[g],N=p[h]-i.reference[h],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=A?A[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(A)))&&(k=l.floating[w]||i.floating[g]);const O=_/2-N/2,T=k/2-m[g]/2-1,R=Ko(f[x],T),P=Ko(f[j],T),I=R,M=k-m[g]-P,D=k/2-m[g]/2+O,G=p_(I,D,M),F=!c.arrow&&Nd(a)!=null&&D!==G&&i.reference[g]/2-(D<I?R:P)-m[g]/2<0,q=F?D<I?D-I:D-M:0;return{[h]:p[h]+q,data:{[h]:G,centerOffset:D-G-q,...F&&{alignmentOffset:q}},reset:F}}}),fme=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=oo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=lo(a),j=ss(l),w=lo(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(w||!m?[Fg(l)]:ame(l)),A=g!=="none";!p&&A&&N.push(...lme(l,m,g,_));const k=[l,...N],O=await Sh(e,v),T=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(O[x]),f){const D=nme(a,s,_);T.push(O[D[0]],O[D[1]])}if(R=[...R,{placement:a,overflows:T}],!T.every(D=>D<=0)){var P,I;const D=(((P=i.flip)==null?void 0:P.index)||0)+1,G=k[D];if(G&&(!(f==="alignment"?j!==ss(G):!1)||R.every(B=>ss(B.placement)===j?B.overflows[0]>0:!0)))return{data:{index:D,overflows:R},reset:{placement:G}};let F=(I=R.filter(q=>q.overflows[0]<=0).sort((q,B)=>q.overflows[1]-B.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(h){case"bestFit":{var M;const q=(M=R.filter(B=>{if(A){const X=ss(B.placement);return X===j||X==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(X=>X>0).reduce((X,J)=>X+J,0)]).sort((B,X)=>B[1]-X[1])[0])==null?void 0:M[0];q&&(F=q);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function mT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gT(t){return Qpe.some(e=>t[e]>=0)}const hme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=oo(t,e);switch(n){case"referenceHidden":{const i=await Sh(e,{...a,elementContext:"reference"}),s=mT(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:gT(s)}}}case"escaped":{const i=await Sh(e,{...a,altBoundary:!0}),s=mT(i,r.floating);return{data:{escapedOffsets:s,escaped:gT(s)}}}default:return{}}}}},R7=new Set(["left","top"]);async function pme(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=lo(r),l=Nd(r),c=ss(r)==="y",u=R7.has(s)?-1:1,d=i&&c?-1:1,f=oo(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const mme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=e,c=await pme(e,t);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},gme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x,y:j}=v;return{x,y:j}}},...c}=oo(t,e),u={x:r,y:n},d=await Sh(e,c),f=ss(lo(a)),p=xN(f);let h=u[p],g=u[f];if(i){const v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",j=h+d[v],w=h-d[x];h=p_(j,h,w)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",j=g+d[v],w=g-d[x];g=p_(j,g,w)}const m=l.fn({...e,[p]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:s}}}}}},vme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oo(t,e),d={x:r,y:n},f=ss(a),p=xN(f);let h=d[p],g=d[f];const m=oo(l,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=p==="y"?"height":"width",_=i.reference[p]-i.floating[w]+v.mainAxis,N=i.reference[p]+i.reference[w]-v.mainAxis;h<_?h=_:h>N&&(h=N)}if(u){var x,j;const w=p==="y"?"width":"height",_=R7.has(lo(a)),N=i.reference[f]-i.floating[w]+(_&&((x=s.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),A=i.reference[f]+i.reference[w]+(_?0:((j=s.offset)==null?void 0:j[f])||0)-(_?v.crossAxis:0);g<N?g=N:g>A&&(g=A)}return{[p]:h,[f]:g}}}},yme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:s,elements:l}=e,{apply:c=()=>{},...u}=oo(t,e),d=await Sh(e,u),f=lo(a),p=Nd(a),h=ss(a)==="y",{width:g,height:m}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=p===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=p==="end"?"top":"bottom");const j=m-d.top-d.bottom,w=g-d.left-d.right,_=Ko(m-d[v],j),N=Ko(g-d[x],w),A=!e.middlewareData.shift;let k=_,O=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(O=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=j),A&&!p){const R=Ca(d.left,0),P=Ca(d.right,0),I=Ca(d.top,0),M=Ca(d.bottom,0);h?O=g-2*(R!==0||P!==0?R+P:Ca(d.left,d.right)):k=m-2*(I!==0||M!==0?I+M:Ca(d.top,d.bottom))}await c({...e,availableWidth:O,availableHeight:k});const T=await s.getDimensions(l.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function t0(){return typeof window<"u"}function Sd(t){return L7(t)?(t.nodeName||"").toLowerCase():"#document"}function La(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _s(t){var e;return(e=(L7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function L7(t){return t0()?t instanceof Node||t instanceof La(t).Node:!1}function Ri(t){return t0()?t instanceof Element||t instanceof La(t).Element:!1}function gs(t){return t0()?t instanceof HTMLElement||t instanceof La(t).HTMLElement:!1}function vT(t){return!t0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof La(t).ShadowRoot}const xme=new Set(["inline","contents"]);function Hh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Li(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!xme.has(a)}const bme=new Set(["table","td","th"]);function wme(t){return bme.has(Sd(t))}const _me=[":popover-open",":modal"];function r0(t){return _me.some(e=>{try{return t.matches(e)}catch{return!1}})}const jme=["transform","translate","scale","rotate","perspective"],Nme=["transform","translate","scale","rotate","perspective","filter"],Sme=["paint","layout","strict","content"];function _N(t){const e=jN(),r=Ri(t)?Li(t):t;return jme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Nme.some(n=>(r.willChange||"").includes(n))||Sme.some(n=>(r.contain||"").includes(n))}function Ame(t){let e=Xo(t);for(;gs(e)&&!sd(e);){if(_N(e))return e;if(r0(e))return null;e=Xo(e)}return null}function jN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kme=new Set(["html","body","#document"]);function sd(t){return kme.has(Sd(t))}function Li(t){return La(t).getComputedStyle(t)}function n0(t){return Ri(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xo(t){if(Sd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vT(t)&&t.host||_s(t);return vT(e)?e.host:e}function M7(t){const e=Xo(t);return sd(e)?t.ownerDocument?t.ownerDocument.body:t.body:gs(e)&&Hh(e)?e:M7(e)}function Ah(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=M7(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=La(a);if(i){const l=g_(s);return e.concat(s,s.visualViewport||[],Hh(a)?a:[],l&&r?Ah(l):[])}return e.concat(a,Ah(a,[],r))}function g_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function D7(t){const e=Li(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=gs(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,l=$g(r)!==i||$g(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function NN(t){return Ri(t)?t:t.contextElement}function Cu(t){const e=NN(t);if(!gs(e))return us(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=D7(e);let s=(i?$g(r.width):r.width)/n,l=(i?$g(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Pme=us(0);function $7(t){const e=La(t);return!jN()||!e.visualViewport?Pme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cme(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==La(t)?!1:e}function lc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=NN(t);let s=us(1);e&&(n?Ri(n)&&(s=Cu(n)):s=Cu(t));const l=Cme(i,r,n)?$7(i):us(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const p=La(i),h=n&&Ri(n)?La(n):n;let g=p,m=g_(g);for(;m&&n&&h!==g;){const v=Cu(m),x=m.getBoundingClientRect(),j=Li(m),w=x.left+(m.clientLeft+parseFloat(j.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=La(m),m=g_(g)}}return Bg({width:d,height:f,x:c,y:u})}function a0(t,e){const r=n0(t).scrollLeft;return e?e.left+r:lc(_s(t)).left+r}function F7(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-a0(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function Ome(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=_s(n),l=e?r0(e.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=us(1);const d=us(0),f=gs(n);if((f||!f&&!i)&&((Sd(n)!=="body"||Hh(s))&&(c=n0(n)),gs(n))){const h=lc(n);u=Cu(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=s&&!f&&!i?F7(s,c):us(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function Eme(t){return Array.from(t.getClientRects())}function Tme(t){const e=_s(t),r=n0(t),n=t.ownerDocument.body,a=Ca(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ca(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+a0(t);const l=-r.scrollTop;return Li(n).direction==="rtl"&&(s+=Ca(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}const yT=25;function Ime(t,e){const r=La(t),n=_s(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const d=jN();(!d||d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=a0(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=yT&&(i-=g)}else u<=yT&&(i+=u);return{width:i,height:s,x:l,y:c}}const Rme=new Set(["absolute","fixed"]);function Lme(t,e){const r=lc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=gs(t)?Cu(t):us(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function xT(t,e,r){let n;if(e==="viewport")n=Ime(t,r);else if(e==="document")n=Tme(_s(t));else if(Ri(e))n=Lme(e,r);else{const a=$7(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Bg(n)}function B7(t,e){const r=Xo(t);return r===e||!Ri(r)||sd(r)?!1:Li(r).position==="fixed"||B7(r,e)}function Mme(t,e){const r=e.get(t);if(r)return r;let n=Ah(t,[],!1).filter(l=>Ri(l)&&Sd(l)!=="body"),a=null;const i=Li(t).position==="fixed";let s=i?Xo(t):t;for(;Ri(s)&&!sd(s);){const l=Li(s),c=_N(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Rme.has(a.position)||Hh(s)&&!c&&B7(t,s))?n=n.filter(d=>d!==s):a=l,s=Xo(s)}return e.set(t,n),n}function Dme(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?r0(e)?[]:Mme(e,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=xT(e,d,a);return u.top=Ca(f.top,u.top),u.right=Ko(f.right,u.right),u.bottom=Ko(f.bottom,u.bottom),u.left=Ca(f.left,u.left),u},xT(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $me(t){const{width:e,height:r}=D7(t);return{width:e,height:r}}function Fme(t,e,r){const n=gs(e),a=_s(e),i=r==="fixed",s=lc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=us(0);function u(){c.x=a0(a)}if(n||!n&&!i)if((Sd(e)!=="body"||Hh(a))&&(l=n0(e)),n){const h=lc(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?F7(a,l):us(0),f=s.left+l.scrollLeft-c.x-d.x,p=s.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:s.width,height:s.height}}function r2(t){return Li(t).position==="static"}function bT(t,e){if(!gs(t)||Li(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return _s(t)===r&&(r=r.ownerDocument.body),r}function q7(t,e){const r=La(t);if(r0(t))return r;if(!gs(t)){let a=Xo(t);for(;a&&!sd(a);){if(Ri(a)&&!r2(a))return a;a=Xo(a)}return r}let n=bT(t,e);for(;n&&wme(n)&&r2(n);)n=bT(n,e);return n&&sd(n)&&r2(n)&&!_N(n)?r:n||Ame(t)||r}const Bme=async function(t){const e=this.getOffsetParent||q7,r=this.getDimensions,n=await r(t.floating);return{reference:Fme(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qme(t){return Li(t).direction==="rtl"}const Ume={convertOffsetParentRelativeRectToViewportRelativeRect:Ome,getDocumentElement:_s,getClippingRect:Dme,getOffsetParent:q7,getElementRects:Bme,getClientRects:Eme,getDimensions:$me,getScale:Cu,isElement:Ri,isRTL:qme};function U7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zme(t,e){let r=null,n;const a=_s(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||e(),!p||!h)return;const g=um(f),m=um(a.clientWidth-(d+p)),v=um(a.clientHeight-(f+h)),x=um(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Ca(0,Ko(1,c))||1};let _=!0;function N(A){const k=A[0].intersectionRatio;if(k!==c){if(!_)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!U7(u,t.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(t)}return s(!0),i}function Wme(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=NN(t),d=a||i?[...u?Ah(u):[],...Ah(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?zme(u,r):null;let p=-1,h=null;s&&(h=new ResizeObserver(x=>{let[j]=x;j&&j.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,m=c?lc(t):null;c&&v();function v(){const x=lc(t);m&&!U7(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const Hme=mme,Vme=gme,Gme=fme,Yme=yme,Kme=hme,wT=dme,Xme=vme,Zme=(t,e,r)=>{const n=new Map,a={platform:Ume,...r},i={...a.platform,_c:n};return ume(t,e,{...a,platform:i})};var Jme=typeof document<"u",Qme=function(){},Am=Jme?S.useLayoutEffect:Qme;function qg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!qg(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!qg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function z7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _T(t,e){const r=z7(t);return Math.round(e*r)/r}function n2(t){const e=S.useRef(t);return Am(()=>{e.current=t}),e}function ege(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=S.useState(n);qg(p,n)||h(n);const[g,m]=S.useState(null),[v,x]=S.useState(null),j=S.useCallback(B=>{B!==A.current&&(A.current=B,m(B))},[]),w=S.useCallback(B=>{B!==k.current&&(k.current=B,x(B))},[]),_=i||g,N=s||v,A=S.useRef(null),k=S.useRef(null),O=S.useRef(d),T=c!=null,R=n2(c),P=n2(a),I=n2(u),M=S.useCallback(()=>{if(!A.current||!k.current)return;const B={placement:e,strategy:r,middleware:p};P.current&&(B.platform=P.current),Zme(A.current,k.current,B).then(X=>{const J={...X,isPositioned:I.current!==!1};D.current&&!qg(O.current,J)&&(O.current=J,Xg.flushSync(()=>{f(J)}))})},[p,e,r,P,I]);Am(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const D=S.useRef(!1);Am(()=>(D.current=!0,()=>{D.current=!1}),[]),Am(()=>{if(_&&(A.current=_),N&&(k.current=N),_&&N){if(R.current)return R.current(_,N,M);M()}},[_,N,M,R,T]);const G=S.useMemo(()=>({reference:A,floating:k,setReference:j,setFloating:w}),[j,w]),F=S.useMemo(()=>({reference:_,floating:N}),[_,N]),q=S.useMemo(()=>{const B={position:r,left:0,top:0};if(!F.floating)return B;const X=_T(F.floating,d.x),J=_T(F.floating,d.y);return l?{...B,transform:"translate("+X+"px, "+J+"px)",...z7(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:J}},[r,l,F.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:M,refs:G,elements:F,floatingStyles:q}),[d,M,G,F,q])}const tge=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?wT({element:n.current,padding:a}).fn(r):{}:n?wT({element:n,padding:a}).fn(r):{}}}},rge=(t,e)=>({...Hme(t),options:[t,e]}),nge=(t,e)=>({...Vme(t),options:[t,e]}),age=(t,e)=>({...Xme(t),options:[t,e]}),ige=(t,e)=>({...Gme(t),options:[t,e]}),sge=(t,e)=>({...Yme(t),options:[t,e]}),oge=(t,e)=>({...Kme(t),options:[t,e]}),lge=(t,e)=>({...tge(t),options:[t,e]});var cge="Arrow",W7=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return o.jsx(it.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});W7.displayName=cge;var uge=W7;function i0(t){const[e,r]=S.useState(void 0);return nn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=t.offsetWidth,l=t.offsetHeight;r({width:s,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var SN="Popper",[H7,s0]=Mn(SN),[dge,V7]=H7(SN),G7=t=>{const{__scopePopper:e,children:r}=t,[n,a]=S.useState(null);return o.jsx(dge,{scope:e,anchor:n,onAnchorChange:a,children:r})};G7.displayName=SN;var Y7="PopperAnchor",K7=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=V7(Y7,r),s=S.useRef(null),l=Bt(e,s),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(it.div,{...a,ref:l})});K7.displayName=Y7;var AN="PopperContent",[fge,hge]=H7(AN),X7=S.forwardRef((t,e)=>{var oe,de,se,he,ge,ue;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=V7(AN,r),[x,j]=S.useState(null),w=Bt(e,Oe=>j(Oe)),[_,N]=S.useState(null),A=i0(_),k=(A==null?void 0:A.width)??0,O=(A==null?void 0:A.height)??0,T=n+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],I=P.length>0,M={padding:R,boundary:P.filter(mge),altBoundary:I},{refs:D,floatingStyles:G,placement:F,isPositioned:q,middlewareData:B}=ege({strategy:"fixed",placement:T,whileElementsMounted:(...Oe)=>Wme(...Oe,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[rge({mainAxis:a+O,alignmentAxis:s}),c&&nge({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?age():void 0,...M}),c&&ige({...M}),sge({...M,apply:({elements:Oe,rects:me,availableWidth:te,availableHeight:Ge})=>{const{width:Ue,height:He}=me.reference,Pe=Oe.floating.style;Pe.setProperty("--radix-popper-available-width",`${te}px`),Pe.setProperty("--radix-popper-available-height",`${Ge}px`),Pe.setProperty("--radix-popper-anchor-width",`${Ue}px`),Pe.setProperty("--radix-popper-anchor-height",`${He}px`)}}),_&&lge({element:_,padding:l}),gge({arrowWidth:k,arrowHeight:O}),p&&oge({strategy:"referenceHidden",...M})]}),[X,J]=Q7(F),ie=Wn(g);nn(()=>{q&&(ie==null||ie())},[q,ie]);const $=(oe=B.arrow)==null?void 0:oe.x,W=(de=B.arrow)==null?void 0:de.y,H=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[ee,le]=S.useState();return nn(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(he=B.transformOrigin)==null?void 0:he.x,(ge=B.transformOrigin)==null?void 0:ge.y].join(" "),...((ue=B.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(fge,{scope:r,placedSide:X,onArrowChange:N,arrowX:$,arrowY:W,shouldHideArrow:H,children:o.jsx(it.div,{"data-side":X,"data-align":J,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});X7.displayName=AN;var Z7="PopperArrow",pge={top:"bottom",right:"left",bottom:"top",left:"right"},J7=S.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=hge(Z7,n),s=pge[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(uge,{...a,ref:r,style:{...a.style,display:"block"}})})});J7.displayName=Z7;function mge(t){return t!==null}var gge=t=>({name:"transformOrigin",options:t,fn(e){var v,x,j;const{placement:r,rects:n,middlewareData:a}=e,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,d]=Q7(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,h=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?f:`${p}px`,m=`${-c}px`):u==="top"?(g=s?f:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?f:`${h}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?f:`${h}px`),{data:{x:g,y:m}}}});function Q7(t){const[e,r="center"]=t.split("-");return[e,r]}var e9=G7,kN=K7,t9=X7,r9=J7,o0="Popover",[n9,Owe]=Mn(o0,[s0]),Vh=s0(),[vge,il]=n9(o0),a9=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=t,l=Vh(e),c=S.useRef(null),[u,d]=S.useState(!1),[f,p]=ri({prop:n,defaultProp:a??!1,onChange:i,caller:o0});return o.jsx(e9,{...l,children:o.jsx(vge,{scope:e,contentId:ki(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:S.useCallback(()=>d(!0),[]),onCustomAnchorRemove:S.useCallback(()=>d(!1),[]),modal:s,children:r})})};a9.displayName=o0;var i9="PopoverAnchor",yge=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=il(i9,r),i=Vh(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return S.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(kN,{...i,...n,ref:e})});yge.displayName=i9;var s9="PopoverTrigger",o9=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=il(s9,r),i=Vh(r),s=Bt(e,a.triggerRef),l=o.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":f9(a.open),...n,ref:s,onClick:dt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(kN,{asChild:!0,...i,children:l})});o9.displayName=s9;var PN="PopoverPortal",[xge,bge]=n9(PN,{forceMount:void 0}),l9=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=il(PN,e);return o.jsx(xge,{scope:e,forceMount:r,children:o.jsx(fa,{present:r||i.open,children:o.jsx(ov,{asChild:!0,container:a,children:n})})})};l9.displayName=PN;var od="PopoverContent",c9=S.forwardRef((t,e)=>{const r=bge(od,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=il(od,t.__scopePopover);return o.jsx(fa,{present:n||i.open,children:i.modal?o.jsx(_ge,{...a,ref:e}):o.jsx(jge,{...a,ref:e})})});c9.displayName=od;var wge=Xl("PopoverContent.RemoveScroll"),_ge=S.forwardRef((t,e)=>{const r=il(od,t.__scopePopover),n=S.useRef(null),a=Bt(e,n),i=S.useRef(!1);return S.useEffect(()=>{const s=n.current;if(s)return Q_(s)},[]),o.jsx(cv,{as:wge,allowPinchZoom:!0,children:o.jsx(u9,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(t.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:dt(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),jge=S.forwardRef((t,e)=>{const r=il(od,t.__scopePopover),n=S.useRef(!1),a=S.useRef(!1);return o.jsx(u9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),u9=S.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=il(od,r),h=Vh(r);return J_(),o.jsx(sv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(iv,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(t9,{"data-state":f9(p.open),role:"dialog",id:p.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),d9="PopoverClose",Nge=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=il(d9,r);return o.jsx(it.button,{type:"button",...n,ref:e,onClick:dt(t.onClick,()=>a.onOpenChange(!1))})});Nge.displayName=d9;var Sge="PopoverArrow",Age=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Vh(r);return o.jsx(r9,{...a,...n,ref:e})});Age.displayName=Sge;function f9(t){return t?"open":"closed"}var kge=a9,Pge=o9,Cge=l9,Oge=c9;function Ege({...t}){return o.jsx(kge,{"data-slot":"popover",...t})}function Tge({...t}){return o.jsx(Pge,{"data-slot":"popover-trigger",...t})}function Ige({className:t,align:e="center",sideOffset:r=4,...n}){return o.jsx(Cge,{children:o.jsx(Oge,{"data-slot":"popover-content",align:e,sideOffset:r,className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Jt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ba(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Zn(t,e){const r=Jt(t);return isNaN(e)?Ba(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Mi(t,e){const r=Jt(t);if(isNaN(e))return Ba(t,NaN);if(!e)return r;const n=r.getDate(),a=Ba(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const CN=6048e5,Rge=864e5;let Lge={};function Gh(){return Lge}function vs(t,e){var l,c,u,d;const r=Gh(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Jt(t),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function cc(t){return vs(t,{weekStartsOn:1})}function h9(t){const e=Jt(t),r=e.getFullYear(),n=Ba(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=cc(n),i=Ba(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=cc(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function ld(t){const e=Jt(t);return e.setHours(0,0,0,0),e}function Ug(t){const e=Jt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function os(t,e){const r=ld(t),n=ld(e),a=+r-Ug(r),i=+n-Ug(n);return Math.round((a-i)/Rge)}function Mge(t){const e=h9(t),r=Ba(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),cc(r)}function v_(t,e){const r=e*7;return Zn(t,r)}function Dge(t,e){return Mi(t,e*12)}function $ge(t){let e;return t.forEach(function(r){const n=Jt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Fge(t){let e;return t.forEach(r=>{const n=Jt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function ua(t,e){const r=ld(t),n=ld(e);return+r==+n}function ON(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bge(t){if(!ON(t)&&typeof t!="number")return!1;const e=Jt(t);return!isNaN(Number(e))}function kh(t,e){const r=Jt(t),n=Jt(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function qge(t,e,r){const n=vs(t,r),a=vs(e,r),i=+n-Ug(n),s=+a-Ug(a);return Math.round((i-s)/CN)}function EN(t){const e=Jt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function da(t){const e=Jt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function p9(t){const e=Jt(t),r=Ba(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function TN(t,e){var l,c,u,d;const r=Gh(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Jt(t),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function m9(t){return TN(t,{weekStartsOn:1})}const Uge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zge=(t,e,r)=>{let n;const a=Uge[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function a2(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Wge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gge={date:a2({formats:Wge,defaultWidth:"full"}),time:a2({formats:Hge,defaultWidth:"full"}),dateTime:a2({formats:Vge,defaultWidth:"full"})},Yge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kge=(t,e,r,n)=>Yge[t];function mf(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Xge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rve=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nve={ordinalNumber:rve,era:mf({values:Xge,defaultWidth:"wide"}),quarter:mf({values:Zge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mf({values:Jge,defaultWidth:"wide"}),day:mf({values:Qge,defaultWidth:"wide"}),dayPeriod:mf({values:eve,defaultWidth:"wide",formattingValues:tve,defaultFormattingWidth:"wide"})};function gf(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ive(l,f=>f.test(s)):ave(l,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function ave(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ive(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function sve(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=e.slice(a.length);return{value:s,rest:l}}}const ove=/^(\d+)(th|st|nd|rd)?/i,lve=/\d+/i,cve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uve={any:[/^b/i,/^(a|c)/i]},dve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fve={any:[/1/i,/2/i,/3/i,/4/i]},hve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xve={ordinalNumber:sve({matchPattern:ove,parsePattern:lve,valueCallback:t=>parseInt(t,10)}),era:gf({matchPatterns:cve,defaultMatchWidth:"wide",parsePatterns:uve,defaultParseWidth:"any"}),quarter:gf({matchPatterns:dve,defaultMatchWidth:"wide",parsePatterns:fve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gf({matchPatterns:hve,defaultMatchWidth:"wide",parsePatterns:pve,defaultParseWidth:"any"}),day:gf({matchPatterns:mve,defaultMatchWidth:"wide",parsePatterns:gve,defaultParseWidth:"any"}),dayPeriod:gf({matchPatterns:vve,defaultMatchWidth:"any",parsePatterns:yve,defaultParseWidth:"any"})},g9={code:"en-US",formatDistance:zge,formatLong:Gge,formatRelative:Kge,localize:nve,match:xve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bve(t){const e=Jt(t);return os(e,p9(e))+1}function v9(t){const e=Jt(t),r=+cc(e)-+Mge(e);return Math.round(r/CN)+1}function y9(t,e){var d,f,p,h;const r=Jt(t),n=r.getFullYear(),a=Gh(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=Ba(t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=vs(s,e),c=Ba(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=vs(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function wve(t,e){var l,c,u,d;const r=Gh(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=y9(t,e),i=Ba(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),vs(i,e)}function x9(t,e){const r=Jt(t),n=+vs(r,e)-+wve(r,e);return Math.round(n/CN)+1}function cr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const To={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return cr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):cr(r+1,2)},d(t,e){return cr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return cr(t.getHours()%12||12,e.length)},H(t,e){return cr(t.getHours(),e.length)},m(t,e){return cr(t.getMinutes(),e.length)},s(t,e){return cr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return cr(a,e.length)}},iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jT={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return To.y(t,e)},Y:function(t,e,r,n){const a=y9(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return cr(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):cr(i,e.length)},R:function(t,e){const r=h9(t);return cr(r,e.length)},u:function(t,e){const r=t.getFullYear();return cr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return cr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return cr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return To.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return cr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=x9(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):cr(a,e.length)},I:function(t,e,r){const n=v9(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):cr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):To.d(t,e)},D:function(t,e,r){const n=bve(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):cr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return cr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return cr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return cr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=iu.noon:n===0?a=iu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=iu.evening:n>=12?a=iu.afternoon:n>=4?a=iu.morning:a=iu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return To.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):To.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):To.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):To.s(t,e)},S:function(t,e){return To.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ST(n);case"XXXX":case"XX":return Rl(n);case"XXXXX":case"XXX":default:return Rl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return ST(n);case"xxxx":case"xx":return Rl(n);case"xxxxx":case"xxx":default:return Rl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+NT(n,":");case"OOOO":default:return"GMT"+Rl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+NT(n,":");case"zzzz":default:return"GMT"+Rl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return cr(n,e.length)},T:function(t,e,r){const n=t.getTime();return cr(n,e.length)}};function NT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+cr(i,2)}function ST(t,e){return t%60===0?(t>0?"-":"+")+cr(Math.abs(t)/60,2):Rl(t,e)}function Rl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=cr(Math.trunc(n/60),2),i=cr(n%60,2);return r+a+e+i}const AT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},b9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_ve=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return AT(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",AT(n,e)).replace("{{time}}",b9(a,e))},jve={p:b9,P:_ve},Nve=/^D+$/,Sve=/^Y+$/,Ave=["D","DD","YY","YYYY"];function kve(t){return Nve.test(t)}function Pve(t){return Sve.test(t)}function Cve(t,e,r){const n=Ove(t,e,r);if(console.warn(n),Ave.includes(t))throw new RangeError(n)}function Ove(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Eve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ive=/^'([^]*?)'?$/,Rve=/''/g,Lve=/[a-zA-Z]/;function ds(t,e,r){var d,f,p,h,g,m,v,x;const n=Gh(),a=(r==null?void 0:r.locale)??n.locale??g9,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Jt(t);if(!Bge(l))throw new RangeError("Invalid time value");let c=e.match(Tve).map(j=>{const w=j[0];if(w==="p"||w==="P"){const _=jve[w];return _(j,a.formatLong)}return j}).join("").match(Eve).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const w=j[0];if(w==="'")return{isToken:!1,value:Mve(j)};if(jT[w])return{isToken:!0,value:j};if(w.match(Lve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const w=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Pve(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&kve(w))&&Cve(w,e,String(t));const _=jT[w[0]];return _(l,w,a.localize,u)}).join("")}function Mve(t){const e=t.match(Ive);return e?e[1].replace(Rve,"'"):t}function Dve(t){const e=Jt(t),r=e.getFullYear(),n=e.getMonth(),a=Ba(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function $ve(t){return Math.trunc(+Jt(t)/1e3)}function Fve(t){const e=Jt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Bve(t,e){return qge(Fve(t),da(t),e)+1}function y_(t,e){const r=Jt(t),n=Jt(e);return r.getTime()>n.getTime()}function w9(t,e){const r=Jt(t),n=Jt(e);return+r<+n}function IN(t,e){const r=Jt(t),n=Jt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function qve(t,e){const r=Jt(t),n=Jt(e);return r.getFullYear()===n.getFullYear()}function i2(t,e){return Zn(t,-e)}function s2(t,e){const r=Jt(t),n=r.getFullYear(),a=r.getDate(),i=Ba(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const s=Dve(i);return r.setMonth(e,Math.min(a,s)),r}function kT(t,e){const r=Jt(t);return isNaN(+r)?Ba(t,NaN):(r.setFullYear(e),r)}var _t=function(){return _t=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_t.apply(this,arguments)};function Uve(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function _9(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Yh(t){return t.mode==="multiple"}function Kh(t){return t.mode==="range"}function l0(t){return t.mode==="single"}var zve={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Wve(t,e){return ds(t,"LLLL y",e)}function Hve(t,e){return ds(t,"d",e)}function Vve(t,e){return ds(t,"LLLL",e)}function Gve(t){return"".concat(t)}function Yve(t,e){return ds(t,"cccccc",e)}function Kve(t,e){return ds(t,"yyyy",e)}var Xve=Object.freeze({__proto__:null,formatCaption:Wve,formatDay:Hve,formatMonthCaption:Vve,formatWeekNumber:Gve,formatWeekdayName:Yve,formatYearCaption:Kve}),Zve=function(t,e,r){return ds(t,"do MMMM (EEEE)",r)},Jve=function(){return"Month: "},Qve=function(){return"Go to next month"},e0e=function(){return"Go to previous month"},t0e=function(t,e){return ds(t,"cccc",e)},r0e=function(t){return"Week n. ".concat(t)},n0e=function(){return"Year: "},a0e=Object.freeze({__proto__:null,labelDay:Zve,labelMonthDropdown:Jve,labelNext:Qve,labelPrevious:e0e,labelWeekNumber:r0e,labelWeekday:t0e,labelYearDropdown:n0e});function i0e(){var t="buttons",e=zve,r=g9,n={},a={},i=1,s={},l=new Date;return{captionLayout:t,classNames:e,formatters:Xve,labels:a0e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:l,mode:"default"}}function s0e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,s=t.toDate;return n?i=da(n):e&&(i=new Date(e,0,1)),a?s=EN(a):r&&(s=new Date(r,11,31)),{fromDate:i?ld(i):void 0,toDate:s?ld(s):void 0}}var j9=S.createContext(void 0);function o0e(t){var e,r=t.initialProps,n=i0e(),a=s0e(r),i=a.fromDate,s=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!s)&&(l="buttons");var c;(l0(r)||Yh(r)||Kh(r))&&(c=r.onSelect);var u=_t(_t(_t({},n),r),{captionLayout:l,classNames:_t(_t({},n.classNames),r.classNames),components:_t({},r.components),formatters:_t(_t({},n.formatters),r.formatters),fromDate:i,labels:_t(_t({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:_t(_t({},n.modifiers),r.modifiers),modifiersClassNames:_t(_t({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:_t(_t({},n.styles),r.styles),toDate:s});return o.jsx(j9.Provider,{value:u,children:t.children})}function Pr(){var t=S.useContext(j9);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function N9(t){var e=Pr(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function l0e(t){return o.jsx("svg",_t({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function S9(t){var e,r,n=t.onChange,a=t.value,i=t.children,s=t.caption,l=t.className,c=t.style,u=Pr(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:l0e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function c0e(t){var e,r=Pr(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(qve(n,a))for(var p=da(n),h=n.getMonth();h<=a.getMonth();h++)f.push(s2(p,h));else for(var p=da(new Date),h=0;h<=11;h++)f.push(s2(p,h));var g=function(v){var x=Number(v.target.value),j=s2(da(t.displayMonth),x);t.onChange(j)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:S9;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:s}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:s})},v.getMonth())})})}function u0e(t){var e,r=t.displayMonth,n=Pr(),a=n.fromDate,i=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!a)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var h=a.getFullYear(),g=i.getFullYear(),m=h;m<=g;m++)p.push(kT(p9(new Date),m));var v=function(j){var w=kT(da(r),Number(j.target.value));t.onChange(w)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:S9;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:p.map(function(j){return o.jsx("option",{value:j.getFullYear(),children:d(j,{locale:s})},j.getFullYear())})})}function d0e(t,e){var r=S.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function f0e(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,s=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&kh(i,a)<0){var u=-1*(c-1);a=Mi(i,u)}return s&&kh(a,s)<0&&(a=s),da(a)}function h0e(){var t=Pr(),e=f0e(t),r=d0e(e,t.month),n=r[0],a=r[1],i=function(s){var l;if(!t.disableNavigation){var c=da(s);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function p0e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=da(t),i=da(Mi(a,n)),s=kh(i,a),l=[],c=0;c<s;c++){var u=Mi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function m0e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=da(t);if(!r)return Mi(l,s);var c=kh(r,t);if(!(c<i))return Mi(l,s)}}function g0e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=da(t);if(!r)return Mi(l,-s);var c=kh(l,r);if(!(c<=0))return Mi(l,-s)}}var A9=S.createContext(void 0);function v0e(t){var e=Pr(),r=h0e(),n=r[0],a=r[1],i=p0e(n,e),s=m0e(n,e),l=g0e(n,e),c=function(f){return i.some(function(p){return IN(f,p)})},u=function(f,p){c(f)||(p&&w9(f,p)?a(Mi(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(A9.Provider,{value:d,children:t.children})}function Xh(){var t=S.useContext(A9);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function PT(t){var e,r=Pr(),n=r.classNames,a=r.styles,i=r.components,s=Xh().goToMonth,l=function(d){s(Mi(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:N9,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(c0e,{onChange:l,displayMonth:t.displayMonth}),o.jsx(u0e,{onChange:l,displayMonth:t.displayMonth})]})}function y0e(t){return o.jsx("svg",_t({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function x0e(t){return o.jsx("svg",_t({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zg=S.forwardRef(function(t,e){var r=Pr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var s=i.join(" "),l=_t(_t({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),o.jsx("button",_t({},t,{ref:e,type:"button",className:s,style:l}))});function b0e(t){var e,r,n=Pr(),a=n.dir,i=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var p=u(t.previousMonth,{locale:i}),h=[s.nav_button,s.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:x0e,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:y0e;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(zg,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:s.nav_icon,style:l.nav_icon}):o.jsx(x,{className:s.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(zg,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?o.jsx(x,{className:s.nav_icon,style:l.nav_icon}):o.jsx(v,{className:s.nav_icon,style:l.nav_icon})})]})}function CT(t){var e=Pr().numberOfMonths,r=Xh(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(g){return IN(t.displayMonth,g)}),c=l===0,u=l===s.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){n&&i(n)},h=function(){a&&i(a)};return o.jsx(b0e,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:h})}function w0e(t){var e,r=Pr(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:N9,u;return a?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=o.jsx(PT,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(PT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(CT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(CT,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function _0e(t){var e=Pr(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function j0e(t,e,r){for(var n=r?cc(new Date):vs(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var s=Zn(n,i);a.push(s)}return a}function N0e(){var t=Pr(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,s=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=j0e(a,i,s);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function S0e(){var t,e=Pr(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:N0e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function A0e(t){var e=Pr(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var RN=S.createContext(void 0);function k0e(t){if(!Yh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(RN.Provider,{value:e,children:t.children})}return o.jsx(P0e,{initialProps:t.initialProps,children:t.children})}function P0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,s=function(u,d,f){var p,h;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?_9([],n):[];if(d.selected){var x=v.findIndex(function(j){return ua(u,j)});v.splice(x,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(p){return ua(p,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(RN.Provider,{value:c,children:r})}function LN(){var t=S.useContext(RN);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function C0e(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?ua(a,t)&&ua(n,t)?void 0:ua(a,t)?{from:a,to:void 0}:ua(n,t)?void 0:y_(n,t)?{from:t,to:a}:{from:n,to:t}:a?y_(t,a)?{from:a,to:t}:{from:t,to:a}:n?w9(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var MN=S.createContext(void 0);function O0e(t){if(!Kh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(MN.Provider,{value:e,children:t.children})}return o.jsx(E0e,{initialProps:t.initialProps,children:t.children})}function E0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,s=a.to,l=e.min,c=e.max,u=function(h,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,h,g,m);var j=C0e(h,n);(x=e.onSelect)===null||x===void 0||x.call(e,j,h,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],ua(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),l&&(i&&!s&&d.disabled.push({after:i2(i,l-1),before:Zn(i,l-1)}),i&&s&&d.disabled.push({after:i,before:Zn(i,l-1)}),!i&&s&&d.disabled.push({after:i2(s,l-1),before:Zn(s,l-1)})),c){if(i&&!s&&(d.disabled.push({before:Zn(i,-c+1)}),d.disabled.push({after:Zn(i,c-1)})),i&&s){var f=os(s,i)+1,p=c-f;d.disabled.push({before:i2(i,p)}),d.disabled.push({after:Zn(s,p)})}!i&&s&&(d.disabled.push({before:Zn(s,-c+1)}),d.disabled.push({after:Zn(s,c-1)}))}return o.jsx(MN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function DN(){var t=S.useContext(MN);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function km(t){return Array.isArray(t)?_9([],t):t!==void 0?[t]:[]}function T0e(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=km(a)}),e}var Di;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Di||(Di={}));var I0e=Di.Selected,Fs=Di.Disabled,R0e=Di.Hidden,L0e=Di.Today,o2=Di.RangeEnd,l2=Di.RangeMiddle,c2=Di.RangeStart,M0e=Di.Outside;function D0e(t,e,r){var n,a=(n={},n[I0e]=km(t.selected),n[Fs]=km(t.disabled),n[R0e]=km(t.hidden),n[L0e]=[t.today],n[o2]=[],n[l2]=[],n[c2]=[],n[M0e]=[],n);return t.fromDate&&a[Fs].push({before:t.fromDate}),t.toDate&&a[Fs].push({after:t.toDate}),Yh(t)?a[Fs]=a[Fs].concat(e.modifiers[Fs]):Kh(t)&&(a[Fs]=a[Fs].concat(r.modifiers[Fs]),a[c2]=r.modifiers[c2],a[l2]=r.modifiers[l2],a[o2]=r.modifiers[o2]),a}var k9=S.createContext(void 0);function $0e(t){var e=Pr(),r=LN(),n=DN(),a=D0e(e,r,n),i=T0e(e.modifiers),s=_t(_t({},a),i);return o.jsx(k9.Provider,{value:s,children:t.children})}function P9(){var t=S.useContext(k9);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function F0e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function B0e(t){return!!(t&&typeof t=="object"&&"from"in t)}function q0e(t){return!!(t&&typeof t=="object"&&"after"in t)}function U0e(t){return!!(t&&typeof t=="object"&&"before"in t)}function z0e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function W0e(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=os(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=os(t,n)>=0&&os(a,t)>=0;return s}return a?ua(a,t):n?ua(n,t):!1}function H0e(t){return ON(t)}function V0e(t){return Array.isArray(t)&&t.every(ON)}function G0e(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(H0e(r))return ua(t,r);if(V0e(r))return r.includes(t);if(B0e(r))return W0e(t,r);if(z0e(r))return r.dayOfWeek.includes(t.getDay());if(F0e(r)){var n=os(r.before,t),a=os(r.after,t),i=n>0,s=a<0,l=y_(r.before,r.after);return l?s&&i:i||s}return q0e(r)?os(t,r.after)>0:U0e(r)?os(r.before,t)>0:typeof r=="function"?r(t):!1})}function $N(t,e,r){var n=Object.keys(e).reduce(function(i,s){var l=e[s];return G0e(t,l)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!IN(t,r)&&(a.outside=!0),a}function Y0e(t,e){for(var r=da(t[0]),n=EN(t[t.length-1]),a,i,s=r;s<=n;){var l=$N(s,e),c=!l.disabled&&!l.hidden;if(!c){s=Zn(s,1);continue}if(l.selected)return s;l.today&&!i&&(i=s),a||(a=s),s=Zn(s,1)}return i||a}var K0e=365;function C9(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,s=e.retry,l=s===void 0?{count:0,lastFocused:t}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,p={day:Zn,week:v_,month:Mi,year:Dge,startOfWeek:function(v){return a.ISOWeek?cc(v):vs(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?m9(v):TN(v,{locale:f,weekStartsOn:c})}},h=p[r](t,n==="after"?1:-1);n==="before"&&u?h=$ge([u,h]):n==="after"&&d&&(h=Fge([d,h]));var g=!0;if(i){var m=$N(h,i);g=!m.disabled&&!m.hidden}return g?h:l.count>K0e?l.lastFocused:C9(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:_t(_t({},l),{count:l.count+1})})}var O9=S.createContext(void 0);function X0e(t){var e=Xh(),r=P9(),n=S.useState(),a=n[0],i=n[1],s=S.useState(),l=s[0],c=s[1],u=Y0e(e.displayMonths,r),d=a??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},p=function(v){i(v)},h=Pr(),g=function(v,x){if(a){var j=C9(a,{moveBy:v,direction:x,context:h,modifiers:r});ua(a,j)||(e.goToDate(j,a),p(j))}},m={focusedDay:a,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(O9.Provider,{value:m,children:t.children})}function FN(){var t=S.useContext(O9);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Z0e(t,e){var r=P9(),n=$N(t,r,e);return n}var BN=S.createContext(void 0);function J0e(t){if(!l0(t.initialProps)){var e={selected:void 0};return o.jsx(BN.Provider,{value:e,children:t.children})}return o.jsx(Q0e,{initialProps:t.initialProps,children:t.children})}function Q0e(t){var e=t.initialProps,r=t.children,n=function(i,s,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,s,l),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,s,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,s,l)},a={selected:e.selected,onDayClick:n};return o.jsx(BN.Provider,{value:a,children:r})}function E9(){var t=S.useContext(BN);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function eye(t,e){var r=Pr(),n=E9(),a=LN(),i=DN(),s=FN(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,p=s.focus,h=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,x=s.focusStartOfWeek,j=s.focusEndOfWeek,w=function(q){var B,X,J,ie;l0(r)?(B=n.onDayClick)===null||B===void 0||B.call(n,t,e,q):Yh(r)?(X=a.onDayClick)===null||X===void 0||X.call(a,t,e,q):Kh(r)?(J=i.onDayClick)===null||J===void 0||J.call(i,t,e,q):(ie=r.onDayClick)===null||ie===void 0||ie.call(r,t,e,q)},_=function(q){var B;p(t),(B=r.onDayFocus)===null||B===void 0||B.call(r,t,e,q)},N=function(q){var B;f(),(B=r.onDayBlur)===null||B===void 0||B.call(r,t,e,q)},A=function(q){var B;(B=r.onDayMouseEnter)===null||B===void 0||B.call(r,t,e,q)},k=function(q){var B;(B=r.onDayMouseLeave)===null||B===void 0||B.call(r,t,e,q)},O=function(q){var B;(B=r.onDayPointerEnter)===null||B===void 0||B.call(r,t,e,q)},T=function(q){var B;(B=r.onDayPointerLeave)===null||B===void 0||B.call(r,t,e,q)},R=function(q){var B;(B=r.onDayTouchCancel)===null||B===void 0||B.call(r,t,e,q)},P=function(q){var B;(B=r.onDayTouchEnd)===null||B===void 0||B.call(r,t,e,q)},I=function(q){var B;(B=r.onDayTouchMove)===null||B===void 0||B.call(r,t,e,q)},M=function(q){var B;(B=r.onDayTouchStart)===null||B===void 0||B.call(r,t,e,q)},D=function(q){var B;(B=r.onDayKeyUp)===null||B===void 0||B.call(r,t,e,q)},G=function(q){var B;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?m():h();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?v():g();break;case"Home":q.preventDefault(),q.stopPropagation(),x();break;case"End":q.preventDefault(),q.stopPropagation(),j();break}(B=r.onDayKeyDown)===null||B===void 0||B.call(r,t,e,q)},F={onClick:w,onFocus:_,onBlur:N,onKeyDown:G,onKeyUp:D,onMouseEnter:A,onMouseLeave:k,onPointerEnter:O,onPointerLeave:T,onTouchCancel:R,onTouchEnd:P,onTouchMove:I,onTouchStart:M};return F}function tye(){var t=Pr(),e=E9(),r=LN(),n=DN(),a=l0(t)?e.selected:Yh(t)?r.selected:Kh(t)?n.selected:void 0;return a}function rye(t){return Object.values(Di).includes(t)}function nye(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(rye(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function aye(t,e){var r=_t({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=_t(_t({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function iye(t,e,r){var n,a,i,s=Pr(),l=FN(),c=Z0e(t,e),u=eye(t,c),d=tye(),f=!!(s.onDayClick||s.mode!=="default");S.useEffect(function(){var A;c.outside||l.focusedDay&&f&&ua(l.focusedDay,t)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,t,r,f,c.outside]);var p=nye(s,c).join(" "),h=aye(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),m=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:A0e,v=o.jsx(m,{date:t,displayMonth:e,activeModifiers:c}),x={style:h,className:p,children:v,role:"gridcell"},j=l.focusTarget&&ua(l.focusTarget,t)&&!c.outside,w=l.focusedDay&&ua(l.focusedDay,t),_=_t(_t(_t({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||j?0:-1,n)),u),N={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return N}function sye(t){var e=S.useRef(null),r=iye(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(zg,_t({name:"day",ref:e},r.buttonProps)):o.jsx("div",_t({},r.divProps))}function oye(t){var e=t.number,r=t.dates,n=Pr(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!a)return o.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(h){a(e,r,h)};return o.jsx(zg,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:p,children:d})}function lye(t){var e,r,n=Pr(),a=n.styles,i=n.classNames,s=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:sye,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:oye,d;return s&&(d=o.jsx("td",{className:i.cell,style:a.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},$ve(f))})]})}function OT(t,e,r){for(var n=r!=null&&r.ISOWeek?m9(e):TN(e,r),a=r!=null&&r.ISOWeek?cc(t):vs(t,r),i=os(n,a),s=[],l=0;l<=i;l++)s.push(Zn(a,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?v9(d):x9(d,r),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function cye(t,e){var r=OT(da(t),EN(t),e);if(e!=null&&e.useFixedWeeks){var n=Bve(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=v_(i,6-n),l=OT(v_(i,1),s,e);r.push.apply(r,l)}}return r}function uye(t){var e,r,n,a=Pr(),i=a.locale,s=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,g=cye(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:S0e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:lye,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:_0e;return o.jsxs("table",{id:t.id,className:s.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:g.map(function(j){return o.jsx(v,{displayMonth:t.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),o.jsx(x,{displayMonth:t.displayMonth})]})}function dye(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fye=dye()?S.useLayoutEffect:S.useEffect,u2=!1,hye=0;function ET(){return"react-day-picker-".concat(++hye)}function pye(t){var e,r=t??(u2?ET():null),n=S.useState(r),a=n[0],i=n[1];return fye(function(){a===null&&i(ET())},[]),S.useEffect(function(){u2===!1&&(u2=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function mye(t){var e,r,n=Pr(),a=n.dir,i=n.classNames,s=n.styles,l=n.components,c=Xh().displayMonths,u=pye(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=s.month,h=t.displayIndex===0,g=t.displayIndex===c.length-1,m=!h&&!g;a==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(i.caption_start),p=_t(_t({},p),s.caption_start)),g&&(f.push(i.caption_end),p=_t(_t({},p),s.caption_end)),m&&(f.push(i.caption_between),p=_t(_t({},p),s.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:w0e;return o.jsxs("div",{className:f.join(" "),style:p,children:[o.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(uye,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function gye(t){var e=Pr(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function vye(t){var e,r,n=t.initialProps,a=Pr(),i=FN(),s=Xh(),l=S.useState(!1),c=l[0],u=l[1];S.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=_t(_t({},a.styles.root),a.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return _t(_t({},g),(v={},v[m]=n[m],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:gye;return o.jsx("div",_t({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(h,{children:s.displayMonths.map(function(g,m){return o.jsx(mye,{displayIndex:m,displayMonth:g},m)})})}))}function yye(t){var e=t.children,r=Uve(t,["children"]);return o.jsx(o0e,{initialProps:r,children:o.jsx(v0e,{children:o.jsx(J0e,{initialProps:r,children:o.jsx(k0e,{initialProps:r,children:o.jsx(O0e,{initialProps:r,children:o.jsx($0e,{children:o.jsx(X0e,{children:e})})})})})})})}function xye(t){return o.jsx(yye,_t({},t,{children:o.jsx(vye,{initialProps:t})}))}function bye({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(xye,{showOutsideDays:r,className:qe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:qe(Mf({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:qe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:qe(Mf({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:a,...i})=>o.jsx(cI,{className:qe("size-4",a),...i}),IconRight:({className:a,...i})=>o.jsx(Pm,{className:qe("size-4",a),...i})},...n})}function wye(){const[t,e]=S.useState([]),[r,n]=S.useState(!0),[a,i]=S.useState({from:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),to:new Date});S.useEffect(()=>{a.from&&a.to&&s()},[a]);const s=async()=>{if(!(!a.from||!a.to))try{n(!0);const u=a.from.toISOString().split("T")[0],d=a.to.toISOString().split("T")[0],f=await r8(u,d);e(f||[])}catch(u){console.error("Error fetching sales data:",u),e([])}finally{n(!1)}},l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=({active:u,payload:d,label:f})=>u&&d&&d.length?o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-medium",children:f}),o.jsxs("p",{className:"text-blue-600",children:["Sales: ",l(d[0].value)]}),o.jsxs("p",{className:"text-gray-600",children:["Orders: ",d[0].payload.orders_count]})]}):null;return o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(vt,{children:"Sales Overview"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Ege,{children:[o.jsx(Tge,{asChild:!0,children:o.jsxs(be,{variant:"outline",size:"sm",children:[o.jsx(Jg,{className:"h-4 w-4 mr-2"}),a.from?a.to?o.jsxs(o.Fragment,{children:[ds(a.from,"LLL dd, y")," -"," ",ds(a.to,"LLL dd, y")]}):ds(a.from,"LLL dd, y"):"Pick a date range"]})}),o.jsx(Ige,{className:"w-auto p-0",align:"end",children:o.jsx(bye,{initialFocus:!0,mode:"range",defaultMonth:a.from,selected:{from:a.from,to:a.to},onSelect:u=>{i({from:u==null?void 0:u.from,to:u==null?void 0:u.to})},numberOfMonths:2})})]})})]})}),o.jsx(Le,{children:r?o.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[o.jsx(Za,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading sales data..."})]}):t.length===0?o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No sales data found for the selected period"}):o.jsx(Xm,{width:"100%",height:300,children:o.jsxs(Jpe,{data:t,children:[o.jsx(vN,{strokeDasharray:"3 3"}),o.jsx(jd,{dataKey:"month"}),o.jsx(oc,{tickFormatter:l}),o.jsx(ka,{content:o.jsx(c,{})}),o.jsx(al,{dataKey:"sales",fill:"#8884d8"})]})})})]})}const TT=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function _ye(){const[t,e]=S.useState([]),[r,n]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const l=(await n8()||[]).map((c,u)=>({name:c.category_name,value:c.product_count,percentage:c.percentage,color:TT[u%TT.length]}));e(l)}catch(s){console.error("Error fetching category data:",s),e([])}finally{n(!1)}})()},[]);const a=({active:i,payload:s})=>{if(i&&s&&s.length){const l=s[0].payload;return o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-medium",children:l.name}),o.jsxs("p",{className:"text-blue-600",children:["Products: ",l.value]}),o.jsxs("p",{className:"text-gray-600",children:["Percentage: ",l.percentage.toFixed(1),"%"]})]})}return null};return o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Product Distribution by Category"})}),o.jsx(Le,{children:r?o.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[o.jsx(Za,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading category data..."})]}):t.length===0?o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No category data available"}):o.jsx(Xm,{width:"100%",height:300,children:o.jsxs(T7,{children:[o.jsx(ws,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percentage:s})=>`${i} ${s.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,s)=>o.jsx(Dh,{fill:i.color},`cell-${s}`))}),o.jsx(ka,{content:o.jsx(a,{})})]})})})]})}function jye({className:t,...e}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:qe("w-full caption-bottom text-sm",t),...e})})}function Nye({className:t,...e}){return o.jsx("thead",{"data-slot":"table-header",className:qe("[&_tr]:border-b",t),...e})}function Sye({className:t,...e}){return o.jsx("tbody",{"data-slot":"table-body",className:qe("[&_tr:last-child]:border-0",t),...e})}function IT({className:t,...e}){return o.jsx("tr",{"data-slot":"table-row",className:qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function yi({className:t,...e}){return o.jsx("th",{"data-slot":"table-head",className:qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function xi({className:t,...e}){return o.jsx("td",{"data-slot":"table-cell",className:qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function x_(t,[e,r]){return Math.min(r,Math.max(e,t))}function c0(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var T9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Aye="VisuallyHidden",kye=S.forwardRef((t,e)=>o.jsx(it.span,{...t,ref:e,style:{...T9,...t.style}}));kye.displayName=Aye;var Pye=[" ","Enter","ArrowUp","ArrowDown"],Cye=[" ","Enter"],uc="Select",[u0,d0,Oye]=fj(uc),[Ad,Ewe]=Mn(uc,[Oye,s0]),f0=s0(),[Eye,sl]=Ad(uc),[Tye,Iye]=Ad(uc),I9=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,m=f0(e),[v,x]=S.useState(null),[j,w]=S.useState(null),[_,N]=S.useState(!1),A=pd(u),[k,O]=ri({prop:n,defaultProp:a??!1,onChange:i,caller:uc}),[T,R]=ri({prop:s,defaultProp:l,onChange:c,caller:uc}),P=S.useRef(null),I=v?g||!!v.closest("form"):!0,[M,D]=S.useState(new Set),G=Array.from(M).map(F=>F.props.value).join(";");return o.jsx(e9,{...m,children:o.jsxs(Eye,{required:h,scope:e,trigger:v,onTriggerChange:x,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:ki(),value:T,onValueChange:R,open:k,onOpenChange:O,dir:A,triggerPointerDownPosRef:P,disabled:p,children:[o.jsx(u0.Provider,{scope:e,children:o.jsx(Tye,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(F=>{D(q=>new Set(q).add(F))},[]),onNativeOptionRemove:S.useCallback(F=>{D(q=>{const B=new Set(q);return B.delete(F),B})},[]),children:r})}),I?o.jsxs(t$,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:F=>R(F.target.value),disabled:p,form:g,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(M)]},G):null]})})};I9.displayName=uc;var R9="SelectTrigger",L9=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=f0(r),s=sl(R9,r),l=s.disabled||n,c=Bt(e,s.onTriggerChange),u=d0(r),d=S.useRef("touch"),[f,p,h]=n$(m=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===s.value),j=a$(v,m,x);j!==void 0&&s.onValueChange(j.value)}),g=m=>{l||(s.onOpenChange(!0),h()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(kN,{asChild:!0,...i,children:o.jsx(it.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":r$(s.value)?"":void 0,...a,ref:c,onClick:dt(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:dt(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:dt(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&Pye.includes(m.key)&&(g(),m.preventDefault())})})})});L9.displayName=R9;var M9="SelectValue",D9=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=t,c=sl(M9,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Bt(e,c.onValueNodeChange);return nn(()=>{u(d)},[u,d]),o.jsx(it.span,{...l,ref:f,style:{pointerEvents:"none"},children:r$(c.value)?o.jsx(o.Fragment,{children:s}):i})});D9.displayName=M9;var Rye="SelectIcon",$9=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return o.jsx(it.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});$9.displayName=Rye;var Lye="SelectPortal",F9=t=>o.jsx(ov,{asChild:!0,...t});F9.displayName=Lye;var dc="SelectContent",B9=S.forwardRef((t,e)=>{const r=sl(dc,t.__scopeSelect),[n,a]=S.useState();if(nn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Xg.createPortal(o.jsx(q9,{scope:t.__scopeSelect,children:o.jsx(u0.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(U9,{...t,ref:e})});B9.displayName=dc;var _i=10,[q9,ol]=Ad(dc),Mye="SelectContentImpl",Dye=Xl("SelectContent.RemoveScroll"),U9=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,j=sl(dc,r),[w,_]=S.useState(null),[N,A]=S.useState(null),k=Bt(e,oe=>_(oe)),[O,T]=S.useState(null),[R,P]=S.useState(null),I=d0(r),[M,D]=S.useState(!1),G=S.useRef(!1);S.useEffect(()=>{if(w)return Q_(w)},[w]),J_();const F=S.useCallback(oe=>{const[de,...se]=I().map(ue=>ue.ref.current),[he]=se.slice(-1),ge=document.activeElement;for(const ue of oe)if(ue===ge||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&N&&(N.scrollTop=0),ue===he&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==ge))return},[I,N]),q=S.useCallback(()=>F([O,w]),[F,O,w]);S.useEffect(()=>{M&&q()},[M,q]);const{onOpenChange:B,triggerPointerDownPosRef:X}=j;S.useEffect(()=>{if(w){let oe={x:0,y:0};const de=he=>{var ge,ue;oe={x:Math.abs(Math.round(he.pageX)-(((ge=X.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ue=X.current)==null?void 0:ue.y)??0))}},se=he=>{oe.x<=10&&oe.y<=10?he.preventDefault():w.contains(he.target)||B(!1),document.removeEventListener("pointermove",de),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,B,X]),S.useEffect(()=>{const oe=()=>B(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[B]);const[J,ie]=n$(oe=>{const de=I().filter(ge=>!ge.disabled),se=de.find(ge=>ge.ref.current===document.activeElement),he=a$(de,oe,se);he&&setTimeout(()=>he.ref.current.focus())}),$=S.useCallback((oe,de,se)=>{const he=!G.current&&!se;(j.value!==void 0&&j.value===de||he)&&(T(oe),he&&(G.current=!0))},[j.value]),W=S.useCallback(()=>w==null?void 0:w.focus(),[w]),H=S.useCallback((oe,de,se)=>{const he=!G.current&&!se;(j.value!==void 0&&j.value===de||he)&&P(oe)},[j.value]),ee=n==="popper"?b_:z9,le=ee===b_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(q9,{scope:r,content:w,viewport:N,onViewportChange:A,itemRefCallback:$,selectedItem:O,onItemLeave:W,itemTextRefCallback:H,focusSelectedItem:q,selectedItemText:R,position:n,isPositioned:M,searchRef:J,children:o.jsx(cv,{as:Dye,allowPinchZoom:!0,children:o.jsx(sv,{asChild:!0,trapped:j.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:dt(a,oe=>{var de;(de=j.trigger)==null||de.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(iv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:o.jsx(ee,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:oe=>oe.preventDefault(),...x,...le,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:dt(x.onKeyDown,oe=>{const de=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!de&&oe.key.length===1&&ie(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let he=I().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ge=oe.target,ue=he.indexOf(ge);he=he.slice(ue+1)}setTimeout(()=>F(he)),oe.preventDefault()}})})})})})})});U9.displayName=Mye;var $ye="SelectItemAlignedPosition",z9=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=sl(dc,r),s=ol(dc,r),[l,c]=S.useState(null),[u,d]=S.useState(null),f=Bt(e,k=>d(k)),p=d0(r),h=S.useRef(!1),g=S.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:j}=s,w=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&x){const k=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const ge=R.left-O.left,ue=T.left-ge,Oe=k.left-ue,me=k.width+Oe,te=Math.max(me,O.width),Ge=window.innerWidth-_i,Ue=x_(ue,[_i,Math.max(_i,Ge-te)]);l.style.minWidth=me+"px",l.style.left=Ue+"px"}else{const ge=O.right-R.right,ue=window.innerWidth-T.right-ge,Oe=window.innerWidth-k.right-ue,me=k.width+Oe,te=Math.max(me,O.width),Ge=window.innerWidth-_i,Ue=x_(ue,[_i,Math.max(_i,Ge-te)]);l.style.minWidth=me+"px",l.style.right=Ue+"px"}const P=p(),I=window.innerHeight-_i*2,M=m.scrollHeight,D=window.getComputedStyle(u),G=parseInt(D.borderTopWidth,10),F=parseInt(D.paddingTop,10),q=parseInt(D.borderBottomWidth,10),B=parseInt(D.paddingBottom,10),X=G+F+M+B+q,J=Math.min(v.offsetHeight*5,X),ie=window.getComputedStyle(m),$=parseInt(ie.paddingTop,10),W=parseInt(ie.paddingBottom,10),H=k.top+k.height/2-_i,ee=I-H,le=v.offsetHeight/2,oe=v.offsetTop+le,de=G+F+oe,se=X-de;if(de<=H){const ge=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-m.offsetTop-m.offsetHeight,Oe=Math.max(ee,le+(ge?W:0)+ue+q),me=de+Oe;l.style.height=me+"px"}else{const ge=P.length>0&&v===P[0].ref.current;l.style.top="0px";const Oe=Math.max(H,G+m.offsetTop+(ge?$:0)+le)+se;l.style.height=Oe+"px",m.scrollTop=de-H+m.offsetTop}l.style.margin=`${_i}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,v,x,i.dir,n]);nn(()=>w(),[w]);const[_,N]=S.useState();nn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const A=S.useCallback(k=>{k&&g.current===!0&&(w(),j==null||j(),g.current=!1)},[w,j]);return o.jsx(Bye,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(it.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});z9.displayName=$ye;var Fye="SelectPopperPosition",b_=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_i,...i}=t,s=f0(r);return o.jsx(t9,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=Fye;var[Bye,qN]=Ad(dc,{}),w_="SelectViewport",W9=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=ol(w_,r),s=qN(w_,r),l=Bt(e,i.onViewportChange),c=S.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(u0.Slot,{scope:r,children:o.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:dt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-_i*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const j=x+h,w=Math.min(g,j),_=j-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});W9.displayName=w_;var H9="SelectGroup",[qye,Uye]=Ad(H9),zye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=ki();return o.jsx(qye,{scope:r,id:a,children:o.jsx(it.div,{role:"group","aria-labelledby":a,...n,ref:e})})});zye.displayName=H9;var V9="SelectLabel",Wye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Uye(V9,r);return o.jsx(it.div,{id:a.id,...n,ref:e})});Wye.displayName=V9;var Wg="SelectItem",[Hye,G9]=Ad(Wg),Y9=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,l=sl(Wg,r),c=ol(Wg,r),u=l.value===n,[d,f]=S.useState(i??""),[p,h]=S.useState(!1),g=Bt(e,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,n,a)}),m=ki(),v=S.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Hye,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:S.useCallback(j=>{f(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:o.jsx(u0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(it.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:dt(s.onFocus,()=>h(!0)),onBlur:dt(s.onBlur,()=>h(!1)),onClick:dt(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:dt(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:dt(s.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:dt(s.onPointerMove,j=>{var w;v.current=j.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(s.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:dt(s.onKeyDown,j=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&j.key===" "||(Cye.includes(j.key)&&x(),j.key===" "&&j.preventDefault())})})})})});Y9.displayName=Wg;var _f="SelectItemText",K9=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=sl(_f,r),l=ol(_f,r),c=G9(_f,r),u=Iye(_f,r),[d,f]=S.useState(null),p=Bt(e,x=>f(x),c.onItemTextChange,x=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=S.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return nn(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(it.span,{id:c.textId,...i,ref:p}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Xg.createPortal(i.children,s.valueNode):null]})});K9.displayName=_f;var X9="SelectItemIndicator",Z9=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return G9(X9,r).isSelected?o.jsx(it.span,{"aria-hidden":!0,...n,ref:e}):null});Z9.displayName=X9;var __="SelectScrollUpButton",J9=S.forwardRef((t,e)=>{const r=ol(__,t.__scopeSelect),n=qN(__,t.__scopeSelect),[a,i]=S.useState(!1),s=Bt(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(e$,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});J9.displayName=__;var j_="SelectScrollDownButton",Q9=S.forwardRef((t,e)=>{const r=ol(j_,t.__scopeSelect),n=qN(j_,t.__scopeSelect),[a,i]=S.useState(!1),s=Bt(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(e$,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Q9.displayName=j_;var e$=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=ol("SelectScrollButton",r),s=S.useRef(null),l=d0(r),c=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),nn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(it.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:dt(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:dt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:dt(a.onPointerLeave,()=>{c()})})}),Vye="SelectSeparator",Gye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(it.div,{"aria-hidden":!0,...n,ref:e})});Gye.displayName=Vye;var N_="SelectArrow",Yye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=f0(r),i=sl(N_,r),s=ol(N_,r);return i.open&&s.position==="popper"?o.jsx(r9,{...a,...n,ref:e}):null});Yye.displayName=N_;var Kye="SelectBubbleInput",t$=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=S.useRef(null),i=Bt(n,a),s=c0(e);return S.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[s,e]),o.jsx(it.select,{...r,style:{...T9,...r.style},ref:i,defaultValue:e})});t$.displayName=Kye;function r$(t){return t===""||t===void 0}function n$(t){const e=Wn(t),r=S.useRef(""),n=S.useRef(0),a=S.useCallback(s=>{const l=r.current+s;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function a$(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=Xye(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xye(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Zye=I9,Jye=L9,Qye=D9,exe=$9,txe=F9,rxe=B9,nxe=W9,axe=Y9,ixe=K9,sxe=Z9,oxe=J9,lxe=Q9;function Ma({...t}){return o.jsx(Zye,{"data-slot":"select",...t})}function Da({...t}){return o.jsx(Qye,{"data-slot":"select-value",...t})}function $a({className:t,size:e="default",children:r,...n}){return o.jsxs(Jye,{"data-slot":"select-trigger","data-size":e,className:qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,o.jsx(exe,{asChild:!0,children:o.jsx(O_,{className:"size-4 opacity-50"})})]})}function Fa({className:t,children:e,position:r="popper",...n}){return o.jsx(txe,{children:o.jsxs(rxe,{"data-slot":"select-content",className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(cxe,{}),o.jsx(nxe,{className:qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),o.jsx(uxe,{})]})})}function We({className:t,children:e,...r}){return o.jsxs(axe,{"data-slot":"select-item",className:qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(sxe,{children:o.jsx(Qg,{className:"size-4"})})}),o.jsx(ixe,{children:e})]})}function cxe({className:t,...e}){return o.jsx(oxe,{"data-slot":"select-scroll-up-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Fq,{className:"size-4"})})}function uxe({className:t,...e}){return o.jsx(lxe,{"data-slot":"select-scroll-down-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(O_,{className:"size-4"})})}const vf=t=>{switch(t){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},dxe=["all","pending","processing","shipped","delivered","cancelled"];function d2({showActions:t=!1,showArchived:e=!1}){const[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,l]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(null),[p,h]=S.useState(!1),g=dxe,[m,v]=S.useState("all"),x=S.useRef([]),[j,w]=S.useState({width:0,left:0});S.useEffect(()=>{_()},[t,e]),S.useEffect(()=>{const F=()=>{const q=g.indexOf(m),B=x.current[q];if(B){const X=B.offsetWidth,J=B.offsetLeft;w(ie=>ie.width!==X||ie.left!==J?{width:X,left:J}:ie)}};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[m,g]);const _=async()=>{try{let F;if(e?F=await c8():t?F=await HI():F=await a8(10),(t||e)&&Array.isArray(F)){const q=F.map(B=>{var X,J,ie;return{id:B.id,order_id:B.id,customer_email:((X=B.users)==null?void 0:X.email)||B.customer_email||"N/A",customer_name:((J=B.users)==null?void 0:J.name)||B.customer_name||"N/A",amount:B.total_amount||B.amount,status:B.status,order_date:new Date(B.created_at||B.order_date).toLocaleDateString(),shipping_address:B.shipping_address,order_items:B.order_items||[],payment_method:((ie=B.shipping_address)==null?void 0:ie.paymentMethod)||B.payment_method||"N/A",deleted_at:B.deleted_at}});n(q)}else if(!t&&Array.isArray(F)){const q=F.map(B=>({id:B.order_id,order_id:B.order_id,customer_email:B.customer_email,customer_name:B.customer_name||"N/A",amount:B.amount,status:B.status,order_date:new Date(B.order_date).toLocaleDateString(),shipping_address:null,order_items:[],payment_method:"N/A"}));n(q)}}catch(F){console.error("Error fetching orders:",F),_e.error("Failed to load orders")}finally{i(!1)}},N=async(F,q)=>{u(!0);try{await VI(F,q)?(n(X=>X.map(J=>J.order_id===F?{...J,status:q}:J)),(s==null?void 0:s.order_id)===F&&l(X=>X?{...X,status:q}:null),["pending","processing","shipped","delivered"].includes(q)&&f(q),_e.success(`Order status updated to ${q}`)):_e.error("Failed to update order status")}catch(B){console.error("Error updating order status:",B),_e.error("Failed to update order status")}finally{u(!1)}},A=async F=>{try{await s8(F)?(_e.success("Order moved to archive"),_(),l(null)):_e.error("Failed to archive order")}catch(q){console.error("Error archiving order:",q),_e.error("Failed to archive order")}},k=async F=>{try{await o8(F)?(_e.success("Order restored successfully"),_(),l(null)):_e.error("Failed to restore order")}catch(q){console.error("Error restoring order:",q),_e.error("Failed to restore order")}},O=async F=>{try{await l8(F)?(_e.success("Order permanently deleted"),_(),l(null)):_e.error("Failed to permanently delete order")}catch(q){console.error("Error permanently deleting order:",q),_e.error("Failed to permanently delete order")}};S.useEffect(()=>{if(d){const F=setTimeout(()=>f(null),1200);return()=>clearTimeout(F)}},[d]);const T=F=>({pending:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered"],delivered:[],cancelled:[]})[F]||[],R=F=>{switch(F.toLowerCase()){case"pending":return o.jsx(Wo,{className:"h-4 w-4"});case"processing":return o.jsx(Za,{className:"h-4 w-4"});case"shipped":return o.jsx(Iu,{className:"h-4 w-4"});case"delivered":return o.jsx(Ph,{className:"h-4 w-4"});case"cancelled":return o.jsx(I_,{className:"h-4 w-4"});default:return o.jsx(Wo,{className:"h-4 w-4"})}},P=F=>Dl(F),I=async F=>{try{const q={...F,status:F.status,payment_method:F.payment_method};await GR(q),_e.success("Invoice opened for printing")}catch(q){console.error("Error printing invoice:",q),_e.error(q instanceof Error?q.message:"Failed to print invoice")}},M=async F=>{try{const q={...F,status:F.status,payment_method:F.payment_method};await VR(q),_e.success("PDF downloaded successfully")}catch(q){console.error("Error generating PDF:",q),_e.error("Failed to generate PDF")}},D=async F=>{try{const q={...F,status:F.status,payment_method:F.payment_method};await YR(q)}catch(q){console.error("Error viewing invoice:",q),_e.error("Failed to view invoice")}};if(a)return o.jsxs("div",{className:"flex items-center justify-center p-8",children:[o.jsx(Za,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading orders..."})]});if(r.length===0)return o.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No orders found"});const G=m==="all"?r:r.filter(F=>F.status.toLowerCase()===m);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-full overflow-x-auto pb-1",children:o.jsx("div",{className:"inline-block min-w-full md:min-w-0",children:o.jsxs("div",{className:"relative inline-flex rounded-lg border border-neutral-800 bg-neutral-900/60 backdrop-blur px-1 py-1",children:[o.jsx("div",{className:"absolute top-1 bottom-1 rounded-md bg-gradient-to-r from-rose-500 to-pink-600 shadow-inner transition-all duration-300 ease-out",style:{width:j.width,transform:`translateX(${j.left}px)`}}),o.jsx("div",{className:"flex space-x-1 relative z-10",children:g.map((F,q)=>{const B=m===F;return o.jsx("button",{ref:X=>{x.current[q]=X},onClick:()=>v(F),className:`px-3 md:px-4 py-1.5 text-xs md:text-sm font-medium rounded-md whitespace-nowrap transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${B?"text-white":"text-neutral-400 hover:text-neutral-200"}`,"aria-pressed":B,type:"button",children:F==="all"?"All":F.charAt(0).toUpperCase()+F.slice(1)},F)})})]})})}),t&&o.jsx("div",{className:"flex items-center justify-end gap-3",children:o.jsx("button",{type:"button",onClick:()=>h(F=>!F),className:`text-[11px] px-2 py-1 rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${p?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-pink-600":"bg-neutral-900/60 border-neutral-700 hover:border-neutral-500 text-neutral-300"}`,"aria-pressed":p,children:p?"Normal view":"Ultra compact"})}),o.jsxs(jye,{children:[o.jsx(Nye,{children:o.jsx(IT,{children:p?o.jsxs(o.Fragment,{children:[o.jsx(yi,{className:"h-7 py-0.5 text-[10px] w-[42%]",children:"Order / Customer"}),o.jsx(yi,{className:"h-7 py-0.5 text-[10px] w-[28%]",children:"Amount / Meta"}),o.jsx(yi,{className:"h-7 py-0.5 text-[10px] w-[18%]",children:"Status"}),t&&o.jsx(yi,{className:"h-7 py-0.5 text-[10px] w-[12%] text-right",children:"Actions"})]}):o.jsxs(o.Fragment,{children:[o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Order ID"}),o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Customer"}),o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Amount"}),o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Status"}),o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Payment"}),o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Date"}),t&&o.jsx(yi,{className:"h-8 py-0.5 text-[11px]",children:"Actions"})]})})}),o.jsx(Sye,{children:G.map(F=>o.jsx(IT,{className:"cursor-pointer hover:bg-neutral-50",onClick:()=>l(F),children:p?o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"py-1 text-[10px] leading-[12px]",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"font-medium",children:["#",F.order_id.slice(-8)]}),o.jsx("div",{className:"text-neutral-600",children:F.customer_name}),o.jsx("div",{className:"text-neutral-500",children:F.customer_email})]})}),o.jsx(xi,{className:"py-1 text-[10px] leading-[12px]",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:P(F.amount)}),o.jsxs("div",{className:"text-neutral-600",children:[F.payment_method==="cash-on-delivery"&&" COD",F.payment_method==="bank-transfer"&&" Bank",F.payment_method==="credit-card"&&" Card",!F.payment_method||F.payment_method==="N/A"?"N/A":F.payment_method]}),o.jsx("div",{className:"text-neutral-500",children:F.order_date})]})}),o.jsx(xi,{className:"py-1",children:o.jsxs(jt,{className:`${vf(F.status)} flex items-center gap-1 w-fit text-[9px] px-1.5 py-0.5`,children:[R(F.status),F.status]})}),t&&o.jsx(xi,{className:"py-1 text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:q=>{q.stopPropagation(),l(F)},children:o.jsx(ti,{className:"h-3 w-3"})}),e?o.jsxs(o.Fragment,{children:[o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:q=>{q.stopPropagation(),k(F.id)},title:"Restore order",children:o.jsx(Ci,{className:"h-3 w-3"})}),o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:q=>{q.stopPropagation(),O(F.id)},title:"Permanently delete",children:o.jsx(ro,{className:"h-3 w-3"})})]}):o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700 hover:bg-orange-50",onClick:q=>{q.stopPropagation(),A(F.id)},title:"Move to archive",children:o.jsx(Ks,{className:"h-3 w-3"})})]})})]}):o.jsxs(o.Fragment,{children:[o.jsxs(xi,{className:"font-medium",children:["#",F.order_id.slice(-8)]}),o.jsx(xi,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:F.customer_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:F.customer_email})]})}),o.jsx(xi,{className:"font-medium",children:P(F.amount)}),o.jsx(xi,{children:o.jsxs(jt,{className:`${vf(F.status)} flex items-center gap-1 w-fit`,children:[R(F.status),F.status]})}),o.jsx(xi,{children:o.jsxs("div",{className:"text-sm",children:[F.payment_method==="cash-on-delivery"&&" COD",F.payment_method==="bank-transfer"&&" Bank Transfer",F.payment_method==="credit-card"&&" Card",!F.payment_method||F.payment_method==="N/A"?"N/A":F.payment_method]})}),o.jsx(xi,{children:F.order_date}),t&&o.jsx(xi,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(be,{variant:"outline",size:"sm",onClick:q=>{q.stopPropagation(),l(F)},children:[o.jsx(ti,{className:"h-4 w-4 mr-1"}),"View Details"]}),e?o.jsxs(o.Fragment,{children:[o.jsxs(be,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:q=>{q.stopPropagation(),k(F.id)},children:[o.jsx(Ci,{className:"h-4 w-4 mr-1"}),"Restore"]}),o.jsxs(be,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:q=>{q.stopPropagation(),O(F.id)},children:[o.jsx(ro,{className:"h-4 w-4 mr-1"}),"Delete"]})]}):o.jsxs(be,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:q=>{q.stopPropagation(),A(F.id)},children:[o.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Archive"]})]})})]})},F.order_id))})]}),s&&o.jsx(Oi,{open:!!s,onOpenChange:()=>l(null),children:o.jsxs(ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-5",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsxs("span",{className:"font-semibold",children:["Order #",s==null?void 0:s.order_id.slice(-8)]}),o.jsx(jt,{className:`${s?vf(s.status):""} text-[10px] px-2 py-0.5`,children:s==null?void 0:s.status})]})}),s&&o.jsxs("div",{className:"sticky top-0 z-20 -mx-4 sm:-mx-5 px-4 sm:px-5 py-2 bg-neutral-950/80 backdrop-blur supports-[backdrop-filter]:bg-neutral-950/60 border-b border-neutral-800 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-[11px] font-medium tracking-wide text-neutral-300",children:["#",s.order_id.slice(-8)]}),o.jsx(jt,{className:`${vf(s.status)} text-[9px] px-2 py-0.5`,children:s.status})]}),o.jsx("div",{className:"flex items-center gap-1",children:["pending","processing","shipped","delivered"].map((F,q)=>{const B=["pending","processing","shipped","delivered"].indexOf(s.status),X=q,J=B>X,ie=B===X,$={pending:ie?"text-amber-400":J?"text-amber-600":"text-neutral-600",processing:ie?"text-violet-400":J?"text-violet-600":"text-neutral-600",shipped:ie?"text-sky-400":J?"text-sky-600":"text-neutral-600",delivered:ie?"text-emerald-400":J?"text-emerald-600":"text-neutral-600"};return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"relative flex items-center justify-center",children:[d===F&&ie&&o.jsx("span",{className:`absolute inline-flex h-4 w-4 rounded-full ${$[F].replace("text-","bg-")} opacity-60 animate-ping`}),o.jsx(T_,{className:`h-3 w-3 ${$[F]} ${ie?"drop-shadow-[0_0_4px_rgba(255,255,255,0.35)]":""}`})]}),F!=="delivered"&&o.jsx("span",{className:`mx-0.5 h-px w-3 ${B>=X?"bg-neutral-500":"bg-neutral-700"}`})]},F)})})]}),s&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsx(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx(Le,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(no,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Customer"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:s.customer_name}),o.jsx("p",{className:"text-[10px] text-muted-foreground break-all leading-tight",children:s.customer_email})]})]})})}),o.jsx(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx(Le,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Jg,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Order Date"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:s.order_date})]})]})})}),o.jsx(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx(Le,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Jq,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Total"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:P(s.amount)}),o.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:s.payment_method})]})]})})})]}),s.shipping_address&&o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(gt,{className:"pb-2 px-3 pt-3",children:o.jsxs(vt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[o.jsx(R_,{className:"h-4 w-4"}),"Shipping"]})}),o.jsx(Le,{className:"px-3 pb-3 pt-0",children:o.jsxs("div",{className:"text-[11px] space-y-0.5 leading-tight",children:[o.jsxs("p",{className:"font-medium",children:[s.shipping_address.firstName," ",s.shipping_address.lastName]}),o.jsx("p",{children:s.shipping_address.address}),o.jsxs("p",{children:[s.shipping_address.city,", ",s.shipping_address.state," ",s.shipping_address.zipCode]}),o.jsx("p",{children:s.shipping_address.country}),o.jsxs("p",{className:"text-muted-foreground",children:[" ",s.shipping_address.phone]}),o.jsxs("p",{className:"text-muted-foreground",children:[" ",s.shipping_address.email]})]})})]}),o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(gt,{className:"pb-2 px-3 pt-3",children:o.jsx(vt,{className:"text-sm font-semibold tracking-wide",children:"Items"})}),o.jsx(Le,{className:"px-3 pb-3 pt-0",children:s.order_items&&s.order_items.length>0?o.jsxs("div",{className:"space-y-2",children:[s.order_items.map((F,q)=>{var B;return o.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded-md bg-neutral-800/40",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:((B=F.products)==null?void 0:B.name)||"Unknown Product"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground leading-tight",children:[F.quantity,"  ",P(F.price_at_purchase)]})]}),o.jsx("p",{className:"text-xs font-medium leading-tight",children:P(F.quantity*F.price_at_purchase)})]},q)}),o.jsx(Jn,{className:"my-1"}),o.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:P(s.amount)})]})]}):o.jsx("p",{className:"text-[11px] text-muted-foreground",children:"No items found in this order."})})]}),o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(gt,{className:"pb-2 px-3 pt-3",children:o.jsx(vt,{className:"text-sm font-semibold tracking-wide",children:"Status"})}),o.jsx(Le,{className:"px-3 pb-3 pt-0",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",children:"Current"}),o.jsxs(jt,{className:`${vf(s.status)} flex items-center gap-1 w-fit mt-1 text-[10px] px-2 py-0.5`,children:[R(s.status),s.status]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-xs font-medium mb-1 flex items-center gap-2",children:["Next",c&&o.jsx(Za,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[T(s.status).map(F=>o.jsx("button",{type:"button",disabled:c,onClick:()=>N(s.order_id,F),className:`relative group overflow-hidden px-3 py-1 rounded-full text-[10px] font-medium tracking-wide transition shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 disabled:opacity-50 ${F==="cancelled"?"bg-rose-600/20 text-rose-300 hover:bg-rose-600/30":F==="delivered"?"bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600/30":F==="shipped"?"bg-blue-600/20 text-blue-300 hover:bg-blue-600/30":F==="processing"?"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30":"bg-neutral-700/40 text-neutral-200 hover:bg-neutral-600/50"}`,children:o.jsxs("span",{className:"flex items-center gap-1.5",children:[R(F),F]})},F)),T(s.status).length===0&&o.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"No transitions"})]}),T(s.status).length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsxs(Ma,{value:"",onValueChange:F=>N(s.order_id,F),disabled:c,children:[o.jsx($a,{className:"w-44 text-[10px] h-7 px-2",children:o.jsx(Da,{placeholder:"Alt action"})}),o.jsx(Fa,{children:T(s.status).map(F=>o.jsx(We,{value:F,className:"capitalize",children:F},F))})]}),o.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Pills are primary transitions; dropdown is backup."})]})]})]})})})]}),o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(gt,{className:"pb-2 px-3 pt-3",children:o.jsxs(vt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[o.jsx(Xs,{className:"h-4 w-4"}),"Invoices"]})}),o.jsxs(Le,{className:"px-3 pb-3 pt-0",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(be,{variant:"outline",onClick:()=>D(s),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(Xs,{className:"h-3.5 w-3.5"})," View"]}),o.jsxs(be,{variant:"outline",onClick:()=>M(s),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(uI,{className:"h-3.5 w-3.5"})," PDF"]}),o.jsxs(be,{variant:"outline",onClick:()=>I(s),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(pI,{className:"h-3.5 w-3.5"})," Print"]})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 leading-tight",children:"Quick invoice actions."})]})]})]})]})})]})}function i$({className:t,...e}){return o.jsx("textarea",{"data-slot":"textarea",className:qe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var h0="Checkbox",[fxe,Twe]=Mn(h0),[hxe,UN]=fxe(h0);function pxe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,h]=ri({prop:r,defaultProp:a??!1,onChange:c,caller:h0}),[g,m]=S.useState(null),[v,x]=S.useState(null),j=S.useRef(!1),w=g?!!s||!!g.closest("form"):!0,_={checked:p,disabled:i,setChecked:h,control:g,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:Vo(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:x};return o.jsx(hxe,{scope:e,..._,children:mxe(f)?f(_):n})}var s$="CheckboxTrigger",o$=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=UN(s$,t),m=Bt(a,d),v=S.useRef(c);return S.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const j=()=>f(v.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[i,f]),o.jsx(it.button,{type:"button",role:"checkbox","aria-checked":Vo(c)?"mixed":c,"aria-required":u,"data-state":h$(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:dt(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:dt(r,x=>{f(j=>Vo(j)?!0:!j),g&&h&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});o$.displayName=s$;var l$=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(pxe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(o$,{...f,ref:e,__scopeCheckbox:r}),p&&o.jsx(f$,{__scopeCheckbox:r})]})})});l$.displayName=h0;var c$="CheckboxIndicator",u$=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=UN(c$,r);return o.jsx(fa,{present:n||Vo(i.checked)||i.checked===!0,children:o.jsx(it.span,{"data-state":h$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});u$.displayName=c$;var d$="CheckboxBubbleInput",f$=S.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=UN(d$,t),g=Bt(r,h),m=c0(i),v=i0(n);S.useEffect(()=>{const j=p;if(!j)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,A=!a.current;if(m!==i&&N){const k=new Event("click",{bubbles:A});j.indeterminate=Vo(i),N.call(j,Vo(i)?!1:i),j.dispatchEvent(k)}},[p,m,i,a]);const x=S.useRef(Vo(i)?!1:i);return o.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});f$.displayName=d$;function mxe(t){return typeof t=="function"}function Vo(t){return t==="indeterminate"}function h$(t){return Vo(t)?"indeterminate":t?"checked":"unchecked"}function S_({className:t,...e}){return o.jsx(l$,{"data-slot":"checkbox",className:qe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(u$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(Qg,{className:"size-3.5"})})})}var zN="Progress",WN=100,[gxe,Iwe]=Mn(zN),[vxe,yxe]=gxe(zN),p$=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=xxe,...s}=t;(a||a===0)&&!RT(a)&&console.error(bxe(`${a}`,"Progress"));const l=RT(a)?a:WN;n!==null&&!LT(n,l)&&console.error(wxe(`${n}`,"Progress"));const c=LT(n,l)?n:null,u=Hg(c)?i(c,l):void 0;return o.jsx(vxe,{scope:r,value:c,max:l,children:o.jsx(it.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Hg(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":v$(c,l),"data-value":c??void 0,"data-max":l,...s,ref:e})})});p$.displayName=zN;var m$="ProgressIndicator",g$=S.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=yxe(m$,r);return o.jsx(it.div,{"data-state":v$(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});g$.displayName=m$;function xxe(t,e){return`${Math.round(t/e*100)}%`}function v$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Hg(t){return typeof t=="number"}function RT(t){return Hg(t)&&!isNaN(t)&&t>0}function LT(t,e){return Hg(t)&&!isNaN(t)&&t<=e&&t>=0}function bxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${WN}\`.`}function wxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${WN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _xe=p$,jxe=g$;function Ou({className:t,value:e,...r}){return o.jsx(_xe,{"data-slot":"progress",className:qe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:o.jsx(jxe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const Nxe=P_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Sxe({className:t,variant:e,...r}){return o.jsx("div",{"data-slot":"alert",role:"alert",className:qe(Nxe({variant:e}),t),...r})}function Axe({className:t,...e}){return o.jsx("div",{"data-slot":"alert-description",className:qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var p0="Collapsible",[kxe,y$]=Mn(p0),[Pxe,HN]=kxe(p0),x$=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...l}=t,[c,u]=ri({prop:n,defaultProp:a??!1,onChange:s,caller:p0});return o.jsx(Pxe,{scope:r,disabled:i,contentId:ki(),open:c,onOpenToggle:S.useCallback(()=>u(d=>!d),[u]),children:o.jsx(it.div,{"data-state":GN(c),"data-disabled":i?"":void 0,...l,ref:e})})});x$.displayName=p0;var b$="CollapsibleTrigger",w$=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=HN(b$,r);return o.jsx(it.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":GN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:dt(t.onClick,a.onOpenToggle)})});w$.displayName=b$;var VN="CollapsibleContent",_$=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=HN(VN,t.__scopeCollapsible);return o.jsx(fa,{present:r||a.open,children:({present:i})=>o.jsx(Cxe,{...n,ref:e,present:i})})});_$.displayName=VN;var Cxe=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,s=HN(VN,r),[l,c]=S.useState(n),u=S.useRef(null),d=Bt(e,u),f=S.useRef(0),p=f.current,h=S.useRef(0),g=h.current,m=s.open||l,v=S.useRef(m),x=S.useRef(void 0);return S.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),nn(()=>{const j=u.current;if(j){x.current=x.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const w=j.getBoundingClientRect();f.current=w.height,h.current=w.width,v.current||(j.style.transitionDuration=x.current.transitionDuration,j.style.animationName=x.current.animationName),c(n)}},[s.open,n]),o.jsx(it.div,{"data-state":GN(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&a})});function GN(t){return t?"open":"closed"}var Oxe=x$,Exe=w$,Txe=_$,Ui="Accordion",Ixe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[YN,Rxe,Lxe]=fj(Ui),[m0,Rwe]=Mn(Ui,[Lxe,y$]),KN=y$(),j$=K.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return o.jsx(YN.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?o.jsx(Fxe,{...i,ref:e}):o.jsx($xe,{...a,ref:e})})});j$.displayName=Ui;var[N$,Mxe]=m0(Ui),[S$,Dxe]=m0(Ui,{collapsible:!1}),$xe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...s}=t,[l,c]=ri({prop:r,defaultProp:n??"",onChange:a,caller:Ui});return o.jsx(N$,{scope:t.__scopeAccordion,value:K.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:K.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(S$,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(A$,{...s,ref:e})})})}),Fxe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[s,l]=ri({prop:r,defaultProp:n??[],onChange:a,caller:Ui}),c=K.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=K.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return o.jsx(N$,{scope:t.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:o.jsx(S$,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(A$,{...i,ref:e})})})}),[Bxe,g0]=m0(Ui),A$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...s}=t,l=K.useRef(null),c=Bt(l,e),u=Rxe(r),f=pd(a)==="ltr",p=dt(t.onKeyDown,h=>{var O;if(!Ixe.includes(h.key))return;const g=h.target,m=u().filter(T=>{var R;return!((R=T.ref.current)!=null&&R.disabled)}),v=m.findIndex(T=>T.ref.current===g),x=m.length;if(v===-1)return;h.preventDefault();let j=v;const w=0,_=x-1,N=()=>{j=v+1,j>_&&(j=w)},A=()=>{j=v-1,j<w&&(j=_)};switch(h.key){case"Home":j=w;break;case"End":j=_;break;case"ArrowRight":i==="horizontal"&&(f?N():A());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?A():N());break;case"ArrowUp":i==="vertical"&&A();break}const k=j%x;(O=m[k].ref.current)==null||O.focus()});return o.jsx(Bxe,{scope:r,disabled:n,direction:a,orientation:i,children:o.jsx(YN.Slot,{scope:r,children:o.jsx(it.div,{...s,"data-orientation":i,ref:c,onKeyDown:n?void 0:p})})})}),Vg="AccordionItem",[qxe,XN]=m0(Vg),k$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=g0(Vg,r),s=Mxe(Vg,r),l=KN(r),c=ki(),u=n&&s.value.includes(n)||!1,d=i.disabled||t.disabled;return o.jsx(qxe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(Oxe,{"data-orientation":i.orientation,"data-state":I$(u),...l,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});k$.displayName=Vg;var P$="AccordionHeader",C$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=g0(Ui,r),i=XN(P$,r);return o.jsx(it.h3,{"data-orientation":a.orientation,"data-state":I$(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});C$.displayName=P$;var A_="AccordionTrigger",O$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=g0(Ui,r),i=XN(A_,r),s=Dxe(A_,r),l=KN(r);return o.jsx(YN.ItemSlot,{scope:r,children:o.jsx(Exe,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:e})})});O$.displayName=A_;var E$="AccordionContent",T$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=g0(Ui,r),i=XN(E$,r),s=KN(r);return o.jsx(Txe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});T$.displayName=E$;function I$(t){return t?"open":"closed"}var Uxe=j$,zxe=k$,Wxe=C$,Hxe=O$,Vxe=T$;function Gxe({...t}){return o.jsx(Uxe,{"data-slot":"accordion",...t})}function dm({className:t,...e}){return o.jsx(zxe,{"data-slot":"accordion-item",className:qe("border-b last:border-b-0",t),...e})}function fm({className:t,children:e,...r}){return o.jsx(Wxe,{className:"flex",children:o.jsxs(Hxe,{"data-slot":"accordion-trigger",className:qe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,o.jsx(O_,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function hm({className:t,children:e,...r}){return o.jsx(Vxe,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:o.jsx("div",{className:qe("pt-0 pb-4",t),children:e})})}class Bo{static validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Invalid file type. Only JPEG, PNG, WebP, and AVIF are allowed."}}static async fileToCanvas(e){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),s=i.getContext("2d");if(!s){n(new Error("Could not get canvas context"));return}a.onload=()=>{let{width:u,height:d}=a;if(u>1920||d>1920){const f=Math.min(1920/u,1920/d);u*=f,d*=f}i.width=u,i.height=d,s.drawImage(a,0,0,u,d),r({canvas:i,ctx:s,width:u,height:d})},a.onerror=()=>n(new Error("Failed to load image")),a.src=URL.createObjectURL(e)})}static async canvasToBlob(e,r,n=.85){return new Promise((a,i)=>{e.toBlob(s=>{s?a(s):i(new Error("Failed to convert canvas to blob"))},r,n)})}static async processImage(e,r={}){const{maxWidth:n=1920,maxHeight:a=1920,quality:i=.85,format:s="webp",generateSizes:l=!0}=r,c=this.validateFile(e);if(!c.valid)throw new Error(c.error);const{canvas:u,ctx:d,width:f,height:p}=await this.fileToCanvas(e);if(f>n||p>a){const v=Math.min(n/f,a/p),x=f*v,j=p*v,w=document.createElement("canvas"),_=w.getContext("2d");w.width=x,w.height=j,_.drawImage(u,0,0,x,j),u.width=x,u.height=j,d.drawImage(w,0,0)}const h=`image/${s}`,g=await this.canvasToBlob(u,h,i);let m;if(l){const v=document.createElement("canvas"),x=v.getContext("2d"),j=300,w=Math.min(j/f,j/p);v.width=f*w,v.height=p*w,x.drawImage(u,0,0,v.width,v.height),m=await this.canvasToBlob(v,h,i)}return{original:e,optimized:g,thumbnail:m,format:s,originalSize:e.size,optimizedSize:g.size,dimensions:{width:u.width,height:u.height}}}static async uploadToStorage(e,r,n){const a=Date.now(),i=`${r}/${a}.${e.format}`,{data:s,error:l}=await Ce.storage.from(this.BUCKET_NAME).upload(i,e.optimized,{contentType:`image/${e.format}`,upsert:!1});if(l)throw new Error(`Upload failed: ${l.message}`);const{data:c}=Ce.storage.from(this.BUCKET_NAME).getPublicUrl(i);let u;if(e.thumbnail){const d=`${r}/${a}_thumb.${e.format}`,{data:f,error:p}=await Ce.storage.from(this.BUCKET_NAME).upload(d,e.thumbnail,{contentType:`image/${e.format}`,upsert:!1});if(!p){const{data:h}=Ce.storage.from(this.BUCKET_NAME).getPublicUrl(d);u=h.publicUrl}}return{url:c.publicUrl,thumbnailUrl:u}}static async uploadMultipleImages(e,r,n={},a,i){const s=[];for(let l=0;l<e.length;l++){const c=e[l];try{const u=await this.processImage(c,n),d=await this.uploadToStorage(u,r),f={url:d.url,thumbnailUrl:d.thumbnailUrl,fileName:c.name};s.push(f),i==null||i(l,f)}catch(u){console.error(`Failed to upload ${c.name}:`,u)}}return s}static async deleteImage(e){const r=e.split("/"),n=r[r.length-1],a=r[r.length-2];if(!n||!a)throw new Error("Invalid image URL format");const{error:i}=await Ce.storage.from(this.BUCKET_NAME).remove([`${a}/${n}`]);if(i)throw new Error(`Failed to delete image: ${i.message}`)}static async checkBucketExists(){try{const{data:e,error:r}=await Ce.storage.listBuckets();return r?(console.error("Error listing buckets:",r),await this.checkBucketDirectly()):e==null?void 0:e.some(a=>a.name===this.BUCKET_NAME)}catch(e){return console.error("Error checking bucket existence:",e),!1}}static async checkBucketDirectly(){try{const{error:e}=await Ce.storage.from(this.BUCKET_NAME).list("",{limit:1});return!e}catch(e){return console.error("Error checking bucket directly:",e),!1}}}Zt(Bo,"MAX_FILE_SIZE",10*1024*1024),Zt(Bo,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp","image/avif"]),Zt(Bo,"BUCKET_NAME","product-images");var Yxe=Object.defineProperty,Kxe=(t,e,r)=>e in t?Yxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mr=(t,e,r)=>Kxe(t,typeof e!="symbol"?e+"":e,r);const Gg={x:0,y:0,width:0,height:0,unit:"px"},su=(t,e,r)=>Math.min(Math.max(t,e),r),Xxe=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),MT=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Zxe(t,e,r,n){const a=rs(t,r,n);return t.width&&(a.height=a.width/e),t.height&&(a.width=a.height*e),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/e),t.unit==="%"?Do(a,r,n):a}function Jxe(t,e,r){const n=rs(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?Do(n,e,r):n}function Do(t,e,r){return t.unit==="%"?{...Gg,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function rs(t,e,r){return t.unit?t.unit==="px"?{...Gg,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...Gg,...t,unit:"px"}}function DT(t,e,r,n,a,i=0,s=0,l=n,c=a){const u={...t};let d=Math.min(i,n),f=Math.min(s,a),p=Math.min(l,n),h=Math.min(c,a);e&&(e>1?(d=s?s*e:d,f=d/e,p=l*e):(f=i?i/e:f,d=f*e,h=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=n-(u.x+u.width);g<0&&(u.x=Math.min(u.x,n-d),u.width+=g);const m=a-(u.y+u.height);if(m<0&&(u.y=Math.min(u.y,a-f),u.height+=m),u.width<d&&((r==="sw"||r=="nw")&&(u.x-=d-u.width),u.width=d),u.height<f&&((r==="nw"||r=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((r==="sw"||r=="nw")&&(u.x-=p-u.width),u.width=p),u.height>h&&((r==="nw"||r=="ne")&&(u.y-=h-u.height),u.height=h),e){const v=u.width/u.height;if(v<e){const x=Math.max(u.width/e,f);(r==="nw"||r=="ne")&&(u.y-=x-u.height),u.height=x}else if(v>e){const x=Math.max(u.height*e,d);(r==="sw"||r=="nw")&&(u.x-=x-u.width),u.width=x}}return u}function Qxe(t,e,r,n){const a={...t};return e==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),e==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const ou={capture:!0,passive:!1};let ebe=0;const Lo=class wi extends S.PureComponent{constructor(){super(...arguments),Mr(this,"docMoveBound",!1),Mr(this,"mouseDownOnCrop",!1),Mr(this,"dragStarted",!1),Mr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Mr(this,"componentRef",S.createRef()),Mr(this,"mediaRef",S.createRef()),Mr(this,"resizeObserver"),Mr(this,"initChangeCalled",!1),Mr(this,"instanceId",`rc-${ebe++}`),Mr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Mr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const i=rs(r,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,l=!!s;let c=e.clientX,u=e.clientY,d=i.x,f=i.y;if(s){const p=e.clientX-a.x,h=e.clientY-a.y;let g=0,m=0;s==="ne"||s=="e"?(g=p-(i.x+i.width),m=h-i.y,d=i.x,f=i.y+i.height):s==="se"||s==="s"?(g=p-(i.x+i.width),m=h-(i.y+i.height),d=i.x,f=i.y):s==="sw"||s=="w"?(g=p-i.x,m=h-(i.y+i.height),d=i.x+i.width,f=i.y):(s==="nw"||s=="n")&&(g=p-i.x,m=h-i.y,d=i.x+i.width,f=i.y+i.height),c=d+a.x+g,u=f+a.y+m}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Mr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:a,keepSelection:i,onChange:s}=this.props,l=this.getBox();if(n||a||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-l.x,u=e.clientY-l.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(rs(d,l.width,l.height),Do(d,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Mr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:a,onDragStart:i}=this.props,s=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),MT(r,c)||a(rs(c,s.width,s.height),Do(c,s.width,s.height))}),Mr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const s=e.key;let l=!1;if(!r)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?wi.nudgeStepLarge:e.shiftKey?wi.nudgeStepMedium:wi.nudgeStep;if(s==="ArrowLeft"?(u.x-=d,l=!0):s==="ArrowRight"?(u.x+=d,l=!0):s==="ArrowUp"?(u.y-=d,l=!0):s==="ArrowDown"&&(u.y+=d,l=!0),l){e.cancelable&&e.preventDefault(),u.x=su(u.x,0,c.width-u.width),u.y=su(u.y,0,c.height-u.height);const f=rs(u,c.width,c.height),p=Do(u,c.width,c.height);a(f,p),i&&i(f,p)}}),Mr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:s=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:f}=this.props,p=this.getBox();if(i||!a)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?wi.nudgeStepLarge:e.shiftKey?wi.nudgeStepMedium:wi.nudgeStep,g=rs(a,p.width,p.height),m=Qxe(g,e.key,h,r),v=DT(m,n,r,p.width,p.height,s,l,c,u);if(!MT(a,v)){const x=Do(v,p.width,p.height);d(v,x),f&&f(v,x)}}),Mr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),a&&a(rs(r,s.width,s.height),Do(r,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Mr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:a,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:a,height:i}=this.getBox();a&&i&&n(rs(r,a,i),Do(r,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,ou),this.document.addEventListener("pointerup",this.onDocPointerDone,ou),this.document.addEventListener("pointercancel",this.onDocPointerDone,ou),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,ou),this.document.removeEventListener("pointerup",this.onDocPointerDone,ou),this.document.removeEventListener("pointercancel",this.onDocPointerDone,ou),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),a=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=su(e.startCropX+a,0,r.width-n.width),n.y=su(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,a){const{evData:i}=this,s=i.clientX-e.x,l=i.clientY-e.y;let c;a&&r?c=r==="nw"||r==="n"||r==="ne":c=l<i.startCropY;let u;return n&&r?u=r==="nw"||r==="w"||r==="sw":u=s<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,r,n=0,a=0){const i=Math.min(n,e.width),s=Math.min(a,e.height);return!r||!i&&!s?[i,s]:r>1?i?[i,i/r]:[s*r,s]:s?[s*r,s]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[s,l]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,e.ord,s,l),d=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(s&&d==="nw"||d==="w"||d==="sw")&&(f=Math.min(f,-s)),(l&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-l));const h={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(h.x=e.startCropX,h.width=f,r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY-h.height)):u==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=f,r?h.height=h.width/r:h.height=p):u==="sw"?(h.x=e.startCropX+f,h.y=e.startCropY,h.width=Math.abs(f),r?h.height=h.width/r:h.height=p):u==="nw"&&(h.x=e.startCropX+f,h.width=Math.abs(f),r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY+p));const g=DT(h,r,u,i.width,i.height,s,l,n,a);return r||wi.xyOrds.indexOf(d)>-1?c=g:wi.xOrds.indexOf(d)>-1?(c.x=g.x,c.width=g.width):wi.yOrds.indexOf(d)>-1&&(c.y=g.y,c.height=g.height),c.x=su(c.x,0,i.width-c.width),c.y=su(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:e=wi.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:s}=this.props,l=this.getCropStyle();if(s)return K.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&K.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},K.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&K.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&K.createElement(K.Fragment,null,K.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),K.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...Gg,...this.props.crop||{}};return rs(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:a,crop:i,disabled:s,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:f}=this.state,p=i?this.renderCropSelection():null,h=Xxe("ReactCrop",a,d&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return K.createElement("div",{ref:this.componentRef,className:h,style:c},K.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?K.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},K.createElement("defs",null,K.createElement("mask",{id:`hole-${this.instanceId}`},K.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?K.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):K.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),K.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Mr(Lo,"xOrds",["e","w"]),Mr(Lo,"yOrds",["n","s"]),Mr(Lo,"xyOrds",["nw","ne","se","sw"]),Mr(Lo,"nudgeStep",1),Mr(Lo,"nudgeStepMedium",10),Mr(Lo,"nudgeStepLarge",100),Mr(Lo,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let tbe=Lo;const rbe=Math.PI/180;async function nbe(t,e,r,n=1,a=0){const i=e.getContext("2d");if(!i)throw new Error("No 2d context");const s=t.naturalWidth/t.width,l=t.naturalHeight/t.height,c=window.devicePixelRatio;e.width=Math.floor(r.width*s*c),e.height=Math.floor(r.height*l*c),i.scale(c,c),i.imageSmoothingQuality="high";const u=r.x*s,d=r.y*l,f=a*rbe,p=t.naturalWidth/2,h=t.naturalHeight/2;i.save(),i.translate(-u,-d),i.translate(p,h),i.rotate(f),i.scale(n,n),i.translate(-p,-h),i.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),i.restore()}class abe{constructor(e,r){}async blobToBase64(e){return new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(e)})}getPromptForEditType(e,r){const{color:n="natural",shape:a="original",scenario:i="general"}=r||{};switch(e){case"remove_bg":return"Generate an image of the main subject from the provided image with a completely transparent background. Isolate only the foreground subject and remove all background elements completely. The result should be a PNG with transparent background.";case"replace_bg_white":return"Take the main subject from the provided image and place it on a clean white background. The white background should be pure white (#FFFFFF) with no textures or patterns. Maintain the subject's original colors and lighting.";case"replace_bg_black":return"Take the main subject from the provided image and place it on a clean black background. The black background should be pure black (#000000) with no textures or patterns. Maintain the subject's original colors and lighting.";case"replace_bg_transparent":return"Generate an image of the main subject from the provided image with a completely transparent background. Isolate only the foreground subject and remove all background elements completely. The result should be a PNG with transparent background.";case"replace_bg_gradient":return"Take the main subject from the provided image and place it on a beautiful gradient background. Choose complementary colors that enhance the subject. The gradient should be smooth and professional-looking.";case"replace_bg_nature":return`Take the main subject from the provided image and place it in a beautiful natural outdoor setting. Choose an appropriate natural environment (${i}) that complements the subject. Include realistic lighting and atmosphere.`;case"replace_bg_studio":return"Take the main subject from the provided image and place it in a professional photography studio setting. Include appropriate lighting, backdrop, and professional photography equipment. Make it look like a high-end product photograph.";case"enhance_quality":return"Take the provided image and create an enhanced, professional version with improved sharpness, better color balance, higher contrast, and overall better visual quality. Make it look polished and high-end while maintaining the original composition.";case"enhance_colors":return`Take the provided image and create a more vibrant, colorful version with enhanced saturation, better contrast, and more appealing color tones (${n} style) while maintaining the original composition and style.`;case"enhance_sharpness":return"Take the provided image and significantly increase its sharpness and clarity. Enhance details, reduce blur, and make edges crisp while maintaining natural look. Apply professional sharpening techniques.";case"enhance_hdr":return"Take the provided image and apply a high dynamic range (HDR) effect. Enhance contrast, bring out details in shadows and highlights, and create a more dramatic, professional look with rich tonal range.";case"effect_vintage":return"Take the provided image and apply a vintage film photography effect. Add film grain, slight color shifts, and the nostalgic look of old photographic film while maintaining the image clarity.";case"effect_bw":return"Convert the provided image to classic black and white photography. Apply professional black and white conversion with rich tonal range, proper contrast, and artistic monochrome aesthetic.";case"effect_sepia":return"Apply a warm sepia tone effect to the provided image. Use classic sepia brown tones that give the image a vintage, historical photograph appearance with warm, nostalgic coloring.";case"effect_cartoon":return"Transform the provided image into a cartoon or animated style. Simplify shapes, enhance colors, add bold outlines, and create a fun, illustrative cartoon appearance while maintaining the original subject.";case"transform_square":return"Take the main subject from the provided image and compose it into a perfect square format. Crop or reposition elements as needed to create a balanced square composition while maintaining the subject's importance.";case"transform_portrait":return"Take the main subject from the provided image and compose it into a vertical portrait orientation. Adjust composition and cropping to create a professional portrait-style image with appropriate vertical framing.";case"transform_landscape":return"Take the main subject from the provided image and compose it into a horizontal landscape orientation. Adjust composition and cropping to create a professional landscape-style image with appropriate horizontal framing.";case"transform_circle":return"Take the main subject from the provided image and compose it into a circular format. Crop the image into a perfect circle, ensuring the subject is well-centered and properly framed within the circular composition.";default:return"Edit this image appropriately and return the result."}}async editImage(e){try{const n=(await this.blobToBase64(e.image)).split(",")[1],a=this.getPromptForEditType(e.edit_type,e.options);let i=null;e.reference_image&&(i=(await this.blobToBase64(e.reference_image)).split(",")[1]);const{data:s}=await Ce.functions.invoke("qwen-proxy",{body:{imageBase64:n,prompt:a,editType:e.edit_type,...i&&{referenceImageBase64:i}}});if(console.log("Supabase function response:",s),s.error)throw new Error(s.error);const l=s;let c=null;if(l.output&&l.output.results&&l.output.results[0]){const f=l.output.results[0];if(console.log("Result item:",f),f.url)c=f.url;else if(typeof f=="string"&&f.startsWith("http"))c=f;else throw typeof f=="string"?(console.log("API returned text description instead of image:",f),new Error(`API returned text description: ${f.substring(0,200)}...`)):(console.log("Unexpected result format:",JSON.stringify(f,null,2)),new Error(`Unexpected API response format: ${JSON.stringify(f)}`))}if(!c)throw console.log("Full API response for debugging:",JSON.stringify(l,null,2)),new Error("No image URL found in API response. The API may have returned a text description instead of an image.");const u=await fetch(c);if(!u.ok)throw new Error(`Failed to fetch generated image: ${u.status}`);return{success:!0,edited_image:await u.blob()}}catch(r){return console.error("Qwen API error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}}function ibe(t,e){return new abe(t,e)}async function sbe(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}a.width=n.naturalWidth,a.height=n.naturalHeight,i.drawImage(n,0,0);try{const s=a.toDataURL("image/png");e(s)}catch(s){r(s)}},n.onerror=()=>r(new Error("Failed to load image")),n.src=t})}function obe({src:t,onCropComplete:e,onClose:r,aspect:n=3/4}){const[a,i]=S.useState(),[s,l]=S.useState(),[c,u]=S.useState(null),[d,f]=S.useState(!1),[p,h]=S.useState("crop"),[g,m]=S.useState([]),[v,x]=S.useState(!1),[j,w]=S.useState(null),[_,N]=S.useState("natural"),[A,k]=S.useState("original"),[O,T]=S.useState("general"),R=S.useRef(null),P=S.useRef(null),I=S.useRef(null);S.useEffect(()=>{t&&t.startsWith("http")?(f(!0),sbe(t).then(X=>{u(X),f(!1)}).catch(X=>{console.error("Error converting image to data URL:",X),u(t),f(!1)})):u(t)},[t]);function M(X){if(n){const{width:J,height:ie}=X.currentTarget;i(Jxe(Zxe({unit:"%",width:90},n,J,ie),J,ie))}}async function D(){const X=R.current,J=P.current;if(!(!X||!J||!s))try{await nbe(X,J,s),J.toBlob(ie=>{ie?e(ie):(console.error("Failed to create blob from canvas"),alert("Failed to crop image. Please try again."))},"image/png")}catch(ie){console.error("Error cropping image:",ie),alert("Failed to crop image. Please try again.")}}S.useEffect(()=>{i(void 0),l(void 0),w(null),m([])},[t]);const G=X=>{const J=Array.from(X.target.files||[]);if(J.length+g.length>3){alert("Maximum 3 reference images allowed");return}m(ie=>[...ie,...J])},F=X=>{m(J=>J.filter((ie,$)=>$!==X))},q=async(X,J=!1)=>{if(console.log(` AI Edit Button Pressed: ${X} (Reference: ${J})`),!c){console.warn("No image source available for AI editing");return}x(!0);try{console.log(" Using Supabase Edge Function for Qwen API");const ie=ibe("",""),$=await fetch(j||c).then(ee=>ee.blob());console.log(` Image blob prepared: ${$.size} bytes`);const W={image:$,edit_type:X,reference_image:J&&g.length>0?g[0]:void 0,api_key:"",api_endpoint:"",options:{color:_,shape:A,scenario:O}};console.log(` Sending request to Supabase Edge Function for ${X}`);const H=await ie.editImage(W);if(console.log(" Qwen API Response:",H),!H.success)throw new Error(H.error||"AI processing failed");if(H.edited_image){const ee=URL.createObjectURL(H.edited_image);w(ee),u(ee),console.log(" Edit completed successfully")}}catch(ie){console.error("AI processing error:",ie);const $=ie instanceof Error?ie.message:"Unknown error";$.includes("InvalidApiKey")?alert("API Key error. Please check that DASHSCOPE_API_KEY is set in Supabase secrets."):$.includes("Failed to fetch")||$.includes("Network")?alert("Network error connecting to Supabase Edge Function. Check your connection."):$.includes("No image generated")?alert("The API returned a description instead of an image. Try a different edit type or check the prompt."):alert(`AI processing failed: ${$}`)}finally{x(!1)}},B=[{id:"remove_bg",label:"Remove Background",icon:l4,description:"Remove image background",category:"background"},{id:"replace_bg_white",label:"White Background",icon:$c,description:"White solid background",category:"background"},{id:"replace_bg_black",label:"Black Background",icon:$c,description:"Black solid background",category:"background"},{id:"replace_bg_transparent",label:"Transparent",icon:$c,description:"Transparent background",category:"background"},{id:"replace_bg_gradient",label:"Gradient Background",icon:$c,description:"Beautiful gradient background",category:"background"},{id:"replace_bg_nature",label:"Nature Background",icon:fz,description:"Natural outdoor setting",category:"background"},{id:"replace_bg_studio",label:"Studio Background",icon:Oq,description:"Professional studio setup",category:"background"},{id:"replace_bg_custom",label:"Custom Background",icon:i4,description:"Use reference image",category:"background"},{id:"enhance_quality",label:"Enhance Quality",icon:jf,description:"Improve sharpness & details",category:"enhancement"},{id:"enhance_colors",label:"Vivid Colors",icon:Ff,description:"Make colors more vibrant",category:"enhancement"},{id:"enhance_sharpness",label:"Sharpen",icon:Sz,description:"Increase image sharpness",category:"enhancement"},{id:"enhance_hdr",label:"HDR Effect",icon:Bf,description:"High dynamic range look",category:"enhancement"},{id:"effect_vintage",label:"Vintage",icon:Ci,description:"Retro film look",category:"effects"},{id:"effect_bw",label:"Black & White",icon:Cm,description:"Classic monochrome",category:"effects"},{id:"effect_sepia",label:"Sepia",icon:Bf,description:"Warm brown tones",category:"effects"},{id:"effect_cartoon",label:"Cartoon",icon:qr,description:"Animated cartoon style",category:"effects"},{id:"transform_square",label:"Square Format",icon:$c,description:"Convert to square",category:"transform"},{id:"transform_portrait",label:"Portrait",icon:i4,description:"Vertical composition",category:"transform"},{id:"transform_landscape",label:"Landscape",icon:OU,description:"Horizontal composition",category:"transform"},{id:"transform_circle",label:"Circular Crop",icon:T_,description:"Round composition",category:"transform"}];return o.jsx(Oi,{open:!!t,onOpenChange:X=>!X&&r(),children:o.jsxs(ni,{className:"max-w-6xl max-h-[90vh] overflow-hidden","aria-describedby":"image-edit-description",children:[o.jsxs(Ei,{children:[o.jsx(Ti,{children:"Edit Image"}),o.jsx("p",{id:"image-edit-description",className:"text-sm text-muted-foreground",children:"Crop and enhance your images with AI-powered editing tools"})]}),o.jsxs(fs,{value:p,onValueChange:h,className:"w-full",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2",children:[o.jsx(ur,{value:"crop",children:"Crop"}),o.jsx(ur,{value:"ai-edit",children:"AI Edit"})]}),o.jsx(dr,{value:"crop",className:"mt-4",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-16",children:[o.jsx(be,{variant:"outline",size:"sm",className:"p-2 h-12 w-12",onClick:()=>q("remove_bg"),disabled:v,title:"Remove Background",children:o.jsx(l4,{className:"w-4 h-4"})}),o.jsx(be,{variant:"outline",size:"sm",className:"p-2 h-12 w-12",onClick:()=>q("enhance"),disabled:v,title:"Enhance Quality",children:o.jsx(jf,{className:"w-4 h-4"})}),o.jsx(be,{variant:"outline",size:"sm",className:"p-2 h-12 w-12",onClick:()=>q("colorize"),disabled:v,title:"Adjust Colors",children:o.jsx(Ff,{className:"w-4 h-4"})}),o.jsx(be,{variant:"outline",size:"sm",className:"p-2 h-12 w-12",onClick:()=>h("ai-edit"),title:"More AI Tools",children:o.jsx(_z,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"flex-1 flex justify-center p-4",children:d?o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),o.jsx("p",{children:"Loading image..."})]})}):o.jsx(tbe,{crop:a,onChange:(X,J)=>i(J),onComplete:X=>l(X),aspect:n,minWidth:100,minHeight:100,children:o.jsx("img",{ref:R,alt:"Crop me",src:j||c||"",onLoad:M,style:{maxHeight:"60vh"}})})})]})}),o.jsx(dr,{value:"ai-edit",className:"mt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{className:"text-sm",children:"AI Editing Options"})}),o.jsx(Le,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Color Style"}),o.jsxs(Ma,{value:_,onValueChange:N,children:[o.jsx($a,{children:o.jsx(Da,{placeholder:"Select color style"})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"natural",children:"Natural"}),o.jsx(We,{value:"vibrant",children:"Vibrant"}),o.jsx(We,{value:"muted",children:"Muted"}),o.jsx(We,{value:"warm",children:"Warm"}),o.jsx(We,{value:"cool",children:"Cool"}),o.jsx(We,{value:"monochrome",children:"Monochrome"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Shape/Format"}),o.jsxs(Ma,{value:A,onValueChange:k,children:[o.jsx($a,{children:o.jsx(Da,{placeholder:"Select format"})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"original",children:"Original"}),o.jsx(We,{value:"square",children:"Square"}),o.jsx(We,{value:"portrait",children:"Portrait"}),o.jsx(We,{value:"landscape",children:"Landscape"}),o.jsx(We,{value:"circle",children:"Circle"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Scenario"}),o.jsxs(Ma,{value:O,onValueChange:T,children:[o.jsx($a,{children:o.jsx(Da,{placeholder:"Select scenario"})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"general",children:"General"}),o.jsx(We,{value:"studio",children:"Studio"}),o.jsx(We,{value:"outdoor",children:"Outdoor"}),o.jsx(We,{value:"indoor",children:"Indoor"}),o.jsx(We,{value:"nature",children:"Nature"}),o.jsx(We,{value:"urban",children:"Urban"}),o.jsx(We,{value:"beach",children:"Beach"}),o.jsx(We,{value:"mountain",children:"Mountain"})]})]})]})]})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{className:"text-sm",children:"Reference Images (Optional)"})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[g.map((X,J)=>o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:URL.createObjectURL(X),alt:`Reference ${J+1}`,className:"w-16 h-16 object-cover rounded border"}),o.jsx("button",{onClick:()=>F(J),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center",children:""})]},J)),g.length<3&&o.jsx("button",{onClick:()=>{var X;return(X=I.current)==null?void 0:X.click()},className:"w-16 h-16 border-2 border-dashed border-gray-300 rounded flex items-center justify-center hover:border-gray-400",children:o.jsx(yI,{className:"w-6 h-6 text-gray-400"})})]}),o.jsx("input",{ref:I,type:"file",accept:"image/*",multiple:!0,onChange:G,className:"hidden"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Upload up to 3 reference images for AI editing"})]})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"text-sm flex items-center gap-2",children:[o.jsx($c,{className:"w-4 h-4"}),"Background"]})}),o.jsx(Le,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:B.filter(X=>X.category==="background").map(X=>o.jsxs(be,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-1 text-xs",onClick:()=>q(X.id,X.id==="replace_bg_custom"),disabled:v||X.id==="replace_bg_custom"&&g.length===0,children:[o.jsx(X.icon,{className:"w-5 h-5"}),o.jsx("span",{className:"text-center leading-tight",children:X.label})]},X.id))})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"text-sm flex items-center gap-2",children:[o.jsx(jf,{className:"w-4 h-4"}),"Enhancement"]})}),o.jsx(Le,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:B.filter(X=>X.category==="enhancement").map(X=>o.jsxs(be,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-1 text-xs",onClick:()=>q(X.id),disabled:v,children:[o.jsx(X.icon,{className:"w-5 h-5"}),o.jsx("span",{className:"text-center leading-tight",children:X.label})]},X.id))})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"text-sm flex items-center gap-2",children:[o.jsx(kq,{className:"w-4 h-4"}),"Effects"]})}),o.jsx(Le,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:B.filter(X=>X.category==="effects").map(X=>o.jsxs(be,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-1 text-xs",onClick:()=>q(X.id),disabled:v,children:[o.jsx(X.icon,{className:"w-5 h-5"}),o.jsx("span",{className:"text-center leading-tight",children:X.label})]},X.id))})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"text-sm flex items-center gap-2",children:[o.jsx(Ci,{className:"w-4 h-4"}),"Transform"]})}),o.jsx(Le,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:B.filter(X=>X.category==="transform").map(X=>o.jsxs(be,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-1 text-xs",onClick:()=>q(X.id),disabled:v,children:[o.jsx(X.icon,{className:"w-5 h-5"}),o.jsx("span",{className:"text-center leading-tight",children:X.label})]},X.id))})})]}),o.jsx("div",{className:"flex justify-center",children:v?o.jsxs("div",{className:"flex flex-col items-center p-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),o.jsx("p",{children:"Processing with AI..."})]}):o.jsx("img",{src:j||c||"",alt:"Current image",className:"max-h-60 object-contain border rounded"})})]})})]}),o.jsx("canvas",{ref:P,style:{display:"none"}}),o.jsxs(oY,{children:[o.jsx(be,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(be,{onClick:D,disabled:d||!s,children:"Save Changes"})]})]})})}function $T({mode:t="create",product:e=null,onSuccess:r,onCancel:n}){var B,X;const[a,i]=S.useState({name:(e==null?void 0:e.name)||"",category:(e==null?void 0:e.category)||"Casual",price:((B=e==null?void 0:e.price)==null?void 0:B.toString())||"",originalPrice:((X=e==null?void 0:e.originalPrice)==null?void 0:X.toString())||"",description:(e==null?void 0:e.description)||"",inStock:(e==null?void 0:e.inStock)??!0,sizes:(e==null?void 0:e.sizes)||["S","M","L"],colors:(e==null?void 0:e.colors)||["Black","White"],images:(e==null?void 0:e.images)||[]}),[s,l]=S.useState([]),[c,u]=S.useState((e==null?void 0:e.images)||[]),[d,f]=S.useState(!1),[p,h]=S.useState(0),[g,m]=S.useState(!1),[v,x]=S.useState(""),[j,w]=S.useState(""),_=S.useRef(null),[N,A]=S.useState(null);S.useEffect(()=>()=>{s.forEach(J=>{J.preview&&URL.revokeObjectURL(J.preview)})},[s]);const k=J=>{if(!N)return;const ie=new File([J],"cropped_image.png",{type:"image/png"}),$=URL.createObjectURL(ie);N.type==="new"?l(W=>{const H=[...W],ee=H[N.index].preview;return URL.revokeObjectURL(ee),H[N.index]={...H[N.index],file:ie,preview:$,status:"pending"},H}):(u(W=>W.filter((H,ee)=>ee!==N.index)),l(W=>[...W,{file:ie,preview:$,status:"pending",progress:0}])),A(null),_e.success("Image cropped successfully. Ready for upload.")},O=S.useCallback(J=>{J.preventDefault(),J.stopPropagation(),J.type==="dragenter"||J.type==="dragover"?m(!0):J.type==="dragleave"&&m(!1)},[]),T=S.useCallback(J=>{J.preventDefault(),J.stopPropagation(),m(!1),J.dataTransfer.files&&J.dataTransfer.files[0]&&R(Array.from(J.dataTransfer.files))},[]),R=J=>{const ie=J.filter(W=>{const H=Bo.validateFile(W);return H.valid?!0:(_e.error(`${W.name}: ${H.error}`),!1)});if(ie.length===0)return;const $=ie.map(W=>({file:W,preview:URL.createObjectURL(W),status:"pending",progress:0}));l(W=>[...W,...$]),_e.success(`${ie.length} image(s) ready for upload`)},P=J=>{const ie=s[J];ie.preview&&URL.revokeObjectURL(ie.preview),ie.url&&Bo.deleteImage(ie.url).catch($=>{console.warn("Failed to delete image from storage:",$)}),l($=>$.filter((W,H)=>H!==J))},I=J=>{u(ie=>ie.filter($=>$!==J))},M=()=>{v.trim()&&!a.sizes.includes(v.trim())&&(i(J=>({...J,sizes:[...J.sizes,v.trim()]})),x(""))},D=J=>{i(ie=>({...ie,sizes:ie.sizes.filter($=>$!==J)}))},G=()=>{j.trim()&&!a.colors.includes(j.trim())&&(i(J=>({...J,colors:[...J.colors,j.trim()]})),w(""))},F=J=>{i(ie=>({...ie,colors:ie.colors.filter($=>$!==J)}))},q=async J=>{if(J.preventDefault(),!a.name.trim()){_e.error("Product name is required");return}if(!a.price||isNaN(parseFloat(a.price))){_e.error("Valid price is required");return}if(s.some(ie=>ie.status==="uploading")){_e.error("Please wait for all images to finish uploading");return}f(!0),h(0);try{const ie={name:a.name,category:a.category,price:parseFloat(a.price),original_price:a.originalPrice?parseFloat(a.originalPrice):void 0,description:a.description,in_stock:a.inStock,sizes:a.sizes,colors:a.colors,images:[...c]};let $;if(t==="edit"&&(e!=null&&e.id))await gm(e.id,ie),$=e.id;else{const H=await GI(ie);if(!H||!H.id)throw new Error("Failed to create product");$=H.id}let W=[...c];if(s.length>0){l(de=>de.map(se=>({...se,status:"uploading",progress:0})));const H=s.map(de=>de.file),ee={format:"webp",quality:.85,generateSizes:!0},le=await Bo.uploadMultipleImages(H,$,ee,(de,se)=>{l(he=>he.map((ge,ue)=>ue===de?{...ge,progress:se.percentage}:ge)),h(Math.round((de+se.percentage/100)/H.length*100))},(de,se)=>{l(he=>he.map((ge,ue)=>ue===de?{...ge,status:"completed",url:se.url,thumbnailUrl:se.thumbnailUrl,progress:100}:ge))}).catch(async de=>{console.error("Upload failed:",de),console.log("Checking bucket existence...");const se=await Bo.checkBucketExists();if(console.log("Bucket exists:",se),!se)return _e.error("Image storage bucket is not accessible"),[];console.log("Checking direct bucket access...");const he=await Bo.checkBucketDirectly();return console.log("Direct bucket access:",he),_e.error(`Upload failed: ${de.message}`),[]}),oe=le.map(de=>de.url);W=[...c,...oe],await gm($,{images:W}),_e.success(`${t==="edit"?"Updated":"Created"} product with ${le.length} new image(s)`)}else await gm($,{images:W}),_e.success(`Product ${t==="edit"?"updated":"created"} successfully!`);r==null||r(),t==="create"&&(i({name:"",category:"Casual",price:"",originalPrice:"",description:"",inStock:!0,sizes:["S","M","L"],colors:["Black","White"],images:[]}),u([])),s.forEach(H=>{H.preview&&URL.revokeObjectURL(H.preview)}),l([]),h(0)}catch(ie){console.error(`Error ${t==="edit"?"updating":"creating"} product:`,ie),_e.error(ie instanceof Error?ie.message:`Failed to ${t==="edit"?"update":"create"} product`),l($=>$.map(W=>W.status==="uploading"?{...W,status:"error",error:"Upload failed"}:W))}finally{f(!1)}};return o.jsxs(Re,{className:"w-full bg-neutral-900/60 backdrop-blur border-neutral-800",children:[o.jsx(gt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(vt,{className:"flex items-center gap-2",children:[t==="edit"?o.jsx(Om,{className:"h-5 w-5"}):o.jsx(Wl,{className:"h-5 w-5"}),t==="edit"?"Edit Product":"Add New Product"]}),n&&o.jsx(be,{variant:"ghost",onClick:n,children:"Cancel"})]})}),o.jsxs(Le,{children:[o.jsxs("form",{onSubmit:q,className:"space-y-5",children:[o.jsxs(Gxe,{type:"multiple",defaultValue:["basic","pricing","inventory","media"],className:"w-full",children:[o.jsxs(dm,{value:"basic",children:[o.jsx(fm,{className:"text-sm font-medium",children:"Basic Information"}),o.jsxs(hm,{className:"space-y-4 pt-2",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"product-name",children:"Product Name *"}),o.jsx(Dt,{id:"product-name",value:a.name,onChange:J=>i(ie=>({...ie,name:J.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"category",children:"Category"}),o.jsxs(Ma,{value:a.category,onValueChange:J=>i(ie=>({...ie,category:J})),children:[o.jsx($a,{children:o.jsx(Da,{})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"Casual",children:"Casual"}),o.jsx(We,{value:"Party",children:"Party"}),o.jsx(We,{value:"Shoes",children:"Shoes"}),o.jsx(We,{value:"Outwear",children:"Outwear"}),o.jsx(We,{value:"Dresses",children:"Dresses"}),o.jsx(We,{value:"Accessories",children:"Accessories"})]})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"description",children:"Description"}),o.jsx(i$,{id:"description",value:a.description,onChange:J=>i(ie=>({...ie,description:J.target.value})),rows:3})]})]})]}),o.jsxs(dm,{value:"pricing",children:[o.jsx(fm,{className:"text-sm font-medium",children:"Pricing"}),o.jsx(hm,{className:"space-y-4 pt-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"price",children:"Price *"}),o.jsx(Dt,{id:"price",type:"number",step:"0.01",min:"0",value:a.price,onChange:J=>i(ie=>({...ie,price:J.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"original-price",children:"Original Price (for sales)"}),o.jsx(Dt,{id:"original-price",type:"number",step:"0.01",min:"0",value:a.originalPrice,onChange:J=>i(ie=>({...ie,originalPrice:J.target.value}))})]})]})})]}),o.jsxs(dm,{value:"inventory",children:[o.jsx(fm,{className:"text-sm font-medium",children:"Inventory & Variants"}),o.jsxs(hm,{className:"space-y-5 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(S_,{id:"in-stock",checked:a.inStock,onCheckedChange:J=>i(ie=>({...ie,inStock:J}))}),o.jsx(Et,{htmlFor:"in-stock",children:"In Stock"})]}),o.jsxs("div",{children:[o.jsx(Et,{children:"Sizes"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Dt,{value:v,onChange:J=>x(J.target.value),placeholder:"Add size (e.g., XL)",onKeyPress:J=>J.key==="Enter"&&(J.preventDefault(),M())}),o.jsx(be,{type:"button",variant:"outline",onClick:M,children:o.jsx(Wl,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.sizes.map(J=>o.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:[J,o.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>D(J),children:o.jsx(Zs,{className:"h-3 w-3"})})]},J))})]}),o.jsxs("div",{children:[o.jsx(Et,{children:"Colors"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Dt,{value:j,onChange:J=>w(J.target.value),placeholder:"Add color (e.g., Red)",onKeyPress:J=>J.key==="Enter"&&(J.preventDefault(),G())}),o.jsx(be,{type:"button",variant:"outline",onClick:G,children:o.jsx(Wl,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.colors.map(J=>o.jsxs(jt,{variant:"secondary",className:"flex items-center gap-1",children:[J,o.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>F(J),children:o.jsx(ro,{className:"h-3 w-3"})})]},J))})]})]})]}),o.jsxs(dm,{value:"media",children:[o.jsx(fm,{className:"text-sm font-medium",children:"Media & Images"}),o.jsx(hm,{className:"space-y-4 pt-2",children:o.jsxs("div",{children:[o.jsx(Et,{children:"Product Images"}),c.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Images:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map((J,ie)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>A({index:ie,src:J,type:"existing"}),children:[o.jsx("img",{src:J,alt:`Existing ${ie+1}`,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:o.jsx(a4,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})})]}),o.jsx(be,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:$=>{$.stopPropagation(),I(J)},children:o.jsx(Zs,{className:"h-3 w-3"})})]},`existing-${ie}`))})]}),o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${g?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:O,onDragLeave:O,onDragOver:O,onDrop:T,onClick:()=>{var J;return(J=_.current)==null?void 0:J.click()},children:[o.jsx("input",{ref:_,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:J=>J.target.files&&R(Array.from(J.target.files))}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(yI,{className:"h-8 w-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Drop new images here or click to browse"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG, WebP, AVIF (max 10MB each)"})]})]})]}),s.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"New Images to Upload:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((J,ie)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>A({index:ie,src:J.preview,type:"new"}),children:[o.jsx("img",{src:J.preview,alt:`New ${ie+1}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:[J.status==="pending"&&o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:o.jsx(a4,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),J.status==="uploading"&&o.jsxs("div",{className:"text-white text-center",children:[o.jsx("div",{className:"w-8 h-8 mx-auto mb-2",children:o.jsx(Ou,{value:J.progress,className:"w-full h-full"})}),o.jsxs("p",{className:"text-xs",children:[J.progress,"%"]})]}),J.status==="completed"&&o.jsx(Ph,{className:"h-8 w-8 text-green-500"}),J.status==="error"&&o.jsxs("div",{className:"text-center",children:[o.jsx(Zl,{className:"h-8 w-8 text-red-500 mx-auto mb-1"}),o.jsx("p",{className:"text-xs text-red-400",children:"Failed"})]})]})]}),o.jsx(be,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:$=>{$.stopPropagation(),P(ie)},children:o.jsx(Zs,{className:"h-3 w-3"})})]},`new-${ie}`))})]}),d&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsx("span",{children:"Uploading images..."}),o.jsxs("span",{children:[p,"%"]})]}),o.jsx(Ou,{value:p})]}),s.some(J=>J.status==="error")&&o.jsx("div",{className:"mt-4",children:o.jsxs(Sxe,{variant:"destructive",children:[o.jsx(Zl,{className:"h-4 w-4"}),o.jsx(Axe,{children:"Upload failed. Check browser console (F12) for detailed error information."})]})})]})})]})]}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[n&&o.jsx(be,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),o.jsx(be,{type:"submit",className:"flex-1",disabled:d||s.some(J=>J.status==="uploading"),children:d?"Uploading...":t==="edit"?"Update Product":"Create Product"})]})]}),o.jsx(obe,{src:(N==null?void 0:N.src)||null,onClose:()=>A(null),onCropComplete:k})]})]})}var R$="AlertDialog",[lbe,Lwe]=Mn(R$,[M8]),ho=M8(),L$=t=>{const{__scopeAlertDialog:e,...r}=t,n=ho(e);return o.jsx(nj,{...n,...r,modal:!0})};L$.displayName=R$;var cbe="AlertDialogTrigger",M$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(dv,{...a,...n,ref:e})});M$.displayName=cbe;var ube="AlertDialogPortal",D$=t=>{const{__scopeAlertDialog:e,...r}=t,n=ho(e);return o.jsx(aj,{...n,...r})};D$.displayName=ube;var dbe="AlertDialogOverlay",$$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(fv,{...a,...n,ref:e})});$$.displayName=dbe;var Eu="AlertDialogContent",[fbe,hbe]=lbe(Eu),pbe=OB("AlertDialogContent"),F$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=ho(r),s=S.useRef(null),l=Bt(e,s),c=S.useRef(null);return o.jsx(rY,{contentName:Eu,titleName:B$,docsSlug:"alert-dialog",children:o.jsx(fbe,{scope:r,cancelRef:c,children:o.jsxs(hv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:dt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(pbe,{children:n}),o.jsx(gbe,{contentRef:s})]})})})});F$.displayName=Eu;var B$="AlertDialogTitle",q$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(J8,{...a,...n,ref:e})});q$.displayName=B$;var U$="AlertDialogDescription",z$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(Q8,{...a,...n,ref:e})});z$.displayName=U$;var mbe="AlertDialogAction",W$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(pv,{...a,...n,ref:e})});W$.displayName=mbe;var H$="AlertDialogCancel",V$=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=hbe(H$,r),i=ho(r),s=Bt(e,a);return o.jsx(pv,{...i,...n,ref:s})});V$.displayName=H$;var gbe=({contentRef:t})=>{const e=`\`${Eu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Eu}\` by passing a \`${U$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Eu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},vbe=L$,ybe=M$,xbe=D$,G$=$$,bbe=F$,wbe=W$,_be=V$,jbe=q$,Nbe=z$;function v0({...t}){return o.jsx(vbe,{"data-slot":"alert-dialog",...t})}function y0({...t}){return o.jsx(ybe,{"data-slot":"alert-dialog-trigger",...t})}function Sbe({...t}){return o.jsx(xbe,{"data-slot":"alert-dialog-portal",...t})}const Y$=S.forwardRef(({className:t,...e},r)=>o.jsx(G$,{...e,ref:r,"data-slot":"alert-dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",t)}));Y$.displayName=G$.displayName;function x0({className:t,...e}){return o.jsxs(Sbe,{children:[o.jsx(Y$,{}),o.jsx(bbe,{"data-slot":"alert-dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function b0({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function w0({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function _0({className:t,...e}){return o.jsx(jbe,{"data-slot":"alert-dialog-title",className:qe("text-lg font-semibold",t),...e})}function j0({className:t,...e}){return o.jsx(Nbe,{"data-slot":"alert-dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function N0({className:t,...e}){return o.jsx(wbe,{className:qe(Mf(),t),...e})}function S0({className:t,...e}){return o.jsx(_be,{className:qe(Mf({variant:"outline"}),t),...e})}function Zo({src:t,alt:e,className:r,sizes:n="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:a=!1,placeholder:i,onLoad:s,onError:l}){const[c,u]=S.useState(!1),[d,f]=S.useState(!1),[p,h]=S.useState(a),g=S.useRef(null),m=S.useRef(null);S.useEffect(()=>{if(!(a||!g.current))return m.current=new IntersectionObserver(w=>{var N;const[_]=w;_.isIntersecting&&(h(!0),(N=m.current)==null||N.disconnect())},{threshold:.1,rootMargin:"50px"}),g.current&&m.current.observe(g.current),()=>{var w;(w=m.current)==null||w.disconnect()}},[a]);const v=()=>{u(!0),s==null||s()},x=()=>{f(!0),l==null||l()},j=w=>w.startsWith("data:")?w:w.includes("supabase")?[400,800,1200,1600].map(N=>`${w}?width=${N} ${N}w`).join(", "):w;return d?o.jsx("div",{className:qe("flex items-center justify-center bg-gray-100 text-gray-400",r),children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:""}),o.jsx("p",{className:"text-sm",children:"Image unavailable"})]})}):o.jsxs("div",{className:qe("relative overflow-hidden",r),children:[(!c||!p)&&o.jsx("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:i?o.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover opacity-50"}):o.jsxs("div",{className:"text-gray-400",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-xs",children:"Loading..."})]})}),p&&o.jsx("img",{ref:g,src:t,alt:e,className:qe("w-full h-full object-cover transition-opacity duration-300",c?"opacity-100":"opacity-0"),sizes:n,srcSet:j(t),onLoad:v,onError:x,loading:a?"eager":"lazy"}),p&&t&&!t.startsWith("data:")&&o.jsxs("picture",{children:[o.jsx("source",{srcSet:`${t}?format=webp`,type:"image/webp"}),o.jsx("source",{srcSet:`${t}?format=avif`,type:"image/avif"}),o.jsx("img",{src:t,alt:e,className:"hidden","aria-hidden":"true"})]})]})}function K$({images:t,name:e,className:r,priority:n=!1}){const a=t==null?void 0:t[0];return a?t.length===1?o.jsx(Zo,{src:a,alt:e,className:qe("object-cover rounded-lg",r),priority:n}):o.jsx("div",{className:qe("relative group",r),children:o.jsx(Zo,{src:a,alt:e,className:"w-full h-full object-cover rounded-lg",priority:n})}):o.jsx("div",{className:qe("bg-gray-100 flex items-center justify-center aspect-square rounded-lg",r),children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx("div",{className:"text-2xl mb-1",children:""}),o.jsx("p",{className:"text-xs",children:"No image"})]})})}function Abe({products:t,onEditProduct:e,onRefresh:r}){const[n,a]=S.useState(""),[i,s]=S.useState("All"),[l,c]=S.useState(null),[u,d]=S.useState("list"),f=t.filter(g=>{const m=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),v=i==="All"||g.category===i;return m&&v}),p=async(g,m)=>{try{console.log(" Attempting to delete product:",{productId:g,productName:m});const v=await YI(g);console.log(" Delete result:",v),v?(_e.success(`Product "${m}" deleted successfully`),console.log(" Calling onRefresh..."),r==null||r()):(_e.error("Failed to delete product"),console.error(" Delete function returned false"))}catch(v){console.error(" Error deleting product:",v),_e.error("Failed to delete product")}},h=(g,m)=>m&&m>g?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]}),o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",m.toFixed(2)]}),o.jsxs(jt,{variant:"destructive",className:"text-xs",children:[Math.round((1-g/m)*100),"% OFF"]})]}):o.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]});return o.jsxs(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:[o.jsxs(gt,{children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(vt,{children:["Product Inventory (",f.length,")"]})}),o.jsxs("div",{className:"flex gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Dt,{placeholder:"Search products...",value:n,onChange:g=>a(g.target.value),className:"pl-10"})]}),o.jsxs(Ma,{value:i,onValueChange:s,children:[o.jsx($a,{className:"w-48",children:o.jsx(Da,{})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"All",children:"All Categories"}),o.jsx(We,{value:"Casual",children:"Casual"}),o.jsx(We,{value:"Party",children:"Party"}),o.jsx(We,{value:"Shoes",children:"Shoes"}),o.jsx(We,{value:"Outwear",children:"Outwear"}),o.jsx(We,{value:"Dresses",children:"Dresses"}),o.jsx(We,{value:"Accessories",children:"Accessories"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(be,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:o.jsx(ev,{className:"w-4 h-4"})}),o.jsx(be,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:o.jsx(rv,{className:"w-4 h-4"})})]})]})]}),o.jsxs(Le,{className:"w-full",children:[u==="grid"?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:f.map(g=>o.jsx(Pbe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})}):o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:o.jsxs("tr",{className:"*:[&>th]:font-medium",children:[o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden sm:table-cell",children:"Stock"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-800",children:f.map(g=>o.jsx(kbe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})]})})}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),o.jsx("p",{className:"text-gray-500",children:t.length===0?"No products in inventory yet. Add your first product to get started.":"Try adjusting your search or filter criteria."})]})]}),o.jsx(Oi,{open:!!l,onOpenChange:()=>c(null),children:o.jsxs(ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsx(Ti,{children:"Product Details"})}),l&&o.jsx(Cbe,{product:l})]})})]})}function kbe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return o.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700",children:o.jsx(Zo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover",priority:!0})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-neutral-200 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(qr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),o.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:o.jsx(jt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase",children:t.category})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"text-sm text-neutral-200",children:a(t.price,t.originalPrice)})}),o.jsx("td",{className:"px-3 py-3 hidden sm:table-cell align-top",children:o.jsx("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${t.inStock?"bg-green-500/15 text-green-300":"bg-red-500/15 text-red-300"}`,children:t.inStock?"In Stock":"Out"})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(M_,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ff,{className:"h-3 w-3"}),t.colors.length," colors"]}),o.jsxs("span",{className:"hidden xl:inline",children:[t.images.length," img"]})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ti,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(F_,{className:"h-4 w-4"})}),o.jsxs(v0,{children:[o.jsx(y0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ro,{className:"h-4 w-4"})})}),o.jsxs(x0,{children:[o.jsxs(b0,{children:[o.jsx(_0,{children:"Delete Product"}),o.jsxs(j0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),o.jsxs(w0,{children:[o.jsx(S0,{children:"Cancel"}),o.jsx(N0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})})]})}function Pbe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return o.jsxs("div",{className:"border border-neutral-800 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-black/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0",children:[o.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[o.jsx(Zo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300",priority:!0}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md ${t.inStock?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:t.inStock?"Stock":"Out"})})]}),o.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-200",title:t.name,children:t.name}),o.jsx(jt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide",children:t.category})]}),o.jsxs("div",{className:"text-sm font-semibold text-neutral-100",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&o.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center justify-between text-[11px] text-neutral-400 w-full",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{children:t.rating})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(M_,{className:"h-3 w-3"}),t.sizes.length]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ff,{className:"h-3 w-3"}),t.colors.length]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ti,{className:"h-3 w-3"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(F_,{className:"h-3 w-3"})}),o.jsxs(v0,{children:[o.jsx(y0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ro,{className:"h-3 w-3"})})}),o.jsxs(x0,{children:[o.jsxs(b0,{children:[o.jsx(_0,{children:"Delete Product"}),o.jsxs(j0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),o.jsxs(w0,{children:[o.jsx(S0,{children:"Cancel"}),o.jsx(N0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})]})]})}function Cbe({product:t}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(Zo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo=",alt:t.name,className:"w-full h-64 object-cover rounded-lg",priority:!0}),t.images.length>1&&o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.images.slice(1,5).map((e,r)=>o.jsx(Zo,{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-16 object-cover rounded"},r))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:t.name}),o.jsx("p",{className:"text-muted-foreground",children:t.category})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Price"}),t.originalPrice&&t.originalPrice>t.price?o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R",t.price.toFixed(2)]}),o.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["R",t.originalPrice.toFixed(2)]}),o.jsxs(jt,{className:"ml-2",variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}):o.jsxs("span",{className:"text-2xl font-bold",children:["R",t.price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Stock Status"}),o.jsx(jt,{variant:t.inStock?"default":"destructive",children:t.inStock?"In Stock":"Out of Stock"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Available Sizes"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.sizes.map(e=>o.jsx(jt,{variant:"outline",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Available Colors"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.colors.map(e=>o.jsx(jt,{variant:"outline",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Rating & Reviews"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,r)=>o.jsx(qr,{className:`h-4 w-4 ${r<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),o.jsxs("span",{className:"text-sm",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Description"}),o.jsx("p",{className:"text-muted-foreground",children:t.description||"No description available"})]})]})}function Obe({products:t,onRefresh:e}){const[r,n]=S.useState(""),[a,i]=S.useState("All"),[s,l]=S.useState(null),[c,u]=S.useState("list"),d=t.filter(m=>{const v=m.name.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase()),x=a==="All"||m.category===a;return v&&x}),f=async(m,v)=>{try{console.log(" Restoring product:",{productId:m,productName:v}),await KI(m)?(_e.success(`Product "${v}" restored successfully`),e==null||e()):_e.error("Failed to restore product")}catch(x){console.error(" Error restoring product:",x),_e.error("Failed to restore product")}},p=async(m,v)=>{try{console.log(" Permanently deleting product:",{productId:m,productName:v}),await XI(m)?(_e.success(`Product "${v}" permanently deleted`),e==null||e()):_e.error("Failed to permanently delete product")}catch(x){console.error(" Error permanently deleting product:",x),_e.error("Failed to permanently delete product")}},h=(m,v)=>v&&v>m?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",v.toFixed(2)]}),o.jsxs(jt,{variant:"destructive",className:"text-xs",children:[Math.round((1-m/v)*100),"% OFF"]})]}):o.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),g=m=>new Date(m).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.jsxs(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800 border-orange-500/20",children:[o.jsxs(gt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(Ks,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory (",d.length,")"]}),o.jsx(jt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:"Archived Products"})]}),o.jsxs("div",{className:"flex gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Dt,{placeholder:"Search deleted products...",value:r,onChange:m=>n(m.target.value),className:"pl-10"})]}),o.jsxs(Ma,{value:a,onValueChange:i,children:[o.jsx($a,{className:"w-48",children:o.jsx(Da,{})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"All",children:"All Categories"}),o.jsx(We,{value:"Casual",children:"Casual"}),o.jsx(We,{value:"Party",children:"Party"}),o.jsx(We,{value:"Shoes",children:"Shoes"}),o.jsx(We,{value:"Outwear",children:"Outwear"}),o.jsx(We,{value:"Dresses",children:"Dresses"}),o.jsx(We,{value:"Accessories",children:"Accessories"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(be,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>u("grid"),children:o.jsx(ev,{className:"w-4 h-4"})}),o.jsx(be,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),children:o.jsx(rv,{className:"w-4 h-4"})})]})]})]}),o.jsxs(Le,{className:"w-full",children:[c==="grid"?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:d.map(m=>o.jsx(Tbe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})}):o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:o.jsxs("tr",{className:"*:[&>th]:font-medium",children:[o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Deleted"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-800",children:d.map(m=>o.jsx(Ebe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})]})})}),d.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ks,{className:"h-12 w-12 text-orange-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deleted products found"}),o.jsx("p",{className:"text-gray-500",children:t.length===0?"No products have been deleted yet.":"Try adjusting your search or filter criteria."})]})]}),o.jsx(Oi,{open:!!s,onOpenChange:()=>l(null),children:o.jsxs(ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center gap-2",children:[o.jsx(Ks,{className:"h-5 w-5 text-orange-500"}),"Deleted Product Details"]})}),s&&o.jsx("div",{className:"space-y-4",children:o.jsxs(jt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:["Deleted on ",g(s.deleted_at)]})})]})})]})}function Ebe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return o.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors opacity-70",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700 relative",children:[o.jsx(Zo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover grayscale",priority:!0}),o.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:o.jsx(Ks,{className:"h-4 w-4 text-red-400"})})]}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-neutral-300 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(qr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),o.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:o.jsx(jt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase opacity-70",children:t.category})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"text-sm text-neutral-300 opacity-70",children:a(t.price,t.originalPrice)})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top",children:o.jsx("div",{className:"text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Jg,{className:"h-3 w-3"}),i(t.deleted_at)]})})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(M_,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ff,{className:"h-3 w-3"}),t.colors.length," colors"]})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ti,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"h-8 w-8 p-0 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore product",children:o.jsx(Ci,{className:"h-4 w-4"})}),o.jsxs(v0,{children:[o.jsx(y0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:o.jsx(ro,{className:"h-4 w-4"})})}),o.jsxs(x0,{children:[o.jsxs(b0,{children:[o.jsxs(_0,{className:"flex items-center gap-2",children:[o.jsx(nv,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),o.jsxs(j0,{children:['Are you sure you want to permanently delete "',t.name,'"?',o.jsx("br",{}),o.jsx("br",{}),o.jsx("strong",{children:"This action cannot be undone and will:"}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Completely remove the product from the database"}),o.jsx("li",{children:"Delete all associated images"}),o.jsx("li",{children:"Remove all references from order history"})]})]})]}),o.jsxs(w0,{children:[o.jsx(S0,{children:"Cancel"}),o.jsx(N0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})})]})}function Tbe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return o.jsxs("div",{className:"border border-orange-800/40 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-orange-900/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0 opacity-70",children:[o.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[o.jsx(Zo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover grayscale",priority:!0}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:"px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md bg-orange-500/20 text-orange-300",children:"Deleted"})}),o.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:o.jsx(Ks,{className:"h-8 w-8 text-red-400"})})]}),o.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-300",title:t.name,children:t.name}),o.jsx(jt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide opacity-70",children:t.category})]}),o.jsxs("div",{className:"text-sm font-semibold text-neutral-300 opacity-70",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&o.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"text-[10px] text-orange-400",children:["Deleted: ",i(t.deleted_at)]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ti,{className:"h-3 w-3"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"text-[11px] h-7 px-2 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore",children:o.jsx(Ci,{className:"h-3 w-3"})}),o.jsxs(v0,{children:[o.jsx(y0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:o.jsx(ro,{className:"h-3 w-3"})})}),o.jsxs(x0,{children:[o.jsxs(b0,{children:[o.jsxs(_0,{className:"flex items-center gap-2",children:[o.jsx(nv,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),o.jsxs(j0,{children:['Are you sure you want to permanently delete "',t.name,'"? This action cannot be undone.']})]}),o.jsxs(w0,{children:[o.jsx(S0,{children:"Cancel"}),o.jsx(N0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})]})]})}function Ibe({onEditProduct:t}){const[e,r]=S.useState([]),[n,a]=S.useState([]),[i,s]=S.useState(!0),[l,c]=S.useState("active"),u=async()=>{s(!0);try{console.log(" ProductTabs: Loading products...");const f=await G_();console.log(" ProductTabs: Active products loaded:",f.length),r(f);const p=await BI();console.log(" ProductTabs: Deleted products loaded:",p.length),a(p)}catch(f){console.error(" ProductTabs: Error loading products:",f),_e.error("Failed to load products")}finally{s(!1)}};S.useEffect(()=>{u()},[]);const d=()=>{console.log(" ProductTabs: Refreshing products..."),u()};return i?o.jsx(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Products..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your inventory."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(Re,{className:"bg-gradient-to-r from-green-500/10 to-emerald-600/10 border-green-500/20",children:[o.jsx(gt,{className:"pb-3",children:o.jsxs(vt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Wo,{className:"h-5 w-5 text-green-500"}),"Active Products"]})}),o.jsxs(Le,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-500",children:e.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently visible to customers"})]})]}),o.jsxs(Re,{className:"bg-gradient-to-r from-orange-500/10 to-red-600/10 border-orange-500/20",children:[o.jsx(gt,{className:"pb-3",children:o.jsxs(vt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ks,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory"]})}),o.jsxs(Le,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Archived products"})]})]})]}),o.jsxs(fs,{value:l,onValueChange:c,className:"w-full",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2 bg-neutral-800/60 backdrop-blur",children:[o.jsxs(ur,{value:"active",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[o.jsx(Wo,{className:"h-4 w-4"}),"Active Products",o.jsx(jt,{variant:"secondary",className:"ml-1",children:e.length})]}),o.jsxs(ur,{value:"deleted",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-600 data-[state=active]:text-white",children:[o.jsx(Ks,{className:"h-4 w-4"}),"Deleted Inventory",o.jsx(jt,{variant:"secondary",className:"ml-1",children:n.length})]})]}),o.jsx(dr,{value:"active",className:"mt-6",children:o.jsx(Abe,{products:e,onEditProduct:t,onRefresh:d})}),o.jsx(dr,{value:"deleted",className:"mt-6",children:o.jsx(Obe,{products:n,onRefresh:d})})]})]})}var A0="Switch",[Rbe,Mwe]=Mn(A0),[Lbe,Mbe]=Rbe(A0),X$=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,h]=S.useState(null),g=Bt(e,w=>h(w)),m=S.useRef(!1),v=p?d||!!p.closest("form"):!0,[x,j]=ri({prop:a,defaultProp:i??!1,onChange:u,caller:A0});return o.jsxs(Lbe,{scope:r,checked:x,disabled:l,children:[o.jsx(it.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":eF(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:dt(t.onClick,w=>{j(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(Q$,{control:p,bubbles:!m.current,name:n,value:c,checked:x,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});X$.displayName=A0;var Z$="SwitchThumb",J$=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Mbe(Z$,r);return o.jsx(it.span,{"data-state":eF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});J$.displayName=Z$;var Dbe="SwitchBubbleInput",Q$=S.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),l=Bt(s,i),c=c0(r),u=i0(e);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q$.displayName=Dbe;function eF(t){return t?"checked":"unchecked"}var $be=X$,Fbe=J$;function hu({className:t,...e}){return o.jsx($be,{"data-slot":"switch",className:qe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Fbe,{"data-slot":"switch-thumb",className:qe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Bbe=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"systemAlerts",label:"System Alerts",description:"Important system notifications"},{key:"orderAlerts",label:"Order Alerts",description:"Notifications for new orders"},{key:"securityAlerts",label:"Security Alerts",description:"Security-related notifications"}],qbe=[{key:"theme",label:"Theme",options:[{value:"light",label:"Light",icon:o.jsx(Bf,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:o.jsx(Cm,{className:"h-4 w-4"})},{value:"system",label:"System",icon:o.jsx(kU,{className:"h-4 w-4"})}]},{key:"language",label:"Language",options:[{value:"en",label:"English"},{value:"af",label:"Afrikaans"},{value:"zu",label:"isiZulu"},{value:"xh",label:"isiXhosa"},{value:"tn",label:"Setswana"},{value:"st",label:"Sesotho"},{value:"ve",label:"Tshivenda"},{value:"ts",label:"Xitsonga"}]},{key:"timezone",label:"Timezone",options:[{value:"UTC+3",label:"UTC+3 (Nairobi, Kenya)"},{value:"UTC+2",label:"UTC+2 (Johannesburg, South Africa)"},{value:"UTC+1",label:"UTC+1 (Lagos, Nigeria)"},{value:"UTC+0",label:"UTC+0 (Dakar, Senegal)"},{value:"UTC-1",label:"UTC-1 (Cape Verde)"}]},{key:"itemsPerPage",label:"Items Per Page",options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}],f2={emailNotifications:!0,pushNotifications:!1,systemAlerts:!0,orderAlerts:!0,securityAlerts:!0,language:"en",timezone:"UTC+2",theme:"system",dashboardLayout:"default",itemsPerPage:"20"},FT="admin_preferences";function tF(){const{user:t,isAdmin:e,signOut:r}=Cn(),[n,a]=S.useState(!1),[i,s]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,p]=S.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,g]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,v]=S.useState(f2),[x,j]=S.useState(!1);S.useEffect(()=>{(()=>{try{const O=localStorage.getItem(FT);if(O){const T=JSON.parse(O),R={...f2,...T};v(R)}}catch(O){console.error("Error loading preferences from localStorage:",O),v(f2)}})()},[]),S.useEffect(()=>{const k=()=>{try{localStorage.setItem(FT,JSON.stringify(m))}catch(O){console.error("Error saving preferences to localStorage:",O)}};Object.keys(m).length>0&&k()},[m]);const w=async()=>{if(!t){_e.error("User not found");return}c(!0);try{console.log("AdminAccountSettings: Updating user profile:",f);const k={};if(f.name!==(t.name||"")&&(k.name=f.name),f.phone!==(t.phone||"")&&(k.phone=f.phone),f.email!==(t.email||"")&&(k.email=f.email),Object.keys(k).length===0){_e.info("No changes to save"),a(!1),c(!1);return}console.log("AdminAccountSettings: Updates to save:",k);const O=await ZI(t.id,k);if(O)console.log("AdminAccountSettings: Profile updated successfully:",O),_e.success("Profile updated successfully!"),p({name:(O==null?void 0:O.name)||f.name,email:(O==null?void 0:O.email)||f.email,phone:(O==null?void 0:O.phone)||f.phone}),a(!1);else throw new Error("Failed to update profile")}catch(k){console.error("AdminAccountSettings: Error updating profile:",k),_e.error("Failed to update profile")}finally{c(!1)}},_=async()=>{var k,O,T;if(h.newPassword!==h.confirmPassword){_e.error("New passwords do not match");return}if(h.newPassword.length<6){_e.error("Password must be at least 6 characters long");return}c(!0);try{if(console.log("AdminAccountSettings: Changing user password"),await JI(h.newPassword))console.log("AdminAccountSettings: Password changed successfully"),_e.success("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error("Failed to update password")}catch(R){console.error("AdminAccountSettings: Error changing password:",R),(k=R.message)!=null&&k.includes("session_not_found")||(O=R.message)!=null&&O.includes("refresh_token_not_found")?_e.error("Session expired. Please log in again to change your password."):(T=R.message)!=null&&T.includes("same_password")?_e.error("New password must be different from current password"):_e.error("Failed to change password. Please try again.")}finally{c(!1)}},N=S.useCallback(async(k,O)=>{if(!x){j(!0);try{v(T=>({...T,[k]:O})),await new Promise(T=>setTimeout(T,300)),_e.success("Preference updated")}catch(T){console.error("Error updating preference:",T),_e.error("Failed to update preference")}finally{j(!1)}}},[x]),A=async()=>{if(u){console.log("AdminAccountSettings: Logout already in progress, ignoring click");return}console.log("AdminAccountSettings: Logout button clicked"),d(!0);try{console.log("AdminAccountSettings: Calling signOut()"),await r(),console.log("AdminAccountSettings: signOut() completed"),_e.success("Logged out successfully"),console.log("AdminAccountSettings: About to reload page immediately");try{window.location.reload(),console.log("AdminAccountSettings: window.location.reload() called successfully")}catch(k){console.error("AdminAccountSettings: Error calling window.location.reload():",k),setTimeout(()=>{console.log("AdminAccountSettings: Fallback reload attempt"),window.location.reload()},100)}}catch(k){console.error("AdminAccountSettings: Logout failed:",k),_e.error("Failed to log out"),d(!1)}};return!t||!e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Hs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to access this page."})]}):o.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-4xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Account Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your admin account and preferences"})]}),o.jsxs(fs,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(hs,{className:"grid w-full grid-cols-4",children:[o.jsx(ur,{value:"profile",children:"Profile"}),o.jsx(ur,{value:"security",children:"Security"}),o.jsx(ur,{value:"preferences",children:"Preferences"}),o.jsx(ur,{value:"system",children:"System"})]}),o.jsx(dr,{value:"profile",children:o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(no,{className:"h-5 w-5"}),"Admin Profile"]})}),o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(_8,{className:"h-20 w-20",children:o.jsx(j8,{className:"text-xl",children:t.name.split(" ").map(k=>k[0]).join("").toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold",children:t.name}),o.jsxs(jt,{variant:"secondary",className:"bg-red-100 text-red-800",children:[o.jsx(Hs,{className:"h-3 w-3 mr-1"}),"Administrator"]})]}),o.jsx("p",{className:"text-muted-foreground",children:t.email}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("span",{className:"text-sm",children:["Member since ",t.created_at?new Date(t.created_at).getFullYear():"2024"]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Last login: Today"})]})]}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>a(!n),children:n?"Cancel":"Edit Profile"})]}),n&&o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"name",children:"Full Name"}),o.jsx(Dt,{id:"name",value:f.name,onChange:k=>p(O=>({...O,name:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"email",children:"Email"}),o.jsx(Dt,{id:"email",type:"email",value:f.email,onChange:k=>p(O=>({...O,email:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"phone",children:"Phone"}),o.jsx(Dt,{id:"phone",type:"tel",value:f.phone,onChange:k=>p(O=>({...O,phone:k.target.value})),placeholder:"Enter phone number"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{onClick:w,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Hl,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Om,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),o.jsx(be,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})}),o.jsx(dr,{value:"security",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(s4,{className:"h-5 w-5"}),"Change Password"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"currentPassword",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dt,{id:"currentPassword",type:i?"text":"password",value:h.currentPassword,onChange:k=>g(O=>({...O,currentPassword:k.target.value}))}),o.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?o.jsx(y2,{className:"h-4 w-4"}):o.jsx(ti,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"newPassword",children:"New Password"}),o.jsx(Dt,{id:"newPassword",type:"password",value:h.newPassword,onChange:k=>g(O=>({...O,newPassword:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(Dt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:k=>g(O=>({...O,confirmPassword:k.target.value}))})]}),o.jsx(be,{onClick:_,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Hl,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})]})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(Hs,{className:"h-5 w-5"}),"Security Settings"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Active Sessions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"View Sessions"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Login History"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View your recent login activity"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"View History"})]})]})]})]})}),o.jsx(dr,{value:"preferences",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(Fl,{className:"h-5 w-5"}),"Notification Preferences"]})}),o.jsx(Le,{className:"space-y-4",children:Bbe.map(k=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:k.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),o.jsx(hu,{checked:m[k.key],onCheckedChange:O=>N(k.key,O),disabled:x})]},k.key))})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(D_,{className:"h-5 w-5"}),"Display Settings"]})}),o.jsx(Le,{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:qbe.map(k=>o.jsxs("div",{children:[o.jsx(Et,{children:k.label}),o.jsxs(Ma,{value:m[k.key],onValueChange:O=>N(k.key,O),disabled:x,children:[o.jsx($a,{children:o.jsx(Da,{})}),o.jsx(Fa,{children:k.options.map(O=>o.jsx(We,{value:O.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[O.icon,O.label]})},O.value))})]})]},k.key))})})]})]})}),o.jsx(dr,{value:"system",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(xq,{className:"h-5 w-5"}),"System Status"]})}),o.jsx(Le,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"24/7"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]})]})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(Hs,{className:"h-5 w-5"}),"Admin Actions"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Export System Data"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Download system data for backup"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Export Data"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Clear System Cache"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear cached data to improve performance"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Clear Cache"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"View Admin Logs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Access system and admin activity logs"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"View Logs"})]})]})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(s4,{className:"h-5 w-5"}),"API Keys"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Generate New API Key"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create API keys for integrations"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Generate Key"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Active API Keys"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"No active API keys. Generate one to get started."})]})]})]})]})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(be,{variant:"destructive",className:"w-full",onClick:A,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Hl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):o.jsxs(o.Fragment,{children:[o.jsx(dI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]})}function Ube(){const[t,e]=S.useState(null),[r,n]=S.useState(!0),[a,i]=S.useState("30d"),[s,l]=S.useState("overview");S.useEffect(()=>{const d={overview:{totalReviews:247,averageRating:4.3,ratingTrend:8.5,responseRate:87,trustScore:4.4},ratingDistribution:[{rating:5,count:142,percentage:57.5},{rating:4,count:68,percentage:27.5},{rating:3,count:23,percentage:9.3},{rating:2,count:8,percentage:3.2},{rating:1,count:6,percentage:2.4}],timeseriesData:[{date:"2024-08-15",reviews:12,averageRating:4.2,responses:10},{date:"2024-08-22",reviews:18,averageRating:4.1,responses:15},{date:"2024-08-29",reviews:15,averageRating:4.4,responses:13},{date:"2024-09-05",reviews:22,averageRating:4.3,responses:19},{date:"2024-09-12",reviews:19,averageRating:4.5,responses:17},{date:"2024-09-19",reviews:16,averageRating:4.2,responses:14}],productPerformance:[{productId:"sku_1",productName:"Summer Floral Dress",totalReviews:45,averageRating:4.6,recentReviews:8,category:"Dresses"},{productId:"sku_2",productName:"Evening Gown",totalReviews:32,averageRating:4.4,recentReviews:5,category:"Dresses"},{productId:"sku_3",productName:"Ankle Boots",totalReviews:28,averageRating:4.1,recentReviews:3,category:"Shoes"},{productId:"sku_4",productName:"Denim Jacket",totalReviews:35,averageRating:4.3,recentReviews:6,category:"Outwear"},{productId:"sku_5",productName:"Casual Blazer",totalReviews:21,averageRating:4,recentReviews:2,category:"Casual"}],sentimentAnalysis:{positive:78.5,neutral:16.2,negative:5.3},responseMetrics:{averageResponseTime:4.2,responseRate:87,totalResponses:215}};setTimeout(()=>{e(d),n(!1)},1e3)},[a]);const c=["#10B981","#F59E0B","#EF4444"],u=d=>d.toFixed(1);return r?o.jsx(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(n4,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Analytics..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we process review data."})]})})}):t?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Analytics"}),o.jsx("p",{className:"text-gray-600",children:"Track customer satisfaction and review performance"})]}),o.jsxs(Ma,{value:a,onValueChange:i,children:[o.jsx($a,{className:"w-[140px]",children:o.jsx(Da,{})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"7d",children:"Last 7 days"}),o.jsx(We,{value:"30d",children:"Last 30 days"}),o.jsx(We,{value:"90d",children:"Last 90 days"}),o.jsx(We,{value:"1y",children:"Last year"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(Re,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.overview.totalReviews}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(Tu,{className:"h-3 w-3 text-green-500"}),o.jsxs("span",{className:"text-xs text-green-600",children:["+",t.overview.ratingTrend,"%"]})]})]}),o.jsx(mm,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:u(t.overview.averageRating)}),o.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>o.jsx(qr,{className:`h-4 w-4 ${f<Math.floor(t.overview.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},f))})]})]}),o.jsx(qr,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[t.overview.responseRate,"%"]}),o.jsx(Ou,{value:t.overview.responseRate,className:"mt-2"})]}),o.jsx(vI,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Trust Score"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900",children:u(t.overview.trustScore)}),o.jsx(jt,{variant:"outline",className:"mt-1 bg-purple-100 text-purple-700 border-purple-300",children:"Excellent"})]}),o.jsx(lI,{className:"h-8 w-8 text-purple-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-rose-600",children:"Avg Response Time"}),o.jsxs("p",{className:"text-2xl font-bold text-rose-900",children:[t.responseMetrics.averageResponseTime,"h"]}),o.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"Industry standard: 24h"})]}),o.jsx(Jg,{className:"h-8 w-8 text-rose-500"})]})})})]}),o.jsxs(fs,{value:s,onValueChange:l,children:[o.jsxs(hs,{className:"grid w-full grid-cols-4",children:[o.jsx(ur,{value:"overview",children:"Overview"}),o.jsx(ur,{value:"trends",children:"Trends"}),o.jsx(ur,{value:"products",children:"Products"}),o.jsx(ur,{value:"sentiment",children:"Sentiment"})]}),o.jsx(dr,{value:"overview",className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(n4,{className:"h-5 w-5"}),"Rating Distribution"]})}),o.jsx(Le,{children:o.jsx("div",{className:"space-y-4",children:t.ratingDistribution.map(d=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1 w-16",children:[o.jsx("span",{className:"text-sm font-medium",children:d.rating}),o.jsx(qr,{className:"h-3 w-3 text-yellow-400 fill-current"})]}),o.jsx("div",{className:"flex-1",children:o.jsx(Ou,{value:d.percentage,className:"h-2"})}),o.jsxs("div",{className:"flex items-center gap-2 w-20",children:[o.jsx("span",{className:"text-sm text-gray-600",children:d.count}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",d.percentage,"%)"]})]})]},d.rating))})})]})}),o.jsx(dr,{value:"trends",className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(Tu,{className:"h-5 w-5"}),"Review Trends Over Time"]})}),o.jsx(Le,{children:o.jsx(Xm,{width:"100%",height:300,children:o.jsxs(Zpe,{data:t.timeseriesData,children:[o.jsx(vN,{strokeDasharray:"3 3"}),o.jsx(jd,{dataKey:"date"}),o.jsx(oc,{yAxisId:"left"}),o.jsx(oc,{yAxisId:"right",orientation:"right"}),o.jsx(ka,{}),o.jsx(Gl,{}),o.jsx(al,{yAxisId:"left",dataKey:"reviews",fill:"#3B82F6",name:"Reviews"}),o.jsx(Wh,{yAxisId:"right",type:"monotone",dataKey:"averageRating",stroke:"#F59E0B",strokeWidth:3,name:"Avg Rating"})]})})})]})}),o.jsx(dr,{value:"products",className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(sz,{className:"h-5 w-5"}),"Product Review Performance"]})}),o.jsx(Le,{children:o.jsx("div",{className:"space-y-4",children:t.productPerformance.map(d=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"font-semibold",children:d.productName}),o.jsx(jt,{variant:"outline",children:d.category})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"h-3 w-3 text-yellow-400 fill-current"}),o.jsx("span",{children:u(d.averageRating)})]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[d.totalReviews," total reviews"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[d.recentReviews," recent"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx(Ou,{value:d.averageRating/5*100,className:"w-24 h-2"})})]},d.productId))})})]})}),o.jsx(dr,{value:"sentiment",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(Iq,{className:"h-5 w-5"}),"Sentiment Distribution"]})}),o.jsx(Le,{children:o.jsx(Xm,{width:"100%",height:250,children:o.jsxs(T7,{children:[o.jsx(ws,{dataKey:"value",data:[{name:"Positive",value:t.sentimentAnalysis.positive},{name:"Neutral",value:t.sentimentAnalysis.neutral},{name:"Negative",value:t.sentimentAnalysis.negative}],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:c.map((d,f)=>o.jsx(Dh,{fill:d},`cell-${f}`))}),o.jsx(ka,{})]})})})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Sentiment Breakdown"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"font-medium text-green-800",children:"Positive"})]}),o.jsxs("span",{className:"text-2xl font-bold text-green-900",children:[t.sentimentAnalysis.positive,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"font-medium text-yellow-800",children:"Neutral"})]}),o.jsxs("span",{className:"text-2xl font-bold text-yellow-900",children:[t.sentimentAnalysis.neutral,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{className:"font-medium text-red-800",children:"Negative"})]}),o.jsxs("span",{className:"text-2xl font-bold text-red-900",children:[t.sentimentAnalysis.negative,"%"]})]})]})]})]})})]})]}):null}function zbe(){const[t,e]=S.useState([]),[r,n]=S.useState(null),[a,i]=S.useState(!0),[s,l]=S.useState(""),[c,u]=S.useState("all"),[d,f]=S.useState("all"),[p,h]=S.useState(null),[g,m]=S.useState("");S.useEffect(()=>{const w=[{id:"1",customerName:"Sarah Johnson",customerEmail:"sarah@example.com",productId:"sku_1",productName:"Summer Floral Dress",rating:5,title:"Beautiful dress, perfect fit!",content:"I absolutely love this dress! The fabric is high quality and the fit is perfect. The floral pattern is gorgeous and I've received so many compliments. Will definitely order more from this store.",createdAt:"2024-09-10T10:30:00Z",verified:!0,helpful:12,unhelpful:0},{id:"2",customerName:"Emma Davis",customerEmail:"emma@example.com",productId:"sku_2",productName:"Evening Gown",rating:4,title:"Great for special occasions",content:"This gown is stunning and perfect for formal events. The only reason I'm giving 4 stars instead of 5 is that it runs slightly small. I recommend ordering a size up.",createdAt:"2024-09-08T15:45:00Z",verified:!0,helpful:8,unhelpful:1,response:{content:"Thank you for your review! We appreciate your feedback about sizing and will update our size guide. We're so glad you love the gown for special occasions!",createdAt:"2024-09-09T09:15:00Z",author:"Rosmama Team"}},{id:"3",customerName:"Lisa Brown",customerEmail:"lisa@example.com",productId:"sku_3",productName:"Ankle Boots",rating:3,title:"Good quality but uncomfortable",content:"The boots are well-made and look great, but they're quite uncomfortable for long periods. The sizing is accurate though.",createdAt:"2024-09-05T12:20:00Z",verified:!0,helpful:3,unhelpful:2}],_={totalReviews:47,averageRating:4.3,ratingDistribution:{5:23,4:15,3:6,2:2,1:1},recentReviews:8,responseRate:85};setTimeout(()=>{e(w),n(_),i(!1)},1e3)},[]);const v=t.filter(w=>{const _=w.productName.toLowerCase().includes(s.toLowerCase())||w.customerName.toLowerCase().includes(s.toLowerCase())||w.content.toLowerCase().includes(s.toLowerCase()),N=c==="all"||w.rating.toString()===c,A=d==="all"||d==="responded"&&w.response||d==="pending"&&!w.response;return _&&N&&A}),x=async w=>{if(!g.trim()){_e.error("Please enter a response");return}try{e(_=>_.map(N=>N.id===w?{...N,response:{content:g,createdAt:new Date().toISOString(),author:"Rosmama Team"}}:N)),m(""),h(null),_e.success("Response sent successfully!")}catch{_e.error("Failed to send response")}},j=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?o.jsx(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Reviews..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch review data."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Management"}),o.jsx("p",{className:"text-gray-600",children:"Monitor and respond to customer reviews"})]}),o.jsxs(be,{onClick:()=>window.open("https://businessapp.b2b.trustpilot.com/","_blank"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[o.jsx(tU,{className:"h-4 w-4 mr-2"}),"Trustpilot Dashboard"]})]}),o.jsxs(fs,{defaultValue:"reviews",className:"space-y-6",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2",children:[o.jsx(ur,{value:"reviews",children:"Review Management"}),o.jsx(ur,{value:"analytics",children:"Analytics & Insights"})]}),o.jsxs(dr,{value:"reviews",className:"space-y-6",children:[r&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Re,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.totalReviews})]}),o.jsx(mm,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:r.averageRating}),o.jsx("div",{className:"flex",children:[...Array(5)].map((w,_)=>o.jsx(qr,{className:`h-4 w-4 ${_<Math.floor(r.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},_))})]})]}),o.jsx(qr,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[r.responseRate,"%"]})]}),o.jsx(o4,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Recent Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.recentReviews}),o.jsx("p",{className:"text-xs text-purple-600",children:"Last 7 days"})]}),o.jsx(Tu,{className:"h-8 w-8 text-purple-500"})]})})})]}),o.jsx(Re,{children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Dt,{placeholder:"Search reviews, products, or customers...",value:s,onChange:w=>l(w.target.value),className:"pl-10"})]})}),o.jsxs(Ma,{value:c,onValueChange:u,children:[o.jsx($a,{className:"w-[140px]",children:o.jsx(Da,{placeholder:"Rating"})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"all",children:"All Ratings"}),o.jsx(We,{value:"5",children:"5 Stars"}),o.jsx(We,{value:"4",children:"4 Stars"}),o.jsx(We,{value:"3",children:"3 Stars"}),o.jsx(We,{value:"2",children:"2 Stars"}),o.jsx(We,{value:"1",children:"1 Star"})]})]}),o.jsxs(Ma,{value:d,onValueChange:f,children:[o.jsx($a,{className:"w-[140px]",children:o.jsx(Da,{placeholder:"Status"})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"all",children:"All Reviews"}),o.jsx(We,{value:"pending",children:"Pending Response"}),o.jsx(We,{value:"responded",children:"Responded"})]})]})]})})}),o.jsx("div",{className:"space-y-4",children:v.map(w=>o.jsx(Re,{className:"bg-white border border-gray-200 hover:shadow-md transition-shadow",children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold",children:w.customerName.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:w.customerName}),o.jsx("p",{className:"text-sm text-gray-500",children:w.productName})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w.verified&&o.jsx(jt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Verified Purchase"}),o.jsx("div",{className:"flex",children:[...Array(5)].map((_,N)=>o.jsx(qr,{className:`h-4 w-4 ${N<w.rating?"text-yellow-400 fill-current":"text-gray-300"}`},N))})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:w.title}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:w.content})]}),o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{children:j(w.createdAt)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vI,{className:"h-3 w-3"}),o.jsx("span",{children:w.helpful}),o.jsx(lz,{className:"h-3 w-3 ml-2"}),o.jsx("span",{children:w.unhelpful})]})]})}),w.response?o.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"R"}),o.jsx("span",{className:"font-semibold text-blue-900",children:w.response.author}),o.jsxs("span",{className:"text-sm text-blue-600",children:["responded on ",j(w.response.createdAt)]})]}),o.jsx("p",{className:"text-blue-800",children:w.response.content})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Oi,{children:[o.jsx(ij,{asChild:!0,children:o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>h(w),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[o.jsx(o4,{className:"h-4 w-4 mr-1"}),"Respond"]})}),o.jsxs(ni,{className:"max-w-2xl",children:[o.jsx(Ei,{children:o.jsx(Ti,{children:"Respond to Review"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-semibold",children:w.customerName}),o.jsx("div",{className:"flex",children:[...Array(5)].map((_,N)=>o.jsx(qr,{className:`h-3 w-3 ${N<w.rating?"text-yellow-400 fill-current":"text-gray-300"}`},N))})]}),o.jsx("p",{className:"text-gray-700",children:w.content})]}),o.jsx("textarea",{value:g,onChange:_=>m(_.target.value),placeholder:"Write your response...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(be,{variant:"outline",onClick:()=>{h(null),m("")},children:"Cancel"}),o.jsx(be,{onClick:()=>x(w.id),className:"bg-blue-600 hover:bg-blue-700",children:"Send Response"})]})]})]})]}),o.jsx(jt,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Pending Response"})]})]})},w.id))}),v.length===0&&o.jsx(Re,{children:o.jsxs(Le,{className:"p-12 text-center",children:[o.jsx(mm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),o.jsx("p",{className:"text-gray-500",children:s||c!=="all"||d!=="all"?"Try adjusting your filters to see more reviews.":"Reviews will appear here once customers start leaving feedback."})]})})]}),o.jsx(dr,{value:"analytics",children:o.jsx(Ube,{})})]})]})}class Ka{static async fetchPageContent(e){try{const{data:r,error:n}=await Ce.from("content_pages").select("page_data").eq("page_type",e).eq("is_active",!0).maybeSingle();return n?(console.warn(`Database error fetching content for ${e}:`,n),this.getFallbackContent(e)):!r||!r.page_data?(console.info(`No content found in database for ${e}, using fallback`),this.getFallbackContent(e)):r.page_data}catch(r){return console.error(`Unexpected error fetching content for ${e}:`,r),this.getFallbackContent(e)}}static async fetchAllContent(){try{const{data:e,error:r}=await Ce.from("content_pages").select("*").eq("is_active",!0).order("page_type");return r?(console.error("Error fetching all content:",r),[]):e||[]}catch(e){return console.error("Unexpected error fetching all content:",e),[]}}static getFallbackContent(e){return{about:{title:"About Rosmama Clothing",description:"Learn about our story, values, and team",sections:[{id:"company-story",title:"Our Story",content:"<p>Founded by Rosemary Oku, Rosmama began as a boutique in Midrand, South Africa with a vision to make beautiful, quality fashion accessible to every South African woman.</p>"},{id:"mission-values",title:"Our Mission & Values",content:"<p><strong>Our Mission:</strong> To democratize fashion by providing high-quality, sustainable clothing that empowers women to express their unique style with confidence.</p>"}]},privacy:{title:"Privacy Policy",description:"Our commitment to protecting your privacy",sections:[{id:"introduction",title:"Introduction",content:"<p>At Rosmama Clothing, we are committed to protecting your privacy and personal information. This policy explains how we collect, use, and protect your data.</p>"}]},terms:{title:"Terms & Conditions",description:"Legal terms and conditions",sections:[{id:"introduction",title:"Introduction",content:"<h4>Welcome to Terms & Conditions</h4><p>This is the introduction section. Edit this content to provide information about terms.</p><p>These terms and conditions govern your use of Rosmama Clothing's services. By using our website and services, you agree to these terms.</p>"},{id:"acceptance",title:"Acceptance of Terms",content:"<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p>"},{id:"use-license",title:"Use License",content:"<p>Permission is granted to temporarily download one copy of the materials on Rosmama Clothing's website for personal, non-commercial transitory viewing only.</p>"},{id:"disclaimer",title:"Disclaimer",content:"<p>The materials on Rosmama Clothing's website are provided on an 'as is' basis. Rosmama Clothing makes no warranties, expressed or implied.</p>"}]},shipping:{title:"Shipping Information",description:"Delivery options and policies",sections:[{id:"delivery-options",title:"Delivery Options",content:"<p>We offer various shipping options to suit your needs. Standard delivery takes 3-5 business days within South Africa.</p>"}]},returns:{title:"Returns & Exchanges",description:"Our return and exchange policy",sections:[{id:"return-policy",title:"Return Policy",content:"<p>We accept returns within 30 days of purchase. Items must be in original condition with tags attached.</p>"}]},help:{title:"Help & Support",description:"Get help with your orders and account",sections:[{id:"faq",title:"Frequently Asked Questions",content:"<p>Find answers to common questions about our products, orders, and services.</p>"}]},contact:{title:"Contact Us",description:"Get in touch with our team",sections:[{id:"contact-info",title:"Contact Information",content:"<p>Reach out to us for any questions or support. We're here to help!</p>"}]}}[e]}static async fetchContentWithHistory(e){try{const{data:r,error:n}=await Ce.from("content_pages").select("*").eq("page_type",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")return console.error(`Error fetching current content for ${e}:`,n),null;const{data:a,error:i}=r?await Ce.from("content_versions").select("*").eq("content_page_id",r.id).order("version_number",{ascending:!1}):{data:[],error:null};return i?(console.error(`Error fetching version history for ${e}:`,i),{current:r||null,history:[]}):{current:r||null,history:a||[]}}catch(r){return console.error(`Unexpected error fetching content history for ${e}:`,r),null}}static async savePageContent(e,r,n){try{const{data:a}=await Ce.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:s}=await Ce.from("content_pages").insert({page_type:e,page_data:r,created_by:a.user.id,updated_by:a.user.id}).select().single();return s?(console.error(`Error saving content for ${e}:`,s),{success:!1,error:s.message}):{success:!0,data:i}}catch(a){return console.error(`Unexpected error saving content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async updatePageContent(e,r,n){try{const{data:a}=await Ce.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:s}=await Ce.from("content_pages").select("id").eq("page_type",e).eq("is_active",!0).maybeSingle();if(!i)return await this.savePageContent(e,r,n);const{data:l,error:c}=await Ce.from("content_pages").update({page_data:r,updated_by:a.user.id}).eq("id",i.id).select().single();return c?(console.error(`Error updating content for ${e}:`,c),{success:!1,error:c.message}):{success:!0,data:l}}catch(a){return console.error(`Unexpected error updating content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async deletePageContent(e){try{const{data:r}=await Ce.auth.getUser();if(!r.user)return{success:!1,error:"User not authenticated"};const{error:n}=await Ce.from("content_pages").update({is_active:!1,updated_by:r.user.id}).eq("page_type",e).eq("is_active",!0);return n?(console.error(`Error deleting content for ${e}:`,n),{success:!1,error:n.message}):{success:!0}}catch(r){return console.error(`Unexpected error deleting content for ${e}:`,r),{success:!1,error:"Unexpected error occurred"}}}static async revertToVersion(e,r){try{const{data:n}=await Ce.auth.getUser();if(!n.user)return{success:!1,error:"User not authenticated"};const{data:a,error:i}=await Ce.from("content_versions").select("page_data").eq("version_number",r).limit(1).single();return i||!a?{success:!1,error:"Version not found"}:await this.updatePageContent(e,a.page_data,`Reverted to version ${r}`)}catch(n){return console.error("Unexpected error reverting to version:",n),{success:!1,error:"Unexpected error occurred"}}}static subscribeToContentChanges(e,r){return Ce.channel(`content-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"content_pages",filter:`page_type=eq.${e}`},r).subscribe()}static unsubscribeFromContentChanges(e){return Ce.removeChannel(e)}static async fetchMultiplePageContent(e){try{const r={},n=e.map(async i=>{const s=await this.fetchPageContent(i);return{pageType:i,content:s}});return(await Promise.all(n)).forEach(({pageType:i,content:s})=>{r[i]=s}),r}catch(r){return console.error("Error fetching multiple page content:",r),{}}}static async searchContent(e){try{const{data:r,error:n}=await Ce.from("content_pages").select("*").eq("is_active",!0).textSearch("page_data",e);return n?(console.error("Error searching content:",n),[]):r||[]}catch(r){return console.error("Unexpected error searching content:",r),[]}}static async checkAdminAccess(){try{const{data:e}=await Ce.auth.getUser();if(!e.user)return!1;const r=e.user.user_metadata;return(r==null?void 0:r.role)==="admin"}catch(e){return console.error("Error checking admin access:",e),!1}}static async checkDatabaseHealth(){try{const{data:e,error:r}=await Ce.from("content_pages").select("id, page_type").limit(1);return r?{tableExists:!1,hasData:!1,error:r.message}:{tableExists:!0,hasData:e&&e.length>0,error:void 0}}catch(e){return{tableExists:!1,hasData:!1,error:e.message}}}}const Wbe={contentCache:{},loadingStates:{},errorStates:{},lastUpdated:{},adminContent:{},contentHistory:{},isLoading:!1,globalError:null,subscriptions:{},isAdminMode:!1};function Hbe(t,e){switch(e.type){case"SET_LOADING":return{...t,loadingStates:{...t.loadingStates,[e.pageType]:e.isLoading}};case"SET_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:e.content},lastUpdated:{...t.lastUpdated,[e.pageType]:Date.now()},loadingStates:{...t.loadingStates,[e.pageType]:!1},errorStates:{...t.errorStates,[e.pageType]:null}};case"SET_ERROR":return{...t,errorStates:{...t.errorStates,[e.pageType]:e.error},loadingStates:{...t.loadingStates,[e.pageType]:!1}};case"SET_ADMIN_CONTENT":return{...t,adminContent:{...t.adminContent,[e.pageType]:e.adminContent}};case"SET_CONTENT_HISTORY":return{...t,contentHistory:{...t.contentHistory,[e.pageType]:e.history}};case"SET_GLOBAL_LOADING":return{...t,isLoading:e.isLoading};case"SET_GLOBAL_ERROR":return{...t,globalError:e.error};case"SET_SUBSCRIPTION":return{...t,subscriptions:{...t.subscriptions,[e.pageType]:e.subscription}};case"REMOVE_SUBSCRIPTION":const r={...t.subscriptions};return delete r[e.pageType],{...t,subscriptions:r};case"SET_ADMIN_MODE":return{...t,isAdminMode:e.isAdminMode};case"CLEAR_CACHE":if(e.pageType){const n={...t.contentCache};return delete n[e.pageType],{...t,contentCache:n}}return{...t,contentCache:{}};case"INVALIDATE_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:null},lastUpdated:{...t.lastUpdated,[e.pageType]:0}};default:return t}}const rF=S.createContext(void 0),Vbe=300*1e3,Gbe=({children:t})=>{const[e,r]=S.useReducer(Hbe,Wbe),n=S.useRef(e),a=S.useRef(null);n.current=e;const i=S.useCallback(_=>{const N=e.lastUpdated[_];return N?Date.now()-N<Vbe:!1},[e.lastUpdated]),s=S.useCallback(async(_,N=!1)=>{if(!N&&e.contentCache[_]&&i(_))return e.contentCache[_];r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Ka.fetchPageContent(_);return r({type:"SET_CONTENT",pageType:_,content:A}),A}catch(A){const k=A instanceof Error?A.message:"Failed to fetch content";return r({type:"SET_ERROR",pageType:_,error:k}),null}},[e.contentCache,i]);a.current=s;const l=S.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const N=await Ka.fetchMultiplePageContent(_);return Object.entries(N).forEach(([A,k])=>{r({type:"SET_CONTENT",pageType:A,content:k})}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),N}catch(N){const A=N instanceof Error?N.message:"Failed to fetch multiple content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),{}}},[]),c=S.useCallback(async(_,N,A)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Ka.savePageContent(_,N,A);return k.success?(r({type:"SET_CONTENT",pageType:_,content:N}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to save content"}),!1)}catch(k){const O=k instanceof Error?k.message:"Failed to save content";return r({type:"SET_ERROR",pageType:_,error:O}),!1}},[]),u=S.useCallback(async(_,N,A)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Ka.updatePageContent(_,N,A);return k.success?(r({type:"SET_CONTENT",pageType:_,content:N}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to update content"}),!1)}catch(k){const O=k instanceof Error?k.message:"Failed to update content";return r({type:"SET_ERROR",pageType:_,error:O}),!1}},[]),d=S.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const N=await Ka.deletePageContent(_);return N.success?(r({type:"CLEAR_CACHE",pageType:_}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:null}),!0):(r({type:"SET_ERROR",pageType:_,error:N.error||"Failed to delete content"}),!1)}catch(N){const A=N instanceof Error?N.message:"Failed to delete content";return r({type:"SET_ERROR",pageType:_,error:A}),!1}},[]),f=S.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const N=await Ka.fetchContentWithHistory(_);return r({type:"SET_CONTENT_HISTORY",pageType:_,history:N}),r({type:"SET_LOADING",pageType:_,isLoading:!1}),N}catch(N){const A=N instanceof Error?N.message:"Failed to fetch content history";return r({type:"SET_ERROR",pageType:_,error:A}),null}},[]),p=S.useCallback(async(_,N)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Ka.revertToVersion(_,N);return A.success&&A.data?(r({type:"SET_CONTENT",pageType:_,content:A.data.page_data}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:A.data}),!0):(r({type:"SET_ERROR",pageType:_,error:A.error||"Failed to revert content"}),!1)}catch(A){const k=A instanceof Error?A.message:"Failed to revert content";return r({type:"SET_ERROR",pageType:_,error:k}),!1}},[]),h=S.useCallback(_=>{if(n.current.subscriptions[_])return;const N=Ka.subscribeToContentChanges(_,A=>{r({type:"INVALIDATE_CONTENT",pageType:_}),n.current.isAdminMode&&a.current&&a.current(_,!0)});r({type:"SET_SUBSCRIPTION",pageType:_,subscription:N})},[]),g=S.useCallback(_=>{const N=n.current.subscriptions[_];N&&(Ka.unsubscribeFromContentChanges(N),r({type:"REMOVE_SUBSCRIPTION",pageType:_}))},[]),m=S.useCallback(_=>{r({type:"CLEAR_CACHE",pageType:_})},[]),v=S.useCallback(_=>{r({type:"SET_ADMIN_MODE",isAdminMode:_})},[]),x=S.useCallback(async _=>{await s(_,!0)},[s]),j=S.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const N=await Ka.searchContent(_);return r({type:"SET_GLOBAL_LOADING",isLoading:!1}),N}catch(N){const A=N instanceof Error?N.message:"Failed to search content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),[]}},[]);S.useEffect(()=>()=>{Object.values(e.subscriptions).forEach(_=>{_&&Ka.unsubscribeFromContentChanges(_)})},[e.subscriptions]);const w={state:e,getPageContent:s,getMultiplePageContent:l,savePageContent:c,updatePageContent:u,deletePageContent:d,getContentHistory:f,revertToVersion:p,subscribeToPageContent:h,unsubscribeFromPageContent:g,clearCache:m,setAdminMode:v,refreshContent:x,searchContent:j};return S.useEffect(()=>()=>{Object.keys(n.current.subscriptions).forEach(_=>{const N=n.current.subscriptions[_];N&&Ka.unsubscribeFromContentChanges(N)})},[]),o.jsx(rF.Provider,{value:w,children:t})},nF=()=>{const t=S.useContext(rF);if(t===void 0)throw console.error("useContent hook called outside ContentProvider. Component tree:",{stackTrace:new Error().stack}),new Error("useContent must be used within a ContentProvider");return t},k_=[{id:"about",name:"About Us",title:"About Rosmama Clothing",description:"Company information, story, and values",icon:Go},{id:"privacy",name:"Privacy Policy",title:"Privacy Policy",description:"How we handle customer data and privacy",icon:Hs},{id:"terms",name:"Terms of Service",title:"Terms & Conditions",description:"Legal terms and conditions",icon:Xs},{id:"shipping",name:"Shipping Policy",title:"Shipping & Delivery",description:"Shipping methods and delivery information",icon:Iu},{id:"returns",name:"Returns Policy",title:"Returns & Exchanges",description:"Return and exchange policy",icon:Ci},{id:"help",name:"Help Center",title:"Help & Support",description:"Frequently asked questions and support",icon:E_},{id:"contact",name:"Contact Us",title:"Contact Information",description:"How to reach our customer service",icon:L_}],pm=t=>{const e=k_.find(n=>n.id===t),r=(e==null?void 0:e.title)||"Page Title";return{title:r,description:(e==null?void 0:e.description)||"Page description",sections:[{id:`${t}-intro`,title:"Introduction",content:`<h4>Welcome to ${r}</h4><p>This is the introduction section. Edit this content to provide information about ${t}.</p>`}]}};function Ybe(){const{state:t,getPageContent:e,savePageContent:r,updatePageContent:n,refreshContent:a,setAdminMode:i,getContentHistory:s,revertToVersion:l}=nF(),[c,u]=S.useState("about"),[d,f]=S.useState(null),[p,h]=S.useState(""),[g,m]=S.useState(""),[v,x]=S.useState(!1),[j,w]=S.useState(null),[_,N]=S.useState(!1),[A,k]=S.useState(null),[O,T]=S.useState(!1);S.useEffect(()=>{i(!0)},[i]),S.useEffect(()=>{(async()=>{const le=await e(c)||pm(c);w(le)})()},[c,e]);const R=k_.find(H=>H.id===c),P=t.loadingStates[c]||!1,I=t.errorStates[c],M=H=>{const ee=j==null?void 0:j.sections.find(le=>le.id===H);ee&&(f(H),h(ee.content),m(ee.title))},D=async()=>{if(!d||!j)return;const H={...j,sections:j.sections.map(le=>le.id===d?{...le,title:g,content:p}:le)};await n(c,H,"Updated section content")?(w(H),f(null),h(""),m(""),_e.success("Section updated successfully!")):_e.error("Failed to update section. Please try again.")},G=()=>{f(null),h(""),m("")},F=async()=>{if(!j)return;const H={id:`section-${Date.now()}`,title:"New Section",content:"<p>Enter your content here...</p>"},ee={...j,sections:[...j.sections,H]};await n(c,ee,"Added new section")?(w(ee),_e.success("New section added!")):_e.error("Failed to add section. Please try again.")},q=async H=>{if(!j)return;const ee={...j,sections:j.sections.filter(oe=>oe.id!==H)};await n(c,ee,"Deleted section")?(w(ee),_e.success("Section deleted!")):_e.error("Failed to delete section. Please try again.")},B=async()=>{if(!j)return;await n(c,j,"Saved all changes")?_e.success("All changes saved successfully!"):_e.error("Failed to save changes. Please try again.")},X=async()=>{const H=pm(c);await n(c,H,"Restored to defaults")?(w(H),_e.success("Content restored to defaults!")):_e.error("Failed to restore defaults. Please try again.")},J=async()=>{await a(c);const H=await e(c,!0);w(H||pm(c)),_e.success("Content refreshed!")},ie=async()=>{T(!0);try{const H=await s(c);k(H),N(!0)}catch{_e.error("Failed to load version history")}finally{T(!1)}},$=async H=>{try{if(await l(c,H)){const le=await e(c,!0);w(le||pm(c)),N(!1),_e.success(`Reverted to version ${H} successfully!`)}else _e.error("Failed to revert to selected version")}catch{_e.error("Failed to revert to selected version")}},W=H=>new Date(H).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return R?o.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Content Management System"}),o.jsx("p",{className:"text-purple-100",children:"Manage information pages, policies, and user-helpful content with Supabase integration"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsxs(be,{onClick:B,className:"bg-green-600 hover:bg-green-700",disabled:P,children:[P?o.jsx(Za,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Om,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),o.jsxs(be,{variant:"outline",onClick:()=>x(!v),children:[o.jsx(ti,{className:"h-4 w-4 mr-2"}),v?"Edit Mode":"Preview Mode"]}),o.jsxs(be,{variant:"outline",onClick:J,disabled:P,children:[o.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(be,{variant:"outline",onClick:ie,disabled:O,children:[O?o.jsx(Za,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(hy,{className:"h-4 w-4 mr-2"}),"Version History"]})]}),o.jsxs(be,{variant:"destructive",onClick:X,className:"bg-orange-600 hover:bg-orange-700",disabled:P,children:[o.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]})]}),I&&o.jsx(Re,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:o.jsx(Le,{className:"pt-4",children:o.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",I]})})}),o.jsxs(fs,{value:c,onValueChange:H=>u(H),className:"space-y-6",children:[o.jsx(hs,{className:"grid w-full grid-cols-4 lg:grid-cols-7 h-auto min-h-[3rem] p-1",children:k_.map(H=>{const ee=H.icon;return o.jsxs(ur,{value:H.id,className:"flex items-center gap-2 px-2 py-2 text-xs sm:text-sm whitespace-nowrap overflow-hidden",children:[o.jsx(ee,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"hidden sm:inline truncate",children:H.name})]},H.id)})}),o.jsxs(dr,{value:c,className:"space-y-6 mt-6",children:[o.jsxs(Re,{children:[o.jsxs(gt,{children:[o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(R.icon,{className:"h-5 w-5"}),R.title,P&&o.jsx(Za,{className:"h-4 w-4 animate-spin"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]}),o.jsx(Le,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(jt,{variant:"secondary",children:[(j==null?void 0:j.sections.length)||0," section",((j==null?void 0:j.sections.length)||0)!==1?"s":""]}),o.jsxs(be,{onClick:F,size:"sm",disabled:P,children:[o.jsx(Wl,{className:"h-4 w-4 mr-1"}),"Add Section"]})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: currentPageContent = ",j?"exists":"null",", sections = ",(j==null?void 0:j.sections.length)||0]}),j==null?void 0:j.sections.map(H=>o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(vt,{className:"text-lg",children:H.title}),o.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:o.jsxs("span",{children:["Section ID: ",H.id]})})]}),o.jsx("div",{className:"flex gap-2",children:d===H.id?o.jsxs(o.Fragment,{children:[o.jsxs(be,{size:"sm",onClick:D,disabled:P,children:[o.jsx(Om,{className:"h-3 w-3 mr-1"}),"Save"]}),o.jsx(be,{size:"sm",variant:"outline",onClick:G,children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(be,{size:"sm",variant:"outline",onClick:()=>M(H.id),disabled:P,children:[o.jsx(RU,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsxs(be,{size:"sm",variant:"destructive",onClick:()=>q(H.id),disabled:P,children:[o.jsx(ro,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]})}),o.jsx(Le,{children:d===H.id?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Dt,{value:g,onChange:ee=>m(ee.target.value),placeholder:"Section title"}),o.jsx(i$,{value:p,onChange:ee=>h(ee.target.value),className:"min-h-[200px] font-mono text-sm",placeholder:"Section content (supports HTML)"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:" You can use HTML tags like <h4>, <p>, <ul>, <li>, <strong>, etc."})]}):v?o.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:H.content}}):o.jsx("div",{className:"bg-muted p-4 rounded border font-mono text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:H.content})})]},H.id)),(!(j!=null&&j.sections)||j.sections.length===0)&&o.jsx(Re,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:o.jsx(Le,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Xs,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"No Content Sections"}),o.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:`This page doesn't have any content sections yet. Click "Add Section" to get started.`}),o.jsxs(be,{onClick:F,disabled:P,children:[o.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Add First Section"]})]})})})]})]})]}),o.jsx(Re,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:o.jsx(Le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(E_,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Content Management Tips"}),o.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[o.jsx("li",{children:" Content is automatically saved to Supabase database"}),o.jsx("li",{children:" Use HTML tags for formatting (h4, p, ul, li, strong, etc.)"}),o.jsx("li",{children:" Preview mode shows how content will appear to users"}),o.jsx("li",{children:" Changes are synced across all admin users in real-time"}),o.jsx("li",{children:' Use "Restore Defaults" to reset content to original state'}),o.jsx("li",{children:" Version history tracks all changes with timestamps"})]})]})]})})}),o.jsx(Oi,{open:_,onOpenChange:N,children:o.jsxs(ni,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center gap-2",children:[o.jsx(hy,{className:"h-5 w-5"}),"Version History - ",R==null?void 0:R.title]})}),o.jsx("div",{className:"space-y-4",children:A?o.jsxs(o.Fragment,{children:[A.current&&o.jsxs(Re,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:[o.jsx(gt,{children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx(vt,{className:"text-lg flex items-center gap-2",children:o.jsxs(jt,{variant:"default",className:"bg-green-600",children:["Current Version ",A.current.version]})}),o.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bu,{className:"h-3 w-3"}),W(A.current.updated_at)]}),A.current.updated_by&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(no,{className:"h-3 w-3"}),A.current.updated_by]})]})]})})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("strong",{children:"Title:"})," ",A.current.page_data.title]}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsx("strong",{children:"Sections:"})," ",A.current.page_data.sections.length]})]})]}),A.history.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Previous Versions"}),A.history.map(H=>o.jsxs(Re,{className:"border-gray-200",children:[o.jsx(gt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(vt,{className:"text-sm flex items-center gap-2",children:o.jsxs(jt,{variant:"outline",children:["Version ",H.version_number]})}),o.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bu,{className:"h-3 w-3"}),W(H.created_at)]}),H.created_by&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(no,{className:"h-3 w-3"}),H.created_by]})]}),H.change_summary&&o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[o.jsx("strong",{children:"Changes:"})," ",H.change_summary]})]}),o.jsxs(be,{size:"sm",variant:"outline",onClick:()=>$(H.version_number),className:"text-xs",children:[o.jsx(Ci,{className:"h-3 w-3 mr-1"}),"Revert"]})]})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"text-xs",children:[o.jsx("strong",{children:"Title:"})," ",H.page_data.title]}),o.jsxs("div",{className:"text-xs mt-1",children:[o.jsx("strong",{children:"Sections:"})," ",H.page_data.sections.length]})]})]},H.id))]}):o.jsx(Re,{className:"border-gray-200",children:o.jsxs(Le,{className:"pt-6 text-center text-muted-foreground",children:[o.jsx(hy,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No version history available"})]})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Za,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading version history..."})]})})]})})]}):o.jsx("div",{children:"Page configuration not found"})}class Ea{static async createConversation(e,r){try{const{data:n,error:a}=await Ce.from("chat_conversations").insert({customer_id:e,subject:r||"General Inquiry",status:"open",priority:2}).select().single();return a?(console.error("Error creating conversation:",a),null):n}catch(n){return console.error("Error in createConversation:",n),null}}static async getConversations(e,r=!1){try{let n=Ce.from("chat_conversations").select("*").order("last_message_at",{ascending:!1});r||(n=n.eq("customer_id",e));const{data:a,error:i}=await n;return i?(console.error("Error fetching conversations:",i),[]):a||[]}catch(n){return console.error("Error in getConversations:",n),[]}}static async sendMessage(e,r,n,a="text"){try{const{data:i,error:s}=await Ce.from("chat_messages").insert({conversation_id:e,sender_id:r,content:n,message_type:a}).select().single();return s?(console.error("Error sending message:",s),null):i}catch(i){return console.error("Error in sendMessage:",i),null}}static async getMessages(e){try{const{data:r,error:n}=await Ce.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching messages:",n),[]):r||[]}catch(r){return console.error("Error in getMessages:",r),[]}}static async markMessagesAsRead(e,r){try{const{error:n}=await Ce.from("chat_messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",r).eq("is_read",!1);return n?(console.error("Error marking messages as read:",n),!1):!0}catch(n){return console.error("Error in markMessagesAsRead:",n),!1}}static async getUnreadCount(e){try{const r=await this.getConversations(e,!1);if(r.length===0)return 0;const n=r.map(s=>s.id),{count:a,error:i}=await Ce.from("chat_messages").select("*",{count:"exact",head:!0}).in("conversation_id",n).neq("sender_id",e).eq("is_read",!1);return i?(console.error("Error getting unread count:",i),0):a||0}catch(r){return console.error("Error in getUnreadCount:",r),0}}static subscribeToConversations(e,r){const n=`conversations:${e}`;this.unsubscribe(n);const a=Ce.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},i=>{console.log("Conversation update:",i),r(i)}).subscribe();return this.subscriptions.set(n,a),a}static subscribeToMessages(e,r,n){const a=`messages:${e}`;this.unsubscribe(a);let i=Ce.channel(a).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("New message:",l),r(l)});n&&(i=i.on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("Message updated:",l),n(l)}));const s=i.subscribe();return this.subscriptions.set(a,s),s}static unsubscribe(e){const r=this.subscriptions.get(e);r&&(Ce.removeChannel(r),this.subscriptions.delete(e))}static unsubscribeAll(){this.subscriptions.forEach((e,r)=>{Ce.removeChannel(e)}),this.subscriptions.clear()}static async assignConversation(e,r){try{const{error:n}=await Ce.from("chat_conversations").update({admin_id:r,status:"assigned",updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error assigning conversation:",n),!1):!0}catch(n){return console.error("Error in assignConversation:",n),!1}}static async updateConversationStatus(e,r){try{const{error:n}=await Ce.from("chat_conversations").update({status:r,updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error updating conversation status:",n),!1):!0}catch(n){return console.error("Error in updateConversationStatus:",n),!1}}static async getOrCreateConversation(e,r){try{const{data:n,error:a}=await Ce.from("chat_conversations").select("*").eq("customer_id",e).in("status",["open","assigned"]).order("created_at",{ascending:!1}).limit(1);return a?(console.error("Error fetching existing conversations:",a),null):n&&n.length>0?n[0]:await this.createConversation(e,r)}catch(n){return console.error("Error in getOrCreateConversation:",n),null}}static async searchMessages(e,r){try{let n=Ce.from("chat_messages").select("*").textSearch("content",e);r&&(n=n.eq("conversation_id",r));const{data:a,error:i}=await n.order("created_at",{ascending:!1}).limit(20);return i?(console.error("Error searching messages:",i),[]):a||[]}catch(n){return console.error("Error in searchMessages:",n),[]}}}Zt(Ea,"subscriptions",new Map);function aF(t,e=!1){const[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,l]=S.useState(null),c=S.useCallback(async()=>{i(!0);try{const f=await Ea.getConversations(t,e);n(f),l(null)}catch(f){l("Failed to load conversations"),console.error("Error loading conversations:",f)}finally{i(!1)}},[t,e]),u=S.useCallback(async f=>{try{const p=await Ea.createConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error starting conversation:",p),null}},[t,c]),d=S.useCallback(async f=>{try{const p=await Ea.getOrCreateConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error getting/creating conversation:",p),null}},[t,c]);return S.useEffect(()=>{t&&c()},[c,t]),{conversations:r,loading:a,error:s,refreshConversations:c,startConversation:u,getOrCreateConversation:d}}function iF(t){const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),[l,c]=S.useState(null),u=S.useCallback(async()=>{if(!t){r([]),a(!1);return}a(!0);try{const p=await Ea.getMessages(t);r(p),s(null)}catch(p){s("Failed to load messages"),console.error("Error loading messages:",p)}finally{a(!1)}},[t]),d=S.useCallback(async(p,h,g="text")=>{if(!t)return null;try{const m=await Ea.sendMessage(t,p,h,g);return m?(r(v=>[...v,m]),m):null}catch(m){return console.error("Error sending message:",m),null}},[t]),f=S.useCallback(async p=>{if(!t)return!1;try{return await Ea.markMessagesAsRead(t,p)}catch(h){return console.error("Error marking messages as read:",h),!1}},[t]);return S.useEffect(()=>{if(!t){r([]),a(!1);return}u();const p=Ea.subscribeToMessages(t,h=>{h.eventType==="INSERT"&&h.new&&r(g=>g.some(v=>v.id===h.new.id)?g:[...g,h.new])},h=>{h.eventType==="UPDATE"&&h.new&&r(g=>g.map(m=>m.id===h.new.id?h.new:m))});return c(p),()=>{p&&Ea.unsubscribe(`messages:${t}`)}},[t,u]),{messages:e,loading:n,error:i,sendMessage:d,markAsRead:f,refreshMessages:u}}function sF(t){const[e,r]=S.useState(0),[n,a]=S.useState(!0),i=S.useCallback(async()=>{if(!t){r(0),a(!1);return}try{const s=await Ea.getUnreadCount(t);r(s)}catch(s){console.error("Error getting unread count:",s)}finally{a(!1)}},[t]);return S.useEffect(()=>{if(t){i();const s=setInterval(i,3e4);return()=>clearInterval(s)}},[t,i]),{unreadCount:e,loading:n,refreshUnreadCount:i}}function Kbe(){const t=S.useCallback(async(n,a)=>{try{return await Ea.assignConversation(n,a)}catch(i){return console.error("Error assigning conversation:",i),!1}},[]),e=S.useCallback(async(n,a)=>{try{return await Ea.updateConversationStatus(n,a)}catch(i){return console.error("Error updating conversation status:",i),!1}},[]),r=S.useCallback(async(n,a)=>{try{return await Ea.searchMessages(n,a)}catch(i){return console.error("Error searching messages:",i),[]}},[]);return{assignConversation:t,updateStatus:e,searchMessages:r}}function Xbe(){const{user:t}=Cn(),[e,r]=S.useState(null),[n,a]=S.useState(""),[i,s]=S.useState("all"),[l,c]=S.useState(!1),[u,d]=S.useState(!0),{conversations:f,loading:p,refreshConversations:h}=aF((t==null?void 0:t.id)||"",!0),{messages:g,loading:m,sendMessage:v,refreshMessages:x}=iF(e),{assignConversation:j,updateStatus:w}=Kbe();S.useEffect(()=>{const D=()=>{const G=window.innerWidth<768;c(G),G||d(!0)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const _=D=>{r(D),l&&d(!1)},N=()=>{l&&(d(!0),r(null))},A=f.filter(D=>{var q,B;const G=n===""||((q=D.subject)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((B=D.customer_id)==null?void 0:B.toLowerCase().includes(n.toLowerCase())),F=i==="all"||D.status===i;return G&&F}),k=async D=>{t!=null&&t.id&&await j(D,t.id)&&h()},O=async(D,G)=>{await w(D,G)&&h()},T=async D=>{e&&(t!=null&&t.id)&&(await v(t.id,D),x())},R=D=>{switch(D){case"open":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300";case"assigned":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border-blue-300";case"in_progress":return"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border-purple-300";case"waiting_customer":return"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-800 border-orange-300";case"escalated":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border-red-300";case"follow_up":return"bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 border-indigo-300";case"resolved":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border-green-300";case"closed":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300"}},P=D=>{switch(D){case"open":return"";case"assigned":return"";case"in_progress":return"";case"waiting_customer":return"";case"escalated":return"";case"follow_up":return"";case"resolved":return"";case"closed":return"";default:return""}},I=D=>{switch(D){case"open":return o.jsx(Zl,{className:"h-3 w-3"});case"assigned":return o.jsx(no,{className:"h-3 w-3"});case"resolved":return o.jsx(Ph,{className:"h-3 w-3"});default:return o.jsx(bu,{className:"h-3 w-3"})}},M=D=>{const G=new Date,F=new Date(D.created_at),q=G.getTime()-F.getTime(),B=Math.floor(q/(1e3*60*60)),X=D.priority||"normal",ie=(X==="high"||X==="urgent"?1:X==="low"?24:4)-B,$=ie<0;return{isOverdue:$,timeLeft:$?`${Math.abs(ie)}h overdue`:`${ie}h left`,color:$?"text-red-600":ie<1?"text-orange-600":"text-blue-600"}};return o.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-neutral-50 via-white to-rose-50/30 dark:from-neutral-900 dark:via-neutral-800 dark:to-rose-900/20",children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-rose-500 via-pink-500 to-rose-600 text-white shadow-xl",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),o.jsxs("div",{className:"relative p-3 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l&&!u&&o.jsx("button",{onClick:N,className:"bg-white/20 backdrop-blur-sm rounded-lg p-2 shadow-lg hover:bg-white/30 transition-all duration-200 mr-2",children:o.jsx(Zg,{className:"h-5 w-5"})}),o.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg md:rounded-2xl p-2 md:p-3 shadow-lg",children:o.jsx(ei,{className:"h-5 w-5 md:h-8 md:w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base md:text-2xl lg:text-3xl font-bold flex items-center gap-1 md:gap-3",children:l&&!u?o.jsx("span",{children:"Chat"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:"Support"}),o.jsx("span",{className:"hidden sm:block",children:"Customer Support"})]})}),o.jsx("p",{className:"text-rose-100 text-xs md:text-sm lg:text-base hidden md:block",children:" Manage conversations and provide amazing support"})]})]}),o.jsx("div",{className:"bg-white/15 backdrop-blur-md rounded-lg md:rounded-xl px-2 py-2 md:px-6 md:py-4 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2 mb-1",children:[o.jsx("span",{className:"text-sm md:text-2xl lg:text-3xl font-bold",children:f.length}),o.jsx("span",{className:"text-xs md:text-xl",children:""})]}),o.jsxs("span",{className:"text-rose-100 text-xs md:text-sm font-medium",children:[o.jsx("span",{className:"hidden md:inline",children:"Active"}),o.jsx("span",{className:"md:hidden",children:"Chats"})]})]})})]}),o.jsxs("div",{className:`relative mt-2 md:mt-4 flex items-center gap-2 md:gap-4 text-xs md:text-sm ${l&&!u?"hidden":"flex"}`,children:[o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/10 rounded-full px-2 md:px-3 py-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-rose-100",children:"Online"})]}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-rose-200",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"hidden sm:inline",children:new Date().toLocaleTimeString()})]})]})]})]}),o.jsx("div",{className:"flex-1 flex overflow-hidden shadow-inner",children:l?o.jsx(o.Fragment,{children:u?o.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-3 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:" Search...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400 text-base"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Df,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsxs("select",{value:i,onChange:D=>s(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200 text-base",children:[o.jsx("option",{value:"all",children:" All Status"}),o.jsx("option",{value:"open",children:" Open"}),o.jsx("option",{value:"assigned",children:" Assigned"}),o.jsx("option",{value:"in_progress",children:" In Progress"}),o.jsx("option",{value:"waiting_customer",children:" Waiting"}),o.jsx("option",{value:"escalated",children:" Escalated"}),o.jsx("option",{value:"follow_up",children:" Follow-up"}),o.jsx("option",{value:"resolved",children:" Resolved"}),o.jsx("option",{value:"closed",children:" Closed"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),o.jsx("p",{className:"text-rose-600 font-medium",children:" Loading..."})]}):A.length===0?o.jsxs("div",{className:"p-6 text-center text-rose-600",children:[o.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx("p",{className:"font-medium",children:"No conversations"}),o.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting filters"})]}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(D=>{var G;return o.jsx("div",{onClick:()=>_(D.id),className:"bg-white/90 backdrop-blur-sm border border-rose-100 rounded-xl p-4 hover:shadow-lg transition-all duration-200 cursor-pointer active:scale-95",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h4",{className:"font-bold text-gray-900 text-base truncate",children:["Customer #",((G=D.customer_id)==null?void 0:G.slice(0,8))||"Unknown"]}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.subject||"General Inquiry"})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${R(D.status||"open")}`,children:P(D.status||"open")})]}),o.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:"Last message preview..."}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bu,{className:"h-3 w-3"}),new Date(D.created_at).toLocaleDateString()]})}),(()=>{const F=M(D);return F.isOverdue?o.jsxs("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-bold",children:[" ",F.timeLeft]}):o.jsxs("span",{className:"text-gray-500 text-xs",children:[" ",F.timeLeft]})})()]})]})]})},D.id)})})})]}):o.jsx("div",{className:"w-full flex flex-col",children:e?o.jsx(BT,{conversationId:e,messages:g,loading:m,onSendMessage:T,onAssignToSelf:()=>k(e),onStatusUpdate:D=>O(e,D),isMobile:!0}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ei,{className:"h-10 w-10 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"Select a conversation"}),o.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation to start chatting"})]})})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"w-1/3 bg-white/80 backdrop-blur-sm border-r border-rose-100 dark:border-rose-800/30 flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:" Search conversations...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Df,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsxs("select",{value:i,onChange:D=>s(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200",children:[o.jsx("option",{value:"all",children:" All Status"}),o.jsx("option",{value:"open",children:" Open"}),o.jsx("option",{value:"assigned",children:" Assigned"}),o.jsx("option",{value:"in_progress",children:" In Progress"}),o.jsx("option",{value:"waiting_customer",children:" Waiting for Customer"}),o.jsx("option",{value:"escalated",children:" Escalated"}),o.jsx("option",{value:"follow_up",children:" Follow-up Required"}),o.jsx("option",{value:"resolved",children:" Resolved"}),o.jsx("option",{value:"closed",children:" Closed"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),o.jsx("p",{className:"text-rose-600 font-medium",children:" Loading conversations..."})]}):A.length===0?o.jsxs("div",{className:"p-6 text-center text-rose-600",children:[o.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx("p",{className:"font-medium",children:"No conversations found"}),o.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting your search or filters"})]}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(D=>{var G;return o.jsx("div",{onClick:()=>r(D.id),className:`p-4 border-b border-rose-100/50 cursor-pointer transition-all duration-300 hover:bg-gradient-to-r hover:from-rose-50 hover:to-pink-50 hover:shadow-md group relative ${e===D.id?"bg-gradient-to-r from-rose-100 to-pink-100 border-rose-300 shadow-lg":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",children:""}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-200 ${R(D.status||"open")}`,children:[I(D.status||"open"),P(D.status||"open")," ",(D.status||"open").toUpperCase()]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("h4",{className:"font-bold text-gray-900 truncate group-hover:text-rose-700 transition-colors text-sm",children:[" Customer #",((G=D.customer_id)==null?void 0:G.slice(0,8))||"Unknown"]}),o.jsxs("p",{className:"text-xs text-gray-600 truncate mt-1",children:[" ",D.subject||"General Support Inquiry"]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(bu,{className:"h-3 w-3"}),o.jsx("span",{children:new Date(D.created_at).toLocaleDateString()})]}),(()=>{const F=M(D);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${F.isOverdue?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:[" ",F.timeLeft]}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[o.jsx("button",{onClick:q=>{q.stopPropagation(),k(D.id)},className:"p-1 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded text-xs",title:"Assign to me",children:""}),o.jsx("button",{onClick:q=>{q.stopPropagation(),O(D.id,"escalated")},className:"p-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-xs",title:"Escalate",children:""}),o.jsx("button",{onClick:q=>{q.stopPropagation(),O(D.id,"resolved")},className:"p-1 bg-green-100 hover:bg-green-200 text-green-600 rounded text-xs",title:"Mark Resolved",children:""})]})]})})()]})]})]})},D.id)})})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:e?o.jsx(BT,{conversationId:e,messages:g,loading:m,onSendMessage:T,onAssignToSelf:()=>k(e),onStatusUpdate:D=>O(e,D),isMobile:!1}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ei,{className:"h-10 w-10 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2",children:" Select a conversation"}),o.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation from the list to start providing amazing support!"})]})})})]})})]})}function BT({conversationId:t,messages:e,loading:r,onSendMessage:n,onAssignToSelf:a,onStatusUpdate:i,isMobile:s=!1}){const[l,c]=S.useState(""),[u,d]=S.useState(!1),[f,p]=S.useState(!1),[h,g]=S.useState(""),[m,v]=S.useState(!1),x=K.useRef(null),j=[{id:1,title:" Welcome",content:"Hello! Thank you for contacting us. How can I help you today?"},{id:2,title:" Investigating",content:"Thank you for bringing this to our attention. I'm looking into this right away and will get back to you shortly."},{id:3,title:" Resolved",content:"Great news! I've resolved your issue. Please let me know if you need any further assistance."},{id:4,title:" Follow-up",content:"I'll follow up with you within 24 hours to ensure everything is working perfectly."},{id:5,title:" Thank You",content:"Thank you for your patience and for choosing our service. Is there anything else I can help you with?"},{id:6,title:" More Info",content:"To better assist you, could you please provide more details about the issue you're experiencing?"}];S.useEffect(()=>{var _;(_=x.current)==null||_.scrollIntoView({behavior:"smooth"})},[e]),S.useEffect(()=>{if(l.length>0){v(!0);const _=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(_)}else v(!1)},[l]);const w=_=>{_.preventDefault(),l.trim()&&(n(l.trim()),c(""))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-rose-400 via-pink-400 to-rose-500 text-white shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),o.jsx("div",{className:`relative ${s?"px-4 py-3":"px-6 py-4"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(ei,{className:"h-3 w-3 md:h-4 md:w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-sm md:text-lg",children:" Conversation"}),o.jsxs("p",{className:"text-rose-100 text-xs md:text-sm",children:["#",t.slice(0,8)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsxs("button",{onClick:a,className:`flex items-center gap-1 md:gap-2 ${s?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm text-white rounded-lg md:rounded-xl hover:bg-white/30 transition-all duration-200 font-medium shadow-lg border border-white/20`,children:[o.jsx(jq,{className:"h-3 w-3 md:h-4 md:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:" Assign"}),o.jsx("span",{className:"sm:hidden",children:""})]}),o.jsxs("select",{onChange:_=>i(_.target.value),className:`${s?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg md:rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 hover:bg-white/30 transition-all duration-200 font-medium`,style:{backgroundImage:"none"},children:[o.jsx("option",{value:"",className:"text-gray-800",children:" Status"}),o.jsx("option",{value:"assigned",className:"text-gray-800",children:" Assigned"}),o.jsx("option",{value:"in_progress",className:"text-gray-800",children:" In Progress"}),o.jsx("option",{value:"waiting_customer",className:"text-gray-800",children:" Waiting"}),o.jsx("option",{value:"escalated",className:"text-gray-800",children:" Escalated"}),o.jsx("option",{value:"follow_up",className:"text-gray-800",children:" Follow-up"}),o.jsx("option",{value:"resolved",className:"text-gray-800",children:" Resolved"}),o.jsx("option",{value:"closed",className:"text-gray-800",children:" Closed"})]})]})]})})]}),o.jsxs("div",{className:`flex-1 overflow-y-auto space-y-4 bg-gradient-to-b from-rose-50/50 via-white to-pink-50/30 ${s?"px-3 py-3":"px-6 py-6"}`,children:[r?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-4 border-rose-200 border-t-rose-500 mb-4"}),o.jsx("p",{className:"text-rose-600 font-medium text-sm md:text-base",children:" Loading messages..."})]}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-rose-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(ei,{className:"h-6 w-6 md:h-8 md:w-8 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2 text-sm md:text-base",children:" No messages yet"}),o.jsx("p",{className:"text-rose-500 text-xs md:text-sm",children:"Start the conversation below!"})]}):o.jsx(o.Fragment,{children:e.map(_=>o.jsx("div",{className:`flex ${_.sender_id===t?"justify-start":"justify-end"}`,children:o.jsxs("div",{className:`${s?"max-w-[85%]":"max-w-[70%]"} group ${_.sender_id===t?"flex items-start gap-2 md:gap-3":"flex items-start gap-2 md:gap-3 flex-row-reverse"}`,children:[o.jsx("div",{className:`${s?"w-8 h-8":"w-10 h-10"} rounded-full flex items-center justify-center text-white font-bold text-xs md:text-sm shadow-lg flex-shrink-0 ${_.sender_id===t?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-gradient-to-br from-rose-400 to-pink-500"}`,children:_.sender_id===t?"":""}),o.jsxs("div",{className:`${s?"px-3 py-2":"px-4 py-3"} rounded-2xl shadow-lg border transition-all duration-200 group-hover:shadow-xl ${_.sender_id===t?"bg-white border-gray-200 text-gray-900 rounded-tl-sm":"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-400 rounded-tr-sm"}`,children:[o.jsx("p",{className:`${s?"text-xs":"text-sm"} font-medium leading-relaxed`,children:_.content}),o.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${_.sender_id===t?"text-gray-500":"text-rose-100"}`,children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(bu,{className:"h-2 w-2 md:h-3 md:w-3"}),new Date(_.created_at).toLocaleTimeString()]}),_.sender_id!==t&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-rose-200",children:""}),o.jsx("span",{className:"text-rose-200 hidden sm:inline",children:"Read"})]})]})]})]})},_.id))}),o.jsx("div",{ref:x})]}),o.jsxs("div",{className:`relative bg-gradient-to-r from-rose-50 to-pink-50 border-t border-rose-200 space-y-3 md:space-y-4 ${s?"px-3 py-3":"px-6 py-4"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-50/70 to-pink-50/70 backdrop-blur-sm"}),o.jsxs("div",{className:"relative flex items-center gap-1 md:gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-1 md:gap-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",o.jsx("span",{className:"hidden sm:inline",children:"Templates"})]}),o.jsxs("button",{onClick:()=>p(!f),className:`flex items-center gap-1 md:gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",o.jsx("span",{className:"hidden sm:inline",children:"Notes"})]}),o.jsxs("button",{onClick:()=>{},className:`flex items-center gap-1 md:gap-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",o.jsx("span",{className:"hidden sm:inline",children:"Attach"})]})]}),u&&o.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-rose-200 shadow-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:" Quick Reply Templates"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:j.map(_=>o.jsxs("button",{onClick:()=>{c(_.content),d(!1)},className:"text-left p-2 md:p-3 bg-gray-50 hover:bg-rose-50 rounded-lg text-xs transition-colors border border-gray-200 hover:border-rose-300",children:[o.jsx("div",{className:"font-medium text-gray-800",children:_.title}),o.jsxs("div",{className:"text-gray-500 mt-1 truncate",children:[_.content.slice(0,s?30:40),"..."]})]},_.id))})]}),f&&o.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-purple-200 shadow-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:" Internal Team Notes"}),o.jsx("textarea",{value:h,onChange:_=>g(_.target.value),placeholder:"Add internal notes for your team...",rows:s?2:3,className:"w-full px-3 py-2 border border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 text-xs md:text-sm text-gray-800"}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-xs text-purple-600",children:" Team only"}),o.jsx("button",{onClick:()=>{g(""),p(!1)},className:"px-3 py-1 bg-purple-500 text-white rounded-lg text-xs font-medium hover:bg-purple-600 transition-colors",children:"Save"})]})]}),o.jsxs("form",{onSubmit:w,className:"relative flex gap-2 md:gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:" Type your reply...",rows:s?1:2,className:`w-full border-2 border-rose-300 rounded-xl md:rounded-2xl focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-rose-400 resize-none bg-white shadow-md font-medium transition-all duration-200 hover:border-rose-400 hover:shadow-lg text-gray-900 placeholder:text-rose-500 ${s?"px-3 py-2 text-sm":"px-4 py-3 text-base"}`,style:{color:"#111827"}}),!s&&o.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-rose-600 font-medium bg-white/80 px-2 py-1 rounded-lg",children:" Shift + Enter for new line"})]}),o.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[o.jsxs("button",{type:"submit",disabled:!l.trim(),className:`bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-xl md:rounded-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-1 md:gap-2 ${s?"px-3 py-2 text-xs":"px-6 py-3 text-sm"}`,children:[o.jsx(mI,{className:"h-3 w-3 md:h-4 md:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Send"}),o.jsx("span",{className:"sm:hidden",children:"Send"})]}),!s&&o.jsx("div",{className:"text-xs text-gray-500 text-center",children:" Read receipts: ON"})]})]})]})]})}function Zbe({defaultTab:t="overview"}){const{products:e,fetchAllProducts:r}=Oh(),[n,a]=S.useState(null),[i,s]=S.useState(!1);S.useEffect(()=>{r()},[r]);const l=d=>{a(d),s(!0)},c=()=>{r(),a(null),s(!1)},u=()=>{a(null),s(!1)};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your store and view analytics"})]}),o.jsxs(fs,{defaultValue:t,className:"space-y-6",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-8 h-auto p-1 bg-muted rounded-lg",children:[o.jsx(ur,{value:"overview",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Overview"}),o.jsx(ur,{value:"products",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Products"}),o.jsx(ur,{value:"orders",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Orders"}),o.jsx(ur,{value:"reviews",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Reviews"}),o.jsx(ur,{value:"analytics",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Analytics"}),o.jsx(ur,{value:"content",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Content"}),o.jsx(ur,{value:"messages",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Messages"}),o.jsx(ur,{value:"settings",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Settings"})]}),o.jsxs(dr,{value:"overview",children:[o.jsx(xZ,{products:e}),o.jsxs(Re,{className:"mt-6",children:[o.jsx(gt,{children:o.jsx(vt,{children:"Recent Orders"})}),o.jsx(Le,{children:o.jsx(d2,{})})]})]}),o.jsxs(dr,{value:"products",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx($T,{onSuccess:c}),o.jsx("div",{className:"lg:col-span-2",children:o.jsx(Ibe,{onEditProduct:l})})]}),o.jsx(Oi,{open:i,onOpenChange:s,children:o.jsxs(ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsx(Ti,{children:"Edit Product"})}),n&&o.jsx($T,{mode:"edit",product:n,onSuccess:c,onCancel:u})]})})]}),o.jsx(dr,{value:"orders",children:o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Order Management"})}),o.jsx(Le,{children:o.jsxs(fs,{defaultValue:"active",className:"w-full",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2",children:[o.jsx(ur,{value:"active",children:"Active Orders"}),o.jsx(ur,{value:"archived",children:"Archived Orders"})]}),o.jsx(dr,{value:"active",className:"mt-4",children:o.jsx(d2,{showActions:!0,showArchived:!1})}),o.jsx(dr,{value:"archived",className:"mt-4",children:o.jsx(d2,{showActions:!0,showArchived:!0})})]})})]})}),o.jsx(dr,{value:"reviews",children:o.jsx(zbe,{})}),o.jsx(dr,{value:"analytics",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(wye,{}),o.jsx(_ye,{})]})}),o.jsx(dr,{value:"content",children:o.jsx(Ybe,{})}),o.jsx(dr,{value:"messages",children:o.jsx(Re,{className:"h-[calc(100vh-240px)]",children:o.jsx(Le,{className:"p-0 h-full",children:o.jsx(Xbe,{})})})}),o.jsx(dr,{value:"settings",children:o.jsx(tF,{})})]}),o.jsx(Qo,{})]})}function oF({...t}){return o.jsx(nj,{"data-slot":"sheet",...t})}const ZN=S.forwardRef(({...t},e)=>o.jsx(dv,{"data-slot":"sheet-trigger",ref:e,...t}));ZN.displayName=dv.displayName;function Jbe({...t}){return o.jsx(aj,{"data-slot":"sheet-portal",...t})}function Qbe({className:t,...e}){return o.jsx(fv,{"data-slot":"sheet-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function lF({className:t,children:e,side:r="right",...n}){return o.jsxs(Jbe,{children:[o.jsx(Qbe,{}),o.jsxs(hv,{"data-slot":"sheet-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,o.jsxs(pv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[o.jsx(Zs,{className:"size-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const qT=[{id:"about",title:"About Us",description:"Learn about Rosmama Clothing",icon:tv,category:"Company"},{id:"privacy",title:"Privacy Policy",description:"How we protect your data",icon:Hs,category:"Legal"},{id:"terms",title:"Terms of Service",description:"Our terms and conditions",icon:Xs,category:"Legal"},{id:"shipping",title:"Shipping Policy",description:"Delivery information",icon:Iu,category:"Policies"},{id:"returns",title:"Return Policy",description:"Returns and exchanges",icon:Ci,category:"Policies"},{id:"help",title:"Help Center",description:"FAQ and support",icon:E_,category:"Support"},{id:"contact",title:"Contact Us",description:"Get in touch",icon:L_,category:"Support"}];function e1e({children:t,title:e,description:r,onBack:n,onNavigate:a}){const[i,s]=S.useState(!1),l=Array.from(new Set(qT.map(u=>u.category))),c=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center pb-4 border-b",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Information Center"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Everything you need to know about Rosmama"})]}),l.map(u=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:u}),o.jsx("div",{className:"space-y-1",children:qT.filter(d=>d.category===u).map(d=>{const f=d.icon;return o.jsxs(be,{variant:"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{a==null||a(d.id),s(!1)},children:[o.jsx(f,{className:"h-4 w-4 mr-3 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium",children:d.title}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.description})]})]},d.id)})})]},u))]});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(be,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20",children:o.jsx(Zg,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-bold",children:e}),r&&o.jsx("p",{className:"text-sm text-white/80 mt-1",children:r})]}),o.jsxs(oF,{open:i,onOpenChange:s,children:[o.jsx(ZN,{asChild:!0,children:o.jsx(be,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",children:o.jsx(fI,{className:"h-5 w-5"})})}),o.jsx(lF,{side:"right",className:"w-80",children:o.jsx(c,{})})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:o.jsx("div",{className:"sticky top-24 bg-card border rounded-lg p-4",children:o.jsx(c,{})})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"bg-card border rounded-lg p-6",children:t})})]})})]})}function cF({pageType:t,defaultContent:e=[],className:r="",onRetry:n}){const{getPageContent:a,state:i,subscribeToPageContent:s,unsubscribeFromPageContent:l}=nF(),[c,u]=S.useState(null),[d,f]=S.useState(!0),[p,h]=S.useState(null),[g,m]=S.useState(!1),v=S.useRef(!1);S.useEffect(()=>(x(),v.current||(s(t),v.current=!0),()=>{v.current&&(l(t),v.current=!1)}),[t]),S.useEffect(()=>{const _=i.contentCache[t];if(_&&_!==c&&(u(_),c!==null)){m(!0);const N=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(N)}},[i.contentCache,t,c]);const x=S.useCallback(async()=>{try{f(!0),h(null);const _=await a(t);u(_)}catch(_){h(_ instanceof Error?_.message:"Failed to load content")}finally{f(!1)}},[t,a]),j=()=>{n?n():x()};if(d&&!c)return o.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx(Za,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-rose-500"}),o.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})});if(p&&!c&&e.length===0)return o.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx(Zl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Content"}),o.jsx("p",{className:"text-gray-600 mb-4",children:p}),o.jsx(be,{onClick:j,variant:"outline",children:"Try Again"})]})});const w=(c==null?void 0:c.sections)||e;return w.length===0?o.jsx("div",{className:`text-center py-12 ${r}`,children:o.jsx("p",{className:"text-gray-500",children:"No content available for this page."})}):o.jsxs("div",{className:`space-y-8 ${r}`,children:[g&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-in slide-in-from-top-2 duration-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ph,{className:"h-5 w-5 text-green-600 mr-2"}),o.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Content updated! You're viewing the latest version."}),o.jsx(Hl,{className:"h-4 w-4 text-green-600 ml-auto animate-spin"})]})}),p&&c&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Zl,{className:"h-5 w-5 text-amber-600 mr-2"}),o.jsxs("p",{className:"text-amber-800 text-sm",children:["Content may be outdated. ",p]}),o.jsx(be,{onClick:j,variant:"ghost",size:"sm",className:"ml-auto text-amber-700 hover:text-amber-900",children:"Refresh"})]})}),w.map((_,N)=>o.jsx(t1e,{section:_},_.id||N))]})}function t1e({section:t}){return o.jsxs("section",{className:"space-y-4",children:[t.title&&o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t.title}),t.content&&o.jsx("div",{className:`prose prose-gray max-w-none\r
            prose-headings:text-gray-900 \r
            prose-p:text-gray-700 prose-p:leading-relaxed\r
            prose-ul:text-gray-700 prose-ol:text-gray-700\r
            prose-li:mb-1\r
            prose-strong:text-gray-900\r
            prose-a:text-rose-600 prose-a:no-underline hover:prose-a:underline`,dangerouslySetInnerHTML:{__html:t.content}})]})}const r1e=[{id:"hero-section",title:"Welcome to Rosmama Clothing",content:`
      <p class="text-xl text-gray-600 mb-6">Where fashion meets passion, and style tells your story.</p>
      
      <p>Rosmama Clothing was born from a simple belief: every woman deserves to feel confident, beautiful, and empowered through fashion. Founded in South Africa, we've grown from a small boutique dream into a trusted destination for women who appreciate quality, style, and authentic craftsmanship.</p>
    `},{id:"our-story",title:"Our Story",content:`
      <p>What started as a passion project in 2015 has blossomed into a movement celebrating women of all ages, sizes, and styles. Our founder, Rosemary, noticed a gap in the market for fashion that was both accessible and aspirational  clothing that made women feel amazing without breaking the bank.</p>
      
      <p>From our headquarters in Midrand, Johannesburg, we carefully curate and design pieces that celebrate the modern African woman. Each piece in our collection is selected or created with intention, ensuring it meets our high standards for quality, comfort, and style.</p>
    `},{id:"our-mission",title:"Our Mission",content:`
      <p>To empower women through fashion by providing:</p>
      
      <ul>
        <li><strong>Quality Pieces:</strong> Carefully selected fabrics and construction that last</li>
        <li><strong>Inclusive Sizing:</strong> Fashion for every body type and size</li>
        <li><strong>Accessible Luxury:</strong> High-end looks at reasonable prices</li>
        <li><strong>Sustainable Practices:</strong> Ethical sourcing and environmental responsibility</li>
        <li><strong>Personal Style:</strong> Pieces that help you express your unique personality</li>
      </ul>
    `},{id:"our-values",title:"Our Values",content:`
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="p-6 bg-rose-50 rounded-lg">
          <h4 class="font-semibold text-rose-800 mb-2">Quality First</h4>
          <p class="text-gray-700">We believe in investing in pieces that will love you back. Every item undergoes rigorous quality checks.</p>
        </div>
        
        <div class="p-6 bg-pink-50 rounded-lg">
          <h4 class="font-semibold text-pink-800 mb-2">Customer-Centric</h4>
          <p class="text-gray-700">Your satisfaction drives everything we do. From design to delivery, you're at the heart of our decisions.</p>
        </div>
        
        <div class="p-6 bg-purple-50 rounded-lg">
          <h4 class="font-semibold text-purple-800 mb-2">Sustainable Fashion</h4>
          <p class="text-gray-700">We're committed to reducing our environmental impact through responsible sourcing and packaging.</p>
        </div>
        
        <div class="p-6 bg-blue-50 rounded-lg">
          <h4 class="font-semibold text-blue-800 mb-2">Authentic Style</h4>
          <p class="text-gray-700">Fashion should reflect who you are, not who you think you should be. We celebrate individuality.</p>
        </div>
      </div>
    `},{id:"our-team",title:"Meet Our Team",content:`
      <p class="mb-8">Behind every great fashion brand is a passionate team of dreamers, creators, and style enthusiasts.</p>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Rosemary Oku" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Rosemary Oku</h4>
          <p class="text-rose-600 font-medium">Founder & CEO</p>
          <p class="text-gray-600 text-sm mt-2">Fashion visionary with 15+ years in luxury retail, bringing dreams to life through sustainable fashion.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="James Chen" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">James Chen</h4>
          <p class="text-rose-600 font-medium">Creative Director</p>
          <p class="text-gray-600 text-sm mt-2">Award-winning designer from Milan Fashion Week, creating pieces that blend elegance with everyday wearability.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Sarah Johnson" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Sarah Johnson</h4>
          <p class="text-rose-600 font-medium">Head of Sustainability</p>
          <p class="text-gray-600 text-sm mt-2">Environmental advocate ensuring our fashion choices contribute to a better world for future generations.</p>
        </div>
      </div>
    `},{id:"our-stats",title:"Our Impact",content:`
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">50K+</div>
          <div class="text-gray-600">Happy Customers</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">25+</div>
          <div class="text-gray-600">Countries Served</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">10+</div>
          <div class="text-gray-600">Years of Excellence</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">4.9</div>
          <div class="text-gray-600">Customer Rating</div>
        </div>
      </div>
    `},{id:"contact-info",title:"Get in Touch",content:`
      <p class="mb-6">We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share your feedback, we're here to help.</p>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Email Us</h5>
            <p class="text-gray-600 text-sm">hello@rosemamaclothing.store</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Call Us</h5>
            <p class="text-gray-600 text-sm">+27 735 514 705</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Visit Us</h5>
            <p class="text-gray-600 text-sm">New Road, Midrand<br>Johannesburg, South Africa</p>
          </div>
        </div>
      </div>
    `}];function UT({onNavigate:t}){return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(cF,{pageType:"about",defaultContent:r1e,className:"space-y-12"})})}const n1e=[{id:"introduction",title:"Introduction and POPIA Compliance",content:`
      <p>Rosmama Clothing is committed to protecting your privacy and personal information in accordance with the Protection of Personal Information Act (POPIA), Act 4 of 2013, and other applicable South African privacy laws.</p>
      
      <p><strong>Responsible Party:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
      
      <p>This policy explains how we collect, use, store, and protect your personal information when you visit our website or use our services. <em>Last updated: September 12, 2025</em></p>
    `},{id:"information-collection",title:"Information We Collect",content:`
      <p>We collect personal information necessary to provide our services. This includes information you provide directly and information collected automatically.</p>
      
      <h4>Personal Information includes:</h4>
      <ul>
        <li><strong>Identity Information:</strong> Name, surname, ID number (when required)</li>
        <li><strong>Contact Information:</strong> Email address, phone number, postal address</li>
        <li><strong>Financial Information:</strong> Payment details, billing address</li>
        <li><strong>Account Information:</strong> Username, password, purchase history</li>
        <li><strong>Communication Records:</strong> Customer service interactions, feedback</li>
        <li><strong>Technical Information:</strong> IP address, browser type, device information</li>
      </ul>
      
      <h4>Lawful Basis for Processing:</h4>
      <p>We process your personal information based on:</p>
      <ul>
        <li>Contractual necessity (to fulfill orders and provide services)</li>
        <li>Legal compliance (tax records, fraud prevention)</li>
        <li>Legitimate interests (improving services, security)</li>
        <li>Consent (marketing communications, optional features)</li>
      </ul>
    `},{id:"information-use",title:"How We Use Your Information",content:`
      <p>Your personal information is used to provide and improve our services:</p>
      
      <ul>
        <li><strong>Order Processing:</strong> To process and fulfill your orders</li>
        <li><strong>Customer Service:</strong> To respond to inquiries and provide support</li>
        <li><strong>Account Management:</strong> To maintain your account and preferences</li>
        <li><strong>Payment Processing:</strong> To process payments securely</li>
        <li><strong>Marketing Communications:</strong> To send newsletters and promotions (with consent)</li>
        <li><strong>Website Improvement:</strong> To analyze usage and enhance user experience</li>
        <li><strong>Legal Compliance:</strong> To comply with tax, accounting, and legal requirements</li>
        <li><strong>Fraud Prevention:</strong> To protect against fraudulent activities</li>
      </ul>
    `},{id:"information-sharing",title:"Information Sharing and Disclosure",content:`
      <p>We do not sell your personal information to third parties. We may share information with:</p>
      
      <ul>
        <li><strong>Service Providers:</strong> Payment processors, shipping companies, email service providers</li>
        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights</li>
        <li><strong>Business Transfers:</strong> In the event of a merger or acquisition</li>
        <li><strong>Consent-Based Sharing:</strong> When you explicitly consent to sharing</li>
      </ul>
      
      <p>All third-party service providers are contractually bound to protect your information and use it only for specified purposes.</p>
    `},{id:"data-security",title:"Data Security and Retention",content:`
      <p>We implement appropriate technical and organizational measures to protect your personal information:</p>
      
      <ul>
        <li><strong>Encryption:</strong> Data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Limited access on a need-to-know basis</li>
        <li><strong>Regular Audits:</strong> Security assessments and monitoring</li>
        <li><strong>Staff Training:</strong> Regular privacy and security training</li>
      </ul>
      
      <h4>Data Retention:</h4>
      <p>We retain personal information for as long as necessary to:</p>
      <ul>
        <li>Fulfill the purposes for which it was collected</li>
        <li>Comply with legal obligations (e.g., tax records for 5 years)</li>
        <li>Resolve disputes and enforce agreements</li>
      </ul>
    `},{id:"your-rights",title:"Your Rights Under POPIA",content:`
      <p>Under the Protection of Personal Information Act, you have the right to:</p>
      
      <ul>
        <li><strong>Access:</strong> Request copies of your personal information</li>
        <li><strong>Correction:</strong> Update or correct inaccurate information</li>
        <li><strong>Deletion:</strong> Request deletion of your personal information</li>
        <li><strong>Objection:</strong> Object to processing for direct marketing</li>
        <li><strong>Data Portability:</strong> Receive your data in a structured format</li>
        <li><strong>Withdraw Consent:</strong> Withdraw consent for processing</li>
      </ul>
      
      <p>To exercise these rights, contact us at <strong>hello@rosemamaclothing.store</strong> or <strong>+27 735 514 705</strong>.</p>
      
      <p>We will respond to your request within 30 days. If you're not satisfied with our response, you can lodge a complaint with the Information Regulator of South Africa.</p>
    `},{id:"cookies-tracking",title:"Cookies and Tracking Technologies",content:`
      <p>We use cookies and similar technologies to enhance your browsing experience:</p>
      
      <ul>
        <li><strong>Essential Cookies:</strong> Required for website functionality</li>
        <li><strong>Performance Cookies:</strong> Help us analyze website usage</li>
        <li><strong>Functional Cookies:</strong> Remember your preferences</li>
        <li><strong>Marketing Cookies:</strong> Deliver relevant advertisements (with consent)</li>
      </ul>
      
      <p>You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect website functionality.</p>
    `},{id:"international-transfers",title:"International Data Transfers",content:`
      <p>Some of our service providers may be located outside South Africa. When we transfer personal information internationally, we ensure:</p>
      
      <ul>
        <li>The receiving country has adequate data protection laws, or</li>
        <li>Appropriate safeguards are in place (e.g., standard contractual clauses)</li>
        <li>We have obtained your explicit consent for the transfer</li>
      </ul>
    `},{id:"children-privacy",title:"Children's Privacy",content:`
      <p>Our services are not intended for children under 18 years old. We do not knowingly collect personal information from children without parental consent.</p>
      
      <p>If you believe we have collected information from a child without proper consent, please contact us immediately.</p>
    `},{id:"policy-updates",title:"Policy Updates",content:`
      <p>We may update this privacy policy from time to time to reflect changes in our practices or legal requirements. We will:</p>
      
      <ul>
        <li>Post the updated policy on our website</li>
        <li>Update the "last updated" date</li>
        <li>Notify you of material changes via email or website notice</li>
      </ul>
      
      <p>Your continued use of our services after policy updates constitutes acceptance of the changes.</p>
    `},{id:"contact-information",title:"Contact Information",content:`
      <p>For any privacy-related questions, concerns, or requests, please contact us:</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mt-4">
        <h5 class="font-semibold mb-3">Rosmama Clothing - Privacy Office</h5>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
          </div>
          <div>
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
          </div>
        </div>
        
        <p class="mt-4 text-sm text-gray-600">
          <strong>Information Regulator:</strong> If you're not satisfied with our response to your privacy request, 
          you can contact the Information Regulator of South Africa at <em>inforeg@justice.gov.za</em>
        </p>
      </div>
    `}],a1e=[{id:"introduction",title:"Introduction",content:`
      <p>Welcome to Rosmama Clothing. These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our services, you agree to be bound by these Terms.</p>
      
      <p><em>Last updated: September 12, 2025</em></p>
      
      <p><strong>Company Information:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
    `},{id:"acceptance-terms",title:"Acceptance of Terms",content:`
      <p>By accessing our website, creating an account, or making a purchase, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.</p>
      
      <p>If you do not agree with these Terms, please do not use our services.</p>
    `},{id:"use-of-services",title:"Use of Our Services",content:`
      <h4>Permitted Use</h4>
      <p>You may use our services for lawful purposes only. You agree not to:</p>
      
      <ul>
        <li>Violate any applicable laws or regulations</li>
        <li>Infringe on intellectual property rights</li>
        <li>Transmit harmful or malicious code</li>
        <li>Engage in fraudulent activities</li>
        <li>Harass other users or our staff</li>
        <li>Attempt to gain unauthorized access to our systems</li>
      </ul>
      
      <h4>Account Responsibility</h4>
      <p>You are responsible for:</p>
      <ul>
        <li>Maintaining the confidentiality of your account credentials</li>
        <li>All activities under your account</li>
        <li>Providing accurate and current information</li>
        <li>Notifying us immediately of any unauthorized use</li>
      </ul>
    `}],i1e=[{id:"shipping-overview",title:"Shipping Information",content:`
      <p>We're committed to getting your Rosmama pieces to you quickly and safely. Here's everything you need to know about our shipping policies.</p>
    `},{id:"shipping-areas",title:"Shipping Areas",content:`
      <p>We currently ship to:</p>
      
      <ul>
        <li><strong>South Africa:</strong> Nationwide delivery available</li>
        <li><strong>International:</strong> Selected countries (contact us for availability)</li>
      </ul>
      
      <p>Shipping costs and delivery times vary by location and order value.</p>
    `},{id:"delivery-times",title:"Delivery Times",content:`
      <h4>South Africa</h4>
      <ul>
        <li><strong>Major Cities:</strong> 2-3 business days</li>
        <li><strong>Other Areas:</strong> 3-5 business days</li>
        <li><strong>Rural Areas:</strong> 5-7 business days</li>
      </ul>
      
      <h4>International</h4>
      <ul>
        <li><strong>Regional:</strong> 5-10 business days</li>
        <li><strong>Global:</strong> 10-15 business days</li>
      </ul>
      
      <p><em>Delivery times are estimates and may vary during peak seasons or due to unforeseen circumstances.</em></p>
    `}],s1e=[{id:"returns-overview",title:"Returns & Exchanges",content:`
      <p>We want you to love your Rosmama pieces. If you're not completely satisfied, we offer a hassle-free return and exchange policy.</p>
    `},{id:"return-policy",title:"Return Policy",content:`
      <ul>
        <li><strong>Timeframe:</strong> 30 days from delivery date</li>
        <li><strong>Condition:</strong> Items must be unworn, unwashed, and with original tags</li>
        <li><strong>Packaging:</strong> Original packaging preferred but not required</li>
        <li><strong>Proof of Purchase:</strong> Order number or receipt required</li>
      </ul>
      
      <h4>Non-Returnable Items</h4>
      <ul>
        <li>Intimate apparel and swimwear</li>
        <li>Sale items marked as final sale</li>
        <li>Custom or personalized items</li>
        <li>Items damaged by normal wear</li>
      </ul>
    `}],o1e=[{id:"help-overview",title:"Help Center",content:`
      <p>Need assistance? We're here to help! Find answers to common questions or contact our support team.</p>
    `},{id:"faq",title:"Frequently Asked Questions",content:`
      <h4>Ordering</h4>
      <p><strong>Q: How do I place an order?</strong><br>
      A: Browse our catalog, add items to cart, and proceed to checkout. Create an account or checkout as a guest.</p>
      
      <p><strong>Q: Can I modify my order after placing it?</strong><br>
      A: Contact us within 2 hours of placing your order. We'll do our best to accommodate changes.</p>
      
      <h4>Sizing</h4>
      <p><strong>Q: How do I find my size?</strong><br>
      A: Check our detailed size guide available on each product page. When in doubt, contact us for personalized sizing advice.</p>
      
      <h4>Payment</h4>
      <p><strong>Q: What payment methods do you accept?</strong><br>
      A: We accept all major credit cards, EFT, and mobile payments.</p>
    `}],l1e=[{id:"contact-overview",title:"Get in Touch",content:`
      <p>We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share feedback, our team is here to help.</p>
    `},{id:"contact-methods",title:"Contact Information",content:`
      <div class="grid md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h4 class="font-semibold">Customer Service</h4>
          <div class="space-y-2">
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
            <p><strong>Hours:</strong> Monday - Friday, 9AM - 5PM (SAST)</p>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold">Visit Our Store</h4>
          <div class="space-y-2">
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
            <p><strong>Store Hours:</strong> By appointment only</p>
          </div>
        </div>
      </div>
    `},{id:"response-times",title:"Response Times",content:`
      <ul>
        <li><strong>Email:</strong> We respond within 24 hours</li>
        <li><strong>Phone:</strong> Immediate assistance during business hours</li>
        <li><strong>Social Media:</strong> Follow us for updates and quick responses</li>
      </ul>
    `}],c1e={privacy:{content:n1e,pageType:"privacy"},terms:{content:a1e,pageType:"terms"},shipping:{content:i1e,pageType:"shipping"},returns:{content:s1e,pageType:"returns"},help:{content:o1e,pageType:"help"},contact:{content:l1e,pageType:"contact"}};function lu({type:t}){const{content:e,pageType:r}=c1e[t];return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(cF,{pageType:r,defaultContent:e,className:"space-y-8"})})}function u1e({onBack:t,initialPage:e="about"}){const[r,n]=S.useState(e),a=c=>{n(c)},i=()=>{switch(r){case"about":return"About Us";case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"shipping":return"Shipping Policy";case"returns":return"Return Policy";case"help":return"Help Center";case"contact":return"Contact Us";default:return"Information Center"}},s=()=>{switch(r){case"about":return"Learn about our story, values, and team";case"privacy":return"How we protect and use your personal information";case"terms":return"Terms and conditions for using our services";case"shipping":return"Shipping methods, costs, and delivery information";case"returns":return"Return and exchange policies and procedures";case"help":return"Frequently asked questions and support resources";case"contact":return"Get in touch with our customer service team";default:return"Your one-stop destination for helpful information"}},l=()=>{switch(r){case"about":return o.jsx(UT,{onNavigate:a});case"privacy":return o.jsx(lu,{type:"privacy"});case"terms":return o.jsx(lu,{type:"terms"});case"shipping":return o.jsx(lu,{type:"shipping"});case"returns":return o.jsx(lu,{type:"returns"});case"help":return o.jsx(lu,{type:"help"});case"contact":return o.jsx(lu,{type:"contact"});default:return o.jsx(UT,{onNavigate:a})}};return o.jsx(e1e,{title:i(),description:s(),onBack:t,onNavigate:a,children:l()})}function JN({isOpen:t,onClose:e,initialSubject:r}){const{user:n}=Cn(),[a,i]=S.useState(null),[s,l]=S.useState(""),[c,u]=S.useState(!1),d=S.useRef(null),f=S.useRef(null),{loading:p,getOrCreateConversation:h}=aF((n==null?void 0:n.id)||"",!1),{messages:g,loading:m,sendMessage:v,markAsRead:x}=iF(a);S.useEffect(()=>{const _=N=>{N.key==="Escape"&&t&&e()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t,e]),S.useEffect(()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})},[g]),S.useEffect(()=>{a&&(n!=null&&n.id)&&g.length>0&&x(n.id)},[a,n==null?void 0:n.id,g.length,x]),S.useEffect(()=>{t&&(n!=null&&n.id)&&!a&&j()},[t,n==null?void 0:n.id,a]);const j=async()=>{if(n!=null&&n.id){u(!0);try{const _=await h(r||"General Inquiry");_&&i(_.id)}catch(_){console.error("Error initializing chat:",_)}finally{u(!1)}}},w=async _=>{if(_.preventDefault(),!s.trim()||!a||!(n!=null&&n.id))return;const N=s.trim();l("");try{await v(n.id,N)}catch(A){console.error("Error sending message:",A),l(N)}};return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e,"aria-hidden":"true"}),o.jsx("div",{ref:f,className:"modal-floating",role:"dialog","aria-label":"Customer support chat","aria-modal":"true","aria-labelledby":"chat-support-title",children:o.jsxs("div",{className:"card-base text-neutral-900 dark:text-neutral-100",children:[o.jsxs("div",{id:"chat-support-title",className:"flex items-center justify-between px-4 py-3 bg-neutral-900 text-white sm:rounded-t-2xl border-b border-neutral-800 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-neutral-800",children:o.jsx(ei,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm",children:"Chat Support"}),o.jsxs("div",{className:"flex items-center gap-1","aria-live":"polite",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse","aria-hidden":!0}),o.jsx("p",{className:"text-[11px] text-neutral-300",children:"Online"})]})]})]}),o.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-800/60 transition-colors","aria-label":"Close chat",children:o.jsx(Zs,{className:"h-4 w-4 text-neutral-200"})})]}),c&&o.jsx("div",{className:"px-4 py-2 bg-blue-50 border-b border-blue-100 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-xs",children:"Connecting..."})]})}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 py-3 bg-gradient-to-br from-neutral-100 via-neutral-50 to-purple-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-800",children:[p||m?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-neutral-900 dark:border-neutral-100 mx-auto mb-2"}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"Loading chat..."})]})}):g.length===0?o.jsxs("div",{className:"text-center mt-6",children:[o.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:o.jsx(ei,{className:"h-6 w-6 text-neutral-600 dark:text-neutral-300"})}),o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100 mb-1",children:"Welcome to Rosmama!"}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"How can we help you today?"})]}):g.map(_=>o.jsx(d1e,{content:_.content,isOwnMessage:_.sender_id===(n==null?void 0:n.id),timestamp:_.created_at,isRead:_.is_read},_.id)),o.jsx("div",{ref:d})]}),o.jsx("div",{className:"px-4 py-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex-shrink-0",children:o.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[o.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),placeholder:"Type a message...",className:"flex-1 min-w-0 px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-700 rounded-full focus:outline-none focus:ring-2 focus:ring-neutral-900 dark:focus:ring-neutral-100 focus:border-transparent bg-neutral-50 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500",disabled:!a||c,"aria-label":"Type your message"}),o.jsx("button",{type:"submit",disabled:!s.trim()||!a||c,className:"p-2 rounded-full bg-neutral-900 text-white hover:opacity-90 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0","aria-label":"Send message",children:o.jsx(mI,{className:"h-4 w-4"})})]})})]})})]}):null}function d1e({content:t,isOwnMessage:e,timestamp:r,isRead:n}){return o.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-2`,children:o.jsxs("div",{className:`max-w-[85%] ${e?"order-last":"order-first"}`,children:[o.jsx("div",{className:e?"px-3 py-2 rounded-2xl shadow-sm bg-neutral-900 text-white border border-neutral-800 rounded-br-md":"px-3 py-2 rounded-2xl shadow-sm bg-white/70 backdrop-blur-sm text-neutral-900 dark:bg-neutral-800/90 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700 rounded-bl-md",children:o.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:t})}),o.jsxs("div",{className:`flex items-center gap-1 mt-1 text-[11px] ${e?"justify-end text-neutral-500 dark:text-neutral-400":"justify-start text-neutral-500 dark:text-neutral-400"}`,children:[o.jsx("span",{children:new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e&&o.jsx("span",{className:`${n?"text-green-500":"text-neutral-400 dark:text-neutral-600"} ml-1`,children:n?"":""})]})]})})}function f1e({className:t="",showLabel:e=!1}){const{user:r}=Cn(),[n,a]=S.useState(!1),{unreadCount:i,loading:s}=sF((r==null?void 0:r.id)||null),l=()=>{a(!0)},c=()=>{a(!1)};return r?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:l,className:`relative flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors ${t}`,"aria-label":"Open chat support",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(ei,{className:"h-6 w-6 text-gray-600 group-hover:text-rose-500 transition-colors"}),!s&&i>0&&o.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-pulse",children:i>99?"99+":i}),s&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-gray-300 rounded-full h-3 w-3 animate-pulse"})]}),e&&o.jsx("span",{className:"text-sm text-gray-600 group-hover:text-rose-500 transition-colors",children:"Support"})]}),o.jsx(JN,{isOpen:n,onClose:c,initialSubject:"Support Request"})]}):null}function h2({text:t="Chat with us",className:e="",variant:r="primary",subject:n="Contact Inquiry"}){const{user:a}=Cn(),[i,s]=S.useState(!1),l=()=>{s(!0)},c=()=>{s(!1)},u="flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",d={primary:"bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:from-rose-600 hover:to-pink-700 hover:shadow-xl",secondary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:from-blue-600 hover:to-purple-700 hover:shadow-xl",outline:"border-2 border-rose-500 text-rose-500 hover:bg-rose-500 hover:text-white"};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:l,className:`${u} ${d[r]} ${e}`,"aria-label":"Start chat conversation",children:[o.jsx(ei,{className:"h-5 w-5"}),o.jsx("span",{children:t})]}),o.jsx(JN,{isOpen:i,onClose:c,initialSubject:n})]})}function h1e(){const{user:t}=Cn(),[e,r]=S.useState(!1),{unreadCount:n,loading:a}=sF((t==null?void 0:t.id)||null);return t?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-rose-500 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-300 transform hover:scale-110 z-40","aria-label":"Open chat support",children:o.jsxs("div",{className:"relative",children:[o.jsx(ei,{className:"h-6 w-6"}),!a&&n>0&&o.jsx("div",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-bounce",children:n>99?"99+":n})]})}),o.jsx(JN,{isOpen:e,onClose:()=>r(!1),initialSubject:"Support Request"})]}):null}function p1e({onInfoClick:t}){const e=r=>{t&&t(r)};return o.jsx("footer",{className:"bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-white mt-auto",children:o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"h-6 w-6 text-rose-400"}),o.jsx("h3",{className:"text-xl font-bold",children:"Rosmama"})]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:"Fashion that inspires, quality that endures. Creating beautiful pieces for the modern woman since 2014."}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[o.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),o.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.747-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})}),o.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Shop"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"New Arrivals"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Women"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Men"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Sale"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Size Guide"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Information"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("about"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Go,{className:"h-3 w-3"}),"About Us"]})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("shipping"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Shipping & Returns"})}),o.jsx("li",{children:o.jsx(h2,{text:"Live Chat Support",variant:"outline",className:"text-sm py-2 px-3 border-slate-400 dark:border-slate-400 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white hover:border-slate-600 dark:hover:border-white",subject:"FAQ & Support Inquiry"})}),o.jsx("li",{children:o.jsx(h2,{text:"Contact Us",variant:"primary",className:"text-sm py-2 px-3",subject:"General Contact Inquiry"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Legal"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("privacy"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Hs,{className:"h-3 w-3"}),"Privacy Policy"]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("terms"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Xs,{className:"h-3 w-3"}),"Terms of Service"]})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("returns"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Return Policy"})})]}),o.jsxs("div",{className:"pt-4",children:[o.jsx("h5",{className:"text-sm font-medium mb-2",children:"Customer Reviews"}),o.jsx(q_,{widgetType:"trustbox",height:"120px",className:"w-full"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Contact"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx($f,{className:"h-4 w-4"}),"hello@rosemamaclothing.store"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx(L_,{className:"h-4 w-4"}),"+27 735 514 705"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx(R_,{className:"h-4 w-4"}),"Midrand, South Africa"]})]})]})]}),o.jsxs("div",{className:"border-t border-slate-300 dark:border-slate-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:" 2024 Rosmama Clothing. All rights reserved."}),o.jsxs("div",{className:"flex gap-6 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Privacy"}),o.jsx("button",{onClick:()=>e("terms"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Terms"}),o.jsx(h2,{text:"Support",variant:"outline",className:"text-xs py-1 px-2 border-slate-400 dark:border-slate-400 text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white hover:border-slate-600 dark:hover:border-white",subject:"Footer Support Request"})]})]})]})})}const m1e=()=>{const[t,e]=S.useState([]);return{cart:t,addToCart:(c,u,d,f)=>{e(p=>p.find(g=>g.productId===c.id&&g.size===u&&g.color===d)?p.map(g=>g.productId===c.id&&g.size===u&&g.color===d?{...g,quantity:g.quantity+f}:g):[...p,{productId:c.id,product:c,size:u,color:d,quantity:f}])},removeFromCart:(c,u,d)=>{e(f=>f.filter(p=>!(p.productId===c&&p.size===u&&p.color===d)))},updateCartQuantity:(c,u,d,f)=>{e(p=>f<=0?p.filter(h=>!(h.productId===c&&h.size===u&&h.color===d)):p.map(h=>h.productId===c&&h.size===u&&h.color===d?{...h,quantity:f}:h))},clearCart:()=>{e([])},getTotalItems:()=>t.reduce((c,u)=>c+u.quantity,0),getTotalPrice:()=>t.reduce((c,u)=>c+u.product.price*u.quantity,0)}},uF=S.createContext(void 0),g1e=({children:t})=>{const[e,r]=S.useState("light");S.useEffect(()=>{const a=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=a||(i?"dark":"light");r(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const n=()=>{const a=e==="light"?"dark":"light";r(a),document.documentElement.classList.toggle("dark",a==="dark"),localStorage.setItem("theme",a)};return o.jsx(uF.Provider,{value:{theme:e,toggleTheme:n},children:t})},v1e=()=>{const t=K.useContext(uF);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function y1e(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var QN="ScrollArea",[dF,Dwe]=Mn(QN),[x1e,oi]=dF(QN),fF=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=t,[l,c]=S.useState(null),[u,d]=S.useState(null),[f,p]=S.useState(null),[h,g]=S.useState(null),[m,v]=S.useState(null),[x,j]=S.useState(0),[w,_]=S.useState(0),[N,A]=S.useState(!1),[k,O]=S.useState(!1),T=Bt(e,P=>c(P)),R=pd(a);return o.jsx(x1e,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:j,onCornerHeightChange:_,children:o.jsx(it.div,{dir:R,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});fF.displayName=QN;var hF="ScrollAreaViewport",pF=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,s=oi(hF,r),l=S.useRef(null),c=Bt(e,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(it.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});pF.displayName=hF;var js="ScrollAreaScrollbar",mF=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=oi(js,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=t.orientation==="horizontal";return S.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(b1e,{...n,ref:e,forceMount:r}):a.type==="scroll"?o.jsx(w1e,{...n,ref:e,forceMount:r}):a.type==="auto"?o.jsx(gF,{...n,ref:e,forceMount:r}):a.type==="always"?o.jsx(eS,{...n,ref:e}):null});mF.displayName=js;var b1e=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=oi(js,t.__scopeScrollArea),[i,s]=S.useState(!1);return S.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(fa,{present:r||i,children:o.jsx(gF,{"data-state":i?"visible":"hidden",...n,ref:e})})}),w1e=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=oi(js,t.__scopeScrollArea),i=t.orientation==="horizontal",s=P0(()=>c("SCROLL_END"),100),[l,c]=y1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),S.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(c("SCROLL"),s()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,s]),o.jsx(fa,{present:r||l!=="hidden",children:o.jsx(eS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:dt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:dt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gF=S.forwardRef((t,e)=>{const r=oi(js,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,s]=S.useState(!1),l=t.orientation==="horizontal",c=P0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return cd(r.viewport,c),cd(r.content,c),o.jsx(fa,{present:n||i,children:o.jsx(eS,{"data-state":i?"visible":"hidden",...a,ref:e})})}),eS=S.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=oi(js,t.__scopeScrollArea),i=S.useRef(null),s=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function f(p,h){return k1e(p,s.current,l,h)}return r==="horizontal"?o.jsx(_1e,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=zT(p,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):r==="vertical"?o.jsx(j1e,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=zT(p,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),_1e=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=oi(js,t.__scopeScrollArea),[s,l]=S.useState(),c=S.useRef(null),u=Bt(e,c,i.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(yF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":k0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),jF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kg(s.paddingLeft),paddingEnd:Kg(s.paddingRight)}})}})}),j1e=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=oi(js,t.__scopeScrollArea),[s,l]=S.useState(),c=S.useRef(null),u=Bt(e,c,i.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(yF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":k0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),jF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kg(s.paddingTop),paddingEnd:Kg(s.paddingBottom)}})}})}),[N1e,vF]=dF(js),yF=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=oi(js,r),[g,m]=S.useState(null),v=Bt(e,T=>m(T)),x=S.useRef(null),j=S.useRef(""),w=h.viewport,_=n.content-n.viewport,N=Wn(d),A=Wn(c),k=P0(f,10);function O(T){if(x.current){const R=T.clientX-x.current.left,P=T.clientY-x.current.top;u({x:R,y:P})}}return S.useEffect(()=>{const T=R=>{const P=R.target;(g==null?void 0:g.contains(P))&&N(R,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,g,_,N]),S.useEffect(A,[n,A]),cd(g,k),cd(h.content,k),o.jsx(N1e,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Wn(i),onThumbPointerUp:Wn(s),onThumbPositionChange:A,onThumbPointerDown:Wn(l),children:o.jsx(it.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:dt(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),O(T))}),onPointerMove:dt(t.onPointerMove,O),onPointerUp:dt(t.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=j.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Yg="ScrollAreaThumb",xF=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=vF(Yg,t.__scopeScrollArea);return o.jsx(fa,{present:r||a.hasThumb,children:o.jsx(S1e,{ref:e,...n})})}),S1e=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=oi(Yg,r),s=vF(Yg,r),{onThumbPositionChange:l}=s,c=Bt(e,f=>s.onThumbChange(f)),u=S.useRef(void 0),d=P0(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const h=P1e(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(it.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,m=f.clientY-h.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:dt(t.onPointerUp,s.onThumbPointerUp)})});xF.displayName=Yg;var tS="ScrollAreaCorner",bF=S.forwardRef((t,e)=>{const r=oi(tS,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(A1e,{...t,ref:e}):null});bF.displayName=tS;var A1e=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=oi(tS,r),[i,s]=S.useState(0),[l,c]=S.useState(0),u=!!(i&&l);return cd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),cd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(it.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Kg(t){return t?parseInt(t,10):0}function wF(t,e){const r=t/e;return isNaN(r)?0:r}function k0(t){const e=wF(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function k1e(t,e,r,n="ltr"){const a=k0(r),i=a/2,s=e||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return _F([c,u],f)(t)}function zT(t,e,r="ltr"){const n=k0(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,s=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=x_(t,c);return _F([0,s],[0,l])(u)}function _F(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function jF(t,e){return t>0&&t<e}var P1e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&e(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function P0(t,e){const r=Wn(t),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function cd(t,e){const r=Wn(e);nn(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var C1e=fF,O1e=pF,E1e=bF;function T1e({className:t,children:e,...r}){return o.jsxs(C1e,{"data-slot":"scroll-area",className:qe("relative",t),...r,children:[o.jsx(O1e,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),o.jsx(I1e,{}),o.jsx(E1e,{})]})}function I1e({className:t,orientation:e="vertical",...r}){return o.jsx(mF,{"data-slot":"scroll-area-scrollbar",orientation:e,className:qe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:o.jsx(xF,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}class R1e{async createNotification(e){try{return this.createNotificationFallback(e)}catch(r){return console.error("Error creating notification:",r),null}}async createNotificationFallback(e){try{const r=crypto.randomUUID(),n={id:r,user_id:e.user_id,type:e.type,category:e.category,title:e.title,message:e.message,data:e.data||{},priority:e.priority||1,action_url:e.action_url,action_text:e.action_text,expires_at:e.expires_at,created_at:new Date().toISOString(),read_at:null};try{const{error:a}=await Ce.from("notifications").insert(n);return a&&(console.warn("Notifications table not available yet. Using localStorage fallback:",a.message),this.storeNotificationLocally(n)),r}catch(a){return console.warn("Database not ready, using localStorage:",a),this.storeNotificationLocally(n),r}}catch(r){return console.error("Error in fallback notification creation:",r),null}}storeNotificationLocally(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r);n.push(e),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("temp_notifications",JSON.stringify(n)),console.log("Notification stored locally (temporary):",e.title)}catch(r){console.error("Error storing notification locally:",r)}}async getUserNotifications(e,r=20,n=0,a=!1){try{const i=window.location.hostname==="localhost"||window.location.hostname.includes("localhost"),{data:s,error:l}=await Ce.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);if(l)return i&&!sessionStorage.getItem("notifications_fallback_logged")&&(console.info(" Notifications: Using localStorage fallback (database table not yet created)"),sessionStorage.setItem("notifications_fallback_logged","true")),this.getNotificationsFromLocalStorage(e,r,n,a);let c=s||[];return a&&(c=c.filter(u=>!u.read_at)),c}catch{return this.getNotificationsFromLocalStorage(e,r,n,a)}}getNotificationsFromLocalStorage(e,r,n,a){try{const i=localStorage.getItem("temp_notifications")||"[]";let s=JSON.parse(i);return s=s.filter(l=>l.user_id===e),a&&(s=s.filter(l=>!l.read_at)),s.sort((l,c)=>new Date(c.created_at).getTime()-new Date(l.created_at).getTime()),s.slice(n,n+r)}catch(i){return console.error("Error getting notifications from localStorage:",i),[]}}async getUnreadCount(e){try{const{data:r,error:n}=await Ce.from("notifications").select("id").eq("user_id",e).eq("read_at",null);return n?this.getNotificationsFromLocalStorage(e,1e3,0,!0).length:(r==null?void 0:r.length)||0}catch{return 0}}async markAsRead(e,r){try{const{error:n}=await Ce.from("notifications").update({read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r);return n&&(console.warn("Using localStorage for mark as read:",n.message),this.markAsReadInLocalStorage(e)),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}markAsReadInLocalStorage(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r),a=n.find(i=>i.id===e);a&&(a.read_at=new Date().toISOString(),localStorage.setItem("temp_notifications",JSON.stringify(n)))}catch(r){console.error("Error marking notification as read in localStorage:",r)}}async getNotificationPreferences(e){try{const{data:r,error:n}=await Ce.from("notification_preferences").select("*").eq("user_id",e).maybeSingle();return n?(console.warn("Notification preferences table not available, using defaults:",n.message),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):r||{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){return console.error("Error fetching notification preferences:",r),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}async updateNotificationPreferences(e,r){try{const{error:n}=await Ce.from("notification_preferences").upsert({user_id:e,...r,updated_at:new Date().toISOString()});if(n){console.warn("Notification preferences table not available:",n.message);const a=`notification_preferences_${e}`;return localStorage.setItem(a,JSON.stringify({user_id:e,...r})),!0}return!0}catch(n){return console.error("Error updating notification preferences:",n),!1}}async sendSecurityAlert(e,r,n,a){try{return this.createNotification({user_id:e,type:"security",category:r,title:"Security Alert",message:n,priority:3,data:{alert_type:r,ip_address:a,timestamp:new Date().toISOString()}})}catch(i){return console.error("Error sending security alert:",i),null}}async sendSystemNotification(e,r,n=1,a){try{return console.log("System notification (development mode):",{title:e,message:r,priority:n}),1}catch(i){return console.error("Error sending system notification:",i),0}}subscribeToNotifications(e,r,n){const a=Ce.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},i=>{console.log("New notification received:",i),r(i.new)}).subscribe(i=>{i==="SUBSCRIBED"?(window.location.hostname==="localhost"||window.location.hostname.includes("localhost"))&&!sessionStorage.getItem("notifications_subscription_logged")&&(console.log(" Notifications: Real-time subscription active for user:",e),sessionStorage.setItem("notifications_subscription_logged","true")):i==="CHANNEL_ERROR"&&n&&n(i)});return()=>{Ce.removeChannel(a)}}async requestPushPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showPushNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted"&&!await this.requestPushPermission())return!1;try{const n=new Notification(e,{icon:r.icon||"/images/placeholder-product.svg",badge:r.badge||"/images/placeholder-product.svg",body:r.body,tag:r.tag,data:r.data,requireInteraction:!0,...r});return n.onclick=a=>{var i;a.preventDefault(),window.focus(),(i=r.data)!=null&&i.url&&(window.location.href=r.data.url),n.close()},!0}catch(n){return console.error("Error showing push notification:",n),!1}}async cleanupOldNotifications(){return console.log("Cleanup old notifications (development mode)"),0}}const Bs=new R1e,L1e={email:tv,push:Fl,system:D_,order:Ph,security:nv},M1e={1:"bg-blue-500",2:"bg-yellow-500",3:"bg-red-500"};function D1e({className:t}){const{user:e}=Cn(),[r,n]=S.useState([]),[a,i]=S.useState(0),[s,l]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState("all"),[p,h]=S.useState(0),[g,m]=S.useState(!0),[v,x]=S.useState(!1),j=S.useCallback(async(P=!1)=>{if(!(!(e!=null&&e.id)||c)){u(!0);try{const I=P?0:p,M=d==="unread",D=await Bs.getUserNotifications(e.id,20,I*20,M);P?(n(D),h(0)):n(G=>[...G,...D]),m(D.length===20),h(I+1)}catch(I){console.error("Error loading notifications:",I),_e.error("Failed to load notifications")}finally{u(!1)}}},[e==null?void 0:e.id,p,d,c]),w=S.useCallback(async()=>{if(e!=null&&e.id)try{const P=await Bs.getUnreadCount(e.id);i(P)}catch(P){console.error("Error loading unread count:",P)}},[e==null?void 0:e.id]),_=S.useCallback(async()=>{if(e!=null&&e.id)try{const P=await Bs.getNotificationPreferences(e.id);l(P)}catch(P){console.error("Error loading preferences:",P)}},[e==null?void 0:e.id]),N=async P=>{if(e!=null&&e.id)try{await Bs.markAsRead(P,e.id)&&(n(M=>M.map(D=>D.id===P?{...D,read_at:new Date().toISOString()}:D)),i(M=>Math.max(0,M-1)),_e.success("Notification marked as read"))}catch(I){console.error("Error marking notification as read:",I),_e.error("Failed to mark notification as read")}},A=async()=>{if(e!=null&&e.id)try{const I=r.filter(M=>!M.read_at).map(M=>Bs.markAsRead(M.id,e.id));await Promise.all(I),n(M=>M.map(D=>({...D,read_at:D.read_at||new Date().toISOString()}))),i(0),_e.success("All notifications marked as read")}catch(P){console.error("Error marking all as read:",P),_e.error("Failed to mark all notifications as read")}},k=async(P,I)=>{if(!(!(e!=null&&e.id)||!s))try{const M={...s,[P]:I};await Bs.updateNotificationPreferences(e.id,{[P]:I})&&(l(M),_e.success("Notification preferences updated"))}catch(M){console.error("Error updating preferences:",M),_e.error("Failed to update preferences")}},O=async()=>{try{await Bs.requestPushPermission()?(_e.success("Push notifications enabled"),k("push_notifications",!0)):(_e.error("Push notifications denied"),k("push_notifications",!1))}catch(P){console.error("Error requesting push permission:",P),_e.error("Failed to request push permission")}},T=r.filter(P=>{switch(d){case"unread":return!P.read_at;case"system":return P.type==="system";case"order":return P.type==="order";case"security":return P.type==="security";default:return!0}});S.useEffect(()=>{e!=null&&e.id&&(j(!0),w(),_())},[e==null?void 0:e.id,d]),S.useEffect(()=>e!=null&&e.id?Bs.subscribeToNotifications(e.id,I=>{n(M=>[I,...M]),i(M=>M+1),s!=null&&s.push_notifications&&Bs.showPushNotification(I.title,{body:I.message,tag:I.id,data:{notificationId:I.id,url:I.action_url}}),_e.info(`New notification: ${I.title}`)}):void 0,[e==null?void 0:e.id,s==null?void 0:s.push_notifications]);const R=P=>{const I=new Date(P),D=Math.floor((new Date().getTime()-I.getTime())/(1e3*60*60));return D<1?"Just now":D<24?`${D}h ago`:D<168?`${Math.floor(D/24)}d ago`:I.toLocaleDateString()};return o.jsxs(Oi,{open:v,onOpenChange:x,children:[o.jsx(ij,{asChild:!0,children:o.jsxs(be,{variant:"ghost",size:"icon",className:`relative ${t}`,children:[o.jsx(Fl,{className:"h-5 w-5"}),a>0&&o.jsx(jt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:a>99?"99+":a})]})}),o.jsxs(ni,{className:"max-w-2xl max-h-[80vh]",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fl,{className:"h-5 w-5"}),"Notifications",a>0&&o.jsxs(jt,{variant:"secondary",children:[a," unread"]})]}),a>0&&o.jsxs(be,{size:"sm",variant:"outline",onClick:A,children:[o.jsx(Qg,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})}),o.jsxs(fs,{defaultValue:"notifications",className:"w-full",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2",children:[o.jsx(ur,{value:"notifications",children:"Notifications"}),o.jsx(ur,{value:"settings",children:"Settings"})]}),o.jsxs(dr,{value:"notifications",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Df,{className:"h-4 w-4"}),o.jsxs(Ma,{value:d,onValueChange:P=>f(P),children:[o.jsx($a,{className:"w-40",children:o.jsx(Da,{})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"all",children:"All"}),o.jsx(We,{value:"unread",children:"Unread"}),o.jsx(We,{value:"system",children:"System"}),o.jsx(We,{value:"order",children:"Orders"}),o.jsx(We,{value:"security",children:"Security"})]})]})]}),o.jsx(T1e,{className:"h-96",children:o.jsxs("div",{className:"space-y-3",children:[T.map(P=>{const I=L1e[P.type]||Fl,M=!P.read_at;return o.jsx(Re,{className:`${M?"border-blue-200 bg-blue-50/50":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>M&&N(P.id),children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:`p-2 rounded-full ${M1e[P.priority]} text-white`,children:o.jsx(I,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h4",{className:`font-medium ${M?"text-blue-900":"text-gray-900"}`,children:P.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:R(P.created_at)}),M&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.message}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(jt,{variant:"outline",className:"text-xs",children:P.type}),o.jsx(jt,{variant:"outline",className:"text-xs",children:P.category})]}),P.action_url&&P.action_text&&o.jsx(be,{size:"sm",variant:"link",className:"p-0 h-auto mt-2",onClick:D=>{D.stopPropagation(),window.open(P.action_url,"_blank")},children:P.action_text})]})]})})},P.id)}),T.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Fl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No notifications found"})]}),g&&o.jsx(be,{variant:"outline",onClick:()=>j(!1),disabled:c,className:"w-full",children:"Load More"})]})})]}),o.jsx(dr,{value:"settings",className:"space-y-4",children:s&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{className:"text-lg",children:"Notification Preferences"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),o.jsx(hu,{checked:s.email_notifications,onCheckedChange:P=>k("email_notifications",P)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Push Notifications"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hu,{checked:s.push_notifications,onCheckedChange:P=>{P?O():k("push_notifications",!1)}}),!s.push_notifications&&o.jsx(be,{size:"sm",variant:"outline",onClick:O,children:"Enable"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"System Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications"})]}),o.jsx(hu,{checked:s.system_alerts,onCheckedChange:P=>k("system_alerts",P)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Order Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for order updates"})]}),o.jsx(hu,{checked:s.order_alerts,onCheckedChange:P=>k("order_alerts",P)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Security Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Security-related notifications"})]}),o.jsx(hu,{checked:s.security_alerts,onCheckedChange:P=>k("security_alerts",P)})]})]})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{className:"text-lg",children:"Browser Settings"})}),o.jsx(Le,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Push Notification Status"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Current permission: ",typeof window<"u"&&"Notification"in window?Notification.permission:"Not supported"]})]}),o.jsx(be,{onClick:O,variant:"outline",children:"Request Push Permission"})]})})]})]})})]})]})]})}const $1e=({onSearch:t,cartItemCount:e=0,onProfileClick:r,onInfoClick:n})=>{const[a,i]=S.useState(""),[s,l]=S.useState(!1),{theme:c,toggleTheme:u}=v1e(),{cart:d}=m1e(),{user:f}=Cn(),p=(d==null?void 0:d.reduce((m,v)=>m+v.quantity,0))||e,h=S.useCallback(m=>{m.preventDefault(),t==null||t(a)},[t,a]),g=[{name:"New Arrivals",href:"#new",icon:jf,onClick:()=>{}},{name:"Women",href:"#women",icon:xI,onClick:()=>{}},{name:"Men",href:"#men",icon:yz,onClick:()=>{}},{name:"Sale",href:"#sale",icon:gI,onClick:()=>{}},{name:"About",href:"#about",icon:tv,onClick:()=>n==null?void 0:n()}];return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex h-16 items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("a",{href:"#",className:"text-2xl font-bold text-primary",children:["Rosemama",o.jsx("br",{}),o.jsx("span",{className:"text-xs mt-1 block",children:"CLOTHING"})]})}),o.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:g.map(m=>{const v=m.icon;return o.jsx("button",{onClick:m.onClick,className:"p-2 rounded-md text-foreground hover:text-primary hover:bg-muted transition-colors",title:m.name,"aria-label":m.name,children:o.jsx(v,{className:"h-5 w-5"})},m.name)})}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:o.jsx("form",{onSubmit:h,className:"w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(Dt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 bg-muted/50 border-0 focus:bg-background"})]})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(be,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full hover:bg-muted","aria-label":"Toggle theme",children:c==="dark"?o.jsx(Bf,{className:"h-5 w-5"}):o.jsx(Cm,{className:"h-5 w-5"})}),f&&o.jsx(D1e,{className:"rounded-full hover:bg-muted"}),f&&o.jsx(f1e,{className:"rounded-full hover:bg-muted"}),o.jsxs(be,{variant:"ghost",size:"icon",className:"relative rounded-full hover:bg-muted",children:[o.jsx(Em,{className:"h-5 w-5"}),p>0&&o.jsx(jt,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-primary text-[10px] font-bold",children:p})]}),o.jsx(eZ,{}),o.jsx(be,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted",onClick:r,children:o.jsx(no,{className:"h-5 w-5"})}),o.jsxs(oF,{open:s,onOpenChange:l,children:[o.jsx(ZN,{asChild:!0,children:o.jsx(be,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted",children:o.jsx(fI,{className:"h-5 w-5"})})}),o.jsx(lF,{side:"right",className:"w-[300px] sm:w-[400px]",children:o.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[o.jsx("form",{onSubmit:h,children:o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(Dt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10"})]})}),o.jsx("nav",{className:"flex flex-col space-y-3",children:g.map(m=>{const v=m.icon;return o.jsxs("button",{onClick:()=>{m.onClick(),l(!1)},className:"flex items-center text-lg font-medium text-foreground hover:text-primary transition-colors py-2 text-left",children:[o.jsx(v,{className:"h-5 w-5 mr-3"}),m.name]},m.name)})}),o.jsxs("div",{className:"flex flex-col space-y-3 border-t pt-4",children:[o.jsx(be,{variant:"ghost",className:"justify-start",onClick:u,children:c==="dark"?o.jsxs(o.Fragment,{children:[o.jsx(Bf,{className:"h-4 w-4 mr-2"})," Light mode"]}):o.jsxs(o.Fragment,{children:[o.jsx(Cm,{className:"h-4 w-4 mr-2"})," Dark mode"]})}),o.jsxs(be,{variant:"ghost",className:"justify-start",children:[o.jsx(no,{className:"h-4 w-4 mr-2"}),"Account"]}),o.jsxs(be,{variant:"ghost",className:"justify-start",children:[o.jsx(Em,{className:"h-4 w-4 mr-2"}),"Cart (",p,")"]})]})]})})]})]})]})})})},F1e=S.memo($1e);function B1e({currentPage:t,onPageChange:e}){const{isAdmin:r}=Cn(),{items:n}=Eh(),a=n?n.reduce((s,l)=>s+l.quantity,0):0,i=[{id:"home",label:"Home",icon:fU},{id:"catalog",label:"Shop",icon:to},{id:"cart",label:"Cart",icon:$_,badge:a},{id:"rewards",label:"Rewards",icon:lI},{id:"profile",label:"Profile",icon:no},...r?[{id:"admin",label:"Admin",icon:D_}]:[]];return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-40",children:o.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:i.map(s=>o.jsxs(be,{variant:"ghost",className:`flex-col h-auto p-2 min-w-0 flex-1 ${t===s.id?"text-primary":"text-muted-foreground"}`,onClick:()=>e(s.id),children:[o.jsxs("div",{className:"relative",children:[o.jsx(s.icon,{className:"h-5 w-5"}),s.badge&&s.badge>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-4 w-4 flex items-center justify-center",children:s.badge>9?"9+":s.badge})]}),o.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.id))})})}function q1e(){const{user:t,loading:e}=Cn(),[r,n]=S.useState(null);if(e)return o.jsx("div",{className:"text-center py-12",children:"Loading rewards..."});if(!t)return o.jsx("div",{className:"text-center py-12",children:"Please sign in to view your rewards."});const a=p=>{console.log("User update requested:",p),_e.info("User data is managed globally now.")},i={Bronze:{minPoints:0,color:"bg-orange-600",benefits:["5% cashback","Birthday discount"]},Silver:{minPoints:500,color:"bg-gray-400",benefits:["7% cashback","Free shipping","Early access"]},Gold:{minPoints:1e3,color:"bg-yellow-500",benefits:["10% cashback","Free express shipping","VIP support","Exclusive events"]}},s=t.membershipTier==="Bronze"?"Silver":t.membershipTier==="Silver"?"Gold":null,l=s?i[s].minPoints-t.points:0,c=s?t.points/i[s].minPoints*100:100,u=[{id:"1",name:"$5 Off Next Purchase",cost:100,type:"discount",icon:my},{id:"2",name:"$10 Off Next Purchase",cost:200,type:"discount",icon:my},{id:"3",name:"Free Standard Shipping",cost:50,type:"shipping",icon:Iu},{id:"4",name:"Free Express Shipping",cost:150,type:"shipping",icon:Iu},{id:"5",name:"$25 Off Next Purchase",cost:500,type:"discount",icon:my},{id:"6",name:"Exclusive Access Item",cost:750,type:"access",icon:Xq}],d=[{date:"2024-01-15",type:"earned",points:50,description:"Purchase at Rosemama"},{date:"2024-01-10",type:"earned",points:25,description:"Product Review"},{date:"2024-01-05",type:"redeemed",points:-100,description:"$5 Off Discount Used"},{date:"2024-01-01",type:"earned",points:100,description:"New Year Bonus"}],f=p=>{t.points>=p.cost?(a({...t,points:t.points-p.cost}),_e.success(`${p.name} redeemed successfully!`)):_e.error("Insufficient points to redeem this reward")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards & Membership"}),o.jsx("p",{className:"text-muted-foreground",children:"Earn points with every purchase and unlock exclusive benefits"})]}),o.jsx(Re,{className:"mb-6",children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${i[t.membershipTier].color}`}),o.jsxs("h3",{className:"text-xl font-semibold",children:[t.membershipTier," Member"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.points}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]}),s&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsxs("span",{children:["Progress to ",s]}),o.jsxs("span",{children:[l," points to go"]})]}),o.jsx(Ou,{value:c,className:"h-2"})]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:i[t.membershipTier].benefits.map((p,h)=>o.jsx("div",{className:"text-center p-3 bg-secondary/30 rounded-lg",children:o.jsx("div",{className:"text-sm font-medium",children:p})},h))})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Rewards"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(p=>o.jsx(Re,{className:`cursor-pointer transition-all ${t.points>=p.cost?"hover:shadow-md hover:scale-105":"opacity-60"}`,onClick:()=>t.points>=p.cost&&f(p),children:o.jsxs(Le,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${p.type==="discount"?"bg-green-100":p.type==="shipping"?"bg-blue-100":"bg-purple-100"}`,children:o.jsx(p.icon,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium",children:p.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("span",{className:"text-sm font-medium",children:[p.cost," pts"]}),t.points>=p.cost?o.jsx(jt,{variant:"secondary",className:"text-xs",children:"Available"}):o.jsxs(jt,{variant:"outline",className:"text-xs",children:["Need ",p.cost-t.points," more"]})]})]})]}),o.jsx(be,{className:"w-full",size:"sm",disabled:t.points<p.cost,onClick:h=>{h.stopPropagation(),f(p)},children:t.points>=p.cost?"Redeem":"Insufficient Points"})]})},p.id))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsxs(vt,{className:"flex items-center gap-2",children:[o.jsx(qr,{className:"h-5 w-5"}),"How to Earn Points"]})}),o.jsxs(Le,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Every $1 spent"}),o.jsx("span",{className:"text-sm font-medium",children:"1 point"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Product review"}),o.jsx("span",{className:"text-sm font-medium",children:"25 points"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Birthday bonus"}),o.jsx("span",{className:"text-sm font-medium",children:"100 points"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Referral bonus"}),o.jsx("span",{className:"text-sm font-medium",children:"200 points"})]})]})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Recent Activity"})}),o.jsx(Le,{className:"space-y-3",children:d.map((p,h)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium",children:p.description}),o.jsx("div",{className:"text-xs text-muted-foreground",children:p.date})]}),o.jsxs("div",{className:`text-sm font-medium ${p.type==="earned"?"text-green-600":"text-orange-600"}`,children:[p.type==="earned"?"+":"",p.points]})]},h))})]})]})]}),o.jsx(Qo,{})]})}var rS="Radio",[U1e,NF]=Mn(rS),[z1e,W1e]=U1e(rS),SF=S.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=t,[f,p]=S.useState(null),h=Bt(e,v=>p(v)),g=S.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(z1e,{scope:r,checked:a,disabled:s,children:[o.jsx(it.button,{type:"button",role:"radio","aria-checked":a,"data-state":CF(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:h,onClick:dt(t.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(PF,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});SF.displayName=rS;var AF="RadioIndicator",kF=S.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=W1e(AF,r);return o.jsx(fa,{present:n||i.checked,children:o.jsx(it.span,{"data-state":CF(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});kF.displayName=AF;var H1e="RadioBubbleInput",PF=S.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),l=Bt(s,i),c=c0(r),u=i0(e);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(it.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PF.displayName=H1e;function CF(t){return t?"checked":"unchecked"}var V1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C0="RadioGroup",[G1e,$we]=Mn(C0,[vv,NF]),OF=vv(),EF=NF(),[Y1e,K1e]=G1e(C0),TF=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=t,h=OF(r),g=pd(u),[m,v]=ri({prop:i,defaultProp:a??null,onChange:f,caller:C0});return o.jsx(Y1e,{scope:r,name:n,required:s,disabled:l,value:m,onValueChange:v,children:o.jsx(eL,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:o.jsx(it.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:e})})})});TF.displayName=C0;var IF="RadioGroupItem",RF=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=K1e(IF,r),s=i.disabled||n,l=OF(r),c=EF(r),u=S.useRef(null),d=Bt(e,u),f=i.value===a.value,p=S.useRef(!1);return S.useEffect(()=>{const h=m=>{V1e.includes(m.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),o.jsx(tL,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(SF,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:dt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:dt(a.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});RF.displayName=IF;var X1e="RadioGroupIndicator",LF=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=EF(r);return o.jsx(kF,{...a,...n,ref:e})});LF.displayName=X1e;var Z1e=TF,J1e=RF,Q1e=LF;function ewe({className:t,...e}){return o.jsx(Z1e,{"data-slot":"radio-group",className:qe("grid gap-3",t),...e})}function p2({className:t,...e}){return o.jsx(J1e,{"data-slot":"radio-group-item",className:qe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Q1e,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:o.jsx(T_,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function twe({items:t,user:e,onOrderComplete:r,onBack:n}){const{isGuestCart:a}=Eh(),[i,s]=S.useState({firstName:(e==null?void 0:e.name.split(" ")[0])||"",lastName:(e==null?void 0:e.name.split(" ")[1])||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:"",city:"",state:"",zipCode:"",country:"South Africa"}),[l,c]=S.useState("cash-on-delivery"),[u,d]=S.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[f,p]=S.useState(!1),[h,g]=S.useState({password:"",confirmPassword:""}),[m,v]=S.useState(!1),[x,j]=S.useState(!1),w=t.reduce((T,R)=>T+R.product.price*R.quantity,0),_=m&&e?Math.min(e.points*.01,w*.2):0,N=w>100?0:9.99,A=(w-_)*.08,k=w-_+N+A,O=async T=>{T.preventDefault(),j(!0);try{if(!i.address||!i.city||!i.state||!i.zipCode){_e.error("Please fill in all shipping address fields"),j(!1);return}if(l==="credit-card"&&(!u.cardNumber||!u.expiryDate||!u.cvv)){_e.error("Please fill in all payment details"),j(!1);return}if(!e&&f){if(!h.password||h.password.length<6){_e.error("Password must be at least 6 characters long"),j(!1);return}if(h.password!==h.confirmPassword){_e.error("Passwords do not match"),j(!1);return}}const R={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zipCode:i.zipCode,country:i.country,paymentMethod:l,usePointsDiscount:m,pointsUsed:m&&e?Math.min(e.points,Math.floor(w*20)):0};let P;if(e)P=await UI(R);else{const M={email:i.email,firstName:i.firstName,lastName:i.lastName,phone:i.phone};P=await zI(t,R,M,f,f?h.password:void 0)}if(!P)throw new Error("Failed to create order");try{const M=`${i.firstName} ${i.lastName}`,D=i.email,G=t.map(F=>({id:F.productId,name:F.product.name,image:F.product.images[0]}));await Ez({customerEmail:D,customerName:M,orderId:P.toString(),products:G})}catch(M){console.warn("Failed to send Trustpilot invitations:",M)}a&&localStorage.removeItem("rosemama_guest_cart");let I="Order placed successfully!";!e&&f&&(I+=" Check your email to verify your account for order tracking."),l==="cash-on-delivery"?(I=`Order placed successfully! Pay R${k.toFixed(2)} on delivery.`,!e&&f&&(I+=" Check your email to verify your account.")):l==="bank-transfer"?(I=`Order placed successfully! Please send R${k.toFixed(2)} to our bank account.`,!e&&f&&(I+=" Check your email to verify your account.")):I=`Order placed successfully! Payment processed via ${l}.`,_e.success(I),r()}catch(R){console.error("Order submission failed:",R),_e.error(R instanceof Error?R.message:"Failed to place order. Please try again.")}finally{j(!1)}};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[o.jsxs(be,{variant:"ghost",onClick:n,className:"mb-6",children:[o.jsx(Zg,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),o.jsx("form",{onSubmit:O,children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Shipping Information"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"firstName",children:"First Name"}),o.jsx(Dt,{id:"firstName",value:i.firstName,onChange:T=>s(R=>({...R,firstName:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"lastName",children:"Last Name"}),o.jsx(Dt,{id:"lastName",value:i.lastName,onChange:T=>s(R=>({...R,lastName:T.target.value})),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"email",children:"Email"}),o.jsx(Dt,{id:"email",type:"email",value:i.email,onChange:T=>s(R=>({...R,email:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"phone",children:"Phone"}),o.jsx(Dt,{id:"phone",type:"tel",value:i.phone,onChange:T=>s(R=>({...R,phone:T.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"address",children:"Address"}),o.jsx(Dt,{id:"address",value:i.address,onChange:T=>s(R=>({...R,address:T.target.value})),placeholder:"Street address",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"city",children:"City"}),o.jsx(Dt,{id:"city",value:i.city,onChange:T=>s(R=>({...R,city:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"state",children:"Province"}),o.jsxs(Ma,{value:i.state,onValueChange:T=>s(R=>({...R,state:T})),children:[o.jsx($a,{children:o.jsx(Da,{placeholder:"Select province"})}),o.jsxs(Fa,{children:[o.jsx(We,{value:"EC",children:"Eastern Cape"}),o.jsx(We,{value:"FS",children:"Free State"}),o.jsx(We,{value:"GP",children:"Gauteng"}),o.jsx(We,{value:"KZN",children:"KwaZulu-Natal"}),o.jsx(We,{value:"LP",children:"Limpopo"}),o.jsx(We,{value:"MP",children:"Mpumalanga"}),o.jsx(We,{value:"NC",children:"Northern Cape"}),o.jsx(We,{value:"NW",children:"North West"}),o.jsx(We,{value:"WC",children:"Western Cape"})]})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"zipCode",children:"Postal Code"}),o.jsx(Dt,{id:"zipCode",value:i.zipCode,onChange:T=>s(R=>({...R,zipCode:T.target.value})),required:!0})]})]})]})]}),!e&&o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Account Options"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(S_,{id:"createAccount",checked:f,onCheckedChange:T=>p(T)}),o.jsx(Et,{htmlFor:"createAccount",className:"text-sm",children:"Create an account to track your orders and earn rewards points"})]}),f&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"password",children:"Password"}),o.jsx(Dt,{id:"password",type:"password",value:h.password,onChange:T=>g(R=>({...R,password:T.target.value})),placeholder:"Create a password",required:f})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(Dt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:T=>g(R=>({...R,confirmPassword:T.target.value})),placeholder:"Confirm your password",required:f})]})]})]})]}),o.jsxs(Re,{children:[o.jsx(gt,{children:o.jsx(vt,{children:"Payment Method"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs(ewe,{value:l,onValueChange:c,children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(p2,{value:"cash-on-delivery",id:"cash-on-delivery"}),o.jsxs(Et,{htmlFor:"cash-on-delivery",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx(oU,{className:"h-4 w-4"}),"Cash on Delivery"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(p2,{value:"bank-transfer",id:"bank-transfer"}),o.jsxs(Et,{htmlFor:"bank-transfer",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),"Bank Transfer (Manual Payment)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(p2,{value:"credit-card",id:"credit-card"}),o.jsxs(Et,{htmlFor:"credit-card",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx(I_,{className:"h-4 w-4"}),"Credit/Debit Card"]})]}),l==="bank-transfer"&&o.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[o.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Bank Transfer Details:"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Account Name:"})," CLARA RANYAMA"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bank:"})," FNB"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Account Number:"})," 62804733766"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Branch Code:"})," 250655"]}),o.jsxs("p",{className:"text-blue-600 mt-2",children:[o.jsx("strong",{children:"Reference:"})," Dolls send me proof of payment "]})]})]})]}),l==="credit-card"&&o.jsxs("div",{className:"space-y-4 mt-4 p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"cardNumber",children:"Card Number"}),o.jsx(Dt,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:T=>d(R=>({...R,cardNumber:T.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"expiryDate",children:"Expiry Date"}),o.jsx(Dt,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:T=>d(R=>({...R,expiryDate:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"cvv",children:"CVV"}),o.jsx(Dt,{id:"cvv",placeholder:"123",value:u.cvv,onChange:T=>d(R=>({...R,cvv:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"cardholderName",children:"Cardholder"}),o.jsx(Dt,{id:"cardholderName",placeholder:"Full name",value:u.cardholderName,onChange:T=>d(R=>({...R,cardholderName:T.target.value}))})]})]})]})]})]})]}),o.jsx("div",{children:o.jsxs(Re,{className:"sticky top-24",children:[o.jsx(gt,{children:o.jsx(vt,{children:"Order Summary"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:t.map(T=>o.jsxs("div",{className:"flex gap-3",children:[o.jsx(m8,{src:T.product.images[0],alt:T.product.name,className:"w-12 h-12 object-cover rounded",loading:"eager"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium line-clamp-1",children:T.product.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.size,"  ",T.color,"  Qty ",T.quantity]})]}),o.jsxs("span",{className:"text-sm font-medium",children:["R",(T.product.price*T.quantity).toFixed(2)]})]},`${T.productId}-${T.size}-${T.color}`))}),o.jsx(Jn,{}),e&&e.points>0&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(S_,{id:"use-points",checked:m,onCheckedChange:T=>v(T)}),o.jsxs(Et,{htmlFor:"use-points",className:"text-sm",children:["Use ",Math.min((e==null?void 0:e.points)||0,Math.floor(w*20))," points (save R",_.toFixed(2),")"]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R",w.toFixed(2)]})]}),_>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Points Discount"}),o.jsxs("span",{children:["-R",_.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:N===0?o.jsx("span",{className:"text-green-600",children:"FREE"}):`R${N.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax"}),o.jsxs("span",{children:["R",A.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R",k.toFixed(2)]})]}),o.jsx(be,{type:"submit",className:"w-full",size:"lg",disabled:x,children:x?"Processing...":`Place Order - R${k.toFixed(2)}`}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By placing your order, you agree to our Terms & Conditions and Privacy Policy."})]})]})})]})}),o.jsx(Qo,{})]})}var rwe=(t,e,r,n,a,i,s,l)=>{let c=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(g=>{let m=g==="class",v=m&&i?a.map(x=>i[x]||x):a;m?(c.classList.remove(...v),c.classList.add(i&&i[h]?i[h]:h)):c.setAttribute(g,h)}),f(h)}function f(h){l&&u.includes(h)&&(c.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let h=localStorage.getItem(e)||r,g=s&&h==="system"?p():h;d(g)}catch{}},nwe=S.createContext(void 0),awe={setTheme:t=>{},themes:[]},iwe=()=>{var t;return(t=S.useContext(nwe))!=null?t:awe};S.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,e,i,t,l,s,n,a]).slice(1,-1);return S.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${rwe.toString()})(${d})`}})});const swe=({...t})=>{const{theme:e="system"}=iwe();return o.jsx(_V,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function owe({isOpen:t,mode:e,onClose:r,onLoginSuccess:n,onSignupSuccess:a,onSwitchMode:i,title:s,description:l}){const{signIn:c,signUp:u}=Cn(),[d,f]=S.useState(!1),[p,h]=S.useState(!1),[g,m]=S.useState({email:"",password:"",name:"",confirmPassword:""}),v=(_,N)=>{m(A=>({...A,[_]:N}))},x=async _=>{_.preventDefault(),f(!0);const N=await c(g.email,g.password);f(!1),N?n():_e.error("Login failed. Please check your credentials.")},j=async _=>{if(_.preventDefault(),g.password!==g.confirmPassword){_e.error("Passwords do not match.");return}f(!0);const N=await u(g.email,g.password,g.name);f(!1),N?a():_e.error("Signup failed. Please try again.")},w=_=>{_e.info(`Social login with ${_} is not yet implemented.`)};return o.jsx(Oi,{open:t,onOpenChange:r,children:o.jsxs(ni,{className:"sm:max-w-[425px]",children:[o.jsxs(Ei,{children:[o.jsx(Ti,{children:s||(e==="login"?"Sign In":"Create Account")}),l&&o.jsx(lY,{children:l})]}),o.jsxs(fs,{value:e,onValueChange:_=>i(_),className:"w-full",children:[o.jsxs(hs,{className:"grid w-full grid-cols-2",children:[o.jsx(ur,{value:"login",children:"Login"}),o.jsx(ur,{value:"signup",children:"Sign Up"})]}),o.jsx(dr,{value:"login",children:o.jsxs(Re,{children:[o.jsxs(gt,{children:[o.jsx(vt,{children:"Welcome Back"}),o.jsx(L4,{children:"Enter your credentials to access your account."})]}),o.jsxs(Le,{children:[o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"login-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx($f,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"login-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(py,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"login-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),o.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?o.jsx(y2,{className:"h-4 w-4"}):o.jsx(ti,{className:"h-4 w-4"})})]})]}),o.jsx(be,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]}),o.jsx("div",{className:"mt-4 text-center text-sm",children:o.jsx("a",{href:"#",className:"underline",onClick:()=>_e.info("Password reset coming soon!"),children:"Forgot your password?"})})]})]})}),o.jsx(dr,{value:"signup",children:o.jsxs(Re,{children:[o.jsxs(gt,{children:[o.jsx(vt,{children:"Create an Account"}),o.jsx(L4,{children:"Join us to get the best shopping experience."})]}),o.jsx(Le,{children:o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-name",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(no,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-name",placeholder:"John Doe",required:!0,className:"pl-10",value:g.name,onChange:_=>v("name",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx($f,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(py,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),o.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?o.jsx(y2,{className:"h-4 w-4"}):o.jsx(ti,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(py,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-confirm-password",type:"password",required:!0,className:"pl-10",value:g.confirmPassword,onChange:_=>v("confirmPassword",_.target.value)})]})]}),o.jsx(be,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(be,{variant:"outline",onClick:()=>w("Google"),children:"Google"}),o.jsx(be,{variant:"outline",onClick:()=>w("Facebook"),children:"Facebook"})]})]})})}const lwe={success:Qg,error:Zl,warning:nv,info:tv},cwe={success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800",warning:"border-yellow-200 bg-yellow-50 text-yellow-800",info:"border-blue-200 bg-blue-50 text-blue-800"},uwe={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function dwe({notification:t,onClose:e}){const[r,n]=S.useState(!1),[a,i]=S.useState(!1),s=lwe[t.type];S.useEffect(()=>{n(!0);const c=t.duration||5e3;if(c>0){const u=setTimeout(()=>{l()},c);return()=>clearTimeout(u)}},[t.duration]);const l=()=>{i(!0),setTimeout(()=>{e(t.id)},200)};return o.jsx(Re,{className:`
        ${cwe[t.type]}
        border shadow-lg transition-all duration-200 mb-2
        ${r&&!a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${a?"translate-x-full opacity-0":""}
      `,children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(s,{className:`h-5 w-5 mt-0.5 ${uwe[t.type]}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm",children:t.title}),o.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.action&&o.jsx(be,{size:"sm",variant:"ghost",className:"mt-2 h-8 px-2 text-xs",onClick:t.action.onClick,children:t.action.label})]}),o.jsx(be,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",onClick:l,children:o.jsx(Zs,{className:"h-4 w-4"})})]})})})}const fwe=K.createContext(null);function hwe({children:t,position:e="top-right",maxToasts:r=5}){const[n,a]=S.useState([]),i=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),s=m=>{const v=i(),x={...m,id:v};a(j=>[x,...j].slice(0,r))},l=(m,v="",x)=>{s({title:m,message:v,type:"success",action:x})},c=(m,v="",x)=>{s({title:m,message:v,type:"error",action:x,duration:8e3})},u=(m,v="",x)=>{s({title:m,message:v,type:"warning",action:x,duration:6e3})},d=(m,v="",x)=>{s({title:m,message:v,type:"info",action:x})},f=m=>{a(v=>v.filter(x=>x.id!==m))},p=()=>{a([])},h=()=>{switch(e){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},g={showToast:s,showSuccess:l,showError:c,showWarning:u,showInfo:d,dismissToast:f,dismissAll:p};return o.jsxs(fwe.Provider,{value:g,children:[t,o.jsx("div",{className:`fixed z-50 ${h()} w-80 max-w-sm pointer-events-none`,style:{maxHeight:"90vh",overflowY:"auto"},children:o.jsx("div",{className:"space-y-2 pointer-events-auto",children:n.map(m=>o.jsx(dwe,{notification:m,onClose:f},m.id))})})]})}const pwe=()=>{const[t,e]=S.useState([]),[r,n]=S.useState(!0),[a,i]=S.useState(null);S.useEffect(()=>{(async()=>{try{n(!0);const{data:u,error:d}=await Ce.from("products").select("id, name, image_url, images").limit(5);if(d)throw d;console.log(" Raw Supabase products data:",u),e(u||[])}catch(u){console.error(" Error fetching products:",u),i(u instanceof Error?u.message:"Unknown error")}finally{n(!1)}})()},[]);const s=async c=>{try{const u=await fetch(c,{method:"HEAD"});return{url:c,status:u.status,ok:u.ok,statusText:u.statusText}}catch(u){return{url:c,status:0,ok:!1,statusText:u instanceof Error?u.message:"Network error"}}},l=async c=>{console.log(" Testing URL:",c);const u=await s(c);console.log(" URL Test Result:",u),alert(`URL: ${c}
Status: ${u.status}
OK: ${u.ok}
Message: ${u.statusText}`)};return r?o.jsx("div",{className:"p-4",children:"Loading products for debugging..."}):a?o.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",a]}):o.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Image URL Debugger"}),o.jsx("div",{className:"space-y-4",children:t.map(c=>o.jsxs("div",{className:"border p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold",children:c.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",c.id]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h4",{className:"font-medium",children:"Raw Data:"}),o.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify({image_url:c.image_url,images:c.images},null,2)})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h4",{className:"font-medium",children:"Generated URLs:"}),o.jsxs("div",{className:"space-y-2",children:[c.image_url&&o.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"From image_url:"}),c.image_url.startsWith("/images/")?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Path with /images/ prefix  Storage URL"}),o.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images",c.image_url]})]}):c.image_url.startsWith("http")?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Full HTTP URL"}),o.jsxs("button",{onClick:()=>l(c.image_url),className:"text-blue-600 underline text-sm",children:["Test: ",c.image_url]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Storage path  Full URL"}),o.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/",c.image_url]})]})]}),c.images&&Array.isArray(c.images)&&c.images.length>0&&o.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"From images array:"}),c.images.map((u,d)=>o.jsx("div",{className:"mt-1",children:o.jsxs("button",{onClick:()=>l(typeof u=="string"?u:String(u)),className:"text-green-600 underline text-sm block",children:["Test [",d,"]: ",typeof u=="string"?u:String(u)]})},d))]})]})]})]},c.id))}),o.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-yellow-800",children:" Instructions:"}),o.jsxs("ol",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[o.jsx("li",{children:'1. Click on the "Test:" links to check if image URLs are accessible'}),o.jsx("li",{children:"2. Check the browser network tab for detailed error responses"}),o.jsx("li",{children:"3. Check the console for raw data structure"}),o.jsx("li",{children:"4. Compare expected URLs vs actual storage structure"})]})]})]})};function mwe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a,loading:i}=Oh(),[s,l]=S.useState("featured"),[c,u]=S.useState("grid"),[d,f]=S.useState(new Set),p=S.useMemo(()=>{let g=[...a];switch(t&&(g=g.filter(m=>m.name.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(g=g.filter(m=>m.category===e)),s){case"price-low":g=g.sort((m,v)=>m.price-v.price);break;case"price-high":g=g.sort((m,v)=>v.price-m.price);break;case"rating":g=g.sort((m,v)=>v.rating-m.rating);break}return g},[a,t,e,s]),h=g=>{const m=new Set(d);m.has(g)?m.delete(g):m.add(g),f(m)};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:e==="All"?"All Products":e}),o.jsxs("p",{className:"text-muted-foreground",children:[p.length," products found"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"hidden md:flex border rounded-lg p-1",children:[o.jsx(be,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),children:o.jsx(ev,{className:"h-4 w-4"})}),o.jsx(be,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),children:o.jsx(rv,{className:"h-4 w-4"})})]}),o.jsxs("select",{value:s,onChange:g=>l(g.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[o.jsx("option",{value:"featured",children:"Featured"}),o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"rating",children:"Highest Rated"})]}),o.jsxs(be,{variant:"outline",size:"sm",children:[o.jsx(Df,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),o.jsx("div",{className:c==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24":"space-y-4 pb-24",children:p.map(g=>o.jsx(Re,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 ${c==="list"?"flex":"flex flex-col h-full"}`,onClick:()=>r(g),children:o.jsxs(Le,{className:`p-0 ${c==="grid"?"flex flex-col h-full":""}`,children:[o.jsxs("div",{className:`relative overflow-hidden ${c==="list"?"w-32 flex-shrink-0":"rounded-t-lg flex-shrink-0"}`,children:[o.jsx(K$,{images:g.images,name:g.name,className:c==="list"?"w-32 h-32":"w-full aspect-[4/3]",priority:!0}),o.jsx(be,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:m=>{m.stopPropagation(),h(g.id)},children:o.jsx(Go,{className:`h-4 w-4 ${d.has(g.id)?"fill-red-500 text-red-500":""}`})}),g.originalPrice&&g.originalPrice!==g.price&&o.jsxs(jt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:[Math.round((g.originalPrice-g.price)/g.originalPrice*100),"% OFF"]})]}),o.jsxs("div",{className:`space-y-2 ${c==="list"?"p-4 flex-1":"p-4 flex-1 flex flex-col justify-between"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h4",{className:"font-medium line-clamp-2 flex-1 min-w-0",children:g.name}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[g.images.length>1&&o.jsxs("div",{className:"flex gap-0.5 max-w-[60px] flex-wrap",children:[g.images.slice(0,5).map((m,v)=>o.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-gray-300 flex-shrink-0",style:{minWidth:"20px",minHeight:"20px"},children:o.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover",loading:"lazy"})},v)),g.images.length>5&&o.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border border-gray-300 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-[8px] text-gray-600 font-bold leading-none",children:"+"})})]}),!g.inStock&&o.jsx(jt,{variant:"secondary",className:"text-xs ml-1",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.rating," (",g.reviews.length,")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold",children:["R",g.price]}),g.originalPrice&&g.originalPrice!==g.price&&o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",g.originalPrice]})]}),o.jsxs("div",{className:"flex gap-1",children:[g.colors.slice(0,4).map(m=>o.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-gray-300 ${m.toLowerCase()==="black"?"bg-black":m.toLowerCase()==="white"?"bg-white":m.toLowerCase()==="gray"?"bg-gray-400":m.toLowerCase()==="navy"?"bg-blue-900":m.toLowerCase()==="brown"?"bg-amber-800":m.toLowerCase()==="beige"?"bg-amber-100":m.toLowerCase()==="pink"?"bg-pink-400":m.toLowerCase()==="blue"?"bg-blue-500":m.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`},m)),g.colors.length>4&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.colors.length-4]})]})]})]})},g.id))}),p.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),o.jsx(be,{onClick:()=>n("All"),children:"Clear filters"})]}),o.jsx(Qo,{})]})}function gwe(){const{user:t,isAdmin:e}=Cn(),{products:r}=Oh(),{items:n,addItem:a,updateItemQuantity:i,removeItem:s,fetchCart:l}=Eh(),[c,u]=S.useState("home"),[d,f]=S.useState(null),[p,h]=S.useState(""),[g,m]=S.useState("All"),[v,x]=S.useState(!1),[j,w]=S.useState("about"),[_,N]=S.useState({mode:"login",title:"Sign In Required",description:"Please sign in to continue"}),A=(B,X,J)=>{t?B():(N({mode:"login",title:X||"Sign In Required",description:J||"Please sign in to continue"}),x(!0))},k=B=>{f(B),u("product")},O=B=>{m(B),u("catalog")},T=()=>{A(()=>u("checkout"),"Checkout","Please sign in to proceed with your order.")},R=()=>{A(()=>u("profile"),"My Account","Please sign in to view your profile.")},P=()=>{A(()=>u("rewards"),"My Rewards","Please sign in to view your rewards.")},I=()=>{x(!1),_e.success("Welcome back!"),_.title.includes("Checkout")?u("checkout"):_.title.includes("Profile")?u("profile"):_.title.includes("Rewards")&&u("rewards")},M=B=>{const X=B;["profile","rewards","admin"].includes(X)?(X==="profile"&&R(),X==="rewards"&&P(),X==="admin"&&e&&u("admin")):u(X)},D=async(B,X,J,ie)=>{if(console.log("handleUpdateQuantity called:",{productId:B,size:X,color:J,quantity:ie}),n.find(W=>W.productId===B&&W.size===X&&W.color===J)){const W=`${B}|${X}|${J}`;console.log("Updating item with identifier:",W,"to quantity:",ie);const H=await i(W,ie);console.log("Update result:",H),H||_e.error("Failed to update item quantity")}else console.log("Item not found in cart for quantity update"),_e.error("Item not found in cart")},G=async(B,X,J)=>{console.log("handleRemoveItem called:",{productId:B,size:X,color:J});const ie=n.find($=>$.productId===B&&$.size===X&&$.color===J);if(console.log("Found cart item:",ie),console.log("Current items:",n),ie){const $=`${B}|${X}|${J}`;console.log("Removing item with identifier:",$);const W=await s($);console.log("Remove result:",W),W||_e.error("Failed to remove item from cart")}else console.log("Item not found in cart"),_e.error("Item not found in cart")},F=B=>{w(B),u("info")},q=()=>{switch(c){case"home":return o.jsx(h8,{onViewProduct:k,onNavigateToCategory:O});case"catalog":return o.jsx(mwe,{searchQuery:p,selectedCategory:g,onViewProduct:k,onCategoryChange:m});case"product":return d?o.jsx(jV,{product:d,onBack:()=>u("catalog"),onAddToCart:a}):null;case"cart":return o.jsx(SV,{items:n,onUpdateQuantity:D,onRemoveItem:G,onProceedToCheckout:T,onContinueShopping:()=>u("catalog")});case"checkout":return o.jsx(twe,{user:t,items:n,onOrderComplete:()=>{u("home"),_e.success("Order placed successfully!")},onBack:()=>u("cart")});case"profile":return t?e?o.jsx(tF,{}):o.jsx(tZ,{onLogout:()=>{},onNavigateToInfo:F}):null;case"rewards":return t?o.jsx(q1e,{}):null;case"admin":return e?o.jsx(Zbe,{}):null;case"info":return o.jsx(u1e,{onBack:()=>u("home"),initialPage:j});case"debug":return o.jsx(pwe,{});default:return null}};return o.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[o.jsx(F1e,{onSearch:h,onProfileClick:R,onInfoClick:()=>{w("about"),u("info")}}),o.jsx("main",{className:"flex-1 pb-28 md:pb-4",children:q()}),o.jsx(p1e,{onInfoClick:B=>{w(B),u("info")}}),o.jsx(B1e,{currentPage:c,onPageChange:M}),o.jsx(owe,{isOpen:v,mode:_.mode,onClose:()=>x(!1),onLoginSuccess:I,onSignupSuccess:I,title:_.title,description:_.description,onSwitchMode:B=>N(X=>({...X,mode:B}))}),o.jsx(h1e,{}),o.jsx(swe,{})]})}function vwe(){return o.jsx(qH,{children:o.jsx(BH,{children:o.jsx(UH,{children:o.jsx(Gbe,{children:o.jsx(g1e,{children:o.jsx(hwe,{position:"top-right",maxToasts:5,children:o.jsx(gwe,{})})})})})})})}function ywe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a}=Oh(),{user:i}=Cn(),{addItem:s}=Eh(),[l,c]=S.useState("featured"),[u,d]=S.useState("grid"),[f,p]=S.useState(new Set),[h,g]=S.useState([0,500]),[m,v]=S.useState([]),[x,j]=S.useState(!1),w=[...new Set(a.flatMap(R=>R.colors))],_=async R=>{try{console.log(" ProductCatalog: Adding product to cart:",R.id,R.name);const P="M",I=R.colors[0]||"Default";await s(R,P,I,1)?console.log(" ProductCatalog: Product added to cart successfully"):console.error(" ProductCatalog: Failed to add product to cart")}catch(P){console.error(" ProductCatalog: Error adding product to cart:",P)}},N=R=>{console.log(" ProductCatalog: Viewing product details:",R.id,R.name),r(R)},A=R=>{console.log(" ProductCatalog: Toggling wishlist for product:",R.id,R.name),p(P=>{const I=new Set(P);return I.has(R.id)?(I.delete(R.id),console.log(" ProductCatalog: Removed from wishlist")):(I.add(R.id),console.log(" ProductCatalog: Added to wishlist")),I})},k=S.useMemo(()=>{let R=[...a];switch(t&&(R=R.filter(P=>P.name.toLowerCase().includes(t.toLowerCase())||P.category.toLowerCase().includes(t.toLowerCase())||P.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(R=R.filter(P=>P.category===e)),R=R.filter(P=>P.price>=h[0]&&P.price<=h[1]),m.length>0&&(R=R.filter(P=>m.some(I=>P.colors.includes(I)))),l){case"price-low":R.sort((P,I)=>P.price-I.price);break;case"price-high":R.sort((P,I)=>I.price-P.price);break;case"rating":R.sort((P,I)=>I.rating-P.rating);break;case"newest":R.sort((P,I)=>parseInt(I.id)-parseInt(P.id));break}return R},[a,t,e,l,h,m]),O=R=>{const P=new Set(f);P.has(R)?P.delete(R):P.add(R),p(P)},T=()=>{g([0,500]),v([]),n("All")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e==="All"?"All Products":e}),o.jsxs("p",{className:"text-muted-foreground",children:[k.length," products found"]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"border rounded-lg p-1",children:[o.jsx(be,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),children:o.jsx(ev,{className:"h-4 w-4"})}),o.jsx(be,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),children:o.jsx(rv,{className:"h-4 w-4"})})]}),o.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[o.jsx("option",{value:"featured",children:"Featured"}),o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"rating",children:"Highest Rated"})]}),o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>j(!x),className:x?"bg-primary/10":"",children:[o.jsx(Df,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),x&&o.jsx(Re,{className:"mb-6",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium mb-3 block",children:"Price Range"}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Dt,{type:"number",placeholder:"Min",value:h[0],onChange:R=>g([Number(R.target.value),h[1]]),className:"w-20"}),o.jsx("span",{className:"self-center",children:"-"}),o.jsx(Dt,{type:"number",placeholder:"Max",value:h[1],onChange:R=>g([h[0],Number(R.target.value)]),className:"w-20"})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium mb-3 block",children:"Colors"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:w.slice(0,8).map(R=>o.jsx("button",{onClick:()=>v(P=>P.includes(R)?P.filter(I=>I!==R):[...P,R]),className:`px-3 py-1 text-xs border rounded-full transition-colors ${m.includes(R)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:R},R))})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs(be,{onClick:T,variant:"outline",children:[o.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Clear All"]}),o.jsx(be,{onClick:()=>j(!1),children:"Apply"})]})]})})}),k.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(to,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),o.jsx(be,{onClick:T,children:"Clear all filters"})]}):o.jsx("div",{className:`grid gap-6 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:k.map(R=>{var P;return console.log(" ProductCatalog: Rendering product:",{id:R.id,name:R.name,price:R.price,originalPrice:R.originalPrice,category:R.category,imageCount:((P=R.images)==null?void 0:P.length)||0,rating:R.rating,colors:R.colors,inStock:R.inStock,viewMode:u}),u==="list"?o.jsx(Re,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 flex \r
                           bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                           border border-border dark:border-border/50`,onClick:()=>r(R),children:o.jsxs(Le,{className:"p-0 flex",children:[o.jsxs("div",{className:"relative overflow-hidden w-60 flex-shrink-0",children:[o.jsx(K$,{images:R.images,name:R.name,className:"w-60 h-60",priority:!0}),o.jsx(be,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 bg-background/80 backdrop-blur-sm \r
                                hover:bg-background dark:bg-card/80 dark:hover:bg-card`,onClick:I=>{I.stopPropagation(),O(R.id)},children:o.jsx(Go,{className:`h-4 w-4 ${f.has(R.id)?"fill-red-500 text-red-500":"text-foreground"}`})}),R.originalPrice&&o.jsx(jt,{className:"absolute top-2 left-2 bg-rose-500 text-white dark:bg-rose-600 dark:text-white",children:"Sale"}),!R.inStock&&o.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium px-3 py-1 bg-black/40 backdrop-blur-sm rounded",children:"Out of Stock"})})]}),o.jsxs("div",{className:"p-6 flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(jt,{variant:"secondary",className:"text-xs bg-secondary/80 text-secondary-foreground",children:R.category}),!R.inStock&&o.jsx(jt,{variant:"outline",className:"text-xs text-rose-500 dark:text-rose-400 border-rose-200 dark:border-rose-800",children:"Out of Stock"})]}),o.jsx("h4",{className:"font-semibold text-lg line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:R.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((I,M)=>o.jsx(qr,{className:`h-4 w-4 ${M<Math.floor(R.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},M))}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.rating," (",R.reviews.length,")"]})]}),o.jsxs("div",{className:"flex gap-1",children:[R.colors.slice(0,4).map(I=>o.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${I.toLowerCase()==="black"?"bg-black border-gray-300 dark:border-gray-600":I.toLowerCase()==="white"?"bg-white border-gray-400":I.toLowerCase()==="gray"?"bg-gray-400 border-gray-500":I.toLowerCase()==="navy"?"bg-blue-900 border-blue-800":I.toLowerCase()==="brown"?"bg-amber-800 border-amber-700":I.toLowerCase()==="beige"?"bg-amber-100 border-amber-200":I.toLowerCase()==="pink"?"bg-pink-400 border-pink-500":I.toLowerCase()==="blue"?"bg-blue-500 border-blue-600":I.toLowerCase()==="red"?"bg-red-500 border-red-600":"bg-green-500 border-green-600"}`,title:I},I)),R.colors.length>4&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",R.colors.length-4]})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[o.jsxs("span",{className:"font-bold text-lg text-foreground",children:["R",R.price]}),R.originalPrice&&o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",R.originalPrice]})]})]})]})},R.id):o.jsx("div",{children:o.jsx(x2,{product:R,layout:"enhanced",showQuickActions:!0,onAddToCart:_,onViewDetails:N,onToggleWishlist:A,className:`shadow-md hover:shadow-xl transition-shadow duration-300\r
                               bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                               border border-border dark:border-border/50`})},R.id)})}),k.length>12&&o.jsx("div",{className:"text-center mt-8",children:o.jsx(be,{variant:"outline",size:"lg",children:"Load More Products"})})]})}const xwe=jB([{path:"/",element:o.jsx(vwe,{}),children:[{index:!0,element:o.jsx(h8,{onViewProduct:()=>{},onNavigateToCategory:()=>{}})},{path:"products",element:o.jsx(ywe,{searchQuery:"",selectedCategory:"All",onViewProduct:()=>{},onCategoryChange:()=>{}})}]}],{basename:"/"});PB.createRoot(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(NB,{router:xwe})}));export{fr as _};
