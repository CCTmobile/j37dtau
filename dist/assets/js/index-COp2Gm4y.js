const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-DM0xdYGi.js","assets/js/vendor-CC_ZIGTP.js","assets/js/router-BAGLiJ1d.js"])))=>i.map(i=>d[i]);
var dB=Object.defineProperty;var fB=(t,e,r)=>e in t?dB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zt=(t,e,r)=>fB(t,typeof e!="symbol"?e+"":e,r);import{r as FT,a as hB,b as pB,g as dr,c as _p}from"./vendor-CC_ZIGTP.js";import{r as S,a as Hg,R as K,b as BT,c as qT,d as mB,e as gB}from"./router-BAGLiJ1d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var iy={exports:{}},ef={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function vB(){if(US)return ef;US=1;var t=FT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:h,props:f,_owner:a.current}}return ef.Fragment=r,ef.jsx=s,ef.jsxs=s,ef}var zS;function yB(){return zS||(zS=1,iy.exports=vB()),iy.exports}var o=yB(),jp={},WS;function xB(){if(WS)return jp;WS=1;var t=hB();return jp.createRoot=t.createRoot,jp.hydrateRoot=t.hydrateRoot,jp}var bB=xB();function HS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UT(...t){return e=>{let r=!1;const n=t.map(a=>{const i=HS(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():HS(t[a],null)}}}}function Bt(...t){return S.useCallback(UT(...t),t)}function Yl(t){const e=wB(t),r=S.forwardRef((n,a)=>{const{children:i,...s}=n,l=S.Children.toArray(i),c=l.find(jB);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...s,ref:a,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return o.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var zT=Yl("Slot");function wB(t){const e=S.forwardRef((r,n)=>{const{children:a,...i}=r;if(S.isValidElement(a)){const s=SB(a),l=NB(i,a.props);return a.type!==S.Fragment&&(l.ref=n?UT(n,s):s),S.cloneElement(a,l)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var WT=Symbol("radix.slottable");function _B(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=WT,e}function jB(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WT}function NB(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function SB(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function HT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=HT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=HT(t))&&(n&&(n+=" "),n+=e);return n}const VS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,GS=Rt,N_=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return GS(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=VS(d)||VS(f);return a[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,p]:u},[]);return GS(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},S_="-",AB=t=>{const e=PB(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(S_);return l[0]===""&&l.length!==1&&l.shift(),VT(l,e)||kB(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},VT=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?VT(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(S_);return(s=e.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},YS=/^\[(.+)\]$/,kB=t=>{if(YS.test(t)){const e=YS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},PB=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)c2(r[a],n,a,e);return n},c2=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:KS(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(CB(a)){c2(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{c2(s,KS(e,i),r,n)})})},KS=(t,e)=>{let r=t;return e.split(S_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},CB=t=>t.isThemeGetter,OB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},u2="!",d2=":",EB=d2.length,TB=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let s=0,l=0,c=0,u;for(let g=0;g<a.length;g++){let m=a[g];if(s===0&&l===0){if(m===d2){i.push(a.slice(c,g)),c=g+EB;continue}if(m==="/"){u=g;continue}}m==="["?s++:m==="]"?s--:m==="("?l++:m===")"&&l--}const d=i.length===0?a:a.substring(c),f=IB(d),p=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const a=e+d2,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},IB=t=>t.endsWith(u2)?t.substring(0,t.length-1):t.startsWith(u2)?t.substring(1):t,RB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||e[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},LB=t=>({cache:OB(t.cacheSize),parseClassName:TB(t),sortModifiers:RB(t),...AB(t)}),MB=/\s+/,DB=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,s=[],l=t.trim().split(MB);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=n(g),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const j=i(p).join(":"),w=h?j+u2:j,_=w+x;if(s.includes(_))continue;s.push(_);const N=a(x,v);for(let A=0;A<N.length;++A){const k=N[A];s.push(w+k)}c=d+(c.length>0?" "+c:c)}return c};function $B(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=GT(e))&&(n&&(n+=" "),n+=r);return n}const GT=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=GT(t[n]))&&(r&&(r+=" "),r+=e);return r};function FB(t,...e){let r,n,a,i=s;function s(c){const u=e.reduce((d,f)=>f(d),t());return r=LB(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=DB(c,r);return a(c,d),d}return function(){return i($B.apply(null,arguments))}}const mn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},YT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BB=/^\d+\/\d+$/,qB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,WB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dc=t=>BB.test(t),Ut=t=>!!t&&!Number.isNaN(Number(t)),jo=t=>!!t&&Number.isInteger(Number(t)),sy=t=>t.endsWith("%")&&Ut(t.slice(0,-1)),Ts=t=>qB.test(t),VB=()=>!0,GB=t=>UB.test(t)&&!zB.test(t),XT=()=>!1,YB=t=>WB.test(t),KB=t=>HB.test(t),XB=t=>!Xe(t)&&!Ze(t),ZB=t=>cd(t,QT,XT),Xe=t=>YT.test(t),wl=t=>cd(t,eI,GB),oy=t=>cd(t,rq,Ut),XS=t=>cd(t,ZT,XT),JB=t=>cd(t,JT,KB),Np=t=>cd(t,tI,YB),Ze=t=>KT.test(t),tf=t=>ud(t,eI),QB=t=>ud(t,nq),ZS=t=>ud(t,ZT),eq=t=>ud(t,QT),tq=t=>ud(t,JT),Sp=t=>ud(t,tI,!0),cd=(t,e,r)=>{const n=YT.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},ud=(t,e,r=!1)=>{const n=KT.exec(t);return n?n[1]?e(n[1]):r:!1},ZT=t=>t==="position"||t==="percentage",JT=t=>t==="image"||t==="url",QT=t=>t==="length"||t==="size"||t==="bg-size",eI=t=>t==="length",rq=t=>t==="number",nq=t=>t==="family-name",tI=t=>t==="shadow",aq=()=>{const t=mn("color"),e=mn("font"),r=mn("text"),n=mn("font-weight"),a=mn("tracking"),i=mn("leading"),s=mn("breakpoint"),l=mn("container"),c=mn("spacing"),u=mn("radius"),d=mn("shadow"),f=mn("inset-shadow"),p=mn("text-shadow"),h=mn("drop-shadow"),g=mn("blur"),m=mn("perspective"),v=mn("aspect"),x=mn("ease"),j=mn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[..._(),Ze,Xe],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],E=()=>[Ze,Xe,c],I=()=>[Dc,"full","auto",...E()],L=()=>[jo,"none","subgrid",Ze,Xe],C=()=>["auto",{span:["full",jo,Ze,Xe]},jo,Ze,Xe],O=()=>[jo,"auto",Ze,Xe],R=()=>["auto","min","max","fr",Ze,Xe],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...E()],G=()=>[Dc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],F=()=>[t,Ze,Xe],ae=()=>[..._(),ZS,XS,{position:[Ze,Xe]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",eq,ZB,{size:[Ze,Xe]}],$=()=>[sy,tf,wl],U=()=>["","none","full",u,Ze,Xe],z=()=>["",Ut,tf,wl],J=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Ut,sy,ZS,XS],de=()=>["","none",g,Ze,Xe],ie=()=>["none",Ut,Ze,Xe],he=()=>["none",Ut,Ze,Xe],ge=()=>[Ut,Ze,Xe],ue=()=>[Dc,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ts],breakpoint:[Ts],color:[VB],container:[Ts],"drop-shadow":[Ts],ease:["in","out","in-out"],font:[XB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ts],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ts],shadow:[Ts],spacing:["px",Ut],text:[Ts],"text-shadow":[Ts],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dc,Xe,Ze,v]}],container:["container"],columns:[{columns:[Ut,Xe,Ze,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[jo,"auto",Ze,Xe]}],basis:[{basis:[Dc,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ut,Dc,"auto","initial","none",Xe]}],grow:[{grow:["",Ut,Ze,Xe]}],shrink:[{shrink:["",Ut,Ze,Xe]}],order:[{order:[jo,"first","last","none",Ze,Xe]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",r,tf,wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ze,oy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sy,Xe]}],"font-family":[{font:[QB,Xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ze,Xe]}],"line-clamp":[{"line-clamp":[Ut,"none",Ze,oy]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",Ze,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ze,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ut,"from-font","auto",Ze,wl]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ut,"auto",Ze,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jo,Ze,Xe],radial:["",Ze,Xe],conic:[jo,Ze,Xe]},tq,JB]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ut,Ze,Xe]}],"outline-w":[{outline:["",Ut,tf,wl]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,Sp,Np]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",f,Sp,Np]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ut,wl]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",p,Sp,Np]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ut,Ze,Xe]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ze,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ze,Xe]}],filter:[{filter:["","none",Ze,Xe]}],blur:[{blur:de()}],brightness:[{brightness:[Ut,Ze,Xe]}],contrast:[{contrast:[Ut,Ze,Xe]}],"drop-shadow":[{"drop-shadow":["","none",h,Sp,Np]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ut,Ze,Xe]}],"hue-rotate":[{"hue-rotate":[Ut,Ze,Xe]}],invert:[{invert:["",Ut,Ze,Xe]}],saturate:[{saturate:[Ut,Ze,Xe]}],sepia:[{sepia:["",Ut,Ze,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ze,Xe]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Ut,Ze,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Ut,Ze,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ut,Ze,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ut,Ze,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Ut,Ze,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Ut,Ze,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Ut,Ze,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ut,Ze,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ze,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ut,"initial",Ze,Xe]}],ease:[{ease:["linear","initial",x,Ze,Xe]}],delay:[{delay:[Ut,Ze,Xe]}],animate:[{animate:["none",j,Ze,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ze,Xe]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[Ze,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze,Xe]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ut,tf,wl,oy]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iq=FB(aq);function qe(...t){return iq(Rt(t))}const Rf=N_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),we=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?zT:"button";return o.jsx(s,{"data-slot":"button",className:qe(Rf({variant:e,size:r,className:t})),ref:i,...a})});we.displayName="Button";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),JS=t=>{const e=oq(t);return e.charAt(0).toUpperCase()+e.slice(1)},rI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>S.createElement("svg",{ref:c,...lq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:rI("lucide",a),...l},[...s.map(([u,d])=>S.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=S.forwardRef(({className:n,...a},i)=>S.createElement(cq,{ref:i,iconNode:e,className:rI(`lucide-${sq(JS(t))}`,`lucide-${t}`,n),...a}));return r.displayName=JS(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dq=De("activity",uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ql=De("archive",fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vg=De("arrow-left",hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],mq=De("at-sign",pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nI=De("award",gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ml=De("bell",vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gg=De("calendar",yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],QS=De("chart-column",xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],wq=De("chart-pie",bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yg=De("check",_q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],A_=De("chevron-down",jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aI=De("chevron-left",Nq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nm=De("chevron-right",Sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kq=De("chevron-up",Aq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kl=De("circle-alert",Pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nh=De("circle-check-big",Cq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k_=De("circle-help",Oq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iI=De("circle",Eq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],xu=De("clock",Tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Rq=De("copy",Iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],P_=De("credit-card",Lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],e4=De("crop",Mq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$q=De("crown",Dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bq=De("dollar-sign",Fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],sI=De("download",qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zq=De("external-link",Uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],f2=De("eye-off",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xa=De("eye",Hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vs=De("file-text",Vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lf=De("funnel",Gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Kq=De("gift",Yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Kg=De("grid-3x3",Xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Uo=De("heart",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ly=De("history",Jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],eU=De("house",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xg=De("info",tU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],t4=De("key",rU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Zg=De("list",nU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Va=De("loader-circle",aU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cy=De("lock",iU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],oI=De("log-out",sU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mf=De("mail",oU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],C_=De("map-pin",lU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],lI=De("menu",cU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ka=De("message-circle",uU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],dm=De("message-square",dU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M5 12h14",key:"1ays0h"}]],cI=De("minus",fU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pU=De("monitor",hU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],h2=De("moon",mU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fo=De("package",gU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],O_=De("palette",vU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],xU=De("pen-line",yU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],uy=De("percent",bU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],E_=De("phone",wU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ul=De("plus",_U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uI=De("printer",jU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zl=De("refresh-cw",NU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],r4=De("reply",SU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Xl=De("rotate-ccw",AU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],T_=De("ruler",kU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sm=De("save",PU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zs=De("search",CU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dI=De("send",OU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I_=De("settings",EU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],IU=De("share-2",TU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Us=De("shield",RU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],R_=De("shopping-bag",LU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Am=De("shopping-cart",MU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fI=De("sparkles",DU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],L_=De("square-pen",$U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vr=De("star",FU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],p2=De("sun",BU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],hI=De("tag",qU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zU=De("target",UU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],HU=De("thumbs-down",WU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],pI=De("thumbs-up",VU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dc=De("trash-2",GU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Eu=De("trending-up",YU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jg=De("triangle-alert",KU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Tu=De("truck",XU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],JU=De("upload",ZU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ez=De("user-check",QU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Js=De("user",tz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],mI=De("users",rz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gs=De("x",nz),az=({images:t,alt:e,className:r="",aspectRatio:n="3/1",showNavigation:a=!0,autoSlide:i=!1,autoSlideInterval:s=3e3})=>{const[l,c]=S.useState(0),[u,d]=S.useState(new Set),[f,p]=S.useState(!0),h=()=>{const N=["/images/summer-floral-dress.jpg","/images/evening-gown.jpg","/images/denim-jacket.jpg","/images/ankle-boots.jpg"];return[N[Math.floor(Math.random()*N.length)]]},g=t.filter((N,A)=>!u.has(A)),m=g.length===0?h():g,v=m[l]||m[0];S.useEffect(()=>{u.size>0&&console.log("🖼️ ImageCarousel Debug:",{totalImages:t.length,currentIndex:l,imageErrors:Array.from(u),autoSlide:i,aspectRatio:n})},[l,t.length,u,i,n]),S.useEffect(()=>{if(!i||m.length<=1)return;const N=setInterval(()=>{c(A=>{const k=(A+1)%m.length;return console.log("🔄 Auto-slide: Moving to image",k),k})},s);return()=>clearInterval(N)},[i,m.length,s]);const x=()=>{const N=l===0?m.length-1:l-1;console.log("⬅️ Navigation: Previous clicked, moving to index",N),c(N)},j=()=>{const N=(l+1)%m.length;console.log("➡️ Navigation: Next clicked, moving to index",N),c(N)},w=N=>{const A=t[N];console.error("❌ Image Loading Error: Failed to load image at index",N,"URL:",A),A&&console.log("🔍 URL Analysis:",{isDataUrl:A.startsWith("data:"),isHttps:A.startsWith("https:"),isSupabase:A.includes("supabase.co"),urlLength:A.length,urlPreview:A.substring(0,100)+(A.length>100?"...":"")}),d(k=>new Set([...k,N])),console.log("🔄 Fallback triggered for image",N,"- switching to fallback images")},_=N=>{console.log("✅ Image Loaded Successfully: Index",N,"URL:",t[N]),N===l&&p(!1)};return m.length===0?(console.warn("⚠️ ImageCarousel Warning: No valid images or fallbacks available"),o.jsx("div",{className:`flex items-center justify-center bg-gray-100 w-full h-full ${r}`,children:o.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[o.jsx(Kl,{className:"h-8 w-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Image not available"})]})})):o.jsxs("div",{className:`relative overflow-hidden group w-full h-full ${r}`,children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110 opacity-60",style:{backgroundImage:`url(${v})`,backgroundPosition:"center",backgroundSize:"cover"}}),o.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:o.jsx("img",{src:v,alt:`${e} - Image ${l+1} of ${m.length}`,className:"max-w-full max-h-full object-contain",onError:()=>w(l),onLoad:()=>_(l),loading:"lazy"})}),f&&o.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-50",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}),a&&m.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:x,className:`absolute left-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Previous image",children:o.jsx(aI,{className:"h-4 w-4"})}),o.jsx("button",{onClick:j,className:`absolute right-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Next image",children:o.jsx(Nm,{className:"h-4 w-4"})}),o.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 z-20 \r
                        flex space-x-2`,children:m.map((N,A)=>o.jsx("button",{onClick:()=>{console.log("🎯 Indicator clicked: Moving from index",l,"to index",A),c(A),p(!0)},className:`w-3 h-3 rounded-full transition-all duration-200 
                          ${A===l?"bg-white shadow-lg scale-110":"bg-white bg-opacity-60 hover:bg-opacity-80 hover:scale-105"}`,"aria-label":`Go to image ${A+1} of ${m.length}`},A))})]}),!1]})},gI=async(t,e,r,n)=>{try{window.tp||(console.warn("Trustpilot not loaded yet, waiting..."),await M_());const a="https://rosemamaclothing.store",i=n.map(l=>({sku:l.id,productUrl:`${a}/product/${l.id}`,imageUrl:l.image.startsWith("http")?l.image:`${a}/images/${l.image}`,name:l.name})),s={recipientEmail:t,recipientName:e,referenceId:`Order_${r}`,source:"PostPurchase",productSkus:n.map(l=>l.id),products:i};return window.tp("createInvitation",s),console.log("Trustpilot invitation sent successfully:",s),!0}catch(a){return console.error("Failed to send Trustpilot invitation:",a),!1}},iz=async(t,e,r)=>{try{window.tp||await M_();const n={recipientEmail:t,recipientName:e,referenceId:`Service_${r}`,source:"ServiceExperience"};return window.tp("createInvitation",n),console.log("Trustpilot service invitation sent successfully:",n),!0}catch(n){return console.error("Failed to send Trustpilot service invitation:",n),!1}},M_=()=>new Promise((t,e)=>{let r=0;const n=50,a=()=>{typeof window.tp=="function"&&window.TrustpilotObject?t():r>=n?e(new Error("Trustpilot failed to load")):(r++,setTimeout(a,100))};a()}),sz=(t,e,r={})=>{const n=document.getElementById(t);if(!n){console.error(`Element with ID ${t} not found`);return}n.innerHTML="";const a=document.createElement("div");a.className="trustpilot-widget",a.setAttribute("data-locale","en-US"),a.setAttribute("data-template-id",oz(e)),a.setAttribute("data-businessunit-id","66e3a5c8fe53e5eddc65b0fd"),a.setAttribute("data-style-height",r.height||"350px"),a.setAttribute("data-style-width",r.width||"100%"),e==="product-review"&&r.productSku&&a.setAttribute("data-sku",r.productSku),n.appendChild(a),typeof window.tp=="function"?window.tp("loadFromElement",a):console.warn("Trustpilot not loaded, widget will load when script is ready")},oz=t=>{const e={trustbox:"5419b6a8b0d04a076446a9ad","product-review":"5419b6a8b0d04a076446a9ae","review-carousel":"5419b6a8b0d04a076446a9af"};return e[t]||e.trustbox},lz=()=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n4):n4()},n4=async()=>{try{(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))&&console.info("🔧 Trustpilot Development Mode: Widgets may not load on localhost due to domain restrictions. This is expected behavior."),await M_(),document.querySelectorAll("[data-trustpilot-widget]").forEach(r=>{const n=r,a=n.dataset.trustpilotWidget,i={height:n.dataset.height,width:n.dataset.width,productSku:n.dataset.productSku};sz(n.id,a,i)})}catch(t){console.error("Failed to initialize Trustpilot widgets:",t)}},cz=async t=>{try{await Promise.all([gI(t.customerEmail,t.customerName,t.orderId,t.products),iz(t.customerEmail,t.customerName,t.orderId)]),console.log("All Trustpilot invitations sent successfully")}catch(e){console.error("Error sending Trustpilot invitations:",e)}},uz=(t,e)=>{try{const a=`https://www.trustpilot.com/evaluate/66e3a5c8fe53e5eddc65b0fd?utm_medium=trustbox&utm_source=ProductReview&p=${encodeURIComponent(e)}&s=${encodeURIComponent(t)}&r=${encodeURIComponent(`https://rosemamaclothing.store/product/${t}`)}`;window.open(a,"_blank","width=800,height=700,scrollbars=yes,resizable=yes"),console.log("Opened Trustpilot review form for product:",t)}catch(r){console.error("Error opening Trustpilot review form:",r)}},dz=async t=>{try{const e={default:{rating:4.2,reviewCount:8,trustScore:4.2},sku_1:{rating:4.5,reviewCount:12,trustScore:4.5},sku_2:{rating:4.1,reviewCount:5,trustScore:4.1}};return await new Promise(r=>setTimeout(r,100)),e[t]||e.default}catch(e){return console.error("Error fetching Trustpilot product rating:",e),null}},a4=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),m2=({product:t,layout:e="enhanced",showQuickActions:r=!0,onAddToCart:n,onViewDetails:a,onToggleWishlist:i,className:s=""})=>{const[l,c]=S.useState(null);S.useEffect(()=>{(async()=>{try{const v=await dz(t.id);c(v)}catch(v){console.error("Failed to load Trustpilot rating:",v)}})()},[t.id]);const u=t.originalPrice&&t.originalPrice>t.price&&t.originalPrice!==t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,d=m=>{m.stopPropagation(),n==null||n(t)},f=()=>{a==null||a(t)},p=m=>{m.stopPropagation(),i==null||i(t)},h=t.images&&t.images.length>0?t.images:["/images/placeholder-product.svg"],g=m=>{switch(m.toLowerCase()){case"black":return"bg-black border-gray-300";case"white":return"bg-white border-gray-400";case"gray":case"grey":return"bg-gray-400 border-gray-500";case"navy":return"bg-blue-900 border-blue-800";case"brown":return"bg-amber-800 border-amber-700";case"beige":return"bg-amber-100 border-amber-200";case"pink":return"bg-pink-400 border-pink-500";case"blue":return"bg-blue-500 border-blue-600";case"red":return"bg-red-500 border-red-600";case"green":return"bg-green-500 border-green-600";case"yellow":return"bg-yellow-400 border-yellow-500";case"purple":return"bg-purple-500 border-purple-600";case"orange":return"bg-orange-500 border-orange-600";default:return"bg-gradient-to-br from-purple-400 to-pink-400 border-purple-300"}};return o.jsxs("div",{className:`
        bg-background rounded-lg shadow-md hover:shadow-xl transition-all duration-300 
        cursor-pointer group overflow-hidden border border-border dark:border-border/50 
        hover:border-primary/20 dark:hover:border-primary/30
        flex flex-col
        ${s}
      `,onClick:f,children:[o.jsxs("div",{className:"relative w-full aspect-[3/4] flex-shrink-0",children:[o.jsx(az,{images:h,alt:t.name,showNavigation:h.length>1,className:"rounded-t-lg h-full w-full object-cover"}),o.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:u>0&&o.jsxs("span",{className:"bg-rose-500 dark:bg-rose-600 text-white text-xs px-2.5 py-1 rounded-full font-medium shadow-md",children:["-",u,"%"]})}),r&&o.jsxs("div",{className:`absolute top-2 right-2 z-20 flex flex-col gap-2 \r
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:[o.jsx("button",{onClick:p,className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-rose-500`,"aria-label":"Add to wishlist",children:o.jsx(Uo,{className:"h-4 w-4 text-foreground hover:text-rose-500"})}),o.jsx("button",{onClick:m=>{m.stopPropagation(),f()},className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Quick view",children:o.jsx(Xa,{className:"h-4 w-4 text-foreground hover:text-blue-500"})})]})]}),o.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[t.category&&o.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide font-medium",children:t.category}),o.jsx("h3",{className:"font-semibold text-foreground text-sm line-clamp-2 leading-tight",children:t.name}),(l||t.rating)&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((m,v)=>o.jsx(Vr,{className:`h-3.5 w-3.5 ${v<Math.floor((l==null?void 0:l.rating)||t.rating||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},v))}),o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:l?o.jsxs(o.Fragment,{children:["(",l.reviewCount," reviews)"]}):t.reviews&&t.reviews.length>0?o.jsxs(o.Fragment,{children:["(",t.reviews.length,")"]}):o.jsx(o.Fragment,{children:"(0)"})})]}),l&&o.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-green-100 to-green-50 dark:from-green-900/30 dark:to-green-800/20 px-2 py-1 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-[8px] font-bold",children:"T"})}),o.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:l.trustScore.toFixed(1)})]})]}),t.colors&&t.colors.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Colors:"}),o.jsxs("div",{className:"flex gap-1",children:[t.colors.slice(0,5).map((m,v)=>o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${g(m)} 
                               shadow-sm hover:scale-110 transition-transform cursor-pointer`,title:m},v)),t.colors.length>5&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",t.colors.length-5]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-foreground text-lg",children:a4(t.price)}),t.originalPrice&&t.originalPrice>t.price&&o.jsx("span",{className:"text-sm text-muted-foreground line-through",children:a4(t.originalPrice)})]}),o.jsx("button",{onClick:d,className:`bg-rose-500 hover:bg-rose-600 dark:bg-rose-600 dark:hover:bg-rose-700 text-white \r
                     p-2 rounded-full transition-colors duration-200\r
                     hover:scale-105 focus:outline-none focus:ring-2 focus:ring-rose-500 \r
                     shadow-md hover:shadow-lg`,"aria-label":"Add to cart",children:o.jsx(Am,{className:"h-4 w-4"})})]})]}),!1]})};function D_({widgetType:t,productSku:e,businessUnitId:r="66e3a5c8fe53e5eddc65b0fd",height:n="350px",width:a="100%",className:i=""}){const[s,l]=S.useState(!0),[c,u]=S.useState(!1),d=`trustpilot-widget-${t}-${e||"general"}`;return S.useEffect(()=>{lz();const p=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),h=setTimeout(()=>{l(!1),p&&u(!0)},p?3e3:5e3),g=setInterval(()=>{const v=document.getElementById(d);if(v){const x=v.querySelector("iframe"),j=v.children.length>1||v.children[0]&&v.children[0].children.length>0;(x||j)&&(l(!1),u(!1),clearInterval(g))}},1e3),m=v=>{v.message&&v.message.includes("trustpilot")&&(console.warn("Trustpilot widget loading issue detected"),u(!0),l(!1))};return window.addEventListener("error",m),()=>{clearTimeout(h),clearInterval(g),window.removeEventListener("error",m)}},[d]),(()=>{const p={className:`trustpilot-widget ${i}`,"data-locale":"en-US","data-template-id":r,"data-businessunit-id":r,"data-style-height":n,"data-style-width":a};switch(t){case"review-carousel":return o.jsx("div",{id:d,...p,"data-widget":"carousel","data-stars":"1,2,3,4,5","data-schema-type":"Organization",children:o.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[s&&!c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),o.jsx("div",{className:"animate-pulse",children:"Loading customer reviews..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),o.jsx("div",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Loading...":"Customer Reviews"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?"Widgets restricted on localhost - will work on live domain":"We're setting up our review system. Check back soon!":"See what our customers are saying"})]}),o.jsx("div",{className:"text-xs mt-2 text-muted-foreground",children:"Powered by Trustpilot"})]})})});case"product-review":return o.jsx("div",{id:d,...p,"data-widget":"product-review","data-sku":e,children:s&&!c?o.jsx("div",{className:"flex items-center justify-center py-8 text-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading product reviews..."}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Powered by Trustpilot"})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),o.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Currently Unavailable":"No reviews yet"}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?'Trustpilot widgets are restricted on localhost for security. They will work on the live domain (rosemamaclothing.store). You can still test the "Write a Review" button functionality.':"We're working on getting reviews set up. In the meantime, you can leave a review directly on Trustpilot.":"Be the first to share your experience with this product. Your review helps other customers make informed decisions."})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"Powered by"}),o.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs",children:"T"})}),"Trustpilot"]})]})]})});case"trustbox":default:return o.jsx("div",{id:d,...p,"data-widget":"trustbox","data-stars":"1,2,3,4,5",children:o.jsx("div",{className:"flex items-center justify-center py-6 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),o.jsx("span",{children:"Loading reviews..."})]}),o.jsx("div",{className:"text-xs",children:"Be the first to leave a review!"})]})})})}})()}const fz="modulepreload",hz=function(t){return"/"+t},i4={},Ga=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=s(r.map(u=>{if(u=hz(u),u in i4)return;i4[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":fz,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},pz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ga(async()=>{const{default:n}=await Promise.resolve().then(()=>dd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class $_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class mz extends $_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s4 extends $_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o4 extends $_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var g2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(g2||(g2={}));var gz=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class vz{constructor(e,{headers:r={},customFetch:n,region:a=g2.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=pz(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return gz(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(m=>{throw new mz(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new s4(f);if(!f.ok)throw new o4(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof o4||a instanceof s4?a.context:void 0}}})}}var Sn={},$c={},Fc={},Bc={},qc={},Uc={},yz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Iu=yz();const xz=Iu.fetch,vI=Iu.fetch.bind(Iu),yI=Iu.Headers,bz=Iu.Request,wz=Iu.Response,dd=Object.freeze(Object.defineProperty({__proto__:null,Headers:yI,Request:bz,Response:wz,default:vI,fetch:xz},Symbol.toStringTag,{value:"Module"})),_z=pB(dd);var Ap={},l4;function xI(){if(l4)return Ap;l4=1,Object.defineProperty(Ap,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ap.default=t,Ap}var c4;function bI(){if(c4)return Uc;c4=1;var t=Uc&&Uc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Uc,"__esModule",{value:!0});const e=t(_z),r=t(xI());class n{constructor(i){var s,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let g=null,m=null,v=null,x=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&N&&N.length>1&&(v=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,x=406,j="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(m=[],g=null,x=200,j="OK")}catch{u.status===404&&_===""?(x=204,j="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,j="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:x,statusText:j}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return Uc.default=n,Uc}var u4;function wI(){if(u4)return qc;u4=1;var t=qc&&qc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qc,"__esModule",{value:!0});const e=t(bI());class r extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return qc.default=r,qc}var d4;function F_(){if(d4)return Bc;d4=1;var t=Bc&&Bc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bc,"__esModule",{value:!0});const e=t(wI());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Bc.default=r,Bc}var f4;function _I(){if(f4)return Fc;f4=1;var t=Fc&&Fc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fc,"__esModule",{value:!0});const e=t(F_());class r{constructor(a,{headers:i={},schema:s,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=l}select(a,{head:i=!1,count:s}={}){const l=i?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Fc.default=r,Fc}var h4;function jz(){if(h4)return $c;h4=1;var t=$c&&$c.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($c,"__esModule",{value:!0});const e=t(_I()),r=t(F_());class n{constructor(i,{headers:s={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${i}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(s).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{p.searchParams.append(m,v)})):(f="POST",h=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return $c.default=n,$c}var p4;function Nz(){if(p4)return Sn;p4=1;var t=Sn&&Sn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const e=t(jz());Sn.PostgrestClient=e.default;const r=t(_I());Sn.PostgrestQueryBuilder=r.default;const n=t(F_());Sn.PostgrestFilterBuilder=n.default;const a=t(wI());Sn.PostgrestTransformBuilder=a.default;const i=t(bI());Sn.PostgrestBuilder=i.default;const s=t(xI());return Sn.PostgrestError=s.default,Sn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},Sn}var Sz=Nz();const Az=dr(Sz),{PostgrestClient:kz,PostgrestQueryBuilder:Q1e,PostgrestFilterBuilder:ewe,PostgrestTransformBuilder:twe,PostgrestBuilder:rwe,PostgrestError:nwe}=Az;class Pz{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Cz="2.15.5",Oz=`realtime-js/${Cz}`,Ez="1.0.0",v2=1e4,Tz=1e3,Iz=100;var _f;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_f||(_f={}));var yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yn||(yn={}));var yi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yi||(yi={}));var y2;(function(t){t.websocket="websocket"})(y2||(y2={}));var Tl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tl||(Tl={}));class Rz{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(e.slice(s,s+a));s=s+a;const c=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class jI{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_r||(_r={}));const m4=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=Lz(s,t,e,a),i),{})},Lz=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?NI(i,s):x2(s)},NI=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Fz(e,r)}switch(t){case _r.bool:return Mz(e);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return Dz(e);case _r.json:case _r.jsonb:return $z(e);case _r.timestamp:return Bz(e);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return x2(e);default:return x2(e)}},x2=t=>t,Mz=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dz=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$z=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Fz=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>NI(e,l))}return t},Bz=t=>typeof t=="string"?t.replace(" ","T"):t,SI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class dy{constructor(e,r,n={},a=v2){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var g4;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(g4||(g4={}));class jf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jf.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=jf.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=jf.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const p=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(s,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v4;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(v4||(v4={}));var Nf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nf||(Nf={}));var Fs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fs||(Fs={}));class B_{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dy(this,yi.join,this.params,this.timeout),this.rejoinTimer=new jI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yi.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new jf(this),this.broadcastEndpointURL=SI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==yn.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Nf.PRESENCE]&&this.bindings[Nf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Fs.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Fs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(Fs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,x=[];for(let j=0;j<v;j++){const w=m[j],{filter:{event:_,schema:N,table:A,filter:k}}=w,E=h&&h[j];if(E&&E.event===_&&E.schema===N&&E.table===A&&E.filter===k)x.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=yn.errored,e==null||e(Fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Fs.SUBSCRIBED);return}}).receive("error",h=>{this.state=yn.errored,e==null||e(Fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===yn.joined&&e===Nf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dy(this,yi.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dy(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Iz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=yi;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var g,m,v,x,j,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,N=(g=h.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(j=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:x,type:j,errors:w}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:j,new:{},old:{},errors:w}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===yn.closed}_isJoined(){return this.state===yn.joined}_isJoining(){return this.state===yn.joining}_isLeaving(){return this.state===yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&B_.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yi.close,{},e)}_onError(e){this._on(yi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=m4(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=m4(e.columns,e.old_record)),r}}const fy=()=>{},kp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qz=[1e3,2e3,5e3,1e4],Uz=1e4,zz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wz{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=v2,this.transport=null,this.heartbeatIntervalMs=kp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fy,this.ref=0,this.reconnectTimer=null,this.logger=fy,this.conn=null,this.sendBuffer=[],this.serializer=new Rz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Ga(async()=>{const{default:l}=await Promise.resolve().then(()=>dd);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${y2.websocket}`,this.httpEndpoint=SI(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pz.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ez}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _f.connecting:return Tl.Connecting;case _f.open:return Tl.Open;case _f.closing:return Tl.Closing;default:return Tl.Closed}}isConnected(){return this.connectionState()===Tl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new B_(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([zz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Oz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(yi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,s,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:v2,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:kp.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:fy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(f=>qz[f-1]||Uz),this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((f,p)=>p(JSON.stringify(f))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class q_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Hz extends q_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class b2 extends q_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Vz=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const AI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ga(async()=>{const{default:n}=await Promise.resolve().then(()=>dd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Gz=()=>Vz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ga(()=>Promise.resolve().then(()=>dd),void 0)).Response:Response}),w2=t=>{if(Array.isArray(t))return t.map(r=>w2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=w2(n)}),e},Yz=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const hy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kz=(t,e,r)=>fc(void 0,void 0,void 0,function*(){const n=yield Gz();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,s=(a==null?void 0:a.statusCode)||i+"";e(new Hz(hy(a),i,s))}).catch(a=>{e(new b2(hy(a),a))}):e(new b2(hy(t),t))}),Xz=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(Yz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Sh(t,e,r,n,a,i){return fc(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(r,Xz(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Kz(c,l,n))})})}function km(t,e,r,n){return fc(this,void 0,void 0,function*(){return Sh(t,"GET",e,r,n)})}function Xi(t,e,r,n,a){return fc(this,void 0,void 0,function*(){return Sh(t,"POST",e,n,a,r)})}function _2(t,e,r,n,a){return fc(this,void 0,void 0,function*(){return Sh(t,"PUT",e,n,a,r)})}function Zz(t,e,r,n){return fc(this,void 0,void 0,function*(){return Sh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kI(t,e,r,n,a){return fc(this,void 0,void 0,function*(){return Sh(t,"DELETE",e,n,a,r)})}var Xn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Jz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qz{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=AI(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Xn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},y4),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?_2:Xi)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Xn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:y4.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield _2(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(xn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Xi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new q_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xn(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Xn(this,void 0,void 0,function*(){try{return{data:{path:(yield Xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Xn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Xi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Xn(this,void 0,void 0,function*(){try{const a=yield Xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}download(e,r){return Xn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield km(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(xn(l))return{data:null,error:l};throw l}})}info(e){return Xn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield km(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:w2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}exists(e){return Xn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Zz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n)&&n instanceof b2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Xn(this,void 0,void 0,function*(){try{return{data:yield kI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Jz),r),{prefix:e||""});return{data:yield Xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}listV2(e,r){return Xn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Xi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const eW="2.12.1",tW={"X-Client-Info":`storage-js/${eW}`};var zc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class rW{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},tW),r),this.fetch=AI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zc(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xn(e))return{data:null,error:e};throw e}})}getBucket(e){return zc(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return zc(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return zc(this,void 0,void 0,function*(){try{return{data:yield _2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zc(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return zc(this,void 0,void 0,function*(){try{return{data:yield kI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}}class nW extends rW{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new Qz(this.url,this.headers,e,this.fetch)}}const aW="2.57.4";let vf="";typeof Deno<"u"?vf="deno":typeof document<"u"?vf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vf="react-native":vf="node";const iW={"X-Client-Info":`supabase-js-${vf}/${aW}`},sW={headers:iW},oW={schema:"public"},lW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cW={};var uW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const dW=t=>{let e;return t?e=t:typeof fetch>"u"?e=vI:e=fetch,(...r)=>e(...r)},fW=()=>typeof Headers>"u"?yI:Headers,hW=(t,e,r)=>{const n=dW(r),a=fW();return(i,s)=>uW(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var pW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function mW(t){return t.endsWith("/")?t:t+"/"}function gW(t,e){var r,n;const{db:a,auth:i,realtime:s,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pW(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function vW(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const PI="2.71.1",lu=30*1e3,j2=3,py=j2*lu,yW="http://localhost:9999",xW="supabase.auth.token",bW={"X-Client-Info":`gotrue-js/${PI}`},N2="X-Supabase-Api-Version",CI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_W=600*1e3;class U_ extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Mt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jW extends U_{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function NW(t){return Mt(t)&&t.name==="AuthApiError"}class OI extends U_{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Go extends U_{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Po extends Go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SW(t){return Mt(t)&&t.name==="AuthSessionMissingError"}class Pp extends Go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cp extends Go{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Op extends Go{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AW(t){return Mt(t)&&t.name==="AuthImplicitGrantRedirectError"}class x4 extends Go{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S2 extends Go{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function my(t){return Mt(t)&&t.name==="AuthRetryableFetchError"}class b4 extends Go{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class A2 extends Go{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w4=` 	
\r=`.split(""),kW=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<w4.length;e+=1)t[w4[e].charCodeAt(0)]=-2;for(let e=0;e<Pm.length;e+=1)t[Pm[e].charCodeAt(0)]=e;return t})();function _4(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pm[n]),e.queuedBits-=6}}function EI(t,e,r){const n=kW[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function j4(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{OW(s,n,r)};for(let s=0;s<t.length;s+=1)EI(t.charCodeAt(s),a,i);return e.join("")}function PW(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function CW(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}PW(n,e)}}function OW(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function EW(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)EI(t.charCodeAt(a),r,n);return new Uint8Array(e)}function TW(t){const e=[];return CW(t,r=>e.push(r)),new Uint8Array(e)}function IW(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>_4(a,r,n)),_4(null,r,n),e.join("")}function RW(t){return Math.round(Date.now()/1e3)+t}function LW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mi=()=>typeof window<"u"&&typeof document<"u",_l={tested:!1,writable:!1},TI=()=>{if(!mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_l.tested)return _l.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_l.tested=!0,_l.writable=!0}catch{_l.tested=!0,_l.writable=!1}return _l.writable};function MW(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const II=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ga(async()=>{const{default:n}=await Promise.resolve().then(()=>dd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},DW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},jl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},No=async(t,e)=>{await t.removeItem(e)};class Qg{constructor(){this.promise=new Qg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qg.promiseConstructor=Promise;function gy(t){const e=t.split(".");if(e.length!==3)throw new A2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!wW.test(e[n]))throw new A2("JWT not in base64url format");return{header:JSON.parse(j4(e[0])),payload:JSON.parse(j4(e[1])),signature:EW(e[2]),raw:{header:e[0],payload:e[1]}}}async function $W(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function FW(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function BW(t){return("0"+t.toString(16)).substr(-2)}function qW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,BW).join("")}async function UW(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function zW(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await UW(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wc(t,e,r=!1){const n=qW();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await cu(t,`${e}-code-verifier`,a);const i=await zW(n);return[i,n===i?"plain":"s256"]}const WW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HW(t){const e=t.headers.get(N2);if(!e||!e.match(WW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VW(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GW(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hc(t){if(!YW.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vy(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N4(t){return JSON.parse(JSON.stringify(t))}var KW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const kl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XW=[502,503,504];async function S4(t){var e;if(!DW(t))throw new S2(kl(t),0);if(XW.includes(t.status))throw new S2(kl(t),t.status);let r;try{r=await t.json()}catch(i){throw new OI(kl(i),i)}let n;const a=HW(t);if(a&&a.getTime()>=CI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new b4(kl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Po}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new b4(kl(r),t.status,r.weak_password.reasons);throw new jW(kl(r),t.status||500,n)}const ZW=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function zt(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[N2]||(i[N2]=CI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await JW(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function JW(t,e,r,n,a,i){const s=ZW(e,n,a,i);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new S2(kl(c),0)}if(l.ok||await S4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await S4(c)}}function $s(t){var e;let r=null;rH(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=RW(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function A4(t){const e=$s(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Io(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function QW(t){return{data:t,error:null}}function eH(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=KW(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function tH(t){return t}function rH(t){return t.access_token&&t.refresh_token&&t.expires_in}const yy=["global","local","others"];var nH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class aH{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=II(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=yy[0]){if(yy.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yy.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Io})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=nH(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Mt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Io})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tH});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Mt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Hc(e);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Io})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Hc(e);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Io})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Hc(e);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Io})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Hc(e.userId);try{const{data:r,error:n}=await zt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Hc(e.userId),Hc(e.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}function k4(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function iH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vc={debug:!!(globalThis&&TI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sH extends RI{}async function oH(t,e,r){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sH(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}iH();const lH={url:yW,storageKey:xW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P4(t,e,r){return await r()}const Gc={};class Df{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Df.nextInstanceID,Df.nextInstanceID+=1,this.instanceID>0&&mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},lH),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new aH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=II(a.fetch),this.lock=a.lock||P4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:mi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=oH:this.lock=P4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:TI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=k4(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=k4(this.memoryStorage)),mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Gc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Gc[this.storageKey]=Object.assign(Object.assign({},Gc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Gc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gc[this.storageKey]=Object.assign(Object.assign({},Gc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=MW(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),AW(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Mt(r)?{error:r}:{error:new OI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:$s}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Wc(this.storage,this.storageKey)),i=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:$s})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:$s})}else throw new Cp("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:l}=e;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A4})}else if("phone"in e){const{phone:i,password:s,options:l}=e;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A4})}else throw new Cp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,l,c,u,d,f,p,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:x,statement:j,options:w}=e;let _;if(mi())if(typeof x=="object")_=x;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let k;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")k=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)k=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{const{data:v,error:x}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:IW(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$s});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Pp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Mt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await jl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$s});if(await No(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Mt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,l=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$s}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wc(this.storage,this.storageKey));const{error:f}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Cp("You must provide either an email or phone number.")}catch(l){if(Mt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$s});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Mt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Wc(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:QW})}catch(i){if(Mt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Po;const{error:a}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Mt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:l}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new Cp("You must provide either an email or phone number and a type")}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<py:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await jl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=vy()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Io}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Po}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Io})})}catch(r){if(Mt(r))return SW(r)&&(await this._removeSession(),await No(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Po;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Wc(this.storage,this.storageKey));const{data:u,error:d}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Io});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Po;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=gy(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Mt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Po;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!mi())throw new Op("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Op(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new x4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Op("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x4("No code detected.");const{data:j,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!s||!u)throw new Op("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const h=p-d;h*1e3<=lu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:p,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Mt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await jl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(NW(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await No(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=LW(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Wc(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Mt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return mi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Mt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await FW(async a=>(a>0&&await $W(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$s})),(a,i)=>{const s=200*Math.pow(2,a);return i&&my(i)&&Date.now()+s-n<lu})}catch(n){if(this._debug(r,"error",n),Mt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),mi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await jl(this.storage,this.storageKey);if(a&&this.userStorage){let s=await jl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await cu(this.userStorage,this.storageKey+"-user",s)),a.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:vy()}else if(a&&!a.user&&!a.user){const s=await jl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await No(this.storage,this.storageKey+"-user"),await cu(this.storage,this.storageKey,a)):a.user=vy()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<py;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${py}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),my(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Po;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Qg;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Po;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Mt(i)){const s={session:null,error:i};return my(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=N4(a);await cu(this.storage,this.storageKey,i)}else{const a=N4(r);await cu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await No(this.storage,this.storageKey),await No(this.storage,this.storageKey+"-code-verifier"),await No(this.storage,this.storageKey+"-user"),this.userStorage&&await No(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/lu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${lu}ms, refresh threshold is ${j2} ticks`),a<=j2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof RI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Wc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await zt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=gy(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+_W>a)return n;const{data:i,error:s}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=gy(n);r!=null&&r.allowExpired||VW(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:s},error:null}}const d=GW(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,TW(`${l}.${c}`)))throw new A2("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}}Df.nextInstanceID=0;const cH=Df;class uH extends cH{constructor(e){super(e)}}var dH=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class fH{constructor(e,r,n){var a,i,s;this.supabaseUrl=e,this.supabaseKey=r;const l=vW(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:oW,realtime:cW,auth:Object.assign(Object.assign({},lW),{storageKey:c}),global:sW},d=gW(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=hW(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kz(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new nW(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new vz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return dH(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:l,lock:c,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uH({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wz(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hH=(t,e,r)=>new fH(t,e,r);function pH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pH()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mH="https://xsgumgcioyaehccvklbr.supabase.co",gH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZ3VtZ2Npb3lhZWhjY3ZrbGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4MDM2MTIsImV4cCI6MjA3MTM3OTYxMn0.WdjuHdpQglzzCvuEUWOdLl8Z94bK2FQhtJgS2Dlfs5Q",Oe=hH(mH,gH),Ti=async()=>{try{const{data:t,error:e}=await Oe.rpc("is_admin");if(e)throw e;return t||!1}catch(t){return console.error("Error checking admin status:",t),!1}},LI=async t=>{try{let e=Oe.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(e=e.eq("category",t));const{data:r,error:n}=await e;if(n)throw n;return r||[]}catch(e){return console.error("Error fetching products:",e),[]}},z_=async t=>{try{if(!await Ti())throw new Error("Unauthorized");let r=Oe.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(r=r.eq("category",t));const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching all products:",e),[]}},MI=async t=>{try{if(!await Ti())throw new Error("Unauthorized");let r=Oe.from("products").select("*").eq("is_active",!1).order("updated_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching deleted products:",e),[]}},W_=async t=>{try{const{data:e,error:r}=await Oe.from("products").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){return console.error("Error fetching product:",e),null}},H_=async()=>{try{const{data:{user:t}}=await Oe.auth.getUser();if(!t)return null;const{data:e,error:r}=await Oe.from("cart").select("*").eq("user_id",t.id).single();if(r)throw r;const{data:n,error:a}=await Oe.from("cart_items").select(`
        id,
        quantity,
        size,
        color,
        products (id, name, price, image_url, category)
      `).eq("cart_id",e.id);if(a)throw a;return{...e,items:n||[]}}catch(t){return console.error("Error fetching user cart:",t),null}},k2=async(t,e,r,n=1)=>{try{const{data:{user:a}}=await Oe.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:i,error:s}=await Oe.from("cart").select("id").eq("user_id",a.id).single();if(s)throw s;let l=Oe.from("cart_items").select("id, quantity").eq("cart_id",i.id).eq("product_id",t);e?l=l.eq("size",e):l=l.is("size",null),r?l=l.eq("color",r):l=l.is("color",null);const{data:c,error:u}=await l.single();if(u&&u.code!=="PGRST116")throw u;if(c){const{error:d}=await Oe.from("cart_items").update({quantity:c.quantity+n}).eq("id",c.id);if(d)throw d}else{const{error:d}=await Oe.from("cart_items").insert({cart_id:i.id,product_id:t,size:e||null,color:r||null,quantity:n});if(d)throw d}return!0}catch(a){return console.error("Error adding to cart:",a),!1}},V_=async(t,e,r)=>{try{const{data:{user:n}}=await Oe.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:a,error:i}=await Oe.from("cart").select("id").eq("user_id",n.id).single();if(i)throw i;let s=Oe.from("cart_items").select("id, quantity, size, color").eq("cart_id",a.id).eq("product_id",t);e?s=s.eq("size",e):s=s.is("size",null),r?s=s.eq("color",r):s=s.is("color",null);const{data:l,error:c}=await s.single();if(c&&c.code!=="PGRST116")throw c;return l}catch(n){return console.error("Error finding cart item:",n),null}},DI=async(t,e,r)=>{try{const n=await V_(t,e,r);if(!n)return!1;const{error:a}=await Oe.from("cart_items").delete().eq("id",n.id);if(a)throw a;return!0}catch(n){return console.error("Error removing cart item:",n),!1}},vH=async(t,e,r,n)=>{try{const a=await V_(t,r,n);if(!a)return!1;if(e<=0)return await DI(t,r,n);{const{error:i}=await Oe.from("cart_items").update({quantity:e}).eq("id",a.id);if(i)throw i;return!0}}catch(a){return console.error("Error updating cart item by variant:",a),!1}},$I=async t=>{try{const{data:{user:e}}=await Oe.auth.getUser();if(!e)throw new Error("User not authenticated");const r=await H_();if(!r||!r.items||r.items.length===0)throw new Error("Cart is empty");const{data:n,error:a}=await Oe.rpc("create_order_from_cart",{p_user_id:e.id,p_shipping_address:t});if(a)throw a;return n}catch(e){return console.error("Error creating order:",e),null}},FI=async(t,e,r,n=!1,a)=>{var i;try{let s=null;if(n&&a){const{data:p,error:h}=await Oe.auth.signUp({email:r.email,password:a,options:{data:{name:`${r.firstName} ${r.lastName}`,phone:r.phone}}});h?console.warn("Account creation failed, proceeding as guest:",h):s=(i=p.user)==null?void 0:i.id}const l={user_id:s,status:"pending",total_amount:t.reduce((p,h)=>p+h.product.price*h.quantity,0),shipping_address:e,customer_email:r.email,customer_name:`${r.firstName} ${r.lastName}`,customer_phone:r.phone},{data:c,error:u}=await Oe.from("orders").insert(l).select().single();if(u)throw u;const d=t.map(p=>({order_id:c.id,product_id:p.productId,quantity:p.quantity,price_at_purchase:p.product.price})),{error:f}=await Oe.from("order_items").insert(d);if(f)throw f;return c.id}catch(s){return console.error("Error creating guest order:",s),null}},BI=async()=>{try{const{data:{user:t}}=await Oe.auth.getUser();if(!t)return[];const{data:e,error:r}=await Oe.from("orders").select(`
        id,
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching user orders:",t),[]}},qI=async()=>{try{if(!await Ti())throw new Error("Unauthorized");const{data:e,error:r}=await Oe.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching all orders:",t),[]}},UI=async(t,e)=>{try{if(!await Ti())throw new Error("Unauthorized");const{error:n}=await Oe.from("orders").update({status:e}).eq("id",t);if(n)throw n;return!0}catch(r){return console.error("Error updating order status:",r),!1}},zI=async t=>{try{if(!await Ti())throw new Error("Unauthorized");const{data:r,error:n}=await Oe.from("products").insert(t).select().single();if(n)throw n;return r}catch(e){return console.error("Error creating product:",e),null}},fm=async(t,e)=>{try{if(!await Ti())throw new Error("Unauthorized");const{data:n,error:a}=await Oe.from("products").update(e).eq("id",t).select().single();if(a)throw a;return n}catch(r){return console.error("Error updating product:",r),null}},WI=async t=>{try{if(console.log("🗑️ DeleteProduct: Starting soft deletion for product:",t),!await Ti())throw console.error("🗑️ DeleteProduct: User is not admin"),new Error("Unauthorized");console.log("🗑️ DeleteProduct: Admin check passed");const r=await W_(t);if(!r)throw console.error("🗑️ DeleteProduct: Product not found"),new Error("Product not found");console.log("🗑️ DeleteProduct: Product found:",r.name),console.log("🗑️ DeleteProduct: Performing soft delete (setting is_active to false)");const{error:n}=await Oe.from("products").update({is_active:!1}).eq("id",t);if(n)throw console.error("🗑️ DeleteProduct: Soft delete failed:",n),n;return console.log("🗑️ DeleteProduct: Successfully soft deleted product"),console.log("🗑️ DeleteProduct: Product moved to deleted inventory"),!0}catch(e){return console.error("🗑️ DeleteProduct: Error during soft delete:",e),!1}},HI=async t=>{try{if(console.log("🔄 RestoreProduct: Starting restore for product:",t),!await Ti())throw console.error("🔄 RestoreProduct: User is not admin"),new Error("Unauthorized");const{error:r}=await Oe.from("products").update({is_active:!0}).eq("id",t);if(r)throw console.error("🔄 RestoreProduct: Restore failed:",r),r;return console.log("🔄 RestoreProduct: Successfully restored product"),!0}catch(e){return console.error("🔄 RestoreProduct: Error during restore:",e),!1}},VI=async t=>{try{if(console.log("💀 PermanentDelete: Starting permanent deletion for product:",t),!await Ti())throw console.error("💀 PermanentDelete: User is not admin"),new Error("Unauthorized");const{error:r}=await Oe.from("products").delete().eq("id",t);if(r)throw console.error("💀 PermanentDelete: Permanent delete failed:",r),r;return console.log("💀 PermanentDelete: Successfully permanently deleted product"),!0}catch(e){return console.error("💀 PermanentDelete: Error during permanent delete:",e),!1}},GI=async(t,e)=>{try{const{data:r,error:n}=await Oe.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Error updating user profile:",r),null}},YI=async t=>{try{const{data:e,error:r}=await Oe.auth.updateUser({password:t});if(r)throw r;return e}catch(e){return console.error("Error updating user password:",e),null}},KI=async()=>{try{const{data:t,error:e}=await Oe.from("orders").select("total_amount");if(e)throw e;return(t==null?void 0:t.reduce((n,a)=>n+(a.total_amount||0),0))||0}catch(t){return console.error("Error fetching total revenue:",t),0}},XI=async()=>{try{const{count:t,error:e}=await Oe.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total orders:",t),0}},ZI=async()=>{try{const{count:t,error:e}=await Oe.from("users").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total users:",t),0}},JI=async(t,e)=>{try{const{data:r,error:n}=await Oe.from("orders").select(`
        created_at,
        total_amount
      `).gte("created_at",t).lte("created_at",e);if(n)throw n;const a={};return(r||[]).forEach(s=>{const l=new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});a[l]||(a[l]={sales:0,orders:0}),a[l].sales+=s.total_amount,a[l].orders+=1}),Object.entries(a).map(([s,l])=>({month:s,sales:l.sales,orders_count:l.orders}))}catch(r){return console.error("Error fetching sales data:",r),[]}},QI=async()=>{try{const{data:t,error:e}=await Oe.from("products").select("category");if(e)throw e;const r={};(t||[]).forEach(i=>{const s=i.category||"Uncategorized";r[s]=(r[s]||0)+1});const n=Object.values(r).reduce((i,s)=>i+s,0);return Object.entries(r).map(([i,s])=>({category_name:i,product_count:s,percentage:Math.round(s/n*100*100)/100}))}catch(t){return console.error("Error fetching category distribution:",t),[]}},e8=async(t=10)=>{try{const{data:e,error:r}=await Oe.from("orders").select(`
        id,
        total_amount,
        status,
        created_at,
        users!inner (
          email,
          name
        )
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e==null?void 0:e.map(a=>{var i,s;return{order_id:a.id,customer_email:((i=a.users)==null?void 0:i.email)||"N/A",customer_name:((s=a.users)==null?void 0:s.name)||"N/A",amount:a.total_amount,status:a.status,order_date:a.created_at}}))||[]}catch(e){return console.error("Error fetching recent orders:",e),[]}},t8=async(t=30)=>{try{const e=new Date,r=new Date(e.getTime()-t*24*60*60*1e3),n=new Date(e.getTime()-t*2*24*60*60*1e3),a=new Date(e.getTime()-t*24*60*60*1e3),{data:i,error:s}=await Oe.from("orders").select("total_amount").gte("created_at",r.toISOString());if(s)throw s;const l=(i==null?void 0:i.reduce((p,h)=>p+(h.total_amount||0),0))||0,{data:c,error:u}=await Oe.from("orders").select("total_amount").gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(u)throw u;const d=(c==null?void 0:c.reduce((p,h)=>p+(h.total_amount||0),0))||0,f=d===0?l>0?100:0:Math.round((l-d)/d*100*100)/100;return{current_period_revenue:l,previous_period_revenue:d,growth_percentage:f}}catch(e){return console.error("Error fetching revenue growth:",e),{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}},Ep=Object.freeze(Object.defineProperty({__proto__:null,addToCart:k2,createGuestOrder:FI,createOrderFromCart:$I,createProduct:zI,deleteProduct:WI,findCartItem:V_,getAllOrders:qI,getAllProducts:z_,getCategoryDistribution:QI,getDeletedProducts:MI,getProduct:W_,getProducts:LI,getRecentOrders:e8,getRevenueGrowth:t8,getSalesData:JI,getTotalOrders:XI,getTotalRevenue:KI,getTotalUsers:ZI,getUserCart:H_,getUserOrders:BI,isAdmin:Ti,permanentlyDeleteProduct:VI,removeCartItem:DI,restoreProduct:HI,supabase:Oe,updateCartItemByVariant:vH,updateOrderStatus:UI,updateProduct:fm,updateUserPassword:YI,updateUserProfile:GI},Symbol.toStringTag,{value:"Module"})),r8=S.createContext(void 0),yH=({children:t})=>{const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),l=async d=>{try{a(!0),s(null);const p=(await LI(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Oe.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Oe.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching products:",f),s("Failed to load products")}finally{a(!1)}},c=async d=>{try{a(!0),s(null);const p=(await z_(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Oe.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Oe.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching all products:",f),s("Failed to load products")}finally{a(!1)}},u=async d=>{try{a(!0),s(null);const f=await W_(d);if(!f)return null;let p=[];if(f.images&&Array.isArray(f.images)&&f.images.length>0)p=f.images.filter(g=>g&&typeof g=="string"&&g.trim()!=="").map(g=>{if(g.startsWith("http"))return g;const m=g.startsWith("/")?g.substring(1):g;return Oe.storage.from("product-images").getPublicUrl(m).data.publicUrl});else if(f.image_url&&typeof f.image_url=="string"&&f.image_url.trim()!==""){const g=f.image_url;if(g.startsWith("http"))p=[g];else{const m=g.startsWith("/images/")?g.substring(8):g.startsWith("/")?g.substring(1):g;p=[Oe.storage.from("product-images").getPublicUrl(m).data.publicUrl]}}else p=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:f.id,name:f.name,category:f.category,price:f.price,images:p,sizes:f.sizes||["S","M","L"],colors:f.colors||["Black","White"],description:f.description||"",reviews:[],rating:4.5,inStock:f.in_stock??!0,originalPrice:f.original_price||void 0}}catch(f){return console.error("Error fetching product:",f),s("Failed to load product"),null}finally{a(!1)}};return S.useEffect(()=>{l()},[]),o.jsx(r8.Provider,{value:{products:e,loading:n,error:i,fetchProducts:l,fetchAllProducts:c,fetchProduct:u},children:t})},Ah=()=>{const t=S.useContext(r8);if(t===void 0)throw new Error("useProducts must be used within a ProductProvider");return t},n8=S.createContext(void 0),xH=({children:t})=>{const[e,r]=S.useState(null),[n,a]=S.useState(!0),[i,s]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,p]=S.useState(!1),h=S.useRef(!1),g=S.useRef(!1),m=S.useCallback(async()=>{var A,k;if(h.current){console.log("fetchUser: Already fetching, skipping...");return}console.log("fetchUser: Starting"),h.current=!0;try{a(!0),s(null),console.log("fetchUser: Getting auth user from Supabase");const{data:{user:E}}=await Oe.auth.getUser();console.log("fetchUser: Checking admin status");const I=await Ti();if(console.log(`fetchUser: Admin status is ${I}`),E){console.log(`fetchUser: Auth user found with ID: ${E.id}`),d(E.email_confirmed_at!==null),console.log('fetchUser: Fetching user profile from "users" table');const{data:L,error:C}=await Oe.from("users").select("*").eq("id",E.id).single();if(C&&C.code!=="PGRST116")throw console.error("fetchUser: Error fetching user profile:",C),C;console.log("fetchUser: User profile data:",L);const O={id:E.id,email:E.email??"",name:(L==null?void 0:L.name)??((A=E.user_metadata)==null?void 0:A.name)??"New User",phone:(L==null?void 0:L.phone)??((k=E.user_metadata)==null?void 0:k.phone)??void 0,membershipTier:"Bronze",points:0,created_at:L==null?void 0:L.created_at,preferences:{sizes:[],colors:[],styles:[]}};console.log("fetchUser: User state transformed and ready to be set:",O),r(O),c(I)}else console.log("fetchUser: No auth user found. Clearing user state."),r(null),c(!1),d(!1)}catch(E){console.error("Error in fetchUser:",E),s(E.message||"Failed to load user data"),r(null),c(!1)}finally{console.log("fetchUser: Finished"),a(!1),h.current=!1}},[]),v=async(A,k)=>{console.log("signIn: Starting"),a(!0),s(null);try{console.log("signIn: Calling Supabase signInWithPassword");const{data:E,error:I}=await Oe.auth.signInWithPassword({email:A,password:k});if(console.log("signIn: Supabase call returned."),console.log("signIn: Data:",E),console.log("signIn: Error:",I),I)throw console.error("signIn: Supabase auth error:",I),I;return console.log("signIn: Supabase sign-in appears successful. Waiting for auth state change."),!0}catch(E){return console.error("Error in signIn:",E),s(E.message||"Failed to sign in"),!1}finally{console.log("signIn: Finished"),a(!1)}},x=async(A,k,E)=>{try{a(!0),s(null);const{error:I}=await Oe.auth.signUp({email:A,password:k,options:{data:{name:E}}});if(I)throw I;return!0}catch(I){return console.error("Error signing up:",I),s(I.message||"Failed to sign up"),!1}finally{a(!1)}},j=async()=>{console.log("signOut: Starting logout process"),g.current=!0;try{a(!0),console.log("signOut: Calling supabase.auth.signOut()");const{error:A}=await Oe.auth.signOut();if(A)throw console.error("signOut: Supabase sign out error:",A),A;console.log("signOut: Supabase sign out successful"),console.log("signOut: Clearing local state"),r(null),c(!1),console.log("signOut: Local state cleared")}catch(A){console.error("signOut: Error during logout:",A),s("Failed to sign out")}finally{console.log("signOut: Setting loading to false"),a(!1)}},w=async A=>{try{a(!0),s(null);const{error:k}=await Oe.auth.resetPasswordForEmail(A);if(k)throw k;return!0}catch(k){return console.error("Error resetting password:",k),s(k.message||"Failed to reset password"),!1}finally{a(!1)}},_=async()=>{try{s(null),p(!0);const{data:{user:A}}=await Oe.auth.getUser();if(!A)throw new Error("User not found");const{error:k}=await Oe.auth.resend({type:"signup",email:A.email});if(k)throw k;return!0}catch(A){return console.error("Error resending verification:",A),s(A.message||"Failed to resend verification email"),!1}finally{p(!1)}},N=async()=>{try{const{data:{user:A}}=await Oe.auth.getUser();A&&d(A.email_confirmed_at!==null)}catch(A){console.error("Error checking verification status:",A)}};return S.useEffect(()=>{console.log("AuthContext: Component mounted, resetting logout flag"),g.current=!1},[]),S.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const{data:{subscription:A}}=Oe.auth.onAuthStateChange(async(k,E)=>{if(console.log("AuthContext: Auth state changed:",k,E?"Session exists":"No session"),g.current&&k==="SIGNED_OUT"){console.log("AuthContext: Skipping fetchUser during logout process");return}await m()});return m(),()=>{console.log("AuthContext: Unsubscribing from auth state listener"),A.unsubscribe()}},[m]),o.jsx(n8.Provider,{value:{user:e,loading:n,error:i,isAdmin:l,isEmailVerified:u,pendingVerification:f,signIn:v,signUp:x,signOut:j,resetPassword:w,resendVerification:_,checkVerificationStatus:N},children:t})},Cn=()=>{const t=S.useContext(n8);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Yo(){return o.jsx("div",{className:"h-24 w-full"})}const a8=S.createContext(void 0),bH=({children:t})=>{const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),{user:l}=Cn(),c="rosemama_guest_cart",u=!l,d=()=>{try{const w=localStorage.getItem(c);if(w){const _=JSON.parse(w);r(_)}else r([])}catch(w){console.error("Error loading guest cart:",w),r([])}},f=w=>{try{localStorage.setItem(c,JSON.stringify(w))}catch(_){console.error("Error saving guest cart:",_)}},p=async()=>{if(l&&e.length>0)try{for(const w of e)await k2(w.productId,w.size,w.color,w.quantity);localStorage.removeItem(c),await h()}catch(w){console.error("Error merging guest cart:",w)}},h=async()=>{try{a(!0),s(null);const w=await H_();if(!w){r([]);return}const _=w.items.map(N=>({productId:N.products.id,product:{id:N.products.id,name:N.products.name,category:N.products.category,price:N.products.price,images:N.products.image_url?[N.products.image_url]:[],sizes:["S","M","L"],colors:["Black","White"],description:"",reviews:[],rating:4.5,inStock:!0},size:N.size||"M",color:N.color||"Black",quantity:N.quantity}));r(_)}catch(w){console.error("Error fetching cart:",w),s("Failed to load cart")}finally{a(!1)}},g=async(w,_,N,A)=>{try{if(a(!0),s(null),u){const k={productId:w.id,product:w,size:_,color:N,quantity:A},E=[...e],I=E.findIndex(L=>L.productId===w.id&&L.size===_&&L.color===N);return I>=0?E[I].quantity+=A:E.push(k),r(E),f(E),!0}else{const k=await k2(w.id,_,N,A);return k&&await h(),k}}catch(k){return console.error("Error adding to cart:",k),s("Failed to add item to cart"),!1}finally{a(!1)}},m=async w=>{try{console.log("CartContext removeItem called:",{cartItemId:w,isGuestCart:u}),a(!0),s(null);const{supabase:_}=await Ga(async()=>{const{supabase:k}=await Promise.resolve().then(()=>Ep);return{supabase:k}},void 0),{data:{session:N}}=await _.auth.getSession(),A=N&&N.user;if(console.log("Session check:",{hasValidSession:A,sessionExists:!!N,userExists:!!(N!=null&&N.user)}),A){const[k,E,I]=w.split("|");console.log("Removing from authenticated cart:",{productId:k,size:E,color:I});const{removeCartItem:L}=await Ga(async()=>{const{removeCartItem:O}=await Promise.resolve().then(()=>Ep);return{removeCartItem:O}},void 0),C=await L(k,E,I);return C&&await h(),C}else{const[k,E,I]=w.split("|");console.log("Removing from guest cart (no valid session):",{productId:k,size:E,color:I}),console.log("Current items before filter:",e);const L=e.filter(C=>!(C.productId===k&&C.size===E&&C.color===I));return console.log("Updated items after filter:",L),r(L),f(L),!0}}catch(_){return console.error("Error removing from cart:",_),s("Failed to remove item from cart"),!1}finally{a(!1)}},v=async(w,_)=>{try{console.log("CartContext updateItemQuantity called:",{cartItemId:w,quantity:_,isGuestCart:u}),a(!0),s(null);const{supabase:N}=await Ga(async()=>{const{supabase:E}=await Promise.resolve().then(()=>Ep);return{supabase:E}},void 0),{data:{session:A}}=await N.auth.getSession(),k=A&&A.user;if(console.log("Session check for update:",{hasValidSession:k,sessionExists:!!A,userExists:!!(A!=null&&A.user)}),k){const[E,I,L]=w.split("|");console.log("Updating authenticated cart item:",{productId:E,size:I,color:L,quantity:_});const{updateCartItemByVariant:C}=await Ga(async()=>{const{updateCartItemByVariant:R}=await Promise.resolve().then(()=>Ep);return{updateCartItemByVariant:R}},void 0),O=await C(E,_,I,L);return O&&await h(),O}else{const[E,I,L]=w.split("|");console.log("Updating guest cart item:",{productId:E,size:I,color:L,quantity:_}),console.log("Current items before update:",e);const C=e.map(O=>O.productId===E&&O.size===I&&O.color===L?{...O,quantity:_}:O);return console.log("Updated items after update:",C),r(C),f(C),!0}}catch(N){return console.error("Error updating cart quantity:",N),s("Failed to update cart"),!1}finally{a(!1)}},x=()=>e.reduce((w,_)=>w+_.quantity,0),j=()=>e.reduce((w,_)=>w+_.product.price*_.quantity,0);return S.useEffect(()=>{(async()=>{l?await h():(d(),a(!1))})()},[l]),S.useEffect(()=>{l&&e.length>0&&localStorage.getItem(c)&&p()},[l]),o.jsx(a8.Provider,{value:{items:e,loading:n,error:i,addItem:g,removeItem:m,updateItemQuantity:v,getTotalItems:x,getTotalPrice:j,isGuestCart:u,mergeGuestCartOnLogin:p,fetchCart:h},children:t})},kh=()=>{const t=S.useContext(a8);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};function i8({onViewProduct:t,onNavigateToCategory:e}){const{products:r}=Ah(),{user:n}=Cn(),{addItem:a}=kh(),[i,s]=S.useState(new Set);console.log("🏠 Home Component Debug:",{totalProducts:r.length,featuredProductsCount:r.slice(0,4).length,saleProductsCount:r.filter(g=>g.originalPrice&&g.price<g.originalPrice).length,userLoggedIn:!!n,likedProductsCount:i.size});const l=[{name:"Dresses",icon:"👗",color:"bg-pink-100 dark:bg-pink-900/30"},{name:"Casual",icon:"👕",color:"bg-blue-100 dark:bg-blue-900/30"},{name:"Shoes",icon:"👠",color:"bg-purple-100 dark:bg-purple-900/30"},{name:"Outwear",icon:"🧥",color:"bg-orange-100 dark:bg-orange-900/30"},{name:"Party",icon:"✨",color:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Accessories",icon:"👜",color:"bg-green-100 dark:bg-green-900/30"}],c=r.slice(0,4),u=r.filter(g=>g.originalPrice).slice(0,3),d=async g=>{try{console.log("🛒 Home: Adding product to cart:",g.id,g.name),await a(g,"M","Default",1)?console.log("✅ Home: Product added to cart successfully"):console.error("❌ Home: Failed to add product to cart")}catch(m){console.error("❌ Home: Error adding product to cart:",m)}},f=g=>{console.log("👁️ Home: Viewing product details:",g.id,g.name),t(g)},p=g=>{console.log("❤️ Home: Toggling wishlist for product:",g.id,g.name),s(m=>{const v=new Set(m);return v.has(g.id)?(v.delete(g.id),console.log("💔 Home: Removed from wishlist")):(v.add(g.id),console.log("💖 Home: Added to wishlist")),v})},h=()=>{const g=new Date().getHours(),m=g<12?"Good morning":g<17?"Good afternoon":"Good evening";return n?`${m}, ${n.name.split(" ")[0]}! `:`${m}! Welcome to Rosemama`};return o.jsxs("div",{className:"space-y-8 pb-24",children:[o.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/10 dark:from-primary/10 dark:to-secondary/20 px-6 py-16 rounded-b-3xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-50"}),o.jsxs("div",{className:"container mx-auto text-center space-y-4 relative",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(fI,{className:"h-6 w-6 text-primary animate-pulse"}),o.jsx("span",{className:"text-sm font-medium text-primary bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-full",children:n?"Personalized for You":"Latest Collection"})]}),o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:h()}),o.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto text-lg leading-relaxed",children:n?"Your fashion journey awaits with personalized recommendations tailored just for you.":"Explore our curated collection of premium fashion pieces. Sign in to unlock exclusive rewards and personalized recommendations!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[o.jsxs(we,{onClick:()=>e("All"),size:"lg",className:"group transform hover:scale-105 transition-all duration-300",children:[o.jsx("span",{className:"mr-2",children:"Shop Collection"}),o.jsx(Nm,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),n&&o.jsxs(we,{variant:"outline",size:"lg",onClick:()=>e("Sale"),className:"group transform hover:scale-105 transition-all duration-300",children:[o.jsx("span",{className:"mr-2",children:"View Offers"}),o.jsx(Eu,{className:"h-4 w-4 group-hover:rotate-12 transition-transform"})]})]})]})]}),o.jsxs("div",{className:"px-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Shop by Category"}),o.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:l.map(g=>o.jsxs(we,{variant:"ghost",className:"h-auto p-4 flex-col gap-2 hover:scale-105 transition-transform dark:hover:bg-accent/50",onClick:()=>e(g.name),children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${g.color} flex items-center justify-center text-xl dark:text-foreground`,children:g.icon}),o.jsx("span",{className:"text-xs text-foreground",children:g.name})]},g.name))})]}),o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Eu,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n?"Recommended for You":"Featured Products"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(g=>{var m,v;return console.log("🌟 Home: Rendering featured product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),o.jsxs("div",{className:"h-[480px]",children:[" ",o.jsx(m2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})})]}),u.length>0&&o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-destructive/10 to-orange-100 dark:from-destructive/20 dark:to-orange-900/30 rounded-2xl p-4 md:p-6 lg:p-8 mt-6 md:mt-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-2xl animate-bounce",children:"🔥"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg md:text-xl font-semibold text-destructive dark:text-destructive-foreground",children:"⚡ Flash Sale"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"⏰ Limited time offers! Ends soon."})]})]}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>{console.log("🔍 Home: View All Flash Sale clicked"),e("All")},className:"dark:border-border dark:hover:bg-accent",children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:u.map(g=>{var m,v;return console.log("🛍️ Home: Rendering flash sale product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),o.jsxs("div",{className:"h-[480px]",children:[" ",o.jsx(m2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})}),o.jsx("div",{className:"border-t border-border/50 pt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Up to 70% OFF"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Limited Stock"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Sale ends in 2 days"})]})]})})]})}),o.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Why Shop at Rosemama?"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Discover what makes us your premier fashion destination"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🚚"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Free Shipping"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Free delivery on Orders over R3500"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🔒"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Secure Payments"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"100% secure checkout protected"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🛍️"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Curated Collections"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Exclusive fashion pieces selected just for you"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"👑"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Premium Quality"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"curated fashion"})]})]})]}),o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-2xl p-4 md:p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"What Our Customers Say"}),o.jsx("p",{className:"text-muted-foreground",children:"Real reviews from verified customers"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(D_,{widgetType:"review-carousel",width:"100%",height:"200",className:"max-w-4xl"})}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/70 dark:bg-card/70 px-6 py-3 rounded-full border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"T"})}),o.jsx("span",{className:"font-semibold text-foreground",children:"Trustpilot"})]}),o.jsx("div",{className:"h-4 w-px bg-border"}),o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Be the first to review us!"}),o.jsx("div",{className:"flex",children:[...Array(5)].map((g,m)=>o.jsx(Vr,{className:"h-3 w-3 text-gray-300 dark:text-gray-600"},m))})]})]})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Help other fashion lovers by sharing your experience"}),o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>window.open("https://www.trustpilot.com/review/rosemamaclothing.store","_blank"),className:"bg-green-50 hover:bg-green-100 border-green-200 text-green-700 hover:text-green-800",children:[o.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Write a Review"]})]})]})}),o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8",children:[o.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Join Our Fashion Community"}),o.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"Get exclusive access to flash sales, new arrivals, and personalized recommendations"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!n&&o.jsx(we,{size:"lg",onClick:()=>{},className:"group",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Sign In to Get Started"}),o.jsx(Nm,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(we,{variant:"outline",size:"lg",onClick:()=>e("All"),children:"Continue Shopping"})]})]})}),o.jsx(Yo,{})]})}function Re({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Pt({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ct({className:t,...e}){return o.jsx("h4",{"data-slot":"card-title",className:qe("leading-none",t),...e})}function C4({className:t,...e}){return o.jsx("p",{"data-slot":"card-description",className:qe("text-muted-foreground",t),...e})}function Le({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:qe("px-6 [&:last-child]:pb-6",t),...e})}const wH=N_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function wt({className:t,variant:e,asChild:r=!1,...n}){const a=r?zT:"span";return o.jsx(a,{"data-slot":"badge",className:qe(wH({variant:e}),t),...n})}var _H=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=_H.reduce((t,e)=>{const r=Yl(`Primitive.${e}`),n=S.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function jH(t,e){t&&Hg.flushSync(()=>t.dispatchEvent(e))}var NH="Separator",O4="horizontal",SH=["horizontal","vertical"],s8=S.forwardRef((t,e)=>{const{decorative:r,orientation:n=O4,...a}=t,i=AH(n)?n:O4,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(at.div,{"data-orientation":i,...l,...a,ref:e})});s8.displayName=NH;function AH(t){return SH.includes(t)}var kH=s8;function Jn({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return o.jsx(kH,{"data-slot":"separator-root",decorative:r,orientation:e,className:qe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function PH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const CH=t=>{switch(t){case"success":return TH;case"info":return RH;case"warning":return IH;case"error":return LH;default:return null}},OH=Array(12).fill(0),EH=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},OH.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),TH=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IH=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RH=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LH=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MH=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DH=()=>{const[t,e]=K.useState(document.hidden);return K.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let P2=1;class $H{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:P2++,s=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,s;const l=a.then(async u=>{if(s=["resolve",u],K.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(BH(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...g})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,h=typeof d=="object"&&!K.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...h})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||P2++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const oa=new $H,FH=(t,e)=>{const r=(e==null?void 0:e.id)||P2++;return oa.addToast({title:t,...e,id:r}),r},BH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qH=FH,UH=()=>oa.toasts,zH=()=>oa.getActiveToasts(),ke=Object.assign(qH,{success:oa.success,info:oa.info,warning:oa.warning,error:oa.error,custom:oa.custom,message:oa.message,promise:oa.promise,dismiss:oa.dismiss,loading:oa.loading},{getHistory:UH,getToasts:zH});PH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Tp(t){return t.label!==void 0}const WH=3,HH="24px",VH="16px",E4=4e3,GH=356,YH=14,KH=45,XH=200;function Gi(...t){return t.filter(Boolean).join(" ")}function ZH(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const JH=t=>{var e,r,n,a,i,s,l,c,u;const{invert:d,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:m,heights:v,index:x,toasts:j,expanded:w,removeToast:_,defaultRichColors:N,closeButton:A,style:k,cancelButtonStyle:E,actionButtonStyle:I,className:L="",descriptionClassName:C="",duration:O,position:R,gap:M,expandByDefault:W,classNames:H,icons:G,closeButtonAriaLabel:F="Close toast"}=t,[ae,Q]=K.useState(null),[oe,$]=K.useState(null),[U,z]=K.useState(!1),[J,le]=K.useState(!1),[se,de]=K.useState(!1),[ie,he]=K.useState(!1),[ge,ue]=K.useState(!1),[Ce,me]=K.useState(0),[ee,Ve]=K.useState(0),Ue=K.useRef(f.duration||O||E4),We=K.useRef(null),Pe=K.useRef(null),Qe=x===0,$e=x+1<=m,Ke=f.type,Ge=f.dismissible!==!1,Wt=f.className||"",vt=f.descriptionClassName||"",yt=K.useMemo(()=>v.findIndex(Be=>Be.toastId===f.id)||0,[v,f.id]),rr=K.useMemo(()=>{var Be;return(Be=f.closeButton)!=null?Be:A},[f.closeButton,A]),At=K.useMemo(()=>f.duration||O||E4,[f.duration,O]),it=K.useRef(0),dt=K.useRef(0),ot=K.useRef(0),Gt=K.useRef(null),[Yt,nt]=R.split("-"),St=K.useMemo(()=>v.reduce((Be,vr,Kt)=>Kt>=yt?Be:Be+vr.height,0),[v,yt]),nr=DH(),ft=f.invert||d,qt=Ke==="loading";dt.current=K.useMemo(()=>yt*M+St,[yt,St]),K.useEffect(()=>{Ue.current=At},[At]),K.useEffect(()=>{z(!0)},[]),K.useEffect(()=>{const Be=Pe.current;if(Be){const vr=Be.getBoundingClientRect().height;return Ve(vr),g(Kt=>[{toastId:f.id,height:vr,position:f.position},...Kt]),()=>g(Kt=>Kt.filter(Fr=>Fr.toastId!==f.id))}},[g,f.id]),K.useLayoutEffect(()=>{if(!U)return;const Be=Pe.current,vr=Be.style.height;Be.style.height="auto";const Kt=Be.getBoundingClientRect().height;Be.style.height=vr,Ve(Kt),g(Fr=>Fr.find(ze=>ze.toastId===f.id)?Fr.map(ze=>ze.toastId===f.id?{...ze,height:Kt}:ze):[{toastId:f.id,height:Kt,position:f.position},...Fr])},[U,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const ht=K.useCallback(()=>{le(!0),me(dt.current),g(Be=>Be.filter(vr=>vr.toastId!==f.id)),setTimeout(()=>{_(f)},XH)},[f,_,g,dt]);K.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let Be;return w||h||nr?(()=>{if(ot.current<it.current){const Fr=new Date().getTime()-it.current;Ue.current=Ue.current-Fr}ot.current=new Date().getTime()})():(()=>{Ue.current!==1/0&&(it.current=new Date().getTime(),Be=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ht()},Ue.current))})(),()=>clearTimeout(Be)},[w,h,f,Ke,nr,ht]),K.useEffect(()=>{f.delete&&(ht(),f.onDismiss==null||f.onDismiss.call(f,f))},[ht,f.delete]);function $r(){var Be;if(G!=null&&G.loading){var vr;return K.createElement("div",{className:Gi(H==null?void 0:H.loader,f==null||(vr=f.classNames)==null?void 0:vr.loader,"sonner-loader"),"data-visible":Ke==="loading"},G.loading)}return K.createElement(EH,{className:Gi(H==null?void 0:H.loader,f==null||(Be=f.classNames)==null?void 0:Be.loader),visible:Ke==="loading"})}const Gr=f.icon||(G==null?void 0:G[Ke])||CH(Ke);var ar,xt;return K.createElement("li",{tabIndex:0,ref:Pe,className:Gi(L,Wt,H==null?void 0:H.toast,f==null||(e=f.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Ke],f==null||(r=f.classNames)==null?void 0:r[Ke]),"data-sonner-toast":"","data-rich-colors":(ar=f.richColors)!=null?ar:N,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":U,"data-promise":!!f.promise,"data-swiped":ge,"data-removed":J,"data-visible":$e,"data-y-position":Yt,"data-x-position":nt,"data-index":x,"data-front":Qe,"data-swiping":se,"data-dismissible":Ge,"data-type":Ke,"data-invert":ft,"data-swipe-out":ie,"data-swipe-direction":oe,"data-expanded":!!(w||W&&U),"data-testid":f.testId,style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${J?Ce:dt.current}px`,"--initial-height":W?"auto":`${ee}px`,...k,...f.style},onDragEnd:()=>{de(!1),Q(null),Gt.current=null},onPointerDown:Be=>{Be.button!==2&&(qt||!Ge||(We.current=new Date,me(dt.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(de(!0),Gt.current={x:Be.clientX,y:Be.clientY})))},onPointerUp:()=>{var Be,vr,Kt;if(ie||!Ge)return;Gt.current=null;const Fr=Number(((Be=Pe.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hn=Number(((vr=Pe.current)==null?void 0:vr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ze=new Date().getTime()-((Kt=We.current)==null?void 0:Kt.getTime()),qr=ae==="x"?Fr:Hn,ra=Math.abs(qr)/ze;if(Math.abs(qr)>=KH||ra>.11){me(dt.current),f.onDismiss==null||f.onDismiss.call(f,f),$(ae==="x"?Fr>0?"right":"left":Hn>0?"down":"up"),ht(),he(!0);return}else{var Ir,Rr;(Ir=Pe.current)==null||Ir.style.setProperty("--swipe-amount-x","0px"),(Rr=Pe.current)==null||Rr.style.setProperty("--swipe-amount-y","0px")}ue(!1),de(!1),Q(null)},onPointerMove:Be=>{var vr,Kt,Fr;if(!Gt.current||!Ge||((vr=window.getSelection())==null?void 0:vr.toString().length)>0)return;const ze=Be.clientY-Gt.current.y,qr=Be.clientX-Gt.current.x;var ra;const Ir=(ra=t.swipeDirections)!=null?ra:ZH(R);!ae&&(Math.abs(qr)>1||Math.abs(ze)>1)&&Q(Math.abs(qr)>Math.abs(ze)?"x":"y");let Rr={x:0,y:0};const kr=yr=>1/(1.5+Math.abs(yr)/20);if(ae==="y"){if(Ir.includes("top")||Ir.includes("bottom"))if(Ir.includes("top")&&ze<0||Ir.includes("bottom")&&ze>0)Rr.y=ze;else{const yr=ze*kr(ze);Rr.y=Math.abs(yr)<Math.abs(ze)?yr:ze}}else if(ae==="x"&&(Ir.includes("left")||Ir.includes("right")))if(Ir.includes("left")&&qr<0||Ir.includes("right")&&qr>0)Rr.x=qr;else{const yr=qr*kr(qr);Rr.x=Math.abs(yr)<Math.abs(qr)?yr:qr}(Math.abs(Rr.x)>0||Math.abs(Rr.y)>0)&&ue(!0),(Kt=Pe.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Rr.x}px`),(Fr=Pe.current)==null||Fr.style.setProperty("--swipe-amount-y",`${Rr.y}px`)}},rr&&!f.jsx&&Ke!=="loading"?K.createElement("button",{"aria-label":F,"data-disabled":qt,"data-close-button":!0,onClick:qt||!Ge?()=>{}:()=>{ht(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Gi(H==null?void 0:H.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(xt=G==null?void 0:G.close)!=null?xt:MH):null,(Ke||f.icon||f.promise)&&f.icon!==null&&((G==null?void 0:G[Ke])!==null||f.icon)?K.createElement("div",{"data-icon":"",className:Gi(H==null?void 0:H.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||$r():null,f.type!=="loading"?Gr:null):null,K.createElement("div",{"data-content":"",className:Gi(H==null?void 0:H.content,f==null||(i=f.classNames)==null?void 0:i.content)},K.createElement("div",{"data-title":"",className:Gi(H==null?void 0:H.title,f==null||(s=f.classNames)==null?void 0:s.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?K.createElement("div",{"data-description":"",className:Gi(C,vt,H==null?void 0:H.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),K.isValidElement(f.cancel)?f.cancel:f.cancel&&Tp(f.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:Be=>{Tp(f.cancel)&&Ge&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Be),ht())},className:Gi(H==null?void 0:H.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,K.isValidElement(f.action)?f.action:f.action&&Tp(f.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:Be=>{Tp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Be),!Be.defaultPrevented&&ht())},className:Gi(H==null?void 0:H.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function T4(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function QH(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,s=i?"--mobile-offset":"--offset",l=i?VH:HH;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const eV=K.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:g,style:m,visibleToasts:v=WH,toastOptions:x,dir:j=T4(),gap:w=YH,icons:_,containerAriaLabel:N="Notifications"}=e,[A,k]=K.useState([]),E=K.useMemo(()=>n?A.filter(U=>U.toasterId===n):A.filter(U=>!U.toasterId),[A,n]),I=K.useMemo(()=>Array.from(new Set([i].concat(E.filter(U=>U.position).map(U=>U.position)))),[E,i]),[L,C]=K.useState([]),[O,R]=K.useState(!1),[M,W]=K.useState(!1),[H,G]=K.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=K.useRef(null),ae=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=K.useRef(null),oe=K.useRef(!1),$=K.useCallback(U=>{k(z=>{var J;return(J=z.find(le=>le.id===U.id))!=null&&J.delete||oa.dismiss(U.id),z.filter(({id:le})=>le!==U.id)})},[]);return K.useEffect(()=>oa.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{k(z=>z.map(J=>J.id===U.id?{...J,delete:!0}:J))});return}setTimeout(()=>{BT.flushSync(()=>{k(z=>{const J=z.findIndex(le=>le.id===U.id);return J!==-1?[...z.slice(0,J),{...z[J],...U},...z.slice(J+1)]:[U,...z]})})})}),[A]),K.useEffect(()=>{if(p!=="system"){G(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:z})=>{G(z?"dark":"light")})}catch{U.addListener(({matches:J})=>{try{G(J?"dark":"light")}catch(le){console.error(le)}})}},[p]),K.useEffect(()=>{A.length<=1&&R(!1)},[A]),K.useEffect(()=>{const U=z=>{var J;if(s.every(de=>z[de]||z.code===de)){var se;R(!0),(se=F.current)==null||se.focus()}z.code==="Escape"&&(document.activeElement===F.current||(J=F.current)!=null&&J.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),K.useEffect(()=>{if(F.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,oe.current=!1)}},[F.current]),K.createElement("section",{ref:r,"aria-label":`${N} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((U,z)=>{var J;const[le,se]=U.split("-");return E.length?K.createElement("ol",{key:U,dir:j==="auto"?T4():j,tabIndex:-1,ref:F,className:u,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":le,"data-x-position":se,style:{"--front-toast-height":`${((J=L[0])==null?void 0:J.height)||0}px`,"--width":`${GH}px`,"--gap":`${w}px`,...m,...QH(d,f)},onBlur:de=>{oe.current&&!de.currentTarget.contains(de.relatedTarget)&&(oe.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,Q.current=de.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{M||R(!1)},onDragEnd:()=>R(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},E.filter(de=>!de.position&&z===0||de.position===U).map((de,ie)=>{var he,ge;return K.createElement(JH,{key:de.id,icons:_,index:ie,toast:de,defaultRichColors:h,duration:(he=x==null?void 0:x.duration)!=null?he:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:a,visibleToasts:v,closeButton:(ge=x==null?void 0:x.closeButton)!=null?ge:c,interacting:M,position:U,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:$,toasts:E.filter(ue=>ue.position==de.position),heights:L.filter(ue=>ue.position==de.position),setHeights:C,expandByDefault:l,gap:w,expanded:O,swipeDirections:e.swipeDirections})})):null}))});function tV({product:t,onAddToCart:e,onBack:r}){const[n,a]=S.useState(""),[i,s]=S.useState(""),[l,c]=S.useState(1),[u,d]=S.useState(!1),[f,p]=S.useState(0),[h,g]=S.useState(!1),m=S.useRef(null);S.useEffect(()=>{const k=E=>{m.current&&!m.current.contains(E.target)&&g(!1)};return h&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[h]);const v=async()=>{const k={title:t.name,text:`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`,url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(k)?(await navigator.share(k),ke.success("Product shared successfully!")):g(!h)}catch(E){console.error("Error sharing:",E),g(!h)}},x=async()=>{try{await navigator.clipboard.writeText(window.location.href),ke.success("Product link copied to clipboard!"),g(!1)}catch(k){console.error("Clipboard error:",k),ke.error("Unable to copy link. Please copy the URL manually.")}},j=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price} ${window.location.href}`);window.open(`https://wa.me/?text=${k}`,"_blank"),g(!1)},w=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`);window.open(`https://twitter.com/intent/tweet?text=${k}&url=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},_=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},N=()=>{if(!n){ke.error("Please select a size");return}if(!i){ke.error("Please select a color");return}e(t,n,i,l),ke.success("Added to cart successfully!")},A={XS:"Extra Small (0-2)",S:"Small (4-6)",M:"Medium (8-10)",L:"Large (12-14)",XL:"Extra Large (16-18)",XXL:"XXL (20-22)"};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[o.jsxs(we,{variant:"ghost",onClick:r,className:"mb-6 hover:bg-secondary",children:[o.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:o.jsx("img",{src:t.images[f]||t.images[0],alt:`${t.name} - Image ${f+1}`,className:"w-full h-full object-cover",loading:"eager"})}),t.originalPrice&&o.jsxs(wt,{className:"absolute top-4 left-4 bg-destructive text-destructive-foreground z-10 shadow-lg",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]}),!t.inStock&&o.jsx(wt,{className:"absolute top-4 right-4 bg-gray-500 text-white z-10 shadow-lg",children:"Out of Stock"})]}),t.images.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.images.map((k,E)=>o.jsx("button",{onClick:()=>{console.log("🖼️ ProductDetail: Thumbnail clicked, moving from index",f,"to index",E),p(E)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${f===E?"border-primary shadow-md ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:o.jsx("img",{src:k,alt:`${t.name} ${E+1}`,className:"w-full h-full object-cover",loading:"eager"})},E))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(wt,{variant:"secondary",className:"mb-2",children:t.category}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,E)=>o.jsx(Vr,{className:`h-4 w-4 ${E<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},E))}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviews.length," reviews)"]})]}),o.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[o.jsxs("span",{className:"text-3xl font-bold",children:["R",t.price]}),t.originalPrice&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["R",t.originalPrice]}),o.jsxs(wt,{variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]})]}),o.jsx("div",{className:"flex items-center gap-2 mb-6",children:t.inStock?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-sm text-green-600",children:"In Stock"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),o.jsx("span",{className:"text-sm text-red-600",children:"Out of Stock"})]})})]}),o.jsx(Jn,{}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Size"}),o.jsx(we,{variant:"link",className:"text-sm p-0 h-auto",children:"Size Guide"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:t.sizes.map(k=>o.jsx(we,{variant:n===k?"default":"outline",className:"aspect-square",onClick:()=>a(k),children:k},k))}),n&&A[n]&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:A[n]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium mb-3",children:["Color: ",i]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(k=>o.jsxs("button",{onClick:()=>s(k),className:`relative flex items-center gap-2 px-3 py-2 border rounded-lg transition-all ${i===k?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx("div",{className:`w-4 h-4 rounded-full border ${k.toLowerCase()==="black"?"bg-black":k.toLowerCase()==="white"?"bg-white border-gray-300":k.toLowerCase()==="gray"?"bg-gray-400":k.toLowerCase()==="navy"?"bg-blue-900":k.toLowerCase()==="brown"?"bg-amber-800":k.toLowerCase()==="beige"?"bg-amber-100":k.toLowerCase()==="pink"?"bg-pink-400":k.toLowerCase()==="blue"?"bg-blue-500":k.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`}),o.jsx("span",{className:"text-sm",children:k})]},k))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Quantity"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(we,{variant:"outline",size:"icon",onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,children:o.jsx(cI,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-12 text-center font-medium",children:l}),o.jsx(we,{variant:"outline",size:"icon",onClick:()=>c(l+1),disabled:l>=10,children:o.jsx(Ul,{className:"h-4 w-4"})})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(we,{className:"w-full",size:"lg",onClick:N,disabled:!t.inStock,children:[o.jsx(R_,{className:"h-4 w-4 mr-2"}),"Add to Cart - R",(t.price*l).toFixed(2)]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(we,{variant:"outline",className:"flex-1",onClick:()=>d(!u),children:[o.jsx(Uo,{className:`h-4 w-4 mr-2 ${u?"fill-red-500 text-red-500":""}`}),u?"Saved":"Save"]}),o.jsxs("div",{className:"relative flex-1",ref:m,children:[o.jsxs(we,{variant:"outline",className:"w-full",onClick:v,children:[o.jsx(IU,{className:"h-4 w-4 mr-2"}),"Share"]}),h&&o.jsxs("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border rounded-lg shadow-lg z-10 overflow-hidden",children:[o.jsxs("button",{onClick:x,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx(Rq,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Copy Link"})]}),o.jsxs("button",{onClick:j,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx(Ka,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Share on WhatsApp"})]}),o.jsxs("button",{onClick:w,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx("div",{className:"h-4 w-4 bg-blue-400 rounded-sm flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"𝕏"})}),o.jsx("span",{className:"text-sm",children:"Share on X (Twitter)"})]}),o.jsxs("button",{onClick:_,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-sm flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),o.jsx("span",{className:"text-sm",children:"Share on Facebook"})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Tu,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Free Shipping"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders over R3500"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Xl,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Collections"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Curated fashion"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Us,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Secure Payment"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL protected"})]})]})]})]})]}),o.jsxs("div",{className:"mt-12 space-y-8",children:[o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Description"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>uz(t.id,t.name),className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"h-4 w-4"}),"Write a Review"]})})]}),o.jsx(D_,{widgetType:"product-review",productSku:t.id,height:"400px",className:"w-full"}),o.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Reviews are powered by ",o.jsx("span",{className:"font-medium",children:"Trustpilot"})]})]})})]}),o.jsx(Yo,{})]})}function Dt({className:t,type:e,...r}){return o.jsx("input",{type:e,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const rV="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function o8(t){const[e,r]=S.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:s,className:l,...c}=t;return e?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:s,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:rV,alt:"Error loading image",...c,"data-original-url":a})})}):o.jsx("img",{src:a,alt:i,className:l,style:s,...c,onError:n})}function nV({items:t,onUpdateQuantity:e,onRemoveItem:r,onProceedToCheckout:n,onContinueShopping:a}){const[i,s]=S.useState(""),[l,c]=S.useState(null),u=t.reduce((x,j)=>x+j.product.price*j.quantity,0),d=(l==null?void 0:l.amount)||0,f=u*15/115,p=u-f,g=p>=3500?0:110,m=u-d+g,v=()=>{const x={WELCOME10:10,SAVE20:20,MEMBER15:15,FREESHIP:9.99},j=i.toUpperCase();x[j]?(c({code:j,amount:x[j]}),ke.success(`Discount code ${j} applied!`)):ke.error("Invalid discount code")};return t.length===0?o.jsx("div",{className:"container mx-auto px-6 py-12 pb-24",children:o.jsxs("div",{className:"text-center max-w-md mx-auto",children:[o.jsx(R_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added anything to your cart yet."}),o.jsx(we,{onClick:a||(()=>window.history.back()),children:"Continue Shopping"})]})}):o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Shopping Cart (",t.length," items)"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(x=>o.jsx(Re,{children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(o8,{src:x.product.images[0],alt:x.product.name,className:"w-24 h-24 object-cover rounded-lg",loading:"eager"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:x.product.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",x.size," • Color: ",x.color]})]}),o.jsx(we,{variant:"ghost",size:"icon",onClick:()=>r(x.productId,x.size,x.color),children:o.jsx(dc,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(x.productId,x.size,x.color,x.quantity-1),disabled:x.quantity<=1,children:o.jsx(cI,{className:"h-3 w-3"})}),o.jsx("span",{className:"w-8 text-center text-sm",children:x.quantity}),o.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(x.productId,x.size,x.color,x.quantity+1),disabled:x.quantity>=10,children:o.jsx(Ul,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"font-semibold",children:["R",(x.product.price*x.quantity).toFixed(2)]}),x.product.originalPrice&&o.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["R",(x.product.originalPrice*x.quantity).toFixed(2)]})]})]})]})]})})},`${x.productId}-${x.size}-${x.color}`))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(Re,{className:"sticky top-24",children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Order Summary"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Discount Code"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Dt,{placeholder:"Enter code",value:i,onChange:x=>s(x.target.value),className:"flex-1"}),o.jsx(we,{variant:"outline",size:"sm",onClick:v,children:o.jsx(hI,{className:"h-4 w-4"})})]}),l&&o.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[o.jsxs("span",{children:["Code: ",l.code]}),o.jsxs("span",{children:["-R",l.amount.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R",p.toFixed(2)]})]}),d>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Discount"}),o.jsxs("span",{children:["-R",d.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:g===0?o.jsx("span",{className:"text-green-600",children:"FREE"}):`R${g.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax (15% VAT)"}),o.jsxs("span",{children:["R",f.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R",m.toFixed(2)]})]}),p<3500&&o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-600",children:["Add R",(3500-p).toFixed(2)," more for FREE shipping!"]})}),o.jsx(we,{className:"w-full",size:"lg",onClick:n,children:"Proceed to Checkout"}),o.jsx("div",{className:"text-center",children:o.jsx(we,{variant:"link",onClick:a||(()=>window.history.back()),children:"Continue Shopping"})})]})]})})]}),o.jsx(Yo,{})]})}var aV="Label",l8=S.forwardRef((t,e)=>o.jsx(at.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));l8.displayName=aV;var iV=l8;function Et({className:t,...e}){return o.jsx(iV,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function sV(t,e){const r=S.createContext(e),n=i=>{const{children:s,...l}=i,c=S.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=t+"Provider";function a(i){const s=S.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Mn(t,e=[]){let r=[];function n(i,s){const l=S.createContext(s),c=r.length;r=[...r,s];const u=f=>{var x;const{scope:p,children:h,...g}=f,m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,v=S.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:h})};u.displayName=i+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=S.useContext(h);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>S.createContext(s));return function(l){const c=(l==null?void 0:l[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,oV(a,...e)]}function oV(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Wn(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var nn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},xy={exports:{}},by={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function lV(){if(I4)return by;I4=1;var t=FT();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),m=g[0].inst,v=g[1];return i(function(){m.value=h,m.getSnapshot=p,c(m)&&v({inst:m})},[f,h,p]),a(function(){return c(m)&&v({inst:m}),f(function(){c(m)&&v({inst:m})})},[f]),s(h),h}function c(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return by.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,by}var R4;function cV(){return R4||(R4=1,xy.exports=lV()),xy.exports}var uV=cV();function dV(){return uV.useSyncExternalStore(fV,()=>!0,()=>!1)}function fV(){return()=>{}}var G_="Avatar",[hV,awe]=Mn(G_),[pV,c8]=hV(G_),u8=S.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=S.useState("idle");return o.jsx(pV,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(at.span,{...n,ref:e})})});u8.displayName=G_;var d8="AvatarImage",mV=S.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=c8(d8,r),l=gV(n,i),c=Wn(u=>{a(u),s.onImageLoadingStatusChange(u)});return nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(at.img,{...i,ref:e,src:n}):null});mV.displayName=d8;var f8="AvatarFallback",h8=S.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=c8(f8,r),[s,l]=S.useState(n===void 0);return S.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(at.span,{...a,ref:e}):null});h8.displayName=f8;function L4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gV(t,{referrerPolicy:e,crossOrigin:r}){const n=dV(),a=S.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,l]=S.useState(()=>L4(i,t));return nn(()=>{l(L4(i,t))},[i,t]),nn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,e]),s}var vV=u8,yV=h8;function p8({className:t,...e}){return o.jsx(vV,{"data-slot":"avatar",className:qe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function m8({className:t,...e}){return o.jsx(yV,{"data-slot":"avatar-fallback",className:qe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function ut(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}var xV=qT[" useId ".trim().toString()]||(()=>{}),bV=0;function _i(t){const[e,r]=S.useState(xV());return nn(()=>{r(n=>n??String(bV++))},[t]),t||(e?`radix-${e}`:"")}var wV=qT[" useInsertionEffect ".trim().toString()]||nn;function Za({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=_V({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=S.useCallback(d=>{var f;if(l){const p=jV(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else i(d)},[l,t,i,s]);return[c,u]}function _V({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),a=S.useRef(r),i=S.useRef(e);return wV(()=>{i.current=e},[e]),S.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function jV(t){return typeof t=="function"}function NV(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t);S.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var SV="DismissableLayer",C2="dismissableLayer.update",AV="dismissableLayer.pointerDownOutside",kV="dismissableLayer.focusOutside",M4,g8=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ev=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=t,u=S.useContext(g8),[d,f]=S.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=S.useState({}),g=Bt(e,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),j=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=j>=x,N=OV(k=>{const E=k.target,I=[...u.branches].some(L=>L.contains(E));!_||I||(a==null||a(k),s==null||s(k),k.defaultPrevented||l==null||l())},p),A=EV(k=>{const E=k.target;[...u.branches].some(L=>L.contains(E))||(i==null||i(k),s==null||s(k),k.defaultPrevented||l==null||l())},p);return NV(k=>{j===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),S.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(M4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),D4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=M4)}},[d,p,r,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),D4())},[d,u]),S.useEffect(()=>{const k=()=>h({});return document.addEventListener(C2,k),()=>document.removeEventListener(C2,k)},[]),o.jsx(at.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:ut(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ut(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ut(t.onPointerDownCapture,N.onPointerDownCapture)})});ev.displayName=SV;var PV="DismissableLayerBranch",CV=S.forwardRef((t,e)=>{const r=S.useContext(g8),n=S.useRef(null),a=Bt(e,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(at.div,{...t,ref:a})});CV.displayName=PV;function OV(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t),n=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){v8(AV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function EV(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t),n=S.useRef(!1);return S.useEffect(()=>{const a=i=>{i.target&&!n.current&&v8(kV,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function D4(){const t=new CustomEvent(C2);document.dispatchEvent(t)}function v8(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?jH(a,i):a.dispatchEvent(i)}var wy="focusScope.autoFocusOnMount",_y="focusScope.autoFocusOnUnmount",$4={bubbles:!1,cancelable:!0},TV="FocusScope",tv=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[l,c]=S.useState(null),u=Wn(a),d=Wn(i),f=S.useRef(null),p=Bt(e,m=>c(m)),h=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(w){if(h.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Co(f.current,{select:!0})},v=function(w){if(h.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Co(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Co(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const j=new MutationObserver(x);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),j.disconnect()}}},[n,l,h.paused]),S.useEffect(()=>{if(l){B4.add(h);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(wy,$4);l.addEventListener(wy,u),l.dispatchEvent(x),x.defaultPrevented||(IV($V(y8(l)),{select:!0}),document.activeElement===m&&Co(l))}return()=>{l.removeEventListener(wy,u),setTimeout(()=>{const x=new CustomEvent(_y,$4);l.addEventListener(_y,d),l.dispatchEvent(x),x.defaultPrevented||Co(m??document.body,{select:!0}),l.removeEventListener(_y,d),B4.remove(h)},0)}}},[l,u,d,h]);const g=S.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const j=m.currentTarget,[w,_]=RV(j);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Co(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&Co(_,{select:!0})):x===j&&m.preventDefault()}},[r,n,h.paused]);return o.jsx(at.div,{tabIndex:-1,...s,ref:p,onKeyDown:g})});tv.displayName=TV;function IV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Co(n,{select:e}),document.activeElement!==r)return}function RV(t){const e=y8(t),r=F4(e,t),n=F4(e.reverse(),t);return[r,n]}function y8(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function F4(t,e){for(const r of t)if(!LV(r,{upTo:e}))return r}function LV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MV(t){return t instanceof HTMLInputElement&&"select"in t}function Co(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&MV(t)&&e&&t.select()}}var B4=DV();function DV(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=q4(t,e),t.unshift(e)},remove(e){var r;t=q4(t,e),(r=t[0])==null||r.resume()}}}function q4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function $V(t){return t.filter(e=>e.tagName!=="A")}var FV="Portal",rv=S.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,i]=S.useState(!1);nn(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?BT.createPortal(o.jsx(at.div,{...n,ref:e}),s):null});rv.displayName=FV;function BV(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var da=t=>{const{present:e,children:r}=t,n=qV(e),a=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=Bt(n.ref,UV(a));return typeof r=="function"||n.isPresent?S.cloneElement(a,{ref:i}):null};da.displayName="Presence";function qV(t){const[e,r]=S.useState(),n=S.useRef(null),a=S.useRef(t),i=S.useRef("none"),s=t?"mounted":"unmounted",[l,c]=BV(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Ip(n.current);i.current=l==="mounted"?u:"none"},[l]),nn(()=>{const u=n.current,d=a.current;if(d!==t){const p=i.current,h=Ip(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),nn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const m=Ip(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=h=>{h.target===e&&(i.current=Ip(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ip(t){return(t==null?void 0:t.animationName)||"none"}function UV(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var jy=0;function Y_(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??U4()),document.body.insertAdjacentElement("beforeend",t[1]??U4()),jy++,()=>{jy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jy--}},[])}function U4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ji=function(){return Ji=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ji.apply(this,arguments)};function x8(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function zV(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var hm="right-scroll-bar-position",pm="width-before-scroll-bar",WV="with-scroll-bars-hidden",HV="--removed-body-scroll-bar-size";function Ny(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function VV(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var GV=typeof window<"u"?S.useLayoutEffect:S.useEffect,z4=new WeakMap;function YV(t,e){var r=VV(null,function(n){return t.forEach(function(a){return Ny(a,n)})});return GV(function(){var n=z4.get(r);if(n){var a=new Set(n),i=new Set(t),s=r.current;a.forEach(function(l){i.has(l)||Ny(l,null)}),i.forEach(function(l){a.has(l)||Ny(l,s)})}z4.set(r,t)},[t]),r}function KV(t){return t}function XV(t,e){e===void 0&&(e=KV);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var s=e(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function ZV(t){t===void 0&&(t={});var e=XV(null);return e.options=Ji({async:!0,ssr:!1},t),e}var b8=function(t){var e=t.sideCar,r=x8(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Ji({},r))};b8.isSideCarExport=!0;function JV(t,e){return t.useMedium(e),b8}var w8=ZV(),Sy=function(){},nv=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:Sy,onWheelCapture:Sy,onTouchMoveCapture:Sy}),a=n[0],i=n[1],s=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,x=t.as,j=x===void 0?"div":x,w=t.gapMode,_=x8(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,A=YV([r,e]),k=Ji(Ji({},_),a);return S.createElement(S.Fragment,null,d&&S.createElement(N,{sideCar:w8,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?S.cloneElement(S.Children.only(l),Ji(Ji({},k),{ref:A})):S.createElement(j,Ji({},k,{className:c,ref:A}),l))});nv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nv.classNames={fullWidth:pm,zeroRight:hm};var QV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QV();return e&&t.setAttribute("nonce",e),t}function tG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nG=function(){var t=0,e=null;return{add:function(r){t==0&&(e=eG())&&(tG(e,r),rG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aG=function(){var t=nG();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},_8=function(){var t=aG(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},iG={left:0,top:0,right:0,gap:0},Ay=function(t){return parseInt(t||"",10)||0},sG=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ay(r),Ay(n),Ay(a)]},oG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iG;var e=sG(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},lG=_8(),bu="data-scroll-locked",cG=function(t,e,r,n){var a=t.left,i=t.top,s=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(WV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hm," .").concat(hm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pm," .").concat(pm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(HV,": ").concat(l,`px;
  }
`)},W4=function(){var t=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(t)?t:0},uG=function(){S.useEffect(function(){return document.body.setAttribute(bu,(W4()+1).toString()),function(){var t=W4()-1;t<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,t.toString())}},[])},dG=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;uG();var i=S.useMemo(function(){return oG(a)},[a]);return S.createElement(lG,{styles:cG(i,!e,a,r?"":"!important")})},O2=!1;if(typeof window<"u")try{var Rp=Object.defineProperty({},"passive",{get:function(){return O2=!0,!0}});window.addEventListener("test",Rp,Rp),window.removeEventListener("test",Rp,Rp)}catch{O2=!1}var Yc=O2?{passive:!1}:!1,fG=function(t){return t.tagName==="TEXTAREA"},j8=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!fG(t)&&r[e]==="visible")},hG=function(t){return j8(t,"overflowY")},pG=function(t){return j8(t,"overflowX")},H4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=N8(t,n);if(a){var i=S8(t,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},mG=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},gG=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},N8=function(t,e){return t==="v"?hG(e):pG(e)},S8=function(t,e){return t==="v"?mG(e):gG(e)},vG=function(t,e){return t==="h"&&e==="rtl"?-1:1},yG=function(t,e,r,n,a){var i=vG(t,window.getComputedStyle(e).direction),s=i*n,l=r.target,c=e.contains(l),u=!1,d=s>0,f=0,p=0;do{if(!l)break;var h=S8(t,l),g=h[0],m=h[1],v=h[2],x=m-v-i*g;(g||x)&&N8(t,l)&&(f+=x,p+=g);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Lp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},V4=function(t){return[t.deltaX,t.deltaY]},G4=function(t){return t&&"current"in t?t.current:t},xG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wG=0,Kc=[];function _G(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),a=S.useState(wG++)[0],i=S.useState(_8)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=zV([t.lockRef.current],(t.shards||[]).map(G4),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var x=Lp(m),j=r.current,w="deltaX"in m?m.deltaX:j[0]-x[0],_="deltaY"in m?m.deltaY:j[1]-x[1],N,A=m.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&A.type==="range")return!1;var E=H4(k,A);if(!E)return!0;if(E?N=k:(N=k==="v"?"h":"v",E=H4(k,A)),!E)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=N),!N)return!0;var I=n.current||N;return yG(I,v,m,I==="h"?w:_)},[]),c=S.useCallback(function(m){var v=m;if(!(!Kc.length||Kc[Kc.length-1]!==i)){var x="deltaY"in v?V4(v):Lp(v),j=e.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&xG(N.delta,x)})[0];if(j&&j.should){v.cancelable&&v.preventDefault();return}if(!j){var w=(s.current.shards||[]).map(G4).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?l(v,w[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=S.useCallback(function(m,v,x,j){var w={name:m,delta:v,target:x,should:j,shadowParent:jG(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=S.useCallback(function(m){r.current=Lp(m),n.current=void 0},[]),f=S.useCallback(function(m){u(m.type,V4(m),m.target,l(m,t.lockRef.current))},[]),p=S.useCallback(function(m){u(m.type,Lp(m),m.target,l(m,t.lockRef.current))},[]);S.useEffect(function(){return Kc.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Yc),document.addEventListener("touchmove",c,Yc),document.addEventListener("touchstart",d,Yc),function(){Kc=Kc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Yc),document.removeEventListener("touchmove",c,Yc),document.removeEventListener("touchstart",d,Yc)}},[]);var h=t.removeScrollBar,g=t.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:bG(a)}):null,h?S.createElement(dG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function jG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NG=JV(w8,_G);var av=S.forwardRef(function(t,e){return S.createElement(nv,Ji({},t,{ref:e,sideCar:NG}))});av.classNames=nv.classNames;var SG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xc=new WeakMap,Mp=new WeakMap,Dp={},ky=0,A8=function(t){return t&&(t.host||A8(t.parentNode))},AG=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=A8(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},kG=function(t,e,r,n){var a=AG(e,Array.isArray(t)?t:[t]);Dp[r]||(Dp[r]=new WeakMap);var i=Dp[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",m=(Xc.get(p)||0)+1,v=(i.get(p)||0)+1;Xc.set(p,m),i.set(p,v),s.push(p),m===1&&g&&Mp.set(p,!0),v===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),l.clear(),ky++,function(){s.forEach(function(f){var p=Xc.get(f)-1,h=i.get(f)-1;Xc.set(f,p),i.set(f,h),p||(Mp.has(f)||f.removeAttribute(n),Mp.delete(f)),h||f.removeAttribute(r)}),ky--,ky||(Xc=new WeakMap,Xc=new WeakMap,Mp=new WeakMap,Dp={})}},K_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=SG(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),kG(n,a,r,"aria-hidden")):function(){return null}},iv="Dialog",[k8,P8]=Mn(iv),[PG,Ii]=k8(iv),C8=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=t,l=S.useRef(null),c=S.useRef(null),[u,d]=Za({prop:n,defaultProp:a??!1,onChange:i,caller:iv});return o.jsx(PG,{scope:e,triggerRef:l,contentRef:c,contentId:_i(),titleId:_i(),descriptionId:_i(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};C8.displayName=iv;var O8="DialogTrigger",E8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ii(O8,r),i=Bt(e,a.triggerRef);return o.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":J_(a.open),...n,ref:i,onClick:ut(t.onClick,a.onOpenToggle)})});E8.displayName=O8;var X_="DialogPortal",[CG,T8]=k8(X_,{forceMount:void 0}),I8=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=Ii(X_,e);return o.jsx(CG,{scope:e,forceMount:r,children:S.Children.map(n,s=>o.jsx(da,{present:r||i.open,children:o.jsx(rv,{asChild:!0,container:a,children:s})}))})};I8.displayName=X_;var Cm="DialogOverlay",R8=S.forwardRef((t,e)=>{const r=T8(Cm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Ii(Cm,t.__scopeDialog);return i.modal?o.jsx(da,{present:n||i.open,children:o.jsx(EG,{...a,ref:e})}):null});R8.displayName=Cm;var OG=Yl("DialogOverlay.RemoveScroll"),EG=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ii(Cm,r);return o.jsx(av,{as:OG,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(at.div,{"data-state":J_(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Zl="DialogContent",L8=S.forwardRef((t,e)=>{const r=T8(Zl,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Ii(Zl,t.__scopeDialog);return o.jsx(da,{present:n||i.open,children:i.modal?o.jsx(TG,{...a,ref:e}):o.jsx(IG,{...a,ref:e})})});L8.displayName=Zl;var TG=S.forwardRef((t,e)=>{const r=Ii(Zl,t.__scopeDialog),n=S.useRef(null),a=Bt(e,r.contentRef,n);return S.useEffect(()=>{const i=n.current;if(i)return K_(i)},[]),o.jsx(M8,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ut(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:ut(t.onFocusOutside,i=>i.preventDefault())})}),IG=S.forwardRef((t,e)=>{const r=Ii(Zl,t.__scopeDialog),n=S.useRef(!1),a=S.useRef(!1);return o.jsx(M8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),M8=S.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=t,l=Ii(Zl,r),c=S.useRef(null),u=Bt(e,c);return Y_(),o.jsxs(o.Fragment,{children:[o.jsx(tv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(ev,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":J_(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(LG,{titleId:l.titleId}),o.jsx(DG,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Z_="DialogTitle",D8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ii(Z_,r);return o.jsx(at.h2,{id:a.titleId,...n,ref:e})});D8.displayName=Z_;var $8="DialogDescription",F8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ii($8,r);return o.jsx(at.p,{id:a.descriptionId,...n,ref:e})});F8.displayName=$8;var B8="DialogClose",q8=S.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Ii(B8,r);return o.jsx(at.button,{type:"button",...n,ref:e,onClick:ut(t.onClick,()=>a.onOpenChange(!1))})});q8.displayName=B8;function J_(t){return t?"open":"closed"}var U8="DialogTitleWarning",[RG,z8]=sV(U8,{contentName:Zl,titleName:Z_,docsSlug:"dialog"}),LG=({titleId:t})=>{const e=z8(U8),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},MG="DialogDescriptionWarning",DG=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${z8(MG).contentName}}.`;return S.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Q_=C8,sv=E8,ej=I8,ov=R8,lv=L8,W8=D8,H8=F8,cv=q8;function Ni({...t}){return o.jsx(Q_,{"data-slot":"dialog",...t})}function tj({...t}){return o.jsx(sv,{"data-slot":"dialog-trigger",...t})}function $G({...t}){return o.jsx(ej,{"data-slot":"dialog-portal",...t})}const V8=S.forwardRef(({className:t,...e},r)=>o.jsx(ov,{ref:r,"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9996] bg-black/50",t),...e}));V8.displayName=ov.displayName;const Ja=S.forwardRef(({className:t,children:e,...r},n)=>o.jsxs($G,{"data-slot":"dialog-portal",children:[o.jsx(V8,{}),o.jsxs(lv,{ref:n,"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9996] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,o.jsxs(cv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Gs,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ja.displayName=lv.displayName;function Si({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function FG({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Ai({className:t,...e}){return o.jsx(W8,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",t),...e})}function BG({className:t,...e}){return o.jsx(H8,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function ur(t){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(t)}var ki=Uint8Array,Ea=Uint16Array,rj=Int32Array,nj=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aj=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Y4=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G8=function(t,e){for(var r=new Ea(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new rj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Y8=G8(nj,2),qG=Y8.b,E2=Y8.r;qG[28]=258,E2[258]=28;var UG=G8(aj,0),K4=UG.r,T2=new Ea(32768);for(var Tr=0;Tr<32768;++Tr){var So=(Tr&43690)>>1|(Tr&21845)<<1;So=(So&52428)>>2|(So&13107)<<2,So=(So&61680)>>4|(So&3855)<<4,T2[Tr]=((So&65280)>>8|(So&255)<<8)>>1}var Sf=(function(t,e,r){for(var n=t.length,a=0,i=new Ea(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new Ea(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new Ea(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=s[t[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)l[T2[f]>>c]=u}else for(l=new Ea(n),a=0;a<n;++a)t[a]&&(l[a]=T2[s[t[a]-1]++]>>15-t[a]);return l}),Jl=new ki(288);for(var Tr=0;Tr<144;++Tr)Jl[Tr]=8;for(var Tr=144;Tr<256;++Tr)Jl[Tr]=9;for(var Tr=256;Tr<280;++Tr)Jl[Tr]=7;for(var Tr=280;Tr<288;++Tr)Jl[Tr]=8;var Om=new ki(32);for(var Tr=0;Tr<32;++Tr)Om[Tr]=5;var zG=Sf(Jl,9,0),WG=Sf(Om,5,0),K8=function(t){return(t+7)/8|0},HG=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ki(t.subarray(e,r))},Is=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},rf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Py=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:Z8,l:0};if(a==1){var s=new ki(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(N,A){return N.f-A.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new Ea(p+1),g=I2(r[d-1],h,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(i.sort(function(A,k){return h[k.s]-h[A.s]||A.f-k.f});n<a;++n){var j=i[n].s;if(h[j]>e)m+=x-(1<<g-h[j]),h[j]=e;else break}for(m>>=v;m>0;){var w=i[n].s;h[w]<e?m-=1<<e-h[w]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;h[_]==e&&(--h[_],++m)}g=e}return{t:new ki(h),l:g}},I2=function(t,e,r){return t.s==-1?Math.max(I2(t.l,e,r+1),I2(t.r,e,r+1)):e[t.s]=r},X4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ea(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},nf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},X8=function(t,e,r){var n=r.length,a=K8(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},Z4=function(t,e,r,n,a,i,s,l,c,u,d){Is(e,d++,r),++a[256];for(var f=Py(a,15),p=f.t,h=f.l,g=Py(i,15),m=g.t,v=g.l,x=X4(p),j=x.c,w=x.n,_=X4(m),N=_.c,A=_.n,k=new Ea(19),E=0;E<j.length;++E)++k[j[E]&31];for(var E=0;E<N.length;++E)++k[N[E]&31];for(var I=Py(k,7),L=I.t,C=I.l,O=19;O>4&&!L[Y4[O-1]];--O);var R=u+5<<3,M=nf(a,Jl)+nf(i,Om)+s,W=nf(a,p)+nf(i,m)+s+14+3*O+nf(k,L)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&R<=M&&R<=W)return X8(e,d,t.subarray(c,c+u));var H,G,F,ae;if(Is(e,d,1+(W<M)),d+=2,W<M){H=Sf(p,h,0),G=p,F=Sf(m,v,0),ae=m;var Q=Sf(L,C,0);Is(e,d,w-257),Is(e,d+5,A-1),Is(e,d+10,O-4),d+=14;for(var E=0;E<O;++E)Is(e,d+3*E,L[Y4[E]]);d+=3*O;for(var oe=[j,N],$=0;$<2;++$)for(var U=oe[$],E=0;E<U.length;++E){var z=U[E]&31;Is(e,d,Q[z]),d+=L[z],z>15&&(Is(e,d,U[E]>>5&127),d+=U[E]>>12)}}else H=zG,G=Jl,F=WG,ae=Om;for(var E=0;E<l;++E){var J=n[E];if(J>255){var z=J>>18&31;rf(e,d,H[z+257]),d+=G[z+257],z>7&&(Is(e,d,J>>23&31),d+=nj[z]);var le=J&31;rf(e,d,F[le]),d+=ae[le],le>3&&(rf(e,d,J>>5&8191),d+=aj[le])}else rf(e,d,H[J]),d+=G[J]}return rf(e,d,H[256]),d+G[256]},VG=new rj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z8=new ki(0),GG=function(t,e,r,n,a,i){var s=i.z||t.length,l=new ki(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=VG[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,m=i.p||new Ea(32768),v=i.h||new Ea(g+1),x=Math.ceil(r/3),j=2*x,w=function(me){return(t[me]^t[me+1]<<x^t[me+2]<<j)&g},_=new rj(25e3),N=new Ea(288),A=new Ea(32),k=0,E=0,I=i.i||0,L=0,C=i.w||0,O=0;I+2<s;++I){var R=w(I),M=I&32767,W=v[R];if(m[M]=W,v[R]=M,C<=I){var H=s-I;if((k>7e3||L>24576)&&(H>423||!u)){d=Z4(t,c,0,_,N,A,E,L,O,I-O,d),L=k=E=0,O=I;for(var G=0;G<286;++G)N[G]=0;for(var G=0;G<30;++G)A[G]=0}var F=2,ae=0,Q=h,oe=M-W&32767;if(H>2&&R==w(I-oe))for(var $=Math.min(p,H)-1,U=Math.min(32767,I),z=Math.min(258,H);oe<=U&&--Q&&M!=W;){if(t[I+F]==t[I+F-oe]){for(var J=0;J<z&&t[I+J]==t[I+J-oe];++J);if(J>F){if(F=J,ae=oe,J>$)break;for(var le=Math.min(oe,J-2),se=0,G=0;G<le;++G){var de=I-oe+G&32767,ie=m[de],he=de-ie&32767;he>se&&(se=he,W=de)}}}M=W,W=m[M],oe+=M-W&32767}if(ae){_[L++]=268435456|E2[F]<<18|K4[ae];var ge=E2[F]&31,ue=K4[ae]&31;E+=nj[ge]+aj[ue],++N[257+ge],++A[ue],C=I+F,++k}else _[L++]=t[I],++N[t[I]]}}for(I=Math.max(I,C);I<s;++I)_[L++]=t[I],++N[t[I]];d=Z4(t,c,u,_,N,A,E,L,O,I-O,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=m,i.i=I,i.w=C)}else{for(var I=i.w||0;I<s+u;I+=65535){var Ce=I+65535;Ce>=s&&(c[d/8|0]=u,Ce=s),d=X8(c,d+1,t.subarray(I,Ce))}i.i=s}return HG(l,0,n+K8(d)+a)},J8=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},YG=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new ki(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return GG(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Q8=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},KG=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=J8();a.p(e.dictionary),Q8(t,2,a.d())}};function R2(t,e){e||(e={});var r=J8();r.p(t);var n=YG(t,e,e.dictionary?6:2,4);return KG(n,e),Q8(n,n.length-4,r.d()),n}var XG=typeof TextDecoder<"u"&&new TextDecoder,ZG=0;try{XG.decode(Z8,{stream:!0}),ZG=1}catch{}function JG(t){if(Array.isArray(t))return t}function QG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function J4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eY(t,e){if(t){if(typeof t=="string")return J4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J4(t,e):void 0}}function tY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4(t,e){return JG(t)||QG(t,e)||eY(t,e)||tY()}function eA(t,e="utf8"){return new TextDecoder(e).decode(t)}const rY=new TextEncoder;function nY(t){return rY.encode(t)}const aY=1024*8,iY=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Cy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ij{constructor(e=aY,r={}){Zt(this,"buffer");Zt(this,"byteLength");Zt(this,"byteOffset");Zt(this,"length");Zt(this,"offset");Zt(this,"lastWrittenByte");Zt(this,"littleEndian");Zt(this,"_data");Zt(this,"_mark");Zt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof ij)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Cy[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===iY&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new Cy[r](l.buffer);return this.offset+=n,c.reverse(),c}const s=new Cy[r](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return eA(this.readBytes(e))}decodeText(e=1,r="utf8"){return eA(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(nY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function fd(t){let e=t.length;for(;--e>=0;)t[e]=0}const sY=3,oY=258,eR=29,lY=256,cY=lY+1+eR,tR=30,uY=512,dY=new Array((cY+2)*2);fd(dY);const fY=new Array(tR*2);fd(fY);const hY=new Array(uY);fd(hY);const pY=new Array(oY-sY+1);fd(pY);const mY=new Array(eR);fd(mY);const gY=new Array(tR);fd(gY);const vY=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var L2=vY;const yY=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},xY=new Uint32Array(yY()),bY=(t,e,r,n)=>{const a=xY,i=n+r;t^=-1;for(let s=n;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var Yi=bY,M2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const wY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _Y=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)wY(r,n)&&(t[n]=r[n])}}return t},jY=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let s=t[n];r.set(s,a),a+=s.length}return r},nR={assign:_Y,flattenChunks:jY};let aR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{aR=!1}const $f=new Uint8Array(256);for(let t=0;t<256;t++)$f[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;$f[254]=$f[254]=1;var NY=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,s=t.length,l=0;for(a=0;a<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const SY=(t,e)=>{if(e<65534&&t.subarray&&aR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var AY=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=t[n++];if(s<128){i[a++]=s;continue}let l=$f[s];if(l>4){i[a++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return SY(i,a)},kY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+$f[t[r]]>e?r:e},D2={string2buf:NY,buf2string:AY,utf8border:kY};function PY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CY=PY;const $p=16209,OY=16191;var EY=function(e,r){let n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,w,_,N,A,k,E,I,L;const C=e.state;n=e.next_in,I=e.input,a=n+(e.avail_in-5),i=e.next_out,L=e.output,s=i-(r-e.avail_out),l=i+(e.avail_out-257),c=C.dmax,u=C.wsize,d=C.whave,f=C.wnext,p=C.window,h=C.hold,g=C.bits,m=C.lencode,v=C.distcode,x=(1<<C.lenbits)-1,j=(1<<C.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),w=m[h&x];t:for(;;){if(_=w>>>24,h>>>=_,g-=_,_=w>>>16&255,_===0)L[i++]=w&65535;else if(_&16){N=w&65535,_&=15,_&&(g<_&&(h+=I[n++]<<g,g+=8),N+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),w=v[h&j];r:for(;;){if(_=w>>>24,h>>>=_,g-=_,_=w>>>16&255,_&16){if(A=w&65535,_&=15,g<_&&(h+=I[n++]<<g,g+=8,g<_&&(h+=I[n++]<<g,g+=8)),A+=h&(1<<_)-1,A>c){e.msg="invalid distance too far back",C.mode=$p;break e}if(h>>>=_,g-=_,_=i-s,A>_){if(_=A-_,_>d&&C.sane){e.msg="invalid distance too far back",C.mode=$p;break e}if(k=0,E=p,f===0){if(k+=u-_,_<N){N-=_;do L[i++]=p[k++];while(--_);k=i-A,E=L}}else if(f<_){if(k+=u+f-_,_-=f,_<N){N-=_;do L[i++]=p[k++];while(--_);if(k=0,f<N){_=f,N-=_;do L[i++]=p[k++];while(--_);k=i-A,E=L}}}else if(k+=f-_,_<N){N-=_;do L[i++]=p[k++];while(--_);k=i-A,E=L}for(;N>2;)L[i++]=E[k++],L[i++]=E[k++],L[i++]=E[k++],N-=3;N&&(L[i++]=E[k++],N>1&&(L[i++]=E[k++]))}else{k=i-A;do L[i++]=L[k++],L[i++]=L[k++],L[i++]=L[k++],N-=3;while(N>2);N&&(L[i++]=L[k++],N>1&&(L[i++]=L[k++]))}}else if((_&64)===0){w=v[(w&65535)+(h&(1<<_)-1)];continue r}else{e.msg="invalid distance code",C.mode=$p;break e}break}}else if((_&64)===0){w=m[(w&65535)+(h&(1<<_)-1)];continue t}else if(_&32){C.mode=OY;break e}else{e.msg="invalid literal/length code",C.mode=$p;break e}break}}while(n<a&&i<l);N=g>>3,n-=N,g-=N<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),C.hold=h,C.bits=g};const Zc=15,tA=852,rA=592,nA=0,Oy=1,aA=2,TY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),RY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),LY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),MY=(t,e,r,n,a,i,s,l)=>{const c=l.bits;let u=0,d=0,f=0,p=0,h=0,g=0,m=0,v=0,x=0,j=0,w,_,N,A,k,E=null,I;const L=new Uint16Array(Zc+1),C=new Uint16Array(Zc+1);let O=null,R,M,W;for(u=0;u<=Zc;u++)L[u]=0;for(d=0;d<n;d++)L[e[r+d]]++;for(h=c,p=Zc;p>=1&&L[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&L[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Zc;u++)if(v<<=1,v-=L[u],v<0)return-1;if(v>0&&(t===nA||p!==1))return-1;for(C[1]=0,u=1;u<Zc;u++)C[u+1]=C[u]+L[u];for(d=0;d<n;d++)e[r+d]!==0&&(s[C[e[r+d]]++]=d);if(t===nA?(E=O=s,I=20):t===Oy?(E=TY,O=IY,I=257):(E=RY,O=LY,I=0),j=0,d=0,u=f,k=i,g=h,m=0,N=-1,x=1<<h,A=x-1,t===Oy&&x>tA||t===aA&&x>rA)return 1;for(;;){R=u-m,s[d]+1<I?(M=0,W=s[d]):s[d]>=I?(M=O[s[d]-I],W=E[s[d]-I]):(M=96,W=0),w=1<<u-m,_=1<<g,f=_;do _-=w,a[k+(j>>m)+_]=R<<24|M<<16|W|0;while(_!==0);for(w=1<<u-1;j&w;)w>>=1;if(w!==0?(j&=w-1,j+=w):j=0,d++,--L[u]===0){if(u===p)break;u=e[r+s[d]]}if(u>h&&(j&A)!==N){for(m===0&&(m=h),k+=f,g=u-m,v=1<<g;g+m<p&&(v-=L[g+m],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===Oy&&x>tA||t===aA&&x>rA)return 1;N=j&A,a[N]=h<<24|g<<16|k-i|0}}return j!==0&&(a[k+j]=u-m<<24|64<<16|0),l.bits=h,0};var Af=MY;const DY=0,iR=1,sR=2,{Z_FINISH:iA,Z_BLOCK:$Y,Z_TREES:Fp,Z_OK:Ql,Z_STREAM_END:FY,Z_NEED_DICT:BY,Z_STREAM_ERROR:Qa,Z_DATA_ERROR:oR,Z_MEM_ERROR:lR,Z_BUF_ERROR:qY,Z_DEFLATED:sA}=rR,uv=16180,oA=16181,lA=16182,cA=16183,uA=16184,dA=16185,fA=16186,hA=16187,pA=16188,mA=16189,Em=16190,Rs=16191,Ey=16192,gA=16193,Ty=16194,vA=16195,yA=16196,xA=16197,bA=16198,Bp=16199,qp=16200,wA=16201,_A=16202,jA=16203,NA=16204,SA=16205,Iy=16206,AA=16207,kA=16208,Lr=16209,cR=16210,uR=16211,UY=852,zY=592,WY=15,HY=WY,PA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function VY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<uv||e.mode>uR?1:0},dR=t=>{if(hc(t))return Qa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=uv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(UY),e.distcode=e.distdyn=new Int32Array(zY),e.sane=1,e.back=-1,Ql},fR=t=>{if(hc(t))return Qa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,dR(t)},hR=(t,e)=>{let r;if(hc(t))return Qa;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qa:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,fR(t))},pR=(t,e)=>{if(!t)return Qa;const r=new VY;t.state=r,r.strm=t,r.window=null,r.mode=uv;const n=hR(t,e);return n!==Ql&&(t.state=null),n},GY=t=>pR(t,HY);let CA=!0,Ry,Ly;const YY=t=>{if(CA){Ry=new Int32Array(512),Ly=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Af(iR,t.lens,0,288,Ry,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Af(sR,t.lens,0,32,Ly,0,t.work,{bits:5}),CA=!1}t.lencode=Ry,t.lenbits=9,t.distcode=Ly,t.distbits=5},mR=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},KY=(t,e)=>{let r,n,a,i,s,l,c,u,d,f,p,h,g,m,v=0,x,j,w,_,N,A,k,E;const I=new Uint8Array(4);let L,C;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hc(t)||!t.output||!t.input&&t.avail_in!==0)return Qa;r=t.state,r.mode===Rs&&(r.mode=Ey),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,f=l,p=c,E=Ql;e:for(;;)switch(r.mode){case uv:if(r.wrap===0){r.mode=Ey;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=Yi(r.check,I,2,0),u=0,d=0,r.mode=oA;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Lr;break}if((u&15)!==sA){t.msg="unknown compression method",r.mode=Lr;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Lr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?mA:Rs,u=0,d=0;break;case oA:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==sA){t.msg="unknown compression method",r.mode=Lr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Lr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Yi(r.check,I,2,0)),u=0,d=0,r.mode=lA;case lA:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=Yi(r.check,I,4,0)),u=0,d=0,r.mode=cA;case cA:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Yi(r.check,I,2,0)),u=0,d=0,r.mode=uA;case uA:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Yi(r.check,I,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=dA;case dA:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),k)),r.flags&512&&r.wrap&4&&(r.check=Yi(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=fA;case fA:if(r.flags&2048){if(l===0)break e;h=0;do k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Yi(r.check,n,h,i)),l-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=hA;case hA:if(r.flags&4096){if(l===0)break e;h=0;do k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Yi(r.check,n,h,i)),l-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=pA;case pA:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Lr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Rs;break;case mA:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}t.adler=r.check=PA(u),u=0,d=0,r.mode=Em;case Em:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,BY;t.adler=r.check=1,r.mode=Rs;case Rs:if(e===$Y||e===Fp)break e;case Ey:if(r.last){u>>>=d&7,d-=d&7,r.mode=Iy;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=gA;break;case 1:if(YY(r),r.mode=Bp,e===Fp){u>>>=2,d-=2;break e}break;case 2:r.mode=yA;break;case 3:t.msg="invalid block type",r.mode=Lr}u>>>=2,d-=2;break;case gA:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Lr;break}if(r.length=u&65535,u=0,d=0,r.mode=Ty,e===Fp)break e;case Ty:r.mode=vA;case vA:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),s),l-=h,i+=h,c-=h,s+=h,r.length-=h;break}r.mode=Rs;break;case yA:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Lr;break}r.have=0,r.mode=xA;case xA:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[O[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},E=Af(DY,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,E){t.msg="invalid code lengths set",r.mode=Lr;break}r.have=0,r.mode=bA;case bA:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,j=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,r.lens[r.have++]=w;else{if(w===16){for(C=x+2;d<C;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Lr;break}k=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(w===17){for(C=x+3;d<C;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,k=0,h=3+(u&7),u>>>=3,d-=3}else{for(C=x+7;d<C;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,k=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Lr;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Lr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Lr;break}if(r.lenbits=9,L={bits:r.lenbits},E=Af(iR,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,E){t.msg="invalid literal/lengths set",r.mode=Lr;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},E=Af(sR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,E){t.msg="invalid distances set",r.mode=Lr;break}if(r.mode=Bp,e===Fp)break e;case Bp:r.mode=qp;case qp:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,EY(t,p),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Rs&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,j=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(j&&(j&240)===0){for(_=x,N=j,A=w;v=r.lencode[A+((u&(1<<_+N)-1)>>_)],x=v>>>24,j=v>>>16&255,w=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,r.length=w,j===0){r.mode=SA;break}if(j&32){r.back=-1,r.mode=Rs;break}if(j&64){t.msg="invalid literal/length code",r.mode=Lr;break}r.extra=j&15,r.mode=wA;case wA:if(r.extra){for(C=r.extra;d<C;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_A;case _A:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,j=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((j&240)===0){for(_=x,N=j,A=w;v=r.distcode[A+((u&(1<<_+N)-1)>>_)],x=v>>>24,j=v>>>16&255,w=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,j&64){t.msg="invalid distance code",r.mode=Lr;break}r.offset=w,r.extra=j&15,r.mode=jA;case jA:if(r.extra){for(C=r.extra;d<C;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Lr;break}r.mode=NA;case NA:if(c===0)break e;if(h=p-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Lr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,g=s-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[s++]=m[g++];while(--h);r.length===0&&(r.mode=qp);break;case SA:if(c===0)break e;a[s++]=r.length,c--,r.mode=qp;break;case Iy:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Yi(r.check,a,p,s-p):L2(r.check,a,p,s-p)),p=c,r.wrap&4&&(r.flags?u:PA(u))!==r.check){t.msg="incorrect data check",r.mode=Lr;break}u=0,d=0}r.mode=AA;case AA:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Lr;break}u=0,d=0}r.mode=kA;case kA:E=FY;break e;case Lr:E=oR;break e;case cR:return lR;case uR:default:return Qa}return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Lr&&(r.mode<Iy||e!==iA))&&mR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Yi(r.check,a,p,t.next_out-p):L2(r.check,a,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Rs?128:0)+(r.mode===Bp||r.mode===Ty?256:0),(f===0&&p===0||e===iA)&&E===Ql&&(E=qY),E},XY=t=>{if(hc(t))return Qa;let e=t.state;return e.window&&(e.window=null),t.state=null,Ql},ZY=(t,e)=>{if(hc(t))return Qa;const r=t.state;return(r.wrap&2)===0?Qa:(r.head=e,e.done=!1,Ql)},JY=(t,e)=>{const r=e.length;let n,a,i;return hc(t)||(n=t.state,n.wrap!==0&&n.mode!==Em)?Qa:n.mode===Em&&(a=1,a=L2(a,e,r,0),a!==n.check)?oR:(i=mR(t,e,r,r),i?(n.mode=cR,lR):(n.havedict=1,Ql))};var QY=fR,eK=hR,tK=dR,rK=GY,nK=pR,aK=KY,iK=XY,sK=ZY,oK=JY,lK="pako inflate (from Nodeca project)",qs={inflateReset:QY,inflateReset2:eK,inflateResetKeep:tK,inflateInit:rK,inflateInit2:nK,inflate:aK,inflateEnd:iK,inflateGetHeader:sK,inflateSetDictionary:oK,inflateInfo:lK};function cK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uK=cK;const gR=Object.prototype.toString,{Z_NO_FLUSH:dK,Z_FINISH:fK,Z_OK:Ff,Z_STREAM_END:My,Z_NEED_DICT:Dy,Z_STREAM_ERROR:hK,Z_DATA_ERROR:OA,Z_MEM_ERROR:pK}=rR;function Ph(t){this.options=nR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CY,this.strm.avail_out=0;let r=qs.inflateInit2(this.strm,e.windowBits);if(r!==Ff)throw new Error(M2[r]);if(this.header=new uK,qs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=D2.string2buf(e.dictionary):gR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=qs.inflateSetDictionary(this.strm,e.dictionary),r!==Ff)))throw new Error(M2[r])}Ph.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?fK:dK,gR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=qs.inflate(r,s),i===Dy&&a&&(i=qs.inflateSetDictionary(r,a),i===Ff?i=qs.inflate(r,s):i===OA&&(i=Dy));r.avail_in>0&&i===My&&r.state.wrap>0&&t[r.next_in]!==0;)qs.inflateReset(r),i=qs.inflate(r,s);switch(i){case hK:case OA:case Dy:case pK:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===My))if(this.options.to==="string"){let c=D2.utf8border(r.output,r.next_out),u=r.next_out-c,d=D2.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Ff&&l===0)){if(i===My)return i=qs.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Ph.prototype.onData=function(t){this.chunks.push(t)};Ph.prototype.onEnd=function(t){t===Ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=nR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mK(t,e){const r=new Ph(e);if(r.push(t),r.err)throw r.msg||M2[r.err];return r.result}var gK=Ph,vK=mK,yK={Inflate:gK,inflate:vK};const{Inflate:xK,inflate:bK}=yK;var EA=xK,wK=bK;const vR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;vR[t]=e}const TA=4294967295;function _K(t,e,r){let n=t;for(let a=0;a<r;a++)n=vR[(n^e[a])&255]^n>>>8;return n}function jK(t,e){return(_K(TA,t,e)^TA)>>>0}function IA(t,e,r){const n=t.readUint32(),a=jK(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function yR(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function xR(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function bR(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function wR(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function _R(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+NK(e[i-a],r[i],r[i-a])&255}}function NK(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),s=Math.abs(n-r);return a<=i&&a<=s?t:i<=s?e:r}function SK(t,e,r,n,a,i){switch(t){case 0:yR(e,r,a);break;case 1:xR(e,r,a,i);break;case 2:bR(e,r,n,a);break;case 3:wR(e,r,n,a,i);break;case 4:_R(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const AK=new Uint16Array([255]),kK=new Uint8Array(AK.buffer),PK=kK[0]===255;function CK(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*l,m=new Uint8Array(g);for(let v=0;v<h;v++){const x=e[u++],j=e.subarray(u,u+g);u+=g;const w=new Uint8Array(g);SK(x,j,w,m,g,l),m.set(w);for(let _=0;_<p;_++){const N=f.x+_*f.xStep,A=f.y+v*f.yStep;if(!(N>=r||A>=n))for(let k=0;k<l;k++)c[(A*r+N)*l+k]=w[_*l+k]}}}if(i===16){const d=new Uint16Array(c.buffer);if(PK)for(let f=0;f<d.length;f++)d[f]=OK(d[f]);return d}else return c}function OK(t){return(t&255)<<8|t>>8&255}const EK=new Uint16Array([255]),TK=new Uint8Array(EK.buffer),IK=TK[0]===255,RK=new Uint8Array(0);function RA(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=RK,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+l),p=c.subarray(h*l,(h+1)*l),e[d]){case 0:yR(f,p,l);break;case 1:xR(f,p,l,s);break;case 2:bR(f,p,u,l);break;case 3:wR(f,p,u,l,s);break;case 4:_R(f,p,u,l,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(IK)for(let g=0;g<h.length;g++)h[g]=LK(h[g]);return h}else return c}function LK(t){return(t&255)<<8|t>>8&255}const mm=Uint8Array.of(137,80,78,71,13,10,26,10);function LA(t){if(!MK(t.readBytes(mm.length)))throw new Error("wrong PNG signature")}function MK(t){if(t.length<mm.length)return!1;for(let e=0;e<mm.length;e++)if(t[e]!==mm[e])return!1;return!0}const DK="tEXt",$K=0,jR=new TextDecoder("latin1");function FK(t){if(qK(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const BK=/^[\u0000-\u00FF]*$/;function qK(t){if(!BK.test(t))throw new Error("invalid latin1 text")}function UK(t,e,r){const n=NR(e);t[n]=zK(e,r-n.length-1)}function NR(t){for(t.mark();t.readByte()!==$K;);const e=t.offset;t.reset();const r=jR.decode(t.readBytes(e-t.offset-1));return t.skip(1),FK(r),r}function zK(t,e){return jR.decode(t.readBytes(e))}const _a={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$y={UNKNOWN:-1,DEFLATE:0},MA={UNKNOWN:-1,ADAPTIVE:0},Fy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Up={NONE:0,BACKGROUND:1,PREVIOUS:2},By={SOURCE:0,OVER:1};class WK extends ij{constructor(r,n={}){super(r);Zt(this,"_checkCrc");Zt(this,"_inflator");Zt(this,"_png");Zt(this,"_apng");Zt(this,"_end");Zt(this,"_hasPalette");Zt(this,"_palette");Zt(this,"_hasTransparency");Zt(this,"_transparency");Zt(this,"_compressionMethod");Zt(this,"_filterMethod");Zt(this,"_interlaceMethod");Zt(this,"_colorType");Zt(this,"_isAnimated");Zt(this,"_numberOfFrames");Zt(this,"_numberOfPlays");Zt(this,"_frames");Zt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new EA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$y.UNKNOWN,this._filterMethod=MA.UNKNOWN,this._interlaceMethod=Fy.UNKNOWN,this._colorType=_a.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(LA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(LA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case DK:UK(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?IA(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?IA(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=HK(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case _a.GREYSCALE:a=1;break;case _a.TRUECOLOUR:a=3;break;case _a.INDEXED_COLOUR:a=1;break;case _a.GREYSCALE_ALPHA:a=2;break;case _a.TRUECOLOUR_ALPHA:a=4;break;case _a.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==$y.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case _a.GREYSCALE:case _a.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case _a.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case _a.UNKNOWN:case _a.GREYSCALE_ALPHA:case _a.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=NR(this),a=this.readUint8();if(a!==$y.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:wK(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=RA({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Up.NONE:break;case Up.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const l=(i*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Up.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(s,l)=>{const c=((s+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(s*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case By.SOURCE:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(s,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case By.OVER:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(s,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==MA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fy.NO_INTERLACE)this._png.data=RA({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fy.ADAM7)this._png.data=CK({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Up.NONE,blendOp:By.SOURCE,data:r}),this._inflator=new EA,this._writingDataChunks=!1}}function HK(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var DA;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(DA||(DA={}));function VK(t,e){return new WK(t,e).decode()}var jt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function qy(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var mr={log:qy,warn:function(t){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):qy.call(null,arguments))},error:function(t){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):qy(t))}};function Uy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Pl(n.response,e,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function $A(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function zp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Pl=jt.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=jt.URL||jt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?$A(a.href)?Uy(t,e,r):zp(a,a.target="_blank"):zp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){zp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if($A(t))Uy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){zp(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:ur(i)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Uy(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(jt.HTMLElement)||jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=jt.URL||jt.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SR(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var gm=jt.atob.bind(jt),FA=jt.btoa.bind(jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zy(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=$n(r,n,a,i,e[0],7,-680876936),i=$n(i,r,n,a,e[1],12,-389564586),a=$n(a,i,r,n,e[2],17,606105819),n=$n(n,a,i,r,e[3],22,-1044525330),r=$n(r,n,a,i,e[4],7,-176418897),i=$n(i,r,n,a,e[5],12,1200080426),a=$n(a,i,r,n,e[6],17,-1473231341),n=$n(n,a,i,r,e[7],22,-45705983),r=$n(r,n,a,i,e[8],7,1770035416),i=$n(i,r,n,a,e[9],12,-1958414417),a=$n(a,i,r,n,e[10],17,-42063),n=$n(n,a,i,r,e[11],22,-1990404162),r=$n(r,n,a,i,e[12],7,1804603682),i=$n(i,r,n,a,e[13],12,-40341101),a=$n(a,i,r,n,e[14],17,-1502002290),r=Fn(r,n=$n(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Fn(i,r,n,a,e[6],9,-1069501632),a=Fn(a,i,r,n,e[11],14,643717713),n=Fn(n,a,i,r,e[0],20,-373897302),r=Fn(r,n,a,i,e[5],5,-701558691),i=Fn(i,r,n,a,e[10],9,38016083),a=Fn(a,i,r,n,e[15],14,-660478335),n=Fn(n,a,i,r,e[4],20,-405537848),r=Fn(r,n,a,i,e[9],5,568446438),i=Fn(i,r,n,a,e[14],9,-1019803690),a=Fn(a,i,r,n,e[3],14,-187363961),n=Fn(n,a,i,r,e[8],20,1163531501),r=Fn(r,n,a,i,e[13],5,-1444681467),i=Fn(i,r,n,a,e[2],9,-51403784),a=Fn(a,i,r,n,e[7],14,1735328473),r=Bn(r,n=Fn(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Bn(i,r,n,a,e[8],11,-2022574463),a=Bn(a,i,r,n,e[11],16,1839030562),n=Bn(n,a,i,r,e[14],23,-35309556),r=Bn(r,n,a,i,e[1],4,-1530992060),i=Bn(i,r,n,a,e[4],11,1272893353),a=Bn(a,i,r,n,e[7],16,-155497632),n=Bn(n,a,i,r,e[10],23,-1094730640),r=Bn(r,n,a,i,e[13],4,681279174),i=Bn(i,r,n,a,e[0],11,-358537222),a=Bn(a,i,r,n,e[3],16,-722521979),n=Bn(n,a,i,r,e[6],23,76029189),r=Bn(r,n,a,i,e[9],4,-640364487),i=Bn(i,r,n,a,e[12],11,-421815835),a=Bn(a,i,r,n,e[15],16,530742520),r=qn(r,n=Bn(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=qn(i,r,n,a,e[7],10,1126891415),a=qn(a,i,r,n,e[14],15,-1416354905),n=qn(n,a,i,r,e[5],21,-57434055),r=qn(r,n,a,i,e[12],6,1700485571),i=qn(i,r,n,a,e[3],10,-1894986606),a=qn(a,i,r,n,e[10],15,-1051523),n=qn(n,a,i,r,e[1],21,-2054922799),r=qn(r,n,a,i,e[8],6,1873313359),i=qn(i,r,n,a,e[15],10,-30611744),a=qn(a,i,r,n,e[6],15,-1560198380),n=qn(n,a,i,r,e[13],21,1309151649),r=qn(r,n,a,i,e[4],6,-145523070),i=qn(i,r,n,a,e[11],10,-1120210379),a=qn(a,i,r,n,e[2],15,718787259),n=qn(n,a,i,r,e[9],21,-343485551),t[0]=Mo(r,t[0]),t[1]=Mo(n,t[1]),t[2]=Mo(a,t[2]),t[3]=Mo(i,t[3])}function dv(t,e,r,n,a,i){return e=Mo(Mo(e,t),Mo(n,i)),Mo(e<<a|e>>>32-a,r)}function $n(t,e,r,n,a,i,s){return dv(e&r|~e&n,t,e,a,i,s)}function Fn(t,e,r,n,a,i,s){return dv(e&n|r&~n,t,e,a,i,s)}function Bn(t,e,r,n,a,i,s){return dv(e^r^n,t,e,a,i,s)}function qn(t,e,r,n,a,i,s){return dv(r^(e|~n),t,e,a,i,s)}function AR(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zy(n,GK(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(zy(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,zy(n,a),n}function GK(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var BA="0123456789abcdef".split("");function YK(t){for(var e="",r=0;r<4;r++)e+=BA[t>>8*r+4&15]+BA[t>>8*r&15];return e}function KK(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $2(t){return AR(t).map(KK).join("")}var XK=(function(t){for(var e=0;e<t.length;e++)t[e]=YK(t[e]);return t.join("")})(AR("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mo(t,e){if(XK){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function F2(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+s.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var f=e.length,p=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=d,s=l[(l[p]+l[h])%256],g+=String.fromCharCode(e.charCodeAt(c)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qA={print:4,modify:8,copy:16,"annot-forms":32};function uu(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(qA.perm!==void 0)throw new Error("Invalid permission: "+l);a+=qA[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=$2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=F2(this.encryptionKey,this.padding)}function du(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function UA(t){if(ur(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(l){jt.console&&mr.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Tm(t){if(!(this instanceof Tm))return new Tm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function kR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Il(t,e,r,n,a){if(!(this instanceof Il))return new Il(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,kR.call(this,n,a)}function hu(t,e,r,n,a){if(!(this instanceof hu))return new hu(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,kR.call(this,n,a)}function ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",d=null;ur(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=UA;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(P){g=P};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(P){return v[P]};a=a||"a4";var j="compat",w="advanced",_=j;function N(){this.saveGraphicsState(),ee(new ze(dt,0,0,-dt,0,pa()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",_=w}function A(){this.restoreGraphicsState(),u="S",_=j}var k=h.__private__.combineFontStyleAndFontWeight=function(P,q){if(P=="bold"&&q=="normal"||P=="bold"&&q==400||P=="normal"&&q=="italic"||P=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(P=q==400||q==="normal"?P==="italic"?"italic":"normal":q!=700&&q!=="bold"||P!=="normal"?(q==700?"bold":q)+""+P:"bold"),P};h.advancedAPI=function(P){var q=_===j;return q&&N.call(this),typeof P!="function"||(P(this),q&&A.call(this)),this},h.compatAPI=function(P){var q=_===w;return q&&A.call(this),typeof P!="function"||(P(this),q&&N.call(this)),this},h.isAdvancedAPI=function(){return _===w};var E,I=function(P){if(_!==w)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(P,q){var ne=e||q;if(isNaN(P)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ne).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof c=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return L(P,c)}:c==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return L(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return L(P,16)};var C=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return L(P,2)},O=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return L(P,3)},R=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return _===j?P*dt:_===w?P:void 0},M=function(P){return R((function(q){return _===j?pa()-q:_===w?q:void 0})(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var W,H="00000000000000000000000000000000",G=h.__private__.getFileId=function(){return H},F=h.__private__.setFileId=function(P){return H=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Yr=new uu(d.userPermissions,d.userPassword,d.ownerPassword,H)),H};h.setFileId=function(P){return F(P),this},h.getFileId=function(){return G()};var ae=h.__private__.convertDateToPDFDate=function(P){var q=P.getTimezoneOffset(),ne=q<0?"+":"-",ce=Math.floor(Math.abs(q/60)),ve=Math.abs(q%60),Se=[ne,z(ce),"'",z(ve),"'"].join("");return["D:",P.getFullYear(),z(P.getMonth()+1),z(P.getDate()),z(P.getHours()),z(P.getMinutes()),z(P.getSeconds()),Se].join("")},Q=h.__private__.convertPDFDateToDate=function(P){var q=parseInt(P.substr(2,4),10),ne=parseInt(P.substr(6,2),10)-1,ce=parseInt(P.substr(8,2),10),ve=parseInt(P.substr(10,2),10),Se=parseInt(P.substr(12,2),10),Te=parseInt(P.substr(14,2),10);return new Date(q,ne,ce,ve,Se,Te,0)},oe=h.__private__.setCreationDate=function(P){var q;if(P===void 0&&(P=new Date),P instanceof Date)q=ae(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=P}return W=q},$=h.__private__.getCreationDate=function(P){var q=W;return P==="jsDate"&&(q=Q(W)),q};h.setCreationDate=function(P){return oe(P),this},h.getCreationDate=function(P){return $(P)};var U,z=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},J=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},le=0,se=[],de=[],ie=0,he=[],ge=[],ue=!1,Ce=de;h.__private__.setCustomOutputDestination=function(P){ue=!0,Ce=P};var me=function(P){ue||(Ce=P)};h.__private__.resetCustomOutputDestination=function(){ue=!1,Ce=de};var ee=h.__private__.out=function(P){return P=P.toString(),ie+=P.length+1,Ce.push(P),Ce},Ve=h.__private__.write=function(P){return ee(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Ue=h.__private__.getArrayBuffer=function(P){for(var q=P.length,ne=new ArrayBuffer(q),ce=new Uint8Array(ne);q--;)ce[q]=P.charCodeAt(q);return ne},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return We};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return Pe=_===w?P/dt:P,this};var Qe,$e=h.__private__.getFontSize=h.getFontSize=function(){return _===j?Pe:Pe*dt},Ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return Ke=P,this},h.__private__.getR2L=h.getR2L=function(){return Ke};var Ge,Wt=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Qe=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Qe=P}else Qe=parseInt(P,10)};h.__private__.getZoomMode=function(){return Qe};var vt,yt=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Ge=P};h.__private__.getPageMode=function(){return Ge};var rr=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');vt=P};h.__private__.getLayoutMode=function(){return vt},h.__private__.setDisplayMode=h.setDisplayMode=function(P,q,ne){return Wt(P),rr(q),yt(ne),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(At).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[P]},h.__private__.getDocumentProperties=function(){return At},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var q in At)At.hasOwnProperty(q)&&P[q]&&(At[q]=P[q]);return this},h.__private__.setDocumentProperty=function(P,q){if(Object.keys(At).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[P]=q};var it,dt,ot,Gt,Yt,nt={},St={},nr=[],ft={},qt={},ht={},$r={},Gr=null,ar=0,xt=[],Be=new UA(h),vr=t.hotfixes||[],Kt={},Fr={},Hn=[],ze=function P(q,ne,ce,ve,Se,Te){if(!(this instanceof P))return new P(q,ne,ce,ve,Se,Te);isNaN(q)&&(q=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(Se)&&(Se=0),isNaN(Te)&&(Te=0),this._matrix=[q,ne,ce,ve,Se,Te]};Object.defineProperty(ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ze.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(P)},ze.prototype.multiply=function(P){var q=P.sx*this.sx+P.shy*this.shx,ne=P.sx*this.shy+P.shy*this.sy,ce=P.shx*this.sx+P.sy*this.shx,ve=P.shx*this.shy+P.sy*this.sy,Se=P.tx*this.sx+P.ty*this.shx+this.tx,Te=P.tx*this.shy+P.ty*this.sy+this.ty;return new ze(q,ne,ce,ve,Se,Te)},ze.prototype.decompose=function(){var P=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Se=this.ty,Te=Math.sqrt(P*P+q*q),et=(P/=Te)*ne+(q/=Te)*ce;ne-=P*et,ce-=q*et;var st=Math.sqrt(ne*ne+ce*ce);return et/=st,P*(ce/=st)<q*(ne/=st)&&(P=-P,q=-q,et=-et,Te=-Te),{scale:new ze(Te,0,0,st,0,0),translate:new ze(1,0,0,1,ve,Se),rotate:new ze(P,q,-q,P,0,0),skew:new ze(1,0,et,1,0,0)}},ze.prototype.toString=function(P){return this.join(" ")},ze.prototype.inversed=function(){var P=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Se=this.ty,Te=1/(P*ce-q*ne),et=ce*Te,st=-q*Te,_t=-ne*Te,Lt=P*Te;return new ze(et,st,_t,Lt,-et*ve-_t*Se,-st*ve-Lt*Se)},ze.prototype.applyToPoint=function(P){var q=P.x*this.sx+P.y*this.shx+this.tx,ne=P.x*this.shy+P.y*this.sy+this.ty;return new pl(q,ne)},ze.prototype.applyToRectangle=function(P){var q=this.applyToPoint(P),ne=this.applyToPoint(new pl(P.x+P.w,P.y+P.h));return new Md(q.x,q.y,ne.x-q.x,ne.y-q.y)},ze.prototype.clone=function(){var P=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Se=this.ty;return new ze(P,q,ne,ce,ve,Se)},h.Matrix=ze;var qr=h.matrixMult=function(P,q){return q.multiply(P)},ra=new ze(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ra;var Ir=function(P,q){if(!qt[P]){var ne=(q instanceof Il?"Sh":"P")+(Object.keys(ft).length+1).toString(10);q.id=ne,qt[P]=ne,ft[ne]=q,Be.publish("addPattern",q)}};h.ShadingPattern=Il,h.TilingPattern=hu,h.addShadingPattern=function(P,q){return I("addShadingPattern()"),Ir(P,q),this},h.beginTilingPattern=function(P){I("beginTilingPattern()"),Dd(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,q){I("endTilingPattern()"),q.stream=ge[U].join(`
`),Ir(P,q),Be.publish("endTilingPattern",q),Hn.pop().restore()};var Rr,kr=h.__private__.newObject=function(){var P=yr();return jn(P,!0),P},yr=h.__private__.newObjectDeferred=function(){return le++,se[le]=function(){return ie},le},jn=function(P,q){return q=typeof q=="boolean"&&q,se[P]=ie,q&&ee(P+" 0 obj"),P},il=h.__private__.newAdditionalObject=function(){var P={objId:yr(),content:""};return he.push(P),P},lo=yr(),ni=yr(),$i=h.__private__.decodeColorString=function(P){var q=P.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ne=parseFloat(q[0]);q=[ne,ne,ne,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(q[ve])).toString(16)).slice(-2);return ce},ai=h.__private__.encodeColorString=function(P){var q;typeof P=="string"&&(P={ch1:P});var ne=P.ch1,ce=P.ch2,ve=P.ch3,Se=P.ch4,Te=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var et=new SR(ne);if(et.ok)ne=et.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var st=parseInt(ne.substr(1),16);ne=st>>16&255,ce=st>>8&255,ve=255&st}if(ce===void 0||Se===void 0&&ne===ce&&ce===ve)q=typeof ne=="string"?ne+" "+Te[0]:P.precision===2?C(ne/255)+" "+Te[0]:O(ne/255)+" "+Te[0];else if(Se===void 0||ur(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Te[1]].join(" ");q=typeof ne=="string"?[ne,ce,ve,Te[1]].join(" "):P.precision===2?[C(ne/255),C(ce/255),C(ve/255),Te[1]].join(" "):[O(ne/255),O(ce/255),O(ve/255),Te[1]].join(" ")}else q=typeof ne=="string"?[ne,ce,ve,Se,Te[2]].join(" "):P.precision===2?[C(ne),C(ce),C(ve),C(Se),Te[2]].join(" "):[O(ne),O(ce),O(ve),O(Se),Te[2]].join(" ");return q},ii=h.__private__.getFilters=function(){return s},Ma=h.__private__.putStream=function(P){var q=(P=P||{}).data||"",ne=P.filters||ii(),ce=P.alreadyAppliedFilters||[],ve=P.addLength1||!1,Se=q.length,Te=P.objectId,et=function(un){return un};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(et=Yr.encryptor(Te,0));var st={};ne===!0&&(ne=["FlateEncode"]);var _t=P.additionalKeyValues||[],Lt=(st=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(q,ne):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(st.data.length!==0&&(_t.push({key:"Length",value:st.data.length}),ve===!0&&_t.push({key:"Length1",value:Se})),Lt.length!=0)if(Lt.split("/").length-1==1)_t.push({key:"Filter",value:Lt});else{_t.push({key:"Filter",value:"["+Lt+"]"});for(var tr=0;tr<_t.length;tr+=1)if(_t[tr].key==="DecodeParms"){for(var Br=[],sn=0;sn<st.reverseChain.split("/").length-1;sn+=1)Br.push("null");Br.push(_t[tr].value),_t[tr].value="["+Br.join(" ")+"]"}}ee("<<");for(var fr=0;fr<_t.length;fr++)ee("/"+_t[fr].key+" "+_t[fr].value);ee(">>"),st.data.length!==0&&(ee("stream"),ee(et(st.data)),ee("endstream"))},sl=h.__private__.putPage=function(P){var q=P.number,ne=P.data,ce=P.objId,ve=P.contentsObjId;jn(ce,!0),ee("<</Type /Page"),ee("/Parent "+P.rootDictionaryObjId+" 0 R"),ee("/Resources "+P.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(E(P.mediaBox.bottomLeftX))+" "+parseFloat(E(P.mediaBox.bottomLeftY))+" "+E(P.mediaBox.topRightX)+" "+E(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&ee("/CropBox ["+E(P.cropBox.bottomLeftX)+" "+E(P.cropBox.bottomLeftY)+" "+E(P.cropBox.topRightX)+" "+E(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&ee("/BleedBox ["+E(P.bleedBox.bottomLeftX)+" "+E(P.bleedBox.bottomLeftY)+" "+E(P.bleedBox.topRightX)+" "+E(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&ee("/TrimBox ["+E(P.trimBox.bottomLeftX)+" "+E(P.trimBox.bottomLeftY)+" "+E(P.trimBox.topRightX)+" "+E(P.trimBox.topRightY)+"]"),P.artBox!==null&&ee("/ArtBox ["+E(P.artBox.bottomLeftX)+" "+E(P.artBox.bottomLeftY)+" "+E(P.artBox.topRightX)+" "+E(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&ee("/UserUnit "+P.userUnit),Be.publish("putPage",{objId:ce,pageContext:xt[q],pageNumber:q,page:ne}),ee("/Contents "+ve+" 0 R"),ee(">>"),ee("endobj");var Se=ne.join(`
`);return _===w&&(Se+=`
Q`),jn(ve,!0),Ma({data:Se,filters:ii(),objectId:ve}),ee("endobj"),ce},Fi=h.__private__.putPages=function(){var P,q,ne=[];for(P=1;P<=ar;P++)xt[P].objId=yr(),xt[P].contentsObjId=yr();for(P=1;P<=ar;P++)ne.push(sl({number:P,data:ge[P],objId:xt[P].objId,contentsObjId:xt[P].contentsObjId,mediaBox:xt[P].mediaBox,cropBox:xt[P].cropBox,bleedBox:xt[P].bleedBox,trimBox:xt[P].trimBox,artBox:xt[P].artBox,userUnit:xt[P].userUnit,rootDictionaryObjId:lo,resourceDictionaryObjId:ni}));jn(lo,!0),ee("<</Type /Pages");var ce="/Kids [";for(q=0;q<ar;q++)ce+=ne[q]+" 0 R ";ee(ce+"]"),ee("/Count "+ar),ee(">>"),ee("endobj"),Be.publish("postPutPages")},ol=function(P){Be.publish("putFont",{font:P,out:ee,newObject:kr,putStream:Ma}),P.isAlreadyPutted!==!0&&(P.objectNumber=kr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+du(P.postScriptName)),ee("/Subtype /Type1"),typeof P.encoding=="string"&&ee("/Encoding /"+P.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},bc=function(P){P.objectNumber=kr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[E(P.x),E(P.y),E(P.x+P.width),E(P.y+P.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ne=P.pages[1].join(`
`);Ma({data:ne,additionalKeyValues:q,objectId:P.objectNumber}),ee("endobj")},wc=function(P,q){q||(q=21);var ne=kr(),ce=(function(Te,et){var st,_t=[],Lt=1/(et-1);for(st=0;st<1;st+=Lt)_t.push(st);if(_t.push(1),Te[0].offset!=0){var tr={offset:0,color:Te[0].color};Te.unshift(tr)}if(Te[Te.length-1].offset!=1){var Br={offset:1,color:Te[Te.length-1].color};Te.push(Br)}for(var sn="",fr=0,un=0;un<_t.length;un++){for(st=_t[un];st>Te[fr+1].offset;)fr++;var on=Te[fr].offset,En=(st-on)/(Te[fr+1].offset-on),Ns=Te[fr].color,fo=Te[fr+1].color;sn+=J(Math.round((1-En)*Ns[0]+En*fo[0]).toString(16))+J(Math.round((1-En)*Ns[1]+En*fo[1]).toString(16))+J(Math.round((1-En)*Ns[2]+En*fo[2]).toString(16))}return sn.trim()})(P.colors,q),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+q+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ma({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),ee("endobj"),P.objectNumber=kr(),ee("<< /ShadingType "+P.type),ee("/ColorSpace /DeviceRGB");var Se="/Coords ["+E(parseFloat(P.coords[0]))+" "+E(parseFloat(P.coords[1]))+" ";P.type===2?Se+=E(parseFloat(P.coords[2]))+" "+E(parseFloat(P.coords[3])):Se+=E(parseFloat(P.coords[2]))+" "+E(parseFloat(P.coords[3]))+" "+E(parseFloat(P.coords[4]))+" "+E(parseFloat(P.coords[5])),ee(Se+="]"),P.matrix&&ee("/Matrix ["+P.matrix.toString()+"]"),ee("/Function "+ne+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},_c=function(P,q){var ne=yr(),ce=kr();q.push({resourcesOid:ne,objectOid:ce}),P.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+P.boundingBox.map(E).join(" ")+"]"}),ve.push({key:"XStep",value:E(P.xStep)}),ve.push({key:"YStep",value:E(P.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),P.matrix&&ve.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ma({data:P.stream,additionalKeyValues:ve,objectId:P.objectNumber}),ee("endobj")},S0=function(P){for(var q in P.objectNumber=kr(),ee("<<"),P)switch(q){case"opacity":ee("/ca "+C(P[q]));break;case"stroke-opacity":ee("/CA "+C(P[q]))}ee(">>"),ee("endobj")},Ad=function(P){jn(P.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in ee("/Font <<"),nt)nt.hasOwnProperty(q)&&(f===!1||f===!0&&p.hasOwnProperty(q))&&ee("/"+q+" "+nt[q].objectNumber+" 0 R");ee(">>")})(),(function(){if(Object.keys(ft).length>0){for(var q in ee("/Shading <<"),ft)ft.hasOwnProperty(q)&&ft[q]instanceof Il&&ft[q].objectNumber>=0&&ee("/"+q+" "+ft[q].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),ee(">>")}})(),(function(q){if(Object.keys(ft).length>0){for(var ne in ee("/Pattern <<"),ft)ft.hasOwnProperty(ne)&&ft[ne]instanceof h.TilingPattern&&ft[ne].objectNumber>=0&&ft[ne].objectNumber<q&&ee("/"+ne+" "+ft[ne].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),ee(">>")}})(P.objectOid),(function(){if(Object.keys(ht).length>0){var q;for(q in ee("/ExtGState <<"),ht)ht.hasOwnProperty(q)&&ht[q].objectNumber>=0&&ee("/"+q+" "+ht[q].objectNumber+" 0 R");Be.publish("putGStateDict"),ee(">>")}})(),(function(){for(var q in ee("/XObject <<"),Kt)Kt.hasOwnProperty(q)&&Kt[q].objectNumber>=0&&ee("/"+q+" "+Kt[q].objectNumber+" 0 R");Be.publish("putXobjectDict"),ee(">>")})(),ee(">>"),ee("endobj")},Gh=function(P){St[P.fontName]=St[P.fontName]||{},St[P.fontName][P.fontStyle]=P.id},Yh=function(P,q,ne,ce,ve){var Se={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:P,fontName:q,fontStyle:ne,encoding:ce,isStandardFont:ve||!1,metadata:{}};return Be.publish("addFont",{font:Se,instance:this}),nt[Se.id]=Se,Gh(Se),Se.id},Da=h.__private__.pdfEscape=h.pdfEscape=function(P,q){return(function(ne,ce){var ve,Se,Te,et,st,_t,Lt,tr,Br;if(Te=(ce=ce||{}).sourceEncoding||"Unicode",st=ce.outputEncoding,(ce.autoencode||st)&&nt[it].metadata&&nt[it].metadata[Te]&&nt[it].metadata[Te].encoding&&(et=nt[it].metadata[Te].encoding,!st&&nt[it].encoding&&(st=nt[it].encoding),!st&&et.codePages&&(st=et.codePages[0]),typeof st=="string"&&(st=et[st]),st)){for(Lt=!1,_t=[],ve=0,Se=ne.length;ve<Se;ve++)(tr=st[ne.charCodeAt(ve)])?_t.push(String.fromCharCode(tr)):_t.push(ne[ve]),_t[ve].charCodeAt(0)>>8&&(Lt=!0);ne=_t.join("")}for(ve=ne.length;Lt===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(Lt=!0),ve--;if(!Lt)return ne;for(_t=ce.noBOM?[]:[254,255],ve=0,Se=ne.length;ve<Se;ve++){if((Br=(tr=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(Br),_t.push(tr-(Br<<8))}return String.fromCharCode.apply(void 0,_t)})(P,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kd=h.__private__.beginPage=function(P){ge[++ar]=[],xt[ar]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Xh(ar),me(ge[U])},Kh=function(P,q){var ne,ce,ve;switch(r=q||r,typeof P=="string"&&(ne=x(P.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ve=ne[1])),Array.isArray(P)&&(ce=P[0]*dt,ve=P[1]*dt),isNaN(ce)&&(ce=a[0],ve=a[1]),(ce>14400||ve>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),a=[ce,ve],r.substr(0,1)){case"l":ve>ce&&(a=[ve,ce]);break;case"p":ce>ve&&(a=[ve,ce])}kd(a),R0(Td),ee(Nc),Rd!==0&&ee(Rd+" J"),Ld!==0&&ee(Ld+" j"),Be.publish("addPage",{pageNumber:ar})},Pd=function(P){P>0&&P<=ar&&(ge.splice(P,1),xt.splice(P,1),ar--,U>ar&&(U=ar),this.setPage(U))},Xh=function(P){P>0&&P<=ar&&(U=P)},Zh=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ge.length-1},Jh=function(P,q,ne){var ce,ve=void 0;return ne=ne||{},P=P!==void 0?P:nt[it].fontName,q=q!==void 0?q:nt[it].fontStyle,ce=P.toLowerCase(),St[ce]!==void 0&&St[ce][q]!==void 0?ve=St[ce][q]:St[P]!==void 0&&St[P][q]!==void 0?ve=St[P][q]:ne.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+P+"', '"+q+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=St.times[q])==null&&(ve=St.times.normal),ve},jc=h.__private__.putInfo=function(){var P=kr(),q=function(ce){return ce};for(var ne in d!==null&&(q=Yr.encryptor(P,0)),ee("<<"),ee("/Producer ("+Da(q("jsPDF "+ct.version))+")"),At)At.hasOwnProperty(ne)&&At[ne]&&ee("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Da(q(At[ne]))+")");ee("/CreationDate ("+Da(q(W))+")"),ee(">>"),ee("endobj")},A0=h.__private__.putCatalog=function(P){var q=(P=P||{}).rootDictionaryObjId||lo;switch(kr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+q+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Qe;ne.substr(ne.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+C(Qe)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ge&&ee("/PageMode /"+Ge),Be.publish("putCatalog"),ee(">>"),ee("endobj")},an=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(le+1)),ee("/Root "+le+" 0 R"),ee("/Info "+(le-1)+" 0 R"),d!==null&&ee("/Encrypt "+Yr.oid+" 0 R"),ee("/ID [ <"+H+"> <"+H+"> ]"),ee(">>")},Qh=h.__private__.putHeader=function(){ee("%PDF-"+g),ee("%ºß¬à")},ep=h.__private__.putXRef=function(){var P="0000000000";ee("xref"),ee("0 "+(le+1)),ee("0000000000 65535 f ");for(var q=1;q<=le;q++)typeof se[q]=="function"?ee((P+se[q]()).slice(-10)+" 00000 n "):se[q]!==void 0?ee((P+se[q]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ws=h.__private__.buildDocument=function(){var P;le=0,ie=0,de=[],se=[],he=[],lo=yr(),ni=yr(),me(de),Be.publish("buildDocument"),Qh(),Fi(),(function(){Be.publish("putAdditionalObjects");for(var ne=0;ne<he.length;ne++){var ce=he[ne];jn(ce.objId,!0),ee(ce.content),ee("endobj")}Be.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var ne in nt)nt.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&ol(nt[ne])})(),(function(){var ne;for(ne in ht)ht.hasOwnProperty(ne)&&S0(ht[ne])})(),(function(){for(var ne in Kt)Kt.hasOwnProperty(ne)&&bc(Kt[ne])})(),(function(ne){var ce;for(ce in ft)ft.hasOwnProperty(ce)&&(ft[ce]instanceof Il?wc(ft[ce]):ft[ce]instanceof hu&&_c(ft[ce],ne))})(P),Be.publish("putResources"),P.forEach(Ad),Ad({resourcesOid:ni,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources"),d!==null&&(Yr.oid=kr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Yr.v),ee("/R "+Yr.r),ee("/U <"+Yr.toHexString(Yr.U)+">"),ee("/O <"+Yr.toHexString(Yr.O)+">"),ee("/P "+Yr.P),ee(">>"),ee("endobj")),jc(),A0();var q=ie;return ep(),an(),ee("startxref"),ee(""+q),ee("%%EOF"),me(ge[U]),de.join(`
`)},ll=h.__private__.getBlob=function(P){return new Blob([Ue(P)],{type:"application/pdf"})},si=h.output=h.__private__.output=(Rr=function(P,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",P){case void 0:return ws();case"save":h.save(q.filename);break;case"arraybuffer":return Ue(ws());case"blob":return ll(ws());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(ll(ws()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=ws();try{ne=FA(ce)}catch{ne=FA(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+q.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(ve=q.pdfObjectUrl,Se="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",et=jt.open();return et!==null&&et.document.write(Te),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',_t=jt.open();if(_t!==null){_t.document.write(st);var Lt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=q.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Br=jt.open();if(Br!==null&&(Br.document.write(tr),Br.document.title=q.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",q);default:return null}},Rr.foo=function(){try{return Rr.apply(this,arguments)}catch(ne){var P=ne.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var q="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ne.message;if(!jt.console)throw new Error(q);jt.console.error(q,ne),jt.alert&&alert(q)}},Rr.foo.bar=Rr,Rr.foo),cl=function(P){return Array.isArray(vr)===!0&&vr.indexOf(P)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=cl("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Yr=null;oe(),F();var Cd=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[P].objId,pageNumber:P,pageContext:xt[P]}},k0=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in xt)if(xt[q].objId===P)break;return Cd(q)},P0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:xt[U].objId,pageNumber:U,pageContext:xt[U]}};h.addPage=function(){return Kh.apply(this,arguments),this},h.setPage=function(){return Xh.apply(this,arguments),me.call(this,ge[U]),this},h.insertPage=function(P){return this.addPage(),this.movePage(U,P),this},h.movePage=function(P,q){var ne,ce;if(P>q){ne=ge[P],ce=xt[P];for(var ve=P;ve>q;ve--)ge[ve]=ge[ve-1],xt[ve]=xt[ve-1];ge[q]=ne,xt[q]=ce,this.setPage(q)}else if(P<q){ne=ge[P],ce=xt[P];for(var Se=P;Se<q;Se++)ge[Se]=ge[Se+1],xt[Se]=xt[Se+1];ge[q]=ne,xt[q]=ce,this.setPage(q)}return this},h.deletePage=function(){return Pd.apply(this,arguments),this},h.__private__.text=h.text=function(P,q,ne,ce,ve){var Se,Te,et,st,_t,Lt,tr,Br,sn,fr=(ce=ce||{}).scope||this;if(typeof P=="number"&&typeof q=="number"&&(typeof ne=="string"||Array.isArray(ne))){var un=ne;ne=q,q=P,P=un}if(arguments[3]instanceof ze==0?(et=arguments[4],st=arguments[5],ur(tr=arguments[3])==="object"&&tr!==null||(typeof et=="string"&&(st=et,et=null),typeof tr=="string"&&(st=tr,tr=null),typeof tr=="number"&&(et=tr,tr=null),ce={flags:tr,angle:et,align:st})):(I("The transform parameter of text() with a Matrix value"),sn=ve),isNaN(q)||isNaN(ne)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return fr;var on,En="",Ns=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:dl,fo=fr.internal.scaleFactor;function q0(xr){return xr=xr.split("	").join(Array(ce.TabLen||9).join(" ")),Da(xr,tr)}function np(xr){for(var br,Xr=xr.concat(),Zr=[],Ps=Xr.length;Ps--;)typeof(br=Xr.shift())=="string"?Zr.push(br):Array.isArray(xr)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?Zr.push(br[0]):Zr.push([br[0],br[1],br[2]]);return Zr}function gl(xr,br){var Xr;if(typeof xr=="string")Xr=br(xr)[0];else if(Array.isArray(xr)){for(var Zr,Ps,Lc=xr.concat(),Vi=[],Gd=Lc.length;Gd--;)typeof(Zr=Lc.shift())=="string"?Vi.push(br(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Ps=br(Zr[0],Zr[1],Zr[2]),Vi.push([Ps[0],Ps[1],Ps[2]]));Xr=Vi}return Xr}var oi=!1,Bd=!0;if(typeof P=="string")oi=!0;else if(Array.isArray(P)){var Pc=P.concat();Te=[];for(var ho,Nn=Pc.length;Nn--;)(typeof(ho=Pc.shift())!="string"||Array.isArray(ho)&&typeof ho[0]!="string")&&(Bd=!1);oi=Bd}if(oi===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Ss=Pe/fr.internal.scaleFactor,As=Ss*(Ns-1);switch(ce.baseline){case"bottom":ne-=As;break;case"top":ne+=Ss-As;break;case"hanging":ne+=Ss-2*As;break;case"middle":ne+=Ss/2-As}if((Lt=ce.maxWidth||0)>0&&(typeof P=="string"?P=fr.splitTextToSize(P,Lt):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(xr,br){return xr.concat(fr.splitTextToSize(br,Lt))},[]))),Se={text:P,x:q,y:ne,options:ce,mutex:{pdfEscape:Da,activeFontKey:it,fonts:nt,activeFontSize:Pe}},Be.publish("preProcessText",Se),P=Se.text,et=(ce=Se.options).angle,sn instanceof ze==0&&et&&typeof et=="number"){et*=Math.PI/180,ce.rotationDirection===0&&(et=-et),_===w&&(et=-et);var Cc=Math.cos(et),qd=Math.sin(et);sn=new ze(Cc,qd,-qd,Cc,0,0)}else et&&et instanceof ze&&(sn=et);_!==w||sn||(sn=ra),(_t=ce.charSpace||Ac)!==void 0&&(En+=E(R(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=ce.horizontalScale)!==void 0&&(En+=E(100*Br)+` Tz
`),ce.lang;var Vn=-1,ap=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Oc=fr.internal.getCurrentPageInfo().pageContext;switch(ap){case 0:case!1:case"fill":Vn=0;break;case 1:case!0:case"stroke":Vn=1;break;case 2:case"fillThenStroke":Vn=2;break;case 3:case"invisible":Vn=3;break;case 4:case"fillAndAddForClipping":Vn=4;break;case 5:case"strokeAndAddPathForClipping":Vn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vn=6;break;case 7:case"addToPathForClipping":Vn=7}var ip=Oc.usedRenderingMode!==void 0?Oc.usedRenderingMode:-1;Vn!==-1?En+=Vn+` Tr
`:ip!==-1&&(En+=`0 Tr
`),Vn!==-1&&(Oc.usedRenderingMode=Vn),st=ce.align||"left";var dn,$a=Pe*Ns,Ud=fr.internal.pageSize.getWidth(),zd=nt[it];_t=ce.charSpace||Ac,Lt=ce.maxWidth||0,tr=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var po=[],Ec=function(xr){return fr.getStringUnitWidth(xr,{font:zd,charSpace:_t,fontSize:Pe,doKerning:!1})*Pe/fo};if(Object.prototype.toString.call(P)==="[object Array]"){var na;Te=np(P),st!=="left"&&(dn=Te.map(Ec));var aa,vl=0;if(st==="right"){q-=dn[0],P=[],Nn=Te.length;for(var Ui=0;Ui<Nn;Ui++)Ui===0?(aa=_s(q),na=js(ne)):(aa=R(vl-dn[Ui]),na=-$a),P.push([Te[Ui],aa,na]),vl=dn[Ui]}else if(st==="center"){q-=dn[0]/2,P=[],Nn=Te.length;for(var mo=0;mo<Nn;mo++)mo===0?(aa=_s(q),na=js(ne)):(aa=R((vl-dn[mo])/2),na=-$a),P.push([Te[mo],aa,na]),vl=dn[mo]}else if(st==="left"){P=[],Nn=Te.length;for(var Wd=0;Wd<Nn;Wd++)P.push(Te[Wd])}else if(st==="justify"&&zd.encoding==="Identity-H"){P=[],Nn=Te.length,Lt=Lt!==0?Lt:Ud;for(var go=0,Kr=0;Kr<Nn;Kr++)if(na=Kr===0?js(ne):-$a,aa=Kr===0?_s(q):go,Kr<Nn-1){var U0=R((Lt-dn[Kr])/(Te[Kr].split(" ").length-1)),zi=Te[Kr].split(" ");P.push([zi[0]+" ",aa,na]),go=0;for(var Wi=1;Wi<zi.length;Wi++){var Tc=(Ec(zi[Wi-1]+" "+zi[Wi])-Ec(zi[Wi]))*fo+U0;Wi==zi.length-1?P.push([zi[Wi],Tc,0]):P.push([zi[Wi]+" ",Tc,0]),go-=Tc}}else P.push([Te[Kr],aa,na]);P.push(["",go,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],Nn=Te.length,Lt=Lt!==0?Lt:Ud,Kr=0;Kr<Nn;Kr++)na=Kr===0?js(ne):-$a,aa=Kr===0?_s(q):0,Kr<Nn-1?po.push(E(R((Lt-dn[Kr])/(Te[Kr].split(" ").length-1)))):po.push(0),P.push([Te[Kr],aa,na])}}(typeof ce.R2L=="boolean"?ce.R2L:Ke)===!0&&(P=gl(P,function(xr,br,Xr){return[xr.split("").reverse().join(""),br,Xr]})),Se={text:P,x:q,y:ne,options:ce,mutex:{pdfEscape:Da,activeFontKey:it,fonts:nt,activeFontSize:Pe}},Be.publish("postProcessText",Se),P=Se.text,on=Se.mutex.isHex||!1;var Hd=nt[it].encoding;Hd!=="WinAnsiEncoding"&&Hd!=="StandardEncoding"||(P=gl(P,function(xr,br,Xr){return[q0(xr),br,Xr]})),Te=np(P),P=[];for(var Ic,Rc,yl,xl=Array.isArray(Te[0])?1:0,ks="",Vd=function(xr,br,Xr){var Zr="";return Xr instanceof ze?(Xr=typeof ce.angle=="number"?qr(Xr,new ze(1,0,0,1,xr,br)):qr(new ze(1,0,0,1,xr,br),Xr),_===w&&(Xr=qr(new ze(1,0,0,-1,0,0),Xr)),Zr=Xr.join(" ")+` Tm
`):Zr=E(xr)+" "+E(br)+` Td
`,Zr},ma=0;ma<Te.length;ma++){switch(ks="",xl){case 1:yl=(on?"<":"(")+Te[ma][0]+(on?">":")"),Ic=parseFloat(Te[ma][1]),Rc=parseFloat(Te[ma][2]);break;case 0:yl=(on?"<":"(")+Te[ma]+(on?">":")"),Ic=_s(q),Rc=js(ne)}po!==void 0&&po[ma]!==void 0&&(ks=po[ma]+` Tw
`),ma===0?P.push(ks+Vd(Ic,Rc,sn)+yl):xl===0?P.push(ks+yl):xl===1&&P.push(ks+Vd(Ic,Rc,sn)+yl)}P=xl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Hi=`BT
/`;return Hi+=it+" "+Pe+` Tf
`,Hi+=E(Pe*Ns)+` TL
`,Hi+=fl+`
`,Hi+=En,Hi+=P,ee(Hi+="ET"),p[it]=!0,fr};var C0=h.__private__.clip=h.clip=function(P){return ee(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return C0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var Bi=h.__private__.isValidStyle=function(P){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(q=!0),q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return Bi(P)&&(u=P),this};var tp=h.__private__.getStyle=h.getStyle=function(P){var q=u;switch(P){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=P}return q},rp=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(P){return co("f",P),this},h.fillEvenOdd=function(P){return co("f*",P),this},h.fillStroke=function(P){return co("B",P),this},h.fillStrokeEvenOdd=function(P){return co("B*",P),this};var co=function(P,q){ur(q)==="object"?E0(q,P):ee(P)},Od=function(P){P===null||_===w&&P===void 0||(P=tp(P),ee(P))};function O0(P,q,ne,ce,ve){var Se=new hu(q||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);Se.stream=this.stream;var Te=P+"$$"+this.cloneIndex+++"$$";return Ir(Te,Se),Se}var E0=function(P,q){var ne=qt[P.key],ce=ft[ne];if(ce instanceof Il)ee("q"),ee(T0(q)),ce.gState&&h.setGState(ce.gState),ee(P.matrix.toString()+" cm"),ee("/"+ne+" sh"),ee("Q");else if(ce instanceof hu){var ve=new ze(1,0,0,-1,0,pa());P.matrix&&(ve=ve.multiply(P.matrix||ra),ne=O0.call(ce,P.key,P.boundingBox,P.xStep,P.yStep,ve).id),ee("q"),ee("/Pattern cs"),ee("/"+ne+" scn"),ce.gState&&h.setGState(ce.gState),ee(q),ee("Q")}},T0=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ed=h.moveTo=function(P,q){return ee(E(R(P))+" "+E(M(q))+" m"),this},ul=h.lineTo=function(P,q){return ee(E(R(P))+" "+E(M(q))+" l"),this},uo=h.curveTo=function(P,q,ne,ce,ve,Se){return ee([E(R(P)),E(M(q)),E(R(ne)),E(M(ce)),E(R(ve)),E(M(Se)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,q,ne,ce,ve){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Bi(ve))throw new Error("Invalid arguments passed to jsPDF.line");return _===j?this.lines([[ne-P,ce-q]],P,q,[1,1],ve||"S"):this.lines([[ne-P,ce-q]],P,q,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,q,ne,ce,ve,Se){var Te,et,st,_t,Lt,tr,Br,sn,fr,un,on,En;if(typeof P=="number"&&(En=ne,ne=q,q=P,P=En),ce=ce||[1,1],Se=Se||!1,isNaN(q)||isNaN(ne)||!Array.isArray(P)||!Array.isArray(ce)||!Bi(ve)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ed(q,ne),Te=ce[0],et=ce[1],_t=P.length,un=q,on=ne,st=0;st<_t;st++)(Lt=P[st]).length===2?(un=Lt[0]*Te+un,on=Lt[1]*et+on,ul(un,on)):(tr=Lt[0]*Te+un,Br=Lt[1]*et+on,sn=Lt[2]*Te+un,fr=Lt[3]*et+on,un=Lt[4]*Te+un,on=Lt[5]*et+on,uo(tr,Br,sn,fr,un,on));return Se&&rp(),Od(ve),this},h.path=function(P){for(var q=0;q<P.length;q++){var ne=P[q],ce=ne.c;switch(ne.op){case"m":Ed(ce[0],ce[1]);break;case"l":ul(ce[0],ce[1]);break;case"c":uo.apply(this,ce);break;case"h":rp()}}return this},h.__private__.rect=h.rect=function(P,q,ne,ce,ve){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Bi(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return _===j&&(ce=-ce),ee([E(R(P)),E(M(q)),E(R(ne)),E(R(ce)),"re"].join(" ")),Od(ve),this},h.__private__.triangle=h.triangle=function(P,q,ne,ce,ve,Se,Te){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Se)||!Bi(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-P,ce-q],[ve-ne,Se-ce],[P-ve,q-Se]],P,q,[1,1],Te,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,q,ne,ce,ve,Se,Te){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Se)||!Bi(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Se=Math.min(Se,.5*ce),this.lines([[ne-2*ve,0],[ve*et,0,ve,Se-Se*et,ve,Se],[0,ce-2*Se],[0,Se*et,-ve*et,Se,-ve,Se],[2*ve-ne,0],[-ve*et,0,-ve,-Se*et,-ve,-Se],[0,2*Se-ce],[0,-Se*et,ve*et,-Se,ve,-Se]],P+ve,q,[1,1],Te,!0),this},h.__private__.ellipse=h.ellipse=function(P,q,ne,ce,ve){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Bi(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*ne,Te=4/3*(Math.SQRT2-1)*ce;return Ed(P+ne,q),uo(P+ne,q-Te,P+Se,q-ce,P,q-ce),uo(P-Se,q-ce,P-ne,q-Te,P-ne,q),uo(P-ne,q+Te,P-Se,q+ce,P,q+ce),uo(P+Se,q+ce,P+ne,q+Te,P+ne,q),Od(ve),this},h.__private__.circle=h.circle=function(P,q,ne,ce){if(isNaN(P)||isNaN(q)||isNaN(ne)||!Bi(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,q,ne,ne,ce)},h.setFont=function(P,q,ne){return ne&&(q=k(q,ne)),it=Jh(P,q,{disableWarning:!1}),this};var I0=h.__private__.getFont=h.getFont=function(){return nt[Jh.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,q,ne={};for(P in St)if(St.hasOwnProperty(P))for(q in ne[P]=[],St[P])St[P].hasOwnProperty(q)&&ne[P].push(q);return ne},h.addFont=function(P,q,ne,ce,ve){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(ne=k(ne,ce)),Yh.call(this,P,q,ne,ve=ve||"Identity-H")};var dl,Td=t.lineWidth||.200025,kt=h.__private__.getLineWidth=h.getLineWidth=function(){return Td},R0=h.__private__.setLineWidth=h.setLineWidth=function(P){return Td=P,ee(E(R(P))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(P,q){if(P=P||[],q=q||0,isNaN(q)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ne){return E(R(ne))}).join(" "),q=E(R(q)),ee("["+P+"] "+q+" d"),this};var L0=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*dl};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*dl};var M0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(dl=P),this},D0=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return dl};M0(t.lineHeight);var _s=h.__private__.getHorizontalCoordinate=function(P){return R(P)},js=h.__private__.getVerticalCoordinate=function(P){return _===w?P:xt[U].mediaBox.topRightY-xt[U].mediaBox.bottomLeftY-R(P)},$0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return E(_s(P))},F0=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return E(js(P))},Nc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return $i(Nc)},h.__private__.setStrokeColor=h.setDrawColor=function(P,q,ne,ce){return Nc=ai({ch1:P,ch2:q,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),ee(Nc),this};var Id=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return $i(Id)},h.__private__.setFillColor=h.setFillColor=function(P,q,ne,ce){return Id=ai({ch1:P,ch2:q,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),ee(Id),this};var fl=t.textColor||"0 g",Sc=h.__private__.getTextColor=h.getTextColor=function(){return $i(fl)};h.__private__.setTextColor=h.setTextColor=function(P,q,ne,ce){return fl=ai({ch1:P,ch2:q,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var Ac=t.charSpace,B0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ac||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ac=P,this};var Rd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var q=h.CapJoinStyles[P];if(q===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rd=q,ee(q+" J"),this};var Ld=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var q=h.CapJoinStyles[P];if(q===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ld=q,ee(q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(E(R(P))+" M"),this},h.GState=Tm,h.setGState=function(P){(P=typeof P=="string"?ht[$r[P]]:hl(null,P)).equals(Gr)||(ee("/"+P.id+" gs"),Gr=P)};var hl=function(P,q){if(!P||!$r[P]){var ne=!1;for(var ce in ht)if(ht.hasOwnProperty(ce)&&ht[ce].equals(q)){ne=!0;break}if(ne)q=ht[ce];else{var ve="GS"+(Object.keys(ht).length+1).toString(10);ht[ve]=q,q.id=ve}return P&&($r[P]=q.id),Be.publish("addGState",q),q}};h.addGState=function(P,q){return hl(P,q),this},h.saveGraphicsState=function(){return ee("q"),nr.push({key:it,size:Pe,color:fl}),this},h.restoreGraphicsState=function(){ee("Q");var P=nr.pop();return it=P.key,Pe=P.size,fl=P.color,Gr=null,this},h.setCurrentTransformationMatrix=function(P){return ee(P.toString()+" cm"),this},h.comment=function(P){return ee("#"+P),this};var pl=function(P,q){var ne=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Se){isNaN(Se)||(ne=parseFloat(Se))}});var ce=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Se){isNaN(Se)||(ce=parseFloat(Se))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Se){ve=Se.toString()}}),this},Md=function(P,q,ne,ce){pl.call(this,P,q),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Te){isNaN(Te)||(ve=parseFloat(Te))}});var Se=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Te){isNaN(Te)||(Se=parseFloat(Te))}}),this},kc=function(){this.page=ar,this.currentPage=U,this.pages=ge.slice(0),this.pagesContext=xt.slice(0),this.x=ot,this.y=Gt,this.matrix=Yt,this.width=$d(U),this.height=pa(U),this.outputDestination=Ce,this.id="",this.objectNumber=-1};kc.prototype.restore=function(){ar=this.page,U=this.currentPage,xt=this.pagesContext,ge=this.pages,ot=this.x,Gt=this.y,Yt=this.matrix,Fd(U,this.width),qi(U,this.height),Ce=this.outputDestination};var Dd=function(P,q,ne,ce,ve){Hn.push(new kc),ar=U=0,ge=[],ot=P,Gt=q,Yt=ve,kd([ne,ce])};for(var ml in h.beginFormObject=function(P,q,ne,ce,ve){return Dd(P,q,ne,ce,ve),this},h.endFormObject=function(P){return(function(q){if(Fr[q])Hn.pop().restore();else{var ne=new kc,ce="Xo"+(Object.keys(Kt).length+1).toString(10);ne.id=ce,Fr[q]=ce,Kt[ce]=ne,Be.publish("addFormObject",ne),Hn.pop().restore()}})(P),this},h.doFormObject=function(P,q){var ne=Kt[Fr[P]];return ee("q"),ee(q.toString()+" cm"),ee("/"+ne.id+" Do"),ee("Q"),this},h.getFormObject=function(P){var q=Kt[Fr[P]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},h.save=function(P,q){return P=P||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Pl(ll(ws()),P),typeof Pl.unload=="function"&&jt.setTimeout&&setTimeout(Pl.unload,911),this):new Promise(function(ne,ce){try{var ve=Pl(ll(ws()),P);typeof Pl.unload=="function"&&jt.setTimeout&&setTimeout(Pl.unload,911),ne(ve)}catch(Se){ce(Se.message)}})},ct.API)ct.API.hasOwnProperty(ml)&&(ml==="events"&&ct.API.events.length?(function(P,q){var ne,ce,ve;for(ve=q.length-1;ve!==-1;ve--)ne=q[ve][0],ce=q[ve][1],P.subscribe.apply(P,[ne].concat(typeof ce=="function"?[ce]:ce))})(Be,ct.API.events):h[ml]=ct.API[ml]);var $d=h.getPageWidth=function(P){return(xt[P=P||U].mediaBox.topRightX-xt[P].mediaBox.bottomLeftX)/dt},Fd=h.setPageWidth=function(P,q){xt[P].mediaBox.topRightX=q*dt+xt[P].mediaBox.bottomLeftX},pa=h.getPageHeight=function(P){return(xt[P=P||U].mediaBox.topRightY-xt[P].mediaBox.bottomLeftY)/dt},qi=h.setPageHeight=function(P,q){xt[P].mediaBox.topRightY=q*dt+xt[P].mediaBox.bottomLeftY};return h.internal={pdfEscape:Da,getStyle:tp,getFont:I0,getFontSize:$e,getCharSpace:B0,getTextColor:Sc,getLineHeight:L0,getLineHeightFactor:D0,getLineWidth:kt,write:Ve,getHorizontalCoordinate:_s,getVerticalCoordinate:js,getCoordinateString:$0,getVerticalCoordinateString:F0,collections:{},newObject:kr,newAdditionalObject:il,newObjectDeferred:yr,newObjectDeferredBegin:jn,getFilters:ii,putStream:Ma,events:Be,scaleFactor:dt,pageSize:{getWidth:function(){return $d(U)},setWidth:function(P){Fd(U,P)},getHeight:function(){return pa(U)},setHeight:function(P){qi(U,P)}},encryptionOptions:d,encryption:Yr,getEncryptor:function(P){return d!==null?Yr.encryptor(P,0):function(q){return q}},output:si,getNumberOfPages:Zh,pages:ge,out:ee,f2:C,f3:O,getPageInfo:Cd,getPageInfoByObjId:k0,getCurrentPageInfo:P0,getPDFVersion:m,Point:pl,Rectangle:Md,Matrix:ze,hasHotfix:cl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return $d(U)},set:function(P){Fd(U,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return pa(U)},set:function(P){qi(U,P)},enumerable:!0,configurable:!0}),(function(P){for(var q=0,ne=We.length;q<ne;q++){var ce=Yh.call(this,P[q][0],P[q][1],P[q][2],We[q][3],!0);f===!1&&(p[ce]=!0);var ve=P[q][0].split("-");Gh({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}Be.publish("addFonts",{fonts:nt,dictionary:St})}).call(h,We),it="F1",Kh(a,r),Be.publish("initialized"),h}uu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},uu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},uu.prototype.processOwnerPassword=function(t,e){return F2($2(e).substr(0,5),t)},uu.prototype.encryptor=function(t,e){var r=$2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return F2(r,n)}},Tm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ur(t)!==ur(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ct.API={events:[]},ct.version="3.0.2";var Wr=ct.API,sj=1,pc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},Ao=function(t){return t.toFixed(5)};Wr.__acroform__={};var fa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},zA=function(t){return t*sj},Ki=function(t){var e=new CR,r=Je.internal.getHeight(t)||0,n=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(n)),Number(Ot(r))],e},ZK=Wr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},JK=Wr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},QK=Wr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},en=Wr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QK(t,e-1)},tn=Wr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZK(t,e-1)},rn=Wr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JK(t,e-1)},eX=Wr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Ot(c.lowerLeft_X)),Number(Ot(c.lowerLeft_Y)),Number(Ot(c.upperRight_X)),Number(Ot(c.upperRight_Y))]},tX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=B2(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ki(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},B2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,s=Je.internal.getHeight(t)||0;s=s<0?-s:s;var l=Je.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(C,O,R){if(C+1<a.length){var M=O+" "+a[C+1][0];return Wp(M,t,R).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=Wp("3",t,i).height,p=t.multiline?s-i:(s-f)/2,h=p+=2,g=0,m=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wp(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",j=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var _=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(j+2)+2>s)continue e;x+=a[w][v],_=!0,m=w,w--}else{x=(x+=a[w][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var N=parseInt(w),A=c(N,x,i),k=w>=a.length-1;if(A&&!k){x+=" ",v=0;continue}if(A||k){if(k)m=N;else if(t.multiline&&(f+2)*(j+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(j+2)+2>s)continue e;m=N}}for(var E="",I=g;I<=m;I++){var L=a[I];if(t.multiline){if(I===m){E+=L[v]+" ",v=(v+1)%L.length;continue}if(I===g){E+=L[L.length-1]+" ";continue}}E+=L[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Wp(E,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Ot(u)+" "+Ot(h)+` Td
`,e+="("+pc(E)+`) Tj
`,e+=-Ot(u)+` 0 Td
`,h=-(i+2),d=0,g=_?m:m+1,j++,x=""}break}return n.text=e,n.fontSize=i,n},Wp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},rX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nX=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},aX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ri.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sj=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new OR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&nX(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=eX(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Je.createDefaultAppearanceStream(l),ur(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=tX(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(a,l)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,l)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(m,v){for(var x in m)if(m.hasOwnProperty(x)){var j=x,w=m[x];v.internal.newObjectDeferredBegin(w.objId,!0),ur(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[j]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},PR=Wr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),ur(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+pc(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wy=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+pc(n(t))+")"},Qi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qi.prototype.toString=function(){return this.objId+" 0 R"},Qi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:PR(a,this.objId,this.scope)}):a instanceof Qi?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var CR=function(){Qi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fa(CR,Qi);var OR=function(){Qi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pc(r(t))+")"}},set:function(r){t=r}})};fa(OR,Qi);var Ri=function t(){Qi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!en(e,3)},set:function(x){x?this.F=tn(e,3):this.F=rn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Im)return;i="FieldObject"+t.FieldNum++}var x=function(j){return j};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+pc(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/sj:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Im||this instanceof Wl))return Wy(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof kn==0?Wy(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof kn==0?x.substr(0,1)==="("?Jc(x.substr(1,x.length-2)):Jc(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?Jc(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof kn==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof kn==0?Wy(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof kn==0?x.substr(0,1)==="("?Jc(x.substr(1,x.length-2)):Jc(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?Jc(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof kn==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,1)},set:function(x){x?this.Ff=tn(this.Ff,1):this.Ff=rn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,2)},set:function(x){x?this.Ff=tn(this.Ff,2):this.Ff=rn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,3)},set:function(x){x?this.Ff=tn(this.Ff,3):this.Ff=rn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};fa(Ri,Qi);var wu=function(){Ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return PR(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,18)},set:function(r){r?this.Ff=tn(this.Ff,18):this.Ff=rn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=tn(this.Ff,19):this.Ff=rn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,20)},set:function(r){r?(this.Ff=tn(this.Ff,20),e.sort()):this.Ff=rn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,22)},set:function(r){r?this.Ff=tn(this.Ff,22):this.Ff=rn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(r){r?this.Ff=tn(this.Ff,23):this.Ff=rn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,27)},set:function(r){r?this.Ff=tn(this.Ff,27):this.Ff=rn(this.Ff,27)}}),this.hasAppearanceStream=!1};fa(wu,Ri);var _u=function(){wu.call(this),this.fontName="helvetica",this.combo=!1};fa(_u,wu);var ju=function(){_u.call(this),this.combo=!0};fa(ju,_u);var vm=function(){ju.call(this),this.edit=!0};fa(vm,ju);var kn=function(){Ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,15)},set:function(r){r?this.Ff=tn(this.Ff,15):this.Ff=rn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,16)},set:function(r){r?this.Ff=tn(this.Ff,16):this.Ff=rn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,17)},set:function(r){r?this.Ff=tn(this.Ff,17):this.Ff=rn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(r){r?this.Ff=tn(this.Ff,26):this.Ff=rn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+pc(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){ur(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fa(kn,Ri);var ym=function(){kn.call(this),this.pushButton=!0};fa(ym,kn);var Nu=function(){kn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fa(Nu,kn);var Im=function(){var t,e;Ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+pc(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){ur(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fa(Im,Ri),Nu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Nu.prototype.createOption=function(t){var e=new Im;return e.Parent=this,e.optionName=t,this.Kids.push(e),iX.call(this.scope,e),e};var xm=function(){kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};fa(xm,kn);var Wl=function(){Ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,13)},set:function(e){e?this.Ff=tn(this.Ff,13):this.Ff=rn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,21)},set:function(e){e?this.Ff=tn(this.Ff,21):this.Ff=rn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(e){e?this.Ff=tn(this.Ff,23):this.Ff=rn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,24)},set:function(e){e?this.Ff=tn(this.Ff,24):this.Ff=rn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,25)},set:function(e){e?this.Ff=tn(this.Ff,25):this.Ff=rn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(e){e?this.Ff=tn(this.Ff,26):this.Ff=rn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fa(Wl,Ri);var bm=function(){Wl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,14)},set:function(t){t?this.Ff=tn(this.Ff,14):this.Ff=rn(this.Ff,14)}}),this.password=!0};fa(bm,Wl);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ki(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=B2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ot(Je.internal.getWidth(t))+" "+Ot(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ot(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ki(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Je.internal.getHeight(t),s=Je.internal.getWidth(t),l=B2(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ot(s)+" "+Ot(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ot(s-1)+" "+Ot(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ot(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Ki(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Je.internal.getWidth(t))+" "+Ot(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ki(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Je.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ao(Je.internal.getWidth(t)/2)+" "+Ao(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ki(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Je.internal.Bezier_C).toFixed(5)),s=Number((n*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ao(Je.internal.getWidth(t)/2)+" "+Ao(Je.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ao(Je.internal.getWidth(t)/2)+" "+Ao(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ki(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ao(Je.internal.getWidth(t)/2)+" "+Ao(Je.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ki(t);e.scope=t.scope;var r=[],n=Je.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ot(Je.internal.getWidth(t)-2)+" "+Ot(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),r.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),r.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),r.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ki(t);e.scope=t.scope;var r=Je.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(Je.internal.getWidth(t))+" "+Ot(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ot(Je.internal.getWidth(t)-2)+" "+Ot(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(r.x1.x)+" "+Ot(r.x1.y)+" m"),n.push(Ot(r.x2.x)+" "+Ot(r.x2.y)+" l"),n.push(Ot(r.x4.x)+" "+Ot(r.x4.y)+" m"),n.push(Ot(r.x3.x)+" "+Ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ki(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ot(Je.internal.getWidth(t))+" "+Ot(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),r=Je.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Je.internal.getWidth=function(t){var e=0;return ur(t)==="object"&&(e=zA(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return ur(t)==="object"&&(e=zA(t.Rect[3])),e};var iX=Wr.addField=function(t){if(aX(this,t),!(t instanceof Ri))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=wu,Wr.AcroFormListBox=_u,Wr.AcroFormComboBox=ju,Wr.AcroFormEditBox=vm,Wr.AcroFormButton=kn,Wr.AcroFormPushButton=ym,Wr.AcroFormRadioButton=Nu,Wr.AcroFormCheckBox=xm,Wr.AcroFormTextField=Wl,Wr.AcroFormPasswordField=bm,Wr.AcroFormAppearance=Je,Wr.AcroForm={ChoiceField:wu,ListBox:_u,ComboBox:ju,EditBox:vm,Button:kn,PushButton:ym,RadioButton:Nu,CheckBox:xm,TextField:Wl,PasswordField:bm,Appearance:Je},ct.AcroForm={ChoiceField:wu,ListBox:_u,ComboBox:ju,EditBox:vm,Button:kn,PushButton:ym,RadioButton:Nu,CheckBox:xm,TextField:Wl,PasswordField:bm,Appearance:Je};ct.AcroForm;function ER(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(C,O){var R,M,W,H,G,F=r;if((O=O||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(A(C))for(G in n)for(W=n[G],R=0;R<W.length;R+=1){for(H=!0,M=0;M<W[R].length;M+=1)if(W[R][M]!==void 0&&W[R][M]!==C[M]){H=!1;break}if(H===!0){F=G;break}}else for(G in n)for(W=n[G],R=0;R<W.length;R+=1){for(H=!0,M=0;M<W[R].length;M+=1)if(W[R][M]!==void 0&&W[R][M]!==C.charCodeAt(M)){H=!1;break}if(H===!0){F=G;break}}return F===r&&O!==r&&(F=O),F},i=function C(O){for(var R=this.internal.write,M=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:O.width}),H.push({key:"Height",value:O.height}),O.colorSpace===x.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===x.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var G="",F=0,ae=O.transparency.length;F<ae;F++)G+=O.transparency[F]+" "+O.transparency[F]+" ";H.push({key:"Mask",value:"["+G+"]"})}O.sMask!==void 0&&H.push({key:"SMask",value:O.objectId+1+" 0 R"});var Q=O.filter!==void 0?["/"+O.filter]:void 0;if(M({data:O.data,additionalKeyValues:H,alreadyAppliedFilters:Q,objectId:O.objectId}),R("endobj"),"sMask"in O&&O.sMask!==void 0){var oe=(O.predictor!=null?"/Predictor "+O.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+O.width,$={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:oe,data:O.sMask};"filter"in O&&($.filter=O.filter),C.call(this,$)}if(O.colorSpace===x.INDEXED){var U=this.internal.newObject();M({data:E(new Uint8Array(O.palette)),objectId:U}),R("endobj")}},s=function(){var C=this.internal.collections[e+"images"];for(var O in C)i.call(this,C[O])},l=function(){var C,O=this.internal.collections[e+"images"],R=this.internal.write;for(var M in O)R("/I"+(C=O[M]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(C){return typeof t["process"+C.toUpperCase()]=="function"},p=function(C){return ur(C)==="object"&&C.nodeType===1},h=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var R=""+C.getAttribute("src");if(R.indexOf("data:image/")===0)return gm(unescape(R).split("base64,").pop());var M=t.loadFile(R,!0);if(M!==void 0)return M}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var W;switch(O){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return gm(C.toDataURL(W,1).split("base64,").pop())}},g=function(C){var O=this.internal.collections[e+"images"];if(O){for(var R in O)if(C===O[R].alias)return O[R]}},m=function(C,O,R){return C||O||(C=-96,O=-96),C<0&&(C=-1*R.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*R.height*72/O/this.internal.scaleFactor),C===0&&(C=O*R.width/R.height),O===0&&(O=C*R.height/R.width),[C,O]},v=function(C,O,R,M,W,H){var G=m.call(this,R,M,W),F=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,Q=u.call(this);if(R=G[0],M=G[1],Q[W.index]=W,H){H*=Math.PI/180;var oe=Math.cos(H),$=Math.sin(H),U=function(J){return J.toFixed(4)},z=[U(oe),U($),U(-1*$),U(oe),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,F(C),ae(O+M),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([F(R),"0","0",F(M),"0","0","cm"].join(" "))):this.internal.write([F(R),"0","0",F(M),F(C),ae(O+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(C){var O,R,M=0;if(typeof C=="string")for(R=C.length,O=0;O<R;O++)M=(M<<5)-M+C.charCodeAt(O),M|=0;else if(A(C))for(R=C.byteLength/2,O=0;O<R;O++)M=(M<<5)-M+C[O],M|=0;return M},_=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},N=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var O=C.indexOf(",");return O<0?null:C.substring(0,O).trim().endsWith("base64")?C.substring(O+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var A=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,R=new Uint8Array(O),M=0;M<O;M++)R[M]=C.charCodeAt(M);return R},E=t.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",R=A(C)?C:new Uint8Array(C),M=0;M<R.length;M+=8192)O+=String.fromCharCode.apply(null,R.subarray(M,M+8192));return O};t.addImage=function(){var C,O,R,M,W,H,G,F,ae;if(typeof arguments[1]=="number"?(O=r,R=arguments[1],M=arguments[2],W=arguments[3],H=arguments[4],G=arguments[5],F=arguments[6],ae=arguments[7]):(O=arguments[1],R=arguments[2],M=arguments[3],W=arguments[4],H=arguments[5],G=arguments[6],F=arguments[7],ae=arguments[8]),ur(C=arguments[0])==="object"&&!p(C)&&"imageData"in C){var Q=C;C=Q.imageData,O=Q.format||O||r,R=Q.x||R||0,M=Q.y||M||0,W=Q.w||Q.width||W,H=Q.h||Q.height||H,G=Q.alias||G,F=Q.compression||F,ae=Q.rotation||Q.angle||ae}var oe=this.internal.getFilters();if(F===void 0&&oe.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(R)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var $=I.call(this,C,O,G,F);return v.call(this,R,M,W,H,$,ae),this};var I=function(C,O,R,M){var W,H,G;if(typeof C=="string"&&a(C)===r){C=unescape(C);var F=L(C,!1);(F!==""||(F=t.loadFile(C,!0))!==void 0)&&(C=F)}if(p(C)&&(C=h(C,O)),O=a(C,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((G=R)==null||G.length===0)&&(R=(function(ae){return typeof ae=="string"||A(ae)?w(ae):A(ae.data)?w(ae.data):null})(C)),(W=g.call(this,R))||(C instanceof Uint8Array||O==="RGBA"||(H=C,C=k(C)),W=this["process"+O.toUpperCase()](C,d.call(this),R,(function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:j.NONE})(M),H)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},L=t.__addimage__.convertBase64ToBinaryString=function(C,O){O=typeof O!="boolean"||O;var R,M="";if(typeof C=="string"){var W;R=(W=N(C))!==null&&W!==void 0?W:C;try{M=gm(R)}catch(H){if(O)throw _(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(C){var O,R,M="";if(p(C)&&(C=h(C)),typeof C=="string"&&a(C)===r&&((M=L(C,!1))===""&&(M=t.loadFile(C)||""),C=M),R=a(C),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(C instanceof Uint8Array||(C=k(C)),!(O=this["process"+R.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=R,O}})(ct.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(j))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var A=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;s=Math.ceil(u*d)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(ct.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,j="",w=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(w++,typeof(x=x[m.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(x),x=r,w=0),v===m.length-1&&(x=r,j+=m.charAt(v-(w-1)),v-=w-1,w=0)):(x=r,j+=m.charAt(v-w),v-=w,w=0);return j};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,v,x){return s(m)?i(m)===!1?-1:!u(m)||!s(v)&&!s(x)||!s(x)&&l(v)||l(m)&&!s(v)||l(m)&&c(v)||l(m)&&l(v)?0:d(m)&&s(v)&&!l(v)&&s(x)&&u(x)?3:l(m)||!s(x)?1:2:-1},h=function(m){var v=0,x=0,j=0,w="",_="",N="",A=(m=m||"").split("\\s+"),k=[];for(v=0;v<A.length;v+=1){for(k.push(""),x=0;x<A[v].length;x+=1)w=A[v][x],_=A[v][x-1],N=A[v][x+1],s(w)?(j=p(w,_,N),k[v]+=j!==-1?String.fromCharCode(e[w.charCodeAt(0)][j]):w):k[v]+=w;k[v]=f(k[v])}return k.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var j=0;for(x=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?x.push([h(v[j][0]),v[j][1],v[j][2]]):x.push([h(v[j])]);m=x}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])})(ct.API),ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ct.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,_){return w.concat(v.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(m=this.getStringUnitWidth(c[j],{font:f})*d)&&(h=m);return h!==0&&(g=c.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,m,v,x=[],j=[],w=[],_={},N={},A=[],k=[],E=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=M,this.setFontSize(L),f==null)j=x=Object.keys(d[0]),w=x.map(function(){return"left"});else if(Array.isArray(f)&&ur(f[0])==="object")for(x=f.map(function(Q){return Q.name}),j=f.map(function(Q){return Q.prompt||Q.name||""}),w=f.map(function(Q){return Q.align||"left"}),h=0;h<f.length;h+=1)N[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(j=x=f,w=x.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[v=x[h]]=d.map(function(Q){return Q[v]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)A.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,A)+O+O,A=[]}if(I){var W={};for(h=0;h<x.length;h+=1)W[x[h]]={},W[x[h]].text=j[h],W[x[h]].align=w[h];var H=l.call(this,W,N);k=x.map(function(Q){return new i(c,u,N[Q],H,W[Q].text,void 0,W[Q].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var G=f.reduce(function(Q,oe){return Q[oe.name]=oe.align,Q},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var F=l.call(this,d[h],N);for(m=0;m<x.length;m+=1){var ae=d[h][x[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:ae},this),s.call(this,new i(c,u,N[x[m]],F,ae,h+2,G[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(ct.API);var TR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q2=ER(IR),RR=[100,200,300,400,500,600,700,800,900],sX=ER(RR);function Hy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return TR[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof q2[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function WA(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var oX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function VA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function GA(t){return t.trimLeft()}function lX(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function cX(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Hp,YA,KA,Qc,Vp,XA,ZA,JA,Vy=["times"];function QA(t,e,r,n){var a=4,i=tk;switch(n){case ct.API.image_compression.FAST:a=1,i=ek;break;case ct.API.image_compression.MEDIUM:a=6,i=rk;break;case ct.API.image_compression.SLOW:a=9,i=nk}t=(function(l,c,u,d){for(var f,p=l.length/c,h=new Uint8Array(l.length+p),g=[uX,ek,tk,rk,nk],m=0;m<p;m+=1){var v=m*c,x=l.subarray(v,v+c);if(d)h.set(d(x,u,f),v+m);else{for(var j=g.length,w=[],_=0;_<j;_+=1)w[_]=g[_](x,u,f);var N=fX(w.concat());h.set(w[N],v+m)}f=x}return h})(t,e,r,i);var s=R2(t,{level:a});return ct.API.__addimage__.arrayBufferToBinaryString(s)}function uX(t){var e=Array.apply([],t);return e.unshift(0),e}function ek(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function tk(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=t[i]-s+256&255}return a}function rk(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(s+l>>>1)&255}return a}function nk(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=dX(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-s+256&255}return a}function dX(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function fX(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Gy(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return LR(t,a)>>i&s}function ak(t,e,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,i,LR(t,i)&~(l<<s)&65535|c)}function LR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function hX(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=s,e+=3*s);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++],N=_>>6&1,A=1<<1+(7&_),k=l,E=c,I=!1;_>>7&&(I=!0,k=e,E=A,e+=3*A);var L=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:v,y:x,width:j,height:w,has_local_palette:I,palette_offset:k,palette_size:E,data_offset:L,data_length:e-L,transparent_index:p,interlaced:!!N,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,R){var M=this.frameInfo(O),W=M.width*M.height,H=new Uint8Array(W);ik(t,M.data_offset,H,W);var G=M.palette_offset,F=M.transparent_index;F===null&&(F=256);var ae=M.width,Q=r-ae,oe=ae,$=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),z=$,J=4*Q;M.interlaced===!0&&(J+=4*r*7);for(var le=8,se=0,de=H.length;se<de;++se){var ie=H[se];if(oe===0&&(oe=ae,(z+=J)>=U&&(J=4*Q+4*r*(le-1),z=$+(ae+Q)*(le<<1),le>>=1)),ie===F)z+=4;else{var he=t[G+3*ie],ge=t[G+3*ie+1],ue=t[G+3*ie+2];R[z++]=ue,R[z++]=ge,R[z++]=he,R[z++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(O,R){var M=this.frameInfo(O),W=M.width*M.height,H=new Uint8Array(W);ik(t,M.data_offset,H,W);var G=M.palette_offset,F=M.transparent_index;F===null&&(F=256);var ae=M.width,Q=r-ae,oe=ae,$=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),z=$,J=4*Q;M.interlaced===!0&&(J+=4*r*7);for(var le=8,se=0,de=H.length;se<de;++se){var ie=H[se];if(oe===0&&(oe=ae,(z+=J)>=U&&(J=4*Q+4*r*(le-1),z=$+(ae+Q)*(le<<1),le>>=1)),ie===F)z+=4;else{var he=t[G+3*ie],ge=t[G+3*ie+1],ue=t[G+3*ie+2];R[z++]=he,R[z++]=ge,R[z++]=ue,R[z++]=255}--oe}}}function ik(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===s)break;for(var x=v<l?v:m,j=0,w=x;w>i;)w=g[w]>>8,++j;var _=w;if(p+j+(x!==v?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[p++]=_;var N=p+=j;for(x!==v&&(r[p++]=_),w=x;j--;)w=g[w],r[--N]=255&w,w>>=8;m!==null&&l<4096&&(g[l++]=m<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else l=s+1,u=(1<<(c=a+1))-1,m=null}return p!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yy(t){var e,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,x=7,j=new Array(64),w=new Array(64),_=new Array(64),N=new Array(256),A=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H($,U){for(var z=0,J=0,le=new Array,se=1;se<=16;se++){for(var de=1;de<=$[se];de++)le[U[J]]=[],le[U[J]][0]=z,le[U[J]][1]=se,J++,z++;z*=2}return le}function G($){for(var U=$[0],z=$[1]-1;z>=0;)U&1<<z&&(v|=1<<x),z--,--x<0&&(v==255?(F(255),F(0)):F(v),x=7,v=0)}function F($){m.push($)}function ae($){F($>>8&255),F(255&$)}function Q($,U,z,J,le){for(var se,de=le[0],ie=le[240],he=(function(Pe,Qe){var $e,Ke,Ge,Wt,vt,yt,rr,At,it,dt,ot=0;for(it=0;it<8;++it){$e=Pe[ot],Ke=Pe[ot+1],Ge=Pe[ot+2],Wt=Pe[ot+3],vt=Pe[ot+4],yt=Pe[ot+5],rr=Pe[ot+6];var Gt=$e+(At=Pe[ot+7]),Yt=$e-At,nt=Ke+rr,St=Ke-rr,nr=Ge+yt,ft=Ge-yt,qt=Wt+vt,ht=Wt-vt,$r=Gt+qt,Gr=Gt-qt,ar=nt+nr,xt=nt-nr;Pe[ot]=$r+ar,Pe[ot+4]=$r-ar;var Be=.707106781*(xt+Gr);Pe[ot+2]=Gr+Be,Pe[ot+6]=Gr-Be;var vr=.382683433*(($r=ht+ft)-(xt=St+Yt)),Kt=.5411961*$r+vr,Fr=1.306562965*xt+vr,Hn=.707106781*(ar=ft+St),ze=Yt+Hn,qr=Yt-Hn;Pe[ot+5]=qr+Kt,Pe[ot+3]=qr-Kt,Pe[ot+1]=ze+Fr,Pe[ot+7]=ze-Fr,ot+=8}for(ot=0,it=0;it<8;++it){$e=Pe[ot],Ke=Pe[ot+8],Ge=Pe[ot+16],Wt=Pe[ot+24],vt=Pe[ot+32],yt=Pe[ot+40],rr=Pe[ot+48];var ra=$e+(At=Pe[ot+56]),Ir=$e-At,Rr=Ke+rr,kr=Ke-rr,yr=Ge+yt,jn=Ge-yt,il=Wt+vt,lo=Wt-vt,ni=ra+il,$i=ra-il,ai=Rr+yr,ii=Rr-yr;Pe[ot]=ni+ai,Pe[ot+32]=ni-ai;var Ma=.707106781*(ii+$i);Pe[ot+16]=$i+Ma,Pe[ot+48]=$i-Ma;var sl=.382683433*((ni=lo+jn)-(ii=kr+Ir)),Fi=.5411961*ni+sl,ol=1.306562965*ii+sl,bc=.707106781*(ai=jn+kr),wc=Ir+bc,_c=Ir-bc;Pe[ot+40]=_c+Fi,Pe[ot+24]=_c-Fi,Pe[ot+8]=wc+ol,Pe[ot+56]=wc-ol,ot++}for(it=0;it<64;++it)dt=Pe[it]*Qe[it],h[it]=dt>0?dt+.5|0:dt-.5|0;return h})($,U),ge=0;ge<64;++ge)g[k[ge]]=he[ge];var ue=g[0]-z;z=g[0],ue==0?G(J[0]):(G(J[p[se=32767+ue]]),G(f[se]));for(var Ce=63;Ce>0&&g[Ce]==0;)Ce--;if(Ce==0)return G(de),z;for(var me,ee=1;ee<=Ce;){for(var Ve=ee;g[ee]==0&&ee<=Ce;)++ee;var Ue=ee-Ve;if(Ue>=16){me=Ue>>4;for(var We=1;We<=me;++We)G(ie);Ue&=15}se=32767+g[ee],G(le[(Ue<<4)+p[se]]),G(f[se]),ee++}return Ce!=63&&G(de),z}function oe($){$=Math.min(Math.max($,1),100),i!=$&&((function(U){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var le=s((z[J]*U+50)/100);le=Math.min(Math.max(le,1),255),l[k[J]]=le}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=s((se[de]*U+50)/100);ie=Math.min(Math.max(ie,1),255),c[k[de]]=ie}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ue=0;ue<8;ue++)for(var Ce=0;Ce<8;Ce++)u[ge]=1/(l[k[ge]]*he[ue]*he[Ce]*8),d[ge]=1/(c[k[ge]]*he[ue]*he[Ce]*8),ge++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,U){U&&oe(U),m=new Array,v=0,x=7,ae(65496),ae(65504),ae(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),ae(1),ae(1),F(0),F(0),(function(){ae(65499),ae(132),F(0);for(var Ke=0;Ke<64;Ke++)F(l[Ke]);F(1);for(var Ge=0;Ge<64;Ge++)F(c[Ge])})(),(function(Ke,Ge){ae(65472),ae(17),F(8),ae(Ge),ae(Ke),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})($.width,$.height),(function(){ae(65476),ae(418),F(0);for(var Ke=0;Ke<16;Ke++)F(E[Ke+1]);for(var Ge=0;Ge<=11;Ge++)F(I[Ge]);F(16);for(var Wt=0;Wt<16;Wt++)F(L[Wt+1]);for(var vt=0;vt<=161;vt++)F(C[vt]);F(1);for(var yt=0;yt<16;yt++)F(O[yt+1]);for(var rr=0;rr<=11;rr++)F(R[rr]);F(17);for(var At=0;At<16;At++)F(M[At+1]);for(var it=0;it<=161;it++)F(W[it])})(),ae(65498),ae(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var z=0,J=0,le=0;v=0,x=7,this.encode.displayName="_encode_";for(var se,de,ie,he,ge,ue,Ce,me,ee,Ve=$.data,Ue=$.width,We=$.height,Pe=4*Ue,Qe=0;Qe<We;){for(se=0;se<Pe;){for(ge=Pe*Qe+se,Ce=-1,me=0,ee=0;ee<64;ee++)ue=ge+(me=ee>>3)*Pe+(Ce=4*(7&ee)),Qe+me>=We&&(ue-=Pe*(Qe+1+me-We)),se+Ce>=Pe&&(ue-=se+Ce-Pe+4),de=Ve[ue++],ie=Ve[ue++],he=Ve[ue++],j[ee]=(A[de]+A[ie+256|0]+A[he+512|0]>>16)-128,w[ee]=(A[de+768|0]+A[ie+1024|0]+A[he+1280|0]>>16)-128,_[ee]=(A[de+1280|0]+A[ie+1536|0]+A[he+1792|0]>>16)-128;z=Q(j,u,z,e,n),J=Q(w,d,J,r,a),le=Q(_,d,le,r,a),se+=32}Qe+=8}if(x>=0){var $e=[];$e[1]=x+1,$e[0]=(1<<x+1)-1,G($e)}return ae(65497),new Uint8Array(m)},t=t||50,(function(){for(var $=String.fromCharCode,U=0;U<256;U++)N[U]=$(U)})(),e=H(E,I),r=H(O,R),n=H(L,C),a=H(M,W),(function(){for(var $=1,U=2,z=1;z<=15;z++){for(var J=$;J<U;J++)p[32767+J]=z,f[32767+J]=[],f[32767+J][1]=z,f[32767+J][0]=J;for(var le=-(U-1);le<=-$;le++)p[32767+le]=z,f[32767+le]=[],f[32767+le][1]=z,f[32767+le][0]=U-1+le;$<<=1,U<<=1}})(),(function(){for(var $=0;$<256;$++)A[$]=19595*$,A[$+256|0]=38470*$,A[$+512|0]=7471*$+32768,A[$+768|0]=-11059*$,A[$+1024|0]=-21709*$,A[$+1280|0]=32768*$+8421375,A[$+1536|0]=-27439*$,A[$+1792|0]=-5329*$})(),oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function di(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sk(t){function e(I){if(!I)throw Error("assert :P")}function r(I,L,C){for(var O=0;4>O;O++)if(I[L+O]!=C.charCodeAt(O))return!0;return!1}function n(I,L,C,O,R){for(var M=0;M<R;M++)I[L+M]=C[O+M]}function a(I,L,C,O){for(var R=0;R<O;R++)I[L+R]=C}function i(I){return new Int32Array(I)}function s(I,L){for(var C=[],O=0;O<I;O++)C.push(new L);return C}function l(I,L){var C=[];return(function O(R,M,W){for(var H=W[M],G=0;G<H&&(R.push(W.length>M+1?[]:new L),!(W.length<M+1));G++)O(R[G],M+1,W)})(C,0,I),C}var c=function(){var I=this;function L(y,b){for(var T=1<<b-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function C(y,b,T,D,B){e(!(D%T));do y[b+(D-=T)]=B;while(0<D)}function O(y,b,T,D,B){if(e(2328>=B),512>=B)var V=i(512);else if((V=i(B))==null)return 0;return(function(Y,X,Z,te,fe,be){var re,pe,ye=X,_e=1<<Z,xe=i(16),Ne=i(16);for(e(fe!=0),e(te!=null),e(Y!=null),e(0<Z),pe=0;pe<fe;++pe){if(15<te[pe])return 0;++xe[te[pe]]}if(xe[0]==fe)return 0;for(Ne[1]=0,re=1;15>re;++re){if(xe[re]>1<<re)return 0;Ne[re+1]=Ne[re]+xe[re]}for(pe=0;pe<fe;++pe)re=te[pe],0<te[pe]&&(be[Ne[re]++]=pe);if(Ne[15]==1)return(te=new R).g=0,te.value=be[0],C(Y,ye,1,_e,te),_e;var Ae,Ie=-1,Ee=_e-1,lt=0,Ye=1,$t=1,tt=1<<Z;for(pe=0,re=1,fe=2;re<=Z;++re,fe<<=1){if(Ye+=$t<<=1,0>($t-=xe[re]))return 0;for(;0<xe[re];--xe[re])(te=new R).g=re,te.value=be[pe++],C(Y,ye+lt,fe,tt,te),lt=L(lt,re)}for(re=Z+1,fe=2;15>=re;++re,fe<<=1){if(Ye+=$t<<=1,0>($t-=xe[re]))return 0;for(;0<xe[re];--xe[re]){if(te=new R,(lt&Ee)!=Ie){for(ye+=tt,Ae=1<<(Ie=re)-Z;15>Ie&&!(0>=(Ae-=xe[Ie]));)++Ie,Ae<<=1;_e+=tt=1<<(Ae=Ie-Z),Y[X+(Ie=lt&Ee)].g=Ae+Z,Y[X+Ie].value=ye-X-Ie}te.g=re-Z,te.value=be[pe++],C(Y,ye+(lt>>Z),fe,tt,te),lt=L(lt,re)}}return Ye!=2*Ne[15]-1?0:_e})(y,b,T,D,B,V)}function R(){this.value=this.g=0}function M(){this.value=this.g=0}function W(){this.G=s(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ui,M)}function H(y,b,T,D){e(y!=null),e(b!=null),e(2147483648>D),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=b,y.pa=T,y.Jd=b,y.Yc=T+D,y.Zc=4<=D?T+D-4+1:T,de(y)}function G(y,b){for(var T=0;0<b--;)T|=he(y,128)<<b;return T}function F(y,b){var T=G(y,b);return ie(y)?-T:T}function ae(y,b,T,D){var B,V=0;for(e(y!=null),e(b!=null),e(4294967288>D),y.Sb=D,y.Ra=0,y.u=0,y.h=0,4<D&&(D=4),B=0;B<D;++B)V+=b[T+B]<<8*B;y.Ra=V,y.bb=D,y.oa=b,y.pa=T}function Q(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<go-8>>>0,++y.bb,y.u-=8;J(y)&&(y.h=1,y.u=0)}function oe(y,b){if(e(0<=b),!y.h&&b<=Wd){var T=z(y)&mo[b];return y.u+=b,Q(y),T}return y.h=1,y.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(y){return y.Ra>>>(y.u&go-1)>>>0}function J(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>go}function le(y,b){y.u=b,y.h=J(y)}function se(y){y.u>=Kr&&(e(y.u>=Kr),Q(y))}function de(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ie(y){return G(y,1)}function he(y,b){var T=y.Ca;0>y.b&&de(y);var D=y.b,B=T*b>>>8,V=(y.I>>>D>B)+0;for(V?(T-=B,y.I-=B+1<<D>>>0):T=B+1,D=T,B=0;256<=D;)B+=8,D>>=8;return D=7^B+U0[D],y.b-=D,y.Ca=(T<<D)-1,V}function ge(y,b,T){y[b+0]=T>>24&255,y[b+1]=T>>16&255,y[b+2]=T>>8&255,y[b+3]=255&T}function ue(y,b){return y[b+0]|y[b+1]<<8}function Ce(y,b){return ue(y,b)|y[b+2]<<16}function me(y,b){return ue(y,b)|ue(y,b+2)<<16}function ee(y,b){var T=1<<b;return e(y!=null),e(0<b),y.X=i(T),y.X==null?0:(y.Mb=32-b,y.Xa=b,1)}function Ve(y,b){e(y!=null),e(b!=null),e(y.Xa==b.Xa),n(b.X,0,y.X,0,1<<b.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function We(y,b,T,D){e(T!=null),e(D!=null);var B=T[0],V=D[0];return B==0&&(B=(y*V+b/2)/b),V==0&&(V=(b*B+y/2)/y),0>=B||0>=V?0:(T[0]=B,D[0]=V,1)}function Pe(y,b){return y+(1<<b)-1>>>b}function Qe(y,b){return((4278255360&y)+(4278255360&b)>>>0&4278255360)+((16711935&y)+(16711935&b)>>>0&16711935)>>>0}function $e(y,b){I[b]=function(T,D,B,V,Y,X,Z){var te;for(te=0;te<Y;++te){var fe=I[y](X[Z+te-1],B,V+te);X[Z+te]=Qe(T[D+te],fe)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ge(y,b){return((4278124286&(y^b))>>>1)+(y&b)>>>0}function Wt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function vt(y,b){return Wt(y+(y-b+.5>>1))}function yt(y,b,T){return Math.abs(b-T)-Math.abs(y-T)}function rr(y,b,T,D,B,V,Y){for(D=V[Y-1],T=0;T<B;++T)V[Y+T]=D=Qe(y[b+T],D)}function At(y,b,T,D,B){var V;for(V=0;V<T;++V){var Y=y[b+V],X=Y>>8&255,Z=16711935&(Z=(Z=16711935&Y)+((X<<16)+X));D[B+V]=(4278255360&Y)+Z>>>0}}function it(y,b){b.jd=255&y,b.hd=y>>8&255,b.ud=y>>16&255}function dt(y,b,T,D,B,V){var Y;for(Y=0;Y<D;++Y){var X=b[T+Y],Z=X>>>8,te=X,fe=255&(fe=(fe=X>>>16)+((y.jd<<24>>24)*(Z<<24>>24)>>>5));te=255&(te=(te+=(y.hd<<24>>24)*(Z<<24>>24)>>>5)+((y.ud<<24>>24)*(fe<<24>>24)>>>5)),B[V+Y]=(4278255360&X)+(fe<<16)+te}}function ot(y,b,T,D,B){I[b]=function(V,Y,X,Z,te,fe,be,re,pe){for(Z=be;Z<re;++Z)for(be=0;be<pe;++be)te[fe++]=B(X[D(V[Y++])])},I[y]=function(V,Y,X,Z,te,fe,be){var re=8>>V.b,pe=V.Ea,ye=V.K[0],_e=V.w;if(8>re)for(V=(1<<V.b)-1,_e=(1<<re)-1;Y<X;++Y){var xe,Ne=0;for(xe=0;xe<pe;++xe)xe&V||(Ne=D(Z[te++])),fe[be++]=B(ye[Ne&_e]),Ne>>=re}else I["VP8LMapColor"+T](Z,te,ye,_e,fe,be,Y,X,pe)}}function Gt(y,b,T,D,B){for(T=b+T;b<T;){var V=y[b++];D[B++]=V>>16&255,D[B++]=V>>8&255,D[B++]=255&V}}function Yt(y,b,T,D,B){for(T=b+T;b<T;){var V=y[b++];D[B++]=V>>16&255,D[B++]=V>>8&255,D[B++]=255&V,D[B++]=V>>24&255}}function nt(y,b,T,D,B){for(T=b+T;b<T;){var V=(Y=y[b++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;D[B++]=V,D[B++]=Y}}function St(y,b,T,D,B){for(T=b+T;b<T;){var V=(Y=y[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;D[B++]=V,D[B++]=Y}}function nr(y,b,T,D,B){for(T=b+T;b<T;){var V=y[b++];D[B++]=255&V,D[B++]=V>>8&255,D[B++]=V>>16&255}}function ft(y,b,T,D,B,V){if(V==0)for(T=b+T;b<T;)ge(D,((V=y[b++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),B+=32;else n(D,B,y,b,T)}function qt(y,b){I[b][0]=I[y+"0"],I[b][1]=I[y+"1"],I[b][2]=I[y+"2"],I[b][3]=I[y+"3"],I[b][4]=I[y+"4"],I[b][5]=I[y+"5"],I[b][6]=I[y+"6"],I[b][7]=I[y+"7"],I[b][8]=I[y+"8"],I[b][9]=I[y+"9"],I[b][10]=I[y+"10"],I[b][11]=I[y+"11"],I[b][12]=I[y+"12"],I[b][13]=I[y+"13"],I[b][14]=I[y+"0"],I[b][15]=I[y+"0"]}function ht(y){return y==H0||y==V0||y==dp||y==G0}function $r(){this.eb=[],this.size=this.A=this.fb=0}function Gr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $r,this.f.kb=new Gr,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Be(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Kt(y,b){var T=y.T,D=b.ba.f.RGBA,B=D.eb,V=D.fb+y.ka*D.A,Y=Ba[b.ba.S],X=y.y,Z=y.O,te=y.f,fe=y.N,be=y.ea,re=y.W,pe=b.cc,ye=b.dc,_e=b.Mc,xe=b.Nc,Ne=y.ka,Ae=y.ka+y.T,Ie=y.U,Ee=Ie+1>>1;for(Ne==0?Y(X,Z,null,null,te,fe,be,re,te,fe,be,re,B,V,null,null,Ie):(Y(b.ec,b.fc,X,Z,pe,ye,_e,xe,te,fe,be,re,B,V-D.A,B,V,Ie),++T);Ne+2<Ae;Ne+=2)pe=te,ye=fe,_e=be,xe=re,fe+=y.Rc,re+=y.Rc,V+=2*D.A,Y(X,(Z+=2*y.fa)-y.fa,X,Z,pe,ye,_e,xe,te,fe,be,re,B,V-D.A,B,V,Ie);return Z+=y.fa,y.j+Ae<y.o?(n(b.ec,b.fc,X,Z,Ie),n(b.cc,b.dc,te,fe,Ee),n(b.Mc,b.Nc,be,re,Ee),T--):1&Ae||Y(X,Z,null,null,te,fe,be,re,te,fe,be,re,B,V+D.A,null,null,Ie),T}function Fr(y,b,T){var D=y.F,B=[y.J];if(D!=null){var V=y.U,Y=b.ba.S,X=Y==up||Y==dp;b=b.ba.f.RGBA;var Z=[0],te=y.ka;Z[0]=y.T,y.Kb&&(te==0?--Z[0]:(--te,B[0]-=y.width),y.j+y.ka+y.T==y.o&&(Z[0]=y.o-y.j-te));var fe=b.eb;te=b.fb+te*b.A,y=fS(D,B[0],y.width,V,Z,fe,te+(X?0:3),b.A),e(T==Z),y&&ht(Y)&&Yd(fe,te,X,V,Z,b.A)}return 0}function Hn(y){var b=y.ma,T=b.ba.S,D=11>T,B=T==lp||T==cp||T==up||T==W0||T==12||ht(T);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!na(b.Oa,y,B?11:12))return 0;if(B&&ht(T)&&Bd(),y.da)alert("todo:use_scaling");else{if(D){if(b.Ib=vr,y.Kb){if(T=y.U+1>>1,b.memory=i(y.U+2*T),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+y.U,b.Mc=b.cc,b.Nc=b.dc+T,b.Ib=Kt,Bd()}}else alert("todo:EmitYUV");B&&(b.Jb=Fr,D&&gl())}if(D&&!PS){for(y=0;256>y;++y)VF[y]=89858*(y-128)+hp>>fp,KF[y]=-22014*(y-128)+hp,YF[y]=-45773*(y-128),GF[y]=113618*(y-128)+hp>>fp;for(y=Xd;y<X0;++y)b=76283*(y-16)+hp>>fp,XF[y-Xd]=dn(b,255),ZF[y-Xd]=dn(b+8>>4,15);PS=1}return 1}function ze(y){var b=y.ma,T=y.U,D=y.T;return e(!(1&y.ka)),0>=T||0>=D?0:(T=b.Ib(y,b),b.Jb!=null&&b.Jb(y,b,T),b.Dc+=T,1)}function qr(y){y.ma.memory=null}function ra(y,b,T,D){return oe(y,8)!=47?0:(b[0]=oe(y,14)+1,T[0]=oe(y,14)+1,D[0]=oe(y,1),oe(y,3)!=0?0:!y.h)}function Ir(y,b){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+oe(b,T)+1}function Rr(y,b){return 120<b?b-120:1<=(T=((T=TF[b-1])>>4)*y+(8-(15&T)))?T:1;var T}function kr(y,b,T){var D=z(T),B=y[b+=255&D].g-8;return 0<B&&(le(T,T.u+8),D=z(T),b+=y[b].value,b+=D&(1<<B)-1),le(T,T.u+y[b].g),y[b].value}function yr(y,b,T){return T.g+=y.g,T.value+=y.value<<b>>>0,e(8>=T.g),y.g}function jn(y,b,T){var D=y.xc;return e((b=D==0?0:y.vc[y.md*(T>>D)+(b>>D)])<y.Wb),y.Ya[b]}function il(y,b,T,D){var B=y.ab,V=y.c*b,Y=y.C;b=Y+b;var X=T,Z=D;for(D=y.Ta,T=y.Ua;0<B--;){var te=y.gc[B],fe=Y,be=b,re=X,pe=Z,ye=(Z=D,X=T,te.Ea);switch(e(fe<be),e(be<=te.nc),te.hc){case 2:Tc(re,pe,(be-fe)*ye,Z,X);break;case 0:var _e=fe,xe=be,Ne=Z,Ae=X,Ie=(tt=te).Ea;_e==0&&(zi(re,pe,null,null,1,Ne,Ae),rr(re,pe+1,0,0,Ie-1,Ne,Ae+1),pe+=Ie,Ae+=Ie,++_e);for(var Ee=1<<tt.b,lt=Ee-1,Ye=Pe(Ie,tt.b),$t=tt.K,tt=tt.w+(_e>>tt.b)*Ye;_e<xe;){var Ht=$t,fn=tt,Ft=1;for(Wi(re,pe,Ne,Ae-Ie,1,Ne,Ae);Ft<Ie;){var rt=(Ft&~lt)+Ee;rt>Ie&&(rt=Ie),(0,xl[Ht[fn++]>>8&15])(re,pe+ +Ft,Ne,Ae+Ft-Ie,rt-Ft,Ne,Ae+Ft),Ft=rt}pe+=Ie,Ae+=Ie,++_e&lt||(tt+=Ye)}be!=te.nc&&n(Z,X-ye,Z,X+(be-fe-1)*ye,ye);break;case 1:for(ye=re,xe=pe,Ie=(re=te.Ea)-(Ae=re&~(Ne=(pe=1<<te.b)-1)),_e=Pe(re,te.b),Ee=te.K,te=te.w+(fe>>te.b)*_e;fe<be;){for(lt=Ee,Ye=te,$t=new Ke,tt=xe+Ae,Ht=xe+re;xe<tt;)it(lt[Ye++],$t),ks($t,ye,xe,pe,Z,X),xe+=pe,X+=pe;xe<Ht&&(it(lt[Ye++],$t),ks($t,ye,xe,Ie,Z,X),xe+=Ie,X+=Ie),++fe&Ne||(te+=_e)}break;case 3:if(re==Z&&pe==X&&0<te.b){for(xe=Z,re=ye=X+(be-fe)*ye-(Ae=(be-fe)*Pe(te.Ea,te.b)),pe=Z,Ne=X,_e=[],Ae=(Ie=Ae)-1;0<=Ae;--Ae)_e[Ae]=pe[Ne+Ae];for(Ae=Ie-1;0<=Ae;--Ae)xe[re+Ae]=_e[Ae];Hd(te,fe,be,Z,ye,Z,X)}else Hd(te,fe,be,re,pe,Z,X)}X=D,Z=T}Z!=T&&n(D,T,X,Z,V)}function lo(y,b){var T=y.V,D=y.Ba+y.c*y.C,B=b-y.C;if(e(b<=y.l.o),e(16>=B),0<B){var V=y.l,Y=y.Ta,X=y.Ua,Z=V.width;if(il(y,B,T,D),B=X=[X],e((T=y.C)<(D=b)),e(V.v<V.va),D>V.o&&(D=V.o),T<V.j){var te=V.j-T;T=V.j,B[0]+=te*Z}if(T>=D?T=0:(B[0]+=4*V.v,V.ka=T-V.j,V.U=V.va-V.v,V.T=D-T,T=1),T){if(X=X[0],11>(T=y.ca).S){var fe=T.f.RGBA,be=(D=T.S,B=V.U,V=V.T,te=fe.eb,fe.A),re=V;for(fe=fe.fb+y.Ma*fe.A;0<re--;){var pe=Y,ye=X,_e=B,xe=te,Ne=fe;switch(D){case op:Vd(pe,ye,_e,xe,Ne);break;case lp:ma(pe,ye,_e,xe,Ne);break;case H0:ma(pe,ye,_e,xe,Ne),Yd(xe,Ne,0,_e,1,0);break;case xS:br(pe,ye,_e,xe,Ne);break;case cp:ft(pe,ye,_e,xe,Ne,1);break;case V0:ft(pe,ye,_e,xe,Ne,1),Yd(xe,Ne,0,_e,1,0);break;case up:ft(pe,ye,_e,xe,Ne,0);break;case dp:ft(pe,ye,_e,xe,Ne,0),Yd(xe,Ne,1,_e,1,0);break;case W0:Hi(pe,ye,_e,xe,Ne);break;case G0:Hi(pe,ye,_e,xe,Ne),dS(xe,Ne,_e,1,0);break;case bS:xr(pe,ye,_e,xe,Ne);break;default:e(0)}X+=Z,fe+=be}y.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=T.height)}}y.C=b,e(y.C<=y.i)}function ni(y){var b;if(0<y.ua)return 0;for(b=0;b<y.Wb;++b){var T=y.Ya[b].G,D=y.Ya[b].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function $i(y,b,T,D,B,V){if(y.Z!=0){var Y=y.qd,X=y.rd;for(e(yo[y.Z]!=null);b<T;++b)yo[y.Z](Y,X,D,B,D,B,V),Y=D,X=B,B+=V;y.qd=Y,y.rd=X}}function ai(y,b){var T=y.l.ma,D=T.Z==0||T.Z==1?y.l.j:y.C;if(D=y.C<D?D:y.C,e(b<=y.l.o),b>D){var B=y.l.width,V=T.ca,Y=T.tb+B*D,X=y.V,Z=y.Ba+y.c*D,te=y.gc;e(y.ab==1),e(te[0].hc==3),Rc(te[0],D,b,X,Z,V,Y),$i(T,D,b,V,Y,B)}y.C=y.Ma=b}function ii(y,b,T,D,B,V,Y){var X=y.$/D,Z=y.$%D,te=y.m,fe=y.s,be=T+y.$,re=be;B=T+D*B;var pe=T+D*V,ye=280+fe.ua,_e=y.Pb?X:16777216,xe=0<fe.ua?fe.Wa:null,Ne=fe.wc,Ae=be<pe?jn(fe,Z,X):null;e(y.C<V),e(pe<=B);var Ie=!1;e:for(;;){for(;Ie||be<pe;){var Ee=0;if(X>=_e){var lt=be-T;e((_e=y).Pb),_e.wd=_e.m,_e.xd=lt,0<_e.s.ua&&Ve(_e.s.Wa,_e.s.vb),_e=X+RF}if(Z&Ne||(Ae=jn(fe,Z,X)),e(Ae!=null),Ae.Qb&&(b[be]=Ae.qb,Ie=!0),!Ie)if(se(te),Ae.jc){Ee=te,lt=b;var Ye=be,$t=Ae.pd[z(Ee)&Ui-1];e(Ae.jc),256>$t.g?(le(Ee,Ee.u+$t.g),lt[Ye]=$t.value,Ee=0):(le(Ee,Ee.u+$t.g-256),e(256<=$t.value),Ee=$t.value),Ee==0&&(Ie=!0)}else Ee=kr(Ae.G[0],Ae.H[0],te);if(te.h)break;if(Ie||256>Ee){if(!Ie)if(Ae.nd)b[be]=(Ae.qb|Ee<<8)>>>0;else{if(se(te),Ie=kr(Ae.G[1],Ae.H[1],te),se(te),lt=kr(Ae.G[2],Ae.H[2],te),Ye=kr(Ae.G[3],Ae.H[3],te),te.h)break;b[be]=(Ye<<24|Ie<<16|Ee<<8|lt)>>>0}if(Ie=!1,++be,++Z>=D&&(Z=0,++X,Y!=null&&X<=V&&!(X%16)&&Y(y,X),xe!=null))for(;re<be;)Ee=b[re++],xe.X[(506832829*Ee&4294967295)>>>xe.Mb]=Ee}else if(280>Ee){if(Ee=Ir(Ee-256,te),lt=kr(Ae.G[4],Ae.H[4],te),se(te),lt=Rr(D,lt=Ir(lt,te)),te.h)break;if(be-T<lt||B-be<Ee)break e;for(Ye=0;Ye<Ee;++Ye)b[be+Ye]=b[be+Ye-lt];for(be+=Ee,Z+=Ee;Z>=D;)Z-=D,++X,Y!=null&&X<=V&&!(X%16)&&Y(y,X);if(e(be<=B),Z&Ne&&(Ae=jn(fe,Z,X)),xe!=null)for(;re<be;)Ee=b[re++],xe.X[(506832829*Ee&4294967295)>>>xe.Mb]=Ee}else{if(!(Ee<ye))break e;for(Ie=Ee-280,e(xe!=null);re<be;)Ee=b[re++],xe.X[(506832829*Ee&4294967295)>>>xe.Mb]=Ee;Ee=be,e(!(Ie>>>(lt=xe).Xa)),b[Ee]=lt.X[Ie],Ie=!0}Ie||e(te.h==J(te))}if(y.Pb&&te.h&&be<B)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ve(y.s.vb,y.s.Wa);else{if(te.h)break e;Y!=null&&Y(y,X>V?V:X),y.a=0,y.$=be-T}return 1}return y.a=3,0}function Ma(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var b=y.Wa;b!=null&&(b.X=null),y.vb=null,e(y!=null)}function sl(){var y=new Br;return y==null?null:(y.a=0,y.xb=jS,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),Tc=At,ks=dt,Vd=Gt,ma=Yt,Hi=nt,xr=St,br=nr,I.VP8LMapColor32b=Ic,I.VP8LMapColor8b=yl,y)}function Fi(y,b,T,D,B){var V=1,Y=[y],X=[b],Z=D.m,te=D.s,fe=null,be=0;e:for(;;){if(T)for(;V&&oe(Z,1);){var re=Y,pe=X,ye=D,_e=1,xe=ye.m,Ne=ye.gc[ye.ab],Ae=oe(xe,2);if(ye.Oc&1<<Ae)V=0;else{switch(ye.Oc|=1<<Ae,Ne.hc=Ae,Ne.Ea=re[0],Ne.nc=pe[0],Ne.K=[null],++ye.ab,e(4>=ye.ab),Ae){case 0:case 1:Ne.b=oe(xe,3)+2,_e=Fi(Pe(Ne.Ea,Ne.b),Pe(Ne.nc,Ne.b),0,ye,Ne.K),Ne.K=Ne.K[0];break;case 3:var Ie,Ee=oe(xe,8)+1,lt=16<Ee?0:4<Ee?1:2<Ee?2:3;if(re[0]=Pe(Ne.Ea,lt),Ne.b=lt,Ie=_e=Fi(Ee,1,0,ye,Ne.K)){var Ye,$t=Ee,tt=Ne,Ht=1<<(8>>tt.b),fn=i(Ht);if(fn==null)Ie=0;else{var Ft=tt.K[0],rt=tt.w;for(fn[0]=tt.K[0][0],Ye=1;Ye<1*$t;++Ye)fn[Ye]=Qe(Ft[rt+Ye],fn[Ye-1]);for(;Ye<4*Ht;++Ye)fn[Ye]=0;tt.K[0]=null,tt.K[0]=fn,Ie=1}}_e=Ie;break;case 2:break;default:e(0)}V=_e}}if(Y=Y[0],X=X[0],V&&oe(Z,1)&&!(V=1<=(be=oe(Z,4))&&11>=be)){D.a=3;break e}var Fe;if(Fe=V)t:{var Jr,It,Vt,Pr=D,Tn=Y,Gn=X,Ur=be,Dn=T,Yn=Pr.m,hn=Pr.s,Xt=[null],or=1,zr=0,lr=IF[Ur];r:for(;;){if(Dn&&oe(Yn,1)){var In=oe(Yn,3)+2,ci=Pe(Tn,In),Qr=Pe(Gn,In),ia=ci*Qr;if(!Fi(ci,Qr,0,Pr,Xt))break r;for(Xt=Xt[0],hn.xc=In,Jr=0;Jr<ia;++Jr){var pr=Xt[Jr]>>8&65535;Xt[Jr]=pr,pr>=or&&(or=pr+1)}}if(Yn.h)break r;for(It=0;5>It;++It){var pn=wS[It];!It&&0<Ur&&(pn+=1<<Ur),zr<pn&&(zr=pn)}var va=s(or*lr,R),Kn=or,ya=s(Kn,W);if(ya==null)var xa=null;else e(65536>=Kn),xa=ya;var sa=i(zr);if(xa==null||sa==null||va==null){Pr.a=1;break r}var ba=va;for(Jr=Vt=0;Jr<or;++Jr){var wr=xa[Jr],wa=wr.G,ui=wr.H,bl=0,Os=1,Rn=0;for(It=0;5>It;++It){pn=wS[It],wa[It]=ba,ui[It]=Vt,!It&&0<Ur&&(pn+=1<<Ur);a:{var mp,Z0=pn,gp=Pr,Zd=sa,eB=ba,tB=Vt,J0=0,xo=gp.m,rB=oe(xo,1);if(a(Zd,0,0,Z0),rB){var nB=oe(xo,1)+1,aB=oe(xo,1),ES=oe(xo,aB==0?1:8);Zd[ES]=1,nB==2&&(Zd[ES=oe(xo,8)]=1);var vp=1}else{var TS=i(19),IS=oe(xo,4)+4;if(19<IS){gp.a=3;var yp=0;break a}for(mp=0;mp<IS;++mp)TS[EF[mp]]=oe(xo,3);var Q0=void 0,Jd=void 0,RS=gp,iB=TS,xp=Z0,LS=Zd,ey=0,bo=RS.m,MS=8,DS=s(128,R);n:for(;O(DS,0,7,iB,19);){if(oe(bo,1)){var sB=2+2*oe(bo,3);if((Q0=2+oe(bo,sB))>xp)break n}else Q0=xp;for(Jd=0;Jd<xp&&Q0--;){se(bo);var $S=DS[0+(127&z(bo))];le(bo,bo.u+$S.g);var Mc=$S.value;if(16>Mc)LS[Jd++]=Mc,Mc!=0&&(MS=Mc);else{var oB=Mc==16,FS=Mc-16,lB=CF[FS],BS=oe(bo,PF[FS])+lB;if(Jd+BS>xp)break n;for(var cB=oB?MS:0;0<BS--;)LS[Jd++]=cB}}ey=1;break n}ey||(RS.a=3),vp=ey}(vp=vp&&!xo.h)&&(J0=O(eB,tB,8,Zd,Z0)),vp&&J0!=0?yp=J0:(gp.a=3,yp=0)}if(yp==0)break r;if(Os&&OF[It]==1&&(Os=ba[Vt].g==0),bl+=ba[Vt].g,Vt+=yp,3>=It){var Qd,ty=sa[0];for(Qd=1;Qd<pn;++Qd)sa[Qd]>ty&&(ty=sa[Qd]);Rn+=ty}}if(wr.nd=Os,wr.Qb=0,Os&&(wr.qb=(wa[3][ui[3]+0].value<<24|wa[1][ui[1]+0].value<<16|wa[2][ui[2]+0].value)>>>0,bl==0&&256>wa[0][ui[0]+0].value&&(wr.Qb=1,wr.qb+=wa[0][ui[0]+0].value<<8)),wr.jc=!wr.Qb&&6>Rn,wr.jc){var bp,Es=wr;for(bp=0;bp<Ui;++bp){var wo=bp,_o=Es.pd[wo],wp=Es.G[0][Es.H[0]+wo];256<=wp.value?(_o.g=wp.g+256,_o.value=wp.value):(_o.g=0,_o.value=0,wo>>=yr(wp,8,_o),wo>>=yr(Es.G[1][Es.H[1]+wo],16,_o),wo>>=yr(Es.G[2][Es.H[2]+wo],0,_o),yr(Es.G[3][Es.H[3]+wo],24,_o))}}}hn.vc=Xt,hn.Wb=or,hn.Ya=xa,hn.yc=va,Fe=1;break t}Fe=0}if(!(V=Fe)){D.a=3;break e}if(0<be){if(te.ua=1<<be,!ee(te.Wa,be)){D.a=1,V=0;break e}}else te.ua=0;var ry=D,qS=Y,uB=X,ny=ry.s,ay=ny.xc;if(ry.c=qS,ry.i=uB,ny.md=Pe(qS,ay),ny.wc=ay==0?-1:(1<<ay)-1,T){D.xb=qF;break e}if((fe=i(Y*X))==null){D.a=1,V=0;break e}V=(V=ii(D,fe,0,Y,X,X,null))&&!Z.h;break e}return V?(B!=null?B[0]=fe:(e(fe==null),e(T)),D.$=0,T||Ma(te)):Ma(te),V}function ol(y,b){var T=y.c*y.i,D=T+b+16*b;return e(y.c<=b),y.V=i(D),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+b,1)}function bc(y,b){var T=y.C,D=b-T,B=y.V,V=y.Ba+y.c*T;for(e(b<=y.l.o);0<D;){var Y=16<D?16:D,X=y.l.ma,Z=y.l.width,te=Z*Y,fe=X.ca,be=X.tb+Z*T,re=y.Ta,pe=y.Ua;il(y,Y,B,V),hS(re,pe,fe,be,te),$i(X,T,T+Y,fe,be,Z),D-=Y,B+=Y*y.c,T+=Y}e(T==b),y.C=y.Ma=b}function wc(){this.ub=this.yd=this.td=this.Rb=0}function _c(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function S0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ad(){this.Yb=(function(){var y=[];return(function b(T,D,B){for(var V=B[D],Y=0;Y<V&&(T.push(B.length>D+1?[]:0),!(B.length<D+1));Y++)b(T[Y],D+1,B)})(y,0,[3,11]),y})()}function Gh(){this.jb=i(3),this.Wc=l([4,8],Ad),this.Xc=l([4,17],Ad)}function Yh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Da(){this.ld=this.La=this.dd=this.tc=0}function kd(){this.Na=this.la=0}function Kh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Da),this.Y=0,this.ya=Array(new Pd),this.aa=0,this.l=new jc}function Zh(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Jh(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new wc,this.Kc=new _c,this.ed=new Yh,this.Qa=new S0,this.Ic=this.$c=this.Aa=0,this.D=new Xh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,Kh),this.Pa=new Gh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zh),this.Hd=0,this.rb=Array(new kd),this.sb=0,this.wa=Array(new Da),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pd),this.L=this.aa=0,this.gd=l([4,2],Da),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function A0(){var y=new Jh;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Kd||(Kd=ws)),y}function an(y,b,T){return y.a==0&&(y.a=b,y.sc=T,y.cb=0),0}function Qh(y,b,T){return 3<=T&&y[b+0]==157&&y[b+1]==1&&y[b+2]==42}function ep(y,b){if(y==null)return 0;if(y.a=0,y.sc="OK",b==null)return an(y,2,"null VP8Io passed to VP8GetHeaders()");var T=b.data,D=b.w,B=b.ha;if(4>B)return an(y,7,"Truncated header.");var V=T[D+0]|T[D+1]<<8|T[D+2]<<16,Y=y.Od;if(Y.Rb=!(1&V),Y.td=V>>1&7,Y.yd=V>>4&1,Y.ub=V>>5,3<Y.td)return an(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return an(y,4,"Frame not displayable.");D+=3,B-=3;var X=y.Kc;if(Y.Rb){if(7>B)return an(y,7,"cannot parse picture header");if(!Qh(T,D,B))return an(y,3,"Bad code word");X.c=16383&(T[D+4]<<8|T[D+3]),X.Td=T[D+4]>>6,X.i=16383&(T[D+6]<<8|T[D+5]),X.Ud=T[D+6]>>6,D+=7,B-=7,y.za=X.c+15>>4,y.Ub=X.i+15>>4,b.width=X.c,b.height=X.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((V=y.Pa).jb,0,255,V.jb.length),e((V=y.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(Y.ub>B)return an(y,7,"bad partition length");H(V=y.m,T,D,Y.ub),D+=Y.ub,B-=Y.ub,Y.Rb&&(X.Ld=ie(V),X.Kd=ie(V)),X=y.Qa;var Z,te=y.Pa;if(e(V!=null),e(X!=null),X.Cb=ie(V),X.Cb){if(X.Bb=ie(V),ie(V)){for(X.Fb=ie(V),Z=0;4>Z;++Z)X.Zb[Z]=ie(V)?F(V,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=ie(V)?F(V,6):0}if(X.Bb)for(Z=0;3>Z;++Z)te.jb[Z]=ie(V)?G(V,8):255}else X.Bb=0;if(V.Ka)return an(y,3,"cannot parse segment header");if((X=y.ed).zd=ie(V),X.Tb=G(V,6),X.wb=G(V,3),X.Pc=ie(V),X.Pc&&ie(V)){for(te=0;4>te;++te)ie(V)&&(X.vd[te]=F(V,6));for(te=0;4>te;++te)ie(V)&&(X.od[te]=F(V,6))}if(y.L=X.Tb==0?0:X.zd?1:2,V.Ka)return an(y,3,"cannot parse filter header");var fe=B;if(B=Z=D,D=Z+fe,X=fe,y.Xb=(1<<G(y.m,2))-1,fe<3*(te=y.Xb))T=7;else{for(Z+=3*te,X-=3*te,fe=0;fe<te;++fe){var be=T[B+0]|T[B+1]<<8|T[B+2]<<16;be>X&&(be=X),H(y.Jc[+fe],T,Z,be),Z+=be,X-=be,B+=3}H(y.Jc[+te],T,Z,X),T=Z<D?0:5}if(T!=0)return an(y,T,"cannot parse partitions");for(T=G(Z=y.m,7),B=ie(Z)?F(Z,4):0,D=ie(Z)?F(Z,4):0,X=ie(Z)?F(Z,4):0,te=ie(Z)?F(Z,4):0,Z=ie(Z)?F(Z,4):0,fe=y.Qa,be=0;4>be;++be){if(fe.Cb){var re=fe.Zb[be];fe.Fb||(re+=T)}else{if(0<be){y.pb[be]=y.pb[0];continue}re=T}var pe=y.pb[be];pe.Sc[0]=Y0[dn(re+B,127)],pe.Sc[1]=K0[dn(re+0,127)],pe.Eb[0]=2*Y0[dn(re+D,127)],pe.Eb[1]=101581*K0[dn(re+X,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Y0[dn(re+te,117)],pe.Qc[1]=K0[dn(re+Z,127)],pe.lc=re+Z}if(!Y.Rb)return an(y,4,"Not a key frame.");for(ie(V),Y=y.Pa,T=0;4>T;++T){for(B=0;8>B;++B)for(D=0;3>D;++D)for(X=0;11>X;++X)te=he(V,FF[T][B][D][X])?G(V,8):DF[T][B][D][X],Y.Wc[T][B].Yb[D][X]=te;for(B=0;17>B;++B)Y.Xc[T][B]=Y.Wc[T][BF[B]]}return y.kc=ie(V),y.kc&&(y.Bd=G(V,8)),y.cb=1}function ws(y,b,T,D,B,V,Y){var X=b[B].Yb[T];for(T=0;16>B;++B){if(!he(y,X[T+0]))return B;for(;!he(y,X[T+1]);)if(X=b[++B].Yb[0],T=0,B==16)return 16;var Z=b[B+1].Yb;if(he(y,X[T+2])){var te=y,fe=0;if(he(te,(re=X)[(be=T)+3]))if(he(te,re[be+6])){for(X=0,be=2*(fe=he(te,re[be+8]))+(re=he(te,re[be+9+fe])),fe=0,re=LF[be];re[X];++X)fe+=fe+he(te,re[X]);fe+=3+(8<<be)}else he(te,re[be+7])?(fe=7+2*he(te,165),fe+=he(te,145)):fe=5+he(te,159);else fe=he(te,re[be+4])?3+he(te,re[be+5]):2;X=Z[2]}else fe=1,X=Z[1];Z=Y+MF[B],0>(te=y).b&&de(te);var be,re=te.b,pe=(be=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=pe,te.Ca|=1,te.I-=(be+1&pe)<<re,V[Z]=((fe^pe)-pe)*D[(0<B)+0]}return 16}function ll(y){var b=y.rb[y.sb-1];b.la=0,b.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function si(y,b,T,D,B){B=y[b+T+32*D]+(B>>3),y[b+T+32*D]=-256&B?0>B?0:255:B}function cl(y,b,T,D,B,V){si(y,b,0,T,D+B),si(y,b,1,T,D+V),si(y,b,2,T,D-V),si(y,b,3,T,D-B)}function Yr(y){return(20091*y>>16)+y}function Cd(y,b,T,D){var B,V=0,Y=i(16);for(B=0;4>B;++B){var X=y[b+0]+y[b+8],Z=y[b+0]-y[b+8],te=(35468*y[b+4]>>16)-Yr(y[b+12]),fe=Yr(y[b+4])+(35468*y[b+12]>>16);Y[V+0]=X+fe,Y[V+1]=Z+te,Y[V+2]=Z-te,Y[V+3]=X-fe,V+=4,b++}for(B=V=0;4>B;++B)X=(y=Y[V+0]+4)+Y[V+8],Z=y-Y[V+8],te=(35468*Y[V+4]>>16)-Yr(Y[V+12]),si(T,D,0,0,X+(fe=Yr(Y[V+4])+(35468*Y[V+12]>>16))),si(T,D,1,0,Z+te),si(T,D,2,0,Z-te),si(T,D,3,0,X-fe),V++,D+=32}function k0(y,b,T,D){var B=y[b+0]+4,V=35468*y[b+4]>>16,Y=Yr(y[b+4]),X=35468*y[b+1]>>16;cl(T,D,0,B+Y,y=Yr(y[b+1]),X),cl(T,D,1,B+V,y,X),cl(T,D,2,B-V,y,X),cl(T,D,3,B-Y,y,X)}function P0(y,b,T,D,B){Cd(y,b,T,D),B&&Cd(y,b+16,T,D+4)}function C0(y,b,T,D){Zr(y,b+0,T,D,1),Zr(y,b+32,T,D+128,1)}function Bi(y,b,T,D){var B;for(y=y[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)si(T,D,b,B,y)}function tp(y,b,T,D){y[b+0]&&Vi(y,b+0,T,D),y[b+16]&&Vi(y,b+16,T,D+4),y[b+32]&&Vi(y,b+32,T,D+128),y[b+48]&&Vi(y,b+48,T,D+128+4)}function rp(y,b,T,D){var B,V=i(16);for(B=0;4>B;++B){var Y=y[b+0+B]+y[b+12+B],X=y[b+4+B]+y[b+8+B],Z=y[b+4+B]-y[b+8+B],te=y[b+0+B]-y[b+12+B];V[0+B]=Y+X,V[8+B]=Y-X,V[4+B]=te+Z,V[12+B]=te-Z}for(B=0;4>B;++B)Y=(y=V[0+4*B]+3)+V[3+4*B],X=V[1+4*B]+V[2+4*B],Z=V[1+4*B]-V[2+4*B],te=y-V[3+4*B],T[D+0]=Y+X>>3,T[D+16]=te+Z>>3,T[D+32]=Y-X>>3,T[D+48]=te-Z>>3,D+=64}function co(y,b,T){var D,B=b-32,V=ga,Y=255-y[B-1];for(D=0;D<T;++D){var X,Z=V,te=Y+y[b-1];for(X=0;X<T;++X)y[b+X]=Z[te+y[B+X]];b+=32}}function Od(y,b){co(y,b,4)}function O0(y,b){co(y,b,8)}function E0(y,b){co(y,b,16)}function T0(y,b){var T;for(T=0;16>T;++T)n(y,b+32*T,y,b-32,16)}function Ed(y,b){var T;for(T=16;0<T;--T)a(y,b,y[b-1],16),b+=32}function ul(y,b,T){var D;for(D=0;16>D;++D)a(b,T+32*D,y,16)}function uo(y,b){var T,D=16;for(T=0;16>T;++T)D+=y[b-1+32*T]+y[b+T-32];ul(D>>5,y,b)}function I0(y,b){var T,D=8;for(T=0;16>T;++T)D+=y[b-1+32*T];ul(D>>4,y,b)}function dl(y,b){var T,D=8;for(T=0;16>T;++T)D+=y[b+T-32];ul(D>>4,y,b)}function Td(y,b){ul(128,y,b)}function kt(y,b,T){return y+2*b+T+2>>2}function R0(y,b){var T,D=b-32;for(D=new Uint8Array([kt(y[D-1],y[D+0],y[D+1]),kt(y[D+0],y[D+1],y[D+2]),kt(y[D+1],y[D+2],y[D+3]),kt(y[D+2],y[D+3],y[D+4])]),T=0;4>T;++T)n(y,b+32*T,D,0,D.length)}function L0(y,b){var T=y[b-1],D=y[b-1+32],B=y[b-1+64],V=y[b-1+96];ge(y,b+0,16843009*kt(y[b-1-32],T,D)),ge(y,b+32,16843009*kt(T,D,B)),ge(y,b+64,16843009*kt(D,B,V)),ge(y,b+96,16843009*kt(B,V,V))}function M0(y,b){var T,D=4;for(T=0;4>T;++T)D+=y[b+T-32]+y[b-1+32*T];for(D>>=3,T=0;4>T;++T)a(y,b+32*T,D,4)}function D0(y,b){var T=y[b-1+0],D=y[b-1+32],B=y[b-1+64],V=y[b-1-32],Y=y[b+0-32],X=y[b+1-32],Z=y[b+2-32],te=y[b+3-32];y[b+0+96]=kt(D,B,y[b-1+96]),y[b+1+96]=y[b+0+64]=kt(T,D,B),y[b+2+96]=y[b+1+64]=y[b+0+32]=kt(V,T,D),y[b+3+96]=y[b+2+64]=y[b+1+32]=y[b+0+0]=kt(Y,V,T),y[b+3+64]=y[b+2+32]=y[b+1+0]=kt(X,Y,V),y[b+3+32]=y[b+2+0]=kt(Z,X,Y),y[b+3+0]=kt(te,Z,X)}function _s(y,b){var T=y[b+1-32],D=y[b+2-32],B=y[b+3-32],V=y[b+4-32],Y=y[b+5-32],X=y[b+6-32],Z=y[b+7-32];y[b+0+0]=kt(y[b+0-32],T,D),y[b+1+0]=y[b+0+32]=kt(T,D,B),y[b+2+0]=y[b+1+32]=y[b+0+64]=kt(D,B,V),y[b+3+0]=y[b+2+32]=y[b+1+64]=y[b+0+96]=kt(B,V,Y),y[b+3+32]=y[b+2+64]=y[b+1+96]=kt(V,Y,X),y[b+3+64]=y[b+2+96]=kt(Y,X,Z),y[b+3+96]=kt(X,Z,Z)}function js(y,b){var T=y[b-1+0],D=y[b-1+32],B=y[b-1+64],V=y[b-1-32],Y=y[b+0-32],X=y[b+1-32],Z=y[b+2-32],te=y[b+3-32];y[b+0+0]=y[b+1+64]=V+Y+1>>1,y[b+1+0]=y[b+2+64]=Y+X+1>>1,y[b+2+0]=y[b+3+64]=X+Z+1>>1,y[b+3+0]=Z+te+1>>1,y[b+0+96]=kt(B,D,T),y[b+0+64]=kt(D,T,V),y[b+0+32]=y[b+1+96]=kt(T,V,Y),y[b+1+32]=y[b+2+96]=kt(V,Y,X),y[b+2+32]=y[b+3+96]=kt(Y,X,Z),y[b+3+32]=kt(X,Z,te)}function $0(y,b){var T=y[b+0-32],D=y[b+1-32],B=y[b+2-32],V=y[b+3-32],Y=y[b+4-32],X=y[b+5-32],Z=y[b+6-32],te=y[b+7-32];y[b+0+0]=T+D+1>>1,y[b+1+0]=y[b+0+64]=D+B+1>>1,y[b+2+0]=y[b+1+64]=B+V+1>>1,y[b+3+0]=y[b+2+64]=V+Y+1>>1,y[b+0+32]=kt(T,D,B),y[b+1+32]=y[b+0+96]=kt(D,B,V),y[b+2+32]=y[b+1+96]=kt(B,V,Y),y[b+3+32]=y[b+2+96]=kt(V,Y,X),y[b+3+64]=kt(Y,X,Z),y[b+3+96]=kt(X,Z,te)}function F0(y,b){var T=y[b-1+0],D=y[b-1+32],B=y[b-1+64],V=y[b-1+96];y[b+0+0]=T+D+1>>1,y[b+2+0]=y[b+0+32]=D+B+1>>1,y[b+2+32]=y[b+0+64]=B+V+1>>1,y[b+1+0]=kt(T,D,B),y[b+3+0]=y[b+1+32]=kt(D,B,V),y[b+3+32]=y[b+1+64]=kt(B,V,V),y[b+3+64]=y[b+2+64]=y[b+0+96]=y[b+1+96]=y[b+2+96]=y[b+3+96]=V}function Nc(y,b){var T=y[b-1+0],D=y[b-1+32],B=y[b-1+64],V=y[b-1+96],Y=y[b-1-32],X=y[b+0-32],Z=y[b+1-32],te=y[b+2-32];y[b+0+0]=y[b+2+32]=T+Y+1>>1,y[b+0+32]=y[b+2+64]=D+T+1>>1,y[b+0+64]=y[b+2+96]=B+D+1>>1,y[b+0+96]=V+B+1>>1,y[b+3+0]=kt(X,Z,te),y[b+2+0]=kt(Y,X,Z),y[b+1+0]=y[b+3+32]=kt(T,Y,X),y[b+1+32]=y[b+3+64]=kt(D,T,Y),y[b+1+64]=y[b+3+96]=kt(B,D,T),y[b+1+96]=kt(V,B,D)}function Id(y,b){var T;for(T=0;8>T;++T)n(y,b+32*T,y,b-32,8)}function fl(y,b){var T;for(T=0;8>T;++T)a(y,b,y[b-1],8),b+=32}function Sc(y,b,T){var D;for(D=0;8>D;++D)a(b,T+32*D,y,8)}function Ac(y,b){var T,D=8;for(T=0;8>T;++T)D+=y[b+T-32]+y[b-1+32*T];Sc(D>>4,y,b)}function B0(y,b){var T,D=4;for(T=0;8>T;++T)D+=y[b+T-32];Sc(D>>3,y,b)}function Rd(y,b){var T,D=4;for(T=0;8>T;++T)D+=y[b-1+32*T];Sc(D>>3,y,b)}function Ld(y,b){Sc(128,y,b)}function hl(y,b,T){var D=y[b-T],B=y[b+0],V=3*(B-D)+z0[1020+y[b-2*T]-y[b+T]],Y=sp[112+(V+4>>3)];y[b-T]=ga[255+D+sp[112+(V+3>>3)]],y[b+0]=ga[255+B-Y]}function pl(y,b,T,D){var B=y[b+0],V=y[b+T];return Fa[255+y[b-2*T]-y[b-T]]>D||Fa[255+V-B]>D}function Md(y,b,T,D){return 4*Fa[255+y[b-T]-y[b+0]]+Fa[255+y[b-2*T]-y[b+T]]<=D}function kc(y,b,T,D,B){var V=y[b-3*T],Y=y[b-2*T],X=y[b-T],Z=y[b+0],te=y[b+T],fe=y[b+2*T],be=y[b+3*T];return 4*Fa[255+X-Z]+Fa[255+Y-te]>D?0:Fa[255+y[b-4*T]-V]<=B&&Fa[255+V-Y]<=B&&Fa[255+Y-X]<=B&&Fa[255+be-fe]<=B&&Fa[255+fe-te]<=B&&Fa[255+te-Z]<=B}function Dd(y,b,T,D){var B=2*D+1;for(D=0;16>D;++D)Md(y,b+D,T,B)&&hl(y,b+D,T)}function ml(y,b,T,D){var B=2*D+1;for(D=0;16>D;++D)Md(y,b+D*T,1,B)&&hl(y,b+D*T,1)}function $d(y,b,T,D){var B;for(B=3;0<B;--B)Dd(y,b+=4*T,T,D)}function Fd(y,b,T,D){var B;for(B=3;0<B;--B)ml(y,b+=4,T,D)}function pa(y,b,T,D,B,V,Y,X){for(V=2*V+1;0<B--;){if(kc(y,b,T,V,Y))if(pl(y,b,T,X))hl(y,b,T);else{var Z=y,te=b,fe=T,be=Z[te-2*fe],re=Z[te-fe],pe=Z[te+0],ye=Z[te+fe],_e=Z[te+2*fe],xe=27*(Ae=z0[1020+3*(pe-re)+z0[1020+be-ye]])+63>>7,Ne=18*Ae+63>>7,Ae=9*Ae+63>>7;Z[te-3*fe]=ga[255+Z[te-3*fe]+Ae],Z[te-2*fe]=ga[255+be+Ne],Z[te-fe]=ga[255+re+xe],Z[te+0]=ga[255+pe-xe],Z[te+fe]=ga[255+ye-Ne],Z[te+2*fe]=ga[255+_e-Ae]}b+=D}}function qi(y,b,T,D,B,V,Y,X){for(V=2*V+1;0<B--;){if(kc(y,b,T,V,Y))if(pl(y,b,T,X))hl(y,b,T);else{var Z=y,te=b,fe=T,be=Z[te-fe],re=Z[te+0],pe=Z[te+fe],ye=sp[112+(4+(_e=3*(re-be))>>3)],_e=sp[112+(_e+3>>3)],xe=ye+1>>1;Z[te-2*fe]=ga[255+Z[te-2*fe]+xe],Z[te-fe]=ga[255+be+_e],Z[te+0]=ga[255+re-ye],Z[te+fe]=ga[255+pe-xe]}b+=D}}function P(y,b,T,D,B,V){pa(y,b,T,1,16,D,B,V)}function q(y,b,T,D,B,V){pa(y,b,1,T,16,D,B,V)}function ne(y,b,T,D,B,V){var Y;for(Y=3;0<Y;--Y)qi(y,b+=4*T,T,1,16,D,B,V)}function ce(y,b,T,D,B,V){var Y;for(Y=3;0<Y;--Y)qi(y,b+=4,1,T,16,D,B,V)}function ve(y,b,T,D,B,V,Y,X){pa(y,b,B,1,8,V,Y,X),pa(T,D,B,1,8,V,Y,X)}function Se(y,b,T,D,B,V,Y,X){pa(y,b,1,B,8,V,Y,X),pa(T,D,1,B,8,V,Y,X)}function Te(y,b,T,D,B,V,Y,X){qi(y,b+4*B,B,1,8,V,Y,X),qi(T,D+4*B,B,1,8,V,Y,X)}function et(y,b,T,D,B,V,Y,X){qi(y,b+4,1,B,8,V,Y,X),qi(T,D+4,1,B,8,V,Y,X)}function st(){this.ba=new ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Be,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tr(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new R}function Br(){this.xb=this.a=0,this.l=new jc,this.ca=new ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tr,this.ab=0,this.gc=s(4,Lt),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fr(y,b,T,D,B,V,Y){for(y=y==null?0:y[b+0],b=0;b<Y;++b)B[V+b]=y+T[D+b]&255,y=B[V+b]}function un(y,b,T,D,B,V,Y){var X;if(y==null)fr(null,null,T,D,B,V,Y);else for(X=0;X<Y;++X)B[V+X]=y[b+X]+T[D+X]&255}function on(y,b,T,D,B,V,Y){if(y==null)fr(null,null,T,D,B,V,Y);else{var X,Z=y[b+0],te=Z,fe=Z;for(X=0;X<Y;++X)te=fe+(Z=y[b+X])-te,fe=T[D+X]+(-256&te?0>te?0:255:te)&255,te=Z,B[V+X]=fe}}function En(y,b,T,D){var B=b.width,V=b.o;if(e(y!=null&&b!=null),0>T||0>=D||T+D>V)return null;if(!y.Cc){if(y.ga==null){var Y;if(y.ga=new sn,(Y=y.ga==null)||(Y=b.width*b.o,e(y.Gb.length==0),y.Gb=i(Y),y.Uc=0,y.Gb==null?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){Y=y.ga;var X=y.Fa,Z=y.P,te=y.qc,fe=y.mb,be=y.nb,re=Z+1,pe=te-1,ye=Y.l;if(e(X!=null&&fe!=null&&b!=null),yo[0]=null,yo[1]=fr,yo[2]=un,yo[3]=on,Y.ca=fe,Y.tb=be,Y.c=b.width,Y.i=b.height,e(0<Y.c&&0<Y.i),1>=te)b=0;else if(Y.$a=3&X[Z+0],Y.Z=X[Z+0]>>2&3,Y.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Z)b=0;else if(ye.put=ze,ye.ac=Hn,ye.bc=qr,ye.ma=Y,ye.width=b.width,ye.height=b.height,ye.Da=b.Da,ye.v=b.v,ye.va=b.va,ye.j=b.j,ye.o=b.o,Y.$a)e:{e(Y.$a==1),b=sl();t:for(;;){if(b==null){b=0;break e}if(e(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,ae(b.m,X,re,pe),!Fi(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ni(b.s)?(Y.ic=1,X=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(X),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=ol(b,Y.c)),!b))break t;b=1;break e}Y.mc=null,b=0}else b=pe>=Y.c*Y.i;Y=!b}if(Y)return null;y.ga.Lc!=1?y.Ga=0:D=V-T}e(y.ga!=null),e(T+D<=V);e:{if(b=(X=y.ga).c,V=X.l.o,X.$a==0){if(re=y.rc,pe=y.Vc,ye=y.Fa,Z=y.P+1+T*b,te=y.mb,fe=y.nb+T*b,e(Z<=y.P+y.qc),X.Z!=0)for(e(yo[X.Z]!=null),Y=0;Y<D;++Y)yo[X.Z](re,pe,ye,Z,te,fe,b),re=te,pe=fe,fe+=b,Z+=b;else for(Y=0;Y<D;++Y)n(te,fe,ye,Z,b),re=te,pe=fe,fe+=b,Z+=b;y.rc=re,y.Vc=pe}else{if(e(X.mc!=null),b=T+D,e((Y=X.mc)!=null),e(b<=Y.i),Y.C>=b)b=1;else if(X.ic||gl(),X.ic){X=Y.V,re=Y.Ba,pe=Y.c;var _e=Y.i,xe=(ye=1,Z=Y.$/pe,te=Y.$%pe,fe=Y.m,be=Y.s,Y.$),Ne=pe*_e,Ae=pe*b,Ie=be.wc,Ee=xe<Ae?jn(be,te,Z):null;e(xe<=Ne),e(b<=_e),e(ni(be));t:for(;;){for(;!fe.h&&xe<Ae;){if(te&Ie||(Ee=jn(be,te,Z)),e(Ee!=null),se(fe),256>(_e=kr(Ee.G[0],Ee.H[0],fe)))X[re+xe]=_e,++xe,++te>=pe&&(te=0,++Z<=b&&!(Z%16)&&ai(Y,Z));else{if(!(280>_e)){ye=0;break t}_e=Ir(_e-256,fe);var lt,Ye=kr(Ee.G[4],Ee.H[4],fe);if(se(fe),!(xe>=(Ye=Rr(pe,Ye=Ir(Ye,fe)))&&Ne-xe>=_e)){ye=0;break t}for(lt=0;lt<_e;++lt)X[re+xe+lt]=X[re+xe+lt-Ye];for(xe+=_e,te+=_e;te>=pe;)te-=pe,++Z<=b&&!(Z%16)&&ai(Y,Z);xe<Ae&&te&Ie&&(Ee=jn(be,te,Z))}e(fe.h==J(fe))}ai(Y,Z>b?b:Z);break t}!ye||fe.h&&xe<Ne?(ye=0,Y.a=fe.h?5:3):Y.$=xe,b=ye}else b=ii(Y,Y.V,Y.Ba,Y.c,Y.i,b,bc);if(!b){D=0;break e}}T+D>=V&&(y.Cc=1),D=1}if(!D)return null;if(y.Cc&&((D=y.ga)!=null&&(D.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*B}function Ns(y,b,T,D,B,V){for(;0<B--;){var Y,X=y,Z=b+(T?1:0),te=y,fe=b+(T?0:3);for(Y=0;Y<D;++Y){var be=te[fe+4*Y];be!=255&&(be*=32897,X[Z+4*Y+0]=X[Z+4*Y+0]*be>>23,X[Z+4*Y+1]=X[Z+4*Y+1]*be>>23,X[Z+4*Y+2]=X[Z+4*Y+2]*be>>23)}b+=V}}function fo(y,b,T,D,B){for(;0<D--;){var V;for(V=0;V<T;++V){var Y=y[b+2*V+0],X=15&(te=y[b+2*V+1]),Z=4369*X,te=(240&te|te>>4)*Z>>16;y[b+2*V+0]=(240&Y|Y>>4)*Z>>16&240|(15&Y|Y<<4)*Z>>16>>4&15,y[b+2*V+1]=240&te|X}b+=B}}function q0(y,b,T,D,B,V,Y,X){var Z,te,fe=255;for(te=0;te<B;++te){for(Z=0;Z<D;++Z){var be=y[b+Z];V[Y+4*Z]=be,fe&=be}b+=T,Y+=X}return fe!=255}function np(y,b,T,D,B){var V;for(V=0;V<B;++V)T[D+V]=y[b+V]>>8}function gl(){Yd=Ns,dS=fo,fS=q0,hS=np}function oi(y,b,T){I[y]=function(D,B,V,Y,X,Z,te,fe,be,re,pe,ye,_e,xe,Ne,Ae,Ie){var Ee,lt=Ie-1>>1,Ye=X[Z+0]|te[fe+0]<<16,$t=be[re+0]|pe[ye+0]<<16;e(D!=null);var tt=3*Ye+$t+131074>>2;for(b(D[B+0],255&tt,tt>>16,_e,xe),V!=null&&(tt=3*$t+Ye+131074>>2,b(V[Y+0],255&tt,tt>>16,Ne,Ae)),Ee=1;Ee<=lt;++Ee){var Ht=X[Z+Ee]|te[fe+Ee]<<16,fn=be[re+Ee]|pe[ye+Ee]<<16,Ft=Ye+Ht+$t+fn+524296,rt=Ft+2*(Ht+$t)>>3;tt=rt+Ye>>1,Ye=(Ft=Ft+2*(Ye+fn)>>3)+Ht>>1,b(D[B+2*Ee-1],255&tt,tt>>16,_e,xe+(2*Ee-1)*T),b(D[B+2*Ee-0],255&Ye,Ye>>16,_e,xe+(2*Ee-0)*T),V!=null&&(tt=Ft+$t>>1,Ye=rt+fn>>1,b(V[Y+2*Ee-1],255&tt,tt>>16,Ne,Ae+(2*Ee-1)*T),b(V[Y+2*Ee+0],255&Ye,Ye>>16,Ne,Ae+(2*Ee+0)*T)),Ye=Ht,$t=fn}1&Ie||(tt=3*Ye+$t+131074>>2,b(D[B+Ie-1],255&tt,tt>>16,_e,xe+(Ie-1)*T),V!=null&&(tt=3*$t+Ye+131074>>2,b(V[Y+Ie-1],255&tt,tt>>16,Ne,Ae+(Ie-1)*T)))}}function Bd(){Ba[op]=UF,Ba[lp]=NS,Ba[xS]=zF,Ba[cp]=SS,Ba[up]=AS,Ba[W0]=kS,Ba[bS]=WF,Ba[H0]=NS,Ba[V0]=SS,Ba[dp]=AS,Ba[G0]=kS}function Pc(y){return y&-16384?0>y?0:255:y>>HF}function ho(y,b){return Pc((19077*y>>8)+(26149*b>>8)-14234)}function Nn(y,b,T){return Pc((19077*y>>8)-(6419*b>>8)-(13320*T>>8)+8708)}function Ss(y,b){return Pc((19077*y>>8)+(33050*b>>8)-17685)}function As(y,b,T,D,B){D[B+0]=ho(y,T),D[B+1]=Nn(y,b,T),D[B+2]=Ss(y,b)}function Cc(y,b,T,D,B){D[B+0]=Ss(y,b),D[B+1]=Nn(y,b,T),D[B+2]=ho(y,T)}function qd(y,b,T,D,B){var V=Nn(y,b,T);b=V<<3&224|Ss(y,b)>>3,D[B+0]=248&ho(y,T)|V>>5,D[B+1]=b}function Vn(y,b,T,D,B){var V=240&Ss(y,b)|15;D[B+0]=240&ho(y,T)|Nn(y,b,T)>>4,D[B+1]=V}function ap(y,b,T,D,B){D[B+0]=255,As(y,b,T,D,B+1)}function Oc(y,b,T,D,B){Cc(y,b,T,D,B),D[B+3]=255}function ip(y,b,T,D,B){As(y,b,T,D,B),D[B+3]=255}function dn(y,b){return 0>y?0:y>b?b:y}function $a(y,b,T){I[y]=function(D,B,V,Y,X,Z,te,fe,be){for(var re=fe+(-2&be)*T;fe!=re;)b(D[B+0],V[Y+0],X[Z+0],te,fe),b(D[B+1],V[Y+0],X[Z+0],te,fe+T),B+=2,++Y,++Z,fe+=2*T;1&be&&b(D[B+0],V[Y+0],X[Z+0],te,fe)}}function Ud(y,b,T){return T==0?y==0?b==0?6:5:b==0?4:0:T}function zd(y,b,T,D,B){switch(y>>>30){case 3:Zr(b,T,D,B,0);break;case 2:Ps(b,T,D,B);break;case 1:Vi(b,T,D,B)}}function po(y,b){var T,D,B=b.M,V=b.Nb,Y=y.oc,X=y.pc+40,Z=y.oc,te=y.pc+584,fe=y.oc,be=y.pc+600;for(T=0;16>T;++T)Y[X+32*T-1]=129;for(T=0;8>T;++T)Z[te+32*T-1]=129,fe[be+32*T-1]=129;for(0<B?Y[X-1-32]=Z[te-1-32]=fe[be-1-32]=129:(a(Y,X-32-1,127,21),a(Z,te-32-1,127,9),a(fe,be-32-1,127,9)),D=0;D<y.za;++D){var re=b.ya[b.aa+D];if(0<D){for(T=-1;16>T;++T)n(Y,X+32*T-4,Y,X+32*T+12,4);for(T=-1;8>T;++T)n(Z,te+32*T-4,Z,te+32*T+4,4),n(fe,be+32*T-4,fe,be+32*T+4,4)}var pe=y.Gd,ye=y.Hd+D,_e=re.ad,xe=re.Hc;if(0<B&&(n(Y,X-32,pe[ye].y,0,16),n(Z,te-32,pe[ye].f,0,8),n(fe,be-32,pe[ye].ea,0,8)),re.Za){var Ne=Y,Ae=X-32+16;for(0<B&&(D>=y.za-1?a(Ne,Ae,pe[ye].y[15],4):n(Ne,Ae,pe[ye+1].y,0,4)),T=0;4>T;T++)Ne[Ae+128+T]=Ne[Ae+256+T]=Ne[Ae+384+T]=Ne[Ae+0+T];for(T=0;16>T;++T,xe<<=2)Ne=Y,Ae=X+CS[T],li[re.Ob[T]](Ne,Ae),zd(xe,_e,16*+T,Ne,Ae)}else if(Ne=Ud(D,B,re.Ob[0]),vo[Ne](Y,X),xe!=0)for(T=0;16>T;++T,xe<<=2)zd(xe,_e,16*+T,Y,X+CS[T]);for(T=re.Gc,Ne=Ud(D,B,re.Dd),Cs[Ne](Z,te),Cs[Ne](fe,be),xe=_e,Ne=Z,Ae=te,255&(re=0|T)&&(170&re?Lc(xe,256,Ne,Ae):Gd(xe,256,Ne,Ae)),re=fe,xe=be,255&(T>>=8)&&(170&T?Lc(_e,320,re,xe):Gd(_e,320,re,xe)),B<y.Ub-1&&(n(pe[ye].y,0,Y,X+480,16),n(pe[ye].f,0,Z,te+224,8),n(pe[ye].ea,0,fe,be+224,8)),T=8*V*y.B,pe=y.sa,ye=y.ta+16*D+16*V*y.R,_e=y.qa,re=y.ra+8*D+T,xe=y.Ha,Ne=y.Ia+8*D+T,T=0;16>T;++T)n(pe,ye+T*y.R,Y,X+32*T,16);for(T=0;8>T;++T)n(_e,re+T*y.B,Z,te+32*T,8),n(xe,Ne+T*y.B,fe,be+32*T,8)}}function Ec(y,b,T,D,B,V,Y,X,Z){var te=[0],fe=[0],be=0,re=Z!=null?Z.kd:0,pe=Z??new _t;if(y==null||12>T)return 7;pe.data=y,pe.w=b,pe.ha=T,b=[b],T=[T],pe.gb=[pe.gb];e:{var ye=b,_e=T,xe=pe.gb;if(e(y!=null),e(_e!=null),e(xe!=null),xe[0]=0,12<=_e[0]&&!r(y,ye[0],"RIFF")){if(r(y,ye[0]+8,"WEBP")){xe=3;break e}var Ne=me(y,ye[0]+4);if(12>Ne||4294967286<Ne){xe=3;break e}if(re&&Ne>_e[0]-8){xe=7;break e}xe[0]=Ne,ye[0]+=12,_e[0]-=12}xe=0}if(xe!=0)return xe;for(Ne=0<pe.gb[0],T=T[0];;){e:{var Ae=y;_e=b,xe=T;var Ie=te,Ee=fe,lt=ye=[0];if((tt=be=[be])[0]=0,8>xe[0])xe=7;else{if(!r(Ae,_e[0],"VP8X")){if(me(Ae,_e[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Ye=me(Ae,_e[0]+8),$t=1+Ce(Ae,_e[0]+12);if(2147483648<=$t*(Ae=1+Ce(Ae,_e[0]+15))){xe=3;break e}lt!=null&&(lt[0]=Ye),Ie!=null&&(Ie[0]=$t),Ee!=null&&(Ee[0]=Ae),_e[0]+=18,xe[0]-=18,tt[0]=1}xe=0}}if(be=be[0],ye=ye[0],xe!=0)return xe;if(_e=!!(2&ye),!Ne&&be)return 3;if(V!=null&&(V[0]=!!(16&ye)),Y!=null&&(Y[0]=_e),X!=null&&(X[0]=0),Y=te[0],ye=fe[0],be&&_e&&Z==null){xe=0;break}if(4>T){xe=7;break}if(Ne&&be||!Ne&&!be&&!r(y,b[0],"ALPH")){T=[T],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Ye=y,xe=b,Ne=T;var tt=pe.gb;Ie=pe.na,Ee=pe.P,lt=pe.Sa,$t=22,e(Ye!=null),e(Ne!=null),Ae=xe[0];var Ht=Ne[0];for(e(Ie!=null),e(lt!=null),Ie[0]=null,Ee[0]=null,lt[0]=0;;){if(xe[0]=Ae,Ne[0]=Ht,8>Ht){xe=7;break e}var fn=me(Ye,Ae+4);if(4294967286<fn){xe=3;break e}var Ft=8+fn+1&-2;if($t+=Ft,0<tt&&$t>tt){xe=3;break e}if(!r(Ye,Ae,"VP8 ")||!r(Ye,Ae,"VP8L")){xe=0;break e}if(Ht[0]<Ft){xe=7;break e}r(Ye,Ae,"ALPH")||(Ie[0]=Ye,Ee[0]=Ae+8,lt[0]=fn),Ae+=Ft,Ht-=Ft}}if(T=T[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],xe!=0)break}T=[T],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(tt=y,xe=b,Ne=T,Ie=pe.gb[0],Ee=pe.Ja,lt=pe.xa,Ye=xe[0],Ae=!r(tt,Ye,"VP8 "),$t=!r(tt,Ye,"VP8L"),e(tt!=null),e(Ne!=null),e(Ee!=null),e(lt!=null),8>Ne[0])xe=7;else{if(Ae||$t){if(tt=me(tt,Ye+4),12<=Ie&&tt>Ie-12){xe=3;break e}if(re&&tt>Ne[0]-8){xe=7;break e}Ee[0]=tt,xe[0]+=8,Ne[0]-=8,lt[0]=$t}else lt[0]=5<=Ne[0]&&tt[Ye+0]==47&&!(tt[Ye+4]>>5),Ee[0]=Ne[0];xe=0}if(T=T[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],b=b[0],xe!=0)break;if(4294967286<pe.Ja)return 3;if(X==null||_e||(X[0]=pe.xa?2:1),Y=[Y],ye=[ye],pe.xa){if(5>T){xe=7;break}X=Y,re=ye,_e=V,y==null||5>T?y=0:5<=T&&y[b+0]==47&&!(y[b+4]>>5)?(Ne=[0],tt=[0],Ie=[0],ae(Ee=new U,y,b,T),ra(Ee,Ne,tt,Ie)?(X!=null&&(X[0]=Ne[0]),re!=null&&(re[0]=tt[0]),_e!=null&&(_e[0]=Ie[0]),y=1):y=0):y=0}else{if(10>T){xe=7;break}X=ye,y==null||10>T||!Qh(y,b+3,T-3)?y=0:(re=y[b+0]|y[b+1]<<8|y[b+2]<<16,_e=16383&(y[b+7]<<8|y[b+6]),y=16383&(y[b+9]<<8|y[b+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=pe.Ja||!_e||!y?y=0:(Y&&(Y[0]=_e),X&&(X[0]=y),y=1))}if(!y||(Y=Y[0],ye=ye[0],be&&(te[0]!=Y||fe[0]!=ye)))return 3;Z!=null&&(Z[0]=pe,Z.offset=b-Z.w,e(4294967286>b-Z.w),e(Z.offset==Z.ha-T));break}return xe==0||xe==7&&be&&Z==null?(V!=null&&(V[0]|=pe.na!=null&&0<pe.na.length),D!=null&&(D[0]=Y),B!=null&&(B[0]=ye),0):xe}function na(y,b,T){var D=b.width,B=b.height,V=0,Y=0,X=D,Z=B;if(b.Da=y!=null&&0<y.Da,b.Da&&(X=y.cd,Z=y.bd,V=y.v,Y=y.j,11>T||(V&=-2,Y&=-2),0>V||0>Y||0>=X||0>=Z||V+X>D||Y+Z>B))return 0;if(b.v=V,b.j=Y,b.va=V+X,b.o=Y+Z,b.U=X,b.T=Z,b.da=y!=null&&0<y.da,b.da){if(!We(X,Z,T=[y.ib],V=[y.hb]))return 0;b.ib=T[0],b.hb=V[0]}return b.ob=y!=null&&y.ob,b.Kb=y==null||!y.Sd,b.da&&(b.ob=b.ib<3*D/4&&b.hb<3*B/4,b.Kb=0),1}function aa(y){if(y==null)return 2;if(11>y.S){var b=y.f.RGBA;b.fb+=(y.height-1)*b.A,b.A=-b.A}else b=y.f.kb,y=y.height,b.O+=(y-1)*b.fa,b.fa=-b.fa,b.N+=(y-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(y-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(y-1)*b.lb,b.lb=-b.lb);return 0}function vl(y,b,T,D){if(D==null||0>=y||0>=b)return 2;if(T!=null){if(T.Da){var B=T.cd,V=T.bd,Y=-2&T.v,X=-2&T.j;if(0>Y||0>X||0>=B||0>=V||Y+B>y||X+V>b)return 2;y=B,b=V}if(T.da){if(!We(y,b,B=[T.ib],V=[T.hb]))return 2;y=B[0],b=V[0]}}D.width=y,D.height=b;e:{var Z=D.width,te=D.height;if(y=D.S,0>=Z||0>=te||!(y>=op&&13>y))y=2;else{if(0>=D.Rd&&D.sd==null){Y=V=B=b=0;var fe=(X=Z*OS[y])*te;if(11>y||(V=(te+1)/2*(b=(Z+1)/2),y==12&&(Y=(B=Z)*te)),(te=i(fe+2*V+Y))==null){y=1;break e}D.sd=te,11>y?((Z=D.f.RGBA).eb=te,Z.fb=0,Z.A=X,Z.size=fe):((Z=D.f.kb).y=te,Z.O=0,Z.fa=X,Z.Fd=fe,Z.f=te,Z.N=0+fe,Z.Ab=b,Z.Cd=V,Z.ea=te,Z.W=0+fe+V,Z.Db=b,Z.Ed=V,y==12&&(Z.F=te,Z.J=0+fe+2*V),Z.Tc=Y,Z.lb=B)}if(b=1,B=D.S,V=D.width,Y=D.height,B>=op&&13>B)if(11>B)y=D.f.RGBA,b&=(X=Math.abs(y.A))*(Y-1)+V<=y.size,b&=X>=V*OS[B],b&=y.eb!=null;else{y=D.f.kb,X=(V+1)/2,fe=(Y+1)/2,Z=Math.abs(y.fa),te=Math.abs(y.Ab);var be=Math.abs(y.Db),re=Math.abs(y.lb),pe=re*(Y-1)+V;b&=Z*(Y-1)+V<=y.Fd,b&=te*(fe-1)+X<=y.Cd,b=(b&=be*(fe-1)+X<=y.Ed)&Z>=V&te>=X&be>=X,b&=y.y!=null,b&=y.f!=null,b&=y.ea!=null,B==12&&(b&=re>=V,b&=pe<=y.Tc,b&=y.F!=null)}else b=0;y=b?0:2}}return y!=0||T!=null&&T.fd&&(y=aa(D)),y}var Ui=64,mo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wd=24,go=32,Kr=8,U0=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,b,T){return b[T+0]},I.Predictor3=function(y,b,T){return b[T+1]},I.Predictor4=function(y,b,T){return b[T-1]},I.Predictor5=function(y,b,T){return Ge(Ge(y,b[T+1]),b[T+0])},I.Predictor6=function(y,b,T){return Ge(y,b[T-1])},I.Predictor7=function(y,b,T){return Ge(y,b[T+0])},I.Predictor8=function(y,b,T){return Ge(b[T-1],b[T+0])},I.Predictor9=function(y,b,T){return Ge(b[T+0],b[T+1])},I.Predictor10=function(y,b,T){return Ge(Ge(y,b[T-1]),Ge(b[T+0],b[T+1]))},I.Predictor11=function(y,b,T){var D=b[T+0];return 0>=yt(D>>24&255,y>>24&255,(b=b[T-1])>>24&255)+yt(D>>16&255,y>>16&255,b>>16&255)+yt(D>>8&255,y>>8&255,b>>8&255)+yt(255&D,255&y,255&b)?D:y},I.Predictor12=function(y,b,T){var D=b[T+0];return(Wt((y>>24&255)+(D>>24&255)-((b=b[T-1])>>24&255))<<24|Wt((y>>16&255)+(D>>16&255)-(b>>16&255))<<16|Wt((y>>8&255)+(D>>8&255)-(b>>8&255))<<8|Wt((255&y)+(255&D)-(255&b)))>>>0},I.Predictor13=function(y,b,T){var D=b[T-1];return(vt((y=Ge(y,b[T+0]))>>24&255,D>>24&255)<<24|vt(y>>16&255,D>>16&255)<<16|vt(y>>8&255,D>>8&255)<<8|vt(255&y,255&D))>>>0};var zi=I.PredictorAdd0;I.PredictorAdd1=rr,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Wi=I.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Tc,Hd=I.ColorIndexInverseTransform,Ic=I.MapARGB,Rc=I.VP8LColorIndexInverseTransformAlpha,yl=I.MapAlpha,xl=I.VP8LPredictorsAdd=[];xl.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var ks,Vd,ma,Hi,xr,br,Xr,Zr,Ps,Lc,Vi,Gd,QN,eS,tS,rS,nS,aS,iS,sS,oS,lS,cS,uS,Yd,dS,fS,hS,pS=i(511),mS=i(2041),gS=i(225),vS=i(767),yS=0,z0=mS,sp=gS,ga=vS,Fa=pS,op=0,lp=1,xS=2,cp=3,up=4,W0=5,bS=6,H0=7,V0=8,dp=9,G0=10,PF=[2,3,7],CF=[3,3,11],wS=[280,256,256,256,40],OF=[0,1,1,1,0],EF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],TF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],IF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],RF=8,Y0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],K0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kd=null,LF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],MF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_S=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$F=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],BF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],li=[],Cs=[],qF=1,jS=2,yo=[],Ba=[];oi("UpsampleRgbLinePair",As,3),oi("UpsampleBgrLinePair",Cc,3),oi("UpsampleRgbaLinePair",ip,4),oi("UpsampleBgraLinePair",Oc,4),oi("UpsampleArgbLinePair",ap,4),oi("UpsampleRgba4444LinePair",Vn,2),oi("UpsampleRgb565LinePair",qd,2);var UF=I.UpsampleRgbLinePair,zF=I.UpsampleBgrLinePair,NS=I.UpsampleRgbaLinePair,SS=I.UpsampleBgraLinePair,AS=I.UpsampleArgbLinePair,kS=I.UpsampleRgba4444LinePair,WF=I.UpsampleRgb565LinePair,fp=16,hp=1<<fp-1,Xd=-227,X0=482,HF=6,PS=0,VF=i(256),GF=i(256),YF=i(256),KF=i(256),XF=i(X0-Xd),ZF=i(X0-Xd);$a("YuvToRgbRow",As,3),$a("YuvToBgrRow",Cc,3),$a("YuvToRgbaRow",ip,4),$a("YuvToBgraRow",Oc,4),$a("YuvToArgbRow",ap,4),$a("YuvToRgba4444Row",Vn,2),$a("YuvToRgb565Row",qd,2);var CS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pp=[0,2,8],JF=[8,7,6,4,4,2,2,2,1,1,1,1],QF=1;this.WebPDecodeRGBA=function(y,b,T,D,B){var V=lp,Y=new st,X=new ar;Y.ba=X,X.S=V,X.width=[X.width],X.height=[X.height];var Z=X.width,te=X.height,fe=new xt;if(fe==null||y==null)var be=2;else e(fe!=null),be=Ec(y,b,T,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(be!=0?Z=0:(Z!=null&&(Z[0]=fe.width[0]),te!=null&&(te[0]=fe.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],D!=null&&(D[0]=X.width),B!=null&&(B[0]=X.height);e:{if(D=new jc,(B=new _t).data=y,B.w=b,B.ha=T,B.kd=1,b=[0],e(B!=null),((y=Ec(B.data,B.w,B.ha,null,null,null,b,null,B))==0||y==7)&&b[0]&&(y=4),(b=y)==0){if(e(Y!=null),D.data=B.data,D.w=B.w+B.offset,D.ha=B.ha-B.offset,D.put=ze,D.ac=Hn,D.bc=qr,D.ma=Y,B.xa){if((y=sl())==null){Y=1;break e}if((function(re,pe){var ye=[0],_e=[0],xe=[0];t:for(;;){if(re==null)return 0;if(pe==null)return re.a=2,0;if(re.l=pe,re.a=0,ae(re.m,pe.data,pe.w,pe.ha),!ra(re.m,ye,_e,xe)){re.a=3;break t}if(re.xb=jS,pe.width=ye[0],pe.height=_e[0],!Fi(ye[0],_e[0],1,re,null))break t;return 1}return e(re.a!=0),0})(y,D)){if(D=(b=vl(D.width,D.height,Y.Oa,Y.ba))==0){t:{D=y;r:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((B=T.ma)!=null),D.xb!=0){if(D.ca=B.ba,D.tb=B.tb,e(D.ca!=null),!na(B.Oa,T,cp)){D.a=2;break r}if(!ol(D,T.width)||T.da)break r;if((T.da||ht(D.ca.S))&&gl(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&gl()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!ee(D.s.vb,D.s.Wa.Xa)){D.a=1;break r}D.xb=0}if(!ii(D,D.V,D.Ba,D.c,D.i,T.o,lo))break r;B.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(b=y.a)}else b=y.a}else{if((y=new A0)==null){Y=1;break e}if(y.Fa=B.na,y.P=B.P,y.qc=B.Sa,ep(y,D)){if((b=vl(D.width,D.height,Y.Oa,Y.ba))==0){if(y.Aa=0,T=Y.Oa,e((B=y)!=null),T!=null){if(0<(Z=0>(Z=T.Md)?0:100<Z?255:255*Z/100)){for(te=fe=0;4>te;++te)12>(be=B.pb[te]).lc&&(be.ia=Z*JF[0>be.lc?0:be.lc]>>3),fe|=be.ia;fe&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=T.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(re,pe){if(re==null)return 0;if(pe==null)return an(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!ep(re,pe))return 0;if(e(re.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(re.L=0);var ye=pp[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=pe.v-ye>>4,re.zb=pe.j-ye>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=pe.o+15+ye>>4,re.Hb=pe.va+15+ye>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var _e=re.ed;for(ye=0;4>ye;++ye){var xe;if(re.Qa.Cb){var Ne=re.Qa.Lb[ye];re.Qa.Fb||(Ne+=_e.Tb)}else Ne=_e.Tb;for(xe=0;1>=xe;++xe){var Ae=re.gd[ye][xe],Ie=Ne;if(_e.Pc&&(Ie+=_e.vd[0],xe&&(Ie+=_e.od[0])),0<(Ie=0>Ie?0:63<Ie?63:Ie)){var Ee=Ie;0<_e.wb&&(Ee=4<_e.wb?Ee>>2:Ee>>1)>9-_e.wb&&(Ee=9-_e.wb),1>Ee&&(Ee=1),Ae.dd=Ee,Ae.tc=2*Ie+Ee,Ae.ld=40<=Ie?2:15<=Ie?1:0}else Ae.tc=0;Ae.La=xe}}}ye=0}else an(re,6,"Frame setup failed"),ye=re.a;if(ye=ye==0){if(ye){re.$c=0,0<re.Aa||(re.Ic=QF);t:{ye=re.Ic,_e=4*(Ee=re.za);var lt=32*Ee,Ye=Ee+1,$t=0<re.L?Ee*(0<re.Aa?2:1):0,tt=(re.Aa==2?2:1)*Ee;if((Ae=_e+832+(xe=3*(16*ye+pp[re.L])/2*lt)+(Ne=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ae)ye=0;else{if(Ae>re.Vb){if(re.Vb=0,re.Ec=i(Ae),re.Fc=0,re.Ec==null){ye=an(re,1,"no memory during frame initialization.");break t}re.Vb=Ae}Ae=re.Ec,Ie=re.Fc,re.Ac=Ae,re.Bc=Ie,Ie+=_e,re.Gd=s(lt,Zh),re.Hd=0,re.rb=s(Ye+1,kd),re.sb=1,re.wa=$t?s($t,Da):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Ee),e(!0),re.oc=Ae,re.pc=Ie,Ie+=832,re.ya=s(tt,Pd),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Ee),re.R=16*Ee,re.B=8*Ee,Ee=(lt=pp[re.L])*re.R,lt=lt/2*re.B,re.sa=Ae,re.ta=Ie+Ee,re.qa=re.sa,re.ra=re.ta+16*ye*re.R+lt,re.Ha=re.qa,re.Ia=re.ra+8*ye*re.B+lt,re.$c=0,Ie+=xe,re.mb=Ne?Ae:null,re.nb=Ne?Ie:null,e(Ie+Ne<=re.Fc+re.Vb),ll(re),a(re.Ac,re.Bc,0,_e),ye=1}}if(ye){if(pe.ka=0,pe.y=re.sa,pe.O=re.ta,pe.f=re.qa,pe.N=re.ra,pe.ea=re.Ha,pe.Vd=re.Ia,pe.fa=re.R,pe.Rc=re.B,pe.F=null,pe.J=0,!yS){for(ye=-255;255>=ye;++ye)pS[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)mS[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)gS[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)vS[255+ye]=0>ye?0:255<ye?255:ye;yS=1}Xr=rp,Zr=P0,Lc=C0,Vi=Bi,Gd=tp,Ps=k0,QN=P,eS=q,tS=ve,rS=Se,nS=ne,aS=ce,iS=Te,sS=et,oS=Dd,lS=ml,cS=$d,uS=Fd,li[0]=M0,li[1]=Od,li[2]=R0,li[3]=L0,li[4]=D0,li[5]=js,li[6]=_s,li[7]=$0,li[8]=Nc,li[9]=F0,vo[0]=uo,vo[1]=E0,vo[2]=T0,vo[3]=Ed,vo[4]=I0,vo[5]=dl,vo[6]=Td,Cs[0]=Ac,Cs[1]=O0,Cs[2]=Id,Cs[3]=fl,Cs[4]=Rd,Cs[5]=B0,Cs[6]=Ld,ye=1}else ye=0}ye&&(ye=(function(Ht,fn){for(Ht.M=0;Ht.M<Ht.Va;++Ht.M){var Ft,rt=Ht.Jc[Ht.M&Ht.Xb],Fe=Ht.m,Jr=Ht;for(Ft=0;Ft<Jr.za;++Ft){var It=Fe,Vt=Jr,Pr=Vt.Ac,Tn=Vt.Bc+4*Ft,Gn=Vt.zc,Ur=Vt.ya[Vt.aa+Ft];if(Vt.Qa.Bb?Ur.$b=he(It,Vt.Pa.jb[0])?2+he(It,Vt.Pa.jb[2]):he(It,Vt.Pa.jb[1]):Ur.$b=0,Vt.kc&&(Ur.Ad=he(It,Vt.Bd)),Ur.Za=!he(It,145)+0,Ur.Za){var Dn=Ur.Ob,Yn=0;for(Vt=0;4>Vt;++Vt){var hn,Xt=Gn[0+Vt];for(hn=0;4>hn;++hn){Xt=$F[Pr[Tn+hn]][Xt];for(var or=_S[he(It,Xt[0])];0<or;)or=_S[2*or+he(It,Xt[or])];Xt=-or,Pr[Tn+hn]=Xt}n(Dn,Yn,Pr,Tn,4),Yn+=4,Gn[0+Vt]=Xt}}else Xt=he(It,156)?he(It,128)?1:3:he(It,163)?2:0,Ur.Ob[0]=Xt,a(Pr,Tn,Xt,4),a(Gn,0,Xt,4);Ur.Dd=he(It,142)?he(It,114)?he(It,183)?1:3:2:0}if(Jr.m.Ka)return an(Ht,7,"Premature end-of-partition0 encountered.");for(;Ht.ja<Ht.za;++Ht.ja){if(Jr=rt,It=(Fe=Ht).rb[Fe.sb-1],Pr=Fe.rb[Fe.sb+Fe.ja],Ft=Fe.ya[Fe.aa+Fe.ja],Tn=Fe.kc?Ft.Ad:0)It.la=Pr.la=0,Ft.Za||(It.Na=Pr.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var zr,lr;if(It=Pr,Pr=Jr,Tn=Fe.Pa.Xc,Gn=Fe.ya[Fe.aa+Fe.ja],Ur=Fe.pb[Gn.$b],Vt=Gn.ad,Dn=0,Yn=Fe.rb[Fe.sb-1],Xt=hn=0,a(Vt,Dn,0,384),Gn.Za)var In=0,ci=Tn[3];else{or=i(16);var Qr=It.Na+Yn.Na;if(Qr=Kd(Pr,Tn[1],Qr,Ur.Eb,0,or,0),It.Na=Yn.Na=(0<Qr)+0,1<Qr)Xr(or,0,Vt,Dn);else{var ia=or[0]+3>>3;for(or=0;256>or;or+=16)Vt[Dn+or]=ia}In=1,ci=Tn[0]}var pr=15&It.la,pn=15&Yn.la;for(or=0;4>or;++or){var va=1&pn;for(ia=lr=0;4>ia;++ia)pr=pr>>1|(va=(Qr=Kd(Pr,ci,Qr=va+(1&pr),Ur.Sc,In,Vt,Dn))>In)<<7,lr=lr<<2|(3<Qr?3:1<Qr?2:Vt[Dn+0]!=0),Dn+=16;pr>>=4,pn=pn>>1|va<<7,hn=(hn<<8|lr)>>>0}for(ci=pr,In=pn>>4,zr=0;4>zr;zr+=2){for(lr=0,pr=It.la>>4+zr,pn=Yn.la>>4+zr,or=0;2>or;++or){for(va=1&pn,ia=0;2>ia;++ia)Qr=va+(1&pr),pr=pr>>1|(va=0<(Qr=Kd(Pr,Tn[2],Qr,Ur.Qc,0,Vt,Dn)))<<3,lr=lr<<2|(3<Qr?3:1<Qr?2:Vt[Dn+0]!=0),Dn+=16;pr>>=2,pn=pn>>1|va<<5}Xt|=lr<<4*zr,ci|=pr<<4<<zr,In|=(240&pn)<<zr}It.la=ci,Yn.la=In,Gn.Hc=hn,Gn.Gc=Xt,Gn.ia=43690&Xt?0:Ur.ia,Tn=!(hn|Xt)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Ft.$b][Ft.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Tn),Jr.Ka)return an(Ht,7,"Premature end-of-file encountered.")}if(ll(Ht),Fe=fn,Jr=1,Ft=(rt=Ht).D,It=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Ft.M=rt.M,Ft.uc=It,po(rt,Ft),Jr=1,Ft=(lr=rt.D).Nb,It=(Xt=pp[rt.L])*rt.R,Pr=Xt/2*rt.B,or=16*Ft*rt.R,ia=8*Ft*rt.B,Tn=rt.sa,Gn=rt.ta-It+or,Ur=rt.qa,Vt=rt.ra-Pr+ia,Dn=rt.Ha,Yn=rt.Ia-Pr+ia,pn=(pr=lr.M)==0,hn=pr>=rt.Va-1,rt.Aa==2&&po(rt,lr),lr.uc)for(va=(Qr=rt).D.M,e(Qr.D.uc),lr=Qr.yb;lr<Qr.Hb;++lr){In=lr,ci=va;var Kn=(ya=(Rn=Qr).D).Nb;zr=Rn.R;var ya=ya.wa[ya.Y+In],xa=Rn.sa,sa=Rn.ta+16*Kn*zr+16*In,ba=ya.dd,wr=ya.tc;if(wr!=0)if(e(3<=wr),Rn.L==1)0<In&&lS(xa,sa,zr,wr+4),ya.La&&uS(xa,sa,zr,wr),0<ci&&oS(xa,sa,zr,wr+4),ya.La&&cS(xa,sa,zr,wr);else{var wa=Rn.B,ui=Rn.qa,bl=Rn.ra+8*Kn*wa+8*In,Os=Rn.Ha,Rn=Rn.Ia+8*Kn*wa+8*In;Kn=ya.ld,0<In&&(eS(xa,sa,zr,wr+4,ba,Kn),rS(ui,bl,Os,Rn,wa,wr+4,ba,Kn)),ya.La&&(aS(xa,sa,zr,wr,ba,Kn),sS(ui,bl,Os,Rn,wa,wr,ba,Kn)),0<ci&&(QN(xa,sa,zr,wr+4,ba,Kn),tS(ui,bl,Os,Rn,wa,wr+4,ba,Kn)),ya.La&&(nS(xa,sa,zr,wr,ba,Kn),iS(ui,bl,Os,Rn,wa,wr,ba,Kn))}}if(rt.ia&&alert("todo:DitherRow"),Fe.put!=null){if(lr=16*pr,pr=16*(pr+1),pn?(Fe.y=rt.sa,Fe.O=rt.ta+or,Fe.f=rt.qa,Fe.N=rt.ra+ia,Fe.ea=rt.Ha,Fe.W=rt.Ia+ia):(lr-=Xt,Fe.y=Tn,Fe.O=Gn,Fe.f=Ur,Fe.N=Vt,Fe.ea=Dn,Fe.W=Yn),hn||(pr-=Xt),pr>Fe.o&&(pr=Fe.o),Fe.F=null,Fe.J=null,rt.Fa!=null&&0<rt.Fa.length&&lr<pr&&(Fe.J=En(rt,Fe,lr,pr-lr),Fe.F=rt.mb,Fe.F==null&&Fe.F.length==0)){Jr=an(rt,3,"Could not decode alpha data.");break t}lr<Fe.j&&(Xt=Fe.j-lr,lr=Fe.j,e(!(1&Xt)),Fe.O+=rt.R*Xt,Fe.N+=rt.B*(Xt>>1),Fe.W+=rt.B*(Xt>>1),Fe.F!=null&&(Fe.J+=Fe.width*Xt)),lr<pr&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=lr-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=pr-lr,Jr=Fe.put(Fe))}Ft+1!=rt.Ic||hn||(n(rt.sa,rt.ta-It,Tn,Gn+16*rt.R,It),n(rt.qa,rt.ra-Pr,Ur,Vt+8*rt.B,Pr),n(rt.Ha,rt.Ia-Pr,Dn,Yn+8*rt.B,Pr))}if(!Jr)return an(Ht,6,"Output aborted.")}return 1})(re,pe)),pe.bc!=null&&pe.bc(pe),ye&=1}return ye?(re.cb=0,ye):0})(y,D)||(b=y.a)}}else b=y.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=aa(Y.ba))}Y=b}V=Y!=0?null:11>V?X.f.RGBA.eb:X.f.kb.y}else V=null;return V};var OS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,L){for(var C="",O=0;O<4;O++)C+=String.fromCharCode(I[L++]);return C}function d(I,L){return I[L+0]|I[L+1]<<8}function f(I,L){return(I[L+0]|I[L+1]<<8|I[L+2]<<16)>>>0}function p(I,L){return(I[L+0]|I[L+1]<<8|I[L+2]<<16|I[L+3]<<24)>>>0}new c;var h=[0],g=[0],m=[],v=new c,x=t,j=(function(I,L){var C={},O=0,R=!1,M=0,W=0;if(C.frames=[],!(function($,U){for(var z=0;z<4;z++)if($[U+z]!="RIFF".charCodeAt(z))return!0;return!1})(I,L)){for(p(I,L+=4),L+=8;L<I.length;){var H=u(I,L),G=p(I,L+=4);L+=4;var F=G+(1&G);switch(H){case"VP8 ":case"VP8L":C.frames[O]===void 0&&(C.frames[O]={}),(oe=C.frames[O]).src_off=R?W:L-8,oe.src_size=M+G+8,O++,R&&(R=!1,M=0,W=0);break;case"VP8X":(oe=C.header={}).feature_flags=I[L];var ae=L+4;oe.canvas_width=1+f(I,ae),ae+=3,oe.canvas_height=1+f(I,ae),ae+=3;break;case"ALPH":R=!0,M=F+8,W=L-8;break;case"ANIM":(oe=C.header).bgcolor=p(I,L),ae=L+4,oe.loop_count=d(I,ae),ae+=2;break;case"ANMF":var Q,oe;(oe=C.frames[O]={}).offset_x=2*f(I,L),L+=3,oe.offset_y=2*f(I,L),L+=3,oe.width=1+f(I,L),L+=3,oe.height=1+f(I,L),L+=3,oe.duration=f(I,L),L+=3,Q=I[L++],oe.dispose=1&Q,oe.blend=Q>>1&1}H!="ANMF"&&(L+=F)}return C}})(x,0);j.response=x,j.rgbaoutput=!0,j.dataurl=!1;var w=j.header?j.header:null,_=j.frames?j.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],g=[w.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var A=_[0],k=v.WebPDecodeRGBA(x,A.src_off,A.src_size,g,h);A.rgba=k,A.imgwidth=g[0],A.imgheight=h[0];for(var E=0;E<g[0]*h[0]*4;E++)m[E]=k[E];return this.width=g,this.height=h,this.data=m,this}(function(t){var e,r,n,a,i,s,l,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=$;Object.defineProperty(this,"pdf",{get:function(){return U}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(me){z=!!me}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(me){J=!!me}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(me){isNaN(me)||(le=me)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(me){isNaN(me)||(se=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var ee;typeof me=="number"?ee=[me,me,me,me]:((ee=new Array(4))[0]=me[0],ee[1]=me.length>=2?me[1]:ee[0],ee[2]=me.length>=3?me[2]:ee[0],ee[3]=me.length>=4?me[3]:ee[1]),u.margin=ee}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(me){de=me}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(me){ie=me}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(me){he=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof d&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(me){ge=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var ee;ee=p(me),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var ee=p(me);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var ue=null,Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(me){ue=null,Ce=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var ee;if(this.ctx.font=me,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var Ve=ee[1];ee[2];var Ue=ee[3],We=ee[4];ee[5];var Pe=ee[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(Qe==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var $e=(function(dt){var ot,Gt,Yt=[],nt=dt.trim();if(nt==="")return Vy;if(nt in HA)return[HA[nt]];for(;nt!=="";){switch(Gt=null,ot=(nt=GA(nt)).charAt(0)){case'"':case"'":Gt=lX(nt.substring(1),ot);break;default:Gt=cX(nt)}if(Gt===null||(Yt.push(Gt[0]),(nt=GA(Gt[1]))!==""&&nt.charAt(0)!==","))return Vy;nt=nt.replace(/^,/,"")}return Yt})(Pe);if(this.fontFaces){var Ke=(function(dt,ot){if(ue===null){var Gt=(function(Yt){var nt=[];return Object.keys(Yt).forEach(function(St){Yt[St].forEach(function(nr){var ft=null;switch(nr){case"bold":ft={family:St,weight:"bold"};break;case"italic":ft={family:St,style:"italic"};break;case"bolditalic":ft={family:St,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:St}}ft!==null&&(ft.ref={name:St,style:nr},nt.push(ft))})}),nt})(dt.getFontList());ue=(function(Yt){for(var nt={},St=0;St<Yt.length;++St){var nr=Hy(Yt[St]),ft=nr.family,qt=nr.stretch,ht=nr.style,$r=nr.weight;nt[ft]=nt[ft]||{},nt[ft][qt]=nt[ft][qt]||{},nt[ft][qt][ht]=nt[ft][qt][ht]||{},nt[ft][qt][ht][$r]=nr}return nt})(Gt.concat(ot))}return ue})(this.pdf,this.fontFaces),Ge=$e.map(function(dt){return{family:dt,stretch:"normal",weight:Ue,style:Ve}}),Wt=(function(dt,ot,Gt){for(var Yt=(Gt=Gt||{}).defaultFontFamily||"times",nt=Object.assign({},oX,Gt.genericFontFamilies||{}),St=null,nr=null,ft=0;ft<ot.length;++ft)if(nt[(St=Hy(ot[ft])).family]&&(St.family=nt[St.family]),dt.hasOwnProperty(St.family)){nr=dt[St.family];break}if(!(nr=nr||dt[Yt]))throw new Error("Could not find a font-family for the rule '"+VA(St)+"' and default family '"+Yt+"'.");if(nr=(function(qt,ht){if(ht[qt])return ht[qt];var $r=q2[qt],Gr=$r<=q2.normal?-1:1,ar=WA(ht,IR,$r,Gr);if(!ar)throw new Error("Could not find a matching font-stretch value for "+qt);return ar})(St.stretch,nr),nr=(function(qt,ht){if(ht[qt])return ht[qt];for(var $r=TR[qt],Gr=0;Gr<$r.length;++Gr)if(ht[$r[Gr]])return ht[$r[Gr]];throw new Error("Could not find a matching font-style for "+qt)})(St.style,nr),!(nr=(function(qt,ht){if(ht[qt])return ht[qt];if(qt===400&&ht[500])return ht[500];if(qt===500&&ht[400])return ht[400];var $r=sX[qt],Gr=WA(ht,RR,$r,qt<400?-1:1);if(!Gr)throw new Error("Could not find a matching font-weight for value "+qt);return Gr})(St.weight,nr)))throw new Error("Failed to resolve a font for the rule '"+VA(St)+"'.");return nr})(Ke,Ge);this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var vt="";(Ue==="bold"||parseInt(Ue,10)>=700||Ve==="bold")&&(vt="bold"),Ve==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var yt="",rr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<$e.length;At++){if(this.pdf.internal.getFont($e[At],vt,{noFallback:!0,disableWarning:!0})!==void 0){yt=$e[At];break}if(vt==="bolditalic"&&this.pdf.internal.getFont($e[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=$e[At],vt="bold";else if(this.pdf.internal.getFont($e[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=$e[At],vt="normal";break}}if(yt===""){for(var it=0;it<$e.length;it++)if(rr[$e[it]]){yt=rr[$e[it]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s($,U));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s($,U)},f.prototype.closePath=function(){var $=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&ur(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){$=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},f.prototype.lineTo=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s($,U));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,U,z,J){if(isNaN(z)||isNaN(J)||isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(z,J)),se=this.ctx.transform.applyToPoint(new s($,U));this.path.push({type:"qct",x1:se.x,y1:se.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},f.prototype.bezierCurveTo=function($,U,z,J,le,se){if(isNaN(le)||isNaN(se)||isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(le,se)),ie=this.ctx.transform.applyToPoint(new s($,U)),he=this.ctx.transform.applyToPoint(new s(z,J));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function($,U,z,J,le,se){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J)||isNaN(le))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s($,U));$=de.x,U=de.y;var ie=this.ctx.transform.applyToPoint(new s(0,z)),he=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(ie.x-he.x,2)+Math.pow(ie.y-he.y,2))}Math.abs(le-J)>=2*Math.PI&&(J=0,le=2*Math.PI),this.path.push({type:"arc",x:$,y:U,radius:z,startAngle:J,endAngle:le,counterclockwise:se})},f.prototype.arcTo=function($,U,z,J,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,U),this.lineTo($+z,U),this.lineTo($+z,U+J),this.lineTo($,U+J),this.lineTo($,U),this.lineTo($+z,U),this.lineTo($,U)},f.prototype.fillRect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,U,z,J),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,U,z,J),this.stroke())},f.prototype.clearRect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,U,z,J))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function($){var U,z,J,le;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))U=0,z=0,J=0,le=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(se!==null)U=parseInt(se[1]),z=parseInt(se[2]),J=parseInt(se[3]),le=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)U=parseInt(se[1]),z=parseInt(se[2]),J=parseInt(se[3]),le=parseFloat(se[4]);else{if(le=1,typeof $=="string"&&$.charAt(0)!=="#"){var de=new SR($);$=de.ok?de.toHex():"#000000"}$.length===4?(U=$.substring(1,2),U+=U,z=$.substring(2,3),z+=z,J=$.substring(3,4),J+=J):(U=$.substring(1,3),z=$.substring(3,5),J=$.substring(5,7)),U=parseInt(U,16),z=parseInt(z,16),J=parseInt(J,16)}}return{r:U,g:z,b:J,a:le,style:$}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,U,z,J){if(isNaN(U)||isNaN(z)||typeof $!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!h.call(this)){var le=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;O.call(this,{text:$,x:U,y:z,scale:se,angle:le,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function($,U,z,J){if(isNaN(U)||isNaN(z)||typeof $!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){J=isNaN(J)?void 0:J;var le=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;O.call(this,{text:$,x:U,y:z,scale:se,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function($){if(typeof $!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,z=this.pdf.internal.scaleFactor,J=U.internal.getFontSize(),le=U.getStringUnitWidth($)*J/U.internal.scaleFactor;return new function(se){var de=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:le*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c($,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function($){if(isNaN($))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,$,U);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function($,U,z,J,le,se){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J)||isNaN(le)||isNaN(se))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c($,U,z,J,le,se);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function($,U,z,J,le,se){$=isNaN($)?1:$,U=isNaN(U)?0:U,z=isNaN(z)?0:z,J=isNaN(J)?1:J,le=isNaN(le)?0:le,se=isNaN(se)?0:se,this.ctx.transform=new c($,U,z,J,le,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,U,z,J,le,se,de,ie,he){var ge=this.pdf.getImageProperties($),ue=1,Ce=1,me=1,ee=1;J!==void 0&&ie!==void 0&&(me=ie/J,ee=he/le,ue=ge.width/J*ie/J,Ce=ge.height/le*he/le),se===void 0&&(se=U,de=z,U=0,z=0),J!==void 0&&ie===void 0&&(ie=J,he=le),J===void 0&&ie===void 0&&(ie=ge.width,he=ge.height);for(var Ve,Ue=this.ctx.transform.decompose(),We=F(Ue.rotate.shx),Pe=new c,Qe=(Pe=(Pe=(Pe=Pe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(se-U*me,de-z*ee,J*ue,le*Ce)),$e=v.call(this,Qe),Ke=[],Ge=0;Ge<$e.length;Ge+=1)Ke.indexOf($e[Ge])===-1&&Ke.push($e[Ge]);if(w(Ke),this.autoPaging)for(var Wt=Ke[0],vt=Ke[Ke.length-1],yt=Wt;yt<vt+1;yt++){this.pdf.setPage(yt);var rr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=yt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=yt===1?0:it+(yt-2)*dt;if(this.ctx.clip_path.length!==0){var Gt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ve,this.posX+this.margin[3],-ot+At+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Gt}var Yt=JSON.parse(JSON.stringify(Qe));Yt=j([Yt],this.posX+this.margin[3],-ot+At+this.ctx.prevPageLastElemOffset)[0];var nt=(yt>Wt||yt<vt)&&m.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rr,dt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,We),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,We)};var v=function($,U,z){var J=[];U=U||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":J.push(Math.floor(($.y+le)/z)+1);break;case"arc":J.push(Math.floor(($.y+le-$.radius)/z)+1),J.push(Math.floor(($.y+le+$.radius)/z)+1);break;case"qct":var se=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);J.push(Math.floor((se.y+le)/z)+1),J.push(Math.floor((se.y+se.h+le)/z)+1);break;case"bct":var de=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);J.push(Math.floor((de.y+le)/z)+1),J.push(Math.floor((de.y+de.h+le)/z)+1);break;case"rect":J.push(Math.floor(($.y+le)/z)+1),J.push(Math.floor(($.y+$.h+le)/z)+1)}for(var ie=0;ie<J.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<J[ie];)x.call(this);return J},x=function(){var $=this.fillStyle,U=this.strokeStyle,z=this.font,J=this.lineCap,le=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=U,this.font=z,this.lineCap=J,this.lineWidth=le,this.lineJoin=se},j=function($,U,z){for(var J=0;J<$.length;J++)switch($[J].type){case"bct":$[J].x2+=U,$[J].y2+=z;case"qct":$[J].x1+=U,$[J].y1+=z;default:$[J].x+=U,$[J].y+=z}return $},w=function($){return $.sort(function(U,z){return U-z})},_=function($,U){for(var z,J,le=this.fillStyle,se=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,he=Math.abs(ie*this.ctx.transform.scaleX),ge=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),me=[],ee=0;ee<Ce.length;ee++)if(Ce[ee].x!==void 0)for(var Ve=v.call(this,Ce[ee]),Ue=0;Ue<Ve.length;Ue+=1)me.indexOf(Ve[Ue])===-1&&me.push(Ve[Ue]);for(var We=0;We<me.length;We++)for(;this.pdf.internal.getNumberOfPages()<me[We];)x.call(this);if(w(me),this.autoPaging)for(var Pe=me[0],Qe=me[me.length-1],$e=Pe;$e<Qe+1;$e++){this.pdf.setPage($e),this.fillStyle=le,this.strokeStyle=se,this.lineCap=de,this.lineWidth=he,this.lineJoin=ge;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=$e===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=$e===1?0:Wt+($e-2)*vt;if(this.ctx.clip_path.length!==0){var rr=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(z,this.posX+this.margin[3],-yt+Ge+this.ctx.prevPageLastElemOffset),N.call(this,$,!0),this.path=rr}if(J=JSON.parse(JSON.stringify(ue)),this.path=j(J,this.posX+this.margin[3],-yt+Ge+this.ctx.prevPageLastElemOffset),U===!1||$e===0){var At=($e>Pe||$e<Qe)&&m.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,vt,null).clip().discardPath()),N.call(this,$,U),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=he,N.call(this,$,U),this.lineWidth=ie;this.path=ue},N=function($,U){if(($!=="stroke"||U||!g.call(this))&&($==="stroke"||U||!h.call(this))){for(var z,J,le=[],se=this.path,de=0;de<se.length;de++){var ie=se[de];switch(ie.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ie,deltas:[],abs:[]});break;case"lt":var he=le.length;if(se[de-1]&&!isNaN(se[de-1].x)&&(z=[ie.x-se[de-1].x,ie.y-se[de-1].y],he>0)){for(;he>=0;he--)if(le[he-1].close!==!0&&le[he-1].begin!==!0){le[he-1].deltas.push(z),le[he-1].abs.push(ie);break}}break;case"bct":z=[ie.x1-se[de-1].x,ie.y1-se[de-1].y,ie.x2-se[de-1].x,ie.y2-se[de-1].y,ie.x-se[de-1].x,ie.y-se[de-1].y],le[le.length-1].deltas.push(z);break;case"qct":var ge=se[de-1].x+2/3*(ie.x1-se[de-1].x),ue=se[de-1].y+2/3*(ie.y1-se[de-1].y),Ce=ie.x+2/3*(ie.x1-ie.x),me=ie.y+2/3*(ie.y1-ie.y),ee=ie.x,Ve=ie.y;z=[ge-se[de-1].x,ue-se[de-1].y,Ce-se[de-1].x,me-se[de-1].y,ee-se[de-1].x,Ve-se[de-1].y],le[le.length-1].deltas.push(z);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ie)}}J=U?null:$==="stroke"?"stroke":"fill";for(var Ue=!1,We=0;We<le.length;We++)if(le[We].arc)for(var Pe=le[We].abs,Qe=0;Qe<Pe.length;Qe++){var $e=Pe[Qe];$e.type==="arc"?E.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,U,!Ue):R.call(this,$e.x,$e.y),Ue=!0}else if(le[We].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(le[We].begin!==!0){var Ke=le[We].start.x,Ge=le[We].start.y;M.call(this,le[We].deltas,Ke,Ge),Ue=!0}J&&I.call(this,J),U&&L.call(this)}},A=function($){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-z;case"top":return $+U-z;case"hanging":return $+U-2*z;case"middle":return $+U/2-z;default:return $}},k=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(U,z){this.colorStops.push([U,z])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function($,U,z,J,le,se,de,ie,he){for(var ge=H.call(this,z,J,le,se),ue=0;ue<ge.length;ue++){var Ce=ge[ue];ue===0&&(he?C.call(this,Ce.x1+$,Ce.y1+U):R.call(this,Ce.x1+$,Ce.y1+U)),W.call(this,$,U,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ie?L.call(this):I.call(this,de)},I=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},C=function($,U){this.pdf.internal.out(r($)+" "+n(U)+" m")},O=function($){var U;switch($.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var z=this.pdf.getTextDimensions($.text),J=A.call(this,$.y),le=k.call(this,J)-z.h,se=this.ctx.transform.applyToPoint(new s($.x,J)),de=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,ge,ue,Ce=this.ctx.transform.applyToRectangle(new l($.x,J,z.w,z.h)),me=ie.applyToRectangle(new l($.x,le,z.w,z.h)),ee=v.call(this,me),Ve=[],Ue=0;Ue<ee.length;Ue+=1)Ve.indexOf(ee[Ue])===-1&&Ve.push(ee[Ue]);if(w(Ve),this.autoPaging)for(var We=Ve[0],Pe=Ve[Ve.length-1],Qe=We;Qe<Pe+1;Qe++){this.pdf.setPage(Qe);var $e=Qe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Wt=Ge-this.margin[0],vt=this.pdf.internal.pageSize.width-this.margin[1],yt=vt-this.margin[3],rr=Qe===1?0:Ke+(Qe-2)*Wt;if(this.ctx.clip_path.length!==0){var At=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(he,this.posX+this.margin[3],-1*rr+$e),N.call(this,"fill",!0),this.path=At}var it=j([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-rr+$e+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*$.scale),ue=this.lineWidth,this.lineWidth=ue*$.scale);var dt=this.autoPaging!=="text";if(dt||it.y+it.h<=Ge){if(dt||it.y>=$e&&it.x<=vt){var ot=dt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||vt-it.x)[0],Gt=j([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-rr+$e+this.ctx.prevPageLastElemOffset)[0],Yt=dt&&(Qe>We||Qe<Pe)&&m.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Wt,null).clip().discardPath()),this.pdf.text(ot,Gt.x,Gt.y,{angle:$.angle,align:U,renderingMode:$.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else it.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-it.y);$.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)}else $.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*$.scale),ue=this.lineWidth,this.lineWidth=ue*$.scale),this.pdf.text($.text,se.x+this.posX,se.y+this.posY,{angle:$.angle,align:U,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)},R=function($,U,z,J){z=z||0,J=J||0,this.pdf.internal.out(r($+z)+" "+n(U+J)+" l")},M=function($,U,z){return this.pdf.lines($,U,z,null,null)},W=function($,U,z,J,le,se,de,ie){this.pdf.internal.out([e(a(z+$)),e(i(J+U)),e(a(le+$)),e(i(se+U)),e(a(de+$)),e(i(ie+U)),"c"].join(" "))},H=function($,U,z,J){for(var le=2*Math.PI,se=Math.PI/2;U>z;)U-=le;var de=Math.abs(z-U);de<le&&J&&(de=le-de);for(var ie=[],he=J?-1:1,ge=U;de>1e-5;){var ue=ge+he*Math.min(de,se);ie.push(G.call(this,$,ge,ue)),de-=Math.abs(ue-ge),ge=ue}return ie},G=function($,U,z){var J=(z-U)/2,le=$*Math.cos(J),se=$*Math.sin(J),de=le,ie=-se,he=de*de+ie*ie,ge=he+de*le+ie*se,ue=4/3*(Math.sqrt(2*he*ge)-ge)/(de*se-ie*le),Ce=de-ue*ie,me=ie+ue*de,ee=Ce,Ve=-me,Ue=J+U,We=Math.cos(Ue),Pe=Math.sin(Ue);return{x1:$*Math.cos(U),y1:$*Math.sin(U),x2:Ce*We-me*Pe,y2:Ce*Pe+me*We,x3:ee*We-Ve*Pe,y3:ee*Pe+Ve*We,x4:$*Math.cos(z),y4:$*Math.sin(z)}},F=function($){return 180*$/Math.PI},ae=function($,U,z,J,le,se){var de=$+.5*(z-$),ie=U+.5*(J-U),he=le+.5*(z-le),ge=se+.5*(J-se),ue=Math.min($,le,de,he),Ce=Math.max($,le,de,he),me=Math.min(U,se,ie,ge),ee=Math.max(U,se,ie,ge);return new l(ue,me,Ce-ue,ee-me)},Q=function($,U,z,J,le,se,de,ie){var he,ge,ue,Ce,me,ee,Ve,Ue,We,Pe,Qe,$e,Ke,Ge,Wt=z-$,vt=J-U,yt=le-z,rr=se-J,At=de-le,it=ie-se;for(ge=0;ge<41;ge++)We=(Ve=(ue=$+(he=ge/40)*Wt)+he*((me=z+he*yt)-ue))+he*(me+he*(le+he*At-me)-Ve),Pe=(Ue=(Ce=U+he*vt)+he*((ee=J+he*rr)-Ce))+he*(ee+he*(se+he*it-ee)-Ue),ge==0?(Qe=We,$e=Pe,Ke=We,Ge=Pe):(Qe=Math.min(Qe,We),$e=Math.min($e,Pe),Ke=Math.max(Ke,We),Ge=Math.max(Ge,Pe));return new l(Math.round(Qe),Math.round($e),Math.round(Ke-Qe),Math.round(Ge-$e))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,U,z=($=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:U}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(ct.API),(function(t){var e=function(s){var l,c,u,d,f,p,h,g,m,v;for(c=[],u=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(p+33,h+33,g+33,m+33,v+33)):c.push(122);return(function(x,j){for(var w=j;w>0;w--)x.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,u,d,f,p=String,h="length",g=255,m="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(s+=l="uuuuu"[v](s[h]%5||5))[h];f>d;d+=5)c=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(j,w){for(var _=w;_>0;_--)j.pop()})(u,l[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=R2(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,l){var c=0,u=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(ct.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var m=g.length,v=[],x=String.fromCharCode;for(p=0;p<m;p+=1)v.push(x(255&g.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,s)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(ct.API),(function(t){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Ga(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Ga(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=ur(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],m=g.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var u=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(f,l,c);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ct.getPageSize=function(l,c,u){if(ur(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,m=0,v=0;if(h.hasOwnProperty(p))m=h[p][1]/f,v=h[p][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>m&&(g=v,v=m,m=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Hy):null;var u=new s(c);return c.worker?u:u.from(l).doCallback()}})(ct.API),ct.API.addJS=function(t){return KA=t,this.internal.events.subscribe("postPutResources",function(){Hp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hp!==void 0&&YA!==void 0&&this.internal.out("/Names <</JavaScript "+Hp+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(ct.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(ct.API),ct.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=VK(t,{checkCrc:!0}),s=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(k){for(var E=k.width,I=k.height,L=k.data,C=k.palette,O=k.depth,R=!1,M=[],W=[],H=void 0,G=!1,F=0,ae=0;ae<C.length;ae++){var Q=Q4(C[ae],4),oe=Q[0],$=Q[1],U=Q[2],z=Q[3];M.push(oe,$,U),z!=null&&(z===0?(F++,W.length<1&&W.push(ae)):z<255&&(G=!0))}if(G||F>1){R=!0,W=void 0;var J=E*I;H=new Uint8Array(J);for(var le=new DataView(L.buffer),se=0;se<J;se++){var de=Gy(le,se,O),ie=Q4(C[de],4)[3];H[se]=ie}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:L,alphaBytes:H,needSMask:R,palette:M,mask:W}})(i):c===2||c===4?(function(k){for(var E=k.data,I=k.width,L=k.height,C=k.channels,O=k.depth,R=C===2?"DeviceGray":"DeviceRGB",M=C-1,W=I*L,H=M,G=W*H,F=1*W,ae=Math.ceil(G*O/8),Q=Math.ceil(F*O/8),oe=new Uint8Array(ae),$=new Uint8Array(Q),U=new DataView(E.buffer),z=new DataView(oe.buffer),J=new DataView($.buffer),le=!1,se=0;se<W;se++){for(var de=se*C,ie=0;ie<H;ie++)ak(z,Gy(U,de+ie,O),se*H+ie,O);var he=Gy(U,de+H,O);he<(1<<O)-1&&(le=!0),ak(J,he,1*se,O)}return{colorSpace:R,colorsPerPixel:M,colorBytes:oe,alphaBytes:$,needSMask:le}})(i):(function(k){var E=k.data,I=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:E instanceof Uint8Array?E:new Uint8Array(E.buffer),needSMask:!1}})(i);var f,p,h,g=a,m=g.colorSpace,v=g.colorsPerPixel,x=g.colorBytes,j=g.alphaBytes,w=g.needSMask,_=g.palette,N=g.mask,A=null;return n!==ct.API.image_compression.NONE&&typeof R2=="function"?(A=(function(k){var E;switch(k){case ct.API.image_compression.FAST:E=11;break;case ct.API.image_compression.MEDIUM:E=13;break;case ct.API.image_compression.SLOW:E=14;break;default:E=12}return E})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(A," "),t=QA(x,s*v,v,n),w&&(h=QA(j,s,1,n))):(f=void 0,p="",t=x,w&&(h=j)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:N,palette:_,sMask:h,predictor:A,width:s,height:l,bitsPerComponent:d,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new hX(e),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},d=new Yy(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(ct.API),di.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},di.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){mr.log("bit decode error:"+r)}},di.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},di.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},di.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},di.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},di.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},di.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},di.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},di.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new di(e,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new Yy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ct.API),sk.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new sk(e),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new Yy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ct.API),ct.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=p,s[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qc=ct.API,Vp=Qc.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,m=l[0]||c,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=f&&ur(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((l[n]||m)/c+p)),g=n;return v},XA=Qc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Qc.processArabic&&(t=Qc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Vp.apply(this,arguments).reduce(function(i,s){return i+s},0)},ZA=function(t,e,r,n){for(var a=[],i=0,s=t.length,l=0;i!==s&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==s;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},JA=function(t,e,r){r||(r={});var n,a,i,s,l,c,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,m=t.split(" "),v=Vp.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),j=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?j=j.concat(_.map(function(N,A){return(A&&N.length?`
`:"")+N})):j.push(_[0])}),m=j,c=XA.apply(this,[x,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(g=(a=Vp.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>e||w){if(g>e){for(l=ZA.apply(this,[n,a,e-(p+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,N){return _+N},0)}else d=[n];f.push(d),p=g+c,h=v}else d.push(n),p+=h+g,h=v}return u=c?function(_,N){return(N?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},Qc.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(JA.apply(this,[n[l],s,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var h,g,m,v,x=["{"];for(var j in p){if(h=p[j],isNaN(parseInt(j,10))?g="'"+j+"'":(j=parseInt(j,10),g=(g=s(j).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+a[m.slice(-1)];else{if(ur(h)!=="object")throw new Error("Don't know what to do with value type "+ur(h)+".");m=l(h)}x.push(g+m)}return x.push("}"),x.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,x={},j=1,w=x,_=[],N="",A="",k=p.length-1,E=1;E<k;E+=1)(v=p[E])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([w,m]),w={},m=void 0):v=="}"?((g=_.pop())[0][g[1]]=w,m=void 0,w=g[0]):v=="-"?j=-1:m===void 0?n.hasOwnProperty(v)?(N+=n[v],m=parseInt(N,16)*j,j=1,N=""):N+=v:n.hasOwnProperty(v)?(A+=n[v],w[m]=parseInt(A,16)*j,j=1,m=void 0,A=""):A+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(ct.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(gm(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(ct),ct.API.addSvgAsImage=function(t,e,r,n,a,i,s,l){if(isNaN(e)||isNaN(r))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(jt.canvg?Promise.resolve(jt.canvg):Ga(()=>import("./index.es-DM0xdYGi.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,s,l)})},ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,f=0;function p(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(ur(t)==="object"){for(a in t)if(i=t[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(ct.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(l=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var s,l,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)s=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+du(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+du(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+du(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+du(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+du(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",x=0,j="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(j=l,m=h,Array.isArray(l)&&(j=l[0]),x=0;x<j.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[j[x].charCodeAt(0)]),s||j[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=j[x]:v+="";var _="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?_=p(v,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=r(v,g[m])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])})(ct),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ct.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,w=0;this.__bidiEngine__={};var _=function(C){var O=C.charCodeAt(),R=O>>8,M=m[R];return M!==void 0?f[256*M+(255&O)]:R===252||R===253?"AL":x.test(R)?"L":R===8?"R":"N"},N=function(C){for(var O,R=0;R<C.length;R++){if((O=_(C.charAt(R)))==="L")return!1;if(O==="R")return!0}return!1},A=function(C,O,R,M){var W,H,G,F,ae=O[M];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(ae="AN");break;case"AL":j=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":M<1||M+1>=O.length||(W=R[M-1])!=="EN"&&W!=="AN"||(H=O[M+1])!=="EN"&&H!=="AN"?ae="N":j&&(H="AN"),ae=H===W?H:"N";break;case"ES":ae=(W=M>0?R[M-1]:"B")==="EN"&&M+1<O.length&&O[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&R[M-1]==="EN"){ae="EN";break}if(j){ae="N";break}for(G=M+1,F=O.length;G<F&&O[G]==="ET";)G++;ae=G<F&&O[G]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(F=O.length,G=M+1;G<F&&O[G]==="NSM";)G++;if(G<F){var Q=C[M],oe=Q>=1425&&Q<=2303||Q===64286;if(W=O[G],oe&&(W==="R"||W==="AL")){ae="R";break}}}ae=M<1||(W=O[M-1])==="B"?"N":R[M-1];break;case"B":j=!1,a=!0,ae=w;break;case"S":i=!0,ae="N"}return ae},k=function(C,O,R){var M=C.split("");return R&&E(M,R,{hiLevel:w}),M.reverse(),O&&O.reverse(),M.join("")},E=function(C,O,R){var M,W,H,G,F,ae=-1,Q=C.length,oe=0,$=[],U=w?h:p,z=[];for(j=!1,a=!1,i=!1,W=0;W<Q;W++)z[W]=_(C[W]);for(H=0;H<Q;H++){if(F=oe,$[H]=A(C,z,$,H),M=240&(oe=U[F][g[$[H]]]),oe&=15,O[H]=G=U[oe][5],M>0)if(M===16){for(W=ae;W<H;W++)O[W]=1;ae=-1}else ae=-1;if(U[oe][6])ae===-1&&(ae=H);else if(ae>-1){for(W=ae;W<H;W++)O[W]=G;ae=-1}z[H]==="B"&&(O[H]=0),R.hiLevel|=G}i&&(function(J,le,se){for(var de=0;de<se;de++)if(J[de]==="S"){le[de]=w;for(var ie=de-1;ie>=0&&J[ie]==="WS";ie--)le[ie]=w}})(z,O,Q)},I=function(C,O,R,M,W){if(!(W.hiLevel<C)){if(C===1&&w===1&&!a)return O.reverse(),void(R&&R.reverse());for(var H,G,F,ae,Q=O.length,oe=0;oe<Q;){if(M[oe]>=C){for(F=oe+1;F<Q&&M[F]>=C;)F++;for(ae=oe,G=F-1;ae<G;ae++,G--)H=O[ae],O[ae]=O[G],O[G]=H,R&&(H=R[ae],R[ae]=R[G],R[G]=H);oe=F}oe++}}},L=function(C,O,R){var M=C.split(""),W={hiLevel:w};return R||(R=[]),E(M,R,W),(function(H,G,F){if(F.hiLevel!==0&&d)for(var ae,Q=0;Q<H.length;Q++)G[Q]===1&&(ae=v.indexOf(H[Q]))>=0&&(H[Q]=v[ae+1])})(M,R,W),I(2,M,O,R,W),I(1,M,O,R,W),M.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,R){if((function(W,H){if(H)for(var G=0;G<W.length;G++)H[G]=G;l===void 0&&(l=N(W)),u===void 0&&(u=N(W))})(C,O),s||!c||u)if(s&&c&&l^u)w=l?1:0,C=k(C,O,R);else if(!s&&c&&u)w=l?1:0,C=L(C,O,R),C=k(C,O);else if(!s||l||c||u){if(s&&!c&&l^u)C=k(C,O),l?(w=0,C=L(C,O,R)):(w=1,C=L(C,O,R),C=k(C,O));else if(s&&l&&!c&&u)w=1,C=L(C,O,R),C=k(C,O);else if(!s&&!c&&l^u){var M=d;l?(w=1,C=L(C,O,R),w=0,d=!1,C=L(C,O,R),d=M):(w=0,C=L(C,O,R),C=k(C,O),w=1,d=!1,C=L(C,O,R),d=M,C=k(C,O))}}else w=0,C=L(C,O,R);else w=l?1:0,C=L(C,O,R);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(ct),ct.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new zo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new PX(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pX(this.contents),this.head=new gX(this),this.name=new wX(this),this.cmap=new MR(this),this.toUnicode={},this.hhea=new vX(this),this.maxp=new _X(this),this.hmtx=new jX(this),this.post=new xX(this),this.os2=new yX(this),this.loca=new kX(this),this.glyf=new NX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,l;for(s=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Li,zo=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),pX=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,l,c,u,d,f,p,h,g,m;for(m in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),s=Math.floor(f/c),d=16*h-f,(a=new zo).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*h,u=a.pos+i,l=null,g=[],r)for(p=r[m],a.writeString(m),a.writeInt(t(p)),a.writeInt(u),a.writeInt(p.length),g=g.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=DR.call(r);r.length%4;)r.push(0);for(i=new zo(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),mX={}.hasOwnProperty,ms=function(t,e){for(var r in e)mX.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Li=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var gX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new zo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),ok=(function(){function t(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,i=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),e.pos+=2,m=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),u=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),d=(function(){var _,N;for(N=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)N.push(e.readUInt16());return N})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var _,N;for(N=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)N.push(e.readUInt16());return N})(),c=x=0,w=i.length;x<w;c=++x)for(v=i[c],n=j=g=m[c];g<=v?j<=v:j>=v;n=g<=v?++j:--j)d[c]===0?s=n+u[c]:(s=l[d[c]/2+(n-g)-(p-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,w,_,N,A,k,E,I,L,C,O,R,M,W,H,G,F,ae,Q,oe,$,U,z,J,le,se,de,ie,he,ge,ue;switch(M=new zo,s=Object.keys(e).sort(function(Ce,me){return Ce-me}),r){case"macroman":for(m=0,v=(function(){var Ce=[];for(g=0;g<256;++g)Ce.push(0);return Ce})(),j={0:0},i={},W=0,ae=s.length;W<ae;W++)j[ie=e[a=s[W]]]==null&&(j[ie]=++m),i[a]={old:e[a],new:j[e[a]]},v[a]=j[e[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(v),{charMap:i,subtable:M.data,maxGlyphID:m+1};case"unicode":for(O=[],f=[],w=0,j={},n={},x=u=null,H=0,Q=s.length;H<Q;H++)j[N=e[a=s[H]]]==null&&(j[N]=++w),n[a]={old:N,new:j[N]},l=j[N]-a,x!=null&&l===u||(x&&f.push(x),O.push(a),u=l),x=a;for(x&&f.push(x),f.push(65535),O.push(65535),L=2*(I=O.length),E=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,k=2*I-E,c=[],A=[],h=[],g=G=0,oe=O.length;G<oe;g=++G){if(C=O[g],d=f[g],C===65535){c.push(0),A.push(0);break}if(C-(R=n[C].new)>=32768)for(c.push(0),A.push(2*(h.length+I-g)),a=F=C;C<=d?F<=d:F>=d;a=C<=d?++F:--F)h.push(n[a].new);else c.push(R-C),A.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*I+2*h.length),M.writeUInt16(0),M.writeUInt16(L),M.writeUInt16(E),M.writeUInt16(p),M.writeUInt16(k),se=0,$=f.length;se<$;se++)a=f[se],M.writeUInt16(a);for(M.writeUInt16(0),de=0,U=O.length;de<U;de++)a=O[de],M.writeUInt16(a);for(he=0,z=c.length;he<z;he++)l=c[he],M.writeUInt16(l);for(ge=0,J=A.length;ge<J;ge++)_=A[ge],M.writeUInt16(_);for(ue=0,le=h.length;ue<le;ue++)m=h[ue],M.writeUInt16(m);return{charMap:n,subtable:M.data,maxGlyphID:w+1}}},t})(),MR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new ok(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=ok.encode(e,r),(a=new zo).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),vX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),yX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),xX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],i=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;i=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),bX=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,s,l,c,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,u=e.readString(a.length),s=new bX(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),_X=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),jX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),DR=[].slice,NX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,s,l,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new zo(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=s===-1?new AX(l,u,f,c,d):new SX(l,s,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,s,l,c;for(s=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},t})(),SX=(function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),AX=(function(){function t(e,r,n,a,i){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new zo(DR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),kX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ms(t,Li),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),PX=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x;for(a in n=MR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return d=(function(j){var w,_;for(w in _={},j)_[j[w]]=w;return _})(h),f=Object.keys(d).sort(function(j,w){return j-w}),m=(function(){var j,w,_;for(_=[],j=0,w=f.length;j<w;j++)l=f[j],_.push(d[l]);return _})(),i=this.font.glyf.encode(s,m,h),u=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();ct.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e})();const Rl=t=>typeof t!="number"||isNaN(t)?"R0.00":new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),$R=async t=>{try{const e=new ct,r={background:[40,44,52],primary:[255,255,255],secondary:[156,163,175],accent:[239,68,68],accent2:[59,130,246],cardBg:[55,65,81],border:[75,85,99],success:[34,197,94],warning:[251,191,36]};e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F");let n=25;e.setFillColor(229,62,132),e.rect(0,0,210,35,"F"),e.setFillColor(219,39,119),e.rect(0,25,210,10,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("ROSÉMAMA",20,20),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Premium Fashion & Lifestyle",20,30),n=50,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.text("📍 New Rd, Carlswald, Midrand, 1684",20,n),e.text("📞 +27 63 470 8046",20,n+5),e.text("✉️ info@rosemama.store",20,n+10),n+=25;const a=(u,d,f,p)=>{e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(u,d,f,p,"F"),e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.setLineWidth(.5),e.rect(u,d,f,p)};a(20,n,85,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Invoice Details",25,n+8),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]);let i=n+16;e.text("Invoice Number:",25,i),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`INV-${t.order_id.slice(-8).toUpperCase()}`,25,i+4),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Order ID:",25,i+12),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${t.order_id.slice(-12)}`,25,i+16),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Invoice Date:",25,i+24),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${new Date(t.order_date).toLocaleDateString()}`,25,i+28);const l={pending:r.warning,processing:r.accent2,shipped:r.accent2,delivered:r.success,cancelled:r.accent}[t.status]||r.secondary;if(e.setFillColor(l[0],l[1],l[2]),e.rect(67,i+32,25,8,"F"),e.setTextColor(255,255,255),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(t.status.toUpperCase(),69,i+37),a(110,n,80,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Bill To",115,n+8),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(t.customer_name,115,n+18),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text(t.customer_email,115,n+25),t.shipping_address&&(e.text(t.shipping_address.address,115,n+32),e.text(`${t.shipping_address.city}, ${t.shipping_address.state}`,115,n+37),e.text(`${t.shipping_address.zipCode} ${t.shipping_address.country}`,115,n+42)),n+=60,t.order_items&&t.order_items.length>0){e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Order Items",20,n),n+=15,e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(20,n-5,170,12,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.setFont("helvetica","bold"),e.text("ITEM",25,n),e.text("QTY",125,n,{align:"center"}),e.text("PRICE",150,n,{align:"center"}),e.text("TOTAL",180,n,{align:"right"}),n+=12,e.setFont("helvetica","normal"),t.order_items.forEach((f,p)=>{var g,m;p%2===0&&(e.setFillColor(45,55,72),e.rect(20,n-3,170,14,"F")),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9);const h=(((g=f.products)==null?void 0:g.name)||"Unknown Product").substring(0,30);e.text(h,25,n+3),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(7),e.text(((m=f.products)==null?void 0:m.category)||"N/A",25,n+8),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.text(f.quantity.toString(),125,n+3,{align:"center"}),e.text(Rl(f.price_at_purchase),150,n+3,{align:"center"}),e.text(Rl(f.quantity*f.price_at_purchase),180,n+3,{align:"right"}),n+=14,n>250&&(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20)}),n+=10,a(110,n,80,35),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9);let u=n+10;e.text("Subtotal:",115,u),e.text(Rl(oj(t)),185,u,{align:"right"}),u+=8,e.text("Shipping:",115,u),e.text(Rl(150),185,u,{align:"right"}),u+=8,e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.line(115,u,185,u),u+=8,e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("TOTAL:",115,u),e.setTextColor(r.accent[0],r.accent[1],r.accent[2]),e.text(Rl(t.amount),185,u,{align:"right"}),n+=45,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal");const d=t.payment_method==="cash-on-delivery"?"💰 Cash on Delivery":t.payment_method==="bank-transfer"?"🏦 Bank Transfer":t.payment_method==="credit-card"?"💳 Credit Card":"Payment Method Not Specified";e.text(`Payment Method: ${d}`,20,n)}n>250?(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20):n=270,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Thank you for shopping with Rosémama! We appreciate your business.",20,n),e.setFontSize(8),e.text("For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046",20,n+6);const c=`INV-${t.order_id.slice(-8).toUpperCase()}`;e.save(`${c}.pdf`)}catch(e){throw console.error("Error generating PDF:",e),new Error("Failed to generate PDF invoice. Please try again.")}},oj=t=>t.order_items?t.order_items.reduce((e,r)=>e+r.quantity*r.price_at_purchase,0):t.amount,Do=t=>Rl(t),CX=t=>({pending:"rgb(251, 191, 36)",processing:"rgb(59, 130, 246)",shipped:"rgb(168, 85, 247)",delivered:"rgb(34, 197, 94)",cancelled:"rgb(239, 68, 68)"})[t.toLowerCase()]||"rgb(107, 114, 128)",OX=t=>({pending:[251,191,36],processing:[59,130,246],shipped:[168,85,247],delivered:[34,197,94],cancelled:[239,68,68]})[t.toLowerCase()]||[107,114,128],FR=async t=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)throw new Error("Please allow popups for this site to print invoices.");const r=`
      <div style="max-width: 800px; margin: 0 auto; padding: 15px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; min-height: 100vh; display: flex; flex-direction: column;">
        <!-- Main Content Area -->
        <div style="flex: 1;">
          <!-- Compact Header with Gradient -->
          <div style="text-align: center; margin-bottom: 25px;">
            <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); margin-bottom: 15px;">
              <h1 style="font-size: 28px; font-weight: bold; color: white; margin: 0 0 5px 0; letter-spacing: 1px;">ROSÉMAMA</h1>
              <p style="font-size: 14px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
            </div>
            
            <!-- Contact Information with Icons -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; font-size: 12px;">
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">&bull;</span>
                <span>New Rd, Carlswald, Midrand, 1684</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1);">
                <span style="margin-right: 6px; font-weight: bold;">Tel:</span>
                <span>+27 63 470 8046</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">@</span>
                <span>info@rosemama.store</span>
              </div>
            </div>
          </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 30px; margin-bottom: 40px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Invoice Details</h2>
            <div style="space-y: 12px;">
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 8px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${OX(t.status)}; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Bill To</h2>
            <div style="space-y: 8px;">
              <p style="margin: 8px 0; font-weight: bold; color: white; font-size: 16px;">${t.customer_name}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.address}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.country}</p>
                <p style="margin: 8px 0; color: rgba(244, 63, 94, 1);"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>

        <!-- Order Items Table -->
        <div style="background: rgb(55, 65, 81); border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
                <th style="padding: 10px 12px; text-align: left; color: white; font-weight: 600; font-size: 12px;">ITEM</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">QTY</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">PRICE</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">TOTAL</th>
              </tr>
            </thead>
            <tbody>
              ${t.order_items&&t.order_items.length>0?t.order_items.map((n,a)=>{var i,s;return`
                  <tr style="background: ${a%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 10px 12px;">
                      <div>
                        <div style="font-weight: 600; color: white; font-size: 13px;">${((i=n.products)==null?void 0:i.name)||"Unknown Product"}</div>
                        <div style="font-size: 11px; color: rgba(255, 255, 255, 0.6); margin-top: 2px;">${((s=n.products)==null?void 0:s.category)||"N/A"}</div>
                      </div>
                    </td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500; font-size: 13px;">${n.quantity}</td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-size: 13px;">${Do(n.price_at_purchase)}</td>
                    <td style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 13px;">${Do(n.quantity*n.price_at_purchase)}</td>
                  </tr>
                `}).join(""):'<tr><td colspan="4" style="padding: 15px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
            </tbody>
          </table>
        </div>

        <!-- Payment and Totals Section -->
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 10px 0; color: rgb(244, 63, 94);">Payment Method</h3>
            <p style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <div style="space-y: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Subtotal:</span>
                <span>${Do(oj(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 12px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 16px; color: white;">
                <span>Total:</span>
                <span style="color: rgb(244, 63, 94);">${Do(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sticky Footer -->
        <div style="margin-top: auto; text-align: center; border-top: 1px solid rgba(244, 63, 94, 0.3); padding-top: 15px; flex-shrink: 0;">
          <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 8px; font-size: 13px; font-weight: 500;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 11px; color: rgba(255, 255, 255, 0.6);">
            For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
          </p>
        </div>
      </div>
    `;e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>INV-${t.order_id.slice(-8).toUpperCase()}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            @media print {
              body { 
                margin: 0 !important; 
                background: rgb(40, 44, 52) !important; 
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
                print-color-adjust: exact;
              }
              .no-print { display: none; }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              @page {
                margin: 0 !important;
                size: A4;
              }
            }
            body { 
              font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              background: rgb(40, 44, 52) !important;
              color: rgb(255, 255, 255) !important;
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
              print-color-adjust: exact;
              font-size: 14px;
              line-height: 1.5;
            }
            .invoice-container { 
              max-width: 800px; 
              margin: 0 auto; 
              padding: 15px; 
            }
            /* Ensure all text is properly encoded and rendered */
            * {
              font-feature-settings: "kern" 1, "liga" 1;
              text-rendering: optimizeLegibility;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
            }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            ${r}
          </div>
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 1000);
            }
          <\/script>
        </body>
      </html>
    `),e.document.close()}catch(e){throw console.error("Error printing invoice:",e),e}},BR=async t=>{const e=`
    <div style="max-width: 800px; margin: 0 auto; padding: 30px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3); display: flex; flex-direction: column; min-height: 70vh;">
      <!-- Modern Header with Gradient -->
      <div style="text-align: center; margin-bottom: 40px;">
        <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 30px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); margin-bottom: 25px;">
          <h1 style="font-size: 48px; font-weight: bold; color: white; margin: 0 0 10px 0; letter-spacing: 2px;">ROSÉMAMA</h1>
          <p style="font-size: 22px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
          <div style="width: 80px; height: 4px; background: white; margin: 15px auto 0; border-radius: 2px;"></div>
        </div>
        
        <!-- Contact Information with Icons -->
        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">&bull;</span>
            <span>New Rd, Carlswald, Midrand, 1684</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">Tel:</span>
            <span>+27 63 470 8046</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">@</span>
            <span>info@rosemama.store</span>
          </div>
        </div>
      </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: left;">Invoice Details</h2>
            <div style="space-y: 8px; text-align: left;">
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 4px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${CX(t.status)}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: right;">Bill To</h2>
            <div style="space-y: 6px; text-align: right;">
              <p style="margin: 4px 0; font-weight: bold; color: white; font-size: 14px;">${t.customer_name}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.address}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.country}</p>
                <p style="margin: 4px 0; color: rgba(244, 63, 94, 1); font-size: 13px;"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>      <!-- Order Items Table -->
      <div style="background: rgb(55, 65, 81); border-radius: 12px; overflow: hidden; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
              <th style="padding: 16px 20px; text-align: left; color: white; font-weight: 600; font-size: 14px;">ITEM</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">QTY</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">PRICE</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">TOTAL</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map((i,s)=>{var l,c;return`
                <tr style="background: ${s%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                  <td style="padding: 16px 20px;">
                    <div>
                      <div style="font-weight: 600; color: white; font-size: 15px;">${((l=i.products)==null?void 0:l.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px;">${((c=i.products)==null?void 0:c.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500;">${i.quantity}</td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9);">${Do(i.price_at_purchase)}</td>
                  <td style="padding: 16px 20px; text-align: right; color: white; font-weight: 600;">${Do(i.quantity*i.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 20px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Payment and Totals Section -->
      <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <h3 style="font-size: 20px; font-weight: bold; margin: 0 0 15px 0; color: rgb(244, 63, 94);">Payment Method</h3>
          <p style="color: rgba(255, 255, 255, 0.8); font-size: 16px;">
            ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
          </p>
        </div>
        
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <div style="space-y: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Subtotal:</span>
              <span>${Do(oj(t))}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Shipping:</span>
              <span>R150.00</span>
            </div>
            <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 16px 0;">
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 20px; color: white;">
              <span>Total:</span>
              <span style="color: rgb(244, 63, 94);">${Do(t.amount)}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Elegant Footer -->
      <div style="margin-top: auto; text-align: center; border-top: 2px solid rgba(244, 63, 94, 0.3); padding-top: 30px;">
        <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; font-size: 16px; font-weight: 500;">
          Thank you for shopping with Rosemama! We appreciate your business.
        </p>
        <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6);">
          For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
        </p>
      </div>
    </div>
  `,r=document.createElement("div");r.id="invoice-modal-overlay",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.zIndex="9999",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.addEventListener("click",i=>{i.target===r&&document.body.removeChild(r)});const n=document.createElement("div");n.style.backgroundColor="rgb(40, 44, 52)",n.style.maxWidth="90vw",n.style.maxHeight="90vh",n.style.overflow="auto",n.style.borderRadius="16px",n.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.3)";const a=()=>{const i=document.getElementById("invoice-modal-overlay");i&&i.parentNode&&i.parentNode.removeChild(i)};n.innerHTML=`
    <div style="padding: 20px; background: rgb(40, 44, 52); display: flex; flex-direction: column; min-height: 80vh;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="font-size: 24px; font-weight: bold; color: white; margin: 0;">Invoice Preview</h2>
        <button id="close-modal-btn" style="background: linear-gradient(135deg, rgb(244, 63, 94), rgb(219, 39, 119)); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;">Close</button>
      </div>
      <div style="flex: 1;">
        ${e}
      </div>
    </div>
  `,r.appendChild(n),document.body.appendChild(r),setTimeout(()=>{const i=document.getElementById("close-modal-btn");i&&i.addEventListener("click",a)},0)};function EX({variant:t="banner",showDismiss:e=!1,onDismiss:r,className:n=""}){const{user:a,isEmailVerified:i,pendingVerification:s,resendVerification:l}=Cn(),[c,u]=S.useState(!1);if(!a||i||c)return null;const d=async()=>{await l()?ke.success("Verification email sent! Check your inbox."):ke.error("Failed to send verification email. Please try again.")},f=()=>{u(!0),r==null||r()},p=o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Mf,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Verify your email address"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Check your inbox and click the verification link to access order tracking and earn rewards."})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(we,{variant:"outline",size:"sm",onClick:d,disabled:s,className:"text-xs",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Va,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending..."]}):"Resend Email"}),e&&o.jsx(we,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto",children:o.jsx(Gs,{className:"h-4 w-4"})})]})]});return t==="card"?o.jsx(Re,{className:`border-blue-200 bg-blue-50 ${n}`,children:o.jsx(Le,{className:"p-4",children:p})}):t==="inline"?o.jsx("div",{className:`rounded-md bg-blue-50 border border-blue-200 p-3 ${n}`,children:p}):o.jsx("div",{className:`bg-blue-50 border-b border-blue-200 px-4 py-3 ${n}`,children:p})}function TX({className:t=""}){const{user:e,isEmailVerified:r,resendVerification:n}=Cn(),[a,i]=S.useState(!1);return!e||r?null:o.jsxs("div",{className:`relative ${t}`,children:[o.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"text-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[o.jsx(Mf,{className:"h-3 w-3 mr-1"}),"Verify Email"]}),a&&o.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border p-3 z-50",children:o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-medium mb-1",children:"Email verification needed"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"Verify your email to track orders and earn rewards."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(we,{size:"sm",onClick:async()=>{await n(),i(!1),ke.success("Verification email sent!")},className:"text-xs",children:"Resend"}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>i(!1),className:"text-xs",children:"Later"})]})]})})]})}function IX({onLogout:t,onNavigateToInfo:e}){const{user:r,loading:n,signOut:a}=Cn(),[i,s]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState([]),[f,p]=S.useState(!1),[h,g]=S.useState(null),[m,v]=S.useState(!1);S.useEffect(()=>{m&&r&&x()},[m,r]);const x=async()=>{p(!0);try{const R=await BI();d(R)}catch(R){console.error("Error fetching orders:",R),ke.error("Failed to load order history")}finally{p(!1)}};if(n)return o.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(!r)return o.jsx("div",{className:"text-center py-12",children:"Could not load user profile. Please try logging in again."});const[j,w]=S.useState({name:r.name,email:r.email,phone:r.phone||""}),_=()=>{s(!1),ke.info("Profile update functionality is coming soon!")},N=async()=>{if(l){console.log("Profile: Logout already in progress, ignoring click");return}console.log("Profile: Logout button clicked"),c(!0);try{console.log("Profile: Calling signOut()"),await a(),console.log("Profile: signOut() completed"),ke.success("Signed out successfully"),console.log("Profile: About to reload page immediately");try{window.location.reload(),console.log("Profile: window.location.reload() called successfully")}catch(R){console.error("Profile: Error calling window.location.reload():",R),setTimeout(()=>{console.log("Profile: Fallback reload attempt"),window.location.reload()},100)}}catch(R){console.error("Profile: Logout failed:",R),ke.error("Failed to log out"),c(!1)}},A=async R=>{var W;const M={id:R.id,order_id:R.id,customer_name:r.name,customer_email:r.email,amount:R.total_amount,status:R.status,order_date:new Date(R.created_at).toLocaleDateString(),shipping_address:R.shipping_address,order_items:R.order_items,payment_method:((W=R.shipping_address)==null?void 0:W.paymentMethod)||"N/A"};try{await FR(M),ke.success("Invoice opened for printing")}catch(H){console.error("Error printing invoice:",H),ke.error(H instanceof Error?H.message:"Failed to print invoice")}},k=async R=>{var W;const M={id:R.id,order_id:R.id,customer_name:r.name,customer_email:r.email,amount:R.total_amount,status:R.status,order_date:new Date(R.created_at).toLocaleDateString(),shipping_address:R.shipping_address,order_items:R.order_items,payment_method:((W=R.shipping_address)==null?void 0:W.paymentMethod)||"N/A"};try{await $R(M),ke.success("PDF downloaded successfully")}catch(H){console.error("Error generating PDF:",H),ke.error("Failed to generate PDF")}},E=async R=>{var W;const M={id:R.id,order_id:R.id,customer_name:r.name,customer_email:r.email,amount:R.total_amount,status:R.status,order_date:new Date(R.created_at).toLocaleDateString(),shipping_address:R.shipping_address,order_items:R.order_items,payment_method:((W=R.shipping_address)==null?void 0:W.paymentMethod)||"N/A"};try{await BR(M)}catch(H){console.error("Error viewing invoice:",H),ke.error("Failed to view invoice")}},I=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),L=async(R,M)=>{try{await gI(r.email,r.name,R.id,[{id:M.products.id,name:M.products.name,image:M.products.image_url||"/images/placeholder-product.svg"}]),ke.success(`Review invitation sent for ${M.products.name}!`)}catch(W){console.error("Error sending review invitation:",W),ke.error("Failed to send review invitation")}},C=R=>R.status==="delivered",O=[{icon:Fo,label:"Order History",action:()=>v(!0)},{icon:Uo,label:"Wishlist",action:()=>ke.info("Wishlist coming soon!")},{icon:C_,label:"Addresses",action:()=>ke.info("Address management coming soon!")},{icon:P_,label:"Payment Methods",action:()=>ke.info("Payment methods coming soon!")},{icon:Ml,label:"Notifications",action:()=>ke.info("Notification settings coming soon!")},{icon:Us,label:"Privacy & Security",action:()=>{e?e("privacy"):ke.info("Privacy settings coming soon!")}}];return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-2xl",children:[o.jsx(EX,{variant:"card",className:"mb-4",showDismiss:!0}),o.jsx(Re,{className:"mb-6",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(p8,{className:"h-20 w-20",children:o.jsx(m8,{className:"text-xl",children:r.name.split(" ").map(R=>R[0]).join("").toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h2",{className:"text-xl font-semibold",children:r.name}),o.jsxs(wt,{variant:"secondary",className:r.membershipTier==="Gold"?"bg-yellow-100 text-yellow-800":r.membershipTier==="Silver"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800",children:[r.membershipTier," Member"]})]}),o.jsx("p",{className:"text-muted-foreground",children:r.email}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("span",{className:"text-sm",children:["✨ ",r.points," points"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Member since ",r.created_at?new Date(r.created_at).getFullYear():"2024"]})]})]}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>s(!i),children:o.jsx(L_,{className:"h-4 w-4"})})]})})}),i&&o.jsxs(Re,{className:"mb-6",children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Edit Profile"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"name",children:"Full Name"}),o.jsx(Dt,{id:"name",value:j.name,onChange:R=>w(M=>({...M,name:R.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"email",children:"Email"}),o.jsx(Dt,{id:"email",type:"email",value:j.email,onChange:R=>w(M=>({...M,email:R.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"phone",children:"Phone"}),o.jsx(Dt,{id:"phone",type:"tel",value:j.phone,onChange:R=>w(M=>({...M,phone:R.target.value})),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(we,{onClick:_,children:"Save Changes"}),o.jsx(we,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]}),o.jsxs(Re,{className:"mb-6",children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Account Settings"})}),o.jsx(Le,{className:"p-0",children:o.jsx("ul",{className:"divide-y",children:O.map((R,M)=>o.jsx("li",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-muted/50",onClick:R.action,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(R.icon,{className:"h-5 w-5 text-muted-foreground"}),o.jsx("span",{children:R.label})]})},M))})})]}),o.jsx(we,{variant:"destructive",className:"w-full",onClick:N,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(zl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):o.jsxs(o.Fragment,{children:[o.jsx(oI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),o.jsx(Ni,{open:m,onOpenChange:v,children:o.jsxs(Ja,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Si,{children:o.jsx(Ai,{className:"text-2xl",children:"Order History"})}),f?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(zl,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading your orders..."]}):u.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No orders found. Start shopping to see your order history here."}):o.jsx("div",{className:"space-y-4",children:u.map(R=>{var M;return o.jsx(Re,{children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",R.id.slice(-8)]}),o.jsx(wt,{variant:"outline",className:`${R.status==="delivered"?"border-green-500 text-green-700":R.status==="shipped"?"border-blue-500 text-blue-700":R.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:R.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Ordered on ",new Date(R.created_at).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{className:"text-sm font-medium",children:["Total: ",I(R.total_amount)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ni,{children:[o.jsx(tj,{asChild:!0,children:o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>g(R),children:[o.jsx(Xa,{className:"h-4 w-4 mr-1"}),"View Details"]})}),o.jsxs(Ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Si,{children:o.jsxs(Ai,{children:["Order #",R.id.slice(-8)]})}),h&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Re,{children:o.jsxs(Le,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Order Date:"}),o.jsx("span",{className:"text-sm",children:new Date(h.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Status:"}),o.jsx(wt,{variant:"outline",className:`${h.status==="delivered"?"border-green-500 text-green-700":h.status==="shipped"?"border-blue-500 text-blue-700":h.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:h.status})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Total Amount:"}),o.jsx("span",{className:"text-sm font-semibold",children:I(h.total_amount)})]}),((M=h.shipping_address)==null?void 0:M.paymentMethod)&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),o.jsxs("span",{className:"text-sm",children:[h.shipping_address.paymentMethod==="cash-on-delivery"&&"💰 COD",h.shipping_address.paymentMethod==="bank-transfer"&&"🏦 Bank Transfer",h.shipping_address.paymentMethod==="credit-card"&&"💳 Card"]})]})]})}),o.jsx(Re,{children:o.jsx(Le,{className:"pt-4",children:o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsx("div",{children:o.jsx("strong",{children:"Shipping Address:"})}),h.shipping_address?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[h.shipping_address.firstName," ",h.shipping_address.lastName]}),o.jsx("div",{children:h.shipping_address.address}),o.jsxs("div",{children:[h.shipping_address.city,", ",h.shipping_address.state]}),o.jsx("div",{children:h.shipping_address.country}),o.jsxs("div",{children:["📞 ",h.shipping_address.phone]})]}):o.jsx("div",{className:"text-muted-foreground",children:"Address not available"})]})})})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{className:"text-lg",children:"Order Items"})}),o.jsx(Le,{children:h.order_items&&h.order_items.length>0?o.jsxs("div",{className:"space-y-3",children:[h.order_items.map((W,H)=>{var G,F;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[((G=W.products)==null?void 0:G.image_url)&&o.jsx("img",{src:W.products.image_url,alt:W.products.name,className:"w-16 h-16 object-cover rounded-lg border"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-lg",children:((F=W.products)==null?void 0:F.name)||"Unknown Product"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Quantity: ",W.quantity," × ",I(W.price_at_purchase)]}),C(h)&&o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>L(h,W),className:"bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-green-200 text-green-700 hover:text-green-800",children:[o.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Leave Review"]}),o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[o.jsx(Ka,{className:"h-3 w-3 mr-1"}),"Share your experience"]})]}),!C(h)&&h.status!=="delivered"&&o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[o.jsx(Vr,{className:"h-3 w-3 mr-1 text-gray-400"}),"Review available after delivery"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"font-semibold text-lg",children:I(W.quantity*W.price_at_purchase)})})]},H)}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:I(h.total_amount)})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"text-lg flex items-center gap-2",children:[o.jsx(Vs,{className:"h-5 w-5"}),"Invoice Actions"]})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(we,{variant:"outline",onClick:()=>E(h),className:"flex items-center gap-2",children:[o.jsx(Vs,{className:"h-4 w-4"}),"View Invoice"]}),o.jsxs(we,{variant:"outline",onClick:()=>k(h),className:"flex items-center gap-2",children:[o.jsx(sI,{className:"h-4 w-4"}),"Download PDF"]}),o.jsxs(we,{variant:"outline",onClick:()=>A(h),className:"flex items-center gap-2",children:[o.jsx(uI,{className:"h-4 w-4"}),"Print Invoice"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate and download professional invoices for your orders."})]})]})]})]})]}),o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>E(R),children:[o.jsx(Vs,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})})},R.id)})})]})}),o.jsx(Yo,{})]})}function lj(t){const e=t+"CollectionProvider",[r,n]=Mn(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:x}=m,j=K.useRef(null),w=K.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:w,collectionRef:j,children:x})};s.displayName=e;const l=t+"CollectionSlot",c=Yl(l),u=K.forwardRef((m,v)=>{const{scope:x,children:j}=m,w=i(l,x),_=Bt(v,w.collectionRef);return o.jsx(c,{ref:_,children:j})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Yl(d),h=K.forwardRef((m,v)=>{const{scope:x,children:j,...w}=m,_=K.useRef(null),N=Bt(v,_),A=i(d,x);return K.useEffect(()=>(A.itemMap.set(_,{ref:_,...w}),()=>void A.itemMap.delete(_))),o.jsx(p,{[f]:"",ref:N,children:j})});h.displayName=d;function g(m){const v=i(t+"CollectionConsumer",m);return K.useCallback(()=>{const j=v.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,k)=>w.indexOf(A.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:h},g,n]}var RX=S.createContext(void 0);function hd(t){const e=S.useContext(RX);return t||e||"ltr"}var Ky="rovingFocusGroup.onEntryFocus",LX={bubbles:!1,cancelable:!0},Ch="RovingFocusGroup",[U2,qR,MX]=lj(Ch),[DX,fv]=Mn(Ch,[MX]),[$X,FX]=DX(Ch),UR=S.forwardRef((t,e)=>o.jsx(U2.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(U2.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(BX,{...t,ref:e})})}));UR.displayName=Ch;var BX=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=S.useRef(null),h=Bt(e,p),g=hd(i),[m,v]=Za({prop:s,defaultProp:l??null,onChange:c,caller:Ch}),[x,j]=S.useState(!1),w=Wn(u),_=qR(r),N=S.useRef(!1),[A,k]=S.useState(0);return S.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(Ky,w),()=>E.removeEventListener(Ky,w)},[w]),o.jsx($X,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:S.useCallback(E=>v(E),[v]),onItemShiftTab:S.useCallback(()=>j(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:S.useCallback(()=>k(E=>E-1),[]),children:o.jsx(at.div,{tabIndex:x||A===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:ut(t.onMouseDown,()=>{N.current=!0}),onFocus:ut(t.onFocus,E=>{const I=!N.current;if(E.target===E.currentTarget&&I&&!x){const L=new CustomEvent(Ky,LX);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const C=_().filter(H=>H.focusable),O=C.find(H=>H.active),R=C.find(H=>H.id===m),W=[O,R,...C].filter(Boolean).map(H=>H.ref.current);HR(W,d)}}N.current=!1}),onBlur:ut(t.onBlur,()=>j(!1))})})}),zR="RovingFocusGroupItem",WR=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=t,c=_i(),u=i||c,d=FX(zR,r),f=d.currentTabStopId===u,p=qR(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return S.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(U2.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(at.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ut(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ut(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ut(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=zX(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?WX(w,_+1):w.slice(_+1)}setTimeout(()=>HR(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});WR.displayName=zR;var qX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zX(t,e,r){const n=UX(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qX[n]}function HR(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function WX(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var VR=UR,GR=WR,hv="Tabs",[HX,iwe]=Mn(hv,[fv]),YR=fv(),[VX,cj]=HX(hv),KR=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=hd(l),[f,p]=Za({prop:n,onChange:a,defaultProp:i??"",caller:hv});return o.jsx(VX,{scope:r,baseId:_i(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:c,children:o.jsx(at.div,{dir:d,"data-orientation":s,...u,ref:e})})});KR.displayName=hv;var XR="TabsList",ZR=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=cj(XR,r),s=YR(r);return o.jsx(VR,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(at.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});ZR.displayName=XR;var JR="TabsTrigger",QR=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=cj(JR,r),l=YR(r),c=rL(s.baseId,n),u=nL(s.baseId,n),d=n===s.value;return o.jsx(GR,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(at.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:ut(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:ut(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:ut(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});QR.displayName=JR;var eL="TabsContent",tL=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,l=cj(eL,r),c=rL(l.baseId,n),u=nL(l.baseId,n),d=n===l.value,f=S.useRef(d);return S.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(da,{present:a||d,children:({present:p})=>o.jsx(at.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});tL.displayName=eL;function rL(t,e){return`${t}-trigger-${e}`}function nL(t,e){return`${t}-content-${e}`}var GX=KR,YX=ZR,KX=QR,XX=tL;function Ko({className:t,...e}){return o.jsx(GX,{"data-slot":"tabs",className:qe("flex flex-col gap-2",t),...e})}function Xo({className:t,...e}){return o.jsx(YX,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px]",t),...e})}function Or({className:t,...e}){return o.jsx(KX,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Er({className:t,...e}){return o.jsx(XX,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",t),...e})}function ZX({products:t}){const[e,r]=S.useState({revenue:0,orders:0,users:0,growth:{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}),[n,a]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const[c,u,d,f]=await Promise.all([KI(),XI(),ZI(),t8(30)]);r({revenue:c||0,orders:u||0,users:d||0,growth:f||{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}})}catch(c){console.error("Error fetching metrics:",c)}finally{a(!1)}})()},[]);const i=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),s=l=>new Intl.NumberFormat("en-US").format(l);return n?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((l,c)=>o.jsx(Re,{children:o.jsx(Le,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-20",children:o.jsx(Va,{className:"h-6 w-6 animate-spin"})})})},c))}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eu,{className:"h-5 w-5 text-green-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Revenue"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:i(e.revenue)}),o.jsxs("p",{className:`text-xs ${e.growth.growth_percentage>=0?"text-green-600":"text-red-600"}`,children:[e.growth.growth_percentage>=0?"+":"",e.growth.growth_percentage.toFixed(1),"% from last month"]})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Am,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.orders)}),o.jsx("p",{className:"text-xs text-blue-600",children:"All time orders"})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fo,{className:"h-5 w-5 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Products"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(t.length)}),o.jsx("p",{className:"text-xs text-purple-600",children:"Available in store"})]})]})}),o.jsx(Re,{children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mI,{className:"h-5 w-5 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Users"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.users)}),o.jsx("p",{className:"text-xs text-orange-600",children:"Registered users"})]})]})})]})}var Xy,lk;function ha(){if(lk)return Xy;lk=1;var t=Array.isArray;return Xy=t,Xy}var Zy,ck;function aL(){if(ck)return Zy;ck=1;var t=typeof _p=="object"&&_p&&_p.Object===Object&&_p;return Zy=t,Zy}var Jy,uk;function gs(){if(uk)return Jy;uk=1;var t=aL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Jy=r,Jy}var Qy,dk;function Oh(){if(dk)return Qy;dk=1;var t=gs(),e=t.Symbol;return Qy=e,Qy}var ex,fk;function JX(){if(fk)return ex;fk=1;var t=Oh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var l=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(l?s[a]=c:delete s[a]),d}return ex=i,ex}var tx,hk;function QX(){if(hk)return tx;hk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return tx=r,tx}var rx,pk;function ao(){if(pk)return rx;pk=1;var t=Oh(),e=JX(),r=QX(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return rx=s,rx}var nx,mk;function io(){if(mk)return nx;mk=1;function t(e){return e!=null&&typeof e=="object"}return nx=t,nx}var ax,gk;function pd(){if(gk)return ax;gk=1;var t=ao(),e=io(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return ax=n,ax}var ix,vk;function uj(){if(vk)return ix;vk=1;var t=ha(),e=pd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return ix=a,ix}var sx,yk;function Zo(){if(yk)return sx;yk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return sx=t,sx}var ox,xk;function dj(){if(xk)return ox;xk=1;var t=ao(),e=Zo(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return ox=s,ox}var lx,bk;function eZ(){if(bk)return lx;bk=1;var t=gs(),e=t["__core-js_shared__"];return lx=e,lx}var cx,wk;function tZ(){if(wk)return cx;wk=1;var t=eZ(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return cx=r,cx}var ux,_k;function iL(){if(_k)return ux;_k=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ux=r,ux}var dx,jk;function rZ(){if(jk)return dx;jk=1;var t=dj(),e=tZ(),r=Zo(),n=iL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:i;return h.test(n(p))}return dx=f,dx}var fx,Nk;function nZ(){if(Nk)return fx;Nk=1;function t(e,r){return e==null?void 0:e[r]}return fx=t,fx}var hx,Sk;function mc(){if(Sk)return hx;Sk=1;var t=rZ(),e=nZ();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return hx=r,hx}var px,Ak;function pv(){if(Ak)return px;Ak=1;var t=mc(),e=t(Object,"create");return px=e,px}var mx,kk;function aZ(){if(kk)return mx;kk=1;var t=pv();function e(){this.__data__=t?t(null):{},this.size=0}return mx=e,mx}var gx,Pk;function iZ(){if(Pk)return gx;Pk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return gx=t,gx}var vx,Ck;function sZ(){if(Ck)return vx;Ck=1;var t=pv(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var l=s[i];return l===e?void 0:l}return n.call(s,i)?s[i]:void 0}return vx=a,vx}var yx,Ok;function oZ(){if(Ok)return yx;Ok=1;var t=pv(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return yx=n,yx}var xx,Ek;function lZ(){if(Ek)return xx;Ek=1;var t=pv(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return xx=r,xx}var bx,Tk;function cZ(){if(Tk)return bx;Tk=1;var t=aZ(),e=iZ(),r=sZ(),n=oZ(),a=lZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,bx=i,bx}var wx,Ik;function uZ(){if(Ik)return wx;Ik=1;function t(){this.__data__=[],this.size=0}return wx=t,wx}var _x,Rk;function fj(){if(Rk)return _x;Rk=1;function t(e,r){return e===r||e!==e&&r!==r}return _x=t,_x}var jx,Lk;function mv(){if(Lk)return jx;Lk=1;var t=fj();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return jx=e,jx}var Nx,Mk;function dZ(){if(Mk)return Nx;Mk=1;var t=mv(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var l=i.length-1;return s==l?i.pop():r.call(i,s,1),--this.size,!0}return Nx=n,Nx}var Sx,Dk;function fZ(){if(Dk)return Sx;Dk=1;var t=mv();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Sx=e,Sx}var Ax,$k;function hZ(){if($k)return Ax;$k=1;var t=mv();function e(r){return t(this.__data__,r)>-1}return Ax=e,Ax}var kx,Fk;function pZ(){if(Fk)return kx;Fk=1;var t=mv();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return kx=e,kx}var Px,Bk;function gv(){if(Bk)return Px;Bk=1;var t=uZ(),e=dZ(),r=fZ(),n=hZ(),a=pZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Px=i,Px}var Cx,qk;function hj(){if(qk)return Cx;qk=1;var t=mc(),e=gs(),r=t(e,"Map");return Cx=r,Cx}var Ox,Uk;function mZ(){if(Uk)return Ox;Uk=1;var t=cZ(),e=gv(),r=hj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ox=n,Ox}var Ex,zk;function gZ(){if(zk)return Ex;zk=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Ex=t,Ex}var Tx,Wk;function vv(){if(Wk)return Tx;Wk=1;var t=gZ();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Tx=e,Tx}var Ix,Hk;function vZ(){if(Hk)return Ix;Hk=1;var t=vv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Ix=e,Ix}var Rx,Vk;function yZ(){if(Vk)return Rx;Vk=1;var t=vv();function e(r){return t(this,r).get(r)}return Rx=e,Rx}var Lx,Gk;function xZ(){if(Gk)return Lx;Gk=1;var t=vv();function e(r){return t(this,r).has(r)}return Lx=e,Lx}var Mx,Yk;function bZ(){if(Yk)return Mx;Yk=1;var t=vv();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Mx=e,Mx}var Dx,Kk;function pj(){if(Kk)return Dx;Kk=1;var t=mZ(),e=vZ(),r=yZ(),n=xZ(),a=bZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Dx=i,Dx}var $x,Xk;function sL(){if(Xk)return $x;Xk=1;var t=pj(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,s);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,$x=r,$x}var Fx,Zk;function wZ(){if(Zk)return Fx;Zk=1;var t=sL(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Fx=r,Fx}var Bx,Jk;function _Z(){if(Jk)return Bx;Jk=1;var t=wZ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,l,c,u){i.push(c?u.replace(r,"$1"):l||s)}),i});return Bx=n,Bx}var qx,Qk;function mj(){if(Qk)return qx;Qk=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return qx=t,qx}var Ux,eP;function jZ(){if(eP)return Ux;eP=1;var t=Oh(),e=mj(),r=ha(),n=pd(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Ux=s,Ux}var zx,tP;function oL(){if(tP)return zx;tP=1;var t=jZ();function e(r){return r==null?"":t(r)}return zx=e,zx}var Wx,rP;function lL(){if(rP)return Wx;rP=1;var t=ha(),e=uj(),r=_Z(),n=oL();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return Wx=a,Wx}var Hx,nP;function yv(){if(nP)return Hx;nP=1;var t=pd();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Hx=e,Hx}var Vx,aP;function gj(){if(aP)return Vx;aP=1;var t=lL(),e=yv();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return Vx=r,Vx}var Gx,iP;function cL(){if(iP)return Gx;iP=1;var t=gj();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return Gx=e,Gx}var NZ=cL();const Ta=dr(NZ);var Yx,sP;function SZ(){if(sP)return Yx;sP=1;function t(e){return e==null}return Yx=t,Yx}var AZ=SZ();const Tt=dr(AZ);var Kx,oP;function kZ(){if(oP)return Kx;oP=1;var t=ao(),e=ha(),r=io(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Kx=a,Kx}var PZ=kZ();const ec=dr(PZ);var CZ=dj();const Nt=dr(CZ);var OZ=Zo();const md=dr(OZ);var Xx={exports:{}},ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function EZ(){if(lP)return ir;lP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var x=v.$$typeof;switch(x){case t:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case s:case c:case p:case f:case i:return v;default:return x}}case e:return x}}}return ir.ContextConsumer=s,ir.ContextProvider=i,ir.Element=t,ir.ForwardRef=c,ir.Fragment=r,ir.Lazy=p,ir.Memo=f,ir.Portal=e,ir.Profiler=a,ir.StrictMode=n,ir.Suspense=u,ir.SuspenseList=d,ir.isAsyncMode=function(){return!1},ir.isConcurrentMode=function(){return!1},ir.isContextConsumer=function(v){return m(v)===s},ir.isContextProvider=function(v){return m(v)===i},ir.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},ir.isForwardRef=function(v){return m(v)===c},ir.isFragment=function(v){return m(v)===r},ir.isLazy=function(v){return m(v)===p},ir.isMemo=function(v){return m(v)===f},ir.isPortal=function(v){return m(v)===e},ir.isProfiler=function(v){return m(v)===a},ir.isStrictMode=function(v){return m(v)===n},ir.isSuspense=function(v){return m(v)===u},ir.isSuspenseList=function(v){return m(v)===d},ir.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===i||v.$$typeof===s||v.$$typeof===c||v.$$typeof===g||v.getModuleId!==void 0)},ir.typeOf=m,ir}var cP;function TZ(){return cP||(cP=1,Xx.exports=EZ()),Xx.exports}var IZ=TZ(),Zx,uP;function uL(){if(uP)return Zx;uP=1;var t=ao(),e=io(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Zx=n,Zx}var Jx,dP;function RZ(){if(dP)return Jx;dP=1;var t=uL();function e(r){return t(r)&&r!=+r}return Jx=e,Jx}var LZ=RZ();const Eh=dr(LZ);var MZ=uL();const DZ=dr(MZ);var Qn=function(e){return e===0?0:e>0?1:-1},Dl=function(e){return ec(e)&&e.indexOf("%")===e.length-1},Me=function(e){return DZ(e)&&!Eh(e)},$Z=function(e){return Tt(e)},wn=function(e){return Me(e)||ec(e)},FZ=0,gd=function(e){var r=++FZ;return"".concat(e||"").concat(r)},ea=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(e)&&!ec(e))return n;var i;if(Dl(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Eh(i)&&(i=n),a&&i>r&&(i=r),i},Ro=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},BZ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ka=function(e,r){return Me(e)&&Me(r)?function(n){return e+n*(r-e)}:function(){return r}};function Rm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ta(n,e))===r})}var qZ=function(e,r){return Me(e)&&Me(r)?e-r:ec(e)&&ec(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Su(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function z2(t){"@babel/helpers - typeof";return z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z2(t)}var UZ=["viewBox","children"],zZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fP=["points","pathLength"],Qx={svg:UZ,polygon:fP,polyline:fP},vj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!md(n))return null;var a={};return Object.keys(n).forEach(function(i){vj.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},WZ=function(e,r,n){return function(a){return e(r,n,a),null}},tc=function(e,r,n){if(!md(e)||z2(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];vj.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=WZ(s,r,n))}),a},HZ=["children"],VZ=["children"];function hP(t,e){if(t==null)return{};var r=GZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W2(t){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W2(t)}var pP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ys=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},mP=null,eb=null,yj=function t(e){if(e===mP&&Array.isArray(eb))return eb;var r=[];return S.Children.forEach(e,function(n){Tt(n)||(IZ.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),eb=r,mP=e,r};function Ia(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Ys(a)}):n=[Ys(e)],yj(t).forEach(function(a){var i=Ta(a,"type.displayName")||Ta(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Sa(t,e){var r=Ia(t,e);return r&&r[0]}var gP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Me(n)||n<=0||!Me(a)||a<=0)},YZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],KZ=function(e){return e&&e.type&&ec(e.type)&&YZ.indexOf(e.type)>=0},XZ=function(e){return e&&W2(e)==="object"&&"clipDot"in e},ZZ=function(e,r,n,a){var i,s=(i=Qx==null?void 0:Qx[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Nt(e)&&(a&&s.includes(r)||zZ.includes(r))||n&&vj.includes(r)},pt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(S.isValidElement(e)&&(a=e.props),!md(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;ZZ((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},H2=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return vP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!vP(i,s))return!1}return!0},vP=function(e,r){if(Tt(e)&&Tt(r))return!0;if(!Tt(e)&&!Tt(r)){var n=e.props||{},a=n.children,i=hP(n,HZ),s=r.props||{},l=s.children,c=hP(s,VZ);return a&&l?Su(i,c)&&H2(a,l):!a&&!l?Su(i,c):!1}return!1},yP=function(e,r){var n=[],a={};return yj(e).forEach(function(i,s){if(KZ(i))n.push(i);else if(i){var l=Ys(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},JZ=function(e){var r=e&&e.type;return r&&pP[r]?pP[r]:null},QZ=function(e,r){return yj(r).indexOf(e)},eJ=["children","width","height","viewBox","className","style","title","desc"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V2.apply(this,arguments)}function tJ(t,e){if(t==null)return{};var r=rJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G2(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,l=t.title,c=t.desc,u=tJ(t,eJ),d=a||{width:r,height:n,x:0,y:0},f=Rt("recharts-surface",i);return K.createElement("svg",V2({},pt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var nJ=["children","className"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y2.apply(this,arguments)}function aJ(t,e){if(t==null)return{};var r=iJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qt=K.forwardRef(function(t,e){var r=t.children,n=t.className,a=aJ(t,nJ),i=Rt("recharts-layer",n);return K.createElement("g",Y2({className:i},pt(a,!0),{ref:e}),r)}),ji=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},tb,xP;function sJ(){if(xP)return tb;xP=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return tb=t,tb}var rb,bP;function oJ(){if(bP)return rb;bP=1;var t=sJ();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return rb=e,rb}var nb,wP;function dL(){if(wP)return nb;wP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+a+i+"]");function c(u){return l.test(u)}return nb=c,nb}var ab,_P;function lJ(){if(_P)return ab;_P=1;function t(e){return e.split("")}return ab=t,ab}var ib,jP;function cJ(){if(jP)return ib;jP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",m="["+i+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+g+")*",x=m+g+v,j="(?:"+[d+l+"?",l,f,p,s].join("|")+")",w=RegExp(c+"(?="+c+")|"+j+x,"g");function _(N){return N.match(w)||[]}return ib=_,ib}var sb,NP;function uJ(){if(NP)return sb;NP=1;var t=lJ(),e=dL(),r=cJ();function n(a){return e(a)?r(a):t(a)}return sb=n,sb}var ob,SP;function dJ(){if(SP)return ob;SP=1;var t=oJ(),e=dL(),r=uJ(),n=oL();function a(i){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),u=l?t(l,1).join(""):s.slice(1);return c[i]()+u}}return ob=a,ob}var lb,AP;function fJ(){if(AP)return lb;AP=1;var t=dJ(),e=t("toUpperCase");return lb=e,lb}var hJ=fJ();const xv=dr(hJ);function Nr(t){return function(){return t}}const fL=Math.cos,Mm=Math.sin,Mi=Math.sqrt,Dm=Math.PI,bv=2*Dm,K2=Math.PI,X2=2*K2,Cl=1e-6,pJ=X2-Cl;function hL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function mJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hL;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class gJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hL:mJ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-e,u=a-r,d=s-e,f=l-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Cl)if(!(Math.abs(f*c-u*d)>Cl)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,g=a-l,m=c*c+u*u,v=h*h+g*g,x=Math.sqrt(m),j=Math.sqrt(p),w=i*Math.tan((K2-Math.acos((m+p-v)/(2*x*j)))/2),_=w/j,N=w/x;Math.abs(_-1)>Cl&&this._append`L${e+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cl||Math.abs(this._y1-d)>Cl)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%X2+X2),p>pJ?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Cl&&this._append`A${n},${n},0,${+(p>=K2)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function xj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new gJ(e)}function bj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pL(t){this._context=t}pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wv(t){return new pL(t)}function mL(t){return t[0]}function gL(t){return t[1]}function vL(t,e){var r=Nr(!0),n=null,a=wv,i=null,s=xj(l);t=typeof t=="function"?t:t===void 0?mL:Nr(t),e=typeof e=="function"?e:e===void 0?gL:Nr(e);function l(c){var u,d=(c=bj(c)).length,f,p=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Gp(t,e,r){var n=null,a=Nr(!0),i=null,s=wv,l=null,c=xj(u);t=typeof t=="function"?t:t===void 0?mL:Nr(+t),e=typeof e=="function"?e:Nr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?gL:Nr(+r);function u(f){var p,h,g,m=(f=bj(f)).length,v,x=!1,j,w=new Array(m),_=new Array(m);for(i==null&&(l=s(j=c())),p=0;p<=m;++p){if(!(p<m&&a(v=f[p],p,f))===x)if(x=!x)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}x&&(w[p]=+t(v,p,f),_[p]=+e(v,p,f),l.point(n?+n(v,p,f):w[p],r?+r(v,p,f):_[p]))}if(j)return l=null,j+""||null}function d(){return vL().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nr(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nr(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class yL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function vJ(t){return new yL(t,!0)}function yJ(t){return new yL(t,!1)}const wj={draw(t,e){const r=Mi(e/Dm);t.moveTo(r,0),t.arc(0,0,r,0,bv)}},xJ={draw(t,e){const r=Mi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xL=Mi(1/3),bJ=xL*2,wJ={draw(t,e){const r=Mi(e/bJ),n=r*xL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},_J={draw(t,e){const r=Mi(e),n=-r/2;t.rect(n,n,r,r)}},jJ=.8908130915292852,bL=Mm(Dm/10)/Mm(7*Dm/10),NJ=Mm(bv/10)*bL,SJ=-fL(bv/10)*bL,AJ={draw(t,e){const r=Mi(e*jJ),n=NJ*r,a=SJ*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=bv*i/5,l=fL(s),c=Mm(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},cb=Mi(3),kJ={draw(t,e){const r=-Mi(e/(cb*3));t.moveTo(0,r*2),t.lineTo(-cb*r,-r),t.lineTo(cb*r,-r),t.closePath()}},qa=-.5,Ua=Mi(3)/2,Z2=1/Mi(12),PJ=(Z2/2+1)*3,CJ={draw(t,e){const r=Mi(e/PJ),n=r/2,a=r*Z2,i=n,s=r*Z2+r,l=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(l,c),t.lineTo(qa*n-Ua*a,Ua*n+qa*a),t.lineTo(qa*i-Ua*s,Ua*i+qa*s),t.lineTo(qa*l-Ua*c,Ua*l+qa*c),t.lineTo(qa*n+Ua*a,qa*a-Ua*n),t.lineTo(qa*i+Ua*s,qa*s-Ua*i),t.lineTo(qa*l+Ua*c,qa*c-Ua*l),t.closePath()}};function OJ(t,e){let r=null,n=xj(a);t=typeof t=="function"?t:Nr(t||wj),e=typeof e=="function"?e:Nr(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Nr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Nr(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function $m(){}function Fm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wL(t){this._context=t}wL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EJ(t){return new wL(t)}function _L(t){this._context=t}_L.prototype={areaStart:$m,areaEnd:$m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TJ(t){return new _L(t)}function jL(t){this._context=t}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IJ(t){return new jL(t)}function NL(t){this._context=t}NL.prototype={areaStart:$m,areaEnd:$m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function RJ(t){return new NL(t)}function kP(t){return t<0?-1:1}function PP(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(kP(i)+kP(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function CP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ub(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,s-l*r,i,s)}function Bm(t){this._context=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ub(this,this._t0,CP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ub(this,CP(this,r=PP(this,t,e)),r);break;default:ub(this,this._t0,r=PP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function SL(t){this._context=new AL(t)}(SL.prototype=Object.create(Bm.prototype)).point=function(t,e){Bm.prototype.point.call(this,e,t)};function AL(t){this._context=t}AL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function LJ(t){return new Bm(t)}function MJ(t){return new SL(t)}function kL(t){this._context=t}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=OP(t),a=OP(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OP(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function DJ(t){return new kL(t)}function _v(t,e){this._context=t,this._t=e}_v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function $J(t){return new _v(t,.5)}function FJ(t){return new _v(t,0)}function BJ(t){return new _v(t,1)}function Ru(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,l=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function J2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function qJ(t,e){return t[e]}function UJ(t){const e=[];return e.key=t,e}function zJ(){var t=Nr([]),e=J2,r=Ru,n=qJ;function a(i){var s=Array.from(t.apply(this,arguments),UJ),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=bj(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Nr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Nr(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?J2:typeof i=="function"?i:Nr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Ru,a):r},a}function WJ(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Ru(t,e)}}function HJ(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ru(t,e)}}function VJ(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<l;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;h+=v-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ru(t,e)}}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var GJ=["type","size","sizeType"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){YJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YJ(t,e,r){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KJ(t){var e=XJ(t,"string");return Bf(e)=="symbol"?e:e+""}function XJ(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZJ(t,e){if(t==null)return{};var r=JJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PL={symbolCircle:wj,symbolCross:xJ,symbolDiamond:wJ,symbolSquare:_J,symbolStar:AJ,symbolTriangle:kJ,symbolWye:CJ},QJ=Math.PI/180,eQ=function(e){var r="symbol".concat(xv(e));return PL[r]||wj},tQ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*QJ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rQ=function(e,r){PL["symbol".concat(xv(e))]=r},_j=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,l=s===void 0?"area":s,c=ZJ(e,GJ),u=TP(TP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=eQ(n),x=OJ().type(v).size(tQ(i,l,n));return x()},f=u.className,p=u.cx,h=u.cy,g=pt(u,!0);return p===+p&&h===+h&&i===+i?K.createElement("path",Q2({},g,{className:Rt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};_j.registerSymbol=rQ;function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function e5(){return e5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e5.apply(this,arguments)}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){qf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OL(n.key),n)}}function sQ(t,e,r){return e&&iQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oQ(t,e,r){return e=qm(e),lQ(t,CL()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function lQ(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(t)}function cQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function uQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t5(t,e)}function qf(t,e,r){return e=OL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OL(t){var e=dQ(t,"string");return Lu(e)=="symbol"?e:e+""}function dQ(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var za=32,jj=(function(t){function e(){return aQ(this,e),oQ(this,e,arguments)}return uQ(e,t),sQ(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=za/2,s=za/6,l=za/3,c=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:za,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(za,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(za/8,"h").concat(za,"v").concat(za*3/4,"h").concat(-za,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=nQ({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(_j,{fill:c,cx:i,cy:i,size:za,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:za,height:za},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var m=h.formatter||c,v=Rt(qf(qf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=Nt(h.value)?null:h.value;ji(!Nt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=h.inactive?u:h.color;return K.createElement("li",e5({className:v,style:f,key:"legend-item-".concat(g)},tc(n.props,h,g)),K.createElement(G2,{width:s,height:s,viewBox:d,style:p},n.renderIcon(h)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},m?m(x,h,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);qf(jj,"displayName","Legend");qf(jj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var db,RP;function fQ(){if(RP)return db;RP=1;var t=gv();function e(){this.__data__=new t,this.size=0}return db=e,db}var fb,LP;function hQ(){if(LP)return fb;LP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return fb=t,fb}var hb,MP;function pQ(){if(MP)return hb;MP=1;function t(e){return this.__data__.get(e)}return hb=t,hb}var pb,DP;function mQ(){if(DP)return pb;DP=1;function t(e){return this.__data__.has(e)}return pb=t,pb}var mb,$P;function gQ(){if($P)return mb;$P=1;var t=gv(),e=hj(),r=pj(),n=200;function a(i,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,s),this.size=l.size,this}return mb=a,mb}var gb,FP;function EL(){if(FP)return gb;FP=1;var t=gv(),e=fQ(),r=hQ(),n=pQ(),a=mQ(),i=gQ();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,gb=s,gb}var vb,BP;function vQ(){if(BP)return vb;BP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return vb=e,vb}var yb,qP;function yQ(){if(qP)return yb;qP=1;function t(e){return this.__data__.has(e)}return yb=t,yb}var xb,UP;function TL(){if(UP)return xb;UP=1;var t=pj(),e=vQ(),r=yQ();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,xb=n,xb}var bb,zP;function IL(){if(zP)return bb;zP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return bb=t,bb}var wb,WP;function RL(){if(WP)return wb;WP=1;function t(e,r){return e.has(r)}return wb=t,wb}var _b,HP;function LL(){if(HP)return _b;HP=1;var t=TL(),e=IL(),r=RL(),n=1,a=2;function i(s,l,c,u,d,f){var p=c&n,h=s.length,g=l.length;if(h!=g&&!(p&&g>h))return!1;var m=f.get(s),v=f.get(l);if(m&&v)return m==l&&v==s;var x=-1,j=!0,w=c&a?new t:void 0;for(f.set(s,l),f.set(l,s);++x<h;){var _=s[x],N=l[x];if(u)var A=p?u(N,_,x,l,s,f):u(_,N,x,s,l,f);if(A!==void 0){if(A)continue;j=!1;break}if(w){if(!e(l,function(k,E){if(!r(w,E)&&(_===k||d(_,k,c,u,f)))return w.push(E)})){j=!1;break}}else if(!(_===N||d(_,N,c,u,f))){j=!1;break}}return f.delete(s),f.delete(l),j}return _b=i,_b}var jb,VP;function xQ(){if(VP)return jb;VP=1;var t=gs(),e=t.Uint8Array;return jb=e,jb}var Nb,GP;function bQ(){if(GP)return Nb;GP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Nb=t,Nb}var Sb,YP;function Nj(){if(YP)return Sb;YP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Sb=t,Sb}var Ab,KP;function wQ(){if(KP)return Ab;KP=1;var t=Oh(),e=xQ(),r=fj(),n=LL(),a=bQ(),i=Nj(),s=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",x="[object ArrayBuffer]",j="[object DataView]",w=t?t.prototype:void 0,_=w?w.valueOf:void 0;function N(A,k,E,I,L,C,O){switch(E){case j:if(A.byteLength!=k.byteLength||A.byteOffset!=k.byteOffset)return!1;A=A.buffer,k=k.buffer;case x:return!(A.byteLength!=k.byteLength||!C(new e(A),new e(k)));case c:case u:case p:return r(+A,+k);case d:return A.name==k.name&&A.message==k.message;case h:case m:return A==k+"";case f:var R=a;case g:var M=I&s;if(R||(R=i),A.size!=k.size&&!M)return!1;var W=O.get(A);if(W)return W==k;I|=l,O.set(A,k);var H=n(R(A),R(k),I,L,C,O);return O.delete(A),H;case v:if(_)return _.call(A)==_.call(k)}return!1}return Ab=N,Ab}var kb,XP;function ML(){if(XP)return kb;XP=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return kb=t,kb}var Pb,ZP;function _Q(){if(ZP)return Pb;ZP=1;var t=ML(),e=ha();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return Pb=r,Pb}var Cb,JP;function jQ(){if(JP)return Cb;JP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var l=e[n];r(l,n,e)&&(s[i++]=l)}return s}return Cb=t,Cb}var Ob,QP;function NQ(){if(QP)return Ob;QP=1;function t(){return[]}return Ob=t,Ob}var Eb,e3;function SQ(){if(e3)return Eb;e3=1;var t=jQ(),e=NQ(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(l){return n.call(s,l)}))}:e;return Eb=i,Eb}var Tb,t3;function AQ(){if(t3)return Tb;t3=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Tb=t,Tb}var Ib,r3;function kQ(){if(r3)return Ib;r3=1;var t=ao(),e=io(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Ib=n,Ib}var Rb,n3;function Sj(){if(n3)return Rb;n3=1;var t=kQ(),e=io(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Rb=i,Rb}var yf={exports:{}},Lb,a3;function PQ(){if(a3)return Lb;a3=1;function t(){return!1}return Lb=t,Lb}yf.exports;var i3;function DL(){return i3||(i3=1,(function(t,e){var r=gs(),n=PQ(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(yf,yf.exports)),yf.exports}var Mb,s3;function Aj(){if(s3)return Mb;s3=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Mb=r,Mb}var Db,o3;function kj(){if(o3)return Db;o3=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Db=e,Db}var $b,l3;function CQ(){if(l3)return $b;l3=1;var t=ao(),e=kj(),r=io(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",j="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",C={};C[j]=C[w]=C[_]=C[N]=C[A]=C[k]=C[E]=C[I]=C[L]=!0,C[n]=C[a]=C[v]=C[i]=C[x]=C[s]=C[l]=C[c]=C[u]=C[d]=C[f]=C[p]=C[h]=C[g]=C[m]=!1;function O(R){return r(R)&&e(R.length)&&!!C[t(R)]}return $b=O,$b}var Fb,c3;function $L(){if(c3)return Fb;c3=1;function t(e){return function(r){return e(r)}}return Fb=t,Fb}var xf={exports:{}};xf.exports;var u3;function OQ(){return u3||(u3=1,(function(t,e){var r=aL(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(xf,xf.exports)),xf.exports}var Bb,d3;function FL(){if(d3)return Bb;d3=1;var t=CQ(),e=$L(),r=OQ(),n=r&&r.isTypedArray,a=n?e(n):t;return Bb=a,Bb}var qb,f3;function EQ(){if(f3)return qb;f3=1;var t=AQ(),e=Sj(),r=ha(),n=DL(),a=Aj(),i=FL(),s=Object.prototype,l=s.hasOwnProperty;function c(u,d){var f=r(u),p=!f&&e(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&i(u),m=f||p||h||g,v=m?t(u.length,String):[],x=v.length;for(var j in u)(d||l.call(u,j))&&!(m&&(j=="length"||h&&(j=="offset"||j=="parent")||g&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,x)))&&v.push(j);return v}return qb=c,qb}var Ub,h3;function TQ(){if(h3)return Ub;h3=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Ub=e,Ub}var zb,p3;function BL(){if(p3)return zb;p3=1;function t(e,r){return function(n){return e(r(n))}}return zb=t,zb}var Wb,m3;function IQ(){if(m3)return Wb;m3=1;var t=BL(),e=t(Object.keys,Object);return Wb=e,Wb}var Hb,g3;function RQ(){if(g3)return Hb;g3=1;var t=TQ(),e=IQ(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&s.push(l);return s}return Hb=a,Hb}var Vb,v3;function Th(){if(v3)return Vb;v3=1;var t=dj(),e=kj();function r(n){return n!=null&&e(n.length)&&!t(n)}return Vb=r,Vb}var Gb,y3;function jv(){if(y3)return Gb;y3=1;var t=EQ(),e=RQ(),r=Th();function n(a){return r(a)?t(a):e(a)}return Gb=n,Gb}var Yb,x3;function LQ(){if(x3)return Yb;x3=1;var t=_Q(),e=SQ(),r=jv();function n(a){return t(a,r,e)}return Yb=n,Yb}var Kb,b3;function MQ(){if(b3)return Kb;b3=1;var t=LQ(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,l,c,u,d){var f=l&e,p=t(i),h=p.length,g=t(s),m=g.length;if(h!=m&&!f)return!1;for(var v=h;v--;){var x=p[v];if(!(f?x in s:n.call(s,x)))return!1}var j=d.get(i),w=d.get(s);if(j&&w)return j==s&&w==i;var _=!0;d.set(i,s),d.set(s,i);for(var N=f;++v<h;){x=p[v];var A=i[x],k=s[x];if(c)var E=f?c(k,A,x,s,i,d):c(A,k,x,i,s,d);if(!(E===void 0?A===k||u(A,k,l,c,d):E)){_=!1;break}N||(N=x=="constructor")}if(_&&!N){var I=i.constructor,L=s.constructor;I!=L&&"constructor"in i&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(_=!1)}return d.delete(i),d.delete(s),_}return Kb=a,Kb}var Xb,w3;function DQ(){if(w3)return Xb;w3=1;var t=mc(),e=gs(),r=t(e,"DataView");return Xb=r,Xb}var Zb,_3;function $Q(){if(_3)return Zb;_3=1;var t=mc(),e=gs(),r=t(e,"Promise");return Zb=r,Zb}var Jb,j3;function qL(){if(j3)return Jb;j3=1;var t=mc(),e=gs(),r=t(e,"Set");return Jb=r,Jb}var Qb,N3;function FQ(){if(N3)return Qb;N3=1;var t=mc(),e=gs(),r=t(e,"WeakMap");return Qb=r,Qb}var e1,S3;function BQ(){if(S3)return e1;S3=1;var t=DQ(),e=hj(),r=$Q(),n=qL(),a=FQ(),i=ao(),s=iL(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=s(t),g=s(e),m=s(r),v=s(n),x=s(a),j=i;return(t&&j(new t(new ArrayBuffer(1)))!=p||e&&j(new e)!=l||r&&j(r.resolve())!=u||n&&j(new n)!=d||a&&j(new a)!=f)&&(j=function(w){var _=i(w),N=_==c?w.constructor:void 0,A=N?s(N):"";if(A)switch(A){case h:return p;case g:return l;case m:return u;case v:return d;case x:return f}return _}),e1=j,e1}var t1,A3;function qQ(){if(A3)return t1;A3=1;var t=EL(),e=LL(),r=wQ(),n=MQ(),a=BQ(),i=ha(),s=DL(),l=FL(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(m,v,x,j,w,_){var N=i(m),A=i(v),k=N?d:a(m),E=A?d:a(v);k=k==u?f:k,E=E==u?f:E;var I=k==f,L=E==f,C=k==E;if(C&&s(m)){if(!s(v))return!1;N=!0,I=!1}if(C&&!I)return _||(_=new t),N||l(m)?e(m,v,x,j,w,_):r(m,v,k,x,j,w,_);if(!(x&c)){var O=I&&h.call(m,"__wrapped__"),R=L&&h.call(v,"__wrapped__");if(O||R){var M=O?m.value():m,W=R?v.value():v;return _||(_=new t),w(M,W,x,j,_)}}return C?(_||(_=new t),n(m,v,x,j,w,_)):!1}return t1=g,t1}var r1,k3;function Pj(){if(k3)return r1;k3=1;var t=qQ(),e=io();function r(n,a,i,s,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,l)}return r1=r,r1}var n1,P3;function UQ(){if(P3)return n1;P3=1;var t=EL(),e=Pj(),r=1,n=2;function a(i,s,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var p=l[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<d;){p=l[u];var h=p[0],g=i[h],m=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var v=new t;if(c)var x=c(g,m,h,i,s,v);if(!(x===void 0?e(m,g,r|n,c,v):x))return!1}}return!0}return n1=a,n1}var a1,C3;function UL(){if(C3)return a1;C3=1;var t=Zo();function e(r){return r===r&&!t(r)}return a1=e,a1}var i1,O3;function zQ(){if(O3)return i1;O3=1;var t=UL(),e=jv();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],l=n[s];a[i]=[s,l,t(l)]}return a}return i1=r,i1}var s1,E3;function zL(){if(E3)return s1;E3=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return s1=t,s1}var o1,T3;function WQ(){if(T3)return o1;T3=1;var t=UQ(),e=zQ(),r=zL();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return o1=n,o1}var l1,I3;function HQ(){if(I3)return l1;I3=1;function t(e,r){return e!=null&&r in Object(e)}return l1=t,l1}var c1,R3;function VQ(){if(R3)return c1;R3=1;var t=lL(),e=Sj(),r=ha(),n=Aj(),a=kj(),i=yv();function s(l,c,u){c=t(c,l);for(var d=-1,f=c.length,p=!1;++d<f;){var h=i(c[d]);if(!(p=l!=null&&u(l,h)))break;l=l[h]}return p||++d!=f?p:(f=l==null?0:l.length,!!f&&a(f)&&n(h,f)&&(r(l)||e(l)))}return c1=s,c1}var u1,L3;function GQ(){if(L3)return u1;L3=1;var t=HQ(),e=VQ();function r(n,a){return n!=null&&e(n,a,t)}return u1=r,u1}var d1,M3;function YQ(){if(M3)return d1;M3=1;var t=Pj(),e=cL(),r=GQ(),n=uj(),a=UL(),i=zL(),s=yv(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(s(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,l|c)}}return d1=u,d1}var f1,D3;function vd(){if(D3)return f1;D3=1;function t(e){return e}return f1=t,f1}var h1,$3;function KQ(){if($3)return h1;$3=1;function t(e){return function(r){return r==null?void 0:r[e]}}return h1=t,h1}var p1,F3;function XQ(){if(F3)return p1;F3=1;var t=gj();function e(r){return function(n){return t(n,r)}}return p1=e,p1}var m1,B3;function ZQ(){if(B3)return m1;B3=1;var t=KQ(),e=XQ(),r=uj(),n=yv();function a(i){return r(i)?t(n(i)):e(i)}return m1=a,m1}var g1,q3;function vs(){if(q3)return g1;q3=1;var t=WQ(),e=YQ(),r=vd(),n=ha(),a=ZQ();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return g1=i,g1}var v1,U3;function WL(){if(U3)return v1;U3=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return v1=t,v1}var y1,z3;function JQ(){if(z3)return y1;z3=1;function t(e){return e!==e}return y1=t,y1}var x1,W3;function QQ(){if(W3)return x1;W3=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return x1=t,x1}var b1,H3;function eee(){if(H3)return b1;H3=1;var t=WL(),e=JQ(),r=QQ();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return b1=n,b1}var w1,V3;function tee(){if(V3)return w1;V3=1;var t=eee();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return w1=e,w1}var _1,G3;function ree(){if(G3)return _1;G3=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return _1=t,_1}var j1,Y3;function nee(){if(Y3)return j1;Y3=1;function t(){}return j1=t,j1}var N1,K3;function aee(){if(K3)return N1;K3=1;var t=qL(),e=nee(),r=Nj(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return N1=a,N1}var S1,X3;function iee(){if(X3)return S1;X3=1;var t=TL(),e=tee(),r=ree(),n=RL(),a=aee(),i=Nj(),s=200;function l(c,u,d){var f=-1,p=e,h=c.length,g=!0,m=[],v=m;if(d)g=!1,p=r;else if(h>=s){var x=u?null:a(c);if(x)return i(x);g=!1,p=n,v=new t}else v=u?[]:m;e:for(;++f<h;){var j=c[f],w=u?u(j):j;if(j=d||j!==0?j:0,g&&w===w){for(var _=v.length;_--;)if(v[_]===w)continue e;u&&v.push(w),m.push(j)}else p(v,w,d)||(v!==m&&v.push(w),m.push(j))}return m}return S1=l,S1}var A1,Z3;function see(){if(Z3)return A1;Z3=1;var t=vs(),e=iee();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return A1=r,A1}var oee=see();const J3=dr(oee);function HL(t,e,r){return e===!0?J3(t,r):Nt(e)?J3(t,e):t}function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}var lee=["ref"];function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(n){Nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function uee(t,e,r){return e&&eC(t.prototype,e),r&&eC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dee(t,e,r){return e=Um(e),fee(t,VL()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function fee(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hee(t)}function hee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function pee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r5(t,e)}function Nv(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=mee(t,"string");return Mu(e)=="symbol"?e:e+""}function mee(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gee(t,e){if(t==null)return{};var r=vee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yee(t){return t.value}function xee(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=gee(e,lee);return K.createElement(jj,r)}var tC=1,Hl=(function(t){function e(){var r;cee(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=dee(this,e,[].concat(a)),Nv(r,"lastBoundingBox",{width:-1,height:-1}),r}return pee(e,t),uee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>tC||Math.abs(a.height-this.lastBoundingBox.height)>tC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ls({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ls(Ls({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ls(Ls({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},xee(i,Ls(Ls({},this.props),{},{payload:HL(d,u,yee)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ls(Ls({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Me(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(S.PureComponent);Nv(Hl,"displayName","Legend");Nv(Hl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var k1,rC;function bee(){if(rC)return k1;rC=1;var t=Oh(),e=Sj(),r=ha(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return k1=a,k1}var P1,nC;function YL(){if(nC)return P1;nC=1;var t=ML(),e=bee();function r(n,a,i,s,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,s,l):t(l,d):s||(l[l.length]=d)}return l}return P1=r,P1}var C1,aC;function wee(){if(aC)return C1;aC=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(s[u],u,s)===!1)break}return r}}return C1=t,C1}var O1,iC;function _ee(){if(iC)return O1;iC=1;var t=wee(),e=t();return O1=e,O1}var E1,sC;function KL(){if(sC)return E1;sC=1;var t=_ee(),e=jv();function r(n,a){return n&&t(n,a,e)}return E1=r,E1}var T1,oC;function jee(){if(oC)return T1;oC=1;var t=Th();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,l=n?s:-1,c=Object(a);(n?l--:++l<s)&&i(c[l],l,c)!==!1;);return a}}return T1=e,T1}var I1,lC;function Cj(){if(lC)return I1;lC=1;var t=KL(),e=jee(),r=e(t);return I1=r,I1}var R1,cC;function XL(){if(cC)return R1;cC=1;var t=Cj(),e=Th();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,u){s[++i]=a(l,c,u)}),s}return R1=r,R1}var L1,uC;function Nee(){if(uC)return L1;uC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return L1=t,L1}var M1,dC;function See(){if(dC)return M1;dC=1;var t=pd();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!s)return 1;if(!i&&!l&&!f&&r<n||f&&a&&s&&!i&&!l||u&&a&&s||!c&&s||!d)return-1}return 0}return M1=e,M1}var D1,fC;function Aee(){if(fC)return D1;fC=1;var t=See();function e(r,n,a){for(var i=-1,s=r.criteria,l=n.criteria,c=s.length,u=a.length;++i<c;){var d=t(s[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return D1=e,D1}var $1,hC;function kee(){if(hC)return $1;hC=1;var t=mj(),e=gj(),r=vs(),n=XL(),a=Nee(),i=$L(),s=Aee(),l=vd(),c=ha();function u(d,f,p){f.length?f=t(f,function(m){return c(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[l];var h=-1;f=t(f,i(r));var g=n(d,function(m,v,x){var j=t(f,function(w){return w(m)});return{criteria:j,index:++h,value:m}});return a(g,function(m,v){return s(m,v,p)})}return $1=u,$1}var F1,pC;function Pee(){if(pC)return F1;pC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return F1=t,F1}var B1,mC;function Cee(){if(mC)return B1;mC=1;var t=Pee(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,l=-1,c=e(s.length-a,0),u=Array(c);++l<c;)u[l]=s[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=s[l];return d[a]=i(u),t(n,this,d)}}return B1=r,B1}var q1,gC;function Oee(){if(gC)return q1;gC=1;function t(e){return function(){return e}}return q1=t,q1}var U1,vC;function ZL(){if(vC)return U1;vC=1;var t=mc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return U1=e,U1}var z1,yC;function Eee(){if(yC)return z1;yC=1;var t=Oee(),e=ZL(),r=vd(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return z1=n,z1}var W1,xC;function Tee(){if(xC)return W1;xC=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return W1=n,W1}var H1,bC;function Iee(){if(bC)return H1;bC=1;var t=Eee(),e=Tee(),r=e(t);return H1=r,H1}var V1,wC;function Ree(){if(wC)return V1;wC=1;var t=vd(),e=Cee(),r=Iee();function n(a,i){return r(e(a,i,t),a+"")}return V1=n,V1}var G1,_C;function Sv(){if(_C)return G1;_C=1;var t=fj(),e=Th(),r=Aj(),n=Zo();function a(i,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],i):!1}return G1=a,G1}var Y1,jC;function Lee(){if(jC)return Y1;jC=1;var t=YL(),e=kee(),r=Ree(),n=Sv(),a=r(function(i,s){if(i==null)return[];var l=s.length;return l>1&&n(i,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return Y1=a,Y1}var Mee=Lee();const Oj=dr(Mee);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function n5(){return n5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n5.apply(this,arguments)}function Dee(t,e){return qee(t)||Bee(t,e)||Fee(t,e)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(t,e){if(t){if(typeof t=="string")return NC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(t,e)}}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function qee(t){if(Array.isArray(t))return t}function SC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(r),!0).forEach(function(n){Uee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uee(t,e,r){return e=zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zee(t){var e=Wee(t,"string");return Uf(e)=="symbol"?e:e+""}function Wee(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hee(t){return Array.isArray(t)&&wn(t[0])&&wn(t[1])?t.join(" ~ "):t}var Vee=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,j=x===void 0?!1:x,w=function(){if(d&&d.length){var O={padding:0,margin:0},R=(p?Oj(d,p):d).map(function(M,W){if(M.type==="none")return null;var H=K1({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),G=M.formatter||f||Hee,F=M.value,ae=M.name,Q=F,oe=ae;if(G&&Q!=null&&oe!=null){var $=G(F,ae,M,W,d);if(Array.isArray($)){var U=Dee($,2);Q=U[0],oe=U[1]}else Q=$}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:H},wn(oe)?K.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,wn(oe)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},Q),K.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},_=K1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=K1({margin:0},u),A=!Tt(m),k=A?m:"",E=Rt("recharts-default-tooltip",h),I=Rt("recharts-tooltip-label",g);A&&v&&d!==void 0&&d!==null&&(k=v(m,d));var L=j?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",n5({className:E,style:_},L),K.createElement("p",{className:I,style:N},K.isValidElement(k)?k:"".concat(k)),w())};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Yp(t,e,r){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=Yee(t,"string");return zf(e)=="symbol"?e:e+""}function Yee(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var af="recharts-tooltip-wrapper",Kee={visibility:"hidden"};function Xee(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Rt(af,Yp(Yp(Yp(Yp({},"".concat(af,"-right"),Me(r)&&e&&Me(e.x)&&r>=e.x),"".concat(af,"-left"),Me(r)&&e&&Me(e.x)&&r<e.x),"".concat(af,"-bottom"),Me(n)&&e&&Me(e.y)&&n>=e.y),"".concat(af,"-top"),Me(n)&&e&&Me(e.y)&&n<e.y))}function AC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Me(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Zee(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Jee(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=AC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=AC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Zee({translateX:d,translateY:f,useTranslate3d:l})):u=Kee,{cssProperties:u,cssClasses:Xee({translateX:d,translateY:f,coordinate:r})}}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function kC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(r),!0).forEach(function(n){i5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ete(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function tte(t,e,r){return e&&ete(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rte(t,e,r){return e=zm(e),nte(t,JL()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function nte(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ate(t)}function ate(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a5(t,e)}function a5(t,e){return a5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a5(t,e)}function i5(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QL(t){var e=ste(t,"string");return Du(e)=="symbol"?e:e+""}function ste(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CC=1,ote=(function(t){function e(){var r;Qee(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rte(this,e,[].concat(a)),i5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),i5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return ite(e,t),tte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>CC||Math.abs(n.height-this.state.lastBoundingBox.height)>CC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,w=Jee({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=w.cssClasses,N=w.cssProperties,A=PC(PC({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return K.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(E){n.wrapperNode=E}},u)}}])})(S.PureComponent),lte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gc={isSsr:lte()};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function OC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(n){Ej(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ute(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tM(n.key),n)}}function dte(t,e,r){return e&&ute(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fte(t,e,r){return e=Wm(e),hte(t,eM()?Reflect.construct(e,r||[],Wm(t).constructor):e.apply(t,r))}function hte(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pte(t)}function pte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}function mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s5(t,e)}function s5(t,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s5(t,e)}function Ej(t,e,r){return e=tM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tM(t){var e=gte(t,"string");return $u(e)=="symbol"?e:e+""}function gte(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vte(t){return t.dataKey}function yte(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(Vee,e)}var Aa=(function(t){function e(){return cte(this,e),fte(this,e,arguments)}return mte(e,t),dte(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,j=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,N=g??[];f&&N.length&&(N=HL(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,vte));var A=N.length>0;return K.createElement(ote,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:v,reverseDirection:x,useTranslate3d:j,viewBox:w,wrapperStyle:_},yte(u,EC(EC({},this.props),{},{payload:N})))}}])})(S.PureComponent);Ej(Aa,"displayName","Tooltip");Ej(Aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var X1,TC;function xte(){if(TC)return X1;TC=1;var t=gs(),e=function(){return t.Date.now()};return X1=e,X1}var Z1,IC;function bte(){if(IC)return Z1;IC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Z1=e,Z1}var J1,RC;function wte(){if(RC)return J1;RC=1;var t=bte(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return J1=r,J1}var Q1,LC;function rM(){if(LC)return Q1;LC=1;var t=wte(),e=Zo(),r=pd(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||s.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return Q1=c,Q1}var ew,MC;function _te(){if(MC)return ew;MC=1;var t=Zo(),e=xte(),r=rM(),n="Expected a function",a=Math.max,i=Math.min;function s(l,c,u){var d,f,p,h,g,m,v=0,x=!1,j=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(x=!!u.leading,j="maxWait"in u,p=j?a(r(u.maxWait)||0,c):p,w="trailing"in u?!!u.trailing:w);function _(R){var M=d,W=f;return d=f=void 0,v=R,h=l.apply(W,M),h}function N(R){return v=R,g=setTimeout(E,c),x?_(R):h}function A(R){var M=R-m,W=R-v,H=c-M;return j?i(H,p-W):H}function k(R){var M=R-m,W=R-v;return m===void 0||M>=c||M<0||j&&W>=p}function E(){var R=e();if(k(R))return I(R);g=setTimeout(E,A(R))}function I(R){return g=void 0,w&&d?_(R):(d=f=void 0,h)}function L(){g!==void 0&&clearTimeout(g),v=0,d=m=f=g=void 0}function C(){return g===void 0?h:I(e())}function O(){var R=e(),M=k(R);if(d=arguments,f=this,m=R,M){if(g===void 0)return N(m);if(j)return clearTimeout(g),g=setTimeout(E,c),_(m)}return g===void 0&&(g=setTimeout(E,c)),h}return O.cancel=L,O.flush=C,O}return ew=s,ew}var tw,DC;function jte(){if(DC)return tw;DC=1;var t=_te(),e=Zo(),r="Expected a function";function n(a,i,s){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return tw=n,tw}var Nte=jte();const nM=dr(Nte);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){Ste(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ste(t,e,r){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ate(t){var e=kte(t,"string");return Wf(e)=="symbol"?e:e+""}function kte(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t,e){return Tte(t)||Ete(t,e)||Ote(t,e)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(t,e){if(t){if(typeof t=="string")return FC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(t,e)}}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Tte(t){if(Array.isArray(t))return t}var Hm=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,j=t.onResize,w=t.style,_=w===void 0?{}:w,N=S.useRef(null),A=S.useRef();A.current=j,S.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=S.useState({containerWidth:a.width,containerHeight:a.height}),E=Pte(k,2),I=E[0],L=E[1],C=S.useCallback(function(R,M){L(function(W){var H=Math.round(R),G=Math.round(M);return W.containerWidth===H&&W.containerHeight===G?W:{containerWidth:H,containerHeight:G}})},[]);S.useEffect(function(){var R=function(ae){var Q,oe=ae[0].contentRect,$=oe.width,U=oe.height;C($,U),(Q=A.current)===null||Q===void 0||Q.call(A,$,U)};m>0&&(R=nM(R,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),W=N.current.getBoundingClientRect(),H=W.width,G=W.height;return C(H,G),M.observe(N.current),function(){M.disconnect()}},[C,m]);var O=S.useMemo(function(){var R=I.containerWidth,M=I.containerHeight;if(R<0||M<0)return null;ji(Dl(s)||Dl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ji(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Dl(s)?R:s,H=Dl(c)?M:c;r&&r>0&&(W?H=W/r:H&&(W=H*r),p&&H>p&&(H=p)),ji(W>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,H,s,c,d,f,r);var G=!Array.isArray(h)&&Ys(h.type).endsWith("Chart");return K.Children.map(h,function(F){return K.isValidElement(F)?S.cloneElement(F,Kp({width:W,height:H},G?{style:Kp({height:"100%",width:"100%",maxHeight:H,maxWidth:W},F.props.style)}:{})):F})},[r,h,c,p,f,d,I,s]);return K.createElement("div",{id:v?"".concat(v):void 0,className:Rt("recharts-responsive-container",x),style:Kp(Kp({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:N},O)}),Ih=function(e){return null};Ih.displayName="Cell";function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function o5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){Ite(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ite(t,e,r){return e=Rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rte(t){var e=Lte(t,"string");return Hf(e)=="symbol"?e:e+""}function Lte(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eu={widthCache:{},cacheCount:0},Mte=2e3,Dte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qC="recharts_measurement_span";function $te(t){var e=o5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var kf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gc.isSsr)return{width:0,height:0};var n=$te(r),a=JSON.stringify({text:e,copyStyle:n});if(eu.widthCache[a])return eu.widthCache[a];try{var i=document.getElementById(qC);i||(i=document.createElement("span"),i.setAttribute("id",qC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=o5(o5({},Dte),n);Object.assign(i.style,s),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return eu.widthCache[a]=c,++eu.cacheCount>Mte&&(eu.cacheCount=0,eu.widthCache={}),c}catch{return{width:0,height:0}}},Fte=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Vm(t,e){return zte(t)||Ute(t,e)||qte(t,e)||Bte()}function Bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(t,e){if(t){if(typeof t=="string")return UC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ute(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function zte(t){if(Array.isArray(t))return t}function Wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vte(n.key),n)}}function Hte(t,e,r){return e&&zC(t.prototype,e),r&&zC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vte(t){var e=Gte(t,"string");return Vf(e)=="symbol"?e:e+""}function Gte(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xte=Object.keys(aM),pu="NaN";function Zte(t,e){return t*aM[e]}var Xp=(function(){function t(e,r){Wte(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Yte.test(r)&&(this.num=NaN,this.unit=""),Xte.includes(r)&&(this.num=Zte(e,r),this.unit="px")}return Hte(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Kte.exec(r))!==null&&n!==void 0?n:[],i=Vm(a,3),s=i[1],l=i[2];return new t(parseFloat(s),l??"")}}])})();function iM(t){if(t.includes(pu))return pu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=WC.exec(e))!==null&&r!==void 0?r:[],a=Vm(n,4),i=a[1],s=a[2],l=a[3],c=Xp.parse(i??""),u=Xp.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return pu;e=e.replace(WC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=HC.exec(e))!==null&&f!==void 0?f:[],h=Vm(p,4),g=h[1],m=h[2],v=h[3],x=Xp.parse(g??""),j=Xp.parse(v??""),w=m==="+"?x.add(j):x.subtract(j);if(w.isNaN())return pu;e=e.replace(HC,w.toString())}return e}var VC=/\(([^()]*)\)/;function Jte(t){for(var e=t;e.includes("(");){var r=VC.exec(e),n=Vm(r,2),a=n[1];e=e.replace(VC,iM(a))}return e}function Qte(t){var e=t.replace(/\s+/g,"");return e=Jte(e),e=iM(e),e}function ere(t){try{return Qte(t)}catch{return pu}}function rw(t){var e=ere(t.slice(5,-1));return e===pu?"":e}var tre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rre=["dx","dy","angle","className","breakAll"];function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}function GC(t,e){if(t==null)return{};var r=nre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YC(t,e){return ore(t)||sre(t,e)||ire(t,e)||are()}function are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(t,e){if(t){if(typeof t=="string")return KC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ore(t){if(Array.isArray(t))return t}var sM=/[ \f\n\r\t\v\u2028\u2029]+/,oM=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Tt(r)||(n?i=r.toString().split(""):i=r.toString().split(sM));var s=i.map(function(c){return{word:c,width:kf(c,a).width}}),l=n?0:kf(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},lre=function(e,r,n,a,i){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Me(s),f=l,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(H,G){var F=G.word,ae=G.width,Q=H[H.length-1];if(Q&&(a==null||i||Q.width+ae+n<Number(a)))Q.words.push(F),Q.width+=ae+n;else{var oe={words:[F],width:ae};H.push(oe)}return H},[])},h=p(r),g=function(W){return W.reduce(function(H,G){return H.width>G.width?H:G})};if(!d)return h;for(var m="…",v=function(W){var H=f.slice(0,W),G=oM({breakAll:u,style:c,children:H+m}).wordsWithComputedWidth,F=p(G),ae=F.length>s||g(F).width>Number(a);return[ae,F]},x=0,j=f.length-1,w=0,_;x<=j&&w<=f.length-1;){var N=Math.floor((x+j)/2),A=N-1,k=v(A),E=YC(k,2),I=E[0],L=E[1],C=v(N),O=YC(C,1),R=O[0];if(!I&&!R&&(x=N+1),I&&R&&(j=N-1),!I&&R){_=L;break}w++}return _||h},XC=function(e){var r=Tt(e)?[]:e.toString().split(sM);return[{words:r}]},cre=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!gc.isSsr){var c,u,d=oM({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return XC(a);return lre({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return XC(a)},ZC="#808080",rc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?ZC:v,j=GC(e,tre),w=S.useMemo(function(){return cre({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),_=j.dx,N=j.dy,A=j.angle,k=j.className,E=j.breakAll,I=GC(j,rre);if(!wn(n)||!wn(i))return null;var L=n+(Me(_)?_:0),C=i+(Me(N)?N:0),O;switch(m){case"start":O=rw("calc(".concat(u,")"));break;case"middle":O=rw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=rw("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(f){var M=w[0].width,W=j.width;R.push("scale(".concat((Me(W)?W/M:1)/M,")"))}return A&&R.push("rotate(".concat(A,", ").concat(L,", ").concat(C,")")),R.length&&(I.transform=R.join(" ")),K.createElement("text",l5({},pt(I,!0),{x:L,y:C,className:Rt("recharts-text",k),textAnchor:h,fill:x.includes("url")?ZC:x}),w.map(function(H,G){var F=H.words.join(E?"":" ");return K.createElement("tspan",{x:L,dy:G===0?O:l,key:"".concat(F,"-").concat(G)},F)}))};function Bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ure(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tj(t){let e,r,n;t.length!==2?(e=Bo,r=(l,c)=>Bo(t(l),c),n=(l,c)=>t(l)-c):(e=t===Bo||t===ure?t:dre,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function dre(){return 0}function lM(t){return t===null?NaN:+t}function*fre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const hre=Tj(Bo),Rh=hre.right;Tj(lM).center;class JC extends Map{constructor(e,r=gre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(QC(this,e))}has(e){return super.has(QC(this,e))}set(e,r){return super.set(pre(this,e),r)}delete(e){return super.delete(mre(this,e))}}function QC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function pre({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function mre({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function gre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vre(t=Bo){if(t===Bo)return cM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function cM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yre=Math.sqrt(50),xre=Math.sqrt(10),bre=Math.sqrt(2);function Gm(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=yre?10:i>=xre?5:i>=bre?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Gm(t,e,r*2):[l,c,u]}function c5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Gm(e,t,r):Gm(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function u5(t,e,r){return e=+e,t=+t,r=+r,Gm(t,e,r)[2]}function d5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?u5(e,t,r):u5(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function eO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uM(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?cM:vre(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+p)),g=Math.min(n,Math.floor(e+(c-u)*f/c+p));uM(t,e,h,g,a)}const i=t[e];let s=r,l=n;for(sf(t,r,e),a(t[n],i)>0&&sf(t,r,n);s<l;){for(sf(t,s,l),++s,--l;a(t[s],i)<0;)++s;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?sf(t,r,l):(++l,sf(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function sf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function wre(t,e,r){if(t=Float64Array.from(fre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return tO(t);if(e>=1)return eO(t);var n,a=(n-1)*e,i=Math.floor(a),s=eO(uM(t,i).subarray(0,i+1)),l=tO(t.subarray(i+1));return s+(l-s)*(a-i)}}function _re(t,e,r=lM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return s+(l-s)*(a-i)}}function jre(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function ti(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function so(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const f5=Symbol("implicit");function Ij(){var t=new JC,e=[],r=[],n=f5;function a(i){let s=t.get(i);if(s===void 0){if(n!==f5)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new JC;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ij(e,r).unknown(n)},ti.apply(a,arguments),a}function Gf(){var t=Ij().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=a<n,g=h?a:n,m=h?n:a;i=(m-g)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(p-c))*d,s=i*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=jre(p).map(function(x){return g+i*x});return r(h?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Gf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ti.apply(f(),arguments)}function dM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dM(e())},t}function Pf(){return dM(Gf.apply(null,arguments).paddingInner(1))}function Rj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function fM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Lh(){}var Yf=.7,Ym=1/Yf,Au="\\s*([+-]?\\d+)\\s*",Kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nre=/^#([0-9a-f]{3,8})$/,Sre=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),Are=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),kre=new RegExp(`^rgba\\(${Au},${Au},${Au},${Kf}\\)$`),Pre=new RegExp(`^rgba\\(${ns},${ns},${ns},${Kf}\\)$`),Cre=new RegExp(`^hsl\\(${Kf},${ns},${ns}\\)$`),Ore=new RegExp(`^hsla\\(${Kf},${ns},${ns},${Kf}\\)$`),rO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rj(Lh,Xf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nO,formatHex:nO,formatHex8:Ere,formatHsl:Tre,formatRgb:aO,toString:aO});function nO(){return this.rgb().formatHex()}function Ere(){return this.rgb().formatHex8()}function Tre(){return hM(this).formatHsl()}function aO(){return this.rgb().formatRgb()}function Xf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Nre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?iO(e):r===3?new la(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Zp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Zp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sre.exec(t))?new la(e[1],e[2],e[3],1):(e=Are.exec(t))?new la(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kre.exec(t))?Zp(e[1],e[2],e[3],e[4]):(e=Pre.exec(t))?Zp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cre.exec(t))?lO(e[1],e[2]/100,e[3]/100,1):(e=Ore.exec(t))?lO(e[1],e[2]/100,e[3]/100,e[4]):rO.hasOwnProperty(t)?iO(rO[t]):t==="transparent"?new la(NaN,NaN,NaN,0):null}function iO(t){return new la(t>>16&255,t>>8&255,t&255,1)}function Zp(t,e,r,n){return n<=0&&(t=e=r=NaN),new la(t,e,r,n)}function Ire(t){return t instanceof Lh||(t=Xf(t)),t?(t=t.rgb(),new la(t.r,t.g,t.b,t.opacity)):new la}function h5(t,e,r,n){return arguments.length===1?Ire(t):new la(t,e,r,n??1)}function la(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Rj(la,h5,fM(Lh,{brighter(t){return t=t==null?Ym:Math.pow(Ym,t),new la(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yf:Math.pow(Yf,t),new la(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new la(Vl(this.r),Vl(this.g),Vl(this.b),Km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sO,formatHex:sO,formatHex8:Rre,formatRgb:oO,toString:oO}));function sO(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}`}function Rre(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}${$l((isNaN(this.opacity)?1:this.opacity)*255)}`}function oO(){const t=Km(this.opacity);return`${t===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${t===1?")":`, ${t})`}`}function Km(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $l(t){return t=Vl(t),(t<16?"0":"")+t.toString(16)}function lO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new wi(t,e,r,n)}function hM(t){if(t instanceof wi)return new wi(t.h,t.s,t.l,t.opacity);if(t instanceof Lh||(t=Xf(t)),!t)return new wi;if(t instanceof wi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(e===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new wi(s,l,c,t.opacity)}function Lre(t,e,r,n){return arguments.length===1?hM(t):new wi(t,e,r,n??1)}function wi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Rj(wi,Lre,fM(Lh,{brighter(t){return t=t==null?Ym:Math.pow(Ym,t),new wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yf:Math.pow(Yf,t),new wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new la(nw(t>=240?t-240:t+120,a,n),nw(t,a,n),nw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new wi(cO(this.h),Jp(this.s),Jp(this.l),Km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Km(this.opacity);return`${t===1?"hsl(":"hsla("}${cO(this.h)}, ${Jp(this.s)*100}%, ${Jp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cO(t){return t=(t||0)%360,t<0?t+360:t}function Jp(t){return Math.max(0,Math.min(1,t||0))}function nw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Lj=t=>()=>t;function Mre(t,e){return function(r){return t+r*e}}function Dre(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $re(t){return(t=+t)==1?pM:function(e,r){return r-e?Dre(e,r,t):Lj(isNaN(e)?r:e)}}function pM(t,e){var r=e-t;return r?Mre(t,r):Lj(isNaN(t)?e:t)}const uO=(function t(e){var r=$re(e);function n(a,i){var s=r((a=h5(a)).r,(i=h5(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=pM(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n})(1);function Fre(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function Bre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qre(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=yd(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function Ure(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Xm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function zre(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=yd(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var p5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aw=new RegExp(p5.source,"g");function Wre(t){return function(){return t}}function Hre(t){return function(e){return t(e)+""}}function Vre(t,e){var r=p5.lastIndex=aw.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=p5.exec(t))&&(a=aw.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Xm(n,a)})),r=aw.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?Hre(c[0].x):Wre(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function yd(t,e){var r=typeof e,n;return e==null||r==="boolean"?Lj(e):(r==="number"?Xm:r==="string"?(n=Xf(e))?(e=n,uO):Vre:e instanceof Xf?uO:e instanceof Date?Ure:Bre(e)?Fre:Array.isArray(e)?qre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zre:Xm)(t,e)}function Mj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Gre(t,e){e===void 0&&(e=t,t=yd);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function Yre(t){return function(){return t}}function Zm(t){return+t}var dO=[0,1];function ta(t){return t}function m5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Yre(isNaN(e)?NaN:.5)}function Kre(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Xre(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=m5(a,n),i=r(s,i)):(n=m5(n,a),i=r(i,s)),function(l){return i(n(l))}}function Zre(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=m5(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(l){var c=Rh(t,l,1,n)-1;return i[c](a[c](l))}}function Mh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Av(){var t=dO,e=dO,r=yd,n,a,i,s=ta,l,c,u;function d(){var p=Math.min(t.length,e.length);return s!==ta&&(s=Kre(t[0],t[p-1])),l=p>2?Zre:Xre,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(a((u||(u=l(e,t.map(n),Xm)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,Zm),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=Mj,d()},f.clamp=function(p){return arguments.length?(s=p?!0:ta,d()):s!==ta},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function Dj(){return Av()(ta,ta)}function Jre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fu(t){return t=Jm(Math.abs(t)),t?t[1]:NaN}function Qre(t,e){return function(r,n){for(var a=r.length,i=[],s=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function ene(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var tne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zf(t){if(!(e=tne.exec(t)))throw new Error("invalid format: "+t);var e;return new $j({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zf.prototype=$j.prototype;function $j(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$j.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rne(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var mM;function nne(t,e){var r=Jm(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(mM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jm(t,Math.max(0,e+i-1))[0]}function fO(t,e){var r=Jm(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const hO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fO(t*100,e),r:fO,s:nne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pO(t){return t}var mO=Array.prototype.map,gO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ane(t){var e=t.grouping===void 0||t.thousands===void 0?pO:Qre(mO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?pO:ene(mO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Zf(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,j=f.comma,w=f.precision,_=f.trim,N=f.type;N==="n"?(j=!0,N="g"):hO[N]||(w===void 0&&(w=12),_=!0,N="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var A=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=m==="$"?n:/[%p]/.test(N)?s:"",E=hO[N],I=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(C){var O=A,R=k,M,W,H;if(N==="c")R=E(C)+R,C="";else{C=+C;var G=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),w),_&&(C=rne(C)),G&&+C==0&&g!=="+"&&(G=!1),O=(G?g==="("?g:l:g==="-"||g==="("?"":g)+O,R=(N==="s"?gO[8+mM/3]:"")+R+(G&&g==="("?")":""),I){for(M=-1,W=C.length;++M<W;)if(H=C.charCodeAt(M),48>H||H>57){R=(H===46?a+C.slice(M+1):C.slice(M))+R,C=C.slice(0,M);break}}}j&&!v&&(C=e(C,1/0));var F=O.length+C.length+R.length,ae=F<x?new Array(x-F+1).join(p):"";switch(j&&v&&(C=e(ae+C,ae.length?x-R.length:1/0),ae=""),h){case"<":C=O+C+R+ae;break;case"=":C=O+ae+C+R;break;case"^":C=ae.slice(0,F=ae.length>>1)+O+C+R+ae.slice(F);break;default:C=ae+O+C+R;break}return i(C)}return L.toString=function(){return f+""},L}function d(f,p){var h=u((f=Zf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fu(p)/3)))*3,m=Math.pow(10,-g),v=gO[8+g/3];return function(x){return h(m*x)+v}}return{format:u,formatPrefix:d}}var Qp,Fj,gM;ine({thousands:",",grouping:[3],currency:["$",""]});function ine(t){return Qp=ane(t),Fj=Qp.format,gM=Qp.formatPrefix,Qp}function sne(t){return Math.max(0,-Fu(Math.abs(t)))}function one(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fu(e)/3)))*3-Fu(Math.abs(t)))}function lne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fu(e)-Fu(t))+1}function vM(t,e,r,n){var a=d5(t,e,r),i;switch(n=Zf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=one(a,s))&&(n.precision=i),gM(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=lne(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=sne(a))&&(n.precision=i-(n.type==="%")*2);break}}return Fj(n)}function Jo(t){var e=t.domain;return t.ticks=function(r){var n=e();return c5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return vM(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=u5(s,l,r),u===c)return n[a]=s,n[i]=l,e(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Qm(){var t=Dj();return t.copy=function(){return Mh(t,Qm())},ti.apply(t,arguments),Jo(t)}function yM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Zm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return yM(t).unknown(e)},t=arguments.length?Array.from(t,Zm):[0,1],Jo(r)}function xM(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function vO(t){return Math.log(t)}function yO(t){return Math.exp(t)}function cne(t){return-Math.log(-t)}function une(t){return-Math.exp(-t)}function dne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fne(t){return t===10?dne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xO(t){return(e,r)=>-t(-e,r)}function Bj(t){const e=t(vO,yO),r=e.domain;let n=10,a,i;function s(){return a=hne(n),i=fne(n),r()[0]<0?(a=xO(a),i=xO(i),t(cne,une)):t(vO,yO),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(m=p<0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(m=p>0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=c5(u,d,v))}else x=c5(p,h,Math.min(h-p,v)).map(i);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Zf(c)).precision==null&&(c.trim=!0),c=Fj(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(xM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function bM(){const t=Bj(Av()).domain([1,10]);return t.copy=()=>Mh(t,bM()).base(t.base()),ti.apply(t,arguments),t}function bO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qj(t){var e=1,r=t(bO(e),wO(e));return r.constant=function(n){return arguments.length?t(bO(e=+n),wO(e)):e},Jo(r)}function wM(){var t=qj(Av());return t.copy=function(){return Mh(t,wM()).constant(t.constant())},ti.apply(t,arguments)}function _O(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mne(t){return t<0?-t*t:t*t}function Uj(t){var e=t(ta,ta),r=1;function n(){return r===1?t(ta,ta):r===.5?t(pne,mne):t(_O(r),_O(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Jo(e)}function zj(){var t=Uj(Av());return t.copy=function(){return Mh(t,zj()).exponent(t.exponent())},ti.apply(t,arguments),t}function gne(){return zj.apply(null,arguments).exponent(.5)}function jO(t){return Math.sign(t)*t*t}function vne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _M(){var t=Dj(),e=[0,1],r=!1,n;function a(i){var s=vne(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(jO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Zm)).map(jO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _M(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ti.apply(a,arguments),Jo(a)}function jM(){var t=[],e=[],r=[],n;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=_re(t,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:e[Rh(r,s)]}return i.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Bo),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return jM().domain(t).range(e).unknown(n)},ti.apply(i,arguments)}function NM(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Rh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return NM().domain([t,e]).range(a).unknown(i)},ti.apply(Jo(s),arguments)}function SM(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Rh(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return SM().domain(t).range(e).unknown(r)},ti.apply(a,arguments)}const iw=new Date,sw=new Date;function _n(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<s);return c},a.filter=i=>_n(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(iw.setTime(+i),sw.setTime(+s),t(iw),t(sw),Math.floor(r(iw,sw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const eg=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);eg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):eg);eg.range;const zs=1e3,Ya=zs*60,Ws=Ya*60,Qs=Ws*24,Wj=Qs*7,NO=Qs*30,ow=Qs*365,Fl=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zs)},(t,e)=>(e-t)/zs,t=>t.getUTCSeconds());Fl.range;const Hj=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zs)},(t,e)=>{t.setTime(+t+e*Ya)},(t,e)=>(e-t)/Ya,t=>t.getMinutes());Hj.range;const Vj=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ya)},(t,e)=>(e-t)/Ya,t=>t.getUTCMinutes());Vj.range;const Gj=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zs-t.getMinutes()*Ya)},(t,e)=>{t.setTime(+t+e*Ws)},(t,e)=>(e-t)/Ws,t=>t.getHours());Gj.range;const Yj=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ws)},(t,e)=>(e-t)/Ws,t=>t.getUTCHours());Yj.range;const Dh=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ya)/Qs,t=>t.getDate()-1);Dh.range;const kv=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>t.getUTCDate()-1);kv.range;const AM=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>Math.floor(t/Qs));AM.range;function vc(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ya)/Wj)}const Pv=vc(0),tg=vc(1),yne=vc(2),xne=vc(3),Bu=vc(4),bne=vc(5),wne=vc(6);Pv.range;tg.range;yne.range;xne.range;Bu.range;bne.range;wne.range;function yc(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Wj)}const Cv=yc(0),rg=yc(1),_ne=yc(2),jne=yc(3),qu=yc(4),Nne=yc(5),Sne=yc(6);Cv.range;rg.range;_ne.range;jne.range;qu.range;Nne.range;Sne.range;const Kj=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Kj.range;const Xj=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Xj.range;const eo=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});eo.range;const to=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});to.range;function kM(t,e,r,n,a,i){const s=[[Fl,1,zs],[Fl,5,5*zs],[Fl,15,15*zs],[Fl,30,30*zs],[i,1,Ya],[i,5,5*Ya],[i,15,15*Ya],[i,30,30*Ya],[a,1,Ws],[a,3,3*Ws],[a,6,6*Ws],[a,12,12*Ws],[n,1,Qs],[n,2,2*Qs],[r,1,Wj],[e,1,NO],[e,3,3*NO],[t,1,ow]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=Tj(([,,v])=>v).right(s,p);if(h===s.length)return t.every(d5(u/ow,d/ow,f));if(h===0)return eg.every(Math.max(d5(u,d,f),1));const[g,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(m)}return[l,c]}const[Ane,kne]=kM(to,Xj,Cv,AM,Yj,Vj),[Pne,Cne]=kM(eo,Kj,Pv,Dh,Gj,Hj);function lw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function of(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function One(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=lf(a),d=cf(a),f=lf(i),p=cf(i),h=lf(s),g=cf(s),m=lf(l),v=cf(l),x=lf(c),j=cf(c),w={a:G,A:F,b:ae,B:Q,c:null,d:OO,e:OO,f:Qne,g:cae,G:dae,H:Xne,I:Zne,j:Jne,L:PM,m:eae,M:tae,p:oe,q:$,Q:IO,s:RO,S:rae,u:nae,U:aae,V:iae,w:sae,W:oae,x:null,X:null,y:lae,Y:uae,Z:fae,"%":TO},_={a:U,A:z,b:J,B:le,c:null,d:EO,e:EO,f:gae,g:Aae,G:Pae,H:hae,I:pae,j:mae,L:OM,m:vae,M:yae,p:se,q:de,Q:IO,s:RO,S:xae,u:bae,U:wae,V:_ae,w:jae,W:Nae,x:null,X:null,y:Sae,Y:kae,Z:Cae,"%":TO},N={a:L,A:C,b:O,B:R,c:M,d:PO,e:PO,f:Vne,g:kO,G:AO,H:CO,I:CO,j:Une,L:Hne,m:qne,M:zne,p:I,q:Bne,Q:Yne,s:Kne,S:Wne,u:Lne,U:Mne,V:Dne,w:Rne,W:$ne,x:W,X:H,y:kO,Y:AO,Z:Fne,"%":Gne};w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),_.x=A(r,_),_.X=A(n,_),_.c=A(e,_);function A(ie,he){return function(ge){var ue=[],Ce=-1,me=0,ee=ie.length,Ve,Ue,We;for(ge instanceof Date||(ge=new Date(+ge));++Ce<ee;)ie.charCodeAt(Ce)===37&&(ue.push(ie.slice(me,Ce)),(Ue=SO[Ve=ie.charAt(++Ce)])!=null?Ve=ie.charAt(++Ce):Ue=Ve==="e"?" ":"0",(We=he[Ve])&&(Ve=We(ge,Ue)),ue.push(Ve),me=Ce+1);return ue.push(ie.slice(me,Ce)),ue.join("")}}function k(ie,he){return function(ge){var ue=of(1900,void 0,1),Ce=E(ue,ie,ge+="",0),me,ee;if(Ce!=ge.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(he&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(me=cw(of(ue.y,0,1)),ee=me.getUTCDay(),me=ee>4||ee===0?rg.ceil(me):rg(me),me=kv.offset(me,(ue.V-1)*7),ue.y=me.getUTCFullYear(),ue.m=me.getUTCMonth(),ue.d=me.getUTCDate()+(ue.w+6)%7):(me=lw(of(ue.y,0,1)),ee=me.getDay(),me=ee>4||ee===0?tg.ceil(me):tg(me),me=Dh.offset(me,(ue.V-1)*7),ue.y=me.getFullYear(),ue.m=me.getMonth(),ue.d=me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ee="Z"in ue?cw(of(ue.y,0,1)).getUTCDay():lw(of(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ee+5)%7:ue.w+ue.U*7-(ee+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,cw(ue)):lw(ue)}}function E(ie,he,ge,ue){for(var Ce=0,me=he.length,ee=ge.length,Ve,Ue;Ce<me;){if(ue>=ee)return-1;if(Ve=he.charCodeAt(Ce++),Ve===37){if(Ve=he.charAt(Ce++),Ue=N[Ve in SO?he.charAt(Ce++):Ve],!Ue||(ue=Ue(ie,ge,ue))<0)return-1}else if(Ve!=ge.charCodeAt(ue++))return-1}return ue}function I(ie,he,ge){var ue=u.exec(he.slice(ge));return ue?(ie.p=d.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function L(ie,he,ge){var ue=h.exec(he.slice(ge));return ue?(ie.w=g.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function C(ie,he,ge){var ue=f.exec(he.slice(ge));return ue?(ie.w=p.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function O(ie,he,ge){var ue=x.exec(he.slice(ge));return ue?(ie.m=j.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function R(ie,he,ge){var ue=m.exec(he.slice(ge));return ue?(ie.m=v.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function M(ie,he,ge){return E(ie,e,he,ge)}function W(ie,he,ge){return E(ie,r,he,ge)}function H(ie,he,ge){return E(ie,n,he,ge)}function G(ie){return s[ie.getDay()]}function F(ie){return i[ie.getDay()]}function ae(ie){return c[ie.getMonth()]}function Q(ie){return l[ie.getMonth()]}function oe(ie){return a[+(ie.getHours()>=12)]}function $(ie){return 1+~~(ie.getMonth()/3)}function U(ie){return s[ie.getUTCDay()]}function z(ie){return i[ie.getUTCDay()]}function J(ie){return c[ie.getUTCMonth()]}function le(ie){return l[ie.getUTCMonth()]}function se(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=A(ie+="",w);return he.toString=function(){return ie},he},parse:function(ie){var he=k(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=A(ie+="",_);return he.toString=function(){return ie},he},utcParse:function(ie){var he=k(ie+="",!0);return he.toString=function(){return ie},he}}}var SO={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Ene=/^%/,Tne=/[\\^$*+?|[\]().{}]/g;function er(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function Ine(t){return t.replace(Tne,"\\$&")}function lf(t){return new RegExp("^(?:"+t.map(Ine).join("|")+")","i")}function cf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Rne(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Lne(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Mne(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Dne(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function $ne(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function AO(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function kO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Fne(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Bne(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function qne(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function PO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Une(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function CO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function zne(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Wne(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Hne(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Vne(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gne(t,e,r){var n=Ene.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Yne(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Kne(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function OO(t,e){return er(t.getDate(),e,2)}function Xne(t,e){return er(t.getHours(),e,2)}function Zne(t,e){return er(t.getHours()%12||12,e,2)}function Jne(t,e){return er(1+Dh.count(eo(t),t),e,3)}function PM(t,e){return er(t.getMilliseconds(),e,3)}function Qne(t,e){return PM(t,e)+"000"}function eae(t,e){return er(t.getMonth()+1,e,2)}function tae(t,e){return er(t.getMinutes(),e,2)}function rae(t,e){return er(t.getSeconds(),e,2)}function nae(t){var e=t.getDay();return e===0?7:e}function aae(t,e){return er(Pv.count(eo(t)-1,t),e,2)}function CM(t){var e=t.getDay();return e>=4||e===0?Bu(t):Bu.ceil(t)}function iae(t,e){return t=CM(t),er(Bu.count(eo(t),t)+(eo(t).getDay()===4),e,2)}function sae(t){return t.getDay()}function oae(t,e){return er(tg.count(eo(t)-1,t),e,2)}function lae(t,e){return er(t.getFullYear()%100,e,2)}function cae(t,e){return t=CM(t),er(t.getFullYear()%100,e,2)}function uae(t,e){return er(t.getFullYear()%1e4,e,4)}function dae(t,e){var r=t.getDay();return t=r>=4||r===0?Bu(t):Bu.ceil(t),er(t.getFullYear()%1e4,e,4)}function fae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+er(e/60|0,"0",2)+er(e%60,"0",2)}function EO(t,e){return er(t.getUTCDate(),e,2)}function hae(t,e){return er(t.getUTCHours(),e,2)}function pae(t,e){return er(t.getUTCHours()%12||12,e,2)}function mae(t,e){return er(1+kv.count(to(t),t),e,3)}function OM(t,e){return er(t.getUTCMilliseconds(),e,3)}function gae(t,e){return OM(t,e)+"000"}function vae(t,e){return er(t.getUTCMonth()+1,e,2)}function yae(t,e){return er(t.getUTCMinutes(),e,2)}function xae(t,e){return er(t.getUTCSeconds(),e,2)}function bae(t){var e=t.getUTCDay();return e===0?7:e}function wae(t,e){return er(Cv.count(to(t)-1,t),e,2)}function EM(t){var e=t.getUTCDay();return e>=4||e===0?qu(t):qu.ceil(t)}function _ae(t,e){return t=EM(t),er(qu.count(to(t),t)+(to(t).getUTCDay()===4),e,2)}function jae(t){return t.getUTCDay()}function Nae(t,e){return er(rg.count(to(t)-1,t),e,2)}function Sae(t,e){return er(t.getUTCFullYear()%100,e,2)}function Aae(t,e){return t=EM(t),er(t.getUTCFullYear()%100,e,2)}function kae(t,e){return er(t.getUTCFullYear()%1e4,e,4)}function Pae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qu(t):qu.ceil(t),er(t.getUTCFullYear()%1e4,e,4)}function Cae(){return"+0000"}function TO(){return"%"}function IO(t){return+t}function RO(t){return Math.floor(+t/1e3)}var tu,TM,IM;Oae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oae(t){return tu=One(t),TM=tu.format,tu.parse,IM=tu.utcFormat,tu.utcParse,tu}function Eae(t){return new Date(t)}function Tae(t){return t instanceof Date?+t:+new Date(+t)}function Zj(t,e,r,n,a,i,s,l,c,u){var d=Dj(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),j=u("%b %d"),w=u("%B"),_=u("%Y");function N(A){return(c(A)<A?h:l(A)<A?g:s(A)<A?m:i(A)<A?v:n(A)<A?a(A)<A?x:j:r(A)<A?w:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,Tae)):p().map(Eae)},d.ticks=function(A){var k=p();return t(k[0],k[k.length-1],A??10)},d.tickFormat=function(A,k){return k==null?N:u(k)},d.nice=function(A){var k=p();return(!A||typeof A.range!="function")&&(A=e(k[0],k[k.length-1],A??10)),A?p(xM(k,A)):d},d.copy=function(){return Mh(d,Zj(t,e,r,n,a,i,s,l,c,u))},d}function Iae(){return ti.apply(Zj(Pne,Cne,eo,Kj,Pv,Dh,Gj,Hj,Fl,TM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rae(){return ti.apply(Zj(Ane,kne,to,Xj,Cv,kv,Yj,Vj,Fl,IM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ov(){var t=0,e=1,r,n,a,i,s=ta,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),u):[s(0),s(1)]}}return u.range=d(yd),u.rangeRound=d(Mj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RM(){var t=Jo(Ov()(ta));return t.copy=function(){return Qo(t,RM())},so.apply(t,arguments)}function LM(){var t=Bj(Ov()).domain([1,10]);return t.copy=function(){return Qo(t,LM()).base(t.base())},so.apply(t,arguments)}function MM(){var t=qj(Ov());return t.copy=function(){return Qo(t,MM()).constant(t.constant())},so.apply(t,arguments)}function Jj(){var t=Uj(Ov());return t.copy=function(){return Qo(t,Jj()).exponent(t.exponent())},so.apply(t,arguments)}function Lae(){return Jj.apply(null,arguments).exponent(.5)}function DM(){var t=[],e=ta;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Bo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>wre(t,i/n))},r.copy=function(){return DM(e).domain(t)},so.apply(r,arguments)}function Ev(){var t=0,e=.5,r=1,n=1,a,i,s,l,c,u=ta,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function g(m){return function(v){var x,j,w;return arguments.length?([x,j,w]=v,u=Gre(m,[x,j,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(yd),h.rangeRound=g(Mj),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(t),i=m(e),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function $M(){var t=Jo(Ev()(ta));return t.copy=function(){return Qo(t,$M())},so.apply(t,arguments)}function FM(){var t=Bj(Ev()).domain([.1,1,10]);return t.copy=function(){return Qo(t,FM()).base(t.base())},so.apply(t,arguments)}function BM(){var t=qj(Ev());return t.copy=function(){return Qo(t,BM()).constant(t.constant())},so.apply(t,arguments)}function Qj(){var t=Uj(Ev());return t.copy=function(){return Qo(t,Qj()).exponent(t.exponent())},so.apply(t,arguments)}function Mae(){return Qj.apply(null,arguments).exponent(.5)}const LO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gf,scaleDiverging:$M,scaleDivergingLog:FM,scaleDivergingPow:Qj,scaleDivergingSqrt:Mae,scaleDivergingSymlog:BM,scaleIdentity:yM,scaleImplicit:f5,scaleLinear:Qm,scaleLog:bM,scaleOrdinal:Ij,scalePoint:Pf,scalePow:zj,scaleQuantile:jM,scaleQuantize:NM,scaleRadial:_M,scaleSequential:RM,scaleSequentialLog:LM,scaleSequentialPow:Jj,scaleSequentialQuantile:DM,scaleSequentialSqrt:Lae,scaleSequentialSymlog:MM,scaleSqrt:gne,scaleSymlog:wM,scaleThreshold:SM,scaleTime:Iae,scaleUtc:Rae,tickFormat:vM},Symbol.toStringTag,{value:"Module"}));var uw,MO;function Tv(){if(MO)return uw;MO=1;var t=pd();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,d=l}return d}return uw=e,uw}var dw,DO;function qM(){if(DO)return dw;DO=1;function t(e,r){return e>r}return dw=t,dw}var fw,$O;function Dae(){if($O)return fw;$O=1;var t=Tv(),e=qM(),r=vd();function n(a){return a&&a.length?t(a,r,e):void 0}return fw=n,fw}var $ae=Dae();const Iv=dr($ae);var hw,FO;function UM(){if(FO)return hw;FO=1;function t(e,r){return e<r}return hw=t,hw}var pw,BO;function Fae(){if(BO)return pw;BO=1;var t=Tv(),e=UM(),r=vd();function n(a){return a&&a.length?t(a,r,e):void 0}return pw=n,pw}var Bae=Fae();const Rv=dr(Bae);var mw,qO;function qae(){if(qO)return mw;qO=1;var t=mj(),e=vs(),r=XL(),n=ha();function a(i,s){var l=n(i)?t:r;return l(i,e(s,3))}return mw=a,mw}var gw,UO;function Uae(){if(UO)return gw;UO=1;var t=YL(),e=qae();function r(n,a){return t(e(n,a),1)}return gw=r,gw}var zae=Uae();const Wae=dr(zae);var vw,zO;function Hae(){if(zO)return vw;zO=1;var t=Pj();function e(r,n){return t(r,n)}return vw=e,vw}var Vae=Hae();const $h=dr(Vae);var xd=1e9,Gae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tN,Dr=!0,ei="[DecimalError] ",Gl=ei+"Invalid argument: ",eN=ei+"Exponent out of range: ",bd=Math.floor,Ol=Math.pow,Yae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ca,An=1e7,Cr=7,zM=9007199254740991,ng=bd(zM/Cr),He={};He.absoluteValue=He.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};He.comparedTo=He.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Cr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(t){return Ks(this,new this.constructor(t))};He.dividedToIntegerBy=He.idiv=function(t){var e=this,r=e.constructor;return gr(Ks(e,new r(t),0,1),r.precision)};He.equals=He.eq=function(t){return!this.cmp(t)};He.exponent=function(){return cn(this)};He.greaterThan=He.gt=function(t){return this.cmp(t)>0};He.greaterThanOrEqualTo=He.gte=function(t){return this.cmp(t)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(t){return this.cmp(t)<0};He.lessThanOrEqualTo=He.lte=function(t){return this.cmp(t)<1};He.logarithm=He.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ca))throw Error(ei+"NaN");if(r.s<1)throw Error(ei+(r.s?"NaN":"-Infinity"));return r.eq(Ca)?new n(0):(Dr=!1,e=Ks(Jf(r,i),Jf(t,i),i),Dr=!0,gr(e,a))};He.minus=He.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VM(e,t):WM(e,(t.s=-t.s,t))};He.modulo=He.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ei+"NaN");return r.s?(Dr=!1,e=Ks(r,t,0,1).times(t),Dr=!0,r.minus(e)):gr(new n(r),a)};He.naturalExponential=He.exp=function(){return HM(this)};He.naturalLogarithm=He.ln=function(){return Jf(this)};He.negated=He.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};He.plus=He.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WM(e,t):VM(e,(t.s=-t.s,t))};He.precision=He.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gl+t);if(e=cn(a)+1,n=a.d.length-1,r=n*Cr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};He.squareRoot=He.sqrt=function(){var t,e,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ei+"NaN")}for(t=cn(l),Dr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=es(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=bd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Ks(l,i,s+2)).times(.5),es(i.d).slice(0,s)===(e=es(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(gr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;s+=4}return Dr=!0,gr(n,r)};He.times=He.mul=function(t){var e,r,n,a,i,s,l,c,u,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*p[a-n-1]+e,i[a--]=l%An|0,e=l/An|0;i[a]=(i[a]+e)%An|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Dr?gr(t,f.precision):t};He.toDecimalPlaces=He.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(os(t,0,xd),e===void 0?e=n.rounding:os(e,0,8),gr(r,t+cn(r)+1,e))};He.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=nc(n,!0):(os(t,0,xd),e===void 0?e=a.rounding:os(e,0,8),n=gr(new a(n),t+1,e),r=nc(n,!0,t+1)),r};He.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?nc(a):(os(t,0,xd),e===void 0?e=i.rounding:os(e,0,8),n=gr(new i(a),t+cn(a)+1,e),r=nc(n.abs(),!1,t+cn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var t=this,e=t.constructor;return gr(new e(t),cn(t)+1,e.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(t){var e,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ca);if(l=new c(l),!l.s){if(t.s<1)throw Error(ei+"Infinity");return l}if(l.eq(Ca))return l;if(n=c.precision,t.eq(Ca))return gr(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=l.s,s){if((r=d<0?-d:d)<=zM){for(a=new c(Ca),e=Math.ceil(n/Cr+4),Dr=!1;r%2&&(a=a.times(l),HO(a.d,e)),r=bd(r/2),r!==0;)l=l.times(l),HO(l.d,e);return Dr=!0,t.s<0?new c(Ca).div(a):gr(a,n)}}else if(i<0)throw Error(ei+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dr=!1,a=t.times(Jf(l,n+u)),Dr=!0,a=HM(a),a.s=i,a};He.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=cn(a),n=nc(a,r<=i.toExpNeg||r>=i.toExpPos)):(os(t,1,xd),e===void 0?e=i.rounding:os(e,0,8),a=gr(new i(a),t,e),r=cn(a),n=nc(a,t<=r||r<=i.toExpNeg,t)),n};He.toSignificantDigits=He.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(os(t,1,xd),e===void 0?e=n.rounding:os(e,0,8)),gr(new n(r),t,e)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),r=t.constructor;return nc(t,e<=r.toExpNeg||e>=r.toExpPos)};function WM(t,e){var r,n,a,i,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dr?gr(e,f):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Cr),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/An|0,c[i]%=An;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Dr?gr(e,f):e}function os(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Gl+t)}function es(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Cr-n.length,r&&(i+=Eo(r)),i+=n;s=t[e],n=s+"",r=Cr-n.length,r&&(i+=Eo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ks=(function(){function t(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%An|0,s=i/An|0;return s&&n.unshift(s),n}function e(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*An+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,p,h,g,m,v,x,j,w,_,N,A,k,E,I=n.constructor,L=n.s==a.s?1:-1,C=n.d,O=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(ei+"Division by zero");for(c=n.e-a.e,k=O.length,N=C.length,h=new I(L),g=h.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,i==null?j=i=I.precision:s?j=i+(cn(n)-cn(a))+1:j=i,j<0)return new I(0);if(j=j/Cr+2|0,u=0,k==1)for(d=0,O=O[0],j++;(u<N||d)&&j--;u++)w=d*An+(C[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=An/(O[0]+1)|0,d>1&&(O=t(O,d),C=t(C,d),k=O.length,N=C.length),_=k,m=C.slice(0,k),v=m.length;v<k;)m[v++]=0;E=O.slice(),E.unshift(0),A=O[0],O[1]>=An/2&&++A;do d=0,l=e(O,m,k,v),l<0?(x=m[0],k!=v&&(x=x*An+(m[1]||0)),d=x/A|0,d>1?(d>=An&&(d=An-1),f=t(O,d),p=f.length,v=m.length,l=e(f,m,p,v),l==1&&(d--,r(f,k<p?E:O,p))):(d==0&&(l=d=1),f=O.slice()),p=f.length,p<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=e(O,m,k,v),l<1&&(d++,r(m,k<v?E:O,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=C[_]||0:(m=[C[_]],v=1);while((_++<N||m[0]!==void 0)&&j--)}return g[0]||g.shift(),h.e=c,gr(h,s?i+cn(h)+1:i)}})();function HM(t,e){var r,n,a,i,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(cn(t)>16)throw Error(eN+cn(t));if(!t.s)return new d(Ca);for(Dr=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Ol(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ca),d.precision=l;;){if(a=gr(a.times(t),l),r=r.times(++c),s=i.plus(Ks(a,r,l)),es(s.d).slice(0,l)===es(i.d).slice(0,l)){for(;u--;)i=gr(i.times(i),l);return d.precision=f,e==null?(Dr=!0,gr(i,f)):i}i=s}}function cn(t){for(var e=t.e*Cr,r=t.d[0];r>=10;r/=10)e++;return e}function yw(t,e,r){if(e>t.LN10.sd())throw Dr=!0,r&&(t.precision=r),Error(ei+"LN10 precision limit exceeded");return gr(new t(t.LN10),e)}function Eo(t){for(var e="";t--;)e+="0";return e}function Jf(t,e){var r,n,a,i,s,l,c,u,d,f=1,p=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(ei+(h.s?"NaN":"-Infinity"));if(h.eq(Ca))return new m(0);if(e==null?(Dr=!1,u=v):u=e,h.eq(10))return e==null&&(Dr=!0),yw(m,u);if(u+=p,m.precision=u,r=es(g),n=r.charAt(0),i=cn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=es(h.d),n=r.charAt(0),f++;i=cn(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return c=yw(m,u+2,v).times(i+""),h=Jf(new m(n+"."+r.slice(1)),u-p).plus(c),m.precision=v,e==null?(Dr=!0,gr(h,v)):h;for(l=s=h=Ks(h.minus(Ca),h.plus(Ca),u),d=gr(h.times(h),u),a=3;;){if(s=gr(s.times(d),u),c=l.plus(Ks(s,new m(a),u)),es(c.d).slice(0,u)===es(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(yw(m,u+2,v).times(i+""))),l=Ks(l,new m(f),u),m.precision=v,e==null?(Dr=!0,gr(l,v)):l;l=c,a+=2}}function WO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=bd(r/Cr),t.d=[],n=(r+1)%Cr,r<0&&(n+=Cr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Cr;n<a;)t.d.push(+e.slice(n,n+=Cr));e=e.slice(n),n=Cr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Dr&&(t.e>ng||t.e<-ng))throw Error(eN+r)}else t.s=0,t.e=0,t.d=[0];return t}function gr(t,e,r){var n,a,i,s,l,c,u,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Cr,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Cr),i=f.length,d>=i)return t;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Cr,a=n-Cr+s}if(r!==void 0&&(i=Ol(10,s-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ol(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=cn(t),f.length=1,e=e-i-1,f[0]=Ol(10,(Cr-e%Cr)%Cr),t.e=bd(-e/Cr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ol(10,Cr-n),f[d]=a>0?(u/Ol(10,s-a)%Ol(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==An&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=An)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Dr&&(t.e>ng||t.e<-ng))throw Error(eN+cn(t));return t}function VM(t,e){var r,n,a,i,s,l,c,u,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Dr?gr(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Cr),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=An-1;--c[i],c[a]+=An}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dr?gr(e,h):e):new p(0)}function nc(t,e,r){var n,a=cn(t),i=es(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Eo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Eo(-a-1)+i,r&&(n=r-s)>0&&(i+=Eo(n))):a>=s?(i+=Eo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Eo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Eo(n))),t.s<0?"-"+i:i}function HO(t,e){if(t.length>e)return t.length=e,!0}function GM(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return WO(s,i.toString())}else if(typeof i!="string")throw Error(Gl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Yae.test(i))WO(s,i);else throw Error(Gl+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=GM,a.config=a.set=Kae,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function Kae(t){if(!t||typeof t!="object")throw Error(ei+"Object expected");var e,r,n,a=["precision",1,xd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(bd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Gl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gl+r+": "+n);return this}var tN=GM(Gae);Ca=new tN(1);const hr=tN;function Xae(t){return eie(t)||Qae(t)||Jae(t)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(t,e){if(t){if(typeof t=="string")return g5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g5(t,e)}}function Qae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eie(t){if(Array.isArray(t))return g5(t)}function g5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tie=function(e){return e},YM={},KM=function(e){return e===YM},VO=function(e){return function r(){return arguments.length===0||arguments.length===1&&KM(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},rie=function t(e,r){return e===1?r:VO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==YM}).length;return s>=e?r.apply(void 0,a):t(e-s,VO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return KM(f)?c.shift():f});return r.apply(void 0,Xae(d).concat(c))}))})},Lv=function(e){return rie(e.length,e)},v5=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},nie=Lv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),aie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return tie;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},y5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},XM=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function iie(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function sie(t,e,r){for(var n=new hr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var oie=Lv(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),lie=Lv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),cie=Lv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Mv={rangeStep:sie,getDigitCount:iie,interpolateNumber:oie,uninterpolateNumber:lie,uninterpolateTruncation:cie};function x5(t){return fie(t)||die(t)||ZM(t)||uie()}function uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function die(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fie(t){if(Array.isArray(t))return b5(t)}function Qf(t,e){return mie(t)||pie(t,e)||ZM(t,e)||hie()}function hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZM(t,e){if(t){if(typeof t=="string")return b5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(t,e)}}function b5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pie(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function mie(t){if(Array.isArray(t))return t}function JM(t){var e=Qf(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function QM(t,e,r){if(t.lte(0))return new hr(0);var n=Mv.getDigitCount(t.toNumber()),a=new hr(10).pow(n),i=t.div(a),s=n!==1?.05:.1,l=new hr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return e?c:new hr(Math.ceil(c))}function gie(t,e,r){var n=1,a=new hr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new hr(10).pow(Mv.getDigitCount(t)-1),a=new hr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new hr(Math.floor(t)))}else t===0?a=new hr(Math.floor((e-1)/2)):r||(a=new hr(Math.floor(t)));var s=Math.floor((e-1)/2),l=aie(nie(function(c){return a.add(new hr(c-s).mul(n)).toNumber()}),v5);return l(0,e)}function eD(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var i=QM(new hr(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new hr(0):(s=new hr(t).add(e).div(2),s=s.sub(new hr(s).mod(i)));var l=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new hr(e).sub(s).div(i).toNumber()),u=l+c+1;return u>r?eD(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:s.sub(new hr(l).mul(i)),tickMax:s.add(new hr(c).mul(i))})}function vie(t){var e=Qf(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=JM([r,n]),c=Qf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(x5(v5(0,a-1).map(function(){return 1/0}))):[].concat(x5(v5(0,a-1).map(function(){return-1/0})),[d]);return r>n?y5(f):f}if(u===d)return gie(u,a,i);var p=eD(u,d,s,i),h=p.step,g=p.tickMin,m=p.tickMax,v=Mv.rangeStep(g,m.add(new hr(.1).mul(h)),h);return r>n?y5(v):v}function yie(t,e){var r=Qf(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=JM([n,a]),l=Qf(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=QM(new hr(u).sub(c).div(d-1),i,0),p=[].concat(x5(Mv.rangeStep(new hr(c),new hr(u).sub(new hr(.99).mul(f)),f)),[u]);return n>a?y5(p):p}var xie=XM(vie),bie=XM(yie),wie="Invariant failed";function ac(t,e){throw new Error(wie)}var _ie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ag.apply(this,arguments)}function jie(t,e){return kie(t)||Aie(t,e)||Sie(t,e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sie(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kie(t){if(Array.isArray(t))return t}function Pie(t,e){if(t==null)return{};var r=Cie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function Tie(t,e,r){return e&&Eie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iie(t,e,r){return e=ig(e),Rie(t,tD()?Reflect.construct(e,r||[],ig(t).constructor):e.apply(t,r))}function Rie(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(t)}function Lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(t)}function Mie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w5(t,e)}function w5(t,e){return w5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w5(t,e)}function rD(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=Die(t,"string");return Uu(e)=="symbol"?e:e+""}function Die(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fh=(function(t){function e(){return Oie(this,e),Iie(this,e,arguments)}return Mie(e,t),Tie(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Pie(n,_ie),h=pt(p,!1);this.props.direction==="x"&&d.type!=="number"&&ac();var g=c.map(function(m){var v=u(m,l),x=v.x,j=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],A,k;if(Array.isArray(_)){var E=jie(_,2);A=E[0],k=E[1]}else A=k=_;if(i==="vertical"){var I=d.scale,L=j+a,C=L+s,O=L-s,R=I(w-A),M=I(w+k);N.push({x1:M,y1:C,x2:M,y2:O}),N.push({x1:R,y1:L,x2:M,y2:L}),N.push({x1:R,y1:C,x2:R,y2:O})}else if(i==="horizontal"){var W=f.scale,H=x+a,G=H-s,F=H+s,ae=W(w-A),Q=W(w+k);N.push({x1:G,y1:Q,x2:F,y2:Q}),N.push({x1:H,y1:ae,x2:H,y2:Q}),N.push({x1:G,y1:ae,x2:F,y2:ae})}return K.createElement(Qt,ag({className:"recharts-errorBar",key:"bar-".concat(N.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},h),N.map(function(oe){return K.createElement("line",ag({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return K.createElement(Qt,{className:"recharts-errorBars"},g)}}])})(K.Component);rD(Fh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rD(Fh,"displayName","ErrorBar");function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){$ie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ie(t,e,r){return e=Fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fie(t){var e=Bie(t,"string");return eh(e)=="symbol"?e:e+""}function Bie(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aD=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=Sa(r,Hl);if(!s)return null;var l=Hl.defaultProps,c=l!==void 0?Nl(Nl({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Nl(Nl({},p),f.props):{},g=h.dataKey,m=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:rN(f),value:m||g,payload:h}}),Nl(Nl(Nl({},c),Hl.getWithHeight(s,a)),{},{payload:u,item:s})};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function KO(t){return Wie(t)||zie(t)||Uie(t)||qie()}function qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uie(t,e){if(t){if(typeof t=="string")return _5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(t,e)}}function zie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wie(t){if(Array.isArray(t))return _5(t)}function _5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){ku(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ku(t,e,r){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hie(t){var e=Vie(t,"string");return th(e)=="symbol"?e:e+""}function Vie(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bn(t,e,r){return Tt(t)||Tt(e)?r:wn(e)?Ta(t,e,r):Nt(e)?e(t):r}function Cf(t,e,r,n){var a=Wae(t,function(l){return bn(l,e)});if(r==="number"){var i=a.filter(function(l){return Me(l)||parseFloat(l)});return i.length?[Rv(i),Iv(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Tt(l)}):a;return s.map(function(l){return wn(l)||l instanceof Date?l:""})}var Gie=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Qn(f-d)!==Qn(p-f)){var g=[];if(Qn(p-f)===Qn(c[1]-c[0])){h=p;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{h=d;var v=p+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=a[u].index;break}}else{var j=Math.min(d,p),w=Math.max(d,p);if(e>(j+f)/2&&e<=(w+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},rN=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Hr(Hr({},e.type.defaultProps),e.props):e.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},Yie=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],m=g.items,v=g.cateAxisId,x=m.filter(function(k){return Ys(k.type).indexOf("Bar")>=0});if(x&&x.length){var j=x[0].type.defaultProps,w=j!==void 0?Hr(Hr({},j),x[0].props):x[0].props,_=w.barSize,N=w[v];s[N]||(s[N]=[]);var A=Tt(_)?r:_;s[N].push({item:x[0],stackList:x.slice(1),barSize:Tt(A)?void 0:ea(A,n,0)})}}return s},Kie=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=ea(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=a/c,g=s.reduce(function(_,N){return _+N.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(p=!0,h*=.9,g=c*h);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(_,N){var A={item:N.item,position:{offset:v.offset+v.size+u,size:p?h:N.barSize}},k=[].concat(KO(_),[A]);return v=k[k.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){k.push({item:E,position:v})}),k},f)}else{var x=ea(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var j=(a-2*x-(c-1)*u)/c;j>1&&(j>>=0);var w=l===+l?Math.min(j,l):j;d=s.reduce(function(_,N,A){var k=[].concat(KO(_),[{item:N.item,position:{offset:x+(j+u)*A+(j-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},f)}return d},Xie=function(e,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=aD({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&Me(e[h]))return Hr(Hr({},e),{},ku({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&Me(e[g]))return Hr(Hr({},e),{},ku({},g,e[g]+(p||0)))}return e},Zie=function(e,r,n){return Tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},iD=function(e,r,n,a,i){var s=r.props.children,l=Ia(s,Fh).filter(function(u){return Zie(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=bn(d,n);if(Tt(f))return u;var p=Array.isArray(f)?[Rv(f),Iv(f)]:[f,f],h=c.reduce(function(g,m){var v=bn(d,m,0),x=p[0]-Math.abs(Array.isArray(v)?v[0]:v),j=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(j,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},Jie=function(e,r,n,a,i){var s=r.map(function(l){return iD(e,l,n,i,a)}).filter(function(l){return!Tt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},sD=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&iD(e,c,u,a)||Cf(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},oD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},lD=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Hs=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Qn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Eh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},xw=new WeakMap,em=function(e,r){if(typeof r!="function")return e;xw.has(e)||xw.set(e,new WeakMap);var n=xw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},cD=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,l=e.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Gf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Qm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Pf(),realScaleType:"point"}:i==="category"?{scale:Gf(),realScaleType:"band"}:{scale:Qm(),realScaleType:"linear"};if(ec(a)){var c="scale".concat(xv(a));return{scale:(LO[c]||Pf)(),realScaleType:LO[c]?c:"point"}}return Nt(a)?{scale:a}:{scale:Pf(),realScaleType:"point"}},ZO=1e-4,uD=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-ZO,s=Math.max(a[0],a[1])+ZO,l=e(r[0]),c=e(r[n-1]);(l<i||l>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},Qie=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},ese=function(e,r){if(!r||r.length!==2||!Me(r[0])||!Me(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Me(e[0])||e[0]<n)&&(i[0]=n),(!Me(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},tse=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Eh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},rse=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Eh(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},nse={sign:tse,expand:WJ,none:Ru,silhouette:HJ,wiggle:VJ,positive:rse},ase=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=nse[n],s=zJ().keys(a).value(function(l,c){return+bn(l,c,0)}).order(J2).offset(i);return s(e)},ise=function(e,r,n,a,i,s){if(!e)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Hr(Hr({},p.type.defaultProps),p.props):p.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],j=f[x]||{hasStack:!1,stackGroups:{}};if(wn(m)){var w=j.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(p),j.hasStack=!0,j.stackGroups[m]=w}else j.stackGroups[gd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return Hr(Hr({},f),{},ku({},x,j))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var x=h.stackGroups[v];return Hr(Hr({},m),{},ku({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:ase(e,x.items,i)}))},g)}return Hr(Hr({},f),{},ku({},p,h))},d)},dD=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=xie(u,i,l);return e.domain([Rv(d),Iv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),p=bie(f,i,l);return{niceTicks:p}}return null};function JO(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Tt(a[e.dataKey])){var l=Rm(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=bn(a,Tt(s)?e.dataKey:s);return Tt(c)?null:e.scale(c)}var QO=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=bn(s,r.dataKey,r.domain[l]);return Tt(c)?null:r.scale(c)-i/2+a},sse=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},ose=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Hr(Hr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(wn(i)){var s=r[i];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},lse=function(e){return e.reduce(function(r,n){return[Rv(n.concat([r[0]]).filter(Me)),Iv(n.concat([r[1]]).filter(Me))]},[1/0,-1/0])},fD=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],l=s.stackedData,c=l.reduce(function(u,d){var f=lse(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},eE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j5=function(e,r,n){if(Nt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Me(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(eE.test(e[0])){var i=+eE.exec(e[0])[1];a[0]=r[0]-i}else Nt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Me(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(tE.test(e[1])){var s=+tE.exec(e[1])[1];a[1]=r[1]+s}else Nt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},sg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Oj(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},rE=function(e,r,n){return!e||!e.length||$h(e,Ta(n,"type.defaultProps.domain"))?r:e},hD=function(e,r){var n=e.type.defaultProps?Hr(Hr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Hr(Hr({},pt(e,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:rN(e),value:bn(r,a),type:c,payload:r,chartType:u,hide:d})};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){pD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pD(t,e,r){return e=cse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cse(t){var e=use(t,"string");return rh(e)=="symbol"?e:e+""}function use(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dse(t,e){return mse(t)||pse(t,e)||hse(t,e)||fse()}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function mse(t){if(Array.isArray(t))return t}var og=Math.PI/180,gse=function(e){return e*180/Math.PI},Sr=function(e,r,n,a){return{x:e+Math.cos(-og*a)*n,y:r+Math.sin(-og*a)*n}},mD=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vse=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=ea(e.cx,s,s/2),f=ea(e.cy,l,l/2),p=mD(s,l,n),h=ea(e.innerRadius,p,0),g=ea(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(v,x){var j=r[x],w=j.domain,_=j.reversed,N;if(Tt(j.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[h,g]),_&&(N=[N[1],N[0]]);else{N=j.range;var A=N,k=dse(A,2);c=k[0],u=k[1]}var E=cD(j,i),I=E.realScaleType,L=E.scale;L.domain(w).range(N),uD(L);var C=dD(L,Bs(Bs({},j),{},{realScaleType:I})),O=Bs(Bs(Bs({},j),C),{},{range:N,radius:g,realScaleType:I,scale:L,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return Bs(Bs({},v),{},pD({},x,O))},{})},yse=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},xse=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,l=yse({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:gse(u),angleInRadian:u}},bse=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},wse=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return e+l*360},iE=function(e,r){var n=e.x,a=e.y,i=xse({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=bse(r),f=d.startAngle,p=d.endAngle,h=l,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?Bs(Bs({},r),{},{radius:s,angle:wse(h,r)}):null},gD=function(e){return!S.isValidElement(e)&&!Nt(e)&&typeof e!="boolean"?e.className:""};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}var _se=["offset"];function jse(t){return kse(t)||Ase(t)||Sse(t)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sse(t,e){if(t){if(typeof t=="string")return N5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(t,e)}}function Ase(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kse(t){if(Array.isArray(t))return N5(t)}function N5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pse(t,e){if(t==null)return{};var r=Cse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){Ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ose(t,e,r){return e=Ese(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ese(t){var e=Tse(t,"string");return nh(e)=="symbol"?e:e+""}function Tse(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ah.apply(this,arguments)}var Ise=function(e){var r=e.value,n=e.formatter,a=Tt(e.children)?r:e.children;return Nt(n)?n(a):a},Rse=function(e,r){var n=Qn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},Lse=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+p)/2,x=Rse(h,g),j=x>=0?1:-1,w,_;a==="insideStart"?(w=h+j*s,_=m):a==="insideEnd"?(w=g-j*s,_=!m):a==="end"&&(w=g+j*s,_=m),_=x<=0?_:!_;var N=Sr(u,d,v,w),A=Sr(u,d,v,w+(_?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),E=Tt(e.id)?gd("recharts-radial-line-"):e.id;return K.createElement("text",ah({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:E,d:k})),K.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Mse=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Sr(s,l,u+n,p),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Sr(s,l,v,p),j=x.x,w=x.y;return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Dse=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",j=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return vn(vn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return vn(vn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return vn(vn({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:l+u+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return vn(vn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?vn({x:l+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideRight"?vn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideTop"?vn({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?vn({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?vn({x:l+v,y:c+p,textAnchor:j,verticalAnchor:g},k):i==="insideTopRight"?vn({x:l+u-v,y:c+p,textAnchor:x,verticalAnchor:g},k):i==="insideBottomLeft"?vn({x:l+v,y:c+d-p,textAnchor:j,verticalAnchor:h},k):i==="insideBottomRight"?vn({x:l+u-v,y:c+d-p,textAnchor:x,verticalAnchor:h},k):md(i)&&(Me(i.x)||Dl(i.x))&&(Me(i.y)||Dl(i.y))?vn({x:l+ea(i.x,u),y:c+ea(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):vn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},$se=function(e){return"cx"in e&&Me(e.cx)};function Pn(t){var e=t.offset,r=e===void 0?5:e,n=Pse(t,_se),a=vn({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||Tt(l)&&Tt(c)&&!S.isValidElement(u)&&!Nt(u))return null;if(S.isValidElement(u))return S.cloneElement(u,a);var h;if(Nt(u)){if(h=S.createElement(u,a),S.isValidElement(h))return h}else h=Ise(a);var g=$se(i),m=pt(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Lse(a,h,m);var v=g?Mse(a):Dse(a);return K.createElement(rc,ah({className:Rt("recharts-label",f)},m,v,{breakAll:p}),h)}Pn.displayName="Label";var vD=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,j=e.labelViewBox;if(j)return j;if(Me(m)&&Me(v)){if(Me(f)&&Me(p))return{x:f,y:p,width:m,height:v};if(Me(h)&&Me(g))return{x:h,y:g,width:m,height:v}}return Me(f)&&Me(p)?{x:f,y:p,width:0,height:0}:Me(r)&&Me(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Fse=function(e,r){return e?e===!0?K.createElement(Pn,{key:"label-implicit",viewBox:r}):wn(e)?K.createElement(Pn,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===Pn?S.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Pn,{key:"label-implicit",content:e,viewBox:r}):Nt(e)?K.createElement(Pn,{key:"label-implicit",content:e,viewBox:r}):md(e)?K.createElement(Pn,ah({viewBox:r},e,{key:"label-implicit"})):null:null},Bse=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=vD(e),s=Ia(a,Pn).map(function(c,u){return S.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=Fse(e.label,r||i);return[l].concat(jse(s))};Pn.parseViewBox=vD;Pn.renderCallByParent=Bse;var bw,oE;function qse(){if(oE)return bw;oE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return bw=t,bw}var Use=qse();const zse=dr(Use);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}var Wse=["valueAccessor"],Hse=["data","dataKey","clockWise","id","textBreakAll"];function Vse(t){return Xse(t)||Kse(t)||Yse(t)||Gse()}function Gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t,e){if(t){if(typeof t=="string")return S5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S5(t,e)}}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xse(t){if(Array.isArray(t))return S5(t)}function S5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(this,arguments)}function lE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(r),!0).forEach(function(n){Zse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zse(t,e,r){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jse(t){var e=Qse(t,"string");return ih(e)=="symbol"?e:e+""}function Qse(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uE(t,e){if(t==null)return{};var r=eoe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var toe=function(e){return Array.isArray(e.value)?zse(e.value):e.value};function Xs(t){var e=t.valueAccessor,r=e===void 0?toe:e,n=uE(t,Wse),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=uE(n,Hse);return!a||!a.length?null:K.createElement(Qt,{className:"recharts-label-list"},a.map(function(d,f){var p=Tt(i)?r(d,f):bn(d&&d.payload,i),h=Tt(l)?{}:{id:"".concat(l,"-").concat(f)};return K.createElement(Pn,lg({},pt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Pn.parseViewBox(Tt(s)?d:cE(cE({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Xs.displayName="LabelList";function roe(t,e){return t?t===!0?K.createElement(Xs,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Nt(t)?K.createElement(Xs,{key:"labelList-implicit",data:e,content:t}):md(t)?K.createElement(Xs,lg({data:e},t,{key:"labelList-implicit"})):null:null}function noe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ia(n,Xs).map(function(s,l){return S.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=roe(t.label,e);return[i].concat(Vse(a))}Xs.renderCallByParent=noe;function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function A5(){return A5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A5.apply(this,arguments)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){aoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aoe(t,e,r){return e=ioe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ioe(t){var e=soe(t,"string");return sh(e)=="symbol"?e:e+""}function soe(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ooe=function(e,r){var n=Qn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},tm=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/og,p=u?i:i+s*f,h=Sr(r,n,d,p),g=Sr(r,n,a,p),m=u?i-s*f:i,v=Sr(r,n,d*Math.cos(f*og),m);return{center:h,circleTangency:g,lineTangency:v,theta:f}},yD=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=ooe(s,l),u=s+c,d=Sr(r,n,i,s),f=Sr(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Sr(r,n,a,s),g=Sr(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},loe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Qn(d-u),p=tm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),h=p.circleTangency,g=p.lineTangency,m=p.theta,v=tm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,j=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):yD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var A=tm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=A.circleTangency,E=A.lineTangency,I=A.theta,L=tm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=L.circleTangency,O=L.lineTangency,R=L.theta,M=c?Math.abs(u-d):Math.abs(u-d)-I-R;if(M<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},coe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xD=function(e){var r=fE(fE({},coe),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<i||d===f)return null;var h=Rt("recharts-sector",p),g=s-i,m=ea(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=loe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=yD({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),K.createElement("path",A5({},pt(r,!0),{className:h,d:v,role:"img"}))};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function k5(){return k5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k5.apply(this,arguments)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){uoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uoe(t,e,r){return e=doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=foe(t,"string");return oh(e)=="symbol"?e:e+""}function foe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mE={curveBasisClosed:TJ,curveBasisOpen:IJ,curveBasis:EJ,curveBumpX:vJ,curveBumpY:yJ,curveLinearClosed:RJ,curveLinear:wv,curveMonotoneX:LJ,curveMonotoneY:MJ,curveNatural:DJ,curveStep:$J,curveStepAfter:BJ,curveStepBefore:FJ},rm=function(e){return e.x===+e.x&&e.y===+e.y},uf=function(e){return e.x},df=function(e){return e.y},hoe=function(e,r){if(Nt(e))return e;var n="curve".concat(xv(e));return(n==="curveMonotone"||n==="curveBump")&&r?mE["".concat(n).concat(r==="vertical"?"Y":"X")]:mE[n]||wv},poe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=hoe(n,l),f=u?i.filter(function(m){return rm(m)}):i,p;if(Array.isArray(s)){var h=u?s.filter(function(m){return rm(m)}):s,g=f.map(function(m,v){return pE(pE({},m),{},{base:h[v]})});return l==="vertical"?p=Gp().y(df).x1(uf).x0(function(m){return m.base.x}):p=Gp().x(uf).y1(df).y0(function(m){return m.base.y}),p.defined(rm).curve(d),p(g)}return l==="vertical"&&Me(s)?p=Gp().y(df).x1(uf).x0(s):Me(s)?p=Gp().x(uf).y1(df).y0(s):p=vL().x(uf).y(df),p.defined(rm).curve(d),p(f)},cg=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?poe(e):a;return S.createElement("path",k5({},pt(e,!1),Lm(e),{className:Rt("recharts-curve",r),d:s,ref:i}))},ww={exports:{}},_w,gE;function moe(){if(gE)return _w;gE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _w=t,_w}var jw,vE;function goe(){if(vE)return jw;vE=1;var t=moe();function e(){}function r(){}return r.resetWarningCache=e,jw=function(){function n(s,l,c,u,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},jw}var yE;function voe(){return yE||(yE=1,ww.exports=goe()()),ww.exports}var yoe=voe();const sr=dr(yoe);var xoe=Object.getOwnPropertyNames,boe=Object.getOwnPropertySymbols,woe=Object.prototype.hasOwnProperty;function xE(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function nm(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function bE(t){return xoe(t).concat(boe(t))}var _oe=Object.hasOwn||(function(t,e){return woe.call(t,e)});function xc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var joe="__v",Noe="__o",Soe="_owner",wE=Object.getOwnPropertyDescriptor,_E=Object.keys;function Aoe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function koe(t,e){return xc(t.getTime(),e.getTime())}function Poe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Coe(t,e){return t===e}function jE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var p=s.value,h=l.value;if(r.equals(p[0],h[0],c,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Ooe=xc;function Eoe(t,e,r){var n=_E(t),a=n.length;if(_E(e).length!==a)return!1;for(;a-- >0;)if(!bD(t,e,r,n[a]))return!1;return!0}function ff(t,e,r){var n=bE(t),a=n.length;if(bE(e).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!bD(t,e,r,i)||(s=wE(t,i),l=wE(e,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Toe(t,e){return xc(t.valueOf(),e.valueOf())}function Ioe(t,e){return t.source===e.source&&t.flags===e.flags}function NE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,l;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Roe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Loe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function bD(t,e,r,n){return(n===Soe||n===Noe||n===joe)&&(t.$$typeof||e.$$typeof)?!0:_oe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Moe="[object Arguments]",Doe="[object Boolean]",$oe="[object Date]",Foe="[object Error]",Boe="[object Map]",qoe="[object Number]",Uoe="[object Object]",zoe="[object RegExp]",Woe="[object Set]",Hoe="[object String]",Voe="[object URL]",Goe=Array.isArray,SE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AE=Object.assign,Yoe=Object.prototype.toString.call.bind(Object.prototype.toString);function Koe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?s(g,m,v):x==="function"?a(g,m,v):!1;var j=g.constructor;if(j!==m.constructor)return!1;if(j===Object)return l(g,m,v);if(Goe(g))return e(g,m,v);if(SE!=null&&SE(g))return f(g,m,v);if(j===Date)return r(g,m,v);if(j===RegExp)return u(g,m,v);if(j===Map)return i(g,m,v);if(j===Set)return d(g,m,v);var w=Yoe(g);return w===$oe?r(g,m,v):w===zoe?u(g,m,v):w===Boe?i(g,m,v):w===Woe?d(g,m,v):w===Uoe?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):w===Voe?p(g,m,v):w===Foe?n(g,m,v):w===Moe?l(g,m,v):w===Doe||w===qoe||w===Hoe?c(g,m,v):!1}}function Xoe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?ff:Aoe,areDatesEqual:koe,areErrorsEqual:Poe,areFunctionsEqual:Coe,areMapsEqual:n?xE(jE,ff):jE,areNumbersEqual:Ooe,areObjectsEqual:n?ff:Eoe,arePrimitiveWrappersEqual:Toe,areRegExpsEqual:Ioe,areSetsEqual:n?xE(NE,ff):NE,areTypedArraysEqual:n?ff:Roe,areUrlsEqual:Loe};if(r&&(a=AE({},a,r(a))),e){var i=nm(a.areArraysEqual),s=nm(a.areMapsEqual),l=nm(a.areObjectsEqual),c=nm(a.areSetsEqual);a=AE({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function Zoe(t){return function(e,r,n,a,i,s,l){return t(e,r,l)}}function Joe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var Qoe=el();el({strict:!0});el({circular:!0});el({circular:!0,strict:!0});el({createInternalComparator:function(){return xc}});el({strict:!0,createInternalComparator:function(){return xc}});el({circular:!0,createInternalComparator:function(){return xc}});el({circular:!0,createInternalComparator:function(){return xc},strict:!0});function el(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,l=Xoe(t),c=Koe(l),u=n?n(c):Zoe(c);return Joe({circular:r,comparator:c,createState:a,equals:u,strict:s})}function ele(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function kE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):ele(a)};requestAnimationFrame(n)}function P5(t){"@babel/helpers - typeof";return P5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P5(t)}function tle(t){return ile(t)||ale(t)||nle(t)||rle()}function rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(t,e){if(t){if(typeof t=="string")return PE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(t,e)}}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ile(t){if(Array.isArray(t))return t}function sle(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=tle(s),c=l[0],u=l.slice(1);if(typeof c=="number"){kE(a.bind(null,u),c);return}a(c),kE(a.bind(null,u));return}P5(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){wD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wD(t,e,r){return e=ole(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ole(t){var e=lle(t,"string");return lh(e)==="symbol"?e:String(e)}function lle(t,e){if(lh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cle=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ule=function(e){return e},dle=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Of=function(e,r){return Object.keys(r).reduce(function(n,a){return OE(OE({},n),{},wD({},a,e(a,r[a])))},{})},EE=function(e,r,n){return e.map(function(a){return"".concat(dle(a)," ").concat(r,"ms ").concat(n)}).join(",")};function fle(t,e){return mle(t)||ple(t,e)||_D(t,e)||hle()}function hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function mle(t){if(Array.isArray(t))return t}function gle(t){return xle(t)||yle(t)||_D(t)||vle()}function vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _D(t,e){if(t){if(typeof t=="string")return C5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C5(t,e)}}function yle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xle(t){if(Array.isArray(t))return C5(t)}function C5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ug=1e-4,jD=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},ND=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},TE=function(e,r){return function(n){var a=jD(e,r);return ND(a,n)}},ble=function(e,r){return function(n){var a=jD(e,r),i=[].concat(gle(a.map(function(s,l){return s*l}).slice(1)),[0]);return ND(i,n)}},IE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=fle(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=TE(a,s),p=TE(i,l),h=ble(a,s),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var j=x>1?1:x,w=j,_=0;_<8;++_){var N=f(w)-j,A=h(w);if(Math.abs(N-j)<ug||A<ug)return p(w);w=g(w-N/A)}return p(w)};return m.isStepper=!1,m},wle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,l=s===void 0?17:s,c=function(d,f,p){var h=-(d-f)*n,g=p*i,m=p+(h-g)*l/1e3,v=p*l/1e3+d;return Math.abs(v-f)<ug&&Math.abs(m)<ug?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},_le=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IE(a);case"spring":return wle();default:if(a.split("(")[0]==="cubic-bezier")return IE(a)}return typeof a=="function"?a:null};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function RE(t){return Sle(t)||Nle(t)||SD(t)||jle()}function jle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sle(t){if(Array.isArray(t))return E5(t)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){O5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O5(t,e,r){return e=Ale(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ale(t){var e=kle(t,"string");return ch(e)==="symbol"?e:String(e)}function kle(t,e){if(ch(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){return Ele(t)||Ole(t,e)||SD(t,e)||Cle()}function Cle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SD(t,e){if(t){if(typeof t=="string")return E5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E5(t,e)}}function E5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ole(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Ele(t){if(Array.isArray(t))return t}var dg=function(e,r,n){return e+(r-e)*n},T5=function(e){var r=e.from,n=e.to;return r!==n},Tle=function t(e,r,n){var a=Of(function(i,s){if(T5(s)){var l=e(s.from,s.to,s.velocity),c=Ple(l,2),u=c[0],d=c[1];return Ln(Ln({},s),{},{from:u,velocity:d})}return s},r);return n<1?Of(function(i,s){return T5(s)?Ln(Ln({},s),{},{velocity:dg(s.velocity,a[i].velocity,n),from:dg(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const Ile=(function(t,e,r,n,a){var i=cle(t,e),s=i.reduce(function(v,x){return Ln(Ln({},v),{},O5({},x,[t[x],e[x]]))},{}),l=i.reduce(function(v,x){return Ln(Ln({},v),{},O5({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Of(function(x,j){return j.from},l)},h=function(){return!Object.values(l).filter(T5).length},g=function(x){u||(u=x);var j=x-u,w=j/r.dt;l=Tle(r,l,w),a(Ln(Ln(Ln({},t),e),p())),u=x,h()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var j=(x-d)/n,w=Of(function(N,A){return dg.apply(void 0,RE(A).concat([r(j)]))},s);if(a(Ln(Ln(Ln({},t),e),w)),j<1)c=requestAnimationFrame(f);else{var _=Of(function(N,A){return dg.apply(void 0,RE(A).concat([r(1)]))},s);a(Ln(Ln(Ln({},t),e),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}var Rle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lle(t,e){if(t==null)return{};var r=Mle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mle(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Nw(t){return Ble(t)||Fle(t)||$le(t)||Dle()}function Dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return I5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(t,e)}}function Fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ble(t){if(Array.isArray(t))return I5(t)}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){bf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bf(t,e,r){return e=AD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ule(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AD(n.key),n)}}function zle(t,e,r){return e&&Ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AD(t){var e=Wle(t,"string");return zu(e)==="symbol"?e:String(e)}function Wle(t,e){if(zu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R5(t,e)}function R5(t,e){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R5(t,e)}function Vle(t){var e=Gle();return function(){var n=fg(t),a;if(e){var i=fg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return L5(this,a)}}function L5(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M5(t)}function M5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(t)}var ls=(function(t){Hle(r,t);var e=Vle(r);function r(n,a){var i;qle(this,r),i=e.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,p=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(M5(i)),i.changeStyle=i.changeStyle.bind(M5(i)),!l||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),L5(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},L5(i);i.state={style:c?bf({},c,u):u}}else i.state={style:{}};return i}return zle(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(l){if(!s){var h={style:c?bf({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(Qoe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&p){var v={style:c?bf({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(v)}this.runAnimation(fi(fi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=Ile(s,l,_le(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,v,x){if(x===0)return m;var j=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,A=v.properties,k=v.onAnimationEnd,E=x>0?s[x-1]:v,I=A||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(Nw(m),[i.runJSAnimation.bind(i,{from:E.style,to:N,duration:j,easing:_}),j]);var L=EE(I,j,_),C=fi(fi(fi({},E.style),N),{},{transition:L});return[].concat(Nw(m),[C,j,k]).filter(ule)};return this.manager.start([c].concat(Nw(s.reduce(h,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=sle());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=l?bf({},l,c):c,v=EE(Object.keys(m),s,u);g.start([d,i,fi(fi({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Lle(a,Rle),u=S.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,x=g.className,j=S.cloneElement(h,fi(fi({},c),{},{style:fi(fi({},v),d),className:x}));return j};return u===1?f(S.Children.only(i)):K.createElement("div",null,S.Children.map(i,function(p){return f(p)}))}}]),r})(S.PureComponent);ls.displayName="Animate";ls.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ls.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hg.apply(this,arguments)}function Yle(t,e){return Jle(t)||Zle(t,e)||Xle(t,e)||Kle()}function Kle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t,e){if(t){if(typeof t=="string")return DE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Jle(t){if(Array.isArray(t))return t}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){Qle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qle(t,e,r){return e=ece(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ece(t){var e=tce(t,"string");return uh(e)=="symbol"?e:e+""}function tce(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BE=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>s?s:i[p];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},rce=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),p=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},nce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nN=function(e){var r=FE(FE({},nce),e),n=S.useRef(),a=S.useState(-1),i=Yle(a,2),s=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Rt("recharts-rectangle",h);return j?K.createElement(ls,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:j},function(_){var N=_.width,A=_.height,k=_.x,E=_.y;return K.createElement(ls,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},K.createElement("path",hg({},pt(r,!0),{className:w,d:BE(k,E,N,A,p),ref:n})))}):K.createElement("path",hg({},pt(r,!0),{className:w,d:BE(c,u,d,f,p)}))},ace=["points","className","baseLinePoints","connectNulls"];function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mu.apply(this,arguments)}function ice(t,e){if(t==null)return{};var r=sce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qE(t){return uce(t)||cce(t)||lce(t)||oce()}function oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return D5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D5(t,e)}}function cce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uce(t){if(Array.isArray(t))return D5(t)}function D5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var UE=function(e){return e&&e.x===+e.x&&e.y===+e.y},dce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){UE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),UE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ef=function(e,r){var n=dce(e);r&&(n=[n.reduce(function(i,s){return[].concat(qE(i),qE(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},fce=function(e,r,n){var a=Ef(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ef(r.reverse(),n).slice(1))},hce=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=ice(e,ace);if(!r||!r.length)return null;var l=Rt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=fce(r,a,i);return K.createElement("g",{className:l},K.createElement("path",mu({},pt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?K.createElement("path",mu({},pt(s,!0),{fill:"none",d:Ef(r,i)})):null,c?K.createElement("path",mu({},pt(s,!0),{fill:"none",d:Ef(a,i)})):null)}var d=Ef(r,i);return K.createElement("path",mu({},pt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function $5(){return $5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$5.apply(this,arguments)}var Dv=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Rt("recharts-dot",i);return r===+r&&n===+n&&a===+a?S.createElement("circle",$5({},pt(e,!1),Lm(e),{className:s,cx:r,cy:n,r:a})):null};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var pce=["x","y","top","left","width","height","className"];function F5(){return F5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F5.apply(this,arguments)}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gce(t,e,r){return e=vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vce(t){var e=yce(t,"string");return dh(e)=="symbol"?e:e+""}function yce(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xce(t,e){if(t==null)return{};var r=bce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wce=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},_ce=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,g=e.className,m=xce(e,pce),v=mce({x:n,y:i,top:l,left:u,width:f,height:h},m);return!Me(n)||!Me(i)||!Me(f)||!Me(h)||!Me(l)||!Me(u)?null:K.createElement("path",F5({},pt(v,!0),{className:Rt("recharts-cross",g),d:wce(n,i,f,h,l,u)}))},Sw,WE;function jce(){if(WE)return Sw;WE=1;var t=Tv(),e=qM(),r=vs();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Sw=n,Sw}var Nce=jce();const Sce=dr(Nce);var Aw,HE;function Ace(){if(HE)return Aw;HE=1;var t=Tv(),e=vs(),r=UM();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Aw=n,Aw}var kce=Ace();const Pce=dr(kce);var Cce=["cx","cy","angle","ticks","axisLine"],Oce=["ticks","tick","angle","tickFormatter","stroke"];function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tf.apply(this,arguments)}function VE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(r),!0).forEach(function(n){$v(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GE(t,e){if(t==null)return{};var r=Ece(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ece(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PD(n.key),n)}}function Ice(t,e,r){return e&&YE(t.prototype,e),r&&YE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rce(t,e,r){return e=pg(e),Lce(t,kD()?Reflect.construct(e,r||[],pg(t).constructor):e.apply(t,r))}function Lce(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mce(t)}function Mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kD=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(t)}function Dce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B5(t,e)}function B5(t,e){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B5(t,e)}function $v(t,e,r){return e=PD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PD(t){var e=$ce(t,"string");return Wu(e)=="symbol"?e:e+""}function $ce(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fv=(function(t){function e(){return Tce(this,e),Rce(this,e,arguments)}return Dce(e,t),Ice(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return Sr(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=Sce(l,function(d){return d.coordinate||0}),u=Pce(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=GE(n,Cce),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Sr(a,i,d[0],s),p=Sr(a,i,d[1],s),h=Sl(Sl(Sl({},pt(u,!1)),{},{fill:"none"},pt(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return K.createElement("line",Tf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=GE(a,Oce),f=this.getTickTextAnchor(),p=pt(d,!1),h=pt(s,!1),g=i.map(function(m,v){var x=n.getTickValueCoord(m),j=Sl(Sl(Sl(Sl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:m});return K.createElement(Qt,Tf({className:Rt("recharts-polar-radius-axis-tick",gD(s)),key:"tick-".concat(m.coordinate)},tc(n.props,m,v)),e.renderTickItem(s,j,c?c(m.value,v):m.value))});return K.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:K.createElement(Qt,{className:Rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):Nt(n)?s=n(a):s=K.createElement(rc,Tf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(S.PureComponent);$v(Fv,"displayName","PolarRadiusAxis");$v(Fv,"axisType","radiusAxis");$v(Fv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ll.apply(this,arguments)}function KE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(r),!0).forEach(function(n){Bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OD(n.key),n)}}function Bce(t,e,r){return e&&XE(t.prototype,e),r&&XE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qce(t,e,r){return e=mg(e),Uce(t,CD()?Reflect.construct(e,r||[],mg(t).constructor):e.apply(t,r))}function Uce(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(t)}function zce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(t)}function Wce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q5(t,e)}function q5(t,e){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q5(t,e)}function Bv(t,e,r){return e=OD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OD(t){var e=Hce(t,"string");return Hu(e)=="symbol"?e:e+""}function Hce(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vce=Math.PI/180,ZE=1e-5,qv=(function(t){function e(){return Fce(this,e),qce(this,e,arguments)}return Wce(e,t),Bce(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Sr(i,s,l,n.coordinate),p=Sr(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Vce),s;return i>ZE?s=a==="outer"?"start":"end":i<-ZE?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Al(Al({},pt(this.props,!1)),{},{fill:"none"},pt(l,!1));if(c==="circle")return K.createElement(Dv,Ll({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(p){return Sr(a,i,s,p.coordinate)});return K.createElement(hce,Ll({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=pt(this.props,!1),f=pt(s,!1),p=Al(Al({},d),{},{fill:"none"},pt(l,!1)),h=i.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),j=Al(Al(Al({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return K.createElement(Qt,Ll({className:Rt("recharts-polar-angle-axis-tick",gD(s)),key:"tick-".concat(g.coordinate)},tc(n.props,g,m)),l&&K.createElement("line",Ll({className:"recharts-polar-angle-axis-tick-line"},p,v)),s&&e.renderTickItem(s,j,c?c(g.value,m):g.value))});return K.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:K.createElement(Qt,{className:Rt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return K.isValidElement(n)?s=K.cloneElement(n,a):Nt(n)?s=n(a):s=K.createElement(rc,Ll({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(S.PureComponent);Bv(qv,"displayName","PolarAngleAxis");Bv(qv,"axisType","angleAxis");Bv(qv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kw,JE;function Gce(){if(JE)return kw;JE=1;var t=BL(),e=t(Object.getPrototypeOf,Object);return kw=e,kw}var Pw,QE;function Yce(){if(QE)return Pw;QE=1;var t=ao(),e=Gce(),r=io(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,l=i.hasOwnProperty,c=s.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==c}return Pw=u,Pw}var Kce=Yce();const Xce=dr(Kce);var Cw,e6;function Zce(){if(e6)return Cw;e6=1;var t=ao(),e=io(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Cw=n,Cw}var Jce=Zce();const Qce=dr(Jce);function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gg.apply(this,arguments)}function eue(t,e){return aue(t)||nue(t,e)||rue(t,e)||tue()}function tue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){if(t){if(typeof t=="string")return t6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(t,e)}}function t6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function aue(t){if(Array.isArray(t))return t}function r6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function n6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(r),!0).forEach(function(n){iue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iue(t,e,r){return e=sue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sue(t){var e=oue(t,"string");return fh(e)=="symbol"?e:e+""}function oue(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a6=function(e,r,n,a,i){var s=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+i),l+="L ".concat(e+n-s/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},lue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cue=function(e){var r=n6(n6({},lue),e),n=S.useRef(),a=S.useState(-1),i=eue(a,2),s=i[0],l=i[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var j=Rt("recharts-trapezoid",h);return x?K.createElement(ls,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(w){var _=w.upperWidth,N=w.lowerWidth,A=w.height,k=w.x,E=w.y;return K.createElement(ls,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},K.createElement("path",gg({},pt(r,!0),{className:j,d:a6(k,E,_,N,A),ref:n})))}):K.createElement("g",null,K.createElement("path",gg({},pt(r,!0),{className:j,d:a6(c,u,d,f,p)})))},uue=["option","shapeType","propTransformer","activeClassName","isActive"];function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function due(t,e){if(t==null)return{};var r=fue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){hue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hue(t,e,r){return e=pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pue(t){var e=mue(t,"string");return hh(e)=="symbol"?e:e+""}function mue(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gue(t,e){return vg(vg({},e),t)}function vue(t,e){return t==="symbols"}function s6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(nN,r);case"trapezoid":return K.createElement(cue,r);case"sector":return K.createElement(xD,r);case"symbols":if(vue(e))return K.createElement(_j,r);break;default:return null}}function yue(t){return S.isValidElement(t)?t.props:t}function ED(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?gue:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,l=t.isActive,c=due(t,uue),u;if(S.isValidElement(e))u=S.cloneElement(e,vg(vg({},c),yue(e)));else if(Nt(e))u=e(c);else if(Xce(e)&&!Qce(e)){var d=a(e,c);u=K.createElement(s6,{shapeType:r,elementProps:d})}else{var f=c;u=K.createElement(s6,{shapeType:r,elementProps:f})}return l?K.createElement(Qt,{className:s},u):u}function Uv(t,e){return e!=null&&"trapezoids"in t.props}function zv(t,e){return e!=null&&"sectors"in t.props}function ph(t,e){return e!=null&&"points"in t.props}function xue(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function bue(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function wue(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function _ue(t,e){var r;return Uv(t,e)?r=xue:zv(t,e)?r=bue:ph(t,e)&&(r=wue),r}function jue(t,e){var r;return Uv(t,e)?r="trapezoids":zv(t,e)?r="sectors":ph(t,e)&&(r="points"),r}function Nue(t,e){if(Uv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ph(t,e)?e.payload:{}}function Sue(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=jue(r,e),i=Nue(r,e),s=n.filter(function(c,u){var d=$h(i,c),f=r.props[a].filter(function(g){var m=_ue(r,e);return m(g,e)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),l=n.indexOf(s[s.length-1]);return l}var wm;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}function o6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(r),!0).forEach(function(n){Ha(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ID(n.key),n)}}function kue(t,e,r){return e&&l6(t.prototype,e),r&&l6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,r){return e=yg(e),Cue(t,TD()?Reflect.construct(e,r||[],yg(t).constructor):e.apply(t,r))}function Cue(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U5(t,e)}function U5(t,e){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U5(t,e)}function Ha(t,e,r){return e=ID(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ID(t){var e=Tue(t,"string");return Vu(e)=="symbol"?e:e+""}function Tue(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ys=(function(t){function e(r){var n;return Aue(this,e),n=Pue(this,e,[r]),Ha(n,"pieRef",null),Ha(n,"sectorRefs",[]),Ha(n,"id",gd("recharts-pie-")),Ha(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(a)&&a()}),Ha(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Eue(e,t),kue(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=pt(this.props,!1),f=pt(s,!1),p=pt(l,!1),h=s&&s.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,j=Sr(m.cx,m.cy,m.outerRadius+h,x),w=jr(jr(jr(jr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(j.x,m.cx)},j),_=jr(jr(jr(jr({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:v,points:[Sr(m.cx,m.cy,m.outerRadius,x),j]}),N=c;return Tt(c)&&Tt(u)?N="value":Tt(c)&&(N=u),K.createElement(Qt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,_,"line"),e.renderLabelItem(s,w,bn(m,N)))});return K.createElement(Qt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?s:p,g=jr(jr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return K.createElement(Qt,gu({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},tc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),K.createElement(ED,gu({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return K.createElement(ls,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=i&&i[0],j=x.startAngle;return i.forEach(function(w,_){var N=p&&p[_],A=_>0?Ta(w,"paddingAngle",0):0;if(N){var k=ka(N.endAngle-N.startAngle,w.endAngle-w.startAngle),E=jr(jr({},w),{},{startAngle:j+A,endAngle:j+k(m)+A});v.push(E),j=E.endAngle}else{var I=w.endAngle,L=w.startAngle,C=ka(0,I-L),O=C(m),R=jr(jr({},w),{},{startAngle:j+A,endAngle:j+O+A});v.push(R),j=R.endAngle}}),K.createElement(Qt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!$h(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!Me(u)||!Me(d)||!Me(f)||!Me(p))return null;var m=Rt("recharts-pie",l);return K.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(s),Pn.renderCallByParent(this.props,null,!1),(!h||g)&&Xs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);if(Nt(n))return n(a);var s=Rt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(cg,gu({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);var s=i;if(Nt(n)&&(s=n(a),K.isValidElement(s)))return s;var l=Rt("recharts-pie-label-text",typeof n!="boolean"&&!Nt(n)?n.className:"");return K.createElement(rc,gu({},a,{alignmentBaseline:"middle",className:l}),s)}}])})(S.PureComponent);wm=ys;Ha(ys,"displayName","Pie");Ha(ys,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ha(ys,"parseDeltaAngle",function(t,e){var r=Qn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ha(ys,"getRealPieData",function(t){var e=t.data,r=t.children,n=pt(t,!1),a=Ia(r,Ih);return e&&e.length?e.map(function(i,s){return jr(jr(jr({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return jr(jr({},n),i.props)}):[]});Ha(ys,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=mD(a,i),l=n+ea(t.cx,a,a/2),c=r+ea(t.cy,i,i/2),u=ea(t.innerRadius,s,0),d=ea(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ha(ys,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?jr(jr({},e.type.defaultProps),e.props):e.props,a=wm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=wm.parseCoordinateOfPie(n,r),m=wm.parseDeltaAngle(s,l),v=Math.abs(m),x=u;Tt(u)&&Tt(f)?(ji(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Tt(u)&&(ji(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var j=a.filter(function(E){return bn(E,x,0)!==0}).length,w=(v>=360?j:j-1)*c,_=v-j*h-w,N=a.reduce(function(E,I){var L=bn(I,x,0);return E+(Me(L)?L:0)},0),A;if(N>0){var k;A=a.map(function(E,I){var L=bn(E,x,0),C=bn(E,d,I),O=(Me(L)?L:0)/N,R;I?R=k.endAngle+Qn(m)*c*(L!==0?1:0):R=s;var M=R+Qn(m)*((L!==0?h:0)+O*_),W=(R+M)/2,H=(g.innerRadius+g.outerRadius)/2,G=[{name:C,value:L,payload:E,dataKey:x,type:p}],F=Sr(g.cx,g.cy,H,W);return k=jr(jr(jr({percent:O,cornerRadius:i,name:C,tooltipPayload:G,midAngle:W,middleRadius:H,tooltipPosition:F},E),g),{},{value:bn(E,x),startAngle:R,endAngle:M,payload:E,paddingAngle:Qn(m)*c}),k})}return jr(jr({},g),{},{sectors:A,data:a})});var Ow,c6;function Iue(){if(c6)return Ow;c6=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++l]=n,n+=i;return u}return Ow=r,Ow}var Ew,u6;function RD(){if(u6)return Ew;u6=1;var t=rM(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Ew=n,Ew}var Tw,d6;function Rue(){if(d6)return Tw;d6=1;var t=Iue(),e=Sv(),r=RD();function n(a){return function(i,s,l){return l&&typeof l!="number"&&e(i,s,l)&&(s=l=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),l=l===void 0?i<s?1:-1:r(l),t(i,s,l,a)}}return Tw=n,Tw}var Iw,f6;function Lue(){if(f6)return Iw;f6=1;var t=Rue(),e=t();return Iw=e,Iw}var Mue=Lue();const xg=dr(Mue);function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){LD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LD(t,e,r){return e=Due(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Due(t){var e=$ue(t,"string");return mh(e)=="symbol"?e:e+""}function $ue(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fue=["Webkit","Moz","O","ms"],Bue=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Fue.reduce(function(i,s){return p6(p6({},i),{},LD({},s+n,r))},{});return a[e]=r,a};function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bg.apply(this,arguments)}function m6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(r),!0).forEach(function(n){Na(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DD(n.key),n)}}function Uue(t,e,r){return e&&g6(t.prototype,e),r&&g6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zue(t,e,r){return e=wg(e),Wue(t,MD()?Reflect.construct(e,r||[],wg(t).constructor):e.apply(t,r))}function Wue(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hue(t)}function Hue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MD=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(t)}function Vue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z5(t,e)}function z5(t,e){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z5(t,e)}function Na(t,e,r){return e=DD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DD(t){var e=Gue(t,"string");return Gu(e)=="symbol"?e:e+""}function Gue(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yue=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Pf().domain(xg(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},v6=function(e){return e.changedTouches&&!!e.changedTouches.length},Yu=(function(t){function e(r){var n;return que(this,e),n=zue(this,e,[r]),Na(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Na(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Na(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Na(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Na(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Na(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Na(n,"handleSlideDragStart",function(a){var i=v6(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Vue(e,t),Uue(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=e.getIndexInRange(s,f),g=e.getIndexInRange(s,p);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=bn(i[n],l,n);return Nt(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==p||v.endIndex!==h)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=v6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,f+p-h-u):j<0&&(j=Math.max(j,f-u)),x[s]=u+j;var w=this.getIndex(x),_=w.startIndex,N=w.endIndex,A=function(){var E=v.length-1;return s==="startX"&&(l>c?_%m===0:N%m===0)||l<c&&N===E||s==="endX"&&(l>c?N%m===0:_%m===0)||l>c&&N===E};this.setState(Na(Na({},s,u+j),"brushMoveStartX",n.pageX),function(){g&&A()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=l.length)){var h=l[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Na({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?K.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),j=Rw(Rw({},pt(this.props,!1)),{},{x,y:u,width:d,height:f}),w=h||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return K.createElement(Qt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,j))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return K.createElement(Qt,{className:"recharts-brush-texts"},K.createElement(rc,bg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+l/2},g),this.getTextOfTick(a)),K.createElement(rc,bg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:s+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,m=p.isTextActive,v=p.isSlideMoving,x=p.isTravellerMoving,j=p.isTravellerFocused;if(!a||!a.length||!Me(l)||!Me(c)||!Me(u)||!Me(d)||u<=0||d<=0)return null;var w=Rt("recharts-brush",i),_=K.Children.count(s)===1,N=Bue("userSelect","none");return K.createElement(Qt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return K.isValidElement(n)?i=K.cloneElement(n,a):Nt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Rw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?Yue({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])})(S.PureComponent);Na(Yu,"displayName","Brush");Na(Yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lw,y6;function Kue(){if(y6)return Lw;y6=1;var t=Cj();function e(r,n){var a;return t(r,function(i,s,l){return a=n(i,s,l),!a}),!!a}return Lw=e,Lw}var Mw,x6;function Xue(){if(x6)return Mw;x6=1;var t=IL(),e=vs(),r=Kue(),n=ha(),a=Sv();function i(s,l,c){var u=n(s)?t:r;return c&&a(s,l,c)&&(l=void 0),u(s,e(l,3))}return Mw=i,Mw}var Zue=Xue();const Jue=dr(Zue);var as=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Dw,b6;function Que(){if(b6)return Dw;b6=1;var t=ZL();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Dw=e,Dw}var $w,w6;function ede(){if(w6)return $w;w6=1;var t=Que(),e=KL(),r=vs();function n(a,i){var s={};return i=r(i,3),e(a,function(l,c,u){t(s,c,i(l,c,u))}),s}return $w=n,$w}var tde=ede();const rde=dr(tde);var Fw,_6;function nde(){if(_6)return Fw;_6=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Fw=t,Fw}var Bw,j6;function ade(){if(j6)return Bw;j6=1;var t=Cj();function e(r,n){var a=!0;return t(r,function(i,s,l){return a=!!n(i,s,l),a}),a}return Bw=e,Bw}var qw,N6;function ide(){if(N6)return qw;N6=1;var t=nde(),e=ade(),r=vs(),n=ha(),a=Sv();function i(s,l,c){var u=n(s)?t:e;return c&&a(s,l,c)&&(l=void 0),u(s,r(l,3))}return qw=i,qw}var sde=ide();const $D=dr(sde);var ode=["x","y"];function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W5.apply(this,arguments)}function S6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(r),!0).forEach(function(n){lde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lde(t,e,r){return e=cde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cde(t){var e=ude(t,"string");return gh(e)=="symbol"?e:e+""}function ude(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dde(t,e){if(t==null)return{};var r=fde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hde(t,e){var r=t.x,n=t.y,a=dde(t,ode),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return hf(hf(hf(hf(hf({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function A6(t){return K.createElement(ED,W5({shapeType:"rectangle",propTransformer:hde,activeClassName:"recharts-active-bar"},t))}var pde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Me(n)||$Z(n);return i?e(n,a):(i||ac(),r)}},mde=["value","background"],FD;function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function gde(t,e){if(t==null)return{};var r=vde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_g.apply(this,arguments)}function k6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(r),!0).forEach(function(n){$o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qD(n.key),n)}}function xde(t,e,r){return e&&P6(t.prototype,e),r&&P6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bde(t,e,r){return e=jg(e),wde(t,BD()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function wde(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _de(t)}function _de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H5(t,e)}function H5(t,e){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H5(t,e)}function $o(t,e,r){return e=qD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qD(t){var e=Nde(t,"string");return Ku(e)=="symbol"?e:e+""}function Nde(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tl=(function(t){function e(){var r;yde(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=bde(this,e,[].concat(a)),$o(r,"state",{isAnimationFinished:!1}),$o(r,"id",gd("recharts-bar-")),$o(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),$o(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return jde(e,t),xde(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=pt(this.props,!1);return n&&n.map(function(f,p){var h=p===c,g=h?u:s,m=ln(ln(ln({},d),f),{},{isActive:h,option:g,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Qt,_g({className:"recharts-bar-rectangle"},tc(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),K.createElement(A6,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return K.createElement(ls,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=i.map(function(v,x){var j=p&&p[x];if(j){var w=ka(j.x,v.x),_=ka(j.y,v.y),N=ka(j.width,v.width),A=ka(j.height,v.height);return ln(ln({},v),{},{x:w(g),y:_(g),width:N(g),height:A(g)})}if(s==="horizontal"){var k=ka(0,v.height),E=k(g);return ln(ln({},v),{},{y:v.y+v.height-E,height:E})}var I=ka(0,v.width),L=I(g);return ln(ln({},v),{},{width:L})});return K.createElement(Qt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!$h(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=pt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=gde(u,mde);if(!f)return null;var h=ln(ln(ln(ln(ln({},p),{},{fill:"#eee"},f),c),tc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(A6,_g({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ia(d,Fh);if(!f)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,h=function(v,x){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:bn(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Qt,g,f.map(function(m){return K.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Rt("recharts-bar",s),j=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=j||w,N=Tt(m)?this.id:m;return K.createElement(Qt,{className:x},j||w?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:j?u:u-f/2,y:w?d:d-p/2,width:j?f:f*2,height:w?p:p*2}))):null,K.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!h||v)&&Xs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(S.PureComponent);FD=tl;$o(tl,"displayName","Bar");$o(tl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$o(tl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=Qie(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?ln(ln({},m),r.props):r.props,x=v.dataKey,j=v.children,w=v.minPointSize,_=g==="horizontal"?s:i,N=u?_.scale.domain():null,A=sse({numericAxis:_}),k=Ia(j,Ih),E=f.map(function(I,L){var C,O,R,M,W,H;u?C=ese(u[d+L],N):(C=bn(I,x),Array.isArray(C)||(C=[A,C]));var G=pde(w,FD.defaultProps.minPointSize)(C[1],L);if(g==="horizontal"){var F,ae=[s.scale(C[0]),s.scale(C[1])],Q=ae[0],oe=ae[1];O=QO({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:I,index:L}),R=(F=oe??Q)!==null&&F!==void 0?F:void 0,M=h.size;var $=Q-oe;if(W=Number.isNaN($)?0:$,H={x:O,y:s.y,width:M,height:s.height},Math.abs(G)>0&&Math.abs(W)<Math.abs(G)){var U=Qn(W||G)*(Math.abs(G)-Math.abs(W));R-=U,W+=U}}else{var z=[i.scale(C[0]),i.scale(C[1])],J=z[0],le=z[1];if(O=J,R=QO({axis:s,ticks:c,bandSize:a,offset:h.offset,entry:I,index:L}),M=le-J,W=h.size,H={x:i.x,y:R,width:i.width,height:W},Math.abs(G)>0&&Math.abs(M)<Math.abs(G)){var se=Qn(M||G)*(Math.abs(G)-Math.abs(M));M+=se}}return ln(ln(ln({},I),{},{x:O,y:R,width:M,height:W,value:u?C:C[1],payload:I,background:H},k&&k[L]&&k[L].props),{},{tooltipPayload:[hD(r,I)],tooltipPosition:{x:O+M/2,y:R+W/2}})});return ln({data:E,layout:g},p)});function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function Sde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UD(n.key),n)}}function Ade(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(r),!0).forEach(function(n){Wv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wv(t,e,r){return e=UD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UD(t){var e=kde(t,"string");return vh(e)=="symbol"?e:e+""}function kde(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zD=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Sa(u,tl);return d.reduce(function(h,g){var m=r[g],v=m.orientation,x=m.domain,j=m.padding,w=j===void 0?{}:j,_=m.mirror,N=m.reversed,A="".concat(v).concat(_?"Mirror":""),k,E,I,L,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=x[1]-x[0],R=1/0,M=m.categoricalDomain.sort(qZ);if(M.forEach(function(z,J){J>0&&(R=Math.min((z||0)-(M[J-1]||0),R))}),Number.isFinite(R)){var W=R/O,H=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=W*H/2),m.padding==="no-gap"){var G=ea(e.barCategoryGap,W*H),F=W*H/2;k=F-G-(F-G)/H*G}}}a==="xAxis"?E=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:E=m.range,N&&(E=[E[1],E[0]]);var ae=cD(m,i,p),Q=ae.scale,oe=ae.realScaleType;Q.domain(x).range(E),uD(Q);var $=dD(Q,xi(xi({},m),{},{realScaleType:oe}));a==="xAxis"?(C=v==="top"&&!_||v==="bottom"&&_,I=n.left,L=f[A]-C*m.height):a==="yAxis"&&(C=v==="left"&&!_||v==="right"&&_,I=f[A]-C*m.width,L=n.top);var U=xi(xi(xi({},m),$),{},{realScaleType:oe,x:I,y:L,scale:Q,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return U.bandSize=sg(U,$),!m.hide&&a==="xAxis"?f[A]+=(C?-1:1)*U.height:m.hide||(f[A]+=(C?-1:1)*U.width),xi(xi({},h),{},Wv({},g,U))},{})},WD=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Pde=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return WD({x:r,y:n},{x:a,y:i})},HD=(function(){function t(e){Sde(this,t),this.scale=e}return Ade(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Wv(HD,"EPS",1e-4);var aN=function(e){var r=Object.keys(e).reduce(function(n,a){return xi(xi({},n),{},Wv({},a,HD.create(e[a])))},{});return xi(xi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return rde(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return $D(a,function(i,s){return r[s].isInRange(i)})}})};function Cde(t){return(t%180+180)%180}var Ode=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Cde(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Uw,E6;function Ede(){if(E6)return Uw;E6=1;var t=vs(),e=Th(),r=jv();function n(a){return function(i,s,l){var c=Object(i);if(!e(i)){var u=t(s,3);i=r(i),s=function(f){return u(c[f],f,c)}}var d=a(i,s,l);return d>-1?c[u?i[d]:d]:void 0}}return Uw=n,Uw}var zw,T6;function Tde(){if(T6)return zw;T6=1;var t=RD();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return zw=e,zw}var Ww,I6;function Ide(){if(I6)return Ww;I6=1;var t=WL(),e=vs(),r=Tde(),n=Math.max;function a(i,s,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(s,3),u)}return Ww=a,Ww}var Hw,R6;function Rde(){if(R6)return Hw;R6=1;var t=Ede(),e=Ide(),r=t(e);return Hw=r,Hw}var Lde=Rde();const Mde=dr(Lde);var Dde=sL();const $de=dr(Dde);var Fde=$de(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iN=S.createContext(void 0),sN=S.createContext(void 0),VD=S.createContext(void 0),GD=S.createContext({}),YD=S.createContext(void 0),KD=S.createContext(0),XD=S.createContext(0),L6=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Fde(i);return K.createElement(iN.Provider,{value:n},K.createElement(sN.Provider,{value:a},K.createElement(GD.Provider,{value:i},K.createElement(VD.Provider,{value:d},K.createElement(YD.Provider,{value:s},K.createElement(KD.Provider,{value:u},K.createElement(XD.Provider,{value:c},l)))))))},Bde=function(){return S.useContext(YD)},ZD=function(e){var r=S.useContext(iN);r==null&&ac();var n=r[e];return n==null&&ac(),n},qde=function(){var e=S.useContext(iN);return Ro(e)},Ude=function(){var e=S.useContext(sN),r=Mde(e,function(n){return $D(n.domain,Number.isFinite)});return r||Ro(e)},JD=function(e){var r=S.useContext(sN);r==null&&ac();var n=r[e];return n==null&&ac(),n},zde=function(){var e=S.useContext(VD);return e},Wde=function(){return S.useContext(GD)},oN=function(){return S.useContext(XD)},lN=function(){return S.useContext(KD)};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e7(n.key),n)}}function Gde(t,e,r){return e&&Vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yde(t,e,r){return e=Ng(e),Kde(t,QD()?Reflect.construct(e,r||[],Ng(t).constructor):e.apply(t,r))}function Kde(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xde(t)}function Xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(t)}function Zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V5(t,e)}function V5(t,e){return V5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V5(t,e)}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){cN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cN(t,e,r){return e=e7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e7(t){var e=Jde(t,"string");return Xu(e)=="symbol"?e:e+""}function Jde(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qde(t,e){return nfe(t)||rfe(t,e)||tfe(t,e)||efe()}function efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(t,e){if(t){if(typeof t=="string")return $6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $6(t,e)}}function $6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function nfe(t){if(Array.isArray(t))return t}function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G5.apply(this,arguments)}var afe=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Nt(e)?n=e(r):n=K.createElement("line",G5({},r,{className:"recharts-reference-line-line"})),n},ife=function(e,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:s});if(as(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+p,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,j=e.x.apply(x,{position:s});if(as(u,"discard")&&!e.x.isInRange(j))return null;var w=[{x:j,y:f+h},{x:j,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,N=_.map(function(A){return e.apply(A,{position:s})});return as(u,"discard")&&Jue(N,function(A){return!e.isInRange(A)})?null:N}return null};function sfe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=Bde(),d=ZD(a),f=JD(i),p=zde();if(!u||!p)return null;ji(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=aN({x:d.scale,y:f.scale}),g=wn(e),m=wn(r),v=n&&n.length===2,x=ife(h,g,m,v,p,t.position,d.orientation,f.orientation,t);if(!x)return null;var j=Qde(x,2),w=j[0],_=w.x,N=w.y,A=j[1],k=A.x,E=A.y,I=as(t,"hidden")?"url(#".concat(u,")"):void 0,L=D6(D6({clipPath:I},pt(t,!0)),{},{x1:_,y1:N,x2:k,y2:E});return K.createElement(Qt,{className:Rt("recharts-reference-line",l)},afe(s,L),Pn.renderCallByParent(t,Pde({x1:_,y1:N,x2:k,y2:E})))}var uN=(function(t){function e(){return Hde(this,e),Yde(this,e,arguments)}return Zde(e,t),Gde(e,[{key:"render",value:function(){return K.createElement(sfe,this.props)}}])})(K.Component);cN(uN,"displayName","ReferenceLine");cN(uN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){Hv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ofe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r7(n.key),n)}}function cfe(t,e,r){return e&&lfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ufe(t,e,r){return e=Sg(e),dfe(t,t7()?Reflect.construct(e,r||[],Sg(t).constructor):e.apply(t,r))}function dfe(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ffe(t)}function ffe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(t)}function hfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K5(t,e)}function K5(t,e){return K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K5(t,e)}function Hv(t,e,r){return e=r7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r7(t){var e=pfe(t,"string");return Zu(e)=="symbol"?e:e+""}function pfe(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mfe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=aN({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return as(e,"discard")&&!s.isInRange(l)?null:l},Vv=(function(t){function e(){return ofe(this,e),ufe(this,e,arguments)}return hfe(e,t),cfe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=wn(a),d=wn(i);if(ji(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=mfe(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,m=g.shape,v=g.className,x=as(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=B6(B6({clipPath:x},pt(this.props,!0)),{},{cx:p,cy:h});return K.createElement(Qt,{className:Rt("recharts-reference-dot",v)},e.renderDot(m,j),Pn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])})(K.Component);Hv(Vv,"displayName","ReferenceDot");Hv(Vv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hv(Vv,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Nt(t)?r=t(e):r=K.createElement(Dv,Y5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function X5(){return X5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X5.apply(this,arguments)}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(r),!0).forEach(function(n){Gv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a7(n.key),n)}}function yfe(t,e,r){return e&&vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xfe(t,e,r){return e=Ag(e),bfe(t,n7()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function bfe(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wfe(t)}function wfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function _fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z5(t,e)}function Z5(t,e){return Z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z5(t,e)}function Gv(t,e,r){return e=a7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a7(t){var e=jfe(t,"string");return Ju(e)=="symbol"?e:e+""}function jfe(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nfe=function(e,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=aN({x:d.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return as(i,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:WD(h,g)},Yv=(function(t){function e(){return gfe(this,e),xfe(this,e,arguments)}return _fe(e,t),yfe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ji(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wn(a),p=wn(i),h=wn(s),g=wn(l),m=this.props.shape;if(!f&&!p&&!h&&!g&&!m)return null;var v=Nfe(f,p,h,g,this.props);if(!v&&!m)return null;var x=as(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(Qt,{className:Rt("recharts-reference-area",c)},e.renderRect(m,U6(U6({clipPath:x},pt(this.props,!0)),v)),Pn.renderCallByParent(this.props,v))}}])})(K.Component);Gv(Yv,"displayName","ReferenceArea");Gv(Yv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gv(Yv,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Nt(t)?r=t(e):r=K.createElement(nN,X5({},e,{className:"recharts-reference-area-rect"})),r});function i7(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Sfe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Ode(n,r)}function Afe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function kg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function kfe(t,e){return i7(t,e+1)}function Pfe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:i7(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},j=g.coordinate,w=c===0||kg(t,j,x,d,l);w||(c=0,d=s,u+=1),w&&(d=j+t*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(r),!0).forEach(function(n){Cfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cfe(t,e,r){return e=Ofe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ofe(t){var e=Efe(t,"string");return yh(e)=="symbol"?e:e+""}function Efe(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tfe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=e.start,c=e.end,u=function(p){var h=i[p],g,m=function(){return g===void 0&&(g=r(h,p)),g};if(p===s-1){var v=t*(h.coordinate+t*m()/2-c);i[p]=h=Un(Un({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else i[p]=h=Un(Un({},h),{},{tickCoord:h.coordinate});var x=kg(t,h.tickCoord,m,l,c);x&&(c=h.tickCoord-t*(m()/2+a),i[p]=Un(Un({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function Ife(t,e,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=e.start,u=e.end;if(i){var d=n[l-1],f=r(d,l-1),p=t*(d.coordinate+t*f/2-u);s[l-1]=d=Un(Un({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=kg(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),s[l-1]=Un(Un({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(j){var w=s[j],_,N=function(){return _===void 0&&(_=r(w,j)),_};if(j===0){var A=t*(w.coordinate-t*N()/2-c);s[j]=w=Un(Un({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else s[j]=w=Un(Un({},w),{},{tickCoord:w.coordinate});var k=kg(t,w.tickCoord,N,c,u);k&&(c=w.tickCoord+t*(N()/2+a),s[j]=Un(Un({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function dN(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Me(c)||gc.isSsr)return kfe(a,typeof c=="number"&&Me(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?kf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,_){var N=Nt(u)?u(w.value,_):w.value;return h==="width"?Sfe(kf(N,{fontSize:e,letterSpacing:r}),g,f):kf(N,{fontSize:e,letterSpacing:r})[h]},v=a.length>=2?Qn(a[1].coordinate-a[0].coordinate):1,x=Afe(i,v,h);return c==="equidistantPreserveStart"?Pfe(v,x,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=Ife(v,x,m,a,s,c==="preserveStartEnd"):p=Tfe(v,x,m,a,s),p.filter(function(j){return j.isShow}))}var Rfe=["viewBox"],Lfe=["viewBox"],Mfe=["ticks"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vu.apply(this,arguments)}function W6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(r),!0).forEach(function(n){fN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vw(t,e){if(t==null)return{};var r=Dfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o7(n.key),n)}}function Ffe(t,e,r){return e&&H6(t.prototype,e),r&&H6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bfe(t,e,r){return e=Pg(e),qfe(t,s7()?Reflect.construct(e,r||[],Pg(t).constructor):e.apply(t,r))}function qfe(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(t)}function Ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}function zfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J5(t,e)}function J5(t,e){return J5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J5(t,e)}function fN(t,e,r){return e=o7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o7(t){var e=Wfe(t,"string");return Qu(e)=="symbol"?e:e+""}function Wfe(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wd=(function(t){function e(r){var n;return $fe(this,e),n=Bfe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return zfe(e,t),Ffe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Vw(n,Rfe),l=this.props,c=l.viewBox,u=Vw(l,Lfe);return!Su(i,c)||!Su(s,u)||!Su(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,g,m,v,x,j,w=f?-1:1,_=n.tickSize||d,N=Me(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,v=s+ +!f*c,m=v-w*_,j=m-w*p,x=N;break;case"left":m=v=n.coordinate,g=i+ +!f*l,h=g-w*_,x=h-w*p,j=N;break;case"right":m=v=n.coordinate,g=i+ +f*l,h=g+w*_,x=h+w*p,j=N;break;default:h=g=n.coordinate,v=s+ +f*c,m=v+w*_,j=m+w*p,x=N;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=gn(gn(gn({},pt(this.props,!1)),pt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=gn(gn({},f),{},{x1:a,y1:i+p*l,x2:a+s,y2:i+p*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=gn(gn({},f),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+l})}return K.createElement("line",vu({},f,{className:Rt("recharts-cartesian-axis-line",Ta(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,h=dN(gn(gn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=pt(this.props,!1),x=pt(d,!1),j=gn(gn({},v),{},{fill:"none"},pt(c,!1)),w=h.map(function(_,N){var A=s.getTickLineCoord(_),k=A.line,E=A.tick,I=gn(gn(gn(gn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),E),{},{index:N,payload:_,visibleTicksCount:h.length,tickFormatter:f});return K.createElement(Qt,vu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},tc(s.props,_,N)),c&&K.createElement("line",vu({},j,k,{className:Rt("recharts-cartesian-axis-tick-line",Ta(c,"className"))})),d&&e.renderTickItem(d,I,"".concat(Nt(f)?f(_.value,N):_.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=Vw(f,Mfe),g=p;return Nt(c)&&(g=p&&p.length>0?c(this.props):c(h)),s<=0||l<=0||!g||!g.length?null:K.createElement(Qt,{className:Rt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=Rt(a.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?s=K.cloneElement(n,gn(gn({},a),{},{className:l})):Nt(n)?s=n(gn(gn({},a),{},{className:l})):s=K.createElement(rc,vu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(S.Component);fN(wd,"displayName","CartesianAxis");fN(wd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hfe=["x1","y1","x2","y2","key"],Vfe=["offset"];function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function V6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(r),!0).forEach(function(n){Gfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gfe(t,e,r){return e=Yfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yfe(t){var e=Kfe(t,"string");return ic(e)=="symbol"?e:e+""}function Kfe(t,e){if(ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bl.apply(this,arguments)}function G6(t,e){if(t==null)return{};var r=Xfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zfe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function l7(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Nt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,l=e.key,c=G6(e,Hfe),u=pt(c,!1);u.offset;var d=G6(u,Vfe);r=K.createElement("line",Bl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function Jfe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=zn(zn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return l7(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Qfe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=zn(zn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return l7(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function ehe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?a+s-p:d[h+1]-p;if(m<=0)return null;var v=h%e.length;return K.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function the(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?i+l-p:d[h+1]-p;if(m<=0)return null;var v=h%n.length;return K.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rhe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return lD(dN(zn(zn(zn({},wd.defaultProps),n),{},{ticks:Hs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},nhe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return lD(dN(zn(zn(zn({},wd.defaultProps),n),{},{ticks:Hs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},ru={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hN(t){var e,r,n,a,i,s,l=oN(),c=lN(),u=Wde(),d=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ru.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ru.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ru.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:ru.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:ru.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ru.verticalFill,x:Me(t.x)?t.x:u.left,y:Me(t.y)?t.y:u.top,width:Me(t.width)?t.width:u.width,height:Me(t.height)?t.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,j=qde(),w=Ude();if(!Me(h)||h<=0||!Me(g)||g<=0||!Me(f)||f!==+f||!Me(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||rhe,N=d.horizontalCoordinatesGenerator||nhe,A=d.horizontalPoints,k=d.verticalPoints;if((!A||!A.length)&&Nt(N)){var E=v&&v.length,I=N({yAxis:w?zn(zn({},w),{},{ticks:E?v:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);ji(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ic(I),"]")),Array.isArray(I)&&(A=I)}if((!k||!k.length)&&Nt(_)){var L=x&&x.length,C=_({xAxis:j?zn(zn({},j),{},{ticks:L?x:j.ticks}):void 0,width:l,height:c,offset:u},L?!0:m);ji(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ic(C),"]")),Array.isArray(C)&&(k=C)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Zfe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(Jfe,Bl({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:w})),K.createElement(Qfe,Bl({},d,{offset:u,verticalPoints:k,xAxis:j,yAxis:w})),K.createElement(ehe,Bl({},d,{horizontalPoints:A})),K.createElement(the,Bl({},d,{verticalPoints:k})))}hN.displayName="CartesianGrid";var ahe=["type","layout","connectNulls","ref"],ihe=["key"];function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Y6(t,e){if(t==null)return{};var r=she(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function she(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},If.apply(this,arguments)}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nu(t){return uhe(t)||che(t)||lhe(t)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){if(t){if(typeof t=="string")return Q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(t,e)}}function che(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uhe(t){if(Array.isArray(t))return Q5(t)}function Q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u7(n.key),n)}}function fhe(t,e,r){return e&&X6(t.prototype,e),r&&X6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hhe(t,e,r){return e=Cg(e),phe(t,c7()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function phe(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mhe(t)}function mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c7=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e_(t,e)}function bi(t,e,r){return e=u7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u7(t){var e=vhe(t,"string");return ed(e)=="symbol"?e:e+""}function vhe(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bh=(function(t){function e(){var r;dhe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=hhe(this,e,[].concat(a)),bi(r,"state",{isAnimationFinished:!0,totalLength:0}),bi(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),bi(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(x,j){return x+j});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,p=l-s,h=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){h=[].concat(nu(c.slice(0,g)),[f-m]);break}var v=h.length%2===0?[0,p]:[p];return[].concat(nu(e.repeat(c,d)),nu(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),bi(r,"id",gd("recharts-line-")),bi(r,"pathRef",function(s){r.mainCurve=s}),bi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),bi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ghe(e,t),fhe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ia(d,Fh);if(!f)return null;var p=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:bn(m.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(Qt,h,f.map(function(g){return K.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=pt(this.props,!1),p=pt(c,!0),h=u.map(function(m,v){var x=ja(ja(ja({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Qt,If({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Y6(l,ahe),p=ja(ja(ja({},pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return K.createElement(cg,If({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,x=this.state,j=x.prevPoints,w=x.totalLength;return K.createElement(ls,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(j){var A=j.length/l.length,k=l.map(function(O,R){var M=Math.floor(R*A);if(j[M]){var W=j[M],H=ka(W.x,O.x),G=ka(W.y,O.y);return ja(ja({},O),{},{x:H(N),y:G(N)})}if(g){var F=ka(m*2,O.x),ae=ka(v/2,O.y);return ja(ja({},O),{},{x:F(N),y:ae(N)})}return ja(ja({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(k,n,a)}var E=ka(0,w),I=E(N),L;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});L=i.getStrokeDasharray(I,w,C)}else L=i.generateSimpleStrokeDasharray(w,I);return i.renderCurveStatically(l,n,a,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!$h(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,p=a.left,h=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,j=l.length===1,w=Rt("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,A=_||N,k=Tt(v)?this.id:v,E=(n=pt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=E.r,L=I===void 0?3:I,C=E.strokeWidth,O=C===void 0?2:C,R=XZ(s)?s:{},M=R.clipDot,W=M===void 0?!0:M,H=L*2+O;return K.createElement(Qt,{className:w},_||N?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(k)},K.createElement("rect",{x:_?p:p-h/2,y:N?f:f-g/2,width:_?h:h*2,height:N?g:g*2})),!W&&K.createElement("clipPath",{id:"clipPath-dots-".concat(k)},K.createElement("rect",{x:p-H/2,y:f-H/2,width:h+H,height:g+H}))):null,!j&&this.renderCurve(A,k),this.renderErrorBar(A,k),(j||s)&&this.renderDots(A,W,k),(!m||x)&&Xs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(nu(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(nu(s),nu(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(K.isValidElement(n))i=K.cloneElement(n,a);else if(Nt(n))i=n(a);else{var s=a.key,l=Y6(a,ihe),c=Rt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=K.createElement(Dv,If({key:s},l,{className:c}))}return i}}])})(S.PureComponent);bi(Bh,"displayName","Line");bi(Bh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bi(Bh,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(p,h){var g=bn(p,s);return d==="horizontal"?{x:JO({axis:r,ticks:a,bandSize:l,entry:p,index:h}),y:Tt(g)?null:n.scale(g),value:g,payload:p}:{x:Tt(g)?null:r.scale(g),y:JO({axis:n,ticks:i,bandSize:l,entry:p,index:h}),value:g,payload:p}});return ja({points:f,layout:d},u)});function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h7(n.key),n)}}function bhe(t,e,r){return e&&xhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function whe(t,e,r){return e=Og(e),_he(t,d7()?Reflect.construct(e,r||[],Og(t).constructor):e.apply(t,r))}function _he(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(t)}function jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d7=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}function Nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t_(t,e)}function f7(t,e,r){return e=h7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h7(t){var e=She(t,"string");return td(e)=="symbol"?e:e+""}function She(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r_.apply(this,arguments)}function Ahe(t){var e=t.xAxisId,r=oN(),n=lN(),a=ZD(e);return a==null?null:S.createElement(wd,r_({},a,{className:Rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Hs(s,!0)}}))}var _d=(function(t){function e(){return yhe(this,e),whe(this,e,arguments)}return Nhe(e,t),bhe(e,[{key:"render",value:function(){return S.createElement(Ahe,this.props)}}])})(S.Component);f7(_d,"displayName","XAxis");f7(_d,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function khe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Phe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g7(n.key),n)}}function Che(t,e,r){return e&&Phe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ohe(t,e,r){return e=Eg(e),Ehe(t,p7()?Reflect.construct(e,r||[],Eg(t).constructor):e.apply(t,r))}function Ehe(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return The(t)}function The(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p7=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}function Ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n_(t,e)}function m7(t,e,r){return e=g7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g7(t){var e=Rhe(t,"string");return rd(e)=="symbol"?e:e+""}function Rhe(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_.apply(this,arguments)}var Lhe=function(e){var r=e.yAxisId,n=oN(),a=lN(),i=JD(r);return i==null?null:S.createElement(wd,a_({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Hs(l,!0)}}))},sc=(function(t){function e(){return khe(this,e),Ohe(this,e,arguments)}return Ihe(e,t),Che(e,[{key:"render",value:function(){return S.createElement(Lhe,this.props)}}])})(S.Component);m7(sc,"displayName","YAxis");m7(sc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z6(t){return Fhe(t)||$he(t)||Dhe(t)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return i_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i_(t,e)}}function $he(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fhe(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s_=function(e,r,n,a,i){var s=Ia(e,uN),l=Ia(e,Vv),c=[].concat(Z6(s),Z6(l)),u=Ia(e,Yv),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(m,v){if(v.props[d]===n&&as(v.props,"extendDomain")&&Me(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(m,v){if(v.props[d]===n&&as(v.props,"extendDomain")&&Me(v.props[h])&&Me(v.props[g])){var x=v.props[h],j=v.props[g];return[Math.min(m[0],x,j),Math.max(m[1],x,j)]}return m},p)}return i&&i.length&&(p=i.reduce(function(m,v){return Me(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},p)),p},Gw={exports:{}},J6;function Bhe(){return J6||(J6=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,h,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,j,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,h),!0;case 6:return v.fn.call(v.context,d,f,p,h,g),!0}for(w=1,j=new Array(x-1);w<x;w++)j[w-1]=arguments[w];v.fn.apply(v.context,j)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,p);break;default:if(!j)for(N=1,j=new Array(x-1);N<x;N++)j[N-1]=arguments[N];v[w].fn.apply(v[w].context,j)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||p&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Gw)),Gw.exports}var qhe=Bhe();const Uhe=dr(qhe);var Yw=new Uhe,Kw="recharts.syncMouseEvents";function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Whe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v7(n.key),n)}}function Hhe(t,e,r){return e&&Whe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xw(t,e,r){return e=v7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v7(t){var e=Vhe(t,"string");return xh(e)=="symbol"?e:e+""}function Vhe(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ghe=(function(){function t(){zhe(this,t),Xw(this,"activeIndex",0),Xw(this,"coordinateList",[]),Xw(this,"layout","horizontal")}return Hhe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function Yhe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Me(n)&&Me(a))return!0}return!1}function Khe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function y7(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=Sr(e,r,n,a),l=Sr(e,r,n,i);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Xhe(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=Sr(l,c,u,f),h=Sr(l,c,d,f);n=p.x,a=p.y,i=h.x,s=h.y}else return y7(e);return[{x:n,y:a},{x:i,y:s}]}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function am(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(r),!0).forEach(function(n){Zhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zhe(t,e,r){return e=Jhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jhe(t){var e=Qhe(t,"string");return bh(e)=="symbol"?e:e+""}function Qhe(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function epe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var g,m=cg;if(p==="ScatterChart")g=s,m=_ce;else if(p==="BarChart")g=Khe(f,s,c,d),m=nN;else if(f==="radial"){var v=y7(s),x=v.cx,j=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;g={cx:x,cy:j,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},m=xD}else g={points:Xhe(f,s,c)},m=cg;var A=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},c),g),pt(h,!1)),{},{payload:l,payloadIndex:u,className:Rt("recharts-tooltip-cursor",h.className)});return S.isValidElement(h)?S.cloneElement(h,A):S.createElement(m,A)}var tpe=["item"],rpe=["children","className","width","height","style","compact","title","desc"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yu.apply(this,arguments)}function eT(t,e){return ipe(t)||ape(t,e)||b7(t,e)||npe()}function npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ape(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ipe(t){if(Array.isArray(t))return t}function tT(t,e){if(t==null)return{};var r=spe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function spe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w7(n.key),n)}}function cpe(t,e,r){return e&&lpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function upe(t,e,r){return e=Tg(e),dpe(t,x7()?Reflect.construct(e,r||[],Tg(t).constructor):e.apply(t,r))}function dpe(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fpe(t)}function fpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(t)}function hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o_(t,e)}function ad(t){return gpe(t)||mpe(t)||b7(t)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7(t,e){if(t){if(typeof t=="string")return l_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(t,e)}}function mpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gpe(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mt(t,e,r){return e=w7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t){var e=vpe(t,"string");return nd(e)=="symbol"?e:e+""}function vpe(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ype={xAxis:["bottom","top"],yAxis:["left","right"]},xpe={width:"100%",height:"100%"},_7={x:0,y:0};function im(t){return t}var bpe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},wpe=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,l=a.radius;return je(je(je({},a),Sr(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return je(je(je({},a),Sr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return _7},Kv=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ad(l),ad(u)):l},[]);return s.length>0?s:e&&e.length&&Me(a)&&Me(i)?e.slice(a,i+1):[]};function j7(t){return t==="number"?[0,"auto"]:void 0}var c_=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,l=Kv(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?l:f;p=Rm(h,s.dataKey,a)}else p=f&&f[n]||l[n];return p?[].concat(ad(c),[hD(u,p)]):c},[])},nT=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=bpe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Gie(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=c_(e,r,d,f),h=wpe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},_pe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=oD(d,i);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?je(je({},m.type.defaultProps),m.props):m.props,j=x.type,w=x.dataKey,_=x.allowDataOverflow,N=x.allowDuplicatedCategory,A=x.scale,k=x.ticks,E=x.includeHidden,I=x[s];if(g[I])return g;var L=Kv(e.data,{graphicalItems:a.filter(function($){var U,z=s in $.props?$.props[s]:(U=$.type.defaultProps)===null||U===void 0?void 0:U[s];return z===I}),dataStartIndex:c,dataEndIndex:u}),C=L.length,O,R,M;Yhe(x.domain,_,j)&&(O=j5(x.domain,null,_),h&&(j==="number"||A!=="auto")&&(M=Cf(L,w,"category")));var W=j7(j);if(!O||O.length===0){var H,G=(H=x.domain)!==null&&H!==void 0?H:W;if(w){if(O=Cf(L,w,j),j==="category"&&h){var F=BZ(O);N&&F?(R=O,O=xg(0,C)):N||(O=rE(G,O,m).reduce(function($,U){return $.indexOf(U)>=0?$:[].concat(ad($),[U])},[]))}else if(j==="category")N?O=O.filter(function($){return $!==""&&!Tt($)}):O=rE(G,O,m).reduce(function($,U){return $.indexOf(U)>=0||U===""||Tt(U)?$:[].concat(ad($),[U])},[]);else if(j==="number"){var ae=Jie(L,a.filter(function($){var U,z,J=s in $.props?$.props[s]:(U=$.type.defaultProps)===null||U===void 0?void 0:U[s],le="hide"in $.props?$.props.hide:(z=$.type.defaultProps)===null||z===void 0?void 0:z.hide;return J===I&&(E||!le)}),w,i,d);ae&&(O=ae)}h&&(j==="number"||A!=="auto")&&(M=Cf(L,w,"category"))}else h?O=xg(0,C):l&&l[I]&&l[I].hasStack&&j==="number"?O=p==="expand"?[0,1]:fD(l[I].stackGroups,c,u):O=sD(L,a.filter(function($){var U=s in $.props?$.props[s]:$.type.defaultProps[s],z="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return U===I&&(E||!z)}),j,d,!0);if(j==="number")O=s_(f,O,I,i,k),G&&(O=j5(G,O,_));else if(j==="category"&&G){var Q=G,oe=O.every(function($){return Q.indexOf($)>=0});oe&&(O=Q)}}return je(je({},g),{},mt({},I,je(je({},x),{},{axisType:i,domain:O,categoricalDomain:M,duplicateDomain:R,originalDomain:(v=x.domain)!==null&&v!==void 0?v:W,isCategorical:h,layout:d})))},{})},jpe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=Kv(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,g=oD(d,i),m=-1;return n.reduce(function(v,x){var j=x.type.defaultProps!==void 0?je(je({},x.type.defaultProps),x.props):x.props,w=j[s],_=j7("number");if(!v[w]){m++;var N;return g?N=xg(0,h):l&&l[w]&&l[w].hasStack?(N=fD(l[w].stackGroups,c,u),N=s_(f,N,w,i)):(N=j5(_,sD(p,n.filter(function(A){var k,E,I=s in A.props?A.props[s]:(k=A.type.defaultProps)===null||k===void 0?void 0:k[s],L="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===w&&!L}),"number",d),a.defaultProps.allowDataOverflow),N=s_(f,N,w,i)),je(je({},v),{},mt({},w,je(je({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ta(ype,"".concat(i,".").concat(m%2),null),domain:N,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},Npe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=Ia(d,i),h={};return p&&p.length?h=_pe(e,{axes:p,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(h=jpe(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Spe=function(e){var r=Ro(e),n=Hs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Oj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sg(r,n)}},aT=function(e){var r=e.children,n=e.defaultShowTooltip,a=Sa(r,Yu),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Ape=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ys(r&&r.type);return n&&n.indexOf("Bar")>=0})},iT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kpe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Sa(f,Yu),g=Sa(f,Hl),m=Object.keys(c).reduce(function(N,A){var k=c[A],E=k.orientation;return!k.mirror&&!k.hide?je(je({},N),{},mt({},E,N[E]+k.width)):N},{left:p.left||0,right:p.right||0}),v=Object.keys(s).reduce(function(N,A){var k=s[A],E=k.orientation;return!k.mirror&&!k.hide?je(je({},N),{},mt({},E,Ta(N,"".concat(E))+k.height)):N},{top:p.top||0,bottom:p.bottom||0}),x=je(je({},v),m),j=x.bottom;h&&(x.bottom+=h.props.height||Yu.defaultProps.height),g&&r&&(x=Xie(x,a,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return je(je({brushBottom:j},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},Ppe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},pN=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(x,j){var w=j.graphicalItems,_=j.stackGroups,N=j.offset,A=j.updateId,k=j.dataStartIndex,E=j.dataEndIndex,I=x.barSize,L=x.layout,C=x.barGap,O=x.barCategoryGap,R=x.maxBarSize,M=iT(L),W=M.numericAxisName,H=M.cateAxisName,G=Ape(w),F=[];return w.forEach(function(ae,Q){var oe=Kv(x.data,{graphicalItems:[ae],dataStartIndex:k,dataEndIndex:E}),$=ae.type.defaultProps!==void 0?je(je({},ae.type.defaultProps),ae.props):ae.props,U=$.dataKey,z=$.maxBarSize,J=$["".concat(W,"Id")],le=$["".concat(H,"Id")],se={},de=c.reduce(function($e,Ke){var Ge=j["".concat(Ke.axisType,"Map")],Wt=$["".concat(Ke.axisType,"Id")];Ge&&Ge[Wt]||Ke.axisType==="zAxis"||ac();var vt=Ge[Wt];return je(je({},$e),{},mt(mt({},Ke.axisType,vt),"".concat(Ke.axisType,"Ticks"),Hs(vt)))},se),ie=de[H],he=de["".concat(H,"Ticks")],ge=_&&_[J]&&_[J].hasStack&&ose(ae,_[J].stackGroups),ue=Ys(ae.type).indexOf("Bar")>=0,Ce=sg(ie,he),me=[],ee=G&&Yie({barSize:I,stackGroups:_,totalSize:Ppe(de,H)});if(ue){var Ve,Ue,We=Tt(z)?R:z,Pe=(Ve=(Ue=sg(ie,he,!0))!==null&&Ue!==void 0?Ue:We)!==null&&Ve!==void 0?Ve:0;me=Kie({barGap:C,barCategoryGap:O,bandSize:Pe!==Ce?Pe:Ce,sizeList:ee[le],maxBarSize:We}),Pe!==Ce&&(me=me.map(function($e){return je(je({},$e),{},{position:je(je({},$e.position),{},{offset:$e.position.offset-Pe/2})})}))}var Qe=ae&&ae.type&&ae.type.getComposedData;Qe&&F.push({props:je(je({},Qe(je(je({},de),{},{displayedData:oe,props:x,dataKey:U,item:ae,bandSize:Ce,barPosition:me,offset:N,stackedData:ge,layout:L,dataStartIndex:k,dataEndIndex:E}))),{},mt(mt(mt({key:ae.key||"item-".concat(Q)},W,de[W]),H,de[H]),"animationId",A)),childIndex:QZ(ae,x.children),item:ae})}),F},h=function(x,j){var w=x.props,_=x.dataStartIndex,N=x.dataEndIndex,A=x.updateId;if(!gP({props:w}))return null;var k=w.children,E=w.layout,I=w.stackOffset,L=w.data,C=w.reverseStackOrder,O=iT(E),R=O.numericAxisName,M=O.cateAxisName,W=Ia(k,n),H=ise(L,W,"".concat(R,"Id"),"".concat(M,"Id"),I,C),G=c.reduce(function($,U){var z="".concat(U.axisType,"Map");return je(je({},$),{},mt({},z,Npe(w,je(je({},U),{},{graphicalItems:W,stackGroups:U.axisType===R&&H,dataStartIndex:_,dataEndIndex:N}))))},{}),F=kpe(je(je({},G),{},{props:w,graphicalItems:W}),j==null?void 0:j.legendBBox);Object.keys(G).forEach(function($){G[$]=d(w,G[$],F,$.replace("Map",""),r)});var ae=G["".concat(M,"Map")],Q=Spe(ae),oe=p(w,je(je({},G),{},{dataStartIndex:_,dataEndIndex:N,updateId:A,graphicalItems:W,stackGroups:H,offset:F}));return je(je({formattedGraphicalItems:oe,graphicalItems:W,offset:F,stackGroups:H},Q),G)},g=(function(v){function x(j){var w,_,N;return ope(this,x),N=upe(this,x,[j]),mt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(N,"accessibilityManager",new Ghe),mt(N,"handleLegendBBoxUpdate",function(A){if(A){var k=N.state,E=k.dataStartIndex,I=k.dataEndIndex,L=k.updateId;N.setState(je({legendBBox:A},h({props:N.props,dataStartIndex:E,dataEndIndex:I,updateId:L},je(je({},N.state),{},{legendBBox:A}))))}}),mt(N,"handleReceiveSyncEvent",function(A,k,E){if(N.props.syncId===A){if(E===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(k)}}),mt(N,"handleBrushChange",function(A){var k=A.startIndex,E=A.endIndex;if(k!==N.state.dataStartIndex||E!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return je({dataStartIndex:k,dataEndIndex:E},h({props:N.props,dataStartIndex:k,dataEndIndex:E,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),mt(N,"handleMouseEnter",function(A){var k=N.getMouseInfo(A);if(k){var E=je(je({},k),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var I=N.props.onMouseEnter;Nt(I)&&I(E,A)}}),mt(N,"triggeredAfterMouseMove",function(A){var k=N.getMouseInfo(A),E=k?je(je({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var I=N.props.onMouseMove;Nt(I)&&I(E,A)}),mt(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),mt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),mt(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),mt(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var E=N.props.onMouseLeave;Nt(E)&&E(k,A)}),mt(N,"handleOuterEvent",function(A){var k=JZ(A),E=Ta(N.props,"".concat(k));if(k&&Nt(E)){var I,L;/.*touch.*/i.test(k)?L=N.getMouseInfo(A.changedTouches[0]):L=N.getMouseInfo(A),E((I=L)!==null&&I!==void 0?I:{},A)}}),mt(N,"handleClick",function(A){var k=N.getMouseInfo(A);if(k){var E=je(je({},k),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var I=N.props.onClick;Nt(I)&&I(E,A)}}),mt(N,"handleMouseDown",function(A){var k=N.props.onMouseDown;if(Nt(k)){var E=N.getMouseInfo(A);k(E,A)}}),mt(N,"handleMouseUp",function(A){var k=N.props.onMouseUp;if(Nt(k)){var E=N.getMouseInfo(A);k(E,A)}}),mt(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),mt(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),mt(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),mt(N,"handleDoubleClick",function(A){var k=N.props.onDoubleClick;if(Nt(k)){var E=N.getMouseInfo(A);k(E,A)}}),mt(N,"handleContextMenu",function(A){var k=N.props.onContextMenu;if(Nt(k)){var E=N.getMouseInfo(A);k(E,A)}}),mt(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&Yw.emit(Kw,N.props.syncId,A,N.eventEmitterSymbol)}),mt(N,"applySyncEvent",function(A){var k=N.props,E=k.layout,I=k.syncMethod,L=N.state.updateId,C=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(je({dataStartIndex:C,dataEndIndex:O},h({props:N.props,dataStartIndex:C,dataEndIndex:O,updateId:L},N.state)));else if(A.activeTooltipIndex!==void 0){var R=A.chartX,M=A.chartY,W=A.activeTooltipIndex,H=N.state,G=H.offset,F=H.tooltipTicks;if(!G)return;if(typeof I=="function")W=I(F,A);else if(I==="value"){W=-1;for(var ae=0;ae<F.length;ae++)if(F[ae].value===A.activeLabel){W=ae;break}}var Q=je(je({},G),{},{x:G.left,y:G.top}),oe=Math.min(R,Q.x+Q.width),$=Math.min(M,Q.y+Q.height),U=F[W]&&F[W].value,z=c_(N.state,N.props.data,W),J=F[W]?{x:E==="horizontal"?F[W].coordinate:oe,y:E==="horizontal"?$:F[W].coordinate}:_7;N.setState(je(je({},A),{},{activeLabel:U,activeCoordinate:J,activePayload:z,activeTooltipIndex:W}))}else N.setState(A)}),mt(N,"renderCursor",function(A){var k,E=N.state,I=E.isTooltipActive,L=E.activeCoordinate,C=E.activePayload,O=E.offset,R=E.activeTooltipIndex,M=E.tooltipAxisBandSize,W=N.getTooltipEventType(),H=(k=A.props.active)!==null&&k!==void 0?k:I,G=N.props.layout,F=A.key||"_recharts-cursor";return K.createElement(epe,{key:F,activeCoordinate:L,activePayload:C,activeTooltipIndex:R,chartName:r,element:A,isActive:H,layout:G,offset:O,tooltipAxisBandSize:M,tooltipEventType:W})}),mt(N,"renderPolarAxis",function(A,k,E){var I=Ta(A,"type.axisType"),L=Ta(N.state,"".concat(I,"Map")),C=A.type.defaultProps,O=C!==void 0?je(je({},C),A.props):A.props,R=L&&L[O["".concat(I,"Id")]];return S.cloneElement(A,je(je({},R),{},{className:Rt(I,R.className),key:A.key||"".concat(k,"-").concat(E),ticks:Hs(R,!0)}))}),mt(N,"renderPolarGrid",function(A){var k=A.props,E=k.radialLines,I=k.polarAngles,L=k.polarRadius,C=N.state,O=C.radiusAxisMap,R=C.angleAxisMap,M=Ro(O),W=Ro(R),H=W.cx,G=W.cy,F=W.innerRadius,ae=W.outerRadius;return S.cloneElement(A,{polarAngles:Array.isArray(I)?I:Hs(W,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(L)?L:Hs(M,!0).map(function(Q){return Q.coordinate}),cx:H,cy:G,innerRadius:F,outerRadius:ae,key:A.key||"polar-grid",radialLines:E})}),mt(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,k=N.props,E=k.children,I=k.width,L=k.height,C=N.props.margin||{},O=I-(C.left||0)-(C.right||0),R=aD({children:E,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!R)return null;var M=R.item,W=tT(R,tpe);return S.cloneElement(M,je(je({},W),{},{chartWidth:I,chartHeight:L,margin:C,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),mt(N,"renderTooltip",function(){var A,k=N.props,E=k.children,I=k.accessibilityLayer,L=Sa(E,Aa);if(!L)return null;var C=N.state,O=C.isTooltipActive,R=C.activeCoordinate,M=C.activePayload,W=C.activeLabel,H=C.offset,G=(A=L.props.active)!==null&&A!==void 0?A:O;return S.cloneElement(L,{viewBox:je(je({},H),{},{x:H.left,y:H.top}),active:G,label:W,payload:G?M:[],coordinate:R,accessibilityLayer:I})}),mt(N,"renderBrush",function(A){var k=N.props,E=k.margin,I=k.data,L=N.state,C=L.offset,O=L.dataStartIndex,R=L.dataEndIndex,M=L.updateId;return S.cloneElement(A,{key:A.key||"_recharts-brush",onChange:em(N.handleBrushChange,A.props.onChange),data:I,x:Me(A.props.x)?A.props.x:C.left,y:Me(A.props.y)?A.props.y:C.top+C.height+C.brushBottom-(E.bottom||0),width:Me(A.props.width)?A.props.width:C.width,startIndex:O,endIndex:R,updateId:"brush-".concat(M)})}),mt(N,"renderReferenceElement",function(A,k,E){if(!A)return null;var I=N,L=I.clipPathId,C=N.state,O=C.xAxisMap,R=C.yAxisMap,M=C.offset,W=A.type.defaultProps||{},H=A.props,G=H.xAxisId,F=G===void 0?W.xAxisId:G,ae=H.yAxisId,Q=ae===void 0?W.yAxisId:ae;return S.cloneElement(A,{key:A.key||"".concat(k,"-").concat(E),xAxis:O[F],yAxis:R[Q],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:L})}),mt(N,"renderActivePoints",function(A){var k=A.item,E=A.activePoint,I=A.basePoint,L=A.childIndex,C=A.isRange,O=[],R=k.props.key,M=k.item.type.defaultProps!==void 0?je(je({},k.item.type.defaultProps),k.item.props):k.item.props,W=M.activeDot,H=M.dataKey,G=je(je({index:L,dataKey:H,cx:E.x,cy:E.y,r:4,fill:rN(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},pt(W,!1)),Lm(W));return O.push(x.renderActiveDot(W,G,"".concat(R,"-activePoint-").concat(L))),I?O.push(x.renderActiveDot(W,je(je({},G),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(L))):C&&O.push(null),O}),mt(N,"renderGraphicChild",function(A,k,E){var I=N.filterFormatItem(A,k,E);if(!I)return null;var L=N.getTooltipEventType(),C=N.state,O=C.isTooltipActive,R=C.tooltipAxis,M=C.activeTooltipIndex,W=C.activeLabel,H=N.props.children,G=Sa(H,Aa),F=I.props,ae=F.points,Q=F.isRange,oe=F.baseLine,$=I.item.type.defaultProps!==void 0?je(je({},I.item.type.defaultProps),I.item.props):I.item.props,U=$.activeDot,z=$.hide,J=$.activeBar,le=$.activeShape,se=!!(!z&&O&&G&&(U||J||le)),de={};L!=="axis"&&G&&G.props.trigger==="click"?de={onClick:em(N.handleItemMouseEnter,A.props.onClick)}:L!=="axis"&&(de={onMouseLeave:em(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:em(N.handleItemMouseEnter,A.props.onMouseEnter)});var ie=S.cloneElement(A,je(je({},I.props),de));function he(Ke){return typeof R.dataKey=="function"?R.dataKey(Ke.payload):null}if(se)if(M>=0){var ge,ue;if(R.dataKey&&!R.allowDuplicatedCategory){var Ce=typeof R.dataKey=="function"?he:"payload.".concat(R.dataKey.toString());ge=Rm(ae,Ce,W),ue=Q&&oe&&Rm(oe,Ce,W)}else ge=ae==null?void 0:ae[M],ue=Q&&oe&&oe[M];if(le||J){var me=A.props.activeIndex!==void 0?A.props.activeIndex:M;return[S.cloneElement(A,je(je(je({},I.props),de),{},{activeIndex:me})),null,null]}if(!Tt(ge))return[ie].concat(ad(N.renderActivePoints({item:I,activePoint:ge,basePoint:ue,childIndex:M,isRange:Q})))}else{var ee,Ve=(ee=N.getItemByXY(N.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:ie},Ue=Ve.graphicalItem,We=Ue.item,Pe=We===void 0?A:We,Qe=Ue.childIndex,$e=je(je(je({},I.props),de),{},{activeIndex:Qe});return[S.cloneElement(Pe,$e),null,null]}return Q?[ie,null,null]:[ie,null]}),mt(N,"renderCustomized",function(A,k,E){return S.cloneElement(A,je(je({key:"recharts-customized-".concat(E)},N.props),N.state))}),mt(N,"renderMap",{CartesianGrid:{handler:im,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:im},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:im},YAxis:{handler:im},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=j.id)!==null&&w!==void 0?w:gd("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=nM(N.triggeredAfterMouseMove,(_=j.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return hpe(x,v),cpe(x,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,N=w.data,A=w.height,k=w.layout,E=Sa(_,Aa);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,C=c_(this.state,N,I,L),O=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+A)/2,M=k==="horizontal",W=M?{x:O,y:R}:{y:O,x:R},H=this.state.formattedGraphicalItems.find(function(F){var ae=F.item;return ae.type.name==="Scatter"});H&&(W=je(je({},W),H.props.points[I].tooltipPosition),C=H.props.points[I].tooltipPayload);var G={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:L,activePayload:C,activeCoordinate:W};this.setState(G),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){H2([Sa(w.children,Aa)],[Sa(this.props.children,Aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Sa(this.props.children,Aa);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),A=Fte(N),k={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},E=N.width/_.offsetWidth||1,I=this.inRange(k.chartX,k.chartY,E);if(!I)return null;var L=this.state,C=L.xAxisMap,O=L.yAxisMap,R=this.getTooltipEventType(),M=nT(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&C&&O){var W=Ro(C).scale,H=Ro(O).scale,G=W&&W.invert?W.invert(k.chartX):null,F=H&&H.invert?H.invert(k.chartY):null;return je(je({},k),{},{xValue:G,yValue:F},M)}return M?je(je({},k),M):null}},{key:"inRange",value:function(w,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,k=w/N,E=_/N;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,L=k>=I.left&&k<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return L?{x:k,y:E}:null}var C=this.state,O=C.angleAxisMap,R=C.radiusAxisMap;if(O&&R){var M=Ro(O);return iE({x:k,y:E},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),N=Sa(w,Aa),A={};N&&_==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Lm(this.props,this.handleOuterEvent);return je(je({},k),A)}},{key:"addListener",value:function(){Yw.on(Kw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yw.removeListener(Kw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,N){for(var A=this.state.formattedGraphicalItems,k=0,E=A.length;k<E;k++){var I=A[k];if(I.item===w||I.props.key===w.key||_===Ys(I.item.type)&&N===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,N=_.left,A=_.top,k=_.height,E=_.width;return K.createElement("defs",null,K.createElement("clipPath",{id:w},K.createElement("rect",{x:N,y:A,height:k,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,N){var A=eT(N,2),k=A[0],E=A[1];return je(je({},_),{},mt({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,N){var A=eT(N,2),k=A[0],E=A[1];return je(je({},_),{},mt({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,N=_.formattedGraphicalItems,A=_.activeItem;if(N&&N.length)for(var k=0,E=N.length;k<E;k++){var I=N[k],L=I.props,C=I.item,O=C.type.defaultProps!==void 0?je(je({},C.type.defaultProps),C.props):C.props,R=Ys(C.type);if(R==="Bar"){var M=(L.data||[]).find(function(F){return rce(w,F)});if(M)return{graphicalItem:I,payload:M}}else if(R==="RadialBar"){var W=(L.data||[]).find(function(F){return iE(w,F)});if(W)return{graphicalItem:I,payload:W}}else if(Uv(I,A)||zv(I,A)||ph(I,A)){var H=Sue({graphicalItem:I,activeTooltipItem:A,itemData:O.data}),G=O.activeIndex===void 0?H:O.activeIndex;return{graphicalItem:je(je({},I),{},{childIndex:G}),payload:ph(I,A)?O.data[H]:I.props.data[H]}}}return null}},{key:"render",value:function(){var w=this;if(!gP(this))return null;var _=this.props,N=_.children,A=_.className,k=_.width,E=_.height,I=_.style,L=_.compact,C=_.title,O=_.desc,R=tT(_,rpe),M=pt(R,!1);if(L)return K.createElement(L6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(G2,yu({},M,{width:k,height:E,title:C,desc:O}),this.renderClipPath(),yP(N,this.renderMap)));if(this.props.accessibilityLayer){var W,H;M.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,M.role=(H=this.props.role)!==null&&H!==void 0?H:"application",M.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){w.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return K.createElement(L6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",yu({className:Rt("recharts-wrapper",A),style:je({position:"relative",cursor:"default",width:k,height:E},I)},G,{ref:function(ae){w.container=ae}}),K.createElement(G2,yu({},M,{width:k,height:E,title:C,desc:O,style:xpe}),this.renderClipPath(),yP(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);mt(g,"displayName",r),mt(g,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mt(g,"getDerivedStateFromProps",function(v,x){var j=v.dataKey,w=v.data,_=v.children,N=v.width,A=v.height,k=v.layout,E=v.stackOffset,I=v.margin,L=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var O=aT(v);return je(je(je({},O),{},{updateId:0},h(je(je({props:v},O),{},{updateId:0}),x)),{},{prevDataKey:j,prevData:w,prevWidth:N,prevHeight:A,prevLayout:k,prevStackOffset:E,prevMargin:I,prevChildren:_})}if(j!==x.prevDataKey||w!==x.prevData||N!==x.prevWidth||A!==x.prevHeight||k!==x.prevLayout||E!==x.prevStackOffset||!Su(I,x.prevMargin)){var R=aT(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=je(je({},nT(x,w,k)),{},{updateId:x.updateId+1}),H=je(je(je({},R),M),W);return je(je(je({},H),h(je({props:v},H),x)),{},{prevDataKey:j,prevData:w,prevWidth:N,prevHeight:A,prevLayout:k,prevStackOffset:E,prevMargin:I,prevChildren:_})}if(!H2(_,x.prevChildren)){var G,F,ae,Q,oe=Sa(_,Yu),$=oe&&(G=(F=oe.props)===null||F===void 0?void 0:F.startIndex)!==null&&G!==void 0?G:L,U=oe&&(ae=(Q=oe.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&ae!==void 0?ae:C,z=$!==L||U!==C,J=!Tt(w),le=J&&!z?x.updateId:x.updateId+1;return je(je({updateId:le},h(je(je({props:v},x),{},{updateId:le,dataStartIndex:$,dataEndIndex:U}),x)),{},{prevChildren:_,dataStartIndex:$,dataEndIndex:U})}return null}),mt(g,"renderActiveDot",function(v,x,j){var w;return S.isValidElement(v)?w=S.cloneElement(v,x):Nt(v)?w=v(x):w=K.createElement(Dv,x),K.createElement(Qt,{className:"recharts-active-dot",key:j},w)});var m=S.forwardRef(function(x,j){return K.createElement(g,yu({},x,{ref:j}))});return m.displayName=g.displayName,m},Cpe=pN({chartName:"LineChart",GraphicalChild:Bh,axisComponents:[{axisType:"xAxis",AxisComp:_d},{axisType:"yAxis",AxisComp:sc}],formatAxisMap:zD}),Ope=pN({chartName:"BarChart",GraphicalChild:tl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_d},{axisType:"yAxis",AxisComp:sc}],formatAxisMap:zD}),N7=pN({chartName:"PieChart",GraphicalChild:ys,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qv},{axisType:"radiusAxis",AxisComp:Fv}],formatAxisMap:vse,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Epe=["top","right","bottom","left"],Wo=Math.min,Pa=Math.max,Ig=Math.round,sm=Math.floor,is=t=>({x:t,y:t}),Tpe={left:"right",right:"left",bottom:"top",top:"bottom"},Ipe={start:"end",end:"start"};function u_(t,e,r){return Pa(t,Wo(e,r))}function ro(t,e){return typeof t=="function"?t(e):t}function no(t){return t.split("-")[0]}function jd(t){return t.split("-")[1]}function mN(t){return t==="x"?"y":"x"}function gN(t){return t==="y"?"height":"width"}const Rpe=new Set(["top","bottom"]);function ts(t){return Rpe.has(no(t))?"y":"x"}function vN(t){return mN(ts(t))}function Lpe(t,e,r){r===void 0&&(r=!1);const n=jd(t),a=vN(t),i=gN(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Rg(s)),[s,Rg(s)]}function Mpe(t){const e=Rg(t);return[d_(t),e,d_(e)]}function d_(t){return t.replace(/start|end/g,e=>Ipe[e])}const sT=["left","right"],oT=["right","left"],Dpe=["top","bottom"],$pe=["bottom","top"];function Fpe(t,e,r){switch(t){case"top":case"bottom":return r?e?oT:sT:e?sT:oT;case"left":case"right":return e?Dpe:$pe;default:return[]}}function Bpe(t,e,r,n){const a=jd(t);let i=Fpe(no(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(d_)))),i}function Rg(t){return t.replace(/left|right|bottom|top/g,e=>Tpe[e])}function qpe(t){return{top:0,right:0,bottom:0,left:0,...t}}function S7(t){return typeof t!="number"?qpe(t):{top:t,right:t,bottom:t,left:t}}function Lg(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function lT(t,e,r){let{reference:n,floating:a}=t;const i=ts(e),s=vN(e),l=gN(s),c=no(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(jd(e)){case"start":h[s]-=p*(r&&u?-1:1);break;case"end":h[s]+=p*(r&&u?-1:1);break}return h}const Upe=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=lT(u,n,c),p=n,h={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:j,y:w,data:_,reset:N}=await x({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:u,platform:s,elements:{reference:t,floating:e}});d=j??d,f=w??f,h={...h,[v]:{...h[v],..._}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):N.rects),{x:d,y:f}=lT(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function wh(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=ro(e,t),g=S7(h),v=l[p?f==="floating"?"reference":"floating":f],x=Lg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Lg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(x.top-N.top+g.top)/_.y,bottom:(N.bottom-x.bottom+g.bottom)/_.y,left:(x.left-N.left+g.left)/_.x,right:(N.right-x.right+g.right)/_.x}}const zpe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ro(t,e)||{};if(u==null)return{};const f=S7(d),p={x:r,y:n},h=vN(a),g=gN(h),m=await s.getDimensions(u),v=h==="y",x=v?"top":"left",j=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[h]-p[h]-i.floating[g],N=p[h]-i.reference[h],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=A?A[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(A)))&&(k=l.floating[w]||i.floating[g]);const E=_/2-N/2,I=k/2-m[g]/2-1,L=Wo(f[x],I),C=Wo(f[j],I),O=L,R=k-m[g]-C,M=k/2-m[g]/2+E,W=u_(O,M,R),H=!c.arrow&&jd(a)!=null&&M!==W&&i.reference[g]/2-(M<O?L:C)-m[g]/2<0,G=H?M<O?M-O:M-R:0;return{[h]:p[h]+G,data:{[h]:W,centerOffset:M-W-G,...H&&{alignmentOffset:G}},reset:H}}}),Wpe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=ro(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=no(a),j=ts(l),w=no(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(w||!m?[Rg(l)]:Mpe(l)),A=g!=="none";!p&&A&&N.push(...Bpe(l,m,g,_));const k=[l,...N],E=await wh(e,v),I=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&I.push(E[x]),f){const M=Lpe(a,s,_);I.push(E[M[0]],E[M[1]])}if(L=[...L,{placement:a,overflows:I}],!I.every(M=>M<=0)){var C,O;const M=(((C=i.flip)==null?void 0:C.index)||0)+1,W=k[M];if(W&&(!(f==="alignment"?j!==ts(W):!1)||L.every(F=>ts(F.placement)===j?F.overflows[0]>0:!0)))return{data:{index:M,overflows:L},reset:{placement:W}};let H=(O=L.filter(G=>G.overflows[0]<=0).sort((G,F)=>G.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(h){case"bestFit":{var R;const G=(R=L.filter(F=>{if(A){const ae=ts(F.placement);return ae===j||ae==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ae=>ae>0).reduce((ae,Q)=>ae+Q,0)]).sort((F,ae)=>F[1]-ae[1])[0])==null?void 0:R[0];G&&(H=G);break}case"initialPlacement":H=l;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function cT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uT(t){return Epe.some(e=>t[e]>=0)}const Hpe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=ro(t,e);switch(n){case"referenceHidden":{const i=await wh(e,{...a,elementContext:"reference"}),s=cT(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:uT(s)}}}case"escaped":{const i=await wh(e,{...a,altBoundary:!0}),s=cT(i,r.floating);return{data:{escapedOffsets:s,escaped:uT(s)}}}default:return{}}}}},A7=new Set(["left","top"]);async function Vpe(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=no(r),l=jd(r),c=ts(r)==="y",u=A7.has(s)?-1:1,d=i&&c?-1:1,f=ro(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const Gpe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=e,c=await Vpe(e,t);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},Ype=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x,y:j}=v;return{x,y:j}}},...c}=ro(t,e),u={x:r,y:n},d=await wh(e,c),f=ts(no(a)),p=mN(f);let h=u[p],g=u[f];if(i){const v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",j=h+d[v],w=h-d[x];h=u_(j,h,w)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",j=g+d[v],w=g-d[x];g=u_(j,g,w)}const m=l.fn({...e,[p]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:s}}}}}},Kpe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ro(t,e),d={x:r,y:n},f=ts(a),p=mN(f);let h=d[p],g=d[f];const m=ro(l,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=p==="y"?"height":"width",_=i.reference[p]-i.floating[w]+v.mainAxis,N=i.reference[p]+i.reference[w]-v.mainAxis;h<_?h=_:h>N&&(h=N)}if(u){var x,j;const w=p==="y"?"width":"height",_=A7.has(no(a)),N=i.reference[f]-i.floating[w]+(_&&((x=s.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),A=i.reference[f]+i.reference[w]+(_?0:((j=s.offset)==null?void 0:j[f])||0)-(_?v.crossAxis:0);g<N?g=N:g>A&&(g=A)}return{[p]:h,[f]:g}}}},Xpe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:s,elements:l}=e,{apply:c=()=>{},...u}=ro(t,e),d=await wh(e,u),f=no(a),p=jd(a),h=ts(a)==="y",{width:g,height:m}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=p===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=p==="end"?"top":"bottom");const j=m-d.top-d.bottom,w=g-d.left-d.right,_=Wo(m-d[v],j),N=Wo(g-d[x],w),A=!e.middlewareData.shift;let k=_,E=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=j),A&&!p){const L=Pa(d.left,0),C=Pa(d.right,0),O=Pa(d.top,0),R=Pa(d.bottom,0);h?E=g-2*(L!==0||C!==0?L+C:Pa(d.left,d.right)):k=m-2*(O!==0||R!==0?O+R:Pa(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:k});const I=await s.getDimensions(l.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Xv(){return typeof window<"u"}function Nd(t){return k7(t)?(t.nodeName||"").toLowerCase():"#document"}function Ra(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xs(t){var e;return(e=(k7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k7(t){return Xv()?t instanceof Node||t instanceof Ra(t).Node:!1}function Pi(t){return Xv()?t instanceof Element||t instanceof Ra(t).Element:!1}function cs(t){return Xv()?t instanceof HTMLElement||t instanceof Ra(t).HTMLElement:!1}function dT(t){return!Xv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ra(t).ShadowRoot}const Zpe=new Set(["inline","contents"]);function qh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Ci(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Zpe.has(a)}const Jpe=new Set(["table","td","th"]);function Qpe(t){return Jpe.has(Nd(t))}const eme=[":popover-open",":modal"];function Zv(t){return eme.some(e=>{try{return t.matches(e)}catch{return!1}})}const tme=["transform","translate","scale","rotate","perspective"],rme=["transform","translate","scale","rotate","perspective","filter"],nme=["paint","layout","strict","content"];function yN(t){const e=xN(),r=Pi(t)?Ci(t):t;return tme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||rme.some(n=>(r.willChange||"").includes(n))||nme.some(n=>(r.contain||"").includes(n))}function ame(t){let e=Ho(t);for(;cs(e)&&!id(e);){if(yN(e))return e;if(Zv(e))return null;e=Ho(e)}return null}function xN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ime=new Set(["html","body","#document"]);function id(t){return ime.has(Nd(t))}function Ci(t){return Ra(t).getComputedStyle(t)}function Jv(t){return Pi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ho(t){if(Nd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dT(t)&&t.host||xs(t);return dT(e)?e.host:e}function P7(t){const e=Ho(t);return id(e)?t.ownerDocument?t.ownerDocument.body:t.body:cs(e)&&qh(e)?e:P7(e)}function _h(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=P7(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=Ra(a);if(i){const l=f_(s);return e.concat(s,s.visualViewport||[],qh(a)?a:[],l&&r?_h(l):[])}return e.concat(a,_h(a,[],r))}function f_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function C7(t){const e=Ci(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=cs(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,l=Ig(r)!==i||Ig(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function bN(t){return Pi(t)?t:t.contextElement}function Pu(t){const e=bN(t);if(!cs(e))return is(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=C7(e);let s=(i?Ig(r.width):r.width)/n,l=(i?Ig(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const sme=is(0);function O7(t){const e=Ra(t);return!xN()||!e.visualViewport?sme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ome(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ra(t)?!1:e}function oc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=bN(t);let s=is(1);e&&(n?Pi(n)&&(s=Pu(n)):s=Pu(t));const l=ome(i,r,n)?O7(i):is(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const p=Ra(i),h=n&&Pi(n)?Ra(n):n;let g=p,m=f_(g);for(;m&&n&&h!==g;){const v=Pu(m),x=m.getBoundingClientRect(),j=Ci(m),w=x.left+(m.clientLeft+parseFloat(j.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Ra(m),m=f_(g)}}return Lg({width:d,height:f,x:c,y:u})}function Qv(t,e){const r=Jv(t).scrollLeft;return e?e.left+r:oc(xs(t)).left+r}function E7(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Qv(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function lme(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=xs(n),l=e?Zv(e.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=is(1);const d=is(0),f=cs(n);if((f||!f&&!i)&&((Nd(n)!=="body"||qh(s))&&(c=Jv(n)),cs(n))){const h=oc(n);u=Pu(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=s&&!f&&!i?E7(s,c):is(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function cme(t){return Array.from(t.getClientRects())}function ume(t){const e=xs(t),r=Jv(t),n=t.ownerDocument.body,a=Pa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Pa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Qv(t);const l=-r.scrollTop;return Ci(n).direction==="rtl"&&(s+=Pa(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}const fT=25;function dme(t,e){const r=Ra(t),n=xs(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const d=xN();(!d||d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Qv(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=fT&&(i-=g)}else u<=fT&&(i+=u);return{width:i,height:s,x:l,y:c}}const fme=new Set(["absolute","fixed"]);function hme(t,e){const r=oc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=cs(t)?Pu(t):is(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function hT(t,e,r){let n;if(e==="viewport")n=dme(t,r);else if(e==="document")n=ume(xs(t));else if(Pi(e))n=hme(e,r);else{const a=O7(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Lg(n)}function T7(t,e){const r=Ho(t);return r===e||!Pi(r)||id(r)?!1:Ci(r).position==="fixed"||T7(r,e)}function pme(t,e){const r=e.get(t);if(r)return r;let n=_h(t,[],!1).filter(l=>Pi(l)&&Nd(l)!=="body"),a=null;const i=Ci(t).position==="fixed";let s=i?Ho(t):t;for(;Pi(s)&&!id(s);){const l=Ci(s),c=yN(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&fme.has(a.position)||qh(s)&&!c&&T7(t,s))?n=n.filter(d=>d!==s):a=l,s=Ho(s)}return e.set(t,n),n}function mme(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?Zv(e)?[]:pme(e,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=hT(e,d,a);return u.top=Pa(f.top,u.top),u.right=Wo(f.right,u.right),u.bottom=Wo(f.bottom,u.bottom),u.left=Pa(f.left,u.left),u},hT(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gme(t){const{width:e,height:r}=C7(t);return{width:e,height:r}}function vme(t,e,r){const n=cs(e),a=xs(e),i=r==="fixed",s=oc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=is(0);function u(){c.x=Qv(a)}if(n||!n&&!i)if((Nd(e)!=="body"||qh(a))&&(l=Jv(e)),n){const h=oc(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?E7(a,l):is(0),f=s.left+l.scrollLeft-c.x-d.x,p=s.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:s.width,height:s.height}}function Zw(t){return Ci(t).position==="static"}function pT(t,e){if(!cs(t)||Ci(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return xs(t)===r&&(r=r.ownerDocument.body),r}function I7(t,e){const r=Ra(t);if(Zv(t))return r;if(!cs(t)){let a=Ho(t);for(;a&&!id(a);){if(Pi(a)&&!Zw(a))return a;a=Ho(a)}return r}let n=pT(t,e);for(;n&&Qpe(n)&&Zw(n);)n=pT(n,e);return n&&id(n)&&Zw(n)&&!yN(n)?r:n||ame(t)||r}const yme=async function(t){const e=this.getOffsetParent||I7,r=this.getDimensions,n=await r(t.floating);return{reference:vme(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xme(t){return Ci(t).direction==="rtl"}const bme={convertOffsetParentRelativeRectToViewportRelativeRect:lme,getDocumentElement:xs,getClippingRect:mme,getOffsetParent:I7,getElementRects:yme,getClientRects:cme,getDimensions:gme,getScale:Pu,isElement:Pi,isRTL:xme};function R7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wme(t,e){let r=null,n;const a=xs(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||e(),!p||!h)return;const g=sm(f),m=sm(a.clientWidth-(d+p)),v=sm(a.clientHeight-(f+h)),x=sm(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Pa(0,Wo(1,c))||1};let _=!0;function N(A){const k=A[0].intersectionRatio;if(k!==c){if(!_)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!R7(u,t.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(t)}return s(!0),i}function _me(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=bN(t),d=a||i?[...u?_h(u):[],..._h(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?wme(u,r):null;let p=-1,h=null;s&&(h=new ResizeObserver(x=>{let[j]=x;j&&j.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,m=c?oc(t):null;c&&v();function v(){const x=oc(t);m&&!R7(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const jme=Gpe,Nme=Ype,Sme=Wpe,Ame=Xpe,kme=Hpe,mT=zpe,Pme=Kpe,Cme=(t,e,r)=>{const n=new Map,a={platform:bme,...r},i={...a.platform,_c:n};return Upe(t,e,{...a,platform:i})};var Ome=typeof document<"u",Eme=function(){},_m=Ome?S.useLayoutEffect:Eme;function Mg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Mg(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Mg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function L7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gT(t,e){const r=L7(t);return Math.round(e*r)/r}function Jw(t){const e=S.useRef(t);return _m(()=>{e.current=t}),e}function Tme(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=S.useState(n);Mg(p,n)||h(n);const[g,m]=S.useState(null),[v,x]=S.useState(null),j=S.useCallback(F=>{F!==A.current&&(A.current=F,m(F))},[]),w=S.useCallback(F=>{F!==k.current&&(k.current=F,x(F))},[]),_=i||g,N=s||v,A=S.useRef(null),k=S.useRef(null),E=S.useRef(d),I=c!=null,L=Jw(c),C=Jw(a),O=Jw(u),R=S.useCallback(()=>{if(!A.current||!k.current)return;const F={placement:e,strategy:r,middleware:p};C.current&&(F.platform=C.current),Cme(A.current,k.current,F).then(ae=>{const Q={...ae,isPositioned:O.current!==!1};M.current&&!Mg(E.current,Q)&&(E.current=Q,Hg.flushSync(()=>{f(Q)}))})},[p,e,r,C,O]);_m(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const M=S.useRef(!1);_m(()=>(M.current=!0,()=>{M.current=!1}),[]),_m(()=>{if(_&&(A.current=_),N&&(k.current=N),_&&N){if(L.current)return L.current(_,N,R);R()}},[_,N,R,L,I]);const W=S.useMemo(()=>({reference:A,floating:k,setReference:j,setFloating:w}),[j,w]),H=S.useMemo(()=>({reference:_,floating:N}),[_,N]),G=S.useMemo(()=>{const F={position:r,left:0,top:0};if(!H.floating)return F;const ae=gT(H.floating,d.x),Q=gT(H.floating,d.y);return l?{...F,transform:"translate("+ae+"px, "+Q+"px)",...L7(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:Q}},[r,l,H.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:R,refs:W,elements:H,floatingStyles:G}),[d,R,W,H,G])}const Ime=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?mT({element:n.current,padding:a}).fn(r):{}:n?mT({element:n,padding:a}).fn(r):{}}}},Rme=(t,e)=>({...jme(t),options:[t,e]}),Lme=(t,e)=>({...Nme(t),options:[t,e]}),Mme=(t,e)=>({...Pme(t),options:[t,e]}),Dme=(t,e)=>({...Sme(t),options:[t,e]}),$me=(t,e)=>({...Ame(t),options:[t,e]}),Fme=(t,e)=>({...kme(t),options:[t,e]}),Bme=(t,e)=>({...Ime(t),options:[t,e]});var qme="Arrow",M7=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return o.jsx(at.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});M7.displayName=qme;var Ume=M7;function e0(t){const[e,r]=S.useState(void 0);return nn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=t.offsetWidth,l=t.offsetHeight;r({width:s,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wN="Popper",[D7,t0]=Mn(wN),[zme,$7]=D7(wN),F7=t=>{const{__scopePopper:e,children:r}=t,[n,a]=S.useState(null);return o.jsx(zme,{scope:e,anchor:n,onAnchorChange:a,children:r})};F7.displayName=wN;var B7="PopperAnchor",q7=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=$7(B7,r),s=S.useRef(null),l=Bt(e,s),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(at.div,{...a,ref:l})});q7.displayName=B7;var _N="PopperContent",[Wme,Hme]=D7(_N),U7=S.forwardRef((t,e)=>{var se,de,ie,he,ge,ue;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=$7(_N,r),[x,j]=S.useState(null),w=Bt(e,Ce=>j(Ce)),[_,N]=S.useState(null),A=e0(_),k=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,I=n+(i!=="center"?"-"+i:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],O=C.length>0,R={padding:L,boundary:C.filter(Gme),altBoundary:O},{refs:M,floatingStyles:W,placement:H,isPositioned:G,middlewareData:F}=Tme({strategy:"fixed",placement:I,whileElementsMounted:(...Ce)=>_me(...Ce,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[Rme({mainAxis:a+E,alignmentAxis:s}),c&&Lme({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Mme():void 0,...R}),c&&Dme({...R}),$me({...R,apply:({elements:Ce,rects:me,availableWidth:ee,availableHeight:Ve})=>{const{width:Ue,height:We}=me.reference,Pe=Ce.floating.style;Pe.setProperty("--radix-popper-available-width",`${ee}px`),Pe.setProperty("--radix-popper-available-height",`${Ve}px`),Pe.setProperty("--radix-popper-anchor-width",`${Ue}px`),Pe.setProperty("--radix-popper-anchor-height",`${We}px`)}}),_&&Bme({element:_,padding:l}),Yme({arrowWidth:k,arrowHeight:E}),p&&Fme({strategy:"referenceHidden",...R})]}),[ae,Q]=H7(H),oe=Wn(g);nn(()=>{G&&(oe==null||oe())},[G,oe]);const $=(se=F.arrow)==null?void 0:se.x,U=(de=F.arrow)==null?void 0:de.y,z=((ie=F.arrow)==null?void 0:ie.centerOffset)!==0,[J,le]=S.useState();return nn(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(he=F.transformOrigin)==null?void 0:he.x,(ge=F.transformOrigin)==null?void 0:ge.y].join(" "),...((ue=F.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Wme,{scope:r,placedSide:ae,onArrowChange:N,arrowX:$,arrowY:U,shouldHideArrow:z,children:o.jsx(at.div,{"data-side":ae,"data-align":Q,...m,ref:w,style:{...m.style,animation:G?void 0:"none"}})})})});U7.displayName=_N;var z7="PopperArrow",Vme={top:"bottom",right:"left",bottom:"top",left:"right"},W7=S.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=Hme(z7,n),s=Vme[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Ume,{...a,ref:r,style:{...a.style,display:"block"}})})});W7.displayName=z7;function Gme(t){return t!==null}var Yme=t=>({name:"transformOrigin",options:t,fn(e){var v,x,j;const{placement:r,rects:n,middlewareData:a}=e,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,d]=H7(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,h=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?f:`${p}px`,m=`${-c}px`):u==="top"?(g=s?f:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?f:`${h}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?f:`${h}px`),{data:{x:g,y:m}}}});function H7(t){const[e,r="center"]=t.split("-");return[e,r]}var V7=F7,jN=q7,G7=U7,Y7=W7,r0="Popover",[K7,swe]=Mn(r0,[t0]),Uh=t0(),[Kme,rl]=K7(r0),X7=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=t,l=Uh(e),c=S.useRef(null),[u,d]=S.useState(!1),[f,p]=Za({prop:n,defaultProp:a??!1,onChange:i,caller:r0});return o.jsx(V7,{...l,children:o.jsx(Kme,{scope:e,contentId:_i(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:S.useCallback(()=>d(!0),[]),onCustomAnchorRemove:S.useCallback(()=>d(!1),[]),modal:s,children:r})})};X7.displayName=r0;var Z7="PopoverAnchor",Xme=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=rl(Z7,r),i=Uh(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return S.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(jN,{...i,...n,ref:e})});Xme.displayName=Z7;var J7="PopoverTrigger",Q7=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=rl(J7,r),i=Uh(r),s=Bt(e,a.triggerRef),l=o.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":a$(a.open),...n,ref:s,onClick:ut(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(jN,{asChild:!0,...i,children:l})});Q7.displayName=J7;var NN="PopoverPortal",[Zme,Jme]=K7(NN,{forceMount:void 0}),e$=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=rl(NN,e);return o.jsx(Zme,{scope:e,forceMount:r,children:o.jsx(da,{present:r||i.open,children:o.jsx(rv,{asChild:!0,container:a,children:n})})})};e$.displayName=NN;var sd="PopoverContent",t$=S.forwardRef((t,e)=>{const r=Jme(sd,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=rl(sd,t.__scopePopover);return o.jsx(da,{present:n||i.open,children:i.modal?o.jsx(ege,{...a,ref:e}):o.jsx(tge,{...a,ref:e})})});t$.displayName=sd;var Qme=Yl("PopoverContent.RemoveScroll"),ege=S.forwardRef((t,e)=>{const r=rl(sd,t.__scopePopover),n=S.useRef(null),a=Bt(e,n),i=S.useRef(!1);return S.useEffect(()=>{const s=n.current;if(s)return K_(s)},[]),o.jsx(av,{as:Qme,allowPinchZoom:!0,children:o.jsx(r$,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(t.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ut(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ut(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),tge=S.forwardRef((t,e)=>{const r=rl(sd,t.__scopePopover),n=S.useRef(!1),a=S.useRef(!1);return o.jsx(r$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),r$=S.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=rl(sd,r),h=Uh(r);return Y_(),o.jsx(tv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(ev,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(G7,{"data-state":a$(p.open),role:"dialog",id:p.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),n$="PopoverClose",rge=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=rl(n$,r);return o.jsx(at.button,{type:"button",...n,ref:e,onClick:ut(t.onClick,()=>a.onOpenChange(!1))})});rge.displayName=n$;var nge="PopoverArrow",age=S.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Uh(r);return o.jsx(Y7,{...a,...n,ref:e})});age.displayName=nge;function a$(t){return t?"open":"closed"}var ige=X7,sge=Q7,oge=e$,lge=t$;function cge({...t}){return o.jsx(ige,{"data-slot":"popover",...t})}function uge({...t}){return o.jsx(sge,{"data-slot":"popover-trigger",...t})}function dge({className:t,align:e="center",sideOffset:r=4,...n}){return o.jsx(oge,{children:o.jsx(lge,{"data-slot":"popover-content",align:e,sideOffset:r,className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Jt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function La(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Zn(t,e){const r=Jt(t);return isNaN(e)?La(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Oi(t,e){const r=Jt(t);if(isNaN(e))return La(t,NaN);if(!e)return r;const n=r.getDate(),a=La(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const SN=6048e5,fge=864e5;let hge={};function zh(){return hge}function us(t,e){var l,c,u,d;const r=zh(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Jt(t),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function lc(t){return us(t,{weekStartsOn:1})}function i$(t){const e=Jt(t),r=e.getFullYear(),n=La(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=lc(n),i=La(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=lc(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function od(t){const e=Jt(t);return e.setHours(0,0,0,0),e}function Dg(t){const e=Jt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function rs(t,e){const r=od(t),n=od(e),a=+r-Dg(r),i=+n-Dg(n);return Math.round((a-i)/fge)}function pge(t){const e=i$(t),r=La(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),lc(r)}function h_(t,e){const r=e*7;return Zn(t,r)}function mge(t,e){return Oi(t,e*12)}function gge(t){let e;return t.forEach(function(r){const n=Jt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function vge(t){let e;return t.forEach(r=>{const n=Jt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function ca(t,e){const r=od(t),n=od(e);return+r==+n}function AN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yge(t){if(!AN(t)&&typeof t!="number")return!1;const e=Jt(t);return!isNaN(Number(e))}function jh(t,e){const r=Jt(t),n=Jt(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function xge(t,e,r){const n=us(t,r),a=us(e,r),i=+n-Dg(n),s=+a-Dg(a);return Math.round((i-s)/SN)}function kN(t){const e=Jt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function ua(t){const e=Jt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function s$(t){const e=Jt(t),r=La(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function PN(t,e){var l,c,u,d;const r=zh(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Jt(t),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function o$(t){return PN(t,{weekStartsOn:1})}const bge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wge=(t,e,r)=>{let n;const a=bge[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qw(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const _ge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sge={date:Qw({formats:_ge,defaultWidth:"full"}),time:Qw({formats:jge,defaultWidth:"full"}),dateTime:Qw({formats:Nge,defaultWidth:"full"})},Age={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kge=(t,e,r,n)=>Age[t];function pf(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Pge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ege={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ige={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rge=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Lge={ordinalNumber:Rge,era:pf({values:Pge,defaultWidth:"wide"}),quarter:pf({values:Cge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pf({values:Oge,defaultWidth:"wide"}),day:pf({values:Ege,defaultWidth:"wide"}),dayPeriod:pf({values:Tge,defaultWidth:"wide",formattingValues:Ige,defaultFormattingWidth:"wide"})};function mf(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Dge(l,f=>f.test(s)):Mge(l,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function Mge(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Dge(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function $ge(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=e.slice(a.length);return{value:s,rest:l}}}const Fge=/^(\d+)(th|st|nd|rd)?/i,Bge=/\d+/i,qge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Uge={any:[/^b/i,/^(a|c)/i]},zge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wge={any:[/1/i,/2/i,/3/i,/4/i]},Hge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zge={ordinalNumber:$ge({matchPattern:Fge,parsePattern:Bge,valueCallback:t=>parseInt(t,10)}),era:mf({matchPatterns:qge,defaultMatchWidth:"wide",parsePatterns:Uge,defaultParseWidth:"any"}),quarter:mf({matchPatterns:zge,defaultMatchWidth:"wide",parsePatterns:Wge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mf({matchPatterns:Hge,defaultMatchWidth:"wide",parsePatterns:Vge,defaultParseWidth:"any"}),day:mf({matchPatterns:Gge,defaultMatchWidth:"wide",parsePatterns:Yge,defaultParseWidth:"any"}),dayPeriod:mf({matchPatterns:Kge,defaultMatchWidth:"any",parsePatterns:Xge,defaultParseWidth:"any"})},l$={code:"en-US",formatDistance:wge,formatLong:Sge,formatRelative:kge,localize:Lge,match:Zge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jge(t){const e=Jt(t);return rs(e,s$(e))+1}function c$(t){const e=Jt(t),r=+lc(e)-+pge(e);return Math.round(r/SN)+1}function u$(t,e){var d,f,p,h;const r=Jt(t),n=r.getFullYear(),a=zh(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=La(t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=us(s,e),c=La(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=us(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Qge(t,e){var l,c,u,d;const r=zh(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=u$(t,e),i=La(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),us(i,e)}function d$(t,e){const r=Jt(t),n=+us(r,e)-+Qge(r,e);return Math.round(n/SN)+1}function cr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ko={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return cr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):cr(r+1,2)},d(t,e){return cr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return cr(t.getHours()%12||12,e.length)},H(t,e){return cr(t.getHours(),e.length)},m(t,e){return cr(t.getMinutes(),e.length)},s(t,e){return cr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return cr(a,e.length)}},au={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vT={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ko.y(t,e)},Y:function(t,e,r,n){const a=u$(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return cr(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):cr(i,e.length)},R:function(t,e){const r=i$(t);return cr(r,e.length)},u:function(t,e){const r=t.getFullYear();return cr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return cr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return cr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ko.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return cr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=d$(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):cr(a,e.length)},I:function(t,e,r){const n=c$(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):cr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ko.d(t,e)},D:function(t,e,r){const n=Jge(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):cr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return cr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return cr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return cr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=au.noon:n===0?a=au.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=au.evening:n>=12?a=au.afternoon:n>=4?a=au.morning:a=au.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ko.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ko.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ko.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ko.s(t,e)},S:function(t,e){return ko.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return xT(n);case"XXXX":case"XX":return El(n);case"XXXXX":case"XXX":default:return El(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return xT(n);case"xxxx":case"xx":return El(n);case"xxxxx":case"xxx":default:return El(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yT(n,":");case"OOOO":default:return"GMT"+El(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yT(n,":");case"zzzz":default:return"GMT"+El(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return cr(n,e.length)},T:function(t,e,r){const n=t.getTime();return cr(n,e.length)}};function yT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+cr(i,2)}function xT(t,e){return t%60===0?(t>0?"-":"+")+cr(Math.abs(t)/60,2):El(t,e)}function El(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=cr(Math.trunc(n/60),2),i=cr(n%60,2);return r+a+e+i}const bT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},f$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eve=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return bT(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",bT(n,e)).replace("{{time}}",f$(a,e))},tve={p:f$,P:eve},rve=/^D+$/,nve=/^Y+$/,ave=["D","DD","YY","YYYY"];function ive(t){return rve.test(t)}function sve(t){return nve.test(t)}function ove(t,e,r){const n=lve(t,e,r);if(console.warn(n),ave.includes(t))throw new RangeError(n)}function lve(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dve=/^'([^]*?)'?$/,fve=/''/g,hve=/[a-zA-Z]/;function ss(t,e,r){var d,f,p,h,g,m,v,x;const n=zh(),a=(r==null?void 0:r.locale)??n.locale??l$,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Jt(t);if(!yge(l))throw new RangeError("Invalid time value");let c=e.match(uve).map(j=>{const w=j[0];if(w==="p"||w==="P"){const _=tve[w];return _(j,a.formatLong)}return j}).join("").match(cve).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const w=j[0];if(w==="'")return{isToken:!1,value:pve(j)};if(vT[w])return{isToken:!0,value:j};if(w.match(hve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const w=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&sve(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&ive(w))&&ove(w,e,String(t));const _=vT[w[0]];return _(l,w,a.localize,u)}).join("")}function pve(t){const e=t.match(dve);return e?e[1].replace(fve,"'"):t}function mve(t){const e=Jt(t),r=e.getFullYear(),n=e.getMonth(),a=La(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function gve(t){return Math.trunc(+Jt(t)/1e3)}function vve(t){const e=Jt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function yve(t,e){return xge(vve(t),ua(t),e)+1}function p_(t,e){const r=Jt(t),n=Jt(e);return r.getTime()>n.getTime()}function h$(t,e){const r=Jt(t),n=Jt(e);return+r<+n}function CN(t,e){const r=Jt(t),n=Jt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function xve(t,e){const r=Jt(t),n=Jt(e);return r.getFullYear()===n.getFullYear()}function e2(t,e){return Zn(t,-e)}function t2(t,e){const r=Jt(t),n=r.getFullYear(),a=r.getDate(),i=La(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const s=mve(i);return r.setMonth(e,Math.min(a,s)),r}function wT(t,e){const r=Jt(t);return isNaN(+r)?La(t,NaN):(r.setFullYear(e),r)}var bt=function(){return bt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},bt.apply(this,arguments)};function bve(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function p$(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Wh(t){return t.mode==="multiple"}function Hh(t){return t.mode==="range"}function n0(t){return t.mode==="single"}var wve={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _ve(t,e){return ss(t,"LLLL y",e)}function jve(t,e){return ss(t,"d",e)}function Nve(t,e){return ss(t,"LLLL",e)}function Sve(t){return"".concat(t)}function Ave(t,e){return ss(t,"cccccc",e)}function kve(t,e){return ss(t,"yyyy",e)}var Pve=Object.freeze({__proto__:null,formatCaption:_ve,formatDay:jve,formatMonthCaption:Nve,formatWeekNumber:Sve,formatWeekdayName:Ave,formatYearCaption:kve}),Cve=function(t,e,r){return ss(t,"do MMMM (EEEE)",r)},Ove=function(){return"Month: "},Eve=function(){return"Go to next month"},Tve=function(){return"Go to previous month"},Ive=function(t,e){return ss(t,"cccc",e)},Rve=function(t){return"Week n. ".concat(t)},Lve=function(){return"Year: "},Mve=Object.freeze({__proto__:null,labelDay:Cve,labelMonthDropdown:Ove,labelNext:Eve,labelPrevious:Tve,labelWeekNumber:Rve,labelWeekday:Ive,labelYearDropdown:Lve});function Dve(){var t="buttons",e=wve,r=l$,n={},a={},i=1,s={},l=new Date;return{captionLayout:t,classNames:e,formatters:Pve,labels:Mve,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:l,mode:"default"}}function $ve(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,s=t.toDate;return n?i=ua(n):e&&(i=new Date(e,0,1)),a?s=kN(a):r&&(s=new Date(r,11,31)),{fromDate:i?od(i):void 0,toDate:s?od(s):void 0}}var m$=S.createContext(void 0);function Fve(t){var e,r=t.initialProps,n=Dve(),a=$ve(r),i=a.fromDate,s=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!s)&&(l="buttons");var c;(n0(r)||Wh(r)||Hh(r))&&(c=r.onSelect);var u=bt(bt(bt({},n),r),{captionLayout:l,classNames:bt(bt({},n.classNames),r.classNames),components:bt({},r.components),formatters:bt(bt({},n.formatters),r.formatters),fromDate:i,labels:bt(bt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:bt(bt({},n.modifiers),r.modifiers),modifiersClassNames:bt(bt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:bt(bt({},n.styles),r.styles),toDate:s});return o.jsx(m$.Provider,{value:u,children:t.children})}function Ar(){var t=S.useContext(m$);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function g$(t){var e=Ar(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function Bve(t){return o.jsx("svg",bt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function v$(t){var e,r,n=t.onChange,a=t.value,i=t.children,s=t.caption,l=t.className,c=t.style,u=Ar(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Bve;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function qve(t){var e,r=Ar(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(xve(n,a))for(var p=ua(n),h=n.getMonth();h<=a.getMonth();h++)f.push(t2(p,h));else for(var p=ua(new Date),h=0;h<=11;h++)f.push(t2(p,h));var g=function(v){var x=Number(v.target.value),j=t2(ua(t.displayMonth),x);t.onChange(j)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:v$;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:s}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:s})},v.getMonth())})})}function Uve(t){var e,r=t.displayMonth,n=Ar(),a=n.fromDate,i=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!a)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var h=a.getFullYear(),g=i.getFullYear(),m=h;m<=g;m++)p.push(wT(s$(new Date),m));var v=function(j){var w=wT(ua(r),Number(j.target.value));t.onChange(w)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:v$;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:p.map(function(j){return o.jsx("option",{value:j.getFullYear(),children:d(j,{locale:s})},j.getFullYear())})})}function zve(t,e){var r=S.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function Wve(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,s=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&jh(i,a)<0){var u=-1*(c-1);a=Oi(i,u)}return s&&jh(a,s)<0&&(a=s),ua(a)}function Hve(){var t=Ar(),e=Wve(t),r=zve(e,t.month),n=r[0],a=r[1],i=function(s){var l;if(!t.disableNavigation){var c=ua(s);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function Vve(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=ua(t),i=ua(Oi(a,n)),s=jh(i,a),l=[],c=0;c<s;c++){var u=Oi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Gve(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=ua(t);if(!r)return Oi(l,s);var c=jh(r,t);if(!(c<i))return Oi(l,s)}}function Yve(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=ua(t);if(!r)return Oi(l,-s);var c=jh(l,r);if(!(c<=0))return Oi(l,-s)}}var y$=S.createContext(void 0);function Kve(t){var e=Ar(),r=Hve(),n=r[0],a=r[1],i=Vve(n,e),s=Gve(n,e),l=Yve(n,e),c=function(f){return i.some(function(p){return CN(f,p)})},u=function(f,p){c(f)||(p&&h$(f,p)?a(Oi(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(y$.Provider,{value:d,children:t.children})}function Vh(){var t=S.useContext(y$);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function _T(t){var e,r=Ar(),n=r.classNames,a=r.styles,i=r.components,s=Vh().goToMonth,l=function(d){s(Oi(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:g$,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(qve,{onChange:l,displayMonth:t.displayMonth}),o.jsx(Uve,{onChange:l,displayMonth:t.displayMonth})]})}function Xve(t){return o.jsx("svg",bt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Zve(t){return o.jsx("svg",bt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var $g=S.forwardRef(function(t,e){var r=Ar(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var s=i.join(" "),l=bt(bt({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),o.jsx("button",bt({},t,{ref:e,type:"button",className:s,style:l}))});function Jve(t){var e,r,n=Ar(),a=n.dir,i=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var p=u(t.previousMonth,{locale:i}),h=[s.nav_button,s.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:Zve,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Xve;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx($g,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:s.nav_icon,style:l.nav_icon}):o.jsx(x,{className:s.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx($g,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?o.jsx(x,{className:s.nav_icon,style:l.nav_icon}):o.jsx(v,{className:s.nav_icon,style:l.nav_icon})})]})}function jT(t){var e=Ar().numberOfMonths,r=Vh(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(g){return CN(t.displayMonth,g)}),c=l===0,u=l===s.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){n&&i(n)},h=function(){a&&i(a)};return o.jsx(Jve,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:h})}function Qve(t){var e,r=Ar(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:g$,u;return a?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=o.jsx(_T,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(_T,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(jT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(jT,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function e0e(t){var e=Ar(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function t0e(t,e,r){for(var n=r?lc(new Date):us(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var s=Zn(n,i);a.push(s)}return a}function r0e(){var t=Ar(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,s=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=t0e(a,i,s);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function n0e(){var t,e=Ar(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:r0e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function a0e(t){var e=Ar(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var ON=S.createContext(void 0);function i0e(t){if(!Wh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(ON.Provider,{value:e,children:t.children})}return o.jsx(s0e,{initialProps:t.initialProps,children:t.children})}function s0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,s=function(u,d,f){var p,h;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?p$([],n):[];if(d.selected){var x=v.findIndex(function(j){return ca(u,j)});v.splice(x,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(p){return ca(p,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(ON.Provider,{value:c,children:r})}function EN(){var t=S.useContext(ON);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function o0e(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?ca(a,t)&&ca(n,t)?void 0:ca(a,t)?{from:a,to:void 0}:ca(n,t)?void 0:p_(n,t)?{from:t,to:a}:{from:n,to:t}:a?p_(t,a)?{from:a,to:t}:{from:t,to:a}:n?h$(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var TN=S.createContext(void 0);function l0e(t){if(!Hh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(TN.Provider,{value:e,children:t.children})}return o.jsx(c0e,{initialProps:t.initialProps,children:t.children})}function c0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,s=a.to,l=e.min,c=e.max,u=function(h,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,h,g,m);var j=o0e(h,n);(x=e.onSelect)===null||x===void 0||x.call(e,j,h,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],ca(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),l&&(i&&!s&&d.disabled.push({after:e2(i,l-1),before:Zn(i,l-1)}),i&&s&&d.disabled.push({after:i,before:Zn(i,l-1)}),!i&&s&&d.disabled.push({after:e2(s,l-1),before:Zn(s,l-1)})),c){if(i&&!s&&(d.disabled.push({before:Zn(i,-c+1)}),d.disabled.push({after:Zn(i,c-1)})),i&&s){var f=rs(s,i)+1,p=c-f;d.disabled.push({before:e2(i,p)}),d.disabled.push({after:Zn(s,p)})}!i&&s&&(d.disabled.push({before:Zn(s,-c+1)}),d.disabled.push({after:Zn(s,c-1)}))}return o.jsx(TN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function IN(){var t=S.useContext(TN);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function jm(t){return Array.isArray(t)?p$([],t):t!==void 0?[t]:[]}function u0e(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=jm(a)}),e}var Ei;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ei||(Ei={}));var d0e=Ei.Selected,Ms=Ei.Disabled,f0e=Ei.Hidden,h0e=Ei.Today,r2=Ei.RangeEnd,n2=Ei.RangeMiddle,a2=Ei.RangeStart,p0e=Ei.Outside;function m0e(t,e,r){var n,a=(n={},n[d0e]=jm(t.selected),n[Ms]=jm(t.disabled),n[f0e]=jm(t.hidden),n[h0e]=[t.today],n[r2]=[],n[n2]=[],n[a2]=[],n[p0e]=[],n);return t.fromDate&&a[Ms].push({before:t.fromDate}),t.toDate&&a[Ms].push({after:t.toDate}),Wh(t)?a[Ms]=a[Ms].concat(e.modifiers[Ms]):Hh(t)&&(a[Ms]=a[Ms].concat(r.modifiers[Ms]),a[a2]=r.modifiers[a2],a[n2]=r.modifiers[n2],a[r2]=r.modifiers[r2]),a}var x$=S.createContext(void 0);function g0e(t){var e=Ar(),r=EN(),n=IN(),a=m0e(e,r,n),i=u0e(e.modifiers),s=bt(bt({},a),i);return o.jsx(x$.Provider,{value:s,children:t.children})}function b$(){var t=S.useContext(x$);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function v0e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function y0e(t){return!!(t&&typeof t=="object"&&"from"in t)}function x0e(t){return!!(t&&typeof t=="object"&&"after"in t)}function b0e(t){return!!(t&&typeof t=="object"&&"before"in t)}function w0e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function _0e(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=rs(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=rs(t,n)>=0&&rs(a,t)>=0;return s}return a?ca(a,t):n?ca(n,t):!1}function j0e(t){return AN(t)}function N0e(t){return Array.isArray(t)&&t.every(AN)}function S0e(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(j0e(r))return ca(t,r);if(N0e(r))return r.includes(t);if(y0e(r))return _0e(t,r);if(w0e(r))return r.dayOfWeek.includes(t.getDay());if(v0e(r)){var n=rs(r.before,t),a=rs(r.after,t),i=n>0,s=a<0,l=p_(r.before,r.after);return l?s&&i:i||s}return x0e(r)?rs(t,r.after)>0:b0e(r)?rs(r.before,t)>0:typeof r=="function"?r(t):!1})}function RN(t,e,r){var n=Object.keys(e).reduce(function(i,s){var l=e[s];return S0e(t,l)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!CN(t,r)&&(a.outside=!0),a}function A0e(t,e){for(var r=ua(t[0]),n=kN(t[t.length-1]),a,i,s=r;s<=n;){var l=RN(s,e),c=!l.disabled&&!l.hidden;if(!c){s=Zn(s,1);continue}if(l.selected)return s;l.today&&!i&&(i=s),a||(a=s),s=Zn(s,1)}return i||a}var k0e=365;function w$(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,s=e.retry,l=s===void 0?{count:0,lastFocused:t}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,p={day:Zn,week:h_,month:Oi,year:mge,startOfWeek:function(v){return a.ISOWeek?lc(v):us(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?o$(v):PN(v,{locale:f,weekStartsOn:c})}},h=p[r](t,n==="after"?1:-1);n==="before"&&u?h=gge([u,h]):n==="after"&&d&&(h=vge([d,h]));var g=!0;if(i){var m=RN(h,i);g=!m.disabled&&!m.hidden}return g?h:l.count>k0e?l.lastFocused:w$(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:bt(bt({},l),{count:l.count+1})})}var _$=S.createContext(void 0);function P0e(t){var e=Vh(),r=b$(),n=S.useState(),a=n[0],i=n[1],s=S.useState(),l=s[0],c=s[1],u=A0e(e.displayMonths,r),d=a??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},p=function(v){i(v)},h=Ar(),g=function(v,x){if(a){var j=w$(a,{moveBy:v,direction:x,context:h,modifiers:r});ca(a,j)||(e.goToDate(j,a),p(j))}},m={focusedDay:a,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(_$.Provider,{value:m,children:t.children})}function LN(){var t=S.useContext(_$);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function C0e(t,e){var r=b$(),n=RN(t,r,e);return n}var MN=S.createContext(void 0);function O0e(t){if(!n0(t.initialProps)){var e={selected:void 0};return o.jsx(MN.Provider,{value:e,children:t.children})}return o.jsx(E0e,{initialProps:t.initialProps,children:t.children})}function E0e(t){var e=t.initialProps,r=t.children,n=function(i,s,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,s,l),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,s,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,s,l)},a={selected:e.selected,onDayClick:n};return o.jsx(MN.Provider,{value:a,children:r})}function j$(){var t=S.useContext(MN);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function T0e(t,e){var r=Ar(),n=j$(),a=EN(),i=IN(),s=LN(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,p=s.focus,h=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,x=s.focusStartOfWeek,j=s.focusEndOfWeek,w=function(G){var F,ae,Q,oe;n0(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,G):Wh(r)?(ae=a.onDayClick)===null||ae===void 0||ae.call(a,t,e,G):Hh(r)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,t,e,G):(oe=r.onDayClick)===null||oe===void 0||oe.call(r,t,e,G)},_=function(G){var F;p(t),(F=r.onDayFocus)===null||F===void 0||F.call(r,t,e,G)},N=function(G){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,t,e,G)},A=function(G){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,t,e,G)},k=function(G){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,t,e,G)},E=function(G){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,t,e,G)},I=function(G){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,t,e,G)},L=function(G){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,t,e,G)},C=function(G){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,t,e,G)},O=function(G){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,t,e,G)},R=function(G){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,t,e,G)},M=function(G){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,t,e,G)},W=function(G){var F;switch(G.key){case"ArrowLeft":G.preventDefault(),G.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":G.preventDefault(),G.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":G.preventDefault(),G.stopPropagation(),u();break;case"ArrowUp":G.preventDefault(),G.stopPropagation(),d();break;case"PageUp":G.preventDefault(),G.stopPropagation(),G.shiftKey?m():h();break;case"PageDown":G.preventDefault(),G.stopPropagation(),G.shiftKey?v():g();break;case"Home":G.preventDefault(),G.stopPropagation(),x();break;case"End":G.preventDefault(),G.stopPropagation(),j();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,t,e,G)},H={onClick:w,onFocus:_,onBlur:N,onKeyDown:W,onKeyUp:M,onMouseEnter:A,onMouseLeave:k,onPointerEnter:E,onPointerLeave:I,onTouchCancel:L,onTouchEnd:C,onTouchMove:O,onTouchStart:R};return H}function I0e(){var t=Ar(),e=j$(),r=EN(),n=IN(),a=n0(t)?e.selected:Wh(t)?r.selected:Hh(t)?n.selected:void 0;return a}function R0e(t){return Object.values(Ei).includes(t)}function L0e(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(R0e(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function M0e(t,e){var r=bt({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=bt(bt({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function D0e(t,e,r){var n,a,i,s=Ar(),l=LN(),c=C0e(t,e),u=T0e(t,c),d=I0e(),f=!!(s.onDayClick||s.mode!=="default");S.useEffect(function(){var A;c.outside||l.focusedDay&&f&&ca(l.focusedDay,t)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,t,r,f,c.outside]);var p=L0e(s,c).join(" "),h=M0e(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),m=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:a0e,v=o.jsx(m,{date:t,displayMonth:e,activeModifiers:c}),x={style:h,className:p,children:v,role:"gridcell"},j=l.focusTarget&&ca(l.focusTarget,t)&&!c.outside,w=l.focusedDay&&ca(l.focusedDay,t),_=bt(bt(bt({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||j?0:-1,n)),u),N={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return N}function $0e(t){var e=S.useRef(null),r=D0e(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx($g,bt({name:"day",ref:e},r.buttonProps)):o.jsx("div",bt({},r.divProps))}function F0e(t){var e=t.number,r=t.dates,n=Ar(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!a)return o.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(h){a(e,r,h)};return o.jsx($g,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:p,children:d})}function B0e(t){var e,r,n=Ar(),a=n.styles,i=n.classNames,s=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:$0e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:F0e,d;return s&&(d=o.jsx("td",{className:i.cell,style:a.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},gve(f))})]})}function NT(t,e,r){for(var n=r!=null&&r.ISOWeek?o$(e):PN(e,r),a=r!=null&&r.ISOWeek?lc(t):us(t,r),i=rs(n,a),s=[],l=0;l<=i;l++)s.push(Zn(a,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?c$(d):d$(d,r),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function q0e(t,e){var r=NT(ua(t),kN(t),e);if(e!=null&&e.useFixedWeeks){var n=yve(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=h_(i,6-n),l=NT(h_(i,1),s,e);r.push.apply(r,l)}}return r}function U0e(t){var e,r,n,a=Ar(),i=a.locale,s=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,g=q0e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:n0e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:B0e,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:e0e;return o.jsxs("table",{id:t.id,className:s.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:g.map(function(j){return o.jsx(v,{displayMonth:t.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),o.jsx(x,{displayMonth:t.displayMonth})]})}function z0e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var W0e=z0e()?S.useLayoutEffect:S.useEffect,i2=!1,H0e=0;function ST(){return"react-day-picker-".concat(++H0e)}function V0e(t){var e,r=t??(i2?ST():null),n=S.useState(r),a=n[0],i=n[1];return W0e(function(){a===null&&i(ST())},[]),S.useEffect(function(){i2===!1&&(i2=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function G0e(t){var e,r,n=Ar(),a=n.dir,i=n.classNames,s=n.styles,l=n.components,c=Vh().displayMonths,u=V0e(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=s.month,h=t.displayIndex===0,g=t.displayIndex===c.length-1,m=!h&&!g;a==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(i.caption_start),p=bt(bt({},p),s.caption_start)),g&&(f.push(i.caption_end),p=bt(bt({},p),s.caption_end)),m&&(f.push(i.caption_between),p=bt(bt({},p),s.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Qve;return o.jsxs("div",{className:f.join(" "),style:p,children:[o.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(U0e,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Y0e(t){var e=Ar(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function K0e(t){var e,r,n=t.initialProps,a=Ar(),i=LN(),s=Vh(),l=S.useState(!1),c=l[0],u=l[1];S.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=bt(bt({},a.styles.root),a.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return bt(bt({},g),(v={},v[m]=n[m],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:Y0e;return o.jsx("div",bt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(h,{children:s.displayMonths.map(function(g,m){return o.jsx(G0e,{displayIndex:m,displayMonth:g},m)})})}))}function X0e(t){var e=t.children,r=bve(t,["children"]);return o.jsx(Fve,{initialProps:r,children:o.jsx(Kve,{children:o.jsx(O0e,{initialProps:r,children:o.jsx(i0e,{initialProps:r,children:o.jsx(l0e,{initialProps:r,children:o.jsx(g0e,{children:o.jsx(P0e,{children:e})})})})})})})}function Z0e(t){return o.jsx(X0e,bt({},t,{children:o.jsx(K0e,{initialProps:t})}))}function J0e({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(Z0e,{showOutsideDays:r,className:qe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:qe(Rf({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:qe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:qe(Rf({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:a,...i})=>o.jsx(aI,{className:qe("size-4",a),...i}),IconRight:({className:a,...i})=>o.jsx(Nm,{className:qe("size-4",a),...i})},...n})}function Q0e(){const[t,e]=S.useState([]),[r,n]=S.useState(!0),[a,i]=S.useState({from:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),to:new Date});S.useEffect(()=>{a.from&&a.to&&s()},[a]);const s=async()=>{if(!(!a.from||!a.to))try{n(!0);const u=a.from.toISOString().split("T")[0],d=a.to.toISOString().split("T")[0],f=await JI(u,d);e(f||[])}catch(u){console.error("Error fetching sales data:",u),e([])}finally{n(!1)}},l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=({active:u,payload:d,label:f})=>u&&d&&d.length?o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-medium",children:f}),o.jsxs("p",{className:"text-blue-600",children:["Sales: ",l(d[0].value)]}),o.jsxs("p",{className:"text-gray-600",children:["Orders: ",d[0].payload.orders_count]})]}):null;return o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ct,{children:"Sales Overview"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(cge,{children:[o.jsx(uge,{asChild:!0,children:o.jsxs(we,{variant:"outline",size:"sm",children:[o.jsx(Gg,{className:"h-4 w-4 mr-2"}),a.from?a.to?o.jsxs(o.Fragment,{children:[ss(a.from,"LLL dd, y")," -"," ",ss(a.to,"LLL dd, y")]}):ss(a.from,"LLL dd, y"):"Pick a date range"]})}),o.jsx(dge,{className:"w-auto p-0",align:"end",children:o.jsx(J0e,{initialFocus:!0,mode:"range",defaultMonth:a.from,selected:{from:a.from,to:a.to},onSelect:u=>{i({from:u==null?void 0:u.from,to:u==null?void 0:u.to})},numberOfMonths:2})})]})})]})}),o.jsx(Le,{children:r?o.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[o.jsx(Va,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading sales data..."})]}):t.length===0?o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No sales data found for the selected period"}):o.jsx(Hm,{width:"100%",height:300,children:o.jsxs(Ope,{data:t,children:[o.jsx(hN,{strokeDasharray:"3 3"}),o.jsx(_d,{dataKey:"month"}),o.jsx(sc,{tickFormatter:l}),o.jsx(Aa,{content:o.jsx(c,{})}),o.jsx(tl,{dataKey:"sales",fill:"#8884d8"})]})})})]})}const AT=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function eye(){const[t,e]=S.useState([]),[r,n]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const l=(await QI()||[]).map((c,u)=>({name:c.category_name,value:c.product_count,percentage:c.percentage,color:AT[u%AT.length]}));e(l)}catch(s){console.error("Error fetching category data:",s),e([])}finally{n(!1)}})()},[]);const a=({active:i,payload:s})=>{if(i&&s&&s.length){const l=s[0].payload;return o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-medium",children:l.name}),o.jsxs("p",{className:"text-blue-600",children:["Products: ",l.value]}),o.jsxs("p",{className:"text-gray-600",children:["Percentage: ",l.percentage.toFixed(1),"%"]})]})}return null};return o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Product Distribution by Category"})}),o.jsx(Le,{children:r?o.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[o.jsx(Va,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading category data..."})]}):t.length===0?o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No category data available"}):o.jsx(Hm,{width:"100%",height:300,children:o.jsxs(N7,{children:[o.jsx(ys,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percentage:s})=>`${i} ${s.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,s)=>o.jsx(Ih,{fill:i.color},`cell-${s}`))}),o.jsx(Aa,{content:o.jsx(a,{})})]})})})]})}function tye({className:t,...e}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:qe("w-full caption-bottom text-sm",t),...e})})}function rye({className:t,...e}){return o.jsx("thead",{"data-slot":"table-header",className:qe("[&_tr]:border-b",t),...e})}function nye({className:t,...e}){return o.jsx("tbody",{"data-slot":"table-body",className:qe("[&_tr:last-child]:border-0",t),...e})}function kT({className:t,...e}){return o.jsx("tr",{"data-slot":"table-row",className:qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function hi({className:t,...e}){return o.jsx("th",{"data-slot":"table-head",className:qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function pi({className:t,...e}){return o.jsx("td",{"data-slot":"table-cell",className:qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function m_(t,[e,r]){return Math.min(r,Math.max(e,t))}function a0(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var N$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aye="VisuallyHidden",iye=S.forwardRef((t,e)=>o.jsx(at.span,{...t,ref:e,style:{...N$,...t.style}}));iye.displayName=aye;var sye=[" ","Enter","ArrowUp","ArrowDown"],oye=[" ","Enter"],cc="Select",[i0,s0,lye]=lj(cc),[Sd,owe]=Mn(cc,[lye,t0]),o0=t0(),[cye,nl]=Sd(cc),[uye,dye]=Sd(cc),S$=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,m=o0(e),[v,x]=S.useState(null),[j,w]=S.useState(null),[_,N]=S.useState(!1),A=hd(u),[k,E]=Za({prop:n,defaultProp:a??!1,onChange:i,caller:cc}),[I,L]=Za({prop:s,defaultProp:l,onChange:c,caller:cc}),C=S.useRef(null),O=v?g||!!v.closest("form"):!0,[R,M]=S.useState(new Set),W=Array.from(R).map(H=>H.props.value).join(";");return o.jsx(V7,{...m,children:o.jsxs(cye,{required:h,scope:e,trigger:v,onTriggerChange:x,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:_i(),value:I,onValueChange:L,open:k,onOpenChange:E,dir:A,triggerPointerDownPosRef:C,disabled:p,children:[o.jsx(i0.Provider,{scope:e,children:o.jsx(uye,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(H=>{M(G=>new Set(G).add(H))},[]),onNativeOptionRemove:S.useCallback(H=>{M(G=>{const F=new Set(G);return F.delete(H),F})},[]),children:r})}),O?o.jsxs(G$,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:H=>L(H.target.value),disabled:p,form:g,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},W):null]})})};S$.displayName=cc;var A$="SelectTrigger",k$=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=o0(r),s=nl(A$,r),l=s.disabled||n,c=Bt(e,s.onTriggerChange),u=s0(r),d=S.useRef("touch"),[f,p,h]=K$(m=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===s.value),j=X$(v,m,x);j!==void 0&&s.onValueChange(j.value)}),g=m=>{l||(s.onOpenChange(!0),h()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(jN,{asChild:!0,...i,children:o.jsx(at.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Y$(s.value)?"":void 0,...a,ref:c,onClick:ut(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:ut(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ut(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&sye.includes(m.key)&&(g(),m.preventDefault())})})})});k$.displayName=A$;var P$="SelectValue",C$=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=t,c=nl(P$,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Bt(e,c.onValueNodeChange);return nn(()=>{u(d)},[u,d]),o.jsx(at.span,{...l,ref:f,style:{pointerEvents:"none"},children:Y$(c.value)?o.jsx(o.Fragment,{children:s}):i})});C$.displayName=P$;var fye="SelectIcon",O$=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return o.jsx(at.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});O$.displayName=fye;var hye="SelectPortal",E$=t=>o.jsx(rv,{asChild:!0,...t});E$.displayName=hye;var uc="SelectContent",T$=S.forwardRef((t,e)=>{const r=nl(uc,t.__scopeSelect),[n,a]=S.useState();if(nn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Hg.createPortal(o.jsx(I$,{scope:t.__scopeSelect,children:o.jsx(i0.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(R$,{...t,ref:e})});T$.displayName=uc;var vi=10,[I$,al]=Sd(uc),pye="SelectContentImpl",mye=Yl("SelectContent.RemoveScroll"),R$=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,j=nl(uc,r),[w,_]=S.useState(null),[N,A]=S.useState(null),k=Bt(e,se=>_(se)),[E,I]=S.useState(null),[L,C]=S.useState(null),O=s0(r),[R,M]=S.useState(!1),W=S.useRef(!1);S.useEffect(()=>{if(w)return K_(w)},[w]),Y_();const H=S.useCallback(se=>{const[de,...ie]=O().map(ue=>ue.ref.current),[he]=ie.slice(-1),ge=document.activeElement;for(const ue of se)if(ue===ge||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&N&&(N.scrollTop=0),ue===he&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==ge))return},[O,N]),G=S.useCallback(()=>H([E,w]),[H,E,w]);S.useEffect(()=>{R&&G()},[R,G]);const{onOpenChange:F,triggerPointerDownPosRef:ae}=j;S.useEffect(()=>{if(w){let se={x:0,y:0};const de=he=>{var ge,ue;se={x:Math.abs(Math.round(he.pageX)-(((ge=ae.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ue=ae.current)==null?void 0:ue.y)??0))}},ie=he=>{se.x<=10&&se.y<=10?he.preventDefault():w.contains(he.target)||F(!1),document.removeEventListener("pointermove",de),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ie,{capture:!0})}}},[w,F,ae]),S.useEffect(()=>{const se=()=>F(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[F]);const[Q,oe]=K$(se=>{const de=O().filter(ge=>!ge.disabled),ie=de.find(ge=>ge.ref.current===document.activeElement),he=X$(de,se,ie);he&&setTimeout(()=>he.ref.current.focus())}),$=S.useCallback((se,de,ie)=>{const he=!W.current&&!ie;(j.value!==void 0&&j.value===de||he)&&(I(se),he&&(W.current=!0))},[j.value]),U=S.useCallback(()=>w==null?void 0:w.focus(),[w]),z=S.useCallback((se,de,ie)=>{const he=!W.current&&!ie;(j.value!==void 0&&j.value===de||he)&&C(se)},[j.value]),J=n==="popper"?g_:L$,le=J===g_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(I$,{scope:r,content:w,viewport:N,onViewportChange:A,itemRefCallback:$,selectedItem:E,onItemLeave:U,itemTextRefCallback:z,focusSelectedItem:G,selectedItemText:L,position:n,isPositioned:R,searchRef:Q,children:o.jsx(av,{as:mye,allowPinchZoom:!0,children:o.jsx(tv,{asChild:!0,trapped:j.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:ut(a,se=>{var de;(de=j.trigger)==null||de.focus({preventScroll:!0}),se.preventDefault()}),children:o.jsx(ev,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:o.jsx(J,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:se=>se.preventDefault(),...x,...le,onPlaced:()=>M(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ut(x.onKeyDown,se=>{const de=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!de&&se.key.length===1&&oe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let he=O().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(se.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ge=se.target,ue=he.indexOf(ge);he=he.slice(ue+1)}setTimeout(()=>H(he)),se.preventDefault()}})})})})})})});R$.displayName=pye;var gye="SelectItemAlignedPosition",L$=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=nl(uc,r),s=al(uc,r),[l,c]=S.useState(null),[u,d]=S.useState(null),f=Bt(e,k=>d(k)),p=s0(r),h=S.useRef(!1),g=S.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:j}=s,w=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&x){const k=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),L=x.getBoundingClientRect();if(i.dir!=="rtl"){const ge=L.left-E.left,ue=I.left-ge,Ce=k.left-ue,me=k.width+Ce,ee=Math.max(me,E.width),Ve=window.innerWidth-vi,Ue=m_(ue,[vi,Math.max(vi,Ve-ee)]);l.style.minWidth=me+"px",l.style.left=Ue+"px"}else{const ge=E.right-L.right,ue=window.innerWidth-I.right-ge,Ce=window.innerWidth-k.right-ue,me=k.width+Ce,ee=Math.max(me,E.width),Ve=window.innerWidth-vi,Ue=m_(ue,[vi,Math.max(vi,Ve-ee)]);l.style.minWidth=me+"px",l.style.right=Ue+"px"}const C=p(),O=window.innerHeight-vi*2,R=m.scrollHeight,M=window.getComputedStyle(u),W=parseInt(M.borderTopWidth,10),H=parseInt(M.paddingTop,10),G=parseInt(M.borderBottomWidth,10),F=parseInt(M.paddingBottom,10),ae=W+H+R+F+G,Q=Math.min(v.offsetHeight*5,ae),oe=window.getComputedStyle(m),$=parseInt(oe.paddingTop,10),U=parseInt(oe.paddingBottom,10),z=k.top+k.height/2-vi,J=O-z,le=v.offsetHeight/2,se=v.offsetTop+le,de=W+H+se,ie=ae-de;if(de<=z){const ge=C.length>0&&v===C[C.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-m.offsetTop-m.offsetHeight,Ce=Math.max(J,le+(ge?U:0)+ue+G),me=de+Ce;l.style.height=me+"px"}else{const ge=C.length>0&&v===C[0].ref.current;l.style.top="0px";const Ce=Math.max(z,W+m.offsetTop+(ge?$:0)+le)+ie;l.style.height=Ce+"px",m.scrollTop=de-z+m.offsetTop}l.style.margin=`${vi}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,v,x,i.dir,n]);nn(()=>w(),[w]);const[_,N]=S.useState();nn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const A=S.useCallback(k=>{k&&g.current===!0&&(w(),j==null||j(),g.current=!1)},[w,j]);return o.jsx(yye,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(at.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});L$.displayName=gye;var vye="SelectPopperPosition",g_=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=vi,...i}=t,s=o0(r);return o.jsx(G7,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g_.displayName=vye;var[yye,DN]=Sd(uc,{}),v_="SelectViewport",M$=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=al(v_,r),s=DN(v_,r),l=Bt(e,i.onViewportChange),c=S.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(i0.Slot,{scope:r,children:o.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ut(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-vi*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const j=x+h,w=Math.min(g,j),_=j-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});M$.displayName=v_;var D$="SelectGroup",[xye,bye]=Sd(D$),wye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=_i();return o.jsx(xye,{scope:r,id:a,children:o.jsx(at.div,{role:"group","aria-labelledby":a,...n,ref:e})})});wye.displayName=D$;var $$="SelectLabel",_ye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=bye($$,r);return o.jsx(at.div,{id:a.id,...n,ref:e})});_ye.displayName=$$;var Fg="SelectItem",[jye,F$]=Sd(Fg),B$=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,l=nl(Fg,r),c=al(Fg,r),u=l.value===n,[d,f]=S.useState(i??""),[p,h]=S.useState(!1),g=Bt(e,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,n,a)}),m=_i(),v=S.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(jye,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:S.useCallback(j=>{f(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:o.jsx(i0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(at.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:ut(s.onFocus,()=>h(!0)),onBlur:ut(s.onBlur,()=>h(!1)),onClick:ut(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:ut(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:ut(s.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:ut(s.onPointerMove,j=>{var w;v.current=j.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ut(s.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ut(s.onKeyDown,j=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&j.key===" "||(oye.includes(j.key)&&x(),j.key===" "&&j.preventDefault())})})})})});B$.displayName=Fg;var wf="SelectItemText",q$=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=nl(wf,r),l=al(wf,r),c=F$(wf,r),u=dye(wf,r),[d,f]=S.useState(null),p=Bt(e,x=>f(x),c.onItemTextChange,x=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=S.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return nn(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(at.span,{id:c.textId,...i,ref:p}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Hg.createPortal(i.children,s.valueNode):null]})});q$.displayName=wf;var U$="SelectItemIndicator",z$=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return F$(U$,r).isSelected?o.jsx(at.span,{"aria-hidden":!0,...n,ref:e}):null});z$.displayName=U$;var y_="SelectScrollUpButton",W$=S.forwardRef((t,e)=>{const r=al(y_,t.__scopeSelect),n=DN(y_,t.__scopeSelect),[a,i]=S.useState(!1),s=Bt(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(V$,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});W$.displayName=y_;var x_="SelectScrollDownButton",H$=S.forwardRef((t,e)=>{const r=al(x_,t.__scopeSelect),n=DN(x_,t.__scopeSelect),[a,i]=S.useState(!1),s=Bt(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(V$,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});H$.displayName=x_;var V$=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=al("SelectScrollButton",r),s=S.useRef(null),l=s0(r),c=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),nn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(at.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:ut(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:ut(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:ut(a.onPointerLeave,()=>{c()})})}),Nye="SelectSeparator",Sye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(at.div,{"aria-hidden":!0,...n,ref:e})});Sye.displayName=Nye;var b_="SelectArrow",Aye=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=o0(r),i=nl(b_,r),s=al(b_,r);return i.open&&s.position==="popper"?o.jsx(Y7,{...a,...n,ref:e}):null});Aye.displayName=b_;var kye="SelectBubbleInput",G$=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=S.useRef(null),i=Bt(n,a),s=a0(e);return S.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[s,e]),o.jsx(at.select,{...r,style:{...N$,...r.style},ref:i,defaultValue:e})});G$.displayName=kye;function Y$(t){return t===""||t===void 0}function K$(t){const e=Wn(t),r=S.useRef(""),n=S.useRef(0),a=S.useCallback(s=>{const l=r.current+s;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function X$(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=Pye(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Pye(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Cye=S$,Oye=k$,Eye=C$,Tye=O$,Iye=E$,Rye=T$,Lye=M$,Mye=B$,Dye=q$,$ye=z$,Fye=W$,Bye=H$;function ds({...t}){return o.jsx(Cye,{"data-slot":"select",...t})}function fs({...t}){return o.jsx(Eye,{"data-slot":"select-value",...t})}function hs({className:t,size:e="default",children:r,...n}){return o.jsxs(Oye,{"data-slot":"select-trigger","data-size":e,className:qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,o.jsx(Tye,{asChild:!0,children:o.jsx(A_,{className:"size-4 opacity-50"})})]})}function ps({className:t,children:e,position:r="popper",...n}){return o.jsx(Iye,{children:o.jsxs(Rye,{"data-slot":"select-content",className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(qye,{}),o.jsx(Lye,{className:qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),o.jsx(Uye,{})]})})}function gt({className:t,children:e,...r}){return o.jsxs(Mye,{"data-slot":"select-item",className:qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx($ye,{children:o.jsx(Yg,{className:"size-4"})})}),o.jsx(Dye,{children:e})]})}function qye({className:t,...e}){return o.jsx(Fye,{"data-slot":"select-scroll-up-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(kq,{className:"size-4"})})}function Uye({className:t,...e}){return o.jsx(Bye,{"data-slot":"select-scroll-down-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(A_,{className:"size-4"})})}const gf=t=>{switch(t){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},zye=["all","pending","processing","shipped","delivered","cancelled"];function PT({showActions:t=!1}){const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState(null),[f,p]=S.useState(!1),h=zye,[g,m]=S.useState("all"),v=S.useRef([]),[x,j]=S.useState({width:0,left:0});S.useEffect(()=>{w()},[t]),S.useEffect(()=>{const O=()=>{const R=h.indexOf(g),M=v.current[R];if(M){const W=M.offsetWidth,H=M.offsetLeft;j(G=>G.width!==W||G.left!==H?{width:W,left:H}:G)}};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[g,h]);const w=async()=>{try{const O=t?await qI():await e8(10);if(t&&Array.isArray(O)){const R=O.map(M=>{var W,H,G;return{id:M.id,order_id:M.id,customer_email:((W=M.users)==null?void 0:W.email)||"N/A",customer_name:((H=M.users)==null?void 0:H.name)||"N/A",amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items||[],payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"}});r(R)}else if(!t&&Array.isArray(O)){const R=O.map(M=>({id:M.order_id,order_id:M.order_id,customer_email:M.customer_email,customer_name:M.customer_name||"N/A",amount:M.amount,status:M.status,order_date:new Date(M.order_date).toLocaleDateString(),shipping_address:null,order_items:[],payment_method:"N/A"}));r(R)}}catch(O){console.error("Error fetching orders:",O),ke.error("Failed to load orders")}finally{a(!1)}},_=async(O,R)=>{c(!0);try{await UI(O,R)?(r(W=>W.map(H=>H.order_id===O?{...H,status:R}:H)),(i==null?void 0:i.order_id)===O&&s(W=>W?{...W,status:R}:null),["pending","processing","shipped","delivered"].includes(R)&&d(R),ke.success(`Order status updated to ${R}`)):ke.error("Failed to update order status")}catch(M){console.error("Error updating order status:",M),ke.error("Failed to update order status")}finally{c(!1)}};S.useEffect(()=>{if(u){const O=setTimeout(()=>d(null),1200);return()=>clearTimeout(O)}},[u]);const N=O=>({pending:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered"],delivered:[],cancelled:[]})[O]||[],A=O=>{switch(O.toLowerCase()){case"pending":return o.jsx(Fo,{className:"h-4 w-4"});case"processing":return o.jsx(Va,{className:"h-4 w-4"});case"shipped":return o.jsx(Tu,{className:"h-4 w-4"});case"delivered":return o.jsx(Nh,{className:"h-4 w-4"});case"cancelled":return o.jsx(P_,{className:"h-4 w-4"});default:return o.jsx(Fo,{className:"h-4 w-4"})}},k=O=>Rl(O),E=async O=>{try{const R={...O,status:O.status,payment_method:O.payment_method};await FR(R),ke.success("Invoice opened for printing")}catch(R){console.error("Error printing invoice:",R),ke.error(R instanceof Error?R.message:"Failed to print invoice")}},I=async O=>{try{const R={...O,status:O.status,payment_method:O.payment_method};await $R(R),ke.success("PDF downloaded successfully")}catch(R){console.error("Error generating PDF:",R),ke.error("Failed to generate PDF")}},L=async O=>{try{const R={...O,status:O.status,payment_method:O.payment_method};await BR(R)}catch(R){console.error("Error viewing invoice:",R),ke.error("Failed to view invoice")}};if(n)return o.jsxs("div",{className:"flex items-center justify-center p-8",children:[o.jsx(Va,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading orders..."})]});if(e.length===0)return o.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No orders found"});const C=g==="all"?e:e.filter(O=>O.status.toLowerCase()===g);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-full overflow-x-auto pb-1",children:o.jsx("div",{className:"inline-block min-w-full md:min-w-0",children:o.jsxs("div",{className:"relative inline-flex rounded-lg border border-neutral-800 bg-neutral-900/60 backdrop-blur px-1 py-1",children:[o.jsx("div",{className:"absolute top-1 bottom-1 rounded-md bg-gradient-to-r from-rose-500 to-pink-600 shadow-inner transition-all duration-300 ease-out",style:{width:x.width,transform:`translateX(${x.left}px)`}}),o.jsx("div",{className:"flex space-x-1 relative z-10",children:h.map((O,R)=>{const M=g===O;return o.jsx("button",{ref:W=>{v.current[R]=W},onClick:()=>m(O),className:`px-3 md:px-4 py-1.5 text-xs md:text-sm font-medium rounded-md whitespace-nowrap transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${M?"text-white":"text-neutral-400 hover:text-neutral-200"}`,"aria-pressed":M,type:"button",children:O==="all"?"All":O.charAt(0).toUpperCase()+O.slice(1)},O)})})]})})}),t&&o.jsx("div",{className:"flex items-center justify-end gap-3",children:o.jsx("button",{type:"button",onClick:()=>p(O=>!O),className:`text-[11px] px-2 py-1 rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${f?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-pink-600":"bg-neutral-900/60 border-neutral-700 hover:border-neutral-500 text-neutral-300"}`,"aria-pressed":f,children:f?"Normal view":"Ultra compact"})}),o.jsxs(tye,{children:[o.jsx(rye,{children:o.jsx(kT,{children:f?o.jsxs(o.Fragment,{children:[o.jsx(hi,{className:"h-7 py-0.5 text-[10px] w-[42%]",children:"Order / Customer"}),o.jsx(hi,{className:"h-7 py-0.5 text-[10px] w-[28%]",children:"Amount / Meta"}),o.jsx(hi,{className:"h-7 py-0.5 text-[10px] w-[18%]",children:"Status"}),t&&o.jsx(hi,{className:"h-7 py-0.5 text-[10px] w-[12%] text-right",children:"Actions"})]}):o.jsxs(o.Fragment,{children:[o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Order ID"}),o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Customer"}),o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Amount"}),o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Status"}),o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Payment"}),o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Date"}),t&&o.jsx(hi,{className:"h-8 py-0.5 text-[11px]",children:"Actions"})]})})}),o.jsx(nye,{children:C.map(O=>o.jsx(kT,{className:"cursor-pointer hover:bg-neutral-50",onClick:()=>s(O),children:f?o.jsxs(o.Fragment,{children:[o.jsx(pi,{className:"py-1 text-[10px] leading-[12px]",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"font-medium",children:["#",O.order_id.slice(-8)]}),o.jsx("div",{className:"text-neutral-600",children:O.customer_name}),o.jsx("div",{className:"text-neutral-500",children:O.customer_email})]})}),o.jsx(pi,{className:"py-1 text-[10px] leading-[12px]",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:k(O.amount)}),o.jsxs("div",{className:"text-neutral-600",children:[O.payment_method==="cash-on-delivery"&&"💰 COD",O.payment_method==="bank-transfer"&&"🏦 Bank",O.payment_method==="credit-card"&&"💳 Card",!O.payment_method||O.payment_method==="N/A"?"N/A":O.payment_method]}),o.jsx("div",{className:"text-neutral-500",children:O.order_date})]})}),o.jsx(pi,{className:"py-1",children:o.jsxs(wt,{className:`${gf(O.status)} flex items-center gap-1 w-fit text-[9px] px-1.5 py-0.5`,children:[A(O.status),O.status]})}),t&&o.jsx(pi,{className:"py-1 text-right",children:o.jsx(we,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:R=>{R.stopPropagation(),s(O)},children:o.jsx(Xa,{className:"h-3 w-3"})})})]}):o.jsxs(o.Fragment,{children:[o.jsxs(pi,{className:"font-medium",children:["#",O.order_id.slice(-8)]}),o.jsx(pi,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:O.customer_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:O.customer_email})]})}),o.jsx(pi,{className:"font-medium",children:k(O.amount)}),o.jsx(pi,{children:o.jsxs(wt,{className:`${gf(O.status)} flex items-center gap-1 w-fit`,children:[A(O.status),O.status]})}),o.jsx(pi,{children:o.jsxs("div",{className:"text-sm",children:[O.payment_method==="cash-on-delivery"&&"💰 COD",O.payment_method==="bank-transfer"&&"🏦 Bank Transfer",O.payment_method==="credit-card"&&"💳 Card",!O.payment_method||O.payment_method==="N/A"?"N/A":O.payment_method]})}),o.jsx(pi,{children:O.order_date}),t&&o.jsx(pi,{children:o.jsxs(we,{variant:"outline",size:"sm",onClick:R=>{R.stopPropagation(),s(O)},children:[o.jsx(Xa,{className:"h-4 w-4 mr-1"}),"View Details"]})})]})},O.order_id))})]}),i&&o.jsx(Ni,{open:!!i,onOpenChange:()=>s(null),children:o.jsxs(Ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-5",children:[o.jsx(Si,{children:o.jsxs(Ai,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsxs("span",{className:"font-semibold",children:["Order #",i==null?void 0:i.order_id.slice(-8)]}),o.jsx(wt,{className:`${i?gf(i.status):""} text-[10px] px-2 py-0.5`,children:i==null?void 0:i.status})]})}),i&&o.jsxs("div",{className:"sticky top-0 z-20 -mx-4 sm:-mx-5 px-4 sm:px-5 py-2 bg-neutral-950/80 backdrop-blur supports-[backdrop-filter]:bg-neutral-950/60 border-b border-neutral-800 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-[11px] font-medium tracking-wide text-neutral-300",children:["#",i.order_id.slice(-8)]}),o.jsx(wt,{className:`${gf(i.status)} text-[9px] px-2 py-0.5`,children:i.status})]}),o.jsx("div",{className:"flex items-center gap-1",children:["pending","processing","shipped","delivered"].map((O,R)=>{const M=["pending","processing","shipped","delivered"].indexOf(i.status),W=R,H=M>W,G=M===W,F={pending:G?"text-amber-400":H?"text-amber-600":"text-neutral-600",processing:G?"text-violet-400":H?"text-violet-600":"text-neutral-600",shipped:G?"text-sky-400":H?"text-sky-600":"text-neutral-600",delivered:G?"text-emerald-400":H?"text-emerald-600":"text-neutral-600"};return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"relative flex items-center justify-center",children:[u===O&&G&&o.jsx("span",{className:`absolute inline-flex h-4 w-4 rounded-full ${F[O].replace("text-","bg-")} opacity-60 animate-ping`}),o.jsx(iI,{className:`h-3 w-3 ${F[O]} ${G?"drop-shadow-[0_0_4px_rgba(255,255,255,0.35)]":""}`})]}),O!=="delivered"&&o.jsx("span",{className:`mx-0.5 h-px w-3 ${M>=W?"bg-neutral-500":"bg-neutral-700"}`})]},O)})})]}),i&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsx(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx(Le,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Js,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Customer"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:i.customer_name}),o.jsx("p",{className:"text-[10px] text-muted-foreground break-all leading-tight",children:i.customer_email})]})]})})}),o.jsx(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx(Le,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Gg,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Order Date"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:i.order_date})]})]})})}),o.jsx(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx(Le,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Bq,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Total"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:k(i.amount)}),o.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:i.payment_method})]})]})})})]}),i.shipping_address&&o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(Pt,{className:"pb-2 px-3 pt-3",children:o.jsxs(Ct,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[o.jsx(C_,{className:"h-4 w-4"}),"Shipping"]})}),o.jsx(Le,{className:"px-3 pb-3 pt-0",children:o.jsxs("div",{className:"text-[11px] space-y-0.5 leading-tight",children:[o.jsxs("p",{className:"font-medium",children:[i.shipping_address.firstName," ",i.shipping_address.lastName]}),o.jsx("p",{children:i.shipping_address.address}),o.jsxs("p",{children:[i.shipping_address.city,", ",i.shipping_address.state," ",i.shipping_address.zipCode]}),o.jsx("p",{children:i.shipping_address.country}),o.jsxs("p",{className:"text-muted-foreground",children:["📞 ",i.shipping_address.phone]}),o.jsxs("p",{className:"text-muted-foreground",children:["✉️ ",i.shipping_address.email]})]})})]}),o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(Pt,{className:"pb-2 px-3 pt-3",children:o.jsx(Ct,{className:"text-sm font-semibold tracking-wide",children:"Items"})}),o.jsx(Le,{className:"px-3 pb-3 pt-0",children:i.order_items&&i.order_items.length>0?o.jsxs("div",{className:"space-y-2",children:[i.order_items.map((O,R)=>{var M;return o.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded-md bg-neutral-800/40",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:((M=O.products)==null?void 0:M.name)||"Unknown Product"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground leading-tight",children:[O.quantity," × ",k(O.price_at_purchase)]})]}),o.jsx("p",{className:"text-xs font-medium leading-tight",children:k(O.quantity*O.price_at_purchase)})]},R)}),o.jsx(Jn,{className:"my-1"}),o.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:k(i.amount)})]})]}):o.jsx("p",{className:"text-[11px] text-muted-foreground",children:"No items found in this order."})})]}),o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(Pt,{className:"pb-2 px-3 pt-3",children:o.jsx(Ct,{className:"text-sm font-semibold tracking-wide",children:"Status"})}),o.jsx(Le,{className:"px-3 pb-3 pt-0",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",children:"Current"}),o.jsxs(wt,{className:`${gf(i.status)} flex items-center gap-1 w-fit mt-1 text-[10px] px-2 py-0.5`,children:[A(i.status),i.status]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-xs font-medium mb-1 flex items-center gap-2",children:["Next",l&&o.jsx(Va,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[N(i.status).map(O=>o.jsx("button",{type:"button",disabled:l,onClick:()=>_(i.order_id,O),className:`relative group overflow-hidden px-3 py-1 rounded-full text-[10px] font-medium tracking-wide transition shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 disabled:opacity-50 ${O==="cancelled"?"bg-rose-600/20 text-rose-300 hover:bg-rose-600/30":O==="delivered"?"bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600/30":O==="shipped"?"bg-blue-600/20 text-blue-300 hover:bg-blue-600/30":O==="processing"?"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30":"bg-neutral-700/40 text-neutral-200 hover:bg-neutral-600/50"}`,children:o.jsxs("span",{className:"flex items-center gap-1.5",children:[A(O),O]})},O)),N(i.status).length===0&&o.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"No transitions"})]}),N(i.status).length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsxs(ds,{value:"",onValueChange:O=>_(i.order_id,O),disabled:l,children:[o.jsx(hs,{className:"w-44 text-[10px] h-7 px-2",children:o.jsx(fs,{placeholder:"Alt action"})}),o.jsx(ps,{children:N(i.status).map(O=>o.jsx(gt,{value:O,className:"capitalize",children:O},O))})]}),o.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Pills are primary transitions; dropdown is backup."})]})]})]})})})]}),o.jsxs(Re,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(Pt,{className:"pb-2 px-3 pt-3",children:o.jsxs(Ct,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[o.jsx(Vs,{className:"h-4 w-4"}),"Invoices"]})}),o.jsxs(Le,{className:"px-3 pb-3 pt-0",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(we,{variant:"outline",onClick:()=>L(i),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(Vs,{className:"h-3.5 w-3.5"})," View"]}),o.jsxs(we,{variant:"outline",onClick:()=>I(i),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(sI,{className:"h-3.5 w-3.5"})," PDF"]}),o.jsxs(we,{variant:"outline",onClick:()=>E(i),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(uI,{className:"h-3.5 w-3.5"})," Print"]})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 leading-tight",children:"Quick invoice actions."})]})]})]})]})})]})}function Z$({className:t,...e}){return o.jsx("textarea",{"data-slot":"textarea",className:qe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var l0="Checkbox",[Wye,lwe]=Mn(l0),[Hye,$N]=Wye(l0);function Vye(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,h]=Za({prop:r,defaultProp:a??!1,onChange:c,caller:l0}),[g,m]=S.useState(null),[v,x]=S.useState(null),j=S.useRef(!1),w=g?!!s||!!g.closest("form"):!0,_={checked:p,disabled:i,setChecked:h,control:g,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:qo(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:x};return o.jsx(Hye,{scope:e,..._,children:Gye(f)?f(_):n})}var J$="CheckboxTrigger",Q$=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=$N(J$,t),m=Bt(a,d),v=S.useRef(c);return S.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const j=()=>f(v.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[i,f]),o.jsx(at.button,{type:"button",role:"checkbox","aria-checked":qo(c)?"mixed":c,"aria-required":u,"data-state":i9(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:ut(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ut(r,x=>{f(j=>qo(j)?!0:!j),g&&h&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});Q$.displayName=J$;var e9=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(Vye,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(Q$,{...f,ref:e,__scopeCheckbox:r}),p&&o.jsx(a9,{__scopeCheckbox:r})]})})});e9.displayName=l0;var t9="CheckboxIndicator",r9=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=$N(t9,r);return o.jsx(da,{present:n||qo(i.checked)||i.checked===!0,children:o.jsx(at.span,{"data-state":i9(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});r9.displayName=t9;var n9="CheckboxBubbleInput",a9=S.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=$N(n9,t),g=Bt(r,h),m=a0(i),v=e0(n);S.useEffect(()=>{const j=p;if(!j)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,A=!a.current;if(m!==i&&N){const k=new Event("click",{bubbles:A});j.indeterminate=qo(i),N.call(j,qo(i)?!1:i),j.dispatchEvent(k)}},[p,m,i,a]);const x=S.useRef(qo(i)?!1:i);return o.jsx(at.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});a9.displayName=n9;function Gye(t){return typeof t=="function"}function qo(t){return t==="indeterminate"}function i9(t){return qo(t)?"indeterminate":t?"checked":"unchecked"}function w_({className:t,...e}){return o.jsx(e9,{"data-slot":"checkbox",className:qe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(r9,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(Yg,{className:"size-3.5"})})})}var FN="Progress",BN=100,[Yye,cwe]=Mn(FN),[Kye,Xye]=Yye(FN),s9=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Zye,...s}=t;(a||a===0)&&!CT(a)&&console.error(Jye(`${a}`,"Progress"));const l=CT(a)?a:BN;n!==null&&!OT(n,l)&&console.error(Qye(`${n}`,"Progress"));const c=OT(n,l)?n:null,u=Bg(c)?i(c,l):void 0;return o.jsx(Kye,{scope:r,value:c,max:l,children:o.jsx(at.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Bg(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":c9(c,l),"data-value":c??void 0,"data-max":l,...s,ref:e})})});s9.displayName=FN;var o9="ProgressIndicator",l9=S.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=Xye(o9,r);return o.jsx(at.div,{"data-state":c9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});l9.displayName=o9;function Zye(t,e){return`${Math.round(t/e*100)}%`}function c9(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Bg(t){return typeof t=="number"}function CT(t){return Bg(t)&&!isNaN(t)&&t>0}function OT(t,e){return Bg(t)&&!isNaN(t)&&t<=e&&t>=0}function Jye(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${BN}\`.`}function Qye(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${BN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var exe=s9,txe=l9;function Cu({className:t,value:e,...r}){return o.jsx(exe,{"data-slot":"progress",className:qe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:o.jsx(txe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const rxe=N_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function nxe({className:t,variant:e,...r}){return o.jsx("div",{"data-slot":"alert",role:"alert",className:qe(rxe({variant:e}),t),...r})}function axe({className:t,...e}){return o.jsx("div",{"data-slot":"alert-description",className:qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var c0="Collapsible",[ixe,u9]=Mn(c0),[sxe,qN]=ixe(c0),d9=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...l}=t,[c,u]=Za({prop:n,defaultProp:a??!1,onChange:s,caller:c0});return o.jsx(sxe,{scope:r,disabled:i,contentId:_i(),open:c,onOpenToggle:S.useCallback(()=>u(d=>!d),[u]),children:o.jsx(at.div,{"data-state":zN(c),"data-disabled":i?"":void 0,...l,ref:e})})});d9.displayName=c0;var f9="CollapsibleTrigger",h9=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=qN(f9,r);return o.jsx(at.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":zN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:ut(t.onClick,a.onOpenToggle)})});h9.displayName=f9;var UN="CollapsibleContent",p9=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=qN(UN,t.__scopeCollapsible);return o.jsx(da,{present:r||a.open,children:({present:i})=>o.jsx(oxe,{...n,ref:e,present:i})})});p9.displayName=UN;var oxe=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,s=qN(UN,r),[l,c]=S.useState(n),u=S.useRef(null),d=Bt(e,u),f=S.useRef(0),p=f.current,h=S.useRef(0),g=h.current,m=s.open||l,v=S.useRef(m),x=S.useRef(void 0);return S.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),nn(()=>{const j=u.current;if(j){x.current=x.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const w=j.getBoundingClientRect();f.current=w.height,h.current=w.width,v.current||(j.style.transitionDuration=x.current.transitionDuration,j.style.animationName=x.current.animationName),c(n)}},[s.open,n]),o.jsx(at.div,{"data-state":zN(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&a})});function zN(t){return t?"open":"closed"}var lxe=d9,cxe=h9,uxe=p9,Di="Accordion",dxe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[WN,fxe,hxe]=lj(Di),[u0,uwe]=Mn(Di,[hxe,u9]),HN=u9(),m9=K.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return o.jsx(WN.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?o.jsx(vxe,{...i,ref:e}):o.jsx(gxe,{...a,ref:e})})});m9.displayName=Di;var[g9,pxe]=u0(Di),[v9,mxe]=u0(Di,{collapsible:!1}),gxe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...s}=t,[l,c]=Za({prop:r,defaultProp:n??"",onChange:a,caller:Di});return o.jsx(g9,{scope:t.__scopeAccordion,value:K.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:K.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(v9,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(y9,{...s,ref:e})})})}),vxe=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[s,l]=Za({prop:r,defaultProp:n??[],onChange:a,caller:Di}),c=K.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=K.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return o.jsx(g9,{scope:t.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:o.jsx(v9,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(y9,{...i,ref:e})})})}),[yxe,d0]=u0(Di),y9=K.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...s}=t,l=K.useRef(null),c=Bt(l,e),u=fxe(r),f=hd(a)==="ltr",p=ut(t.onKeyDown,h=>{var E;if(!dxe.includes(h.key))return;const g=h.target,m=u().filter(I=>{var L;return!((L=I.ref.current)!=null&&L.disabled)}),v=m.findIndex(I=>I.ref.current===g),x=m.length;if(v===-1)return;h.preventDefault();let j=v;const w=0,_=x-1,N=()=>{j=v+1,j>_&&(j=w)},A=()=>{j=v-1,j<w&&(j=_)};switch(h.key){case"Home":j=w;break;case"End":j=_;break;case"ArrowRight":i==="horizontal"&&(f?N():A());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?A():N());break;case"ArrowUp":i==="vertical"&&A();break}const k=j%x;(E=m[k].ref.current)==null||E.focus()});return o.jsx(yxe,{scope:r,disabled:n,direction:a,orientation:i,children:o.jsx(WN.Slot,{scope:r,children:o.jsx(at.div,{...s,"data-orientation":i,ref:c,onKeyDown:n?void 0:p})})})}),qg="AccordionItem",[xxe,VN]=u0(qg),x9=K.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=d0(qg,r),s=pxe(qg,r),l=HN(r),c=_i(),u=n&&s.value.includes(n)||!1,d=i.disabled||t.disabled;return o.jsx(xxe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(lxe,{"data-orientation":i.orientation,"data-state":S9(u),...l,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});x9.displayName=qg;var b9="AccordionHeader",w9=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=d0(Di,r),i=VN(b9,r);return o.jsx(at.h3,{"data-orientation":a.orientation,"data-state":S9(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});w9.displayName=b9;var __="AccordionTrigger",_9=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=d0(Di,r),i=VN(__,r),s=mxe(__,r),l=HN(r);return o.jsx(WN.ItemSlot,{scope:r,children:o.jsx(cxe,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:e})})});_9.displayName=__;var j9="AccordionContent",N9=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=d0(Di,r),i=VN(j9,r),s=HN(r);return o.jsx(uxe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});N9.displayName=j9;function S9(t){return t?"open":"closed"}var bxe=m9,wxe=x9,_xe=w9,jxe=_9,Nxe=N9;function Sxe({...t}){return o.jsx(bxe,{"data-slot":"accordion",...t})}function om({className:t,...e}){return o.jsx(wxe,{"data-slot":"accordion-item",className:qe("border-b last:border-b-0",t),...e})}function lm({className:t,children:e,...r}){return o.jsx(_xe,{className:"flex",children:o.jsxs(jxe,{"data-slot":"accordion-trigger",className:qe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,o.jsx(A_,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function cm({className:t,children:e,...r}){return o.jsx(Nxe,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:o.jsx("div",{className:qe("pt-0 pb-4",t),children:e})})}class Lo{static validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Invalid file type. Only JPEG, PNG, WebP, and AVIF are allowed."}}static async fileToCanvas(e){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),s=i.getContext("2d");if(!s){n(new Error("Could not get canvas context"));return}a.onload=()=>{let{width:u,height:d}=a;if(u>1920||d>1920){const f=Math.min(1920/u,1920/d);u*=f,d*=f}i.width=u,i.height=d,s.drawImage(a,0,0,u,d),r({canvas:i,ctx:s,width:u,height:d})},a.onerror=()=>n(new Error("Failed to load image")),a.src=URL.createObjectURL(e)})}static async canvasToBlob(e,r,n=.85){return new Promise((a,i)=>{e.toBlob(s=>{s?a(s):i(new Error("Failed to convert canvas to blob"))},r,n)})}static async processImage(e,r={}){const{maxWidth:n=1920,maxHeight:a=1920,quality:i=.85,format:s="webp",generateSizes:l=!0}=r,c=this.validateFile(e);if(!c.valid)throw new Error(c.error);const{canvas:u,ctx:d,width:f,height:p}=await this.fileToCanvas(e);if(f>n||p>a){const v=Math.min(n/f,a/p),x=f*v,j=p*v,w=document.createElement("canvas"),_=w.getContext("2d");w.width=x,w.height=j,_.drawImage(u,0,0,x,j),u.width=x,u.height=j,d.drawImage(w,0,0)}const h=`image/${s}`,g=await this.canvasToBlob(u,h,i);let m;if(l){const v=document.createElement("canvas"),x=v.getContext("2d"),j=300,w=Math.min(j/f,j/p);v.width=f*w,v.height=p*w,x.drawImage(u,0,0,v.width,v.height),m=await this.canvasToBlob(v,h,i)}return{original:e,optimized:g,thumbnail:m,format:s,originalSize:e.size,optimizedSize:g.size,dimensions:{width:u.width,height:u.height}}}static async uploadToStorage(e,r,n){const a=Date.now(),i=`${r}/${a}.${e.format}`,{data:s,error:l}=await Oe.storage.from(this.BUCKET_NAME).upload(i,e.optimized,{contentType:`image/${e.format}`,upsert:!1});if(l)throw new Error(`Upload failed: ${l.message}`);const{data:c}=Oe.storage.from(this.BUCKET_NAME).getPublicUrl(i);let u;if(e.thumbnail){const d=`${r}/${a}_thumb.${e.format}`,{data:f,error:p}=await Oe.storage.from(this.BUCKET_NAME).upload(d,e.thumbnail,{contentType:`image/${e.format}`,upsert:!1});if(!p){const{data:h}=Oe.storage.from(this.BUCKET_NAME).getPublicUrl(d);u=h.publicUrl}}return{url:c.publicUrl,thumbnailUrl:u}}static async uploadMultipleImages(e,r,n={},a,i){const s=[];for(let l=0;l<e.length;l++){const c=e[l];try{const u=await this.processImage(c,n),d=await this.uploadToStorage(u,r),f={url:d.url,thumbnailUrl:d.thumbnailUrl,fileName:c.name};s.push(f),i==null||i(l,f)}catch(u){console.error(`Failed to upload ${c.name}:`,u)}}return s}static async deleteImage(e){const r=e.split("/"),n=r[r.length-1],a=r[r.length-2];if(!n||!a)throw new Error("Invalid image URL format");const{error:i}=await Oe.storage.from(this.BUCKET_NAME).remove([`${a}/${n}`]);if(i)throw new Error(`Failed to delete image: ${i.message}`)}static async checkBucketExists(){try{const{data:e,error:r}=await Oe.storage.listBuckets();return r?(console.error("Error listing buckets:",r),await this.checkBucketDirectly()):e==null?void 0:e.some(a=>a.name===this.BUCKET_NAME)}catch(e){return console.error("Error checking bucket existence:",e),!1}}static async checkBucketDirectly(){try{const{error:e}=await Oe.storage.from(this.BUCKET_NAME).list("",{limit:1});return!e}catch(e){return console.error("Error checking bucket directly:",e),!1}}}Zt(Lo,"MAX_FILE_SIZE",10*1024*1024),Zt(Lo,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp","image/avif"]),Zt(Lo,"BUCKET_NAME","product-images");var Axe=Object.defineProperty,kxe=(t,e,r)=>e in t?Axe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mr=(t,e,r)=>kxe(t,typeof e!="symbol"?e+"":e,r);const Ug={x:0,y:0,width:0,height:0,unit:"px"},iu=(t,e,r)=>Math.min(Math.max(t,e),r),Pxe=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),ET=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Cxe(t,e,r,n){const a=Zi(t,r,n);return t.width&&(a.height=a.width/e),t.height&&(a.width=a.height*e),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/e),t.unit==="%"?To(a,r,n):a}function Oxe(t,e,r){const n=Zi(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?To(n,e,r):n}function To(t,e,r){return t.unit==="%"?{...Ug,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function Zi(t,e,r){return t.unit?t.unit==="px"?{...Ug,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...Ug,...t,unit:"px"}}function TT(t,e,r,n,a,i=0,s=0,l=n,c=a){const u={...t};let d=Math.min(i,n),f=Math.min(s,a),p=Math.min(l,n),h=Math.min(c,a);e&&(e>1?(d=s?s*e:d,f=d/e,p=l*e):(f=i?i/e:f,d=f*e,h=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=n-(u.x+u.width);g<0&&(u.x=Math.min(u.x,n-d),u.width+=g);const m=a-(u.y+u.height);if(m<0&&(u.y=Math.min(u.y,a-f),u.height+=m),u.width<d&&((r==="sw"||r=="nw")&&(u.x-=d-u.width),u.width=d),u.height<f&&((r==="nw"||r=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((r==="sw"||r=="nw")&&(u.x-=p-u.width),u.width=p),u.height>h&&((r==="nw"||r=="ne")&&(u.y-=h-u.height),u.height=h),e){const v=u.width/u.height;if(v<e){const x=Math.max(u.width/e,f);(r==="nw"||r=="ne")&&(u.y-=x-u.height),u.height=x}else if(v>e){const x=Math.max(u.height*e,d);(r==="sw"||r=="nw")&&(u.x-=x-u.width),u.width=x}}return u}function Exe(t,e,r,n){const a={...t};return e==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),e==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const su={capture:!0,passive:!1};let Txe=0;const Oo=class gi extends S.PureComponent{constructor(){super(...arguments),Mr(this,"docMoveBound",!1),Mr(this,"mouseDownOnCrop",!1),Mr(this,"dragStarted",!1),Mr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Mr(this,"componentRef",S.createRef()),Mr(this,"mediaRef",S.createRef()),Mr(this,"resizeObserver"),Mr(this,"initChangeCalled",!1),Mr(this,"instanceId",`rc-${Txe++}`),Mr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Mr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const i=Zi(r,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,l=!!s;let c=e.clientX,u=e.clientY,d=i.x,f=i.y;if(s){const p=e.clientX-a.x,h=e.clientY-a.y;let g=0,m=0;s==="ne"||s=="e"?(g=p-(i.x+i.width),m=h-i.y,d=i.x,f=i.y+i.height):s==="se"||s==="s"?(g=p-(i.x+i.width),m=h-(i.y+i.height),d=i.x,f=i.y):s==="sw"||s=="w"?(g=p-i.x,m=h-(i.y+i.height),d=i.x+i.width,f=i.y):(s==="nw"||s=="n")&&(g=p-i.x,m=h-i.y,d=i.x+i.width,f=i.y+i.height),c=d+a.x+g,u=f+a.y+m}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Mr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:a,keepSelection:i,onChange:s}=this.props,l=this.getBox();if(n||a||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-l.x,u=e.clientY-l.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(Zi(d,l.width,l.height),To(d,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Mr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:a,onDragStart:i}=this.props,s=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),ET(r,c)||a(Zi(c,s.width,s.height),To(c,s.width,s.height))}),Mr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const s=e.key;let l=!1;if(!r)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?gi.nudgeStepLarge:e.shiftKey?gi.nudgeStepMedium:gi.nudgeStep;if(s==="ArrowLeft"?(u.x-=d,l=!0):s==="ArrowRight"?(u.x+=d,l=!0):s==="ArrowUp"?(u.y-=d,l=!0):s==="ArrowDown"&&(u.y+=d,l=!0),l){e.cancelable&&e.preventDefault(),u.x=iu(u.x,0,c.width-u.width),u.y=iu(u.y,0,c.height-u.height);const f=Zi(u,c.width,c.height),p=To(u,c.width,c.height);a(f,p),i&&i(f,p)}}),Mr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:s=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:f}=this.props,p=this.getBox();if(i||!a)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?gi.nudgeStepLarge:e.shiftKey?gi.nudgeStepMedium:gi.nudgeStep,g=Zi(a,p.width,p.height),m=Exe(g,e.key,h,r),v=TT(m,n,r,p.width,p.height,s,l,c,u);if(!ET(a,v)){const x=To(v,p.width,p.height);d(v,x),f&&f(v,x)}}),Mr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),a&&a(Zi(r,s.width,s.height),To(r,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Mr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:a,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:a,height:i}=this.getBox();a&&i&&n(Zi(r,a,i),To(r,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,su),this.document.addEventListener("pointerup",this.onDocPointerDone,su),this.document.addEventListener("pointercancel",this.onDocPointerDone,su),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,su),this.document.removeEventListener("pointerup",this.onDocPointerDone,su),this.document.removeEventListener("pointercancel",this.onDocPointerDone,su),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),a=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=iu(e.startCropX+a,0,r.width-n.width),n.y=iu(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,a){const{evData:i}=this,s=i.clientX-e.x,l=i.clientY-e.y;let c;a&&r?c=r==="nw"||r==="n"||r==="ne":c=l<i.startCropY;let u;return n&&r?u=r==="nw"||r==="w"||r==="sw":u=s<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,r,n=0,a=0){const i=Math.min(n,e.width),s=Math.min(a,e.height);return!r||!i&&!s?[i,s]:r>1?i?[i,i/r]:[s*r,s]:s?[s*r,s]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[s,l]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,e.ord,s,l),d=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(s&&d==="nw"||d==="w"||d==="sw")&&(f=Math.min(f,-s)),(l&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-l));const h={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(h.x=e.startCropX,h.width=f,r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY-h.height)):u==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=f,r?h.height=h.width/r:h.height=p):u==="sw"?(h.x=e.startCropX+f,h.y=e.startCropY,h.width=Math.abs(f),r?h.height=h.width/r:h.height=p):u==="nw"&&(h.x=e.startCropX+f,h.width=Math.abs(f),r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY+p));const g=TT(h,r,u,i.width,i.height,s,l,n,a);return r||gi.xyOrds.indexOf(d)>-1?c=g:gi.xOrds.indexOf(d)>-1?(c.x=g.x,c.width=g.width):gi.yOrds.indexOf(d)>-1&&(c.y=g.y,c.height=g.height),c.x=iu(c.x,0,i.width-c.width),c.y=iu(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:e=gi.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:s}=this.props,l=this.getCropStyle();if(s)return K.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&K.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},K.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&K.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&K.createElement(K.Fragment,null,K.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),K.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...Ug,...this.props.crop||{}};return Zi(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:a,crop:i,disabled:s,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:f}=this.state,p=i?this.renderCropSelection():null,h=Pxe("ReactCrop",a,d&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return K.createElement("div",{ref:this.componentRef,className:h,style:c},K.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?K.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},K.createElement("defs",null,K.createElement("mask",{id:`hole-${this.instanceId}`},K.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?K.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):K.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),K.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Mr(Oo,"xOrds",["e","w"]),Mr(Oo,"yOrds",["n","s"]),Mr(Oo,"xyOrds",["nw","ne","se","sw"]),Mr(Oo,"nudgeStep",1),Mr(Oo,"nudgeStepMedium",10),Mr(Oo,"nudgeStepLarge",100),Mr(Oo,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Ixe=Oo;const Rxe=Math.PI/180;async function Lxe(t,e,r,n=1,a=0){const i=e.getContext("2d");if(!i)throw new Error("No 2d context");const s=t.naturalWidth/t.width,l=t.naturalHeight/t.height,c=window.devicePixelRatio;e.width=Math.floor(r.width*s*c),e.height=Math.floor(r.height*l*c),i.scale(c,c),i.imageSmoothingQuality="high";const u=r.x*s,d=r.y*l,f=a*Rxe,p=t.naturalWidth/2,h=t.naturalHeight/2;i.save(),i.translate(-u,-d),i.translate(p,h),i.rotate(f),i.scale(n,n),i.translate(-p,-h),i.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),i.restore()}async function Mxe(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}a.width=n.naturalWidth,a.height=n.naturalHeight,i.drawImage(n,0,0);try{const s=a.toDataURL("image/png");e(s)}catch(s){r(s)}},n.onerror=()=>r(new Error("Failed to load image")),n.src=t})}function Dxe({src:t,onCropComplete:e,onClose:r,aspect:n=3/4}){const[a,i]=S.useState(),[s,l]=S.useState(),[c,u]=S.useState(null),[d,f]=S.useState(!1),p=S.useRef(null),h=S.useRef(null);S.useEffect(()=>{t&&t.startsWith("http")?(f(!0),Mxe(t).then(v=>{u(v),f(!1)}).catch(v=>{console.error("Error converting image to data URL:",v),u(t),f(!1)})):u(t)},[t]);function g(v){if(n){const{width:x,height:j}=v.currentTarget;i(Oxe(Cxe({unit:"%",width:90},n,x,j),x,j))}}async function m(){const v=p.current,x=h.current;if(!(!v||!x||!s))try{await Lxe(v,x,s),x.toBlob(j=>{j?e(j):(console.error("Failed to create blob from canvas"),alert("Failed to crop image. Please try again."))},"image/png")}catch(j){console.error("Error cropping image:",j),alert("Failed to crop image. Please try again.")}}return S.useEffect(()=>{i(void 0),l(void 0)},[t]),t?o.jsx(Ni,{open:!!t,onOpenChange:v=>!v&&r(),children:o.jsxs(Ja,{className:"max-w-3xl",children:[o.jsx(Si,{children:o.jsx(Ai,{children:"Crop Image"})}),d?o.jsx("div",{className:"flex justify-center items-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),o.jsx("p",{children:"Loading image..."})]})}):o.jsx("div",{className:"flex justify-center p-4",children:o.jsx(Ixe,{crop:a,onChange:(v,x)=>i(x),onComplete:v=>l(v),aspect:n,minWidth:100,minHeight:100,children:o.jsx("img",{ref:p,alt:"Crop me",src:c||"",onLoad:g,style:{maxHeight:"70vh"}})})}),o.jsx("canvas",{ref:h,style:{display:"none"}}),o.jsxs(FG,{children:[o.jsx(we,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(we,{onClick:m,disabled:d||!s,children:"Save Crop"})]})]})}):null}function IT({mode:t="create",product:e=null,onSuccess:r,onCancel:n}){var F,ae;const[a,i]=S.useState({name:(e==null?void 0:e.name)||"",category:(e==null?void 0:e.category)||"Casual",price:((F=e==null?void 0:e.price)==null?void 0:F.toString())||"",originalPrice:((ae=e==null?void 0:e.originalPrice)==null?void 0:ae.toString())||"",description:(e==null?void 0:e.description)||"",inStock:(e==null?void 0:e.inStock)??!0,sizes:(e==null?void 0:e.sizes)||["S","M","L"],colors:(e==null?void 0:e.colors)||["Black","White"],images:(e==null?void 0:e.images)||[]}),[s,l]=S.useState([]),[c,u]=S.useState((e==null?void 0:e.images)||[]),[d,f]=S.useState(!1),[p,h]=S.useState(0),[g,m]=S.useState(!1),[v,x]=S.useState(""),[j,w]=S.useState(""),_=S.useRef(null),[N,A]=S.useState(null);S.useEffect(()=>()=>{s.forEach(Q=>{Q.preview&&URL.revokeObjectURL(Q.preview)})},[s]);const k=Q=>{if(!N)return;const oe=new File([Q],"cropped_image.png",{type:"image/png"}),$=URL.createObjectURL(oe);N.type==="new"?l(U=>{const z=[...U],J=z[N.index].preview;return URL.revokeObjectURL(J),z[N.index]={...z[N.index],file:oe,preview:$,status:"pending"},z}):(u(U=>U.filter((z,J)=>J!==N.index)),l(U=>[...U,{file:oe,preview:$,status:"pending",progress:0}])),A(null),ke.success("Image cropped successfully. Ready for upload.")},E=S.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),Q.type==="dragenter"||Q.type==="dragover"?m(!0):Q.type==="dragleave"&&m(!1)},[]),I=S.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),m(!1),Q.dataTransfer.files&&Q.dataTransfer.files[0]&&L(Array.from(Q.dataTransfer.files))},[]),L=Q=>{const oe=Q.filter(U=>{const z=Lo.validateFile(U);return z.valid?!0:(ke.error(`${U.name}: ${z.error}`),!1)});if(oe.length===0)return;const $=oe.map(U=>({file:U,preview:URL.createObjectURL(U),status:"pending",progress:0}));l(U=>[...U,...$]),ke.success(`${oe.length} image(s) ready for upload`)},C=Q=>{const oe=s[Q];oe.preview&&URL.revokeObjectURL(oe.preview),oe.url&&Lo.deleteImage(oe.url).catch($=>{console.warn("Failed to delete image from storage:",$)}),l($=>$.filter((U,z)=>z!==Q))},O=Q=>{u(oe=>oe.filter($=>$!==Q))},R=()=>{v.trim()&&!a.sizes.includes(v.trim())&&(i(Q=>({...Q,sizes:[...Q.sizes,v.trim()]})),x(""))},M=Q=>{i(oe=>({...oe,sizes:oe.sizes.filter($=>$!==Q)}))},W=()=>{j.trim()&&!a.colors.includes(j.trim())&&(i(Q=>({...Q,colors:[...Q.colors,j.trim()]})),w(""))},H=Q=>{i(oe=>({...oe,colors:oe.colors.filter($=>$!==Q)}))},G=async Q=>{if(Q.preventDefault(),!a.name.trim()){ke.error("Product name is required");return}if(!a.price||isNaN(parseFloat(a.price))){ke.error("Valid price is required");return}if(s.some(oe=>oe.status==="uploading")){ke.error("Please wait for all images to finish uploading");return}f(!0),h(0);try{const oe={name:a.name,category:a.category,price:parseFloat(a.price),original_price:a.originalPrice?parseFloat(a.originalPrice):void 0,description:a.description,in_stock:a.inStock,sizes:a.sizes,colors:a.colors,images:[...c]};let $;if(t==="edit"&&(e!=null&&e.id))await fm(e.id,oe),$=e.id;else{const z=await zI(oe);if(!z||!z.id)throw new Error("Failed to create product");$=z.id}let U=[...c];if(s.length>0){l(de=>de.map(ie=>({...ie,status:"uploading",progress:0})));const z=s.map(de=>de.file),J={format:"webp",quality:.85,generateSizes:!0},le=await Lo.uploadMultipleImages(z,$,J,(de,ie)=>{l(he=>he.map((ge,ue)=>ue===de?{...ge,progress:ie.percentage}:ge)),h(Math.round((de+ie.percentage/100)/z.length*100))},(de,ie)=>{l(he=>he.map((ge,ue)=>ue===de?{...ge,status:"completed",url:ie.url,thumbnailUrl:ie.thumbnailUrl,progress:100}:ge))}).catch(async de=>{console.error("Upload failed:",de),console.log("Checking bucket existence...");const ie=await Lo.checkBucketExists();if(console.log("Bucket exists:",ie),!ie)return ke.error("Image storage bucket is not accessible"),[];console.log("Checking direct bucket access...");const he=await Lo.checkBucketDirectly();return console.log("Direct bucket access:",he),ke.error(`Upload failed: ${de.message}`),[]}),se=le.map(de=>de.url);U=[...c,...se],await fm($,{images:U}),ke.success(`${t==="edit"?"Updated":"Created"} product with ${le.length} new image(s)`)}else await fm($,{images:U}),ke.success(`Product ${t==="edit"?"updated":"created"} successfully!`);r==null||r(),t==="create"&&(i({name:"",category:"Casual",price:"",originalPrice:"",description:"",inStock:!0,sizes:["S","M","L"],colors:["Black","White"],images:[]}),u([])),s.forEach(z=>{z.preview&&URL.revokeObjectURL(z.preview)}),l([]),h(0)}catch(oe){console.error(`Error ${t==="edit"?"updating":"creating"} product:`,oe),ke.error(oe instanceof Error?oe.message:`Failed to ${t==="edit"?"update":"create"} product`),l($=>$.map(U=>U.status==="uploading"?{...U,status:"error",error:"Upload failed"}:U))}finally{f(!1)}};return o.jsxs(Re,{className:"w-full bg-neutral-900/60 backdrop-blur border-neutral-800",children:[o.jsx(Pt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ct,{className:"flex items-center gap-2",children:[t==="edit"?o.jsx(Sm,{className:"h-5 w-5"}):o.jsx(Ul,{className:"h-5 w-5"}),t==="edit"?"Edit Product":"Add New Product"]}),n&&o.jsx(we,{variant:"ghost",onClick:n,children:"Cancel"})]})}),o.jsxs(Le,{children:[o.jsxs("form",{onSubmit:G,className:"space-y-5",children:[o.jsxs(Sxe,{type:"multiple",defaultValue:["basic","pricing","inventory","media"],className:"w-full",children:[o.jsxs(om,{value:"basic",children:[o.jsx(lm,{className:"text-sm font-medium",children:"Basic Information"}),o.jsxs(cm,{className:"space-y-4 pt-2",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"product-name",children:"Product Name *"}),o.jsx(Dt,{id:"product-name",value:a.name,onChange:Q=>i(oe=>({...oe,name:Q.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"category",children:"Category"}),o.jsxs(ds,{value:a.category,onValueChange:Q=>i(oe=>({...oe,category:Q})),children:[o.jsx(hs,{children:o.jsx(fs,{})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"Casual",children:"Casual"}),o.jsx(gt,{value:"Party",children:"Party"}),o.jsx(gt,{value:"Shoes",children:"Shoes"}),o.jsx(gt,{value:"Outwear",children:"Outwear"}),o.jsx(gt,{value:"Dresses",children:"Dresses"}),o.jsx(gt,{value:"Accessories",children:"Accessories"})]})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"description",children:"Description"}),o.jsx(Z$,{id:"description",value:a.description,onChange:Q=>i(oe=>({...oe,description:Q.target.value})),rows:3})]})]})]}),o.jsxs(om,{value:"pricing",children:[o.jsx(lm,{className:"text-sm font-medium",children:"Pricing"}),o.jsx(cm,{className:"space-y-4 pt-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"price",children:"Price *"}),o.jsx(Dt,{id:"price",type:"number",step:"0.01",min:"0",value:a.price,onChange:Q=>i(oe=>({...oe,price:Q.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"original-price",children:"Original Price (for sales)"}),o.jsx(Dt,{id:"original-price",type:"number",step:"0.01",min:"0",value:a.originalPrice,onChange:Q=>i(oe=>({...oe,originalPrice:Q.target.value}))})]})]})})]}),o.jsxs(om,{value:"inventory",children:[o.jsx(lm,{className:"text-sm font-medium",children:"Inventory & Variants"}),o.jsxs(cm,{className:"space-y-5 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(w_,{id:"in-stock",checked:a.inStock,onCheckedChange:Q=>i(oe=>({...oe,inStock:Q}))}),o.jsx(Et,{htmlFor:"in-stock",children:"In Stock"})]}),o.jsxs("div",{children:[o.jsx(Et,{children:"Sizes"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Dt,{value:v,onChange:Q=>x(Q.target.value),placeholder:"Add size (e.g., XL)",onKeyPress:Q=>Q.key==="Enter"&&(Q.preventDefault(),R())}),o.jsx(we,{type:"button",variant:"outline",onClick:R,children:o.jsx(Ul,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.sizes.map(Q=>o.jsxs(wt,{variant:"secondary",className:"flex items-center gap-1",children:[Q,o.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>M(Q),children:o.jsx(Gs,{className:"h-3 w-3"})})]},Q))})]}),o.jsxs("div",{children:[o.jsx(Et,{children:"Colors"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Dt,{value:j,onChange:Q=>w(Q.target.value),placeholder:"Add color (e.g., Red)",onKeyPress:Q=>Q.key==="Enter"&&(Q.preventDefault(),W())}),o.jsx(we,{type:"button",variant:"outline",onClick:W,children:o.jsx(Ul,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.colors.map(Q=>o.jsxs(wt,{variant:"secondary",className:"flex items-center gap-1",children:[Q,o.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>H(Q),children:o.jsx(dc,{className:"h-3 w-3"})})]},Q))})]})]})]}),o.jsxs(om,{value:"media",children:[o.jsx(lm,{className:"text-sm font-medium",children:"Media & Images"}),o.jsx(cm,{className:"space-y-4 pt-2",children:o.jsxs("div",{children:[o.jsx(Et,{children:"Product Images"}),c.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Images:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map((Q,oe)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>A({index:oe,src:Q,type:"existing"}),children:[o.jsx("img",{src:Q,alt:`Existing ${oe+1}`,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:o.jsx(e4,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})})]}),o.jsx(we,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:$=>{$.stopPropagation(),O(Q)},children:o.jsx(Gs,{className:"h-3 w-3"})})]},`existing-${oe}`))})]}),o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${g?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:I,onClick:()=>{var Q;return(Q=_.current)==null?void 0:Q.click()},children:[o.jsx("input",{ref:_,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:Q=>Q.target.files&&L(Array.from(Q.target.files))}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(JU,{className:"h-8 w-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Drop new images here or click to browse"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG, WebP, AVIF (max 10MB each)"})]})]})]}),s.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"New Images to Upload:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((Q,oe)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>A({index:oe,src:Q.preview,type:"new"}),children:[o.jsx("img",{src:Q.preview,alt:`New ${oe+1}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:[Q.status==="pending"&&o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:o.jsx(e4,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),Q.status==="uploading"&&o.jsxs("div",{className:"text-white text-center",children:[o.jsx("div",{className:"w-8 h-8 mx-auto mb-2",children:o.jsx(Cu,{value:Q.progress,className:"w-full h-full"})}),o.jsxs("p",{className:"text-xs",children:[Q.progress,"%"]})]}),Q.status==="completed"&&o.jsx(Nh,{className:"h-8 w-8 text-green-500"}),Q.status==="error"&&o.jsxs("div",{className:"text-center",children:[o.jsx(Kl,{className:"h-8 w-8 text-red-500 mx-auto mb-1"}),o.jsx("p",{className:"text-xs text-red-400",children:"Failed"})]})]})]}),o.jsx(we,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:$=>{$.stopPropagation(),C(oe)},children:o.jsx(Gs,{className:"h-3 w-3"})})]},`new-${oe}`))})]}),d&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsx("span",{children:"Uploading images..."}),o.jsxs("span",{children:[p,"%"]})]}),o.jsx(Cu,{value:p})]}),s.some(Q=>Q.status==="error")&&o.jsx("div",{className:"mt-4",children:o.jsxs(nxe,{variant:"destructive",children:[o.jsx(Kl,{className:"h-4 w-4"}),o.jsx(axe,{children:"Upload failed. Check browser console (F12) for detailed error information."})]})})]})})]})]}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[n&&o.jsx(we,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),o.jsx(we,{type:"submit",className:"flex-1",disabled:d||s.some(Q=>Q.status==="uploading"),children:d?"Uploading...":t==="edit"?"Update Product":"Create Product"})]})]}),o.jsx(Dxe,{src:(N==null?void 0:N.src)||null,onClose:()=>A(null),onCropComplete:k})]})]})}var A9="AlertDialog",[$xe,dwe]=Mn(A9,[P8]),oo=P8(),k9=t=>{const{__scopeAlertDialog:e,...r}=t,n=oo(e);return o.jsx(Q_,{...n,...r,modal:!0})};k9.displayName=A9;var Fxe="AlertDialogTrigger",P9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=oo(r);return o.jsx(sv,{...a,...n,ref:e})});P9.displayName=Fxe;var Bxe="AlertDialogPortal",C9=t=>{const{__scopeAlertDialog:e,...r}=t,n=oo(e);return o.jsx(ej,{...n,...r})};C9.displayName=Bxe;var qxe="AlertDialogOverlay",O9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=oo(r);return o.jsx(ov,{...a,...n,ref:e})});O9.displayName=qxe;var Ou="AlertDialogContent",[Uxe,zxe]=$xe(Ou),Wxe=_B("AlertDialogContent"),E9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=oo(r),s=S.useRef(null),l=Bt(e,s),c=S.useRef(null);return o.jsx(RG,{contentName:Ou,titleName:T9,docsSlug:"alert-dialog",children:o.jsx(Uxe,{scope:r,cancelRef:c,children:o.jsxs(lv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ut(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Wxe,{children:n}),o.jsx(Vxe,{contentRef:s})]})})})});E9.displayName=Ou;var T9="AlertDialogTitle",I9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=oo(r);return o.jsx(W8,{...a,...n,ref:e})});I9.displayName=T9;var R9="AlertDialogDescription",L9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=oo(r);return o.jsx(H8,{...a,...n,ref:e})});L9.displayName=R9;var Hxe="AlertDialogAction",M9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=oo(r);return o.jsx(cv,{...a,...n,ref:e})});M9.displayName=Hxe;var D9="AlertDialogCancel",$9=S.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=zxe(D9,r),i=oo(r),s=Bt(e,a);return o.jsx(cv,{...i,...n,ref:s})});$9.displayName=D9;var Vxe=({contentRef:t})=>{const e=`\`${Ou}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ou}\` by passing a \`${R9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ou}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Gxe=k9,Yxe=P9,Kxe=C9,F9=O9,Xxe=E9,Zxe=M9,Jxe=$9,Qxe=I9,ebe=L9;function f0({...t}){return o.jsx(Gxe,{"data-slot":"alert-dialog",...t})}function h0({...t}){return o.jsx(Yxe,{"data-slot":"alert-dialog-trigger",...t})}function tbe({...t}){return o.jsx(Kxe,{"data-slot":"alert-dialog-portal",...t})}const B9=S.forwardRef(({className:t,...e},r)=>o.jsx(F9,{...e,ref:r,"data-slot":"alert-dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",t)}));B9.displayName=F9.displayName;function p0({className:t,...e}){return o.jsxs(tbe,{children:[o.jsx(B9,{}),o.jsx(Xxe,{"data-slot":"alert-dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function m0({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function g0({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function v0({className:t,...e}){return o.jsx(Qxe,{"data-slot":"alert-dialog-title",className:qe("text-lg font-semibold",t),...e})}function y0({className:t,...e}){return o.jsx(ebe,{"data-slot":"alert-dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function x0({className:t,...e}){return o.jsx(Zxe,{className:qe(Rf(),t),...e})}function b0({className:t,...e}){return o.jsx(Jxe,{className:qe(Rf({variant:"outline"}),t),...e})}function Vo({src:t,alt:e,className:r,sizes:n="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:a=!1,placeholder:i,onLoad:s,onError:l}){const[c,u]=S.useState(!1),[d,f]=S.useState(!1),[p,h]=S.useState(a),g=S.useRef(null),m=S.useRef(null);S.useEffect(()=>{if(!(a||!g.current))return m.current=new IntersectionObserver(w=>{var N;const[_]=w;_.isIntersecting&&(h(!0),(N=m.current)==null||N.disconnect())},{threshold:.1,rootMargin:"50px"}),g.current&&m.current.observe(g.current),()=>{var w;(w=m.current)==null||w.disconnect()}},[a]);const v=()=>{u(!0),s==null||s()},x=()=>{f(!0),l==null||l()},j=w=>w.startsWith("data:")?w:w.includes("supabase")?[400,800,1200,1600].map(N=>`${w}?width=${N} ${N}w`).join(", "):w;return d?o.jsx("div",{className:qe("flex items-center justify-center bg-gray-100 text-gray-400",r),children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"📷"}),o.jsx("p",{className:"text-sm",children:"Image unavailable"})]})}):o.jsxs("div",{className:qe("relative overflow-hidden",r),children:[(!c||!p)&&o.jsx("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:i?o.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover opacity-50"}):o.jsxs("div",{className:"text-gray-400",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-xs",children:"Loading..."})]})}),p&&o.jsx("img",{ref:g,src:t,alt:e,className:qe("w-full h-full object-cover transition-opacity duration-300",c?"opacity-100":"opacity-0"),sizes:n,srcSet:j(t),onLoad:v,onError:x,loading:a?"eager":"lazy"}),p&&t&&!t.startsWith("data:")&&o.jsxs("picture",{children:[o.jsx("source",{srcSet:`${t}?format=webp`,type:"image/webp"}),o.jsx("source",{srcSet:`${t}?format=avif`,type:"image/avif"}),o.jsx("img",{src:t,alt:e,className:"hidden","aria-hidden":"true"})]})]})}function q9({images:t,name:e,className:r,priority:n=!1}){const a=t==null?void 0:t[0];return a?t.length===1?o.jsx(Vo,{src:a,alt:e,className:qe("object-cover rounded-lg",r),priority:n}):o.jsx("div",{className:qe("relative group",r),children:o.jsx(Vo,{src:a,alt:e,className:"w-full h-full object-cover rounded-lg",priority:n})}):o.jsx("div",{className:qe("bg-gray-100 flex items-center justify-center aspect-square rounded-lg",r),children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx("div",{className:"text-2xl mb-1",children:"👕"}),o.jsx("p",{className:"text-xs",children:"No image"})]})})}function rbe({products:t,onEditProduct:e,onRefresh:r}){const[n,a]=S.useState(""),[i,s]=S.useState("All"),[l,c]=S.useState(null),[u,d]=S.useState("list"),f=t.filter(g=>{const m=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),v=i==="All"||g.category===i;return m&&v}),p=async(g,m)=>{try{console.log("🗑️ Attempting to delete product:",{productId:g,productName:m});const v=await WI(g);console.log("🗑️ Delete result:",v),v?(ke.success(`Product "${m}" deleted successfully`),console.log("🔄 Calling onRefresh..."),r==null||r()):(ke.error("Failed to delete product"),console.error("❌ Delete function returned false"))}catch(v){console.error("❌ Error deleting product:",v),ke.error("Failed to delete product")}},h=(g,m)=>m&&m>g?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]}),o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",m.toFixed(2)]}),o.jsxs(wt,{variant:"destructive",className:"text-xs",children:[Math.round((1-g/m)*100),"% OFF"]})]}):o.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]});return o.jsxs(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:[o.jsxs(Pt,{children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(Ct,{children:["Product Inventory (",f.length,")"]})}),o.jsxs("div",{className:"flex gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Dt,{placeholder:"Search products...",value:n,onChange:g=>a(g.target.value),className:"pl-10"})]}),o.jsxs(ds,{value:i,onValueChange:s,children:[o.jsx(hs,{className:"w-48",children:o.jsx(fs,{})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"All",children:"All Categories"}),o.jsx(gt,{value:"Casual",children:"Casual"}),o.jsx(gt,{value:"Party",children:"Party"}),o.jsx(gt,{value:"Shoes",children:"Shoes"}),o.jsx(gt,{value:"Outwear",children:"Outwear"}),o.jsx(gt,{value:"Dresses",children:"Dresses"}),o.jsx(gt,{value:"Accessories",children:"Accessories"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(we,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:o.jsx(Kg,{className:"w-4 h-4"})}),o.jsx(we,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:o.jsx(Zg,{className:"w-4 h-4"})})]})]})]}),o.jsxs(Le,{className:"w-full",children:[u==="grid"?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:f.map(g=>o.jsx(abe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})}):o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:o.jsxs("tr",{className:"*:[&>th]:font-medium",children:[o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden sm:table-cell",children:"Stock"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-800",children:f.map(g=>o.jsx(nbe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})]})})}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),o.jsx("p",{className:"text-gray-500",children:t.length===0?"No products in inventory yet. Add your first product to get started.":"Try adjusting your search or filter criteria."})]})]}),o.jsx(Ni,{open:!!l,onOpenChange:()=>c(null),children:o.jsxs(Ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Si,{children:o.jsx(Ai,{children:"Product Details"})}),l&&o.jsx(ibe,{product:l})]})})]})}function nbe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return o.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700",children:o.jsx(Vo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover",priority:!0})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-neutral-200 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(Vr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),o.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:o.jsx(wt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase",children:t.category})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"text-sm text-neutral-200",children:a(t.price,t.originalPrice)})}),o.jsx("td",{className:"px-3 py-3 hidden sm:table-cell align-top",children:o.jsx("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${t.inStock?"bg-green-500/15 text-green-300":"bg-red-500/15 text-red-300"}`,children:t.inStock?"In Stock":"Out"})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(T_,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(O_,{className:"h-3 w-3"}),t.colors.length," colors"]}),o.jsxs("span",{className:"hidden xl:inline",children:[t.images.length," img"]})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(Xa,{className:"h-4 w-4"})}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(L_,{className:"h-4 w-4"})}),o.jsxs(f0,{children:[o.jsx(h0,{asChild:!0,children:o.jsx(we,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(dc,{className:"h-4 w-4"})})}),o.jsxs(p0,{children:[o.jsxs(m0,{children:[o.jsx(v0,{children:"Delete Product"}),o.jsxs(y0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),o.jsxs(g0,{children:[o.jsx(b0,{children:"Cancel"}),o.jsx(x0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})})]})}function abe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return o.jsxs("div",{className:"border border-neutral-800 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-black/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0",children:[o.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[o.jsx(Vo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300",priority:!0}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md ${t.inStock?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:t.inStock?"Stock":"Out"})})]}),o.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-200",title:t.name,children:t.name}),o.jsx(wt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide",children:t.category})]}),o.jsxs("div",{className:"text-sm font-semibold text-neutral-100",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&o.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center justify-between text-[11px] text-neutral-400 w-full",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Vr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{children:t.rating})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(T_,{className:"h-3 w-3"}),t.sizes.length]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(O_,{className:"h-3 w-3"}),t.colors.length]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[o.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(Xa,{className:"h-3 w-3"})}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(L_,{className:"h-3 w-3"})}),o.jsxs(f0,{children:[o.jsx(h0,{asChild:!0,children:o.jsx(we,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(dc,{className:"h-3 w-3"})})}),o.jsxs(p0,{children:[o.jsxs(m0,{children:[o.jsx(v0,{children:"Delete Product"}),o.jsxs(y0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),o.jsxs(g0,{children:[o.jsx(b0,{children:"Cancel"}),o.jsx(x0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})]})]})}function ibe({product:t}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(Vo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo=",alt:t.name,className:"w-full h-64 object-cover rounded-lg",priority:!0}),t.images.length>1&&o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.images.slice(1,5).map((e,r)=>o.jsx(Vo,{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-16 object-cover rounded"},r))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:t.name}),o.jsx("p",{className:"text-muted-foreground",children:t.category})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Price"}),t.originalPrice&&t.originalPrice>t.price?o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R",t.price.toFixed(2)]}),o.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["R",t.originalPrice.toFixed(2)]}),o.jsxs(wt,{className:"ml-2",variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}):o.jsxs("span",{className:"text-2xl font-bold",children:["R",t.price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Stock Status"}),o.jsx(wt,{variant:t.inStock?"default":"destructive",children:t.inStock?"In Stock":"Out of Stock"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Available Sizes"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.sizes.map(e=>o.jsx(wt,{variant:"outline",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Available Colors"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.colors.map(e=>o.jsx(wt,{variant:"outline",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Rating & Reviews"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,r)=>o.jsx(Vr,{className:`h-4 w-4 ${r<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),o.jsxs("span",{className:"text-sm",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Description"}),o.jsx("p",{className:"text-muted-foreground",children:t.description||"No description available"})]})]})}function sbe({products:t,onRefresh:e}){const[r,n]=S.useState(""),[a,i]=S.useState("All"),[s,l]=S.useState(null),[c,u]=S.useState("list"),d=t.filter(m=>{const v=m.name.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase()),x=a==="All"||m.category===a;return v&&x}),f=async(m,v)=>{try{console.log("🔄 Restoring product:",{productId:m,productName:v}),await HI(m)?(ke.success(`Product "${v}" restored successfully`),e==null||e()):ke.error("Failed to restore product")}catch(x){console.error("❌ Error restoring product:",x),ke.error("Failed to restore product")}},p=async(m,v)=>{try{console.log("💀 Permanently deleting product:",{productId:m,productName:v}),await VI(m)?(ke.success(`Product "${v}" permanently deleted`),e==null||e()):ke.error("Failed to permanently delete product")}catch(x){console.error("❌ Error permanently deleting product:",x),ke.error("Failed to permanently delete product")}},h=(m,v)=>v&&v>m?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",v.toFixed(2)]}),o.jsxs(wt,{variant:"destructive",className:"text-xs",children:[Math.round((1-m/v)*100),"% OFF"]})]}):o.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),g=m=>new Date(m).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.jsxs(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800 border-orange-500/20",children:[o.jsxs(Pt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(ql,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory (",d.length,")"]}),o.jsx(wt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:"Archived Products"})]}),o.jsxs("div",{className:"flex gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Dt,{placeholder:"Search deleted products...",value:r,onChange:m=>n(m.target.value),className:"pl-10"})]}),o.jsxs(ds,{value:a,onValueChange:i,children:[o.jsx(hs,{className:"w-48",children:o.jsx(fs,{})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"All",children:"All Categories"}),o.jsx(gt,{value:"Casual",children:"Casual"}),o.jsx(gt,{value:"Party",children:"Party"}),o.jsx(gt,{value:"Shoes",children:"Shoes"}),o.jsx(gt,{value:"Outwear",children:"Outwear"}),o.jsx(gt,{value:"Dresses",children:"Dresses"}),o.jsx(gt,{value:"Accessories",children:"Accessories"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(we,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>u("grid"),children:o.jsx(Kg,{className:"w-4 h-4"})}),o.jsx(we,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),children:o.jsx(Zg,{className:"w-4 h-4"})})]})]})]}),o.jsxs(Le,{className:"w-full",children:[c==="grid"?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:d.map(m=>o.jsx(lbe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})}):o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:o.jsxs("tr",{className:"*:[&>th]:font-medium",children:[o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Deleted"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-800",children:d.map(m=>o.jsx(obe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})]})})}),d.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ql,{className:"h-12 w-12 text-orange-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deleted products found"}),o.jsx("p",{className:"text-gray-500",children:t.length===0?"No products have been deleted yet.":"Try adjusting your search or filter criteria."})]})]}),o.jsx(Ni,{open:!!s,onOpenChange:()=>l(null),children:o.jsxs(Ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Si,{children:o.jsxs(Ai,{className:"flex items-center gap-2",children:[o.jsx(ql,{className:"h-5 w-5 text-orange-500"}),"Deleted Product Details"]})}),s&&o.jsx("div",{className:"space-y-4",children:o.jsxs(wt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:["Deleted on ",g(s.deleted_at)]})})]})})]})}function obe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return o.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors opacity-70",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700 relative",children:[o.jsx(Vo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover grayscale",priority:!0}),o.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:o.jsx(ql,{className:"h-4 w-4 text-red-400"})})]}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-neutral-300 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(Vr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),o.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:o.jsx(wt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase opacity-70",children:t.category})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"text-sm text-neutral-300 opacity-70",children:a(t.price,t.originalPrice)})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top",children:o.jsx("div",{className:"text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Gg,{className:"h-3 w-3"}),i(t.deleted_at)]})})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(T_,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(O_,{className:"h-3 w-3"}),t.colors.length," colors"]})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(Xa,{className:"h-4 w-4"})}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"h-8 w-8 p-0 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore product",children:o.jsx(Xl,{className:"h-4 w-4"})}),o.jsxs(f0,{children:[o.jsx(h0,{asChild:!0,children:o.jsx(we,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:o.jsx(dc,{className:"h-4 w-4"})})}),o.jsxs(p0,{children:[o.jsxs(m0,{children:[o.jsxs(v0,{className:"flex items-center gap-2",children:[o.jsx(Jg,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),o.jsxs(y0,{children:['Are you sure you want to permanently delete "',t.name,'"?',o.jsx("br",{}),o.jsx("br",{}),o.jsx("strong",{children:"This action cannot be undone and will:"}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Completely remove the product from the database"}),o.jsx("li",{children:"Delete all associated images"}),o.jsx("li",{children:"Remove all references from order history"})]})]})]}),o.jsxs(g0,{children:[o.jsx(b0,{children:"Cancel"}),o.jsx(x0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})})]})}function lbe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return o.jsxs("div",{className:"border border-orange-800/40 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-orange-900/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0 opacity-70",children:[o.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[o.jsx(Vo,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover grayscale",priority:!0}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:"px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md bg-orange-500/20 text-orange-300",children:"Deleted"})}),o.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:o.jsx(ql,{className:"h-8 w-8 text-red-400"})})]}),o.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-300",title:t.name,children:t.name}),o.jsx(wt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide opacity-70",children:t.category})]}),o.jsxs("div",{className:"text-sm font-semibold text-neutral-300 opacity-70",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&o.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"text-[10px] text-orange-400",children:["Deleted: ",i(t.deleted_at)]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[o.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(Xa,{className:"h-3 w-3"})}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"text-[11px] h-7 px-2 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore",children:o.jsx(Xl,{className:"h-3 w-3"})}),o.jsxs(f0,{children:[o.jsx(h0,{asChild:!0,children:o.jsx(we,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:o.jsx(dc,{className:"h-3 w-3"})})}),o.jsxs(p0,{children:[o.jsxs(m0,{children:[o.jsxs(v0,{className:"flex items-center gap-2",children:[o.jsx(Jg,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),o.jsxs(y0,{children:['Are you sure you want to permanently delete "',t.name,'"? This action cannot be undone.']})]}),o.jsxs(g0,{children:[o.jsx(b0,{children:"Cancel"}),o.jsx(x0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})]})]})}function cbe({onEditProduct:t}){const[e,r]=S.useState([]),[n,a]=S.useState([]),[i,s]=S.useState(!0),[l,c]=S.useState("active"),u=async()=>{s(!0);try{console.log("📦 ProductTabs: Loading products...");const f=await z_();console.log("📦 ProductTabs: Active products loaded:",f.length),r(f);const p=await MI();console.log("🗑️ ProductTabs: Deleted products loaded:",p.length),a(p)}catch(f){console.error("❌ ProductTabs: Error loading products:",f),ke.error("Failed to load products")}finally{s(!1)}};S.useEffect(()=>{u()},[]);const d=()=>{console.log("🔄 ProductTabs: Refreshing products..."),u()};return i?o.jsx(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Products..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your inventory."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(Re,{className:"bg-gradient-to-r from-green-500/10 to-emerald-600/10 border-green-500/20",children:[o.jsx(Pt,{className:"pb-3",children:o.jsxs(Ct,{className:"text-lg flex items-center gap-2",children:[o.jsx(Fo,{className:"h-5 w-5 text-green-500"}),"Active Products"]})}),o.jsxs(Le,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-500",children:e.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently visible to customers"})]})]}),o.jsxs(Re,{className:"bg-gradient-to-r from-orange-500/10 to-red-600/10 border-orange-500/20",children:[o.jsx(Pt,{className:"pb-3",children:o.jsxs(Ct,{className:"text-lg flex items-center gap-2",children:[o.jsx(ql,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory"]})}),o.jsxs(Le,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Archived products"})]})]})]}),o.jsxs(Ko,{value:l,onValueChange:c,className:"w-full",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 bg-neutral-800/60 backdrop-blur",children:[o.jsxs(Or,{value:"active",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[o.jsx(Fo,{className:"h-4 w-4"}),"Active Products",o.jsx(wt,{variant:"secondary",className:"ml-1",children:e.length})]}),o.jsxs(Or,{value:"deleted",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-600 data-[state=active]:text-white",children:[o.jsx(ql,{className:"h-4 w-4"}),"Deleted Inventory",o.jsx(wt,{variant:"secondary",className:"ml-1",children:n.length})]})]}),o.jsx(Er,{value:"active",className:"mt-6",children:o.jsx(rbe,{products:e,onEditProduct:t,onRefresh:d})}),o.jsx(Er,{value:"deleted",className:"mt-6",children:o.jsx(sbe,{products:n,onRefresh:d})})]})]})}var w0="Switch",[ube,fwe]=Mn(w0),[dbe,fbe]=ube(w0),U9=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,h]=S.useState(null),g=Bt(e,w=>h(w)),m=S.useRef(!1),v=p?d||!!p.closest("form"):!0,[x,j]=Za({prop:a,defaultProp:i??!1,onChange:u,caller:w0});return o.jsxs(dbe,{scope:r,checked:x,disabled:l,children:[o.jsx(at.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":V9(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ut(t.onClick,w=>{j(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(H9,{control:p,bubbles:!m.current,name:n,value:c,checked:x,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});U9.displayName=w0;var z9="SwitchThumb",W9=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=fbe(z9,r);return o.jsx(at.span,{"data-state":V9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});W9.displayName=z9;var hbe="SwitchBubbleInput",H9=S.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),l=Bt(s,i),c=a0(r),u=e0(e);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});H9.displayName=hbe;function V9(t){return t?"checked":"unchecked"}var pbe=U9,mbe=W9;function fu({className:t,...e}){return o.jsx(pbe,{"data-slot":"switch",className:qe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(mbe,{"data-slot":"switch-thumb",className:qe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const gbe=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"systemAlerts",label:"System Alerts",description:"Important system notifications"},{key:"orderAlerts",label:"Order Alerts",description:"Notifications for new orders"},{key:"securityAlerts",label:"Security Alerts",description:"Security-related notifications"}],vbe=[{key:"theme",label:"Theme",options:[{value:"light",label:"Light",icon:o.jsx(p2,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:o.jsx(h2,{className:"h-4 w-4"})},{value:"system",label:"System",icon:o.jsx(pU,{className:"h-4 w-4"})}]},{key:"language",label:"Language",options:[{value:"en",label:"English"},{value:"af",label:"Afrikaans"},{value:"zu",label:"isiZulu"},{value:"xh",label:"isiXhosa"},{value:"tn",label:"Setswana"},{value:"st",label:"Sesotho"},{value:"ve",label:"Tshivenda"},{value:"ts",label:"Xitsonga"}]},{key:"timezone",label:"Timezone",options:[{value:"UTC+3",label:"UTC+3 (Nairobi, Kenya)"},{value:"UTC+2",label:"UTC+2 (Johannesburg, South Africa)"},{value:"UTC+1",label:"UTC+1 (Lagos, Nigeria)"},{value:"UTC+0",label:"UTC+0 (Dakar, Senegal)"},{value:"UTC-1",label:"UTC-1 (Cape Verde)"}]},{key:"itemsPerPage",label:"Items Per Page",options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}],s2={emailNotifications:!0,pushNotifications:!1,systemAlerts:!0,orderAlerts:!0,securityAlerts:!0,language:"en",timezone:"UTC+2",theme:"system",dashboardLayout:"default",itemsPerPage:"20"},RT="admin_preferences";function G9(){const{user:t,isAdmin:e,signOut:r}=Cn(),[n,a]=S.useState(!1),[i,s]=S.useState(!1),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,p]=S.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,g]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,v]=S.useState(s2),[x,j]=S.useState(!1);S.useEffect(()=>{(()=>{try{const E=localStorage.getItem(RT);if(E){const I=JSON.parse(E),L={...s2,...I};v(L)}}catch(E){console.error("Error loading preferences from localStorage:",E),v(s2)}})()},[]),S.useEffect(()=>{const k=()=>{try{localStorage.setItem(RT,JSON.stringify(m))}catch(E){console.error("Error saving preferences to localStorage:",E)}};Object.keys(m).length>0&&k()},[m]);const w=async()=>{if(!t){ke.error("User not found");return}c(!0);try{console.log("AdminAccountSettings: Updating user profile:",f);const k={};if(f.name!==(t.name||"")&&(k.name=f.name),f.phone!==(t.phone||"")&&(k.phone=f.phone),f.email!==(t.email||"")&&(k.email=f.email),Object.keys(k).length===0){ke.info("No changes to save"),a(!1),c(!1);return}console.log("AdminAccountSettings: Updates to save:",k);const E=await GI(t.id,k);if(E)console.log("AdminAccountSettings: Profile updated successfully:",E),ke.success("Profile updated successfully!"),p({name:(E==null?void 0:E.name)||f.name,email:(E==null?void 0:E.email)||f.email,phone:(E==null?void 0:E.phone)||f.phone}),a(!1);else throw new Error("Failed to update profile")}catch(k){console.error("AdminAccountSettings: Error updating profile:",k),ke.error("Failed to update profile")}finally{c(!1)}},_=async()=>{var k,E,I;if(h.newPassword!==h.confirmPassword){ke.error("New passwords do not match");return}if(h.newPassword.length<6){ke.error("Password must be at least 6 characters long");return}c(!0);try{if(console.log("AdminAccountSettings: Changing user password"),await YI(h.newPassword))console.log("AdminAccountSettings: Password changed successfully"),ke.success("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error("Failed to update password")}catch(L){console.error("AdminAccountSettings: Error changing password:",L),(k=L.message)!=null&&k.includes("session_not_found")||(E=L.message)!=null&&E.includes("refresh_token_not_found")?ke.error("Session expired. Please log in again to change your password."):(I=L.message)!=null&&I.includes("same_password")?ke.error("New password must be different from current password"):ke.error("Failed to change password. Please try again.")}finally{c(!1)}},N=S.useCallback(async(k,E)=>{if(!x){j(!0);try{v(I=>({...I,[k]:E})),await new Promise(I=>setTimeout(I,300)),ke.success("Preference updated")}catch(I){console.error("Error updating preference:",I),ke.error("Failed to update preference")}finally{j(!1)}}},[x]),A=async()=>{if(u){console.log("AdminAccountSettings: Logout already in progress, ignoring click");return}console.log("AdminAccountSettings: Logout button clicked"),d(!0);try{console.log("AdminAccountSettings: Calling signOut()"),await r(),console.log("AdminAccountSettings: signOut() completed"),ke.success("Logged out successfully"),console.log("AdminAccountSettings: About to reload page immediately");try{window.location.reload(),console.log("AdminAccountSettings: window.location.reload() called successfully")}catch(k){console.error("AdminAccountSettings: Error calling window.location.reload():",k),setTimeout(()=>{console.log("AdminAccountSettings: Fallback reload attempt"),window.location.reload()},100)}}catch(k){console.error("AdminAccountSettings: Logout failed:",k),ke.error("Failed to log out"),d(!1)}};return!t||!e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Us,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to access this page."})]}):o.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-4xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Account Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your admin account and preferences"})]}),o.jsxs(Ko,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-4",children:[o.jsx(Or,{value:"profile",children:"Profile"}),o.jsx(Or,{value:"security",children:"Security"}),o.jsx(Or,{value:"preferences",children:"Preferences"}),o.jsx(Or,{value:"system",children:"System"})]}),o.jsx(Er,{value:"profile",children:o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(Js,{className:"h-5 w-5"}),"Admin Profile"]})}),o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(p8,{className:"h-20 w-20",children:o.jsx(m8,{className:"text-xl",children:t.name.split(" ").map(k=>k[0]).join("").toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold",children:t.name}),o.jsxs(wt,{variant:"secondary",className:"bg-red-100 text-red-800",children:[o.jsx(Us,{className:"h-3 w-3 mr-1"}),"Administrator"]})]}),o.jsx("p",{className:"text-muted-foreground",children:t.email}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("span",{className:"text-sm",children:["Member since ",t.created_at?new Date(t.created_at).getFullYear():"2024"]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Last login: Today"})]})]}),o.jsx(we,{variant:"outline",size:"sm",onClick:()=>a(!n),children:n?"Cancel":"Edit Profile"})]}),n&&o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"name",children:"Full Name"}),o.jsx(Dt,{id:"name",value:f.name,onChange:k=>p(E=>({...E,name:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"email",children:"Email"}),o.jsx(Dt,{id:"email",type:"email",value:f.email,onChange:k=>p(E=>({...E,email:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"phone",children:"Phone"}),o.jsx(Dt,{id:"phone",type:"tel",value:f.phone,onChange:k=>p(E=>({...E,phone:k.target.value})),placeholder:"Enter phone number"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(we,{onClick:w,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(zl,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),o.jsx(we,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})}),o.jsx(Er,{value:"security",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(t4,{className:"h-5 w-5"}),"Change Password"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"currentPassword",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dt,{id:"currentPassword",type:i?"text":"password",value:h.currentPassword,onChange:k=>g(E=>({...E,currentPassword:k.target.value}))}),o.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?o.jsx(f2,{className:"h-4 w-4"}):o.jsx(Xa,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"newPassword",children:"New Password"}),o.jsx(Dt,{id:"newPassword",type:"password",value:h.newPassword,onChange:k=>g(E=>({...E,newPassword:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(Dt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:k=>g(E=>({...E,confirmPassword:k.target.value}))})]}),o.jsx(we,{onClick:_,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(zl,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})]})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(Us,{className:"h-5 w-5"}),"Security Settings"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Active Sessions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"View Sessions"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Login History"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View your recent login activity"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"View History"})]})]})]})]})}),o.jsx(Er,{value:"preferences",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(Ml,{className:"h-5 w-5"}),"Notification Preferences"]})}),o.jsx(Le,{className:"space-y-4",children:gbe.map(k=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:k.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),o.jsx(fu,{checked:m[k.key],onCheckedChange:E=>N(k.key,E),disabled:x})]},k.key))})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(I_,{className:"h-5 w-5"}),"Display Settings"]})}),o.jsx(Le,{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:vbe.map(k=>o.jsxs("div",{children:[o.jsx(Et,{children:k.label}),o.jsxs(ds,{value:m[k.key],onValueChange:E=>N(k.key,E),disabled:x,children:[o.jsx(hs,{children:o.jsx(fs,{})}),o.jsx(ps,{children:k.options.map(E=>o.jsx(gt,{value:E.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[E.icon,E.label]})},E.value))})]})]},k.key))})})]})]})}),o.jsx(Er,{value:"system",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(dq,{className:"h-5 w-5"}),"System Status"]})}),o.jsx(Le,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"24/7"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]})]})})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(Us,{className:"h-5 w-5"}),"Admin Actions"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Export System Data"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Download system data for backup"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"Export Data"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Clear System Cache"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear cached data to improve performance"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"Clear Cache"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"View Admin Logs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Access system and admin activity logs"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"View Logs"})]})]})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(t4,{className:"h-5 w-5"}),"API Keys"]})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Generate New API Key"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create API keys for integrations"})]}),o.jsx(we,{variant:"outline",size:"sm",children:"Generate Key"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Active API Keys"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"No active API keys. Generate one to get started."})]})]})]})]})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(we,{variant:"destructive",className:"w-full",onClick:A,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(zl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):o.jsxs(o.Fragment,{children:[o.jsx(oI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]})}function ybe(){const[t,e]=S.useState(null),[r,n]=S.useState(!0),[a,i]=S.useState("30d"),[s,l]=S.useState("overview");S.useEffect(()=>{const d={overview:{totalReviews:247,averageRating:4.3,ratingTrend:8.5,responseRate:87,trustScore:4.4},ratingDistribution:[{rating:5,count:142,percentage:57.5},{rating:4,count:68,percentage:27.5},{rating:3,count:23,percentage:9.3},{rating:2,count:8,percentage:3.2},{rating:1,count:6,percentage:2.4}],timeseriesData:[{date:"2024-08-15",reviews:12,averageRating:4.2,responses:10},{date:"2024-08-22",reviews:18,averageRating:4.1,responses:15},{date:"2024-08-29",reviews:15,averageRating:4.4,responses:13},{date:"2024-09-05",reviews:22,averageRating:4.3,responses:19},{date:"2024-09-12",reviews:19,averageRating:4.5,responses:17},{date:"2024-09-19",reviews:16,averageRating:4.2,responses:14}],productPerformance:[{productId:"sku_1",productName:"Summer Floral Dress",totalReviews:45,averageRating:4.6,recentReviews:8,category:"Dresses"},{productId:"sku_2",productName:"Evening Gown",totalReviews:32,averageRating:4.4,recentReviews:5,category:"Dresses"},{productId:"sku_3",productName:"Ankle Boots",totalReviews:28,averageRating:4.1,recentReviews:3,category:"Shoes"},{productId:"sku_4",productName:"Denim Jacket",totalReviews:35,averageRating:4.3,recentReviews:6,category:"Outwear"},{productId:"sku_5",productName:"Casual Blazer",totalReviews:21,averageRating:4,recentReviews:2,category:"Casual"}],sentimentAnalysis:{positive:78.5,neutral:16.2,negative:5.3},responseMetrics:{averageResponseTime:4.2,responseRate:87,totalResponses:215}};setTimeout(()=>{e(d),n(!1)},1e3)},[a]);const c=["#10B981","#F59E0B","#EF4444"],u=d=>d.toFixed(1);return r?o.jsx(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(QS,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Analytics..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we process review data."})]})})}):t?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Analytics"}),o.jsx("p",{className:"text-gray-600",children:"Track customer satisfaction and review performance"})]}),o.jsxs(ds,{value:a,onValueChange:i,children:[o.jsx(hs,{className:"w-[140px]",children:o.jsx(fs,{})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"7d",children:"Last 7 days"}),o.jsx(gt,{value:"30d",children:"Last 30 days"}),o.jsx(gt,{value:"90d",children:"Last 90 days"}),o.jsx(gt,{value:"1y",children:"Last year"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(Re,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.overview.totalReviews}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(Eu,{className:"h-3 w-3 text-green-500"}),o.jsxs("span",{className:"text-xs text-green-600",children:["+",t.overview.ratingTrend,"%"]})]})]}),o.jsx(dm,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:u(t.overview.averageRating)}),o.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>o.jsx(Vr,{className:`h-4 w-4 ${f<Math.floor(t.overview.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},f))})]})]}),o.jsx(Vr,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[t.overview.responseRate,"%"]}),o.jsx(Cu,{value:t.overview.responseRate,className:"mt-2"})]}),o.jsx(pI,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Trust Score"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900",children:u(t.overview.trustScore)}),o.jsx(wt,{variant:"outline",className:"mt-1 bg-purple-100 text-purple-700 border-purple-300",children:"Excellent"})]}),o.jsx(nI,{className:"h-8 w-8 text-purple-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-rose-600",children:"Avg Response Time"}),o.jsxs("p",{className:"text-2xl font-bold text-rose-900",children:[t.responseMetrics.averageResponseTime,"h"]}),o.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"Industry standard: 24h"})]}),o.jsx(Gg,{className:"h-8 w-8 text-rose-500"})]})})})]}),o.jsxs(Ko,{value:s,onValueChange:l,children:[o.jsxs(Xo,{className:"grid w-full grid-cols-4",children:[o.jsx(Or,{value:"overview",children:"Overview"}),o.jsx(Or,{value:"trends",children:"Trends"}),o.jsx(Or,{value:"products",children:"Products"}),o.jsx(Or,{value:"sentiment",children:"Sentiment"})]}),o.jsx(Er,{value:"overview",className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(QS,{className:"h-5 w-5"}),"Rating Distribution"]})}),o.jsx(Le,{children:o.jsx("div",{className:"space-y-4",children:t.ratingDistribution.map(d=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1 w-16",children:[o.jsx("span",{className:"text-sm font-medium",children:d.rating}),o.jsx(Vr,{className:"h-3 w-3 text-yellow-400 fill-current"})]}),o.jsx("div",{className:"flex-1",children:o.jsx(Cu,{value:d.percentage,className:"h-2"})}),o.jsxs("div",{className:"flex items-center gap-2 w-20",children:[o.jsx("span",{className:"text-sm text-gray-600",children:d.count}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",d.percentage,"%)"]})]})]},d.rating))})})]})}),o.jsx(Er,{value:"trends",className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(Eu,{className:"h-5 w-5"}),"Review Trends Over Time"]})}),o.jsx(Le,{children:o.jsx(Hm,{width:"100%",height:300,children:o.jsxs(Cpe,{data:t.timeseriesData,children:[o.jsx(hN,{strokeDasharray:"3 3"}),o.jsx(_d,{dataKey:"date"}),o.jsx(sc,{yAxisId:"left"}),o.jsx(sc,{yAxisId:"right",orientation:"right"}),o.jsx(Aa,{}),o.jsx(Hl,{}),o.jsx(tl,{yAxisId:"left",dataKey:"reviews",fill:"#3B82F6",name:"Reviews"}),o.jsx(Bh,{yAxisId:"right",type:"monotone",dataKey:"averageRating",stroke:"#F59E0B",strokeWidth:3,name:"Avg Rating"})]})})})]})}),o.jsx(Er,{value:"products",className:"space-y-6",children:o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(zU,{className:"h-5 w-5"}),"Product Review Performance"]})}),o.jsx(Le,{children:o.jsx("div",{className:"space-y-4",children:t.productPerformance.map(d=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"font-semibold",children:d.productName}),o.jsx(wt,{variant:"outline",children:d.category})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Vr,{className:"h-3 w-3 text-yellow-400 fill-current"}),o.jsx("span",{children:u(d.averageRating)})]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:[d.totalReviews," total reviews"]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:[d.recentReviews," recent"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx(Cu,{value:d.averageRating/5*100,className:"w-24 h-2"})})]},d.productId))})})]})}),o.jsx(Er,{value:"sentiment",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(wq,{className:"h-5 w-5"}),"Sentiment Distribution"]})}),o.jsx(Le,{children:o.jsx(Hm,{width:"100%",height:250,children:o.jsxs(N7,{children:[o.jsx(ys,{dataKey:"value",data:[{name:"Positive",value:t.sentimentAnalysis.positive},{name:"Neutral",value:t.sentimentAnalysis.neutral},{name:"Negative",value:t.sentimentAnalysis.negative}],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:c.map((d,f)=>o.jsx(Ih,{fill:d},`cell-${f}`))}),o.jsx(Aa,{})]})})})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Sentiment Breakdown"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"font-medium text-green-800",children:"Positive"})]}),o.jsxs("span",{className:"text-2xl font-bold text-green-900",children:[t.sentimentAnalysis.positive,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"font-medium text-yellow-800",children:"Neutral"})]}),o.jsxs("span",{className:"text-2xl font-bold text-yellow-900",children:[t.sentimentAnalysis.neutral,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{className:"font-medium text-red-800",children:"Negative"})]}),o.jsxs("span",{className:"text-2xl font-bold text-red-900",children:[t.sentimentAnalysis.negative,"%"]})]})]})]})]})})]})]}):null}function xbe(){const[t,e]=S.useState([]),[r,n]=S.useState(null),[a,i]=S.useState(!0),[s,l]=S.useState(""),[c,u]=S.useState("all"),[d,f]=S.useState("all"),[p,h]=S.useState(null),[g,m]=S.useState("");S.useEffect(()=>{const w=[{id:"1",customerName:"Sarah Johnson",customerEmail:"sarah@example.com",productId:"sku_1",productName:"Summer Floral Dress",rating:5,title:"Beautiful dress, perfect fit!",content:"I absolutely love this dress! The fabric is high quality and the fit is perfect. The floral pattern is gorgeous and I've received so many compliments. Will definitely order more from this store.",createdAt:"2024-09-10T10:30:00Z",verified:!0,helpful:12,unhelpful:0},{id:"2",customerName:"Emma Davis",customerEmail:"emma@example.com",productId:"sku_2",productName:"Evening Gown",rating:4,title:"Great for special occasions",content:"This gown is stunning and perfect for formal events. The only reason I'm giving 4 stars instead of 5 is that it runs slightly small. I recommend ordering a size up.",createdAt:"2024-09-08T15:45:00Z",verified:!0,helpful:8,unhelpful:1,response:{content:"Thank you for your review! We appreciate your feedback about sizing and will update our size guide. We're so glad you love the gown for special occasions!",createdAt:"2024-09-09T09:15:00Z",author:"Rosémama Team"}},{id:"3",customerName:"Lisa Brown",customerEmail:"lisa@example.com",productId:"sku_3",productName:"Ankle Boots",rating:3,title:"Good quality but uncomfortable",content:"The boots are well-made and look great, but they're quite uncomfortable for long periods. The sizing is accurate though.",createdAt:"2024-09-05T12:20:00Z",verified:!0,helpful:3,unhelpful:2}],_={totalReviews:47,averageRating:4.3,ratingDistribution:{5:23,4:15,3:6,2:2,1:1},recentReviews:8,responseRate:85};setTimeout(()=>{e(w),n(_),i(!1)},1e3)},[]);const v=t.filter(w=>{const _=w.productName.toLowerCase().includes(s.toLowerCase())||w.customerName.toLowerCase().includes(s.toLowerCase())||w.content.toLowerCase().includes(s.toLowerCase()),N=c==="all"||w.rating.toString()===c,A=d==="all"||d==="responded"&&w.response||d==="pending"&&!w.response;return _&&N&&A}),x=async w=>{if(!g.trim()){ke.error("Please enter a response");return}try{e(_=>_.map(N=>N.id===w?{...N,response:{content:g,createdAt:new Date().toISOString(),author:"Rosémama Team"}}:N)),m(""),h(null),ke.success("Response sent successfully!")}catch{ke.error("Failed to send response")}},j=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?o.jsx(Re,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(dm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Reviews..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch review data."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Management"}),o.jsx("p",{className:"text-gray-600",children:"Monitor and respond to customer reviews"})]}),o.jsxs(we,{onClick:()=>window.open("https://businessapp.b2b.trustpilot.com/","_blank"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[o.jsx(zq,{className:"h-4 w-4 mr-2"}),"Trustpilot Dashboard"]})]}),o.jsxs(Ko,{defaultValue:"reviews",className:"space-y-6",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2",children:[o.jsx(Or,{value:"reviews",children:"Review Management"}),o.jsx(Or,{value:"analytics",children:"Analytics & Insights"})]}),o.jsxs(Er,{value:"reviews",className:"space-y-6",children:[r&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Re,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.totalReviews})]}),o.jsx(dm,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:r.averageRating}),o.jsx("div",{className:"flex",children:[...Array(5)].map((w,_)=>o.jsx(Vr,{className:`h-4 w-4 ${_<Math.floor(r.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},_))})]})]}),o.jsx(Vr,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[r.responseRate,"%"]})]}),o.jsx(r4,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(Re,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Recent Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.recentReviews}),o.jsx("p",{className:"text-xs text-purple-600",children:"Last 7 days"})]}),o.jsx(Eu,{className:"h-8 w-8 text-purple-500"})]})})})]}),o.jsx(Re,{children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Dt,{placeholder:"Search reviews, products, or customers...",value:s,onChange:w=>l(w.target.value),className:"pl-10"})]})}),o.jsxs(ds,{value:c,onValueChange:u,children:[o.jsx(hs,{className:"w-[140px]",children:o.jsx(fs,{placeholder:"Rating"})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"all",children:"All Ratings"}),o.jsx(gt,{value:"5",children:"5 Stars"}),o.jsx(gt,{value:"4",children:"4 Stars"}),o.jsx(gt,{value:"3",children:"3 Stars"}),o.jsx(gt,{value:"2",children:"2 Stars"}),o.jsx(gt,{value:"1",children:"1 Star"})]})]}),o.jsxs(ds,{value:d,onValueChange:f,children:[o.jsx(hs,{className:"w-[140px]",children:o.jsx(fs,{placeholder:"Status"})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"all",children:"All Reviews"}),o.jsx(gt,{value:"pending",children:"Pending Response"}),o.jsx(gt,{value:"responded",children:"Responded"})]})]})]})})}),o.jsx("div",{className:"space-y-4",children:v.map(w=>o.jsx(Re,{className:"bg-white border border-gray-200 hover:shadow-md transition-shadow",children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold",children:w.customerName.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:w.customerName}),o.jsx("p",{className:"text-sm text-gray-500",children:w.productName})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w.verified&&o.jsx(wt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Verified Purchase"}),o.jsx("div",{className:"flex",children:[...Array(5)].map((_,N)=>o.jsx(Vr,{className:`h-4 w-4 ${N<w.rating?"text-yellow-400 fill-current":"text-gray-300"}`},N))})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:w.title}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:w.content})]}),o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{children:j(w.createdAt)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pI,{className:"h-3 w-3"}),o.jsx("span",{children:w.helpful}),o.jsx(HU,{className:"h-3 w-3 ml-2"}),o.jsx("span",{children:w.unhelpful})]})]})}),w.response?o.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"R"}),o.jsx("span",{className:"font-semibold text-blue-900",children:w.response.author}),o.jsxs("span",{className:"text-sm text-blue-600",children:["responded on ",j(w.response.createdAt)]})]}),o.jsx("p",{className:"text-blue-800",children:w.response.content})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ni,{children:[o.jsx(tj,{asChild:!0,children:o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>h(w),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[o.jsx(r4,{className:"h-4 w-4 mr-1"}),"Respond"]})}),o.jsxs(Ja,{className:"max-w-2xl",children:[o.jsx(Si,{children:o.jsx(Ai,{children:"Respond to Review"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-semibold",children:w.customerName}),o.jsx("div",{className:"flex",children:[...Array(5)].map((_,N)=>o.jsx(Vr,{className:`h-3 w-3 ${N<w.rating?"text-yellow-400 fill-current":"text-gray-300"}`},N))})]}),o.jsx("p",{className:"text-gray-700",children:w.content})]}),o.jsx("textarea",{value:g,onChange:_=>m(_.target.value),placeholder:"Write your response...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(we,{variant:"outline",onClick:()=>{h(null),m("")},children:"Cancel"}),o.jsx(we,{onClick:()=>x(w.id),className:"bg-blue-600 hover:bg-blue-700",children:"Send Response"})]})]})]})]}),o.jsx(wt,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Pending Response"})]})]})},w.id))}),v.length===0&&o.jsx(Re,{children:o.jsxs(Le,{className:"p-12 text-center",children:[o.jsx(dm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),o.jsx("p",{className:"text-gray-500",children:s||c!=="all"||d!=="all"?"Try adjusting your filters to see more reviews.":"Reviews will appear here once customers start leaving feedback."})]})})]}),o.jsx(Er,{value:"analytics",children:o.jsx(ybe,{})})]})]})}class Wa{static async fetchPageContent(e){try{const{data:r,error:n}=await Oe.from("content_pages").select("page_data").eq("page_type",e).eq("is_active",!0).maybeSingle();return n?(console.warn(`Database error fetching content for ${e}:`,n),this.getFallbackContent(e)):!r||!r.page_data?(console.info(`No content found in database for ${e}, using fallback`),this.getFallbackContent(e)):r.page_data}catch(r){return console.error(`Unexpected error fetching content for ${e}:`,r),this.getFallbackContent(e)}}static async fetchAllContent(){try{const{data:e,error:r}=await Oe.from("content_pages").select("*").eq("is_active",!0).order("page_type");return r?(console.error("Error fetching all content:",r),[]):e||[]}catch(e){return console.error("Unexpected error fetching all content:",e),[]}}static getFallbackContent(e){return{about:{title:"About Rosémama Clothing",description:"Learn about our story, values, and team",sections:[{id:"company-story",title:"Our Story",content:"<p>Founded by Rosemary Oku, Rosémama began as a boutique in Midrand, South Africa with a vision to make beautiful, quality fashion accessible to every South African woman.</p>"},{id:"mission-values",title:"Our Mission & Values",content:"<p><strong>Our Mission:</strong> To democratize fashion by providing high-quality, sustainable clothing that empowers women to express their unique style with confidence.</p>"}]},privacy:{title:"Privacy Policy",description:"Our commitment to protecting your privacy",sections:[{id:"introduction",title:"Introduction",content:"<p>At Rosémama Clothing, we are committed to protecting your privacy and personal information. This policy explains how we collect, use, and protect your data.</p>"}]},terms:{title:"Terms & Conditions",description:"Legal terms and conditions",sections:[{id:"introduction",title:"Introduction",content:"<h4>Welcome to Terms & Conditions</h4><p>This is the introduction section. Edit this content to provide information about terms.</p><p>These terms and conditions govern your use of Rosémama Clothing's services. By using our website and services, you agree to these terms.</p>"},{id:"acceptance",title:"Acceptance of Terms",content:"<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p>"},{id:"use-license",title:"Use License",content:"<p>Permission is granted to temporarily download one copy of the materials on Rosémama Clothing's website for personal, non-commercial transitory viewing only.</p>"},{id:"disclaimer",title:"Disclaimer",content:"<p>The materials on Rosémama Clothing's website are provided on an 'as is' basis. Rosémama Clothing makes no warranties, expressed or implied.</p>"}]},shipping:{title:"Shipping Information",description:"Delivery options and policies",sections:[{id:"delivery-options",title:"Delivery Options",content:"<p>We offer various shipping options to suit your needs. Standard delivery takes 3-5 business days within South Africa.</p>"}]},returns:{title:"Returns & Exchanges",description:"Our return and exchange policy",sections:[{id:"return-policy",title:"Return Policy",content:"<p>We accept returns within 30 days of purchase. Items must be in original condition with tags attached.</p>"}]},help:{title:"Help & Support",description:"Get help with your orders and account",sections:[{id:"faq",title:"Frequently Asked Questions",content:"<p>Find answers to common questions about our products, orders, and services.</p>"}]},contact:{title:"Contact Us",description:"Get in touch with our team",sections:[{id:"contact-info",title:"Contact Information",content:"<p>Reach out to us for any questions or support. We're here to help!</p>"}]}}[e]}static async fetchContentWithHistory(e){try{const{data:r,error:n}=await Oe.from("content_pages").select("*").eq("page_type",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")return console.error(`Error fetching current content for ${e}:`,n),null;const{data:a,error:i}=r?await Oe.from("content_versions").select("*").eq("content_page_id",r.id).order("version_number",{ascending:!1}):{data:[],error:null};return i?(console.error(`Error fetching version history for ${e}:`,i),{current:r||null,history:[]}):{current:r||null,history:a||[]}}catch(r){return console.error(`Unexpected error fetching content history for ${e}:`,r),null}}static async savePageContent(e,r,n){try{const{data:a}=await Oe.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:s}=await Oe.from("content_pages").insert({page_type:e,page_data:r,created_by:a.user.id,updated_by:a.user.id}).select().single();return s?(console.error(`Error saving content for ${e}:`,s),{success:!1,error:s.message}):{success:!0,data:i}}catch(a){return console.error(`Unexpected error saving content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async updatePageContent(e,r,n){try{const{data:a}=await Oe.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:s}=await Oe.from("content_pages").select("id").eq("page_type",e).eq("is_active",!0).maybeSingle();if(!i)return await this.savePageContent(e,r,n);const{data:l,error:c}=await Oe.from("content_pages").update({page_data:r,updated_by:a.user.id}).eq("id",i.id).select().single();return c?(console.error(`Error updating content for ${e}:`,c),{success:!1,error:c.message}):{success:!0,data:l}}catch(a){return console.error(`Unexpected error updating content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async deletePageContent(e){try{const{data:r}=await Oe.auth.getUser();if(!r.user)return{success:!1,error:"User not authenticated"};const{error:n}=await Oe.from("content_pages").update({is_active:!1,updated_by:r.user.id}).eq("page_type",e).eq("is_active",!0);return n?(console.error(`Error deleting content for ${e}:`,n),{success:!1,error:n.message}):{success:!0}}catch(r){return console.error(`Unexpected error deleting content for ${e}:`,r),{success:!1,error:"Unexpected error occurred"}}}static async revertToVersion(e,r){try{const{data:n}=await Oe.auth.getUser();if(!n.user)return{success:!1,error:"User not authenticated"};const{data:a,error:i}=await Oe.from("content_versions").select("page_data").eq("version_number",r).limit(1).single();return i||!a?{success:!1,error:"Version not found"}:await this.updatePageContent(e,a.page_data,`Reverted to version ${r}`)}catch(n){return console.error("Unexpected error reverting to version:",n),{success:!1,error:"Unexpected error occurred"}}}static subscribeToContentChanges(e,r){return Oe.channel(`content-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"content_pages",filter:`page_type=eq.${e}`},r).subscribe()}static unsubscribeFromContentChanges(e){return Oe.removeChannel(e)}static async fetchMultiplePageContent(e){try{const r={},n=e.map(async i=>{const s=await this.fetchPageContent(i);return{pageType:i,content:s}});return(await Promise.all(n)).forEach(({pageType:i,content:s})=>{r[i]=s}),r}catch(r){return console.error("Error fetching multiple page content:",r),{}}}static async searchContent(e){try{const{data:r,error:n}=await Oe.from("content_pages").select("*").eq("is_active",!0).textSearch("page_data",e);return n?(console.error("Error searching content:",n),[]):r||[]}catch(r){return console.error("Unexpected error searching content:",r),[]}}static async checkAdminAccess(){try{const{data:e}=await Oe.auth.getUser();if(!e.user)return!1;const r=e.user.user_metadata;return(r==null?void 0:r.role)==="admin"}catch(e){return console.error("Error checking admin access:",e),!1}}static async checkDatabaseHealth(){try{const{data:e,error:r}=await Oe.from("content_pages").select("id, page_type").limit(1);return r?{tableExists:!1,hasData:!1,error:r.message}:{tableExists:!0,hasData:e&&e.length>0,error:void 0}}catch(e){return{tableExists:!1,hasData:!1,error:e.message}}}}const bbe={contentCache:{},loadingStates:{},errorStates:{},lastUpdated:{},adminContent:{},contentHistory:{},isLoading:!1,globalError:null,subscriptions:{},isAdminMode:!1};function wbe(t,e){switch(e.type){case"SET_LOADING":return{...t,loadingStates:{...t.loadingStates,[e.pageType]:e.isLoading}};case"SET_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:e.content},lastUpdated:{...t.lastUpdated,[e.pageType]:Date.now()},loadingStates:{...t.loadingStates,[e.pageType]:!1},errorStates:{...t.errorStates,[e.pageType]:null}};case"SET_ERROR":return{...t,errorStates:{...t.errorStates,[e.pageType]:e.error},loadingStates:{...t.loadingStates,[e.pageType]:!1}};case"SET_ADMIN_CONTENT":return{...t,adminContent:{...t.adminContent,[e.pageType]:e.adminContent}};case"SET_CONTENT_HISTORY":return{...t,contentHistory:{...t.contentHistory,[e.pageType]:e.history}};case"SET_GLOBAL_LOADING":return{...t,isLoading:e.isLoading};case"SET_GLOBAL_ERROR":return{...t,globalError:e.error};case"SET_SUBSCRIPTION":return{...t,subscriptions:{...t.subscriptions,[e.pageType]:e.subscription}};case"REMOVE_SUBSCRIPTION":const r={...t.subscriptions};return delete r[e.pageType],{...t,subscriptions:r};case"SET_ADMIN_MODE":return{...t,isAdminMode:e.isAdminMode};case"CLEAR_CACHE":if(e.pageType){const n={...t.contentCache};return delete n[e.pageType],{...t,contentCache:n}}return{...t,contentCache:{}};case"INVALIDATE_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:null},lastUpdated:{...t.lastUpdated,[e.pageType]:0}};default:return t}}const Y9=S.createContext(void 0),_be=300*1e3,jbe=({children:t})=>{const[e,r]=S.useReducer(wbe,bbe),n=S.useRef(e),a=S.useRef(null);n.current=e;const i=S.useCallback(_=>{const N=e.lastUpdated[_];return N?Date.now()-N<_be:!1},[e.lastUpdated]),s=S.useCallback(async(_,N=!1)=>{if(!N&&e.contentCache[_]&&i(_))return e.contentCache[_];r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Wa.fetchPageContent(_);return r({type:"SET_CONTENT",pageType:_,content:A}),A}catch(A){const k=A instanceof Error?A.message:"Failed to fetch content";return r({type:"SET_ERROR",pageType:_,error:k}),null}},[e.contentCache,i]);a.current=s;const l=S.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const N=await Wa.fetchMultiplePageContent(_);return Object.entries(N).forEach(([A,k])=>{r({type:"SET_CONTENT",pageType:A,content:k})}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),N}catch(N){const A=N instanceof Error?N.message:"Failed to fetch multiple content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),{}}},[]),c=S.useCallback(async(_,N,A)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Wa.savePageContent(_,N,A);return k.success?(r({type:"SET_CONTENT",pageType:_,content:N}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to save content"}),!1)}catch(k){const E=k instanceof Error?k.message:"Failed to save content";return r({type:"SET_ERROR",pageType:_,error:E}),!1}},[]),u=S.useCallback(async(_,N,A)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Wa.updatePageContent(_,N,A);return k.success?(r({type:"SET_CONTENT",pageType:_,content:N}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to update content"}),!1)}catch(k){const E=k instanceof Error?k.message:"Failed to update content";return r({type:"SET_ERROR",pageType:_,error:E}),!1}},[]),d=S.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const N=await Wa.deletePageContent(_);return N.success?(r({type:"CLEAR_CACHE",pageType:_}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:null}),!0):(r({type:"SET_ERROR",pageType:_,error:N.error||"Failed to delete content"}),!1)}catch(N){const A=N instanceof Error?N.message:"Failed to delete content";return r({type:"SET_ERROR",pageType:_,error:A}),!1}},[]),f=S.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const N=await Wa.fetchContentWithHistory(_);return r({type:"SET_CONTENT_HISTORY",pageType:_,history:N}),r({type:"SET_LOADING",pageType:_,isLoading:!1}),N}catch(N){const A=N instanceof Error?N.message:"Failed to fetch content history";return r({type:"SET_ERROR",pageType:_,error:A}),null}},[]),p=S.useCallback(async(_,N)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Wa.revertToVersion(_,N);return A.success&&A.data?(r({type:"SET_CONTENT",pageType:_,content:A.data.page_data}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:A.data}),!0):(r({type:"SET_ERROR",pageType:_,error:A.error||"Failed to revert content"}),!1)}catch(A){const k=A instanceof Error?A.message:"Failed to revert content";return r({type:"SET_ERROR",pageType:_,error:k}),!1}},[]),h=S.useCallback(_=>{if(n.current.subscriptions[_])return;const N=Wa.subscribeToContentChanges(_,A=>{r({type:"INVALIDATE_CONTENT",pageType:_}),n.current.isAdminMode&&a.current&&a.current(_,!0)});r({type:"SET_SUBSCRIPTION",pageType:_,subscription:N})},[]),g=S.useCallback(_=>{const N=n.current.subscriptions[_];N&&(Wa.unsubscribeFromContentChanges(N),r({type:"REMOVE_SUBSCRIPTION",pageType:_}))},[]),m=S.useCallback(_=>{r({type:"CLEAR_CACHE",pageType:_})},[]),v=S.useCallback(_=>{r({type:"SET_ADMIN_MODE",isAdminMode:_})},[]),x=S.useCallback(async _=>{await s(_,!0)},[s]),j=S.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const N=await Wa.searchContent(_);return r({type:"SET_GLOBAL_LOADING",isLoading:!1}),N}catch(N){const A=N instanceof Error?N.message:"Failed to search content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),[]}},[]);S.useEffect(()=>()=>{Object.values(e.subscriptions).forEach(_=>{_&&Wa.unsubscribeFromContentChanges(_)})},[e.subscriptions]);const w={state:e,getPageContent:s,getMultiplePageContent:l,savePageContent:c,updatePageContent:u,deletePageContent:d,getContentHistory:f,revertToVersion:p,subscribeToPageContent:h,unsubscribeFromPageContent:g,clearCache:m,setAdminMode:v,refreshContent:x,searchContent:j};return S.useEffect(()=>()=>{Object.keys(n.current.subscriptions).forEach(_=>{const N=n.current.subscriptions[_];N&&Wa.unsubscribeFromContentChanges(N)})},[]),o.jsx(Y9.Provider,{value:w,children:t})},K9=()=>{const t=S.useContext(Y9);if(t===void 0)throw console.error("useContent hook called outside ContentProvider. Component tree:",{stackTrace:new Error().stack}),new Error("useContent must be used within a ContentProvider");return t},j_=[{id:"about",name:"About Us",title:"About Rosémama Clothing",description:"Company information, story, and values",icon:Uo},{id:"privacy",name:"Privacy Policy",title:"Privacy Policy",description:"How we handle customer data and privacy",icon:Us},{id:"terms",name:"Terms of Service",title:"Terms & Conditions",description:"Legal terms and conditions",icon:Vs},{id:"shipping",name:"Shipping Policy",title:"Shipping & Delivery",description:"Shipping methods and delivery information",icon:Tu},{id:"returns",name:"Returns Policy",title:"Returns & Exchanges",description:"Return and exchange policy",icon:Xl},{id:"help",name:"Help Center",title:"Help & Support",description:"Frequently asked questions and support",icon:k_},{id:"contact",name:"Contact Us",title:"Contact Information",description:"How to reach our customer service",icon:E_}],um=t=>{const e=j_.find(n=>n.id===t),r=(e==null?void 0:e.title)||"Page Title";return{title:r,description:(e==null?void 0:e.description)||"Page description",sections:[{id:`${t}-intro`,title:"Introduction",content:`<h4>Welcome to ${r}</h4><p>This is the introduction section. Edit this content to provide information about ${t}.</p>`}]}};function Nbe(){const{state:t,getPageContent:e,savePageContent:r,updatePageContent:n,refreshContent:a,setAdminMode:i,getContentHistory:s,revertToVersion:l}=K9(),[c,u]=S.useState("about"),[d,f]=S.useState(null),[p,h]=S.useState(""),[g,m]=S.useState(""),[v,x]=S.useState(!1),[j,w]=S.useState(null),[_,N]=S.useState(!1),[A,k]=S.useState(null),[E,I]=S.useState(!1);S.useEffect(()=>{i(!0)},[i]),S.useEffect(()=>{(async()=>{const le=await e(c)||um(c);w(le)})()},[c,e]);const L=j_.find(z=>z.id===c),C=t.loadingStates[c]||!1,O=t.errorStates[c],R=z=>{const J=j==null?void 0:j.sections.find(le=>le.id===z);J&&(f(z),h(J.content),m(J.title))},M=async()=>{if(!d||!j)return;const z={...j,sections:j.sections.map(le=>le.id===d?{...le,title:g,content:p}:le)};await n(c,z,"Updated section content")?(w(z),f(null),h(""),m(""),ke.success("Section updated successfully!")):ke.error("Failed to update section. Please try again.")},W=()=>{f(null),h(""),m("")},H=async()=>{if(!j)return;const z={id:`section-${Date.now()}`,title:"New Section",content:"<p>Enter your content here...</p>"},J={...j,sections:[...j.sections,z]};await n(c,J,"Added new section")?(w(J),ke.success("New section added!")):ke.error("Failed to add section. Please try again.")},G=async z=>{if(!j)return;const J={...j,sections:j.sections.filter(se=>se.id!==z)};await n(c,J,"Deleted section")?(w(J),ke.success("Section deleted!")):ke.error("Failed to delete section. Please try again.")},F=async()=>{if(!j)return;await n(c,j,"Saved all changes")?ke.success("All changes saved successfully!"):ke.error("Failed to save changes. Please try again.")},ae=async()=>{const z=um(c);await n(c,z,"Restored to defaults")?(w(z),ke.success("Content restored to defaults!")):ke.error("Failed to restore defaults. Please try again.")},Q=async()=>{await a(c);const z=await e(c,!0);w(z||um(c)),ke.success("Content refreshed!")},oe=async()=>{I(!0);try{const z=await s(c);k(z),N(!0)}catch{ke.error("Failed to load version history")}finally{I(!1)}},$=async z=>{try{if(await l(c,z)){const le=await e(c,!0);w(le||um(c)),N(!1),ke.success(`Reverted to version ${z} successfully!`)}else ke.error("Failed to revert to selected version")}catch{ke.error("Failed to revert to selected version")}},U=z=>new Date(z).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return L?o.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Content Management System"}),o.jsx("p",{className:"text-purple-100",children:"Manage information pages, policies, and user-helpful content with Supabase integration"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsxs(we,{onClick:F,className:"bg-green-600 hover:bg-green-700",disabled:C,children:[C?o.jsx(Va,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),o.jsxs(we,{variant:"outline",onClick:()=>x(!v),children:[o.jsx(Xa,{className:"h-4 w-4 mr-2"}),v?"Edit Mode":"Preview Mode"]}),o.jsxs(we,{variant:"outline",onClick:Q,disabled:C,children:[o.jsx(zl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(we,{variant:"outline",onClick:oe,disabled:E,children:[E?o.jsx(Va,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(ly,{className:"h-4 w-4 mr-2"}),"Version History"]})]}),o.jsxs(we,{variant:"destructive",onClick:ae,className:"bg-orange-600 hover:bg-orange-700",disabled:C,children:[o.jsx(Xl,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]})]}),O&&o.jsx(Re,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:o.jsx(Le,{className:"pt-4",children:o.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",O]})})}),o.jsxs(Ko,{value:c,onValueChange:z=>u(z),className:"space-y-6",children:[o.jsx(Xo,{className:"grid w-full grid-cols-4 lg:grid-cols-7 h-auto min-h-[3rem] p-1",children:j_.map(z=>{const J=z.icon;return o.jsxs(Or,{value:z.id,className:"flex items-center gap-2 px-2 py-2 text-xs sm:text-sm whitespace-nowrap overflow-hidden",children:[o.jsx(J,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"hidden sm:inline truncate",children:z.name})]},z.id)})}),o.jsxs(Er,{value:c,className:"space-y-6 mt-6",children:[o.jsxs(Re,{children:[o.jsxs(Pt,{children:[o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(L.icon,{className:"h-5 w-5"}),L.title,C&&o.jsx(Va,{className:"h-4 w-4 animate-spin"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:L.description})]}),o.jsx(Le,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(wt,{variant:"secondary",children:[(j==null?void 0:j.sections.length)||0," section",((j==null?void 0:j.sections.length)||0)!==1?"s":""]}),o.jsxs(we,{onClick:H,size:"sm",disabled:C,children:[o.jsx(Ul,{className:"h-4 w-4 mr-1"}),"Add Section"]})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: currentPageContent = ",j?"exists":"null",", sections = ",(j==null?void 0:j.sections.length)||0]}),j==null?void 0:j.sections.map(z=>o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Ct,{className:"text-lg",children:z.title}),o.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:o.jsxs("span",{children:["Section ID: ",z.id]})})]}),o.jsx("div",{className:"flex gap-2",children:d===z.id?o.jsxs(o.Fragment,{children:[o.jsxs(we,{size:"sm",onClick:M,disabled:C,children:[o.jsx(Sm,{className:"h-3 w-3 mr-1"}),"Save"]}),o.jsx(we,{size:"sm",variant:"outline",onClick:W,children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(we,{size:"sm",variant:"outline",onClick:()=>R(z.id),disabled:C,children:[o.jsx(xU,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>G(z.id),disabled:C,children:[o.jsx(dc,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]})}),o.jsx(Le,{children:d===z.id?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Dt,{value:g,onChange:J=>m(J.target.value),placeholder:"Section title"}),o.jsx(Z$,{value:p,onChange:J=>h(J.target.value),className:"min-h-[200px] font-mono text-sm",placeholder:"Section content (supports HTML)"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"💡 You can use HTML tags like <h4>, <p>, <ul>, <li>, <strong>, etc."})]}):v?o.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:z.content}}):o.jsx("div",{className:"bg-muted p-4 rounded border font-mono text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:z.content})})]},z.id)),(!(j!=null&&j.sections)||j.sections.length===0)&&o.jsx(Re,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:o.jsx(Le,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vs,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"No Content Sections"}),o.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:`This page doesn't have any content sections yet. Click "Add Section" to get started.`}),o.jsxs(we,{onClick:H,disabled:C,children:[o.jsx(Ul,{className:"h-4 w-4 mr-2"}),"Add First Section"]})]})})})]})]})]}),o.jsx(Re,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:o.jsx(Le,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(k_,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Content Management Tips"}),o.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[o.jsx("li",{children:"• Content is automatically saved to Supabase database"}),o.jsx("li",{children:"• Use HTML tags for formatting (h4, p, ul, li, strong, etc.)"}),o.jsx("li",{children:"• Preview mode shows how content will appear to users"}),o.jsx("li",{children:"• Changes are synced across all admin users in real-time"}),o.jsx("li",{children:'• Use "Restore Defaults" to reset content to original state'}),o.jsx("li",{children:"• Version history tracks all changes with timestamps"})]})]})]})})}),o.jsx(Ni,{open:_,onOpenChange:N,children:o.jsxs(Ja,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(Si,{children:o.jsxs(Ai,{className:"flex items-center gap-2",children:[o.jsx(ly,{className:"h-5 w-5"}),"Version History - ",L==null?void 0:L.title]})}),o.jsx("div",{className:"space-y-4",children:A?o.jsxs(o.Fragment,{children:[A.current&&o.jsxs(Re,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:[o.jsx(Pt,{children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx(Ct,{className:"text-lg flex items-center gap-2",children:o.jsxs(wt,{variant:"default",className:"bg-green-600",children:["Current Version ",A.current.version]})}),o.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(xu,{className:"h-3 w-3"}),U(A.current.updated_at)]}),A.current.updated_by&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Js,{className:"h-3 w-3"}),A.current.updated_by]})]})]})})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("strong",{children:"Title:"})," ",A.current.page_data.title]}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsx("strong",{children:"Sections:"})," ",A.current.page_data.sections.length]})]})]}),A.history.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Previous Versions"}),A.history.map(z=>o.jsxs(Re,{className:"border-gray-200",children:[o.jsx(Pt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Ct,{className:"text-sm flex items-center gap-2",children:o.jsxs(wt,{variant:"outline",children:["Version ",z.version_number]})}),o.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(xu,{className:"h-3 w-3"}),U(z.created_at)]}),z.created_by&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Js,{className:"h-3 w-3"}),z.created_by]})]}),z.change_summary&&o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[o.jsx("strong",{children:"Changes:"})," ",z.change_summary]})]}),o.jsxs(we,{size:"sm",variant:"outline",onClick:()=>$(z.version_number),className:"text-xs",children:[o.jsx(Xl,{className:"h-3 w-3 mr-1"}),"Revert"]})]})}),o.jsxs(Le,{children:[o.jsxs("div",{className:"text-xs",children:[o.jsx("strong",{children:"Title:"})," ",z.page_data.title]}),o.jsxs("div",{className:"text-xs mt-1",children:[o.jsx("strong",{children:"Sections:"})," ",z.page_data.sections.length]})]})]},z.id))]}):o.jsx(Re,{className:"border-gray-200",children:o.jsxs(Le,{className:"pt-6 text-center text-muted-foreground",children:[o.jsx(ly,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No version history available"})]})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Va,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading version history..."})]})})]})})]}):o.jsx("div",{children:"Page configuration not found"})}class Oa{static async createConversation(e,r){try{const{data:n,error:a}=await Oe.from("chat_conversations").insert({customer_id:e,subject:r||"General Inquiry",status:"open",priority:2}).select().single();return a?(console.error("Error creating conversation:",a),null):n}catch(n){return console.error("Error in createConversation:",n),null}}static async getConversations(e,r=!1){try{let n=Oe.from("chat_conversations").select("*").order("last_message_at",{ascending:!1});r||(n=n.eq("customer_id",e));const{data:a,error:i}=await n;return i?(console.error("Error fetching conversations:",i),[]):a||[]}catch(n){return console.error("Error in getConversations:",n),[]}}static async sendMessage(e,r,n,a="text"){try{const{data:i,error:s}=await Oe.from("chat_messages").insert({conversation_id:e,sender_id:r,content:n,message_type:a}).select().single();return s?(console.error("Error sending message:",s),null):i}catch(i){return console.error("Error in sendMessage:",i),null}}static async getMessages(e){try{const{data:r,error:n}=await Oe.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching messages:",n),[]):r||[]}catch(r){return console.error("Error in getMessages:",r),[]}}static async markMessagesAsRead(e,r){try{const{error:n}=await Oe.from("chat_messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",r).eq("is_read",!1);return n?(console.error("Error marking messages as read:",n),!1):!0}catch(n){return console.error("Error in markMessagesAsRead:",n),!1}}static async getUnreadCount(e){try{const r=await this.getConversations(e,!1);if(r.length===0)return 0;const n=r.map(s=>s.id),{count:a,error:i}=await Oe.from("chat_messages").select("*",{count:"exact",head:!0}).in("conversation_id",n).neq("sender_id",e).eq("is_read",!1);return i?(console.error("Error getting unread count:",i),0):a||0}catch(r){return console.error("Error in getUnreadCount:",r),0}}static subscribeToConversations(e,r){const n=`conversations:${e}`;this.unsubscribe(n);const a=Oe.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},i=>{console.log("Conversation update:",i),r(i)}).subscribe();return this.subscriptions.set(n,a),a}static subscribeToMessages(e,r,n){const a=`messages:${e}`;this.unsubscribe(a);let i=Oe.channel(a).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("New message:",l),r(l)});n&&(i=i.on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("Message updated:",l),n(l)}));const s=i.subscribe();return this.subscriptions.set(a,s),s}static unsubscribe(e){const r=this.subscriptions.get(e);r&&(Oe.removeChannel(r),this.subscriptions.delete(e))}static unsubscribeAll(){this.subscriptions.forEach((e,r)=>{Oe.removeChannel(e)}),this.subscriptions.clear()}static async assignConversation(e,r){try{const{error:n}=await Oe.from("chat_conversations").update({admin_id:r,status:"assigned",updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error assigning conversation:",n),!1):!0}catch(n){return console.error("Error in assignConversation:",n),!1}}static async updateConversationStatus(e,r){try{const{error:n}=await Oe.from("chat_conversations").update({status:r,updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error updating conversation status:",n),!1):!0}catch(n){return console.error("Error in updateConversationStatus:",n),!1}}static async getOrCreateConversation(e,r){try{const{data:n,error:a}=await Oe.from("chat_conversations").select("*").eq("customer_id",e).in("status",["open","assigned"]).order("created_at",{ascending:!1}).limit(1);return a?(console.error("Error fetching existing conversations:",a),null):n&&n.length>0?n[0]:await this.createConversation(e,r)}catch(n){return console.error("Error in getOrCreateConversation:",n),null}}static async searchMessages(e,r){try{let n=Oe.from("chat_messages").select("*").textSearch("content",e);r&&(n=n.eq("conversation_id",r));const{data:a,error:i}=await n.order("created_at",{ascending:!1}).limit(20);return i?(console.error("Error searching messages:",i),[]):a||[]}catch(n){return console.error("Error in searchMessages:",n),[]}}}Zt(Oa,"subscriptions",new Map);function X9(t,e=!1){const[r,n]=S.useState([]),[a,i]=S.useState(!0),[s,l]=S.useState(null),c=S.useCallback(async()=>{i(!0);try{const f=await Oa.getConversations(t,e);n(f),l(null)}catch(f){l("Failed to load conversations"),console.error("Error loading conversations:",f)}finally{i(!1)}},[t,e]),u=S.useCallback(async f=>{try{const p=await Oa.createConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error starting conversation:",p),null}},[t,c]),d=S.useCallback(async f=>{try{const p=await Oa.getOrCreateConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error getting/creating conversation:",p),null}},[t,c]);return S.useEffect(()=>{t&&c()},[c,t]),{conversations:r,loading:a,error:s,refreshConversations:c,startConversation:u,getOrCreateConversation:d}}function Z9(t){const[e,r]=S.useState([]),[n,a]=S.useState(!0),[i,s]=S.useState(null),[l,c]=S.useState(null),u=S.useCallback(async()=>{if(!t){r([]),a(!1);return}a(!0);try{const p=await Oa.getMessages(t);r(p),s(null)}catch(p){s("Failed to load messages"),console.error("Error loading messages:",p)}finally{a(!1)}},[t]),d=S.useCallback(async(p,h,g="text")=>{if(!t)return null;try{const m=await Oa.sendMessage(t,p,h,g);return m?(r(v=>[...v,m]),m):null}catch(m){return console.error("Error sending message:",m),null}},[t]),f=S.useCallback(async p=>{if(!t)return!1;try{return await Oa.markMessagesAsRead(t,p)}catch(h){return console.error("Error marking messages as read:",h),!1}},[t]);return S.useEffect(()=>{if(!t){r([]),a(!1);return}u();const p=Oa.subscribeToMessages(t,h=>{h.eventType==="INSERT"&&h.new&&r(g=>g.some(v=>v.id===h.new.id)?g:[...g,h.new])},h=>{h.eventType==="UPDATE"&&h.new&&r(g=>g.map(m=>m.id===h.new.id?h.new:m))});return c(p),()=>{p&&Oa.unsubscribe(`messages:${t}`)}},[t,u]),{messages:e,loading:n,error:i,sendMessage:d,markAsRead:f,refreshMessages:u}}function J9(t){const[e,r]=S.useState(0),[n,a]=S.useState(!0),i=S.useCallback(async()=>{if(!t){r(0),a(!1);return}try{const s=await Oa.getUnreadCount(t);r(s)}catch(s){console.error("Error getting unread count:",s)}finally{a(!1)}},[t]);return S.useEffect(()=>{if(t){i();const s=setInterval(i,3e4);return()=>clearInterval(s)}},[t,i]),{unreadCount:e,loading:n,refreshUnreadCount:i}}function Sbe(){const t=S.useCallback(async(n,a)=>{try{return await Oa.assignConversation(n,a)}catch(i){return console.error("Error assigning conversation:",i),!1}},[]),e=S.useCallback(async(n,a)=>{try{return await Oa.updateConversationStatus(n,a)}catch(i){return console.error("Error updating conversation status:",i),!1}},[]),r=S.useCallback(async(n,a)=>{try{return await Oa.searchMessages(n,a)}catch(i){return console.error("Error searching messages:",i),[]}},[]);return{assignConversation:t,updateStatus:e,searchMessages:r}}function Abe(){const{user:t}=Cn(),[e,r]=S.useState(null),[n,a]=S.useState(""),[i,s]=S.useState("all"),[l,c]=S.useState(!1),[u,d]=S.useState(!0),{conversations:f,loading:p,refreshConversations:h}=X9((t==null?void 0:t.id)||"",!0),{messages:g,loading:m,sendMessage:v,refreshMessages:x}=Z9(e),{assignConversation:j,updateStatus:w}=Sbe();S.useEffect(()=>{const M=()=>{const W=window.innerWidth<768;c(W),W||d(!0)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const _=M=>{r(M),l&&d(!1)},N=()=>{l&&(d(!0),r(null))},A=f.filter(M=>{var G,F;const W=n===""||((G=M.subject)==null?void 0:G.toLowerCase().includes(n.toLowerCase()))||((F=M.customer_id)==null?void 0:F.toLowerCase().includes(n.toLowerCase())),H=i==="all"||M.status===i;return W&&H}),k=async M=>{t!=null&&t.id&&await j(M,t.id)&&h()},E=async(M,W)=>{await w(M,W)&&h()},I=async M=>{e&&(t!=null&&t.id)&&(await v(t.id,M),x())},L=M=>{switch(M){case"open":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300";case"assigned":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border-blue-300";case"in_progress":return"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border-purple-300";case"waiting_customer":return"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-800 border-orange-300";case"escalated":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border-red-300";case"follow_up":return"bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 border-indigo-300";case"resolved":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border-green-300";case"closed":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300"}},C=M=>{switch(M){case"open":return"🟡";case"assigned":return"🔵";case"in_progress":return"🟣";case"waiting_customer":return"🟠";case"escalated":return"🔴";case"follow_up":return"🔄";case"resolved":return"🟢";case"closed":return"⚫";default:return"⚪"}},O=M=>{switch(M){case"open":return o.jsx(Kl,{className:"h-3 w-3"});case"assigned":return o.jsx(Js,{className:"h-3 w-3"});case"resolved":return o.jsx(Nh,{className:"h-3 w-3"});default:return o.jsx(xu,{className:"h-3 w-3"})}},R=M=>{const W=new Date,H=new Date(M.created_at),G=W.getTime()-H.getTime(),F=Math.floor(G/(1e3*60*60)),ae=M.priority||"normal",oe=(ae==="high"||ae==="urgent"?1:ae==="low"?24:4)-F,$=oe<0;return{isOverdue:$,timeLeft:$?`${Math.abs(oe)}h overdue`:`${oe}h left`,color:$?"text-red-600":oe<1?"text-orange-600":"text-blue-600"}};return o.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-neutral-50 via-white to-rose-50/30 dark:from-neutral-900 dark:via-neutral-800 dark:to-rose-900/20",children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-rose-500 via-pink-500 to-rose-600 text-white shadow-xl",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),o.jsxs("div",{className:"relative p-3 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l&&!u&&o.jsx("button",{onClick:N,className:"bg-white/20 backdrop-blur-sm rounded-lg p-2 shadow-lg hover:bg-white/30 transition-all duration-200 mr-2",children:o.jsx(Vg,{className:"h-5 w-5"})}),o.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg md:rounded-2xl p-2 md:p-3 shadow-lg",children:o.jsx(Ka,{className:"h-5 w-5 md:h-8 md:w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base md:text-2xl lg:text-3xl font-bold flex items-center gap-1 md:gap-3",children:l&&!u?o.jsx("span",{children:"Chat"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"hidden sm:inline",children:"💬"}),o.jsx("span",{className:"sm:hidden",children:"Support"}),o.jsx("span",{className:"hidden sm:block",children:"Customer Support"})]})}),o.jsx("p",{className:"text-rose-100 text-xs md:text-sm lg:text-base hidden md:block",children:"✨ Manage conversations and provide amazing support"})]})]}),o.jsx("div",{className:"bg-white/15 backdrop-blur-md rounded-lg md:rounded-xl px-2 py-2 md:px-6 md:py-4 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2 mb-1",children:[o.jsx("span",{className:"text-sm md:text-2xl lg:text-3xl font-bold",children:f.length}),o.jsx("span",{className:"text-xs md:text-xl",children:"📨"})]}),o.jsxs("span",{className:"text-rose-100 text-xs md:text-sm font-medium",children:[o.jsx("span",{className:"hidden md:inline",children:"Active"}),o.jsx("span",{className:"md:hidden",children:"Chats"})]})]})})]}),o.jsxs("div",{className:`relative mt-2 md:mt-4 flex items-center gap-2 md:gap-4 text-xs md:text-sm ${l&&!u?"hidden":"flex"}`,children:[o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/10 rounded-full px-2 md:px-3 py-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-rose-100",children:"Online"})]}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-rose-200",children:[o.jsx("span",{children:"🕐"}),o.jsx("span",{className:"hidden sm:inline",children:new Date().toLocaleTimeString()})]})]})]})]}),o.jsx("div",{className:"flex-1 flex overflow-hidden shadow-inner",children:l?o.jsx(o.Fragment,{children:u?o.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-3 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"🔍 Search...",value:n,onChange:M=>a(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400 text-base"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsxs("select",{value:i,onChange:M=>s(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200 text-base",children:[o.jsx("option",{value:"all",children:"📋 All Status"}),o.jsx("option",{value:"open",children:"🟡 Open"}),o.jsx("option",{value:"assigned",children:"🔵 Assigned"}),o.jsx("option",{value:"in_progress",children:"🟣 In Progress"}),o.jsx("option",{value:"waiting_customer",children:"🟠 Waiting"}),o.jsx("option",{value:"escalated",children:"🔴 Escalated"}),o.jsx("option",{value:"follow_up",children:"🔄 Follow-up"}),o.jsx("option",{value:"resolved",children:"🟢 Resolved"}),o.jsx("option",{value:"closed",children:"⚫ Closed"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),o.jsx("p",{className:"text-rose-600 font-medium",children:"✨ Loading..."})]}):A.length===0?o.jsxs("div",{className:"p-6 text-center text-rose-600",children:[o.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl",children:"💬"})}),o.jsx("p",{className:"font-medium",children:"No conversations"}),o.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting filters"})]}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(M=>{var W;return o.jsx("div",{onClick:()=>_(M.id),className:"bg-white/90 backdrop-blur-sm border border-rose-100 rounded-xl p-4 hover:shadow-lg transition-all duration-200 cursor-pointer active:scale-95",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:"👤"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h4",{className:"font-bold text-gray-900 text-base truncate",children:["Customer #",((W=M.customer_id)==null?void 0:W.slice(0,8))||"Unknown"]}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:M.subject||"General Inquiry"})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${L(M.status||"open")}`,children:C(M.status||"open")})]}),o.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:"Last message preview..."}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(xu,{className:"h-3 w-3"}),new Date(M.created_at).toLocaleDateString()]})}),(()=>{const H=R(M);return H.isOverdue?o.jsxs("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-bold",children:["🚨 ",H.timeLeft]}):o.jsxs("span",{className:"text-gray-500 text-xs",children:["⏱️ ",H.timeLeft]})})()]})]})]})},M.id)})})})]}):o.jsx("div",{className:"w-full flex flex-col",children:e?o.jsx(LT,{conversationId:e,messages:g,loading:m,onSendMessage:I,onAssignToSelf:()=>k(e),onStatusUpdate:M=>E(e,M),isMobile:!0}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ka,{className:"h-10 w-10 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"Select a conversation"}),o.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation to start chatting"})]})})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"w-1/3 bg-white/80 backdrop-blur-sm border-r border-rose-100 dark:border-rose-800/30 flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"🔍 Search conversations...",value:n,onChange:M=>a(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsxs("select",{value:i,onChange:M=>s(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200",children:[o.jsx("option",{value:"all",children:"📋 All Status"}),o.jsx("option",{value:"open",children:"🟡 Open"}),o.jsx("option",{value:"assigned",children:"🔵 Assigned"}),o.jsx("option",{value:"in_progress",children:"🟣 In Progress"}),o.jsx("option",{value:"waiting_customer",children:"🟠 Waiting for Customer"}),o.jsx("option",{value:"escalated",children:"🔴 Escalated"}),o.jsx("option",{value:"follow_up",children:"🔄 Follow-up Required"}),o.jsx("option",{value:"resolved",children:"🟢 Resolved"}),o.jsx("option",{value:"closed",children:"⚫ Closed"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),o.jsx("p",{className:"text-rose-600 font-medium",children:"✨ Loading conversations..."})]}):A.length===0?o.jsxs("div",{className:"p-6 text-center text-rose-600",children:[o.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl",children:"💬"})}),o.jsx("p",{className:"font-medium",children:"No conversations found"}),o.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting your search or filters"})]}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(M=>{var W;return o.jsx("div",{onClick:()=>r(M.id),className:`p-4 border-b border-rose-100/50 cursor-pointer transition-all duration-300 hover:bg-gradient-to-r hover:from-rose-50 hover:to-pink-50 hover:shadow-md group relative ${e===M.id?"bg-gradient-to-r from-rose-100 to-pink-100 border-rose-300 shadow-lg":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",children:"👤"}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-200 ${L(M.status||"open")}`,children:[O(M.status||"open"),C(M.status||"open")," ",(M.status||"open").toUpperCase()]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("h4",{className:"font-bold text-gray-900 truncate group-hover:text-rose-700 transition-colors text-sm",children:["👤 Customer #",((W=M.customer_id)==null?void 0:W.slice(0,8))||"Unknown"]}),o.jsxs("p",{className:"text-xs text-gray-600 truncate mt-1",children:["📋 ",M.subject||"General Support Inquiry"]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(xu,{className:"h-3 w-3"}),o.jsx("span",{children:new Date(M.created_at).toLocaleDateString()})]}),(()=>{const H=R(M);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${H.isOverdue?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:["⏱️ ",H.timeLeft]}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[o.jsx("button",{onClick:G=>{G.stopPropagation(),k(M.id)},className:"p-1 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded text-xs",title:"Assign to me",children:"👤"}),o.jsx("button",{onClick:G=>{G.stopPropagation(),E(M.id,"escalated")},className:"p-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-xs",title:"Escalate",children:"🚨"}),o.jsx("button",{onClick:G=>{G.stopPropagation(),E(M.id,"resolved")},className:"p-1 bg-green-100 hover:bg-green-200 text-green-600 rounded text-xs",title:"Mark Resolved",children:"✅"})]})]})})()]})]})]})},M.id)})})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:e?o.jsx(LT,{conversationId:e,messages:g,loading:m,onSendMessage:I,onAssignToSelf:()=>k(e),onStatusUpdate:M=>E(e,M),isMobile:!1}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ka,{className:"h-10 w-10 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"💬 Select a conversation"}),o.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation from the list to start providing amazing support!"})]})})})]})})]})}function LT({conversationId:t,messages:e,loading:r,onSendMessage:n,onAssignToSelf:a,onStatusUpdate:i,isMobile:s=!1}){const[l,c]=S.useState(""),[u,d]=S.useState(!1),[f,p]=S.useState(!1),[h,g]=S.useState(""),[m,v]=S.useState(!1),x=K.useRef(null),j=[{id:1,title:"👋 Welcome",content:"Hello! Thank you for contacting us. How can I help you today?"},{id:2,title:"🔍 Investigating",content:"Thank you for bringing this to our attention. I'm looking into this right away and will get back to you shortly."},{id:3,title:"✅ Resolved",content:"Great news! I've resolved your issue. Please let me know if you need any further assistance."},{id:4,title:"📞 Follow-up",content:"I'll follow up with you within 24 hours to ensure everything is working perfectly."},{id:5,title:"🙏 Thank You",content:"Thank you for your patience and for choosing our service. Is there anything else I can help you with?"},{id:6,title:"📋 More Info",content:"To better assist you, could you please provide more details about the issue you're experiencing?"}];S.useEffect(()=>{var _;(_=x.current)==null||_.scrollIntoView({behavior:"smooth"})},[e]),S.useEffect(()=>{if(l.length>0){v(!0);const _=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(_)}else v(!1)},[l]);const w=_=>{_.preventDefault(),l.trim()&&(n(l.trim()),c(""))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-rose-400 via-pink-400 to-rose-500 text-white shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),o.jsx("div",{className:`relative ${s?"px-4 py-3":"px-6 py-4"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Ka,{className:"h-3 w-3 md:h-4 md:w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-sm md:text-lg",children:"💬 Conversation"}),o.jsxs("p",{className:"text-rose-100 text-xs md:text-sm",children:["#",t.slice(0,8)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsxs("button",{onClick:a,className:`flex items-center gap-1 md:gap-2 ${s?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm text-white rounded-lg md:rounded-xl hover:bg-white/30 transition-all duration-200 font-medium shadow-lg border border-white/20`,children:[o.jsx(mq,{className:"h-3 w-3 md:h-4 md:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"👤 Assign"}),o.jsx("span",{className:"sm:hidden",children:"👤"})]}),o.jsxs("select",{onChange:_=>i(_.target.value),className:`${s?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg md:rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 hover:bg-white/30 transition-all duration-200 font-medium`,style:{backgroundImage:"none"},children:[o.jsx("option",{value:"",className:"text-gray-800",children:"🔄 Status"}),o.jsx("option",{value:"assigned",className:"text-gray-800",children:"🔵 Assigned"}),o.jsx("option",{value:"in_progress",className:"text-gray-800",children:"🟣 In Progress"}),o.jsx("option",{value:"waiting_customer",className:"text-gray-800",children:"🟠 Waiting"}),o.jsx("option",{value:"escalated",className:"text-gray-800",children:"🔴 Escalated"}),o.jsx("option",{value:"follow_up",className:"text-gray-800",children:"🔄 Follow-up"}),o.jsx("option",{value:"resolved",className:"text-gray-800",children:"🟢 Resolved"}),o.jsx("option",{value:"closed",className:"text-gray-800",children:"⚫ Closed"})]})]})]})})]}),o.jsxs("div",{className:`flex-1 overflow-y-auto space-y-4 bg-gradient-to-b from-rose-50/50 via-white to-pink-50/30 ${s?"px-3 py-3":"px-6 py-6"}`,children:[r?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-4 border-rose-200 border-t-rose-500 mb-4"}),o.jsx("p",{className:"text-rose-600 font-medium text-sm md:text-base",children:"✨ Loading messages..."})]}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-rose-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Ka,{className:"h-6 w-6 md:h-8 md:w-8 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2 text-sm md:text-base",children:"💬 No messages yet"}),o.jsx("p",{className:"text-rose-500 text-xs md:text-sm",children:"Start the conversation below!"})]}):o.jsx(o.Fragment,{children:e.map(_=>o.jsx("div",{className:`flex ${_.sender_id===t?"justify-start":"justify-end"}`,children:o.jsxs("div",{className:`${s?"max-w-[85%]":"max-w-[70%]"} group ${_.sender_id===t?"flex items-start gap-2 md:gap-3":"flex items-start gap-2 md:gap-3 flex-row-reverse"}`,children:[o.jsx("div",{className:`${s?"w-8 h-8":"w-10 h-10"} rounded-full flex items-center justify-center text-white font-bold text-xs md:text-sm shadow-lg flex-shrink-0 ${_.sender_id===t?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-gradient-to-br from-rose-400 to-pink-500"}`,children:_.sender_id===t?"👤":"👨‍💼"}),o.jsxs("div",{className:`${s?"px-3 py-2":"px-4 py-3"} rounded-2xl shadow-lg border transition-all duration-200 group-hover:shadow-xl ${_.sender_id===t?"bg-white border-gray-200 text-gray-900 rounded-tl-sm":"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-400 rounded-tr-sm"}`,children:[o.jsx("p",{className:`${s?"text-xs":"text-sm"} font-medium leading-relaxed`,children:_.content}),o.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${_.sender_id===t?"text-gray-500":"text-rose-100"}`,children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(xu,{className:"h-2 w-2 md:h-3 md:w-3"}),new Date(_.created_at).toLocaleTimeString()]}),_.sender_id!==t&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-rose-200",children:"✓✓"}),o.jsx("span",{className:"text-rose-200 hidden sm:inline",children:"Read"})]})]})]})]})},_.id))}),o.jsx("div",{ref:x})]}),o.jsxs("div",{className:`relative bg-gradient-to-r from-rose-50 to-pink-50 border-t border-rose-200 space-y-3 md:space-y-4 ${s?"px-3 py-3":"px-6 py-4"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-50/70 to-pink-50/70 backdrop-blur-sm"}),o.jsxs("div",{className:"relative flex items-center gap-1 md:gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-1 md:gap-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:["📝 ",o.jsx("span",{className:"hidden sm:inline",children:"Templates"})]}),o.jsxs("button",{onClick:()=>p(!f),className:`flex items-center gap-1 md:gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:["📋 ",o.jsx("span",{className:"hidden sm:inline",children:"Notes"})]}),o.jsxs("button",{onClick:()=>{},className:`flex items-center gap-1 md:gap-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:["📎 ",o.jsx("span",{className:"hidden sm:inline",children:"Attach"})]})]}),u&&o.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-rose-200 shadow-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:"🚀 Quick Reply Templates"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:j.map(_=>o.jsxs("button",{onClick:()=>{c(_.content),d(!1)},className:"text-left p-2 md:p-3 bg-gray-50 hover:bg-rose-50 rounded-lg text-xs transition-colors border border-gray-200 hover:border-rose-300",children:[o.jsx("div",{className:"font-medium text-gray-800",children:_.title}),o.jsxs("div",{className:"text-gray-500 mt-1 truncate",children:[_.content.slice(0,s?30:40),"..."]})]},_.id))})]}),f&&o.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-purple-200 shadow-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:"📋 Internal Team Notes"}),o.jsx("textarea",{value:h,onChange:_=>g(_.target.value),placeholder:"Add internal notes for your team...",rows:s?2:3,className:"w-full px-3 py-2 border border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 text-xs md:text-sm text-gray-800"}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-xs text-purple-600",children:"💡 Team only"}),o.jsx("button",{onClick:()=>{g(""),p(!1)},className:"px-3 py-1 bg-purple-500 text-white rounded-lg text-xs font-medium hover:bg-purple-600 transition-colors",children:"Save"})]})]}),o.jsxs("form",{onSubmit:w,className:"relative flex gap-2 md:gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:"💬 Type your reply...",rows:s?1:2,className:`w-full border-2 border-rose-300 rounded-xl md:rounded-2xl focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-rose-400 resize-none bg-white shadow-md font-medium transition-all duration-200 hover:border-rose-400 hover:shadow-lg text-gray-900 placeholder:text-rose-500 ${s?"px-3 py-2 text-sm":"px-4 py-3 text-base"}`,style:{color:"#111827"}}),!s&&o.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-rose-600 font-medium bg-white/80 px-2 py-1 rounded-lg",children:"✨ Shift + Enter for new line"})]}),o.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[o.jsxs("button",{type:"submit",disabled:!l.trim(),className:`bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-xl md:rounded-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-1 md:gap-2 ${s?"px-3 py-2 text-xs":"px-6 py-3 text-sm"}`,children:[o.jsx(dI,{className:"h-3 w-3 md:h-4 md:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Send"}),o.jsx("span",{className:"sm:hidden",children:"Send"})]}),!s&&o.jsx("div",{className:"text-xs text-gray-500 text-center",children:"📖 Read receipts: ON"})]})]})]})]})}function kbe({defaultTab:t="overview"}){const{products:e,fetchAllProducts:r}=Ah(),[n,a]=S.useState(null),[i,s]=S.useState(!1);S.useEffect(()=>{r()},[r]);const l=d=>{a(d),s(!0)},c=()=>{r(),a(null),s(!1)},u=()=>{a(null),s(!1)};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your store and view analytics"})]}),o.jsxs(Ko,{defaultValue:t,className:"space-y-6",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-8 h-auto p-1 bg-muted rounded-lg",children:[o.jsx(Or,{value:"overview",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Overview"}),o.jsx(Or,{value:"products",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Products"}),o.jsx(Or,{value:"orders",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Orders"}),o.jsx(Or,{value:"reviews",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Reviews"}),o.jsx(Or,{value:"analytics",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Analytics"}),o.jsx(Or,{value:"content",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Content"}),o.jsx(Or,{value:"messages",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Messages"}),o.jsx(Or,{value:"settings",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Settings"})]}),o.jsxs(Er,{value:"overview",children:[o.jsx(ZX,{products:e}),o.jsxs(Re,{className:"mt-6",children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Recent Orders"})}),o.jsx(Le,{children:o.jsx(PT,{})})]})]}),o.jsxs(Er,{value:"products",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(IT,{onSuccess:c}),o.jsx("div",{className:"lg:col-span-2",children:o.jsx(cbe,{onEditProduct:l})})]}),o.jsx(Ni,{open:i,onOpenChange:s,children:o.jsxs(Ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Si,{children:o.jsx(Ai,{children:"Edit Product"})}),n&&o.jsx(IT,{mode:"edit",product:n,onSuccess:c,onCancel:u})]})})]}),o.jsx(Er,{value:"orders",children:o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"All Orders"})}),o.jsx(Le,{children:o.jsx(PT,{showActions:!0})})]})}),o.jsx(Er,{value:"reviews",children:o.jsx(xbe,{})}),o.jsx(Er,{value:"analytics",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Q0e,{}),o.jsx(eye,{})]})}),o.jsx(Er,{value:"content",children:o.jsx(Nbe,{})}),o.jsx(Er,{value:"messages",children:o.jsx(Re,{className:"h-[calc(100vh-240px)]",children:o.jsx(Le,{className:"p-0 h-full",children:o.jsx(Abe,{})})})}),o.jsx(Er,{value:"settings",children:o.jsx(G9,{})})]}),o.jsx(Yo,{})]})}function Q9({...t}){return o.jsx(Q_,{"data-slot":"sheet",...t})}const GN=S.forwardRef(({...t},e)=>o.jsx(sv,{"data-slot":"sheet-trigger",ref:e,...t}));GN.displayName=sv.displayName;function Pbe({...t}){return o.jsx(ej,{"data-slot":"sheet-portal",...t})}function Cbe({className:t,...e}){return o.jsx(ov,{"data-slot":"sheet-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function eF({className:t,children:e,side:r="right",...n}){return o.jsxs(Pbe,{children:[o.jsx(Cbe,{}),o.jsxs(lv,{"data-slot":"sheet-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,o.jsxs(cv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[o.jsx(Gs,{className:"size-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const MT=[{id:"about",title:"About Us",description:"Learn about Rosémama Clothing",icon:Xg,category:"Company"},{id:"privacy",title:"Privacy Policy",description:"How we protect your data",icon:Us,category:"Legal"},{id:"terms",title:"Terms of Service",description:"Our terms and conditions",icon:Vs,category:"Legal"},{id:"shipping",title:"Shipping Policy",description:"Delivery information",icon:Tu,category:"Policies"},{id:"returns",title:"Return Policy",description:"Returns and exchanges",icon:Xl,category:"Policies"},{id:"help",title:"Help Center",description:"FAQ and support",icon:k_,category:"Support"},{id:"contact",title:"Contact Us",description:"Get in touch",icon:E_,category:"Support"}];function Obe({children:t,title:e,description:r,onBack:n,onNavigate:a}){const[i,s]=S.useState(!1),l=Array.from(new Set(MT.map(u=>u.category))),c=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center pb-4 border-b",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Information Center"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Everything you need to know about Rosémama"})]}),l.map(u=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:u}),o.jsx("div",{className:"space-y-1",children:MT.filter(d=>d.category===u).map(d=>{const f=d.icon;return o.jsxs(we,{variant:"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{a==null||a(d.id),s(!1)},children:[o.jsx(f,{className:"h-4 w-4 mr-3 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium",children:d.title}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.description})]})]},d.id)})})]},u))]});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20",children:o.jsx(Vg,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-bold",children:e}),r&&o.jsx("p",{className:"text-sm text-white/80 mt-1",children:r})]}),o.jsxs(Q9,{open:i,onOpenChange:s,children:[o.jsx(GN,{asChild:!0,children:o.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",children:o.jsx(lI,{className:"h-5 w-5"})})}),o.jsx(eF,{side:"right",className:"w-80",children:o.jsx(c,{})})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:o.jsx("div",{className:"sticky top-24 bg-card border rounded-lg p-4",children:o.jsx(c,{})})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"bg-card border rounded-lg p-6",children:t})})]})})]})}function tF({pageType:t,defaultContent:e=[],className:r="",onRetry:n}){const{getPageContent:a,state:i,subscribeToPageContent:s,unsubscribeFromPageContent:l}=K9(),[c,u]=S.useState(null),[d,f]=S.useState(!0),[p,h]=S.useState(null),[g,m]=S.useState(!1),v=S.useRef(!1);S.useEffect(()=>(x(),v.current||(s(t),v.current=!0),()=>{v.current&&(l(t),v.current=!1)}),[t]),S.useEffect(()=>{const _=i.contentCache[t];if(_&&_!==c&&(u(_),c!==null)){m(!0);const N=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(N)}},[i.contentCache,t,c]);const x=S.useCallback(async()=>{try{f(!0),h(null);const _=await a(t);u(_)}catch(_){h(_ instanceof Error?_.message:"Failed to load content")}finally{f(!1)}},[t,a]),j=()=>{n?n():x()};if(d&&!c)return o.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx(Va,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-rose-500"}),o.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})});if(p&&!c&&e.length===0)return o.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx(Kl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Content"}),o.jsx("p",{className:"text-gray-600 mb-4",children:p}),o.jsx(we,{onClick:j,variant:"outline",children:"Try Again"})]})});const w=(c==null?void 0:c.sections)||e;return w.length===0?o.jsx("div",{className:`text-center py-12 ${r}`,children:o.jsx("p",{className:"text-gray-500",children:"No content available for this page."})}):o.jsxs("div",{className:`space-y-8 ${r}`,children:[g&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-in slide-in-from-top-2 duration-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Nh,{className:"h-5 w-5 text-green-600 mr-2"}),o.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Content updated! You're viewing the latest version."}),o.jsx(zl,{className:"h-4 w-4 text-green-600 ml-auto animate-spin"})]})}),p&&c&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Kl,{className:"h-5 w-5 text-amber-600 mr-2"}),o.jsxs("p",{className:"text-amber-800 text-sm",children:["Content may be outdated. ",p]}),o.jsx(we,{onClick:j,variant:"ghost",size:"sm",className:"ml-auto text-amber-700 hover:text-amber-900",children:"Refresh"})]})}),w.map((_,N)=>o.jsx(Ebe,{section:_},_.id||N))]})}function Ebe({section:t}){return o.jsxs("section",{className:"space-y-4",children:[t.title&&o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t.title}),t.content&&o.jsx("div",{className:`prose prose-gray max-w-none\r
            prose-headings:text-gray-900 \r
            prose-p:text-gray-700 prose-p:leading-relaxed\r
            prose-ul:text-gray-700 prose-ol:text-gray-700\r
            prose-li:mb-1\r
            prose-strong:text-gray-900\r
            prose-a:text-rose-600 prose-a:no-underline hover:prose-a:underline`,dangerouslySetInnerHTML:{__html:t.content}})]})}const Tbe=[{id:"hero-section",title:"Welcome to Rosémama Clothing",content:`
      <p class="text-xl text-gray-600 mb-6">Where fashion meets passion, and style tells your story.</p>
      
      <p>Rosémama Clothing was born from a simple belief: every woman deserves to feel confident, beautiful, and empowered through fashion. Founded in South Africa, we've grown from a small boutique dream into a trusted destination for women who appreciate quality, style, and authentic craftsmanship.</p>
    `},{id:"our-story",title:"Our Story",content:`
      <p>What started as a passion project in 2015 has blossomed into a movement celebrating women of all ages, sizes, and styles. Our founder, Rosemary, noticed a gap in the market for fashion that was both accessible and aspirational – clothing that made women feel amazing without breaking the bank.</p>
      
      <p>From our headquarters in Midrand, Johannesburg, we carefully curate and design pieces that celebrate the modern African woman. Each piece in our collection is selected or created with intention, ensuring it meets our high standards for quality, comfort, and style.</p>
    `},{id:"our-mission",title:"Our Mission",content:`
      <p>To empower women through fashion by providing:</p>
      
      <ul>
        <li><strong>Quality Pieces:</strong> Carefully selected fabrics and construction that last</li>
        <li><strong>Inclusive Sizing:</strong> Fashion for every body type and size</li>
        <li><strong>Accessible Luxury:</strong> High-end looks at reasonable prices</li>
        <li><strong>Sustainable Practices:</strong> Ethical sourcing and environmental responsibility</li>
        <li><strong>Personal Style:</strong> Pieces that help you express your unique personality</li>
      </ul>
    `},{id:"our-values",title:"Our Values",content:`
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="p-6 bg-rose-50 rounded-lg">
          <h4 class="font-semibold text-rose-800 mb-2">Quality First</h4>
          <p class="text-gray-700">We believe in investing in pieces that will love you back. Every item undergoes rigorous quality checks.</p>
        </div>
        
        <div class="p-6 bg-pink-50 rounded-lg">
          <h4 class="font-semibold text-pink-800 mb-2">Customer-Centric</h4>
          <p class="text-gray-700">Your satisfaction drives everything we do. From design to delivery, you're at the heart of our decisions.</p>
        </div>
        
        <div class="p-6 bg-purple-50 rounded-lg">
          <h4 class="font-semibold text-purple-800 mb-2">Sustainable Fashion</h4>
          <p class="text-gray-700">We're committed to reducing our environmental impact through responsible sourcing and packaging.</p>
        </div>
        
        <div class="p-6 bg-blue-50 rounded-lg">
          <h4 class="font-semibold text-blue-800 mb-2">Authentic Style</h4>
          <p class="text-gray-700">Fashion should reflect who you are, not who you think you should be. We celebrate individuality.</p>
        </div>
      </div>
    `},{id:"our-team",title:"Meet Our Team",content:`
      <p class="mb-8">Behind every great fashion brand is a passionate team of dreamers, creators, and style enthusiasts.</p>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Rosemary Oku" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Rosemary Oku</h4>
          <p class="text-rose-600 font-medium">Founder & CEO</p>
          <p class="text-gray-600 text-sm mt-2">Fashion visionary with 15+ years in luxury retail, bringing dreams to life through sustainable fashion.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="James Chen" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">James Chen</h4>
          <p class="text-rose-600 font-medium">Creative Director</p>
          <p class="text-gray-600 text-sm mt-2">Award-winning designer from Milan Fashion Week, creating pieces that blend elegance with everyday wearability.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Sarah Johnson" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Sarah Johnson</h4>
          <p class="text-rose-600 font-medium">Head of Sustainability</p>
          <p class="text-gray-600 text-sm mt-2">Environmental advocate ensuring our fashion choices contribute to a better world for future generations.</p>
        </div>
      </div>
    `},{id:"our-stats",title:"Our Impact",content:`
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">50K+</div>
          <div class="text-gray-600">Happy Customers</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">25+</div>
          <div class="text-gray-600">Countries Served</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">10+</div>
          <div class="text-gray-600">Years of Excellence</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">4.9</div>
          <div class="text-gray-600">Customer Rating</div>
        </div>
      </div>
    `},{id:"contact-info",title:"Get in Touch",content:`
      <p class="mb-6">We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share your feedback, we're here to help.</p>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Email Us</h5>
            <p class="text-gray-600 text-sm">hello@rosemamaclothing.store</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Call Us</h5>
            <p class="text-gray-600 text-sm">+27 735 514 705</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Visit Us</h5>
            <p class="text-gray-600 text-sm">New Road, Midrand<br>Johannesburg, South Africa</p>
          </div>
        </div>
      </div>
    `}];function DT({onNavigate:t}){return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(tF,{pageType:"about",defaultContent:Tbe,className:"space-y-12"})})}const Ibe=[{id:"introduction",title:"Introduction and POPIA Compliance",content:`
      <p>Rosémama Clothing is committed to protecting your privacy and personal information in accordance with the Protection of Personal Information Act (POPIA), Act 4 of 2013, and other applicable South African privacy laws.</p>
      
      <p><strong>Responsible Party:</strong><br>
      Rosémama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
      
      <p>This policy explains how we collect, use, store, and protect your personal information when you visit our website or use our services. <em>Last updated: September 12, 2025</em></p>
    `},{id:"information-collection",title:"Information We Collect",content:`
      <p>We collect personal information necessary to provide our services. This includes information you provide directly and information collected automatically.</p>
      
      <h4>Personal Information includes:</h4>
      <ul>
        <li><strong>Identity Information:</strong> Name, surname, ID number (when required)</li>
        <li><strong>Contact Information:</strong> Email address, phone number, postal address</li>
        <li><strong>Financial Information:</strong> Payment details, billing address</li>
        <li><strong>Account Information:</strong> Username, password, purchase history</li>
        <li><strong>Communication Records:</strong> Customer service interactions, feedback</li>
        <li><strong>Technical Information:</strong> IP address, browser type, device information</li>
      </ul>
      
      <h4>Lawful Basis for Processing:</h4>
      <p>We process your personal information based on:</p>
      <ul>
        <li>Contractual necessity (to fulfill orders and provide services)</li>
        <li>Legal compliance (tax records, fraud prevention)</li>
        <li>Legitimate interests (improving services, security)</li>
        <li>Consent (marketing communications, optional features)</li>
      </ul>
    `},{id:"information-use",title:"How We Use Your Information",content:`
      <p>Your personal information is used to provide and improve our services:</p>
      
      <ul>
        <li><strong>Order Processing:</strong> To process and fulfill your orders</li>
        <li><strong>Customer Service:</strong> To respond to inquiries and provide support</li>
        <li><strong>Account Management:</strong> To maintain your account and preferences</li>
        <li><strong>Payment Processing:</strong> To process payments securely</li>
        <li><strong>Marketing Communications:</strong> To send newsletters and promotions (with consent)</li>
        <li><strong>Website Improvement:</strong> To analyze usage and enhance user experience</li>
        <li><strong>Legal Compliance:</strong> To comply with tax, accounting, and legal requirements</li>
        <li><strong>Fraud Prevention:</strong> To protect against fraudulent activities</li>
      </ul>
    `},{id:"information-sharing",title:"Information Sharing and Disclosure",content:`
      <p>We do not sell your personal information to third parties. We may share information with:</p>
      
      <ul>
        <li><strong>Service Providers:</strong> Payment processors, shipping companies, email service providers</li>
        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights</li>
        <li><strong>Business Transfers:</strong> In the event of a merger or acquisition</li>
        <li><strong>Consent-Based Sharing:</strong> When you explicitly consent to sharing</li>
      </ul>
      
      <p>All third-party service providers are contractually bound to protect your information and use it only for specified purposes.</p>
    `},{id:"data-security",title:"Data Security and Retention",content:`
      <p>We implement appropriate technical and organizational measures to protect your personal information:</p>
      
      <ul>
        <li><strong>Encryption:</strong> Data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Limited access on a need-to-know basis</li>
        <li><strong>Regular Audits:</strong> Security assessments and monitoring</li>
        <li><strong>Staff Training:</strong> Regular privacy and security training</li>
      </ul>
      
      <h4>Data Retention:</h4>
      <p>We retain personal information for as long as necessary to:</p>
      <ul>
        <li>Fulfill the purposes for which it was collected</li>
        <li>Comply with legal obligations (e.g., tax records for 5 years)</li>
        <li>Resolve disputes and enforce agreements</li>
      </ul>
    `},{id:"your-rights",title:"Your Rights Under POPIA",content:`
      <p>Under the Protection of Personal Information Act, you have the right to:</p>
      
      <ul>
        <li><strong>Access:</strong> Request copies of your personal information</li>
        <li><strong>Correction:</strong> Update or correct inaccurate information</li>
        <li><strong>Deletion:</strong> Request deletion of your personal information</li>
        <li><strong>Objection:</strong> Object to processing for direct marketing</li>
        <li><strong>Data Portability:</strong> Receive your data in a structured format</li>
        <li><strong>Withdraw Consent:</strong> Withdraw consent for processing</li>
      </ul>
      
      <p>To exercise these rights, contact us at <strong>hello@rosemamaclothing.store</strong> or <strong>+27 735 514 705</strong>.</p>
      
      <p>We will respond to your request within 30 days. If you're not satisfied with our response, you can lodge a complaint with the Information Regulator of South Africa.</p>
    `},{id:"cookies-tracking",title:"Cookies and Tracking Technologies",content:`
      <p>We use cookies and similar technologies to enhance your browsing experience:</p>
      
      <ul>
        <li><strong>Essential Cookies:</strong> Required for website functionality</li>
        <li><strong>Performance Cookies:</strong> Help us analyze website usage</li>
        <li><strong>Functional Cookies:</strong> Remember your preferences</li>
        <li><strong>Marketing Cookies:</strong> Deliver relevant advertisements (with consent)</li>
      </ul>
      
      <p>You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect website functionality.</p>
    `},{id:"international-transfers",title:"International Data Transfers",content:`
      <p>Some of our service providers may be located outside South Africa. When we transfer personal information internationally, we ensure:</p>
      
      <ul>
        <li>The receiving country has adequate data protection laws, or</li>
        <li>Appropriate safeguards are in place (e.g., standard contractual clauses)</li>
        <li>We have obtained your explicit consent for the transfer</li>
      </ul>
    `},{id:"children-privacy",title:"Children's Privacy",content:`
      <p>Our services are not intended for children under 18 years old. We do not knowingly collect personal information from children without parental consent.</p>
      
      <p>If you believe we have collected information from a child without proper consent, please contact us immediately.</p>
    `},{id:"policy-updates",title:"Policy Updates",content:`
      <p>We may update this privacy policy from time to time to reflect changes in our practices or legal requirements. We will:</p>
      
      <ul>
        <li>Post the updated policy on our website</li>
        <li>Update the "last updated" date</li>
        <li>Notify you of material changes via email or website notice</li>
      </ul>
      
      <p>Your continued use of our services after policy updates constitutes acceptance of the changes.</p>
    `},{id:"contact-information",title:"Contact Information",content:`
      <p>For any privacy-related questions, concerns, or requests, please contact us:</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mt-4">
        <h5 class="font-semibold mb-3">Rosémama Clothing - Privacy Office</h5>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
          </div>
          <div>
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
          </div>
        </div>
        
        <p class="mt-4 text-sm text-gray-600">
          <strong>Information Regulator:</strong> If you're not satisfied with our response to your privacy request, 
          you can contact the Information Regulator of South Africa at <em>inforeg@justice.gov.za</em>
        </p>
      </div>
    `}],Rbe=[{id:"introduction",title:"Introduction",content:`
      <p>Welcome to Rosémama Clothing. These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our services, you agree to be bound by these Terms.</p>
      
      <p><em>Last updated: September 12, 2025</em></p>
      
      <p><strong>Company Information:</strong><br>
      Rosémama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
    `},{id:"acceptance-terms",title:"Acceptance of Terms",content:`
      <p>By accessing our website, creating an account, or making a purchase, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.</p>
      
      <p>If you do not agree with these Terms, please do not use our services.</p>
    `},{id:"use-of-services",title:"Use of Our Services",content:`
      <h4>Permitted Use</h4>
      <p>You may use our services for lawful purposes only. You agree not to:</p>
      
      <ul>
        <li>Violate any applicable laws or regulations</li>
        <li>Infringe on intellectual property rights</li>
        <li>Transmit harmful or malicious code</li>
        <li>Engage in fraudulent activities</li>
        <li>Harass other users or our staff</li>
        <li>Attempt to gain unauthorized access to our systems</li>
      </ul>
      
      <h4>Account Responsibility</h4>
      <p>You are responsible for:</p>
      <ul>
        <li>Maintaining the confidentiality of your account credentials</li>
        <li>All activities under your account</li>
        <li>Providing accurate and current information</li>
        <li>Notifying us immediately of any unauthorized use</li>
      </ul>
    `}],Lbe=[{id:"shipping-overview",title:"Shipping Information",content:`
      <p>We're committed to getting your Rosémama pieces to you quickly and safely. Here's everything you need to know about our shipping policies.</p>
    `},{id:"shipping-areas",title:"Shipping Areas",content:`
      <p>We currently ship to:</p>
      
      <ul>
        <li><strong>South Africa:</strong> Nationwide delivery available</li>
        <li><strong>International:</strong> Selected countries (contact us for availability)</li>
      </ul>
      
      <p>Shipping costs and delivery times vary by location and order value.</p>
    `},{id:"delivery-times",title:"Delivery Times",content:`
      <h4>South Africa</h4>
      <ul>
        <li><strong>Major Cities:</strong> 2-3 business days</li>
        <li><strong>Other Areas:</strong> 3-5 business days</li>
        <li><strong>Rural Areas:</strong> 5-7 business days</li>
      </ul>
      
      <h4>International</h4>
      <ul>
        <li><strong>Regional:</strong> 5-10 business days</li>
        <li><strong>Global:</strong> 10-15 business days</li>
      </ul>
      
      <p><em>Delivery times are estimates and may vary during peak seasons or due to unforeseen circumstances.</em></p>
    `}],Mbe=[{id:"returns-overview",title:"Returns & Exchanges",content:`
      <p>We want you to love your Rosémama pieces. If you're not completely satisfied, we offer a hassle-free return and exchange policy.</p>
    `},{id:"return-policy",title:"Return Policy",content:`
      <ul>
        <li><strong>Timeframe:</strong> 30 days from delivery date</li>
        <li><strong>Condition:</strong> Items must be unworn, unwashed, and with original tags</li>
        <li><strong>Packaging:</strong> Original packaging preferred but not required</li>
        <li><strong>Proof of Purchase:</strong> Order number or receipt required</li>
      </ul>
      
      <h4>Non-Returnable Items</h4>
      <ul>
        <li>Intimate apparel and swimwear</li>
        <li>Sale items marked as final sale</li>
        <li>Custom or personalized items</li>
        <li>Items damaged by normal wear</li>
      </ul>
    `}],Dbe=[{id:"help-overview",title:"Help Center",content:`
      <p>Need assistance? We're here to help! Find answers to common questions or contact our support team.</p>
    `},{id:"faq",title:"Frequently Asked Questions",content:`
      <h4>Ordering</h4>
      <p><strong>Q: How do I place an order?</strong><br>
      A: Browse our catalog, add items to cart, and proceed to checkout. Create an account or checkout as a guest.</p>
      
      <p><strong>Q: Can I modify my order after placing it?</strong><br>
      A: Contact us within 2 hours of placing your order. We'll do our best to accommodate changes.</p>
      
      <h4>Sizing</h4>
      <p><strong>Q: How do I find my size?</strong><br>
      A: Check our detailed size guide available on each product page. When in doubt, contact us for personalized sizing advice.</p>
      
      <h4>Payment</h4>
      <p><strong>Q: What payment methods do you accept?</strong><br>
      A: We accept all major credit cards, EFT, and mobile payments.</p>
    `}],$be=[{id:"contact-overview",title:"Get in Touch",content:`
      <p>We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share feedback, our team is here to help.</p>
    `},{id:"contact-methods",title:"Contact Information",content:`
      <div class="grid md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h4 class="font-semibold">Customer Service</h4>
          <div class="space-y-2">
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
            <p><strong>Hours:</strong> Monday - Friday, 9AM - 5PM (SAST)</p>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold">Visit Our Store</h4>
          <div class="space-y-2">
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
            <p><strong>Store Hours:</strong> By appointment only</p>
          </div>
        </div>
      </div>
    `},{id:"response-times",title:"Response Times",content:`
      <ul>
        <li><strong>Email:</strong> We respond within 24 hours</li>
        <li><strong>Phone:</strong> Immediate assistance during business hours</li>
        <li><strong>Social Media:</strong> Follow us for updates and quick responses</li>
      </ul>
    `}],Fbe={privacy:{content:Ibe,pageType:"privacy"},terms:{content:Rbe,pageType:"terms"},shipping:{content:Lbe,pageType:"shipping"},returns:{content:Mbe,pageType:"returns"},help:{content:Dbe,pageType:"help"},contact:{content:$be,pageType:"contact"}};function ou({type:t}){const{content:e,pageType:r}=Fbe[t];return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(tF,{pageType:r,defaultContent:e,className:"space-y-8"})})}function Bbe({onBack:t,initialPage:e="about"}){const[r,n]=S.useState(e),a=c=>{n(c)},i=()=>{switch(r){case"about":return"About Us";case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"shipping":return"Shipping Policy";case"returns":return"Return Policy";case"help":return"Help Center";case"contact":return"Contact Us";default:return"Information Center"}},s=()=>{switch(r){case"about":return"Learn about our story, values, and team";case"privacy":return"How we protect and use your personal information";case"terms":return"Terms and conditions for using our services";case"shipping":return"Shipping methods, costs, and delivery information";case"returns":return"Return and exchange policies and procedures";case"help":return"Frequently asked questions and support resources";case"contact":return"Get in touch with our customer service team";default:return"Your one-stop destination for helpful information"}},l=()=>{switch(r){case"about":return o.jsx(DT,{onNavigate:a});case"privacy":return o.jsx(ou,{type:"privacy"});case"terms":return o.jsx(ou,{type:"terms"});case"shipping":return o.jsx(ou,{type:"shipping"});case"returns":return o.jsx(ou,{type:"returns"});case"help":return o.jsx(ou,{type:"help"});case"contact":return o.jsx(ou,{type:"contact"});default:return o.jsx(DT,{onNavigate:a})}};return o.jsx(Obe,{title:i(),description:s(),onBack:t,onNavigate:a,children:l()})}function YN({isOpen:t,onClose:e,initialSubject:r}){const{user:n}=Cn(),[a,i]=S.useState(null),[s,l]=S.useState(""),[c,u]=S.useState(!1),d=S.useRef(null),f=S.useRef(null),{loading:p,getOrCreateConversation:h}=X9((n==null?void 0:n.id)||"",!1),{messages:g,loading:m,sendMessage:v,markAsRead:x}=Z9(a);S.useEffect(()=>{const _=N=>{N.key==="Escape"&&t&&e()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t,e]),S.useEffect(()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})},[g]),S.useEffect(()=>{a&&(n!=null&&n.id)&&g.length>0&&x(n.id)},[a,n==null?void 0:n.id,g.length,x]),S.useEffect(()=>{t&&(n!=null&&n.id)&&!a&&j()},[t,n==null?void 0:n.id,a]);const j=async()=>{if(n!=null&&n.id){u(!0);try{const _=await h(r||"General Inquiry");_&&i(_.id)}catch(_){console.error("Error initializing chat:",_)}finally{u(!1)}}},w=async _=>{if(_.preventDefault(),!s.trim()||!a||!(n!=null&&n.id))return;const N=s.trim();l("");try{await v(n.id,N)}catch(A){console.error("Error sending message:",A),l(N)}};return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e,"aria-hidden":"true"}),o.jsx("div",{ref:f,className:"modal-floating",role:"dialog","aria-label":"Customer support chat","aria-modal":"true","aria-labelledby":"chat-support-title",children:o.jsxs("div",{className:"card-base text-neutral-900 dark:text-neutral-100",children:[o.jsxs("div",{id:"chat-support-title",className:"flex items-center justify-between px-4 py-3 bg-neutral-900 text-white sm:rounded-t-2xl border-b border-neutral-800 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-neutral-800",children:o.jsx(Ka,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm",children:"Chat Support"}),o.jsxs("div",{className:"flex items-center gap-1","aria-live":"polite",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse","aria-hidden":!0}),o.jsx("p",{className:"text-[11px] text-neutral-300",children:"Online"})]})]})]}),o.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-800/60 transition-colors","aria-label":"Close chat",children:o.jsx(Gs,{className:"h-4 w-4 text-neutral-200"})})]}),c&&o.jsx("div",{className:"px-4 py-2 bg-blue-50 border-b border-blue-100 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-xs",children:"Connecting..."})]})}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 py-3 bg-gradient-to-br from-neutral-100 via-neutral-50 to-purple-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-800",children:[p||m?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-neutral-900 dark:border-neutral-100 mx-auto mb-2"}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"Loading chat..."})]})}):g.length===0?o.jsxs("div",{className:"text-center mt-6",children:[o.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:o.jsx(Ka,{className:"h-6 w-6 text-neutral-600 dark:text-neutral-300"})}),o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100 mb-1",children:"Welcome to Rosémama!"}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"How can we help you today?"})]}):g.map(_=>o.jsx(qbe,{content:_.content,isOwnMessage:_.sender_id===(n==null?void 0:n.id),timestamp:_.created_at,isRead:_.is_read},_.id)),o.jsx("div",{ref:d})]}),o.jsx("div",{className:"px-4 py-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex-shrink-0",children:o.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[o.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),placeholder:"Type a message...",className:"flex-1 min-w-0 px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-700 rounded-full focus:outline-none focus:ring-2 focus:ring-neutral-900 dark:focus:ring-neutral-100 focus:border-transparent bg-neutral-50 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500",disabled:!a||c,"aria-label":"Type your message"}),o.jsx("button",{type:"submit",disabled:!s.trim()||!a||c,className:"p-2 rounded-full bg-neutral-900 text-white hover:opacity-90 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0","aria-label":"Send message",children:o.jsx(dI,{className:"h-4 w-4"})})]})})]})})]}):null}function qbe({content:t,isOwnMessage:e,timestamp:r,isRead:n}){return o.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-2`,children:o.jsxs("div",{className:`max-w-[85%] ${e?"order-last":"order-first"}`,children:[o.jsx("div",{className:e?"px-3 py-2 rounded-2xl shadow-sm bg-neutral-900 text-white border border-neutral-800 rounded-br-md":"px-3 py-2 rounded-2xl shadow-sm bg-white/70 backdrop-blur-sm text-neutral-900 dark:bg-neutral-800/90 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700 rounded-bl-md",children:o.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:t})}),o.jsxs("div",{className:`flex items-center gap-1 mt-1 text-[11px] ${e?"justify-end text-neutral-500 dark:text-neutral-400":"justify-start text-neutral-500 dark:text-neutral-400"}`,children:[o.jsx("span",{children:new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e&&o.jsx("span",{className:`${n?"text-green-500":"text-neutral-400 dark:text-neutral-600"} ml-1`,children:n?"✓✓":"✓"})]})]})})}function Ube({className:t="",showLabel:e=!1}){const{user:r}=Cn(),[n,a]=S.useState(!1),{unreadCount:i,loading:s}=J9((r==null?void 0:r.id)||null),l=()=>{a(!0)},c=()=>{a(!1)};return r?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:l,className:`relative flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors ${t}`,"aria-label":"Open chat support",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(Ka,{className:"h-6 w-6 text-gray-600 group-hover:text-rose-500 transition-colors"}),!s&&i>0&&o.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-pulse",children:i>99?"99+":i}),s&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-gray-300 rounded-full h-3 w-3 animate-pulse"})]}),e&&o.jsx("span",{className:"text-sm text-gray-600 group-hover:text-rose-500 transition-colors",children:"Support"})]}),o.jsx(YN,{isOpen:n,onClose:c,initialSubject:"Support Request"})]}):null}function o2({text:t="Chat with us",className:e="",variant:r="primary",subject:n="Contact Inquiry"}){const{user:a}=Cn(),[i,s]=S.useState(!1),l=()=>{s(!0)},c=()=>{s(!1)},u="flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",d={primary:"bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:from-rose-600 hover:to-pink-700 hover:shadow-xl",secondary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:from-blue-600 hover:to-purple-700 hover:shadow-xl",outline:"border-2 border-rose-500 text-rose-500 hover:bg-rose-500 hover:text-white"};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:l,className:`${u} ${d[r]} ${e}`,"aria-label":"Start chat conversation",children:[o.jsx(Ka,{className:"h-5 w-5"}),o.jsx("span",{children:t})]}),o.jsx(YN,{isOpen:i,onClose:c,initialSubject:n})]})}function zbe(){const{user:t}=Cn(),[e,r]=S.useState(!1),{unreadCount:n,loading:a}=J9((t==null?void 0:t.id)||null);return t?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-rose-500 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-300 transform hover:scale-110 z-40","aria-label":"Open chat support",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ka,{className:"h-6 w-6"}),!a&&n>0&&o.jsx("div",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-bounce",children:n>99?"99+":n})]})}),o.jsx(YN,{isOpen:e,onClose:()=>r(!1),initialSubject:"Support Request"})]}):null}function Wbe({onInfoClick:t}){const e=r=>{t&&t(r)};return o.jsx("footer",{className:"bg-gradient-to-r from-slate-900 to-slate-800 text-white mt-auto",children:o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uo,{className:"h-6 w-6 text-rose-400"}),o.jsx("h3",{className:"text-xl font-bold",children:"Rosémama"})]}),o.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"Fashion that inspires, quality that endures. Creating beautiful pieces for the modern woman since 2014."}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[o.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),o.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.747-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})}),o.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Shop"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[o.jsx("li",{children:o.jsx("button",{className:"hover:text-white transition-colors",children:"New Arrivals"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-white transition-colors",children:"Women"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-white transition-colors",children:"Men"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-white transition-colors",children:"Sale"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-white transition-colors",children:"Size Guide"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Information"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("about"),className:"hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Uo,{className:"h-3 w-3"}),"About Us"]})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("shipping"),className:"hover:text-white transition-colors",children:"Shipping & Returns"})}),o.jsx("li",{children:o.jsx(o2,{text:"Live Chat Support",variant:"outline",className:"text-sm py-2 px-3 border-slate-400 text-slate-300 hover:bg-slate-700 hover:text-white hover:border-white",subject:"FAQ & Support Inquiry"})}),o.jsx("li",{children:o.jsx(o2,{text:"Contact Us",variant:"primary",className:"text-sm py-2 px-3",subject:"General Contact Inquiry"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Legal"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Us,{className:"h-3 w-3"}),"Privacy Policy"]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Vs,{className:"h-3 w-3"}),"Terms of Service"]})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("returns"),className:"hover:text-white transition-colors",children:"Return Policy"})})]}),o.jsxs("div",{className:"pt-4",children:[o.jsx("h5",{className:"text-sm font-medium mb-2",children:"Customer Reviews"}),o.jsx(D_,{widgetType:"trustbox",height:"120px",className:"w-full"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Contact"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[o.jsx(Mf,{className:"h-4 w-4"}),"hello@rosemamaclothing.store"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[o.jsx(E_,{className:"h-4 w-4"}),"+27 735 514 705"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[o.jsx(C_,{className:"h-4 w-4"}),"Midrand, South Africa"]})]})]})]}),o.jsxs("div",{className:"border-t border-slate-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-xs text-slate-400",children:"© 2024 Rosémama Clothing. All rights reserved."}),o.jsxs("div",{className:"flex gap-6 text-xs text-slate-400",children:[o.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors",children:"Privacy"}),o.jsx("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors",children:"Terms"}),o.jsx(o2,{text:"Support",variant:"outline",className:"text-xs py-1 px-2 border-slate-400 text-slate-400 hover:bg-slate-700 hover:text-white hover:border-white",subject:"Footer Support Request"})]})]})]})})}const Hbe=()=>{const[t,e]=S.useState([]);return{cart:t,addToCart:(c,u,d,f)=>{e(p=>p.find(g=>g.productId===c.id&&g.size===u&&g.color===d)?p.map(g=>g.productId===c.id&&g.size===u&&g.color===d?{...g,quantity:g.quantity+f}:g):[...p,{productId:c.id,product:c,size:u,color:d,quantity:f}])},removeFromCart:(c,u,d)=>{e(f=>f.filter(p=>!(p.productId===c&&p.size===u&&p.color===d)))},updateCartQuantity:(c,u,d,f)=>{e(p=>f<=0?p.filter(h=>!(h.productId===c&&h.size===u&&h.color===d)):p.map(h=>h.productId===c&&h.size===u&&h.color===d?{...h,quantity:f}:h))},clearCart:()=>{e([])},getTotalItems:()=>t.reduce((c,u)=>c+u.quantity,0),getTotalPrice:()=>t.reduce((c,u)=>c+u.product.price*u.quantity,0)}},rF=S.createContext(void 0),Vbe=({children:t})=>{const[e,r]=S.useState("light");S.useEffect(()=>{const a=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=a||(i?"dark":"light");r(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const n=()=>{const a=e==="light"?"dark":"light";r(a),document.documentElement.classList.toggle("dark",a==="dark"),localStorage.setItem("theme",a)};return o.jsx(rF.Provider,{value:{theme:e,toggleTheme:n},children:t})},Gbe=()=>{const t=K.useContext(rF);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function Ybe(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var KN="ScrollArea",[nF,hwe]=Mn(KN),[Kbe,ri]=nF(KN),aF=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=t,[l,c]=S.useState(null),[u,d]=S.useState(null),[f,p]=S.useState(null),[h,g]=S.useState(null),[m,v]=S.useState(null),[x,j]=S.useState(0),[w,_]=S.useState(0),[N,A]=S.useState(!1),[k,E]=S.useState(!1),I=Bt(e,C=>c(C)),L=hd(a);return o.jsx(Kbe,{scope:r,type:n,dir:L,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:j,onCornerHeightChange:_,children:o.jsx(at.div,{dir:L,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});aF.displayName=KN;var iF="ScrollAreaViewport",sF=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,s=ri(iF,r),l=S.useRef(null),c=Bt(e,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(at.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});sF.displayName=iF;var bs="ScrollAreaScrollbar",oF=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ri(bs,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=t.orientation==="horizontal";return S.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(Xbe,{...n,ref:e,forceMount:r}):a.type==="scroll"?o.jsx(Zbe,{...n,ref:e,forceMount:r}):a.type==="auto"?o.jsx(lF,{...n,ref:e,forceMount:r}):a.type==="always"?o.jsx(XN,{...n,ref:e}):null});oF.displayName=bs;var Xbe=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ri(bs,t.__scopeScrollArea),[i,s]=S.useState(!1);return S.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(da,{present:r||i,children:o.jsx(lF,{"data-state":i?"visible":"hidden",...n,ref:e})})}),Zbe=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ri(bs,t.__scopeScrollArea),i=t.orientation==="horizontal",s=j0(()=>c("SCROLL_END"),100),[l,c]=Ybe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),S.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(c("SCROLL"),s()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,s]),o.jsx(da,{present:r||l!=="hidden",children:o.jsx(XN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ut(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ut(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),lF=S.forwardRef((t,e)=>{const r=ri(bs,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,s]=S.useState(!1),l=t.orientation==="horizontal",c=j0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return ld(r.viewport,c),ld(r.content,c),o.jsx(da,{present:n||i,children:o.jsx(XN,{"data-state":i?"visible":"hidden",...a,ref:e})})}),XN=S.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=ri(bs,t.__scopeScrollArea),i=S.useRef(null),s=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function f(p,h){return n1e(p,s.current,l,h)}return r==="horizontal"?o.jsx(Jbe,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=$T(p,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):r==="vertical"?o.jsx(Qbe,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=$T(p,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),Jbe=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=ri(bs,t.__scopeScrollArea),[s,l]=S.useState(),c=S.useRef(null),u=Bt(e,c,i.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(uF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),mF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wg(s.paddingLeft),paddingEnd:Wg(s.paddingRight)}})}})}),Qbe=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=ri(bs,t.__scopeScrollArea),[s,l]=S.useState(),c=S.useRef(null),u=Bt(e,c,i.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(uF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),mF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wg(s.paddingTop),paddingEnd:Wg(s.paddingBottom)}})}})}),[e1e,cF]=nF(bs),uF=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=ri(bs,r),[g,m]=S.useState(null),v=Bt(e,I=>m(I)),x=S.useRef(null),j=S.useRef(""),w=h.viewport,_=n.content-n.viewport,N=Wn(d),A=Wn(c),k=j0(f,10);function E(I){if(x.current){const L=I.clientX-x.current.left,C=I.clientY-x.current.top;u({x:L,y:C})}}return S.useEffect(()=>{const I=L=>{const C=L.target;(g==null?void 0:g.contains(C))&&N(L,_)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[w,g,_,N]),S.useEffect(A,[n,A]),ld(g,k),ld(h.content,k),o.jsx(e1e,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Wn(i),onThumbPointerUp:Wn(s),onThumbPositionChange:A,onThumbPointerDown:Wn(l),children:o.jsx(at.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:ut(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:ut(t.onPointerMove,E),onPointerUp:ut(t.onPointerUp,I=>{const L=I.target;L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=j.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),zg="ScrollAreaThumb",dF=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=cF(zg,t.__scopeScrollArea);return o.jsx(da,{present:r||a.hasThumb,children:o.jsx(t1e,{ref:e,...n})})}),t1e=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=ri(zg,r),s=cF(zg,r),{onThumbPositionChange:l}=s,c=Bt(e,f=>s.onThumbChange(f)),u=S.useRef(void 0),d=j0(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const h=a1e(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(at.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ut(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,m=f.clientY-h.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:ut(t.onPointerUp,s.onThumbPointerUp)})});dF.displayName=zg;var ZN="ScrollAreaCorner",fF=S.forwardRef((t,e)=>{const r=ri(ZN,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(r1e,{...t,ref:e}):null});fF.displayName=ZN;var r1e=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=ri(ZN,r),[i,s]=S.useState(0),[l,c]=S.useState(0),u=!!(i&&l);return ld(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),ld(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(at.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Wg(t){return t?parseInt(t,10):0}function hF(t,e){const r=t/e;return isNaN(r)?0:r}function _0(t){const e=hF(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function n1e(t,e,r,n="ltr"){const a=_0(r),i=a/2,s=e||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return pF([c,u],f)(t)}function $T(t,e,r="ltr"){const n=_0(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,s=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=m_(t,c);return pF([0,s],[0,l])(u)}function pF(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function mF(t,e){return t>0&&t<e}var a1e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&e(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function j0(t,e){const r=Wn(t),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ld(t,e){const r=Wn(e);nn(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var i1e=aF,s1e=sF,o1e=fF;function l1e({className:t,children:e,...r}){return o.jsxs(i1e,{"data-slot":"scroll-area",className:qe("relative",t),...r,children:[o.jsx(s1e,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),o.jsx(c1e,{}),o.jsx(o1e,{})]})}function c1e({className:t,orientation:e="vertical",...r}){return o.jsx(oF,{"data-slot":"scroll-area-scrollbar",orientation:e,className:qe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:o.jsx(dF,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}class u1e{async createNotification(e){try{return this.createNotificationFallback(e)}catch(r){return console.error("Error creating notification:",r),null}}async createNotificationFallback(e){try{const r=crypto.randomUUID(),n={id:r,user_id:e.user_id,type:e.type,category:e.category,title:e.title,message:e.message,data:e.data||{},priority:e.priority||1,action_url:e.action_url,action_text:e.action_text,expires_at:e.expires_at,created_at:new Date().toISOString(),read_at:null};try{const{error:a}=await Oe.from("notifications").insert(n);return a&&(console.warn("Notifications table not available yet. Using localStorage fallback:",a.message),this.storeNotificationLocally(n)),r}catch(a){return console.warn("Database not ready, using localStorage:",a),this.storeNotificationLocally(n),r}}catch(r){return console.error("Error in fallback notification creation:",r),null}}storeNotificationLocally(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r);n.push(e),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("temp_notifications",JSON.stringify(n)),console.log("Notification stored locally (temporary):",e.title)}catch(r){console.error("Error storing notification locally:",r)}}async getUserNotifications(e,r=20,n=0,a=!1){try{const i=window.location.hostname==="localhost"||window.location.hostname.includes("localhost"),{data:s,error:l}=await Oe.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);if(l)return i&&!sessionStorage.getItem("notifications_fallback_logged")&&(console.info("ℹ️ Notifications: Using localStorage fallback (database table not yet created)"),sessionStorage.setItem("notifications_fallback_logged","true")),this.getNotificationsFromLocalStorage(e,r,n,a);let c=s||[];return a&&(c=c.filter(u=>!u.read_at)),c}catch{return this.getNotificationsFromLocalStorage(e,r,n,a)}}getNotificationsFromLocalStorage(e,r,n,a){try{const i=localStorage.getItem("temp_notifications")||"[]";let s=JSON.parse(i);return s=s.filter(l=>l.user_id===e),a&&(s=s.filter(l=>!l.read_at)),s.sort((l,c)=>new Date(c.created_at).getTime()-new Date(l.created_at).getTime()),s.slice(n,n+r)}catch(i){return console.error("Error getting notifications from localStorage:",i),[]}}async getUnreadCount(e){try{const{data:r,error:n}=await Oe.from("notifications").select("id").eq("user_id",e).eq("read_at",null);return n?this.getNotificationsFromLocalStorage(e,1e3,0,!0).length:(r==null?void 0:r.length)||0}catch{return 0}}async markAsRead(e,r){try{const{error:n}=await Oe.from("notifications").update({read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r);return n&&(console.warn("Using localStorage for mark as read:",n.message),this.markAsReadInLocalStorage(e)),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}markAsReadInLocalStorage(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r),a=n.find(i=>i.id===e);a&&(a.read_at=new Date().toISOString(),localStorage.setItem("temp_notifications",JSON.stringify(n)))}catch(r){console.error("Error marking notification as read in localStorage:",r)}}async getNotificationPreferences(e){try{const{data:r,error:n}=await Oe.from("notification_preferences").select("*").eq("user_id",e).maybeSingle();return n?(console.warn("Notification preferences table not available, using defaults:",n.message),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):r||{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){return console.error("Error fetching notification preferences:",r),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}async updateNotificationPreferences(e,r){try{const{error:n}=await Oe.from("notification_preferences").upsert({user_id:e,...r,updated_at:new Date().toISOString()});if(n){console.warn("Notification preferences table not available:",n.message);const a=`notification_preferences_${e}`;return localStorage.setItem(a,JSON.stringify({user_id:e,...r})),!0}return!0}catch(n){return console.error("Error updating notification preferences:",n),!1}}async sendSecurityAlert(e,r,n,a){try{return this.createNotification({user_id:e,type:"security",category:r,title:"Security Alert",message:n,priority:3,data:{alert_type:r,ip_address:a,timestamp:new Date().toISOString()}})}catch(i){return console.error("Error sending security alert:",i),null}}async sendSystemNotification(e,r,n=1,a){try{return console.log("System notification (development mode):",{title:e,message:r,priority:n}),1}catch(i){return console.error("Error sending system notification:",i),0}}subscribeToNotifications(e,r,n){const a=Oe.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},i=>{console.log("New notification received:",i),r(i.new)}).subscribe(i=>{i==="SUBSCRIBED"?(window.location.hostname==="localhost"||window.location.hostname.includes("localhost"))&&!sessionStorage.getItem("notifications_subscription_logged")&&(console.log("📧 Notifications: Real-time subscription active for user:",e),sessionStorage.setItem("notifications_subscription_logged","true")):i==="CHANNEL_ERROR"&&n&&n(i)});return()=>{Oe.removeChannel(a)}}async requestPushPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showPushNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted"&&!await this.requestPushPermission())return!1;try{const n=new Notification(e,{icon:r.icon||"/images/placeholder-product.svg",badge:r.badge||"/images/placeholder-product.svg",body:r.body,tag:r.tag,data:r.data,requireInteraction:!0,...r});return n.onclick=a=>{var i;a.preventDefault(),window.focus(),(i=r.data)!=null&&i.url&&(window.location.href=r.data.url),n.close()},!0}catch(n){return console.error("Error showing push notification:",n),!1}}async cleanupOldNotifications(){return console.log("Cleanup old notifications (development mode)"),0}}const Ds=new u1e,d1e={email:Xg,push:Ml,system:I_,order:Nh,security:Jg},f1e={1:"bg-blue-500",2:"bg-yellow-500",3:"bg-red-500"};function h1e({className:t}){const{user:e}=Cn(),[r,n]=S.useState([]),[a,i]=S.useState(0),[s,l]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState("all"),[p,h]=S.useState(0),[g,m]=S.useState(!0),[v,x]=S.useState(!1),j=S.useCallback(async(C=!1)=>{if(!(!(e!=null&&e.id)||c)){u(!0);try{const O=C?0:p,R=d==="unread",M=await Ds.getUserNotifications(e.id,20,O*20,R);C?(n(M),h(0)):n(W=>[...W,...M]),m(M.length===20),h(O+1)}catch(O){console.error("Error loading notifications:",O),ke.error("Failed to load notifications")}finally{u(!1)}}},[e==null?void 0:e.id,p,d,c]),w=S.useCallback(async()=>{if(e!=null&&e.id)try{const C=await Ds.getUnreadCount(e.id);i(C)}catch(C){console.error("Error loading unread count:",C)}},[e==null?void 0:e.id]),_=S.useCallback(async()=>{if(e!=null&&e.id)try{const C=await Ds.getNotificationPreferences(e.id);l(C)}catch(C){console.error("Error loading preferences:",C)}},[e==null?void 0:e.id]),N=async C=>{if(e!=null&&e.id)try{await Ds.markAsRead(C,e.id)&&(n(R=>R.map(M=>M.id===C?{...M,read_at:new Date().toISOString()}:M)),i(R=>Math.max(0,R-1)),ke.success("Notification marked as read"))}catch(O){console.error("Error marking notification as read:",O),ke.error("Failed to mark notification as read")}},A=async()=>{if(e!=null&&e.id)try{const O=r.filter(R=>!R.read_at).map(R=>Ds.markAsRead(R.id,e.id));await Promise.all(O),n(R=>R.map(M=>({...M,read_at:M.read_at||new Date().toISOString()}))),i(0),ke.success("All notifications marked as read")}catch(C){console.error("Error marking all as read:",C),ke.error("Failed to mark all notifications as read")}},k=async(C,O)=>{if(!(!(e!=null&&e.id)||!s))try{const R={...s,[C]:O};await Ds.updateNotificationPreferences(e.id,{[C]:O})&&(l(R),ke.success("Notification preferences updated"))}catch(R){console.error("Error updating preferences:",R),ke.error("Failed to update preferences")}},E=async()=>{try{await Ds.requestPushPermission()?(ke.success("Push notifications enabled"),k("push_notifications",!0)):(ke.error("Push notifications denied"),k("push_notifications",!1))}catch(C){console.error("Error requesting push permission:",C),ke.error("Failed to request push permission")}},I=r.filter(C=>{switch(d){case"unread":return!C.read_at;case"system":return C.type==="system";case"order":return C.type==="order";case"security":return C.type==="security";default:return!0}});S.useEffect(()=>{e!=null&&e.id&&(j(!0),w(),_())},[e==null?void 0:e.id,d]),S.useEffect(()=>e!=null&&e.id?Ds.subscribeToNotifications(e.id,O=>{n(R=>[O,...R]),i(R=>R+1),s!=null&&s.push_notifications&&Ds.showPushNotification(O.title,{body:O.message,tag:O.id,data:{notificationId:O.id,url:O.action_url}}),ke.info(`New notification: ${O.title}`)}):void 0,[e==null?void 0:e.id,s==null?void 0:s.push_notifications]);const L=C=>{const O=new Date(C),M=Math.floor((new Date().getTime()-O.getTime())/(1e3*60*60));return M<1?"Just now":M<24?`${M}h ago`:M<168?`${Math.floor(M/24)}d ago`:O.toLocaleDateString()};return o.jsxs(Ni,{open:v,onOpenChange:x,children:[o.jsx(tj,{asChild:!0,children:o.jsxs(we,{variant:"ghost",size:"icon",className:`relative ${t}`,children:[o.jsx(Ml,{className:"h-5 w-5"}),a>0&&o.jsx(wt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:a>99?"99+":a})]})}),o.jsxs(Ja,{className:"max-w-2xl max-h-[80vh]",children:[o.jsx(Si,{children:o.jsxs(Ai,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ml,{className:"h-5 w-5"}),"Notifications",a>0&&o.jsxs(wt,{variant:"secondary",children:[a," unread"]})]}),a>0&&o.jsxs(we,{size:"sm",variant:"outline",onClick:A,children:[o.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})}),o.jsxs(Ko,{defaultValue:"notifications",className:"w-full",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2",children:[o.jsx(Or,{value:"notifications",children:"Notifications"}),o.jsx(Or,{value:"settings",children:"Settings"})]}),o.jsxs(Er,{value:"notifications",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lf,{className:"h-4 w-4"}),o.jsxs(ds,{value:d,onValueChange:C=>f(C),children:[o.jsx(hs,{className:"w-40",children:o.jsx(fs,{})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"all",children:"All"}),o.jsx(gt,{value:"unread",children:"Unread"}),o.jsx(gt,{value:"system",children:"System"}),o.jsx(gt,{value:"order",children:"Orders"}),o.jsx(gt,{value:"security",children:"Security"})]})]})]}),o.jsx(l1e,{className:"h-96",children:o.jsxs("div",{className:"space-y-3",children:[I.map(C=>{const O=d1e[C.type]||Ml,R=!C.read_at;return o.jsx(Re,{className:`${R?"border-blue-200 bg-blue-50/50":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>R&&N(C.id),children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:`p-2 rounded-full ${f1e[C.priority]} text-white`,children:o.jsx(O,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h4",{className:`font-medium ${R?"text-blue-900":"text-gray-900"}`,children:C.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:L(C.created_at)}),R&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.message}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(wt,{variant:"outline",className:"text-xs",children:C.type}),o.jsx(wt,{variant:"outline",className:"text-xs",children:C.category})]}),C.action_url&&C.action_text&&o.jsx(we,{size:"sm",variant:"link",className:"p-0 h-auto mt-2",onClick:M=>{M.stopPropagation(),window.open(C.action_url,"_blank")},children:C.action_text})]})]})})},C.id)}),I.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Ml,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No notifications found"})]}),g&&o.jsx(we,{variant:"outline",onClick:()=>j(!1),disabled:c,className:"w-full",children:"Load More"})]})})]}),o.jsx(Er,{value:"settings",className:"space-y-4",children:s&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{className:"text-lg",children:"Notification Preferences"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),o.jsx(fu,{checked:s.email_notifications,onCheckedChange:C=>k("email_notifications",C)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Push Notifications"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fu,{checked:s.push_notifications,onCheckedChange:C=>{C?E():k("push_notifications",!1)}}),!s.push_notifications&&o.jsx(we,{size:"sm",variant:"outline",onClick:E,children:"Enable"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"System Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications"})]}),o.jsx(fu,{checked:s.system_alerts,onCheckedChange:C=>k("system_alerts",C)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Order Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for order updates"})]}),o.jsx(fu,{checked:s.order_alerts,onCheckedChange:C=>k("order_alerts",C)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Security Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Security-related notifications"})]}),o.jsx(fu,{checked:s.security_alerts,onCheckedChange:C=>k("security_alerts",C)})]})]})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{className:"text-lg",children:"Browser Settings"})}),o.jsx(Le,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Push Notification Status"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Current permission: ",typeof window<"u"&&"Notification"in window?Notification.permission:"Not supported"]})]}),o.jsx(we,{onClick:E,variant:"outline",children:"Request Push Permission"})]})})]})]})})]})]})]})}const p1e=({onSearch:t,cartItemCount:e=0,onProfileClick:r,onInfoClick:n})=>{const[a,i]=S.useState(""),[s,l]=S.useState(!1),{theme:c,toggleTheme:u}=Gbe(),{cart:d}=Hbe(),{user:f}=Cn(),p=(d==null?void 0:d.reduce((m,v)=>m+v.quantity,0))||e,h=S.useCallback(m=>{m.preventDefault(),t==null||t(a)},[t,a]),g=[{name:"New Arrivals",href:"#new",icon:fI,onClick:()=>{}},{name:"Women",href:"#women",icon:mI,onClick:()=>{}},{name:"Men",href:"#men",icon:ez,onClick:()=>{}},{name:"Sale",href:"#sale",icon:hI,onClick:()=>{}},{name:"About",href:"#about",icon:Xg,onClick:()=>n==null?void 0:n()}];return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex h-16 items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("a",{href:"#",className:"text-2xl font-bold text-primary",children:["Rosemama",o.jsx("br",{}),o.jsx("span",{className:"text-xs mt-1 block",children:"CLOTHING"})]})}),o.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:g.map(m=>{const v=m.icon;return o.jsx("button",{onClick:m.onClick,className:"p-2 rounded-md text-foreground hover:text-primary hover:bg-muted transition-colors",title:m.name,"aria-label":m.name,children:o.jsx(v,{className:"h-5 w-5"})},m.name)})}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:o.jsx("form",{onSubmit:h,className:"w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(Dt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 bg-muted/50 border-0 focus:bg-background"})]})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(we,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full hover:bg-muted","aria-label":"Toggle theme",children:c==="dark"?o.jsx(p2,{className:"h-5 w-5"}):o.jsx(h2,{className:"h-5 w-5"})}),f&&o.jsx(h1e,{className:"rounded-full hover:bg-muted"}),f&&o.jsx(Ube,{className:"rounded-full hover:bg-muted"}),o.jsxs(we,{variant:"ghost",size:"icon",className:"relative rounded-full hover:bg-muted",children:[o.jsx(Am,{className:"h-5 w-5"}),p>0&&o.jsx(wt,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-primary text-[10px] font-bold",children:p})]}),o.jsx(TX,{}),o.jsx(we,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted",onClick:r,children:o.jsx(Js,{className:"h-5 w-5"})}),o.jsxs(Q9,{open:s,onOpenChange:l,children:[o.jsx(GN,{asChild:!0,children:o.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted",children:o.jsx(lI,{className:"h-5 w-5"})})}),o.jsx(eF,{side:"right",className:"w-[300px] sm:w-[400px]",children:o.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[o.jsx("form",{onSubmit:h,children:o.jsxs("div",{className:"relative",children:[o.jsx(Zs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(Dt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10"})]})}),o.jsx("nav",{className:"flex flex-col space-y-3",children:g.map(m=>{const v=m.icon;return o.jsxs("button",{onClick:()=>{m.onClick(),l(!1)},className:"flex items-center text-lg font-medium text-foreground hover:text-primary transition-colors py-2 text-left",children:[o.jsx(v,{className:"h-5 w-5 mr-3"}),m.name]},m.name)})}),o.jsxs("div",{className:"flex flex-col space-y-3 border-t pt-4",children:[o.jsx(we,{variant:"ghost",className:"justify-start",onClick:u,children:c==="dark"?o.jsxs(o.Fragment,{children:[o.jsx(p2,{className:"h-4 w-4 mr-2"})," Light mode"]}):o.jsxs(o.Fragment,{children:[o.jsx(h2,{className:"h-4 w-4 mr-2"})," Dark mode"]})}),o.jsxs(we,{variant:"ghost",className:"justify-start",children:[o.jsx(Js,{className:"h-4 w-4 mr-2"}),"Account"]}),o.jsxs(we,{variant:"ghost",className:"justify-start",children:[o.jsx(Am,{className:"h-4 w-4 mr-2"}),"Cart (",p,")"]})]})]})})]})]})]})})})},m1e=S.memo(p1e);function g1e({currentPage:t,onPageChange:e}){const{isAdmin:r}=Cn(),{items:n}=kh(),a=n?n.reduce((s,l)=>s+l.quantity,0):0,i=[{id:"home",label:"Home",icon:eU},{id:"catalog",label:"Shop",icon:Zs},{id:"cart",label:"Cart",icon:R_,badge:a},{id:"rewards",label:"Rewards",icon:nI},{id:"profile",label:"Profile",icon:Js},...r?[{id:"admin",label:"Admin",icon:I_}]:[]];return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-40",children:o.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:i.map(s=>o.jsxs(we,{variant:"ghost",className:`flex-col h-auto p-2 min-w-0 flex-1 ${t===s.id?"text-primary":"text-muted-foreground"}`,onClick:()=>e(s.id),children:[o.jsxs("div",{className:"relative",children:[o.jsx(s.icon,{className:"h-5 w-5"}),s.badge&&s.badge>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-4 w-4 flex items-center justify-center",children:s.badge>9?"9+":s.badge})]}),o.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.id))})})}function v1e(){const{user:t,loading:e}=Cn(),[r,n]=S.useState(null);if(e)return o.jsx("div",{className:"text-center py-12",children:"Loading rewards..."});if(!t)return o.jsx("div",{className:"text-center py-12",children:"Please sign in to view your rewards."});const a=p=>{console.log("User update requested:",p),ke.info("User data is managed globally now.")},i={Bronze:{minPoints:0,color:"bg-orange-600",benefits:["5% cashback","Birthday discount"]},Silver:{minPoints:500,color:"bg-gray-400",benefits:["7% cashback","Free shipping","Early access"]},Gold:{minPoints:1e3,color:"bg-yellow-500",benefits:["10% cashback","Free express shipping","VIP support","Exclusive events"]}},s=t.membershipTier==="Bronze"?"Silver":t.membershipTier==="Silver"?"Gold":null,l=s?i[s].minPoints-t.points:0,c=s?t.points/i[s].minPoints*100:100,u=[{id:"1",name:"$5 Off Next Purchase",cost:100,type:"discount",icon:uy},{id:"2",name:"$10 Off Next Purchase",cost:200,type:"discount",icon:uy},{id:"3",name:"Free Standard Shipping",cost:50,type:"shipping",icon:Tu},{id:"4",name:"Free Express Shipping",cost:150,type:"shipping",icon:Tu},{id:"5",name:"$25 Off Next Purchase",cost:500,type:"discount",icon:uy},{id:"6",name:"Exclusive Access Item",cost:750,type:"access",icon:$q}],d=[{date:"2024-01-15",type:"earned",points:50,description:"Purchase at Rosemama"},{date:"2024-01-10",type:"earned",points:25,description:"Product Review"},{date:"2024-01-05",type:"redeemed",points:-100,description:"$5 Off Discount Used"},{date:"2024-01-01",type:"earned",points:100,description:"New Year Bonus"}],f=p=>{t.points>=p.cost?(a({...t,points:t.points-p.cost}),ke.success(`${p.name} redeemed successfully!`)):ke.error("Insufficient points to redeem this reward")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards & Membership"}),o.jsx("p",{className:"text-muted-foreground",children:"Earn points with every purchase and unlock exclusive benefits"})]}),o.jsx(Re,{className:"mb-6",children:o.jsxs(Le,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${i[t.membershipTier].color}`}),o.jsxs("h3",{className:"text-xl font-semibold",children:[t.membershipTier," Member"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.points}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]}),s&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsxs("span",{children:["Progress to ",s]}),o.jsxs("span",{children:[l," points to go"]})]}),o.jsx(Cu,{value:c,className:"h-2"})]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:i[t.membershipTier].benefits.map((p,h)=>o.jsx("div",{className:"text-center p-3 bg-secondary/30 rounded-lg",children:o.jsx("div",{className:"text-sm font-medium",children:p})},h))})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Rewards"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(p=>o.jsx(Re,{className:`cursor-pointer transition-all ${t.points>=p.cost?"hover:shadow-md hover:scale-105":"opacity-60"}`,onClick:()=>t.points>=p.cost&&f(p),children:o.jsxs(Le,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${p.type==="discount"?"bg-green-100":p.type==="shipping"?"bg-blue-100":"bg-purple-100"}`,children:o.jsx(p.icon,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium",children:p.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("span",{className:"text-sm font-medium",children:[p.cost," pts"]}),t.points>=p.cost?o.jsx(wt,{variant:"secondary",className:"text-xs",children:"Available"}):o.jsxs(wt,{variant:"outline",className:"text-xs",children:["Need ",p.cost-t.points," more"]})]})]})]}),o.jsx(we,{className:"w-full",size:"sm",disabled:t.points<p.cost,onClick:h=>{h.stopPropagation(),f(p)},children:t.points>=p.cost?"Redeem":"Insufficient Points"})]})},p.id))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsxs(Ct,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"h-5 w-5"}),"How to Earn Points"]})}),o.jsxs(Le,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Every $1 spent"}),o.jsx("span",{className:"text-sm font-medium",children:"1 point"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Product review"}),o.jsx("span",{className:"text-sm font-medium",children:"25 points"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Birthday bonus"}),o.jsx("span",{className:"text-sm font-medium",children:"100 points"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Referral bonus"}),o.jsx("span",{className:"text-sm font-medium",children:"200 points"})]})]})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Recent Activity"})}),o.jsx(Le,{className:"space-y-3",children:d.map((p,h)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium",children:p.description}),o.jsx("div",{className:"text-xs text-muted-foreground",children:p.date})]}),o.jsxs("div",{className:`text-sm font-medium ${p.type==="earned"?"text-green-600":"text-orange-600"}`,children:[p.type==="earned"?"+":"",p.points]})]},h))})]})]})]}),o.jsx(Yo,{})]})}var JN="Radio",[y1e,gF]=Mn(JN),[x1e,b1e]=y1e(JN),vF=S.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=t,[f,p]=S.useState(null),h=Bt(e,v=>p(v)),g=S.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(x1e,{scope:r,checked:a,disabled:s,children:[o.jsx(at.button,{type:"button",role:"radio","aria-checked":a,"data-state":wF(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:h,onClick:ut(t.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(bF,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});vF.displayName=JN;var yF="RadioIndicator",xF=S.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=b1e(yF,r);return o.jsx(da,{present:n||i.checked,children:o.jsx(at.span,{"data-state":wF(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});xF.displayName=yF;var w1e="RadioBubbleInput",bF=S.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=S.useRef(null),l=Bt(s,i),c=a0(r),u=e0(e);return S.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(at.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bF.displayName=w1e;function wF(t){return t?"checked":"unchecked"}var _1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N0="RadioGroup",[j1e,pwe]=Mn(N0,[fv,gF]),_F=fv(),jF=gF(),[N1e,S1e]=j1e(N0),NF=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=t,h=_F(r),g=hd(u),[m,v]=Za({prop:i,defaultProp:a??null,onChange:f,caller:N0});return o.jsx(N1e,{scope:r,name:n,required:s,disabled:l,value:m,onValueChange:v,children:o.jsx(VR,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:o.jsx(at.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:e})})})});NF.displayName=N0;var SF="RadioGroupItem",AF=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=S1e(SF,r),s=i.disabled||n,l=_F(r),c=jF(r),u=S.useRef(null),d=Bt(e,u),f=i.value===a.value,p=S.useRef(!1);return S.useEffect(()=>{const h=m=>{_1e.includes(m.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),o.jsx(GR,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(vF,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:ut(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ut(a.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});AF.displayName=SF;var A1e="RadioGroupIndicator",kF=S.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=jF(r);return o.jsx(xF,{...a,...n,ref:e})});kF.displayName=A1e;var k1e=NF,P1e=AF,C1e=kF;function O1e({className:t,...e}){return o.jsx(k1e,{"data-slot":"radio-group",className:qe("grid gap-3",t),...e})}function l2({className:t,...e}){return o.jsx(P1e,{"data-slot":"radio-group-item",className:qe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(C1e,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:o.jsx(iI,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function E1e({items:t,user:e,onOrderComplete:r,onBack:n}){const{isGuestCart:a}=kh(),[i,s]=S.useState({firstName:(e==null?void 0:e.name.split(" ")[0])||"",lastName:(e==null?void 0:e.name.split(" ")[1])||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:"",city:"",state:"",zipCode:"",country:"South Africa"}),[l,c]=S.useState("cash-on-delivery"),[u,d]=S.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[f,p]=S.useState(!1),[h,g]=S.useState({password:"",confirmPassword:""}),[m,v]=S.useState(!1),[x,j]=S.useState(!1),w=t.reduce((I,L)=>I+L.product.price*L.quantity,0),_=m&&e?Math.min(e.points*.01,w*.2):0,N=w>100?0:9.99,A=(w-_)*.08,k=w-_+N+A,E=async I=>{I.preventDefault(),j(!0);try{if(!i.address||!i.city||!i.state||!i.zipCode){ke.error("Please fill in all shipping address fields"),j(!1);return}if(l==="credit-card"&&(!u.cardNumber||!u.expiryDate||!u.cvv)){ke.error("Please fill in all payment details"),j(!1);return}if(!e&&f){if(!h.password||h.password.length<6){ke.error("Password must be at least 6 characters long"),j(!1);return}if(h.password!==h.confirmPassword){ke.error("Passwords do not match"),j(!1);return}}const L={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zipCode:i.zipCode,country:i.country,paymentMethod:l,usePointsDiscount:m,pointsUsed:m&&e?Math.min(e.points,Math.floor(w*20)):0};let C;if(e)C=await $I(L);else{const R={email:i.email,firstName:i.firstName,lastName:i.lastName,phone:i.phone};C=await FI(t,L,R,f,f?h.password:void 0)}if(!C)throw new Error("Failed to create order");try{const R=`${i.firstName} ${i.lastName}`,M=i.email,W=t.map(H=>({id:H.productId,name:H.product.name,image:H.product.images[0]}));await cz({customerEmail:M,customerName:R,orderId:C.toString(),products:W})}catch(R){console.warn("Failed to send Trustpilot invitations:",R)}a&&localStorage.removeItem("rosemama_guest_cart");let O="Order placed successfully!";!e&&f&&(O+=" Check your email to verify your account for order tracking."),l==="cash-on-delivery"?(O=`Order placed successfully! Pay R${k.toFixed(2)} on delivery.`,!e&&f&&(O+=" Check your email to verify your account.")):l==="bank-transfer"?(O=`Order placed successfully! Please send R${k.toFixed(2)} to our bank account.`,!e&&f&&(O+=" Check your email to verify your account.")):O=`Order placed successfully! Payment processed via ${l}.`,ke.success(O),r()}catch(L){console.error("Order submission failed:",L),ke.error(L instanceof Error?L.message:"Failed to place order. Please try again.")}finally{j(!1)}};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[o.jsxs(we,{variant:"ghost",onClick:n,className:"mb-6",children:[o.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),o.jsx("form",{onSubmit:E,children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Shipping Information"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"firstName",children:"First Name"}),o.jsx(Dt,{id:"firstName",value:i.firstName,onChange:I=>s(L=>({...L,firstName:I.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"lastName",children:"Last Name"}),o.jsx(Dt,{id:"lastName",value:i.lastName,onChange:I=>s(L=>({...L,lastName:I.target.value})),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"email",children:"Email"}),o.jsx(Dt,{id:"email",type:"email",value:i.email,onChange:I=>s(L=>({...L,email:I.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"phone",children:"Phone"}),o.jsx(Dt,{id:"phone",type:"tel",value:i.phone,onChange:I=>s(L=>({...L,phone:I.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"address",children:"Address"}),o.jsx(Dt,{id:"address",value:i.address,onChange:I=>s(L=>({...L,address:I.target.value})),placeholder:"Street address",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"city",children:"City"}),o.jsx(Dt,{id:"city",value:i.city,onChange:I=>s(L=>({...L,city:I.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"state",children:"Province"}),o.jsxs(ds,{value:i.state,onValueChange:I=>s(L=>({...L,state:I})),children:[o.jsx(hs,{children:o.jsx(fs,{placeholder:"Select province"})}),o.jsxs(ps,{children:[o.jsx(gt,{value:"EC",children:"Eastern Cape"}),o.jsx(gt,{value:"FS",children:"Free State"}),o.jsx(gt,{value:"GP",children:"Gauteng"}),o.jsx(gt,{value:"KZN",children:"KwaZulu-Natal"}),o.jsx(gt,{value:"LP",children:"Limpopo"}),o.jsx(gt,{value:"MP",children:"Mpumalanga"}),o.jsx(gt,{value:"NC",children:"Northern Cape"}),o.jsx(gt,{value:"NW",children:"North West"}),o.jsx(gt,{value:"WC",children:"Western Cape"})]})]})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"zipCode",children:"Postal Code"}),o.jsx(Dt,{id:"zipCode",value:i.zipCode,onChange:I=>s(L=>({...L,zipCode:I.target.value})),required:!0})]})]})]})]}),!e&&o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Account Options"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(w_,{id:"createAccount",checked:f,onCheckedChange:I=>p(I)}),o.jsx(Et,{htmlFor:"createAccount",className:"text-sm",children:"Create an account to track your orders and earn rewards points"})]}),f&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"password",children:"Password"}),o.jsx(Dt,{id:"password",type:"password",value:h.password,onChange:I=>g(L=>({...L,password:I.target.value})),placeholder:"Create a password",required:f})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(Dt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:I=>g(L=>({...L,confirmPassword:I.target.value})),placeholder:"Confirm your password",required:f})]})]})]})]}),o.jsxs(Re,{children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Payment Method"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsxs(O1e,{value:l,onValueChange:c,children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(l2,{value:"cash-on-delivery",id:"cash-on-delivery"}),o.jsxs(Et,{htmlFor:"cash-on-delivery",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx(Kq,{className:"h-4 w-4"}),"Cash on Delivery"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(l2,{value:"bank-transfer",id:"bank-transfer"}),o.jsxs(Et,{htmlFor:"bank-transfer",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),"Bank Transfer (Manual Payment)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(l2,{value:"credit-card",id:"credit-card"}),o.jsxs(Et,{htmlFor:"credit-card",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx(P_,{className:"h-4 w-4"}),"Credit/Debit Card"]})]}),l==="bank-transfer"&&o.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[o.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Bank Transfer Details:"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Account Name:"})," CLARA RANYAMA"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bank:"})," FNB"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Account Number:"})," 62804733766"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Branch Code:"})," 250655"]}),o.jsxs("p",{className:"text-blue-600 mt-2",children:[o.jsx("strong",{children:"Reference:"})," Dolls send me proof of payment ✌"]})]})]})]}),l==="credit-card"&&o.jsxs("div",{className:"space-y-4 mt-4 p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"cardNumber",children:"Card Number"}),o.jsx(Dt,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:I=>d(L=>({...L,cardNumber:I.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"expiryDate",children:"Expiry Date"}),o.jsx(Dt,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:I=>d(L=>({...L,expiryDate:I.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"cvv",children:"CVV"}),o.jsx(Dt,{id:"cvv",placeholder:"123",value:u.cvv,onChange:I=>d(L=>({...L,cvv:I.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(Et,{htmlFor:"cardholderName",children:"Cardholder"}),o.jsx(Dt,{id:"cardholderName",placeholder:"Full name",value:u.cardholderName,onChange:I=>d(L=>({...L,cardholderName:I.target.value}))})]})]})]})]})]})]}),o.jsx("div",{children:o.jsxs(Re,{className:"sticky top-24",children:[o.jsx(Pt,{children:o.jsx(Ct,{children:"Order Summary"})}),o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:t.map(I=>o.jsxs("div",{className:"flex gap-3",children:[o.jsx(o8,{src:I.product.images[0],alt:I.product.name,className:"w-12 h-12 object-cover rounded",loading:"eager"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium line-clamp-1",children:I.product.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.size," • ",I.color," • Qty ",I.quantity]})]}),o.jsxs("span",{className:"text-sm font-medium",children:["R",(I.product.price*I.quantity).toFixed(2)]})]},`${I.productId}-${I.size}-${I.color}`))}),o.jsx(Jn,{}),e&&e.points>0&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(w_,{id:"use-points",checked:m,onCheckedChange:I=>v(I)}),o.jsxs(Et,{htmlFor:"use-points",className:"text-sm",children:["Use ",Math.min((e==null?void 0:e.points)||0,Math.floor(w*20))," points (save R",_.toFixed(2),")"]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R",w.toFixed(2)]})]}),_>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Points Discount"}),o.jsxs("span",{children:["-R",_.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:N===0?o.jsx("span",{className:"text-green-600",children:"FREE"}):`R${N.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax"}),o.jsxs("span",{children:["R",A.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R",k.toFixed(2)]})]}),o.jsx(we,{type:"submit",className:"w-full",size:"lg",disabled:x,children:x?"Processing...":`Place Order - R${k.toFixed(2)}`}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By placing your order, you agree to our Terms & Conditions and Privacy Policy."})]})]})})]})}),o.jsx(Yo,{})]})}var T1e=(t,e,r,n,a,i,s,l)=>{let c=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(g=>{let m=g==="class",v=m&&i?a.map(x=>i[x]||x):a;m?(c.classList.remove(...v),c.classList.add(i&&i[h]?i[h]:h)):c.setAttribute(g,h)}),f(h)}function f(h){l&&u.includes(h)&&(c.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let h=localStorage.getItem(e)||r,g=s&&h==="system"?p():h;d(g)}catch{}},I1e=S.createContext(void 0),R1e={setTheme:t=>{},themes:[]},L1e=()=>{var t;return(t=S.useContext(I1e))!=null?t:R1e};S.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,e,i,t,l,s,n,a]).slice(1,-1);return S.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${T1e.toString()})(${d})`}})});const M1e=({...t})=>{const{theme:e="system"}=L1e();return o.jsx(eV,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function D1e({isOpen:t,mode:e,onClose:r,onLoginSuccess:n,onSignupSuccess:a,onSwitchMode:i,title:s,description:l}){const{signIn:c,signUp:u}=Cn(),[d,f]=S.useState(!1),[p,h]=S.useState(!1),[g,m]=S.useState({email:"",password:"",name:"",confirmPassword:""}),v=(_,N)=>{m(A=>({...A,[_]:N}))},x=async _=>{_.preventDefault(),f(!0);const N=await c(g.email,g.password);f(!1),N?n():ke.error("Login failed. Please check your credentials.")},j=async _=>{if(_.preventDefault(),g.password!==g.confirmPassword){ke.error("Passwords do not match.");return}f(!0);const N=await u(g.email,g.password,g.name);f(!1),N?a():ke.error("Signup failed. Please try again.")},w=_=>{ke.info(`Social login with ${_} is not yet implemented.`)};return o.jsx(Ni,{open:t,onOpenChange:r,children:o.jsxs(Ja,{className:"sm:max-w-[425px]",children:[o.jsxs(Si,{children:[o.jsx(Ai,{children:s||(e==="login"?"Sign In":"Create Account")}),l&&o.jsx(BG,{children:l})]}),o.jsxs(Ko,{value:e,onValueChange:_=>i(_),className:"w-full",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2",children:[o.jsx(Or,{value:"login",children:"Login"}),o.jsx(Or,{value:"signup",children:"Sign Up"})]}),o.jsx(Er,{value:"login",children:o.jsxs(Re,{children:[o.jsxs(Pt,{children:[o.jsx(Ct,{children:"Welcome Back"}),o.jsx(C4,{children:"Enter your credentials to access your account."})]}),o.jsxs(Le,{children:[o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"login-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"login-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(cy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"login-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),o.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?o.jsx(f2,{className:"h-4 w-4"}):o.jsx(Xa,{className:"h-4 w-4"})})]})]}),o.jsx(we,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]}),o.jsx("div",{className:"mt-4 text-center text-sm",children:o.jsx("a",{href:"#",className:"underline",onClick:()=>ke.info("Password reset coming soon!"),children:"Forgot your password?"})})]})]})}),o.jsx(Er,{value:"signup",children:o.jsxs(Re,{children:[o.jsxs(Pt,{children:[o.jsx(Ct,{children:"Create an Account"}),o.jsx(C4,{children:"Join us to get the best shopping experience."})]}),o.jsx(Le,{children:o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-name",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Js,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-name",placeholder:"John Doe",required:!0,className:"pl-10",value:g.name,onChange:_=>v("name",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Mf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(cy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),o.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?o.jsx(f2,{className:"h-4 w-4"}):o.jsx(Xa,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Et,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(cy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Dt,{id:"signup-confirm-password",type:"password",required:!0,className:"pl-10",value:g.confirmPassword,onChange:_=>v("confirmPassword",_.target.value)})]})]}),o.jsx(we,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(we,{variant:"outline",onClick:()=>w("Google"),children:"Google"}),o.jsx(we,{variant:"outline",onClick:()=>w("Facebook"),children:"Facebook"})]})]})})}const $1e={success:Yg,error:Kl,warning:Jg,info:Xg},F1e={success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800",warning:"border-yellow-200 bg-yellow-50 text-yellow-800",info:"border-blue-200 bg-blue-50 text-blue-800"},B1e={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function q1e({notification:t,onClose:e}){const[r,n]=S.useState(!1),[a,i]=S.useState(!1),s=$1e[t.type];S.useEffect(()=>{n(!0);const c=t.duration||5e3;if(c>0){const u=setTimeout(()=>{l()},c);return()=>clearTimeout(u)}},[t.duration]);const l=()=>{i(!0),setTimeout(()=>{e(t.id)},200)};return o.jsx(Re,{className:`
        ${F1e[t.type]}
        border shadow-lg transition-all duration-200 mb-2
        ${r&&!a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${a?"translate-x-full opacity-0":""}
      `,children:o.jsx(Le,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(s,{className:`h-5 w-5 mt-0.5 ${B1e[t.type]}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm",children:t.title}),o.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.action&&o.jsx(we,{size:"sm",variant:"ghost",className:"mt-2 h-8 px-2 text-xs",onClick:t.action.onClick,children:t.action.label})]}),o.jsx(we,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",onClick:l,children:o.jsx(Gs,{className:"h-4 w-4"})})]})})})}const U1e=K.createContext(null);function z1e({children:t,position:e="top-right",maxToasts:r=5}){const[n,a]=S.useState([]),i=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),s=m=>{const v=i(),x={...m,id:v};a(j=>[x,...j].slice(0,r))},l=(m,v="",x)=>{s({title:m,message:v,type:"success",action:x})},c=(m,v="",x)=>{s({title:m,message:v,type:"error",action:x,duration:8e3})},u=(m,v="",x)=>{s({title:m,message:v,type:"warning",action:x,duration:6e3})},d=(m,v="",x)=>{s({title:m,message:v,type:"info",action:x})},f=m=>{a(v=>v.filter(x=>x.id!==m))},p=()=>{a([])},h=()=>{switch(e){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},g={showToast:s,showSuccess:l,showError:c,showWarning:u,showInfo:d,dismissToast:f,dismissAll:p};return o.jsxs(U1e.Provider,{value:g,children:[t,o.jsx("div",{className:`fixed z-50 ${h()} w-80 max-w-sm pointer-events-none`,style:{maxHeight:"90vh",overflowY:"auto"},children:o.jsx("div",{className:"space-y-2 pointer-events-auto",children:n.map(m=>o.jsx(q1e,{notification:m,onClose:f},m.id))})})]})}const W1e=()=>{const[t,e]=S.useState([]),[r,n]=S.useState(!0),[a,i]=S.useState(null);S.useEffect(()=>{(async()=>{try{n(!0);const{data:u,error:d}=await Oe.from("products").select("id, name, image_url, images").limit(5);if(d)throw d;console.log("🔍 Raw Supabase products data:",u),e(u||[])}catch(u){console.error("❌ Error fetching products:",u),i(u instanceof Error?u.message:"Unknown error")}finally{n(!1)}})()},[]);const s=async c=>{try{const u=await fetch(c,{method:"HEAD"});return{url:c,status:u.status,ok:u.ok,statusText:u.statusText}}catch(u){return{url:c,status:0,ok:!1,statusText:u instanceof Error?u.message:"Network error"}}},l=async c=>{console.log("🧪 Testing URL:",c);const u=await s(c);console.log("📊 URL Test Result:",u),alert(`URL: ${c}
Status: ${u.status}
OK: ${u.ok}
Message: ${u.statusText}`)};return r?o.jsx("div",{className:"p-4",children:"Loading products for debugging..."}):a?o.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",a]}):o.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🔍 Image URL Debugger"}),o.jsx("div",{className:"space-y-4",children:t.map(c=>o.jsxs("div",{className:"border p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold",children:c.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",c.id]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h4",{className:"font-medium",children:"Raw Data:"}),o.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify({image_url:c.image_url,images:c.images},null,2)})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h4",{className:"font-medium",children:"Generated URLs:"}),o.jsxs("div",{className:"space-y-2",children:[c.image_url&&o.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"From image_url:"}),c.image_url.startsWith("/images/")?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Path with /images/ prefix → Storage URL"}),o.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images",c.image_url]})]}):c.image_url.startsWith("http")?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Full HTTP URL"}),o.jsxs("button",{onClick:()=>l(c.image_url),className:"text-blue-600 underline text-sm",children:["Test: ",c.image_url]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Storage path → Full URL"}),o.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/",c.image_url]})]})]}),c.images&&Array.isArray(c.images)&&c.images.length>0&&o.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"From images array:"}),c.images.map((u,d)=>o.jsx("div",{className:"mt-1",children:o.jsxs("button",{onClick:()=>l(typeof u=="string"?u:String(u)),className:"text-green-600 underline text-sm block",children:["Test [",d,"]: ",typeof u=="string"?u:String(u)]})},d))]})]})]})]},c.id))}),o.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-yellow-800",children:"🎯 Instructions:"}),o.jsxs("ol",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[o.jsx("li",{children:'1. Click on the "Test:" links to check if image URLs are accessible'}),o.jsx("li",{children:"2. Check the browser network tab for detailed error responses"}),o.jsx("li",{children:"3. Check the console for raw data structure"}),o.jsx("li",{children:"4. Compare expected URLs vs actual storage structure"})]})]})]})};function H1e({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a,loading:i}=Ah(),[s,l]=S.useState("featured"),[c,u]=S.useState("grid"),[d,f]=S.useState(new Set),p=S.useMemo(()=>{let g=[...a];switch(t&&(g=g.filter(m=>m.name.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(g=g.filter(m=>m.category===e)),s){case"price-low":g=g.sort((m,v)=>m.price-v.price);break;case"price-high":g=g.sort((m,v)=>v.price-m.price);break;case"rating":g=g.sort((m,v)=>v.rating-m.rating);break}return g},[a,t,e,s]),h=g=>{const m=new Set(d);m.has(g)?m.delete(g):m.add(g),f(m)};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:e==="All"?"All Products":e}),o.jsxs("p",{className:"text-muted-foreground",children:[p.length," products found"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"hidden md:flex border rounded-lg p-1",children:[o.jsx(we,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),children:o.jsx(Kg,{className:"h-4 w-4"})}),o.jsx(we,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),children:o.jsx(Zg,{className:"h-4 w-4"})})]}),o.jsxs("select",{value:s,onChange:g=>l(g.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[o.jsx("option",{value:"featured",children:"Featured"}),o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"rating",children:"Highest Rated"})]}),o.jsxs(we,{variant:"outline",size:"sm",children:[o.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),o.jsx("div",{className:c==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24":"space-y-4 pb-24",children:p.map(g=>o.jsx(Re,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 ${c==="list"?"flex":"flex flex-col h-full"}`,onClick:()=>r(g),children:o.jsxs(Le,{className:`p-0 ${c==="grid"?"flex flex-col h-full":""}`,children:[o.jsxs("div",{className:`relative overflow-hidden ${c==="list"?"w-32 flex-shrink-0":"rounded-t-lg flex-shrink-0"}`,children:[o.jsx(q9,{images:g.images,name:g.name,className:c==="list"?"w-32 h-32":"w-full aspect-[4/3]",priority:!0}),o.jsx(we,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:m=>{m.stopPropagation(),h(g.id)},children:o.jsx(Uo,{className:`h-4 w-4 ${d.has(g.id)?"fill-red-500 text-red-500":""}`})}),g.originalPrice&&g.originalPrice!==g.price&&o.jsxs(wt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:[Math.round((g.originalPrice-g.price)/g.originalPrice*100),"% OFF"]})]}),o.jsxs("div",{className:`space-y-2 ${c==="list"?"p-4 flex-1":"p-4 flex-1 flex flex-col justify-between"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h4",{className:"font-medium line-clamp-2 flex-1 min-w-0",children:g.name}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[g.images.length>1&&o.jsxs("div",{className:"flex gap-0.5 max-w-[60px] flex-wrap",children:[g.images.slice(0,5).map((m,v)=>o.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-gray-300 flex-shrink-0",style:{minWidth:"20px",minHeight:"20px"},children:o.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover",loading:"lazy"})},v)),g.images.length>5&&o.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border border-gray-300 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-[8px] text-gray-600 font-bold leading-none",children:"+"})})]}),!g.inStock&&o.jsx(wt,{variant:"secondary",className:"text-xs ml-1",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Vr,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.rating," (",g.reviews.length,")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold",children:["R",g.price]}),g.originalPrice&&g.originalPrice!==g.price&&o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",g.originalPrice]})]}),o.jsxs("div",{className:"flex gap-1",children:[g.colors.slice(0,4).map(m=>o.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-gray-300 ${m.toLowerCase()==="black"?"bg-black":m.toLowerCase()==="white"?"bg-white":m.toLowerCase()==="gray"?"bg-gray-400":m.toLowerCase()==="navy"?"bg-blue-900":m.toLowerCase()==="brown"?"bg-amber-800":m.toLowerCase()==="beige"?"bg-amber-100":m.toLowerCase()==="pink"?"bg-pink-400":m.toLowerCase()==="blue"?"bg-blue-500":m.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`},m)),g.colors.length>4&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.colors.length-4]})]})]})]})},g.id))}),p.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),o.jsx(we,{onClick:()=>n("All"),children:"Clear filters"})]}),o.jsx(Yo,{})]})}function V1e(){const{user:t,isAdmin:e}=Cn(),{products:r}=Ah(),{items:n,addItem:a,updateItemQuantity:i,removeItem:s,fetchCart:l}=kh(),[c,u]=S.useState("home"),[d,f]=S.useState(null),[p,h]=S.useState(""),[g,m]=S.useState("All"),[v,x]=S.useState(!1),[j,w]=S.useState("about"),[_,N]=S.useState({mode:"login",title:"Sign In Required",description:"Please sign in to continue"}),A=(F,ae,Q)=>{t?F():(N({mode:"login",title:ae||"Sign In Required",description:Q||"Please sign in to continue"}),x(!0))},k=F=>{f(F),u("product")},E=F=>{m(F),u("catalog")},I=()=>{A(()=>u("checkout"),"Checkout","Please sign in to proceed with your order.")},L=()=>{A(()=>u("profile"),"My Account","Please sign in to view your profile.")},C=()=>{A(()=>u("rewards"),"My Rewards","Please sign in to view your rewards.")},O=()=>{x(!1),ke.success("Welcome back!"),_.title.includes("Checkout")?u("checkout"):_.title.includes("Profile")?u("profile"):_.title.includes("Rewards")&&u("rewards")},R=F=>{const ae=F;["profile","rewards","admin"].includes(ae)?(ae==="profile"&&L(),ae==="rewards"&&C(),ae==="admin"&&e&&u("admin")):u(ae)},M=async(F,ae,Q,oe)=>{if(console.log("handleUpdateQuantity called:",{productId:F,size:ae,color:Q,quantity:oe}),n.find(U=>U.productId===F&&U.size===ae&&U.color===Q)){const U=`${F}|${ae}|${Q}`;console.log("Updating item with identifier:",U,"to quantity:",oe);const z=await i(U,oe);console.log("Update result:",z),z||ke.error("Failed to update item quantity")}else console.log("Item not found in cart for quantity update"),ke.error("Item not found in cart")},W=async(F,ae,Q)=>{console.log("handleRemoveItem called:",{productId:F,size:ae,color:Q});const oe=n.find($=>$.productId===F&&$.size===ae&&$.color===Q);if(console.log("Found cart item:",oe),console.log("Current items:",n),oe){const $=`${F}|${ae}|${Q}`;console.log("Removing item with identifier:",$);const U=await s($);console.log("Remove result:",U),U||ke.error("Failed to remove item from cart")}else console.log("Item not found in cart"),ke.error("Item not found in cart")},H=F=>{w(F),u("info")},G=()=>{switch(c){case"home":return o.jsx(i8,{onViewProduct:k,onNavigateToCategory:E});case"catalog":return o.jsx(H1e,{searchQuery:p,selectedCategory:g,onViewProduct:k,onCategoryChange:m});case"product":return d?o.jsx(tV,{product:d,onBack:()=>u("catalog"),onAddToCart:a}):null;case"cart":return o.jsx(nV,{items:n,onUpdateQuantity:M,onRemoveItem:W,onProceedToCheckout:I,onContinueShopping:()=>u("catalog")});case"checkout":return o.jsx(E1e,{user:t,items:n,onOrderComplete:()=>{u("home"),ke.success("Order placed successfully!")},onBack:()=>u("cart")});case"profile":return t?e?o.jsx(G9,{}):o.jsx(IX,{onLogout:()=>{},onNavigateToInfo:H}):null;case"rewards":return t?o.jsx(v1e,{}):null;case"admin":return e?o.jsx(kbe,{}):null;case"info":return o.jsx(Bbe,{onBack:()=>u("home"),initialPage:j});case"debug":return o.jsx(W1e,{});default:return null}};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(m1e,{onSearch:h,onProfileClick:L,onInfoClick:()=>{w("about"),u("info")}}),o.jsx("main",{className:"flex-1 pb-28 md:pb-4",children:G()}),o.jsx(Wbe,{onInfoClick:F=>{w(F),u("info")}}),o.jsx(g1e,{currentPage:c,onPageChange:R}),o.jsx(D1e,{isOpen:v,mode:_.mode,onClose:()=>x(!1),onLoginSuccess:O,onSignupSuccess:O,title:_.title,description:_.description,onSwitchMode:F=>N(ae=>({...ae,mode:F}))}),o.jsx(zbe,{}),o.jsx(M1e,{})]})}function G1e(){return o.jsx(xH,{children:o.jsx(yH,{children:o.jsx(bH,{children:o.jsx(jbe,{children:o.jsx(Vbe,{children:o.jsx(z1e,{position:"top-right",maxToasts:5,children:o.jsx(V1e,{})})})})})})})}function Y1e({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a}=Ah(),{user:i}=Cn(),{addItem:s}=kh(),[l,c]=S.useState("featured"),[u,d]=S.useState("grid"),[f,p]=S.useState(new Set),[h,g]=S.useState([0,500]),[m,v]=S.useState([]),[x,j]=S.useState(!1),w=[...new Set(a.flatMap(L=>L.colors))],_=async L=>{try{console.log("🛒 ProductCatalog: Adding product to cart:",L.id,L.name);const C="M",O=L.colors[0]||"Default";await s(L,C,O,1)?console.log("✅ ProductCatalog: Product added to cart successfully"):console.error("❌ ProductCatalog: Failed to add product to cart")}catch(C){console.error("❌ ProductCatalog: Error adding product to cart:",C)}},N=L=>{console.log("👁️ ProductCatalog: Viewing product details:",L.id,L.name),r(L)},A=L=>{console.log("❤️ ProductCatalog: Toggling wishlist for product:",L.id,L.name),p(C=>{const O=new Set(C);return O.has(L.id)?(O.delete(L.id),console.log("💔 ProductCatalog: Removed from wishlist")):(O.add(L.id),console.log("💖 ProductCatalog: Added to wishlist")),O})},k=S.useMemo(()=>{let L=[...a];switch(t&&(L=L.filter(C=>C.name.toLowerCase().includes(t.toLowerCase())||C.category.toLowerCase().includes(t.toLowerCase())||C.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(L=L.filter(C=>C.category===e)),L=L.filter(C=>C.price>=h[0]&&C.price<=h[1]),m.length>0&&(L=L.filter(C=>m.some(O=>C.colors.includes(O)))),l){case"price-low":L.sort((C,O)=>C.price-O.price);break;case"price-high":L.sort((C,O)=>O.price-C.price);break;case"rating":L.sort((C,O)=>O.rating-C.rating);break;case"newest":L.sort((C,O)=>parseInt(O.id)-parseInt(C.id));break}return L},[a,t,e,l,h,m]),E=L=>{const C=new Set(f);C.has(L)?C.delete(L):C.add(L),p(C)},I=()=>{g([0,500]),v([]),n("All")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e==="All"?"All Products":e}),o.jsxs("p",{className:"text-muted-foreground",children:[k.length," products found"]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"border rounded-lg p-1",children:[o.jsx(we,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),children:o.jsx(Kg,{className:"h-4 w-4"})}),o.jsx(we,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),children:o.jsx(Zg,{className:"h-4 w-4"})})]}),o.jsxs("select",{value:l,onChange:L=>c(L.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[o.jsx("option",{value:"featured",children:"Featured"}),o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"rating",children:"Highest Rated"})]}),o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>j(!x),className:x?"bg-primary/10":"",children:[o.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),x&&o.jsx(Re,{className:"mb-6",children:o.jsx(Le,{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium mb-3 block",children:"Price Range"}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Dt,{type:"number",placeholder:"Min",value:h[0],onChange:L=>g([Number(L.target.value),h[1]]),className:"w-20"}),o.jsx("span",{className:"self-center",children:"-"}),o.jsx(Dt,{type:"number",placeholder:"Max",value:h[1],onChange:L=>g([h[0],Number(L.target.value)]),className:"w-20"})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium mb-3 block",children:"Colors"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:w.slice(0,8).map(L=>o.jsx("button",{onClick:()=>v(C=>C.includes(L)?C.filter(O=>O!==L):[...C,L]),className:`px-3 py-1 text-xs border rounded-full transition-colors ${m.includes(L)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:L},L))})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs(we,{onClick:I,variant:"outline",children:[o.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Clear All"]}),o.jsx(we,{onClick:()=>j(!1),children:"Apply"})]})]})})}),k.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Zs,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),o.jsx(we,{onClick:I,children:"Clear all filters"})]}):o.jsx("div",{className:`grid gap-6 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:k.map(L=>{var C;return console.log("🛍️ ProductCatalog: Rendering product:",{id:L.id,name:L.name,price:L.price,originalPrice:L.originalPrice,category:L.category,imageCount:((C=L.images)==null?void 0:C.length)||0,rating:L.rating,colors:L.colors,inStock:L.inStock,viewMode:u}),u==="list"?o.jsx(Re,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 flex \r
                           bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                           border border-border dark:border-border/50`,onClick:()=>r(L),children:o.jsxs(Le,{className:"p-0 flex",children:[o.jsxs("div",{className:"relative overflow-hidden w-60 flex-shrink-0",children:[o.jsx(q9,{images:L.images,name:L.name,className:"w-60 h-60",priority:!0}),o.jsx(we,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 bg-background/80 backdrop-blur-sm \r
                                hover:bg-background dark:bg-card/80 dark:hover:bg-card`,onClick:O=>{O.stopPropagation(),E(L.id)},children:o.jsx(Uo,{className:`h-4 w-4 ${f.has(L.id)?"fill-red-500 text-red-500":"text-foreground"}`})}),L.originalPrice&&o.jsx(wt,{className:"absolute top-2 left-2 bg-rose-500 text-white dark:bg-rose-600 dark:text-white",children:"Sale"}),!L.inStock&&o.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium px-3 py-1 bg-black/40 backdrop-blur-sm rounded",children:"Out of Stock"})})]}),o.jsxs("div",{className:"p-6 flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(wt,{variant:"secondary",className:"text-xs bg-secondary/80 text-secondary-foreground",children:L.category}),!L.inStock&&o.jsx(wt,{variant:"outline",className:"text-xs text-rose-500 dark:text-rose-400 border-rose-200 dark:border-rose-800",children:"Out of Stock"})]}),o.jsx("h4",{className:"font-semibold text-lg line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:L.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((O,R)=>o.jsx(Vr,{className:`h-4 w-4 ${R<Math.floor(L.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},R))}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[L.rating," (",L.reviews.length,")"]})]}),o.jsxs("div",{className:"flex gap-1",children:[L.colors.slice(0,4).map(O=>o.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${O.toLowerCase()==="black"?"bg-black border-gray-300 dark:border-gray-600":O.toLowerCase()==="white"?"bg-white border-gray-400":O.toLowerCase()==="gray"?"bg-gray-400 border-gray-500":O.toLowerCase()==="navy"?"bg-blue-900 border-blue-800":O.toLowerCase()==="brown"?"bg-amber-800 border-amber-700":O.toLowerCase()==="beige"?"bg-amber-100 border-amber-200":O.toLowerCase()==="pink"?"bg-pink-400 border-pink-500":O.toLowerCase()==="blue"?"bg-blue-500 border-blue-600":O.toLowerCase()==="red"?"bg-red-500 border-red-600":"bg-green-500 border-green-600"}`,title:O},O)),L.colors.length>4&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",L.colors.length-4]})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[o.jsxs("span",{className:"font-bold text-lg text-foreground",children:["R",L.price]}),L.originalPrice&&o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",L.originalPrice]})]})]})]})},L.id):o.jsx("div",{children:o.jsx(m2,{product:L,layout:"enhanced",showQuickActions:!0,onAddToCart:_,onViewDetails:N,onToggleWishlist:A,className:`shadow-md hover:shadow-xl transition-shadow duration-300\r
                               bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                               border border-border dark:border-border/50`})},L.id)})}),k.length>12&&o.jsx("div",{className:"text-center mt-8",children:o.jsx(we,{variant:"outline",size:"lg",children:"Load More Products"})})]})}const K1e=mB([{path:"/",element:o.jsx(G1e,{}),children:[{index:!0,element:o.jsx(i8,{onViewProduct:()=>{},onNavigateToCategory:()=>{}})},{path:"products",element:o.jsx(Y1e,{searchQuery:"",selectedCategory:"All",onViewProduct:()=>{},onCategoryChange:()=>{}})}]}],{basename:"/"});bB.createRoot(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(gB,{router:K1e})}));export{ur as _};
