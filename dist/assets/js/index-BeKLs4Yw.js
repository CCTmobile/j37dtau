const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-lGHqy2pz.js","assets/js/vendor-CC_ZIGTP.js","assets/js/router-BAGLiJ1d.js"])))=>i.map(i=>d[i]);
var KB=Object.defineProperty;var YB=(t,e,r)=>e in t?KB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Xt=(t,e,r)=>YB(t,typeof e!="symbol"?e+"":e,r);import{r as vI,a as XB,b as ZB,g as br,c as Mp}from"./vendor-CC_ZIGTP.js";import{r as N,a as lv,R as Y,b as yI,c as xI,d as JB,e as QB}from"./router-BAGLiJ1d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var jy={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function eq(){if(sA)return gf;sA=1;var t=vI(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:h,props:f,_owner:a.current}}return gf.Fragment=r,gf.jsx=o,gf.jsxs=o,gf}var oA;function tq(){return oA||(oA=1,jy.exports=eq()),jy.exports}var s=tq(),Dp={},lA;function rq(){if(lA)return Dp;lA=1;var t=XB();return Dp.createRoot=t.createRoot,Dp.hydrateRoot=t.hydrateRoot,Dp}var nq=rq();function cA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bI(...t){return e=>{let r=!1;const n=t.map(a=>{const i=cA(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():cA(t[a],null)}}}}function Gt(...t){return N.useCallback(bI(...t),t)}function hc(t){const e=aq(t),r=N.forwardRef((n,a)=>{const{children:i,...o}=n,l=N.Children.toArray(i),c=l.find(sq);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var wI=hc("Slot");function aq(t){const e=N.forwardRef((r,n)=>{const{children:a,...i}=r;if(N.isValidElement(a)){const o=lq(a),l=oq(i,a.props);return a.type!==N.Fragment&&(l.ref=n?bI(n,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jI=Symbol("radix.slottable");function iq(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=jI,e}function sq(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jI}function oq(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function lq(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _I(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=_I(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=_I(t))&&(n&&(n+=" "),n+=e);return n}const uA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dA=Bt,zj=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return dA(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=uA(d)||uA(f);return a[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,p]:u},[]);return dA(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Wj="-",cq=t=>{const e=dq(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Wj);return l[0]===""&&l.length!==1&&l.shift(),NI(l,e)||uq(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},NI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?NI(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(Wj);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},fA=/^\[(.+)\]$/,uq=t=>{if(fA.test(t)){const e=fA.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},dq=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)P2(r[a],n,a,e);return n},P2=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:hA(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(fq(a)){P2(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{P2(o,hA(e,i),r,n)})})},hA=(t,e)=>{let r=t;return e.split(Wj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},fq=t=>t.isThemeGetter,hq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},C2="!",O2=":",pq=O2.length,mq=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let o=0,l=0,c=0,u;for(let g=0;g<a.length;g++){let m=a[g];if(o===0&&l===0){if(m===O2){i.push(a.slice(c,g)),c=g+pq;continue}if(m==="/"){u=g;continue}}m==="["?o++:m==="]"?o--:m==="("?l++:m===")"&&l--}const d=i.length===0?a:a.substring(c),f=gq(d),p=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const a=e+O2,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},gq=t=>t.endsWith(C2)?t.substring(0,t.length-1):t.startsWith(C2)?t.substring(1):t,vq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||e[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},yq=t=>({cache:hq(t.cacheSize),parseClassName:mq(t),sortModifiers:vq(t),...cq(t)}),xq=/\s+/,bq=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,o=[],l=t.trim().split(xq);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=n(g),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const _=i(p).join(":"),w=h?_+C2:_,j=w+x;if(o.includes(j))continue;o.push(j);const S=a(x,v);for(let A=0;A<S.length;++A){const O=S[A];o.push(w+O)}c=d+(c.length>0?" "+c:c)}return c};function wq(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=SI(e))&&(n&&(n+=" "),n+=r);return n}const SI=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=SI(t[n]))&&(r&&(r+=" "),r+=e);return r};function jq(t,...e){let r,n,a,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=yq(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=bq(c,r);return a(c,d),d}return function(){return i(wq.apply(null,arguments))}}const Sn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},AI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_q=/^\d+\/\d+$/,Nq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jc=t=>_q.test(t),Yt=t=>!!t&&!Number.isNaN(Number(t)),Vo=t=>!!t&&Number.isInteger(Number(t)),_y=t=>t.endsWith("%")&&Yt(t.slice(0,-1)),Vs=t=>Nq.test(t),Cq=()=>!0,Oq=t=>Sq.test(t)&&!Aq.test(t),PI=()=>!1,Eq=t=>kq.test(t),Tq=t=>Pq.test(t),Iq=t=>!tt(t)&&!rt(t),Rq=t=>Ad(t,EI,PI),tt=t=>AI.test(t),Fl=t=>Ad(t,TI,Oq),Ny=t=>Ad(t,Fq,Yt),pA=t=>Ad(t,CI,PI),Lq=t=>Ad(t,OI,Tq),$p=t=>Ad(t,II,Eq),rt=t=>kI.test(t),vf=t=>kd(t,TI),Mq=t=>kd(t,Bq),mA=t=>kd(t,CI),Dq=t=>kd(t,EI),$q=t=>kd(t,OI),Fp=t=>kd(t,II,!0),Ad=(t,e,r)=>{const n=AI.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},kd=(t,e,r=!1)=>{const n=kI.exec(t);return n?n[1]?e(n[1]):r:!1},CI=t=>t==="position"||t==="percentage",OI=t=>t==="image"||t==="url",EI=t=>t==="length"||t==="size"||t==="bg-size",TI=t=>t==="length",Fq=t=>t==="number",Bq=t=>t==="family-name",II=t=>t==="shadow",qq=()=>{const t=Sn("color"),e=Sn("font"),r=Sn("text"),n=Sn("font-weight"),a=Sn("tracking"),i=Sn("leading"),o=Sn("breakpoint"),l=Sn("container"),c=Sn("spacing"),u=Sn("radius"),d=Sn("shadow"),f=Sn("inset-shadow"),p=Sn("text-shadow"),h=Sn("drop-shadow"),g=Sn("blur"),m=Sn("perspective"),v=Sn("aspect"),x=Sn("ease"),_=Sn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...j(),rt,tt],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],k=()=>[rt,tt,c],T=()=>[Jc,"full","auto",...k()],R=()=>[Vo,"none","subgrid",rt,tt],P=()=>["auto",{span:["full",Vo,rt,tt]},Vo,rt,tt],I=()=>[Vo,"auto",rt,tt],M=()=>["auto","min","max","fr",rt,tt],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...k()],q=()=>[Jc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],F=()=>[t,rt,tt],ee=()=>[...j(),mA,pA,{position:[rt,tt]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",Dq,Rq,{size:[rt,tt]}],B=()=>[_y,vf,Fl],W=()=>["","none","full",u,rt,tt],H=()=>["",Yt,vf,Fl],re=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Yt,_y,mA,pA],X=()=>["","none",g,rt,tt],J=()=>["none",Yt,rt,tt],le=()=>["none",Yt,rt,tt],ue=()=>[Yt,rt,tt],oe=()=>[Jc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[Cq],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[Iq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",Yt],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jc,tt,rt,v]}],container:["container"],columns:[{columns:[Yt,tt,rt,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",rt,tt]}],basis:[{basis:[Jc,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yt,Jc,"auto","initial","none",tt]}],grow:[{grow:["",Yt,rt,tt]}],shrink:[{shrink:["",Yt,rt,tt]}],order:[{order:[Vo,"first","last","none",rt,tt]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,vf,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,rt,Ny]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_y,tt]}],"font-family":[{font:[Mq,tt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,rt,tt]}],"line-clamp":[{"line-clamp":[Yt,"none",rt,Ny]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",rt,tt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rt,tt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yt,"from-font","auto",rt,Fl]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Yt,"auto",rt,tt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt,tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt,tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,rt,tt],radial:["",rt,tt],conic:[Vo,rt,tt]},$q,Lq]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yt,rt,tt]}],"outline-w":[{outline:["",Yt,vf,Fl]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,Fp,$p]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",f,Fp,$p]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Yt,Fl]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",p,Fp,$p]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Yt,rt,tt]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[rt,tt]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rt,tt]}],filter:[{filter:["","none",rt,tt]}],blur:[{blur:X()}],brightness:[{brightness:[Yt,rt,tt]}],contrast:[{contrast:[Yt,rt,tt]}],"drop-shadow":[{"drop-shadow":["","none",h,Fp,$p]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Yt,rt,tt]}],"hue-rotate":[{"hue-rotate":[Yt,rt,tt]}],invert:[{invert:["",Yt,rt,tt]}],saturate:[{saturate:[Yt,rt,tt]}],sepia:[{sepia:["",Yt,rt,tt]}],"backdrop-filter":[{"backdrop-filter":["","none",rt,tt]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Yt,rt,tt]}],"backdrop-contrast":[{"backdrop-contrast":[Yt,rt,tt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yt,rt,tt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yt,rt,tt]}],"backdrop-invert":[{"backdrop-invert":["",Yt,rt,tt]}],"backdrop-opacity":[{"backdrop-opacity":[Yt,rt,tt]}],"backdrop-saturate":[{"backdrop-saturate":[Yt,rt,tt]}],"backdrop-sepia":[{"backdrop-sepia":["",Yt,rt,tt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rt,tt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yt,"initial",rt,tt]}],ease:[{ease:["linear","initial",x,rt,tt]}],delay:[{delay:[Yt,rt,tt]}],animate:[{animate:["none",_,rt,tt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,rt,tt]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[rt,tt,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt,tt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt,tt]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Yt,vf,Fl,Ny]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Uq=jq(qq);function Ze(...t){return Uq(Bt(t))}const Qf=zj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ye=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const o=n?wI:"button";return s.jsx(o,{"data-slot":"button",className:Ze(Qf({variant:e,size:r,className:t})),ref:i,...a})});ye.displayName="Button";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),gA=t=>{const e=Wq(t);return e.charAt(0).toUpperCase()+e.slice(1)},RI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...Hq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:RI("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(Gq,{ref:i,iconNode:e,className:RI(`lucide-${zq(gA(t))}`,`lucide-${t}`,n),...a}));return r.displayName=gA(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Kq=$e("activity",Vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],uo=$e("archive",Yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hj=$e("arrow-left",Xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Jq=$e("at-sign",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],LI=$e("award",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tc=$e("bell",eU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],vA=$e("brush",tU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cv=$e("calendar",rU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],E2=$e("chart-column",nU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],iU=$e("chart-pie",aU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uv=$e("check",sU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gj=$e("chevron-down",oU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MI=$e("chevron-left",lU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vu=$e("chevron-right",cU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dU=$e("chevron-up",uU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pc=$e("circle-alert",fU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wh=$e("circle-check-big",hU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vj=$e("circle-help",pU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DI=$e("circle",mU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],sc=$e("clock",gU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yU=$e("copy",vU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Kj=$e("credit-card",xU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],yA=$e("crop",bU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jU=$e("crown",wU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],NU=$e("dollar-sign",_U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$I=$e("download",SU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],kU=$e("external-link",AU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],T2=$e("eye-off",PU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gi=$e("eye",CU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bs=$e("file-text",OU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eh=$e("funnel",EU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dv=$e("grid-3x3",TU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],go=$e("heart",IU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Sy=$e("history",RU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],FI=$e("house",LU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ay=$e("image",MU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fv=$e("info",DU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xA=$e("key",$U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bA=$e("layers",FU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qU=$e("layout-dashboard",BU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],hv=$e("list",UU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fi=$e("loader-circle",zU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ky=$e("lock",WU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],BI=$e("log-out",HU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],th=$e("mail",GU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yj=$e("map-pin",VU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],qI=$e("menu",KU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],mi=$e("message-circle",YU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ff=$e("message-square",XU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M5 12h14",key:"1ays0h"}]],UI=$e("minus",ZU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],QU=$e("monitor",JU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],$m=$e("moon",ez);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fo=$e("package",tz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],pv=$e("palette",rz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],az=$e("pen-line",nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Py=$e("percent",iz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Xj=$e("phone",sz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oc=$e("plus",oz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zI=$e("printer",lz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lc=$e("refresh-cw",cz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],wA=$e("reply",uz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ja=$e("rotate-ccw",dz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Zj=$e("ruler",fz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fm=$e("save",hz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],mz=$e("scissors",pz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],vo=$e("search",gz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WI=$e("send",vz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mv=$e("settings",yz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bz=$e("share-2",xz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],so=$e("shield",wz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],gv=$e("shopping-bag",jz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bm=$e("shopping-cart",_z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],qm=$e("sparkles",Nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Jj=$e("square-pen",Sz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kz=$e("square",Az);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kr=$e("star",Pz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rh=$e("sun",Cz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],HI=$e("tag",Oz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Tz=$e("target",Ez);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Rz=$e("thumbs-down",Iz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],GI=$e("thumbs-up",Lz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],yo=$e("trash-2",Mz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ku=$e("trending-up",Dz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hh=$e("triangle-alert",$z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Yu=$e("truck",Fz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],VI=$e("upload",Bz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Uz=$e("user-check",qz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xo=$e("user",zz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],KI=$e("users",Wz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Gz=$e("wand-sparkles",Hz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jA=$e("wifi-off",Vz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Yz=$e("wifi",Kz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ws=$e("x",Xz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jz=$e("zap",Zz),Qz=({images:t,alt:e,className:r="",aspectRatio:n="3/1",showNavigation:a=!0,autoSlide:i=!1,autoSlideInterval:o=3e3})=>{const[l,c]=N.useState(0),[u,d]=N.useState(new Set),[f,p]=N.useState(!0),h=()=>{const S=["/images/summer-floral-dress.jpg","/images/evening-gown.jpg","/images/denim-jacket.jpg","/images/ankle-boots.jpg"];return[S[Math.floor(Math.random()*S.length)]]},g=t.filter((S,A)=>!u.has(A)),m=g.length===0?h():g,v=m[l]||m[0];N.useEffect(()=>{u.size>0&&console.log(" ImageCarousel Debug:",{totalImages:t.length,currentIndex:l,imageErrors:Array.from(u),autoSlide:i,aspectRatio:n})},[l,t.length,u,i,n]),N.useEffect(()=>{if(!i||m.length<=1)return;const S=setInterval(()=>{c(A=>{const O=(A+1)%m.length;return console.log(" Auto-slide: Moving to image",O),O})},o);return()=>clearInterval(S)},[i,m.length,o]);const x=()=>{const S=l===0?m.length-1:l-1;console.log(" Navigation: Previous clicked, moving to index",S),c(S)},_=()=>{const S=(l+1)%m.length;console.log(" Navigation: Next clicked, moving to index",S),c(S)},w=S=>{const A=t[S];console.error(" Image Loading Error: Failed to load image at index",S,"URL:",A),A&&console.log(" URL Analysis:",{isDataUrl:A.startsWith("data:"),isHttps:A.startsWith("https:"),isSupabase:A.includes("supabase.co"),urlLength:A.length,urlPreview:A.substring(0,100)+(A.length>100?"...":"")}),d(O=>new Set([...O,S])),console.log(" Fallback triggered for image",S,"- switching to fallback images")},j=S=>{console.log(" Image Loaded Successfully: Index",S,"URL:",t[S]),S===l&&p(!1)};return m.length===0?(console.warn(" ImageCarousel Warning: No valid images or fallbacks available"),s.jsx("div",{className:`flex items-center justify-center bg-gray-100 w-full h-full ${r}`,children:s.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[s.jsx(pc,{className:"h-8 w-8 mb-2"}),s.jsx("span",{className:"text-sm",children:"Image not available"})]})})):s.jsxs("div",{className:`relative overflow-hidden group w-full h-full ${r}`,children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110 opacity-60",style:{backgroundImage:`url(${v})`,backgroundPosition:"center",backgroundSize:"cover"}}),s.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:s.jsx("img",{src:v,alt:`${e} - Image ${l+1} of ${m.length}`,className:"max-w-full max-h-full object-contain",onError:()=>w(l),onLoad:()=>j(l),loading:"lazy"})}),f&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-50",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}),a&&m.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:x,className:`absolute left-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Previous image",children:s.jsx(MI,{className:"h-4 w-4"})}),s.jsx("button",{onClick:_,className:`absolute right-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Next image",children:s.jsx(Vu,{className:"h-4 w-4"})}),s.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 z-20 \r
                        flex space-x-2`,children:m.map((S,A)=>s.jsx("button",{onClick:()=>{console.log(" Indicator clicked: Moving from index",l,"to index",A),c(A),p(!0)},className:`w-3 h-3 rounded-full transition-all duration-200 
                          ${A===l?"bg-white shadow-lg scale-110":"bg-white bg-opacity-60 hover:bg-opacity-80 hover:scale-105"}`,"aria-label":`Go to image ${A+1} of ${m.length}`},A))})]}),!1]})},YI=async(t,e,r,n)=>{try{window.tp||(console.warn("Trustpilot not loaded yet, waiting..."),await Qj());const a="https://rosemamaclothing.store",i=n.map(l=>({sku:l.id,productUrl:`${a}/product/${l.id}`,imageUrl:l.image.startsWith("http")?l.image:`${a}/images/${l.image}`,name:l.name})),o={recipientEmail:t,recipientName:e,referenceId:`Order_${r}`,source:"PostPurchase",productSkus:n.map(l=>l.id),products:i};return window.tp("createInvitation",o),console.log("Trustpilot invitation sent successfully:",o),!0}catch(a){return console.error("Failed to send Trustpilot invitation:",a),!1}},eW=async(t,e,r)=>{try{window.tp||await Qj();const n={recipientEmail:t,recipientName:e,referenceId:`Service_${r}`,source:"ServiceExperience"};return window.tp("createInvitation",n),console.log("Trustpilot service invitation sent successfully:",n),!0}catch(n){return console.error("Failed to send Trustpilot service invitation:",n),!1}},Qj=()=>new Promise((t,e)=>{let r=0;const n=50,a=()=>{typeof window.tp=="function"&&window.TrustpilotObject?t():r>=n?e(new Error("Trustpilot failed to load")):(r++,setTimeout(a,100))};a()}),tW=(t,e,r={})=>{const n=document.getElementById(t);if(!n){console.error(`Element with ID ${t} not found`);return}n.innerHTML="";const a=document.createElement("div");a.className="trustpilot-widget",a.setAttribute("data-locale","en-US"),a.setAttribute("data-template-id",rW(e)),a.setAttribute("data-businessunit-id","66e3a5c8fe53e5eddc65b0fd"),a.setAttribute("data-style-height",r.height||"350px"),a.setAttribute("data-style-width",r.width||"100%"),e==="product-review"&&r.productSku&&a.setAttribute("data-sku",r.productSku),n.appendChild(a),typeof window.tp=="function"?window.tp("loadFromElement",a):console.warn("Trustpilot not loaded, widget will load when script is ready")},rW=t=>{const e={trustbox:"5419b6a8b0d04a076446a9ad","product-review":"5419b6a8b0d04a076446a9ae","review-carousel":"5419b6a8b0d04a076446a9af"};return e[t]||e.trustbox},nW=()=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_A):_A()},_A=async()=>{try{(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))&&console.info(" Trustpilot Development Mode: Widgets may not load on localhost due to domain restrictions. This is expected behavior."),await Qj(),document.querySelectorAll("[data-trustpilot-widget]").forEach(r=>{const n=r,a=n.dataset.trustpilotWidget,i={height:n.dataset.height,width:n.dataset.width,productSku:n.dataset.productSku};tW(n.id,a,i)})}catch(t){console.error("Failed to initialize Trustpilot widgets:",t)}},aW=async t=>{try{await Promise.all([YI(t.customerEmail,t.customerName,t.orderId,t.products),eW(t.customerEmail,t.customerName,t.orderId)]),console.log("All Trustpilot invitations sent successfully")}catch(e){console.error("Error sending Trustpilot invitations:",e)}},iW=(t,e)=>{try{const a=`https://www.trustpilot.com/evaluate/66e3a5c8fe53e5eddc65b0fd?utm_medium=trustbox&utm_source=ProductReview&p=${encodeURIComponent(e)}&s=${encodeURIComponent(t)}&r=${encodeURIComponent(`https://rosemamaclothing.store/product/${t}`)}`;window.open(a,"_blank","width=800,height=700,scrollbars=yes,resizable=yes"),console.log("Opened Trustpilot review form for product:",t)}catch(r){console.error("Error opening Trustpilot review form:",r)}},sW=async t=>{try{const e={default:{rating:4.2,reviewCount:8,trustScore:4.2},sku_1:{rating:4.5,reviewCount:12,trustScore:4.5},sku_2:{rating:4.1,reviewCount:5,trustScore:4.1}};return await new Promise(r=>setTimeout(r,100)),e[t]||e.default}catch(e){return console.error("Error fetching Trustpilot product rating:",e),null}},NA=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),I2=({product:t,layout:e="enhanced",showQuickActions:r=!0,onAddToCart:n,onViewDetails:a,onToggleWishlist:i,className:o=""})=>{const[l,c]=N.useState(null);N.useEffect(()=>{(async()=>{try{const v=await sW(t.id);c(v)}catch(v){console.error("Failed to load Trustpilot rating:",v)}})()},[t.id]);const u=t.originalPrice&&t.originalPrice>t.price&&t.originalPrice!==t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,d=m=>{m.stopPropagation(),n==null||n(t)},f=()=>{a==null||a(t)},p=m=>{m.stopPropagation(),i==null||i(t)},h=t.images&&t.images.length>0?t.images:["/images/placeholder-product.svg"],g=m=>{switch(m.toLowerCase()){case"black":return"bg-black border-gray-300";case"white":return"bg-white border-gray-400";case"gray":case"grey":return"bg-gray-400 border-gray-500";case"navy":return"bg-blue-900 border-blue-800";case"brown":return"bg-amber-800 border-amber-700";case"beige":return"bg-amber-100 border-amber-200";case"pink":return"bg-pink-400 border-pink-500";case"blue":return"bg-blue-500 border-blue-600";case"red":return"bg-red-500 border-red-600";case"green":return"bg-green-500 border-green-600";case"yellow":return"bg-yellow-400 border-yellow-500";case"purple":return"bg-purple-500 border-purple-600";case"orange":return"bg-orange-500 border-orange-600";default:return"bg-gradient-to-br from-purple-400 to-pink-400 border-purple-300"}};return s.jsxs("div",{className:`
        bg-background rounded-lg shadow-md hover:shadow-xl transition-all duration-300 
        cursor-pointer group overflow-hidden border border-border dark:border-border/50 
        hover:border-primary/20 dark:hover:border-primary/30
        flex flex-col
        ${o}
      `,onClick:f,children:[s.jsxs("div",{className:"relative w-full aspect-[3/4] flex-shrink-0",children:[s.jsx(Qz,{images:h,alt:t.name,showNavigation:h.length>1,className:"rounded-t-lg h-full w-full object-cover"}),s.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:u>0&&s.jsxs("span",{className:"bg-rose-500 dark:bg-rose-600 text-white text-xs px-2.5 py-1 rounded-full font-medium shadow-md",children:["-",u,"%"]})}),r&&s.jsxs("div",{className:`absolute top-2 right-2 z-20 flex flex-col gap-2 \r
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:[s.jsx("button",{onClick:p,className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-rose-500`,"aria-label":"Add to wishlist",children:s.jsx(go,{className:"h-4 w-4 text-foreground hover:text-rose-500"})}),s.jsx("button",{onClick:m=>{m.stopPropagation(),f()},className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Quick view",children:s.jsx(gi,{className:"h-4 w-4 text-foreground hover:text-blue-500"})})]})]}),s.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[t.category&&s.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide font-medium",children:t.category}),s.jsx("h3",{className:"font-semibold text-foreground text-sm line-clamp-2 leading-tight",children:t.name}),(l||t.rating)&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((m,v)=>s.jsx(Kr,{className:`h-3.5 w-3.5 ${v<Math.floor((l==null?void 0:l.rating)||t.rating||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},v))}),s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:l?s.jsxs(s.Fragment,{children:["(",l.reviewCount," reviews)"]}):t.reviews&&t.reviews.length>0?s.jsxs(s.Fragment,{children:["(",t.reviews.length,")"]}):s.jsx(s.Fragment,{children:"(0)"})})]}),l&&s.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-green-100 to-green-50 dark:from-green-900/30 dark:to-green-800/20 px-2 py-1 rounded-full",children:[s.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-[8px] font-bold",children:"T"})}),s.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:l.trustScore.toFixed(1)})]})]}),t.colors&&t.colors.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Colors:"}),s.jsxs("div",{className:"flex gap-1",children:[t.colors.slice(0,5).map((m,v)=>s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${g(m)} 
                               shadow-sm hover:scale-110 transition-transform cursor-pointer`,title:m},v)),t.colors.length>5&&s.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",t.colors.length-5]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-foreground text-lg",children:NA(t.price)}),t.originalPrice&&t.originalPrice>t.price&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:NA(t.originalPrice)})]}),s.jsx("button",{onClick:d,className:`bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:hover:bg-white \r
                     text-white dark:text-slate-900 border-2 border-slate-900 dark:border-slate-100\r
                     p-2 rounded-full transition-all duration-200\r
                     hover:scale-105 focus:outline-none focus:ring-2 focus:ring-slate-500 \r
                     shadow-md hover:shadow-lg`,"aria-label":"Add to cart",children:s.jsx(Bm,{className:"h-4 w-4 text-white dark:text-slate-900"})})]})]}),!1]})};function e_({widgetType:t,productSku:e,businessUnitId:r="66e3a5c8fe53e5eddc65b0fd",height:n="350px",width:a="100%",className:i=""}){const[o,l]=N.useState(!0),[c,u]=N.useState(!1),d=`trustpilot-widget-${t}-${e||"general"}`;return N.useEffect(()=>{nW();const p=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),h=setTimeout(()=>{l(!1),p&&u(!0)},p?3e3:5e3),g=setInterval(()=>{const v=document.getElementById(d);if(v){const x=v.querySelector("iframe"),_=v.children.length>1||v.children[0]&&v.children[0].children.length>0;(x||_)&&(l(!1),u(!1),clearInterval(g))}},1e3),m=v=>{v.message&&v.message.includes("trustpilot")&&(console.warn("Trustpilot widget loading issue detected"),u(!0),l(!1))};return window.addEventListener("error",m),()=>{clearTimeout(h),clearInterval(g),window.removeEventListener("error",m)}},[d]),(()=>{const p={className:`trustpilot-widget ${i}`,"data-locale":"en-US","data-template-id":r,"data-businessunit-id":r,"data-style-height":n,"data-style-width":a};switch(t){case"review-carousel":return s.jsx("div",{id:d,...p,"data-widget":"carousel","data-stars":"1,2,3,4,5","data-schema-type":"Organization",children:s.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[o&&!c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),s.jsx("div",{className:"animate-pulse",children:"Loading customer reviews..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),s.jsx("div",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Loading...":"Customer Reviews"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?"Widgets restricted on localhost - will work on live domain":"We're setting up our review system. Check back soon!":"See what our customers are saying"})]}),s.jsx("div",{className:"text-xs mt-2 text-muted-foreground",children:"Powered by Trustpilot"})]})})});case"product-review":return s.jsx("div",{id:d,...p,"data-widget":"product-review","data-sku":e,children:o&&!c?s.jsx("div",{className:"flex items-center justify-center py-8 text-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading product reviews..."}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Powered by Trustpilot"})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),s.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Currently Unavailable":"No reviews yet"}),s.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?'Trustpilot widgets are restricted on localhost for security. They will work on the live domain (rosemamaclothing.store). You can still test the "Write a Review" button functionality.':"We're working on getting reviews set up. In the meantime, you can leave a review directly on Trustpilot.":"Be the first to share your experience with this product. Your review helps other customers make informed decisions."})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:"Powered by"}),s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"T"})}),"Trustpilot"]})]})]})});case"trustbox":default:return s.jsx("div",{id:d,...p,"data-widget":"trustbox","data-stars":"1,2,3,4,5",children:s.jsx("div",{className:"flex items-center justify-center py-6 text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),s.jsx("span",{children:"Loading reviews..."})]}),s.jsx("div",{className:"text-xs",children:"Be the first to leave a review!"})]})})})}})()}const oW="modulepreload",lW=function(t){return"/"+t},SA={},hi=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=lW(u),u in SA)return;SA[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":oW,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},cW=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hi(async()=>{const{default:n}=await Promise.resolve().then(()=>Pd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class t_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class uW extends t_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class AA extends t_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kA extends t_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var R2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(R2||(R2={}));var dW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class fW{constructor(e,{headers:r={},customFetch:n,region:a=R2.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=cW(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return dW(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(m=>{throw new uW(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new AA(f);if(!f.ok)throw new kA(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof kA||a instanceof AA?a.context:void 0}}})}}var Rn={},Qc={},eu={},tu={},ru={},nu={},hW=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xu=hW();const pW=Xu.fetch,XI=Xu.fetch.bind(Xu),ZI=Xu.Headers,mW=Xu.Request,gW=Xu.Response,Pd=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZI,Request:mW,Response:gW,default:XI,fetch:pW},Symbol.toStringTag,{value:"Module"})),vW=ZB(Pd);var Bp={},PA;function JI(){if(PA)return Bp;PA=1,Object.defineProperty(Bp,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Bp.default=t,Bp}var CA;function QI(){if(CA)return nu;CA=1;var t=nu&&nu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nu,"__esModule",{value:!0});const e=t(vW),r=t(JI());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let g=null,m=null,v=null,x=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const j=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");j&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,x=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const j=await u.text();try{g=JSON.parse(j),Array.isArray(g)&&u.status===404&&(m=[],g=null,x=200,_="OK")}catch{u.status===404&&j===""?(x=204,_="No Content"):g={message:j}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,_="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:x,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return nu.default=n,nu}var OA;function e8(){if(OA)return ru;OA=1;var t=ru&&ru.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ru,"__esModule",{value:!0});const e=t(QI());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ru.default=r,ru}var EA;function r_(){if(EA)return tu;EA=1;var t=tu&&tu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tu,"__esModule",{value:!0});const e=t(e8());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return tu.default=r,tu}var TA;function t8(){if(TA)return eu;TA=1;var t=eu&&eu.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eu,"__esModule",{value:!0});const e=t(r_());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,{head:i=!1,count:o}={}){const l=i?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return eu.default=r,eu}var IA;function yW(){if(IA)return Qc;IA=1;var t=Qc&&Qc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qc,"__esModule",{value:!0});const e=t(t8()),r=t(r_());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${i}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{p.searchParams.append(m,v)})):(f="POST",h=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Qc.default=n,Qc}var RA;function xW(){if(RA)return Rn;RA=1;var t=Rn&&Rn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const e=t(yW());Rn.PostgrestClient=e.default;const r=t(t8());Rn.PostgrestQueryBuilder=r.default;const n=t(r_());Rn.PostgrestFilterBuilder=n.default;const a=t(e8());Rn.PostgrestTransformBuilder=a.default;const i=t(QI());Rn.PostgrestBuilder=i.default;const o=t(JI());return Rn.PostgrestError=o.default,Rn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Rn}var bW=xW();const wW=br(bW),{PostgrestClient:jW,PostgrestQueryBuilder:r2e,PostgrestFilterBuilder:n2e,PostgrestTransformBuilder:a2e,PostgrestBuilder:i2e,PostgrestError:s2e}=wW;class _W{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const NW="2.15.5",SW=`realtime-js/${NW}`,AW="1.0.0",L2=1e4,kW=1e3,PW=100;var Bf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bf||(Bf={}));var Pn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pn||(Pn={}));var $i;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($i||($i={}));var M2;(function(t){t.websocket="websocket"})(M2||(M2={}));var Zl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zl||(Zl={}));class CW{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class r8{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Mr||(Mr={}));const LA=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=OW(o,t,e,a),i),{})},OW=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?n8(i,o):D2(o)},n8=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return RW(e,r)}switch(t){case Mr.bool:return EW(e);case Mr.float4:case Mr.float8:case Mr.int2:case Mr.int4:case Mr.int8:case Mr.numeric:case Mr.oid:return TW(e);case Mr.json:case Mr.jsonb:return IW(e);case Mr.timestamp:return LW(e);case Mr.abstime:case Mr.date:case Mr.daterange:case Mr.int4range:case Mr.int8range:case Mr.money:case Mr.reltime:case Mr.text:case Mr.time:case Mr.timestamptz:case Mr.timetz:case Mr.tsrange:case Mr.tstzrange:return D2(e);default:return D2(e)}},D2=t=>t,EW=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TW=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},IW=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},RW=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>n8(e,l))}return t},LW=t=>typeof t=="string"?t.replace(" ","T"):t,a8=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Cy{constructor(e,r,n={},a=L2){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var MA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(MA||(MA={}));class qf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=qf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=qf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const p=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var DA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(DA||(DA={}));var Uf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uf||(Uf={}));var eo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(eo||(eo={}));class n_{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cy(this,$i.join,this.params,this.timeout),this.rejoinTimer=new r8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($i.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new qf(this),this.broadcastEndpointURL=a8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Uf.PRESENCE]&&this.bindings[Uf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(eo.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(eo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(eo.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,x=[];for(let _=0;_<v;_++){const w=m[_],{filter:{event:j,schema:S,table:A,filter:O}}=w,k=h&&h[_];if(k&&k.event===j&&k.schema===S&&k.table===A&&k.filter===O)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Pn.errored,e==null||e(eo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(eo.SUBSCRIBED);return}}).receive("error",h=>{this.state=Pn.errored,e==null||e(eo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(eo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Pn.joined&&e===Uf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($i.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Cy(this,$i.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Cy(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=$i;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var g,m,v,x,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const j=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(_=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:x,type:_,errors:w}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&n_.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($i.close,{},e)}_onError(e){this._on($i.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=LA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=LA(e.columns,e.old_record)),r}}const Oy=()=>{},qp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},MW=[1e3,2e3,5e3,1e4],DW=1e4,$W=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FW{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=L2,this.transport=null,this.heartbeatIntervalMs=qp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oy,this.ref=0,this.reconnectTimer=null,this.logger=Oy,this.conn=null,this.sendBuffer=[],this.serializer=new CW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>hi(async()=>{const{default:l}=await Promise.resolve().then(()=>Pd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${M2.websocket}`,this.httpEndpoint=a8(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_W.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AW}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bf.connecting:return Zl.Connecting;case Bf.open:return Zl.Open;case Bf.closing:return Zl.Closing;default:return Zl.Closed}}isConnected(){return this.connectionState()===Zl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new n_(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger($i.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([$W],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:SW};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push($i.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new r8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:L2,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:qp.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Oy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(f=>MW[f-1]||DW),this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((f,p)=>p(JSON.stringify(f))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class a_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Cn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class BW extends a_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $2 extends a_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var qW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const i8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hi(async()=>{const{default:n}=await Promise.resolve().then(()=>Pd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},UW=()=>qW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hi(()=>Promise.resolve().then(()=>Pd),void 0)).Response:Response}),F2=t=>{if(Array.isArray(t))return t.map(r=>F2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=F2(n)}),e},zW=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Cc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Ey=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WW=(t,e,r)=>Cc(void 0,void 0,void 0,function*(){const n=yield UW();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new BW(Ey(a),i,o))}).catch(a=>{e(new $2(Ey(a),a))}):e(new $2(Ey(t),t))}),HW=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(zW(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Gh(t,e,r,n,a,i){return Cc(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,HW(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>WW(c,l,n))})})}function Um(t,e,r,n){return Cc(this,void 0,void 0,function*(){return Gh(t,"GET",e,r,n)})}function hs(t,e,r,n,a){return Cc(this,void 0,void 0,function*(){return Gh(t,"POST",e,n,a,r)})}function B2(t,e,r,n,a){return Cc(this,void 0,void 0,function*(){return Gh(t,"PUT",e,n,a,r)})}function GW(t,e,r,n){return Cc(this,void 0,void 0,function*(){return Gh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function s8(t,e,r,n,a){return Cc(this,void 0,void 0,function*(){return Gh(t,"DELETE",e,n,a,r)})}var oa=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const VW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$A={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KW{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=i8(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return oa(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$A),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?B2:hs)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return oa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return oa(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$A.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield B2(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Cn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return oa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield hs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new a_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}update(e,r,n){return oa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return oa(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return oa(this,void 0,void 0,function*(){try{return{data:{path:(yield hs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return oa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield hs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return oa(this,void 0,void 0,function*(){try{const a=yield hs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}download(e,r){return oa(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Um(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Cn(l))return{data:null,error:l};throw l}})}info(e){return oa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Um(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:F2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}exists(e){return oa(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield GW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n)&&n instanceof $2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return oa(this,void 0,void 0,function*(){try{return{data:yield s8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}list(e,r,n){return oa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},VW),r),{prefix:e||""});return{data:yield hs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}listV2(e,r){return oa(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield hs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const YW="2.12.1",XW={"X-Client-Info":`storage-js/${YW}`};var au=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class ZW{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},XW),r),this.fetch=i8(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return au(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cn(e))return{data:null,error:e};throw e}})}getBucket(e){return au(this,void 0,void 0,function*(){try{return{data:yield Um(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return au(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return au(this,void 0,void 0,function*(){try{return{data:yield B2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return au(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return au(this,void 0,void 0,function*(){try{return{data:yield s8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class JW extends ZW{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new KW(this.url,this.headers,e,this.fetch)}}const QW="2.57.4";let Rf="";typeof Deno<"u"?Rf="deno":typeof document<"u"?Rf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rf="react-native":Rf="node";const eH={"X-Client-Info":`supabase-js-${Rf}/${QW}`},tH={headers:eH},rH={schema:"public"},nH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aH={};var iH=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const sH=t=>{let e;return t?e=t:typeof fetch>"u"?e=XI:e=fetch,(...r)=>e(...r)},oH=()=>typeof Headers>"u"?ZI:Headers,lH=(t,e,r)=>{const n=sH(r),a=oH();return(i,o)=>iH(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var cH=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function uH(t){return t.endsWith("/")?t:t+"/"}function dH(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>cH(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function fH(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uH(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o8="2.71.1",Su=30*1e3,q2=3,Ty=q2*Su,hH="http://localhost:9999",pH="supabase.auth.token",mH={"X-Client-Info":`gotrue-js/${o8}`},U2="X-Supabase-Api-Version",l8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vH=600*1e3;class i_ extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ut(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class yH extends i_{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xH(t){return Ut(t)&&t.name==="AuthApiError"}class c8 extends i_{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ml extends i_{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Jo extends ml{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bH(t){return Ut(t)&&t.name==="AuthSessionMissingError"}class Up extends ml{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zp extends ml{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wp extends ml{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wH(t){return Ut(t)&&t.name==="AuthImplicitGrantRedirectError"}class FA extends ml{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z2 extends ml{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Iy(t){return Ut(t)&&t.name==="AuthRetryableFetchError"}class BA extends ml{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class W2 extends ml{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qA=` 	
\r=`.split(""),jH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qA.length;e+=1)t[qA[e].charCodeAt(0)]=-2;for(let e=0;e<zm.length;e+=1)t[zm[e].charCodeAt(0)]=e;return t})();function UA(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zm[n]),e.queuedBits-=6}}function u8(t,e,r){const n=jH[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zA(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{SH(o,n,r)};for(let o=0;o<t.length;o+=1)u8(t.charCodeAt(o),a,i);return e.join("")}function _H(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NH(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}_H(n,e)}}function SH(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function AH(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)u8(t.charCodeAt(a),r,n);return new Uint8Array(e)}function kH(t){const e=[];return NH(t,r=>e.push(r)),new Uint8Array(e)}function PH(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>UA(a,r,n)),UA(null,r,n),e.join("")}function CH(t){return Math.round(Date.now()/1e3)+t}function OH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Li=()=>typeof window<"u"&&typeof document<"u",Bl={tested:!1,writable:!1},d8=()=>{if(!Li())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bl.tested)return Bl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bl.tested=!0,Bl.writable=!0}catch{Bl.tested=!0,Bl.writable=!1}return Bl.writable};function EH(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const f8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hi(async()=>{const{default:n}=await Promise.resolve().then(()=>Pd);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},TH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Au=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ql=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ko=async(t,e)=>{await t.removeItem(e)};class vv{constructor(){this.promise=new vv.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}vv.promiseConstructor=Promise;function Ry(t){const e=t.split(".");if(e.length!==3)throw new W2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!gH.test(e[n]))throw new W2("JWT not in base64url format");return{header:JSON.parse(zA(e[0])),payload:JSON.parse(zA(e[1])),signature:AH(e[2]),raw:{header:e[0],payload:e[1]}}}async function IH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function RH(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function LH(t){return("0"+t.toString(16)).substr(-2)}function MH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,LH).join("")}async function DH(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function $H(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await DH(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iu(t,e,r=!1){const n=MH();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Au(t,`${e}-code-verifier`,a);const i=await $H(n);return[i,n===i?"plain":"s256"]}const FH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BH(t){const e=t.headers.get(U2);if(!e||!e.match(FH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qH(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function UH(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function su(t){if(!zH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ly(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WA(t){return JSON.parse(JSON.stringify(t))}var WH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Hl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HH=[502,503,504];async function HA(t){var e;if(!TH(t))throw new z2(Hl(t),0);if(HH.includes(t.status))throw new z2(Hl(t),t.status);let r;try{r=await t.json()}catch(i){throw new c8(Hl(i),i)}let n;const a=BH(t);if(a&&a.getTime()>=l8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new BA(Hl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Jo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new BA(Hl(r),t.status,r.weak_password.reasons);throw new yH(Hl(r),t.status||500,n)}const GH=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Zt(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[U2]||(i[U2]=l8["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await VH(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function VH(t,e,r,n,a,i){const o=GH(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new z2(Hl(c),0)}if(l.ok||await HA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await HA(c)}}function Qs(t){var e;let r=null;ZH(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=CH(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function GA(t){const e=Qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function KH(t){return{data:t,error:null}}function YH(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=WH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function XH(t){return t}function ZH(t){return t.access_token&&t.refresh_token&&t.expires_in}const My=["global","local","others"];var JH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class QH{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=f8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=My[0]){if(My.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${My.join(", ")}`);try{return await Zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nl})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=JH(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:YH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Zt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nl})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:XH});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ut(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){su(e);try{return await Zt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nl})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){su(e);try{return await Zt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:nl})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){su(e);try{return await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:nl})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){su(e.userId);try{const{data:r,error:n}=await Zt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _deleteFactor(e){su(e.userId),su(e.id);try{return{data:await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}}function VA(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function eG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ou={debug:!!(globalThis&&d8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h8 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tG extends h8{}async function rG(t,e,r){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ou.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ou.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}eG();const nG={url:hH,storageKey:pH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KA(t,e,r){return await r()}const lu={};class nh{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nh.nextInstanceID,nh.nextInstanceID+=1,this.instanceID>0&&Li()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},nG),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=f8(a.fetch),this.lock=a.lock||KA,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Li()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rG:this.lock=KA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:d8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VA(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=VA(this.memoryStorage)),Li()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=lu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){lu[this.storageKey]=Object.assign(Object.assign({},lu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=lu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lu[this.storageKey]=Object.assign(Object.assign({},lu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o8}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=EH(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Li()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wH(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ut(r)?{error:r}:{error:new c8("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qs}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ut(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await iu(this.storage,this.storageKey)),i=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:Qs})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Qs})}else throw new zp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:GA})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:GA})}else throw new zp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Up}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,o,l,c,u,d,f,p,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:x,statement:_,options:w}=e;let j;if(Li())if(typeof x=="object")j=x;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))j=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const A=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),_?{statement:_}:null));let O;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")O=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)O=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)g=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const A=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{const{data:v,error:x}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:PH(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qs});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Up}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Ut(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await ql(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qs});if(await Ko(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Up}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ut(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Up}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await iu(this.storage,this.storageKey));const{error:f}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zp("You must provide either an email or phone number.")}catch(l){if(Ut(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await iu(this.storage,this.storageKey)),await Zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:KH})}catch(i){if(Ut(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Jo;const{error:a}=await Zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ut(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new zp("You must provide either an email or phone number and a type")}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ty:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ql(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ly()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jo}:await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:nl})})}catch(r){if(Ut(r))return bH(r)&&(await this._removeSession(),await Ko(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Jo;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await iu(this.storage,this.storageKey));const{data:u,error:d}=await Zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:nl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ry(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Jo;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Li())throw new Wp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new FA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new FA("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Wp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const h=p-d;h*1e3<=Su&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Ut(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(xH(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ko(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=OH(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await iu(this.storage,this.storageKey,!0));try{return await Zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ut(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Zt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Li()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ut(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Zt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await RH(async a=>(a>0&&await IH(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qs})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Iy(i)&&Date.now()+o-n<Su})}catch(n){if(this._debug(r,"error",n),Ut(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Li()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ql(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Au(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ly()}else if(a&&!a.user&&!a.user){const o=await ql(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ko(this.storage,this.storageKey+"-user"),await Au(this.storage,this.storageKey,a)):a.user=Ly()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ty;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ty}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Iy(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new vv;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Jo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ut(i)){const o={session:null,error:i};return Iy(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Au(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=WA(a);await Au(this.storage,this.storageKey,i)}else{const a=WA(r);await Au(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ko(this.storage,this.storageKey),await Ko(this.storage,this.storageKey+"-code-verifier"),await Ko(this.storage,this.storageKey+"-user"),this.userStorage&&await Ko(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Li()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Su);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Su);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Su}ms, refresh threshold is ${q2} ticks`),a<=q2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof h8)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Li()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await iu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Zt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Zt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ry(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+vH>a)return n;const{data:i,error:o}=await Zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ry(n);r!=null&&r.allowExpired||qH(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=UH(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,kH(`${l}.${c}`)))throw new W2("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}}}nh.nextInstanceID=0;const aG=nh;class iG extends aG{constructor(e){super(e)}}var sG=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class oG{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=fH(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:rH,realtime:aH,auth:Object.assign(Object.assign({},nH),{storageKey:c}),global:tH},d=dH(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=lH(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jW(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new JW(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new fW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return sG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iG({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new FW(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lG=(t,e,r)=>new oG(t,e,r);function cG(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uG="https://xsgumgcioyaehccvklbr.supabase.co",dG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZ3VtZ2Npb3lhZWhjY3ZrbGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4MDM2MTIsImV4cCI6MjA3MTM3OTYxMn0.WdjuHdpQglzzCvuEUWOdLl8Z94bK2FQhtJgS2Dlfs5Q",Te=lG(uG,dG),fa=async()=>{try{const{data:t,error:e}=await Te.rpc("is_admin");if(e)throw e;return t||!1}catch(t){return console.error("Error checking admin status:",t),!1}},p8=async t=>{try{let e=Te.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(e=e.eq("category",t));const{data:r,error:n}=await e;if(n)throw n;return r||[]}catch(e){return console.error("Error fetching products:",e),[]}},s_=async t=>{try{if(!await fa())throw new Error("Unauthorized");let r=Te.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(r=r.eq("category",t));const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching all products:",e),[]}},m8=async t=>{try{if(!await fa())throw new Error("Unauthorized");let r=Te.from("products").select("*").eq("is_active",!1).order("updated_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching deleted products:",e),[]}},o_=async t=>{try{const{data:e,error:r}=await Te.from("products").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){return console.error("Error fetching product:",e),null}},l_=async()=>{try{const{data:{user:t}}=await Te.auth.getUser();if(!t)return null;const{data:e,error:r}=await Te.from("cart").select("*").eq("user_id",t.id).single();if(r)throw r;const{data:n,error:a}=await Te.from("cart_items").select(`
        id,
        quantity,
        size,
        color,
        products (id, name, price, image_url, category)
      `).eq("cart_id",e.id);if(a)throw a;return{...e,items:n||[]}}catch(t){return console.error("Error fetching user cart:",t),null}},H2=async(t,e,r,n=1)=>{try{const{data:{user:a}}=await Te.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:i,error:o}=await Te.from("cart").select("id").eq("user_id",a.id).single();if(o)throw o;let l=Te.from("cart_items").select("id, quantity").eq("cart_id",i.id).eq("product_id",t);e?l=l.eq("size",e):l=l.is("size",null),r?l=l.eq("color",r):l=l.is("color",null);const{data:c,error:u}=await l.single();if(u&&u.code!=="PGRST116")throw u;if(c){const{error:d}=await Te.from("cart_items").update({quantity:c.quantity+n}).eq("id",c.id);if(d)throw d}else{const{error:d}=await Te.from("cart_items").insert({cart_id:i.id,product_id:t,size:e||null,color:r||null,quantity:n});if(d)throw d}return!0}catch(a){return console.error("Error adding to cart:",a),!1}},c_=async(t,e,r)=>{try{const{data:{user:n}}=await Te.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:a,error:i}=await Te.from("cart").select("id").eq("user_id",n.id).single();if(i)throw i;let o=Te.from("cart_items").select("id, quantity, size, color").eq("cart_id",a.id).eq("product_id",t);e?o=o.eq("size",e):o=o.is("size",null),r?o=o.eq("color",r):o=o.is("color",null);const{data:l,error:c}=await o.single();if(c&&c.code!=="PGRST116")throw c;return l}catch(n){return console.error("Error finding cart item:",n),null}},g8=async(t,e,r)=>{try{const n=await c_(t,e,r);if(!n)return!1;const{error:a}=await Te.from("cart_items").delete().eq("id",n.id);if(a)throw a;return!0}catch(n){return console.error("Error removing cart item:",n),!1}},fG=async(t,e,r,n)=>{try{const a=await c_(t,r,n);if(!a)return!1;if(e<=0)return await g8(t,r,n);{const{error:i}=await Te.from("cart_items").update({quantity:e}).eq("id",a.id);if(i)throw i;return!0}}catch(a){return console.error("Error updating cart item by variant:",a),!1}},v8=async t=>{try{const{data:{user:e}}=await Te.auth.getUser();if(!e)throw new Error("User not authenticated");const r=await l_();if(!r||!r.items||r.items.length===0)throw new Error("Cart is empty");const{data:n,error:a}=await Te.rpc("create_order_from_cart",{p_user_id:e.id,p_shipping_address:t});if(a)throw a;return n}catch(e){return console.error("Error creating order:",e),null}},y8=async(t,e,r,n=!1,a)=>{var i;try{let o=null;if(n&&a){const{data:p,error:h}=await Te.auth.signUp({email:r.email,password:a,options:{data:{name:`${r.firstName} ${r.lastName}`,phone:r.phone}}});h?console.warn("Account creation failed, proceeding as guest:",h):o=(i=p.user)==null?void 0:i.id}const l={user_id:o,status:"pending",total_amount:t.reduce((p,h)=>p+h.product.price*h.quantity,0),shipping_address:e,customer_email:r.email,customer_name:`${r.firstName} ${r.lastName}`,customer_phone:r.phone},{data:c,error:u}=await Te.from("orders").insert(l).select().single();if(u)throw u;const d=t.map(p=>({order_id:c.id,product_id:p.productId,quantity:p.quantity,price_at_purchase:p.product.price})),{error:f}=await Te.from("order_items").insert(d);if(f)throw f;return c.id}catch(o){return console.error("Error creating guest order:",o),null}},x8=async()=>{try{const{data:{user:t}}=await Te.auth.getUser();if(!t)return[];const{data:e,error:r}=await Te.from("orders").select(`
        id,
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching user orders:",t),[]}},b8=async()=>{try{if(!await fa())throw new Error("Unauthorized");const{data:e,error:r}=await Te.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching all orders:",t),[]}},w8=async(t,e)=>{try{if(!await fa())throw new Error("Unauthorized");const{error:n}=await Te.from("orders").update({status:e}).eq("id",t);if(n)throw n;return!0}catch(r){return console.error("Error updating order status:",r),!1}},j8=async t=>{try{if(!await fa())throw new Error("Unauthorized");const{data:r,error:n}=await Te.from("products").insert(t).select().single();if(n)throw n;return r}catch(e){return console.error("Error creating product:",e),null}},_m=async(t,e)=>{try{if(!await fa())throw new Error("Unauthorized");const{data:n,error:a}=await Te.from("products").update(e).eq("id",t).select().single();if(a)throw a;return n}catch(r){return console.error("Error updating product:",r),null}},_8=async t=>{try{if(console.log(" DeleteProduct: Starting soft deletion for product:",t),!await fa())throw console.error(" DeleteProduct: User is not admin"),new Error("Unauthorized");console.log(" DeleteProduct: Admin check passed");const r=await o_(t);if(!r)throw console.error(" DeleteProduct: Product not found"),new Error("Product not found");console.log(" DeleteProduct: Product found:",r.name),console.log(" DeleteProduct: Performing soft delete (setting is_active to false)");const{error:n}=await Te.from("products").update({is_active:!1}).eq("id",t);if(n)throw console.error(" DeleteProduct: Soft delete failed:",n),n;return console.log(" DeleteProduct: Successfully soft deleted product"),console.log(" DeleteProduct: Product moved to deleted inventory"),!0}catch(e){return console.error(" DeleteProduct: Error during soft delete:",e),!1}},N8=async t=>{try{if(console.log(" RestoreProduct: Starting restore for product:",t),!await fa())throw console.error(" RestoreProduct: User is not admin"),new Error("Unauthorized");const{error:r}=await Te.from("products").update({is_active:!0}).eq("id",t);if(r)throw console.error(" RestoreProduct: Restore failed:",r),r;return console.log(" RestoreProduct: Successfully restored product"),!0}catch(e){return console.error(" RestoreProduct: Error during restore:",e),!1}},S8=async t=>{try{if(console.log(" PermanentDelete: Starting permanent deletion for product:",t),!await fa())throw console.error(" PermanentDelete: User is not admin"),new Error("Unauthorized");const{error:r}=await Te.from("products").delete().eq("id",t);if(r)throw console.error(" PermanentDelete: Permanent delete failed:",r),r;return console.log(" PermanentDelete: Successfully permanently deleted product"),!0}catch(e){return console.error(" PermanentDelete: Error during permanent delete:",e),!1}},A8=async(t,e)=>{try{const{data:r,error:n}=await Te.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Error updating user profile:",r),null}},k8=async t=>{try{const{data:e,error:r}=await Te.auth.updateUser({password:t});if(r)throw r;return e}catch(e){return console.error("Error updating user password:",e),null}},P8=async()=>{try{const{data:t,error:e}=await Te.from("orders").select("total_amount");if(e)throw e;return(t==null?void 0:t.reduce((n,a)=>n+(a.total_amount||0),0))||0}catch(t){return console.error("Error fetching total revenue:",t),0}},C8=async()=>{try{const{count:t,error:e}=await Te.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total orders:",t),0}},O8=async()=>{try{const{count:t,error:e}=await Te.from("users").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total users:",t),0}},E8=async(t,e)=>{try{const{data:r,error:n}=await Te.from("orders").select(`
        created_at,
        total_amount
      `).gte("created_at",t).lte("created_at",e);if(n)throw n;const a={};return(r||[]).forEach(o=>{const l=new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});a[l]||(a[l]={sales:0,orders:0}),a[l].sales+=o.total_amount,a[l].orders+=1}),Object.entries(a).map(([o,l])=>({month:o,sales:l.sales,orders_count:l.orders}))}catch(r){return console.error("Error fetching sales data:",r),[]}},T8=async()=>{try{const{data:t,error:e}=await Te.from("products").select("category");if(e)throw e;const r={};(t||[]).forEach(i=>{const o=i.category||"Uncategorized";r[o]=(r[o]||0)+1});const n=Object.values(r).reduce((i,o)=>i+o,0);return Object.entries(r).map(([i,o])=>({category_name:i,product_count:o,percentage:Math.round(o/n*100*100)/100}))}catch(t){return console.error("Error fetching category distribution:",t),[]}},I8=async(t=10)=>{try{const{data:e,error:r}=await Te.from("orders").select(`
        id,
        total_amount,
        status,
        created_at,
        users!inner (
          email,
          name
        )
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e==null?void 0:e.map(a=>{var i,o;return{order_id:a.id,customer_email:((i=a.users)==null?void 0:i.email)||"N/A",customer_name:((o=a.users)==null?void 0:o.name)||"N/A",amount:a.total_amount,status:a.status,order_date:a.created_at}}))||[]}catch(e){return console.error("Error fetching recent orders:",e),[]}},R8=async(t=30)=>{try{const e=new Date,r=new Date(e.getTime()-t*24*60*60*1e3),n=new Date(e.getTime()-t*2*24*60*60*1e3),a=new Date(e.getTime()-t*24*60*60*1e3),{data:i,error:o}=await Te.from("orders").select("total_amount").gte("created_at",r.toISOString());if(o)throw o;const l=(i==null?void 0:i.reduce((p,h)=>p+(h.total_amount||0),0))||0,{data:c,error:u}=await Te.from("orders").select("total_amount").gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(u)throw u;const d=(c==null?void 0:c.reduce((p,h)=>p+(h.total_amount||0),0))||0,f=d===0?l>0?100:0:Math.round((l-d)/d*100*100)/100;return{current_period_revenue:l,previous_period_revenue:d,growth_percentage:f}}catch(e){return console.error("Error fetching revenue growth:",e),{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}},L8=async t=>{try{if(!await fa())throw new Error("Unauthorized: Only admins can delete orders");const{error:r}=await Te.from("orders").update({deleted_at:new Date().toISOString()}).eq("id",t).is("deleted_at",null);if(r)throw r;return!0}catch(e){return console.error("Error soft deleting order:",e),!1}},M8=async t=>{try{if(!await fa())throw new Error("Unauthorized: Only admins can restore orders");const{error:r}=await Te.from("orders").update({deleted_at:null}).eq("id",t).not("deleted_at","is",null);if(r)throw r;return!0}catch(e){return console.error("Error restoring order:",e),!1}},D8=async t=>{try{if(!await fa())throw new Error("Unauthorized: Only admins can permanently delete orders");const{error:r}=await Te.from("order_items").delete().eq("order_id",t);if(r)throw r;const{error:n}=await Te.from("orders").delete().eq("id",t);if(n)throw n;return!0}catch(e){return console.error("Error permanently deleting order:",e),!1}},$8=async()=>{try{if(!await fa())throw new Error("Unauthorized: Only admins can view deleted orders");const{data:e,error:r}=await Te.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        updated_at,
        deleted_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).not("deleted_at","is",null).order("deleted_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching deleted orders:",t),[]}},Hp=Object.freeze(Object.defineProperty({__proto__:null,addToCart:H2,createGuestOrder:y8,createOrderFromCart:v8,createProduct:j8,deleteProduct:_8,findCartItem:c_,getAllOrders:b8,getAllProducts:s_,getCategoryDistribution:T8,getDeletedOrders:$8,getDeletedProducts:m8,getProduct:o_,getProducts:p8,getRecentOrders:I8,getRevenueGrowth:R8,getSalesData:E8,getTotalOrders:C8,getTotalRevenue:P8,getTotalUsers:O8,getUserCart:l_,getUserOrders:x8,isAdmin:fa,permanentlyDeleteOrder:D8,permanentlyDeleteProduct:S8,removeCartItem:g8,restoreOrder:M8,restoreProduct:N8,softDeleteOrder:L8,supabase:Te,updateCartItemByVariant:fG,updateOrderStatus:w8,updateProduct:_m,updateUserPassword:k8,updateUserProfile:A8},Symbol.toStringTag,{value:"Module"})),F8=N.createContext(void 0),Dy=new Map,cu=t=>{if(Dy.has(t))return Dy.get(t);const e=t.startsWith("/")?t.substring(1):t,r=Te.storage.from("product-images").getPublicUrl(e).data.publicUrl;return Dy.set(t,r),r},hG=({children:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),l=async d=>{try{a(!0),o(null);const p=(await p8(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>m.startsWith("http")?m:cu(m));else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;m.startsWith("http")?g=[m]:g=[cu(m)]}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching products:",f),o("Failed to load products")}finally{a(!1)}},c=async d=>{try{a(!0),o(null);const p=(await s_(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>m.startsWith("http")?m:cu(m));else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;m.startsWith("http")?g=[m]:g=[cu(m)]}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching all products:",f),o("Failed to load products")}finally{a(!1)}},u=async d=>{try{a(!0),o(null);const f=await o_(d);if(!f)return null;let p=[];if(f.images&&Array.isArray(f.images)&&f.images.length>0)p=f.images.filter(g=>g&&typeof g=="string"&&g.trim()!=="").map(g=>g.startsWith("http")?g:cu(g));else if(f.image_url&&typeof f.image_url=="string"&&f.image_url.trim()!==""){const g=f.image_url;g.startsWith("http")?p=[g]:p=[cu(g)]}else p=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:f.id,name:f.name,category:f.category,price:f.price,images:p,sizes:f.sizes||["S","M","L"],colors:f.colors||["Black","White"],description:f.description||"",reviews:[],rating:4.5,inStock:f.in_stock??!0,originalPrice:f.original_price||void 0}}catch(f){return console.error("Error fetching product:",f),o("Failed to load product"),null}finally{a(!1)}};return N.useEffect(()=>{l()},[]),s.jsx(F8.Provider,{value:{products:e,loading:n,error:i,fetchProducts:l,fetchAllProducts:c,fetchProduct:u},children:t})},Cd=()=>{const t=N.useContext(F8);if(t===void 0)throw new Error("useProducts must be used within a ProductProvider");return t},B8=N.createContext(void 0),pG=({children:t})=>{const[e,r]=N.useState(null),[n,a]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState(!1),h=N.useRef(!1),g=N.useRef(!1),m=N.useCallback(async()=>{var A,O;if(h.current){console.log("fetchUser: Already fetching, skipping...");return}console.log("fetchUser: Starting"),h.current=!0;try{a(!0),o(null),console.log("fetchUser: Getting auth user from Supabase");const{data:{user:k}}=await Te.auth.getUser();console.log("fetchUser: Checking admin status");const T=await fa();if(console.log(`fetchUser: Admin status is ${T}`),k){console.log(`fetchUser: Auth user found with ID: ${k.id}`),d(k.email_confirmed_at!==null),console.log('fetchUser: Fetching user profile from "users" table');const{data:R,error:P}=await Te.from("users").select("*").eq("id",k.id).single();if(P&&P.code!=="PGRST116")throw console.error("fetchUser: Error fetching user profile:",P),P;console.log("fetchUser: User profile data:",R);const I={id:k.id,email:k.email??"",name:(R==null?void 0:R.name)??((A=k.user_metadata)==null?void 0:A.name)??"New User",phone:(R==null?void 0:R.phone)??((O=k.user_metadata)==null?void 0:O.phone)??void 0,membershipTier:"Bronze",points:0,created_at:R==null?void 0:R.created_at,preferences:{sizes:[],colors:[],styles:[]}};console.log("fetchUser: User state transformed and ready to be set:",I),r(I),c(T)}else console.log("fetchUser: No auth user found. Clearing user state."),r(null),c(!1),d(!1)}catch(k){console.error("Error in fetchUser:",k),o(k.message||"Failed to load user data"),r(null),c(!1)}finally{console.log("fetchUser: Finished"),a(!1),h.current=!1}},[]),v=async(A,O)=>{console.log("signIn: Starting"),a(!0),o(null);try{console.log("signIn: Calling Supabase signInWithPassword");const{data:k,error:T}=await Te.auth.signInWithPassword({email:A,password:O});if(console.log("signIn: Supabase call returned."),console.log("signIn: Data:",k),console.log("signIn: Error:",T),T)throw console.error("signIn: Supabase auth error:",T),T;return console.log("signIn: Supabase sign-in appears successful. Waiting for auth state change."),!0}catch(k){return console.error("Error in signIn:",k),o(k.message||"Failed to sign in"),!1}finally{console.log("signIn: Finished"),a(!1)}},x=async(A,O,k)=>{try{a(!0),o(null);const{error:T}=await Te.auth.signUp({email:A,password:O,options:{data:{name:k}}});if(T)throw T;return!0}catch(T){return console.error("Error signing up:",T),o(T.message||"Failed to sign up"),!1}finally{a(!1)}},_=async()=>{console.log("signOut: Starting logout process"),g.current=!0;try{a(!0),console.log("signOut: Calling supabase.auth.signOut()");const{error:A}=await Te.auth.signOut();if(A)throw console.error("signOut: Supabase sign out error:",A),A;console.log("signOut: Supabase sign out successful"),console.log("signOut: Clearing local state"),r(null),c(!1),console.log("signOut: Local state cleared")}catch(A){console.error("signOut: Error during logout:",A),o("Failed to sign out")}finally{console.log("signOut: Setting loading to false"),a(!1)}},w=async A=>{try{a(!0),o(null);const{error:O}=await Te.auth.resetPasswordForEmail(A);if(O)throw O;return!0}catch(O){return console.error("Error resetting password:",O),o(O.message||"Failed to reset password"),!1}finally{a(!1)}},j=async()=>{try{o(null),p(!0);const{data:{user:A}}=await Te.auth.getUser();if(!A)throw new Error("User not found");const{error:O}=await Te.auth.resend({type:"signup",email:A.email});if(O)throw O;return!0}catch(A){return console.error("Error resending verification:",A),o(A.message||"Failed to resend verification email"),!1}finally{p(!1)}},S=async()=>{try{const{data:{user:A}}=await Te.auth.getUser();A&&d(A.email_confirmed_at!==null)}catch(A){console.error("Error checking verification status:",A)}};return N.useEffect(()=>{console.log("AuthContext: Component mounted, resetting logout flag"),g.current=!1},[]),N.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const{data:{subscription:A}}=Te.auth.onAuthStateChange(async(O,k)=>{if(console.log("AuthContext: Auth state changed:",O,k?"Session exists":"No session"),g.current&&O==="SIGNED_OUT"){console.log("AuthContext: Skipping fetchUser during logout process");return}await m()});return m(),()=>{console.log("AuthContext: Unsubscribing from auth state listener"),A.unsubscribe()}},[m]),s.jsx(B8.Provider,{value:{user:e,loading:n,error:i,isAdmin:l,isEmailVerified:u,pendingVerification:f,signIn:v,signUp:x,signOut:_,resetPassword:w,resendVerification:j,checkVerificationStatus:S},children:t})},$n=()=>{const t=N.useContext(B8);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function gl(){return s.jsx("div",{className:"h-24 w-full"})}const q8=N.createContext(void 0),mG=({children:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),{user:l}=$n(),c="rosemama_guest_cart",u=!l,d=()=>{try{const w=localStorage.getItem(c);if(w){const j=JSON.parse(w);r(j)}else r([])}catch(w){console.error("Error loading guest cart:",w),r([])}},f=w=>{try{localStorage.setItem(c,JSON.stringify(w))}catch(j){console.error("Error saving guest cart:",j)}},p=async()=>{if(l&&e.length>0)try{for(const w of e)await H2(w.productId,w.size,w.color,w.quantity);localStorage.removeItem(c),await h()}catch(w){console.error("Error merging guest cart:",w)}},h=async()=>{try{a(!0),o(null);const w=await l_();if(!w){r([]);return}const j=w.items.map(S=>({productId:S.products.id,product:{id:S.products.id,name:S.products.name,category:S.products.category,price:S.products.price,images:S.products.image_url?[S.products.image_url]:[],sizes:["S","M","L"],colors:["Black","White"],description:"",reviews:[],rating:4.5,inStock:!0},size:S.size||"M",color:S.color||"Black",quantity:S.quantity}));r(j)}catch(w){console.error("Error fetching cart:",w),o("Failed to load cart")}finally{a(!1)}},g=async(w,j,S,A)=>{try{if(a(!0),o(null),u){const O={productId:w.id,product:w,size:j,color:S,quantity:A},k=[...e],T=k.findIndex(R=>R.productId===w.id&&R.size===j&&R.color===S);return T>=0?k[T].quantity+=A:k.push(O),r(k),f(k),!0}else{const O=await H2(w.id,j,S,A);return O&&await h(),O}}catch(O){return console.error("Error adding to cart:",O),o("Failed to add item to cart"),!1}finally{a(!1)}},m=async w=>{try{console.log("CartContext removeItem called:",{cartItemId:w,isGuestCart:u}),a(!0),o(null);const{supabase:j}=await hi(async()=>{const{supabase:O}=await Promise.resolve().then(()=>Hp);return{supabase:O}},void 0),{data:{session:S}}=await j.auth.getSession(),A=S&&S.user;if(console.log("Session check:",{hasValidSession:A,sessionExists:!!S,userExists:!!(S!=null&&S.user)}),A){const[O,k,T]=w.split("|");console.log("Removing from authenticated cart:",{productId:O,size:k,color:T});const{removeCartItem:R}=await hi(async()=>{const{removeCartItem:I}=await Promise.resolve().then(()=>Hp);return{removeCartItem:I}},void 0),P=await R(O,k,T);return P&&await h(),P}else{const[O,k,T]=w.split("|");console.log("Removing from guest cart (no valid session):",{productId:O,size:k,color:T}),console.log("Current items before filter:",e);const R=e.filter(P=>!(P.productId===O&&P.size===k&&P.color===T));return console.log("Updated items after filter:",R),r(R),f(R),!0}}catch(j){return console.error("Error removing from cart:",j),o("Failed to remove item from cart"),!1}finally{a(!1)}},v=async(w,j)=>{try{console.log("CartContext updateItemQuantity called:",{cartItemId:w,quantity:j,isGuestCart:u}),a(!0),o(null);const{supabase:S}=await hi(async()=>{const{supabase:k}=await Promise.resolve().then(()=>Hp);return{supabase:k}},void 0),{data:{session:A}}=await S.auth.getSession(),O=A&&A.user;if(console.log("Session check for update:",{hasValidSession:O,sessionExists:!!A,userExists:!!(A!=null&&A.user)}),O){const[k,T,R]=w.split("|");console.log("Updating authenticated cart item:",{productId:k,size:T,color:R,quantity:j});const{updateCartItemByVariant:P}=await hi(async()=>{const{updateCartItemByVariant:M}=await Promise.resolve().then(()=>Hp);return{updateCartItemByVariant:M}},void 0),I=await P(k,j,T,R);return I&&await h(),I}else{const[k,T,R]=w.split("|");console.log("Updating guest cart item:",{productId:k,size:T,color:R,quantity:j}),console.log("Current items before update:",e);const P=e.map(I=>I.productId===k&&I.size===T&&I.color===R?{...I,quantity:j}:I);return console.log("Updated items after update:",P),r(P),f(P),!0}}catch(S){return console.error("Error updating cart quantity:",S),o("Failed to update cart"),!1}finally{a(!1)}},x=()=>e.reduce((w,j)=>w+j.quantity,0),_=()=>e.reduce((w,j)=>w+j.product.price*j.quantity,0);return N.useEffect(()=>{(async()=>{l?await h():(d(),a(!1))})()},[l]),N.useEffect(()=>{l&&e.length>0&&localStorage.getItem(c)&&p()},[l]),s.jsx(q8.Provider,{value:{items:e,loading:n,error:i,addItem:g,removeItem:m,updateItemQuantity:v,getTotalItems:x,getTotalPrice:_,isGuestCart:u,mergeGuestCartOnLogin:p,fetchCart:h},children:t})},Vh=()=>{const t=N.useContext(q8);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};function U8({onViewProduct:t,onNavigateToCategory:e}){const{products:r}=Cd(),{user:n}=$n(),{addItem:a}=Vh(),[i,o]=N.useState(new Set);console.log(" Home Component Debug:",{totalProducts:r.length,featuredProductsCount:r.slice(0,4).length,saleProductsCount:r.filter(g=>g.originalPrice&&g.price<g.originalPrice).length,userLoggedIn:!!n,likedProductsCount:i.size});const l=[{name:"Dresses",icon:"",color:"bg-pink-100 dark:bg-pink-900/30"},{name:"Casual",icon:"",color:"bg-blue-100 dark:bg-blue-900/30"},{name:"Shoes",icon:"",color:"bg-purple-100 dark:bg-purple-900/30"},{name:"Outwear",icon:"",color:"bg-orange-100 dark:bg-orange-900/30"},{name:"Party",icon:"",color:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Accessories",icon:"",color:"bg-green-100 dark:bg-green-900/30"}],c=r.slice(0,4),u=r.filter(g=>g.originalPrice).slice(0,3),d=async g=>{try{console.log(" Home: Adding product to cart:",g.id,g.name),await a(g,"M","Default",1)?console.log(" Home: Product added to cart successfully"):console.error(" Home: Failed to add product to cart")}catch(m){console.error(" Home: Error adding product to cart:",m)}},f=g=>{console.log(" Home: Viewing product details:",g.id,g.name),t(g)},p=g=>{console.log(" Home: Toggling wishlist for product:",g.id,g.name),o(m=>{const v=new Set(m);return v.has(g.id)?(v.delete(g.id),console.log(" Home: Removed from wishlist")):(v.add(g.id),console.log(" Home: Added to wishlist")),v})},h=()=>{const g=new Date().getHours(),m=g<12?"Good morning":g<17?"Good afternoon":"Good evening";return n?`${m}, ${n.name.split(" ")[0]}! `:`${m}! Welcome to Rosemama`};return s.jsxs("div",{className:"space-y-8 pb-24",children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/10 dark:from-primary/10 dark:to-secondary/20 px-6 py-16 rounded-b-3xl overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-50"}),s.jsxs("div",{className:"container mx-auto text-center space-y-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(qm,{className:"h-6 w-6 text-primary animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-primary bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-full",children:n?"Personalized for You":"Latest Collection"})]}),s.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:h()}),s.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto text-lg leading-relaxed",children:n?"Your fashion journey awaits with personalized recommendations tailored just for you.":"Explore our curated collection of premium fashion pieces. Sign in to unlock exclusive rewards and personalized recommendations!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[s.jsxs(ye,{onClick:()=>e("All"),size:"lg",className:"group transform hover:scale-105 transition-all duration-300",children:[s.jsx("span",{className:"mr-2",children:"Shop Collection"}),s.jsx(Vu,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),n&&s.jsxs(ye,{variant:"outline",size:"lg",onClick:()=>e("Sale"),className:"group transform hover:scale-105 transition-all duration-300",children:[s.jsx("span",{className:"mr-2",children:"View Offers"}),s.jsx(Ku,{className:"h-4 w-4 group-hover:rotate-12 transition-transform"})]})]})]})]}),s.jsxs("div",{className:"px-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Shop by Category"}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:l.map(g=>s.jsxs(ye,{variant:"ghost",className:"h-auto p-4 flex-col gap-2 hover:scale-105 transition-transform dark:hover:bg-accent/50",onClick:()=>e(g.name),children:[s.jsx("div",{className:`w-12 h-12 rounded-full ${g.color} flex items-center justify-center text-xl dark:text-foreground`,children:g.icon}),s.jsx("span",{className:"text-xs text-foreground",children:g.name})]},g.name))})]}),s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ku,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n?"Recommended for You":"Featured Products"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(g=>{var m,v;return console.log(" Home: Rendering featured product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),s.jsxs("div",{className:"h-[480px]",children:[" ",s.jsx(I2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})})]}),u.length>0&&s.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-destructive/10 to-orange-100 dark:from-destructive/20 dark:to-orange-900/30 rounded-2xl p-4 md:p-6 lg:p-8 mt-6 md:mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl animate-bounce",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-destructive dark:text-destructive-foreground",children:" Flash Sale"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" Limited time offers! Ends soon."})]})]}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{console.log(" Home: View All Flash Sale clicked"),e("All")},className:"dark:border-border dark:hover:bg-accent",children:"View All"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:u.map(g=>{var m,v;return console.log(" Home: Rendering flash sale product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),s.jsxs("div",{className:"h-[480px]",children:[" ",s.jsx(I2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})}),s.jsx("div",{className:"border-t border-border/50 pt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),s.jsx("span",{children:"Up to 70% OFF"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),s.jsx("span",{children:"Limited Stock"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),s.jsx("span",{children:"Sale ends in 2 days"})]})]})})]})}),s.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Why Shop at Rosemama?"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Discover what makes us your premier fashion destination"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Free Shipping"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Free delivery on Orders over R3500"})]}),s.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Secure Payments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"100% secure checkout protected"})]}),s.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Curated Collections"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Exclusive fashion pieces selected just for you"})]}),s.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Premium Quality"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"curated fashion"})]})]})]}),s.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-2xl p-4 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"What Our Customers Say"}),s.jsx("p",{className:"text-muted-foreground",children:"Real reviews from verified customers"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(e_,{widgetType:"review-carousel",width:"100%",height:"200",className:"max-w-4xl"})}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/70 dark:bg-card/70 px-6 py-3 rounded-full border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-bold",children:"T"})}),s.jsx("span",{className:"font-semibold text-foreground",children:"Trustpilot"})]}),s.jsx("div",{className:"h-4 w-px bg-border"}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Be the first to review us!"}),s.jsx("div",{className:"flex",children:[...Array(5)].map((g,m)=>s.jsx(Kr,{className:"h-3 w-3 text-gray-300 dark:text-gray-600"},m))})]})]})}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Help other fashion lovers by sharing your experience"}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>window.open("https://www.trustpilot.com/review/rosemamaclothing.store","_blank"),className:"bg-green-50 hover:bg-green-100 border-green-200 text-green-700 hover:text-green-800",children:[s.jsx(Kr,{className:"h-4 w-4 mr-1"}),"Write a Review"]})]})]})}),s.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Join Our Fashion Community"}),s.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"Get exclusive access to flash sales, new arrivals, and personalized recommendations"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!n&&s.jsx(ye,{size:"lg",onClick:()=>{},className:"group",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Sign In to Get Started"}),s.jsx(Vu,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),s.jsx(ye,{variant:"outline",size:"lg",onClick:()=>e("All"),children:"Continue Shopping"})]})]})}),s.jsx(gl,{})]})}function Me({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:Ze("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function At({className:t,...e}){return s.jsx("div",{"data-slot":"card-header",className:Ze("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function kt({className:t,...e}){return s.jsx("h4",{"data-slot":"card-title",className:Ze("leading-none",t),...e})}function YA({className:t,...e}){return s.jsx("p",{"data-slot":"card-description",className:Ze("text-muted-foreground",t),...e})}function De({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:Ze("px-6 [&:last-child]:pb-6",t),...e})}const gG=zj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:t,variant:e,asChild:r=!1,...n}){const a=r?wI:"span";return s.jsx(a,{"data-slot":"badge",className:Ze(gG({variant:e}),t),...n})}var vG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=vG.reduce((t,e)=>{const r=hc(`Primitive.${e}`),n=N.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function yG(t,e){t&&lv.flushSync(()=>t.dispatchEvent(e))}var xG="Separator",XA="horizontal",bG=["horizontal","vertical"],z8=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=XA,...a}=t,i=wG(n)?n:XA,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(dt.div,{"data-orientation":i,...l,...a,ref:e})});z8.displayName=xG;function wG(t){return bG.includes(t)}var jG=z8;function ba({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return s.jsx(jG,{"data-slot":"separator-root",decorative:r,orientation:e,className:Ze("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function _G(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const NG=t=>{switch(t){case"success":return kG;case"info":return CG;case"warning":return PG;case"error":return OG;default:return null}},SG=Array(12).fill(0),AG=({visible:t,className:e})=>Y.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Y.createElement("div",{className:"sonner-spinner"},SG.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kG=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PG=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CG=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OG=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EG=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TG=()=>{const[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let G2=1;class IG{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:G2++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],Y.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(LG(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!Y.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...g})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,h=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...h})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||G2++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xa=new IG,RG=(t,e)=>{const r=(e==null?void 0:e.id)||G2++;return xa.addToast({title:t,...e,id:r}),r},LG=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",MG=RG,DG=()=>xa.toasts,$G=()=>xa.getActiveToasts(),Se=Object.assign(MG,{success:xa.success,info:xa.info,warning:xa.warning,error:xa.error,custom:xa.custom,message:xa.message,promise:xa.promise,dismiss:xa.dismiss,loading:xa.loading},{getHistory:DG,getToasts:$G});_G("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Gp(t){return t.label!==void 0}const FG=3,BG="24px",qG="16px",ZA=4e3,UG=356,zG=14,WG=45,HG=200;function us(...t){return t.filter(Boolean).join(" ")}function GG(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const VG=t=>{var e,r,n,a,i,o,l,c,u;const{invert:d,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:m,heights:v,index:x,toasts:_,expanded:w,removeToast:j,defaultRichColors:S,closeButton:A,style:O,cancelButtonStyle:k,actionButtonStyle:T,className:R="",descriptionClassName:P="",duration:I,position:M,gap:D,expandByDefault:G,classNames:$,icons:q,closeButtonAriaLabel:F="Close toast"}=t,[ee,he]=Y.useState(null),[fe,B]=Y.useState(null),[W,H]=Y.useState(!1),[re,ce]=Y.useState(!1),[se,X]=Y.useState(!1),[J,le]=Y.useState(!1),[ue,oe]=Y.useState(!1),[Ne,ge]=Y.useState(0),[te,Ve]=Y.useState(0),Be=Y.useRef(f.duration||I||ZA),qe=Y.useRef(null),_e=Y.useRef(null),Ue=x===0,Ee=x+1<=m,ze=f.type,Ge=f.dismissible!==!1,Vt=f.className||"",wt=f.descriptionClassName||"",Nt=Y.useMemo(()=>v.findIndex(He=>He.toastId===f.id)||0,[v,f.id]),nr=Y.useMemo(()=>{var He;return(He=f.closeButton)!=null?He:A},[f.closeButton,A]),Ct=Y.useMemo(()=>f.duration||I||ZA,[f.duration,I]),et=Y.useRef(0),mt=Y.useRef(0),at=Y.useRef(0),er=Y.useRef(null),[Jt,it]=M.split("-"),xt=Y.useMemo(()=>v.reduce((He,cr,Qt)=>Qt>=Nt?He:He+cr.height,0),[v,Nt]),tr=TG(),gt=f.invert||d,Lt=ze==="loading";mt.current=Y.useMemo(()=>Nt*D+xt,[Nt,xt]),Y.useEffect(()=>{Be.current=Ct},[Ct]),Y.useEffect(()=>{H(!0)},[]),Y.useEffect(()=>{const He=_e.current;if(He){const cr=He.getBoundingClientRect().height;return Ve(cr),g(Qt=>[{toastId:f.id,height:cr,position:f.position},...Qt]),()=>g(Qt=>Qt.filter(mr=>mr.toastId!==f.id))}},[g,f.id]),Y.useLayoutEffect(()=>{if(!W)return;const He=_e.current,cr=He.style.height;He.style.height="auto";const Qt=He.getBoundingClientRect().height;He.style.height=cr,Ve(Qt),g(mr=>mr.find(Ke=>Ke.toastId===f.id)?mr.map(Ke=>Ke.toastId===f.id?{...Ke,height:Qt}:Ke):[{toastId:f.id,height:Qt,position:f.position},...mr])},[W,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const ot=Y.useCallback(()=>{ce(!0),ge(mt.current),g(He=>He.filter(cr=>cr.toastId!==f.id)),setTimeout(()=>{j(f)},HG)},[f,j,g,mt]);Y.useEffect(()=>{if(f.promise&&ze==="loading"||f.duration===1/0||f.type==="loading")return;let He;return w||h||tr?(()=>{if(at.current<et.current){const mr=new Date().getTime()-et.current;Be.current=Be.current-mr}at.current=new Date().getTime()})():(()=>{Be.current!==1/0&&(et.current=new Date().getTime(),He=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ot()},Be.current))})(),()=>clearTimeout(He)},[w,h,f,ze,tr,ot]),Y.useEffect(()=>{f.delete&&(ot(),f.onDismiss==null||f.onDismiss.call(f,f))},[ot,f.delete]);function qr(){var He;if(q!=null&&q.loading){var cr;return Y.createElement("div",{className:us($==null?void 0:$.loader,f==null||(cr=f.classNames)==null?void 0:cr.loader,"sonner-loader"),"data-visible":ze==="loading"},q.loading)}return Y.createElement(AG,{className:us($==null?void 0:$.loader,f==null||(He=f.classNames)==null?void 0:He.loader),visible:ze==="loading"})}const Hr=f.icon||(q==null?void 0:q[ze])||NG(ze);var Kt,bt;return Y.createElement("li",{tabIndex:0,ref:_e,className:us(R,Vt,$==null?void 0:$.toast,f==null||(e=f.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[ze],f==null||(r=f.classNames)==null?void 0:r[ze]),"data-sonner-toast":"","data-rich-colors":(Kt=f.richColors)!=null?Kt:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":W,"data-promise":!!f.promise,"data-swiped":ue,"data-removed":re,"data-visible":Ee,"data-y-position":Jt,"data-x-position":it,"data-index":x,"data-front":Ue,"data-swiping":se,"data-dismissible":Ge,"data-type":ze,"data-invert":gt,"data-swipe-out":J,"data-swipe-direction":fe,"data-expanded":!!(w||G&&W),"data-testid":f.testId,style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${re?Ne:mt.current}px`,"--initial-height":G?"auto":`${te}px`,...O,...f.style},onDragEnd:()=>{X(!1),he(null),er.current=null},onPointerDown:He=>{He.button!==2&&(Lt||!Ge||(qe.current=new Date,ge(mt.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(X(!0),er.current={x:He.clientX,y:He.clientY})))},onPointerUp:()=>{var He,cr,Qt;if(J||!Ge)return;er.current=null;const mr=Number(((He=_e.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((cr=_e.current)==null?void 0:cr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ke=new Date().getTime()-((Qt=qe.current)==null?void 0:Qt.getTime()),wr=ee==="x"?mr:Bn,Vn=Math.abs(wr)/Ke;if(Math.abs(wr)>=WG||Vn>.11){ge(mt.current),f.onDismiss==null||f.onDismiss.call(f,f),B(ee==="x"?mr>0?"right":"left":Bn>0?"down":"up"),ot(),le(!0);return}else{var Er,Tr;(Er=_e.current)==null||Er.style.setProperty("--swipe-amount-x","0px"),(Tr=_e.current)==null||Tr.style.setProperty("--swipe-amount-y","0px")}oe(!1),X(!1),he(null)},onPointerMove:He=>{var cr,Qt,mr;if(!er.current||!Ge||((cr=window.getSelection())==null?void 0:cr.toString().length)>0)return;const Ke=He.clientY-er.current.y,wr=He.clientX-er.current.x;var Vn;const Er=(Vn=t.swipeDirections)!=null?Vn:GG(M);!ee&&(Math.abs(wr)>1||Math.abs(Ke)>1)&&he(Math.abs(wr)>Math.abs(Ke)?"x":"y");let Tr={x:0,y:0};const Sr=ir=>1/(1.5+Math.abs(ir)/20);if(ee==="y"){if(Er.includes("top")||Er.includes("bottom"))if(Er.includes("top")&&Ke<0||Er.includes("bottom")&&Ke>0)Tr.y=Ke;else{const ir=Ke*Sr(Ke);Tr.y=Math.abs(ir)<Math.abs(Ke)?ir:Ke}}else if(ee==="x"&&(Er.includes("left")||Er.includes("right")))if(Er.includes("left")&&wr<0||Er.includes("right")&&wr>0)Tr.x=wr;else{const ir=wr*Sr(wr);Tr.x=Math.abs(ir)<Math.abs(wr)?ir:wr}(Math.abs(Tr.x)>0||Math.abs(Tr.y)>0)&&oe(!0),(Qt=_e.current)==null||Qt.style.setProperty("--swipe-amount-x",`${Tr.x}px`),(mr=_e.current)==null||mr.style.setProperty("--swipe-amount-y",`${Tr.y}px`)}},nr&&!f.jsx&&ze!=="loading"?Y.createElement("button",{"aria-label":F,"data-disabled":Lt,"data-close-button":!0,onClick:Lt||!Ge?()=>{}:()=>{ot(),f.onDismiss==null||f.onDismiss.call(f,f)},className:us($==null?void 0:$.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(bt=q==null?void 0:q.close)!=null?bt:EG):null,(ze||f.icon||f.promise)&&f.icon!==null&&((q==null?void 0:q[ze])!==null||f.icon)?Y.createElement("div",{"data-icon":"",className:us($==null?void 0:$.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||qr():null,f.type!=="loading"?Hr:null):null,Y.createElement("div",{"data-content":"",className:us($==null?void 0:$.content,f==null||(i=f.classNames)==null?void 0:i.content)},Y.createElement("div",{"data-title":"",className:us($==null?void 0:$.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?Y.createElement("div",{"data-description":"",className:us(P,wt,$==null?void 0:$.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),Y.isValidElement(f.cancel)?f.cancel:f.cancel&&Gp(f.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||k,onClick:He=>{Gp(f.cancel)&&Ge&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,He),ot())},className:us($==null?void 0:$.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,Y.isValidElement(f.action)?f.action:f.action&&Gp(f.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:He=>{Gp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,He),!He.defaultPrevented&&ot())},className:us($==null?void 0:$.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function JA(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function KG(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?qG:BG;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const YG=Y.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:g,style:m,visibleToasts:v=FG,toastOptions:x,dir:_=JA(),gap:w=zG,icons:j,containerAriaLabel:S="Notifications"}=e,[A,O]=Y.useState([]),k=Y.useMemo(()=>n?A.filter(W=>W.toasterId===n):A.filter(W=>!W.toasterId),[A,n]),T=Y.useMemo(()=>Array.from(new Set([i].concat(k.filter(W=>W.position).map(W=>W.position)))),[k,i]),[R,P]=Y.useState([]),[I,M]=Y.useState(!1),[D,G]=Y.useState(!1),[$,q]=Y.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=Y.useRef(null),ee=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),he=Y.useRef(null),fe=Y.useRef(!1),B=Y.useCallback(W=>{O(H=>{var re;return(re=H.find(ce=>ce.id===W.id))!=null&&re.delete||xa.dismiss(W.id),H.filter(({id:ce})=>ce!==W.id)})},[]);return Y.useEffect(()=>xa.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{O(H=>H.map(re=>re.id===W.id?{...re,delete:!0}:re))});return}setTimeout(()=>{yI.flushSync(()=>{O(H=>{const re=H.findIndex(ce=>ce.id===W.id);return re!==-1?[...H.slice(0,re),{...H[re],...W},...H.slice(re+1)]:[W,...H]})})})}),[A]),Y.useEffect(()=>{if(p!=="system"){q(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:H})=>{q(H?"dark":"light")})}catch{W.addListener(({matches:re})=>{try{q(re?"dark":"light")}catch(ce){console.error(ce)}})}},[p]),Y.useEffect(()=>{A.length<=1&&M(!1)},[A]),Y.useEffect(()=>{const W=H=>{var re;if(o.every(X=>H[X]||H.code===X)){var se;M(!0),(se=F.current)==null||se.focus()}H.code==="Escape"&&(document.activeElement===F.current||(re=F.current)!=null&&re.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[o]),Y.useEffect(()=>{if(F.current)return()=>{he.current&&(he.current.focus({preventScroll:!0}),he.current=null,fe.current=!1)}},[F.current]),Y.createElement("section",{ref:r,"aria-label":`${S} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((W,H)=>{var re;const[ce,se]=W.split("-");return k.length?Y.createElement("ol",{key:W,dir:_==="auto"?JA():_,tabIndex:-1,ref:F,className:u,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":ce,"data-x-position":se,style:{"--front-toast-height":`${((re=R[0])==null?void 0:re.height)||0}px`,"--width":`${UG}px`,"--gap":`${w}px`,...m,...KG(d,f)},onBlur:X=>{fe.current&&!X.currentTarget.contains(X.relatedTarget)&&(fe.current=!1,he.current&&(he.current.focus({preventScroll:!0}),he.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,he.current=X.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{D||M(!1)},onDragEnd:()=>M(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},k.filter(X=>!X.position&&H===0||X.position===W).map((X,J)=>{var le,ue;return Y.createElement(VG,{key:X.id,icons:j,index:J,toast:X,defaultRichColors:h,duration:(le=x==null?void 0:x.duration)!=null?le:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:a,visibleToasts:v,closeButton:(ue=x==null?void 0:x.closeButton)!=null?ue:c,interacting:D,position:W,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:B,toasts:k.filter(oe=>oe.position==X.position),heights:R.filter(oe=>oe.position==X.position),setHeights:P,expandByDefault:l,gap:w,expanded:I,swipeDirections:e.swipeDirections})})):null}))});function dl({src:t,alt:e,className:r,sizes:n="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:a=!1,placeholder:i,onLoad:o,onError:l}){const[c,u]=N.useState(!1),[d,f]=N.useState(!1),[p,h]=N.useState(a),g=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{if(!(a||!g.current))return m.current=new IntersectionObserver(w=>{var S;const[j]=w;j.isIntersecting&&(h(!0),(S=m.current)==null||S.disconnect())},{threshold:.1,rootMargin:"50px"}),g.current&&m.current.observe(g.current),()=>{var w;(w=m.current)==null||w.disconnect()}},[a]);const v=()=>{u(!0),o==null||o()},x=()=>{f(!0),l==null||l()},_=w=>w;return d?s.jsx("div",{className:Ze("flex items-center justify-center bg-gray-100 text-gray-400",r),children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("p",{className:"text-sm",children:"Image unavailable"})]})}):s.jsxs("div",{className:Ze("relative overflow-hidden",r),children:[(!c||!p)&&s.jsx("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:i?s.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover opacity-50"}):s.jsxs("div",{className:"text-gray-400",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-xs",children:"Loading..."})]})}),p&&s.jsx("img",{ref:g,src:t,alt:e,loading:a?"eager":"lazy",className:Ze("w-full h-full object-cover transition-opacity duration-300",c?"opacity-100":"opacity-0"),sizes:n,srcSet:_(t),onLoad:v,onError:x}),p&&t&&!t.startsWith("data:")&&s.jsxs("picture",{children:[s.jsx("source",{srcSet:`${t}?format=webp`,type:"image/webp"}),s.jsx("source",{srcSet:`${t}?format=avif`,type:"image/avif"}),s.jsx("img",{src:t,alt:e,className:"hidden","aria-hidden":"true"})]})]})}function u_({images:t,name:e,className:r,priority:n=!1}){const a=t==null?void 0:t[0];return a?t.length===1?s.jsx(dl,{src:a,alt:e,className:Ze("object-cover rounded-lg",r),priority:n}):s.jsx("div",{className:Ze("relative group",r),children:s.jsx(dl,{src:a,alt:e,className:"w-full h-full object-cover rounded-lg",priority:n})}):s.jsx("div",{className:Ze("bg-gray-100 flex items-center justify-center aspect-square rounded-lg",r),children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"text-2xl mb-1",children:""}),s.jsx("p",{className:"text-xs",children:"No image"})]})})}function XG({product:t,onAddToCart:e,onBack:r,onViewProduct:n}){const[a,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(1),[d,f]=N.useState(!1),[p,h]=N.useState(0),[g,m]=N.useState(!1),v=N.useRef(null),{products:x}=Cd(),_=x.filter(R=>R.category===t.category&&R.id!==t.id).slice(0,4);N.useEffect(()=>{window.scrollTo(0,0),h(0),u(1),i(""),l("")},[t.id]),N.useEffect(()=>{const R=P=>{v.current&&!v.current.contains(P.target)&&m(!1)};return g&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[g]);const w=async()=>{const R={title:t.name,text:`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`,url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(R)?(await navigator.share(R),Se.success("Product shared successfully!")):m(!g)}catch(P){console.error("Error sharing:",P),m(!g)}},j=async()=>{try{await navigator.clipboard.writeText(window.location.href),Se.success("Product link copied to clipboard!"),m(!1)}catch(R){console.error("Clipboard error:",R),Se.error("Unable to copy link. Please copy the URL manually.")}},S=()=>{const R=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price} ${window.location.href}`);window.open(`https://wa.me/?text=${R}`,"_blank"),m(!1)},A=()=>{const R=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`);window.open(`https://twitter.com/intent/tweet?text=${R}&url=${encodeURIComponent(window.location.href)}`,"_blank"),m(!1)},O=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank"),m(!1)},k=()=>{if(!a){Se.error("Please select a size");return}if(!o){Se.error("Please select a color");return}e(t,a,o,c),Se.success("Added to cart successfully!")},T={XS:"Extra Small (0-2)",S:"Small (4-6)",M:"Medium (8-10)",L:"Large (12-14)",XL:"Extra Large (16-18)",XXL:"XXL (20-22)"};return s.jsxs("div",{className:"container mx-auto px-4 py-6 pb-32 max-w-7xl",children:[s.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground mb-6 overflow-x-auto whitespace-nowrap pb-2 scrollbar-hide",children:[s.jsxs("button",{onClick:r,className:"hover:text-primary transition-colors flex items-center",children:[s.jsx(FI,{className:"h-4 w-4 mr-1"}),"Home"]}),s.jsx(Vu,{className:"h-4 w-4 mx-2 flex-shrink-0"}),s.jsx("button",{onClick:r,className:"hover:text-primary transition-colors",children:t.category}),s.jsx(Vu,{className:"h-4 w-4 mx-2 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-foreground truncate",children:t.name})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square overflow-hidden rounded-xl bg-secondary/10 border border-border/50",children:s.jsx("img",{src:t.images[p]||t.images[0],alt:`${t.name} - Image ${p+1}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"eager"})}),t.originalPrice&&s.jsxs(Pt,{className:"absolute top-4 left-4 bg-destructive text-destructive-foreground z-10 shadow-lg text-sm px-3 py-1",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]}),!t.inStock&&s.jsx(Pt,{className:"absolute top-4 right-4 bg-gray-500 text-white z-10 shadow-lg",children:"Out of Stock"})]}),t.images.length>1&&s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:t.images.map((R,P)=>s.jsx("button",{onClick:()=>h(P),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${p===P?"border-primary shadow-md ring-2 ring-primary/20":"border-transparent hover:border-gray-300"}`,children:s.jsx("img",{src:R,alt:`${t.name} ${P+1}`,className:"w-full h-full object-cover",loading:"eager"})},P))})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Pt,{variant:"secondary",className:"text-xs font-normal uppercase tracking-wider",children:t.category}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Kr,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"font-medium text-foreground",children:t.rating}),s.jsxs("span",{children:["(",t.reviews.length," reviews)"]})]})]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight",children:t.name}),s.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["R",t.price]}),t.originalPrice&&s.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["R",t.originalPrice]})]}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:t.inStock?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 px-3 py-1 rounded-full text-sm font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"In Stock & Ready to Ship"]}):s.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 px-3 py-1 rounded-full text-sm font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Out of Stock"]})})]}),s.jsx(ba,{}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-medium",children:"Select Size"}),s.jsx(ye,{variant:"link",className:"text-sm p-0 h-auto text-muted-foreground hover:text-primary",children:"Size Guide"})]}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:t.sizes.map(R=>s.jsx(ye,{variant:a===R?"default":"outline",className:`h-12 ${a===R?"ring-2 ring-primary ring-offset-2":""}`,onClick:()=>i(R),children:R},R))}),a&&T[a]&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2 animate-in fade-in slide-in-from-top-1",children:["Fit: ",T[a]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium mb-3",children:["Select Color: ",s.jsx("span",{className:"text-muted-foreground font-normal",children:o})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(R=>s.jsxs("button",{onClick:()=>l(R),className:`relative flex items-center gap-2 px-4 py-2 border rounded-full transition-all ${o===R?"border-primary bg-primary/5 ring-1 ring-primary":"border-border hover:border-gray-400"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-full border shadow-sm ${R.toLowerCase()==="black"?"bg-black":R.toLowerCase()==="white"?"bg-white border-gray-300":R.toLowerCase()==="gray"?"bg-gray-400":R.toLowerCase()==="navy"?"bg-blue-900":R.toLowerCase()==="brown"?"bg-amber-800":R.toLowerCase()==="beige"?"bg-amber-100":R.toLowerCase()==="pink"?"bg-pink-400":R.toLowerCase()==="blue"?"bg-blue-500":R.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`}),s.jsx("span",{className:"text-sm font-medium",children:R})]},R))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border rounded-lg bg-background",children:[s.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>u(Math.max(1,c-1)),disabled:c<=1,className:"h-10 w-10 rounded-none rounded-l-lg",children:s.jsx(UI,{className:"h-4 w-4"})}),s.jsx("div",{className:"w-12 text-center font-medium",children:c}),s.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>u(c+1),disabled:c>=10,className:"h-10 w-10 rounded-none rounded-r-lg",children:s.jsx(oc,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",s.jsxs("span",{className:"font-bold text-foreground",children:["R",(t.price*c).toFixed(2)]})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex gap-4 pt-4",children:[s.jsxs(ye,{className:"flex-1 h-12 text-lg shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all",size:"lg",onClick:k,disabled:!t.inStock,children:[s.jsx(gv,{className:"h-5 w-5 mr-2"}),"Add to Cart"]}),s.jsx(ye,{variant:"outline",size:"lg",className:"h-12 px-6",onClick:()=>f(!d),children:s.jsx(go,{className:`h-5 w-5 ${d?"fill-red-500 text-red-500":""}`})}),s.jsxs("div",{className:"relative",ref:v,children:[s.jsx(ye,{variant:"outline",size:"lg",className:"h-12 px-6",onClick:w,children:s.jsx(bz,{className:"h-5 w-5"})}),g&&s.jsx("div",{className:"absolute top-full mt-2 right-0 w-56 bg-popover border rounded-lg shadow-xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-2 space-y-1",children:[s.jsxs("button",{onClick:j,className:"w-full px-3 py-2 text-left hover:bg-accent rounded-md flex items-center gap-3 transition-colors text-sm",children:[s.jsx(yU,{className:"h-4 w-4"}),"Copy Link"]}),s.jsxs("button",{onClick:S,className:"w-full px-3 py-2 text-left hover:bg-accent rounded-md flex items-center gap-3 transition-colors text-sm",children:[s.jsx(mi,{className:"h-4 w-4 text-green-600"}),"WhatsApp"]}),s.jsxs("button",{onClick:A,className:"w-full px-3 py-2 text-left hover:bg-accent rounded-md flex items-center gap-3 transition-colors text-sm",children:[s.jsx("div",{className:"h-4 w-4 bg-black text-white rounded-sm flex items-center justify-center text-[10px] font-bold",children:"X"}),"X (Twitter)"]}),s.jsxs("button",{onClick:O,className:"w-full px-3 py-2 text-left hover:bg-accent rounded-md flex items-center gap-3 transition-colors text-sm",children:[s.jsx("div",{className:"h-4 w-4 bg-blue-600 text-white rounded-sm flex items-center justify-center text-[10px] font-bold",children:"f"}),"Facebook"]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-secondary/20 rounded-xl border border-border/50",children:[s.jsx("div",{className:"p-2 bg-background rounded-full shadow-sm",children:s.jsx(Yu,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Free Shipping"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On orders R3500+"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-secondary/20 rounded-xl border border-border/50",children:[s.jsx("div",{className:"p-2 bg-background rounded-full shadow-sm",children:s.jsx(Ja,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Easy Returns"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"72hr return policy"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-secondary/20 rounded-xl border border-border/50",children:[s.jsx("div",{className:"p-2 bg-background rounded-full shadow-sm",children:s.jsx(so,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Secure Payment"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Encrypted checkout"})]})]})]})]})]}),s.jsx("div",{className:"mt-16 grid grid-cols-1 lg:grid-cols-3 gap-8",children:s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsx(Me,{className:"overflow-hidden border-border/50 shadow-sm",children:s.jsxs(De,{className:"p-6 md:p-8",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"Product Description"}),s.jsx("div",{className:"prose prose-stone dark:prose-invert max-w-none",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-line",children:t.description})})]})}),s.jsx(Me,{className:"overflow-hidden border-border/50 shadow-sm",children:s.jsxs(De,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>iW(t.id,t.name),className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-4 w-4"}),"Write a Review"]})]}),s.jsx(e_,{widgetType:"product-review",productSku:t.id,height:"400px",className:"w-full"}),s.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Reviews are powered by ",s.jsx("span",{className:"font-medium",children:"Trustpilot"})]})]})})]})}),_.length>0&&s.jsxs("div",{className:"mt-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"You May Also Like"}),s.jsx(ye,{variant:"link",onClick:r,children:"View All"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:_.map(R=>s.jsxs("div",{className:"group cursor-pointer space-y-3",onClick:()=>n(R),children:[s.jsxs("div",{className:"aspect-[3/4] overflow-hidden rounded-xl bg-secondary/10 border border-border/50 relative",children:[s.jsx(u_,{images:R.images,name:R.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),R.originalPrice&&s.jsxs(Pt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground text-xs",children:[Math.round((1-R.price/R.originalPrice)*100),"% OFF"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium line-clamp-1 group-hover:text-primary transition-colors",children:R.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"font-bold",children:["R",R.price]}),R.originalPrice&&s.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["R",R.originalPrice]})]})]})]},R.id))})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg border-t p-4 lg:hidden z-50 safe-area-bottom shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:s.jsxs("div",{className:"flex gap-3 max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex-1",children:s.jsxs(ye,{className:"w-full h-12 text-lg shadow-lg shadow-primary/20",size:"lg",onClick:k,disabled:!t.inStock,children:["Add to Cart - R",(t.price*c).toFixed(2)]})}),s.jsx(ye,{variant:"outline",size:"icon",className:"h-12 w-12 flex-shrink-0",onClick:()=>f(!d),children:s.jsx(go,{className:`h-5 w-5 ${d?"fill-red-500 text-red-500":""}`})})]})}),s.jsx(gl,{})]})}function zt({className:t,type:e,...r}){return s.jsx("input",{type:e,"data-slot":"input",className:Ze("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const ZG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function W8(t){const[e,r]=N.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:o,className:l,...c}=t;return e?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:ZG,alt:"Error loading image",...c,"data-original-url":a})})}):s.jsx("img",{src:a,alt:i,className:l,style:o,...c,onError:n})}function JG({items:t,onUpdateQuantity:e,onRemoveItem:r,onProceedToCheckout:n,onContinueShopping:a}){const[i,o]=N.useState(""),[l,c]=N.useState(null),u=t.reduce((v,x)=>v+x.product.price*x.quantity,0),d=(l==null?void 0:l.amount)||0,f=u-d,h=f>=3500?0:110,g=f+h,m=()=>{const v={WELCOME10:10,SAVE20:20,MEMBER15:15,FREESHIP:9.99},x=i.toUpperCase();v[x]?(c({code:x,amount:v[x]}),Se.success(`Discount code ${x} applied!`)):Se.error("Invalid discount code")};return t.length===0?s.jsx("div",{className:"container mx-auto px-6 py-12 pb-24",children:s.jsxs("div",{className:"text-center max-w-md mx-auto",children:[s.jsx(gv,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added anything to your cart yet."}),s.jsx(ye,{onClick:a||(()=>window.history.back()),children:"Continue Shopping"})]})}):s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[s.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Shopping Cart (",t.length," items)"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(v=>s.jsx(Me,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(W8,{src:v.product.images[0],alt:v.product.name,className:"w-24 h-24 object-cover rounded-lg",loading:"eager"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:v.product.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",v.size,"  Color: ",v.color]})]}),s.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>r(v.productId,v.size,v.color),children:s.jsx(yo,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(v.productId,v.size,v.color,v.quantity-1),disabled:v.quantity<=1,children:s.jsx(UI,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center text-sm",children:v.quantity}),s.jsx(ye,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(v.productId,v.size,v.color,v.quantity+1),disabled:v.quantity>=10,children:s.jsx(oc,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:["R",(v.product.price*v.quantity).toFixed(2)]}),v.product.originalPrice&&s.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["R",(v.product.originalPrice*v.quantity).toFixed(2)]})]})]})]})]})})},`${v.productId}-${v.size}-${v.color}`))}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Me,{className:"sticky top-24",children:[s.jsx(At,{children:s.jsx(kt,{children:"Order Summary"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Discount Code"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(zt,{placeholder:"Enter code",value:i,onChange:v=>o(v.target.value),className:"flex-1"}),s.jsx(ye,{variant:"outline",size:"sm",onClick:m,children:s.jsx(HI,{className:"h-4 w-4"})})]}),l&&s.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[s.jsxs("span",{children:["Code: ",l.code]}),s.jsxs("span",{children:["-R",l.amount.toFixed(2)]})]})]}),s.jsx(ba,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["R",f.toFixed(2)]})]}),d>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-R",d.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:h===0?s.jsx("span",{className:"text-green-600",children:"FREE"}):`R${h.toFixed(2)}`})]})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["R",g.toFixed(2)]})]}),f<3500&&s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-600",children:["Add R",(3500-f).toFixed(2)," more for FREE shipping!"]})}),s.jsx(ye,{className:"w-full",size:"lg",onClick:n,children:"Proceed to Checkout"}),s.jsx("div",{className:"text-center",children:s.jsx(ye,{variant:"link",onClick:a||(()=>window.history.back()),children:"Continue Shopping"})})]})]})})]}),s.jsx(gl,{})]})}var QG="Label",H8=N.forwardRef((t,e)=>s.jsx(dt.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));H8.displayName=QG;var eV=H8;function Ft({className:t,...e}){return s.jsx(eV,{"data-slot":"label",className:Ze("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function tV(t,e){const r=N.createContext(e),n=i=>{const{children:o,...l}=i,c=N.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(i){const o=N.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Gn(t,e=[]){let r=[];function n(i,o){const l=N.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:p,children:h,...g}=f,m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,v=N.useMemo(()=>g,Object.values(g));return s.jsx(m.Provider,{value:v,children:h})};u.displayName=i+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=N.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,rV(a,...e)]}function rV(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function ta(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var hn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},$y={exports:{}},Fy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function nV(){if(QA)return Fy;QA=1;var t=vI();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),m=g[0].inst,v=g[1];return i(function(){m.value=h,m.getSnapshot=p,c(m)&&v({inst:m})},[f,h,p]),a(function(){return c(m)&&v({inst:m}),f(function(){c(m)&&v({inst:m})})},[f]),o(h),h}function c(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Fy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Fy}var e4;function aV(){return e4||(e4=1,$y.exports=nV()),$y.exports}var iV=aV();function sV(){return iV.useSyncExternalStore(oV,()=>!0,()=>!1)}function oV(){return()=>{}}var d_="Avatar",[lV,o2e]=Gn(d_),[cV,G8]=lV(d_),V8=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=N.useState("idle");return s.jsx(cV,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(dt.span,{...n,ref:e})})});V8.displayName=d_;var K8="AvatarImage",uV=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=G8(K8,r),l=dV(n,i),c=ta(u=>{a(u),o.onImageLoadingStatusChange(u)});return hn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(dt.img,{...i,ref:e,src:n}):null});uV.displayName=K8;var Y8="AvatarFallback",X8=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=G8(Y8,r),[o,l]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(dt.span,{...a,ref:e}):null});X8.displayName=Y8;function t4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function dV(t,{referrerPolicy:e,crossOrigin:r}){const n=sV(),a=N.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=N.useState(()=>t4(i,t));return hn(()=>{l(t4(i,t))},[i,t]),hn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,e]),o}var fV=V8,hV=X8;function Z8({className:t,...e}){return s.jsx(fV,{"data-slot":"avatar",className:Ze("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function J8({className:t,...e}){return s.jsx(hV,{"data-slot":"avatar-fallback",className:Ze("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function yt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}var pV=xI[" useId ".trim().toString()]||(()=>{}),mV=0;function Ui(t){const[e,r]=N.useState(pV());return hn(()=>{r(n=>n??String(mV++))},[t]),e?`radix-${e}`:""}var gV=xI[" useInsertionEffect ".trim().toString()]||hn;function vi({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=vV({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const d=N.useRef(t!==void 0);N.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=N.useCallback(d=>{var f;if(l){const p=yV(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[l,t,i,o]);return[c,u]}function vV({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),a=N.useRef(r),i=N.useRef(e);return gV(()=>{i.current=e},[e]),N.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function yV(t){return typeof t=="function"}function xV(t,e=globalThis==null?void 0:globalThis.document){const r=ta(t);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var bV="DismissableLayer",V2="dismissableLayer.update",wV="dismissableLayer.pointerDownOutside",jV="dismissableLayer.focusOutside",r4,Q8=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yv=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=N.useContext(Q8),[d,f]=N.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),g=Gt(e,O=>f(O)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),_=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=_>=x,S=SV(O=>{const k=O.target,T=[...u.branches].some(R=>R.contains(k));!j||T||(a==null||a(O),o==null||o(O),O.defaultPrevented||l==null||l())},p),A=AV(O=>{const k=O.target;[...u.branches].some(R=>R.contains(k))||(i==null||i(O),o==null||o(O),O.defaultPrevented||l==null||l())},p);return xV(O=>{_===u.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(r4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),n4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=r4)}},[d,p,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),n4())},[d,u]),N.useEffect(()=>{const O=()=>h({});return document.addEventListener(V2,O),()=>document.removeEventListener(V2,O)},[]),s.jsx(dt.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...t.style},onFocusCapture:yt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:yt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:yt(t.onPointerDownCapture,S.onPointerDownCapture)})});yv.displayName=bV;var _V="DismissableLayerBranch",NV=N.forwardRef((t,e)=>{const r=N.useContext(Q8),n=N.useRef(null),a=Gt(e,n);return N.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(dt.div,{...t,ref:a})});NV.displayName=_V;function SV(t,e=globalThis==null?void 0:globalThis.document){const r=ta(t),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){eR(wV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function AV(t,e=globalThis==null?void 0:globalThis.document){const r=ta(t),n=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!n.current&&eR(jV,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function n4(){const t=new CustomEvent(V2);document.dispatchEvent(t)}function eR(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?yG(a,i):a.dispatchEvent(i)}var By="focusScope.autoFocusOnMount",qy="focusScope.autoFocusOnUnmount",a4={bubbles:!1,cancelable:!0},kV="FocusScope",xv=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=N.useState(null),u=ta(a),d=ta(i),f=N.useRef(null),p=Gt(e,m=>c(m)),h=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let m=function(w){if(h.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Qo(f.current,{select:!0})},v=function(w){if(h.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Qo(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Qo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const _=new MutationObserver(x);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),_.disconnect()}}},[n,l,h.paused]),N.useEffect(()=>{if(l){s4.add(h);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(By,a4);l.addEventListener(By,u),l.dispatchEvent(x),x.defaultPrevented||(PV(IV(tR(l)),{select:!0}),document.activeElement===m&&Qo(l))}return()=>{l.removeEventListener(By,u),setTimeout(()=>{const x=new CustomEvent(qy,a4);l.addEventListener(qy,d),l.dispatchEvent(x),x.defaultPrevented||Qo(m??document.body,{select:!0}),l.removeEventListener(qy,d),s4.remove(h)},0)}}},[l,u,d,h]);const g=N.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const _=m.currentTarget,[w,j]=CV(_);w&&j?!m.shiftKey&&x===j?(m.preventDefault(),r&&Qo(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&Qo(j,{select:!0})):x===_&&m.preventDefault()}},[r,n,h.paused]);return s.jsx(dt.div,{tabIndex:-1,...o,ref:p,onKeyDown:g})});xv.displayName=kV;function PV(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Qo(n,{select:e}),document.activeElement!==r)return}function CV(t){const e=tR(t),r=i4(e,t),n=i4(e.reverse(),t);return[r,n]}function tR(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function i4(t,e){for(const r of t)if(!OV(r,{upTo:e}))return r}function OV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EV(t){return t instanceof HTMLInputElement&&"select"in t}function Qo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&EV(t)&&e&&t.select()}}var s4=TV();function TV(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=o4(t,e),t.unshift(e)},remove(e){var r;t=o4(t,e),(r=t[0])==null||r.resume()}}}function o4(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function IV(t){return t.filter(e=>e.tagName!=="A")}var RV="Portal",bv=N.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,i]=N.useState(!1);hn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yI.createPortal(s.jsx(dt.div,{...n,ref:e}),o):null});bv.displayName=RV;function LV(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var Pa=t=>{const{present:e,children:r}=t,n=MV(e),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),i=Gt(n.ref,DV(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:i}):null};Pa.displayName="Presence";function MV(t){const[e,r]=N.useState(),n=N.useRef(null),a=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[l,c]=LV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Vp(n.current);i.current=l==="mounted"?u:"none"},[l]),hn(()=>{const u=n.current,d=a.current;if(d!==t){const p=i.current,h=Vp(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),hn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const m=Vp(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=h=>{h.target===e&&(i.current=Vp(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vp(t){return(t==null?void 0:t.animationName)||"none"}function DV(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Uy=0;function f_(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??l4()),document.body.insertAdjacentElement("beforeend",t[1]??l4()),Uy++,()=>{Uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Uy--}},[])}function l4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ms=function(){return ms=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ms.apply(this,arguments)};function rR(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function $V(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Nm="right-scroll-bar-position",Sm="width-before-scroll-bar",FV="with-scroll-bars-hidden",BV="--removed-body-scroll-bar-size";function zy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qV(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var UV=typeof window<"u"?N.useLayoutEffect:N.useEffect,c4=new WeakMap;function zV(t,e){var r=qV(null,function(n){return t.forEach(function(a){return zy(a,n)})});return UV(function(){var n=c4.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||zy(l,null)}),i.forEach(function(l){a.has(l)||zy(l,o)})}c4.set(r,t)},[t]),r}function WV(t){return t}function HV(t,e){e===void 0&&(e=WV);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function GV(t){t===void 0&&(t={});var e=HV(null);return e.options=ms({async:!0,ssr:!1},t),e}var nR=function(t){var e=t.sideCar,r=rR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,ms({},r))};nR.isSideCarExport=!0;function VV(t,e){return t.useMedium(e),nR}var aR=GV(),Wy=function(){},wv=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:Wy,onWheelCapture:Wy,onTouchMoveCapture:Wy}),a=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,w=t.gapMode,j=rR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,A=zV([r,e]),O=ms(ms({},j),a);return N.createElement(N.Fragment,null,d&&N.createElement(S,{sideCar:aR,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?N.cloneElement(N.Children.only(l),ms(ms({},O),{ref:A})):N.createElement(_,ms({},O,{className:c,ref:A}),l))});wv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wv.classNames={fullWidth:Sm,zeroRight:Nm};var KV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KV();return e&&t.setAttribute("nonce",e),t}function XV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var JV=function(){var t=0,e=null;return{add:function(r){t==0&&(e=YV())&&(XV(e,r),ZV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QV=function(){var t=JV();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},iR=function(){var t=QV(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},eK={left:0,top:0,right:0,gap:0},Hy=function(t){return parseInt(t||"",10)||0},tK=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Hy(r),Hy(n),Hy(a)]},rK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eK;var e=tK(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},nK=iR(),Mu="data-scroll-locked",aK=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(FV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nm," .").concat(Nm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mu,`] {
    `).concat(BV,": ").concat(l,`px;
  }
`)},u4=function(){var t=parseInt(document.body.getAttribute(Mu)||"0",10);return isFinite(t)?t:0},iK=function(){N.useEffect(function(){return document.body.setAttribute(Mu,(u4()+1).toString()),function(){var t=u4()-1;t<=0?document.body.removeAttribute(Mu):document.body.setAttribute(Mu,t.toString())}},[])},sK=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;iK();var i=N.useMemo(function(){return rK(a)},[a]);return N.createElement(nK,{styles:aK(i,!e,a,r?"":"!important")})},K2=!1;if(typeof window<"u")try{var Kp=Object.defineProperty({},"passive",{get:function(){return K2=!0,!0}});window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{K2=!1}var uu=K2?{passive:!1}:!1,oK=function(t){return t.tagName==="TEXTAREA"},sR=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!oK(t)&&r[e]==="visible")},lK=function(t){return sR(t,"overflowY")},cK=function(t){return sR(t,"overflowX")},d4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=oR(t,n);if(a){var i=lR(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uK=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},dK=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},oR=function(t,e){return t==="v"?lK(e):cK(e)},lR=function(t,e){return t==="v"?uK(e):dK(e)},fK=function(t,e){return t==="h"&&e==="rtl"?-1:1},hK=function(t,e,r,n,a){var i=fK(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,p=0;do{if(!l)break;var h=lR(t,l),g=h[0],m=h[1],v=h[2],x=m-v-i*g;(g||x)&&oR(t,l)&&(f+=x,p+=g);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Yp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},f4=function(t){return[t.deltaX,t.deltaY]},h4=function(t){return t&&"current"in t?t.current:t},pK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gK=0,du=[];function vK(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(gK++)[0],i=N.useState(iR)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=$V([t.lockRef.current],(t.shards||[]).map(h4),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=Yp(m),_=r.current,w="deltaX"in m?m.deltaX:_[0]-x[0],j="deltaY"in m?m.deltaY:_[1]-x[1],S,A=m.target,O=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&O==="h"&&A.type==="range")return!1;var k=d4(O,A);if(!k)return!0;if(k?S=O:(S=O==="v"?"h":"v",k=d4(O,A)),!k)return!1;if(!n.current&&"changedTouches"in m&&(w||j)&&(n.current=S),!S)return!0;var T=n.current||S;return hK(T,v,m,T==="h"?w:j)},[]),c=N.useCallback(function(m){var v=m;if(!(!du.length||du[du.length-1]!==i)){var x="deltaY"in v?f4(v):Yp(v),_=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&pK(S.delta,x)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(h4).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=N.useCallback(function(m,v,x,_){var w={name:m,delta:v,target:x,should:_,shadowParent:yK(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(j){return j!==w})},1)},[]),d=N.useCallback(function(m){r.current=Yp(m),n.current=void 0},[]),f=N.useCallback(function(m){u(m.type,f4(m),m.target,l(m,t.lockRef.current))},[]),p=N.useCallback(function(m){u(m.type,Yp(m),m.target,l(m,t.lockRef.current))},[]);N.useEffect(function(){return du.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,uu),document.addEventListener("touchmove",c,uu),document.addEventListener("touchstart",d,uu),function(){du=du.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,uu),document.removeEventListener("touchmove",c,uu),document.removeEventListener("touchstart",d,uu)}},[]);var h=t.removeScrollBar,g=t.inert;return N.createElement(N.Fragment,null,g?N.createElement(i,{styles:mK(a)}):null,h?N.createElement(sK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function yK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xK=VV(aR,vK);var jv=N.forwardRef(function(t,e){return N.createElement(wv,ms({},t,{ref:e,sideCar:xK}))});jv.classNames=wv.classNames;var bK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fu=new WeakMap,Xp=new WeakMap,Zp={},Gy=0,cR=function(t){return t&&(t.host||cR(t.parentNode))},wK=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=cR(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},jK=function(t,e,r,n){var a=wK(e,Array.isArray(t)?t:[t]);Zp[r]||(Zp[r]=new WeakMap);var i=Zp[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",m=(fu.get(p)||0)+1,v=(i.get(p)||0)+1;fu.set(p,m),i.set(p,v),o.push(p),m===1&&g&&Xp.set(p,!0),v===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),l.clear(),Gy++,function(){o.forEach(function(f){var p=fu.get(f)-1,h=i.get(f)-1;fu.set(f,p),i.set(f,h),p||(Xp.has(f)||f.removeAttribute(n),Xp.delete(f)),h||f.removeAttribute(r)}),Gy--,Gy||(fu=new WeakMap,fu=new WeakMap,Xp=new WeakMap,Zp={})}},h_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=bK(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),jK(n,a,r,"aria-hidden")):function(){return null}},_v="Dialog",[uR,dR]=Gn(_v),[_K,Yi]=uR(_v),fR=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=N.useRef(null),c=N.useRef(null),[u,d]=vi({prop:n,defaultProp:a??!1,onChange:i,caller:_v});return s.jsx(_K,{scope:e,triggerRef:l,contentRef:c,contentId:Ui(),titleId:Ui(),descriptionId:Ui(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};fR.displayName=_v;var hR="DialogTrigger",pR=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Yi(hR,r),i=Gt(e,a.triggerRef);return s.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":g_(a.open),...n,ref:i,onClick:yt(t.onClick,a.onOpenToggle)})});pR.displayName=hR;var p_="DialogPortal",[NK,mR]=uR(p_,{forceMount:void 0}),gR=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=Yi(p_,e);return s.jsx(NK,{scope:e,forceMount:r,children:N.Children.map(n,o=>s.jsx(Pa,{present:r||i.open,children:s.jsx(bv,{asChild:!0,container:a,children:o})}))})};gR.displayName=p_;var Wm="DialogOverlay",vR=N.forwardRef((t,e)=>{const r=mR(Wm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Yi(Wm,t.__scopeDialog);return i.modal?s.jsx(Pa,{present:n||i.open,children:s.jsx(AK,{...a,ref:e})}):null});vR.displayName=Wm;var SK=hc("DialogOverlay.RemoveScroll"),AK=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Yi(Wm,r);return s.jsx(jv,{as:SK,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(dt.div,{"data-state":g_(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mc="DialogContent",yR=N.forwardRef((t,e)=>{const r=mR(mc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Yi(mc,t.__scopeDialog);return s.jsx(Pa,{present:n||i.open,children:i.modal?s.jsx(kK,{...a,ref:e}):s.jsx(PK,{...a,ref:e})})});yR.displayName=mc;var kK=N.forwardRef((t,e)=>{const r=Yi(mc,t.__scopeDialog),n=N.useRef(null),a=Gt(e,r.contentRef,n);return N.useEffect(()=>{const i=n.current;if(i)return h_(i)},[]),s.jsx(xR,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:yt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:yt(t.onFocusOutside,i=>i.preventDefault())})}),PK=N.forwardRef((t,e)=>{const r=Yi(mc,t.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return s.jsx(xR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xR=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Yi(mc,r),c=N.useRef(null),u=Gt(e,c);return f_(),s.jsxs(s.Fragment,{children:[s.jsx(xv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(yv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":g_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(OK,{titleId:l.titleId}),s.jsx(TK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),m_="DialogTitle",bR=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Yi(m_,r);return s.jsx(dt.h2,{id:a.titleId,...n,ref:e})});bR.displayName=m_;var wR="DialogDescription",jR=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Yi(wR,r);return s.jsx(dt.p,{id:a.descriptionId,...n,ref:e})});jR.displayName=wR;var _R="DialogClose",NR=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Yi(_R,r);return s.jsx(dt.button,{type:"button",...n,ref:e,onClick:yt(t.onClick,()=>a.onOpenChange(!1))})});NR.displayName=_R;function g_(t){return t?"open":"closed"}var SR="DialogTitleWarning",[CK,AR]=tV(SR,{contentName:mc,titleName:m_,docsSlug:"dialog"}),OK=({titleId:t})=>{const e=AR(SR),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},EK="DialogDescriptionWarning",TK=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AR(EK).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},v_=fR,Nv=pR,y_=gR,Sv=vR,Av=yR,kR=bR,PR=jR,kv=NR;function yi({...t}){return s.jsx(v_,{"data-slot":"dialog",...t})}function x_({...t}){return s.jsx(Nv,{"data-slot":"dialog-trigger",...t})}function IK({...t}){return s.jsx(y_,{"data-slot":"dialog-portal",...t})}const CR=N.forwardRef(({className:t,...e},r)=>s.jsx(Sv,{ref:r,"data-slot":"dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9996] bg-black/50",t),...e}));CR.displayName=Sv.displayName;const ri=N.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(IK,{"data-slot":"dialog-portal",children:[s.jsx(CR,{}),s.jsxs(Av,{ref:n,"data-slot":"dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9996] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,s.jsxs(kv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(ws,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ri.displayName=Av.displayName;function xi({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:Ze("flex flex-col gap-2 text-center sm:text-left",t),...e})}function p4({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-footer",className:Ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function bi({className:t,...e}){return s.jsx(kR,{"data-slot":"dialog-title",className:Ze("text-lg leading-none font-semibold",t),...e})}function Hm({className:t,...e}){return s.jsx(PR,{"data-slot":"dialog-description",className:Ze("text-muted-foreground text-sm",t),...e})}function xr(t){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}var Wi=Uint8Array,Za=Uint16Array,b_=Int32Array,w_=new Wi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j_=new Wi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m4=new Wi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OR=function(t,e){for(var r=new Za(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new b_(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},ER=OR(w_,2),RK=ER.b,Y2=ER.r;RK[28]=258,Y2[258]=28;var LK=OR(j_,0),g4=LK.r,X2=new Za(32768);for(var Wr=0;Wr<32768;++Wr){var Yo=(Wr&43690)>>1|(Wr&21845)<<1;Yo=(Yo&52428)>>2|(Yo&13107)<<2,Yo=(Yo&61680)>>4|(Yo&3855)<<4,X2[Wr]=((Yo&65280)>>8|(Yo&255)<<8)>>1}var zf=(function(t,e,r){for(var n=t.length,a=0,i=new Za(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new Za(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Za(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=o[t[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)l[X2[f]>>c]=u}else for(l=new Za(n),a=0;a<n;++a)t[a]&&(l[a]=X2[o[t[a]-1]++]>>15-t[a]);return l}),gc=new Wi(288);for(var Wr=0;Wr<144;++Wr)gc[Wr]=8;for(var Wr=144;Wr<256;++Wr)gc[Wr]=9;for(var Wr=256;Wr<280;++Wr)gc[Wr]=7;for(var Wr=280;Wr<288;++Wr)gc[Wr]=8;var Gm=new Wi(32);for(var Wr=0;Wr<32;++Wr)Gm[Wr]=5;var MK=zf(gc,9,0),DK=zf(Gm,5,0),TR=function(t){return(t+7)/8|0},$K=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Wi(t.subarray(e,r))},Ks=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},yf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Vy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:RR,l:0};if(a==1){var o=new Wi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,A){return S.f-A.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new Za(p+1),g=Z2(r[d-1],h,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(i.sort(function(A,O){return h[O.s]-h[A.s]||A.f-O.f});n<a;++n){var _=i[n].s;if(h[_]>e)m+=x-(1<<g-h[_]),h[_]=e;else break}for(m>>=v;m>0;){var w=i[n].s;h[w]<e?m-=1<<e-h[w]++-1:++n}for(;n>=0&&m;--n){var j=i[n].s;h[j]==e&&(--h[j],++m)}g=e}return{t:new Wi(h),l:g}},Z2=function(t,e,r){return t.s==-1?Math.max(Z2(t.l,e,r+1),Z2(t.r,e,r+1)):e[t.s]=r},v4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Za(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},xf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},IR=function(t,e,r){var n=r.length,a=TR(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},y4=function(t,e,r,n,a,i,o,l,c,u,d){Ks(e,d++,r),++a[256];for(var f=Vy(a,15),p=f.t,h=f.l,g=Vy(i,15),m=g.t,v=g.l,x=v4(p),_=x.c,w=x.n,j=v4(m),S=j.c,A=j.n,O=new Za(19),k=0;k<_.length;++k)++O[_[k]&31];for(var k=0;k<S.length;++k)++O[S[k]&31];for(var T=Vy(O,7),R=T.t,P=T.l,I=19;I>4&&!R[m4[I-1]];--I);var M=u+5<<3,D=xf(a,gc)+xf(i,Gm)+o,G=xf(a,p)+xf(i,m)+o+14+3*I+xf(O,R)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&M<=D&&M<=G)return IR(e,d,t.subarray(c,c+u));var $,q,F,ee;if(Ks(e,d,1+(G<D)),d+=2,G<D){$=zf(p,h,0),q=p,F=zf(m,v,0),ee=m;var he=zf(R,P,0);Ks(e,d,w-257),Ks(e,d+5,A-1),Ks(e,d+10,I-4),d+=14;for(var k=0;k<I;++k)Ks(e,d+3*k,R[m4[k]]);d+=3*I;for(var fe=[_,S],B=0;B<2;++B)for(var W=fe[B],k=0;k<W.length;++k){var H=W[k]&31;Ks(e,d,he[H]),d+=R[H],H>15&&(Ks(e,d,W[k]>>5&127),d+=W[k]>>12)}}else $=MK,q=gc,F=DK,ee=Gm;for(var k=0;k<l;++k){var re=n[k];if(re>255){var H=re>>18&31;yf(e,d,$[H+257]),d+=q[H+257],H>7&&(Ks(e,d,re>>23&31),d+=w_[H]);var ce=re&31;yf(e,d,F[ce]),d+=ee[ce],ce>3&&(yf(e,d,re>>5&8191),d+=j_[ce])}else yf(e,d,$[re]),d+=q[re]}return yf(e,d,$[256]),d+q[256]},FK=new b_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RR=new Wi(0),BK=function(t,e,r,n,a,i){var o=i.z||t.length,l=new Wi(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=FK[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,m=i.p||new Za(32768),v=i.h||new Za(g+1),x=Math.ceil(r/3),_=2*x,w=function(ge){return(t[ge]^t[ge+1]<<x^t[ge+2]<<_)&g},j=new b_(25e3),S=new Za(288),A=new Za(32),O=0,k=0,T=i.i||0,R=0,P=i.w||0,I=0;T+2<o;++T){var M=w(T),D=T&32767,G=v[M];if(m[D]=G,v[M]=D,P<=T){var $=o-T;if((O>7e3||R>24576)&&($>423||!u)){d=y4(t,c,0,j,S,A,k,R,I,T-I,d),R=O=k=0,I=T;for(var q=0;q<286;++q)S[q]=0;for(var q=0;q<30;++q)A[q]=0}var F=2,ee=0,he=h,fe=D-G&32767;if($>2&&M==w(T-fe))for(var B=Math.min(p,$)-1,W=Math.min(32767,T),H=Math.min(258,$);fe<=W&&--he&&D!=G;){if(t[T+F]==t[T+F-fe]){for(var re=0;re<H&&t[T+re]==t[T+re-fe];++re);if(re>F){if(F=re,ee=fe,re>B)break;for(var ce=Math.min(fe,re-2),se=0,q=0;q<ce;++q){var X=T-fe+q&32767,J=m[X],le=X-J&32767;le>se&&(se=le,G=X)}}}D=G,G=m[D],fe+=D-G&32767}if(ee){j[R++]=268435456|Y2[F]<<18|g4[ee];var ue=Y2[F]&31,oe=g4[ee]&31;k+=w_[ue]+j_[oe],++S[257+ue],++A[oe],P=T+F,++O}else j[R++]=t[T],++S[t[T]]}}for(T=Math.max(T,P);T<o;++T)j[R++]=t[T],++S[t[T]];d=y4(t,c,u,j,S,A,k,R,I,T-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=m,i.i=T,i.w=P)}else{for(var T=i.w||0;T<o+u;T+=65535){var Ne=T+65535;Ne>=o&&(c[d/8|0]=u,Ne=o),d=IR(c,d+1,t.subarray(T,Ne))}i.i=o}return $K(l,0,n+TR(d)+a)},LR=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},qK=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Wi(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return BK(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},MR=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},UK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=LR();a.p(e.dictionary),MR(t,2,a.d())}};function J2(t,e){e||(e={});var r=LR();r.p(t);var n=qK(t,e,e.dictionary?6:2,4);return UK(n,e),MR(n,n.length-4,r.d()),n}var zK=typeof TextDecoder<"u"&&new TextDecoder,WK=0;try{zK.decode(RR,{stream:!0}),WK=1}catch{}function HK(t){if(Array.isArray(t))return t}function GK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function x4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function VK(t,e){if(t){if(typeof t=="string")return x4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x4(t,e):void 0}}function KK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(t,e){return HK(t)||GK(t,e)||VK(t,e)||KK()}function w4(t,e="utf8"){return new TextDecoder(e).decode(t)}const YK=new TextEncoder;function XK(t){return YK.encode(t)}const ZK=1024*8,JK=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ky={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class __{constructor(e=ZK,r={}){Xt(this,"buffer");Xt(this,"byteLength");Xt(this,"byteOffset");Xt(this,"length");Xt(this,"offset");Xt(this,"lastWrittenByte");Xt(this,"littleEndian");Xt(this,"_data");Xt(this,"_mark");Xt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof __)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Ky[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===JK&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new Ky[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Ky[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return w4(this.readBytes(e))}decodeText(e=1,r="utf8"){return w4(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(XK(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Od(t){let e=t.length;for(;--e>=0;)t[e]=0}const QK=3,eY=258,DR=29,tY=256,rY=tY+1+DR,$R=30,nY=512,aY=new Array((rY+2)*2);Od(aY);const iY=new Array($R*2);Od(iY);const sY=new Array(nY);Od(sY);const oY=new Array(eY-QK+1);Od(oY);const lY=new Array(DR);Od(lY);const cY=new Array($R);Od(cY);const uY=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var Q2=uY;const dY=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},fY=new Uint32Array(dY()),hY=(t,e,r,n)=>{const a=fY,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var ds=hY,e5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},FR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var mY=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pY(r,n)&&(t[n]=r[n])}}return t},gY=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let o=t[n];r.set(o,a),a+=o.length}return r},BR={assign:mY,flattenChunks:gY};let qR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qR=!1}const ah=new Uint8Array(256);for(let t=0;t<256;t++)ah[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ah[254]=ah[254]=1;var vY=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const yY=(t,e)=>{if(e<65534&&t.subarray&&qR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var xY=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){i[a++]=o;continue}let l=ah[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return yY(i,a)},bY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ah[t[r]]>e?r:e},t5={string2buf:vY,buf2string:xY,utf8border:bY};function wY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var jY=wY;const Jp=16209,_Y=16191;var NY=function(e,r){let n,a,i,o,l,c,u,d,f,p,h,g,m,v,x,_,w,j,S,A,O,k,T,R;const P=e.state;n=e.next_in,T=e.input,a=n+(e.avail_in-5),i=e.next_out,R=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,p=P.window,h=P.hold,g=P.bits,m=P.lencode,v=P.distcode,x=(1<<P.lenbits)-1,_=(1<<P.distbits)-1;e:do{g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),w=m[h&x];t:for(;;){if(j=w>>>24,h>>>=j,g-=j,j=w>>>16&255,j===0)R[i++]=w&65535;else if(j&16){S=w&65535,j&=15,j&&(g<j&&(h+=T[n++]<<g,g+=8),S+=h&(1<<j)-1,h>>>=j,g-=j),g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),w=v[h&_];r:for(;;){if(j=w>>>24,h>>>=j,g-=j,j=w>>>16&255,j&16){if(A=w&65535,j&=15,g<j&&(h+=T[n++]<<g,g+=8,g<j&&(h+=T[n++]<<g,g+=8)),A+=h&(1<<j)-1,A>c){e.msg="invalid distance too far back",P.mode=Jp;break e}if(h>>>=j,g-=j,j=i-o,A>j){if(j=A-j,j>d&&P.sane){e.msg="invalid distance too far back",P.mode=Jp;break e}if(O=0,k=p,f===0){if(O+=u-j,j<S){S-=j;do R[i++]=p[O++];while(--j);O=i-A,k=R}}else if(f<j){if(O+=u+f-j,j-=f,j<S){S-=j;do R[i++]=p[O++];while(--j);if(O=0,f<S){j=f,S-=j;do R[i++]=p[O++];while(--j);O=i-A,k=R}}}else if(O+=f-j,j<S){S-=j;do R[i++]=p[O++];while(--j);O=i-A,k=R}for(;S>2;)R[i++]=k[O++],R[i++]=k[O++],R[i++]=k[O++],S-=3;S&&(R[i++]=k[O++],S>1&&(R[i++]=k[O++]))}else{O=i-A;do R[i++]=R[O++],R[i++]=R[O++],R[i++]=R[O++],S-=3;while(S>2);S&&(R[i++]=R[O++],S>1&&(R[i++]=R[O++]))}}else if((j&64)===0){w=v[(w&65535)+(h&(1<<j)-1)];continue r}else{e.msg="invalid distance code",P.mode=Jp;break e}break}}else if((j&64)===0){w=m[(w&65535)+(h&(1<<j)-1)];continue t}else if(j&32){P.mode=_Y;break e}else{e.msg="invalid literal/length code",P.mode=Jp;break e}break}}while(n<a&&i<l);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),P.hold=h,P.bits=g};const hu=15,j4=852,_4=592,N4=0,Yy=1,S4=2,SY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),PY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),CY=(t,e,r,n,a,i,o,l)=>{const c=l.bits;let u=0,d=0,f=0,p=0,h=0,g=0,m=0,v=0,x=0,_=0,w,j,S,A,O,k=null,T;const R=new Uint16Array(hu+1),P=new Uint16Array(hu+1);let I=null,M,D,G;for(u=0;u<=hu;u++)R[u]=0;for(d=0;d<n;d++)R[e[r+d]]++;for(h=c,p=hu;p>=1&&R[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&R[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=hu;u++)if(v<<=1,v-=R[u],v<0)return-1;if(v>0&&(t===N4||p!==1))return-1;for(P[1]=0,u=1;u<hu;u++)P[u+1]=P[u]+R[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[P[e[r+d]]++]=d);if(t===N4?(k=I=o,T=20):t===Yy?(k=SY,I=AY,T=257):(k=kY,I=PY,T=0),_=0,d=0,u=f,O=i,g=h,m=0,S=-1,x=1<<h,A=x-1,t===Yy&&x>j4||t===S4&&x>_4)return 1;for(;;){M=u-m,o[d]+1<T?(D=0,G=o[d]):o[d]>=T?(D=I[o[d]-T],G=k[o[d]-T]):(D=96,G=0),w=1<<u-m,j=1<<g,f=j;do j-=w,a[O+(_>>m)+j]=M<<24|D<<16|G|0;while(j!==0);for(w=1<<u-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,d++,--R[u]===0){if(u===p)break;u=e[r+o[d]]}if(u>h&&(_&A)!==S){for(m===0&&(m=h),O+=f,g=u-m,v=1<<g;g+m<p&&(v-=R[g+m],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===Yy&&x>j4||t===S4&&x>_4)return 1;S=_&A,a[S]=h<<24|g<<16|O-i|0}}return _!==0&&(a[O+_]=u-m<<24|64<<16|0),l.bits=h,0};var Wf=CY;const OY=0,UR=1,zR=2,{Z_FINISH:A4,Z_BLOCK:EY,Z_TREES:Qp,Z_OK:vc,Z_STREAM_END:TY,Z_NEED_DICT:IY,Z_STREAM_ERROR:wi,Z_DATA_ERROR:WR,Z_MEM_ERROR:HR,Z_BUF_ERROR:RY,Z_DEFLATED:k4}=FR,Pv=16180,P4=16181,C4=16182,O4=16183,E4=16184,T4=16185,I4=16186,R4=16187,L4=16188,M4=16189,Vm=16190,Ys=16191,Xy=16192,D4=16193,Zy=16194,$4=16195,F4=16196,B4=16197,q4=16198,em=16199,tm=16200,U4=16201,z4=16202,W4=16203,H4=16204,G4=16205,Jy=16206,V4=16207,K4=16208,Gr=16209,GR=16210,VR=16211,LY=852,MY=592,DY=15,$Y=DY,Y4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function FY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Oc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Pv||e.mode>VR?1:0},KR=t=>{if(Oc(t))return wi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Pv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(LY),e.distcode=e.distdyn=new Int32Array(MY),e.sane=1,e.back=-1,vc},YR=t=>{if(Oc(t))return wi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,KR(t)},XR=(t,e)=>{let r;if(Oc(t))return wi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,YR(t))},ZR=(t,e)=>{if(!t)return wi;const r=new FY;t.state=r,r.strm=t,r.window=null,r.mode=Pv;const n=XR(t,e);return n!==vc&&(t.state=null),n},BY=t=>ZR(t,$Y);let X4=!0,Qy,ex;const qY=t=>{if(X4){Qy=new Int32Array(512),ex=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Wf(UR,t.lens,0,288,Qy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Wf(zR,t.lens,0,32,ex,0,t.work,{bits:5}),X4=!1}t.lencode=Qy,t.lenbits=9,t.distcode=ex,t.distbits=5},JR=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},UY=(t,e)=>{let r,n,a,i,o,l,c,u,d,f,p,h,g,m,v=0,x,_,w,j,S,A,O,k;const T=new Uint8Array(4);let R,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Oc(t)||!t.output||!t.input&&t.avail_in!==0)return wi;r=t.state,r.mode===Ys&&(r.mode=Xy),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,f=l,p=c,k=vc;e:for(;;)switch(r.mode){case Pv:if(r.wrap===0){r.mode=Xy;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=ds(r.check,T,2,0),u=0,d=0,r.mode=P4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Gr;break}if((u&15)!==k4){t.msg="unknown compression method",r.mode=Gr;break}if(u>>>=4,d-=4,O=(u&15)+8,r.wbits===0&&(r.wbits=O),O>15||O>r.wbits){t.msg="invalid window size",r.mode=Gr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?M4:Ys,u=0,d=0;break;case P4:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==k4){t.msg="unknown compression method",r.mode=Gr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Gr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ds(r.check,T,2,0)),u=0,d=0,r.mode=C4;case C4:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=ds(r.check,T,4,0)),u=0,d=0,r.mode=O4;case O4:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ds(r.check,T,2,0)),u=0,d=0,r.mode=E4;case E4:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ds(r.check,T,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=T4;case T4:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),O)),r.flags&512&&r.wrap&4&&(r.check=ds(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=I4;case I4:if(r.flags&2048){if(l===0)break e;h=0;do O=n[i+h++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O));while(O&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=ds(r.check,n,h,i)),l-=h,i+=h,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=R4;case R4:if(r.flags&4096){if(l===0)break e;h=0;do O=n[i+h++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O));while(O&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=ds(r.check,n,h,i)),l-=h,i+=h,O)break e}else r.head&&(r.head.comment=null);r.mode=L4;case L4:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Gr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ys;break;case M4:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}t.adler=r.check=Y4(u),u=0,d=0,r.mode=Vm;case Vm:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,IY;t.adler=r.check=1,r.mode=Ys;case Ys:if(e===EY||e===Qp)break e;case Xy:if(r.last){u>>>=d&7,d-=d&7,r.mode=Jy;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=D4;break;case 1:if(qY(r),r.mode=em,e===Qp){u>>>=2,d-=2;break e}break;case 2:r.mode=F4;break;case 3:t.msg="invalid block type",r.mode=Gr}u>>>=2,d-=2;break;case D4:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Gr;break}if(r.length=u&65535,u=0,d=0,r.mode=Zy,e===Qp)break e;case Zy:r.mode=$4;case $4:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),o),l-=h,i+=h,c-=h,o+=h,r.length-=h;break}r.mode=Ys;break;case F4:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Gr;break}r.have=0,r.mode=B4;case B4:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},k=Wf(OY,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,k){t.msg="invalid code lengths set",r.mode=Gr;break}r.have=0,r.mode=q4;case q4:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,_=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,r.lens[r.have++]=w;else{if(w===16){for(P=x+2;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Gr;break}O=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(w===17){for(P=x+3;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,O=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=x+7;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,O=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Gr;break}for(;h--;)r.lens[r.have++]=O}}if(r.mode===Gr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Gr;break}if(r.lenbits=9,R={bits:r.lenbits},k=Wf(UR,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,k){t.msg="invalid literal/lengths set",r.mode=Gr;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},k=Wf(zR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,k){t.msg="invalid distances set",r.mode=Gr;break}if(r.mode=em,e===Qp)break e;case em:r.mode=tm;case tm:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,NY(t,p),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Ys&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,_=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(_&&(_&240)===0){for(j=x,S=_,A=w;v=r.lencode[A+((u&(1<<j+S)-1)>>j)],x=v>>>24,_=v>>>16&255,w=v&65535,!(j+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=x,d-=x,r.back+=x,r.length=w,_===0){r.mode=G4;break}if(_&32){r.back=-1,r.mode=Ys;break}if(_&64){t.msg="invalid literal/length code",r.mode=Gr;break}r.extra=_&15,r.mode=U4;case U4:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=z4;case z4:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,_=v>>>16&255,w=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((_&240)===0){for(j=x,S=_,A=w;v=r.distcode[A+((u&(1<<j+S)-1)>>j)],x=v>>>24,_=v>>>16&255,w=v&65535,!(j+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=j,d-=j,r.back+=j}if(u>>>=x,d-=x,r.back+=x,_&64){t.msg="invalid distance code",r.mode=Gr;break}r.offset=w,r.extra=_&15,r.mode=W4;case W4:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Gr;break}r.mode=H4;case H4:if(c===0)break e;if(h=p-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Gr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,g=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[o++]=m[g++];while(--h);r.length===0&&(r.mode=tm);break;case G4:if(c===0)break e;a[o++]=r.length,c--,r.mode=tm;break;case Jy:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ds(r.check,a,p,o-p):Q2(r.check,a,p,o-p)),p=c,r.wrap&4&&(r.flags?u:Y4(u))!==r.check){t.msg="incorrect data check",r.mode=Gr;break}u=0,d=0}r.mode=V4;case V4:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Gr;break}u=0,d=0}r.mode=K4;case K4:k=TY;break e;case Gr:k=WR;break e;case GR:return HR;case VR:default:return wi}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Gr&&(r.mode<Jy||e!==A4))&&JR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ds(r.check,a,p,t.next_out-p):Q2(r.check,a,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ys?128:0)+(r.mode===em||r.mode===Zy?256:0),(f===0&&p===0||e===A4)&&k===vc&&(k=RY),k},zY=t=>{if(Oc(t))return wi;let e=t.state;return e.window&&(e.window=null),t.state=null,vc},WY=(t,e)=>{if(Oc(t))return wi;const r=t.state;return(r.wrap&2)===0?wi:(r.head=e,e.done=!1,vc)},HY=(t,e)=>{const r=e.length;let n,a,i;return Oc(t)||(n=t.state,n.wrap!==0&&n.mode!==Vm)?wi:n.mode===Vm&&(a=1,a=Q2(a,e,r,0),a!==n.check)?WR:(i=JR(t,e,r,r),i?(n.mode=GR,HR):(n.havedict=1,vc))};var GY=YR,VY=XR,KY=KR,YY=BY,XY=ZR,ZY=UY,JY=zY,QY=WY,eX=HY,tX="pako inflate (from Nodeca project)",ro={inflateReset:GY,inflateReset2:VY,inflateResetKeep:KY,inflateInit:YY,inflateInit2:XY,inflate:ZY,inflateEnd:JY,inflateGetHeader:QY,inflateSetDictionary:eX,inflateInfo:tX};function rX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nX=rX;const QR=Object.prototype.toString,{Z_NO_FLUSH:aX,Z_FINISH:iX,Z_OK:ih,Z_STREAM_END:tx,Z_NEED_DICT:rx,Z_STREAM_ERROR:sX,Z_DATA_ERROR:Z4,Z_MEM_ERROR:oX}=FR;function Kh(t){this.options=BR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jY,this.strm.avail_out=0;let r=ro.inflateInit2(this.strm,e.windowBits);if(r!==ih)throw new Error(e5[r]);if(this.header=new nX,ro.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=t5.string2buf(e.dictionary):QR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ro.inflateSetDictionary(this.strm,e.dictionary),r!==ih)))throw new Error(e5[r])}Kh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?iX:aX,QR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=ro.inflate(r,o),i===rx&&a&&(i=ro.inflateSetDictionary(r,a),i===ih?i=ro.inflate(r,o):i===Z4&&(i=rx));r.avail_in>0&&i===tx&&r.state.wrap>0&&t[r.next_in]!==0;)ro.inflateReset(r),i=ro.inflate(r,o);switch(i){case sX:case Z4:case rx:case oX:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===tx))if(this.options.to==="string"){let c=t5.utf8border(r.output,r.next_out),u=r.next_out-c,d=t5.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===ih&&l===0)){if(i===tx)return i=ro.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Kh.prototype.onData=function(t){this.chunks.push(t)};Kh.prototype.onEnd=function(t){t===ih&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=BR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function lX(t,e){const r=new Kh(e);if(r.push(t),r.err)throw r.msg||e5[r.err];return r.result}var cX=Kh,uX=lX,dX={Inflate:cX,inflate:uX};const{Inflate:fX,inflate:hX}=dX;var J4=fX,pX=hX;const eL=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;eL[t]=e}const Q4=4294967295;function mX(t,e,r){let n=t;for(let a=0;a<r;a++)n=eL[(n^e[a])&255]^n>>>8;return n}function gX(t,e){return(mX(Q4,t,e)^Q4)>>>0}function ek(t,e,r){const n=t.readUint32(),a=gX(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function tL(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function rL(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function nL(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function aL(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function iL(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+vX(e[i-a],r[i],r[i-a])&255}}function vX(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return a<=i&&a<=o?t:i<=o?e:r}function yX(t,e,r,n,a,i){switch(t){case 0:tL(e,r,a);break;case 1:rL(e,r,a,i);break;case 2:nL(e,r,n,a);break;case 3:aL(e,r,n,a,i);break;case 4:iL(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const xX=new Uint16Array([255]),bX=new Uint8Array(xX.buffer),wX=bX[0]===255;function jX(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=o[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*l,m=new Uint8Array(g);for(let v=0;v<h;v++){const x=e[u++],_=e.subarray(u,u+g);u+=g;const w=new Uint8Array(g);yX(x,_,w,m,g,l),m.set(w);for(let j=0;j<p;j++){const S=f.x+j*f.xStep,A=f.y+v*f.yStep;if(!(S>=r||A>=n))for(let O=0;O<l;O++)c[(A*r+S)*l+O]=w[j*l+O]}}}if(i===16){const d=new Uint16Array(c.buffer);if(wX)for(let f=0;f<d.length;f++)d[f]=_X(d[f]);return d}else return c}function _X(t){return(t&255)<<8|t>>8&255}const NX=new Uint16Array([255]),SX=new Uint8Array(NX.buffer),AX=SX[0]===255,kX=new Uint8Array(0);function tk(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=kX,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+l),p=c.subarray(h*l,(h+1)*l),e[d]){case 0:tL(f,p,l);break;case 1:rL(f,p,l,o);break;case 2:nL(f,p,u,l);break;case 3:aL(f,p,u,l,o);break;case 4:iL(f,p,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(AX)for(let g=0;g<h.length;g++)h[g]=PX(h[g]);return h}else return c}function PX(t){return(t&255)<<8|t>>8&255}const Am=Uint8Array.of(137,80,78,71,13,10,26,10);function rk(t){if(!CX(t.readBytes(Am.length)))throw new Error("wrong PNG signature")}function CX(t){if(t.length<Am.length)return!1;for(let e=0;e<Am.length;e++)if(t[e]!==Am[e])return!1;return!0}const OX="tEXt",EX=0,sL=new TextDecoder("latin1");function TX(t){if(RX(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const IX=/^[\u0000-\u00FF]*$/;function RX(t){if(!IX.test(t))throw new Error("invalid latin1 text")}function LX(t,e,r){const n=oL(e);t[n]=MX(e,r-n.length-1)}function oL(t){for(t.mark();t.readByte()!==EX;);const e=t.offset;t.reset();const r=sL.decode(t.readBytes(e-t.offset-1));return t.skip(1),TX(r),r}function MX(t,e){return sL.decode(t.readBytes(e))}const Ua={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nx={UNKNOWN:-1,DEFLATE:0},nk={UNKNOWN:-1,ADAPTIVE:0},ax={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},rm={NONE:0,BACKGROUND:1,PREVIOUS:2},ix={SOURCE:0,OVER:1};class DX extends __{constructor(r,n={}){super(r);Xt(this,"_checkCrc");Xt(this,"_inflator");Xt(this,"_png");Xt(this,"_apng");Xt(this,"_end");Xt(this,"_hasPalette");Xt(this,"_palette");Xt(this,"_hasTransparency");Xt(this,"_transparency");Xt(this,"_compressionMethod");Xt(this,"_filterMethod");Xt(this,"_interlaceMethod");Xt(this,"_colorType");Xt(this,"_isAnimated");Xt(this,"_numberOfFrames");Xt(this,"_numberOfPlays");Xt(this,"_frames");Xt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new J4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nx.UNKNOWN,this._filterMethod=nk.UNKNOWN,this._interlaceMethod=ax.UNKNOWN,this._colorType=Ua.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(rk(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(rk(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case OX:LX(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ek(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ek(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=$X(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ua.GREYSCALE:a=1;break;case Ua.TRUECOLOUR:a=3;break;case Ua.INDEXED_COLOUR:a=1;break;case Ua.GREYSCALE_ALPHA:a=2;break;case Ua.TRUECOLOUR_ALPHA:a=4;break;case Ua.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==nx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ua.GREYSCALE:case Ua.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ua.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ua.UNKNOWN:case Ua.GREYSCALE_ALPHA:case Ua.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=oL(this),a=this.readUint8();if(a!==nx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:pX(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=tk({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case rm.NONE:break;case rm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case rm.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case ix.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case ix.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==nk.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ax.NO_INTERLACE)this._png.data=tk({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ax.ADAM7)this._png.data=jX({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:rm.NONE,blendOp:ix.SOURCE,data:r}),this._inflator=new J4,this._writingDataChunks=!1}}function $X(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var ak;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ak||(ak={}));function FX(t,e){return new DX(t,e).decode()}var Tt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function sx(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var kr={log:sx,warn:function(t){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):sx.call(null,arguments))},error:function(t){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):sx(t))}};function ox(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Gl(n.response,e,r)},n.onerror=function(){kr.error("could not download file")},n.send()}function ik(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function nm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Gl=Tt.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Tt.URL||Tt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?ik(a.href)?ox(t,e,r):nm(a,a.target="_blank"):nm(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){nm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(ik(t))ox(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){nm(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:xr(i)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return ox(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Tt.HTMLElement)||Tt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=Tt.URL||Tt.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lL(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var km=Tt.atob.bind(Tt),sk=Tt.btoa.bind(Tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lx(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Yn(r,n,a,i,e[0],7,-680876936),i=Yn(i,r,n,a,e[1],12,-389564586),a=Yn(a,i,r,n,e[2],17,606105819),n=Yn(n,a,i,r,e[3],22,-1044525330),r=Yn(r,n,a,i,e[4],7,-176418897),i=Yn(i,r,n,a,e[5],12,1200080426),a=Yn(a,i,r,n,e[6],17,-1473231341),n=Yn(n,a,i,r,e[7],22,-45705983),r=Yn(r,n,a,i,e[8],7,1770035416),i=Yn(i,r,n,a,e[9],12,-1958414417),a=Yn(a,i,r,n,e[10],17,-42063),n=Yn(n,a,i,r,e[11],22,-1990404162),r=Yn(r,n,a,i,e[12],7,1804603682),i=Yn(i,r,n,a,e[13],12,-40341101),a=Yn(a,i,r,n,e[14],17,-1502002290),r=Xn(r,n=Yn(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Xn(i,r,n,a,e[6],9,-1069501632),a=Xn(a,i,r,n,e[11],14,643717713),n=Xn(n,a,i,r,e[0],20,-373897302),r=Xn(r,n,a,i,e[5],5,-701558691),i=Xn(i,r,n,a,e[10],9,38016083),a=Xn(a,i,r,n,e[15],14,-660478335),n=Xn(n,a,i,r,e[4],20,-405537848),r=Xn(r,n,a,i,e[9],5,568446438),i=Xn(i,r,n,a,e[14],9,-1019803690),a=Xn(a,i,r,n,e[3],14,-187363961),n=Xn(n,a,i,r,e[8],20,1163531501),r=Xn(r,n,a,i,e[13],5,-1444681467),i=Xn(i,r,n,a,e[2],9,-51403784),a=Xn(a,i,r,n,e[7],14,1735328473),r=Zn(r,n=Xn(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Zn(i,r,n,a,e[8],11,-2022574463),a=Zn(a,i,r,n,e[11],16,1839030562),n=Zn(n,a,i,r,e[14],23,-35309556),r=Zn(r,n,a,i,e[1],4,-1530992060),i=Zn(i,r,n,a,e[4],11,1272893353),a=Zn(a,i,r,n,e[7],16,-155497632),n=Zn(n,a,i,r,e[10],23,-1094730640),r=Zn(r,n,a,i,e[13],4,681279174),i=Zn(i,r,n,a,e[0],11,-358537222),a=Zn(a,i,r,n,e[3],16,-722521979),n=Zn(n,a,i,r,e[6],23,76029189),r=Zn(r,n,a,i,e[9],4,-640364487),i=Zn(i,r,n,a,e[12],11,-421815835),a=Zn(a,i,r,n,e[15],16,530742520),r=Jn(r,n=Zn(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Jn(i,r,n,a,e[7],10,1126891415),a=Jn(a,i,r,n,e[14],15,-1416354905),n=Jn(n,a,i,r,e[5],21,-57434055),r=Jn(r,n,a,i,e[12],6,1700485571),i=Jn(i,r,n,a,e[3],10,-1894986606),a=Jn(a,i,r,n,e[10],15,-1051523),n=Jn(n,a,i,r,e[1],21,-2054922799),r=Jn(r,n,a,i,e[8],6,1873313359),i=Jn(i,r,n,a,e[15],10,-30611744),a=Jn(a,i,r,n,e[6],15,-1560198380),n=Jn(n,a,i,r,e[13],21,1309151649),r=Jn(r,n,a,i,e[4],6,-145523070),i=Jn(i,r,n,a,e[11],10,-1120210379),a=Jn(a,i,r,n,e[2],15,718787259),n=Jn(n,a,i,r,e[9],21,-343485551),t[0]=sl(r,t[0]),t[1]=sl(n,t[1]),t[2]=sl(a,t[2]),t[3]=sl(i,t[3])}function Cv(t,e,r,n,a,i){return e=sl(sl(e,t),sl(n,i)),sl(e<<a|e>>>32-a,r)}function Yn(t,e,r,n,a,i,o){return Cv(e&r|~e&n,t,e,a,i,o)}function Xn(t,e,r,n,a,i,o){return Cv(e&n|r&~n,t,e,a,i,o)}function Zn(t,e,r,n,a,i,o){return Cv(e^r^n,t,e,a,i,o)}function Jn(t,e,r,n,a,i,o){return Cv(r^(e|~n),t,e,a,i,o)}function cL(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)lx(n,BX(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(lx(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,lx(n,a),n}function BX(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var ok="0123456789abcdef".split("");function qX(t){for(var e="",r=0;r<4;r++)e+=ok[t>>8*r+4&15]+ok[t>>8*r&15];return e}function UX(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function r5(t){return cL(t).map(UX).join("")}var zX=(function(t){for(var e=0;e<t.length;e++)t[e]=qX(t[e]);return t.join("")})(cL("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(t,e){if(zX){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function n5(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var f=e.length,p=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=d,o=l[(l[p]+l[h])%256],g+=String.fromCharCode(e.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lk={print:4,modify:8,copy:16,"annot-forms":32};function ku(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(lk.perm!==void 0)throw new Error("Invalid permission: "+l);a+=lk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=r5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=n5(this.encryptionKey,this.padding)}function Pu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function ck(t){if(xr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){Tt.console&&kr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Km(t){if(!(this instanceof Km))return new Km(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function uL(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Jl(t,e,r,n,a){if(!(this instanceof Jl))return new Jl(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,uL.call(this,n,a)}function Ou(t,e,r,n,a){if(!(this instanceof Ou))return new Ou(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,uL.call(this,n,a)}function pt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;xr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=ck;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(C){g=C};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(C){return v[C]};a=a||"a4";var _="compat",w="advanced",j=_;function S(){this.saveGraphicsState(),te(new Ke(mt,0,0,-mt,0,Ra()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),u="n",j=w}function A(){this.restoreGraphicsState(),u="S",j=_}var O=h.__private__.combineFontStyleAndFontWeight=function(C,z){if(C=="bold"&&z=="normal"||C=="bold"&&z==400||C=="normal"&&z=="italic"||C=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(C=z==400||z==="normal"?C==="italic"?"italic":"normal":z!=700&&z!=="bold"||C!=="normal"?(z==700?"bold":z)+""+C:"bold"),C};h.advancedAPI=function(C){var z=j===_;return z&&S.call(this),typeof C!="function"||(C(this),z&&A.call(this)),this},h.compatAPI=function(C){var z=j===w;return z&&A.call(this),typeof C!="function"||(C(this),z&&S.call(this)),this},h.isAdvancedAPI=function(){return j===w};var k,T=function(C){if(j!==w)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=h.roundToPrecision=h.__private__.roundToPrecision=function(C,z){var ie=e||z;if(isNaN(C)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ie).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,16)};var P=h.f2=h.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return R(C,2)},I=h.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return R(C,3)},M=h.scale=h.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return j===_?C*mt:j===w?C:void 0},D=function(C){return M((function(z){return j===_?Ra()-z:j===w?z:void 0})(C))};h.__private__.setPrecision=h.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var G,$="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return $},F=h.__private__.setFileId=function(C){return $=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(nn=new ku(d.userPermissions,d.userPassword,d.ownerPassword,$)),$};h.setFileId=function(C){return F(C),this},h.getFileId=function(){return q()};var ee=h.__private__.convertDateToPDFDate=function(C){var z=C.getTimezoneOffset(),ie=z<0?"+":"-",de=Math.floor(Math.abs(z/60)),xe=Math.abs(z%60),Ce=[ie,H(de),"'",H(xe),"'"].join("");return["D:",C.getFullYear(),H(C.getMonth()+1),H(C.getDate()),H(C.getHours()),H(C.getMinutes()),H(C.getSeconds()),Ce].join("")},he=h.__private__.convertPDFDateToDate=function(C){var z=parseInt(C.substr(2,4),10),ie=parseInt(C.substr(6,2),10)-1,de=parseInt(C.substr(8,2),10),xe=parseInt(C.substr(10,2),10),Ce=parseInt(C.substr(12,2),10),Re=parseInt(C.substr(14,2),10);return new Date(z,ie,de,xe,Ce,Re,0)},fe=h.__private__.setCreationDate=function(C){var z;if(C===void 0&&(C=new Date),C instanceof Date)z=ee(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=C}return G=z},B=h.__private__.getCreationDate=function(C){var z=G;return C==="jsDate"&&(z=he(G)),z};h.setCreationDate=function(C){return fe(C),this},h.getCreationDate=function(C){return B(C)};var W,H=h.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},re=h.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},ce=0,se=[],X=[],J=0,le=[],ue=[],oe=!1,Ne=X;h.__private__.setCustomOutputDestination=function(C){oe=!0,Ne=C};var ge=function(C){oe||(Ne=C)};h.__private__.resetCustomOutputDestination=function(){oe=!1,Ne=X};var te=h.__private__.out=function(C){return C=C.toString(),J+=C.length+1,Ne.push(C),Ne},Ve=h.__private__.write=function(C){return te(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(C){for(var z=C.length,ie=new ArrayBuffer(z),de=new Uint8Array(ie);z--;)de[z]=C.charCodeAt(z);return ie},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return qe};var _e=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(C){return _e=j===w?C/mt:C,this};var Ue,Ee=h.__private__.getFontSize=h.getFontSize=function(){return j===_?_e:_e*mt},ze=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(C){return ze=C,this},h.__private__.getR2L=h.getR2L=function(){return ze};var Ge,Vt=h.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Ue=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Ue=C}else Ue=parseInt(C,10)};h.__private__.getZoomMode=function(){return Ue};var wt,Nt=h.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ge=C};h.__private__.getPageMode=function(){return Ge};var nr=h.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');wt=C};h.__private__.getLayoutMode=function(){return wt},h.__private__.setDisplayMode=h.setDisplayMode=function(C,z,ie){return Vt(C),nr(z),Nt(ie),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(C){if(Object.keys(Ct).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[C]},h.__private__.getDocumentProperties=function(){return Ct},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(C){for(var z in Ct)Ct.hasOwnProperty(z)&&C[z]&&(Ct[z]=C[z]);return this},h.__private__.setDocumentProperty=function(C,z){if(Object.keys(Ct).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[C]=z};var et,mt,at,er,Jt,it={},xt={},tr=[],gt={},Lt={},ot={},qr={},Hr=null,Kt=0,bt=[],He=new ck(h),cr=t.hotfixes||[],Qt={},mr={},Bn=[],Ke=function C(z,ie,de,xe,Ce,Re){if(!(this instanceof C))return new C(z,ie,de,xe,Ce,Re);isNaN(z)&&(z=1),isNaN(ie)&&(ie=0),isNaN(de)&&(de=0),isNaN(xe)&&(xe=1),isNaN(Ce)&&(Ce=0),isNaN(Re)&&(Re=0),this._matrix=[z,ie,de,xe,Ce,Re]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(C)},Ke.prototype.multiply=function(C){var z=C.sx*this.sx+C.shy*this.shx,ie=C.sx*this.shy+C.shy*this.sy,de=C.shx*this.sx+C.sy*this.shx,xe=C.shx*this.shy+C.sy*this.sy,Ce=C.tx*this.sx+C.ty*this.shx+this.tx,Re=C.tx*this.shy+C.ty*this.sy+this.ty;return new Ke(z,ie,de,xe,Ce,Re)},Ke.prototype.decompose=function(){var C=this.sx,z=this.shy,ie=this.shx,de=this.sy,xe=this.tx,Ce=this.ty,Re=Math.sqrt(C*C+z*z),st=(C/=Re)*ie+(z/=Re)*de;ie-=C*st,de-=z*st;var ft=Math.sqrt(ie*ie+de*de);return st/=ft,C*(de/=ft)<z*(ie/=ft)&&(C=-C,z=-z,st=-st,Re=-Re),{scale:new Ke(Re,0,0,ft,0,0),translate:new Ke(1,0,0,1,xe,Ce),rotate:new Ke(C,z,-z,C,0,0),skew:new Ke(1,0,st,1,0,0)}},Ke.prototype.toString=function(C){return this.join(" ")},Ke.prototype.inversed=function(){var C=this.sx,z=this.shy,ie=this.shx,de=this.sy,xe=this.tx,Ce=this.ty,Re=1/(C*de-z*ie),st=de*Re,ft=-z*Re,Et=-ie*Re,qt=C*Re;return new Ke(st,ft,Et,qt,-st*xe-Et*Ce,-ft*xe-qt*Ce)},Ke.prototype.applyToPoint=function(C){var z=C.x*this.sx+C.y*this.shx+this.tx,ie=C.x*this.shy+C.y*this.sy+this.ty;return new Tl(z,ie)},Ke.prototype.applyToRectangle=function(C){var z=this.applyToPoint(C),ie=this.applyToPoint(new Tl(C.x+C.w,C.y+C.h));return new Zd(z.x,z.y,ie.x-z.x,ie.y-z.y)},Ke.prototype.clone=function(){var C=this.sx,z=this.shy,ie=this.shx,de=this.sy,xe=this.tx,Ce=this.ty;return new Ke(C,z,ie,de,xe,Ce)},h.Matrix=Ke;var wr=h.matrixMult=function(C,z){return z.multiply(C)},Vn=new Ke(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Vn;var Er=function(C,z){if(!Lt[C]){var ie=(z instanceof Jl?"Sh":"P")+(Object.keys(gt).length+1).toString(10);z.id=ie,Lt[C]=ie,gt[ie]=z,He.publish("addPattern",z)}};h.ShadingPattern=Jl,h.TilingPattern=Ou,h.addShadingPattern=function(C,z){return T("addShadingPattern()"),Er(C,z),this},h.beginTilingPattern=function(C){T("beginTilingPattern()"),Jd(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},h.endTilingPattern=function(C,z){T("endTilingPattern()"),z.stream=ue[W].join(`
`),Er(C,z),He.publish("endTilingPattern",z),Bn.pop().restore()};var Tr,Sr=h.__private__.newObject=function(){var C=ir();return tn(C,!0),C},ir=h.__private__.newObjectDeferred=function(){return ce++,se[ce]=function(){return J},ce},tn=function(C,z){return z=typeof z=="boolean"&&z,se[C]=J,z&&te(C+" 0 obj"),C},es=h.__private__.newAdditionalObject=function(){var C={objId:ir(),content:""};return le.push(C),C},Si=ir(),ha=ir(),ra=h.__private__.decodeColorString=function(C){var z=C.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ie=parseFloat(z[0]);z=[ie,ie,ie,"r"]}for(var de="#",xe=0;xe<3;xe++)de+=("0"+Math.floor(255*parseFloat(z[xe])).toString(16)).slice(-2);return de},Ea=h.__private__.encodeColorString=function(C){var z;typeof C=="string"&&(C={ch1:C});var ie=C.ch1,de=C.ch2,xe=C.ch3,Ce=C.ch4,Re=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var st=new lL(ie);if(st.ok)ie=st.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var ft=parseInt(ie.substr(1),16);ie=ft>>16&255,de=ft>>8&255,xe=255&ft}if(de===void 0||Ce===void 0&&ie===de&&de===xe)z=typeof ie=="string"?ie+" "+Re[0]:C.precision===2?P(ie/255)+" "+Re[0]:I(ie/255)+" "+Re[0];else if(Ce===void 0||xr(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",Re[1]].join(" ");z=typeof ie=="string"?[ie,de,xe,Re[1]].join(" "):C.precision===2?[P(ie/255),P(de/255),P(xe/255),Re[1]].join(" "):[I(ie/255),I(de/255),I(xe/255),Re[1]].join(" ")}else z=typeof ie=="string"?[ie,de,xe,Ce,Re[2]].join(" "):C.precision===2?[P(ie),P(de),P(xe),P(Ce),Re[2]].join(" "):[I(ie),I(de),I(xe),I(Ce),Re[2]].join(" ");return z},Ta=h.__private__.getFilters=function(){return o},pa=h.__private__.putStream=function(C){var z=(C=C||{}).data||"",ie=C.filters||Ta(),de=C.alreadyAppliedFilters||[],xe=C.addLength1||!1,Ce=z.length,Re=C.objectId,st=function(bn){return bn};if(d!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(st=nn.encryptor(Re,0));var ft={};ie===!0&&(ie=["FlateEncode"]);var Et=C.additionalKeyValues||[],qt=(ft=pt.API.processDataByFilters!==void 0?pt.API.processDataByFilters(z,ie):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(ft.data.length!==0&&(Et.push({key:"Length",value:ft.data.length}),xe===!0&&Et.push({key:"Length1",value:Ce})),qt.length!=0)if(qt.split("/").length-1==1)Et.push({key:"Filter",value:qt});else{Et.push({key:"Filter",value:"["+qt+"]"});for(var fr=0;fr<Et.length;fr+=1)if(Et[fr].key==="DecodeParms"){for(var Xr=[],mn=0;mn<ft.reverseChain.split("/").length-1;mn+=1)Xr.push("null");Xr.push(Et[fr].value),Et[fr].value="["+Xr.join(" ")+"]"}}te("<<");for(var _r=0;_r<Et.length;_r++)te("/"+Et[_r].key+" "+Et[_r].value);te(">>"),ft.data.length!==0&&(te("stream"),te(st(ft.data)),te("endstream"))},me=h.__private__.putPage=function(C){var z=C.number,ie=C.data,de=C.objId,xe=C.contentsObjId;tn(de,!0),te("<</Type /Page"),te("/Parent "+C.rootDictionaryObjId+" 0 R"),te("/Resources "+C.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(k(C.mediaBox.bottomLeftX))+" "+parseFloat(k(C.mediaBox.bottomLeftY))+" "+k(C.mediaBox.topRightX)+" "+k(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&te("/CropBox ["+k(C.cropBox.bottomLeftX)+" "+k(C.cropBox.bottomLeftY)+" "+k(C.cropBox.topRightX)+" "+k(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&te("/BleedBox ["+k(C.bleedBox.bottomLeftX)+" "+k(C.bleedBox.bottomLeftY)+" "+k(C.bleedBox.topRightX)+" "+k(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&te("/TrimBox ["+k(C.trimBox.bottomLeftX)+" "+k(C.trimBox.bottomLeftY)+" "+k(C.trimBox.topRightX)+" "+k(C.trimBox.topRightY)+"]"),C.artBox!==null&&te("/ArtBox ["+k(C.artBox.bottomLeftX)+" "+k(C.artBox.bottomLeftY)+" "+k(C.artBox.topRightX)+" "+k(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&te("/UserUnit "+C.userUnit),He.publish("putPage",{objId:de,pageContext:bt[z],pageNumber:z,page:ie}),te("/Contents "+xe+" 0 R"),te(">>"),te("endobj");var Ce=ie.join(`
`);return j===w&&(Ce+=`
Q`),tn(xe,!0),pa({data:Ce,filters:Ta(),objectId:xe}),te("endobj"),de},Ye=h.__private__.putPages=function(){var C,z,ie=[];for(C=1;C<=Kt;C++)bt[C].objId=ir(),bt[C].contentsObjId=ir();for(C=1;C<=Kt;C++)ie.push(me({number:C,data:ue[C],objId:bt[C].objId,contentsObjId:bt[C].contentsObjId,mediaBox:bt[C].mediaBox,cropBox:bt[C].cropBox,bleedBox:bt[C].bleedBox,trimBox:bt[C].trimBox,artBox:bt[C].artBox,userUnit:bt[C].userUnit,rootDictionaryObjId:Si,resourceDictionaryObjId:ha}));tn(Si,!0),te("<</Type /Pages");var de="/Kids [";for(z=0;z<Kt;z++)de+=ie[z]+" 0 R ";te(de+"]"),te("/Count "+Kt),te(">>"),te("endobj"),He.publish("postPutPages")},vt=function(C){He.publish("putFont",{font:C,out:te,newObject:Sr,putStream:pa}),C.isAlreadyPutted!==!0&&(C.objectNumber=Sr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Pu(C.postScriptName)),te("/Subtype /Type1"),typeof C.encoding=="string"&&te("/Encoding /"+C.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},jt=function(C){C.objectNumber=Sr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[k(C.x),k(C.y),k(C.x+C.width),k(C.y+C.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ie=C.pages[1].join(`
`);pa({data:ie,additionalKeyValues:z,objectId:C.objectNumber}),te("endobj")},sr=function(C,z){z||(z=21);var ie=Sr(),de=(function(Re,st){var ft,Et=[],qt=1/(st-1);for(ft=0;ft<1;ft+=qt)Et.push(ft);if(Et.push(1),Re[0].offset!=0){var fr={offset:0,color:Re[0].color};Re.unshift(fr)}if(Re[Re.length-1].offset!=1){var Xr={offset:1,color:Re[Re.length-1].color};Re.push(Xr)}for(var mn="",_r=0,bn=0;bn<Et.length;bn++){for(ft=Et[bn];ft>Re[_r+1].offset;)_r++;var gn=Re[_r].offset,qn=(ft-gn)/(Re[_r+1].offset-gn),Fs=Re[_r].color,Mo=Re[_r+1].color;mn+=re(Math.round((1-qn)*Fs[0]+qn*Mo[0]).toString(16))+re(Math.round((1-qn)*Fs[1]+qn*Mo[1]).toString(16))+re(Math.round((1-qn)*Fs[2]+qn*Mo[2]).toString(16))}return mn.trim()})(C.colors,z),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+z+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pa({data:de,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),te("endobj"),C.objectNumber=Sr(),te("<< /ShadingType "+C.type),te("/ColorSpace /DeviceRGB");var Ce="/Coords ["+k(parseFloat(C.coords[0]))+" "+k(parseFloat(C.coords[1]))+" ";C.type===2?Ce+=k(parseFloat(C.coords[2]))+" "+k(parseFloat(C.coords[3])):Ce+=k(parseFloat(C.coords[2]))+" "+k(parseFloat(C.coords[3]))+" "+k(parseFloat(C.coords[4]))+" "+k(parseFloat(C.coords[5])),te(Ce+="]"),C.matrix&&te("/Matrix ["+C.matrix.toString()+"]"),te("/Function "+ie+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},jr=function(C,z){var ie=ir(),de=Sr();z.push({resourcesOid:ie,objectOid:de}),C.objectNumber=de;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+C.boundingBox.map(k).join(" ")+"]"}),xe.push({key:"XStep",value:k(C.xStep)}),xe.push({key:"YStep",value:k(C.yStep)}),xe.push({key:"Resources",value:ie+" 0 R"}),C.matrix&&xe.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),pa({data:C.stream,additionalKeyValues:xe,objectId:C.objectNumber}),te("endobj")},ut=function(C){for(var z in C.objectNumber=Sr(),te("<<"),C)switch(z){case"opacity":te("/ca "+P(C[z]));break;case"stroke-opacity":te("/CA "+P(C[z]))}te(">>"),te("endobj")},Ia=function(C){tn(C.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in te("/Font <<"),it)it.hasOwnProperty(z)&&(f===!1||f===!0&&p.hasOwnProperty(z))&&te("/"+z+" "+it[z].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(gt).length>0){for(var z in te("/Shading <<"),gt)gt.hasOwnProperty(z)&&gt[z]instanceof Jl&&gt[z].objectNumber>=0&&te("/"+z+" "+gt[z].objectNumber+" 0 R");He.publish("putShadingPatternDict"),te(">>")}})(),(function(z){if(Object.keys(gt).length>0){for(var ie in te("/Pattern <<"),gt)gt.hasOwnProperty(ie)&&gt[ie]instanceof h.TilingPattern&&gt[ie].objectNumber>=0&&gt[ie].objectNumber<z&&te("/"+ie+" "+gt[ie].objectNumber+" 0 R");He.publish("putTilingPatternDict"),te(">>")}})(C.objectOid),(function(){if(Object.keys(ot).length>0){var z;for(z in te("/ExtGState <<"),ot)ot.hasOwnProperty(z)&&ot[z].objectNumber>=0&&te("/"+z+" "+ot[z].objectNumber+" 0 R");He.publish("putGStateDict"),te(">>")}})(),(function(){for(var z in te("/XObject <<"),Qt)Qt.hasOwnProperty(z)&&Qt[z].objectNumber>=0&&te("/"+z+" "+Qt[z].objectNumber+" 0 R");He.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},Sl=function(C){xt[C.fontName]=xt[C.fontName]||{},xt[C.fontName][C.fontStyle]=C.id},ts=function(C,z,ie,de,xe){var Ce={id:"F"+(Object.keys(it).length+1).toString(10),postScriptName:C,fontName:z,fontStyle:ie,encoding:de,isStandardFont:xe||!1,metadata:{}};return He.publish("addFont",{font:Ce,instance:this}),it[Ce.id]=Ce,Sl(Ce),Ce.id},rn=h.__private__.pdfEscape=h.pdfEscape=function(C,z){return(function(ie,de){var xe,Ce,Re,st,ft,Et,qt,fr,Xr;if(Re=(de=de||{}).sourceEncoding||"Unicode",ft=de.outputEncoding,(de.autoencode||ft)&&it[et].metadata&&it[et].metadata[Re]&&it[et].metadata[Re].encoding&&(st=it[et].metadata[Re].encoding,!ft&&it[et].encoding&&(ft=it[et].encoding),!ft&&st.codePages&&(ft=st.codePages[0]),typeof ft=="string"&&(ft=st[ft]),ft)){for(qt=!1,Et=[],xe=0,Ce=ie.length;xe<Ce;xe++)(fr=ft[ie.charCodeAt(xe)])?Et.push(String.fromCharCode(fr)):Et.push(ie[xe]),Et[xe].charCodeAt(0)>>8&&(qt=!0);ie=Et.join("")}for(xe=ie.length;qt===void 0&&xe!==0;)ie.charCodeAt(xe-1)>>8&&(qt=!0),xe--;if(!qt)return ie;for(Et=de.noBOM?[]:[254,255],xe=0,Ce=ie.length;xe<Ce;xe++){if((Xr=(fr=ie.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(Xr),Et.push(fr-(Xr<<8))}return String.fromCharCode.apply(void 0,Et)})(C,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=h.__private__.beginPage=function(C){ue[++Kt]=[],bt[Kt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Dc(Kt),ge(ue[W])},To=function(C,z){var ie,de,xe;switch(r=z||r,typeof C=="string"&&(ie=x(C.toLowerCase()),Array.isArray(ie)&&(de=ie[0],xe=ie[1])),Array.isArray(C)&&(de=C[0]*mt,xe=C[1]*mt),isNaN(de)&&(de=a[0],xe=a[1]),(de>14400||xe>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),xe=Math.min(14400,xe)),a=[de,xe],r.substr(0,1)){case"l":xe>de&&(a=[xe,de]);break;case"p":de>xe&&(a=[xe,de])}Eo(a),Z0(Vd),te(Fc),Yd!==0&&te(Yd+" J"),Xd!==0&&te(Xd+" j"),He.publish("addPage",{pageNumber:Kt})},Io=function(C){C>0&&C<=Kt&&(ue.splice(C,1),bt.splice(C,1),Kt--,W>Kt&&(W=Kt),this.setPage(W))},Dc=function(C){C>0&&C<=Kt&&(W=C)},xn=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ue.length-1},rs=function(C,z,ie){var de,xe=void 0;return ie=ie||{},C=C!==void 0?C:it[et].fontName,z=z!==void 0?z:it[et].fontStyle,de=C.toLowerCase(),xt[de]!==void 0&&xt[de][z]!==void 0?xe=xt[de][z]:xt[C]!==void 0&&xt[C][z]!==void 0?xe=xt[C][z]:ie.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+C+"', '"+z+"'. Refer to getFontList() for available fonts."),xe||ie.noFallback||(xe=xt.times[z])==null&&(xe=xt.times.normal),xe},$c=h.__private__.putInfo=function(){var C=Sr(),z=function(de){return de};for(var ie in d!==null&&(z=nn.encryptor(C,0)),te("<<"),te("/Producer ("+rn(z("jsPDF "+pt.version))+")"),Ct)Ct.hasOwnProperty(ie)&&Ct[ie]&&te("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+rn(z(Ct[ie]))+")");te("/CreationDate ("+rn(z(G))+")"),te(">>"),te("endobj")},z0=h.__private__.putCatalog=function(C){var z=(C=C||{}).rootDictionaryObjId||Si;switch(Sr(),te("<<"),te("/Type /Catalog"),te("/Pages "+z+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Ue;ie.substr(ie.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&te("/OpenAction [3 0 R /XYZ null null "+P(Ue)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Ge&&te("/PageMode /"+Ge),He.publish("putCatalog"),te(">>"),te("endobj")},pn=h.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ce+1)),te("/Root "+ce+" 0 R"),te("/Info "+(ce-1)+" 0 R"),d!==null&&te("/Encrypt "+nn.oid+" 0 R"),te("/ID [ <"+$+"> <"+$+"> ]"),te(">>")},hp=h.__private__.putHeader=function(){te("%PDF-"+g),te("%")},pp=h.__private__.putXRef=function(){var C="0000000000";te("xref"),te("0 "+(ce+1)),te("0000000000 65535 f ");for(var z=1;z<=ce;z++)typeof se[z]=="function"?te((C+se[z]()).slice(-10)+" 00000 n "):se[z]!==void 0?te((C+se[z]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Ms=h.__private__.buildDocument=function(){var C;ce=0,J=0,X=[],se=[],le=[],Si=ir(),ha=ir(),ge(X),He.publish("buildDocument"),hp(),Ye(),(function(){He.publish("putAdditionalObjects");for(var ie=0;ie<le.length;ie++){var de=le[ie];tn(de.objId,!0),te(de.content),te("endobj")}He.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var ie in it)it.hasOwnProperty(ie)&&(f===!1||f===!0&&p.hasOwnProperty(ie))&&vt(it[ie])})(),(function(){var ie;for(ie in ot)ot.hasOwnProperty(ie)&&ut(ot[ie])})(),(function(){for(var ie in Qt)Qt.hasOwnProperty(ie)&&jt(Qt[ie])})(),(function(ie){var de;for(de in gt)gt.hasOwnProperty(de)&&(gt[de]instanceof Jl?sr(gt[de]):gt[de]instanceof Ou&&jr(gt[de],ie))})(C),He.publish("putResources"),C.forEach(Ia),Ia({resourcesOid:ha,objectOid:Number.MAX_SAFE_INTEGER}),He.publish("postPutResources"),d!==null&&(nn.oid=Sr(),te("<<"),te("/Filter /Standard"),te("/V "+nn.v),te("/R "+nn.r),te("/U <"+nn.toHexString(nn.U)+">"),te("/O <"+nn.toHexString(nn.O)+">"),te("/P "+nn.P),te(">>"),te("endobj")),$c(),z0();var z=J;return pp(),pn(),te("startxref"),te(""+z),te("%%EOF"),ge(ue[W]),X.join(`
`)},Al=h.__private__.getBlob=function(C){return new Blob([Be(C)],{type:"application/pdf"})},Ai=h.output=h.__private__.output=(Tr=function(C,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",C){case void 0:return Ms();case"save":h.save(z.filename);break;case"arraybuffer":return Be(Ms());case"blob":return Al(Ms());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(Al(Ms()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",de=Ms();try{ie=sk(de)}catch{ie=sk(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+z.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(xe=z.pdfObjectUrl,Ce="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",st=Tt.open();return st!==null&&st.document.write(Re),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Et=Tt.open();if(Et!==null){Et.document.write(ft);var qt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=z.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Xr=Tt.open();if(Xr!==null&&(Xr.document.write(fr),Xr.document.title=z.filename),Xr||typeof safari>"u")return Xr;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",z);default:return null}},Tr.foo=function(){try{return Tr.apply(this,arguments)}catch(ie){var C=ie.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var z="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Tt.console)throw new Error(z);Tt.console.error(z,ie),Tt.alert&&alert(z)}},Tr.foo.bar=Tr,Tr.foo),kl=function(C){return Array.isArray(cr)===!0&&cr.indexOf(C)>-1};switch(n){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=kl("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);mt=n}var nn=null;fe(),F();var Wd=h.__private__.getPageInfo=h.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[C].objId,pageNumber:C,pageContext:bt[C]}},W0=h.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in bt)if(bt[z].objId===C)break;return Wd(z)},H0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:bt[W].objId,pageNumber:W,pageContext:bt[W]}};h.addPage=function(){return To.apply(this,arguments),this},h.setPage=function(){return Dc.apply(this,arguments),ge.call(this,ue[W]),this},h.insertPage=function(C){return this.addPage(),this.movePage(W,C),this},h.movePage=function(C,z){var ie,de;if(C>z){ie=ue[C],de=bt[C];for(var xe=C;xe>z;xe--)ue[xe]=ue[xe-1],bt[xe]=bt[xe-1];ue[z]=ie,bt[z]=de,this.setPage(z)}else if(C<z){ie=ue[C],de=bt[C];for(var Ce=C;Ce<z;Ce++)ue[Ce]=ue[Ce+1],bt[Ce]=bt[Ce+1];ue[z]=ie,bt[z]=de,this.setPage(z)}return this},h.deletePage=function(){return Io.apply(this,arguments),this},h.__private__.text=h.text=function(C,z,ie,de,xe){var Ce,Re,st,ft,Et,qt,fr,Xr,mn,_r=(de=de||{}).scope||this;if(typeof C=="number"&&typeof z=="number"&&(typeof ie=="string"||Array.isArray(ie))){var bn=ie;ie=z,z=C,C=bn}if(arguments[3]instanceof Ke==0?(st=arguments[4],ft=arguments[5],xr(fr=arguments[3])==="object"&&fr!==null||(typeof st=="string"&&(ft=st,st=null),typeof fr=="string"&&(ft=fr,fr=null),typeof fr=="number"&&(st=fr,fr=null),de={flags:fr,angle:st,align:ft})):(T("The transform parameter of text() with a Matrix value"),mn=xe),isNaN(z)||isNaN(ie)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return _r;var gn,qn="",Fs=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Cl,Mo=_r.internal.scaleFactor;function ay(Ir){return Ir=Ir.split("	").join(Array(de.TabLen||9).join(" ")),rn(Ir,fr)}function vp(Ir){for(var Rr,sn=Ir.concat(),on=[],zs=sn.length;zs--;)typeof(Rr=sn.shift())=="string"?on.push(Rr):Array.isArray(Ir)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?on.push(Rr[0]):on.push([Rr[0],Rr[1],Rr[2]]);return on}function Rl(Ir,Rr){var sn;if(typeof Ir=="string")sn=Rr(Ir)[0];else if(Array.isArray(Ir)){for(var on,zs,Xc=Ir.concat(),cs=[],cf=Xc.length;cf--;)typeof(on=Xc.shift())=="string"?cs.push(Rr(on)[0]):Array.isArray(on)&&typeof on[0]=="string"&&(zs=Rr(on[0],on[1],on[2]),cs.push([zs[0],zs[1],zs[2]]));sn=cs}return sn}var ki=!1,tf=!0;if(typeof C=="string")ki=!0;else if(Array.isArray(C)){var zc=C.concat();Re=[];for(var Do,In=zc.length;In--;)(typeof(Do=zc.shift())!="string"||Array.isArray(Do)&&typeof Do[0]!="string")&&(tf=!1);ki=tf}if(ki===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Bs=_e/_r.internal.scaleFactor,qs=Bs*(Fs-1);switch(de.baseline){case"bottom":ie-=qs;break;case"top":ie+=Bs-qs;break;case"hanging":ie+=Bs-2*qs;break;case"middle":ie+=Bs/2-qs}if((qt=de.maxWidth||0)>0&&(typeof C=="string"?C=_r.splitTextToSize(C,qt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Ir,Rr){return Ir.concat(_r.splitTextToSize(Rr,qt))},[]))),Ce={text:C,x:z,y:ie,options:de,mutex:{pdfEscape:rn,activeFontKey:et,fonts:it,activeFontSize:_e}},He.publish("preProcessText",Ce),C=Ce.text,st=(de=Ce.options).angle,mn instanceof Ke==0&&st&&typeof st=="number"){st*=Math.PI/180,de.rotationDirection===0&&(st=-st),j===w&&(st=-st);var Wc=Math.cos(st),rf=Math.sin(st);mn=new Ke(Wc,rf,-rf,Wc,0,0)}else st&&st instanceof Ke&&(mn=st);j!==w||mn||(mn=Vn),(Et=de.charSpace||qc)!==void 0&&(qn+=k(M(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xr=de.horizontalScale)!==void 0&&(qn+=k(100*Xr)+` Tz
`),de.lang;var na=-1,yp=de.renderingMode!==void 0?de.renderingMode:de.stroke,Hc=_r.internal.getCurrentPageInfo().pageContext;switch(yp){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var xp=Hc.usedRenderingMode!==void 0?Hc.usedRenderingMode:-1;na!==-1?qn+=na+` Tr
`:xp!==-1&&(qn+=`0 Tr
`),na!==-1&&(Hc.usedRenderingMode=na),ft=de.align||"left";var wn,ai=_e*Fs,nf=_r.internal.pageSize.getWidth(),af=it[et];Et=de.charSpace||qc,qt=de.maxWidth||0,fr=Object.assign({autoencode:!0,noBOM:!0},de.flags);var $o=[],Gc=function(Ir){return _r.getStringUnitWidth(Ir,{font:af,charSpace:Et,fontSize:_e,doKerning:!1})*_e/Mo};if(Object.prototype.toString.call(C)==="[object Array]"){var ma;Re=vp(C),ft!=="left"&&(wn=Re.map(Gc));var ga,Ll=0;if(ft==="right"){z-=wn[0],C=[],In=Re.length;for(var is=0;is<In;is++)is===0?(ga=Ds(z),ma=$s(ie)):(ga=M(Ll-wn[is]),ma=-ai),C.push([Re[is],ga,ma]),Ll=wn[is]}else if(ft==="center"){z-=wn[0]/2,C=[],In=Re.length;for(var Fo=0;Fo<In;Fo++)Fo===0?(ga=Ds(z),ma=$s(ie)):(ga=M((Ll-wn[Fo])/2),ma=-ai),C.push([Re[Fo],ga,ma]),Ll=wn[Fo]}else if(ft==="left"){C=[],In=Re.length;for(var sf=0;sf<In;sf++)C.push(Re[sf])}else if(ft==="justify"&&af.encoding==="Identity-H"){C=[],In=Re.length,qt=qt!==0?qt:nf;for(var Bo=0,an=0;an<In;an++)if(ma=an===0?$s(ie):-ai,ga=an===0?Ds(z):Bo,an<In-1){var iy=M((qt-wn[an])/(Re[an].split(" ").length-1)),ss=Re[an].split(" ");C.push([ss[0]+" ",ga,ma]),Bo=0;for(var os=1;os<ss.length;os++){var Vc=(Gc(ss[os-1]+" "+ss[os])-Gc(ss[os]))*Mo+iy;os==ss.length-1?C.push([ss[os],Vc,0]):C.push([ss[os]+" ",Vc,0]),Bo-=Vc}}else C.push([Re[an],ga,ma]);C.push(["",Bo,0])}else{if(ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],In=Re.length,qt=qt!==0?qt:nf,an=0;an<In;an++)ma=an===0?$s(ie):-ai,ga=an===0?Ds(z):0,an<In-1?$o.push(k(M((qt-wn[an])/(Re[an].split(" ").length-1)))):$o.push(0),C.push([Re[an],ga,ma])}}(typeof de.R2L=="boolean"?de.R2L:ze)===!0&&(C=Rl(C,function(Ir,Rr,sn){return[Ir.split("").reverse().join(""),Rr,sn]})),Ce={text:C,x:z,y:ie,options:de,mutex:{pdfEscape:rn,activeFontKey:et,fonts:it,activeFontSize:_e}},He.publish("postProcessText",Ce),C=Ce.text,gn=Ce.mutex.isHex||!1;var of=it[et].encoding;of!=="WinAnsiEncoding"&&of!=="StandardEncoding"||(C=Rl(C,function(Ir,Rr,sn){return[ay(Ir),Rr,sn]})),Re=vp(C),C=[];for(var Kc,Yc,Ml,Dl=Array.isArray(Re[0])?1:0,Us="",lf=function(Ir,Rr,sn){var on="";return sn instanceof Ke?(sn=typeof de.angle=="number"?wr(sn,new Ke(1,0,0,1,Ir,Rr)):wr(new Ke(1,0,0,1,Ir,Rr),sn),j===w&&(sn=wr(new Ke(1,0,0,-1,0,0),sn)),on=sn.join(" ")+` Tm
`):on=k(Ir)+" "+k(Rr)+` Td
`,on},La=0;La<Re.length;La++){switch(Us="",Dl){case 1:Ml=(gn?"<":"(")+Re[La][0]+(gn?">":")"),Kc=parseFloat(Re[La][1]),Yc=parseFloat(Re[La][2]);break;case 0:Ml=(gn?"<":"(")+Re[La]+(gn?">":")"),Kc=Ds(z),Yc=$s(ie)}$o!==void 0&&$o[La]!==void 0&&(Us=$o[La]+` Tw
`),La===0?C.push(Us+lf(Kc,Yc,mn)+Ml):Dl===0?C.push(Us+Ml):Dl===1&&C.push(Us+lf(Kc,Yc,mn)+Ml)}C=Dl===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var ls=`BT
/`;return ls+=et+" "+_e+` Tf
`,ls+=k(_e*Fs)+` TL
`,ls+=Ol+`
`,ls+=qn,ls+=C,te(ls+="ET"),p[et]=!0,_r};var G0=h.__private__.clip=h.clip=function(C){return te(C==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return G0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return te("n"),this};var ns=h.__private__.isValidStyle=function(C){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(z=!0),z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(C){return ns(C)&&(u=C),this};var mp=h.__private__.getStyle=h.getStyle=function(C){var z=u;switch(C){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=C}return z},gp=h.close=function(){return te("h"),this};h.stroke=function(){return te("S"),this},h.fill=function(C){return Ro("f",C),this},h.fillEvenOdd=function(C){return Ro("f*",C),this},h.fillStroke=function(C){return Ro("B",C),this},h.fillStrokeEvenOdd=function(C){return Ro("B*",C),this};var Ro=function(C,z){xr(z)==="object"?K0(z,C):te(C)},Hd=function(C){C===null||j===w&&C===void 0||(C=mp(C),te(C))};function V0(C,z,ie,de,xe){var Ce=new Ou(z||this.boundingBox,ie||this.xStep,de||this.yStep,this.gState,xe||this.matrix);Ce.stream=this.stream;var Re=C+"$$"+this.cloneIndex+++"$$";return Er(Re,Ce),Ce}var K0=function(C,z){var ie=Lt[C.key],de=gt[ie];if(de instanceof Jl)te("q"),te(Y0(z)),de.gState&&h.setGState(de.gState),te(C.matrix.toString()+" cm"),te("/"+ie+" sh"),te("Q");else if(de instanceof Ou){var xe=new Ke(1,0,0,-1,0,Ra());C.matrix&&(xe=xe.multiply(C.matrix||Vn),ie=V0.call(de,C.key,C.boundingBox,C.xStep,C.yStep,xe).id),te("q"),te("/Pattern cs"),te("/"+ie+" scn"),de.gState&&h.setGState(de.gState),te(z),te("Q")}},Y0=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gd=h.moveTo=function(C,z){return te(k(M(C))+" "+k(D(z))+" m"),this},Pl=h.lineTo=function(C,z){return te(k(M(C))+" "+k(D(z))+" l"),this},Lo=h.curveTo=function(C,z,ie,de,xe,Ce){return te([k(M(C)),k(D(z)),k(M(ie)),k(D(de)),k(M(xe)),k(D(Ce)),"c"].join(" ")),this};h.__private__.line=h.line=function(C,z,ie,de,xe){if(isNaN(C)||isNaN(z)||isNaN(ie)||isNaN(de)||!ns(xe))throw new Error("Invalid arguments passed to jsPDF.line");return j===_?this.lines([[ie-C,de-z]],C,z,[1,1],xe||"S"):this.lines([[ie-C,de-z]],C,z,[1,1]).stroke()},h.__private__.lines=h.lines=function(C,z,ie,de,xe,Ce){var Re,st,ft,Et,qt,fr,Xr,mn,_r,bn,gn,qn;if(typeof C=="number"&&(qn=ie,ie=z,z=C,C=qn),de=de||[1,1],Ce=Ce||!1,isNaN(z)||isNaN(ie)||!Array.isArray(C)||!Array.isArray(de)||!ns(xe)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gd(z,ie),Re=de[0],st=de[1],Et=C.length,bn=z,gn=ie,ft=0;ft<Et;ft++)(qt=C[ft]).length===2?(bn=qt[0]*Re+bn,gn=qt[1]*st+gn,Pl(bn,gn)):(fr=qt[0]*Re+bn,Xr=qt[1]*st+gn,mn=qt[2]*Re+bn,_r=qt[3]*st+gn,bn=qt[4]*Re+bn,gn=qt[5]*st+gn,Lo(fr,Xr,mn,_r,bn,gn));return Ce&&gp(),Hd(xe),this},h.path=function(C){for(var z=0;z<C.length;z++){var ie=C[z],de=ie.c;switch(ie.op){case"m":Gd(de[0],de[1]);break;case"l":Pl(de[0],de[1]);break;case"c":Lo.apply(this,de);break;case"h":gp()}}return this},h.__private__.rect=h.rect=function(C,z,ie,de,xe){if(isNaN(C)||isNaN(z)||isNaN(ie)||isNaN(de)||!ns(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===_&&(de=-de),te([k(M(C)),k(D(z)),k(M(ie)),k(M(de)),"re"].join(" ")),Hd(xe),this},h.__private__.triangle=h.triangle=function(C,z,ie,de,xe,Ce,Re){if(isNaN(C)||isNaN(z)||isNaN(ie)||isNaN(de)||isNaN(xe)||isNaN(Ce)||!ns(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-C,de-z],[xe-ie,Ce-de],[C-xe,z-Ce]],C,z,[1,1],Re,!0),this},h.__private__.roundedRect=h.roundedRect=function(C,z,ie,de,xe,Ce,Re){if(isNaN(C)||isNaN(z)||isNaN(ie)||isNaN(de)||isNaN(xe)||isNaN(Ce)||!ns(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*ie),Ce=Math.min(Ce,.5*de),this.lines([[ie-2*xe,0],[xe*st,0,xe,Ce-Ce*st,xe,Ce],[0,de-2*Ce],[0,Ce*st,-xe*st,Ce,-xe,Ce],[2*xe-ie,0],[-xe*st,0,-xe,-Ce*st,-xe,-Ce],[0,2*Ce-de],[0,-Ce*st,xe*st,-Ce,xe,-Ce]],C+xe,z,[1,1],Re,!0),this},h.__private__.ellipse=h.ellipse=function(C,z,ie,de,xe){if(isNaN(C)||isNaN(z)||isNaN(ie)||isNaN(de)||!ns(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*ie,Re=4/3*(Math.SQRT2-1)*de;return Gd(C+ie,z),Lo(C+ie,z-Re,C+Ce,z-de,C,z-de),Lo(C-Ce,z-de,C-ie,z-Re,C-ie,z),Lo(C-ie,z+Re,C-Ce,z+de,C,z+de),Lo(C+Ce,z+de,C+ie,z+Re,C+ie,z),Hd(xe),this},h.__private__.circle=h.circle=function(C,z,ie,de){if(isNaN(C)||isNaN(z)||isNaN(ie)||!ns(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,z,ie,ie,de)},h.setFont=function(C,z,ie){return ie&&(z=O(z,ie)),et=rs(C,z,{disableWarning:!1}),this};var X0=h.__private__.getFont=h.getFont=function(){return it[rs.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var C,z,ie={};for(C in xt)if(xt.hasOwnProperty(C))for(z in ie[C]=[],xt[C])xt[C].hasOwnProperty(z)&&ie[C].push(z);return ie},h.addFont=function(C,z,ie,de,xe){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(ie=O(ie,de)),ts.call(this,C,z,ie,xe=xe||"Identity-H")};var Cl,Vd=t.lineWidth||.200025,Rt=h.__private__.getLineWidth=h.getLineWidth=function(){return Vd},Z0=h.__private__.setLineWidth=h.setLineWidth=function(C){return Vd=C,te(k(M(C))+" w"),this};h.__private__.setLineDash=pt.API.setLineDash=pt.API.setLineDashPattern=function(C,z){if(C=C||[],z=z||0,isNaN(z)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ie){return k(M(ie))}).join(" "),z=k(M(z)),te("["+C+"] "+z+" d"),this};var J0=h.__private__.getLineHeight=h.getLineHeight=function(){return _e*Cl};h.__private__.getLineHeight=h.getLineHeight=function(){return _e*Cl};var Q0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Cl=C),this},ey=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Cl};Q0(t.lineHeight);var Ds=h.__private__.getHorizontalCoordinate=function(C){return M(C)},$s=h.__private__.getVerticalCoordinate=function(C){return j===w?C:bt[W].mediaBox.topRightY-bt[W].mediaBox.bottomLeftY-M(C)},ty=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(C){return k(Ds(C))},ry=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(C){return k($s(C))},Fc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ra(Fc)},h.__private__.setStrokeColor=h.setDrawColor=function(C,z,ie,de){return Fc=Ea({ch1:C,ch2:z,ch3:ie,ch4:de,pdfColorType:"draw",precision:2}),te(Fc),this};var Kd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ra(Kd)},h.__private__.setFillColor=h.setFillColor=function(C,z,ie,de){return Kd=Ea({ch1:C,ch2:z,ch3:ie,ch4:de,pdfColorType:"fill",precision:2}),te(Kd),this};var Ol=t.textColor||"0 g",Bc=h.__private__.getTextColor=h.getTextColor=function(){return ra(Ol)};h.__private__.setTextColor=h.setTextColor=function(C,z,ie,de){return Ol=Ea({ch1:C,ch2:z,ch3:ie,ch4:de,pdfColorType:"text",precision:3}),this};var qc=t.charSpace,ny=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(qc||0)};h.__private__.setCharSpace=h.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qc=C,this};var Yd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(C){var z=h.CapJoinStyles[C];if(z===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yd=z,te(z+" J"),this};var Xd=0;h.__private__.setLineJoin=h.setLineJoin=function(C){var z=h.CapJoinStyles[C];if(z===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xd=z,te(z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(k(M(C))+" M"),this},h.GState=Km,h.setGState=function(C){(C=typeof C=="string"?ot[qr[C]]:El(null,C)).equals(Hr)||(te("/"+C.id+" gs"),Hr=C)};var El=function(C,z){if(!C||!qr[C]){var ie=!1;for(var de in ot)if(ot.hasOwnProperty(de)&&ot[de].equals(z)){ie=!0;break}if(ie)z=ot[de];else{var xe="GS"+(Object.keys(ot).length+1).toString(10);ot[xe]=z,z.id=xe}return C&&(qr[C]=z.id),He.publish("addGState",z),z}};h.addGState=function(C,z){return El(C,z),this},h.saveGraphicsState=function(){return te("q"),tr.push({key:et,size:_e,color:Ol}),this},h.restoreGraphicsState=function(){te("Q");var C=tr.pop();return et=C.key,_e=C.size,Ol=C.color,Hr=null,this},h.setCurrentTransformationMatrix=function(C){return te(C.toString()+" cm"),this},h.comment=function(C){return te("#"+C),this};var Tl=function(C,z){var ie=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ce){isNaN(Ce)||(ie=parseFloat(Ce))}});var de=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ce){isNaN(Ce)||(de=parseFloat(Ce))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Ce){xe=Ce.toString()}}),this},Zd=function(C,z,ie,de){Tl.call(this,C,z),this.type="rect";var xe=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Re){isNaN(Re)||(xe=parseFloat(Re))}});var Ce=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Re){isNaN(Re)||(Ce=parseFloat(Re))}}),this},Uc=function(){this.page=Kt,this.currentPage=W,this.pages=ue.slice(0),this.pagesContext=bt.slice(0),this.x=at,this.y=er,this.matrix=Jt,this.width=Qd(W),this.height=Ra(W),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Uc.prototype.restore=function(){Kt=this.page,W=this.currentPage,bt=this.pagesContext,ue=this.pages,at=this.x,er=this.y,Jt=this.matrix,ef(W,this.width),as(W,this.height),Ne=this.outputDestination};var Jd=function(C,z,ie,de,xe){Bn.push(new Uc),Kt=W=0,ue=[],at=C,er=z,Jt=xe,Eo([ie,de])};for(var Il in h.beginFormObject=function(C,z,ie,de,xe){return Jd(C,z,ie,de,xe),this},h.endFormObject=function(C){return(function(z){if(mr[z])Bn.pop().restore();else{var ie=new Uc,de="Xo"+(Object.keys(Qt).length+1).toString(10);ie.id=de,mr[z]=de,Qt[de]=ie,He.publish("addFormObject",ie),Bn.pop().restore()}})(C),this},h.doFormObject=function(C,z){var ie=Qt[mr[C]];return te("q"),te(z.toString()+" cm"),te("/"+ie.id+" Do"),te("Q"),this},h.getFormObject=function(C){var z=Qt[mr[C]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},h.save=function(C,z){return C=C||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Gl(Al(Ms()),C),typeof Gl.unload=="function"&&Tt.setTimeout&&setTimeout(Gl.unload,911),this):new Promise(function(ie,de){try{var xe=Gl(Al(Ms()),C);typeof Gl.unload=="function"&&Tt.setTimeout&&setTimeout(Gl.unload,911),ie(xe)}catch(Ce){de(Ce.message)}})},pt.API)pt.API.hasOwnProperty(Il)&&(Il==="events"&&pt.API.events.length?(function(C,z){var ie,de,xe;for(xe=z.length-1;xe!==-1;xe--)ie=z[xe][0],de=z[xe][1],C.subscribe.apply(C,[ie].concat(typeof de=="function"?[de]:de))})(He,pt.API.events):h[Il]=pt.API[Il]);var Qd=h.getPageWidth=function(C){return(bt[C=C||W].mediaBox.topRightX-bt[C].mediaBox.bottomLeftX)/mt},ef=h.setPageWidth=function(C,z){bt[C].mediaBox.topRightX=z*mt+bt[C].mediaBox.bottomLeftX},Ra=h.getPageHeight=function(C){return(bt[C=C||W].mediaBox.topRightY-bt[C].mediaBox.bottomLeftY)/mt},as=h.setPageHeight=function(C,z){bt[C].mediaBox.topRightY=z*mt+bt[C].mediaBox.bottomLeftY};return h.internal={pdfEscape:rn,getStyle:mp,getFont:X0,getFontSize:Ee,getCharSpace:ny,getTextColor:Bc,getLineHeight:J0,getLineHeightFactor:ey,getLineWidth:Rt,write:Ve,getHorizontalCoordinate:Ds,getVerticalCoordinate:$s,getCoordinateString:ty,getVerticalCoordinateString:ry,collections:{},newObject:Sr,newAdditionalObject:es,newObjectDeferred:ir,newObjectDeferredBegin:tn,getFilters:Ta,putStream:pa,events:He,scaleFactor:mt,pageSize:{getWidth:function(){return Qd(W)},setWidth:function(C){ef(W,C)},getHeight:function(){return Ra(W)},setHeight:function(C){as(W,C)}},encryptionOptions:d,encryption:nn,getEncryptor:function(C){return d!==null?nn.encryptor(C,0):function(z){return z}},output:Ai,getNumberOfPages:xn,pages:ue,out:te,f2:P,f3:I,getPageInfo:Wd,getPageInfoByObjId:W0,getCurrentPageInfo:H0,getPDFVersion:m,Point:Tl,Rectangle:Zd,Matrix:Ke,hasHotfix:kl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Qd(W)},set:function(C){ef(W,C)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ra(W)},set:function(C){as(W,C)},enumerable:!0,configurable:!0}),(function(C){for(var z=0,ie=qe.length;z<ie;z++){var de=ts.call(this,C[z][0],C[z][1],C[z][2],qe[z][3],!0);f===!1&&(p[de]=!0);var xe=C[z][0].split("-");Sl({id:de,fontName:xe[0],fontStyle:xe[1]||""})}He.publish("addFonts",{fonts:it,dictionary:xt})}).call(h,qe),et="F1",To(a,r),He.publish("initialized"),h}ku.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ku.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ku.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ku.prototype.processOwnerPassword=function(t,e){return n5(r5(e).substr(0,5),t)},ku.prototype.encryptor=function(t,e){var r=r5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return n5(r,n)}},Km.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||xr(t)!==xr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},pt.API={events:[]},pt.version="3.0.2";var Qr=pt.API,N_=1,Ec=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(t){return t.toFixed(2)},Xo=function(t){return t.toFixed(5)};Qr.__acroform__={};var Ca=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},uk=function(t){return t*N_},fs=function(t){var e=new fL,r=nt.internal.getHeight(t)||0,n=nt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mt(n)),Number(Mt(r))],e},WX=Qr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},HX=Qr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},GX=Qr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},un=Qr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GX(t,e-1)},dn=Qr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WX(t,e-1)},fn=Qr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HX(t,e-1)},VX=Qr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(Mt(c.lowerLeft_X)),Number(Mt(c.lowerLeft_Y)),Number(Mt(c.upperRight_X)),Number(Mt(c.upperRight_Y))]},KX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=a5(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Mt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=fs(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},a5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=nt.internal.getHeight(t)||0;o=o<0?-o:o;var l=nt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(P,I,M){if(P+1<a.length){var D=I+" "+a[P+1][0];return am(D,t,M).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=am("3",t,i).height,p=t.multiline?o-i:(o-f)/2,h=p+=2,g=0,m=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+am(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",_=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var j=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(_+2)+2>o)continue e;x+=a[w][v],j=!0,m=w,w--}else{x=(x+=a[w][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(w),A=c(S,x,i),O=w>=a.length-1;if(A&&!O){x+=" ",v=0;continue}if(A||O){if(O)m=S;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;m=S}}for(var k="",T=g;T<=m;T++){var R=a[T];if(t.multiline){if(T===m){k+=R[v]+" ",v=(v+1)%R.length;continue}if(T===g){k+=R[R.length-1]+" ";continue}}k+=R[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=am(k,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Mt(u)+" "+Mt(h)+` Td
`,e+="("+Ec(k)+`) Tj
`,e+=-Mt(u)+` 0 Td
`,h=-(i+2),d=0,g=j?m:m+1,_++,x=""}break}return n.text=e,n.fontSize=i,n},am=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},YX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XX=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},ZX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(YX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hL,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&XX(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=VX(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=nt.createDefaultAppearanceStream(l),xr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=KX(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,l)),f+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(m,v){for(var x in m)if(m.hasOwnProperty(x)){var _=x,w=m[x];v.internal.newObjectDeferredBegin(w.objId,!0),xr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[_]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},dL=Qr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),xr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Ec(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cx=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Ec(n(t))+")"},gs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gs.prototype.toString=function(){return this.objId+" 0 R"},gs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},gs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:dL(a,this.objId,this.scope)}):a instanceof gs?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var fL=function(){gs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ca(fL,gs);var hL=function(){gs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ec(r(t))+")"}},set:function(r){t=r}})};Ca(hL,gs);var Xi=function t(){gs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!un(e,3)},set:function(x){x?this.F=dn(e,3):this.F=fn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ym)return;i="FieldObject"+t.FieldNum++}var x=function(_){return _};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ec(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/N_:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Ym||this instanceof cc))return cx(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Mn==0?cx(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof Mn==0?x.substr(0,1)==="("?pu(x.substr(1,x.length-2)):pu(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mn==1?pu(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Mn==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Mn==0?cx(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Mn==0?x.substr(0,1)==="("?pu(x.substr(1,x.length-2)):pu(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mn==1?pu(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Mn==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,1)},set:function(x){x?this.Ff=dn(this.Ff,1):this.Ff=fn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,2)},set:function(x){x?this.Ff=dn(this.Ff,2):this.Ff=fn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,3)},set:function(x){x?this.Ff=dn(this.Ff,3):this.Ff=fn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Ca(Xi,gs);var Du=function(){Xi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dL(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,18)},set:function(r){r?this.Ff=dn(this.Ff,18):this.Ff=fn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=dn(this.Ff,19):this.Ff=fn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,20)},set:function(r){r?(this.Ff=dn(this.Ff,20),e.sort()):this.Ff=fn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,22)},set:function(r){r?this.Ff=dn(this.Ff,22):this.Ff=fn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,23)},set:function(r){r?this.Ff=dn(this.Ff,23):this.Ff=fn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,27)},set:function(r){r?this.Ff=dn(this.Ff,27):this.Ff=fn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ca(Du,Xi);var $u=function(){Du.call(this),this.fontName="helvetica",this.combo=!1};Ca($u,Du);var Fu=function(){$u.call(this),this.combo=!0};Ca(Fu,$u);var Pm=function(){Fu.call(this),this.edit=!0};Ca(Pm,Fu);var Mn=function(){Xi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,15)},set:function(r){r?this.Ff=dn(this.Ff,15):this.Ff=fn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,16)},set:function(r){r?this.Ff=dn(this.Ff,16):this.Ff=fn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,17)},set:function(r){r?this.Ff=dn(this.Ff,17):this.Ff=fn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,26)},set:function(r){r?this.Ff=dn(this.Ff,26):this.Ff=fn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Ec(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ca(Mn,Xi);var Cm=function(){Mn.call(this),this.pushButton=!0};Ca(Cm,Mn);var Bu=function(){Mn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ca(Bu,Mn);var Ym=function(){var t,e;Xi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Ec(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){xr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ca(Ym,Xi),Bu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Bu.prototype.createOption=function(t){var e=new Ym;return e.Parent=this,e.optionName=t,this.Kids.push(e),JX.call(this.scope,e),e};var Om=function(){Mn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};Ca(Om,Mn);var cc=function(){Xi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,13)},set:function(e){e?this.Ff=dn(this.Ff,13):this.Ff=fn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,21)},set:function(e){e?this.Ff=dn(this.Ff,21):this.Ff=fn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,23)},set:function(e){e?this.Ff=dn(this.Ff,23):this.Ff=fn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,24)},set:function(e){e?this.Ff=dn(this.Ff,24):this.Ff=fn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,25)},set:function(e){e?this.Ff=dn(this.Ff,25):this.Ff=fn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,26)},set:function(e){e?this.Ff=dn(this.Ff,26):this.Ff=fn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ca(cc,Xi);var Em=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!un(this.Ff,14)},set:function(t){t?this.Ff=dn(this.Ff,14):this.Ff=fn(this.Ff,14)}}),this.password=!0};Ca(Em,cc);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=fs(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=a5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Mt(nt.internal.getWidth(t))+" "+Mt(nt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Mt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=fs(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=nt.internal.getHeight(t),o=nt.internal.getWidth(t),l=a5(t,t.caption);return a.push("1 g"),a.push("0 0 "+Mt(o)+" "+Mt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Mt(o-1)+" "+Mt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Mt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=fs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(nt.internal.getWidth(t))+" "+Mt(nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Circle.YesNormal,e.D[t]=nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=fs(t);e.scope=t.scope;var r=[],n=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=nt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Xo(nt.internal.getWidth(t)/2)+" "+Xo(nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=fs(t);e.scope=t.scope;var r=[],n=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nt.internal.Bezier_C).toFixed(5)),o=Number((n*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xo(nt.internal.getWidth(t)/2)+" "+Xo(nt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Xo(nt.internal.getWidth(t)/2)+" "+Xo(nt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=fs(t);e.scope=t.scope;var r=[],n=nt.internal.getWidth(t)<=nt.internal.getHeight(t)?nt.internal.getWidth(t)/4:nt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xo(nt.internal.getWidth(t)/2)+" "+Xo(nt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nt.RadioButton.Cross.YesNormal,e.D[t]=nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=fs(t);e.scope=t.scope;var r=[],n=nt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Mt(nt.internal.getWidth(t)-2)+" "+Mt(nt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=fs(t);e.scope=t.scope;var r=nt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(nt.internal.getWidth(t))+" "+Mt(nt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Mt(nt.internal.getWidth(t)-2)+" "+Mt(nt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=fs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(nt.internal.getWidth(t))+" "+Mt(nt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};nt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nt.internal.getWidth(t),r=nt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},nt.internal.getWidth=function(t){var e=0;return xr(t)==="object"&&(e=uk(t.Rect[2])),e},nt.internal.getHeight=function(t){var e=0;return xr(t)==="object"&&(e=uk(t.Rect[3])),e};var JX=Qr.addField=function(t){if(ZX(this,t),!(t instanceof Xi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Qr.AcroFormChoiceField=Du,Qr.AcroFormListBox=$u,Qr.AcroFormComboBox=Fu,Qr.AcroFormEditBox=Pm,Qr.AcroFormButton=Mn,Qr.AcroFormPushButton=Cm,Qr.AcroFormRadioButton=Bu,Qr.AcroFormCheckBox=Om,Qr.AcroFormTextField=cc,Qr.AcroFormPasswordField=Em,Qr.AcroFormAppearance=nt,Qr.AcroForm={ChoiceField:Du,ListBox:$u,ComboBox:Fu,EditBox:Pm,Button:Mn,PushButton:Cm,RadioButton:Bu,CheckBox:Om,TextField:cc,PasswordField:Em,Appearance:nt},pt.AcroForm={ChoiceField:Du,ListBox:$u,ComboBox:Fu,EditBox:Pm,Button:Mn,PushButton:Cm,RadioButton:Bu,CheckBox:Om,TextField:cc,PasswordField:Em,Appearance:nt};pt.AcroForm;function pL(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(P,I){var M,D,G,$,q,F=r;if((I=I||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(A(P))for(q in n)for(G=n[q],M=0;M<G.length;M+=1){for($=!0,D=0;D<G[M].length;D+=1)if(G[M][D]!==void 0&&G[M][D]!==P[D]){$=!1;break}if($===!0){F=q;break}}else for(q in n)for(G=n[q],M=0;M<G.length;M+=1){for($=!0,D=0;D<G[M].length;D+=1)if(G[M][D]!==void 0&&G[M][D]!==P.charCodeAt(D)){$=!1;break}if($===!0){F=q;break}}return F===r&&I!==r&&(F=I),F},i=function P(I){for(var M=this.internal.write,D=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:I.width}),$.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var q="",F=0,ee=I.transparency.length;F<ee;F++)q+=I.transparency[F]+" "+I.transparency[F]+" ";$.push({key:"Mask",value:"["+q+"]"})}I.sMask!==void 0&&$.push({key:"SMask",value:I.objectId+1+" 0 R"});var he=I.filter!==void 0?["/"+I.filter]:void 0;if(D({data:I.data,additionalKeyValues:$,alreadyAppliedFilters:he,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var fe=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,B={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:fe,data:I.sMask};"filter"in I&&(B.filter=I.filter),P.call(this,B)}if(I.colorSpace===x.INDEXED){var W=this.internal.newObject();D({data:k(new Uint8Array(I.palette)),objectId:W}),M("endobj")}},o=function(){var P=this.internal.collections[e+"images"];for(var I in P)i.call(this,P[I])},l=function(){var P,I=this.internal.collections[e+"images"],M=this.internal.write;for(var D in I)M("/I"+(P=I[D]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},p=function(P){return xr(P)==="object"&&P.nodeType===1},h=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var M=""+P.getAttribute("src");if(M.indexOf("data:image/")===0)return km(unescape(M).split("base64,").pop());var D=t.loadFile(M,!0);if(D!==void 0)return D}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var G;switch(I){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return km(P.toDataURL(G,1).split("base64,").pop())}},g=function(P){var I=this.internal.collections[e+"images"];if(I){for(var M in I)if(P===I[M].alias)return I[M]}},m=function(P,I,M){return P||I||(P=-96,I=-96),P<0&&(P=-1*M.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),P===0&&(P=I*M.width/M.height),I===0&&(I=P*M.height/M.width),[P,I]},v=function(P,I,M,D,G,$){var q=m.call(this,M,D,G),F=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,he=u.call(this);if(M=q[0],D=q[1],he[G.index]=G,$){$*=Math.PI/180;var fe=Math.cos($),B=Math.sin($),W=function(re){return re.toFixed(4)},H=[W(fe),W(B),W(-1*B),W(fe),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,F(P),ee(I+D),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([F(M),"0","0",F(D),"0","0","cm"].join(" "))):this.internal.write([F(M),"0","0",F(D),F(P),ee(I+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(P){var I,M,D=0;if(typeof P=="string")for(M=P.length,I=0;I<M;I++)D=(D<<5)-D+P.charCodeAt(I),D|=0;else if(A(P))for(M=P.byteLength/2,I=0;I<M;I++)D=(D<<5)-D+P[I],D|=0;return D},j=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},S=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var A=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},O=t.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,M=new Uint8Array(I),D=0;D<I;D++)M[D]=P.charCodeAt(D);return M},k=t.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",M=A(P)?P:new Uint8Array(P),D=0;D<M.length;D+=8192)I+=String.fromCharCode.apply(null,M.subarray(D,D+8192));return I};t.addImage=function(){var P,I,M,D,G,$,q,F,ee;if(typeof arguments[1]=="number"?(I=r,M=arguments[1],D=arguments[2],G=arguments[3],$=arguments[4],q=arguments[5],F=arguments[6],ee=arguments[7]):(I=arguments[1],M=arguments[2],D=arguments[3],G=arguments[4],$=arguments[5],q=arguments[6],F=arguments[7],ee=arguments[8]),xr(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var he=P;P=he.imageData,I=he.format||I||r,M=he.x||M||0,D=he.y||D||0,G=he.w||he.width||G,$=he.h||he.height||$,q=he.alias||q,F=he.compression||F,ee=he.rotation||he.angle||ee}var fe=this.internal.getFilters();if(F===void 0&&fe.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(M)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=T.call(this,P,I,q,F);return v.call(this,M,D,G,$,B,ee),this};var T=function(P,I,M,D){var G,$,q;if(typeof P=="string"&&a(P)===r){P=unescape(P);var F=R(P,!1);(F!==""||(F=t.loadFile(P,!0))!==void 0)&&(P=F)}if(p(P)&&(P=h(P,I)),I=a(P,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((q=M)==null||q.length===0)&&(M=(function(ee){return typeof ee=="string"||A(ee)?w(ee):A(ee.data)?w(ee.data):null})(P)),(G=g.call(this,M))||(P instanceof Uint8Array||I==="RGBA"||($=P,P=O(P)),G=this["process"+I.toUpperCase()](P,d.call(this),M,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:_.NONE})(D),$)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},R=t.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var M,D="";if(typeof P=="string"){var G;M=(G=S(P))!==null&&G!==void 0?G:P;try{D=km(M)}catch($){if(I)throw j(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};t.getImageProperties=function(P){var I,M,D="";if(p(P)&&(P=h(P)),typeof P=="string"&&a(P)===r&&((D=R(P,!1))===""&&(D=t.loadFile(P)||""),P=D),M=a(P),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(P instanceof Uint8Array||(P=O(P)),!(I=this["process"+M.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(pt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};pt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(_))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var A=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(pt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,_="",w=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(w++,typeof(x=x[m.charCodeAt(v)])=="number"&&(_+=String.fromCharCode(x),x=r,w=0),v===m.length-1&&(x=r,_+=m.charAt(v-(w-1)),v-=w-1,w=0)):(x=r,_+=m.charAt(v-w),v-=w,w=0);return _};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,v,x){return o(m)?i(m)===!1?-1:!u(m)||!o(v)&&!o(x)||!o(x)&&l(v)||l(m)&&!o(v)||l(m)&&c(v)||l(m)&&l(v)?0:d(m)&&o(v)&&!l(v)&&o(x)&&u(x)?3:l(m)||!o(x)?1:2:-1},h=function(m){var v=0,x=0,_=0,w="",j="",S="",A=(m=m||"").split("\\s+"),O=[];for(v=0;v<A.length;v+=1){for(O.push(""),x=0;x<A[v].length;x+=1)w=A[v][x],j=A[v][x-1],S=A[v][x+1],o(w)?(_=p(w,j,S),O[v]+=_!==-1?String.fromCharCode(e[w.charCodeAt(0)][_]):w):O[v]+=w;O[v]=f(O[v])}return O.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var _=0;for(x=[],_=0;_<v.length;_+=1)Array.isArray(v[_])?x.push([h(v[_][0]),v[_][1],v[_][2]]):x.push([h(v[_])]);m=x}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])})(pt.API),pt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(pt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,j){return w.concat(v.splitTextToSize(j,x))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)h<(m=this.getStringUnitWidth(c[_],{font:f})*d)&&(h=m);return h!==0&&(g=c.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,m,v,x=[],_=[],w=[],j={},S={},A=[],O=[],k=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),I=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=D,this.setFontSize(R),f==null)_=x=Object.keys(d[0]),w=x.map(function(){return"left"});else if(Array.isArray(f)&&xr(f[0])==="object")for(x=f.map(function(he){return he.name}),_=f.map(function(he){return he.prompt||he.name||""}),w=f.map(function(he){return he.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=x=f,w=x.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(j[v=x[h]]=d.map(function(he){return he[v]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=j[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)A.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,A)+I+I,A=[]}if(T){var G={};for(h=0;h<x.length;h+=1)G[x[h]]={},G[x[h]].text=_[h],G[x[h]].align=w[h];var $=l.call(this,G,S);O=x.map(function(he){return new i(c,u,S[he],$,G[he].text,void 0,G[he].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var q=f.reduce(function(he,fe){return he[fe.name]=fe.align,he},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var F=l.call(this,d[h],S);for(m=0;m<x.length;m+=1){var ee=d[h][x[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:ee},this),o.call(this,new i(c,u,S[x[m]],F,ee,h+2,q[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(pt.API);var mL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i5=pL(gL),vL=[100,200,300,400,500,600,700,800,900],QX=pL(vL);function ux(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return mL[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof i5[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function dk(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var eZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function pk(t){return t.trimLeft()}function tZ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function rZ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var im,mk,gk,mu,sm,vk,yk,xk,dx=["times"];function bk(t,e,r,n){var a=4,i=jk;switch(n){case pt.API.image_compression.FAST:a=1,i=wk;break;case pt.API.image_compression.MEDIUM:a=6,i=_k;break;case pt.API.image_compression.SLOW:a=9,i=Nk}t=(function(l,c,u,d){for(var f,p=l.length/c,h=new Uint8Array(l.length+p),g=[nZ,wk,jk,_k,Nk],m=0;m<p;m+=1){var v=m*c,x=l.subarray(v,v+c);if(d)h.set(d(x,u,f),v+m);else{for(var _=g.length,w=[],j=0;j<_;j+=1)w[j]=g[j](x,u,f);var S=iZ(w.concat());h.set(w[S],v+m)}f=x}return h})(t,e,r,i);var o=J2(t,{level:a});return pt.API.__addimage__.arrayBufferToBinaryString(o)}function nZ(t){var e=Array.apply([],t);return e.unshift(0),e}function wk(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function jk(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=t[i]-o+256&255}return a}function _k(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(o+l>>>1)&255}return a}function Nk(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=aZ(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function aZ(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function iZ(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function fx(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return yL(t,a)>>i&o}function Sk(t,e,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,i,yL(t,i)&~(l<<o)&65535|c)}function yL(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function sZ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,j=t[e++],S=j>>6&1,A=1<<1+(7&j),O=l,k=c,T=!1;j>>7&&(T=!0,O=e,k=A,e+=3*A);var R=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:v,y:x,width:_,height:w,has_local_palette:T,palette_offset:O,palette_size:k,data_offset:R,data_length:e-R,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,M){var D=this.frameInfo(I),G=D.width*D.height,$=new Uint8Array(G);Ak(t,D.data_offset,$,G);var q=D.palette_offset,F=D.transparent_index;F===null&&(F=256);var ee=D.width,he=r-ee,fe=ee,B=4*(D.y*r+D.x),W=4*((D.y+D.height)*r+D.x),H=B,re=4*he;D.interlaced===!0&&(re+=4*r*7);for(var ce=8,se=0,X=$.length;se<X;++se){var J=$[se];if(fe===0&&(fe=ee,(H+=re)>=W&&(re=4*he+4*r*(ce-1),H=B+(ee+he)*(ce<<1),ce>>=1)),J===F)H+=4;else{var le=t[q+3*J],ue=t[q+3*J+1],oe=t[q+3*J+2];M[H++]=oe,M[H++]=ue,M[H++]=le,M[H++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(I,M){var D=this.frameInfo(I),G=D.width*D.height,$=new Uint8Array(G);Ak(t,D.data_offset,$,G);var q=D.palette_offset,F=D.transparent_index;F===null&&(F=256);var ee=D.width,he=r-ee,fe=ee,B=4*(D.y*r+D.x),W=4*((D.y+D.height)*r+D.x),H=B,re=4*he;D.interlaced===!0&&(re+=4*r*7);for(var ce=8,se=0,X=$.length;se<X;++se){var J=$[se];if(fe===0&&(fe=ee,(H+=re)>=W&&(re=4*he+4*r*(ce-1),H=B+(ee+he)*(ce<<1),ce>>=1)),J===F)H+=4;else{var le=t[q+3*J],ue=t[q+3*J+1],oe=t[q+3*J+2];M[H++]=le,M[H++]=ue,M[H++]=oe,M[H++]=255}--fe}}}function Ak(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===o)break;for(var x=v<l?v:m,_=0,w=x;w>i;)w=g[w]>>8,++_;var j=w;if(p+_+(x!==v?1:0)>n)return void kr.log("Warning, gif stream longer than expected.");r[p++]=j;var S=p+=_;for(x!==v&&(r[p++]=j),w=x;_--;)w=g[w],r[--S]=255&w,w>>=8;m!==null&&l<4096&&(g[l++]=m<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else l=o+1,u=(1<<(c=a+1))-1,m=null}return p!==n&&kr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hx(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,x=7,_=new Array(64),w=new Array(64),j=new Array(64),S=new Array(256),A=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(B,W){for(var H=0,re=0,ce=new Array,se=1;se<=16;se++){for(var X=1;X<=B[se];X++)ce[W[re]]=[],ce[W[re]][0]=H,ce[W[re]][1]=se,re++,H++;H*=2}return ce}function q(B){for(var W=B[0],H=B[1]-1;H>=0;)W&1<<H&&(v|=1<<x),H--,--x<0&&(v==255?(F(255),F(0)):F(v),x=7,v=0)}function F(B){m.push(B)}function ee(B){F(B>>8&255),F(255&B)}function he(B,W,H,re,ce){for(var se,X=ce[0],J=ce[240],le=(function(_e,Ue){var Ee,ze,Ge,Vt,wt,Nt,nr,Ct,et,mt,at=0;for(et=0;et<8;++et){Ee=_e[at],ze=_e[at+1],Ge=_e[at+2],Vt=_e[at+3],wt=_e[at+4],Nt=_e[at+5],nr=_e[at+6];var er=Ee+(Ct=_e[at+7]),Jt=Ee-Ct,it=ze+nr,xt=ze-nr,tr=Ge+Nt,gt=Ge-Nt,Lt=Vt+wt,ot=Vt-wt,qr=er+Lt,Hr=er-Lt,Kt=it+tr,bt=it-tr;_e[at]=qr+Kt,_e[at+4]=qr-Kt;var He=.707106781*(bt+Hr);_e[at+2]=Hr+He,_e[at+6]=Hr-He;var cr=.382683433*((qr=ot+gt)-(bt=xt+Jt)),Qt=.5411961*qr+cr,mr=1.306562965*bt+cr,Bn=.707106781*(Kt=gt+xt),Ke=Jt+Bn,wr=Jt-Bn;_e[at+5]=wr+Qt,_e[at+3]=wr-Qt,_e[at+1]=Ke+mr,_e[at+7]=Ke-mr,at+=8}for(at=0,et=0;et<8;++et){Ee=_e[at],ze=_e[at+8],Ge=_e[at+16],Vt=_e[at+24],wt=_e[at+32],Nt=_e[at+40],nr=_e[at+48];var Vn=Ee+(Ct=_e[at+56]),Er=Ee-Ct,Tr=ze+nr,Sr=ze-nr,ir=Ge+Nt,tn=Ge-Nt,es=Vt+wt,Si=Vt-wt,ha=Vn+es,ra=Vn-es,Ea=Tr+ir,Ta=Tr-ir;_e[at]=ha+Ea,_e[at+32]=ha-Ea;var pa=.707106781*(Ta+ra);_e[at+16]=ra+pa,_e[at+48]=ra-pa;var me=.382683433*((ha=Si+tn)-(Ta=Sr+Er)),Ye=.5411961*ha+me,vt=1.306562965*Ta+me,jt=.707106781*(Ea=tn+Sr),sr=Er+jt,jr=Er-jt;_e[at+40]=jr+Ye,_e[at+24]=jr-Ye,_e[at+8]=sr+vt,_e[at+56]=sr-vt,at++}for(et=0;et<64;++et)mt=_e[et]*Ue[et],h[et]=mt>0?mt+.5|0:mt-.5|0;return h})(B,W),ue=0;ue<64;++ue)g[O[ue]]=le[ue];var oe=g[0]-H;H=g[0],oe==0?q(re[0]):(q(re[p[se=32767+oe]]),q(f[se]));for(var Ne=63;Ne>0&&g[Ne]==0;)Ne--;if(Ne==0)return q(X),H;for(var ge,te=1;te<=Ne;){for(var Ve=te;g[te]==0&&te<=Ne;)++te;var Be=te-Ve;if(Be>=16){ge=Be>>4;for(var qe=1;qe<=ge;++qe)q(J);Be&=15}se=32767+g[te],q(ce[(Be<<4)+p[se]]),q(f[se]),te++}return Ne!=63&&q(X),H}function fe(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(W){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ce=o((H[re]*W+50)/100);ce=Math.min(Math.max(ce,1),255),l[O[re]]=ce}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],X=0;X<64;X++){var J=o((se[X]*W+50)/100);J=Math.min(Math.max(J,1),255),c[O[X]]=J}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,oe=0;oe<8;oe++)for(var Ne=0;Ne<8;Ne++)u[ue]=1/(l[O[ue]]*le[oe]*le[Ne]*8),d[ue]=1/(c[O[ue]]*le[oe]*le[Ne]*8),ue++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,W){W&&fe(W),m=new Array,v=0,x=7,ee(65496),ee(65504),ee(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),ee(1),ee(1),F(0),F(0),(function(){ee(65499),ee(132),F(0);for(var ze=0;ze<64;ze++)F(l[ze]);F(1);for(var Ge=0;Ge<64;Ge++)F(c[Ge])})(),(function(ze,Ge){ee(65472),ee(17),F(8),ee(Ge),ee(ze),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})(B.width,B.height),(function(){ee(65476),ee(418),F(0);for(var ze=0;ze<16;ze++)F(k[ze+1]);for(var Ge=0;Ge<=11;Ge++)F(T[Ge]);F(16);for(var Vt=0;Vt<16;Vt++)F(R[Vt+1]);for(var wt=0;wt<=161;wt++)F(P[wt]);F(1);for(var Nt=0;Nt<16;Nt++)F(I[Nt+1]);for(var nr=0;nr<=11;nr++)F(M[nr]);F(17);for(var Ct=0;Ct<16;Ct++)F(D[Ct+1]);for(var et=0;et<=161;et++)F(G[et])})(),ee(65498),ee(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var H=0,re=0,ce=0;v=0,x=7,this.encode.displayName="_encode_";for(var se,X,J,le,ue,oe,Ne,ge,te,Ve=B.data,Be=B.width,qe=B.height,_e=4*Be,Ue=0;Ue<qe;){for(se=0;se<_e;){for(ue=_e*Ue+se,Ne=-1,ge=0,te=0;te<64;te++)oe=ue+(ge=te>>3)*_e+(Ne=4*(7&te)),Ue+ge>=qe&&(oe-=_e*(Ue+1+ge-qe)),se+Ne>=_e&&(oe-=se+Ne-_e+4),X=Ve[oe++],J=Ve[oe++],le=Ve[oe++],_[te]=(A[X]+A[J+256|0]+A[le+512|0]>>16)-128,w[te]=(A[X+768|0]+A[J+1024|0]+A[le+1280|0]>>16)-128,j[te]=(A[X+1280|0]+A[J+1536|0]+A[le+1792|0]>>16)-128;H=he(_,u,H,e,n),re=he(w,d,re,r,a),ce=he(j,d,ce,r,a),se+=32}Ue+=8}if(x>=0){var Ee=[];Ee[1]=x+1,Ee[0]=(1<<x+1)-1,q(Ee)}return ee(65497),new Uint8Array(m)},t=t||50,(function(){for(var B=String.fromCharCode,W=0;W<256;W++)S[W]=B(W)})(),e=$(k,T),r=$(I,M),n=$(R,P),a=$(D,G),(function(){for(var B=1,W=2,H=1;H<=15;H++){for(var re=B;re<W;re++)p[32767+re]=H,f[32767+re]=[],f[32767+re][1]=H,f[32767+re][0]=re;for(var ce=-(W-1);ce<=-B;ce++)p[32767+ce]=H,f[32767+ce]=[],f[32767+ce][1]=H,f[32767+ce][0]=W-1+ce;B<<=1,W<<=1}})(),(function(){for(var B=0;B<256;B++)A[B]=19595*B,A[B+256|0]=38470*B,A[B+512|0]=7471*B+32768,A[B+768|0]=-11059*B,A[B+1024|0]=-21709*B,A[B+1280|0]=32768*B+8421375,A[B+1536|0]=-27439*B,A[B+1792|0]=-5329*B})(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ei(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kk(t){function e(T){if(!T)throw Error("assert :P")}function r(T,R,P){for(var I=0;4>I;I++)if(T[R+I]!=P.charCodeAt(I))return!0;return!1}function n(T,R,P,I,M){for(var D=0;D<M;D++)T[R+D]=P[I+D]}function a(T,R,P,I){for(var M=0;M<I;M++)T[R+M]=P}function i(T){return new Int32Array(T)}function o(T,R){for(var P=[],I=0;I<T;I++)P.push(new R);return P}function l(T,R){var P=[];return(function I(M,D,G){for(var $=G[D],q=0;q<$&&(M.push(G.length>D+1?[]:new R),!(G.length<D+1));q++)I(M[q],D+1,G)})(P,0,T),P}var c=function(){var T=this;function R(y,b){for(var E=1<<b-1>>>0;y&E;)E>>>=1;return E?(y&E-1)+E:y}function P(y,b,E,L,U){e(!(L%E));do y[b+(L-=E)]=U;while(0<L)}function I(y,b,E,L,U){if(e(2328>=U),512>=U)var V=i(512);else if((V=i(U))==null)return 0;return(function(K,Z,Q,ne,pe,je){var ae,ve,be=Z,Ae=1<<Q,we=i(16),Pe=i(16);for(e(pe!=0),e(ne!=null),e(K!=null),e(0<Q),ve=0;ve<pe;++ve){if(15<ne[ve])return 0;++we[ne[ve]]}if(we[0]==pe)return 0;for(Pe[1]=0,ae=1;15>ae;++ae){if(we[ae]>1<<ae)return 0;Pe[ae+1]=Pe[ae]+we[ae]}for(ve=0;ve<pe;++ve)ae=ne[ve],0<ne[ve]&&(je[Pe[ae]++]=ve);if(Pe[15]==1)return(ne=new M).g=0,ne.value=je[0],P(K,be,1,Ae,ne),Ae;var Oe,Le=-1,Ie=Ae-1,ht=0,Qe=1,Wt=1,lt=1<<Q;for(ve=0,ae=1,pe=2;ae<=Q;++ae,pe<<=1){if(Qe+=Wt<<=1,0>(Wt-=we[ae]))return 0;for(;0<we[ae];--we[ae])(ne=new M).g=ae,ne.value=je[ve++],P(K,be+ht,pe,lt,ne),ht=R(ht,ae)}for(ae=Q+1,pe=2;15>=ae;++ae,pe<<=1){if(Qe+=Wt<<=1,0>(Wt-=we[ae]))return 0;for(;0<we[ae];--we[ae]){if(ne=new M,(ht&Ie)!=Le){for(be+=lt,Oe=1<<(Le=ae)-Q;15>Le&&!(0>=(Oe-=we[Le]));)++Le,Oe<<=1;Ae+=lt=1<<(Oe=Le-Q),K[Z+(Le=ht&Ie)].g=Oe+Q,K[Z+Le].value=be-Z-Le}ne.g=ae-Q,ne.value=je[ve++],P(K,be+(ht>>Q),pe,lt,ne),ht=R(ht,ae)}}return Qe!=2*Pe[15]-1?0:Ae})(y,b,E,L,U,V)}function M(){this.value=this.g=0}function D(){this.value=this.g=0}function G(){this.G=o(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(is,D)}function $(y,b,E,L){e(y!=null),e(b!=null),e(2147483648>L),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=b,y.pa=E,y.Jd=b,y.Yc=E+L,y.Zc=4<=L?E+L-4+1:E,X(y)}function q(y,b){for(var E=0;0<b--;)E|=le(y,128)<<b;return E}function F(y,b){var E=q(y,b);return J(y)?-E:E}function ee(y,b,E,L){var U,V=0;for(e(y!=null),e(b!=null),e(4294967288>L),y.Sb=L,y.Ra=0,y.u=0,y.h=0,4<L&&(L=4),U=0;U<L;++U)V+=b[E+U]<<8*U;y.Ra=V,y.bb=L,y.oa=b,y.pa=E}function he(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Bo-8>>>0,++y.bb,y.u-=8;re(y)&&(y.h=1,y.u=0)}function fe(y,b){if(e(0<=b),!y.h&&b<=sf){var E=H(y)&Fo[b];return y.u+=b,he(y),E}return y.h=1,y.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(y){return y.Ra>>>(y.u&Bo-1)>>>0}function re(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Bo}function ce(y,b){y.u=b,y.h=re(y)}function se(y){y.u>=an&&(e(y.u>=an),he(y))}function X(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function J(y){return q(y,1)}function le(y,b){var E=y.Ca;0>y.b&&X(y);var L=y.b,U=E*b>>>8,V=(y.I>>>L>U)+0;for(V?(E-=U,y.I-=U+1<<L>>>0):E=U+1,L=E,U=0;256<=L;)U+=8,L>>=8;return L=7^U+iy[L],y.b-=L,y.Ca=(E<<L)-1,V}function ue(y,b,E){y[b+0]=E>>24&255,y[b+1]=E>>16&255,y[b+2]=E>>8&255,y[b+3]=255&E}function oe(y,b){return y[b+0]|y[b+1]<<8}function Ne(y,b){return oe(y,b)|y[b+2]<<16}function ge(y,b){return oe(y,b)|oe(y,b+2)<<16}function te(y,b){var E=1<<b;return e(y!=null),e(0<b),y.X=i(E),y.X==null?0:(y.Mb=32-b,y.Xa=b,1)}function Ve(y,b){e(y!=null),e(b!=null),e(y.Xa==b.Xa),n(b.X,0,y.X,0,1<<b.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function qe(y,b,E,L){e(E!=null),e(L!=null);var U=E[0],V=L[0];return U==0&&(U=(y*V+b/2)/b),V==0&&(V=(b*U+y/2)/y),0>=U||0>=V?0:(E[0]=U,L[0]=V,1)}function _e(y,b){return y+(1<<b)-1>>>b}function Ue(y,b){return((4278255360&y)+(4278255360&b)>>>0&4278255360)+((16711935&y)+(16711935&b)>>>0&16711935)>>>0}function Ee(y,b){T[b]=function(E,L,U,V,K,Z,Q){var ne;for(ne=0;ne<K;++ne){var pe=T[y](Z[Q+ne-1],U,V+ne);Z[Q+ne]=Ue(E[L+ne],pe)}}}function ze(){this.ud=this.hd=this.jd=0}function Ge(y,b){return((4278124286&(y^b))>>>1)+(y&b)>>>0}function Vt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function wt(y,b){return Vt(y+(y-b+.5>>1))}function Nt(y,b,E){return Math.abs(b-E)-Math.abs(y-E)}function nr(y,b,E,L,U,V,K){for(L=V[K-1],E=0;E<U;++E)V[K+E]=L=Ue(y[b+E],L)}function Ct(y,b,E,L,U){var V;for(V=0;V<E;++V){var K=y[b+V],Z=K>>8&255,Q=16711935&(Q=(Q=16711935&K)+((Z<<16)+Z));L[U+V]=(4278255360&K)+Q>>>0}}function et(y,b){b.jd=255&y,b.hd=y>>8&255,b.ud=y>>16&255}function mt(y,b,E,L,U,V){var K;for(K=0;K<L;++K){var Z=b[E+K],Q=Z>>>8,ne=Z,pe=255&(pe=(pe=Z>>>16)+((y.jd<<24>>24)*(Q<<24>>24)>>>5));ne=255&(ne=(ne+=(y.hd<<24>>24)*(Q<<24>>24)>>>5)+((y.ud<<24>>24)*(pe<<24>>24)>>>5)),U[V+K]=(4278255360&Z)+(pe<<16)+ne}}function at(y,b,E,L,U){T[b]=function(V,K,Z,Q,ne,pe,je,ae,ve){for(Q=je;Q<ae;++Q)for(je=0;je<ve;++je)ne[pe++]=U(Z[L(V[K++])])},T[y]=function(V,K,Z,Q,ne,pe,je){var ae=8>>V.b,ve=V.Ea,be=V.K[0],Ae=V.w;if(8>ae)for(V=(1<<V.b)-1,Ae=(1<<ae)-1;K<Z;++K){var we,Pe=0;for(we=0;we<ve;++we)we&V||(Pe=L(Q[ne++])),pe[je++]=U(be[Pe&Ae]),Pe>>=ae}else T["VP8LMapColor"+E](Q,ne,be,Ae,pe,je,K,Z,ve)}}function er(y,b,E,L,U){for(E=b+E;b<E;){var V=y[b++];L[U++]=V>>16&255,L[U++]=V>>8&255,L[U++]=255&V}}function Jt(y,b,E,L,U){for(E=b+E;b<E;){var V=y[b++];L[U++]=V>>16&255,L[U++]=V>>8&255,L[U++]=255&V,L[U++]=V>>24&255}}function it(y,b,E,L,U){for(E=b+E;b<E;){var V=(K=y[b++])>>16&240|K>>12&15,K=240&K|K>>28&15;L[U++]=V,L[U++]=K}}function xt(y,b,E,L,U){for(E=b+E;b<E;){var V=(K=y[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;L[U++]=V,L[U++]=K}}function tr(y,b,E,L,U){for(E=b+E;b<E;){var V=y[b++];L[U++]=255&V,L[U++]=V>>8&255,L[U++]=V>>16&255}}function gt(y,b,E,L,U,V){if(V==0)for(E=b+E;b<E;)ue(L,((V=y[b++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else n(L,U,y,b,E)}function Lt(y,b){T[b][0]=T[y+"0"],T[b][1]=T[y+"1"],T[b][2]=T[y+"2"],T[b][3]=T[y+"3"],T[b][4]=T[y+"4"],T[b][5]=T[y+"5"],T[b][6]=T[y+"6"],T[b][7]=T[y+"7"],T[b][8]=T[y+"8"],T[b][9]=T[y+"9"],T[b][10]=T[y+"10"],T[b][11]=T[y+"11"],T[b][12]=T[y+"12"],T[b][13]=T[y+"13"],T[b][14]=T[y+"0"],T[b][15]=T[y+"0"]}function ot(y){return y==ly||y==cy||y==Sp||y==uy}function qr(){this.eb=[],this.size=this.A=this.fb=0}function Hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qr,this.f.kb=new Hr,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function He(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function cr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Qt(y,b){var E=y.T,L=b.ba.f.RGBA,U=L.eb,V=L.fb+y.ka*L.A,K=si[b.ba.S],Z=y.y,Q=y.O,ne=y.f,pe=y.N,je=y.ea,ae=y.W,ve=b.cc,be=b.dc,Ae=b.Mc,we=b.Nc,Pe=y.ka,Oe=y.ka+y.T,Le=y.U,Ie=Le+1>>1;for(Pe==0?K(Z,Q,null,null,ne,pe,je,ae,ne,pe,je,ae,U,V,null,null,Le):(K(b.ec,b.fc,Z,Q,ve,be,Ae,we,ne,pe,je,ae,U,V-L.A,U,V,Le),++E);Pe+2<Oe;Pe+=2)ve=ne,be=pe,Ae=je,we=ae,pe+=y.Rc,ae+=y.Rc,V+=2*L.A,K(Z,(Q+=2*y.fa)-y.fa,Z,Q,ve,be,Ae,we,ne,pe,je,ae,U,V-L.A,U,V,Le);return Q+=y.fa,y.j+Oe<y.o?(n(b.ec,b.fc,Z,Q,Le),n(b.cc,b.dc,ne,pe,Ie),n(b.Mc,b.Nc,je,ae,Ie),E--):1&Oe||K(Z,Q,null,null,ne,pe,je,ae,ne,pe,je,ae,U,V+L.A,null,null,Le),E}function mr(y,b,E){var L=y.F,U=[y.J];if(L!=null){var V=y.U,K=b.ba.S,Z=K==Np||K==Sp;b=b.ba.f.RGBA;var Q=[0],ne=y.ka;Q[0]=y.T,y.Kb&&(ne==0?--Q[0]:(--ne,U[0]-=y.width),y.j+y.ka+y.T==y.o&&(Q[0]=y.o-y.j-ne));var pe=b.eb;ne=b.fb+ne*b.A,y=OS(L,U[0],y.width,V,Q,pe,ne+(Z?0:3),b.A),e(E==Q),y&&ot(K)&&uf(pe,ne,Z,V,Q,b.A)}return 0}function Bn(y){var b=y.ma,E=b.ba.S,L=11>E,U=E==jp||E==_p||E==Np||E==oy||E==12||ot(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!ma(b.Oa,y,U?11:12))return 0;if(U&&ot(E)&&tf(),y.da)alert("todo:use_scaling");else{if(L){if(b.Ib=cr,y.Kb){if(E=y.U+1>>1,b.memory=i(y.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+y.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Qt,tf()}}else alert("todo:EmitYUV");U&&(b.Jb=mr,L&&Rl())}if(L&&!GS){for(y=0;256>y;++y)CB[y]=89858*(y-128)+kp>>Ap,TB[y]=-22014*(y-128)+kp,EB[y]=-45773*(y-128),OB[y]=113618*(y-128)+kp>>Ap;for(y=ff;y<hy;++y)b=76283*(y-16)+kp>>Ap,IB[y-ff]=wn(b,255),RB[y-ff]=wn(b+8>>4,15);GS=1}return 1}function Ke(y){var b=y.ma,E=y.U,L=y.T;return e(!(1&y.ka)),0>=E||0>=L?0:(E=b.Ib(y,b),b.Jb!=null&&b.Jb(y,b,E),b.Dc+=E,1)}function wr(y){y.ma.memory=null}function Vn(y,b,E,L){return fe(y,8)!=47?0:(b[0]=fe(y,14)+1,E[0]=fe(y,14)+1,L[0]=fe(y,1),fe(y,3)!=0?0:!y.h)}function Er(y,b){if(4>y)return y+1;var E=y-2>>1;return(2+(1&y)<<E)+fe(b,E)+1}function Tr(y,b){return 120<b?b-120:1<=(E=((E=mB[b-1])>>4)*y+(8-(15&E)))?E:1;var E}function Sr(y,b,E){var L=H(E),U=y[b+=255&L].g-8;return 0<U&&(ce(E,E.u+8),L=H(E),b+=y[b].value,b+=L&(1<<U)-1),ce(E,E.u+y[b].g),y[b].value}function ir(y,b,E){return E.g+=y.g,E.value+=y.value<<b>>>0,e(8>=E.g),y.g}function tn(y,b,E){var L=y.xc;return e((b=L==0?0:y.vc[y.md*(E>>L)+(b>>L)])<y.Wb),y.Ya[b]}function es(y,b,E,L){var U=y.ab,V=y.c*b,K=y.C;b=K+b;var Z=E,Q=L;for(L=y.Ta,E=y.Ua;0<U--;){var ne=y.gc[U],pe=K,je=b,ae=Z,ve=Q,be=(Q=L,Z=E,ne.Ea);switch(e(pe<je),e(je<=ne.nc),ne.hc){case 2:Vc(ae,ve,(je-pe)*be,Q,Z);break;case 0:var Ae=pe,we=je,Pe=Q,Oe=Z,Le=(lt=ne).Ea;Ae==0&&(ss(ae,ve,null,null,1,Pe,Oe),nr(ae,ve+1,0,0,Le-1,Pe,Oe+1),ve+=Le,Oe+=Le,++Ae);for(var Ie=1<<lt.b,ht=Ie-1,Qe=_e(Le,lt.b),Wt=lt.K,lt=lt.w+(Ae>>lt.b)*Qe;Ae<we;){var rr=Wt,jn=lt,Ht=1;for(os(ae,ve,Pe,Oe-Le,1,Pe,Oe);Ht<Le;){var ct=(Ht&~ht)+Ie;ct>Le&&(ct=Le),(0,Dl[rr[jn++]>>8&15])(ae,ve+ +Ht,Pe,Oe+Ht-Le,ct-Ht,Pe,Oe+Ht),Ht=ct}ve+=Le,Oe+=Le,++Ae&ht||(lt+=Qe)}je!=ne.nc&&n(Q,Z-be,Q,Z+(je-pe-1)*be,be);break;case 1:for(be=ae,we=ve,Le=(ae=ne.Ea)-(Oe=ae&~(Pe=(ve=1<<ne.b)-1)),Ae=_e(ae,ne.b),Ie=ne.K,ne=ne.w+(pe>>ne.b)*Ae;pe<je;){for(ht=Ie,Qe=ne,Wt=new ze,lt=we+Oe,rr=we+ae;we<lt;)et(ht[Qe++],Wt),Us(Wt,be,we,ve,Q,Z),we+=ve,Z+=ve;we<rr&&(et(ht[Qe++],Wt),Us(Wt,be,we,Le,Q,Z),we+=Le,Z+=Le),++pe&Pe||(ne+=Ae)}break;case 3:if(ae==Q&&ve==Z&&0<ne.b){for(we=Q,ae=be=Z+(je-pe)*be-(Oe=(je-pe)*_e(ne.Ea,ne.b)),ve=Q,Pe=Z,Ae=[],Oe=(Le=Oe)-1;0<=Oe;--Oe)Ae[Oe]=ve[Pe+Oe];for(Oe=Le-1;0<=Oe;--Oe)we[ae+Oe]=Ae[Oe];of(ne,pe,je,Q,be,Q,Z)}else of(ne,pe,je,ae,ve,Q,Z)}Z=L,Q=E}Q!=E&&n(L,E,Z,Q,V)}function Si(y,b){var E=y.V,L=y.Ba+y.c*y.C,U=b-y.C;if(e(b<=y.l.o),e(16>=U),0<U){var V=y.l,K=y.Ta,Z=y.Ua,Q=V.width;if(es(y,U,E,L),U=Z=[Z],e((E=y.C)<(L=b)),e(V.v<V.va),L>V.o&&(L=V.o),E<V.j){var ne=V.j-E;E=V.j,U[0]+=ne*Q}if(E>=L?E=0:(U[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=L-E,E=1),E){if(Z=Z[0],11>(E=y.ca).S){var pe=E.f.RGBA,je=(L=E.S,U=V.U,V=V.T,ne=pe.eb,pe.A),ae=V;for(pe=pe.fb+y.Ma*pe.A;0<ae--;){var ve=K,be=Z,Ae=U,we=ne,Pe=pe;switch(L){case wp:lf(ve,be,Ae,we,Pe);break;case jp:La(ve,be,Ae,we,Pe);break;case ly:La(ve,be,Ae,we,Pe),uf(we,Pe,0,Ae,1,0);break;case DS:Rr(ve,be,Ae,we,Pe);break;case _p:gt(ve,be,Ae,we,Pe,1);break;case cy:gt(ve,be,Ae,we,Pe,1),uf(we,Pe,0,Ae,1,0);break;case Np:gt(ve,be,Ae,we,Pe,0);break;case Sp:gt(ve,be,Ae,we,Pe,0),uf(we,Pe,1,Ae,1,0);break;case oy:ls(ve,be,Ae,we,Pe);break;case uy:ls(ve,be,Ae,we,Pe),CS(we,Pe,Ae,1,0);break;case $S:Ir(ve,be,Ae,we,Pe);break;default:e(0)}Z+=Q,pe+=je}y.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=E.height)}}y.C=b,e(y.C<=y.i)}function ha(y){var b;if(0<y.ua)return 0;for(b=0;b<y.Wb;++b){var E=y.Ya[b].G,L=y.Ya[b].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function ra(y,b,E,L,U,V){if(y.Z!=0){var K=y.qd,Z=y.rd;for(e(Uo[y.Z]!=null);b<E;++b)Uo[y.Z](K,Z,L,U,L,U,V),K=L,Z=U,U+=V;y.qd=K,y.rd=Z}}function Ea(y,b){var E=y.l.ma,L=E.Z==0||E.Z==1?y.l.j:y.C;if(L=y.C<L?L:y.C,e(b<=y.l.o),b>L){var U=y.l.width,V=E.ca,K=E.tb+U*L,Z=y.V,Q=y.Ba+y.c*L,ne=y.gc;e(y.ab==1),e(ne[0].hc==3),Yc(ne[0],L,b,Z,Q,V,K),ra(E,L,b,V,K,U)}y.C=y.Ma=b}function Ta(y,b,E,L,U,V,K){var Z=y.$/L,Q=y.$%L,ne=y.m,pe=y.s,je=E+y.$,ae=je;U=E+L*U;var ve=E+L*V,be=280+pe.ua,Ae=y.Pb?Z:16777216,we=0<pe.ua?pe.Wa:null,Pe=pe.wc,Oe=je<ve?tn(pe,Q,Z):null;e(y.C<V),e(ve<=U);var Le=!1;e:for(;;){for(;Le||je<ve;){var Ie=0;if(Z>=Ae){var ht=je-E;e((Ae=y).Pb),Ae.wd=Ae.m,Ae.xd=ht,0<Ae.s.ua&&Ve(Ae.s.Wa,Ae.s.vb),Ae=Z+vB}if(Q&Pe||(Oe=tn(pe,Q,Z)),e(Oe!=null),Oe.Qb&&(b[je]=Oe.qb,Le=!0),!Le)if(se(ne),Oe.jc){Ie=ne,ht=b;var Qe=je,Wt=Oe.pd[H(Ie)&is-1];e(Oe.jc),256>Wt.g?(ce(Ie,Ie.u+Wt.g),ht[Qe]=Wt.value,Ie=0):(ce(Ie,Ie.u+Wt.g-256),e(256<=Wt.value),Ie=Wt.value),Ie==0&&(Le=!0)}else Ie=Sr(Oe.G[0],Oe.H[0],ne);if(ne.h)break;if(Le||256>Ie){if(!Le)if(Oe.nd)b[je]=(Oe.qb|Ie<<8)>>>0;else{if(se(ne),Le=Sr(Oe.G[1],Oe.H[1],ne),se(ne),ht=Sr(Oe.G[2],Oe.H[2],ne),Qe=Sr(Oe.G[3],Oe.H[3],ne),ne.h)break;b[je]=(Qe<<24|Le<<16|Ie<<8|ht)>>>0}if(Le=!1,++je,++Q>=L&&(Q=0,++Z,K!=null&&Z<=V&&!(Z%16)&&K(y,Z),we!=null))for(;ae<je;)Ie=b[ae++],we.X[(506832829*Ie&4294967295)>>>we.Mb]=Ie}else if(280>Ie){if(Ie=Er(Ie-256,ne),ht=Sr(Oe.G[4],Oe.H[4],ne),se(ne),ht=Tr(L,ht=Er(ht,ne)),ne.h)break;if(je-E<ht||U-je<Ie)break e;for(Qe=0;Qe<Ie;++Qe)b[je+Qe]=b[je+Qe-ht];for(je+=Ie,Q+=Ie;Q>=L;)Q-=L,++Z,K!=null&&Z<=V&&!(Z%16)&&K(y,Z);if(e(je<=U),Q&Pe&&(Oe=tn(pe,Q,Z)),we!=null)for(;ae<je;)Ie=b[ae++],we.X[(506832829*Ie&4294967295)>>>we.Mb]=Ie}else{if(!(Ie<be))break e;for(Le=Ie-280,e(we!=null);ae<je;)Ie=b[ae++],we.X[(506832829*Ie&4294967295)>>>we.Mb]=Ie;Ie=je,e(!(Le>>>(ht=we).Xa)),b[Ie]=ht.X[Le],Le=!0}Le||e(ne.h==re(ne))}if(y.Pb&&ne.h&&je<U)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ve(y.s.vb,y.s.Wa);else{if(ne.h)break e;K!=null&&K(y,Z>V?V:Z),y.a=0,y.$=je-E}return 1}return y.a=3,0}function pa(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var b=y.Wa;b!=null&&(b.X=null),y.vb=null,e(y!=null)}function me(){var y=new Xr;return y==null?null:(y.a=0,y.xb=qS,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),Vc=Ct,Us=mt,lf=er,La=Jt,ls=it,Ir=xt,Rr=tr,T.VP8LMapColor32b=Kc,T.VP8LMapColor8b=Ml,y)}function Ye(y,b,E,L,U){var V=1,K=[y],Z=[b],Q=L.m,ne=L.s,pe=null,je=0;e:for(;;){if(E)for(;V&&fe(Q,1);){var ae=K,ve=Z,be=L,Ae=1,we=be.m,Pe=be.gc[be.ab],Oe=fe(we,2);if(be.Oc&1<<Oe)V=0;else{switch(be.Oc|=1<<Oe,Pe.hc=Oe,Pe.Ea=ae[0],Pe.nc=ve[0],Pe.K=[null],++be.ab,e(4>=be.ab),Oe){case 0:case 1:Pe.b=fe(we,3)+2,Ae=Ye(_e(Pe.Ea,Pe.b),_e(Pe.nc,Pe.b),0,be,Pe.K),Pe.K=Pe.K[0];break;case 3:var Le,Ie=fe(we,8)+1,ht=16<Ie?0:4<Ie?1:2<Ie?2:3;if(ae[0]=_e(Pe.Ea,ht),Pe.b=ht,Le=Ae=Ye(Ie,1,0,be,Pe.K)){var Qe,Wt=Ie,lt=Pe,rr=1<<(8>>lt.b),jn=i(rr);if(jn==null)Le=0;else{var Ht=lt.K[0],ct=lt.w;for(jn[0]=lt.K[0][0],Qe=1;Qe<1*Wt;++Qe)jn[Qe]=Ue(Ht[ct+Qe],jn[Qe-1]);for(;Qe<4*rr;++Qe)jn[Qe]=0;lt.K[0]=null,lt.K[0]=jn,Le=1}}Ae=Le;break;case 2:break;default:e(0)}V=Ae}}if(K=K[0],Z=Z[0],V&&fe(Q,1)&&!(V=1<=(je=fe(Q,4))&&11>=je)){L.a=3;break e}var We;if(We=V)t:{var ln,$t,ar,Ur=L,Un=K,aa=Z,Zr=je,Kn=E,ia=Ur.m,_n=Ur.s,or=[null],gr=1,Jr=0,vr=gB[Zr];r:for(;;){if(Kn&&fe(ia,1)){var zn=fe(ia,3)+2,Ci=_e(Un,zn),cn=_e(aa,zn),va=Ci*cn;if(!Ye(Ci,cn,0,Ur,or))break r;for(or=or[0],_n.xc=zn,ln=0;ln<va;++ln){var Ar=or[ln]>>8&65535;or[ln]=Ar,Ar>=gr&&(gr=Ar+1)}}if(ia.h)break r;for($t=0;5>$t;++$t){var Nn=FS[$t];!$t&&0<Zr&&(Nn+=1<<Zr),Jr<Nn&&(Jr=Nn)}var Da=o(gr*vr,M),sa=gr,$a=o(sa,G);if($a==null)var Fa=null;else e(65536>=sa),Fa=$a;var ya=i(Jr);if(Fa==null||ya==null||Da==null){Ur.a=1;break r}var Ba=Da;for(ln=ar=0;ln<gr;++ln){var Lr=Fa[ln],qa=Lr.G,Oi=Lr.H,$l=0,Hs=1,Wn=0;for($t=0;5>$t;++$t){Nn=FS[$t],qa[$t]=Ba,Oi[$t]=ar,!$t&&0<Zr&&(Nn+=1<<Zr);a:{var Cp,py=Nn,Op=Ur,hf=ya,DB=Ba,$B=ar,my=0,zo=Op.m,FB=fe(zo,1);if(a(hf,0,0,py),FB){var BB=fe(zo,1)+1,qB=fe(zo,1),YS=fe(zo,qB==0?1:8);hf[YS]=1,BB==2&&(hf[YS=fe(zo,8)]=1);var Ep=1}else{var XS=i(19),ZS=fe(zo,4)+4;if(19<ZS){Op.a=3;var Tp=0;break a}for(Cp=0;Cp<ZS;++Cp)XS[pB[Cp]]=fe(zo,3);var gy=void 0,pf=void 0,JS=Op,UB=XS,Ip=py,QS=hf,vy=0,Wo=JS.m,eA=8,tA=o(128,M);n:for(;I(tA,0,7,UB,19);){if(fe(Wo,1)){var zB=2+2*fe(Wo,3);if((gy=2+fe(Wo,zB))>Ip)break n}else gy=Ip;for(pf=0;pf<Ip&&gy--;){se(Wo);var rA=tA[0+(127&H(Wo))];ce(Wo,Wo.u+rA.g);var Zc=rA.value;if(16>Zc)QS[pf++]=Zc,Zc!=0&&(eA=Zc);else{var WB=Zc==16,nA=Zc-16,HB=fB[nA],aA=fe(Wo,dB[nA])+HB;if(pf+aA>Ip)break n;for(var GB=WB?eA:0;0<aA--;)QS[pf++]=GB}}vy=1;break n}vy||(JS.a=3),Ep=vy}(Ep=Ep&&!zo.h)&&(my=I(DB,$B,8,hf,py)),Ep&&my!=0?Tp=my:(Op.a=3,Tp=0)}if(Tp==0)break r;if(Hs&&hB[$t]==1&&(Hs=Ba[ar].g==0),$l+=Ba[ar].g,ar+=Tp,3>=$t){var mf,yy=ya[0];for(mf=1;mf<Nn;++mf)ya[mf]>yy&&(yy=ya[mf]);Wn+=yy}}if(Lr.nd=Hs,Lr.Qb=0,Hs&&(Lr.qb=(qa[3][Oi[3]+0].value<<24|qa[1][Oi[1]+0].value<<16|qa[2][Oi[2]+0].value)>>>0,$l==0&&256>qa[0][Oi[0]+0].value&&(Lr.Qb=1,Lr.qb+=qa[0][Oi[0]+0].value<<8)),Lr.jc=!Lr.Qb&&6>Wn,Lr.jc){var Rp,Gs=Lr;for(Rp=0;Rp<is;++Rp){var Ho=Rp,Go=Gs.pd[Ho],Lp=Gs.G[0][Gs.H[0]+Ho];256<=Lp.value?(Go.g=Lp.g+256,Go.value=Lp.value):(Go.g=0,Go.value=0,Ho>>=ir(Lp,8,Go),Ho>>=ir(Gs.G[1][Gs.H[1]+Ho],16,Go),Ho>>=ir(Gs.G[2][Gs.H[2]+Ho],0,Go),ir(Gs.G[3][Gs.H[3]+Ho],24,Go))}}}_n.vc=or,_n.Wb=gr,_n.Ya=Fa,_n.yc=Da,We=1;break t}We=0}if(!(V=We)){L.a=3;break e}if(0<je){if(ne.ua=1<<je,!te(ne.Wa,je)){L.a=1,V=0;break e}}else ne.ua=0;var xy=L,iA=K,VB=Z,by=xy.s,wy=by.xc;if(xy.c=iA,xy.i=VB,by.md=_e(iA,wy),by.wc=wy==0?-1:(1<<wy)-1,E){L.xb=NB;break e}if((pe=i(K*Z))==null){L.a=1,V=0;break e}V=(V=Ta(L,pe,0,K,Z,Z,null))&&!Q.h;break e}return V?(U!=null?U[0]=pe:(e(pe==null),e(E)),L.$=0,E||pa(ne)):pa(ne),V}function vt(y,b){var E=y.c*y.i,L=E+b+16*b;return e(y.c<=b),y.V=i(L),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+E+b,1)}function jt(y,b){var E=y.C,L=b-E,U=y.V,V=y.Ba+y.c*E;for(e(b<=y.l.o);0<L;){var K=16<L?16:L,Z=y.l.ma,Q=y.l.width,ne=Q*K,pe=Z.ca,je=Z.tb+Q*E,ae=y.Ta,ve=y.Ua;es(y,K,U,V),ES(ae,ve,pe,je,ne),ra(Z,E,E+K,pe,je,Q),L-=K,U+=K*y.c,E+=K}e(E==b),y.C=y.Ma=b}function sr(){this.ub=this.yd=this.td=this.Rb=0}function jr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ut(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ia(){this.Yb=(function(){var y=[];return(function b(E,L,U){for(var V=U[L],K=0;K<V&&(E.push(U.length>L+1?[]:0),!(U.length<L+1));K++)b(E[K],L+1,U)})(y,0,[3,11]),y})()}function Sl(){this.jb=i(3),this.Wc=l([4,8],Ia),this.Xc=l([4,17],Ia)}function ts(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function rn(){this.ld=this.La=this.dd=this.tc=0}function Eo(){this.Na=this.la=0}function To(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Io(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dc(){this.uc=this.M=this.Nb=0,this.wa=Array(new rn),this.Y=0,this.ya=Array(new Io),this.aa=0,this.l=new $c}function xn(){this.y=i(16),this.f=i(8),this.ea=i(8)}function rs(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new sr,this.Kc=new jr,this.ed=new ts,this.Qa=new ut,this.Ic=this.$c=this.Aa=0,this.D=new Dc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,To),this.Pa=new Sl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xn),this.Hd=0,this.rb=Array(new Eo),this.sb=0,this.wa=Array(new rn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Io),this.L=this.aa=0,this.gd=l([4,2],rn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $c(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function z0(){var y=new rs;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,df||(df=Ms)),y}function pn(y,b,E){return y.a==0&&(y.a=b,y.sc=E,y.cb=0),0}function hp(y,b,E){return 3<=E&&y[b+0]==157&&y[b+1]==1&&y[b+2]==42}function pp(y,b){if(y==null)return 0;if(y.a=0,y.sc="OK",b==null)return pn(y,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,L=b.w,U=b.ha;if(4>U)return pn(y,7,"Truncated header.");var V=E[L+0]|E[L+1]<<8|E[L+2]<<16,K=y.Od;if(K.Rb=!(1&V),K.td=V>>1&7,K.yd=V>>4&1,K.ub=V>>5,3<K.td)return pn(y,3,"Incorrect keyframe parameters.");if(!K.yd)return pn(y,4,"Frame not displayable.");L+=3,U-=3;var Z=y.Kc;if(K.Rb){if(7>U)return pn(y,7,"cannot parse picture header");if(!hp(E,L,U))return pn(y,3,"Bad code word");Z.c=16383&(E[L+4]<<8|E[L+3]),Z.Td=E[L+4]>>6,Z.i=16383&(E[L+6]<<8|E[L+5]),Z.Ud=E[L+6]>>6,L+=7,U-=7,y.za=Z.c+15>>4,y.Ub=Z.i+15>>4,b.width=Z.c,b.height=Z.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((V=y.Pa).jb,0,255,V.jb.length),e((V=y.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(K.ub>U)return pn(y,7,"bad partition length");$(V=y.m,E,L,K.ub),L+=K.ub,U-=K.ub,K.Rb&&(Z.Ld=J(V),Z.Kd=J(V)),Z=y.Qa;var Q,ne=y.Pa;if(e(V!=null),e(Z!=null),Z.Cb=J(V),Z.Cb){if(Z.Bb=J(V),J(V)){for(Z.Fb=J(V),Q=0;4>Q;++Q)Z.Zb[Q]=J(V)?F(V,7):0;for(Q=0;4>Q;++Q)Z.Lb[Q]=J(V)?F(V,6):0}if(Z.Bb)for(Q=0;3>Q;++Q)ne.jb[Q]=J(V)?q(V,8):255}else Z.Bb=0;if(V.Ka)return pn(y,3,"cannot parse segment header");if((Z=y.ed).zd=J(V),Z.Tb=q(V,6),Z.wb=q(V,3),Z.Pc=J(V),Z.Pc&&J(V)){for(ne=0;4>ne;++ne)J(V)&&(Z.vd[ne]=F(V,6));for(ne=0;4>ne;++ne)J(V)&&(Z.od[ne]=F(V,6))}if(y.L=Z.Tb==0?0:Z.zd?1:2,V.Ka)return pn(y,3,"cannot parse filter header");var pe=U;if(U=Q=L,L=Q+pe,Z=pe,y.Xb=(1<<q(y.m,2))-1,pe<3*(ne=y.Xb))E=7;else{for(Q+=3*ne,Z-=3*ne,pe=0;pe<ne;++pe){var je=E[U+0]|E[U+1]<<8|E[U+2]<<16;je>Z&&(je=Z),$(y.Jc[+pe],E,Q,je),Q+=je,Z-=je,U+=3}$(y.Jc[+ne],E,Q,Z),E=Q<L?0:5}if(E!=0)return pn(y,E,"cannot parse partitions");for(E=q(Q=y.m,7),U=J(Q)?F(Q,4):0,L=J(Q)?F(Q,4):0,Z=J(Q)?F(Q,4):0,ne=J(Q)?F(Q,4):0,Q=J(Q)?F(Q,4):0,pe=y.Qa,je=0;4>je;++je){if(pe.Cb){var ae=pe.Zb[je];pe.Fb||(ae+=E)}else{if(0<je){y.pb[je]=y.pb[0];continue}ae=E}var ve=y.pb[je];ve.Sc[0]=dy[wn(ae+U,127)],ve.Sc[1]=fy[wn(ae+0,127)],ve.Eb[0]=2*dy[wn(ae+L,127)],ve.Eb[1]=101581*fy[wn(ae+Z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=dy[wn(ae+ne,117)],ve.Qc[1]=fy[wn(ae+Q,127)],ve.lc=ae+Q}if(!K.Rb)return pn(y,4,"Not a key frame.");for(J(V),K=y.Pa,E=0;4>E;++E){for(U=0;8>U;++U)for(L=0;3>L;++L)for(Z=0;11>Z;++Z)ne=le(V,jB[E][U][L][Z])?q(V,8):bB[E][U][L][Z],K.Wc[E][U].Yb[L][Z]=ne;for(U=0;17>U;++U)K.Xc[E][U]=K.Wc[E][_B[U]]}return y.kc=J(V),y.kc&&(y.Bd=q(V,8)),y.cb=1}function Ms(y,b,E,L,U,V,K){var Z=b[U].Yb[E];for(E=0;16>U;++U){if(!le(y,Z[E+0]))return U;for(;!le(y,Z[E+1]);)if(Z=b[++U].Yb[0],E=0,U==16)return 16;var Q=b[U+1].Yb;if(le(y,Z[E+2])){var ne=y,pe=0;if(le(ne,(ae=Z)[(je=E)+3]))if(le(ne,ae[je+6])){for(Z=0,je=2*(pe=le(ne,ae[je+8]))+(ae=le(ne,ae[je+9+pe])),pe=0,ae=yB[je];ae[Z];++Z)pe+=pe+le(ne,ae[Z]);pe+=3+(8<<je)}else le(ne,ae[je+7])?(pe=7+2*le(ne,165),pe+=le(ne,145)):pe=5+le(ne,159);else pe=le(ne,ae[je+4])?3+le(ne,ae[je+5]):2;Z=Q[2]}else pe=1,Z=Q[1];Q=K+xB[U],0>(ne=y).b&&X(ne);var je,ae=ne.b,ve=(je=ne.Ca>>1)-(ne.I>>ae)>>31;--ne.b,ne.Ca+=ve,ne.Ca|=1,ne.I-=(je+1&ve)<<ae,V[Q]=((pe^ve)-ve)*L[(0<U)+0]}return 16}function Al(y){var b=y.rb[y.sb-1];b.la=0,b.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function Ai(y,b,E,L,U){U=y[b+E+32*L]+(U>>3),y[b+E+32*L]=-256&U?0>U?0:255:U}function kl(y,b,E,L,U,V){Ai(y,b,0,E,L+U),Ai(y,b,1,E,L+V),Ai(y,b,2,E,L-V),Ai(y,b,3,E,L-U)}function nn(y){return(20091*y>>16)+y}function Wd(y,b,E,L){var U,V=0,K=i(16);for(U=0;4>U;++U){var Z=y[b+0]+y[b+8],Q=y[b+0]-y[b+8],ne=(35468*y[b+4]>>16)-nn(y[b+12]),pe=nn(y[b+4])+(35468*y[b+12]>>16);K[V+0]=Z+pe,K[V+1]=Q+ne,K[V+2]=Q-ne,K[V+3]=Z-pe,V+=4,b++}for(U=V=0;4>U;++U)Z=(y=K[V+0]+4)+K[V+8],Q=y-K[V+8],ne=(35468*K[V+4]>>16)-nn(K[V+12]),Ai(E,L,0,0,Z+(pe=nn(K[V+4])+(35468*K[V+12]>>16))),Ai(E,L,1,0,Q+ne),Ai(E,L,2,0,Q-ne),Ai(E,L,3,0,Z-pe),V++,L+=32}function W0(y,b,E,L){var U=y[b+0]+4,V=35468*y[b+4]>>16,K=nn(y[b+4]),Z=35468*y[b+1]>>16;kl(E,L,0,U+K,y=nn(y[b+1]),Z),kl(E,L,1,U+V,y,Z),kl(E,L,2,U-V,y,Z),kl(E,L,3,U-K,y,Z)}function H0(y,b,E,L,U){Wd(y,b,E,L),U&&Wd(y,b+16,E,L+4)}function G0(y,b,E,L){on(y,b+0,E,L,1),on(y,b+32,E,L+128,1)}function ns(y,b,E,L){var U;for(y=y[b+0]+4,U=0;4>U;++U)for(b=0;4>b;++b)Ai(E,L,b,U,y)}function mp(y,b,E,L){y[b+0]&&cs(y,b+0,E,L),y[b+16]&&cs(y,b+16,E,L+4),y[b+32]&&cs(y,b+32,E,L+128),y[b+48]&&cs(y,b+48,E,L+128+4)}function gp(y,b,E,L){var U,V=i(16);for(U=0;4>U;++U){var K=y[b+0+U]+y[b+12+U],Z=y[b+4+U]+y[b+8+U],Q=y[b+4+U]-y[b+8+U],ne=y[b+0+U]-y[b+12+U];V[0+U]=K+Z,V[8+U]=K-Z,V[4+U]=ne+Q,V[12+U]=ne-Q}for(U=0;4>U;++U)K=(y=V[0+4*U]+3)+V[3+4*U],Z=V[1+4*U]+V[2+4*U],Q=V[1+4*U]-V[2+4*U],ne=y-V[3+4*U],E[L+0]=K+Z>>3,E[L+16]=ne+Q>>3,E[L+32]=K-Z>>3,E[L+48]=ne-Q>>3,L+=64}function Ro(y,b,E){var L,U=b-32,V=Ma,K=255-y[U-1];for(L=0;L<E;++L){var Z,Q=V,ne=K+y[b-1];for(Z=0;Z<E;++Z)y[b+Z]=Q[ne+y[U+Z]];b+=32}}function Hd(y,b){Ro(y,b,4)}function V0(y,b){Ro(y,b,8)}function K0(y,b){Ro(y,b,16)}function Y0(y,b){var E;for(E=0;16>E;++E)n(y,b+32*E,y,b-32,16)}function Gd(y,b){var E;for(E=16;0<E;--E)a(y,b,y[b-1],16),b+=32}function Pl(y,b,E){var L;for(L=0;16>L;++L)a(b,E+32*L,y,16)}function Lo(y,b){var E,L=16;for(E=0;16>E;++E)L+=y[b-1+32*E]+y[b+E-32];Pl(L>>5,y,b)}function X0(y,b){var E,L=8;for(E=0;16>E;++E)L+=y[b-1+32*E];Pl(L>>4,y,b)}function Cl(y,b){var E,L=8;for(E=0;16>E;++E)L+=y[b+E-32];Pl(L>>4,y,b)}function Vd(y,b){Pl(128,y,b)}function Rt(y,b,E){return y+2*b+E+2>>2}function Z0(y,b){var E,L=b-32;for(L=new Uint8Array([Rt(y[L-1],y[L+0],y[L+1]),Rt(y[L+0],y[L+1],y[L+2]),Rt(y[L+1],y[L+2],y[L+3]),Rt(y[L+2],y[L+3],y[L+4])]),E=0;4>E;++E)n(y,b+32*E,L,0,L.length)}function J0(y,b){var E=y[b-1],L=y[b-1+32],U=y[b-1+64],V=y[b-1+96];ue(y,b+0,16843009*Rt(y[b-1-32],E,L)),ue(y,b+32,16843009*Rt(E,L,U)),ue(y,b+64,16843009*Rt(L,U,V)),ue(y,b+96,16843009*Rt(U,V,V))}function Q0(y,b){var E,L=4;for(E=0;4>E;++E)L+=y[b+E-32]+y[b-1+32*E];for(L>>=3,E=0;4>E;++E)a(y,b+32*E,L,4)}function ey(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1-32],K=y[b+0-32],Z=y[b+1-32],Q=y[b+2-32],ne=y[b+3-32];y[b+0+96]=Rt(L,U,y[b-1+96]),y[b+1+96]=y[b+0+64]=Rt(E,L,U),y[b+2+96]=y[b+1+64]=y[b+0+32]=Rt(V,E,L),y[b+3+96]=y[b+2+64]=y[b+1+32]=y[b+0+0]=Rt(K,V,E),y[b+3+64]=y[b+2+32]=y[b+1+0]=Rt(Z,K,V),y[b+3+32]=y[b+2+0]=Rt(Q,Z,K),y[b+3+0]=Rt(ne,Q,Z)}function Ds(y,b){var E=y[b+1-32],L=y[b+2-32],U=y[b+3-32],V=y[b+4-32],K=y[b+5-32],Z=y[b+6-32],Q=y[b+7-32];y[b+0+0]=Rt(y[b+0-32],E,L),y[b+1+0]=y[b+0+32]=Rt(E,L,U),y[b+2+0]=y[b+1+32]=y[b+0+64]=Rt(L,U,V),y[b+3+0]=y[b+2+32]=y[b+1+64]=y[b+0+96]=Rt(U,V,K),y[b+3+32]=y[b+2+64]=y[b+1+96]=Rt(V,K,Z),y[b+3+64]=y[b+2+96]=Rt(K,Z,Q),y[b+3+96]=Rt(Z,Q,Q)}function $s(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1-32],K=y[b+0-32],Z=y[b+1-32],Q=y[b+2-32],ne=y[b+3-32];y[b+0+0]=y[b+1+64]=V+K+1>>1,y[b+1+0]=y[b+2+64]=K+Z+1>>1,y[b+2+0]=y[b+3+64]=Z+Q+1>>1,y[b+3+0]=Q+ne+1>>1,y[b+0+96]=Rt(U,L,E),y[b+0+64]=Rt(L,E,V),y[b+0+32]=y[b+1+96]=Rt(E,V,K),y[b+1+32]=y[b+2+96]=Rt(V,K,Z),y[b+2+32]=y[b+3+96]=Rt(K,Z,Q),y[b+3+32]=Rt(Z,Q,ne)}function ty(y,b){var E=y[b+0-32],L=y[b+1-32],U=y[b+2-32],V=y[b+3-32],K=y[b+4-32],Z=y[b+5-32],Q=y[b+6-32],ne=y[b+7-32];y[b+0+0]=E+L+1>>1,y[b+1+0]=y[b+0+64]=L+U+1>>1,y[b+2+0]=y[b+1+64]=U+V+1>>1,y[b+3+0]=y[b+2+64]=V+K+1>>1,y[b+0+32]=Rt(E,L,U),y[b+1+32]=y[b+0+96]=Rt(L,U,V),y[b+2+32]=y[b+1+96]=Rt(U,V,K),y[b+3+32]=y[b+2+96]=Rt(V,K,Z),y[b+3+64]=Rt(K,Z,Q),y[b+3+96]=Rt(Z,Q,ne)}function ry(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1+96];y[b+0+0]=E+L+1>>1,y[b+2+0]=y[b+0+32]=L+U+1>>1,y[b+2+32]=y[b+0+64]=U+V+1>>1,y[b+1+0]=Rt(E,L,U),y[b+3+0]=y[b+1+32]=Rt(L,U,V),y[b+3+32]=y[b+1+64]=Rt(U,V,V),y[b+3+64]=y[b+2+64]=y[b+0+96]=y[b+1+96]=y[b+2+96]=y[b+3+96]=V}function Fc(y,b){var E=y[b-1+0],L=y[b-1+32],U=y[b-1+64],V=y[b-1+96],K=y[b-1-32],Z=y[b+0-32],Q=y[b+1-32],ne=y[b+2-32];y[b+0+0]=y[b+2+32]=E+K+1>>1,y[b+0+32]=y[b+2+64]=L+E+1>>1,y[b+0+64]=y[b+2+96]=U+L+1>>1,y[b+0+96]=V+U+1>>1,y[b+3+0]=Rt(Z,Q,ne),y[b+2+0]=Rt(K,Z,Q),y[b+1+0]=y[b+3+32]=Rt(E,K,Z),y[b+1+32]=y[b+3+64]=Rt(L,E,K),y[b+1+64]=y[b+3+96]=Rt(U,L,E),y[b+1+96]=Rt(V,U,L)}function Kd(y,b){var E;for(E=0;8>E;++E)n(y,b+32*E,y,b-32,8)}function Ol(y,b){var E;for(E=0;8>E;++E)a(y,b,y[b-1],8),b+=32}function Bc(y,b,E){var L;for(L=0;8>L;++L)a(b,E+32*L,y,8)}function qc(y,b){var E,L=8;for(E=0;8>E;++E)L+=y[b+E-32]+y[b-1+32*E];Bc(L>>4,y,b)}function ny(y,b){var E,L=4;for(E=0;8>E;++E)L+=y[b+E-32];Bc(L>>3,y,b)}function Yd(y,b){var E,L=4;for(E=0;8>E;++E)L+=y[b-1+32*E];Bc(L>>3,y,b)}function Xd(y,b){Bc(128,y,b)}function El(y,b,E){var L=y[b-E],U=y[b+0],V=3*(U-L)+sy[1020+y[b-2*E]-y[b+E]],K=bp[112+(V+4>>3)];y[b-E]=Ma[255+L+bp[112+(V+3>>3)]],y[b+0]=Ma[255+U-K]}function Tl(y,b,E,L){var U=y[b+0],V=y[b+E];return ii[255+y[b-2*E]-y[b-E]]>L||ii[255+V-U]>L}function Zd(y,b,E,L){return 4*ii[255+y[b-E]-y[b+0]]+ii[255+y[b-2*E]-y[b+E]]<=L}function Uc(y,b,E,L,U){var V=y[b-3*E],K=y[b-2*E],Z=y[b-E],Q=y[b+0],ne=y[b+E],pe=y[b+2*E],je=y[b+3*E];return 4*ii[255+Z-Q]+ii[255+K-ne]>L?0:ii[255+y[b-4*E]-V]<=U&&ii[255+V-K]<=U&&ii[255+K-Z]<=U&&ii[255+je-pe]<=U&&ii[255+pe-ne]<=U&&ii[255+ne-Q]<=U}function Jd(y,b,E,L){var U=2*L+1;for(L=0;16>L;++L)Zd(y,b+L,E,U)&&El(y,b+L,E)}function Il(y,b,E,L){var U=2*L+1;for(L=0;16>L;++L)Zd(y,b+L*E,1,U)&&El(y,b+L*E,1)}function Qd(y,b,E,L){var U;for(U=3;0<U;--U)Jd(y,b+=4*E,E,L)}function ef(y,b,E,L){var U;for(U=3;0<U;--U)Il(y,b+=4,E,L)}function Ra(y,b,E,L,U,V,K,Z){for(V=2*V+1;0<U--;){if(Uc(y,b,E,V,K))if(Tl(y,b,E,Z))El(y,b,E);else{var Q=y,ne=b,pe=E,je=Q[ne-2*pe],ae=Q[ne-pe],ve=Q[ne+0],be=Q[ne+pe],Ae=Q[ne+2*pe],we=27*(Oe=sy[1020+3*(ve-ae)+sy[1020+je-be]])+63>>7,Pe=18*Oe+63>>7,Oe=9*Oe+63>>7;Q[ne-3*pe]=Ma[255+Q[ne-3*pe]+Oe],Q[ne-2*pe]=Ma[255+je+Pe],Q[ne-pe]=Ma[255+ae+we],Q[ne+0]=Ma[255+ve-we],Q[ne+pe]=Ma[255+be-Pe],Q[ne+2*pe]=Ma[255+Ae-Oe]}b+=L}}function as(y,b,E,L,U,V,K,Z){for(V=2*V+1;0<U--;){if(Uc(y,b,E,V,K))if(Tl(y,b,E,Z))El(y,b,E);else{var Q=y,ne=b,pe=E,je=Q[ne-pe],ae=Q[ne+0],ve=Q[ne+pe],be=bp[112+(4+(Ae=3*(ae-je))>>3)],Ae=bp[112+(Ae+3>>3)],we=be+1>>1;Q[ne-2*pe]=Ma[255+Q[ne-2*pe]+we],Q[ne-pe]=Ma[255+je+Ae],Q[ne+0]=Ma[255+ae-be],Q[ne+pe]=Ma[255+ve-we]}b+=L}}function C(y,b,E,L,U,V){Ra(y,b,E,1,16,L,U,V)}function z(y,b,E,L,U,V){Ra(y,b,1,E,16,L,U,V)}function ie(y,b,E,L,U,V){var K;for(K=3;0<K;--K)as(y,b+=4*E,E,1,16,L,U,V)}function de(y,b,E,L,U,V){var K;for(K=3;0<K;--K)as(y,b+=4,1,E,16,L,U,V)}function xe(y,b,E,L,U,V,K,Z){Ra(y,b,U,1,8,V,K,Z),Ra(E,L,U,1,8,V,K,Z)}function Ce(y,b,E,L,U,V,K,Z){Ra(y,b,1,U,8,V,K,Z),Ra(E,L,1,U,8,V,K,Z)}function Re(y,b,E,L,U,V,K,Z){as(y,b+4*U,U,1,8,V,K,Z),as(E,L+4*U,U,1,8,V,K,Z)}function st(y,b,E,L,U,V,K,Z){as(y,b+4,1,U,8,V,K,Z),as(E,L+4,1,U,8,V,K,Z)}function ft(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new He,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fr(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new M}function Xr(){this.xb=this.a=0,this.l=new $c,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fr,this.ab=0,this.gc=o(4,qt),this.Oc=0}function mn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $c,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _r(y,b,E,L,U,V,K){for(y=y==null?0:y[b+0],b=0;b<K;++b)U[V+b]=y+E[L+b]&255,y=U[V+b]}function bn(y,b,E,L,U,V,K){var Z;if(y==null)_r(null,null,E,L,U,V,K);else for(Z=0;Z<K;++Z)U[V+Z]=y[b+Z]+E[L+Z]&255}function gn(y,b,E,L,U,V,K){if(y==null)_r(null,null,E,L,U,V,K);else{var Z,Q=y[b+0],ne=Q,pe=Q;for(Z=0;Z<K;++Z)ne=pe+(Q=y[b+Z])-ne,pe=E[L+Z]+(-256&ne?0>ne?0:255:ne)&255,ne=Q,U[V+Z]=pe}}function qn(y,b,E,L){var U=b.width,V=b.o;if(e(y!=null&&b!=null),0>E||0>=L||E+L>V)return null;if(!y.Cc){if(y.ga==null){var K;if(y.ga=new mn,(K=y.ga==null)||(K=b.width*b.o,e(y.Gb.length==0),y.Gb=i(K),y.Uc=0,y.Gb==null?K=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,K=1),K=!K),!K){K=y.ga;var Z=y.Fa,Q=y.P,ne=y.qc,pe=y.mb,je=y.nb,ae=Q+1,ve=ne-1,be=K.l;if(e(Z!=null&&pe!=null&&b!=null),Uo[0]=null,Uo[1]=_r,Uo[2]=bn,Uo[3]=gn,K.ca=pe,K.tb=je,K.c=b.width,K.i=b.height,e(0<K.c&&0<K.i),1>=ne)b=0;else if(K.$a=3&Z[Q+0],K.Z=Z[Q+0]>>2&3,K.Lc=Z[Q+0]>>4&3,Q=Z[Q+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||Q)b=0;else if(be.put=Ke,be.ac=Bn,be.bc=wr,be.ma=K,be.width=b.width,be.height=b.height,be.Da=b.Da,be.v=b.v,be.va=b.va,be.j=b.j,be.o=b.o,K.$a)e:{e(K.$a==1),b=me();t:for(;;){if(b==null){b=0;break e}if(e(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,ee(b.m,Z,ae,ve),!Ye(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ha(b.s)?(K.ic=1,Z=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(Z),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=vt(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=ve>=K.c*K.i;K=!b}if(K)return null;y.ga.Lc!=1?y.Ga=0:L=V-E}e(y.ga!=null),e(E+L<=V);e:{if(b=(Z=y.ga).c,V=Z.l.o,Z.$a==0){if(ae=y.rc,ve=y.Vc,be=y.Fa,Q=y.P+1+E*b,ne=y.mb,pe=y.nb+E*b,e(Q<=y.P+y.qc),Z.Z!=0)for(e(Uo[Z.Z]!=null),K=0;K<L;++K)Uo[Z.Z](ae,ve,be,Q,ne,pe,b),ae=ne,ve=pe,pe+=b,Q+=b;else for(K=0;K<L;++K)n(ne,pe,be,Q,b),ae=ne,ve=pe,pe+=b,Q+=b;y.rc=ae,y.Vc=ve}else{if(e(Z.mc!=null),b=E+L,e((K=Z.mc)!=null),e(b<=K.i),K.C>=b)b=1;else if(Z.ic||Rl(),Z.ic){Z=K.V,ae=K.Ba,ve=K.c;var Ae=K.i,we=(be=1,Q=K.$/ve,ne=K.$%ve,pe=K.m,je=K.s,K.$),Pe=ve*Ae,Oe=ve*b,Le=je.wc,Ie=we<Oe?tn(je,ne,Q):null;e(we<=Pe),e(b<=Ae),e(ha(je));t:for(;;){for(;!pe.h&&we<Oe;){if(ne&Le||(Ie=tn(je,ne,Q)),e(Ie!=null),se(pe),256>(Ae=Sr(Ie.G[0],Ie.H[0],pe)))Z[ae+we]=Ae,++we,++ne>=ve&&(ne=0,++Q<=b&&!(Q%16)&&Ea(K,Q));else{if(!(280>Ae)){be=0;break t}Ae=Er(Ae-256,pe);var ht,Qe=Sr(Ie.G[4],Ie.H[4],pe);if(se(pe),!(we>=(Qe=Tr(ve,Qe=Er(Qe,pe)))&&Pe-we>=Ae)){be=0;break t}for(ht=0;ht<Ae;++ht)Z[ae+we+ht]=Z[ae+we+ht-Qe];for(we+=Ae,ne+=Ae;ne>=ve;)ne-=ve,++Q<=b&&!(Q%16)&&Ea(K,Q);we<Oe&&ne&Le&&(Ie=tn(je,ne,Q))}e(pe.h==re(pe))}Ea(K,Q>b?b:Q);break t}!be||pe.h&&we<Pe?(be=0,K.a=pe.h?5:3):K.$=we,b=be}else b=Ta(K,K.V,K.Ba,K.c,K.i,b,jt);if(!b){L=0;break e}}E+L>=V&&(y.Cc=1),L=1}if(!L)return null;if(y.Cc&&((L=y.ga)!=null&&(L.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+E*U}function Fs(y,b,E,L,U,V){for(;0<U--;){var K,Z=y,Q=b+(E?1:0),ne=y,pe=b+(E?0:3);for(K=0;K<L;++K){var je=ne[pe+4*K];je!=255&&(je*=32897,Z[Q+4*K+0]=Z[Q+4*K+0]*je>>23,Z[Q+4*K+1]=Z[Q+4*K+1]*je>>23,Z[Q+4*K+2]=Z[Q+4*K+2]*je>>23)}b+=V}}function Mo(y,b,E,L,U){for(;0<L--;){var V;for(V=0;V<E;++V){var K=y[b+2*V+0],Z=15&(ne=y[b+2*V+1]),Q=4369*Z,ne=(240&ne|ne>>4)*Q>>16;y[b+2*V+0]=(240&K|K>>4)*Q>>16&240|(15&K|K<<4)*Q>>16>>4&15,y[b+2*V+1]=240&ne|Z}b+=U}}function ay(y,b,E,L,U,V,K,Z){var Q,ne,pe=255;for(ne=0;ne<U;++ne){for(Q=0;Q<L;++Q){var je=y[b+Q];V[K+4*Q]=je,pe&=je}b+=E,K+=Z}return pe!=255}function vp(y,b,E,L,U){var V;for(V=0;V<U;++V)E[L+V]=y[b+V]>>8}function Rl(){uf=Fs,CS=Mo,OS=ay,ES=vp}function ki(y,b,E){T[y]=function(L,U,V,K,Z,Q,ne,pe,je,ae,ve,be,Ae,we,Pe,Oe,Le){var Ie,ht=Le-1>>1,Qe=Z[Q+0]|ne[pe+0]<<16,Wt=je[ae+0]|ve[be+0]<<16;e(L!=null);var lt=3*Qe+Wt+131074>>2;for(b(L[U+0],255&lt,lt>>16,Ae,we),V!=null&&(lt=3*Wt+Qe+131074>>2,b(V[K+0],255&lt,lt>>16,Pe,Oe)),Ie=1;Ie<=ht;++Ie){var rr=Z[Q+Ie]|ne[pe+Ie]<<16,jn=je[ae+Ie]|ve[be+Ie]<<16,Ht=Qe+rr+Wt+jn+524296,ct=Ht+2*(rr+Wt)>>3;lt=ct+Qe>>1,Qe=(Ht=Ht+2*(Qe+jn)>>3)+rr>>1,b(L[U+2*Ie-1],255&lt,lt>>16,Ae,we+(2*Ie-1)*E),b(L[U+2*Ie-0],255&Qe,Qe>>16,Ae,we+(2*Ie-0)*E),V!=null&&(lt=Ht+Wt>>1,Qe=ct+jn>>1,b(V[K+2*Ie-1],255&lt,lt>>16,Pe,Oe+(2*Ie-1)*E),b(V[K+2*Ie+0],255&Qe,Qe>>16,Pe,Oe+(2*Ie+0)*E)),Qe=rr,Wt=jn}1&Le||(lt=3*Qe+Wt+131074>>2,b(L[U+Le-1],255&lt,lt>>16,Ae,we+(Le-1)*E),V!=null&&(lt=3*Wt+Qe+131074>>2,b(V[K+Le-1],255&lt,lt>>16,Pe,Oe+(Le-1)*E)))}}function tf(){si[wp]=SB,si[jp]=US,si[DS]=AB,si[_p]=zS,si[Np]=WS,si[oy]=HS,si[$S]=kB,si[ly]=US,si[cy]=zS,si[Sp]=WS,si[uy]=HS}function zc(y){return y&-16384?0>y?0:255:y>>PB}function Do(y,b){return zc((19077*y>>8)+(26149*b>>8)-14234)}function In(y,b,E){return zc((19077*y>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function Bs(y,b){return zc((19077*y>>8)+(33050*b>>8)-17685)}function qs(y,b,E,L,U){L[U+0]=Do(y,E),L[U+1]=In(y,b,E),L[U+2]=Bs(y,b)}function Wc(y,b,E,L,U){L[U+0]=Bs(y,b),L[U+1]=In(y,b,E),L[U+2]=Do(y,E)}function rf(y,b,E,L,U){var V=In(y,b,E);b=V<<3&224|Bs(y,b)>>3,L[U+0]=248&Do(y,E)|V>>5,L[U+1]=b}function na(y,b,E,L,U){var V=240&Bs(y,b)|15;L[U+0]=240&Do(y,E)|In(y,b,E)>>4,L[U+1]=V}function yp(y,b,E,L,U){L[U+0]=255,qs(y,b,E,L,U+1)}function Hc(y,b,E,L,U){Wc(y,b,E,L,U),L[U+3]=255}function xp(y,b,E,L,U){qs(y,b,E,L,U),L[U+3]=255}function wn(y,b){return 0>y?0:y>b?b:y}function ai(y,b,E){T[y]=function(L,U,V,K,Z,Q,ne,pe,je){for(var ae=pe+(-2&je)*E;pe!=ae;)b(L[U+0],V[K+0],Z[Q+0],ne,pe),b(L[U+1],V[K+0],Z[Q+0],ne,pe+E),U+=2,++K,++Q,pe+=2*E;1&je&&b(L[U+0],V[K+0],Z[Q+0],ne,pe)}}function nf(y,b,E){return E==0?y==0?b==0?6:5:b==0?4:0:E}function af(y,b,E,L,U){switch(y>>>30){case 3:on(b,E,L,U,0);break;case 2:zs(b,E,L,U);break;case 1:cs(b,E,L,U)}}function $o(y,b){var E,L,U=b.M,V=b.Nb,K=y.oc,Z=y.pc+40,Q=y.oc,ne=y.pc+584,pe=y.oc,je=y.pc+600;for(E=0;16>E;++E)K[Z+32*E-1]=129;for(E=0;8>E;++E)Q[ne+32*E-1]=129,pe[je+32*E-1]=129;for(0<U?K[Z-1-32]=Q[ne-1-32]=pe[je-1-32]=129:(a(K,Z-32-1,127,21),a(Q,ne-32-1,127,9),a(pe,je-32-1,127,9)),L=0;L<y.za;++L){var ae=b.ya[b.aa+L];if(0<L){for(E=-1;16>E;++E)n(K,Z+32*E-4,K,Z+32*E+12,4);for(E=-1;8>E;++E)n(Q,ne+32*E-4,Q,ne+32*E+4,4),n(pe,je+32*E-4,pe,je+32*E+4,4)}var ve=y.Gd,be=y.Hd+L,Ae=ae.ad,we=ae.Hc;if(0<U&&(n(K,Z-32,ve[be].y,0,16),n(Q,ne-32,ve[be].f,0,8),n(pe,je-32,ve[be].ea,0,8)),ae.Za){var Pe=K,Oe=Z-32+16;for(0<U&&(L>=y.za-1?a(Pe,Oe,ve[be].y[15],4):n(Pe,Oe,ve[be+1].y,0,4)),E=0;4>E;E++)Pe[Oe+128+E]=Pe[Oe+256+E]=Pe[Oe+384+E]=Pe[Oe+0+E];for(E=0;16>E;++E,we<<=2)Pe=K,Oe=Z+VS[E],Pi[ae.Ob[E]](Pe,Oe),af(we,Ae,16*+E,Pe,Oe)}else if(Pe=nf(L,U,ae.Ob[0]),qo[Pe](K,Z),we!=0)for(E=0;16>E;++E,we<<=2)af(we,Ae,16*+E,K,Z+VS[E]);for(E=ae.Gc,Pe=nf(L,U,ae.Dd),Ws[Pe](Q,ne),Ws[Pe](pe,je),we=Ae,Pe=Q,Oe=ne,255&(ae=0|E)&&(170&ae?Xc(we,256,Pe,Oe):cf(we,256,Pe,Oe)),ae=pe,we=je,255&(E>>=8)&&(170&E?Xc(Ae,320,ae,we):cf(Ae,320,ae,we)),U<y.Ub-1&&(n(ve[be].y,0,K,Z+480,16),n(ve[be].f,0,Q,ne+224,8),n(ve[be].ea,0,pe,je+224,8)),E=8*V*y.B,ve=y.sa,be=y.ta+16*L+16*V*y.R,Ae=y.qa,ae=y.ra+8*L+E,we=y.Ha,Pe=y.Ia+8*L+E,E=0;16>E;++E)n(ve,be+E*y.R,K,Z+32*E,16);for(E=0;8>E;++E)n(Ae,ae+E*y.B,Q,ne+32*E,8),n(we,Pe+E*y.B,pe,je+32*E,8)}}function Gc(y,b,E,L,U,V,K,Z,Q){var ne=[0],pe=[0],je=0,ae=Q!=null?Q.kd:0,ve=Q??new Et;if(y==null||12>E)return 7;ve.data=y,ve.w=b,ve.ha=E,b=[b],E=[E],ve.gb=[ve.gb];e:{var be=b,Ae=E,we=ve.gb;if(e(y!=null),e(Ae!=null),e(we!=null),we[0]=0,12<=Ae[0]&&!r(y,be[0],"RIFF")){if(r(y,be[0]+8,"WEBP")){we=3;break e}var Pe=ge(y,be[0]+4);if(12>Pe||4294967286<Pe){we=3;break e}if(ae&&Pe>Ae[0]-8){we=7;break e}we[0]=Pe,be[0]+=12,Ae[0]-=12}we=0}if(we!=0)return we;for(Pe=0<ve.gb[0],E=E[0];;){e:{var Oe=y;Ae=b,we=E;var Le=ne,Ie=pe,ht=be=[0];if((lt=je=[je])[0]=0,8>we[0])we=7;else{if(!r(Oe,Ae[0],"VP8X")){if(ge(Oe,Ae[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Qe=ge(Oe,Ae[0]+8),Wt=1+Ne(Oe,Ae[0]+12);if(2147483648<=Wt*(Oe=1+Ne(Oe,Ae[0]+15))){we=3;break e}ht!=null&&(ht[0]=Qe),Le!=null&&(Le[0]=Wt),Ie!=null&&(Ie[0]=Oe),Ae[0]+=18,we[0]-=18,lt[0]=1}we=0}}if(je=je[0],be=be[0],we!=0)return we;if(Ae=!!(2&be),!Pe&&je)return 3;if(V!=null&&(V[0]=!!(16&be)),K!=null&&(K[0]=Ae),Z!=null&&(Z[0]=0),K=ne[0],be=pe[0],je&&Ae&&Q==null){we=0;break}if(4>E){we=7;break}if(Pe&&je||!Pe&&!je&&!r(y,b[0],"ALPH")){E=[E],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Qe=y,we=b,Pe=E;var lt=ve.gb;Le=ve.na,Ie=ve.P,ht=ve.Sa,Wt=22,e(Qe!=null),e(Pe!=null),Oe=we[0];var rr=Pe[0];for(e(Le!=null),e(ht!=null),Le[0]=null,Ie[0]=null,ht[0]=0;;){if(we[0]=Oe,Pe[0]=rr,8>rr){we=7;break e}var jn=ge(Qe,Oe+4);if(4294967286<jn){we=3;break e}var Ht=8+jn+1&-2;if(Wt+=Ht,0<lt&&Wt>lt){we=3;break e}if(!r(Qe,Oe,"VP8 ")||!r(Qe,Oe,"VP8L")){we=0;break e}if(rr[0]<Ht){we=7;break e}r(Qe,Oe,"ALPH")||(Le[0]=Qe,Ie[0]=Oe+8,ht[0]=jn),Oe+=Ht,rr-=Ht}}if(E=E[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],we!=0)break}E=[E],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(lt=y,we=b,Pe=E,Le=ve.gb[0],Ie=ve.Ja,ht=ve.xa,Qe=we[0],Oe=!r(lt,Qe,"VP8 "),Wt=!r(lt,Qe,"VP8L"),e(lt!=null),e(Pe!=null),e(Ie!=null),e(ht!=null),8>Pe[0])we=7;else{if(Oe||Wt){if(lt=ge(lt,Qe+4),12<=Le&&lt>Le-12){we=3;break e}if(ae&&lt>Pe[0]-8){we=7;break e}Ie[0]=lt,we[0]+=8,Pe[0]-=8,ht[0]=Wt}else ht[0]=5<=Pe[0]&&lt[Qe+0]==47&&!(lt[Qe+4]>>5),Ie[0]=Pe[0];we=0}if(E=E[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],b=b[0],we!=0)break;if(4294967286<ve.Ja)return 3;if(Z==null||Ae||(Z[0]=ve.xa?2:1),K=[K],be=[be],ve.xa){if(5>E){we=7;break}Z=K,ae=be,Ae=V,y==null||5>E?y=0:5<=E&&y[b+0]==47&&!(y[b+4]>>5)?(Pe=[0],lt=[0],Le=[0],ee(Ie=new W,y,b,E),Vn(Ie,Pe,lt,Le)?(Z!=null&&(Z[0]=Pe[0]),ae!=null&&(ae[0]=lt[0]),Ae!=null&&(Ae[0]=Le[0]),y=1):y=0):y=0}else{if(10>E){we=7;break}Z=be,y==null||10>E||!hp(y,b+3,E-3)?y=0:(ae=y[b+0]|y[b+1]<<8|y[b+2]<<16,Ae=16383&(y[b+7]<<8|y[b+6]),y=16383&(y[b+9]<<8|y[b+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ve.Ja||!Ae||!y?y=0:(K&&(K[0]=Ae),Z&&(Z[0]=y),y=1))}if(!y||(K=K[0],be=be[0],je&&(ne[0]!=K||pe[0]!=be)))return 3;Q!=null&&(Q[0]=ve,Q.offset=b-Q.w,e(4294967286>b-Q.w),e(Q.offset==Q.ha-E));break}return we==0||we==7&&je&&Q==null?(V!=null&&(V[0]|=ve.na!=null&&0<ve.na.length),L!=null&&(L[0]=K),U!=null&&(U[0]=be),0):we}function ma(y,b,E){var L=b.width,U=b.height,V=0,K=0,Z=L,Q=U;if(b.Da=y!=null&&0<y.Da,b.Da&&(Z=y.cd,Q=y.bd,V=y.v,K=y.j,11>E||(V&=-2,K&=-2),0>V||0>K||0>=Z||0>=Q||V+Z>L||K+Q>U))return 0;if(b.v=V,b.j=K,b.va=V+Z,b.o=K+Q,b.U=Z,b.T=Q,b.da=y!=null&&0<y.da,b.da){if(!qe(Z,Q,E=[y.ib],V=[y.hb]))return 0;b.ib=E[0],b.hb=V[0]}return b.ob=y!=null&&y.ob,b.Kb=y==null||!y.Sd,b.da&&(b.ob=b.ib<3*L/4&&b.hb<3*U/4,b.Kb=0),1}function ga(y){if(y==null)return 2;if(11>y.S){var b=y.f.RGBA;b.fb+=(y.height-1)*b.A,b.A=-b.A}else b=y.f.kb,y=y.height,b.O+=(y-1)*b.fa,b.fa=-b.fa,b.N+=(y-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(y-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(y-1)*b.lb,b.lb=-b.lb);return 0}function Ll(y,b,E,L){if(L==null||0>=y||0>=b)return 2;if(E!=null){if(E.Da){var U=E.cd,V=E.bd,K=-2&E.v,Z=-2&E.j;if(0>K||0>Z||0>=U||0>=V||K+U>y||Z+V>b)return 2;y=U,b=V}if(E.da){if(!qe(y,b,U=[E.ib],V=[E.hb]))return 2;y=U[0],b=V[0]}}L.width=y,L.height=b;e:{var Q=L.width,ne=L.height;if(y=L.S,0>=Q||0>=ne||!(y>=wp&&13>y))y=2;else{if(0>=L.Rd&&L.sd==null){K=V=U=b=0;var pe=(Z=Q*KS[y])*ne;if(11>y||(V=(ne+1)/2*(b=(Q+1)/2),y==12&&(K=(U=Q)*ne)),(ne=i(pe+2*V+K))==null){y=1;break e}L.sd=ne,11>y?((Q=L.f.RGBA).eb=ne,Q.fb=0,Q.A=Z,Q.size=pe):((Q=L.f.kb).y=ne,Q.O=0,Q.fa=Z,Q.Fd=pe,Q.f=ne,Q.N=0+pe,Q.Ab=b,Q.Cd=V,Q.ea=ne,Q.W=0+pe+V,Q.Db=b,Q.Ed=V,y==12&&(Q.F=ne,Q.J=0+pe+2*V),Q.Tc=K,Q.lb=U)}if(b=1,U=L.S,V=L.width,K=L.height,U>=wp&&13>U)if(11>U)y=L.f.RGBA,b&=(Z=Math.abs(y.A))*(K-1)+V<=y.size,b&=Z>=V*KS[U],b&=y.eb!=null;else{y=L.f.kb,Z=(V+1)/2,pe=(K+1)/2,Q=Math.abs(y.fa),ne=Math.abs(y.Ab);var je=Math.abs(y.Db),ae=Math.abs(y.lb),ve=ae*(K-1)+V;b&=Q*(K-1)+V<=y.Fd,b&=ne*(pe-1)+Z<=y.Cd,b=(b&=je*(pe-1)+Z<=y.Ed)&Q>=V&ne>=Z&je>=Z,b&=y.y!=null,b&=y.f!=null,b&=y.ea!=null,U==12&&(b&=ae>=V,b&=ve<=y.Tc,b&=y.F!=null)}else b=0;y=b?0:2}}return y!=0||E!=null&&E.fd&&(y=ga(L)),y}var is=64,Fo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sf=24,Bo=32,an=8,iy=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(y){return y},T.Predictor2=function(y,b,E){return b[E+0]},T.Predictor3=function(y,b,E){return b[E+1]},T.Predictor4=function(y,b,E){return b[E-1]},T.Predictor5=function(y,b,E){return Ge(Ge(y,b[E+1]),b[E+0])},T.Predictor6=function(y,b,E){return Ge(y,b[E-1])},T.Predictor7=function(y,b,E){return Ge(y,b[E+0])},T.Predictor8=function(y,b,E){return Ge(b[E-1],b[E+0])},T.Predictor9=function(y,b,E){return Ge(b[E+0],b[E+1])},T.Predictor10=function(y,b,E){return Ge(Ge(y,b[E-1]),Ge(b[E+0],b[E+1]))},T.Predictor11=function(y,b,E){var L=b[E+0];return 0>=Nt(L>>24&255,y>>24&255,(b=b[E-1])>>24&255)+Nt(L>>16&255,y>>16&255,b>>16&255)+Nt(L>>8&255,y>>8&255,b>>8&255)+Nt(255&L,255&y,255&b)?L:y},T.Predictor12=function(y,b,E){var L=b[E+0];return(Vt((y>>24&255)+(L>>24&255)-((b=b[E-1])>>24&255))<<24|Vt((y>>16&255)+(L>>16&255)-(b>>16&255))<<16|Vt((y>>8&255)+(L>>8&255)-(b>>8&255))<<8|Vt((255&y)+(255&L)-(255&b)))>>>0},T.Predictor13=function(y,b,E){var L=b[E-1];return(wt((y=Ge(y,b[E+0]))>>24&255,L>>24&255)<<24|wt(y>>16&255,L>>16&255)<<16|wt(y>>8&255,L>>8&255)<<8|wt(255&y,255&L))>>>0};var ss=T.PredictorAdd0;T.PredictorAdd1=nr,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var os=T.PredictorAdd2;at("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),at("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Vc,of=T.ColorIndexInverseTransform,Kc=T.MapARGB,Yc=T.VP8LColorIndexInverseTransformAlpha,Ml=T.MapAlpha,Dl=T.VP8LPredictorsAdd=[];Dl.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Us,lf,La,ls,Ir,Rr,sn,on,zs,Xc,cs,cf,vS,yS,xS,bS,wS,jS,_S,NS,SS,AS,kS,PS,uf,CS,OS,ES,TS=i(511),IS=i(2041),RS=i(225),LS=i(767),MS=0,sy=IS,bp=RS,Ma=LS,ii=TS,wp=0,jp=1,DS=2,_p=3,Np=4,oy=5,$S=6,ly=7,cy=8,Sp=9,uy=10,dB=[2,3,7],fB=[3,3,11],FS=[280,256,256,256,40],hB=[0,1,1,1,0],pB=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mB=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vB=8,dy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],df=null,yB=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xB=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],BS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wB=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_B=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qo=[],Pi=[],Ws=[],NB=1,qS=2,Uo=[],si=[];ki("UpsampleRgbLinePair",qs,3),ki("UpsampleBgrLinePair",Wc,3),ki("UpsampleRgbaLinePair",xp,4),ki("UpsampleBgraLinePair",Hc,4),ki("UpsampleArgbLinePair",yp,4),ki("UpsampleRgba4444LinePair",na,2),ki("UpsampleRgb565LinePair",rf,2);var SB=T.UpsampleRgbLinePair,AB=T.UpsampleBgrLinePair,US=T.UpsampleRgbaLinePair,zS=T.UpsampleBgraLinePair,WS=T.UpsampleArgbLinePair,HS=T.UpsampleRgba4444LinePair,kB=T.UpsampleRgb565LinePair,Ap=16,kp=1<<Ap-1,ff=-227,hy=482,PB=6,GS=0,CB=i(256),OB=i(256),EB=i(256),TB=i(256),IB=i(hy-ff),RB=i(hy-ff);ai("YuvToRgbRow",qs,3),ai("YuvToBgrRow",Wc,3),ai("YuvToRgbaRow",xp,4),ai("YuvToBgraRow",Hc,4),ai("YuvToArgbRow",yp,4),ai("YuvToRgba4444Row",na,2),ai("YuvToRgb565Row",rf,2);var VS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pp=[0,2,8],LB=[8,7,6,4,4,2,2,2,1,1,1,1],MB=1;this.WebPDecodeRGBA=function(y,b,E,L,U){var V=jp,K=new ft,Z=new Kt;K.ba=Z,Z.S=V,Z.width=[Z.width],Z.height=[Z.height];var Q=Z.width,ne=Z.height,pe=new bt;if(pe==null||y==null)var je=2;else e(pe!=null),je=Gc(y,b,E,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(je!=0?Q=0:(Q!=null&&(Q[0]=pe.width[0]),ne!=null&&(ne[0]=pe.height[0]),Q=1),Q){Z.width=Z.width[0],Z.height=Z.height[0],L!=null&&(L[0]=Z.width),U!=null&&(U[0]=Z.height);e:{if(L=new $c,(U=new Et).data=y,U.w=b,U.ha=E,U.kd=1,b=[0],e(U!=null),((y=Gc(U.data,U.w,U.ha,null,null,null,b,null,U))==0||y==7)&&b[0]&&(y=4),(b=y)==0){if(e(K!=null),L.data=U.data,L.w=U.w+U.offset,L.ha=U.ha-U.offset,L.put=Ke,L.ac=Bn,L.bc=wr,L.ma=K,U.xa){if((y=me())==null){K=1;break e}if((function(ae,ve){var be=[0],Ae=[0],we=[0];t:for(;;){if(ae==null)return 0;if(ve==null)return ae.a=2,0;if(ae.l=ve,ae.a=0,ee(ae.m,ve.data,ve.w,ve.ha),!Vn(ae.m,be,Ae,we)){ae.a=3;break t}if(ae.xb=qS,ve.width=be[0],ve.height=Ae[0],!Ye(be[0],Ae[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(y,L)){if(L=(b=Ll(L.width,L.height,K.Oa,K.ba))==0){t:{L=y;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((E=L.l)!=null),e((U=E.ma)!=null),L.xb!=0){if(L.ca=U.ba,L.tb=U.tb,e(L.ca!=null),!ma(U.Oa,E,_p)){L.a=2;break r}if(!vt(L,E.width)||E.da)break r;if((E.da||ot(L.ca.S))&&Rl(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Rl()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!te(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!Ta(L,L.V,L.Ba,L.c,L.i,E.o,Si))break r;U.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(b=y.a)}else b=y.a}else{if((y=new z0)==null){K=1;break e}if(y.Fa=U.na,y.P=U.P,y.qc=U.Sa,pp(y,L)){if((b=Ll(L.width,L.height,K.Oa,K.ba))==0){if(y.Aa=0,E=K.Oa,e((U=y)!=null),E!=null){if(0<(Q=0>(Q=E.Md)?0:100<Q?255:255*Q/100)){for(ne=pe=0;4>ne;++ne)12>(je=U.pb[ne]).lc&&(je.ia=Q*LB[0>je.lc?0:je.lc]>>3),pe|=je.ia;pe&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=E.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ae,ve){if(ae==null)return 0;if(ve==null)return pn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!pp(ae,ve))return 0;if(e(ae.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(ae.L=0);var be=Pp[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ve.v-be>>4,ae.zb=ve.j-be>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ve.o+15+be>>4,ae.Hb=ve.va+15+be>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Ae=ae.ed;for(be=0;4>be;++be){var we;if(ae.Qa.Cb){var Pe=ae.Qa.Lb[be];ae.Qa.Fb||(Pe+=Ae.Tb)}else Pe=Ae.Tb;for(we=0;1>=we;++we){var Oe=ae.gd[be][we],Le=Pe;if(Ae.Pc&&(Le+=Ae.vd[0],we&&(Le+=Ae.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Ie=Le;0<Ae.wb&&(Ie=4<Ae.wb?Ie>>2:Ie>>1)>9-Ae.wb&&(Ie=9-Ae.wb),1>Ie&&(Ie=1),Oe.dd=Ie,Oe.tc=2*Le+Ie,Oe.ld=40<=Le?2:15<=Le?1:0}else Oe.tc=0;Oe.La=we}}}be=0}else pn(ae,6,"Frame setup failed"),be=ae.a;if(be=be==0){if(be){ae.$c=0,0<ae.Aa||(ae.Ic=MB);t:{be=ae.Ic,Ae=4*(Ie=ae.za);var ht=32*Ie,Qe=Ie+1,Wt=0<ae.L?Ie*(0<ae.Aa?2:1):0,lt=(ae.Aa==2?2:1)*Ie;if((Oe=Ae+832+(we=3*(16*be+Pp[ae.L])/2*ht)+(Pe=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Oe)be=0;else{if(Oe>ae.Vb){if(ae.Vb=0,ae.Ec=i(Oe),ae.Fc=0,ae.Ec==null){be=pn(ae,1,"no memory during frame initialization.");break t}ae.Vb=Oe}Oe=ae.Ec,Le=ae.Fc,ae.Ac=Oe,ae.Bc=Le,Le+=Ae,ae.Gd=o(ht,xn),ae.Hd=0,ae.rb=o(Qe+1,Eo),ae.sb=1,ae.wa=Wt?o(Wt,rn):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ie),e(!0),ae.oc=Oe,ae.pc=Le,Le+=832,ae.ya=o(lt,Io),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ie),ae.R=16*Ie,ae.B=8*Ie,Ie=(ht=Pp[ae.L])*ae.R,ht=ht/2*ae.B,ae.sa=Oe,ae.ta=Le+Ie,ae.qa=ae.sa,ae.ra=ae.ta+16*be*ae.R+ht,ae.Ha=ae.qa,ae.Ia=ae.ra+8*be*ae.B+ht,ae.$c=0,Le+=we,ae.mb=Pe?Oe:null,ae.nb=Pe?Le:null,e(Le+Pe<=ae.Fc+ae.Vb),Al(ae),a(ae.Ac,ae.Bc,0,Ae),be=1}}if(be){if(ve.ka=0,ve.y=ae.sa,ve.O=ae.ta,ve.f=ae.qa,ve.N=ae.ra,ve.ea=ae.Ha,ve.Vd=ae.Ia,ve.fa=ae.R,ve.Rc=ae.B,ve.F=null,ve.J=0,!MS){for(be=-255;255>=be;++be)TS[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)IS[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)RS[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)LS[255+be]=0>be?0:255<be?255:be;MS=1}sn=gp,on=H0,Xc=G0,cs=ns,cf=mp,zs=W0,vS=C,yS=z,xS=xe,bS=Ce,wS=ie,jS=de,_S=Re,NS=st,SS=Jd,AS=Il,kS=Qd,PS=ef,Pi[0]=Q0,Pi[1]=Hd,Pi[2]=Z0,Pi[3]=J0,Pi[4]=ey,Pi[5]=$s,Pi[6]=Ds,Pi[7]=ty,Pi[8]=Fc,Pi[9]=ry,qo[0]=Lo,qo[1]=K0,qo[2]=Y0,qo[3]=Gd,qo[4]=X0,qo[5]=Cl,qo[6]=Vd,Ws[0]=qc,Ws[1]=V0,Ws[2]=Kd,Ws[3]=Ol,Ws[4]=Yd,Ws[5]=ny,Ws[6]=Xd,be=1}else be=0}be&&(be=(function(rr,jn){for(rr.M=0;rr.M<rr.Va;++rr.M){var Ht,ct=rr.Jc[rr.M&rr.Xb],We=rr.m,ln=rr;for(Ht=0;Ht<ln.za;++Ht){var $t=We,ar=ln,Ur=ar.Ac,Un=ar.Bc+4*Ht,aa=ar.zc,Zr=ar.ya[ar.aa+Ht];if(ar.Qa.Bb?Zr.$b=le($t,ar.Pa.jb[0])?2+le($t,ar.Pa.jb[2]):le($t,ar.Pa.jb[1]):Zr.$b=0,ar.kc&&(Zr.Ad=le($t,ar.Bd)),Zr.Za=!le($t,145)+0,Zr.Za){var Kn=Zr.Ob,ia=0;for(ar=0;4>ar;++ar){var _n,or=aa[0+ar];for(_n=0;4>_n;++_n){or=wB[Ur[Un+_n]][or];for(var gr=BS[le($t,or[0])];0<gr;)gr=BS[2*gr+le($t,or[gr])];or=-gr,Ur[Un+_n]=or}n(Kn,ia,Ur,Un,4),ia+=4,aa[0+ar]=or}}else or=le($t,156)?le($t,128)?1:3:le($t,163)?2:0,Zr.Ob[0]=or,a(Ur,Un,or,4),a(aa,0,or,4);Zr.Dd=le($t,142)?le($t,114)?le($t,183)?1:3:2:0}if(ln.m.Ka)return pn(rr,7,"Premature end-of-partition0 encountered.");for(;rr.ja<rr.za;++rr.ja){if(ln=ct,$t=(We=rr).rb[We.sb-1],Ur=We.rb[We.sb+We.ja],Ht=We.ya[We.aa+We.ja],Un=We.kc?Ht.Ad:0)$t.la=Ur.la=0,Ht.Za||($t.Na=Ur.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Jr,vr;if($t=Ur,Ur=ln,Un=We.Pa.Xc,aa=We.ya[We.aa+We.ja],Zr=We.pb[aa.$b],ar=aa.ad,Kn=0,ia=We.rb[We.sb-1],or=_n=0,a(ar,Kn,0,384),aa.Za)var zn=0,Ci=Un[3];else{gr=i(16);var cn=$t.Na+ia.Na;if(cn=df(Ur,Un[1],cn,Zr.Eb,0,gr,0),$t.Na=ia.Na=(0<cn)+0,1<cn)sn(gr,0,ar,Kn);else{var va=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)ar[Kn+gr]=va}zn=1,Ci=Un[0]}var Ar=15&$t.la,Nn=15&ia.la;for(gr=0;4>gr;++gr){var Da=1&Nn;for(va=vr=0;4>va;++va)Ar=Ar>>1|(Da=(cn=df(Ur,Ci,cn=Da+(1&Ar),Zr.Sc,zn,ar,Kn))>zn)<<7,vr=vr<<2|(3<cn?3:1<cn?2:ar[Kn+0]!=0),Kn+=16;Ar>>=4,Nn=Nn>>1|Da<<7,_n=(_n<<8|vr)>>>0}for(Ci=Ar,zn=Nn>>4,Jr=0;4>Jr;Jr+=2){for(vr=0,Ar=$t.la>>4+Jr,Nn=ia.la>>4+Jr,gr=0;2>gr;++gr){for(Da=1&Nn,va=0;2>va;++va)cn=Da+(1&Ar),Ar=Ar>>1|(Da=0<(cn=df(Ur,Un[2],cn,Zr.Qc,0,ar,Kn)))<<3,vr=vr<<2|(3<cn?3:1<cn?2:ar[Kn+0]!=0),Kn+=16;Ar>>=2,Nn=Nn>>1|Da<<5}or|=vr<<4*Jr,Ci|=Ar<<4<<Jr,zn|=(240&Nn)<<Jr}$t.la=Ci,ia.la=zn,aa.Hc=_n,aa.Gc=or,aa.ia=43690&or?0:Zr.ia,Un=!(_n|or)}if(0<We.L&&(We.wa[We.Y+We.ja]=We.gd[Ht.$b][Ht.Za],We.wa[We.Y+We.ja].La|=!Un),ln.Ka)return pn(rr,7,"Premature end-of-file encountered.")}if(Al(rr),We=jn,ln=1,Ht=(ct=rr).D,$t=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(Ht.M=ct.M,Ht.uc=$t,$o(ct,Ht),ln=1,Ht=(vr=ct.D).Nb,$t=(or=Pp[ct.L])*ct.R,Ur=or/2*ct.B,gr=16*Ht*ct.R,va=8*Ht*ct.B,Un=ct.sa,aa=ct.ta-$t+gr,Zr=ct.qa,ar=ct.ra-Ur+va,Kn=ct.Ha,ia=ct.Ia-Ur+va,Nn=(Ar=vr.M)==0,_n=Ar>=ct.Va-1,ct.Aa==2&&$o(ct,vr),vr.uc)for(Da=(cn=ct).D.M,e(cn.D.uc),vr=cn.yb;vr<cn.Hb;++vr){zn=vr,Ci=Da;var sa=($a=(Wn=cn).D).Nb;Jr=Wn.R;var $a=$a.wa[$a.Y+zn],Fa=Wn.sa,ya=Wn.ta+16*sa*Jr+16*zn,Ba=$a.dd,Lr=$a.tc;if(Lr!=0)if(e(3<=Lr),Wn.L==1)0<zn&&AS(Fa,ya,Jr,Lr+4),$a.La&&PS(Fa,ya,Jr,Lr),0<Ci&&SS(Fa,ya,Jr,Lr+4),$a.La&&kS(Fa,ya,Jr,Lr);else{var qa=Wn.B,Oi=Wn.qa,$l=Wn.ra+8*sa*qa+8*zn,Hs=Wn.Ha,Wn=Wn.Ia+8*sa*qa+8*zn;sa=$a.ld,0<zn&&(yS(Fa,ya,Jr,Lr+4,Ba,sa),bS(Oi,$l,Hs,Wn,qa,Lr+4,Ba,sa)),$a.La&&(jS(Fa,ya,Jr,Lr,Ba,sa),NS(Oi,$l,Hs,Wn,qa,Lr,Ba,sa)),0<Ci&&(vS(Fa,ya,Jr,Lr+4,Ba,sa),xS(Oi,$l,Hs,Wn,qa,Lr+4,Ba,sa)),$a.La&&(wS(Fa,ya,Jr,Lr,Ba,sa),_S(Oi,$l,Hs,Wn,qa,Lr,Ba,sa))}}if(ct.ia&&alert("todo:DitherRow"),We.put!=null){if(vr=16*Ar,Ar=16*(Ar+1),Nn?(We.y=ct.sa,We.O=ct.ta+gr,We.f=ct.qa,We.N=ct.ra+va,We.ea=ct.Ha,We.W=ct.Ia+va):(vr-=or,We.y=Un,We.O=aa,We.f=Zr,We.N=ar,We.ea=Kn,We.W=ia),_n||(Ar-=or),Ar>We.o&&(Ar=We.o),We.F=null,We.J=null,ct.Fa!=null&&0<ct.Fa.length&&vr<Ar&&(We.J=qn(ct,We,vr,Ar-vr),We.F=ct.mb,We.F==null&&We.F.length==0)){ln=pn(ct,3,"Could not decode alpha data.");break t}vr<We.j&&(or=We.j-vr,vr=We.j,e(!(1&or)),We.O+=ct.R*or,We.N+=ct.B*(or>>1),We.W+=ct.B*(or>>1),We.F!=null&&(We.J+=We.width*or)),vr<Ar&&(We.O+=We.v,We.N+=We.v>>1,We.W+=We.v>>1,We.F!=null&&(We.J+=We.v),We.ka=vr-We.j,We.U=We.va-We.v,We.T=Ar-vr,ln=We.put(We))}Ht+1!=ct.Ic||_n||(n(ct.sa,ct.ta-$t,Un,aa+16*ct.R,$t),n(ct.qa,ct.ra-Ur,Zr,ar+8*ct.B,Ur),n(ct.Ha,ct.Ia-Ur,Kn,ia+8*ct.B,Ur))}if(!ln)return pn(rr,6,"Output aborted.")}return 1})(ae,ve)),ve.bc!=null&&ve.bc(ve),be&=1}return be?(ae.cb=0,be):0})(y,L)||(b=y.a)}}else b=y.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=ga(K.ba))}K=b}V=K!=0?null:11>V?Z.f.RGBA.eb:Z.f.kb.y}else V=null;return V};var KS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,R){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(T[R++]);return P}function d(T,R){return T[R+0]|T[R+1]<<8}function f(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16)>>>0}function p(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16|T[R+3]<<24)>>>0}new c;var h=[0],g=[0],m=[],v=new c,x=t,_=(function(T,R){var P={},I=0,M=!1,D=0,G=0;if(P.frames=[],!(function(B,W){for(var H=0;H<4;H++)if(B[W+H]!="RIFF".charCodeAt(H))return!0;return!1})(T,R)){for(p(T,R+=4),R+=8;R<T.length;){var $=u(T,R),q=p(T,R+=4);R+=4;var F=q+(1&q);switch($){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(fe=P.frames[I]).src_off=M?G:R-8,fe.src_size=D+q+8,I++,M&&(M=!1,D=0,G=0);break;case"VP8X":(fe=P.header={}).feature_flags=T[R];var ee=R+4;fe.canvas_width=1+f(T,ee),ee+=3,fe.canvas_height=1+f(T,ee),ee+=3;break;case"ALPH":M=!0,D=F+8,G=R-8;break;case"ANIM":(fe=P.header).bgcolor=p(T,R),ee=R+4,fe.loop_count=d(T,ee),ee+=2;break;case"ANMF":var he,fe;(fe=P.frames[I]={}).offset_x=2*f(T,R),R+=3,fe.offset_y=2*f(T,R),R+=3,fe.width=1+f(T,R),R+=3,fe.height=1+f(T,R),R+=3,fe.duration=f(T,R),R+=3,he=T[R++],fe.dispose=1&he,fe.blend=he>>1&1}$!="ANMF"&&(R+=F)}return P}})(x,0);_.response=x,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,j=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],g=[w.canvas_width];for(var S=0;S<j.length&&j[S].blend!=0;S++);}var A=j[0],O=v.WebPDecodeRGBA(x,A.src_off,A.src_size,g,h);A.rgba=O,A.imgwidth=g[0],A.imgheight=h[0];for(var k=0;k<g[0]*h[0]*4;k++)m[k]=O[k];return this.width=g,this.height=h,this.data=m,this}(function(t){var e,r,n,a,i,o,l,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=B;Object.defineProperty(this,"pdf",{get:function(){return W}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(ge){H=!!ge}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ge){re=!!ge}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ge){isNaN(ge)||(ce=ge)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ge){isNaN(ge)||(se=ge)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ge){var te;typeof ge=="number"?te=[ge,ge,ge,ge]:((te=new Array(4))[0]=ge[0],te[1]=ge.length>=2?ge[1]:te[0],te[2]=ge.length>=3?ge[2]:te[0],te[3]=ge.length>=4?ge[3]:te[1]),u.margin=te}});var X=!1;Object.defineProperty(this,"autoPaging",{get:function(){return X},set:function(ge){X=ge}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(ge){J=ge}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(ge){le=ge}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ge){ge instanceof d&&(u=ge)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ge){u.path=ge}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(ge){ue=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var te;te=p(ge),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var te=p(ge);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var oe=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(ge){oe=null,Ne=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var te;if(this.ctx.font=ge,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ve=te[1];te[2];var Be=te[3],qe=te[4];te[5];var _e=te[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(Ue==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Ee=(function(mt){var at,er,Jt=[],it=mt.trim();if(it==="")return dx;if(it in fk)return[fk[it]];for(;it!=="";){switch(er=null,at=(it=pk(it)).charAt(0)){case'"':case"'":er=tZ(it.substring(1),at);break;default:er=rZ(it)}if(er===null||(Jt.push(er[0]),(it=pk(er[1]))!==""&&it.charAt(0)!==","))return dx;it=it.replace(/^,/,"")}return Jt})(_e);if(this.fontFaces){var ze=(function(mt,at){if(oe===null){var er=(function(Jt){var it=[];return Object.keys(Jt).forEach(function(xt){Jt[xt].forEach(function(tr){var gt=null;switch(tr){case"bold":gt={family:xt,weight:"bold"};break;case"italic":gt={family:xt,style:"italic"};break;case"bolditalic":gt={family:xt,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:xt}}gt!==null&&(gt.ref={name:xt,style:tr},it.push(gt))})}),it})(mt.getFontList());oe=(function(Jt){for(var it={},xt=0;xt<Jt.length;++xt){var tr=ux(Jt[xt]),gt=tr.family,Lt=tr.stretch,ot=tr.style,qr=tr.weight;it[gt]=it[gt]||{},it[gt][Lt]=it[gt][Lt]||{},it[gt][Lt][ot]=it[gt][Lt][ot]||{},it[gt][Lt][ot][qr]=tr}return it})(er.concat(at))}return oe})(this.pdf,this.fontFaces),Ge=Ee.map(function(mt){return{family:mt,stretch:"normal",weight:Be,style:Ve}}),Vt=(function(mt,at,er){for(var Jt=(er=er||{}).defaultFontFamily||"times",it=Object.assign({},eZ,er.genericFontFamilies||{}),xt=null,tr=null,gt=0;gt<at.length;++gt)if(it[(xt=ux(at[gt])).family]&&(xt.family=it[xt.family]),mt.hasOwnProperty(xt.family)){tr=mt[xt.family];break}if(!(tr=tr||mt[Jt]))throw new Error("Could not find a font-family for the rule '"+hk(xt)+"' and default family '"+Jt+"'.");if(tr=(function(Lt,ot){if(ot[Lt])return ot[Lt];var qr=i5[Lt],Hr=qr<=i5.normal?-1:1,Kt=dk(ot,gL,qr,Hr);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+Lt);return Kt})(xt.stretch,tr),tr=(function(Lt,ot){if(ot[Lt])return ot[Lt];for(var qr=mL[Lt],Hr=0;Hr<qr.length;++Hr)if(ot[qr[Hr]])return ot[qr[Hr]];throw new Error("Could not find a matching font-style for "+Lt)})(xt.style,tr),!(tr=(function(Lt,ot){if(ot[Lt])return ot[Lt];if(Lt===400&&ot[500])return ot[500];if(Lt===500&&ot[400])return ot[400];var qr=QX[Lt],Hr=dk(ot,vL,qr,Lt<400?-1:1);if(!Hr)throw new Error("Could not find a matching font-weight for value "+Lt);return Hr})(xt.weight,tr)))throw new Error("Failed to resolve a font for the rule '"+hk(xt)+"'.");return tr})(ze,Ge);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var wt="";(Be==="bold"||parseInt(Be,10)>=700||Ve==="bold")&&(wt="bold"),Ve==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Nt="",nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ct=0;Ct<Ee.length;Ct++){if(this.pdf.internal.getFont(Ee[Ct],wt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ee[Ct];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(Ee[Ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Ee[Ct],wt="bold";else if(this.pdf.internal.getFont(Ee[Ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ee[Ct],wt="normal";break}}if(Nt===""){for(var et=0;et<Ee.length;et++)if(nr[Ee[et]]){Nt=nr[Ee[et]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,W){if(isNaN(B)||isNaN(W))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(B,W));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(B,W)},f.prototype.closePath=function(){var B=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&xr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){B=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},f.prototype.lineTo=function(B,W){if(isNaN(B)||isNaN(W))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(B,W));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,W,H,re){if(isNaN(H)||isNaN(re)||isNaN(B)||isNaN(W))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(H,re)),se=this.ctx.transform.applyToPoint(new o(B,W));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},f.prototype.bezierCurveTo=function(B,W,H,re,ce,se){if(isNaN(ce)||isNaN(se)||isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var X=this.ctx.transform.applyToPoint(new o(ce,se)),J=this.ctx.transform.applyToPoint(new o(B,W)),le=this.ctx.transform.applyToPoint(new o(H,re));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:le.x,y2:le.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},f.prototype.arc=function(B,W,H,re,ce,se){if(isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re)||isNaN(ce))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var X=this.ctx.transform.applyToPoint(new o(B,W));B=X.x,W=X.y;var J=this.ctx.transform.applyToPoint(new o(0,H)),le=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(J.x-le.x,2)+Math.pow(J.y-le.y,2))}Math.abs(ce-re)>=2*Math.PI&&(re=0,ce=2*Math.PI),this.path.push({type:"arc",x:B,y:W,radius:H,startAngle:re,endAngle:ce,counterclockwise:se})},f.prototype.arcTo=function(B,W,H,re,ce){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,W,H,re){if(isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,W),this.lineTo(B+H,W),this.lineTo(B+H,W+re),this.lineTo(B,W+re),this.lineTo(B,W),this.lineTo(B+H,W),this.lineTo(B,W)},f.prototype.fillRect=function(B,W,H,re){if(isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,W,H,re),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},f.prototype.strokeRect=function(B,W,H,re){if(isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(B,W,H,re),this.stroke())},f.prototype.clearRect=function(B,W,H,re){if(isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,W,H,re))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(W),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(B){var W,H,re,ce;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))W=0,H=0,re=0,ce=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(se!==null)W=parseInt(se[1]),H=parseInt(se[2]),re=parseInt(se[3]),ce=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)W=parseInt(se[1]),H=parseInt(se[2]),re=parseInt(se[3]),ce=parseFloat(se[4]);else{if(ce=1,typeof B=="string"&&B.charAt(0)!=="#"){var X=new lL(B);B=X.ok?X.toHex():"#000000"}B.length===4?(W=B.substring(1,2),W+=W,H=B.substring(2,3),H+=H,re=B.substring(3,4),re+=re):(W=B.substring(1,3),H=B.substring(3,5),re=B.substring(5,7)),W=parseInt(W,16),H=parseInt(H,16),re=parseInt(re,16)}}return{r:W,g:H,b:re,a:ce,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,W,H,re){if(isNaN(W)||isNaN(H)||typeof B!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var ce=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:B,x:W,y:H,scale:se,angle:ce,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(B,W,H,re){if(isNaN(W)||isNaN(H)||typeof B!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){re=isNaN(re)?void 0:re;var ce=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:B,x:W,y:H,scale:se,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(B){if(typeof B!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,H=this.pdf.internal.scaleFactor,re=W.internal.getFontSize(),ce=W.getStringUnitWidth(B)*re/W.internal.scaleFactor;return new function(se){var X=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this}({width:ce*=Math.round(96*H/72*1e4)/1e4})},f.prototype.scale=function(B,W){if(isNaN(B)||isNaN(W))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(B,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.rotate=function(B){if(isNaN(B))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(B,W){if(isNaN(B)||isNaN(W))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,B,W);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.transform=function(B,W,H,re,ce,se){if(isNaN(B)||isNaN(W)||isNaN(H)||isNaN(re)||isNaN(ce)||isNaN(se))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var X=new c(B,W,H,re,ce,se);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.setTransform=function(B,W,H,re,ce,se){B=isNaN(B)?1:B,W=isNaN(W)?0:W,H=isNaN(H)?0:H,re=isNaN(re)?1:re,ce=isNaN(ce)?0:ce,se=isNaN(se)?0:se,this.ctx.transform=new c(B,W,H,re,ce,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,W,H,re,ce,se,X,J,le){var ue=this.pdf.getImageProperties(B),oe=1,Ne=1,ge=1,te=1;re!==void 0&&J!==void 0&&(ge=J/re,te=le/ce,oe=ue.width/re*J/re,Ne=ue.height/ce*le/ce),se===void 0&&(se=W,X=H,W=0,H=0),re!==void 0&&J===void 0&&(J=re,le=ce),re===void 0&&J===void 0&&(J=ue.width,le=ue.height);for(var Ve,Be=this.ctx.transform.decompose(),qe=F(Be.rotate.shx),_e=new c,Ue=(_e=(_e=(_e=_e.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new l(se-W*ge,X-H*te,re*oe,ce*Ne)),Ee=v.call(this,Ue),ze=[],Ge=0;Ge<Ee.length;Ge+=1)ze.indexOf(Ee[Ge])===-1&&ze.push(Ee[Ge]);if(w(ze),this.autoPaging)for(var Vt=ze[0],wt=ze[ze.length-1],Nt=Vt;Nt<wt+1;Nt++){this.pdf.setPage(Nt);var nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=Nt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Nt===1?0:et+(Nt-2)*mt;if(this.ctx.clip_path.length!==0){var er=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ve,this.posX+this.margin[3],-at+Ct+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=er}var Jt=JSON.parse(JSON.stringify(Ue));Jt=_([Jt],this.posX+this.margin[3],-at+Ct+this.ctx.prevPageLastElemOffset)[0];var it=(Nt>Vt||Nt<wt)&&m.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,mt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,qe),it&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,qe)};var v=function(B,W,H){var re=[];W=W||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":re.push(Math.floor((B.y+ce)/H)+1);break;case"arc":re.push(Math.floor((B.y+ce-B.radius)/H)+1),re.push(Math.floor((B.y+ce+B.radius)/H)+1);break;case"qct":var se=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);re.push(Math.floor((se.y+ce)/H)+1),re.push(Math.floor((se.y+se.h+ce)/H)+1);break;case"bct":var X=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);re.push(Math.floor((X.y+ce)/H)+1),re.push(Math.floor((X.y+X.h+ce)/H)+1);break;case"rect":re.push(Math.floor((B.y+ce)/H)+1),re.push(Math.floor((B.y+B.h+ce)/H)+1)}for(var J=0;J<re.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<re[J];)x.call(this);return re},x=function(){var B=this.fillStyle,W=this.strokeStyle,H=this.font,re=this.lineCap,ce=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=W,this.font=H,this.lineCap=re,this.lineWidth=ce,this.lineJoin=se},_=function(B,W,H){for(var re=0;re<B.length;re++)switch(B[re].type){case"bct":B[re].x2+=W,B[re].y2+=H;case"qct":B[re].x1+=W,B[re].y1+=H;default:B[re].x+=W,B[re].y+=H}return B},w=function(B){return B.sort(function(W,H){return W-H})},j=function(B,W){for(var H,re,ce=this.fillStyle,se=this.strokeStyle,X=this.lineCap,J=this.lineWidth,le=Math.abs(J*this.ctx.transform.scaleX),ue=this.lineJoin,oe=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),ge=[],te=0;te<Ne.length;te++)if(Ne[te].x!==void 0)for(var Ve=v.call(this,Ne[te]),Be=0;Be<Ve.length;Be+=1)ge.indexOf(Ve[Be])===-1&&ge.push(Ve[Be]);for(var qe=0;qe<ge.length;qe++)for(;this.pdf.internal.getNumberOfPages()<ge[qe];)x.call(this);if(w(ge),this.autoPaging)for(var _e=ge[0],Ue=ge[ge.length-1],Ee=_e;Ee<Ue+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=ce,this.strokeStyle=se,this.lineCap=X,this.lineWidth=le,this.lineJoin=ue;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Ee===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Ee===1?0:Vt+(Ee-2)*wt;if(this.ctx.clip_path.length!==0){var nr=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(H,this.posX+this.margin[3],-Nt+Ge+this.ctx.prevPageLastElemOffset),S.call(this,B,!0),this.path=nr}if(re=JSON.parse(JSON.stringify(oe)),this.path=_(re,this.posX+this.margin[3],-Nt+Ge+this.ctx.prevPageLastElemOffset),W===!1||Ee===0){var Ct=(Ee>_e||Ee<Ue)&&m.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,wt,null).clip().discardPath()),S.call(this,B,W),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=le,S.call(this,B,W),this.lineWidth=J;this.path=oe},S=function(B,W){if((B!=="stroke"||W||!g.call(this))&&(B==="stroke"||W||!h.call(this))){for(var H,re,ce=[],se=this.path,X=0;X<se.length;X++){var J=se[X];switch(J.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:J,deltas:[],abs:[]});break;case"lt":var le=ce.length;if(se[X-1]&&!isNaN(se[X-1].x)&&(H=[J.x-se[X-1].x,J.y-se[X-1].y],le>0)){for(;le>=0;le--)if(ce[le-1].close!==!0&&ce[le-1].begin!==!0){ce[le-1].deltas.push(H),ce[le-1].abs.push(J);break}}break;case"bct":H=[J.x1-se[X-1].x,J.y1-se[X-1].y,J.x2-se[X-1].x,J.y2-se[X-1].y,J.x-se[X-1].x,J.y-se[X-1].y],ce[ce.length-1].deltas.push(H);break;case"qct":var ue=se[X-1].x+2/3*(J.x1-se[X-1].x),oe=se[X-1].y+2/3*(J.y1-se[X-1].y),Ne=J.x+2/3*(J.x1-J.x),ge=J.y+2/3*(J.y1-J.y),te=J.x,Ve=J.y;H=[ue-se[X-1].x,oe-se[X-1].y,Ne-se[X-1].x,ge-se[X-1].y,te-se[X-1].x,Ve-se[X-1].y],ce[ce.length-1].deltas.push(H);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(J)}}re=W?null:B==="stroke"?"stroke":"fill";for(var Be=!1,qe=0;qe<ce.length;qe++)if(ce[qe].arc)for(var _e=ce[qe].abs,Ue=0;Ue<_e.length;Ue++){var Ee=_e[Ue];Ee.type==="arc"?k.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,W,!Be):M.call(this,Ee.x,Ee.y),Be=!0}else if(ce[qe].close===!0)this.pdf.internal.out("h"),Be=!1;else if(ce[qe].begin!==!0){var ze=ce[qe].start.x,Ge=ce[qe].start.y;D.call(this,ce[qe].deltas,ze,Ge),Be=!0}re&&T.call(this,re),W&&R.call(this)}},A=function(B){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-H;case"top":return B+W-H;case"hanging":return B+W-2*H;case"middle":return B+W/2-H;default:return B}},O=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(W,H){this.colorStops.push([W,H])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(B,W,H,re,ce,se,X,J,le){for(var ue=$.call(this,H,re,ce,se),oe=0;oe<ue.length;oe++){var Ne=ue[oe];oe===0&&(le?P.call(this,Ne.x1+B,Ne.y1+W):M.call(this,Ne.x1+B,Ne.y1+W)),G.call(this,B,W,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}J?R.call(this):T.call(this,X)},T=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,W){this.pdf.internal.out(r(B)+" "+n(W)+" m")},I=function(B){var W;switch(B.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var H=this.pdf.getTextDimensions(B.text),re=A.call(this,B.y),ce=O.call(this,re)-H.h,se=this.ctx.transform.applyToPoint(new o(B.x,re)),X=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(X.translate)).multiply(X.skew)).multiply(X.scale);for(var le,ue,oe,Ne=this.ctx.transform.applyToRectangle(new l(B.x,re,H.w,H.h)),ge=J.applyToRectangle(new l(B.x,ce,H.w,H.h)),te=v.call(this,ge),Ve=[],Be=0;Be<te.length;Be+=1)Ve.indexOf(te[Be])===-1&&Ve.push(te[Be]);if(w(Ve),this.autoPaging)for(var qe=Ve[0],_e=Ve[Ve.length-1],Ue=qe;Ue<_e+1;Ue++){this.pdf.setPage(Ue);var Ee=Ue===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Vt=Ge-this.margin[0],wt=this.pdf.internal.pageSize.width-this.margin[1],Nt=wt-this.margin[3],nr=Ue===1?0:ze+(Ue-2)*Vt;if(this.ctx.clip_path.length!==0){var Ct=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(le,this.posX+this.margin[3],-1*nr+Ee),S.call(this,"fill",!0),this.path=Ct}var et=_([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-nr+Ee+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*B.scale),oe=this.lineWidth,this.lineWidth=oe*B.scale);var mt=this.autoPaging!=="text";if(mt||et.y+et.h<=Ge){if(mt||et.y>=Ee&&et.x<=wt){var at=mt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||wt-et.x)[0],er=_([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-nr+Ee+this.ctx.prevPageLastElemOffset)[0],Jt=mt&&(Ue>qe||Ue<_e)&&m.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Vt,null).clip().discardPath()),this.pdf.text(at,er.x,er.y,{angle:B.angle,align:W,renderingMode:B.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else et.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-et.y);B.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=oe)}else B.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*B.scale),oe=this.lineWidth,this.lineWidth=oe*B.scale),this.pdf.text(B.text,se.x+this.posX,se.y+this.posY,{angle:B.angle,align:W,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=oe)},M=function(B,W,H,re){H=H||0,re=re||0,this.pdf.internal.out(r(B+H)+" "+n(W+re)+" l")},D=function(B,W,H){return this.pdf.lines(B,W,H,null,null)},G=function(B,W,H,re,ce,se,X,J){this.pdf.internal.out([e(a(H+B)),e(i(re+W)),e(a(ce+B)),e(i(se+W)),e(a(X+B)),e(i(J+W)),"c"].join(" "))},$=function(B,W,H,re){for(var ce=2*Math.PI,se=Math.PI/2;W>H;)W-=ce;var X=Math.abs(H-W);X<ce&&re&&(X=ce-X);for(var J=[],le=re?-1:1,ue=W;X>1e-5;){var oe=ue+le*Math.min(X,se);J.push(q.call(this,B,ue,oe)),X-=Math.abs(oe-ue),ue=oe}return J},q=function(B,W,H){var re=(H-W)/2,ce=B*Math.cos(re),se=B*Math.sin(re),X=ce,J=-se,le=X*X+J*J,ue=le+X*ce+J*se,oe=4/3*(Math.sqrt(2*le*ue)-ue)/(X*se-J*ce),Ne=X-oe*J,ge=J+oe*X,te=Ne,Ve=-ge,Be=re+W,qe=Math.cos(Be),_e=Math.sin(Be);return{x1:B*Math.cos(W),y1:B*Math.sin(W),x2:Ne*qe-ge*_e,y2:Ne*_e+ge*qe,x3:te*qe-Ve*_e,y3:te*_e+Ve*qe,x4:B*Math.cos(H),y4:B*Math.sin(H)}},F=function(B){return 180*B/Math.PI},ee=function(B,W,H,re,ce,se){var X=B+.5*(H-B),J=W+.5*(re-W),le=ce+.5*(H-ce),ue=se+.5*(re-se),oe=Math.min(B,ce,X,le),Ne=Math.max(B,ce,X,le),ge=Math.min(W,se,J,ue),te=Math.max(W,se,J,ue);return new l(oe,ge,Ne-oe,te-ge)},he=function(B,W,H,re,ce,se,X,J){var le,ue,oe,Ne,ge,te,Ve,Be,qe,_e,Ue,Ee,ze,Ge,Vt=H-B,wt=re-W,Nt=ce-H,nr=se-re,Ct=X-ce,et=J-se;for(ue=0;ue<41;ue++)qe=(Ve=(oe=B+(le=ue/40)*Vt)+le*((ge=H+le*Nt)-oe))+le*(ge+le*(ce+le*Ct-ge)-Ve),_e=(Be=(Ne=W+le*wt)+le*((te=re+le*nr)-Ne))+le*(te+le*(se+le*et-te)-Be),ue==0?(Ue=qe,Ee=_e,ze=qe,Ge=_e):(Ue=Math.min(Ue,qe),Ee=Math.min(Ee,_e),ze=Math.max(ze,qe),Ge=Math.max(Ge,_e));return new l(Math.round(Ue),Math.round(Ee),Math.round(ze-Ue),Math.round(Ge-Ee))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,W,H=(B=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:W}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(pt.API),(function(t){var e=function(o){var l,c,u,d,f,p,h,g,m,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(p+33,h+33,g+33,m+33,v+33)):c.push(122);return(function(x,_){for(var w=_;w>0;w--)x.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,f,p=String,h="length",g=255,m="charCodeAt",v="slice",x="replace";for(o[v](-2),o=o[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(_,w){for(var j=w;j>0;j--)_.pop()})(u,l[h]),p.fromCharCode.apply(p,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=J2(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(pt.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var m=g.length,v=[],x=String.fromCharCode;for(p=0;p<m;p+=1)v.push(x(255&g.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(pt.API),(function(t){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):hi(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):hi(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=xr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],m=g.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=u.call(f,l,c);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,pt.getPageSize=function(l,c,u){if(xr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,m=0,v=0;if(h.hasOwnProperty(p))m=h[p][1]/f,v=h[p][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>m&&(g=v,v=m,m=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(ux):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(pt.API),pt.API.addJS=function(t){return gk=t,this.internal.events.subscribe("postPutResources",function(){im=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(im+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){im!==void 0&&mk!==void 0&&this.internal.out("/Names <</JavaScript "+im+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(pt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(pt.API),pt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=FX(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(O){for(var k=O.width,T=O.height,R=O.data,P=O.palette,I=O.depth,M=!1,D=[],G=[],$=void 0,q=!1,F=0,ee=0;ee<P.length;ee++){var he=b4(P[ee],4),fe=he[0],B=he[1],W=he[2],H=he[3];D.push(fe,B,W),H!=null&&(H===0?(F++,G.length<1&&G.push(ee)):H<255&&(q=!0))}if(q||F>1){M=!0,G=void 0;var re=k*T;$=new Uint8Array(re);for(var ce=new DataView(R.buffer),se=0;se<re;se++){var X=fx(ce,se,I),J=b4(P[X],4)[3];$[se]=J}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:R,alphaBytes:$,needSMask:M,palette:D,mask:G}})(i):c===2||c===4?(function(O){for(var k=O.data,T=O.width,R=O.height,P=O.channels,I=O.depth,M=P===2?"DeviceGray":"DeviceRGB",D=P-1,G=T*R,$=D,q=G*$,F=1*G,ee=Math.ceil(q*I/8),he=Math.ceil(F*I/8),fe=new Uint8Array(ee),B=new Uint8Array(he),W=new DataView(k.buffer),H=new DataView(fe.buffer),re=new DataView(B.buffer),ce=!1,se=0;se<G;se++){for(var X=se*P,J=0;J<$;J++)Sk(H,fx(W,X+J,I),se*$+J,I);var le=fx(W,X+$,I);le<(1<<I)-1&&(ce=!0),Sk(re,le,1*se,I)}return{colorSpace:M,colorsPerPixel:D,colorBytes:fe,alphaBytes:B,needSMask:ce}})(i):(function(O){var k=O.data,T=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:k instanceof Uint8Array?k:new Uint8Array(k.buffer),needSMask:!1}})(i);var f,p,h,g=a,m=g.colorSpace,v=g.colorsPerPixel,x=g.colorBytes,_=g.alphaBytes,w=g.needSMask,j=g.palette,S=g.mask,A=null;return n!==pt.API.image_compression.NONE&&typeof J2=="function"?(A=(function(O){var k;switch(O){case pt.API.image_compression.FAST:k=11;break;case pt.API.image_compression.MEDIUM:k=13;break;case pt.API.image_compression.SLOW:k=14;break;default:k=12}return k})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(A," "),t=bk(x,o*v,v,n),w&&(h=bk(_,o,1,n))):(f=void 0,p="",t=x,w&&(h=_)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:S,palette:j,sMask:h,predictor:A,width:o,height:l,bitsPerComponent:d,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new sZ(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new hx(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(pt.API),Ei.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ei.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){kr.log("bit decode error:"+r)}},Ei.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ei.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ei.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ei.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},Ei.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Ei.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ei.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ei.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new Ei(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new hx(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(pt.API),kk.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new kk(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new hx(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(pt.API),pt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=p,o[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mu=pt.API,sm=mu.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,m=l[0]||c,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=f&&xr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((l[n]||m)/c+p)),g=n;return v},vk=mu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return mu.processArabic&&(t=mu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:sm.apply(this,arguments).reduce(function(i,o){return i+o},0)},yk=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},xk=function(t,e,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,m=t.split(" "),v=sm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),_=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?_=_.concat(j.map(function(S,A){return(A&&S.length?`
`:"")+S})):_.push(j[0])}),m=_,c=vk.apply(this,[x,r])}for(i=0,o=m.length;i<o;i++){var w=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(g=(a=sm.apply(this,[n,r])).reduce(function(j,S){return j+S},0))>e||w){if(g>e){for(l=yk.apply(this,[n,a,e-(p+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,S){return j+S},0)}else d=[n];f.push(d),p=g+c,h=v}else d.push(n),p+=h+g,h=v}return u=c?function(j,S){return(S?x:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},mu.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(xk.apply(this,[n[l],o,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var h,g,m,v,x=["{"];for(var _ in p){if(h=p[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=o(_).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),v="-"):(m=o(h).slice(2),v=""),m=v+m.slice(0,-1)+a[m.slice(-1)];else{if(xr(h)!=="object")throw new Error("Don't know what to do with value type "+xr(h)+".");m=l(h)}x.push(g+m)}return x.push("}"),x.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,x={},_=1,w=x,j=[],S="",A="",O=p.length-1,k=1;k<O;k+=1)(v=p[k])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(j.push([w,m]),w={},m=void 0):v=="}"?((g=j.pop())[0][g[1]]=w,m=void 0,w=g[0]):v=="-"?_=-1:m===void 0?n.hasOwnProperty(v)?(S+=n[v],m=parseInt(S,16)*_,_=1,S=""):S+=v:n.hasOwnProperty(v)?(A+=n[v],w[m]=parseInt(A,16)*_,_=1,m=void 0,A=""):A+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(pt.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(km(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(pt),pt.API.addSvgAsImage=function(t,e,r,n,a,i,o,l){if(isNaN(e)||isNaN(r))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Tt.canvg?Promise.resolve(Tt.canvg):hi(()=>import("./index.es-lGHqy2pz.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,o,l)})},pt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},pt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function p(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(xr(t)==="object"){for(a in t)if(i=t[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(pt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Pu(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Pu(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Pu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Pu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Pu(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",x=0,_="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(_=l,m=h,Array.isArray(l)&&(_=l[0]),x=0;x<_.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(o=g[m].metadata.cmap.unicode.codeMap[_[x].charCodeAt(0)]),o||_[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=_[x]:v+="";var j="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?j=p(v,m).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(v,g[m])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(pt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(pt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var j=function(P){var I=P.charCodeAt(),M=I>>8,D=m[M];return D!==void 0?f[256*D+(255&I)]:M===252||M===253?"AL":x.test(M)?"L":M===8?"R":"N"},S=function(P){for(var I,M=0;M<P.length;M++){if((I=j(P.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},A=function(P,I,M,D){var G,$,q,F,ee=I[D];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ee="AN");break;case"AL":_=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":D<1||D+1>=I.length||(G=M[D-1])!=="EN"&&G!=="AN"||($=I[D+1])!=="EN"&&$!=="AN"?ee="N":_&&($="AN"),ee=$===G?$:"N";break;case"ES":ee=(G=D>0?M[D-1]:"B")==="EN"&&D+1<I.length&&I[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&M[D-1]==="EN"){ee="EN";break}if(_){ee="N";break}for(q=D+1,F=I.length;q<F&&I[q]==="ET";)q++;ee=q<F&&I[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(F=I.length,q=D+1;q<F&&I[q]==="NSM";)q++;if(q<F){var he=P[D],fe=he>=1425&&he<=2303||he===64286;if(G=I[q],fe&&(G==="R"||G==="AL")){ee="R";break}}}ee=D<1||(G=I[D-1])==="B"?"N":M[D-1];break;case"B":_=!1,a=!0,ee=w;break;case"S":i=!0,ee="N"}return ee},O=function(P,I,M){var D=P.split("");return M&&k(D,M,{hiLevel:w}),D.reverse(),I&&I.reverse(),D.join("")},k=function(P,I,M){var D,G,$,q,F,ee=-1,he=P.length,fe=0,B=[],W=w?h:p,H=[];for(_=!1,a=!1,i=!1,G=0;G<he;G++)H[G]=j(P[G]);for($=0;$<he;$++){if(F=fe,B[$]=A(P,H,B,$),D=240&(fe=W[F][g[B[$]]]),fe&=15,I[$]=q=W[fe][5],D>0)if(D===16){for(G=ee;G<$;G++)I[G]=1;ee=-1}else ee=-1;if(W[fe][6])ee===-1&&(ee=$);else if(ee>-1){for(G=ee;G<$;G++)I[G]=q;ee=-1}H[$]==="B"&&(I[$]=0),M.hiLevel|=q}i&&(function(re,ce,se){for(var X=0;X<se;X++)if(re[X]==="S"){ce[X]=w;for(var J=X-1;J>=0&&re[J]==="WS";J--)ce[J]=w}})(H,I,he)},T=function(P,I,M,D,G){if(!(G.hiLevel<P)){if(P===1&&w===1&&!a)return I.reverse(),void(M&&M.reverse());for(var $,q,F,ee,he=I.length,fe=0;fe<he;){if(D[fe]>=P){for(F=fe+1;F<he&&D[F]>=P;)F++;for(ee=fe,q=F-1;ee<q;ee++,q--)$=I[ee],I[ee]=I[q],I[q]=$,M&&($=M[ee],M[ee]=M[q],M[q]=$);fe=F}fe++}}},R=function(P,I,M){var D=P.split(""),G={hiLevel:w};return M||(M=[]),k(D,M,G),(function($,q,F){if(F.hiLevel!==0&&d)for(var ee,he=0;he<$.length;he++)q[he]===1&&(ee=v.indexOf($[he]))>=0&&($[he]=v[ee+1])})(D,M,G),T(2,D,I,M,G),T(1,D,I,M,G),D.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,M){if((function(G,$){if($)for(var q=0;q<G.length;q++)$[q]=q;l===void 0&&(l=S(G)),u===void 0&&(u=S(G))})(P,I),o||!c||u)if(o&&c&&l^u)w=l?1:0,P=O(P,I,M);else if(!o&&c&&u)w=l?1:0,P=R(P,I,M),P=O(P,I);else if(!o||l||c||u){if(o&&!c&&l^u)P=O(P,I),l?(w=0,P=R(P,I,M)):(w=1,P=R(P,I,M),P=O(P,I));else if(o&&l&&!c&&u)w=1,P=R(P,I,M),P=O(P,I);else if(!o&&!c&&l^u){var D=d;l?(w=1,P=R(P,I,M),w=0,d=!1,P=R(P,I,M),d=D):(w=0,P=R(P,I,M),P=O(P,I),w=1,d=!1,P=R(P,I,M),d=D,P=O(P,I))}}else w=0,P=R(P,I,M);else w=l?1:0,P=R(P,I,M);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(pt),pt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new fl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new oZ(this.contents),this.head=new cZ(this),this.name=new pZ(this),this.cmap=new xL(this),this.toUnicode={},this.hhea=new uZ(this),this.maxp=new mZ(this),this.hmtx=new gZ(this),this.post=new fZ(this),this.os2=new dZ(this),this.loca=new bZ(this),this.glyf=new vZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Zi,fl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),oZ=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,p,h,g,m;for(m in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new fl).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,l=null,g=[],r)for(p=r[m],a.writeString(m),a.writeInt(t(p)),a.writeInt(u),a.writeInt(p.length),g=g.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=bL.call(r);r.length%4;)r.push(0);for(i=new fl(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),lZ={}.hasOwnProperty,Os=function(t,e){for(var r in e)lZ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Zi=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var cZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new fl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),Pk=(function(){function t(e,r){var n,a,i,o,l,c,u,d,f,p,h,g,m,v,x,_,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,i=(function(){var j,S;for(S=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)S.push(e.readUInt16());return S})(),e.pos+=2,m=(function(){var j,S;for(S=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)S.push(e.readUInt16());return S})(),u=(function(){var j,S;for(S=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)S.push(e.readUInt16());return S})(),d=(function(){var j,S;for(S=[],c=j=0;0<=p?j<p:j>p;c=0<=p?++j:--j)S.push(e.readUInt16());return S})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var j,S;for(S=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)S.push(e.readUInt16());return S})(),c=x=0,w=i.length;x<w;c=++x)for(v=i[c],n=_=g=m[c];g<=v?_<=v:_>=v;n=g<=v?++_:--_)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-g)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,a,i,o,l,c,u,d,f,p,h,g,m,v,x,_,w,j,S,A,O,k,T,R,P,I,M,D,G,$,q,F,ee,he,fe,B,W,H,re,ce,se,X,J,le,ue,oe;switch(D=new fl,o=Object.keys(e).sort(function(Ne,ge){return Ne-ge}),r){case"macroman":for(m=0,v=(function(){var Ne=[];for(g=0;g<256;++g)Ne.push(0);return Ne})(),_={0:0},i={},G=0,ee=o.length;G<ee;G++)_[J=e[a=o[G]]]==null&&(_[J]=++m),i[a]={old:e[a],new:_[e[a]]},v[a]=_[e[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:i,subtable:D.data,maxGlyphID:m+1};case"unicode":for(I=[],f=[],w=0,_={},n={},x=u=null,$=0,he=o.length;$<he;$++)_[S=e[a=o[$]]]==null&&(_[S]=++w),n[a]={old:S,new:_[S]},l=_[S]-a,x!=null&&l===u||(x&&f.push(x),I.push(a),u=l),x=a;for(x&&f.push(x),f.push(65535),I.push(65535),R=2*(T=I.length),k=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,O=2*T-k,c=[],A=[],h=[],g=q=0,fe=I.length;q<fe;g=++q){if(P=I[g],d=f[g],P===65535){c.push(0),A.push(0);break}if(P-(M=n[P].new)>=32768)for(c.push(0),A.push(2*(h.length+T-g)),a=F=P;P<=d?F<=d:F>=d;a=P<=d?++F:--F)h.push(n[a].new);else c.push(M-P),A.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*T+2*h.length),D.writeUInt16(0),D.writeUInt16(R),D.writeUInt16(k),D.writeUInt16(p),D.writeUInt16(O),se=0,B=f.length;se<B;se++)a=f[se],D.writeUInt16(a);for(D.writeUInt16(0),X=0,W=I.length;X<W;X++)a=I[X],D.writeUInt16(a);for(le=0,H=c.length;le<H;le++)l=c[le],D.writeUInt16(l);for(ue=0,re=A.length;ue<re;ue++)j=A[ue],D.writeUInt16(j);for(oe=0,ce=h.length;oe<ce;oe++)m=h[oe],D.writeUInt16(m);return{charMap:n,subtable:D.data,maxGlyphID:w+1}}},t})(),xL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Pk(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=Pk.encode(e,r),(a=new fl).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),uZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),dZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),fZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),hZ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,o,l,c,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,u=e.readString(a.length),o=new hZ(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),mZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),gZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),bL=[].slice,vZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,o,l,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new fl(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new xZ(l,u,f,c,d):new yZ(l,o,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),yZ=(function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),xZ=(function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new fl(bL.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),bZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Os(t,Zi),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),wZ=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,u,d,f,p,h,g,m,v,x;for(a in n=xL.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(g in p=n.maxGlyphID,o)g in h||(h[g]=p++);return d=(function(_){var w,j;for(w in j={},_)j[_[w]]=w;return j})(h),f=Object.keys(d).sort(function(_,w){return _-w}),m=(function(){var _,w,j;for(j=[],_=0,w=f.length;_<w;_++)l=f[_],j.push(d[l]);return j})(),i=this.font.glyf.encode(o,m,h),u=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();pt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();const Ql=t=>typeof t!="number"||isNaN(t)?"R0.00":new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),wL=async t=>{try{const e=new pt,r={background:[40,44,52],primary:[255,255,255],secondary:[156,163,175],accent:[239,68,68],accent2:[59,130,246],cardBg:[55,65,81],border:[75,85,99],success:[34,197,94],warning:[251,191,36]};e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F");let n=25;e.setFillColor(229,62,132),e.rect(0,0,210,35,"F"),e.setFillColor(219,39,119),e.rect(0,25,210,10,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("ROSMAMA",20,20),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Premium Fashion & Lifestyle",20,30),n=50,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.text(" New Rd, Carlswald, Midrand, 1684",20,n),e.text(" +27 73 551 4705",20,n+5),e.text(" info@rosemama.store",20,n+10),n+=25;const a=(u,d,f,p)=>{e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(u,d,f,p,"F"),e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.setLineWidth(.5),e.rect(u,d,f,p)};a(20,n,85,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Invoice Details",25,n+8),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]);let i=n+16;e.text("Invoice Number:",25,i),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`INV-${t.order_id.slice(-8).toUpperCase()}`,25,i+4),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Order ID:",25,i+12),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${t.order_id.slice(-12)}`,25,i+16),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Invoice Date:",25,i+24),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${new Date(t.order_date).toLocaleDateString()}`,25,i+28);const l={pending:r.warning,processing:r.accent2,shipped:r.accent2,delivered:r.success,cancelled:r.accent}[t.status]||r.secondary;if(e.setFillColor(l[0],l[1],l[2]),e.rect(67,i+32,25,8,"F"),e.setTextColor(255,255,255),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(t.status.toUpperCase(),69,i+37),a(110,n,80,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Bill To",115,n+8),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(t.customer_name,115,n+18),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text(t.customer_email,115,n+25),t.shipping_address&&(e.text(t.shipping_address.address,115,n+32),e.text(`${t.shipping_address.city}, ${t.shipping_address.state}`,115,n+37),e.text(`${t.shipping_address.zipCode} ${t.shipping_address.country}`,115,n+42)),n+=60,t.order_items&&t.order_items.length>0){e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Order Items",20,n),n+=15,e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(20,n-5,170,12,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.setFont("helvetica","bold"),e.text("ITEM",25,n),e.text("QTY",125,n,{align:"center"}),e.text("PRICE",150,n,{align:"center"}),e.text("TOTAL",180,n,{align:"right"}),n+=12,e.setFont("helvetica","normal"),t.order_items.forEach((f,p)=>{var g,m;p%2===0&&(e.setFillColor(45,55,72),e.rect(20,n-3,170,14,"F")),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9);const h=(((g=f.products)==null?void 0:g.name)||"Unknown Product").substring(0,30);e.text(h,25,n+3),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(7),e.text(((m=f.products)==null?void 0:m.category)||"N/A",25,n+8),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.text(f.quantity.toString(),125,n+3,{align:"center"}),e.text(Ql(f.price_at_purchase),150,n+3,{align:"center"}),e.text(Ql(f.quantity*f.price_at_purchase),180,n+3,{align:"right"}),n+=14,n>250&&(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20)}),n+=10,a(110,n,80,35),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9);let u=n+10;e.text("Subtotal:",115,u),e.text(Ql(S_(t)),185,u,{align:"right"}),u+=8,e.text("Shipping:",115,u),e.text(Ql(150),185,u,{align:"right"}),u+=8,e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.line(115,u,185,u),u+=8,e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("TOTAL:",115,u),e.setTextColor(r.accent[0],r.accent[1],r.accent[2]),e.text(Ql(t.amount),185,u,{align:"right"}),n+=45,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal");const d=t.payment_method==="cash-on-delivery"?" Cash on Delivery":t.payment_method==="bank-transfer"?" Bank Transfer":t.payment_method==="credit-card"?" Credit Card":"Payment Method Not Specified";e.text(`Payment Method: ${d}`,20,n)}n>250?(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20):n=270,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Thank you for shopping with Rosmama! We appreciate your business.",20,n),e.setFontSize(8),e.text("For any inquiries, please contact us at info@rosemama.store or call +27 73 551 4705",20,n+6);const c=`INV-${t.order_id.slice(-8).toUpperCase()}`;e.save(`${c}.pdf`)}catch(e){throw console.error("Error generating PDF:",e),new Error("Failed to generate PDF invoice. Please try again.")}},S_=t=>t.order_items?t.order_items.reduce((e,r)=>e+r.quantity*r.price_at_purchase,0):t.amount,ol=t=>Ql(t),jZ=t=>({pending:"rgb(251, 191, 36)",processing:"rgb(59, 130, 246)",shipped:"rgb(168, 85, 247)",delivered:"rgb(34, 197, 94)",cancelled:"rgb(239, 68, 68)"})[t.toLowerCase()]||"rgb(107, 114, 128)",_Z=t=>({pending:[251,191,36],processing:[59,130,246],shipped:[168,85,247],delivered:[34,197,94],cancelled:[239,68,68]})[t.toLowerCase()]||[107,114,128],jL=async t=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)throw new Error("Please allow popups for this site to print invoices.");const r=`
      <div style="max-width: 800px; margin: 0 auto; padding: 15px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; min-height: 100vh; display: flex; flex-direction: column;">
        <!-- Main Content Area -->
        <div style="flex: 1;">
          <!-- Compact Header with Gradient -->
          <div style="text-align: center; margin-bottom: 25px;">
            <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); margin-bottom: 15px;">
              <h1 style="font-size: 28px; font-weight: bold; color: white; margin: 0 0 5px 0; letter-spacing: 1px;">ROSMAMA</h1>
              <p style="font-size: 14px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
            </div>
            
            <!-- Contact Information with Icons -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; font-size: 12px;">
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">&bull;</span>
                <span>New Rd, Carlswald, Midrand, 1684</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1);">
                <span style="margin-right: 6px; font-weight: bold;">Tel:</span>
                <span>+27 73 551 4705</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">@</span>
                <span>info@rosemama.store</span>
              </div>
            </div>
          </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 30px; margin-bottom: 40px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Invoice Details</h2>
            <div style="space-y: 12px;">
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 8px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${_Z(t.status)}; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Bill To</h2>
            <div style="space-y: 8px;">
              <p style="margin: 8px 0; font-weight: bold; color: white; font-size: 16px;">${t.customer_name}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.address}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.country}</p>
                <p style="margin: 8px 0; color: rgba(244, 63, 94, 1);"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>

        <!-- Order Items Table -->
        <div style="background: rgb(55, 65, 81); border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
                <th style="padding: 10px 12px; text-align: left; color: white; font-weight: 600; font-size: 12px;">ITEM</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">QTY</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">PRICE</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">TOTAL</th>
              </tr>
            </thead>
            <tbody>
              ${t.order_items&&t.order_items.length>0?t.order_items.map((n,a)=>{var i,o;return`
                  <tr style="background: ${a%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 10px 12px;">
                      <div>
                        <div style="font-weight: 600; color: white; font-size: 13px;">${((i=n.products)==null?void 0:i.name)||"Unknown Product"}</div>
                        <div style="font-size: 11px; color: rgba(255, 255, 255, 0.6); margin-top: 2px;">${((o=n.products)==null?void 0:o.category)||"N/A"}</div>
                      </div>
                    </td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500; font-size: 13px;">${n.quantity}</td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-size: 13px;">${ol(n.price_at_purchase)}</td>
                    <td style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 13px;">${ol(n.quantity*n.price_at_purchase)}</td>
                  </tr>
                `}).join(""):'<tr><td colspan="4" style="padding: 15px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
            </tbody>
          </table>
        </div>

        <!-- Payment and Totals Section -->
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 10px 0; color: rgb(244, 63, 94);">Payment Method</h3>
            <p style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <div style="space-y: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Subtotal:</span>
                <span>${ol(S_(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 12px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 16px; color: white;">
                <span>Total:</span>
                <span style="color: rgb(244, 63, 94);">${ol(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sticky Footer -->
        <div style="margin-top: auto; text-align: center; border-top: 1px solid rgba(244, 63, 94, 0.3); padding-top: 15px; flex-shrink: 0;">
          <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 8px; font-size: 13px; font-weight: 500;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 11px; color: rgba(255, 255, 255, 0.6);">
            For any inquiries, please contact us at info@rosemama.store or call +27 73 551 4705
          </p>
        </div>
      </div>
    `;e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>INV-${t.order_id.slice(-8).toUpperCase()}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            @media print {
              body { 
                margin: 0 !important; 
                background: rgb(40, 44, 52) !important; 
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
                print-color-adjust: exact;
              }
              .no-print { display: none; }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              @page {
                margin: 0 !important;
                size: A4;
              }
            }
            body { 
              font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              background: rgb(40, 44, 52) !important;
              color: rgb(255, 255, 255) !important;
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
              print-color-adjust: exact;
              font-size: 14px;
              line-height: 1.5;
            }
            .invoice-container { 
              max-width: 800px; 
              margin: 0 auto; 
              padding: 15px; 
            }
            /* Ensure all text is properly encoded and rendered */
            * {
              font-feature-settings: "kern" 1, "liga" 1;
              text-rendering: optimizeLegibility;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
            }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            ${r}
          </div>
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 1000);
            }
          <\/script>
        </body>
      </html>
    `),e.document.close()}catch(e){throw console.error("Error printing invoice:",e),e}},_L=async t=>{const e=`
    <div style="max-width: 800px; margin: 0 auto; padding: 30px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3); display: flex; flex-direction: column; min-height: 70vh;">
      <!-- Modern Header with Gradient -->
      <div style="text-align: center; margin-bottom: 40px;">
        <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 30px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); margin-bottom: 25px;">
          <h1 style="font-size: 48px; font-weight: bold; color: white; margin: 0 0 10px 0; letter-spacing: 2px;">ROSMAMA</h1>
          <p style="font-size: 22px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
          <div style="width: 80px; height: 4px; background: white; margin: 15px auto 0; border-radius: 2px;"></div>
        </div>
        
        <!-- Contact Information with Icons -->
        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">&bull;</span>
            <span>New Rd, Carlswald, Midrand, 1684</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">Tel:</span>
            <span>+27 73 551 4705</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">@</span>
            <span>info@rosemama.store</span>
          </div>
        </div>
      </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: left;">Invoice Details</h2>
            <div style="space-y: 8px; text-align: left;">
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 4px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${jZ(t.status)}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: right;">Bill To</h2>
            <div style="space-y: 6px; text-align: right;">
              <p style="margin: 4px 0; font-weight: bold; color: white; font-size: 14px;">${t.customer_name}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.address}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.country}</p>
                <p style="margin: 4px 0; color: rgba(244, 63, 94, 1); font-size: 13px;"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>      <!-- Order Items Table -->
      <div style="background: rgb(55, 65, 81); border-radius: 12px; overflow: hidden; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
              <th style="padding: 16px 20px; text-align: left; color: white; font-weight: 600; font-size: 14px;">ITEM</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">QTY</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">PRICE</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">TOTAL</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map((i,o)=>{var l,c;return`
                <tr style="background: ${o%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                  <td style="padding: 16px 20px;">
                    <div>
                      <div style="font-weight: 600; color: white; font-size: 15px;">${((l=i.products)==null?void 0:l.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px;">${((c=i.products)==null?void 0:c.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500;">${i.quantity}</td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9);">${ol(i.price_at_purchase)}</td>
                  <td style="padding: 16px 20px; text-align: right; color: white; font-weight: 600;">${ol(i.quantity*i.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 20px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Payment and Totals Section -->
      <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <h3 style="font-size: 20px; font-weight: bold; margin: 0 0 15px 0; color: rgb(244, 63, 94);">Payment Method</h3>
          <p style="color: rgba(255, 255, 255, 0.8); font-size: 16px;">
            ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
          </p>
        </div>
        
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <div style="space-y: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Subtotal:</span>
              <span>${ol(S_(t))}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Shipping:</span>
              <span>R150.00</span>
            </div>
            <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 16px 0;">
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 20px; color: white;">
              <span>Total:</span>
              <span style="color: rgb(244, 63, 94);">${ol(t.amount)}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Elegant Footer -->
      <div style="margin-top: auto; text-align: center; border-top: 2px solid rgba(244, 63, 94, 0.3); padding-top: 30px;">
        <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; font-size: 16px; font-weight: 500;">
          Thank you for shopping with Rosemama! We appreciate your business.
        </p>
        <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6);">
          For any inquiries, please contact us at info@rosemama.store or call +27 73 551 4705
        </p>
      </div>
    </div>
  `,r=document.createElement("div");r.id="invoice-modal-overlay",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.zIndex="9999",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.addEventListener("click",i=>{i.target===r&&document.body.removeChild(r)});const n=document.createElement("div");n.style.backgroundColor="rgb(40, 44, 52)",n.style.maxWidth="90vw",n.style.maxHeight="90vh",n.style.overflow="auto",n.style.borderRadius="16px",n.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.3)";const a=()=>{const i=document.getElementById("invoice-modal-overlay");i&&i.parentNode&&i.parentNode.removeChild(i)};n.innerHTML=`
    <div style="padding: 20px; background: rgb(40, 44, 52); display: flex; flex-direction: column; min-height: 80vh;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="font-size: 24px; font-weight: bold; color: white; margin: 0;">Invoice Preview</h2>
        <button id="close-modal-btn" style="background: linear-gradient(135deg, rgb(244, 63, 94), rgb(219, 39, 119)); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;">Close</button>
      </div>
      <div style="flex: 1;">
        ${e}
      </div>
    </div>
  `,r.appendChild(n),document.body.appendChild(r),setTimeout(()=>{const i=document.getElementById("close-modal-btn");i&&i.addEventListener("click",a)},0)};function NZ({variant:t="banner",showDismiss:e=!1,onDismiss:r,className:n=""}){const{user:a,isEmailVerified:i,pendingVerification:o,resendVerification:l}=$n(),[c,u]=N.useState(!1);if(!a||i||c)return null;const d=async()=>{await l()?Se.success("Verification email sent! Check your inbox."):Se.error("Failed to send verification email. Please try again.")},f=()=>{u(!0),r==null||r()},p=s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(th,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Verify your email address"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Check your inbox and click the verification link to access order tracking and earn rewards."})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{variant:"outline",size:"sm",onClick:d,disabled:o,className:"text-xs",children:o?s.jsxs(s.Fragment,{children:[s.jsx(fi,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending..."]}):"Resend Email"}),e&&s.jsx(ye,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto",children:s.jsx(ws,{className:"h-4 w-4"})})]})]});return t==="card"?s.jsx(Me,{className:`border-blue-200 bg-blue-50 ${n}`,children:s.jsx(De,{className:"p-4",children:p})}):t==="inline"?s.jsx("div",{className:`rounded-md bg-blue-50 border border-blue-200 p-3 ${n}`,children:p}):s.jsx("div",{className:`bg-blue-50 border-b border-blue-200 px-4 py-3 ${n}`,children:p})}function SZ({className:t=""}){const{user:e,isEmailVerified:r,resendVerification:n}=$n(),[a,i]=N.useState(!1);return!e||r?null:s.jsxs("div",{className:`relative ${t}`,children:[s.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"text-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[s.jsx(th,{className:"h-3 w-3 mr-1"}),"Verify Email"]}),a&&s.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border p-3 z-50",children:s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-medium mb-1",children:"Email verification needed"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Verify your email to track orders and earn rewards."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{size:"sm",onClick:async()=>{await n(),i(!1),Se.success("Verification email sent!")},className:"text-xs",children:"Resend"}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>i(!1),className:"text-xs",children:"Later"})]})]})})]})}function AZ({onLogout:t,onNavigateToInfo:e}){const{user:r,loading:n,signOut:a}=$n(),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState([]),[f,p]=N.useState(!1),[h,g]=N.useState(null),[m,v]=N.useState(!1);N.useEffect(()=>{m&&r&&x()},[m,r]);const x=async()=>{p(!0);try{const M=await x8();d(M)}catch(M){console.error("Error fetching orders:",M),Se.error("Failed to load order history")}finally{p(!1)}};if(n)return s.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(!r)return s.jsx("div",{className:"text-center py-12",children:"Could not load user profile. Please try logging in again."});const[_,w]=N.useState({name:r.name,email:r.email,phone:r.phone||""}),j=()=>{o(!1),Se.info("Profile update functionality is coming soon!")},S=async()=>{if(l){console.log("Profile: Logout already in progress, ignoring click");return}console.log("Profile: Logout button clicked"),c(!0);try{console.log("Profile: Calling signOut()"),await a(),console.log("Profile: signOut() completed"),Se.success("Signed out successfully"),console.log("Profile: About to reload page immediately");try{window.location.reload(),console.log("Profile: window.location.reload() called successfully")}catch(M){console.error("Profile: Error calling window.location.reload():",M),setTimeout(()=>{console.log("Profile: Fallback reload attempt"),window.location.reload()},100)}}catch(M){console.error("Profile: Logout failed:",M),Se.error("Failed to log out"),c(!1)}},A=async M=>{var G;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"};try{await jL(D),Se.success("Invoice opened for printing")}catch($){console.error("Error printing invoice:",$),Se.error($ instanceof Error?$.message:"Failed to print invoice")}},O=async M=>{var G;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"};try{await wL(D),Se.success("PDF downloaded successfully")}catch($){console.error("Error generating PDF:",$),Se.error("Failed to generate PDF")}},k=async M=>{var G;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((G=M.shipping_address)==null?void 0:G.paymentMethod)||"N/A"};try{await _L(D)}catch($){console.error("Error viewing invoice:",$),Se.error("Failed to view invoice")}},T=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),R=async(M,D)=>{try{await YI(r.email,r.name,M.id,[{id:D.products.id,name:D.products.name,image:D.products.image_url||"/images/placeholder-product.svg"}]),Se.success(`Review invitation sent for ${D.products.name}!`)}catch(G){console.error("Error sending review invitation:",G),Se.error("Failed to send review invitation")}},P=M=>M.status==="delivered",I=[{icon:fo,label:"Order History",action:()=>v(!0)},{icon:go,label:"Wishlist",action:()=>Se.info("Wishlist coming soon!")},{icon:Yj,label:"Addresses",action:()=>Se.info("Address management coming soon!")},{icon:Kj,label:"Payment Methods",action:()=>Se.info("Payment methods coming soon!")},{icon:tc,label:"Notifications",action:()=>Se.info("Notification settings coming soon!")},{icon:so,label:"Privacy & Security",action:()=>{e?e("privacy"):Se.info("Privacy settings coming soon!")}}];return s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-2xl",children:[s.jsx(NZ,{variant:"card",className:"mb-4",showDismiss:!0}),s.jsx(Me,{className:"mb-6",children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Z8,{className:"h-20 w-20",children:s.jsx(J8,{className:"text-xl",children:r.name.split(" ").map(M=>M[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h2",{className:"text-xl font-semibold",children:r.name}),s.jsxs(Pt,{variant:"secondary",className:r.membershipTier==="Gold"?"bg-yellow-100 text-yellow-800":r.membershipTier==="Silver"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800",children:[r.membershipTier," Member"]})]}),s.jsx("p",{className:"text-muted-foreground",children:r.email}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-sm",children:[" ",r.points," points"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Member since ",r.created_at?new Date(r.created_at).getFullYear():"2024"]})]})]}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>o(!i),children:s.jsx(Jj,{className:"h-4 w-4"})})]})})}),i&&s.jsxs(Me,{className:"mb-6",children:[s.jsx(At,{children:s.jsx(kt,{children:"Edit Profile"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"name",children:"Full Name"}),s.jsx(zt,{id:"name",value:_.name,onChange:M=>w(D=>({...D,name:M.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"email",children:"Email"}),s.jsx(zt,{id:"email",type:"email",value:_.email,onChange:M=>w(D=>({...D,email:M.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"phone",children:"Phone"}),s.jsx(zt,{id:"phone",type:"tel",value:_.phone,onChange:M=>w(D=>({...D,phone:M.target.value})),placeholder:"Enter phone number"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{onClick:j,children:"Save Changes"}),s.jsx(ye,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]}),s.jsxs(Me,{className:"mb-6",children:[s.jsx(At,{children:s.jsx(kt,{children:"Account Settings"})}),s.jsx(De,{className:"p-0",children:s.jsx("ul",{className:"divide-y",children:I.map((M,D)=>s.jsx("li",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-muted/50",onClick:M.action,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(M.icon,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{children:M.label})]})},D))})})]}),s.jsx(ye,{variant:"destructive",className:"w-full",onClick:S,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(BI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),s.jsx(yi,{open:m,onOpenChange:v,children:s.jsxs(ri,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xi,{children:s.jsx(bi,{className:"text-2xl",children:"Order History"})}),f?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(lc,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading your orders..."]}):u.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No orders found. Start shopping to see your order history here."}):s.jsx("div",{className:"space-y-4",children:u.map(M=>{var D;return s.jsx(Me,{children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",M.id.slice(-8)]}),s.jsx(Pt,{variant:"outline",className:`${M.status==="delivered"?"border-green-500 text-green-700":M.status==="shipped"?"border-blue-500 text-blue-700":M.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:M.status})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Ordered on ",new Date(M.created_at).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})]}),s.jsxs("p",{className:"text-sm font-medium",children:["Total: ",T(M.total_amount)]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(yi,{children:[s.jsx(x_,{asChild:!0,children:s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>g(M),children:[s.jsx(gi,{className:"h-4 w-4 mr-1"}),"View Details"]})}),s.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xi,{children:s.jsxs(bi,{children:["Order #",M.id.slice(-8)]})}),h&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Me,{children:s.jsxs(De,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Order Date:"}),s.jsx("span",{className:"text-sm",children:new Date(h.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status:"}),s.jsx(Pt,{variant:"outline",className:`${h.status==="delivered"?"border-green-500 text-green-700":h.status==="shipped"?"border-blue-500 text-blue-700":h.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:h.status})]})]})}),s.jsx(Me,{children:s.jsxs(De,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Amount:"}),s.jsx("span",{className:"text-sm font-semibold",children:T(h.total_amount)})]}),((D=h.shipping_address)==null?void 0:D.paymentMethod)&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),s.jsxs("span",{className:"text-sm",children:[h.shipping_address.paymentMethod==="cash-on-delivery"&&" COD",h.shipping_address.paymentMethod==="bank-transfer"&&" Bank Transfer",h.shipping_address.paymentMethod==="credit-card"&&" Card"]})]})]})}),s.jsx(Me,{children:s.jsx(De,{className:"pt-4",children:s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("div",{children:s.jsx("strong",{children:"Shipping Address:"})}),h.shipping_address?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[h.shipping_address.firstName," ",h.shipping_address.lastName]}),s.jsx("div",{children:h.shipping_address.address}),s.jsxs("div",{children:[h.shipping_address.city,", ",h.shipping_address.state]}),s.jsx("div",{children:h.shipping_address.country}),s.jsxs("div",{children:[" ",h.shipping_address.phone]})]}):s.jsx("div",{className:"text-muted-foreground",children:"Address not available"})]})})})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{className:"text-lg",children:"Order Items"})}),s.jsx(De,{children:h.order_items&&h.order_items.length>0?s.jsxs("div",{className:"space-y-3",children:[h.order_items.map((G,$)=>{var q,F;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[((q=G.products)==null?void 0:q.image_url)&&s.jsx("img",{src:G.products.image_url,alt:G.products.name,className:"w-16 h-16 object-cover rounded-lg border"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-lg",children:((F=G.products)==null?void 0:F.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Quantity: ",G.quantity,"  ",T(G.price_at_purchase)]}),P(h)&&s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>R(h,G),className:"bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-green-200 text-green-700 hover:text-green-800",children:[s.jsx(Kr,{className:"h-3 w-3 mr-1"}),"Leave Review"]}),s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(mi,{className:"h-3 w-3 mr-1"}),"Share your experience"]})]}),!P(h)&&h.status!=="delivered"&&s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[s.jsx(Kr,{className:"h-3 w-3 mr-1 text-gray-400"}),"Review available after delivery"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-semibold text-lg",children:T(G.quantity*G.price_at_purchase)})})]},$)}),s.jsx(ba,{}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:T(h.total_amount)})]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"text-lg flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Invoice Actions"]})}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(ye,{variant:"outline",onClick:()=>k(h),className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-4 w-4"}),"View Invoice"]}),s.jsxs(ye,{variant:"outline",onClick:()=>O(h),className:"flex items-center gap-2",children:[s.jsx($I,{className:"h-4 w-4"}),"Download PDF"]}),s.jsxs(ye,{variant:"outline",onClick:()=>A(h),className:"flex items-center gap-2",children:[s.jsx(zI,{className:"h-4 w-4"}),"Print Invoice"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate and download professional invoices for your orders."})]})]})]})]})]}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>k(M),children:[s.jsx(bs,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})})},M.id)})})]})}),s.jsx(gl,{})]})}function A_(t){const e=t+"CollectionProvider",[r,n]=Gn(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:x}=m,_=Y.useRef(null),w=Y.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:_,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=hc(l),u=Y.forwardRef((m,v)=>{const{scope:x,children:_}=m,w=i(l,x),j=Gt(v,w.collectionRef);return s.jsx(c,{ref:j,children:_})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=hc(d),h=Y.forwardRef((m,v)=>{const{scope:x,children:_,...w}=m,j=Y.useRef(null),S=Gt(v,j),A=i(d,x);return Y.useEffect(()=>(A.itemMap.set(j,{ref:j,...w}),()=>void A.itemMap.delete(j))),s.jsx(p,{[f]:"",ref:S,children:_})});h.displayName=d;function g(m){const v=i(t+"CollectionConsumer",m);return Y.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,O)=>w.indexOf(A.ref.current)-w.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,n]}var kZ=N.createContext(void 0);function Ed(t){const e=N.useContext(kZ);return t||e||"ltr"}var px="rovingFocusGroup.onEntryFocus",PZ={bubbles:!1,cancelable:!0},Yh="RovingFocusGroup",[s5,NL,CZ]=A_(Yh),[OZ,Ov]=Gn(Yh,[CZ]),[EZ,TZ]=OZ(Yh),SL=N.forwardRef((t,e)=>s.jsx(s5.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(s5.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(IZ,{...t,ref:e})})}));SL.displayName=Yh;var IZ=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=N.useRef(null),h=Gt(e,p),g=Ed(i),[m,v]=vi({prop:o,defaultProp:l??null,onChange:c,caller:Yh}),[x,_]=N.useState(!1),w=ta(u),j=NL(r),S=N.useRef(!1),[A,O]=N.useState(0);return N.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(px,w),()=>k.removeEventListener(px,w)},[w]),s.jsx(EZ,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:N.useCallback(k=>v(k),[v]),onItemShiftTab:N.useCallback(()=>_(!0),[]),onFocusableItemAdd:N.useCallback(()=>O(k=>k+1),[]),onFocusableItemRemove:N.useCallback(()=>O(k=>k-1),[]),children:s.jsx(dt.div,{tabIndex:x||A===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:yt(t.onMouseDown,()=>{S.current=!0}),onFocus:yt(t.onFocus,k=>{const T=!S.current;if(k.target===k.currentTarget&&T&&!x){const R=new CustomEvent(px,PZ);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=j().filter($=>$.focusable),I=P.find($=>$.active),M=P.find($=>$.id===m),G=[I,M,...P].filter(Boolean).map($=>$.ref.current);PL(G,d)}}S.current=!1}),onBlur:yt(t.onBlur,()=>_(!1))})})}),AL="RovingFocusGroupItem",kL=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=t,c=Ui(),u=i||c,d=TZ(AL,r),f=d.currentTabStopId===u,p=NL(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return N.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),s.jsx(s5.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(dt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:yt(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:yt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:yt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=MZ(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=p().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=d.loop?DZ(w,j+1):w.slice(j+1)}setTimeout(()=>PL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});kL.displayName=AL;var RZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function MZ(t,e,r){const n=LZ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return RZ[n]}function PL(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function DZ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var CL=SL,OL=kL,Ev="Tabs",[$Z,l2e]=Gn(Ev,[Ov]),EL=Ov(),[FZ,k_]=$Z(Ev),TL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Ed(l),[f,p]=vi({prop:n,onChange:a,defaultProp:i??"",caller:Ev});return s.jsx(FZ,{scope:r,baseId:Ui(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:c,children:s.jsx(dt.div,{dir:d,"data-orientation":o,...u,ref:e})})});TL.displayName=Ev;var IL="TabsList",RL=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=k_(IL,r),o=EL(r);return s.jsx(CL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(dt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});RL.displayName=IL;var LL="TabsTrigger",ML=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=k_(LL,r),l=EL(r),c=FL(o.baseId,n),u=BL(o.baseId,n),d=n===o.value;return s.jsx(OL,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(dt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:yt(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:yt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:yt(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});ML.displayName=LL;var DL="TabsContent",$L=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,l=k_(DL,r),c=FL(l.baseId,n),u=BL(l.baseId,n),d=n===l.value,f=N.useRef(d);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(Pa,{present:a||d,children:({present:p})=>s.jsx(dt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});$L.displayName=DL;function FL(t,e){return`${t}-trigger-${e}`}function BL(t,e){return`${t}-content-${e}`}var BZ=TL,qZ=RL,UZ=ML,zZ=$L;function bo({className:t,...e}){return s.jsx(BZ,{"data-slot":"tabs",className:Ze("flex flex-col gap-2",t),...e})}function wo({className:t,...e}){return s.jsx(qZ,{"data-slot":"tabs-list",className:Ze("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px]",t),...e})}function Pr({className:t,...e}){return s.jsx(UZ,{"data-slot":"tabs-trigger",className:Ze("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Cr({className:t,...e}){return s.jsx(zZ,{"data-slot":"tabs-content",className:Ze("flex-1 outline-none",t),...e})}function WZ({products:t}){const[e,r]=N.useState({revenue:0,orders:0,users:0,growth:{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}),[n,a]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[c,u,d,f]=await Promise.all([P8(),C8(),O8(),R8(30)]);r({revenue:c||0,orders:u||0,users:d||0,growth:f||{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}})}catch(c){console.error("Error fetching metrics:",c)}finally{a(!1)}})()},[]);const i=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),o=l=>new Intl.NumberFormat("en-US").format(l);return n?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((l,c)=>s.jsx(Me,{children:s.jsx(De,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx(fi,{className:"h-6 w-6 animate-spin"})})})},c))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsx(Me,{children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Total Revenue"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:i(e.revenue)}),s.jsxs("p",{className:`text-xs ${e.growth.growth_percentage>=0?"text-green-600":"text-red-600"}`,children:[e.growth.growth_percentage>=0?"+":"",e.growth.growth_percentage.toFixed(1),"% from last month"]})]})]})}),s.jsx(Me,{children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bm,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:o(e.orders)}),s.jsx("p",{className:"text-xs text-blue-600",children:"All time orders"})]})]})}),s.jsx(Me,{children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fo,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Total Products"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:o(t.length)}),s.jsx("p",{className:"text-xs text-purple-600",children:"Available in store"})]})]})}),s.jsx(Me,{children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KI,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Total Users"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:o(e.users)}),s.jsx("p",{className:"text-xs text-orange-600",children:"Registered users"})]})]})})]})}var mx,Ck;function Oa(){if(Ck)return mx;Ck=1;var t=Array.isArray;return mx=t,mx}var gx,Ok;function qL(){if(Ok)return gx;Ok=1;var t=typeof Mp=="object"&&Mp&&Mp.Object===Object&&Mp;return gx=t,gx}var vx,Ek;function Es(){if(Ek)return vx;Ek=1;var t=qL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return vx=r,vx}var yx,Tk;function Xh(){if(Tk)return yx;Tk=1;var t=Es(),e=t.Symbol;return yx=e,yx}var xx,Ik;function HZ(){if(Ik)return xx;Ik=1;var t=Xh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return xx=i,xx}var bx,Rk;function GZ(){if(Rk)return bx;Rk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return bx=r,bx}var wx,Lk;function ko(){if(Lk)return wx;Lk=1;var t=Xh(),e=HZ(),r=GZ(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return wx=o,wx}var jx,Mk;function Po(){if(Mk)return jx;Mk=1;function t(e){return e!=null&&typeof e=="object"}return jx=t,jx}var _x,Dk;function Td(){if(Dk)return _x;Dk=1;var t=ko(),e=Po(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return _x=n,_x}var Nx,$k;function P_(){if($k)return Nx;$k=1;var t=Oa(),e=Td(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Nx=a,Nx}var Sx,Fk;function vl(){if(Fk)return Sx;Fk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Sx=t,Sx}var Ax,Bk;function C_(){if(Bk)return Ax;Bk=1;var t=ko(),e=vl(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return Ax=o,Ax}var kx,qk;function VZ(){if(qk)return kx;qk=1;var t=Es(),e=t["__core-js_shared__"];return kx=e,kx}var Px,Uk;function KZ(){if(Uk)return Px;Uk=1;var t=VZ(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Px=r,Px}var Cx,zk;function UL(){if(zk)return Cx;zk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Cx=r,Cx}var Ox,Wk;function YZ(){if(Wk)return Ox;Wk=1;var t=C_(),e=KZ(),r=vl(),n=UL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:i;return h.test(n(p))}return Ox=f,Ox}var Ex,Hk;function XZ(){if(Hk)return Ex;Hk=1;function t(e,r){return e==null?void 0:e[r]}return Ex=t,Ex}var Tx,Gk;function Tc(){if(Gk)return Tx;Gk=1;var t=YZ(),e=XZ();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return Tx=r,Tx}var Ix,Vk;function Tv(){if(Vk)return Ix;Vk=1;var t=Tc(),e=t(Object,"create");return Ix=e,Ix}var Rx,Kk;function ZZ(){if(Kk)return Rx;Kk=1;var t=Tv();function e(){this.__data__=t?t(null):{},this.size=0}return Rx=e,Rx}var Lx,Yk;function JZ(){if(Yk)return Lx;Yk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Lx=t,Lx}var Mx,Xk;function QZ(){if(Xk)return Mx;Xk=1;var t=Tv(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return Mx=a,Mx}var Dx,Zk;function eJ(){if(Zk)return Dx;Zk=1;var t=Tv(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Dx=n,Dx}var $x,Jk;function tJ(){if(Jk)return $x;Jk=1;var t=Tv(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return $x=r,$x}var Fx,Qk;function rJ(){if(Qk)return Fx;Qk=1;var t=ZZ(),e=JZ(),r=QZ(),n=eJ(),a=tJ();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Fx=i,Fx}var Bx,eP;function nJ(){if(eP)return Bx;eP=1;function t(){this.__data__=[],this.size=0}return Bx=t,Bx}var qx,tP;function O_(){if(tP)return qx;tP=1;function t(e,r){return e===r||e!==e&&r!==r}return qx=t,qx}var Ux,rP;function Iv(){if(rP)return Ux;rP=1;var t=O_();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Ux=e,Ux}var zx,nP;function aJ(){if(nP)return zx;nP=1;var t=Iv(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return zx=n,zx}var Wx,aP;function iJ(){if(aP)return Wx;aP=1;var t=Iv();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Wx=e,Wx}var Hx,iP;function sJ(){if(iP)return Hx;iP=1;var t=Iv();function e(r){return t(this.__data__,r)>-1}return Hx=e,Hx}var Gx,sP;function oJ(){if(sP)return Gx;sP=1;var t=Iv();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Gx=e,Gx}var Vx,oP;function Rv(){if(oP)return Vx;oP=1;var t=nJ(),e=aJ(),r=iJ(),n=sJ(),a=oJ();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Vx=i,Vx}var Kx,lP;function E_(){if(lP)return Kx;lP=1;var t=Tc(),e=Es(),r=t(e,"Map");return Kx=r,Kx}var Yx,cP;function lJ(){if(cP)return Yx;cP=1;var t=rJ(),e=Rv(),r=E_();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Yx=n,Yx}var Xx,uP;function cJ(){if(uP)return Xx;uP=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Xx=t,Xx}var Zx,dP;function Lv(){if(dP)return Zx;dP=1;var t=cJ();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Zx=e,Zx}var Jx,fP;function uJ(){if(fP)return Jx;fP=1;var t=Lv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Jx=e,Jx}var Qx,hP;function dJ(){if(hP)return Qx;hP=1;var t=Lv();function e(r){return t(this,r).get(r)}return Qx=e,Qx}var eb,pP;function fJ(){if(pP)return eb;pP=1;var t=Lv();function e(r){return t(this,r).has(r)}return eb=e,eb}var tb,mP;function hJ(){if(mP)return tb;mP=1;var t=Lv();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return tb=e,tb}var rb,gP;function T_(){if(gP)return rb;gP=1;var t=lJ(),e=uJ(),r=dJ(),n=fJ(),a=hJ();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,rb=i,rb}var nb,vP;function zL(){if(vP)return nb;vP=1;var t=T_(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,nb=r,nb}var ab,yP;function pJ(){if(yP)return ab;yP=1;var t=zL(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return ab=r,ab}var ib,xP;function mJ(){if(xP)return ib;xP=1;var t=pJ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return ib=n,ib}var sb,bP;function I_(){if(bP)return sb;bP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return sb=t,sb}var ob,wP;function gJ(){if(wP)return ob;wP=1;var t=Xh(),e=I_(),r=Oa(),n=Td(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return ob=o,ob}var lb,jP;function WL(){if(jP)return lb;jP=1;var t=gJ();function e(r){return r==null?"":t(r)}return lb=e,lb}var cb,_P;function HL(){if(_P)return cb;_P=1;var t=Oa(),e=P_(),r=mJ(),n=WL();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return cb=a,cb}var ub,NP;function Mv(){if(NP)return ub;NP=1;var t=Td();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ub=e,ub}var db,SP;function R_(){if(SP)return db;SP=1;var t=HL(),e=Mv();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return db=r,db}var fb,AP;function GL(){if(AP)return fb;AP=1;var t=R_();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return fb=e,fb}var vJ=GL();const Qa=br(vJ);var hb,kP;function yJ(){if(kP)return hb;kP=1;function t(e){return e==null}return hb=t,hb}var xJ=yJ();const Dt=br(xJ);var pb,PP;function bJ(){if(PP)return pb;PP=1;var t=ko(),e=Oa(),r=Po(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return pb=a,pb}var wJ=bJ();const yc=br(wJ);var jJ=C_();const It=br(jJ);var _J=vl();const Id=br(_J);var mb={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP;function NJ(){if(CP)return hr;CP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var x=v.$$typeof;switch(x){case t:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case p:case f:case i:return v;default:return x}}case e:return x}}}return hr.ContextConsumer=o,hr.ContextProvider=i,hr.Element=t,hr.ForwardRef=c,hr.Fragment=r,hr.Lazy=p,hr.Memo=f,hr.Portal=e,hr.Profiler=a,hr.StrictMode=n,hr.Suspense=u,hr.SuspenseList=d,hr.isAsyncMode=function(){return!1},hr.isConcurrentMode=function(){return!1},hr.isContextConsumer=function(v){return m(v)===o},hr.isContextProvider=function(v){return m(v)===i},hr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},hr.isForwardRef=function(v){return m(v)===c},hr.isFragment=function(v){return m(v)===r},hr.isLazy=function(v){return m(v)===p},hr.isMemo=function(v){return m(v)===f},hr.isPortal=function(v){return m(v)===e},hr.isProfiler=function(v){return m(v)===a},hr.isStrictMode=function(v){return m(v)===n},hr.isSuspense=function(v){return m(v)===u},hr.isSuspenseList=function(v){return m(v)===d},hr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===g||v.getModuleId!==void 0)},hr.typeOf=m,hr}var OP;function SJ(){return OP||(OP=1,mb.exports=NJ()),mb.exports}var AJ=SJ(),gb,EP;function VL(){if(EP)return gb;EP=1;var t=ko(),e=Po(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return gb=n,gb}var vb,TP;function kJ(){if(TP)return vb;TP=1;var t=VL();function e(r){return t(r)&&r!=+r}return vb=e,vb}var PJ=kJ();const Zh=br(PJ);var CJ=VL();const OJ=br(CJ);var ca=function(e){return e===0?0:e>0?1:-1},rc=function(e){return yc(e)&&e.indexOf("%")===e.length-1},Fe=function(e){return OJ(e)&&!Zh(e)},EJ=function(e){return Dt(e)},En=function(e){return Fe(e)||yc(e)},TJ=0,Rd=function(e){var r=++TJ;return"".concat(e||"").concat(r)},ua=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&!yc(e))return n;var i;if(rc(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Zh(i)&&(i=n),a&&i>r&&(i=r),i},al=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},IJ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Va=function(e,r){return Fe(e)&&Fe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Xm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Qa(n,e))===r})}var RJ=function(e,r){return Fe(e)&&Fe(r)?e-r:yc(e)&&yc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function qu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function o5(t){"@babel/helpers - typeof";return o5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o5(t)}var LJ=["viewBox","children"],MJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IP=["points","pathLength"],yb={svg:LJ,polygon:IP,polyline:IP},L_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!Id(n))return null;var a={};return Object.keys(n).forEach(function(i){L_.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},DJ=function(e,r,n){return function(a){return e(r,n,a),null}},xc=function(e,r,n){if(!Id(e)||o5(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];L_.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=DJ(o,r,n))}),a},$J=["children"],FJ=["children"];function RP(t,e){if(t==null)return{};var r=BJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l5(t){"@babel/helpers - typeof";return l5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l5(t)}var LP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ho=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},MP=null,xb=null,M_=function t(e){if(e===MP&&Array.isArray(xb))return xb;var r=[];return N.Children.forEach(e,function(n){Dt(n)||(AJ.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),xb=r,MP=e,r};function ei(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return ho(a)}):n=[ho(e)],M_(t).forEach(function(a){var i=Qa(a,"type.displayName")||Qa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ha(t,e){var r=ei(t,e);return r&&r[0]}var DP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Fe(n)||n<=0||!Fe(a)||a<=0)},qJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],UJ=function(e){return e&&e.type&&yc(e.type)&&qJ.indexOf(e.type)>=0},zJ=function(e){return e&&l5(e)==="object"&&"clipDot"in e},WJ=function(e,r,n,a){var i,o=(i=yb==null?void 0:yb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!It(e)&&(a&&o.includes(r)||MJ.includes(r))||n&&L_.includes(r)},_t=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(N.isValidElement(e)&&(a=e.props),!Id(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;WJ((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},c5=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $P(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!$P(i,o))return!1}return!0},$P=function(e,r){if(Dt(e)&&Dt(r))return!0;if(!Dt(e)&&!Dt(r)){var n=e.props||{},a=n.children,i=RP(n,$J),o=r.props||{},l=o.children,c=RP(o,FJ);return a&&l?qu(i,c)&&c5(a,l):!a&&!l?qu(i,c):!1}return!1},FP=function(e,r){var n=[],a={};return M_(e).forEach(function(i,o){if(UJ(i))n.push(i);else if(i){var l=ho(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},HJ=function(e){var r=e&&e.type;return r&&LP[r]?LP[r]:null},GJ=function(e,r){return M_(r).indexOf(e)},VJ=["children","width","height","viewBox","className","style","title","desc"];function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function KJ(t,e){if(t==null)return{};var r=YJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d5(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=KJ(t,VJ),d=a||{width:r,height:n,x:0,y:0},f=Bt("recharts-surface",i);return Y.createElement("svg",u5({},_t(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),e)}var XJ=["children","className"];function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f5.apply(this,arguments)}function ZJ(t,e){if(t==null)return{};var r=JJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ur=Y.forwardRef(function(t,e){var r=t.children,n=t.className,a=ZJ(t,XJ),i=Bt("recharts-layer",n);return Y.createElement("g",f5({className:i},_t(a,!0),{ref:e}),r)}),zi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},bb,BP;function QJ(){if(BP)return bb;BP=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return bb=t,bb}var wb,qP;function eQ(){if(qP)return wb;qP=1;var t=QJ();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return wb=e,wb}var jb,UP;function KL(){if(UP)return jb;UP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(u){return l.test(u)}return jb=c,jb}var _b,zP;function tQ(){if(zP)return _b;zP=1;function t(e){return e.split("")}return _b=t,_b}var Nb,WP;function rQ(){if(WP)return Nb;WP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",m="["+i+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+g+")*",x=m+g+v,_="(?:"+[d+l+"?",l,f,p,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+_+x,"g");function j(S){return S.match(w)||[]}return Nb=j,Nb}var Sb,HP;function nQ(){if(HP)return Sb;HP=1;var t=tQ(),e=KL(),r=rQ();function n(a){return e(a)?r(a):t(a)}return Sb=n,Sb}var Ab,GP;function aQ(){if(GP)return Ab;GP=1;var t=eQ(),e=KL(),r=nQ(),n=WL();function a(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[i]()+u}}return Ab=a,Ab}var kb,VP;function iQ(){if(VP)return kb;VP=1;var t=aQ(),e=t("toUpperCase");return kb=e,kb}var sQ=iQ();const Dv=br(sQ);function $r(t){return function(){return t}}const YL=Math.cos,Jm=Math.sin,Ji=Math.sqrt,Qm=Math.PI,$v=2*Qm,h5=Math.PI,p5=2*h5,Vl=1e-6,oQ=p5-Vl;function XL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function lQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XL;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class cQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XL:lQ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,d=o-e,f=l-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Vl)if(!(Math.abs(f*c-u*d)>Vl)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,g=a-l,m=c*c+u*u,v=h*h+g*g,x=Math.sqrt(m),_=Math.sqrt(p),w=i*Math.tan((h5-Math.acos((m+p-v)/(2*x*_)))/2),j=w/_,S=w/x;Math.abs(j-1)>Vl&&this._append`L${e+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=e+S*c},${this._y1=r+S*u}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Vl||Math.abs(this._y1-d)>Vl)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%p5+p5),p>oQ?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Vl&&this._append`A${n},${n},0,${+(p>=h5)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function D_(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new cQ(e)}function $_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ZL(t){this._context=t}ZL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Fv(t){return new ZL(t)}function JL(t){return t[0]}function QL(t){return t[1]}function eM(t,e){var r=$r(!0),n=null,a=Fv,i=null,o=D_(l);t=typeof t=="function"?t:t===void 0?JL:$r(t),e=typeof e=="function"?e:e===void 0?QL:$r(e);function l(c){var u,d=(c=$_(c)).length,f,p=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:$r(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function om(t,e,r){var n=null,a=$r(!0),i=null,o=Fv,l=null,c=D_(u);t=typeof t=="function"?t:t===void 0?JL:$r(+t),e=typeof e=="function"?e:$r(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?QL:$r(+r);function u(f){var p,h,g,m=(f=$_(f)).length,v,x=!1,_,w=new Array(m),j=new Array(m);for(i==null&&(l=o(_=c())),p=0;p<=m;++p){if(!(p<m&&a(v=f[p],p,f))===x)if(x=!x)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}x&&(w[p]=+t(v,p,f),j[p]=+e(v,p,f),l.point(n?+n(v,p,f):w[p],r?+r(v,p,f):j[p]))}if(_)return l=null,_+""||null}function d(){return eM().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:$r(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:$r(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:$r(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:$r(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:$r(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:$r(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:$r(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class tM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function uQ(t){return new tM(t,!0)}function dQ(t){return new tM(t,!1)}const F_={draw(t,e){const r=Ji(e/Qm);t.moveTo(r,0),t.arc(0,0,r,0,$v)}},fQ={draw(t,e){const r=Ji(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},rM=Ji(1/3),hQ=rM*2,pQ={draw(t,e){const r=Ji(e/hQ),n=r*rM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},mQ={draw(t,e){const r=Ji(e),n=-r/2;t.rect(n,n,r,r)}},gQ=.8908130915292852,nM=Jm(Qm/10)/Jm(7*Qm/10),vQ=Jm($v/10)*nM,yQ=-YL($v/10)*nM,xQ={draw(t,e){const r=Ji(e*gQ),n=vQ*r,a=yQ*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=$v*i/5,l=YL(o),c=Jm(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},Pb=Ji(3),bQ={draw(t,e){const r=-Ji(e/(Pb*3));t.moveTo(0,r*2),t.lineTo(-Pb*r,-r),t.lineTo(Pb*r,-r),t.closePath()}},oi=-.5,li=Ji(3)/2,m5=1/Ji(12),wQ=(m5/2+1)*3,jQ={draw(t,e){const r=Ji(e/wQ),n=r/2,a=r*m5,i=n,o=r*m5+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(oi*n-li*a,li*n+oi*a),t.lineTo(oi*i-li*o,li*i+oi*o),t.lineTo(oi*l-li*c,li*l+oi*c),t.lineTo(oi*n+li*a,oi*a-li*n),t.lineTo(oi*i+li*o,oi*o-li*i),t.lineTo(oi*l+li*c,oi*c-li*l),t.closePath()}};function _Q(t,e){let r=null,n=D_(a);t=typeof t=="function"?t:$r(t||F_),e=typeof e=="function"?e:$r(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:$r(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:$r(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function eg(){}function tg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function aM(t){this._context=t}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NQ(t){return new aM(t)}function iM(t){this._context=t}iM.prototype={areaStart:eg,areaEnd:eg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SQ(t){return new iM(t)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AQ(t){return new sM(t)}function oM(t){this._context=t}oM.prototype={areaStart:eg,areaEnd:eg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kQ(t){return new oM(t)}function KP(t){return t<0?-1:1}function YP(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(KP(i)+KP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function XP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Cb(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function rg(t){this._context=t}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cb(this,this._t0,XP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cb(this,XP(this,r=YP(this,t,e)),r);break;default:Cb(this,this._t0,r=YP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function lM(t){this._context=new cM(t)}(lM.prototype=Object.create(rg.prototype)).point=function(t,e){rg.prototype.point.call(this,e,t)};function cM(t){this._context=t}cM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function PQ(t){return new rg(t)}function CQ(t){return new lM(t)}function uM(t){this._context=t}uM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ZP(t),a=ZP(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ZP(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function OQ(t){return new uM(t)}function Bv(t,e){this._context=t,this._t=e}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function EQ(t){return new Bv(t,.5)}function TQ(t){return new Bv(t,0)}function IQ(t){return new Bv(t,1)}function Zu(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function g5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function RQ(t,e){return t[e]}function LQ(t){const e=[];return e.key=t,e}function MQ(){var t=$r([]),e=g5,r=Zu,n=RQ;function a(i){var o=Array.from(t.apply(this,arguments),LQ),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=$_(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:$r(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:$r(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?g5:typeof i=="function"?i:$r(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Zu,a):r},a}function DQ(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Zu(t,e)}}function $Q(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Zu(t,e)}}function FQ(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<l;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;h+=v-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Zu(t,e)}}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}var BQ=["type","size","sizeType"];function v5(){return v5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v5.apply(this,arguments)}function JP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(r),!0).forEach(function(n){qQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qQ(t,e,r){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UQ(t){var e=zQ(t,"string");return sh(e)=="symbol"?e:e+""}function zQ(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WQ(t,e){if(t==null)return{};var r=HQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dM={symbolCircle:F_,symbolCross:fQ,symbolDiamond:pQ,symbolSquare:mQ,symbolStar:xQ,symbolTriangle:bQ,symbolWye:jQ},GQ=Math.PI/180,VQ=function(e){var r="symbol".concat(Dv(e));return dM[r]||F_},KQ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*GQ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YQ=function(e,r){dM["symbol".concat(Dv(e))]=r},B_=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=WQ(e,BQ),u=QP(QP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=VQ(n),x=_Q().type(v).size(KQ(i,l,n));return x()},f=u.className,p=u.cx,h=u.cy,g=_t(u,!0);return p===+p&&h===+h&&i===+i?Y.createElement("path",v5({},g,{className:Bt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};B_.registerSymbol=YQ;function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}function eC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(r),!0).forEach(function(n){oh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hM(n.key),n)}}function QQ(t,e,r){return e&&JQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eee(t,e,r){return e=ng(e),tee(t,fM()?Reflect.construct(e,r||[],ng(t).constructor):e.apply(t,r))}function tee(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ree(t)}function ree(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(t)}function nee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x5(t,e)}function x5(t,e){return x5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x5(t,e)}function oh(t,e,r){return e=hM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hM(t){var e=aee(t,"string");return Ju(e)=="symbol"?e:e+""}function aee(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ci=32,q_=(function(t){function e(){return ZQ(this,e),eee(this,e,arguments)}return nee(e,t),QQ(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ci/2,o=ci/6,l=ci/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ci,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ci,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ci/8,"h").concat(ci,"v").concat(ci*3/4,"h").concat(-ci,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var u=XQ({},n);return delete u.legendIcon,Y.cloneElement(n.legendIcon,u)}return Y.createElement(B_,{fill:c,cx:i,cy:i,size:ci,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ci,height:ci},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var m=h.formatter||c,v=Bt(oh(oh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=It(h.value)?null:h.value;zi(!It(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=h.inactive?u:h.color;return Y.createElement("li",y5({className:v,style:f,key:"legend-item-".concat(g)},xc(n.props,h,g)),Y.createElement(d5,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},m?m(x,h,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(N.PureComponent);oh(q_,"displayName","Legend");oh(q_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ob,tC;function iee(){if(tC)return Ob;tC=1;var t=Rv();function e(){this.__data__=new t,this.size=0}return Ob=e,Ob}var Eb,rC;function see(){if(rC)return Eb;rC=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Eb=t,Eb}var Tb,nC;function oee(){if(nC)return Tb;nC=1;function t(e){return this.__data__.get(e)}return Tb=t,Tb}var Ib,aC;function lee(){if(aC)return Ib;aC=1;function t(e){return this.__data__.has(e)}return Ib=t,Ib}var Rb,iC;function cee(){if(iC)return Rb;iC=1;var t=Rv(),e=E_(),r=T_(),n=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return Rb=a,Rb}var Lb,sC;function pM(){if(sC)return Lb;sC=1;var t=Rv(),e=iee(),r=see(),n=oee(),a=lee(),i=cee();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Lb=o,Lb}var Mb,oC;function uee(){if(oC)return Mb;oC=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Mb=e,Mb}var Db,lC;function dee(){if(lC)return Db;lC=1;function t(e){return this.__data__.has(e)}return Db=t,Db}var $b,cC;function mM(){if(cC)return $b;cC=1;var t=T_(),e=uee(),r=dee();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,$b=n,$b}var Fb,uC;function gM(){if(uC)return Fb;uC=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Fb=t,Fb}var Bb,dC;function vM(){if(dC)return Bb;dC=1;function t(e,r){return e.has(r)}return Bb=t,Bb}var qb,fC;function yM(){if(fC)return qb;fC=1;var t=mM(),e=gM(),r=vM(),n=1,a=2;function i(o,l,c,u,d,f){var p=c&n,h=o.length,g=l.length;if(h!=g&&!(p&&g>h))return!1;var m=f.get(o),v=f.get(l);if(m&&v)return m==l&&v==o;var x=-1,_=!0,w=c&a?new t:void 0;for(f.set(o,l),f.set(l,o);++x<h;){var j=o[x],S=l[x];if(u)var A=p?u(S,j,x,l,o,f):u(j,S,x,o,l,f);if(A!==void 0){if(A)continue;_=!1;break}if(w){if(!e(l,function(O,k){if(!r(w,k)&&(j===O||d(j,O,c,u,f)))return w.push(k)})){_=!1;break}}else if(!(j===S||d(j,S,c,u,f))){_=!1;break}}return f.delete(o),f.delete(l),_}return qb=i,qb}var Ub,hC;function fee(){if(hC)return Ub;hC=1;var t=Es(),e=t.Uint8Array;return Ub=e,Ub}var zb,pC;function hee(){if(pC)return zb;pC=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return zb=t,zb}var Wb,mC;function U_(){if(mC)return Wb;mC=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Wb=t,Wb}var Hb,gC;function pee(){if(gC)return Hb;gC=1;var t=Xh(),e=fee(),r=O_(),n=yM(),a=hee(),i=U_(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",x="[object ArrayBuffer]",_="[object DataView]",w=t?t.prototype:void 0,j=w?w.valueOf:void 0;function S(A,O,k,T,R,P,I){switch(k){case _:if(A.byteLength!=O.byteLength||A.byteOffset!=O.byteOffset)return!1;A=A.buffer,O=O.buffer;case x:return!(A.byteLength!=O.byteLength||!P(new e(A),new e(O)));case c:case u:case p:return r(+A,+O);case d:return A.name==O.name&&A.message==O.message;case h:case m:return A==O+"";case f:var M=a;case g:var D=T&o;if(M||(M=i),A.size!=O.size&&!D)return!1;var G=I.get(A);if(G)return G==O;T|=l,I.set(A,O);var $=n(M(A),M(O),T,R,P,I);return I.delete(A),$;case v:if(j)return j.call(A)==j.call(O)}return!1}return Hb=S,Hb}var Gb,vC;function xM(){if(vC)return Gb;vC=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Gb=t,Gb}var Vb,yC;function mee(){if(yC)return Vb;yC=1;var t=xM(),e=Oa();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return Vb=r,Vb}var Kb,xC;function gee(){if(xC)return Kb;xC=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return Kb=t,Kb}var Yb,bC;function vee(){if(bC)return Yb;bC=1;function t(){return[]}return Yb=t,Yb}var Xb,wC;function yee(){if(wC)return Xb;wC=1;var t=gee(),e=vee(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return Xb=i,Xb}var Zb,jC;function xee(){if(jC)return Zb;jC=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Zb=t,Zb}var Jb,_C;function bee(){if(_C)return Jb;_C=1;var t=ko(),e=Po(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Jb=n,Jb}var Qb,NC;function z_(){if(NC)return Qb;NC=1;var t=bee(),e=Po(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return Qb=i,Qb}var Lf={exports:{}},e1,SC;function wee(){if(SC)return e1;SC=1;function t(){return!1}return e1=t,e1}Lf.exports;var AC;function bM(){return AC||(AC=1,(function(t,e){var r=Es(),n=wee(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Lf,Lf.exports)),Lf.exports}var t1,kC;function W_(){if(kC)return t1;kC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return t1=r,t1}var r1,PC;function H_(){if(PC)return r1;PC=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return r1=e,r1}var n1,CC;function jee(){if(CC)return n1;CC=1;var t=ko(),e=H_(),r=Po(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",j="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",R="[object Uint32Array]",P={};P[_]=P[w]=P[j]=P[S]=P[A]=P[O]=P[k]=P[T]=P[R]=!0,P[n]=P[a]=P[v]=P[i]=P[x]=P[o]=P[l]=P[c]=P[u]=P[d]=P[f]=P[p]=P[h]=P[g]=P[m]=!1;function I(M){return r(M)&&e(M.length)&&!!P[t(M)]}return n1=I,n1}var a1,OC;function wM(){if(OC)return a1;OC=1;function t(e){return function(r){return e(r)}}return a1=t,a1}var Mf={exports:{}};Mf.exports;var EC;function _ee(){return EC||(EC=1,(function(t,e){var r=qL(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Mf,Mf.exports)),Mf.exports}var i1,TC;function jM(){if(TC)return i1;TC=1;var t=jee(),e=wM(),r=_ee(),n=r&&r.isTypedArray,a=n?e(n):t;return i1=a,i1}var s1,IC;function Nee(){if(IC)return s1;IC=1;var t=xee(),e=z_(),r=Oa(),n=bM(),a=W_(),i=jM(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),p=!f&&e(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&i(u),m=f||p||h||g,v=m?t(u.length,String):[],x=v.length;for(var _ in u)(d||l.call(u,_))&&!(m&&(_=="length"||h&&(_=="offset"||_=="parent")||g&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||a(_,x)))&&v.push(_);return v}return s1=c,s1}var o1,RC;function See(){if(RC)return o1;RC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return o1=e,o1}var l1,LC;function _M(){if(LC)return l1;LC=1;function t(e,r){return function(n){return e(r(n))}}return l1=t,l1}var c1,MC;function Aee(){if(MC)return c1;MC=1;var t=_M(),e=t(Object.keys,Object);return c1=e,c1}var u1,DC;function kee(){if(DC)return u1;DC=1;var t=See(),e=Aee(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return u1=a,u1}var d1,$C;function Jh(){if($C)return d1;$C=1;var t=C_(),e=H_();function r(n){return n!=null&&e(n.length)&&!t(n)}return d1=r,d1}var f1,FC;function qv(){if(FC)return f1;FC=1;var t=Nee(),e=kee(),r=Jh();function n(a){return r(a)?t(a):e(a)}return f1=n,f1}var h1,BC;function Pee(){if(BC)return h1;BC=1;var t=mee(),e=yee(),r=qv();function n(a){return t(a,r,e)}return h1=n,h1}var p1,qC;function Cee(){if(qC)return p1;qC=1;var t=Pee(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var f=l&e,p=t(i),h=p.length,g=t(o),m=g.length;if(h!=m&&!f)return!1;for(var v=h;v--;){var x=p[v];if(!(f?x in o:n.call(o,x)))return!1}var _=d.get(i),w=d.get(o);if(_&&w)return _==o&&w==i;var j=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<h;){x=p[v];var A=i[x],O=o[x];if(c)var k=f?c(O,A,x,o,i,d):c(A,O,x,i,o,d);if(!(k===void 0?A===O||u(A,O,l,c,d):k)){j=!1;break}S||(S=x=="constructor")}if(j&&!S){var T=i.constructor,R=o.constructor;T!=R&&"constructor"in i&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof R=="function"&&R instanceof R)&&(j=!1)}return d.delete(i),d.delete(o),j}return p1=a,p1}var m1,UC;function Oee(){if(UC)return m1;UC=1;var t=Tc(),e=Es(),r=t(e,"DataView");return m1=r,m1}var g1,zC;function Eee(){if(zC)return g1;zC=1;var t=Tc(),e=Es(),r=t(e,"Promise");return g1=r,g1}var v1,WC;function NM(){if(WC)return v1;WC=1;var t=Tc(),e=Es(),r=t(e,"Set");return v1=r,v1}var y1,HC;function Tee(){if(HC)return y1;HC=1;var t=Tc(),e=Es(),r=t(e,"WeakMap");return y1=r,y1}var x1,GC;function Iee(){if(GC)return x1;GC=1;var t=Oee(),e=E_(),r=Eee(),n=NM(),a=Tee(),i=ko(),o=UL(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=o(t),g=o(e),m=o(r),v=o(n),x=o(a),_=i;return(t&&_(new t(new ArrayBuffer(1)))!=p||e&&_(new e)!=l||r&&_(r.resolve())!=u||n&&_(new n)!=d||a&&_(new a)!=f)&&(_=function(w){var j=i(w),S=j==c?w.constructor:void 0,A=S?o(S):"";if(A)switch(A){case h:return p;case g:return l;case m:return u;case v:return d;case x:return f}return j}),x1=_,x1}var b1,VC;function Ree(){if(VC)return b1;VC=1;var t=pM(),e=yM(),r=pee(),n=Cee(),a=Iee(),i=Oa(),o=bM(),l=jM(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(m,v,x,_,w,j){var S=i(m),A=i(v),O=S?d:a(m),k=A?d:a(v);O=O==u?f:O,k=k==u?f:k;var T=O==f,R=k==f,P=O==k;if(P&&o(m)){if(!o(v))return!1;S=!0,T=!1}if(P&&!T)return j||(j=new t),S||l(m)?e(m,v,x,_,w,j):r(m,v,O,x,_,w,j);if(!(x&c)){var I=T&&h.call(m,"__wrapped__"),M=R&&h.call(v,"__wrapped__");if(I||M){var D=I?m.value():m,G=M?v.value():v;return j||(j=new t),w(D,G,x,_,j)}}return P?(j||(j=new t),n(m,v,x,_,w,j)):!1}return b1=g,b1}var w1,KC;function G_(){if(KC)return w1;KC=1;var t=Ree(),e=Po();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,l)}return w1=r,w1}var j1,YC;function Lee(){if(YC)return j1;YC=1;var t=pM(),e=G_(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var p=l[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<d;){p=l[u];var h=p[0],g=i[h],m=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var v=new t;if(c)var x=c(g,m,h,i,o,v);if(!(x===void 0?e(m,g,r|n,c,v):x))return!1}}return!0}return j1=a,j1}var _1,XC;function SM(){if(XC)return _1;XC=1;var t=vl();function e(r){return r===r&&!t(r)}return _1=e,_1}var N1,ZC;function Mee(){if(ZC)return N1;ZC=1;var t=SM(),e=qv();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,t(l)]}return a}return N1=r,N1}var S1,JC;function AM(){if(JC)return S1;JC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return S1=t,S1}var A1,QC;function Dee(){if(QC)return A1;QC=1;var t=Lee(),e=Mee(),r=AM();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return A1=n,A1}var k1,e3;function $ee(){if(e3)return k1;e3=1;function t(e,r){return e!=null&&r in Object(e)}return k1=t,k1}var P1,t3;function Fee(){if(t3)return P1;t3=1;var t=HL(),e=z_(),r=Oa(),n=W_(),a=H_(),i=Mv();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,p=!1;++d<f;){var h=i(c[d]);if(!(p=l!=null&&u(l,h)))break;l=l[h]}return p||++d!=f?p:(f=l==null?0:l.length,!!f&&a(f)&&n(h,f)&&(r(l)||e(l)))}return P1=o,P1}var C1,r3;function Bee(){if(r3)return C1;r3=1;var t=$ee(),e=Fee();function r(n,a){return n!=null&&e(n,a,t)}return C1=r,C1}var O1,n3;function qee(){if(n3)return O1;n3=1;var t=G_(),e=GL(),r=Bee(),n=P_(),a=SM(),i=AM(),o=Mv(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,l|c)}}return O1=u,O1}var E1,a3;function Ld(){if(a3)return E1;a3=1;function t(e){return e}return E1=t,E1}var T1,i3;function Uee(){if(i3)return T1;i3=1;function t(e){return function(r){return r==null?void 0:r[e]}}return T1=t,T1}var I1,s3;function zee(){if(s3)return I1;s3=1;var t=R_();function e(r){return function(n){return t(n,r)}}return I1=e,I1}var R1,o3;function Wee(){if(o3)return R1;o3=1;var t=Uee(),e=zee(),r=P_(),n=Mv();function a(i){return r(i)?t(n(i)):e(i)}return R1=a,R1}var L1,l3;function Ts(){if(l3)return L1;l3=1;var t=Dee(),e=qee(),r=Ld(),n=Oa(),a=Wee();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return L1=i,L1}var M1,c3;function kM(){if(c3)return M1;c3=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return M1=t,M1}var D1,u3;function Hee(){if(u3)return D1;u3=1;function t(e){return e!==e}return D1=t,D1}var $1,d3;function Gee(){if(d3)return $1;d3=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return $1=t,$1}var F1,f3;function Vee(){if(f3)return F1;f3=1;var t=kM(),e=Hee(),r=Gee();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return F1=n,F1}var B1,h3;function Kee(){if(h3)return B1;h3=1;var t=Vee();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return B1=e,B1}var q1,p3;function Yee(){if(p3)return q1;p3=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return q1=t,q1}var U1,m3;function Xee(){if(m3)return U1;m3=1;function t(){}return U1=t,U1}var z1,g3;function Zee(){if(g3)return z1;g3=1;var t=NM(),e=Xee(),r=U_(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return z1=a,z1}var W1,v3;function Jee(){if(v3)return W1;v3=1;var t=mM(),e=Kee(),r=Yee(),n=vM(),a=Zee(),i=U_(),o=200;function l(c,u,d){var f=-1,p=e,h=c.length,g=!0,m=[],v=m;if(d)g=!1,p=r;else if(h>=o){var x=u?null:a(c);if(x)return i(x);g=!1,p=n,v=new t}else v=u?[]:m;e:for(;++f<h;){var _=c[f],w=u?u(_):_;if(_=d||_!==0?_:0,g&&w===w){for(var j=v.length;j--;)if(v[j]===w)continue e;u&&v.push(w),m.push(_)}else p(v,w,d)||(v!==m&&v.push(w),m.push(_))}return m}return W1=l,W1}var H1,y3;function Qee(){if(y3)return H1;y3=1;var t=Ts(),e=Jee();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return H1=r,H1}var ete=Qee();const x3=br(ete);function PM(t,e,r){return e===!0?x3(t,r):It(e)?x3(t,e):t}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}var tte=["ref"];function b3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(r),!0).forEach(function(n){Uv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OM(n.key),n)}}function nte(t,e,r){return e&&w3(t.prototype,e),r&&w3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ate(t,e,r){return e=ag(e),ite(t,CM()?Reflect.construct(e,r||[],ag(t).constructor):e.apply(t,r))}function ite(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ste(t)}function ste(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(t)}function ote(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b5(t,e)}function b5(t,e){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b5(t,e)}function Uv(t,e,r){return e=OM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OM(t){var e=lte(t,"string");return Qu(e)=="symbol"?e:e+""}function lte(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cte(t,e){if(t==null)return{};var r=ute(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ute(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dte(t){return t.value}function fte(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=cte(e,tte);return Y.createElement(q_,r)}var j3=1,uc=(function(t){function e(){var r;rte(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ate(this,e,[].concat(a)),Uv(r,"lastBoundingBox",{width:-1,height:-1}),r}return ote(e,t),nte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>j3||Math.abs(a.height-this.lastBoundingBox.height)>j3)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xs(Xs({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xs(Xs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},fte(i,Xs(Xs({},this.props),{},{payload:PM(d,u,dte)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Xs(Xs({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Fe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(N.PureComponent);Uv(uc,"displayName","Legend");Uv(uc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G1,_3;function hte(){if(_3)return G1;_3=1;var t=Xh(),e=z_(),r=Oa(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return G1=a,G1}var V1,N3;function EM(){if(N3)return V1;N3=1;var t=xM(),e=hte();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):t(l,d):o||(l[l.length]=d)}return l}return V1=r,V1}var K1,S3;function pte(){if(S3)return K1;S3=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(o[u],u,o)===!1)break}return r}}return K1=t,K1}var Y1,A3;function mte(){if(A3)return Y1;A3=1;var t=pte(),e=t();return Y1=e,Y1}var X1,k3;function TM(){if(k3)return X1;k3=1;var t=mte(),e=qv();function r(n,a){return n&&t(n,a,e)}return X1=r,X1}var Z1,P3;function gte(){if(P3)return Z1;P3=1;var t=Jh();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return Z1=e,Z1}var J1,C3;function V_(){if(C3)return J1;C3=1;var t=TM(),e=gte(),r=e(t);return J1=r,J1}var Q1,O3;function IM(){if(O3)return Q1;O3=1;var t=V_(),e=Jh();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return Q1=r,Q1}var ew,E3;function vte(){if(E3)return ew;E3=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return ew=t,ew}var tw,T3;function yte(){if(T3)return tw;T3=1;var t=Td();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return tw=e,tw}var rw,I3;function xte(){if(I3)return rw;I3=1;var t=yte();function e(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=t(o[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return rw=e,rw}var nw,R3;function bte(){if(R3)return nw;R3=1;var t=I_(),e=R_(),r=Ts(),n=IM(),a=vte(),i=wM(),o=xte(),l=Ld(),c=Oa();function u(d,f,p){f.length?f=t(f,function(m){return c(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[l];var h=-1;f=t(f,i(r));var g=n(d,function(m,v,x){var _=t(f,function(w){return w(m)});return{criteria:_,index:++h,value:m}});return a(g,function(m,v){return o(m,v,p)})}return nw=u,nw}var aw,L3;function wte(){if(L3)return aw;L3=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return aw=t,aw}var iw,M3;function jte(){if(M3)return iw;M3=1;var t=wte(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),t(n,this,d)}}return iw=r,iw}var sw,D3;function _te(){if(D3)return sw;D3=1;function t(e){return function(){return e}}return sw=t,sw}var ow,$3;function RM(){if($3)return ow;$3=1;var t=Tc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return ow=e,ow}var lw,F3;function Nte(){if(F3)return lw;F3=1;var t=_te(),e=RM(),r=Ld(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return lw=n,lw}var cw,B3;function Ste(){if(B3)return cw;B3=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return cw=n,cw}var uw,q3;function Ate(){if(q3)return uw;q3=1;var t=Nte(),e=Ste(),r=e(t);return uw=r,uw}var dw,U3;function kte(){if(U3)return dw;U3=1;var t=Ld(),e=jte(),r=Ate();function n(a,i){return r(e(a,i,t),a+"")}return dw=n,dw}var fw,z3;function zv(){if(z3)return fw;z3=1;var t=O_(),e=Jh(),r=W_(),n=vl();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return fw=a,fw}var hw,W3;function Pte(){if(W3)return hw;W3=1;var t=EM(),e=bte(),r=kte(),n=zv(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return hw=a,hw}var Cte=Pte();const K_=br(Cte);function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function w5(){return w5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w5.apply(this,arguments)}function Ote(t,e){return Rte(t)||Ite(t,e)||Tte(t,e)||Ete()}function Ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tte(t,e){if(t){if(typeof t=="string")return H3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H3(t,e)}}function H3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ite(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Rte(t){if(Array.isArray(t))return t}function G3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(r),!0).forEach(function(n){Lte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lte(t,e,r){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mte(t){var e=Dte(t,"string");return lh(e)=="symbol"?e:e+""}function Dte(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $te(t){return Array.isArray(t)&&En(t[0])&&En(t[1])?t.join(" ~ "):t}var Fte=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,_=x===void 0?!1:x,w=function(){if(d&&d.length){var I={padding:0,margin:0},M=(p?K_(d,p):d).map(function(D,G){if(D.type==="none")return null;var $=pw({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),q=D.formatter||f||$te,F=D.value,ee=D.name,he=F,fe=ee;if(q&&he!=null&&fe!=null){var B=q(F,ee,D,G,d);if(Array.isArray(B)){var W=Ote(B,2);he=W[0],fe=W[1]}else he=B}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:$},En(fe)?Y.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,En(fe)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},he),Y.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},j=pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=pw({margin:0},u),A=!Dt(m),O=A?m:"",k=Bt("recharts-default-tooltip",h),T=Bt("recharts-tooltip-label",g);A&&v&&d!==void 0&&d!==null&&(O=v(m,d));var R=_?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",w5({className:k,style:j},R),Y.createElement("p",{className:T,style:S},Y.isValidElement(O)?O:"".concat(O)),w())};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function lm(t,e,r){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bte(t){var e=qte(t,"string");return ch(e)=="symbol"?e:e+""}function qte(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bf="recharts-tooltip-wrapper",Ute={visibility:"hidden"};function zte(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Bt(bf,lm(lm(lm(lm({},"".concat(bf,"-right"),Fe(r)&&e&&Fe(e.x)&&r>=e.x),"".concat(bf,"-left"),Fe(r)&&e&&Fe(e.x)&&r<e.x),"".concat(bf,"-bottom"),Fe(n)&&e&&Fe(e.y)&&n>=e.y),"".concat(bf,"-top"),Fe(n)&&e&&Fe(e.y)&&n<e.y))}function V3(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Fe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return o[n]?d:f;if(o[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Wte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Hte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=V3({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=V3({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Wte({translateX:d,translateY:f,useTranslate3d:l})):u=Ute,{cssProperties:u,cssClasses:zte({translateX:d,translateY:f,coordinate:r})}}function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function K3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(r),!0).forEach(function(n){_5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MM(n.key),n)}}function Kte(t,e,r){return e&&Vte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yte(t,e,r){return e=ig(e),Xte(t,LM()?Reflect.construct(e,r||[],ig(t).constructor):e.apply(t,r))}function Xte(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zte(t)}function Zte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(t)}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j5(t,e)}function j5(t,e){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j5(t,e)}function _5(t,e,r){return e=MM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MM(t){var e=Qte(t,"string");return ed(e)=="symbol"?e:e+""}function Qte(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X3=1,ere=(function(t){function e(){var r;Gte(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Yte(this,e,[].concat(a)),_5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_5(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Jte(e,t),Kte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>X3||Math.abs(n.height-this.state.lastBoundingBox.height)>X3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,_=a.wrapperStyle,w=Hte({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),j=w.cssClasses,S=w.cssProperties,A=Y3(Y3({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return Y.createElement("div",{tabIndex:-1,className:j,style:A,ref:function(k){n.wrapperNode=k}},u)}}])})(N.PureComponent),tre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ic={isSsr:tre()};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(r),!0).forEach(function(n){Y_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$M(n.key),n)}}function are(t,e,r){return e&&nre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ire(t,e,r){return e=sg(e),sre(t,DM()?Reflect.construct(e,r||[],sg(t).constructor):e.apply(t,r))}function sre(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ore(t)}function ore(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(t)}function lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N5(t,e)}function N5(t,e){return N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N5(t,e)}function Y_(t,e,r){return e=$M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $M(t){var e=cre(t,"string");return td(e)=="symbol"?e:e+""}function cre(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ure(t){return t.dataKey}function dre(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(Fte,e)}var Ga=(function(t){function e(){return rre(this,e),ire(this,e,arguments)}return lre(e,t),are(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,_=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,S=g??[];f&&S.length&&(S=PM(g.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),m,ure));var A=S.length>0;return Y.createElement(ere,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:v,reverseDirection:x,useTranslate3d:_,viewBox:w,wrapperStyle:j},dre(u,J3(J3({},this.props),{},{payload:S})))}}])})(N.PureComponent);Y_(Ga,"displayName","Tooltip");Y_(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ic.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mw,Q3;function fre(){if(Q3)return mw;Q3=1;var t=Es(),e=function(){return t.Date.now()};return mw=e,mw}var gw,eO;function hre(){if(eO)return gw;eO=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return gw=e,gw}var vw,tO;function pre(){if(tO)return vw;tO=1;var t=hre(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return vw=r,vw}var yw,rO;function FM(){if(rO)return yw;rO=1;var t=pre(),e=vl(),r=Td(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return yw=c,yw}var xw,nO;function mre(){if(nO)return xw;nO=1;var t=vl(),e=fre(),r=FM(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,f,p,h,g,m,v=0,x=!1,_=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(x=!!u.leading,_="maxWait"in u,p=_?a(r(u.maxWait)||0,c):p,w="trailing"in u?!!u.trailing:w);function j(M){var D=d,G=f;return d=f=void 0,v=M,h=l.apply(G,D),h}function S(M){return v=M,g=setTimeout(k,c),x?j(M):h}function A(M){var D=M-m,G=M-v,$=c-D;return _?i($,p-G):$}function O(M){var D=M-m,G=M-v;return m===void 0||D>=c||D<0||_&&G>=p}function k(){var M=e();if(O(M))return T(M);g=setTimeout(k,A(M))}function T(M){return g=void 0,w&&d?j(M):(d=f=void 0,h)}function R(){g!==void 0&&clearTimeout(g),v=0,d=m=f=g=void 0}function P(){return g===void 0?h:T(e())}function I(){var M=e(),D=O(M);if(d=arguments,f=this,m=M,D){if(g===void 0)return S(m);if(_)return clearTimeout(g),g=setTimeout(k,c),j(m)}return g===void 0&&(g=setTimeout(k,c)),h}return I.cancel=R,I.flush=P,I}return xw=o,xw}var bw,aO;function gre(){if(aO)return bw;aO=1;var t=mre(),e=vl(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return bw=n,bw}var vre=gre();const BM=br(vre);function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){yre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yre(t,e,r){return e=xre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xre(t){var e=bre(t,"string");return uh(e)=="symbol"?e:e+""}function bre(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wre(t,e){return Sre(t)||Nre(t,e)||_re(t,e)||jre()}function jre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(t,e){if(t){if(typeof t=="string")return sO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Sre(t){if(Array.isArray(t))return t}var og=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,_=t.onResize,w=t.style,j=w===void 0?{}:w,S=N.useRef(null),A=N.useRef();A.current=_,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=N.useState({containerWidth:a.width,containerHeight:a.height}),k=wre(O,2),T=k[0],R=k[1],P=N.useCallback(function(M,D){R(function(G){var $=Math.round(M),q=Math.round(D);return G.containerWidth===$&&G.containerHeight===q?G:{containerWidth:$,containerHeight:q}})},[]);N.useEffect(function(){var M=function(ee){var he,fe=ee[0].contentRect,B=fe.width,W=fe.height;P(B,W),(he=A.current)===null||he===void 0||he.call(A,B,W)};m>0&&(M=BM(M,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),G=S.current.getBoundingClientRect(),$=G.width,q=G.height;return P($,q),D.observe(S.current),function(){D.disconnect()}},[P,m]);var I=N.useMemo(function(){var M=T.containerWidth,D=T.containerHeight;if(M<0||D<0)return null;zi(rc(o)||rc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),zi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=rc(o)?M:o,$=rc(c)?D:c;r&&r>0&&(G?$=G/r:$&&(G=$*r),p&&$>p&&($=p)),zi(G>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,$,o,c,d,f,r);var q=!Array.isArray(h)&&ho(h.type).endsWith("Chart");return Y.Children.map(h,function(F){return Y.isValidElement(F)?N.cloneElement(F,cm({width:G,height:$},q?{style:cm({height:"100%",width:"100%",maxHeight:$,maxWidth:G},F.props.style)}:{})):F})},[r,h,c,p,f,d,T,o]);return Y.createElement("div",{id:v?"".concat(v):void 0,className:Bt("recharts-responsive-container",x),style:cm(cm({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:S},I)}),Qh=function(e){return null};Qh.displayName="Cell";function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){Are(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Are(t,e,r){return e=kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kre(t){var e=Pre(t,"string");return dh(e)=="symbol"?e:e+""}function Pre(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gu={widthCache:{},cacheCount:0},Cre=2e3,Ore={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lO="recharts_measurement_span";function Ere(t){var e=S5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Hf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ic.isSsr)return{width:0,height:0};var n=Ere(r),a=JSON.stringify({text:e,copyStyle:n});if(gu.widthCache[a])return gu.widthCache[a];try{var i=document.getElementById(lO);i||(i=document.createElement("span"),i.setAttribute("id",lO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=S5(S5({},Ore),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return gu.widthCache[a]=c,++gu.cacheCount>Cre&&(gu.cacheCount=0,gu.widthCache={}),c}catch{return{width:0,height:0}}},Tre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function lg(t,e){return Mre(t)||Lre(t,e)||Rre(t,e)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Mre(t){if(Array.isArray(t))return t}function Dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fre(n.key),n)}}function $re(t,e,r){return e&&uO(t.prototype,e),r&&uO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fre(t){var e=Bre(t,"string");return fh(e)=="symbol"?e:e+""}function Bre(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ure=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zre=Object.keys(qM),Eu="NaN";function Wre(t,e){return t*qM[e]}var um=(function(){function t(e,r){Dre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!qre.test(r)&&(this.num=NaN,this.unit=""),zre.includes(r)&&(this.num=Wre(e,r),this.unit="px")}return $re(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Ure.exec(r))!==null&&n!==void 0?n:[],i=lg(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function UM(t){if(t.includes(Eu))return Eu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=dO.exec(e))!==null&&r!==void 0?r:[],a=lg(n,4),i=a[1],o=a[2],l=a[3],c=um.parse(i??""),u=um.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Eu;e=e.replace(dO,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=fO.exec(e))!==null&&f!==void 0?f:[],h=lg(p,4),g=h[1],m=h[2],v=h[3],x=um.parse(g??""),_=um.parse(v??""),w=m==="+"?x.add(_):x.subtract(_);if(w.isNaN())return Eu;e=e.replace(fO,w.toString())}return e}var hO=/\(([^()]*)\)/;function Hre(t){for(var e=t;e.includes("(");){var r=hO.exec(e),n=lg(r,2),a=n[1];e=e.replace(hO,UM(a))}return e}function Gre(t){var e=t.replace(/\s+/g,"");return e=Hre(e),e=UM(e),e}function Vre(t){try{return Gre(t)}catch{return Eu}}function ww(t){var e=Vre(t.slice(5,-1));return e===Eu?"":e}var Kre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Yre=["dx","dy","angle","className","breakAll"];function A5(){return A5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A5.apply(this,arguments)}function pO(t,e){if(t==null)return{};var r=Xre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mO(t,e){return ene(t)||Qre(t,e)||Jre(t,e)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ene(t){if(Array.isArray(t))return t}var zM=/[ \f\n\r\t\v\u2028\u2029]+/,WM=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Dt(r)||(n?i=r.toString().split(""):i=r.toString().split(zM));var o=i.map(function(c){return{word:c,width:Hf(c,a).width}}),l=n?0:Hf("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tne=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Fe(o),f=l,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function($,q){var F=q.word,ee=q.width,he=$[$.length-1];if(he&&(a==null||i||he.width+ee+n<Number(a)))he.words.push(F),he.width+=ee+n;else{var fe={words:[F],width:ee};$.push(fe)}return $},[])},h=p(r),g=function(G){return G.reduce(function($,q){return $.width>q.width?$:q})};if(!d)return h;for(var m="",v=function(G){var $=f.slice(0,G),q=WM({breakAll:u,style:c,children:$+m}).wordsWithComputedWidth,F=p(q),ee=F.length>o||g(F).width>Number(a);return[ee,F]},x=0,_=f.length-1,w=0,j;x<=_&&w<=f.length-1;){var S=Math.floor((x+_)/2),A=S-1,O=v(A),k=mO(O,2),T=k[0],R=k[1],P=v(S),I=mO(P,1),M=I[0];if(!T&&!M&&(x=S+1),T&&M&&(_=S-1),!T&&M){j=R;break}w++}return j||h},vO=function(e){var r=Dt(e)?[]:e.toString().split(zM);return[{words:r}]},rne=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Ic.isSsr){var c,u,d=WM({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return vO(a);return tne({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return vO(a)},yO="#808080",bc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?yO:v,_=pO(e,Kre),w=N.useMemo(function(){return rne({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),j=_.dx,S=_.dy,A=_.angle,O=_.className,k=_.breakAll,T=pO(_,Yre);if(!En(n)||!En(i))return null;var R=n+(Fe(j)?j:0),P=i+(Fe(S)?S:0),I;switch(m){case"start":I=ww("calc(".concat(u,")"));break;case"middle":I=ww("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=ww("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(f){var D=w[0].width,G=_.width;M.push("scale(".concat((Fe(G)?G/D:1)/D,")"))}return A&&M.push("rotate(".concat(A,", ").concat(R,", ").concat(P,")")),M.length&&(T.transform=M.join(" ")),Y.createElement("text",A5({},_t(T,!0),{x:R,y:P,className:Bt("recharts-text",O),textAnchor:h,fill:x.includes("url")?yO:x}),w.map(function($,q){var F=$.words.join(k?"":" ");return Y.createElement("tspan",{x:R,dy:q===0?I:l,key:"".concat(F,"-").concat(q)},F)}))};function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X_(t){let e,r,n;t.length!==2?(e=cl,r=(l,c)=>cl(t(l),c),n=(l,c)=>t(l)-c):(e=t===cl||t===nne?t:ane,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function ane(){return 0}function HM(t){return t===null?NaN:+t}function*ine(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const sne=X_(cl),ep=sne.right;X_(HM).center;class xO extends Map{constructor(e,r=cne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(bO(this,e))}has(e){return super.has(bO(this,e))}set(e,r){return super.set(one(this,e),r)}delete(e){return super.delete(lne(this,e))}}function bO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function one({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function lne({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function cne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function une(t=cl){if(t===cl)return GM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function GM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dne=Math.sqrt(50),fne=Math.sqrt(10),hne=Math.sqrt(2);function cg(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=dne?10:i>=fne?5:i>=hne?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?cg(t,e,r*2):[l,c,u]}function k5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?cg(e,t,r):cg(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function P5(t,e,r){return e=+e,t=+t,r=+r,cg(t,e,r)[2]}function C5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?P5(e,t,r):P5(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function wO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function VM(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?GM:une(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+p)),g=Math.min(n,Math.floor(e+(c-u)*f/c+p));VM(t,e,h,g,a)}const i=t[e];let o=r,l=n;for(wf(t,r,e),a(t[n],i)>0&&wf(t,r,n);o<l;){for(wf(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?wf(t,r,l):(++l,wf(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function wf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function pne(t,e,r){if(t=Float64Array.from(ine(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return jO(t);if(e>=1)return wO(t);var n,a=(n-1)*e,i=Math.floor(a),o=wO(VM(t,i).subarray(0,i+1)),l=jO(t.subarray(i+1));return o+(l-o)*(a-i)}}function mne(t,e,r=HM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function gne(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function _i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Co(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const O5=Symbol("implicit");function Z_(){var t=new xO,e=[],r=[],n=O5;function a(i){let o=t.get(i);if(o===void 0){if(n!==O5)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new xO;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Z_(e,r).unknown(n)},_i.apply(a,arguments),a}function hh(){var t=Z_().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=a<n,g=h?a:n,m=h?n:a;i=(m-g)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(p-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=gne(p).map(function(x){return g+i*x});return r(h?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return hh(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},_i.apply(f(),arguments)}function KM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KM(e())},t}function Gf(){return KM(hh.apply(null,arguments).paddingInner(1))}function J_(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function YM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function tp(){}var ph=.7,ug=1/ph,Uu="\\s*([+-]?\\d+)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vne=/^#([0-9a-f]{3,8})$/,yne=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),xne=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),bne=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${mh}\\)$`),wne=new RegExp(`^rgba\\(${js},${js},${js},${mh}\\)$`),jne=new RegExp(`^hsl\\(${mh},${js},${js}\\)$`),_ne=new RegExp(`^hsla\\(${mh},${js},${js},${mh}\\)$`),_O={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J_(tp,gh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:NO,formatHex:NO,formatHex8:Nne,formatHsl:Sne,formatRgb:SO,toString:SO});function NO(){return this.rgb().formatHex()}function Nne(){return this.rgb().formatHex8()}function Sne(){return XM(this).formatHsl()}function SO(){return this.rgb().formatRgb()}function gh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=vne.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?AO(e):r===3?new wa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?dm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?dm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yne.exec(t))?new wa(e[1],e[2],e[3],1):(e=xne.exec(t))?new wa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bne.exec(t))?dm(e[1],e[2],e[3],e[4]):(e=wne.exec(t))?dm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jne.exec(t))?CO(e[1],e[2]/100,e[3]/100,1):(e=_ne.exec(t))?CO(e[1],e[2]/100,e[3]/100,e[4]):_O.hasOwnProperty(t)?AO(_O[t]):t==="transparent"?new wa(NaN,NaN,NaN,0):null}function AO(t){return new wa(t>>16&255,t>>8&255,t&255,1)}function dm(t,e,r,n){return n<=0&&(t=e=r=NaN),new wa(t,e,r,n)}function Ane(t){return t instanceof tp||(t=gh(t)),t?(t=t.rgb(),new wa(t.r,t.g,t.b,t.opacity)):new wa}function E5(t,e,r,n){return arguments.length===1?Ane(t):new wa(t,e,r,n??1)}function wa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}J_(wa,E5,YM(tp,{brighter(t){return t=t==null?ug:Math.pow(ug,t),new wa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new wa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wa(dc(this.r),dc(this.g),dc(this.b),dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kO,formatHex:kO,formatHex8:kne,formatRgb:PO,toString:PO}));function kO(){return`#${nc(this.r)}${nc(this.g)}${nc(this.b)}`}function kne(){return`#${nc(this.r)}${nc(this.g)}${nc(this.b)}${nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function PO(){const t=dg(this.opacity);return`${t===1?"rgb(":"rgba("}${dc(this.r)}, ${dc(this.g)}, ${dc(this.b)}${t===1?")":`, ${t})`}`}function dg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nc(t){return t=dc(t),(t<16?"0":"")+t.toString(16)}function CO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new qi(t,e,r,n)}function XM(t){if(t instanceof qi)return new qi(t.h,t.s,t.l,t.opacity);if(t instanceof tp||(t=gh(t)),!t)return new qi;if(t instanceof qi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new qi(o,l,c,t.opacity)}function Pne(t,e,r,n){return arguments.length===1?XM(t):new qi(t,e,r,n??1)}function qi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}J_(qi,Pne,YM(tp,{brighter(t){return t=t==null?ug:Math.pow(ug,t),new qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new wa(jw(t>=240?t-240:t+120,a,n),jw(t,a,n),jw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new qi(OO(this.h),fm(this.s),fm(this.l),dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dg(this.opacity);return`${t===1?"hsl(":"hsla("}${OO(this.h)}, ${fm(this.s)*100}%, ${fm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OO(t){return t=(t||0)%360,t<0?t+360:t}function fm(t){return Math.max(0,Math.min(1,t||0))}function jw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Q_=t=>()=>t;function Cne(t,e){return function(r){return t+r*e}}function One(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ene(t){return(t=+t)==1?ZM:function(e,r){return r-e?One(e,r,t):Q_(isNaN(e)?r:e)}}function ZM(t,e){var r=e-t;return r?Cne(t,r):Q_(isNaN(t)?e:t)}const EO=(function t(e){var r=Ene(e);function n(a,i){var o=r((a=E5(a)).r,(i=E5(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=ZM(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n})(1);function Tne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function Ine(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Md(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Lne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function fg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Mne(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Md(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var T5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_w=new RegExp(T5.source,"g");function Dne(t){return function(){return t}}function $ne(t){return function(e){return t(e)+""}}function Fne(t,e){var r=T5.lastIndex=_w.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=T5.exec(t))&&(a=_w.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:fg(n,a)})),r=_w.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$ne(c[0].x):Dne(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Md(t,e){var r=typeof e,n;return e==null||r==="boolean"?Q_(e):(r==="number"?fg:r==="string"?(n=gh(e))?(e=n,EO):Fne:e instanceof gh?EO:e instanceof Date?Lne:Ine(e)?Tne:Array.isArray(e)?Rne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mne:fg)(t,e)}function eN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Bne(t,e){e===void 0&&(e=t,t=Md);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function qne(t){return function(){return t}}function hg(t){return+t}var TO=[0,1];function da(t){return t}function I5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qne(isNaN(e)?NaN:.5)}function Une(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function zne(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=I5(a,n),i=r(o,i)):(n=I5(n,a),i=r(i,o)),function(l){return i(n(l))}}function Wne(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=I5(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=ep(t,l,1,n)-1;return i[c](a[c](l))}}function rp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wv(){var t=TO,e=TO,r=Md,n,a,i,o=da,l,c,u;function d(){var p=Math.min(t.length,e.length);return o!==da&&(o=Une(t[0],t[p-1])),l=p>2?Wne:zne,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(n),e,r)))(n(o(p)))}return f.invert=function(p){return o(a((u||(u=l(e,t.map(n),fg)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,hg),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=eN,d()},f.clamp=function(p){return arguments.length?(o=p?!0:da,d()):o!==da},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function tN(){return Wv()(da,da)}function Hne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function rd(t){return t=pg(Math.abs(t)),t?t[1]:NaN}function Gne(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Vne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Kne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vh(t){if(!(e=Kne.exec(t)))throw new Error("invalid format: "+t);var e;return new rN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vh.prototype=rN.prototype;function rN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yne(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var JM;function Xne(t,e){var r=pg(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(JM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pg(t,Math.max(0,e+i-1))[0]}function IO(t,e){var r=pg(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const RO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IO(t*100,e),r:IO,s:Xne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LO(t){return t}var MO=Array.prototype.map,DO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zne(t){var e=t.grouping===void 0||t.thousands===void 0?LO:Gne(MO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?LO:Vne(MO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=vh(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,_=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(_=!0,S="g"):RO[S]||(w===void 0&&(w=12),j=!0,S="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var A=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=m==="$"?n:/[%p]/.test(S)?o:"",k=RO[S],T=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(P){var I=A,M=O,D,G,$;if(S==="c")M=k(P)+M,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),j&&(P=Yne(P)),q&&+P==0&&g!=="+"&&(q=!1),I=(q?g==="("?g:l:g==="-"||g==="("?"":g)+I,M=(S==="s"?DO[8+JM/3]:"")+M+(q&&g==="("?")":""),T){for(D=-1,G=P.length;++D<G;)if($=P.charCodeAt(D),48>$||$>57){M=($===46?a+P.slice(D+1):P.slice(D))+M,P=P.slice(0,D);break}}}_&&!v&&(P=e(P,1/0));var F=I.length+P.length+M.length,ee=F<x?new Array(x-F+1).join(p):"";switch(_&&v&&(P=e(ee+P,ee.length?x-M.length:1/0),ee=""),h){case"<":P=I+P+M+ee;break;case"=":P=I+ee+P+M;break;case"^":P=ee.slice(0,F=ee.length>>1)+I+P+M+ee.slice(F);break;default:P=ee+I+P+M;break}return i(P)}return R.toString=function(){return f+""},R}function d(f,p){var h=u((f=vh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(rd(p)/3)))*3,m=Math.pow(10,-g),v=DO[8+g/3];return function(x){return h(m*x)+v}}return{format:u,formatPrefix:d}}var hm,nN,QM;Jne({thousands:",",grouping:[3],currency:["$",""]});function Jne(t){return hm=Zne(t),nN=hm.format,QM=hm.formatPrefix,hm}function Qne(t){return Math.max(0,-rd(Math.abs(t)))}function eae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rd(e)/3)))*3-rd(Math.abs(t)))}function tae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rd(e)-rd(t))+1}function eD(t,e,r,n){var a=C5(t,e,r),i;switch(n=vh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=eae(a,o))&&(n.precision=i),QM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=tae(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Qne(a))&&(n.precision=i-(n.type==="%")*2);break}}return nN(n)}function yl(t){var e=t.domain;return t.ticks=function(r){var n=e();return k5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return eD(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=P5(o,l,r),u===c)return n[a]=o,n[i]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function mg(){var t=tN();return t.copy=function(){return rp(t,mg())},_i.apply(t,arguments),yl(t)}function tD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,hg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return tD(t).unknown(e)},t=arguments.length?Array.from(t,hg):[0,1],yl(r)}function rD(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function $O(t){return Math.log(t)}function FO(t){return Math.exp(t)}function rae(t){return-Math.log(-t)}function nae(t){return-Math.exp(-t)}function aae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iae(t){return t===10?aae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function sae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BO(t){return(e,r)=>-t(-e,r)}function aN(t){const e=t($O,FO),r=e.domain;let n=10,a,i;function o(){return a=sae(n),i=iae(n),r()[0]<0?(a=BO(a),i=BO(i),t(rae,nae)):t($O,FO),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(m=p<0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(m=p>0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=k5(u,d,v))}else x=k5(p,h,Math.min(h-p,v)).map(i);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vh(c)).precision==null&&(c.trim=!0),c=nN(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(rD(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function nD(){const t=aN(Wv()).domain([1,10]);return t.copy=()=>rp(t,nD()).base(t.base()),_i.apply(t,arguments),t}function qO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iN(t){var e=1,r=t(qO(e),UO(e));return r.constant=function(n){return arguments.length?t(qO(e=+n),UO(e)):e},yl(r)}function aD(){var t=iN(Wv());return t.copy=function(){return rp(t,aD()).constant(t.constant())},_i.apply(t,arguments)}function zO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lae(t){return t<0?-t*t:t*t}function sN(t){var e=t(da,da),r=1;function n(){return r===1?t(da,da):r===.5?t(oae,lae):t(zO(r),zO(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},yl(e)}function oN(){var t=sN(Wv());return t.copy=function(){return rp(t,oN()).exponent(t.exponent())},_i.apply(t,arguments),t}function cae(){return oN.apply(null,arguments).exponent(.5)}function WO(t){return Math.sign(t)*t*t}function uae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iD(){var t=tN(),e=[0,1],r=!1,n;function a(i){var o=uae(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(WO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,hg)).map(WO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},_i.apply(a,arguments),yl(a)}function sD(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=mne(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[ep(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(cl),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return sD().domain(t).range(e).unknown(n)},_i.apply(i,arguments)}function oD(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ep(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return oD().domain([t,e]).range(a).unknown(i)},_i.apply(yl(o),arguments)}function lD(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[ep(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return lD().domain(t).range(e).unknown(r)},_i.apply(a,arguments)}const Nw=new Date,Sw=new Date;function Tn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},a.filter=i=>Tn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(Nw.setTime(+i),Sw.setTime(+o),t(Nw),t(Sw),Math.floor(r(Nw,Sw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const gg=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):gg);gg.range;const oo=1e3,pi=oo*60,lo=pi*60,jo=lo*24,lN=jo*7,HO=jo*30,Aw=jo*365,ac=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getUTCSeconds());ac.range;const cN=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getMinutes());cN.range;const uN=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pi)},(t,e)=>(e-t)/pi,t=>t.getUTCMinutes());uN.range;const dN=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oo-t.getMinutes()*pi)},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getHours());dN.range;const fN=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getUTCHours());fN.range;const np=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pi)/jo,t=>t.getDate()-1);np.range;const Hv=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jo,t=>t.getUTCDate()-1);Hv.range;const cD=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jo,t=>Math.floor(t/jo));cD.range;function Rc(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*pi)/lN)}const Gv=Rc(0),vg=Rc(1),dae=Rc(2),fae=Rc(3),nd=Rc(4),hae=Rc(5),pae=Rc(6);Gv.range;vg.range;dae.range;fae.range;nd.range;hae.range;pae.range;function Lc(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/lN)}const Vv=Lc(0),yg=Lc(1),mae=Lc(2),gae=Lc(3),ad=Lc(4),vae=Lc(5),yae=Lc(6);Vv.range;yg.range;mae.range;gae.range;ad.range;vae.range;yae.range;const hN=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hN.range;const pN=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pN.range;const _o=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});_o.range;const No=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());No.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});No.range;function uD(t,e,r,n,a,i){const o=[[ac,1,oo],[ac,5,5*oo],[ac,15,15*oo],[ac,30,30*oo],[i,1,pi],[i,5,5*pi],[i,15,15*pi],[i,30,30*pi],[a,1,lo],[a,3,3*lo],[a,6,6*lo],[a,12,12*lo],[n,1,jo],[n,2,2*jo],[r,1,lN],[e,1,HO],[e,3,3*HO],[t,1,Aw]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=X_(([,,v])=>v).right(o,p);if(h===o.length)return t.every(C5(u/Aw,d/Aw,f));if(h===0)return gg.every(Math.max(C5(u,d,f),1));const[g,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return g.every(m)}return[l,c]}const[xae,bae]=uD(No,pN,Vv,cD,fN,uN),[wae,jae]=uD(_o,hN,Gv,np,dN,cN);function kw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function _ae(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=_f(a),d=Nf(a),f=_f(i),p=Nf(i),h=_f(o),g=Nf(o),m=_f(l),v=Nf(l),x=_f(c),_=Nf(c),w={a:q,A:F,b:ee,B:he,c:null,d:ZO,e:ZO,f:Gae,g:rie,G:aie,H:zae,I:Wae,j:Hae,L:dD,m:Vae,M:Kae,p:fe,q:B,Q:eE,s:tE,S:Yae,u:Xae,U:Zae,V:Jae,w:Qae,W:eie,x:null,X:null,y:tie,Y:nie,Z:iie,"%":QO},j={a:W,A:H,b:re,B:ce,c:null,d:JO,e:JO,f:cie,g:xie,G:wie,H:sie,I:oie,j:lie,L:hD,m:uie,M:die,p:se,q:X,Q:eE,s:tE,S:fie,u:hie,U:pie,V:mie,w:gie,W:vie,x:null,X:null,y:yie,Y:bie,Z:jie,"%":QO},S={a:R,A:P,b:I,B:M,c:D,d:YO,e:YO,f:Fae,g:KO,G:VO,H:XO,I:XO,j:Lae,L:$ae,m:Rae,M:Mae,p:T,q:Iae,Q:qae,s:Uae,S:Dae,u:Pae,U:Cae,V:Oae,w:kae,W:Eae,x:G,X:$,y:KO,Y:VO,Z:Tae,"%":Bae};w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),j.x=A(r,j),j.X=A(n,j),j.c=A(e,j);function A(J,le){return function(ue){var oe=[],Ne=-1,ge=0,te=J.length,Ve,Be,qe;for(ue instanceof Date||(ue=new Date(+ue));++Ne<te;)J.charCodeAt(Ne)===37&&(oe.push(J.slice(ge,Ne)),(Be=GO[Ve=J.charAt(++Ne)])!=null?Ve=J.charAt(++Ne):Be=Ve==="e"?" ":"0",(qe=le[Ve])&&(Ve=qe(ue,Be)),oe.push(Ve),ge=Ne+1);return oe.push(J.slice(ge,Ne)),oe.join("")}}function O(J,le){return function(ue){var oe=jf(1900,void 0,1),Ne=k(oe,J,ue+="",0),ge,te;if(Ne!=ue.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(le&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(ge=Pw(jf(oe.y,0,1)),te=ge.getUTCDay(),ge=te>4||te===0?yg.ceil(ge):yg(ge),ge=Hv.offset(ge,(oe.V-1)*7),oe.y=ge.getUTCFullYear(),oe.m=ge.getUTCMonth(),oe.d=ge.getUTCDate()+(oe.w+6)%7):(ge=kw(jf(oe.y,0,1)),te=ge.getDay(),ge=te>4||te===0?vg.ceil(ge):vg(ge),ge=np.offset(ge,(oe.V-1)*7),oe.y=ge.getFullYear(),oe.m=ge.getMonth(),oe.d=ge.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),te="Z"in oe?Pw(jf(oe.y,0,1)).getUTCDay():kw(jf(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(te+5)%7:oe.w+oe.U*7-(te+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Pw(oe)):kw(oe)}}function k(J,le,ue,oe){for(var Ne=0,ge=le.length,te=ue.length,Ve,Be;Ne<ge;){if(oe>=te)return-1;if(Ve=le.charCodeAt(Ne++),Ve===37){if(Ve=le.charAt(Ne++),Be=S[Ve in GO?le.charAt(Ne++):Ve],!Be||(oe=Be(J,ue,oe))<0)return-1}else if(Ve!=ue.charCodeAt(oe++))return-1}return oe}function T(J,le,ue){var oe=u.exec(le.slice(ue));return oe?(J.p=d.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function R(J,le,ue){var oe=h.exec(le.slice(ue));return oe?(J.w=g.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function P(J,le,ue){var oe=f.exec(le.slice(ue));return oe?(J.w=p.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function I(J,le,ue){var oe=x.exec(le.slice(ue));return oe?(J.m=_.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function M(J,le,ue){var oe=m.exec(le.slice(ue));return oe?(J.m=v.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function D(J,le,ue){return k(J,e,le,ue)}function G(J,le,ue){return k(J,r,le,ue)}function $(J,le,ue){return k(J,n,le,ue)}function q(J){return o[J.getDay()]}function F(J){return i[J.getDay()]}function ee(J){return c[J.getMonth()]}function he(J){return l[J.getMonth()]}function fe(J){return a[+(J.getHours()>=12)]}function B(J){return 1+~~(J.getMonth()/3)}function W(J){return o[J.getUTCDay()]}function H(J){return i[J.getUTCDay()]}function re(J){return c[J.getUTCMonth()]}function ce(J){return l[J.getUTCMonth()]}function se(J){return a[+(J.getUTCHours()>=12)]}function X(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var le=A(J+="",w);return le.toString=function(){return J},le},parse:function(J){var le=O(J+="",!1);return le.toString=function(){return J},le},utcFormat:function(J){var le=A(J+="",j);return le.toString=function(){return J},le},utcParse:function(J){var le=O(J+="",!0);return le.toString=function(){return J},le}}}var GO={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,Nae=/^%/,Sae=/[\\^$*+?|[\]().{}]/g;function dr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function Aae(t){return t.replace(Sae,"\\$&")}function _f(t){return new RegExp("^(?:"+t.map(Aae).join("|")+")","i")}function Nf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function kae(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Pae(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Cae(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Oae(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Eae(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function VO(t,e,r){var n=Fn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function KO(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Tae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Iae(t,e,r){var n=Fn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Rae(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function YO(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Lae(t,e,r){var n=Fn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function XO(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Mae(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Dae(t,e,r){var n=Fn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $ae(t,e,r){var n=Fn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Fae(t,e,r){var n=Fn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Bae(t,e,r){var n=Nae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function qae(t,e,r){var n=Fn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Uae(t,e,r){var n=Fn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function ZO(t,e){return dr(t.getDate(),e,2)}function zae(t,e){return dr(t.getHours(),e,2)}function Wae(t,e){return dr(t.getHours()%12||12,e,2)}function Hae(t,e){return dr(1+np.count(_o(t),t),e,3)}function dD(t,e){return dr(t.getMilliseconds(),e,3)}function Gae(t,e){return dD(t,e)+"000"}function Vae(t,e){return dr(t.getMonth()+1,e,2)}function Kae(t,e){return dr(t.getMinutes(),e,2)}function Yae(t,e){return dr(t.getSeconds(),e,2)}function Xae(t){var e=t.getDay();return e===0?7:e}function Zae(t,e){return dr(Gv.count(_o(t)-1,t),e,2)}function fD(t){var e=t.getDay();return e>=4||e===0?nd(t):nd.ceil(t)}function Jae(t,e){return t=fD(t),dr(nd.count(_o(t),t)+(_o(t).getDay()===4),e,2)}function Qae(t){return t.getDay()}function eie(t,e){return dr(vg.count(_o(t)-1,t),e,2)}function tie(t,e){return dr(t.getFullYear()%100,e,2)}function rie(t,e){return t=fD(t),dr(t.getFullYear()%100,e,2)}function nie(t,e){return dr(t.getFullYear()%1e4,e,4)}function aie(t,e){var r=t.getDay();return t=r>=4||r===0?nd(t):nd.ceil(t),dr(t.getFullYear()%1e4,e,4)}function iie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dr(e/60|0,"0",2)+dr(e%60,"0",2)}function JO(t,e){return dr(t.getUTCDate(),e,2)}function sie(t,e){return dr(t.getUTCHours(),e,2)}function oie(t,e){return dr(t.getUTCHours()%12||12,e,2)}function lie(t,e){return dr(1+Hv.count(No(t),t),e,3)}function hD(t,e){return dr(t.getUTCMilliseconds(),e,3)}function cie(t,e){return hD(t,e)+"000"}function uie(t,e){return dr(t.getUTCMonth()+1,e,2)}function die(t,e){return dr(t.getUTCMinutes(),e,2)}function fie(t,e){return dr(t.getUTCSeconds(),e,2)}function hie(t){var e=t.getUTCDay();return e===0?7:e}function pie(t,e){return dr(Vv.count(No(t)-1,t),e,2)}function pD(t){var e=t.getUTCDay();return e>=4||e===0?ad(t):ad.ceil(t)}function mie(t,e){return t=pD(t),dr(ad.count(No(t),t)+(No(t).getUTCDay()===4),e,2)}function gie(t){return t.getUTCDay()}function vie(t,e){return dr(yg.count(No(t)-1,t),e,2)}function yie(t,e){return dr(t.getUTCFullYear()%100,e,2)}function xie(t,e){return t=pD(t),dr(t.getUTCFullYear()%100,e,2)}function bie(t,e){return dr(t.getUTCFullYear()%1e4,e,4)}function wie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ad(t):ad.ceil(t),dr(t.getUTCFullYear()%1e4,e,4)}function jie(){return"+0000"}function QO(){return"%"}function eE(t){return+t}function tE(t){return Math.floor(+t/1e3)}var vu,mD,gD;_ie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _ie(t){return vu=_ae(t),mD=vu.format,vu.parse,gD=vu.utcFormat,vu.utcParse,vu}function Nie(t){return new Date(t)}function Sie(t){return t instanceof Date?+t:+new Date(+t)}function mN(t,e,r,n,a,i,o,l,c,u){var d=tN(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),_=u("%b %d"),w=u("%B"),j=u("%Y");function S(A){return(c(A)<A?h:l(A)<A?g:o(A)<A?m:i(A)<A?v:n(A)<A?a(A)<A?x:_:r(A)<A?w:j)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,Sie)):p().map(Nie)},d.ticks=function(A){var O=p();return t(O[0],O[O.length-1],A??10)},d.tickFormat=function(A,O){return O==null?S:u(O)},d.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=e(O[0],O[O.length-1],A??10)),A?p(rD(O,A)):d},d.copy=function(){return rp(d,mN(t,e,r,n,a,i,o,l,c,u))},d}function Aie(){return _i.apply(mN(wae,jae,_o,hN,Gv,np,dN,cN,ac,mD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kie(){return _i.apply(mN(xae,bae,No,pN,Vv,Hv,fN,uN,ac,gD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kv(){var t=0,e=1,r,n,a,i,o=da,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(Md),u.rangeRound=d(eN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function xl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vD(){var t=yl(Kv()(da));return t.copy=function(){return xl(t,vD())},Co.apply(t,arguments)}function yD(){var t=aN(Kv()).domain([1,10]);return t.copy=function(){return xl(t,yD()).base(t.base())},Co.apply(t,arguments)}function xD(){var t=iN(Kv());return t.copy=function(){return xl(t,xD()).constant(t.constant())},Co.apply(t,arguments)}function gN(){var t=sN(Kv());return t.copy=function(){return xl(t,gN()).exponent(t.exponent())},Co.apply(t,arguments)}function Pie(){return gN.apply(null,arguments).exponent(.5)}function bD(){var t=[],e=da;function r(n){if(n!=null&&!isNaN(n=+n))return e((ep(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(cl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>pne(t,i/n))},r.copy=function(){return bD(e).domain(t)},Co.apply(r,arguments)}function Yv(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,u=da,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function g(m){return function(v){var x,_,w;return arguments.length?([x,_,w]=v,u=Bne(m,[x,_,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(Md),h.rangeRound=g(eN),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(t),i=m(e),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function wD(){var t=yl(Yv()(da));return t.copy=function(){return xl(t,wD())},Co.apply(t,arguments)}function jD(){var t=aN(Yv()).domain([.1,1,10]);return t.copy=function(){return xl(t,jD()).base(t.base())},Co.apply(t,arguments)}function _D(){var t=iN(Yv());return t.copy=function(){return xl(t,_D()).constant(t.constant())},Co.apply(t,arguments)}function vN(){var t=sN(Yv());return t.copy=function(){return xl(t,vN()).exponent(t.exponent())},Co.apply(t,arguments)}function Cie(){return vN.apply(null,arguments).exponent(.5)}const rE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hh,scaleDiverging:wD,scaleDivergingLog:jD,scaleDivergingPow:vN,scaleDivergingSqrt:Cie,scaleDivergingSymlog:_D,scaleIdentity:tD,scaleImplicit:O5,scaleLinear:mg,scaleLog:nD,scaleOrdinal:Z_,scalePoint:Gf,scalePow:oN,scaleQuantile:sD,scaleQuantize:oD,scaleRadial:iD,scaleSequential:vD,scaleSequentialLog:yD,scaleSequentialPow:gN,scaleSequentialQuantile:bD,scaleSequentialSqrt:Pie,scaleSequentialSymlog:xD,scaleSqrt:cae,scaleSymlog:aD,scaleThreshold:lD,scaleTime:Aie,scaleUtc:kie,tickFormat:eD},Symbol.toStringTag,{value:"Module"}));var Cw,nE;function Xv(){if(nE)return Cw;nE=1;var t=Td();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,d=l}return d}return Cw=e,Cw}var Ow,aE;function ND(){if(aE)return Ow;aE=1;function t(e,r){return e>r}return Ow=t,Ow}var Ew,iE;function Oie(){if(iE)return Ew;iE=1;var t=Xv(),e=ND(),r=Ld();function n(a){return a&&a.length?t(a,r,e):void 0}return Ew=n,Ew}var Eie=Oie();const Zv=br(Eie);var Tw,sE;function SD(){if(sE)return Tw;sE=1;function t(e,r){return e<r}return Tw=t,Tw}var Iw,oE;function Tie(){if(oE)return Iw;oE=1;var t=Xv(),e=SD(),r=Ld();function n(a){return a&&a.length?t(a,r,e):void 0}return Iw=n,Iw}var Iie=Tie();const Jv=br(Iie);var Rw,lE;function Rie(){if(lE)return Rw;lE=1;var t=I_(),e=Ts(),r=IM(),n=Oa();function a(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return Rw=a,Rw}var Lw,cE;function Lie(){if(cE)return Lw;cE=1;var t=EM(),e=Rie();function r(n,a){return t(e(n,a),1)}return Lw=r,Lw}var Mie=Lie();const Die=br(Mie);var Mw,uE;function $ie(){if(uE)return Mw;uE=1;var t=G_();function e(r,n){return t(r,n)}return Mw=e,Mw}var Fie=$ie();const ap=br(Fie);var Dd=1e9,Bie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xN,Yr=!0,ji="[DecimalError] ",fc=ji+"Invalid argument: ",yN=ji+"Exponent out of range: ",$d=Math.floor,Kl=Math.pow,qie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,Ln=1e7,zr=7,AD=9007199254740991,xg=$d(AD/zr),Je={};Je.absoluteValue=Je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Je.comparedTo=Je.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*zr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Je.dividedBy=Je.div=function(t){return po(this,new this.constructor(t))};Je.dividedToIntegerBy=Je.idiv=function(t){var e=this,r=e.constructor;return Or(po(e,new r(t),0,1),r.precision)};Je.equals=Je.eq=function(t){return!this.cmp(t)};Je.exponent=function(){return yn(this)};Je.greaterThan=Je.gt=function(t){return this.cmp(t)>0};Je.greaterThanOrEqualTo=Je.gte=function(t){return this.cmp(t)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(t){return this.cmp(t)<0};Je.lessThanOrEqualTo=Je.lte=function(t){return this.cmp(t)<1};Je.logarithm=Je.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ya))throw Error(ji+"NaN");if(r.s<1)throw Error(ji+(r.s?"NaN":"-Infinity"));return r.eq(Ya)?new n(0):(Yr=!1,e=po(yh(r,i),yh(t,i),i),Yr=!0,Or(e,a))};Je.minus=Je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CD(e,t):kD(e,(t.s=-t.s,t))};Je.modulo=Je.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ji+"NaN");return r.s?(Yr=!1,e=po(r,t,0,1).times(t),Yr=!0,r.minus(e)):Or(new n(r),a)};Je.naturalExponential=Je.exp=function(){return PD(this)};Je.naturalLogarithm=Je.ln=function(){return yh(this)};Je.negated=Je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Je.plus=Je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kD(e,t):CD(e,(t.s=-t.s,t))};Je.precision=Je.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fc+t);if(e=yn(a)+1,n=a.d.length-1,r=n*zr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Je.squareRoot=Je.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ji+"NaN")}for(t=yn(l),Yr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=vs(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=$d((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(po(l,i,o+2)).times(.5),vs(i.d).slice(0,o)===(e=vs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Or(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return Yr=!0,Or(n,r)};Je.times=Je.mul=function(t){var e,r,n,a,i,o,l,c,u,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*p[a-n-1]+e,i[a--]=l%Ln|0,e=l/Ln|0;i[a]=(i[a]+e)%Ln|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Yr?Or(t,f.precision):t};Je.toDecimalPlaces=Je.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(As(t,0,Dd),e===void 0?e=n.rounding:As(e,0,8),Or(r,t+yn(r)+1,e))};Je.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=wc(n,!0):(As(t,0,Dd),e===void 0?e=a.rounding:As(e,0,8),n=Or(new a(n),t+1,e),r=wc(n,!0,t+1)),r};Je.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?wc(a):(As(t,0,Dd),e===void 0?e=i.rounding:As(e,0,8),n=Or(new i(a),t+yn(a)+1,e),r=wc(n.abs(),!1,t+yn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Je.toInteger=Je.toint=function(){var t=this,e=t.constructor;return Or(new e(t),yn(t)+1,e.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ya);if(l=new c(l),!l.s){if(t.s<1)throw Error(ji+"Infinity");return l}if(l.eq(Ya))return l;if(n=c.precision,t.eq(Ya))return Or(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=d<0?-d:d)<=AD){for(a=new c(Ya),e=Math.ceil(n/zr+4),Yr=!1;r%2&&(a=a.times(l),fE(a.d,e)),r=$d(r/2),r!==0;)l=l.times(l),fE(l.d,e);return Yr=!0,t.s<0?new c(Ya).div(a):Or(a,n)}}else if(i<0)throw Error(ji+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Yr=!1,a=t.times(yh(l,n+u)),Yr=!0,a=PD(a),a.s=i,a};Je.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=yn(a),n=wc(a,r<=i.toExpNeg||r>=i.toExpPos)):(As(t,1,Dd),e===void 0?e=i.rounding:As(e,0,8),a=Or(new i(a),t,e),r=yn(a),n=wc(a,t<=r||r<=i.toExpNeg,t)),n};Je.toSignificantDigits=Je.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(As(t,1,Dd),e===void 0?e=n.rounding:As(e,0,8)),Or(new n(r),t,e)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yn(t),r=t.constructor;return wc(t,e<=r.toExpNeg||e>=r.toExpPos)};function kD(t,e){var r,n,a,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Yr?Or(e,f):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/zr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ln|0,c[i]%=Ln;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Yr?Or(e,f):e}function As(t,e,r){if(t!==~~t||t<e||t>r)throw Error(fc+t)}function vs(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=zr-n.length,r&&(i+=tl(r)),i+=n;o=t[e],n=o+"",r=zr-n.length,r&&(i+=tl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var po=(function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Ln|0,o=i/Ln|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Ln+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,p,h,g,m,v,x,_,w,j,S,A,O,k,T=n.constructor,R=n.s==a.s?1:-1,P=n.d,I=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(ji+"Division by zero");for(c=n.e-a.e,O=I.length,S=P.length,h=new T(R),g=h.d=[],u=0;I[u]==(P[u]||0);)++u;if(I[u]>(P[u]||0)&&--c,i==null?_=i=T.precision:o?_=i+(yn(n)-yn(a))+1:_=i,_<0)return new T(0);if(_=_/zr+2|0,u=0,O==1)for(d=0,I=I[0],_++;(u<S||d)&&_--;u++)w=d*Ln+(P[u]||0),g[u]=w/I|0,d=w%I|0;else{for(d=Ln/(I[0]+1)|0,d>1&&(I=t(I,d),P=t(P,d),O=I.length,S=P.length),j=O,m=P.slice(0,O),v=m.length;v<O;)m[v++]=0;k=I.slice(),k.unshift(0),A=I[0],I[1]>=Ln/2&&++A;do d=0,l=e(I,m,O,v),l<0?(x=m[0],O!=v&&(x=x*Ln+(m[1]||0)),d=x/A|0,d>1?(d>=Ln&&(d=Ln-1),f=t(I,d),p=f.length,v=m.length,l=e(f,m,p,v),l==1&&(d--,r(f,O<p?k:I,p))):(d==0&&(l=d=1),f=I.slice()),p=f.length,p<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=e(I,m,O,v),l<1&&(d++,r(m,O<v?k:I,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=P[j]||0:(m=[P[j]],v=1);while((j++<S||m[0]!==void 0)&&_--)}return g[0]||g.shift(),h.e=c,Or(h,o?i+yn(h)+1:i)}})();function PD(t,e){var r,n,a,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(yn(t)>16)throw Error(yN+yn(t));if(!t.s)return new d(Ya);for(Yr=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Kl(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ya),d.precision=l;;){if(a=Or(a.times(t),l),r=r.times(++c),o=i.plus(po(a,r,l)),vs(o.d).slice(0,l)===vs(i.d).slice(0,l)){for(;u--;)i=Or(i.times(i),l);return d.precision=f,e==null?(Yr=!0,Or(i,f)):i}i=o}}function yn(t){for(var e=t.e*zr,r=t.d[0];r>=10;r/=10)e++;return e}function Dw(t,e,r){if(e>t.LN10.sd())throw Yr=!0,r&&(t.precision=r),Error(ji+"LN10 precision limit exceeded");return Or(new t(t.LN10),e)}function tl(t){for(var e="";t--;)e+="0";return e}function yh(t,e){var r,n,a,i,o,l,c,u,d,f=1,p=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(ji+(h.s?"NaN":"-Infinity"));if(h.eq(Ya))return new m(0);if(e==null?(Yr=!1,u=v):u=e,h.eq(10))return e==null&&(Yr=!0),Dw(m,u);if(u+=p,m.precision=u,r=vs(g),n=r.charAt(0),i=yn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=vs(h.d),n=r.charAt(0),f++;i=yn(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return c=Dw(m,u+2,v).times(i+""),h=yh(new m(n+"."+r.slice(1)),u-p).plus(c),m.precision=v,e==null?(Yr=!0,Or(h,v)):h;for(l=o=h=po(h.minus(Ya),h.plus(Ya),u),d=Or(h.times(h),u),a=3;;){if(o=Or(o.times(d),u),c=l.plus(po(o,new m(a),u)),vs(c.d).slice(0,u)===vs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Dw(m,u+2,v).times(i+""))),l=po(l,new m(f),u),m.precision=v,e==null?(Yr=!0,Or(l,v)):l;l=c,a+=2}}function dE(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=$d(r/zr),t.d=[],n=(r+1)%zr,r<0&&(n+=zr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=zr;n<a;)t.d.push(+e.slice(n,n+=zr));e=e.slice(n),n=zr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Yr&&(t.e>xg||t.e<-xg))throw Error(yN+r)}else t.s=0,t.e=0,t.d=[0];return t}function Or(t,e,r){var n,a,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=zr,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/zr),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=zr,a=n-zr+o}if(r!==void 0&&(i=Kl(10,o-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Kl(10,o-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=yn(t),f.length=1,e=e-i-1,f[0]=Kl(10,(zr-e%zr)%zr),t.e=$d(-e/zr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Kl(10,zr-n),f[d]=a>0?(u/Kl(10,o-a)%Kl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ln&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=Ln)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Yr&&(t.e>xg||t.e<-xg))throw Error(yN+yn(t));return t}function CD(t,e){var r,n,a,i,o,l,c,u,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Yr?Or(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/zr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ln-1;--c[i],c[a]+=Ln}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Yr?Or(e,h):e):new p(0)}function wc(t,e,r){var n,a=yn(t),i=vs(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+tl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+tl(-a-1)+i,r&&(n=r-o)>0&&(i+=tl(n))):a>=o?(i+=tl(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+tl(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=tl(n))),t.s<0?"-"+i:i}function fE(t,e){if(t.length>e)return t.length=e,!0}function OD(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(fc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dE(o,i.toString())}else if(typeof i!="string")throw Error(fc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,qie.test(i))dE(o,i);else throw Error(fc+i)}if(a.prototype=Je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=OD,a.config=a.set=Uie,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function Uie(t){if(!t||typeof t!="object")throw Error(ji+"Object expected");var e,r,n,a=["precision",1,Dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if($d(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(fc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fc+r+": "+n);return this}var xN=OD(Bie);Ya=new xN(1);const Nr=xN;function zie(t){return Vie(t)||Gie(t)||Hie(t)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(t,e){if(t){if(typeof t=="string")return R5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(t,e)}}function Gie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vie(t){if(Array.isArray(t))return R5(t)}function R5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Kie=function(e){return e},ED={},TD=function(e){return e===ED},hE=function(e){return function r(){return arguments.length===0||arguments.length===1&&TD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Yie=function t(e,r){return e===1?r:hE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==ED}).length;return o>=e?r.apply(void 0,a):t(e-o,hE(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return TD(f)?c.shift():f});return r.apply(void 0,zie(d).concat(c))}))})},Qv=function(e){return Yie(e.length,e)},L5=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Xie=Qv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Zie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Kie;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},M5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ID=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function Jie(t){var e;return t===0?e=1:e=Math.floor(new Nr(t).abs().log(10).toNumber())+1,e}function Qie(t,e,r){for(var n=new Nr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ese=Qv(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),tse=Qv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),rse=Qv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const e0={rangeStep:Qie,getDigitCount:Jie,interpolateNumber:ese,uninterpolateNumber:tse,uninterpolateTruncation:rse};function D5(t){return ise(t)||ase(t)||RD(t)||nse()}function nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ase(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ise(t){if(Array.isArray(t))return $5(t)}function xh(t,e){return lse(t)||ose(t,e)||RD(t,e)||sse()}function sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(t,e){if(t){if(typeof t=="string")return $5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $5(t,e)}}function $5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ose(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function lse(t){if(Array.isArray(t))return t}function LD(t){var e=xh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function MD(t,e,r){if(t.lte(0))return new Nr(0);var n=e0.getDigitCount(t.toNumber()),a=new Nr(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new Nr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Nr(Math.ceil(c))}function cse(t,e,r){var n=1,a=new Nr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Nr(10).pow(e0.getDigitCount(t)-1),a=new Nr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nr(Math.floor(t)))}else t===0?a=new Nr(Math.floor((e-1)/2)):r||(a=new Nr(Math.floor(t)));var o=Math.floor((e-1)/2),l=Zie(Xie(function(c){return a.add(new Nr(c-o).mul(n)).toNumber()}),L5);return l(0,e)}function DD(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var i=MD(new Nr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Nr(0):(o=new Nr(t).add(e).div(2),o=o.sub(new Nr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Nr(e).sub(o).div(i).toNumber()),u=l+c+1;return u>r?DD(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Nr(l).mul(i)),tickMax:o.add(new Nr(c).mul(i))})}function use(t){var e=xh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=LD([r,n]),c=xh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(D5(L5(0,a-1).map(function(){return 1/0}))):[].concat(D5(L5(0,a-1).map(function(){return-1/0})),[d]);return r>n?M5(f):f}if(u===d)return cse(u,a,i);var p=DD(u,d,o,i),h=p.step,g=p.tickMin,m=p.tickMax,v=e0.rangeStep(g,m.add(new Nr(.1).mul(h)),h);return r>n?M5(v):v}function dse(t,e){var r=xh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LD([n,a]),l=xh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=MD(new Nr(u).sub(c).div(d-1),i,0),p=[].concat(D5(e0.rangeStep(new Nr(c),new Nr(u).sub(new Nr(.99).mul(f)),f)),[u]);return n>a?M5(p):p}var fse=ID(use),hse=ID(dse),pse="Invariant failed";function jc(t,e){throw new Error(pse)}var mse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bg.apply(this,arguments)}function gse(t,e){return bse(t)||xse(t,e)||yse(t,e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yse(t,e){if(t){if(typeof t=="string")return pE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(t,e)}}function pE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bse(t){if(Array.isArray(t))return t}function wse(t,e){if(t==null)return{};var r=jse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BD(n.key),n)}}function Sse(t,e,r){return e&&Nse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ase(t,e,r){return e=wg(e),kse(t,$D()?Reflect.construct(e,r||[],wg(t).constructor):e.apply(t,r))}function kse(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pse(t)}function Pse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(t)}function Cse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F5(t,e)}function F5(t,e){return F5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F5(t,e)}function FD(t,e,r){return e=BD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BD(t){var e=Ose(t,"string");return id(e)=="symbol"?e:e+""}function Ose(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ip=(function(t){function e(){return _se(this,e),Ase(this,e,arguments)}return Cse(e,t),Sse(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=wse(n,mse),h=_t(p,!1);this.props.direction==="x"&&d.type!=="number"&&jc();var g=c.map(function(m){var v=u(m,l),x=v.x,_=v.y,w=v.value,j=v.errorVal;if(!j)return null;var S=[],A,O;if(Array.isArray(j)){var k=gse(j,2);A=k[0],O=k[1]}else A=O=j;if(i==="vertical"){var T=d.scale,R=_+a,P=R+o,I=R-o,M=T(w-A),D=T(w+O);S.push({x1:D,y1:P,x2:D,y2:I}),S.push({x1:M,y1:R,x2:D,y2:R}),S.push({x1:M,y1:P,x2:M,y2:I})}else if(i==="horizontal"){var G=f.scale,$=x+a,q=$-o,F=$+o,ee=G(w-A),he=G(w+O);S.push({x1:q,y1:he,x2:F,y2:he}),S.push({x1:$,y1:ee,x2:$,y2:he}),S.push({x1:q,y1:ee,x2:F,y2:ee})}return Y.createElement(ur,bg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},h),S.map(function(fe){return Y.createElement("line",bg({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return Y.createElement(ur,{className:"recharts-errorBars"},g)}}])})(Y.Component);FD(ip,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FD(ip,"displayName","ErrorBar");function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){Ese(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ese(t,e,r){return e=Tse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tse(t){var e=Ise(t,"string");return bh(e)=="symbol"?e:e+""}function Ise(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qD=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Ha(r,uc);if(!o)return null;var l=uc.defaultProps,c=l!==void 0?Ul(Ul({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Ul(Ul({},p),f.props):{},g=h.dataKey,m=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:bN(f),value:m||g,payload:h}}),Ul(Ul(Ul({},c),uc.getWithHeight(o,a)),{},{payload:u,item:o})};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function gE(t){return Dse(t)||Mse(t)||Lse(t)||Rse()}function Rse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return B5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B5(t,e)}}function Mse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dse(t){if(Array.isArray(t))return B5(t)}function B5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(r),!0).forEach(function(n){zu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zu(t,e,r){return e=$se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $se(t){var e=Fse(t,"string");return wh(e)=="symbol"?e:e+""}function Fse(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function On(t,e,r){return Dt(t)||Dt(e)?r:En(e)?Qa(t,e,r):It(e)?e(t):r}function Vf(t,e,r,n){var a=Die(t,function(l){return On(l,e)});if(r==="number"){var i=a.filter(function(l){return Fe(l)||parseFloat(l)});return i.length?[Jv(i),Zv(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Dt(l)}):a;return o.map(function(l){return En(l)||l instanceof Date?l:""})}var Bse=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(ca(f-d)!==ca(p-f)){var g=[];if(ca(p-f)===ca(c[1]-c[0])){h=p;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{h=d;var v=p+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){o=a[u].index;break}}else{var _=Math.min(d,p),w=Math.max(d,p);if(e>(_+f)/2&&e<=(w+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},bN=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?en(en({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},qse=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],m=g.items,v=g.cateAxisId,x=m.filter(function(O){return ho(O.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,w=_!==void 0?en(en({},_),x[0].props):x[0].props,j=w.barSize,S=w[v];o[S]||(o[S]=[]);var A=Dt(j)?r:j;o[S].push({item:x[0],stackList:x.slice(1),barSize:Dt(A)?void 0:ua(A,n,0)})}}return o},Use=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=ua(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/c,g=o.reduce(function(j,S){return j+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(p=!0,h*=.9,g=c*h);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(j,S){var A={item:S.item,position:{offset:v.offset+v.size+u,size:p?h:S.barSize}},O=[].concat(gE(j),[A]);return v=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){O.push({item:k,position:v})}),O},f)}else{var x=ua(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var _=(a-2*x-(c-1)*u)/c;_>1&&(_>>=0);var w=l===+l?Math.min(_,l):_;d=o.reduce(function(j,S,A){var O=[].concat(gE(j),[{item:S.item,position:{offset:x+(_+u)*A+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){O.push({item:k,position:O[O.length-1].position})}),O},f)}return d},zse=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=qD({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&Fe(e[h]))return en(en({},e),{},zu({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&Fe(e[g]))return en(en({},e),{},zu({},g,e[g]+(p||0)))}return e},Wse=function(e,r,n){return Dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},UD=function(e,r,n,a,i){var o=r.props.children,l=ei(o,ip).filter(function(u){return Wse(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=On(d,n);if(Dt(f))return u;var p=Array.isArray(f)?[Jv(f),Zv(f)]:[f,f],h=c.reduce(function(g,m){var v=On(d,m,0),x=p[0]-Math.abs(Array.isArray(v)?v[0]:v),_=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},Hse=function(e,r,n,a,i){var o=r.map(function(l){return UD(e,l,n,i,a)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},zD=function(e,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&UD(e,c,u,a)||Vf(e,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},WD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},HD=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},co=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ca(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Zh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},$w=new WeakMap,pm=function(e,r){if(typeof r!="function")return e;$w.has(e)||$w.set(e,new WeakMap);var n=$w.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},GD=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:hh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:mg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gf(),realScaleType:"point"}:i==="category"?{scale:hh(),realScaleType:"band"}:{scale:mg(),realScaleType:"linear"};if(yc(a)){var c="scale".concat(Dv(a));return{scale:(rE[c]||Gf)(),realScaleType:rE[c]?c:"point"}}return It(a)?{scale:a}:{scale:Gf(),realScaleType:"point"}},yE=1e-4,VD=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-yE,o=Math.max(a[0],a[1])+yE,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},Gse=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Vse=function(e,r){if(!r||r.length!==2||!Fe(r[0])||!Fe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(i[0]=n),(!Fe(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Kse=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Zh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Yse=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Zh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Xse={sign:Kse,expand:DQ,none:Zu,silhouette:$Q,wiggle:FQ,positive:Yse},Zse=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Xse[n],o=MQ().keys(a).value(function(l,c){return+On(l,c,0)}).order(g5).offset(i);return o(e)},Jse=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?en(en({},p.type.defaultProps),p.props):p.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],_=f[x]||{hasStack:!1,stackGroups:{}};if(En(m)){var w=_.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(p),_.hasStack=!0,_.stackGroups[m]=w}else _.stackGroups[Rd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return en(en({},f),{},zu({},x,_))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var x=h.stackGroups[v];return en(en({},m),{},zu({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Zse(e,x.items,i)}))},g)}return en(en({},f),{},zu({},p,h))},d)},KD=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=fse(u,i,l);return e.domain([Jv(d),Zv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),p=hse(f,i,l);return{niceTicks:p}}return null};function xE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Dt(a[e.dataKey])){var l=Xm(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=On(a,Dt(o)?e.dataKey:o);return Dt(c)?null:e.scale(c)}var bE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=On(o,r.dataKey,r.domain[l]);return Dt(c)?null:r.scale(c)-i/2+a},Qse=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},eoe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?en(en({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(En(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},toe=function(e){return e.reduce(function(r,n){return[Jv(n.concat([r[0]]).filter(Fe)),Zv(n.concat([r[1]]).filter(Fe))]},[1/0,-1/0])},YD=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=toe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q5=function(e,r,n){if(It(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Fe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(wE.test(e[0])){var i=+wE.exec(e[0])[1];a[0]=r[0]-i}else It(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Fe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(jE.test(e[1])){var o=+jE.exec(e[1])[1];a[1]=r[1]+o}else It(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},jg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=K_(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},_E=function(e,r,n){return!e||!e.length||ap(e,Qa(n,"type.defaultProps.domain"))?r:e},XD=function(e,r){var n=e.type.defaultProps?en(en({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return en(en({},_t(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:bN(e),value:On(r,a),type:c,payload:r,chartType:u,hide:d})};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function to(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){ZD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZD(t,e,r){return e=roe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function roe(t){var e=noe(t,"string");return jh(e)=="symbol"?e:e+""}function noe(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aoe(t,e){return loe(t)||ooe(t,e)||soe(t,e)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return SE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(t,e)}}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ooe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function loe(t){if(Array.isArray(t))return t}var _g=Math.PI/180,coe=function(e){return e*180/Math.PI},Fr=function(e,r,n,a){return{x:e+Math.cos(-_g*a)*n,y:r+Math.sin(-_g*a)*n}},JD=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uoe=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=ua(e.cx,o,o/2),f=ua(e.cy,l,l/2),p=JD(o,l,n),h=ua(e.innerRadius,p,0),g=ua(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(v,x){var _=r[x],w=_.domain,j=_.reversed,S;if(Dt(_.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[h,g]),j&&(S=[S[1],S[0]]);else{S=_.range;var A=S,O=aoe(A,2);c=O[0],u=O[1]}var k=GD(_,i),T=k.realScaleType,R=k.scale;R.domain(w).range(S),VD(R);var P=KD(R,to(to({},_),{},{realScaleType:T})),I=to(to(to({},_),P),{},{range:S,radius:g,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return to(to({},v),{},ZD({},x,I))},{})},doe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},foe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=doe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:coe(u),angleInRadian:u}},hoe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},poe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},AE=function(e,r){var n=e.x,a=e.y,i=foe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=hoe(r),f=d.startAngle,p=d.endAngle,h=l,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?to(to({},r),{},{radius:o,angle:poe(h,r)}):null},QD=function(e){return!N.isValidElement(e)&&!It(e)&&typeof e!="boolean"?e.className:""};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var moe=["offset"];function goe(t){return boe(t)||xoe(t)||yoe(t)||voe()}function voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yoe(t,e){if(t){if(typeof t=="string")return U5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U5(t,e)}}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function boe(t){if(Array.isArray(t))return U5(t)}function U5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function woe(t,e){if(t==null)return{};var r=joe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function joe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(r),!0).forEach(function(n){_oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _oe(t,e,r){return e=Noe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Noe(t){var e=Soe(t,"string");return _h(e)=="symbol"?e:e+""}function Soe(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nh.apply(this,arguments)}var Aoe=function(e){var r=e.value,n=e.formatter,a=Dt(e.children)?r:e.children;return It(n)?n(a):a},koe=function(e,r){var n=ca(r-e),a=Math.min(Math.abs(r-e),360);return n*a},Poe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+p)/2,x=koe(h,g),_=x>=0?1:-1,w,j;a==="insideStart"?(w=h+_*o,j=m):a==="insideEnd"?(w=g-_*o,j=!m):a==="end"&&(w=g+_*o,j=m),j=x<=0?j:!j;var S=Fr(u,d,v,w),A=Fr(u,d,v,w+(j?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(A.x,",").concat(A.y),k=Dt(e.id)?Rd("recharts-radial-line-"):e.id;return Y.createElement("text",Nh({},n,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:k,d:O})),Y.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Coe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Fr(o,l,u+n,p),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Fr(o,l,v,p),_=x.x,w=x.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ooe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",_=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return kn(kn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return kn(kn({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return kn(kn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:l+u+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return kn(kn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return i==="insideLeft"?kn({x:l+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},O):i==="insideRight"?kn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},O):i==="insideTop"?kn({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},O):i==="insideBottom"?kn({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},O):i==="insideTopLeft"?kn({x:l+v,y:c+p,textAnchor:_,verticalAnchor:g},O):i==="insideTopRight"?kn({x:l+u-v,y:c+p,textAnchor:x,verticalAnchor:g},O):i==="insideBottomLeft"?kn({x:l+v,y:c+d-p,textAnchor:_,verticalAnchor:h},O):i==="insideBottomRight"?kn({x:l+u-v,y:c+d-p,textAnchor:x,verticalAnchor:h},O):Id(i)&&(Fe(i.x)||rc(i.x))&&(Fe(i.y)||rc(i.y))?kn({x:l+ua(i.x,u),y:c+ua(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):kn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Eoe=function(e){return"cx"in e&&Fe(e.cx)};function Dn(t){var e=t.offset,r=e===void 0?5:e,n=woe(t,moe),a=kn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||Dt(l)&&Dt(c)&&!N.isValidElement(u)&&!It(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var h;if(It(u)){if(h=N.createElement(u,a),N.isValidElement(h))return h}else h=Aoe(a);var g=Eoe(i),m=_t(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Poe(a,h,m);var v=g?Coe(a):Ooe(a);return Y.createElement(bc,Nh({className:Bt("recharts-label",f)},m,v,{breakAll:p}),h)}Dn.displayName="Label";var e7=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,_=e.labelViewBox;if(_)return _;if(Fe(m)&&Fe(v)){if(Fe(f)&&Fe(p))return{x:f,y:p,width:m,height:v};if(Fe(h)&&Fe(g))return{x:h,y:g,width:m,height:v}}return Fe(f)&&Fe(p)?{x:f,y:p,width:0,height:0}:Fe(r)&&Fe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Toe=function(e,r){return e?e===!0?Y.createElement(Dn,{key:"label-implicit",viewBox:r}):En(e)?Y.createElement(Dn,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===Dn?N.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(Dn,{key:"label-implicit",content:e,viewBox:r}):It(e)?Y.createElement(Dn,{key:"label-implicit",content:e,viewBox:r}):Id(e)?Y.createElement(Dn,Nh({viewBox:r},e,{key:"label-implicit"})):null:null},Ioe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=e7(e),o=ei(a,Dn).map(function(c,u){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Toe(e.label,r||i);return[l].concat(goe(o))};Dn.parseViewBox=e7;Dn.renderCallByParent=Ioe;var Fw,PE;function Roe(){if(PE)return Fw;PE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Fw=t,Fw}var Loe=Roe();const Moe=br(Loe);function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}var Doe=["valueAccessor"],$oe=["data","dataKey","clockWise","id","textBreakAll"];function Foe(t){return zoe(t)||Uoe(t)||qoe(t)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(t,e){if(t){if(typeof t=="string")return z5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z5(t,e)}}function Uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zoe(t){if(Array.isArray(t))return z5(t)}function z5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){Woe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Woe(t,e,r){return e=Hoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hoe(t){var e=Goe(t,"string");return Sh(e)=="symbol"?e:e+""}function Goe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EE(t,e){if(t==null)return{};var r=Voe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Voe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Koe=function(e){return Array.isArray(e.value)?Moe(e.value):e.value};function mo(t){var e=t.valueAccessor,r=e===void 0?Koe:e,n=EE(t,Doe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=EE(n,$oe);return!a||!a.length?null:Y.createElement(ur,{className:"recharts-label-list"},a.map(function(d,f){var p=Dt(i)?r(d,f):On(d&&d.payload,i),h=Dt(l)?{}:{id:"".concat(l,"-").concat(f)};return Y.createElement(Dn,Ng({},_t(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Dn.parseViewBox(Dt(o)?d:OE(OE({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}mo.displayName="LabelList";function Yoe(t,e){return t?t===!0?Y.createElement(mo,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||It(t)?Y.createElement(mo,{key:"labelList-implicit",data:e,content:t}):Id(t)?Y.createElement(mo,Ng({data:e},t,{key:"labelList-implicit"})):null:null}function Xoe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=ei(n,mo).map(function(o,l){return N.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=Yoe(t.label,e);return[i].concat(Foe(a))}mo.renderCallByParent=Xoe;function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W5.apply(this,arguments)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){Zoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zoe(t,e,r){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Joe(t){var e=Qoe(t,"string");return Ah(e)=="symbol"?e:e+""}function Qoe(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ele=function(e,r){var n=ca(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},mm=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/_g,p=u?i:i+o*f,h=Fr(r,n,d,p),g=Fr(r,n,a,p),m=u?i-o*f:i,v=Fr(r,n,d*Math.cos(f*_g),m);return{center:h,circleTangency:g,lineTangency:v,theta:f}},t7=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=ele(o,l),u=o+c,d=Fr(r,n,i,o),f=Fr(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Fr(r,n,a,o),g=Fr(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},tle=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=ca(d-u),p=mm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,g=p.lineTangency,m=p.theta,v=mm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,_=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):t7({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var A=mm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,k=A.lineTangency,T=A.theta,R=mm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=R.circleTangency,I=R.lineTangency,M=R.theta,D=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(D<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},rle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r7=function(e){var r=IE(IE({},rle),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var h=Bt("recharts-sector",p),g=o-i,m=ua(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=tle({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=t7({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Y.createElement("path",W5({},_t(r,!0),{className:h,d:v,role:"img"}))};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function H5(){return H5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H5.apply(this,arguments)}function RE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(r),!0).forEach(function(n){nle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nle(t,e,r){return e=ale(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ale(t){var e=ile(t,"string");return kh(e)=="symbol"?e:e+""}function ile(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ME={curveBasisClosed:SQ,curveBasisOpen:AQ,curveBasis:NQ,curveBumpX:uQ,curveBumpY:dQ,curveLinearClosed:kQ,curveLinear:Fv,curveMonotoneX:PQ,curveMonotoneY:CQ,curveNatural:OQ,curveStep:EQ,curveStepAfter:IQ,curveStepBefore:TQ},gm=function(e){return e.x===+e.x&&e.y===+e.y},Sf=function(e){return e.x},Af=function(e){return e.y},sle=function(e,r){if(It(e))return e;var n="curve".concat(Dv(e));return(n==="curveMonotone"||n==="curveBump")&&r?ME["".concat(n).concat(r==="vertical"?"Y":"X")]:ME[n]||Fv},ole=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=sle(n,l),f=u?i.filter(function(m){return gm(m)}):i,p;if(Array.isArray(o)){var h=u?o.filter(function(m){return gm(m)}):o,g=f.map(function(m,v){return LE(LE({},m),{},{base:h[v]})});return l==="vertical"?p=om().y(Af).x1(Sf).x0(function(m){return m.base.x}):p=om().x(Sf).y1(Af).y0(function(m){return m.base.y}),p.defined(gm).curve(d),p(g)}return l==="vertical"&&Fe(o)?p=om().y(Af).x1(Sf).x0(o):Fe(o)?p=om().x(Sf).y1(Af).y0(o):p=eM().x(Sf).y(Af),p.defined(gm).curve(d),p(f)},Sg=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?ole(e):a;return N.createElement("path",H5({},_t(e,!1),Zm(e),{className:Bt("recharts-curve",r),d:o,ref:i}))},Bw={exports:{}},qw,DE;function lle(){if(DE)return qw;DE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qw=t,qw}var Uw,$E;function cle(){if($E)return Uw;$E=1;var t=lle();function e(){}function r(){}return r.resetWarningCache=e,Uw=function(){function n(o,l,c,u,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Uw}var FE;function ule(){return FE||(FE=1,Bw.exports=cle()()),Bw.exports}var dle=ule();const pr=br(dle);var fle=Object.getOwnPropertyNames,hle=Object.getOwnPropertySymbols,ple=Object.prototype.hasOwnProperty;function BE(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function vm(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function qE(t){return fle(t).concat(hle(t))}var mle=Object.hasOwn||(function(t,e){return ple.call(t,e)});function Mc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var gle="__v",vle="__o",yle="_owner",UE=Object.getOwnPropertyDescriptor,zE=Object.keys;function xle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ble(t,e){return Mc(t.getTime(),e.getTime())}function wle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jle(t,e){return t===e}function WE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var p=o.value,h=l.value;if(r.equals(p[0],h[0],c,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var _le=Mc;function Nle(t,e,r){var n=zE(t),a=n.length;if(zE(e).length!==a)return!1;for(;a-- >0;)if(!n7(t,e,r,n[a]))return!1;return!0}function kf(t,e,r){var n=qE(t),a=n.length;if(qE(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!n7(t,e,r,i)||(o=UE(t,i),l=UE(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Sle(t,e){return Mc(t.valueOf(),e.valueOf())}function Ale(t,e){return t.source===e.source&&t.flags===e.flags}function HE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function kle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Ple(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function n7(t,e,r,n){return(n===yle||n===vle||n===gle)&&(t.$$typeof||e.$$typeof)?!0:mle(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Cle="[object Arguments]",Ole="[object Boolean]",Ele="[object Date]",Tle="[object Error]",Ile="[object Map]",Rle="[object Number]",Lle="[object Object]",Mle="[object RegExp]",Dle="[object Set]",$le="[object String]",Fle="[object URL]",Ble=Array.isArray,GE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VE=Object.assign,qle=Object.prototype.toString.call.bind(Object.prototype.toString);function Ule(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?o(g,m,v):x==="function"?a(g,m,v):!1;var _=g.constructor;if(_!==m.constructor)return!1;if(_===Object)return l(g,m,v);if(Ble(g))return e(g,m,v);if(GE!=null&&GE(g))return f(g,m,v);if(_===Date)return r(g,m,v);if(_===RegExp)return u(g,m,v);if(_===Map)return i(g,m,v);if(_===Set)return d(g,m,v);var w=qle(g);return w===Ele?r(g,m,v):w===Mle?u(g,m,v):w===Ile?i(g,m,v):w===Dle?d(g,m,v):w===Lle?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):w===Fle?p(g,m,v):w===Tle?n(g,m,v):w===Cle?l(g,m,v):w===Ole||w===Rle||w===$le?c(g,m,v):!1}}function zle(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?kf:xle,areDatesEqual:ble,areErrorsEqual:wle,areFunctionsEqual:jle,areMapsEqual:n?BE(WE,kf):WE,areNumbersEqual:_le,areObjectsEqual:n?kf:Nle,arePrimitiveWrappersEqual:Sle,areRegExpsEqual:Ale,areSetsEqual:n?BE(HE,kf):HE,areTypedArraysEqual:n?kf:kle,areUrlsEqual:Ple};if(r&&(a=VE({},a,r(a))),e){var i=vm(a.areArraysEqual),o=vm(a.areMapsEqual),l=vm(a.areObjectsEqual),c=vm(a.areSetsEqual);a=VE({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Wle(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function Hle(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Gle=bl();bl({strict:!0});bl({circular:!0});bl({circular:!0,strict:!0});bl({createInternalComparator:function(){return Mc}});bl({strict:!0,createInternalComparator:function(){return Mc}});bl({circular:!0,createInternalComparator:function(){return Mc}});bl({circular:!0,createInternalComparator:function(){return Mc},strict:!0});function bl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=zle(t),c=Ule(l),u=n?n(c):Wle(c);return Hle({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Vle(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function KE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Vle(a)};requestAnimationFrame(n)}function G5(t){"@babel/helpers - typeof";return G5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G5(t)}function Kle(t){return Jle(t)||Zle(t)||Xle(t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t,e){if(t){if(typeof t=="string")return YE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(t,e)}}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jle(t){if(Array.isArray(t))return t}function Qle(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Kle(o),c=l[0],u=l.slice(1);if(typeof c=="number"){KE(a.bind(null,u),c);return}a(c),KE(a.bind(null,u));return}G5(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){a7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a7(t,e,r){return e=ece(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ece(t){var e=tce(t,"string");return Ph(e)==="symbol"?e:String(e)}function tce(t,e){if(Ph(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rce=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},nce=function(e){return e},ace=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kf=function(e,r){return Object.keys(r).reduce(function(n,a){return ZE(ZE({},n),{},a7({},a,e(a,r[a])))},{})},JE=function(e,r,n){return e.map(function(a){return"".concat(ace(a)," ").concat(r,"ms ").concat(n)}).join(",")};function ice(t,e){return lce(t)||oce(t,e)||i7(t,e)||sce()}function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lce(t){if(Array.isArray(t))return t}function cce(t){return fce(t)||dce(t)||i7(t)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(t,e){if(t){if(typeof t=="string")return V5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V5(t,e)}}function dce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fce(t){if(Array.isArray(t))return V5(t)}function V5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ag=1e-4,s7=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},o7=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},QE=function(e,r){return function(n){var a=s7(e,r);return o7(a,n)}},hce=function(e,r){return function(n){var a=s7(e,r),i=[].concat(cce(a.map(function(o,l){return o*l}).slice(1)),[0]);return o7(i,n)}},e6=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=ice(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=QE(a,o),p=QE(i,l),h=hce(a,o),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var _=x>1?1:x,w=_,j=0;j<8;++j){var S=f(w)-_,A=h(w);if(Math.abs(S-_)<Ag||A<Ag)return p(w);w=g(w-S/A)}return p(w)};return m.isStepper=!1,m},pce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(d,f,p){var h=-(d-f)*n,g=p*i,m=p+(h-g)*l/1e3,v=p*l/1e3+d;return Math.abs(v-f)<Ag&&Math.abs(m)<Ag?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},mce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e6(a);case"spring":return pce();default:if(a.split("(")[0]==="cubic-bezier")return e6(a)}return typeof a=="function"?a:null};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function t6(t){return yce(t)||vce(t)||l7(t)||gce()}function gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yce(t){if(Array.isArray(t))return Y5(t)}function r6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(r),!0).forEach(function(n){K5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K5(t,e,r){return e=xce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xce(t){var e=bce(t,"string");return Ch(e)==="symbol"?e:String(e)}function bce(t,e){if(Ch(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wce(t,e){return Nce(t)||_ce(t,e)||l7(t,e)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(t,e){if(t){if(typeof t=="string")return Y5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y5(t,e)}}function Y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _ce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nce(t){if(Array.isArray(t))return t}var kg=function(e,r,n){return e+(r-e)*n},X5=function(e){var r=e.from,n=e.to;return r!==n},Sce=function t(e,r,n){var a=Kf(function(i,o){if(X5(o)){var l=e(o.from,o.to,o.velocity),c=wce(l,2),u=c[0],d=c[1];return Hn(Hn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Kf(function(i,o){return X5(o)?Hn(Hn({},o),{},{velocity:kg(o.velocity,a[i].velocity,n),from:kg(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const Ace=(function(t,e,r,n,a){var i=rce(t,e),o=i.reduce(function(v,x){return Hn(Hn({},v),{},K5({},x,[t[x],e[x]]))},{}),l=i.reduce(function(v,x){return Hn(Hn({},v),{},K5({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Kf(function(x,_){return _.from},l)},h=function(){return!Object.values(l).filter(X5).length},g=function(x){u||(u=x);var _=x-u,w=_/r.dt;l=Sce(r,l,w),a(Hn(Hn(Hn({},t),e),p())),u=x,h()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var _=(x-d)/n,w=Kf(function(S,A){return kg.apply(void 0,t6(A).concat([r(_)]))},o);if(a(Hn(Hn(Hn({},t),e),w)),_<1)c=requestAnimationFrame(f);else{var j=Kf(function(S,A){return kg.apply(void 0,t6(A).concat([r(1)]))},o);a(Hn(Hn(Hn({},t),e),j))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var kce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pce(t,e){if(t==null)return{};var r=Cce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cce(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function zw(t){return Ice(t)||Tce(t)||Ece(t)||Oce()}function Oce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(t,e){if(t){if(typeof t=="string")return Z5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(t,e)}}function Tce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ice(t){if(Array.isArray(t))return Z5(t)}function Z5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){Df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Df(t,e,r){return e=c7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c7(n.key),n)}}function Mce(t,e,r){return e&&Lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c7(t){var e=Dce(t,"string");return sd(e)==="symbol"?e:String(e)}function Dce(t,e){if(sd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J5(t,e)}function J5(t,e){return J5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J5(t,e)}function Fce(t){var e=Bce();return function(){var n=Pg(t),a;if(e){var i=Pg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Q5(this,a)}}function Q5(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ej(t)}function ej(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}var ks=(function(t){$ce(r,t);var e=Fce(r);function r(n,a){var i;Rce(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ej(i)),i.changeStyle=i.changeStyle.bind(ej(i)),!l||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),Q5(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},Q5(i);i.state={style:c?Df({},c,u):u}}else i.state={style:{}};return i}return Mce(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(l){if(!o){var h={style:c?Df({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(Gle(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&p){var v={style:c?Df({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(v)}this.runAnimation(Ti(Ti({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=Ace(o,l,mce(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,v,x){if(x===0)return m;var _=v.duration,w=v.easing,j=w===void 0?"ease":w,S=v.style,A=v.properties,O=v.onAnimationEnd,k=x>0?o[x-1]:v,T=A||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(zw(m),[i.runJSAnimation.bind(i,{from:k.style,to:S,duration:_,easing:j}),_]);var R=JE(T,_,j),P=Ti(Ti(Ti({},k.style),S),{},{transition:R});return[].concat(zw(m),[P,_,O]).filter(nce)};return this.manager.start([c].concat(zw(o.reduce(h,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Qle());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=l?Df({},l,c):c,v=JE(Object.keys(m),o,u);g.start([d,i,Ti(Ti({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Pce(a,kce),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,x=g.className,_=N.cloneElement(h,Ti(Ti({},c),{},{style:Ti(Ti({},v),d),className:x}));return _};return u===1?f(N.Children.only(i)):Y.createElement("div",null,N.Children.map(i,function(p){return f(p)}))}}]),r})(N.PureComponent);ks.displayName="Animate";ks.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ks.propTypes={from:pr.oneOfType([pr.object,pr.string]),to:pr.oneOfType([pr.object,pr.string]),attributeName:pr.string,duration:pr.number,begin:pr.number,easing:pr.oneOfType([pr.string,pr.func]),steps:pr.arrayOf(pr.shape({duration:pr.number.isRequired,style:pr.object.isRequired,easing:pr.oneOfType([pr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pr.func]),properties:pr.arrayOf("string"),onAnimationEnd:pr.func})),children:pr.oneOfType([pr.node,pr.func]),isActive:pr.bool,canBegin:pr.bool,onAnimationEnd:pr.func,shouldReAnimate:pr.bool,onAnimationStart:pr.func,onAnimationReStart:pr.func};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cg.apply(this,arguments)}function qce(t,e){return Hce(t)||Wce(t,e)||zce(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(t,e){if(t){if(typeof t=="string")return a6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a6(t,e)}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Hce(t){if(Array.isArray(t))return t}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function s6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){Gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gce(t,e,r){return e=Vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vce(t){var e=Kce(t,"string");return Oh(e)=="symbol"?e:e+""}function Kce(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o6=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>o?o:i[p];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Yce=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},Xce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wN=function(e){var r=s6(s6({},Xce),e),n=N.useRef(),a=N.useState(-1),i=qce(a,2),o=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Bt("recharts-rectangle",h);return _?Y.createElement(ks,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:_},function(j){var S=j.width,A=j.height,O=j.x,k=j.y;return Y.createElement(ks,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},Y.createElement("path",Cg({},_t(r,!0),{className:w,d:o6(O,k,S,A,p),ref:n})))}):Y.createElement("path",Cg({},_t(r,!0),{className:w,d:o6(c,u,d,f,p)}))},Zce=["points","className","baseLinePoints","connectNulls"];function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tu.apply(this,arguments)}function Jce(t,e){if(t==null)return{};var r=Qce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l6(t){return nue(t)||rue(t)||tue(t)||eue()}function eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tue(t,e){if(t){if(typeof t=="string")return tj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(t,e)}}function rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nue(t){if(Array.isArray(t))return tj(t)}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c6=function(e){return e&&e.x===+e.x&&e.y===+e.y},aue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){c6(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),c6(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Yf=function(e,r){var n=aue(e);r&&(n=[n.reduce(function(i,o){return[].concat(l6(i),l6(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},iue=function(e,r,n){var a=Yf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Yf(r.reverse(),n).slice(1))},sue=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=Jce(e,Zce);if(!r||!r.length)return null;var l=Bt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=iue(r,a,i);return Y.createElement("g",{className:l},Y.createElement("path",Tu({},_t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Y.createElement("path",Tu({},_t(o,!0),{fill:"none",d:Yf(r,i)})):null,c?Y.createElement("path",Tu({},_t(o,!0),{fill:"none",d:Yf(a,i)})):null)}var d=Yf(r,i);return Y.createElement("path",Tu({},_t(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rj.apply(this,arguments)}var t0=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=Bt("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",rj({},_t(e,!1),Zm(e),{className:o,cx:r,cy:n,r:a})):null};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}var oue=["x","y","top","left","width","height","className"];function nj(){return nj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nj.apply(this,arguments)}function u6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=due(t,"string");return Eh(e)=="symbol"?e:e+""}function due(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e){if(t==null)return{};var r=hue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pue=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},mue=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,g=e.className,m=fue(e,oue),v=lue({x:n,y:i,top:l,left:u,width:f,height:h},m);return!Fe(n)||!Fe(i)||!Fe(f)||!Fe(h)||!Fe(l)||!Fe(u)?null:Y.createElement("path",nj({},_t(v,!0),{className:Bt("recharts-cross",g),d:pue(n,i,f,h,l,u)}))},Ww,d6;function gue(){if(d6)return Ww;d6=1;var t=Xv(),e=ND(),r=Ts();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Ww=n,Ww}var vue=gue();const yue=br(vue);var Hw,f6;function xue(){if(f6)return Hw;f6=1;var t=Xv(),e=Ts(),r=SD();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Hw=n,Hw}var bue=xue();const wue=br(bue);var jue=["cx","cy","angle","ticks","axisLine"],_ue=["ticks","tick","angle","tickFormatter","stroke"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xf.apply(this,arguments)}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){r0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p6(t,e){if(t==null)return{};var r=Nue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d7(n.key),n)}}function Aue(t,e,r){return e&&m6(t.prototype,e),r&&m6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,r){return e=Og(e),Pue(t,u7()?Reflect.construct(e,r||[],Og(t).constructor):e.apply(t,r))}function Pue(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u7=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}function Oue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aj(t,e)}function aj(t,e){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aj(t,e)}function r0(t,e,r){return e=d7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d7(t){var e=Eue(t,"string");return od(e)=="symbol"?e:e+""}function Eue(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n0=(function(t){function e(){return Sue(this,e),kue(this,e,arguments)}return Oue(e,t),Aue(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Fr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=yue(l,function(d){return d.coordinate||0}),u=wue(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=p6(n,jue),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Fr(a,i,d[0],o),p=Fr(a,i,d[1],o),h=zl(zl(zl({},_t(u,!1)),{},{fill:"none"},_t(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return Y.createElement("line",Xf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=p6(a,_ue),f=this.getTickTextAnchor(),p=_t(d,!1),h=_t(o,!1),g=i.map(function(m,v){var x=n.getTickValueCoord(m),_=zl(zl(zl(zl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:m});return Y.createElement(ur,Xf({className:Bt("recharts-polar-radius-axis-tick",QD(o)),key:"tick-".concat(m.coordinate)},xc(n.props,m,v)),e.renderTickItem(o,_,c?c(m.value,v):m.value))});return Y.createElement(ur,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:Y.createElement(ur,{className:Bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Dn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,a):It(n)?o=n(a):o=Y.createElement(bc,Xf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(N.PureComponent);r0(n0,"displayName","PolarRadiusAxis");r0(n0,"axisType","radiusAxis");r0(n0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function g6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(r),!0).forEach(function(n){a0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h7(n.key),n)}}function Iue(t,e,r){return e&&v6(t.prototype,e),r&&v6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rue(t,e,r){return e=Eg(e),Lue(t,f7()?Reflect.construct(e,r||[],Eg(t).constructor):e.apply(t,r))}function Lue(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mue(t)}function Mue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f7=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}function Due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ij(t,e)}function ij(t,e){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ij(t,e)}function a0(t,e,r){return e=h7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h7(t){var e=$ue(t,"string");return ld(e)=="symbol"?e:e+""}function $ue(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fue=Math.PI/180,y6=1e-5,i0=(function(t){function e(){return Tue(this,e),Rue(this,e,arguments)}return Due(e,t),Iue(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Fr(i,o,l,n.coordinate),p=Fr(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Fue),o;return i>y6?o=a==="outer"?"start":"end":i<-y6?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Wl(Wl({},_t(this.props,!1)),{},{fill:"none"},_t(l,!1));if(c==="circle")return Y.createElement(t0,ec({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Fr(a,i,o,p.coordinate)});return Y.createElement(sue,ec({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=_t(this.props,!1),f=_t(o,!1),p=Wl(Wl({},d),{},{fill:"none"},_t(l,!1)),h=i.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),_=Wl(Wl(Wl({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return Y.createElement(ur,ec({className:Bt("recharts-polar-angle-axis-tick",QD(o)),key:"tick-".concat(g.coordinate)},xc(n.props,g,m)),l&&Y.createElement("line",ec({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&e.renderTickItem(o,_,c?c(g.value,m):g.value))});return Y.createElement(ur,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:Y.createElement(ur,{className:Bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,a):It(n)?o=n(a):o=Y.createElement(bc,ec({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(N.PureComponent);a0(i0,"displayName","PolarAngleAxis");a0(i0,"axisType","angleAxis");a0(i0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gw,x6;function Bue(){if(x6)return Gw;x6=1;var t=_M(),e=t(Object.getPrototypeOf,Object);return Gw=e,Gw}var Vw,b6;function que(){if(b6)return Vw;b6=1;var t=ko(),e=Bue(),r=Po(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return Vw=u,Vw}var Uue=que();const zue=br(Uue);var Kw,w6;function Wue(){if(w6)return Kw;w6=1;var t=ko(),e=Po(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Kw=n,Kw}var Hue=Wue();const Gue=br(Hue);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function Vue(t,e){return Zue(t)||Xue(t,e)||Yue(t,e)||Kue()}function Kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yue(t,e){if(t){if(typeof t=="string")return j6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j6(t,e)}}function j6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zue(t){if(Array.isArray(t))return t}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){Jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jue(t,e,r){return e=Que(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Que(t){var e=ede(t,"string");return Th(e)=="symbol"?e:e+""}function ede(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S6=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},tde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rde=function(e){var r=N6(N6({},tde),e),n=N.useRef(),a=N.useState(-1),i=Vue(a,2),o=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var _=Bt("recharts-trapezoid",h);return x?Y.createElement(ks,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(w){var j=w.upperWidth,S=w.lowerWidth,A=w.height,O=w.x,k=w.y;return Y.createElement(ks,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Y.createElement("path",Tg({},_t(r,!0),{className:_,d:S6(O,k,j,S,A),ref:n})))}):Y.createElement("g",null,Y.createElement("path",Tg({},_t(r,!0),{className:_,d:S6(c,u,d,f,p)})))},nde=["option","shapeType","propTransformer","activeClassName","isActive"];function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function ade(t,e){if(t==null)return{};var r=ide(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ide(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){sde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sde(t,e,r){return e=ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ode(t){var e=lde(t,"string");return Ih(e)=="symbol"?e:e+""}function lde(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cde(t,e){return Ig(Ig({},e),t)}function ude(t,e){return t==="symbols"}function k6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(wN,r);case"trapezoid":return Y.createElement(rde,r);case"sector":return Y.createElement(r7,r);case"symbols":if(ude(e))return Y.createElement(B_,r);break;default:return null}}function dde(t){return N.isValidElement(t)?t.props:t}function p7(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?cde:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=ade(t,nde),u;if(N.isValidElement(e))u=N.cloneElement(e,Ig(Ig({},c),dde(e)));else if(It(e))u=e(c);else if(zue(e)&&!Gue(e)){var d=a(e,c);u=Y.createElement(k6,{shapeType:r,elementProps:d})}else{var f=c;u=Y.createElement(k6,{shapeType:r,elementProps:f})}return l?Y.createElement(ur,{className:o},u):u}function s0(t,e){return e!=null&&"trapezoids"in t.props}function o0(t,e){return e!=null&&"sectors"in t.props}function Rh(t,e){return e!=null&&"points"in t.props}function fde(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function hde(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function pde(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function mde(t,e){var r;return s0(t,e)?r=fde:o0(t,e)?r=hde:Rh(t,e)&&(r=pde),r}function gde(t,e){var r;return s0(t,e)?r="trapezoids":o0(t,e)?r="sectors":Rh(t,e)&&(r="points"),r}function vde(t,e){if(s0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(o0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rh(t,e)?e.payload:{}}function yde(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=gde(r,e),i=vde(r,e),o=n.filter(function(c,u){var d=ap(i,c),f=r.props[a].filter(function(g){var m=mde(r,e);return m(g,e)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),l=n.indexOf(o[o.length-1]);return l}var Tm;function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(this,arguments)}function P6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(r),!0).forEach(function(n){di(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g7(n.key),n)}}function bde(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wde(t,e,r){return e=Rg(e),jde(t,m7()?Reflect.construct(e,r||[],Rg(t).constructor):e.apply(t,r))}function jde(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _de(t)}function _de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m7=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}function Nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sj(t,e)}function sj(t,e){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sj(t,e)}function di(t,e,r){return e=g7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g7(t){var e=Sde(t,"string");return cd(e)=="symbol"?e:e+""}function Sde(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Is=(function(t){function e(r){var n;return xde(this,e),n=wde(this,e,[r]),di(n,"pieRef",null),di(n,"sectorRefs",[]),di(n,"id",Rd("recharts-pie-")),di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),It(a)&&a()}),di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),It(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Nde(e,t),bde(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=_t(this.props,!1),f=_t(o,!1),p=_t(l,!1),h=o&&o.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,_=Fr(m.cx,m.cy,m.outerRadius+h,x),w=Dr(Dr(Dr(Dr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,m.cx)},_),j=Dr(Dr(Dr(Dr({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:v,points:[Fr(m.cx,m.cy,m.outerRadius,x),_]}),S=c;return Dt(c)&&Dt(u)?S="value":Dt(c)&&(S=u),Y.createElement(ur,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,j,"line"),e.renderLabelItem(o,w,On(m,S)))});return Y.createElement(ur,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?o:p,g=Dr(Dr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Y.createElement(ur,Iu({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},xc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),Y.createElement(p7,Iu({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return Y.createElement(ks,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=i&&i[0],_=x.startAngle;return i.forEach(function(w,j){var S=p&&p[j],A=j>0?Qa(w,"paddingAngle",0):0;if(S){var O=Va(S.endAngle-S.startAngle,w.endAngle-w.startAngle),k=Dr(Dr({},w),{},{startAngle:_+A,endAngle:_+O(m)+A});v.push(k),_=k.endAngle}else{var T=w.endAngle,R=w.startAngle,P=Va(0,T-R),I=P(m),M=Dr(Dr({},w),{},{startAngle:_+A,endAngle:_+I+A});v.push(M),_=M.endAngle}}),Y.createElement(ur,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ap(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Fe(u)||!Fe(d)||!Fe(f)||!Fe(p))return null;var m=Bt("recharts-pie",l);return Y.createElement(ur,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Dn.renderCallByParent(this.props,null,!1),(!h||g)&&mo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Y.isValidElement(n))return Y.cloneElement(n,a);if(It(n))return n(a);var o=Bt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Y.createElement(Sg,Iu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(Y.isValidElement(n))return Y.cloneElement(n,a);var o=i;if(It(n)&&(o=n(a),Y.isValidElement(o)))return o;var l=Bt("recharts-pie-label-text",typeof n!="boolean"&&!It(n)?n.className:"");return Y.createElement(bc,Iu({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(N.PureComponent);Tm=Is;di(Is,"displayName","Pie");di(Is,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ic.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});di(Is,"parseDeltaAngle",function(t,e){var r=ca(e-t),n=Math.min(Math.abs(e-t),360);return r*n});di(Is,"getRealPieData",function(t){var e=t.data,r=t.children,n=_t(t,!1),a=ei(r,Qh);return e&&e.length?e.map(function(i,o){return Dr(Dr(Dr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Dr(Dr({},n),i.props)}):[]});di(Is,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=JD(a,i),l=n+ua(t.cx,a,a/2),c=r+ua(t.cy,i,i/2),u=ua(t.innerRadius,o,0),d=ua(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});di(Is,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Dr(Dr({},e.type.defaultProps),e.props):e.props,a=Tm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=Tm.parseCoordinateOfPie(n,r),m=Tm.parseDeltaAngle(o,l),v=Math.abs(m),x=u;Dt(u)&&Dt(f)?(zi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Dt(u)&&(zi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var _=a.filter(function(k){return On(k,x,0)!==0}).length,w=(v>=360?_:_-1)*c,j=v-_*h-w,S=a.reduce(function(k,T){var R=On(T,x,0);return k+(Fe(R)?R:0)},0),A;if(S>0){var O;A=a.map(function(k,T){var R=On(k,x,0),P=On(k,d,T),I=(Fe(R)?R:0)/S,M;T?M=O.endAngle+ca(m)*c*(R!==0?1:0):M=o;var D=M+ca(m)*((R!==0?h:0)+I*j),G=(M+D)/2,$=(g.innerRadius+g.outerRadius)/2,q=[{name:P,value:R,payload:k,dataKey:x,type:p}],F=Fr(g.cx,g.cy,$,G);return O=Dr(Dr(Dr({percent:I,cornerRadius:i,name:P,tooltipPayload:q,midAngle:G,middleRadius:$,tooltipPosition:F},k),g),{},{value:On(k,x),startAngle:M,endAngle:D,payload:k,paddingAngle:ca(m)*c}),O})}return Dr(Dr({},g),{},{sectors:A,data:a})});var Yw,O6;function Ade(){if(O6)return Yw;O6=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return Yw=r,Yw}var Xw,E6;function v7(){if(E6)return Xw;E6=1;var t=FM(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Xw=n,Xw}var Zw,T6;function kde(){if(T6)return Zw;T6=1;var t=Ade(),e=zv(),r=v7();function n(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return Zw=n,Zw}var Jw,I6;function Pde(){if(I6)return Jw;I6=1;var t=kde(),e=t();return Jw=e,Jw}var Cde=Pde();const Lg=br(Cde);function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function L6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){y7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y7(t,e,r){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ode(t){var e=Ede(t,"string");return Lh(e)=="symbol"?e:e+""}function Ede(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tde=["Webkit","Moz","O","ms"],Ide=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Tde.reduce(function(i,o){return L6(L6({},i),{},y7({},o+n,r))},{});return a[e]=r,a};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mg.apply(this,arguments)}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){Wa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b7(n.key),n)}}function Lde(t,e,r){return e&&D6(t.prototype,e),r&&D6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mde(t,e,r){return e=Dg(e),Dde(t,x7()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function Dde(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $de(t)}function $de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oj(t,e)}function oj(t,e){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oj(t,e)}function Wa(t,e,r){return e=b7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(t){var e=Bde(t,"string");return ud(e)=="symbol"?e:e+""}function Bde(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qde=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Gf().domain(Lg(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},$6=function(e){return e.changedTouches&&!!e.changedTouches.length},dd=(function(t){function e(r){var n;return Rde(this,e),n=Mde(this,e,[r]),Wa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Wa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Wa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Wa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Wa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Wa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Wa(n,"handleSlideDragStart",function(a){var i=$6(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Fde(e,t),Lde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=e.getIndexInRange(o,f),g=e.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=On(i[n],l,n);return It(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==p||v.endIndex!==h)&&g&&g(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=$6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},_=n.pageX-i;_>0?_=Math.min(_,f+p-h-u):_<0&&(_=Math.max(_,f-u)),x[o]=u+_;var w=this.getIndex(x),j=w.startIndex,S=w.endIndex,A=function(){var k=v.length-1;return o==="startX"&&(l>c?j%m===0:S%m===0)||l<c&&S===k||o==="endX"&&(l>c?S%m===0:j%m===0)||l>c&&S===k};this.setState(Wa(Wa({},o,u+_),"brushMoveStartX",n.pageX),function(){g&&A()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=l.length)){var h=l[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Wa({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Y.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?Y.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),_=Qw(Qw({},_t(this.props,!1)),{},{x,y:u,width:d,height:f}),w=h||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return Y.createElement(ur,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,_))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return Y.createElement(ur,{className:"recharts-brush-texts"},Y.createElement(bc,Mg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+l/2},g),this.getTextOfTick(a)),Y.createElement(bc,Mg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,m=p.isTextActive,v=p.isSlideMoving,x=p.isTravellerMoving,_=p.isTravellerFocused;if(!a||!a.length||!Fe(l)||!Fe(c)||!Fe(u)||!Fe(d)||u<=0||d<=0)return null;var w=Bt("recharts-brush",i),j=Y.Children.count(o)===1,S=Ide("userSelect","none");return Y.createElement(ur,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Y.isValidElement(n)?i=Y.cloneElement(n,a):It(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Qw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?qde({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(N.PureComponent);Wa(dd,"displayName","Brush");Wa(dd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var e2,F6;function Ude(){if(F6)return e2;F6=1;var t=V_();function e(r,n){var a;return t(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return e2=e,e2}var t2,B6;function zde(){if(B6)return t2;B6=1;var t=gM(),e=Ts(),r=Ude(),n=Oa(),a=zv();function i(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return t2=i,t2}var Wde=zde();const Hde=br(Wde);var _s=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},r2,q6;function Gde(){if(q6)return r2;q6=1;var t=RM();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return r2=e,r2}var n2,U6;function Vde(){if(U6)return n2;U6=1;var t=Gde(),e=TM(),r=Ts();function n(a,i){var o={};return i=r(i,3),e(a,function(l,c,u){t(o,c,i(l,c,u))}),o}return n2=n,n2}var Kde=Vde();const Yde=br(Kde);var a2,z6;function Xde(){if(z6)return a2;z6=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return a2=t,a2}var i2,W6;function Zde(){if(W6)return i2;W6=1;var t=V_();function e(r,n){var a=!0;return t(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return i2=e,i2}var s2,H6;function Jde(){if(H6)return s2;H6=1;var t=Xde(),e=Zde(),r=Ts(),n=Oa(),a=zv();function i(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return s2=i,s2}var Qde=Jde();const w7=br(Qde);var efe=["x","y"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lj.apply(this,arguments)}function G6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(r),!0).forEach(function(n){tfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tfe(t,e,r){return e=rfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rfe(t){var e=nfe(t,"string");return Mh(e)=="symbol"?e:e+""}function nfe(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function afe(t,e){if(t==null)return{};var r=ife(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ife(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sfe(t,e){var r=t.x,n=t.y,a=afe(t,efe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return Pf(Pf(Pf(Pf(Pf({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function V6(t){return Y.createElement(p7,lj({shapeType:"rectangle",propTransformer:sfe,activeClassName:"recharts-active-bar"},t))}var ofe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Fe(n)||EJ(n);return i?e(n,a):(i||jc(),r)}},lfe=["value","background"],j7;function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function cfe(t,e){if(t==null)return{};var r=ufe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ufe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){ll(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N7(n.key),n)}}function ffe(t,e,r){return e&&Y6(t.prototype,e),r&&Y6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hfe(t,e,r){return e=Fg(e),pfe(t,_7()?Reflect.construct(e,r||[],Fg(t).constructor):e.apply(t,r))}function pfe(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mfe(t)}function mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(t)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cj(t,e)}function cj(t,e){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cj(t,e)}function ll(t,e,r){return e=N7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N7(t){var e=vfe(t,"string");return fd(e)=="symbol"?e:e+""}function vfe(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wl=(function(t){function e(){var r;dfe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=hfe(this,e,[].concat(a)),ll(r,"state",{isAnimationFinished:!1}),ll(r,"id",Rd("recharts-bar-")),ll(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ll(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return gfe(e,t),ffe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=_t(this.props,!1);return n&&n.map(function(f,p){var h=p===c,g=h?u:o,m=vn(vn(vn({},d),f),{},{isActive:h,option:g,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Y.createElement(ur,$g({className:"recharts-bar-rectangle"},xc(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),Y.createElement(V6,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return Y.createElement(ks,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=i.map(function(v,x){var _=p&&p[x];if(_){var w=Va(_.x,v.x),j=Va(_.y,v.y),S=Va(_.width,v.width),A=Va(_.height,v.height);return vn(vn({},v),{},{x:w(g),y:j(g),width:S(g),height:A(g)})}if(o==="horizontal"){var O=Va(0,v.height),k=O(g);return vn(vn({},v),{},{y:v.y+v.height-k,height:k})}var T=Va(0,v.width),R=T(g);return vn(vn({},v),{},{width:R})});return Y.createElement(ur,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ap(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=_t(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=cfe(u,lfe);if(!f)return null;var h=vn(vn(vn(vn(vn({},p),{},{fill:"#eee"},f),c),xc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Y.createElement(V6,$g({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ei(d,ip);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,x){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:On(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Y.createElement(ur,g,f.map(function(m){return Y.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Bt("recharts-bar",o),_=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=_||w,S=Dt(m)?this.id:m;return Y.createElement(ur,{className:x},_||w?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(S)},Y.createElement("rect",{x:_?u:u-f/2,y:w?d:d-p/2,width:_?f:f*2,height:w?p:p*2}))):null,Y.createElement(ur,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!h||v)&&mo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(N.PureComponent);j7=wl;ll(wl,"displayName","Bar");ll(wl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ic.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ll(wl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=Gse(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?vn(vn({},m),r.props):r.props,x=v.dataKey,_=v.children,w=v.minPointSize,j=g==="horizontal"?o:i,S=u?j.scale.domain():null,A=Qse({numericAxis:j}),O=ei(_,Qh),k=f.map(function(T,R){var P,I,M,D,G,$;u?P=Vse(u[d+R],S):(P=On(T,x),Array.isArray(P)||(P=[A,P]));var q=ofe(w,j7.defaultProps.minPointSize)(P[1],R);if(g==="horizontal"){var F,ee=[o.scale(P[0]),o.scale(P[1])],he=ee[0],fe=ee[1];I=bE({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:T,index:R}),M=(F=fe??he)!==null&&F!==void 0?F:void 0,D=h.size;var B=he-fe;if(G=Number.isNaN(B)?0:B,$={x:I,y:o.y,width:D,height:o.height},Math.abs(q)>0&&Math.abs(G)<Math.abs(q)){var W=ca(G||q)*(Math.abs(q)-Math.abs(G));M-=W,G+=W}}else{var H=[i.scale(P[0]),i.scale(P[1])],re=H[0],ce=H[1];if(I=re,M=bE({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:T,index:R}),D=ce-re,G=h.size,$={x:i.x,y:M,width:i.width,height:G},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var se=ca(D||q)*(Math.abs(q)-Math.abs(D));D+=se}}return vn(vn(vn({},T),{},{x:I,y:M,width:D,height:G,value:u?P:P[1],payload:T,background:$},O&&O[R]&&O[R].props),{},{tooltipPayload:[XD(r,T)],tooltipPosition:{x:I+D/2,y:M+G/2}})});return vn({data:k,layout:g},p)});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S7(n.key),n)}}function xfe(t,e,r){return e&&X6(t.prototype,e),r&&X6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(r),!0).forEach(function(n){l0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l0(t,e,r){return e=S7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S7(t){var e=bfe(t,"string");return Dh(e)=="symbol"?e:e+""}function bfe(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A7=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Ha(u,wl);return d.reduce(function(h,g){var m=r[g],v=m.orientation,x=m.domain,_=m.padding,w=_===void 0?{}:_,j=m.mirror,S=m.reversed,A="".concat(v).concat(j?"Mirror":""),O,k,T,R,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=x[1]-x[0],M=1/0,D=m.categoricalDomain.sort(RJ);if(D.forEach(function(H,re){re>0&&(M=Math.min((H||0)-(D[re-1]||0),M))}),Number.isFinite(M)){var G=M/I,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(O=G*$/2),m.padding==="no-gap"){var q=ua(e.barCategoryGap,G*$),F=G*$/2;O=F-q-(F-q)/$*q}}}a==="xAxis"?k=[n.left+(w.left||0)+(O||0),n.left+n.width-(w.right||0)-(O||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(O||0),n.top+n.height-(w.bottom||0)-(O||0)]:k=m.range,S&&(k=[k[1],k[0]]);var ee=GD(m,i,p),he=ee.scale,fe=ee.realScaleType;he.domain(x).range(k),VD(he);var B=KD(he,Fi(Fi({},m),{},{realScaleType:fe}));a==="xAxis"?(P=v==="top"&&!j||v==="bottom"&&j,T=n.left,R=f[A]-P*m.height):a==="yAxis"&&(P=v==="left"&&!j||v==="right"&&j,T=f[A]-P*m.width,R=n.top);var W=Fi(Fi(Fi({},m),B),{},{realScaleType:fe,x:T,y:R,scale:he,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return W.bandSize=jg(W,B),!m.hide&&a==="xAxis"?f[A]+=(P?-1:1)*W.height:m.hide||(f[A]+=(P?-1:1)*W.width),Fi(Fi({},h),{},l0({},g,W))},{})},k7=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},wfe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return k7({x:r,y:n},{x:a,y:i})},P7=(function(){function t(e){yfe(this,t),this.scale=e}return xfe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();l0(P7,"EPS",1e-4);var jN=function(e){var r=Object.keys(e).reduce(function(n,a){return Fi(Fi({},n),{},l0({},a,P7.create(e[a])))},{});return Fi(Fi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Yde(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return w7(a,function(i,o){return r[o].isInRange(i)})}})};function jfe(t){return(t%180+180)%180}var _fe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=jfe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},o2,J6;function Nfe(){if(J6)return o2;J6=1;var t=Ts(),e=Jh(),r=qv();function n(a){return function(i,o,l){var c=Object(i);if(!e(i)){var u=t(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return o2=n,o2}var l2,Q6;function Sfe(){if(Q6)return l2;Q6=1;var t=v7();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return l2=e,l2}var c2,eT;function Afe(){if(eT)return c2;eT=1;var t=kM(),e=Ts(),r=Sfe(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(o,3),u)}return c2=a,c2}var u2,tT;function kfe(){if(tT)return u2;tT=1;var t=Nfe(),e=Afe(),r=t(e);return u2=r,u2}var Pfe=kfe();const Cfe=br(Pfe);var Ofe=zL();const Efe=br(Ofe);var Tfe=Efe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_N=N.createContext(void 0),NN=N.createContext(void 0),C7=N.createContext(void 0),O7=N.createContext({}),E7=N.createContext(void 0),T7=N.createContext(0),I7=N.createContext(0),rT=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Tfe(i);return Y.createElement(_N.Provider,{value:n},Y.createElement(NN.Provider,{value:a},Y.createElement(O7.Provider,{value:i},Y.createElement(C7.Provider,{value:d},Y.createElement(E7.Provider,{value:o},Y.createElement(T7.Provider,{value:u},Y.createElement(I7.Provider,{value:c},l)))))))},Ife=function(){return N.useContext(E7)},R7=function(e){var r=N.useContext(_N);r==null&&jc();var n=r[e];return n==null&&jc(),n},Rfe=function(){var e=N.useContext(_N);return al(e)},Lfe=function(){var e=N.useContext(NN),r=Cfe(e,function(n){return w7(n.domain,Number.isFinite)});return r||al(e)},L7=function(e){var r=N.useContext(NN);r==null&&jc();var n=r[e];return n==null&&jc(),n},Mfe=function(){var e=N.useContext(C7);return e},Dfe=function(){return N.useContext(O7)},SN=function(){return N.useContext(I7)},AN=function(){return N.useContext(T7)};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function $fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ffe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D7(n.key),n)}}function Bfe(t,e,r){return e&&Ffe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qfe(t,e,r){return e=Bg(e),Ufe(t,M7()?Reflect.construct(e,r||[],Bg(t).constructor):e.apply(t,r))}function Ufe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zfe(t)}function zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}function Wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uj(t,e)}function uj(t,e){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uj(t,e)}function nT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){kN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kN(t,e,r){return e=D7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D7(t){var e=Hfe(t,"string");return hd(e)=="symbol"?e:e+""}function Hfe(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gfe(t,e){return Xfe(t)||Yfe(t,e)||Kfe(t,e)||Vfe()}function Vfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kfe(t,e){if(t){if(typeof t=="string")return iT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(t,e)}}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xfe(t){if(Array.isArray(t))return t}function dj(){return dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dj.apply(this,arguments)}var Zfe=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):It(e)?n=e(r):n=Y.createElement("line",dj({},r,{className:"recharts-reference-line-line"})),n},Jfe=function(e,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:o});if(_s(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+p,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,_=e.x.apply(x,{position:o});if(_s(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+h},{x:_,y:f}];return l==="top"?w.reverse():w}if(a){var j=u.segment,S=j.map(function(A){return e.apply(A,{position:o})});return _s(u,"discard")&&Hde(S,function(A){return!e.isInRange(A)})?null:S}return null};function Qfe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Ife(),d=R7(a),f=L7(i),p=Mfe();if(!u||!p)return null;zi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=jN({x:d.scale,y:f.scale}),g=En(e),m=En(r),v=n&&n.length===2,x=Jfe(h,g,m,v,p,t.position,d.orientation,f.orientation,t);if(!x)return null;var _=Gfe(x,2),w=_[0],j=w.x,S=w.y,A=_[1],O=A.x,k=A.y,T=_s(t,"hidden")?"url(#".concat(u,")"):void 0,R=aT(aT({clipPath:T},_t(t,!0)),{},{x1:j,y1:S,x2:O,y2:k});return Y.createElement(ur,{className:Bt("recharts-reference-line",l)},Zfe(o,R),Dn.renderCallByParent(t,wfe({x1:j,y1:S,x2:O,y2:k})))}var PN=(function(t){function e(){return $fe(this,e),qfe(this,e,arguments)}return Wfe(e,t),Bfe(e,[{key:"render",value:function(){return Y.createElement(Qfe,this.props)}}])})(Y.Component);kN(PN,"displayName","ReferenceLine");kN(PN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fj.apply(this,arguments)}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function sT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(r),!0).forEach(function(n){c0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function the(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F7(n.key),n)}}function rhe(t,e,r){return e&&the(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nhe(t,e,r){return e=qg(e),ahe(t,$7()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function ahe(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(t)}function ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($7=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function she(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hj(t,e)}function hj(t,e){return hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hj(t,e)}function c0(t,e,r){return e=F7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F7(t){var e=ohe(t,"string");return pd(e)=="symbol"?e:e+""}function ohe(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lhe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=jN({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return _s(e,"discard")&&!o.isInRange(l)?null:l},u0=(function(t){function e(){return ehe(this,e),nhe(this,e,arguments)}return she(e,t),rhe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=En(a),d=En(i);if(zi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=lhe(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,m=g.shape,v=g.className,x=_s(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=oT(oT({clipPath:x},_t(this.props,!0)),{},{cx:p,cy:h});return Y.createElement(ur,{className:Bt("recharts-reference-dot",v)},e.renderDot(m,_),Dn.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])})(Y.Component);c0(u0,"displayName","ReferenceDot");c0(u0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});c0(u0,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):It(t)?r=t(e):r=Y.createElement(t0,fj({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function pj(){return pj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pj.apply(this,arguments)}function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function lT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(r),!0).forEach(function(n){d0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q7(n.key),n)}}function dhe(t,e,r){return e&&uhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,r){return e=Ug(e),hhe(t,B7()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function hhe(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mj(t,e)}function mj(t,e){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mj(t,e)}function d0(t,e,r){return e=q7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q7(t){var e=ghe(t,"string");return md(e)=="symbol"?e:e+""}function ghe(t,e){if(md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vhe=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=jN({x:d.scale,y:f.scale}),h={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return _s(i,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:k7(h,g)},f0=(function(t){function e(){return che(this,e),fhe(this,e,arguments)}return mhe(e,t),dhe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;zi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=En(a),p=En(i),h=En(o),g=En(l),m=this.props.shape;if(!f&&!p&&!h&&!g&&!m)return null;var v=vhe(f,p,h,g,this.props);if(!v&&!m)return null;var x=_s(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Y.createElement(ur,{className:Bt("recharts-reference-area",c)},e.renderRect(m,cT(cT({clipPath:x},_t(this.props,!0)),v)),Dn.renderCallByParent(this.props,v))}}])})(Y.Component);d0(f0,"displayName","ReferenceArea");d0(f0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});d0(f0,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):It(t)?r=t(e):r=Y.createElement(wN,pj({},e,{className:"recharts-reference-area-rect"})),r});function U7(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function yhe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return _fe(n,r)}function xhe(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function zg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function bhe(t,e){return U7(t,e+1)}function whe(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:U7(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},_=g.coordinate,w=c===0||zg(t,_,x,d,l);w||(c=0,d=o,u+=1),w&&(d=_+t*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function uT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(r),!0).forEach(function(n){jhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jhe(t,e,r){return e=_he(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _he(t){var e=Nhe(t,"string");return $h(e)=="symbol"?e:e+""}function Nhe(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function She(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(p){var h=i[p],g,m=function(){return g===void 0&&(g=r(h,p)),g};if(p===o-1){var v=t*(h.coordinate+t*m()/2-c);i[p]=h=Qn(Qn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else i[p]=h=Qn(Qn({},h),{},{tickCoord:h.coordinate});var x=zg(t,h.tickCoord,m,l,c);x&&(c=h.tickCoord-t*(m()/2+a),i[p]=Qn(Qn({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Ahe(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var d=n[l-1],f=r(d,l-1),p=t*(d.coordinate+t*f/2-u);o[l-1]=d=Qn(Qn({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=zg(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),o[l-1]=Qn(Qn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(_){var w=o[_],j,S=function(){return j===void 0&&(j=r(w,_)),j};if(_===0){var A=t*(w.coordinate-t*S()/2-c);o[_]=w=Qn(Qn({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else o[_]=w=Qn(Qn({},w),{},{tickCoord:w.coordinate});var O=zg(t,w.tickCoord,S,c,u);O&&(c=w.tickCoord+t*(S()/2+a),o[_]=Qn(Qn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function CN(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Fe(c)||Ic.isSsr)return bhe(a,typeof c=="number"&&Fe(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?Hf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,j){var S=It(u)?u(w.value,j):w.value;return h==="width"?yhe(Hf(S,{fontSize:e,letterSpacing:r}),g,f):Hf(S,{fontSize:e,letterSpacing:r})[h]},v=a.length>=2?ca(a[1].coordinate-a[0].coordinate):1,x=xhe(i,v,h);return c==="equidistantPreserveStart"?whe(v,x,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Ahe(v,x,m,a,o,c==="preserveStartEnd"):p=She(v,x,m,a,o),p.filter(function(_){return _.isShow}))}var khe=["viewBox"],Phe=["viewBox"],Che=["ticks"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function dT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(r),!0).forEach(function(n){ON(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d2(t,e){if(t==null)return{};var r=Ohe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ohe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W7(n.key),n)}}function The(t,e,r){return e&&fT(t.prototype,e),r&&fT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ihe(t,e,r){return e=Wg(e),Rhe(t,z7()?Reflect.construct(e,r||[],Wg(t).constructor):e.apply(t,r))}function Rhe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lhe(t)}function Lhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(t)}function Mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gj(t,e)}function gj(t,e){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gj(t,e)}function ON(t,e,r){return e=W7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W7(t){var e=Dhe(t,"string");return gd(e)=="symbol"?e:e+""}function Dhe(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fd=(function(t){function e(r){var n;return Ehe(this,e),n=Ihe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Mhe(e,t),The(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=d2(n,khe),l=this.props,c=l.viewBox,u=d2(l,Phe);return!qu(i,c)||!qu(o,u)||!qu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,g,m,v,x,_,w=f?-1:1,j=n.tickSize||d,S=Fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,v=o+ +!f*c,m=v-w*j,_=m-w*p,x=S;break;case"left":m=v=n.coordinate,g=i+ +!f*l,h=g-w*j,x=h-w*p,_=S;break;case"right":m=v=n.coordinate,g=i+ +f*l,h=g+w*j,x=h+w*p,_=S;break;default:h=g=n.coordinate,v=o+ +f*c,m=v+w*j,_=m+w*p,x=S;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=An(An(An({},_t(this.props,!1)),_t(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=An(An({},f),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=An(An({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return Y.createElement("line",Ru({},f,{className:Bt("recharts-cartesian-axis-line",Qa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,h=CN(An(An({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=_t(this.props,!1),x=_t(d,!1),_=An(An({},v),{},{fill:"none"},_t(c,!1)),w=h.map(function(j,S){var A=o.getTickLineCoord(j),O=A.line,k=A.tick,T=An(An(An(An({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),k),{},{index:S,payload:j,visibleTicksCount:h.length,tickFormatter:f});return Y.createElement(ur,Ru({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},xc(o.props,j,S)),c&&Y.createElement("line",Ru({},_,O,{className:Bt("recharts-cartesian-axis-tick-line",Qa(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(It(f)?f(j.value,S):j.value).concat(p||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=d2(f,Che),g=p;return It(c)&&(g=p&&p.length>0?c(this.props):c(h)),o<=0||l<=0||!g||!g.length?null:Y.createElement(ur,{className:Bt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Bt(a.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(n)?o=Y.cloneElement(n,An(An({},a),{},{className:l})):It(n)?o=n(An(An({},a),{},{className:l})):o=Y.createElement(bc,Ru({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(N.Component);ON(Fd,"displayName","CartesianAxis");ON(Fd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $he=["x1","y1","x2","y2","key"],Fhe=["offset"];function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function hT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(r),!0).forEach(function(n){Bhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bhe(t,e,r){return e=qhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qhe(t){var e=Uhe(t,"string");return _c(e)=="symbol"?e:e+""}function Uhe(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ic.apply(this,arguments)}function pT(t,e){if(t==null)return{};var r=zhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Whe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return Y.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function H7(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(It(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=pT(e,$he),u=_t(c,!1);u.offset;var d=pT(u,Fhe);r=Y.createElement("line",ic({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Hhe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ea(ea({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return H7(a,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ghe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=ea(ea({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return H7(a,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vhe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?a+o-p:d[h+1]-p;if(m<=0)return null;var v=h%e.length;return Y.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Khe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?i+l-p:d[h+1]-p;if(m<=0)return null;var v=h%n.length;return Y.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Yhe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return HD(CN(ea(ea(ea({},Fd.defaultProps),n),{},{ticks:co(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Xhe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return HD(CN(ea(ea(ea({},Fd.defaultProps),n),{},{ticks:co(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},yu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function EN(t){var e,r,n,a,i,o,l=SN(),c=AN(),u=Dfe(),d=ea(ea({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yu.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:yu.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:yu.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:yu.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:yu.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:yu.verticalFill,x:Fe(t.x)?t.x:u.left,y:Fe(t.y)?t.y:u.top,width:Fe(t.width)?t.width:u.width,height:Fe(t.height)?t.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,_=Rfe(),w=Lfe();if(!Fe(h)||h<=0||!Fe(g)||g<=0||!Fe(f)||f!==+f||!Fe(p)||p!==+p)return null;var j=d.verticalCoordinatesGenerator||Yhe,S=d.horizontalCoordinatesGenerator||Xhe,A=d.horizontalPoints,O=d.verticalPoints;if((!A||!A.length)&&It(S)){var k=v&&v.length,T=S({yAxis:w?ea(ea({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);zi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_c(T),"]")),Array.isArray(T)&&(A=T)}if((!O||!O.length)&&It(j)){var R=x&&x.length,P=j({xAxis:_?ea(ea({},_),{},{ticks:R?x:_.ticks}):void 0,width:l,height:c,offset:u},R?!0:m);zi(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_c(P),"]")),Array.isArray(P)&&(O=P)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(Whe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Y.createElement(Hhe,ic({},d,{offset:u,horizontalPoints:A,xAxis:_,yAxis:w})),Y.createElement(Ghe,ic({},d,{offset:u,verticalPoints:O,xAxis:_,yAxis:w})),Y.createElement(Vhe,ic({},d,{horizontalPoints:A})),Y.createElement(Khe,ic({},d,{verticalPoints:O})))}EN.displayName="CartesianGrid";var Zhe=["type","layout","connectNulls","ref"],Jhe=["key"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function mT(t,e){if(t==null)return{};var r=Qhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zf.apply(this,arguments)}function gT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(r),!0).forEach(function(n){Bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xu(t){return npe(t)||rpe(t)||tpe(t)||epe()}function epe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(t,e){if(t){if(typeof t=="string")return vj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vj(t,e)}}function rpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function npe(t){if(Array.isArray(t))return vj(t)}function vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V7(n.key),n)}}function ipe(t,e,r){return e&&vT(t.prototype,e),r&&vT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function spe(t,e,r){return e=Hg(e),ope(t,G7()?Reflect.construct(e,r||[],Hg(t).constructor):e.apply(t,r))}function ope(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(t)}function cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yj(t,e)}function yj(t,e){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yj(t,e)}function Bi(t,e,r){return e=V7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V7(t){var e=upe(t,"string");return vd(e)=="symbol"?e:e+""}function upe(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sp=(function(t){function e(){var r;ape(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=spe(this,e,[].concat(a)),Bi(r,"state",{isAnimationFinished:!0,totalLength:0}),Bi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Bi(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,_){return x+_});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,p=l-o,h=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){h=[].concat(xu(c.slice(0,g)),[f-m]);break}var v=h.length%2===0?[0,p]:[p];return[].concat(xu(e.repeat(c,d)),xu(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Bi(r,"id",Rd("recharts-line-")),Bi(r,"pathRef",function(o){r.mainCurve=o}),Bi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Bi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cpe(e,t),ipe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ei(d,ip);if(!f)return null;var p=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:On(m.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Y.createElement(ur,h,f.map(function(g){return Y.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=_t(this.props,!1),p=_t(c,!0),h=u.map(function(m,v){var x=za(za(za({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Y.createElement(ur,Zf({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=mT(l,Zhe),p=za(za(za({},_t(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Y.createElement(Sg,Zf({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,x=this.state,_=x.prevPoints,w=x.totalLength;return Y.createElement(ks,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(_){var A=_.length/l.length,O=l.map(function(I,M){var D=Math.floor(M*A);if(_[D]){var G=_[D],$=Va(G.x,I.x),q=Va(G.y,I.y);return za(za({},I),{},{x:$(S),y:q(S)})}if(g){var F=Va(m*2,I.x),ee=Va(v/2,I.y);return za(za({},I),{},{x:F(S),y:ee(S)})}return za(za({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(O,n,a)}var k=Va(0,w),T=k(S),R;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});R=i.getStrokeDasharray(T,w,P)}else R=i.generateSimpleStrokeDasharray(w,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ap(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,p=a.left,h=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,_=l.length===1,w=Bt("recharts-line",c),j=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,A=j||S,O=Dt(v)?this.id:v,k=(n=_t(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=k.r,R=T===void 0?3:T,P=k.strokeWidth,I=P===void 0?2:P,M=zJ(o)?o:{},D=M.clipDot,G=D===void 0?!0:D,$=R*2+I;return Y.createElement(ur,{className:w},j||S?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(O)},Y.createElement("rect",{x:j?p:p-h/2,y:S?f:f-g/2,width:j?h:h*2,height:S?g:g*2})),!G&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Y.createElement("rect",{x:p-$/2,y:f-$/2,width:h+$,height:g+$}))):null,!_&&this.renderCurve(A,O),this.renderErrorBar(A,O),(_||o)&&this.renderDots(A,G,O),(!m||x)&&mo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(xu(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(xu(o),xu(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Y.isValidElement(n))i=Y.cloneElement(n,a);else if(It(n))i=n(a);else{var o=a.key,l=mT(a,Jhe),c=Bt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Y.createElement(t0,Zf({key:o},l,{className:c}))}return i}}])})(N.PureComponent);Bi(sp,"displayName","Line");Bi(sp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ic.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Bi(sp,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(p,h){var g=On(p,o);return d==="horizontal"?{x:xE({axis:r,ticks:a,bandSize:l,entry:p,index:h}),y:Dt(g)?null:n.scale(g),value:g,payload:p}:{x:Dt(g)?null:r.scale(g),y:xE({axis:n,ticks:i,bandSize:l,entry:p,index:h}),value:g,payload:p}});return za({points:f,layout:d},u)});function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X7(n.key),n)}}function hpe(t,e,r){return e&&fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t,e,r){return e=Gg(e),mpe(t,K7()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function mpe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gpe(t)}function gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xj(t,e)}function xj(t,e){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xj(t,e)}function Y7(t,e,r){return e=X7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=ype(t,"string");return yd(e)=="symbol"?e:e+""}function ype(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bj(){return bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bj.apply(this,arguments)}function xpe(t){var e=t.xAxisId,r=SN(),n=AN(),a=R7(e);return a==null?null:N.createElement(Fd,bj({},a,{className:Bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return co(o,!0)}}))}var Bd=(function(t){function e(){return dpe(this,e),ppe(this,e,arguments)}return vpe(e,t),hpe(e,[{key:"render",value:function(){return N.createElement(xpe,this.props)}}])})(N.Component);Y7(Bd,"displayName","XAxis");Y7(Bd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q7(n.key),n)}}function jpe(t,e,r){return e&&wpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _pe(t,e,r){return e=Vg(e),Npe(t,Z7()?Reflect.construct(e,r||[],Vg(t).constructor):e.apply(t,r))}function Npe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Spe(t)}function Spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(t)}function Ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wj(t,e)}function wj(t,e){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wj(t,e)}function J7(t,e,r){return e=Q7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q7(t){var e=kpe(t,"string");return xd(e)=="symbol"?e:e+""}function kpe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jj.apply(this,arguments)}var Ppe=function(e){var r=e.yAxisId,n=SN(),a=AN(),i=L7(r);return i==null?null:N.createElement(Fd,jj({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return co(l,!0)}}))},Nc=(function(t){function e(){return bpe(this,e),_pe(this,e,arguments)}return Ape(e,t),jpe(e,[{key:"render",value:function(){return N.createElement(Ppe,this.props)}}])})(N.Component);J7(Nc,"displayName","YAxis");J7(Nc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yT(t){return Tpe(t)||Epe(t)||Ope(t)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ope(t,e){if(t){if(typeof t=="string")return _j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(t,e)}}function Epe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tpe(t){if(Array.isArray(t))return _j(t)}function _j(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nj=function(e,r,n,a,i){var o=ei(e,PN),l=ei(e,u0),c=[].concat(yT(o),yT(l)),u=ei(e,f0),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(m,v){if(v.props[d]===n&&_s(v.props,"extendDomain")&&Fe(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(m,v){if(v.props[d]===n&&_s(v.props,"extendDomain")&&Fe(v.props[h])&&Fe(v.props[g])){var x=v.props[h],_=v.props[g];return[Math.min(m[0],x,_),Math.max(m[1],x,_)]}return m},p)}return i&&i.length&&(p=i.reduce(function(m,v){return Fe(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},p)),p},f2={exports:{}},xT;function Ipe(){return xT||(xT=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,h,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,h),!0;case 6:return v.fn.call(v.context,d,f,p,h,g),!0}for(w=1,_=new Array(x-1);w<x;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var j=v.length,S;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,p);break;default:if(!_)for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];v[w].fn.apply(v[w].context,_)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||p&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(f2)),f2.exports}var Rpe=Ipe();const Lpe=br(Rpe);var h2=new Lpe,p2="recharts.syncMouseEvents";function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e9(n.key),n)}}function $pe(t,e,r){return e&&Dpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m2(t,e,r){return e=e9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e9(t){var e=Fpe(t,"string");return Fh(e)=="symbol"?e:e+""}function Fpe(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bpe=(function(){function t(){Mpe(this,t),m2(this,"activeIndex",0),m2(this,"coordinateList",[]),m2(this,"layout","horizontal")}return $pe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function qpe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Fe(n)&&Fe(a))return!0}return!1}function Upe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function t9(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Fr(e,r,n,a),l=Fr(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function zpe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=Fr(l,c,u,f),h=Fr(l,c,d,f);n=p.x,a=p.y,i=h.x,o=h.y}else return t9(e);return[{x:n,y:a},{x:i,y:o}]}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function bT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(r),!0).forEach(function(n){Wpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wpe(t,e,r){return e=Hpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hpe(t){var e=Gpe(t,"string");return Bh(e)=="symbol"?e:e+""}function Gpe(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vpe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var g,m=Sg;if(p==="ScatterChart")g=o,m=mue;else if(p==="BarChart")g=Upe(f,o,c,d),m=wN;else if(f==="radial"){var v=t9(o),x=v.cx,_=v.cy,w=v.radius,j=v.startAngle,S=v.endAngle;g={cx:x,cy:_,startAngle:j,endAngle:S,innerRadius:w,outerRadius:w},m=r7}else g={points:zpe(f,o,c)},m=Sg;var A=ym(ym(ym(ym({stroke:"#ccc",pointerEvents:"none"},c),g),_t(h,!1)),{},{payload:l,payloadIndex:u,className:Bt("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,A):N.createElement(m,A)}var Kpe=["item"],Ype=["children","className","width","height","style","compact","title","desc"];function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function wT(t,e){return Jpe(t)||Zpe(t,e)||n9(t,e)||Xpe()}function Xpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Jpe(t){if(Array.isArray(t))return t}function jT(t,e){if(t==null)return{};var r=Qpe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a9(n.key),n)}}function rme(t,e,r){return e&&tme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,r){return e=Kg(e),ame(t,r9()?Reflect.construct(e,r||[],Kg(t).constructor):e.apply(t,r))}function ame(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ime(t)}function ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(t)}function sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sj(t,e)}function Sj(t,e){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sj(t,e)}function wd(t){return cme(t)||lme(t)||n9(t)||ome()}function ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(t,e){if(t){if(typeof t=="string")return Aj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(t,e)}}function lme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cme(t){if(Array.isArray(t))return Aj(t)}function Aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(r),!0).forEach(function(n){St(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function St(t,e,r){return e=a9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a9(t){var e=ume(t,"string");return bd(e)=="symbol"?e:e+""}function ume(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dme={xAxis:["bottom","top"],yAxis:["left","right"]},fme={width:"100%",height:"100%"},i9={x:0,y:0};function xm(t){return t}var hme=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},pme=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return ke(ke(ke({},a),Fr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ke(ke(ke({},a),Fr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return i9},h0=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(wd(l),wd(u)):l},[]);return o.length>0?o:e&&e.length&&Fe(a)&&Fe(i)?e.slice(a,i+1):[]};function s9(t){return t==="number"?[0,"auto"]:void 0}var kj=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=h0(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;p=Xm(h,o.dataKey,a)}else p=f&&f[n]||l[n];return p?[].concat(wd(c),[XD(u,p)]):c},[])},NT=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=hme(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Bse(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=kj(e,r,d,f),h=pme(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},mme=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=WD(d,i);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?ke(ke({},m.type.defaultProps),m.props):m.props,_=x.type,w=x.dataKey,j=x.allowDataOverflow,S=x.allowDuplicatedCategory,A=x.scale,O=x.ticks,k=x.includeHidden,T=x[o];if(g[T])return g;var R=h0(e.data,{graphicalItems:a.filter(function(B){var W,H=o in B.props?B.props[o]:(W=B.type.defaultProps)===null||W===void 0?void 0:W[o];return H===T}),dataStartIndex:c,dataEndIndex:u}),P=R.length,I,M,D;qpe(x.domain,j,_)&&(I=q5(x.domain,null,j),h&&(_==="number"||A!=="auto")&&(D=Vf(R,w,"category")));var G=s9(_);if(!I||I.length===0){var $,q=($=x.domain)!==null&&$!==void 0?$:G;if(w){if(I=Vf(R,w,_),_==="category"&&h){var F=IJ(I);S&&F?(M=I,I=Lg(0,P)):S||(I=_E(q,I,m).reduce(function(B,W){return B.indexOf(W)>=0?B:[].concat(wd(B),[W])},[]))}else if(_==="category")S?I=I.filter(function(B){return B!==""&&!Dt(B)}):I=_E(q,I,m).reduce(function(B,W){return B.indexOf(W)>=0||W===""||Dt(W)?B:[].concat(wd(B),[W])},[]);else if(_==="number"){var ee=Hse(R,a.filter(function(B){var W,H,re=o in B.props?B.props[o]:(W=B.type.defaultProps)===null||W===void 0?void 0:W[o],ce="hide"in B.props?B.props.hide:(H=B.type.defaultProps)===null||H===void 0?void 0:H.hide;return re===T&&(k||!ce)}),w,i,d);ee&&(I=ee)}h&&(_==="number"||A!=="auto")&&(D=Vf(R,w,"category"))}else h?I=Lg(0,P):l&&l[T]&&l[T].hasStack&&_==="number"?I=p==="expand"?[0,1]:YD(l[T].stackGroups,c,u):I=zD(R,a.filter(function(B){var W=o in B.props?B.props[o]:B.type.defaultProps[o],H="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return W===T&&(k||!H)}),_,d,!0);if(_==="number")I=Nj(f,I,T,i,O),q&&(I=q5(q,I,j));else if(_==="category"&&q){var he=q,fe=I.every(function(B){return he.indexOf(B)>=0});fe&&(I=he)}}return ke(ke({},g),{},St({},T,ke(ke({},x),{},{axisType:i,domain:I,categoricalDomain:D,duplicateDomain:M,originalDomain:(v=x.domain)!==null&&v!==void 0?v:G,isCategorical:h,layout:d})))},{})},gme=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=h0(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,g=WD(d,i),m=-1;return n.reduce(function(v,x){var _=x.type.defaultProps!==void 0?ke(ke({},x.type.defaultProps),x.props):x.props,w=_[o],j=s9("number");if(!v[w]){m++;var S;return g?S=Lg(0,h):l&&l[w]&&l[w].hasStack?(S=YD(l[w].stackGroups,c,u),S=Nj(f,S,w,i)):(S=q5(j,zD(p,n.filter(function(A){var O,k,T=o in A.props?A.props[o]:(O=A.type.defaultProps)===null||O===void 0?void 0:O[o],R="hide"in A.props?A.props.hide:(k=A.type.defaultProps)===null||k===void 0?void 0:k.hide;return T===w&&!R}),"number",d),a.defaultProps.allowDataOverflow),S=Nj(f,S,w,i)),ke(ke({},v),{},St({},w,ke(ke({axisType:i},a.defaultProps),{},{hide:!0,orientation:Qa(dme,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},vme=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=ei(d,i),h={};return p&&p.length?h=mme(e,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=gme(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},yme=function(e){var r=al(e),n=co(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:K_(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},ST=function(e){var r=e.children,n=e.defaultShowTooltip,a=Ha(r,dd),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},xme=function(e){return!e||!e.length?!1:e.some(function(r){var n=ho(r&&r.type);return n&&n.indexOf("Bar")>=0})},AT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bme=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=Ha(f,dd),g=Ha(f,uc),m=Object.keys(c).reduce(function(S,A){var O=c[A],k=O.orientation;return!O.mirror&&!O.hide?ke(ke({},S),{},St({},k,S[k]+O.width)):S},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(S,A){var O=o[A],k=O.orientation;return!O.mirror&&!O.hide?ke(ke({},S),{},St({},k,Qa(S,"".concat(k))+O.height)):S},{top:p.top||0,bottom:p.bottom||0}),x=ke(ke({},v),m),_=x.bottom;h&&(x.bottom+=h.props.height||dd.defaultProps.height),g&&r&&(x=zse(x,a,n,r));var w=u-x.left-x.right,j=d-x.top-x.bottom;return ke(ke({brushBottom:_},x),{},{width:Math.max(w,0),height:Math.max(j,0)})},wme=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},TN=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(x,_){var w=_.graphicalItems,j=_.stackGroups,S=_.offset,A=_.updateId,O=_.dataStartIndex,k=_.dataEndIndex,T=x.barSize,R=x.layout,P=x.barGap,I=x.barCategoryGap,M=x.maxBarSize,D=AT(R),G=D.numericAxisName,$=D.cateAxisName,q=xme(w),F=[];return w.forEach(function(ee,he){var fe=h0(x.data,{graphicalItems:[ee],dataStartIndex:O,dataEndIndex:k}),B=ee.type.defaultProps!==void 0?ke(ke({},ee.type.defaultProps),ee.props):ee.props,W=B.dataKey,H=B.maxBarSize,re=B["".concat(G,"Id")],ce=B["".concat($,"Id")],se={},X=c.reduce(function(Ee,ze){var Ge=_["".concat(ze.axisType,"Map")],Vt=B["".concat(ze.axisType,"Id")];Ge&&Ge[Vt]||ze.axisType==="zAxis"||jc();var wt=Ge[Vt];return ke(ke({},Ee),{},St(St({},ze.axisType,wt),"".concat(ze.axisType,"Ticks"),co(wt)))},se),J=X[$],le=X["".concat($,"Ticks")],ue=j&&j[re]&&j[re].hasStack&&eoe(ee,j[re].stackGroups),oe=ho(ee.type).indexOf("Bar")>=0,Ne=jg(J,le),ge=[],te=q&&qse({barSize:T,stackGroups:j,totalSize:wme(X,$)});if(oe){var Ve,Be,qe=Dt(H)?M:H,_e=(Ve=(Be=jg(J,le,!0))!==null&&Be!==void 0?Be:qe)!==null&&Ve!==void 0?Ve:0;ge=Use({barGap:P,barCategoryGap:I,bandSize:_e!==Ne?_e:Ne,sizeList:te[ce],maxBarSize:qe}),_e!==Ne&&(ge=ge.map(function(Ee){return ke(ke({},Ee),{},{position:ke(ke({},Ee.position),{},{offset:Ee.position.offset-_e/2})})}))}var Ue=ee&&ee.type&&ee.type.getComposedData;Ue&&F.push({props:ke(ke({},Ue(ke(ke({},X),{},{displayedData:fe,props:x,dataKey:W,item:ee,bandSize:Ne,barPosition:ge,offset:S,stackedData:ue,layout:R,dataStartIndex:O,dataEndIndex:k}))),{},St(St(St({key:ee.key||"item-".concat(he)},G,X[G]),$,X[$]),"animationId",A)),childIndex:GJ(ee,x.children),item:ee})}),F},h=function(x,_){var w=x.props,j=x.dataStartIndex,S=x.dataEndIndex,A=x.updateId;if(!DP({props:w}))return null;var O=w.children,k=w.layout,T=w.stackOffset,R=w.data,P=w.reverseStackOrder,I=AT(k),M=I.numericAxisName,D=I.cateAxisName,G=ei(O,n),$=Jse(R,G,"".concat(M,"Id"),"".concat(D,"Id"),T,P),q=c.reduce(function(B,W){var H="".concat(W.axisType,"Map");return ke(ke({},B),{},St({},H,vme(w,ke(ke({},W),{},{graphicalItems:G,stackGroups:W.axisType===M&&$,dataStartIndex:j,dataEndIndex:S}))))},{}),F=bme(ke(ke({},q),{},{props:w,graphicalItems:G}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(B){q[B]=d(w,q[B],F,B.replace("Map",""),r)});var ee=q["".concat(D,"Map")],he=yme(ee),fe=p(w,ke(ke({},q),{},{dataStartIndex:j,dataEndIndex:S,updateId:A,graphicalItems:G,stackGroups:$,offset:F}));return ke(ke({formattedGraphicalItems:fe,graphicalItems:G,offset:F,stackGroups:$},he),q)},g=(function(v){function x(_){var w,j,S;return eme(this,x),S=nme(this,x,[_]),St(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(S,"accessibilityManager",new Bpe),St(S,"handleLegendBBoxUpdate",function(A){if(A){var O=S.state,k=O.dataStartIndex,T=O.dataEndIndex,R=O.updateId;S.setState(ke({legendBBox:A},h({props:S.props,dataStartIndex:k,dataEndIndex:T,updateId:R},ke(ke({},S.state),{},{legendBBox:A}))))}}),St(S,"handleReceiveSyncEvent",function(A,O,k){if(S.props.syncId===A){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),St(S,"handleBrushChange",function(A){var O=A.startIndex,k=A.endIndex;if(O!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return ke({dataStartIndex:O,dataEndIndex:k},h({props:S.props,dataStartIndex:O,dataEndIndex:k,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),St(S,"handleMouseEnter",function(A){var O=S.getMouseInfo(A);if(O){var k=ke(ke({},O),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var T=S.props.onMouseEnter;It(T)&&T(k,A)}}),St(S,"triggeredAfterMouseMove",function(A){var O=S.getMouseInfo(A),k=O?ke(ke({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var T=S.props.onMouseMove;It(T)&&T(k,A)}),St(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),St(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),St(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),St(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var k=S.props.onMouseLeave;It(k)&&k(O,A)}),St(S,"handleOuterEvent",function(A){var O=HJ(A),k=Qa(S.props,"".concat(O));if(O&&It(k)){var T,R;/.*touch.*/i.test(O)?R=S.getMouseInfo(A.changedTouches[0]):R=S.getMouseInfo(A),k((T=R)!==null&&T!==void 0?T:{},A)}}),St(S,"handleClick",function(A){var O=S.getMouseInfo(A);if(O){var k=ke(ke({},O),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var T=S.props.onClick;It(T)&&T(k,A)}}),St(S,"handleMouseDown",function(A){var O=S.props.onMouseDown;if(It(O)){var k=S.getMouseInfo(A);O(k,A)}}),St(S,"handleMouseUp",function(A){var O=S.props.onMouseUp;if(It(O)){var k=S.getMouseInfo(A);O(k,A)}}),St(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),St(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),St(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),St(S,"handleDoubleClick",function(A){var O=S.props.onDoubleClick;if(It(O)){var k=S.getMouseInfo(A);O(k,A)}}),St(S,"handleContextMenu",function(A){var O=S.props.onContextMenu;if(It(O)){var k=S.getMouseInfo(A);O(k,A)}}),St(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&h2.emit(p2,S.props.syncId,A,S.eventEmitterSymbol)}),St(S,"applySyncEvent",function(A){var O=S.props,k=O.layout,T=O.syncMethod,R=S.state.updateId,P=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(ke({dataStartIndex:P,dataEndIndex:I},h({props:S.props,dataStartIndex:P,dataEndIndex:I,updateId:R},S.state)));else if(A.activeTooltipIndex!==void 0){var M=A.chartX,D=A.chartY,G=A.activeTooltipIndex,$=S.state,q=$.offset,F=$.tooltipTicks;if(!q)return;if(typeof T=="function")G=T(F,A);else if(T==="value"){G=-1;for(var ee=0;ee<F.length;ee++)if(F[ee].value===A.activeLabel){G=ee;break}}var he=ke(ke({},q),{},{x:q.left,y:q.top}),fe=Math.min(M,he.x+he.width),B=Math.min(D,he.y+he.height),W=F[G]&&F[G].value,H=kj(S.state,S.props.data,G),re=F[G]?{x:k==="horizontal"?F[G].coordinate:fe,y:k==="horizontal"?B:F[G].coordinate}:i9;S.setState(ke(ke({},A),{},{activeLabel:W,activeCoordinate:re,activePayload:H,activeTooltipIndex:G}))}else S.setState(A)}),St(S,"renderCursor",function(A){var O,k=S.state,T=k.isTooltipActive,R=k.activeCoordinate,P=k.activePayload,I=k.offset,M=k.activeTooltipIndex,D=k.tooltipAxisBandSize,G=S.getTooltipEventType(),$=(O=A.props.active)!==null&&O!==void 0?O:T,q=S.props.layout,F=A.key||"_recharts-cursor";return Y.createElement(Vpe,{key:F,activeCoordinate:R,activePayload:P,activeTooltipIndex:M,chartName:r,element:A,isActive:$,layout:q,offset:I,tooltipAxisBandSize:D,tooltipEventType:G})}),St(S,"renderPolarAxis",function(A,O,k){var T=Qa(A,"type.axisType"),R=Qa(S.state,"".concat(T,"Map")),P=A.type.defaultProps,I=P!==void 0?ke(ke({},P),A.props):A.props,M=R&&R[I["".concat(T,"Id")]];return N.cloneElement(A,ke(ke({},M),{},{className:Bt(T,M.className),key:A.key||"".concat(O,"-").concat(k),ticks:co(M,!0)}))}),St(S,"renderPolarGrid",function(A){var O=A.props,k=O.radialLines,T=O.polarAngles,R=O.polarRadius,P=S.state,I=P.radiusAxisMap,M=P.angleAxisMap,D=al(I),G=al(M),$=G.cx,q=G.cy,F=G.innerRadius,ee=G.outerRadius;return N.cloneElement(A,{polarAngles:Array.isArray(T)?T:co(G,!0).map(function(he){return he.coordinate}),polarRadius:Array.isArray(R)?R:co(D,!0).map(function(he){return he.coordinate}),cx:$,cy:q,innerRadius:F,outerRadius:ee,key:A.key||"polar-grid",radialLines:k})}),St(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,O=S.props,k=O.children,T=O.width,R=O.height,P=S.props.margin||{},I=T-(P.left||0)-(P.right||0),M=qD({children:k,formattedGraphicalItems:A,legendWidth:I,legendContent:u});if(!M)return null;var D=M.item,G=jT(M,Kpe);return N.cloneElement(D,ke(ke({},G),{},{chartWidth:T,chartHeight:R,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),St(S,"renderTooltip",function(){var A,O=S.props,k=O.children,T=O.accessibilityLayer,R=Ha(k,Ga);if(!R)return null;var P=S.state,I=P.isTooltipActive,M=P.activeCoordinate,D=P.activePayload,G=P.activeLabel,$=P.offset,q=(A=R.props.active)!==null&&A!==void 0?A:I;return N.cloneElement(R,{viewBox:ke(ke({},$),{},{x:$.left,y:$.top}),active:q,label:G,payload:q?D:[],coordinate:M,accessibilityLayer:T})}),St(S,"renderBrush",function(A){var O=S.props,k=O.margin,T=O.data,R=S.state,P=R.offset,I=R.dataStartIndex,M=R.dataEndIndex,D=R.updateId;return N.cloneElement(A,{key:A.key||"_recharts-brush",onChange:pm(S.handleBrushChange,A.props.onChange),data:T,x:Fe(A.props.x)?A.props.x:P.left,y:Fe(A.props.y)?A.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:Fe(A.props.width)?A.props.width:P.width,startIndex:I,endIndex:M,updateId:"brush-".concat(D)})}),St(S,"renderReferenceElement",function(A,O,k){if(!A)return null;var T=S,R=T.clipPathId,P=S.state,I=P.xAxisMap,M=P.yAxisMap,D=P.offset,G=A.type.defaultProps||{},$=A.props,q=$.xAxisId,F=q===void 0?G.xAxisId:q,ee=$.yAxisId,he=ee===void 0?G.yAxisId:ee;return N.cloneElement(A,{key:A.key||"".concat(O,"-").concat(k),xAxis:I[F],yAxis:M[he],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:R})}),St(S,"renderActivePoints",function(A){var O=A.item,k=A.activePoint,T=A.basePoint,R=A.childIndex,P=A.isRange,I=[],M=O.props.key,D=O.item.type.defaultProps!==void 0?ke(ke({},O.item.type.defaultProps),O.item.props):O.item.props,G=D.activeDot,$=D.dataKey,q=ke(ke({index:R,dataKey:$,cx:k.x,cy:k.y,r:4,fill:bN(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},_t(G,!1)),Zm(G));return I.push(x.renderActiveDot(G,q,"".concat(M,"-activePoint-").concat(R))),T?I.push(x.renderActiveDot(G,ke(ke({},q),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(R))):P&&I.push(null),I}),St(S,"renderGraphicChild",function(A,O,k){var T=S.filterFormatItem(A,O,k);if(!T)return null;var R=S.getTooltipEventType(),P=S.state,I=P.isTooltipActive,M=P.tooltipAxis,D=P.activeTooltipIndex,G=P.activeLabel,$=S.props.children,q=Ha($,Ga),F=T.props,ee=F.points,he=F.isRange,fe=F.baseLine,B=T.item.type.defaultProps!==void 0?ke(ke({},T.item.type.defaultProps),T.item.props):T.item.props,W=B.activeDot,H=B.hide,re=B.activeBar,ce=B.activeShape,se=!!(!H&&I&&q&&(W||re||ce)),X={};R!=="axis"&&q&&q.props.trigger==="click"?X={onClick:pm(S.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(X={onMouseLeave:pm(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:pm(S.handleItemMouseEnter,A.props.onMouseEnter)});var J=N.cloneElement(A,ke(ke({},T.props),X));function le(ze){return typeof M.dataKey=="function"?M.dataKey(ze.payload):null}if(se)if(D>=0){var ue,oe;if(M.dataKey&&!M.allowDuplicatedCategory){var Ne=typeof M.dataKey=="function"?le:"payload.".concat(M.dataKey.toString());ue=Xm(ee,Ne,G),oe=he&&fe&&Xm(fe,Ne,G)}else ue=ee==null?void 0:ee[D],oe=he&&fe&&fe[D];if(ce||re){var ge=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[N.cloneElement(A,ke(ke(ke({},T.props),X),{},{activeIndex:ge})),null,null]}if(!Dt(ue))return[J].concat(wd(S.renderActivePoints({item:T,activePoint:ue,basePoint:oe,childIndex:D,isRange:he})))}else{var te,Ve=(te=S.getItemByXY(S.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:J},Be=Ve.graphicalItem,qe=Be.item,_e=qe===void 0?A:qe,Ue=Be.childIndex,Ee=ke(ke(ke({},T.props),X),{},{activeIndex:Ue});return[N.cloneElement(_e,Ee),null,null]}return he?[J,null,null]:[J,null]}),St(S,"renderCustomized",function(A,O,k){return N.cloneElement(A,ke(ke({key:"recharts-customized-".concat(k)},S.props),S.state))}),St(S,"renderMap",{CartesianGrid:{handler:xm,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:xm},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:xm},YAxis:{handler:xm},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Rd("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=BM(S.triggeredAfterMouseMove,(j=_.throttleDelay)!==null&&j!==void 0?j:1e3/60),S.state={},S}return sme(x,v),rme(x,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,S=w.data,A=w.height,O=w.layout,k=Ha(j,Ga);if(k){var T=k.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=kj(this.state,S,T,R),I=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+A)/2,D=O==="horizontal",G=D?{x:I,y:M}:{y:I,x:M},$=this.state.formattedGraphicalItems.find(function(F){var ee=F.item;return ee.type.name==="Scatter"});$&&(G=ke(ke({},G),$.props.points[T].tooltipPosition),P=$.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:G};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){c5([Ha(w.children,Ga)],[Ha(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ha(this.props.children,Ga);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,S=j.getBoundingClientRect(),A=Tre(S),O={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},k=S.width/j.offsetWidth||1,T=this.inRange(O.chartX,O.chartY,k);if(!T)return null;var R=this.state,P=R.xAxisMap,I=R.yAxisMap,M=this.getTooltipEventType(),D=NT(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&P&&I){var G=al(P).scale,$=al(I).scale,q=G&&G.invert?G.invert(O.chartX):null,F=$&&$.invert?$.invert(O.chartY):null;return ke(ke({},O),{},{xValue:q,yValue:F},D)}return D?ke(ke({},O),D):null}},{key:"inRange",value:function(w,j){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,O=w/S,k=j/S;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,R=O>=T.left&&O<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return R?{x:O,y:k}:null}var P=this.state,I=P.angleAxisMap,M=P.radiusAxisMap;if(I&&M){var D=al(I);return AE({x:O,y:k},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),S=Ha(w,Ga),A={};S&&j==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Zm(this.props,this.handleOuterEvent);return ke(ke({},O),A)}},{key:"addListener",value:function(){h2.on(p2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){h2.removeListener(p2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,S){for(var A=this.state.formattedGraphicalItems,O=0,k=A.length;O<k;O++){var T=A[O];if(T.item===w||T.props.key===w.key||j===ho(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,S=j.left,A=j.top,O=j.height,k=j.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:w},Y.createElement("rect",{x:S,y:A,height:O,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,S){var A=wT(S,2),O=A[0],k=A[1];return ke(ke({},j),{},St({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,S){var A=wT(S,2),O=A[0],k=A[1];return ke(ke({},j),{},St({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,S=j.formattedGraphicalItems,A=j.activeItem;if(S&&S.length)for(var O=0,k=S.length;O<k;O++){var T=S[O],R=T.props,P=T.item,I=P.type.defaultProps!==void 0?ke(ke({},P.type.defaultProps),P.props):P.props,M=ho(P.type);if(M==="Bar"){var D=(R.data||[]).find(function(F){return Yce(w,F)});if(D)return{graphicalItem:T,payload:D}}else if(M==="RadialBar"){var G=(R.data||[]).find(function(F){return AE(w,F)});if(G)return{graphicalItem:T,payload:G}}else if(s0(T,A)||o0(T,A)||Rh(T,A)){var $=yde({graphicalItem:T,activeTooltipItem:A,itemData:I.data}),q=I.activeIndex===void 0?$:I.activeIndex;return{graphicalItem:ke(ke({},T),{},{childIndex:q}),payload:Rh(T,A)?I.data[$]:T.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!DP(this))return null;var j=this.props,S=j.children,A=j.className,O=j.width,k=j.height,T=j.style,R=j.compact,P=j.title,I=j.desc,M=jT(j,Ype),D=_t(M,!1);if(R)return Y.createElement(rT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(d5,Lu({},D,{width:O,height:k,title:P,desc:I}),this.renderClipPath(),FP(S,this.renderMap)));if(this.props.accessibilityLayer){var G,$;D.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,D.role=($=this.props.role)!==null&&$!==void 0?$:"application",D.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},D.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return Y.createElement(rT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",Lu({className:Bt("recharts-wrapper",A),style:ke({position:"relative",cursor:"default",width:O,height:k},T)},q,{ref:function(ee){w.container=ee}}),Y.createElement(d5,Lu({},D,{width:O,height:k,title:P,desc:I,style:fme}),this.renderClipPath(),FP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);St(g,"displayName",r),St(g,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),St(g,"getDerivedStateFromProps",function(v,x){var _=v.dataKey,w=v.data,j=v.children,S=v.width,A=v.height,O=v.layout,k=v.stackOffset,T=v.margin,R=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var I=ST(v);return ke(ke(ke({},I),{},{updateId:0},h(ke(ke({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:A,prevLayout:O,prevStackOffset:k,prevMargin:T,prevChildren:j})}if(_!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||A!==x.prevHeight||O!==x.prevLayout||k!==x.prevStackOffset||!qu(T,x.prevMargin)){var M=ST(v),D={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},G=ke(ke({},NT(x,w,O)),{},{updateId:x.updateId+1}),$=ke(ke(ke({},M),D),G);return ke(ke(ke({},$),h(ke({props:v},$),x)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:A,prevLayout:O,prevStackOffset:k,prevMargin:T,prevChildren:j})}if(!c5(j,x.prevChildren)){var q,F,ee,he,fe=Ha(j,dd),B=fe&&(q=(F=fe.props)===null||F===void 0?void 0:F.startIndex)!==null&&q!==void 0?q:R,W=fe&&(ee=(he=fe.props)===null||he===void 0?void 0:he.endIndex)!==null&&ee!==void 0?ee:P,H=B!==R||W!==P,re=!Dt(w),ce=re&&!H?x.updateId:x.updateId+1;return ke(ke({updateId:ce},h(ke(ke({props:v},x),{},{updateId:ce,dataStartIndex:B,dataEndIndex:W}),x)),{},{prevChildren:j,dataStartIndex:B,dataEndIndex:W})}return null}),St(g,"renderActiveDot",function(v,x,_){var w;return N.isValidElement(v)?w=N.cloneElement(v,x):It(v)?w=v(x):w=Y.createElement(t0,x),Y.createElement(ur,{className:"recharts-active-dot",key:_},w)});var m=N.forwardRef(function(x,_){return Y.createElement(g,Lu({},x,{ref:_}))});return m.displayName=g.displayName,m},jme=TN({chartName:"LineChart",GraphicalChild:sp,axisComponents:[{axisType:"xAxis",AxisComp:Bd},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:A7}),_me=TN({chartName:"BarChart",GraphicalChild:wl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bd},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:A7}),o9=TN({chartName:"PieChart",GraphicalChild:Is,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:i0},{axisType:"radiusAxis",AxisComp:n0}],formatAxisMap:uoe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Nme=["top","right","bottom","left"],hl=Math.min,Ka=Math.max,Yg=Math.round,bm=Math.floor,Ns=t=>({x:t,y:t}),Sme={left:"right",right:"left",bottom:"top",top:"bottom"},Ame={start:"end",end:"start"};function Pj(t,e,r){return Ka(t,hl(e,r))}function So(t,e){return typeof t=="function"?t(e):t}function Ao(t){return t.split("-")[0]}function qd(t){return t.split("-")[1]}function IN(t){return t==="x"?"y":"x"}function RN(t){return t==="y"?"height":"width"}const kme=new Set(["top","bottom"]);function ys(t){return kme.has(Ao(t))?"y":"x"}function LN(t){return IN(ys(t))}function Pme(t,e,r){r===void 0&&(r=!1);const n=qd(t),a=LN(t),i=RN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Xg(o)),[o,Xg(o)]}function Cme(t){const e=Xg(t);return[Cj(t),e,Cj(e)]}function Cj(t){return t.replace(/start|end/g,e=>Ame[e])}const kT=["left","right"],PT=["right","left"],Ome=["top","bottom"],Eme=["bottom","top"];function Tme(t,e,r){switch(t){case"top":case"bottom":return r?e?PT:kT:e?kT:PT;case"left":case"right":return e?Ome:Eme;default:return[]}}function Ime(t,e,r,n){const a=qd(t);let i=Tme(Ao(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(Cj)))),i}function Xg(t){return t.replace(/left|right|bottom|top/g,e=>Sme[e])}function Rme(t){return{top:0,right:0,bottom:0,left:0,...t}}function l9(t){return typeof t!="number"?Rme(t):{top:t,right:t,bottom:t,left:t}}function Zg(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function CT(t,e,r){let{reference:n,floating:a}=t;const i=ys(e),o=LN(e),l=RN(o),c=Ao(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(qd(e)){case"start":h[o]-=p*(r&&u?-1:1);break;case"end":h[o]+=p*(r&&u?-1:1);break}return h}const Lme=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=CT(u,n,c),p=n,h={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:_,y:w,data:j,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=w??f,h={...h,[v]:{...h[v],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:f}=CT(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function qh(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=So(e,t),g=l9(h),v=l[p?f==="floating"?"reference":"floating":f],x=Zg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Zg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:w,strategy:c}):_);return{top:(x.top-S.top+g.top)/j.y,bottom:(S.bottom-x.bottom+g.bottom)/j.y,left:(x.left-S.left+g.left)/j.x,right:(S.right-x.right+g.right)/j.x}}const Mme=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=So(t,e)||{};if(u==null)return{};const f=l9(d),p={x:r,y:n},h=LN(a),g=RN(h),m=await o.getDimensions(u),v=h==="y",x=v?"top":"left",_=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[h]-p[h]-i.floating[g],S=p[h]-i.reference[h],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=A?A[w]:0;(!O||!await(o.isElement==null?void 0:o.isElement(A)))&&(O=l.floating[w]||i.floating[g]);const k=j/2-S/2,T=O/2-m[g]/2-1,R=hl(f[x],T),P=hl(f[_],T),I=R,M=O-m[g]-P,D=O/2-m[g]/2+k,G=Pj(I,D,M),$=!c.arrow&&qd(a)!=null&&D!==G&&i.reference[g]/2-(D<I?R:P)-m[g]/2<0,q=$?D<I?D-I:D-M:0;return{[h]:p[h]+q,data:{[h]:G,centerOffset:D-G-q,...$&&{alignmentOffset:q}},reset:$}}}),Dme=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=So(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Ao(a),_=ys(l),w=Ao(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(w||!m?[Xg(l)]:Cme(l)),A=g!=="none";!p&&A&&S.push(...Ime(l,m,g,j));const O=[l,...S],k=await qh(e,v),T=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(k[x]),f){const D=Pme(a,o,j);T.push(k[D[0]],k[D[1]])}if(R=[...R,{placement:a,overflows:T}],!T.every(D=>D<=0)){var P,I;const D=(((P=i.flip)==null?void 0:P.index)||0)+1,G=O[D];if(G&&(!(f==="alignment"?_!==ys(G):!1)||R.every(F=>ys(F.placement)===_?F.overflows[0]>0:!0)))return{data:{index:D,overflows:R},reset:{placement:G}};let $=(I=R.filter(q=>q.overflows[0]<=0).sort((q,F)=>q.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(h){case"bestFit":{var M;const q=(M=R.filter(F=>{if(A){const ee=ys(F.placement);return ee===_||ee==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ee=>ee>0).reduce((ee,he)=>ee+he,0)]).sort((F,ee)=>F[1]-ee[1])[0])==null?void 0:M[0];q&&($=q);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function OT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ET(t){return Nme.some(e=>t[e]>=0)}const $me=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=So(t,e);switch(n){case"referenceHidden":{const i=await qh(e,{...a,elementContext:"reference"}),o=OT(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ET(o)}}}case"escaped":{const i=await qh(e,{...a,altBoundary:!0}),o=OT(i,r.floating);return{data:{escapedOffsets:o,escaped:ET(o)}}}default:return{}}}}},c9=new Set(["left","top"]);async function Fme(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Ao(r),l=qd(r),c=ys(r)==="y",u=c9.has(o)?-1:1,d=i&&c?-1:1,f=So(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const Bme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await Fme(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},qme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:_}=v;return{x,y:_}}},...c}=So(t,e),u={x:r,y:n},d=await qh(e,c),f=ys(Ao(a)),p=IN(f);let h=u[p],g=u[f];if(i){const v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",_=h+d[v],w=h-d[x];h=Pj(_,h,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=g+d[v],w=g-d[x];g=Pj(_,g,w)}const m=l.fn({...e,[p]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:o}}}}}},Ume=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=So(t,e),d={x:r,y:n},f=ys(a),p=IN(f);let h=d[p],g=d[f];const m=So(l,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=p==="y"?"height":"width",j=i.reference[p]-i.floating[w]+v.mainAxis,S=i.reference[p]+i.reference[w]-v.mainAxis;h<j?h=j:h>S&&(h=S)}if(u){var x,_;const w=p==="y"?"width":"height",j=c9.has(Ao(a)),S=i.reference[f]-i.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:v.crossAxis),A=i.reference[f]+i.reference[w]+(j?0:((_=o.offset)==null?void 0:_[f])||0)-(j?v.crossAxis:0);g<S?g=S:g>A&&(g=A)}return{[p]:h,[f]:g}}}},zme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=So(t,e),d=await qh(e,u),f=Ao(a),p=qd(a),h=ys(a)==="y",{width:g,height:m}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=p==="end"?"top":"bottom");const _=m-d.top-d.bottom,w=g-d.left-d.right,j=hl(m-d[v],_),S=hl(g-d[x],w),A=!e.middlewareData.shift;let O=j,k=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=_),A&&!p){const R=Ka(d.left,0),P=Ka(d.right,0),I=Ka(d.top,0),M=Ka(d.bottom,0);h?k=g-2*(R!==0||P!==0?R+P:Ka(d.left,d.right)):O=m-2*(I!==0||M!==0?I+M:Ka(d.top,d.bottom))}await c({...e,availableWidth:k,availableHeight:O});const T=await o.getDimensions(l.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function p0(){return typeof window<"u"}function Ud(t){return u9(t)?(t.nodeName||"").toLowerCase():"#document"}function ti(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rs(t){var e;return(e=(u9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function u9(t){return p0()?t instanceof Node||t instanceof ti(t).Node:!1}function Hi(t){return p0()?t instanceof Element||t instanceof ti(t).Element:!1}function Ps(t){return p0()?t instanceof HTMLElement||t instanceof ti(t).HTMLElement:!1}function TT(t){return!p0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ti(t).ShadowRoot}const Wme=new Set(["inline","contents"]);function op(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Gi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Wme.has(a)}const Hme=new Set(["table","td","th"]);function Gme(t){return Hme.has(Ud(t))}const Vme=[":popover-open",":modal"];function m0(t){return Vme.some(e=>{try{return t.matches(e)}catch{return!1}})}const Kme=["transform","translate","scale","rotate","perspective"],Yme=["transform","translate","scale","rotate","perspective","filter"],Xme=["paint","layout","strict","content"];function MN(t){const e=DN(),r=Hi(t)?Gi(t):t;return Kme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Yme.some(n=>(r.willChange||"").includes(n))||Xme.some(n=>(r.contain||"").includes(n))}function Zme(t){let e=pl(t);for(;Ps(e)&&!jd(e);){if(MN(e))return e;if(m0(e))return null;e=pl(e)}return null}function DN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jme=new Set(["html","body","#document"]);function jd(t){return Jme.has(Ud(t))}function Gi(t){return ti(t).getComputedStyle(t)}function g0(t){return Hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pl(t){if(Ud(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TT(t)&&t.host||Rs(t);return TT(e)?e.host:e}function d9(t){const e=pl(t);return jd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ps(e)&&op(e)?e:d9(e)}function Uh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=d9(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=ti(a);if(i){const l=Oj(o);return e.concat(o,o.visualViewport||[],op(a)?a:[],l&&r?Uh(l):[])}return e.concat(a,Uh(a,[],r))}function Oj(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function f9(t){const e=Gi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Ps(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=Yg(r)!==i||Yg(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function $N(t){return Hi(t)?t:t.contextElement}function Wu(t){const e=$N(t);if(!Ps(e))return Ns(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=f9(e);let o=(i?Yg(r.width):r.width)/n,l=(i?Yg(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Qme=Ns(0);function h9(t){const e=ti(t);return!DN()||!e.visualViewport?Qme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ege(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ti(t)?!1:e}function Sc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=$N(t);let o=Ns(1);e&&(n?Hi(n)&&(o=Wu(n)):o=Wu(t));const l=ege(i,r,n)?h9(i):Ns(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const p=ti(i),h=n&&Hi(n)?ti(n):n;let g=p,m=Oj(g);for(;m&&n&&h!==g;){const v=Wu(m),x=m.getBoundingClientRect(),_=Gi(m),w=x.left+(m.clientLeft+parseFloat(_.paddingLeft))*v.x,j=x.top+(m.clientTop+parseFloat(_.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=j,g=ti(m),m=Oj(g)}}return Zg({width:d,height:f,x:c,y:u})}function v0(t,e){const r=g0(t).scrollLeft;return e?e.left+r:Sc(Rs(t)).left+r}function p9(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-v0(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function tge(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Rs(n),l=e?m0(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ns(1);const d=Ns(0),f=Ps(n);if((f||!f&&!i)&&((Ud(n)!=="body"||op(o))&&(c=g0(n)),Ps(n))){const h=Sc(n);u=Wu(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=o&&!f&&!i?p9(o,c):Ns(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function rge(t){return Array.from(t.getClientRects())}function nge(t){const e=Rs(t),r=g0(t),n=t.ownerDocument.body,a=Ka(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ka(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+v0(t);const l=-r.scrollTop;return Gi(n).direction==="rtl"&&(o+=Ka(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const IT=25;function age(t,e){const r=ti(t),n=Rs(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=DN();(!d||d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=v0(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=IT&&(i-=g)}else u<=IT&&(i+=u);return{width:i,height:o,x:l,y:c}}const ige=new Set(["absolute","fixed"]);function sge(t,e){const r=Sc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Ps(t)?Wu(t):Ns(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function RT(t,e,r){let n;if(e==="viewport")n=age(t,r);else if(e==="document")n=nge(Rs(t));else if(Hi(e))n=sge(e,r);else{const a=h9(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Zg(n)}function m9(t,e){const r=pl(t);return r===e||!Hi(r)||jd(r)?!1:Gi(r).position==="fixed"||m9(r,e)}function oge(t,e){const r=e.get(t);if(r)return r;let n=Uh(t,[],!1).filter(l=>Hi(l)&&Ud(l)!=="body"),a=null;const i=Gi(t).position==="fixed";let o=i?pl(t):t;for(;Hi(o)&&!jd(o);){const l=Gi(o),c=MN(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&ige.has(a.position)||op(o)&&!c&&m9(t,o))?n=n.filter(d=>d!==o):a=l,o=pl(o)}return e.set(t,n),n}function lge(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?m0(e)?[]:oge(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=RT(e,d,a);return u.top=Ka(f.top,u.top),u.right=hl(f.right,u.right),u.bottom=hl(f.bottom,u.bottom),u.left=Ka(f.left,u.left),u},RT(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cge(t){const{width:e,height:r}=f9(t);return{width:e,height:r}}function uge(t,e,r){const n=Ps(e),a=Rs(e),i=r==="fixed",o=Sc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ns(0);function u(){c.x=v0(a)}if(n||!n&&!i)if((Ud(e)!=="body"||op(a))&&(l=g0(e)),n){const h=Sc(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?p9(a,l):Ns(0),f=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function g2(t){return Gi(t).position==="static"}function LT(t,e){if(!Ps(t)||Gi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Rs(t)===r&&(r=r.ownerDocument.body),r}function g9(t,e){const r=ti(t);if(m0(t))return r;if(!Ps(t)){let a=pl(t);for(;a&&!jd(a);){if(Hi(a)&&!g2(a))return a;a=pl(a)}return r}let n=LT(t,e);for(;n&&Gme(n)&&g2(n);)n=LT(n,e);return n&&jd(n)&&g2(n)&&!MN(n)?r:n||Zme(t)||r}const dge=async function(t){const e=this.getOffsetParent||g9,r=this.getDimensions,n=await r(t.floating);return{reference:uge(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fge(t){return Gi(t).direction==="rtl"}const hge={convertOffsetParentRelativeRectToViewportRelativeRect:tge,getDocumentElement:Rs,getClippingRect:lge,getOffsetParent:g9,getElementRects:dge,getClientRects:rge,getDimensions:cge,getScale:Wu,isElement:Hi,isRTL:fge};function v9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pge(t,e){let r=null,n;const a=Rs(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||e(),!p||!h)return;const g=bm(f),m=bm(a.clientWidth-(d+p)),v=bm(a.clientHeight-(f+h)),x=bm(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Ka(0,hl(1,c))||1};let j=!0;function S(A){const O=A[0].intersectionRatio;if(O!==c){if(!j)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!v9(u,t.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(t)}return o(!0),i}function mge(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$N(t),d=a||i?[...u?Uh(u):[],...Uh(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?pge(u,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,m=c?Sc(t):null;c&&v();function v(){const x=Sc(t);m&&!v9(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(_=>{a&&_.removeEventListener("scroll",r),i&&_.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const gge=Bme,vge=qme,yge=Dme,xge=zme,bge=$me,MT=Mme,wge=Ume,jge=(t,e,r)=>{const n=new Map,a={platform:hge,...r},i={...a.platform,_c:n};return Lme(t,e,{...a,platform:i})};var _ge=typeof document<"u",Nge=function(){},Im=_ge?N.useLayoutEffect:Nge;function Jg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Jg(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Jg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function y9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DT(t,e){const r=y9(t);return Math.round(e*r)/r}function v2(t){const e=N.useRef(t);return Im(()=>{e.current=t}),e}function Sge(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=N.useState(n);Jg(p,n)||h(n);const[g,m]=N.useState(null),[v,x]=N.useState(null),_=N.useCallback(F=>{F!==A.current&&(A.current=F,m(F))},[]),w=N.useCallback(F=>{F!==O.current&&(O.current=F,x(F))},[]),j=i||g,S=o||v,A=N.useRef(null),O=N.useRef(null),k=N.useRef(d),T=c!=null,R=v2(c),P=v2(a),I=v2(u),M=N.useCallback(()=>{if(!A.current||!O.current)return;const F={placement:e,strategy:r,middleware:p};P.current&&(F.platform=P.current),jge(A.current,O.current,F).then(ee=>{const he={...ee,isPositioned:I.current!==!1};D.current&&!Jg(k.current,he)&&(k.current=he,lv.flushSync(()=>{f(he)}))})},[p,e,r,P,I]);Im(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const D=N.useRef(!1);Im(()=>(D.current=!0,()=>{D.current=!1}),[]),Im(()=>{if(j&&(A.current=j),S&&(O.current=S),j&&S){if(R.current)return R.current(j,S,M);M()}},[j,S,M,R,T]);const G=N.useMemo(()=>({reference:A,floating:O,setReference:_,setFloating:w}),[_,w]),$=N.useMemo(()=>({reference:j,floating:S}),[j,S]),q=N.useMemo(()=>{const F={position:r,left:0,top:0};if(!$.floating)return F;const ee=DT($.floating,d.x),he=DT($.floating,d.y);return l?{...F,transform:"translate("+ee+"px, "+he+"px)",...y9($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:he}},[r,l,$.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:M,refs:G,elements:$,floatingStyles:q}),[d,M,G,$,q])}const Age=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?MT({element:n.current,padding:a}).fn(r):{}:n?MT({element:n,padding:a}).fn(r):{}}}},kge=(t,e)=>({...gge(t),options:[t,e]}),Pge=(t,e)=>({...vge(t),options:[t,e]}),Cge=(t,e)=>({...wge(t),options:[t,e]}),Oge=(t,e)=>({...yge(t),options:[t,e]}),Ege=(t,e)=>({...xge(t),options:[t,e]}),Tge=(t,e)=>({...bge(t),options:[t,e]}),Ige=(t,e)=>({...Age(t),options:[t,e]});var Rge="Arrow",x9=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return s.jsx(dt.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});x9.displayName=Rge;var Lge=x9;function y0(t){const[e,r]=N.useState(void 0);return hn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var FN="Popper",[b9,x0]=Gn(FN),[Mge,w9]=b9(FN),j9=t=>{const{__scopePopper:e,children:r}=t,[n,a]=N.useState(null);return s.jsx(Mge,{scope:e,anchor:n,onAnchorChange:a,children:r})};j9.displayName=FN;var _9="PopperAnchor",N9=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=w9(_9,r),o=N.useRef(null),l=Gt(e,o),c=N.useRef(null);return N.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(dt.div,{...a,ref:l})});N9.displayName=_9;var BN="PopperContent",[Dge,$ge]=b9(BN),S9=N.forwardRef((t,e)=>{var se,X,J,le,ue,oe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=w9(BN,r),[x,_]=N.useState(null),w=Gt(e,Ne=>_(Ne)),[j,S]=N.useState(null),A=y0(j),O=(A==null?void 0:A.width)??0,k=(A==null?void 0:A.height)??0,T=n+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],I=P.length>0,M={padding:R,boundary:P.filter(Bge),altBoundary:I},{refs:D,floatingStyles:G,placement:$,isPositioned:q,middlewareData:F}=Sge({strategy:"fixed",placement:T,whileElementsMounted:(...Ne)=>mge(...Ne,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[kge({mainAxis:a+k,alignmentAxis:o}),c&&Pge({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cge():void 0,...M}),c&&Oge({...M}),Ege({...M,apply:({elements:Ne,rects:ge,availableWidth:te,availableHeight:Ve})=>{const{width:Be,height:qe}=ge.reference,_e=Ne.floating.style;_e.setProperty("--radix-popper-available-width",`${te}px`),_e.setProperty("--radix-popper-available-height",`${Ve}px`),_e.setProperty("--radix-popper-anchor-width",`${Be}px`),_e.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),j&&Ige({element:j,padding:l}),qge({arrowWidth:O,arrowHeight:k}),p&&Tge({strategy:"referenceHidden",...M})]}),[ee,he]=P9($),fe=ta(g);hn(()=>{q&&(fe==null||fe())},[q,fe]);const B=(se=F.arrow)==null?void 0:se.x,W=(X=F.arrow)==null?void 0:X.y,H=((J=F.arrow)==null?void 0:J.centerOffset)!==0,[re,ce]=N.useState();return hn(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(le=F.transformOrigin)==null?void 0:le.x,(ue=F.transformOrigin)==null?void 0:ue.y].join(" "),...((oe=F.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Dge,{scope:r,placedSide:ee,onArrowChange:S,arrowX:B,arrowY:W,shouldHideArrow:H,children:s.jsx(dt.div,{"data-side":ee,"data-align":he,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});S9.displayName=BN;var A9="PopperArrow",Fge={top:"bottom",right:"left",bottom:"top",left:"right"},k9=N.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=$ge(A9,n),o=Fge[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Lge,{...a,ref:r,style:{...a.style,display:"block"}})})});k9.displayName=A9;function Bge(t){return t!==null}var qge=t=>({name:"transformOrigin",options:t,fn(e){var v,x,_;const{placement:r,rects:n,middlewareData:a}=e,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=P9(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,h=(((_=a.arrow)==null?void 0:_.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${p}px`,m=`${-c}px`):u==="top"?(g=o?f:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${h}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${h}px`),{data:{x:g,y:m}}}});function P9(t){const[e,r="center"]=t.split("-");return[e,r]}var C9=j9,qN=N9,O9=S9,E9=k9,b0="Popover",[T9,c2e]=Gn(b0,[x0]),lp=x0(),[Uge,jl]=T9(b0),I9=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=lp(e),c=N.useRef(null),[u,d]=N.useState(!1),[f,p]=vi({prop:n,defaultProp:a??!1,onChange:i,caller:b0});return s.jsx(C9,{...l,children:s.jsx(Uge,{scope:e,contentId:Ui(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};I9.displayName=b0;var R9="PopoverAnchor",zge=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=jl(R9,r),i=lp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(qN,{...i,...n,ref:e})});zge.displayName=R9;var L9="PopoverTrigger",M9=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=jl(L9,r),i=lp(r),o=Gt(e,a.triggerRef),l=s.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":q9(a.open),...n,ref:o,onClick:yt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(qN,{asChild:!0,...i,children:l})});M9.displayName=L9;var UN="PopoverPortal",[Wge,Hge]=T9(UN,{forceMount:void 0}),D9=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=jl(UN,e);return s.jsx(Wge,{scope:e,forceMount:r,children:s.jsx(Pa,{present:r||i.open,children:s.jsx(bv,{asChild:!0,container:a,children:n})})})};D9.displayName=UN;var _d="PopoverContent",$9=N.forwardRef((t,e)=>{const r=Hge(_d,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=jl(_d,t.__scopePopover);return s.jsx(Pa,{present:n||i.open,children:i.modal?s.jsx(Vge,{...a,ref:e}):s.jsx(Kge,{...a,ref:e})})});$9.displayName=_d;var Gge=hc("PopoverContent.RemoveScroll"),Vge=N.forwardRef((t,e)=>{const r=jl(_d,t.__scopePopover),n=N.useRef(null),a=Gt(e,n),i=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return h_(o)},[]),s.jsx(jv,{as:Gge,allowPinchZoom:!0,children:s.jsx(F9,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:yt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:yt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Kge=N.forwardRef((t,e)=>{const r=jl(_d,t.__scopePopover),n=N.useRef(!1),a=N.useRef(!1);return s.jsx(F9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),F9=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=jl(_d,r),h=lp(r);return f_(),s.jsx(xv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(yv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(O9,{"data-state":q9(p.open),role:"dialog",id:p.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),B9="PopoverClose",Yge=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=jl(B9,r);return s.jsx(dt.button,{type:"button",...n,ref:e,onClick:yt(t.onClick,()=>a.onOpenChange(!1))})});Yge.displayName=B9;var Xge="PopoverArrow",Zge=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=lp(r);return s.jsx(E9,{...a,...n,ref:e})});Zge.displayName=Xge;function q9(t){return t?"open":"closed"}var Jge=I9,Qge=M9,eve=D9,tve=$9;function rve({...t}){return s.jsx(Jge,{"data-slot":"popover",...t})}function nve({...t}){return s.jsx(Qge,{"data-slot":"popover-trigger",...t})}function ave({className:t,align:e="center",sideOffset:r=4,...n}){return s.jsx(eve,{children:s.jsx(tve,{"data-slot":"popover-content",align:e,sideOffset:r,className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function lr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ni(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function la(t,e){const r=lr(t);return isNaN(e)?ni(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Vi(t,e){const r=lr(t);if(isNaN(e))return ni(t,NaN);if(!e)return r;const n=r.getDate(),a=ni(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const zN=6048e5,ive=864e5;let sve={};function cp(){return sve}function Cs(t,e){var l,c,u,d;const r=cp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=lr(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ac(t){return Cs(t,{weekStartsOn:1})}function U9(t){const e=lr(t),r=e.getFullYear(),n=ni(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Ac(n),i=ni(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ac(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Nd(t){const e=lr(t);return e.setHours(0,0,0,0),e}function Qg(t){const e=lr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function xs(t,e){const r=Nd(t),n=Nd(e),a=+r-Qg(r),i=+n-Qg(n);return Math.round((a-i)/ive)}function ove(t){const e=U9(t),r=ni(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Ac(r)}function Ej(t,e){const r=e*7;return la(t,r)}function lve(t,e){return Vi(t,e*12)}function cve(t){let e;return t.forEach(function(r){const n=lr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function uve(t){let e;return t.forEach(r=>{const n=lr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function ja(t,e){const r=Nd(t),n=Nd(e);return+r==+n}function WN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dve(t){if(!WN(t)&&typeof t!="number")return!1;const e=lr(t);return!isNaN(Number(e))}function zh(t,e){const r=lr(t),n=lr(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function fve(t,e,r){const n=Cs(t,r),a=Cs(e,r),i=+n-Qg(n),o=+a-Qg(a);return Math.round((i-o)/zN)}function HN(t){const e=lr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function ka(t){const e=lr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function z9(t){const e=lr(t),r=ni(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GN(t,e){var l,c,u,d;const r=cp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=lr(t),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function W9(t){return GN(t,{weekStartsOn:1})}const hve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pve=(t,e,r)=>{let n;const a=hve[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function y2(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const mve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yve={date:y2({formats:mve,defaultWidth:"full"}),time:y2({formats:gve,defaultWidth:"full"}),dateTime:y2({formats:vve,defaultWidth:"full"})},xve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bve=(t,e,r,n)=>xve[t];function Cf(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const wve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jve={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_ve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ave={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kve=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pve={ordinalNumber:kve,era:Cf({values:wve,defaultWidth:"wide"}),quarter:Cf({values:jve,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cf({values:_ve,defaultWidth:"wide"}),day:Cf({values:Nve,defaultWidth:"wide"}),dayPeriod:Cf({values:Sve,defaultWidth:"wide",formattingValues:Ave,defaultFormattingWidth:"wide"})};function Of(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Ove(l,f=>f.test(o)):Cve(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Cve(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Ove(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Eve(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Tve=/^(\d+)(th|st|nd|rd)?/i,Ive=/\d+/i,Rve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lve={any:[/^b/i,/^(a|c)/i]},Mve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dve={any:[/1/i,/2/i,/3/i,/4/i]},$ve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Uve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wve={ordinalNumber:Eve({matchPattern:Tve,parsePattern:Ive,valueCallback:t=>parseInt(t,10)}),era:Of({matchPatterns:Rve,defaultMatchWidth:"wide",parsePatterns:Lve,defaultParseWidth:"any"}),quarter:Of({matchPatterns:Mve,defaultMatchWidth:"wide",parsePatterns:Dve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Of({matchPatterns:$ve,defaultMatchWidth:"wide",parsePatterns:Fve,defaultParseWidth:"any"}),day:Of({matchPatterns:Bve,defaultMatchWidth:"wide",parsePatterns:qve,defaultParseWidth:"any"}),dayPeriod:Of({matchPatterns:Uve,defaultMatchWidth:"any",parsePatterns:zve,defaultParseWidth:"any"})},H9={code:"en-US",formatDistance:pve,formatLong:yve,formatRelative:bve,localize:Pve,match:Wve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hve(t){const e=lr(t);return xs(e,z9(e))+1}function G9(t){const e=lr(t),r=+Ac(e)-+ove(e);return Math.round(r/zN)+1}function V9(t,e){var d,f,p,h;const r=lr(t),n=r.getFullYear(),a=cp(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=ni(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Cs(o,e),c=ni(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Cs(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Gve(t,e){var l,c,u,d;const r=cp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=V9(t,e),i=ni(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Cs(i,e)}function K9(t,e){const r=lr(t),n=+Cs(r,e)-+Gve(r,e);return Math.round(n/zN)+1}function yr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Zo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return yr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):yr(r+1,2)},d(t,e){return yr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return yr(t.getHours()%12||12,e.length)},H(t,e){return yr(t.getHours(),e.length)},m(t,e){return yr(t.getMinutes(),e.length)},s(t,e){return yr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return yr(a,e.length)}},bu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$T={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zo.y(t,e)},Y:function(t,e,r,n){const a=V9(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return yr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):yr(i,e.length)},R:function(t,e){const r=U9(t);return yr(r,e.length)},u:function(t,e){const r=t.getFullYear();return yr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return yr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return yr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Zo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return yr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=K9(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):yr(a,e.length)},I:function(t,e,r){const n=G9(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):yr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Zo.d(t,e)},D:function(t,e,r){const n=Hve(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):yr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return yr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return yr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return yr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=bu.noon:n===0?a=bu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=bu.evening:n>=12?a=bu.afternoon:n>=4?a=bu.morning:a=bu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Zo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):yr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):yr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Zo.s(t,e)},S:function(t,e){return Zo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return BT(n);case"XXXX":case"XX":return Yl(n);case"XXXXX":case"XXX":default:return Yl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return BT(n);case"xxxx":case"xx":return Yl(n);case"xxxxx":case"xxx":default:return Yl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FT(n,":");case"OOOO":default:return"GMT"+Yl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FT(n,":");case"zzzz":default:return"GMT"+Yl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return yr(n,e.length)},T:function(t,e,r){const n=t.getTime();return yr(n,e.length)}};function FT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+yr(i,2)}function BT(t,e){return t%60===0?(t>0?"-":"+")+yr(Math.abs(t)/60,2):Yl(t,e)}function Yl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=yr(Math.trunc(n/60),2),i=yr(n%60,2);return r+a+e+i}const qT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Y9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vve=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qT(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",qT(n,e)).replace("{{time}}",Y9(a,e))},Kve={p:Y9,P:Vve},Yve=/^D+$/,Xve=/^Y+$/,Zve=["D","DD","YY","YYYY"];function Jve(t){return Yve.test(t)}function Qve(t){return Xve.test(t)}function e0e(t,e,r){const n=t0e(t,e,r);if(console.warn(n),Zve.includes(t))throw new RangeError(n)}function t0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a0e=/^'([^]*?)'?$/,i0e=/''/g,s0e=/[a-zA-Z]/;function Ss(t,e,r){var d,f,p,h,g,m,v,x;const n=cp(),a=(r==null?void 0:r.locale)??n.locale??H9,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=lr(t);if(!dve(l))throw new RangeError("Invalid time value");let c=e.match(n0e).map(_=>{const w=_[0];if(w==="p"||w==="P"){const j=Kve[w];return j(_,a.formatLong)}return _}).join("").match(r0e).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const w=_[0];if(w==="'")return{isToken:!1,value:o0e(_)};if($T[w])return{isToken:!0,value:_};if(w.match(s0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(_=>{if(!_.isToken)return _.value;const w=_.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Qve(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Jve(w))&&e0e(w,e,String(t));const j=$T[w[0]];return j(l,w,a.localize,u)}).join("")}function o0e(t){const e=t.match(a0e);return e?e[1].replace(i0e,"'"):t}function l0e(t){const e=lr(t),r=e.getFullYear(),n=e.getMonth(),a=ni(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function c0e(t){return Math.trunc(+lr(t)/1e3)}function u0e(t){const e=lr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function d0e(t,e){return fve(u0e(t),ka(t),e)+1}function Tj(t,e){const r=lr(t),n=lr(e);return r.getTime()>n.getTime()}function X9(t,e){const r=lr(t),n=lr(e);return+r<+n}function VN(t,e){const r=lr(t),n=lr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function f0e(t,e){const r=lr(t),n=lr(e);return r.getFullYear()===n.getFullYear()}function x2(t,e){return la(t,-e)}function b2(t,e){const r=lr(t),n=r.getFullYear(),a=r.getDate(),i=ni(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const o=l0e(i);return r.setMonth(e,Math.min(a,o)),r}function UT(t,e){const r=lr(t);return isNaN(+r)?ni(t,NaN):(r.setFullYear(e),r)}var Ot=function(){return Ot=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ot.apply(this,arguments)};function h0e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Z9(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function up(t){return t.mode==="multiple"}function dp(t){return t.mode==="range"}function w0(t){return t.mode==="single"}var p0e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function m0e(t,e){return Ss(t,"LLLL y",e)}function g0e(t,e){return Ss(t,"d",e)}function v0e(t,e){return Ss(t,"LLLL",e)}function y0e(t){return"".concat(t)}function x0e(t,e){return Ss(t,"cccccc",e)}function b0e(t,e){return Ss(t,"yyyy",e)}var w0e=Object.freeze({__proto__:null,formatCaption:m0e,formatDay:g0e,formatMonthCaption:v0e,formatWeekNumber:y0e,formatWeekdayName:x0e,formatYearCaption:b0e}),j0e=function(t,e,r){return Ss(t,"do MMMM (EEEE)",r)},_0e=function(){return"Month: "},N0e=function(){return"Go to next month"},S0e=function(){return"Go to previous month"},A0e=function(t,e){return Ss(t,"cccc",e)},k0e=function(t){return"Week n. ".concat(t)},P0e=function(){return"Year: "},C0e=Object.freeze({__proto__:null,labelDay:j0e,labelMonthDropdown:_0e,labelNext:N0e,labelPrevious:S0e,labelWeekNumber:k0e,labelWeekday:A0e,labelYearDropdown:P0e});function O0e(){var t="buttons",e=p0e,r=H9,n={},a={},i=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:w0e,labels:C0e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function E0e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,o=t.toDate;return n?i=ka(n):e&&(i=new Date(e,0,1)),a?o=HN(a):r&&(o=new Date(r,11,31)),{fromDate:i?Nd(i):void 0,toDate:o?Nd(o):void 0}}var J9=N.createContext(void 0);function T0e(t){var e,r=t.initialProps,n=O0e(),a=E0e(r),i=a.fromDate,o=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(w0(r)||up(r)||dp(r))&&(c=r.onSelect);var u=Ot(Ot(Ot({},n),r),{captionLayout:l,classNames:Ot(Ot({},n.classNames),r.classNames),components:Ot({},r.components),formatters:Ot(Ot({},n.formatters),r.formatters),fromDate:i,labels:Ot(Ot({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ot(Ot({},n.modifiers),r.modifiers),modifiersClassNames:Ot(Ot({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ot(Ot({},n.styles),r.styles),toDate:o});return s.jsx(J9.Provider,{value:u,children:t.children})}function Br(){var t=N.useContext(J9);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Q9(t){var e=Br(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function I0e(t){return s.jsx("svg",Ot({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function e$(t){var e,r,n=t.onChange,a=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,u=Br(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:I0e;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),s.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function R0e(t){var e,r=Br(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(f0e(n,a))for(var p=ka(n),h=n.getMonth();h<=a.getMonth();h++)f.push(b2(p,h));else for(var p=ka(new Date),h=0;h<=11;h++)f.push(b2(p,h));var g=function(v){var x=Number(v.target.value),_=b2(ka(t.displayMonth),x);t.onChange(_)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:e$;return s.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function L0e(t){var e,r=t.displayMonth,n=Br(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var h=a.getFullYear(),g=i.getFullYear(),m=h;m<=g;m++)p.push(UT(z9(new Date),m));var v=function(_){var w=UT(ka(r),Number(_.target.value));t.onChange(w)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:e$;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:p.map(function(_){return s.jsx("option",{value:_.getFullYear(),children:d(_,{locale:o})},_.getFullYear())})})}function M0e(t,e){var r=N.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function D0e(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&zh(i,a)<0){var u=-1*(c-1);a=Vi(i,u)}return o&&zh(a,o)<0&&(a=o),ka(a)}function $0e(){var t=Br(),e=D0e(t),r=M0e(e,t.month),n=r[0],a=r[1],i=function(o){var l;if(!t.disableNavigation){var c=ka(o);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function F0e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=ka(t),i=ka(Vi(a,n)),o=zh(i,a),l=[],c=0;c<o;c++){var u=Vi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function B0e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=ka(t);if(!r)return Vi(l,o);var c=zh(r,t);if(!(c<i))return Vi(l,o)}}function q0e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=ka(t);if(!r)return Vi(l,-o);var c=zh(l,r);if(!(c<=0))return Vi(l,-o)}}var t$=N.createContext(void 0);function U0e(t){var e=Br(),r=$0e(),n=r[0],a=r[1],i=F0e(n,e),o=B0e(n,e),l=q0e(n,e),c=function(f){return i.some(function(p){return VN(f,p)})},u=function(f,p){c(f)||(p&&X9(f,p)?a(Vi(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(t$.Provider,{value:d,children:t.children})}function fp(){var t=N.useContext(t$);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function zT(t){var e,r=Br(),n=r.classNames,a=r.styles,i=r.components,o=fp().goToMonth,l=function(d){o(Vi(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:Q9,u=s.jsx(c,{id:t.id,displayMonth:t.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(R0e,{onChange:l,displayMonth:t.displayMonth}),s.jsx(L0e,{onChange:l,displayMonth:t.displayMonth})]})}function z0e(t){return s.jsx("svg",Ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function W0e(t){return s.jsx("svg",Ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ev=N.forwardRef(function(t,e){var r=Br(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var o=i.join(" "),l=Ot(Ot({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),s.jsx("button",Ot({},t,{ref:e,type:"button",className:o,style:l}))});function H0e(t){var e,r,n=Br(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return s.jsx(s.Fragment,{});var p=u(t.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:W0e,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:z0e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&s.jsx(ev,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&s.jsx(ev,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function WT(t){var e=Br().numberOfMonths,r=fp(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return VN(t.displayMonth,g)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){n&&i(n)},h=function(){a&&i(a)};return s.jsx(H0e,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:h})}function G0e(t){var e,r=Br(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:Q9,u;return a?u=s.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=s.jsx(zT,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(zT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),s.jsx(WT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(WT,{displayMonth:t.displayMonth,id:t.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function V0e(t){var e=Br(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function K0e(t,e,r){for(var n=r?Ac(new Date):Cs(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var o=la(n,i);a.push(o)}return a}function Y0e(){var t=Br(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=K0e(a,i,o);return s.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function X0e(){var t,e=Br(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:Y0e;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function Z0e(t){var e=Br(),r=e.locale,n=e.formatters.formatDay;return s.jsx(s.Fragment,{children:n(t.date,{locale:r})})}var KN=N.createContext(void 0);function J0e(t){if(!up(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return s.jsx(KN.Provider,{value:e,children:t.children})}return s.jsx(Q0e,{initialProps:t.initialProps,children:t.children})}function Q0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,o=function(u,d,f){var p,h;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?Z9([],n):[];if(d.selected){var x=v.findIndex(function(_){return ja(u,_)});v.splice(x,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(p){return ja(p,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(KN.Provider,{value:c,children:r})}function YN(){var t=N.useContext(KN);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function eye(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?ja(a,t)&&ja(n,t)?void 0:ja(a,t)?{from:a,to:void 0}:ja(n,t)?void 0:Tj(n,t)?{from:t,to:a}:{from:n,to:t}:a?Tj(t,a)?{from:a,to:t}:{from:t,to:a}:n?X9(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var XN=N.createContext(void 0);function tye(t){if(!dp(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(XN.Provider,{value:e,children:t.children})}return s.jsx(rye,{initialProps:t.initialProps,children:t.children})}function rye(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,o=a.to,l=e.min,c=e.max,u=function(h,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,h,g,m);var _=eye(h,n);(x=e.onSelect)===null||x===void 0||x.call(e,_,h,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],ja(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:x2(i,l-1),before:la(i,l-1)}),i&&o&&d.disabled.push({after:i,before:la(i,l-1)}),!i&&o&&d.disabled.push({after:x2(o,l-1),before:la(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:la(i,-c+1)}),d.disabled.push({after:la(i,c-1)})),i&&o){var f=xs(o,i)+1,p=c-f;d.disabled.push({before:x2(i,p)}),d.disabled.push({after:la(o,p)})}!i&&o&&(d.disabled.push({before:la(o,-c+1)}),d.disabled.push({after:la(o,c-1)}))}return s.jsx(XN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function ZN(){var t=N.useContext(XN);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Rm(t){return Array.isArray(t)?Z9([],t):t!==void 0?[t]:[]}function nye(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=Rm(a)}),e}var Ki;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ki||(Ki={}));var aye=Ki.Selected,Zs=Ki.Disabled,iye=Ki.Hidden,sye=Ki.Today,w2=Ki.RangeEnd,j2=Ki.RangeMiddle,_2=Ki.RangeStart,oye=Ki.Outside;function lye(t,e,r){var n,a=(n={},n[aye]=Rm(t.selected),n[Zs]=Rm(t.disabled),n[iye]=Rm(t.hidden),n[sye]=[t.today],n[w2]=[],n[j2]=[],n[_2]=[],n[oye]=[],n);return t.fromDate&&a[Zs].push({before:t.fromDate}),t.toDate&&a[Zs].push({after:t.toDate}),up(t)?a[Zs]=a[Zs].concat(e.modifiers[Zs]):dp(t)&&(a[Zs]=a[Zs].concat(r.modifiers[Zs]),a[_2]=r.modifiers[_2],a[j2]=r.modifiers[j2],a[w2]=r.modifiers[w2]),a}var r$=N.createContext(void 0);function cye(t){var e=Br(),r=YN(),n=ZN(),a=lye(e,r,n),i=nye(e.modifiers),o=Ot(Ot({},a),i);return s.jsx(r$.Provider,{value:o,children:t.children})}function n$(){var t=N.useContext(r$);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function uye(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function dye(t){return!!(t&&typeof t=="object"&&"from"in t)}function fye(t){return!!(t&&typeof t=="object"&&"after"in t)}function hye(t){return!!(t&&typeof t=="object"&&"before"in t)}function pye(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function mye(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=xs(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=xs(t,n)>=0&&xs(a,t)>=0;return o}return a?ja(a,t):n?ja(n,t):!1}function gye(t){return WN(t)}function vye(t){return Array.isArray(t)&&t.every(WN)}function yye(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(gye(r))return ja(t,r);if(vye(r))return r.includes(t);if(dye(r))return mye(t,r);if(pye(r))return r.dayOfWeek.includes(t.getDay());if(uye(r)){var n=xs(r.before,t),a=xs(r.after,t),i=n>0,o=a<0,l=Tj(r.before,r.after);return l?o&&i:i||o}return fye(r)?xs(t,r.after)>0:hye(r)?xs(r.before,t)>0:typeof r=="function"?r(t):!1})}function JN(t,e,r){var n=Object.keys(e).reduce(function(i,o){var l=e[o];return yye(t,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!VN(t,r)&&(a.outside=!0),a}function xye(t,e){for(var r=ka(t[0]),n=HN(t[t.length-1]),a,i,o=r;o<=n;){var l=JN(o,e),c=!l.disabled&&!l.hidden;if(!c){o=la(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=la(o,1)}return i||a}var bye=365;function a$(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,p={day:la,week:Ej,month:Vi,year:lve,startOfWeek:function(v){return a.ISOWeek?Ac(v):Cs(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?W9(v):GN(v,{locale:f,weekStartsOn:c})}},h=p[r](t,n==="after"?1:-1);n==="before"&&u?h=cve([u,h]):n==="after"&&d&&(h=uve([d,h]));var g=!0;if(i){var m=JN(h,i);g=!m.disabled&&!m.hidden}return g?h:l.count>bye?l.lastFocused:a$(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:Ot(Ot({},l),{count:l.count+1})})}var i$=N.createContext(void 0);function wye(t){var e=fp(),r=n$(),n=N.useState(),a=n[0],i=n[1],o=N.useState(),l=o[0],c=o[1],u=xye(e.displayMonths,r),d=a??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},p=function(v){i(v)},h=Br(),g=function(v,x){if(a){var _=a$(a,{moveBy:v,direction:x,context:h,modifiers:r});ja(a,_)||(e.goToDate(_,a),p(_))}},m={focusedDay:a,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(i$.Provider,{value:m,children:t.children})}function QN(){var t=N.useContext(i$);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function jye(t,e){var r=n$(),n=JN(t,r,e);return n}var eS=N.createContext(void 0);function _ye(t){if(!w0(t.initialProps)){var e={selected:void 0};return s.jsx(eS.Provider,{value:e,children:t.children})}return s.jsx(Nye,{initialProps:t.initialProps,children:t.children})}function Nye(t){var e=t.initialProps,r=t.children,n=function(i,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,l)},a={selected:e.selected,onDayClick:n};return s.jsx(eS.Provider,{value:a,children:r})}function s$(){var t=N.useContext(eS);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Sye(t,e){var r=Br(),n=s$(),a=YN(),i=ZN(),o=QN(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,p=o.focus,h=o.focusMonthBefore,g=o.focusMonthAfter,m=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,_=o.focusEndOfWeek,w=function(q){var F,ee,he,fe;w0(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,q):up(r)?(ee=a.onDayClick)===null||ee===void 0||ee.call(a,t,e,q):dp(r)?(he=i.onDayClick)===null||he===void 0||he.call(i,t,e,q):(fe=r.onDayClick)===null||fe===void 0||fe.call(r,t,e,q)},j=function(q){var F;p(t),(F=r.onDayFocus)===null||F===void 0||F.call(r,t,e,q)},S=function(q){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,t,e,q)},A=function(q){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,t,e,q)},O=function(q){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,t,e,q)},k=function(q){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,t,e,q)},T=function(q){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,t,e,q)},R=function(q){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,t,e,q)},P=function(q){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,t,e,q)},I=function(q){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,t,e,q)},M=function(q){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,t,e,q)},D=function(q){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,t,e,q)},G=function(q){var F;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?m():h();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?v():g();break;case"Home":q.preventDefault(),q.stopPropagation(),x();break;case"End":q.preventDefault(),q.stopPropagation(),_();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,t,e,q)},$={onClick:w,onFocus:j,onBlur:S,onKeyDown:G,onKeyUp:D,onMouseEnter:A,onMouseLeave:O,onPointerEnter:k,onPointerLeave:T,onTouchCancel:R,onTouchEnd:P,onTouchMove:I,onTouchStart:M};return $}function Aye(){var t=Br(),e=s$(),r=YN(),n=ZN(),a=w0(t)?e.selected:up(t)?r.selected:dp(t)?n.selected:void 0;return a}function kye(t){return Object.values(Ki).includes(t)}function Pye(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(kye(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Cye(t,e){var r=Ot({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=Ot(Ot({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Oye(t,e,r){var n,a,i,o=Br(),l=QN(),c=jye(t,e),u=Sye(t,c),d=Aye(),f=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var A;c.outside||l.focusedDay&&f&&ja(l.focusedDay,t)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,t,r,f,c.outside]);var p=Pye(o,c).join(" "),h=Cye(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),m=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Z0e,v=s.jsx(m,{date:t,displayMonth:e,activeModifiers:c}),x={style:h,className:p,children:v,role:"gridcell"},_=l.focusTarget&&ja(l.focusTarget,t)&&!c.outside,w=l.focusedDay&&ja(l.focusedDay,t),j=Ot(Ot(Ot({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||_?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:x};return S}function Eye(t){var e=N.useRef(null),r=Oye(t.date,t.displayMonth,e);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(ev,Ot({name:"day",ref:e},r.buttonProps)):s.jsx("div",Ot({},r.divProps))}function Tye(t){var e=t.number,r=t.dates,n=Br(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(h){a(e,r,h)};return s.jsx(ev,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:p,children:d})}function Iye(t){var e,r,n=Br(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:Eye,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Tye,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:t.weekNumber,dates:t.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:t.displayMonth,date:f})},c0e(f))})]})}function HT(t,e,r){for(var n=r!=null&&r.ISOWeek?W9(e):GN(e,r),a=r!=null&&r.ISOWeek?Ac(t):Cs(t,r),i=xs(n,a),o=[],l=0;l<=i;l++)o.push(la(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?G9(d):K9(d,r),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Rye(t,e){var r=HT(ka(t),HN(t),e);if(e!=null&&e.useFixedWeeks){var n=d0e(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=Ej(i,6-n),l=HT(Ej(i,1),o,e);r.push.apply(r,l)}}return r}function Lye(t){var e,r,n,a=Br(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,g=Rye(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:X0e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Iye,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:V0e;return s.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&s.jsx(m,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(_){return s.jsx(v,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),s.jsx(x,{displayMonth:t.displayMonth})]})}function Mye(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Dye=Mye()?N.useLayoutEffect:N.useEffect,N2=!1,$ye=0;function GT(){return"react-day-picker-".concat(++$ye)}function Fye(t){var e,r=t??(N2?GT():null),n=N.useState(r),a=n[0],i=n[1];return Dye(function(){a===null&&i(GT())},[]),N.useEffect(function(){N2===!1&&(N2=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function Bye(t){var e,r,n=Br(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=fp().displayMonths,u=Fye(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=o.month,h=t.displayIndex===0,g=t.displayIndex===c.length-1,m=!h&&!g;a==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(i.caption_start),p=Ot(Ot({},p),o.caption_start)),g&&(f.push(i.caption_end),p=Ot(Ot({},p),o.caption_end)),m&&(f.push(i.caption_between),p=Ot(Ot({},p),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:G0e;return s.jsxs("div",{className:f.join(" "),style:p,children:[s.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(Lye,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function qye(t){var e=Br(),r=e.classNames,n=e.styles;return s.jsx("div",{className:r.months,style:n.months,children:t.children})}function Uye(t){var e,r,n=t.initialProps,a=Br(),i=QN(),o=fp(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ot(Ot({},a.styles.root),a.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return Ot(Ot({},g),(v={},v[m]=n[m],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:qye;return s.jsx("div",Ot({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:s.jsx(h,{children:o.displayMonths.map(function(g,m){return s.jsx(Bye,{displayIndex:m,displayMonth:g},m)})})}))}function zye(t){var e=t.children,r=h0e(t,["children"]);return s.jsx(T0e,{initialProps:r,children:s.jsx(U0e,{children:s.jsx(_ye,{initialProps:r,children:s.jsx(J0e,{initialProps:r,children:s.jsx(tye,{initialProps:r,children:s.jsx(cye,{children:s.jsx(wye,{children:e})})})})})})})}function Wye(t){return s.jsx(zye,Ot({},t,{children:s.jsx(Uye,{initialProps:t})}))}function Hye({className:t,classNames:e,showOutsideDays:r=!0,...n}){return s.jsx(Wye,{showOutsideDays:r,className:Ze("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ze(Qf({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ze("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ze(Qf({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:a,...i})=>s.jsx(MI,{className:Ze("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(Vu,{className:Ze("size-4",a),...i})},...n})}function Gye(){const[t,e]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState({from:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),to:new Date});N.useEffect(()=>{a.from&&a.to&&o()},[a]);const o=async()=>{if(!(!a.from||!a.to))try{n(!0);const u=a.from.toISOString().split("T")[0],d=a.to.toISOString().split("T")[0],f=await E8(u,d);e(f||[])}catch(u){console.error("Error fetching sales data:",u),e([])}finally{n(!1)}},l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=({active:u,payload:d,label:f})=>u&&d&&d.length?s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium",children:f}),s.jsxs("p",{className:"text-blue-600",children:["Sales: ",l(d[0].value)]}),s.jsxs("p",{className:"text-gray-600",children:["Orders: ",d[0].payload.orders_count]})]}):null;return s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(kt,{children:"Sales Overview"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(rve,{children:[s.jsx(nve,{asChild:!0,children:s.jsxs(ye,{variant:"outline",size:"sm",children:[s.jsx(cv,{className:"h-4 w-4 mr-2"}),a.from?a.to?s.jsxs(s.Fragment,{children:[Ss(a.from,"LLL dd, y")," -"," ",Ss(a.to,"LLL dd, y")]}):Ss(a.from,"LLL dd, y"):"Pick a date range"]})}),s.jsx(ave,{className:"w-auto p-0",align:"end",children:s.jsx(Hye,{initialFocus:!0,mode:"range",defaultMonth:a.from,selected:{from:a.from,to:a.to},onSelect:u=>{i({from:u==null?void 0:u.from,to:u==null?void 0:u.to})},numberOfMonths:2})})]})})]})}),s.jsx(De,{children:r?s.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[s.jsx(fi,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading sales data..."})]}):t.length===0?s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No sales data found for the selected period"}):s.jsx(og,{width:"100%",height:300,children:s.jsxs(_me,{data:t,children:[s.jsx(EN,{strokeDasharray:"3 3"}),s.jsx(Bd,{dataKey:"month"}),s.jsx(Nc,{tickFormatter:l}),s.jsx(Ga,{content:s.jsx(c,{})}),s.jsx(wl,{dataKey:"sales",fill:"#8884d8"})]})})})]})}const VT=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function Vye(){const[t,e]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const l=(await T8()||[]).map((c,u)=>({name:c.category_name,value:c.product_count,percentage:c.percentage,color:VT[u%VT.length]}));e(l)}catch(o){console.error("Error fetching category data:",o),e([])}finally{n(!1)}})()},[]);const a=({active:i,payload:o})=>{if(i&&o&&o.length){const l=o[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsxs("p",{className:"text-blue-600",children:["Products: ",l.value]}),s.jsxs("p",{className:"text-gray-600",children:["Percentage: ",l.percentage.toFixed(1),"%"]})]})}return null};return s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{children:"Product Distribution by Category"})}),s.jsx(De,{children:r?s.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[s.jsx(fi,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading category data..."})]}):t.length===0?s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No category data available"}):s.jsx(og,{width:"100%",height:300,children:s.jsxs(o9,{children:[s.jsx(Is,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percentage:o})=>`${i} ${o.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,o)=>s.jsx(Qh,{fill:i.color},`cell-${o}`))}),s.jsx(Ga,{content:s.jsx(a,{})})]})})})]})}function Kye({className:t,...e}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:Ze("w-full caption-bottom text-sm",t),...e})})}function Yye({className:t,...e}){return s.jsx("thead",{"data-slot":"table-header",className:Ze("[&_tr]:border-b",t),...e})}function Xye({className:t,...e}){return s.jsx("tbody",{"data-slot":"table-body",className:Ze("[&_tr:last-child]:border-0",t),...e})}function KT({className:t,...e}){return s.jsx("tr",{"data-slot":"table-row",className:Ze("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function Ii({className:t,...e}){return s.jsx("th",{"data-slot":"table-head",className:Ze("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Ri({className:t,...e}){return s.jsx("td",{"data-slot":"table-cell",className:Ze("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Ij(t,[e,r]){return Math.min(r,Math.max(e,t))}function j0(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var o$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Zye="VisuallyHidden",Jye=N.forwardRef((t,e)=>s.jsx(dt.span,{...t,ref:e,style:{...o$,...t.style}}));Jye.displayName=Zye;var Qye=[" ","Enter","ArrowUp","ArrowDown"],exe=[" ","Enter"],kc="Select",[_0,N0,txe]=A_(kc),[zd,u2e]=Gn(kc,[txe,x0]),S0=x0(),[rxe,_l]=zd(kc),[nxe,axe]=zd(kc),l$=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,m=S0(e),[v,x]=N.useState(null),[_,w]=N.useState(null),[j,S]=N.useState(!1),A=Ed(u),[O,k]=vi({prop:n,defaultProp:a??!1,onChange:i,caller:kc}),[T,R]=vi({prop:o,defaultProp:l,onChange:c,caller:kc}),P=N.useRef(null),I=v?g||!!v.closest("form"):!0,[M,D]=N.useState(new Set),G=Array.from(M).map($=>$.props.value).join(";");return s.jsx(C9,{...m,children:s.jsxs(rxe,{required:h,scope:e,trigger:v,onTriggerChange:x,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Ui(),value:T,onValueChange:R,open:O,onOpenChange:k,dir:A,triggerPointerDownPosRef:P,disabled:p,children:[s.jsx(_0.Provider,{scope:e,children:s.jsx(nxe,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback($=>{D(q=>new Set(q).add($))},[]),onNativeOptionRemove:N.useCallback($=>{D(q=>{const F=new Set(q);return F.delete($),F})},[]),children:r})}),I?s.jsxs(O$,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:$=>R($.target.value),disabled:p,form:g,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},G):null]})})};l$.displayName=kc;var c$="SelectTrigger",u$=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=S0(r),o=_l(c$,r),l=o.disabled||n,c=Gt(e,o.onTriggerChange),u=N0(r),d=N.useRef("touch"),[f,p,h]=T$(m=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),_=I$(v,m,x);_!==void 0&&o.onValueChange(_.value)}),g=m=>{l||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(qN,{asChild:!0,...i,children:s.jsx(dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":E$(o.value)?"":void 0,...a,ref:c,onClick:yt(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:yt(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:yt(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&Qye.includes(m.key)&&(g(),m.preventDefault())})})})});u$.displayName=c$;var d$="SelectValue",f$=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=t,c=_l(d$,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Gt(e,c.onValueNodeChange);return hn(()=>{u(d)},[u,d]),s.jsx(dt.span,{...l,ref:f,style:{pointerEvents:"none"},children:E$(c.value)?s.jsx(s.Fragment,{children:o}):i})});f$.displayName=d$;var ixe="SelectIcon",h$=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(dt.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});h$.displayName=ixe;var sxe="SelectPortal",p$=t=>s.jsx(bv,{asChild:!0,...t});p$.displayName=sxe;var Pc="SelectContent",m$=N.forwardRef((t,e)=>{const r=_l(Pc,t.__scopeSelect),[n,a]=N.useState();if(hn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?lv.createPortal(s.jsx(g$,{scope:t.__scopeSelect,children:s.jsx(_0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),i):null}return s.jsx(v$,{...t,ref:e})});m$.displayName=Pc;var Di=10,[g$,Nl]=zd(Pc),oxe="SelectContentImpl",lxe=hc("SelectContent.RemoveScroll"),v$=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,_=_l(Pc,r),[w,j]=N.useState(null),[S,A]=N.useState(null),O=Gt(e,se=>j(se)),[k,T]=N.useState(null),[R,P]=N.useState(null),I=N0(r),[M,D]=N.useState(!1),G=N.useRef(!1);N.useEffect(()=>{if(w)return h_(w)},[w]),f_();const $=N.useCallback(se=>{const[X,...J]=I().map(oe=>oe.ref.current),[le]=J.slice(-1),ue=document.activeElement;for(const oe of se)if(oe===ue||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===X&&S&&(S.scrollTop=0),oe===le&&S&&(S.scrollTop=S.scrollHeight),oe==null||oe.focus(),document.activeElement!==ue))return},[I,S]),q=N.useCallback(()=>$([k,w]),[$,k,w]);N.useEffect(()=>{M&&q()},[M,q]);const{onOpenChange:F,triggerPointerDownPosRef:ee}=_;N.useEffect(()=>{if(w){let se={x:0,y:0};const X=le=>{var ue,oe;se={x:Math.abs(Math.round(le.pageX)-(((ue=ee.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(le.pageY)-(((oe=ee.current)==null?void 0:oe.y)??0))}},J=le=>{se.x<=10&&se.y<=10?le.preventDefault():w.contains(le.target)||F(!1),document.removeEventListener("pointermove",X),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",J,{capture:!0})}}},[w,F,ee]),N.useEffect(()=>{const se=()=>F(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[F]);const[he,fe]=T$(se=>{const X=I().filter(ue=>!ue.disabled),J=X.find(ue=>ue.ref.current===document.activeElement),le=I$(X,se,J);le&&setTimeout(()=>le.ref.current.focus())}),B=N.useCallback((se,X,J)=>{const le=!G.current&&!J;(_.value!==void 0&&_.value===X||le)&&(T(se),le&&(G.current=!0))},[_.value]),W=N.useCallback(()=>w==null?void 0:w.focus(),[w]),H=N.useCallback((se,X,J)=>{const le=!G.current&&!J;(_.value!==void 0&&_.value===X||le)&&P(se)},[_.value]),re=n==="popper"?Rj:y$,ce=re===Rj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return s.jsx(g$,{scope:r,content:w,viewport:S,onViewportChange:A,itemRefCallback:B,selectedItem:k,onItemLeave:W,itemTextRefCallback:H,focusSelectedItem:q,selectedItemText:R,position:n,isPositioned:M,searchRef:he,children:s.jsx(jv,{as:lxe,allowPinchZoom:!0,children:s.jsx(xv,{asChild:!0,trapped:_.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:yt(a,se=>{var X;(X=_.trigger)==null||X.focus({preventScroll:!0}),se.preventDefault()}),children:s.jsx(yv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:s.jsx(re,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:se=>se.preventDefault(),...x,...ce,onPlaced:()=>D(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:yt(x.onKeyDown,se=>{const X=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!X&&se.key.length===1&&fe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let le=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(se.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ue=se.target,oe=le.indexOf(ue);le=le.slice(oe+1)}setTimeout(()=>$(le)),se.preventDefault()}})})})})})})});v$.displayName=oxe;var cxe="SelectItemAlignedPosition",y$=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=_l(Pc,r),o=Nl(Pc,r),[l,c]=N.useState(null),[u,d]=N.useState(null),f=Gt(e,O=>d(O)),p=N0(r),h=N.useRef(!1),g=N.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:_}=o,w=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&x){const O=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const ue=R.left-k.left,oe=T.left-ue,Ne=O.left-oe,ge=O.width+Ne,te=Math.max(ge,k.width),Ve=window.innerWidth-Di,Be=Ij(oe,[Di,Math.max(Di,Ve-te)]);l.style.minWidth=ge+"px",l.style.left=Be+"px"}else{const ue=k.right-R.right,oe=window.innerWidth-T.right-ue,Ne=window.innerWidth-O.right-oe,ge=O.width+Ne,te=Math.max(ge,k.width),Ve=window.innerWidth-Di,Be=Ij(oe,[Di,Math.max(Di,Ve-te)]);l.style.minWidth=ge+"px",l.style.right=Be+"px"}const P=p(),I=window.innerHeight-Di*2,M=m.scrollHeight,D=window.getComputedStyle(u),G=parseInt(D.borderTopWidth,10),$=parseInt(D.paddingTop,10),q=parseInt(D.borderBottomWidth,10),F=parseInt(D.paddingBottom,10),ee=G+$+M+F+q,he=Math.min(v.offsetHeight*5,ee),fe=window.getComputedStyle(m),B=parseInt(fe.paddingTop,10),W=parseInt(fe.paddingBottom,10),H=O.top+O.height/2-Di,re=I-H,ce=v.offsetHeight/2,se=v.offsetTop+ce,X=G+$+se,J=ee-X;if(X<=H){const ue=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-m.offsetTop-m.offsetHeight,Ne=Math.max(re,ce+(ue?W:0)+oe+q),ge=X+Ne;l.style.height=ge+"px"}else{const ue=P.length>0&&v===P[0].ref.current;l.style.top="0px";const Ne=Math.max(H,G+m.offsetTop+(ue?B:0)+ce)+J;l.style.height=Ne+"px",m.scrollTop=X-H+m.offsetTop}l.style.margin=`${Di}px 0`,l.style.minHeight=he+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,v,x,i.dir,n]);hn(()=>w(),[w]);const[j,S]=N.useState();hn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const A=N.useCallback(O=>{O&&g.current===!0&&(w(),_==null||_(),g.current=!1)},[w,_]);return s.jsx(dxe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(dt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});y$.displayName=cxe;var uxe="SelectPopperPosition",Rj=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Di,...i}=t,o=S0(r);return s.jsx(O9,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rj.displayName=uxe;var[dxe,tS]=zd(Pc,{}),Lj="SelectViewport",x$=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=Nl(Lj,r),o=tS(Lj,r),l=Gt(e,i.onViewportChange),c=N.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(_0.Slot,{scope:r,children:s.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:yt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-Di*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const _=x+h,w=Math.min(g,_),j=_-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});x$.displayName=Lj;var b$="SelectGroup",[fxe,hxe]=zd(b$),pxe=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Ui();return s.jsx(fxe,{scope:r,id:a,children:s.jsx(dt.div,{role:"group","aria-labelledby":a,...n,ref:e})})});pxe.displayName=b$;var w$="SelectLabel",mxe=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=hxe(w$,r);return s.jsx(dt.div,{id:a.id,...n,ref:e})});mxe.displayName=w$;var tv="SelectItem",[gxe,j$]=zd(tv),_$=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,l=_l(tv,r),c=Nl(tv,r),u=l.value===n,[d,f]=N.useState(i??""),[p,h]=N.useState(!1),g=Gt(e,_=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,_,n,a)}),m=Ui(),v=N.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(gxe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:N.useCallback(_=>{f(w=>w||((_==null?void 0:_.textContent)??"").trim())},[]),children:s.jsx(_0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(dt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:yt(o.onFocus,()=>h(!0)),onBlur:yt(o.onBlur,()=>h(!1)),onClick:yt(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:yt(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:yt(o.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:yt(o.onPointerMove,_=>{var w;v.current=_.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(o.onPointerLeave,_=>{var w;_.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:yt(o.onKeyDown,_=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&_.key===" "||(exe.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});_$.displayName=tv;var $f="SelectItemText",N$=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=_l($f,r),l=Nl($f,r),c=j$($f,r),u=axe($f,r),[d,f]=N.useState(null),p=Gt(e,x=>f(x),c.onItemTextChange,x=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=N.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return hn(()=>(m(g),()=>v(g)),[m,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(dt.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lv.createPortal(i.children,o.valueNode):null]})});N$.displayName=$f;var S$="SelectItemIndicator",A$=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return j$(S$,r).isSelected?s.jsx(dt.span,{"aria-hidden":!0,...n,ref:e}):null});A$.displayName=S$;var Mj="SelectScrollUpButton",k$=N.forwardRef((t,e)=>{const r=Nl(Mj,t.__scopeSelect),n=tS(Mj,t.__scopeSelect),[a,i]=N.useState(!1),o=Gt(e,n.onScrollButtonChange);return hn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(C$,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});k$.displayName=Mj;var Dj="SelectScrollDownButton",P$=N.forwardRef((t,e)=>{const r=Nl(Dj,t.__scopeSelect),n=tS(Dj,t.__scopeSelect),[a,i]=N.useState(!1),o=Gt(e,n.onScrollButtonChange);return hn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(C$,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});P$.displayName=Dj;var C$=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=Nl("SelectScrollButton",r),o=N.useRef(null),l=N0(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),hn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(dt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:yt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:yt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:yt(a.onPointerLeave,()=>{c()})})}),vxe="SelectSeparator",yxe=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(dt.div,{"aria-hidden":!0,...n,ref:e})});yxe.displayName=vxe;var $j="SelectArrow",xxe=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=S0(r),i=_l($j,r),o=Nl($j,r);return i.open&&o.position==="popper"?s.jsx(E9,{...a,...n,ref:e}):null});xxe.displayName=$j;var bxe="SelectBubbleInput",O$=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=N.useRef(null),i=Gt(n,a),o=j0(e);return N.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),s.jsx(dt.select,{...r,style:{...o$,...r.style},ref:i,defaultValue:e})});O$.displayName=bxe;function E$(t){return t===""||t===void 0}function T$(t){const e=ta(t),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(o=>{const l=r.current+o;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function I$(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=wxe(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function wxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var jxe=l$,_xe=u$,Nxe=f$,Sxe=h$,Axe=p$,kxe=m$,Pxe=x$,Cxe=_$,Oxe=N$,Exe=A$,Txe=k$,Ixe=P$;function _a({...t}){return s.jsx(jxe,{"data-slot":"select",...t})}function Na({...t}){return s.jsx(Nxe,{"data-slot":"select-value",...t})}function Sa({className:t,size:e="default",children:r,...n}){return s.jsxs(_xe,{"data-slot":"select-trigger","data-size":e,className:Ze("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,s.jsx(Sxe,{asChild:!0,children:s.jsx(Gj,{className:"size-4 opacity-50"})})]})}function Aa({className:t,children:e,position:r="popper",...n}){return s.jsx(Axe,{children:s.jsxs(kxe,{"data-slot":"select-content",className:Ze("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(Rxe,{}),s.jsx(Pxe,{className:Ze("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),s.jsx(Lxe,{})]})})}function Xe({className:t,children:e,...r}){return s.jsxs(Cxe,{"data-slot":"select-item",className:Ze("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(Exe,{children:s.jsx(uv,{className:"size-4"})})}),s.jsx(Oxe,{children:e})]})}function Rxe({className:t,...e}){return s.jsx(Txe,{"data-slot":"select-scroll-up-button",className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(dU,{className:"size-4"})})}function Lxe({className:t,...e}){return s.jsx(Ixe,{"data-slot":"select-scroll-down-button",className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Gj,{className:"size-4"})})}const Ef=t=>{switch(t){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Mxe=["all","pending","processing","shipped","delivered","cancelled"];function S2({showActions:t=!1,showArchived:e=!1}){const[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(null),[p,h]=N.useState(!1),g=Mxe,[m,v]=N.useState("all"),x=N.useRef([]),[_,w]=N.useState({width:0,left:0});N.useEffect(()=>{j()},[t,e]),N.useEffect(()=>{const $=()=>{const q=g.indexOf(m),F=x.current[q];if(F){const ee=F.offsetWidth,he=F.offsetLeft;w(fe=>fe.width!==ee||fe.left!==he?{width:ee,left:he}:fe)}};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[m,g]);const j=async()=>{try{let $;if(e?$=await $8():t?$=await b8():$=await I8(10),(t||e)&&Array.isArray($)){const q=$.map(F=>{var ee,he,fe;return{id:F.id,order_id:F.id,customer_email:((ee=F.users)==null?void 0:ee.email)||F.customer_email||"N/A",customer_name:((he=F.users)==null?void 0:he.name)||F.customer_name||"N/A",amount:F.total_amount||F.amount,status:F.status,order_date:new Date(F.created_at||F.order_date).toLocaleDateString(),shipping_address:F.shipping_address,order_items:F.order_items||[],payment_method:((fe=F.shipping_address)==null?void 0:fe.paymentMethod)||F.payment_method||"N/A",deleted_at:F.deleted_at}});n(q)}else if(!t&&Array.isArray($)){const q=$.map(F=>({id:F.order_id,order_id:F.order_id,customer_email:F.customer_email,customer_name:F.customer_name||"N/A",amount:F.amount,status:F.status,order_date:new Date(F.order_date).toLocaleDateString(),shipping_address:null,order_items:[],payment_method:"N/A"}));n(q)}}catch($){console.error("Error fetching orders:",$),Se.error("Failed to load orders")}finally{i(!1)}},S=async($,q)=>{u(!0);try{await w8($,q)?(n(ee=>ee.map(he=>he.order_id===$?{...he,status:q}:he)),(o==null?void 0:o.order_id)===$&&l(ee=>ee?{...ee,status:q}:null),["pending","processing","shipped","delivered"].includes(q)&&f(q),Se.success(`Order status updated to ${q}`)):Se.error("Failed to update order status")}catch(F){console.error("Error updating order status:",F),Se.error("Failed to update order status")}finally{u(!1)}},A=async $=>{try{await L8($)?(Se.success("Order moved to archive"),j(),l(null)):Se.error("Failed to archive order")}catch(q){console.error("Error archiving order:",q),Se.error("Failed to archive order")}},O=async $=>{try{await M8($)?(Se.success("Order restored successfully"),j(),l(null)):Se.error("Failed to restore order")}catch(q){console.error("Error restoring order:",q),Se.error("Failed to restore order")}},k=async $=>{try{await D8($)?(Se.success("Order permanently deleted"),j(),l(null)):Se.error("Failed to permanently delete order")}catch(q){console.error("Error permanently deleting order:",q),Se.error("Failed to permanently delete order")}};N.useEffect(()=>{if(d){const $=setTimeout(()=>f(null),1200);return()=>clearTimeout($)}},[d]);const T=$=>({pending:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered"],delivered:[],cancelled:[]})[$]||[],R=$=>{switch($.toLowerCase()){case"pending":return s.jsx(fo,{className:"h-4 w-4"});case"processing":return s.jsx(fi,{className:"h-4 w-4"});case"shipped":return s.jsx(Yu,{className:"h-4 w-4"});case"delivered":return s.jsx(Wh,{className:"h-4 w-4"});case"cancelled":return s.jsx(Kj,{className:"h-4 w-4"});default:return s.jsx(fo,{className:"h-4 w-4"})}},P=$=>Ql($),I=async $=>{try{const q={...$,status:$.status,payment_method:$.payment_method};await jL(q),Se.success("Invoice opened for printing")}catch(q){console.error("Error printing invoice:",q),Se.error(q instanceof Error?q.message:"Failed to print invoice")}},M=async $=>{try{const q={...$,status:$.status,payment_method:$.payment_method};await wL(q),Se.success("PDF downloaded successfully")}catch(q){console.error("Error generating PDF:",q),Se.error("Failed to generate PDF")}},D=async $=>{try{const q={...$,status:$.status,payment_method:$.payment_method};await _L(q)}catch(q){console.error("Error viewing invoice:",q),Se.error("Failed to view invoice")}};if(a)return s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(fi,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Loading orders..."})]});if(r.length===0)return s.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No orders found"});const G=m==="all"?r:r.filter($=>$.status.toLowerCase()===m);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-1",children:s.jsx("div",{className:"inline-block min-w-full md:min-w-0",children:s.jsxs("div",{className:"relative inline-flex rounded-lg border border-neutral-800 bg-neutral-900/60 backdrop-blur px-1 py-1",children:[s.jsx("div",{className:"absolute top-1 bottom-1 rounded-md bg-gradient-to-r from-rose-500 to-pink-600 shadow-inner transition-all duration-300 ease-out",style:{width:_.width,transform:`translateX(${_.left}px)`}}),s.jsx("div",{className:"flex space-x-1 relative z-10",children:g.map(($,q)=>{const F=m===$;return s.jsx("button",{ref:ee=>{x.current[q]=ee},onClick:()=>v($),className:`px-3 md:px-4 py-1.5 text-xs md:text-sm font-medium rounded-md whitespace-nowrap transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${F?"text-white":"text-neutral-400 hover:text-neutral-200"}`,"aria-pressed":F,type:"button",children:$==="all"?"All":$.charAt(0).toUpperCase()+$.slice(1)},$)})})]})})}),t&&s.jsx("div",{className:"flex items-center justify-end gap-3",children:s.jsx("button",{type:"button",onClick:()=>h($=>!$),className:`text-[11px] px-2 py-1 rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${p?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-pink-600":"bg-neutral-900/60 border-neutral-700 hover:border-neutral-500 text-neutral-300"}`,"aria-pressed":p,children:p?"Normal view":"Ultra compact"})}),s.jsxs(Kye,{children:[s.jsx(Yye,{children:s.jsx(KT,{children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ii,{className:"h-7 py-0.5 text-[10px] w-[42%]",children:"Order / Customer"}),s.jsx(Ii,{className:"h-7 py-0.5 text-[10px] w-[28%]",children:"Amount / Meta"}),s.jsx(Ii,{className:"h-7 py-0.5 text-[10px] w-[18%]",children:"Status"}),t&&s.jsx(Ii,{className:"h-7 py-0.5 text-[10px] w-[12%] text-right",children:"Actions"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Order ID"}),s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Customer"}),s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Amount"}),s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Status"}),s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Payment"}),s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Date"}),t&&s.jsx(Ii,{className:"h-8 py-0.5 text-[11px]",children:"Actions"})]})})}),s.jsx(Xye,{children:G.map($=>s.jsx(KT,{className:"cursor-pointer hover:bg-neutral-50",onClick:()=>l($),children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ri,{className:"py-1 text-[10px] leading-[12px]",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-medium",children:["#",$.order_id.slice(-8)]}),s.jsx("div",{className:"text-neutral-600",children:$.customer_name}),s.jsx("div",{className:"text-neutral-500",children:$.customer_email})]})}),s.jsx(Ri,{className:"py-1 text-[10px] leading-[12px]",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:P($.amount)}),s.jsxs("div",{className:"text-neutral-600",children:[$.payment_method==="cash-on-delivery"&&" COD",$.payment_method==="bank-transfer"&&" Bank",$.payment_method==="credit-card"&&" Card",!$.payment_method||$.payment_method==="N/A"?"N/A":$.payment_method]}),s.jsx("div",{className:"text-neutral-500",children:$.order_date})]})}),s.jsx(Ri,{className:"py-1",children:s.jsxs(Pt,{className:`${Ef($.status)} flex items-center gap-1 w-fit text-[9px] px-1.5 py-0.5`,children:[R($.status),$.status]})}),t&&s.jsx(Ri,{className:"py-1 text-right",children:s.jsxs("div",{className:"flex gap-1 justify-end",children:[s.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:q=>{q.stopPropagation(),l($)},children:s.jsx(gi,{className:"h-3 w-3"})}),e?s.jsxs(s.Fragment,{children:[s.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:q=>{q.stopPropagation(),O($.id)},title:"Restore order",children:s.jsx(Ja,{className:"h-3 w-3"})}),s.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:q=>{q.stopPropagation(),k($.id)},title:"Permanently delete",children:s.jsx(yo,{className:"h-3 w-3"})})]}):s.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700 hover:bg-orange-50",onClick:q=>{q.stopPropagation(),A($.id)},title:"Move to archive",children:s.jsx(uo,{className:"h-3 w-3"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ri,{className:"font-medium",children:["#",$.order_id.slice(-8)]}),s.jsx(Ri,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:$.customer_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:$.customer_email})]})}),s.jsx(Ri,{className:"font-medium",children:P($.amount)}),s.jsx(Ri,{children:s.jsxs(Pt,{className:`${Ef($.status)} flex items-center gap-1 w-fit`,children:[R($.status),$.status]})}),s.jsx(Ri,{children:s.jsxs("div",{className:"text-sm",children:[$.payment_method==="cash-on-delivery"&&" COD",$.payment_method==="bank-transfer"&&" Bank Transfer",$.payment_method==="credit-card"&&" Card",!$.payment_method||$.payment_method==="N/A"?"N/A":$.payment_method]})}),s.jsx(Ri,{children:$.order_date}),t&&s.jsx(Ri,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ye,{variant:"outline",size:"sm",onClick:q=>{q.stopPropagation(),l($)},children:[s.jsx(gi,{className:"h-4 w-4 mr-1"}),"View Details"]}),e?s.jsxs(s.Fragment,{children:[s.jsxs(ye,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:q=>{q.stopPropagation(),O($.id)},children:[s.jsx(Ja,{className:"h-4 w-4 mr-1"}),"Restore"]}),s.jsxs(ye,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:q=>{q.stopPropagation(),k($.id)},children:[s.jsx(yo,{className:"h-4 w-4 mr-1"}),"Delete"]})]}):s.jsxs(ye,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:q=>{q.stopPropagation(),A($.id)},children:[s.jsx(uo,{className:"h-4 w-4 mr-1"}),"Archive"]})]})})]})},$.order_id))})]}),o&&s.jsx(yi,{open:!!o,onOpenChange:()=>l(null),children:s.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-5",children:[s.jsx(xi,{children:s.jsxs(bi,{className:"flex items-center gap-2 text-base sm:text-lg",children:[s.jsxs("span",{className:"font-semibold",children:["Order #",o==null?void 0:o.order_id.slice(-8)]}),s.jsx(Pt,{className:`${o?Ef(o.status):""} text-[10px] px-2 py-0.5`,children:o==null?void 0:o.status})]})}),o&&s.jsxs("div",{className:"sticky top-0 z-20 -mx-4 sm:-mx-5 px-4 sm:px-5 py-2 bg-neutral-950/80 backdrop-blur supports-[backdrop-filter]:bg-neutral-950/60 border-b border-neutral-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-[11px] font-medium tracking-wide text-neutral-300",children:["#",o.order_id.slice(-8)]}),s.jsx(Pt,{className:`${Ef(o.status)} text-[9px] px-2 py-0.5`,children:o.status})]}),s.jsx("div",{className:"flex items-center gap-1",children:["pending","processing","shipped","delivered"].map(($,q)=>{const F=["pending","processing","shipped","delivered"].indexOf(o.status),ee=q,he=F>ee,fe=F===ee,B={pending:fe?"text-amber-400":he?"text-amber-600":"text-neutral-600",processing:fe?"text-violet-400":he?"text-violet-600":"text-neutral-600",shipped:fe?"text-sky-400":he?"text-sky-600":"text-neutral-600",delivered:fe?"text-emerald-400":he?"text-emerald-600":"text-neutral-600"};return s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"relative flex items-center justify-center",children:[d===$&&fe&&s.jsx("span",{className:`absolute inline-flex h-4 w-4 rounded-full ${B[$].replace("text-","bg-")} opacity-60 animate-ping`}),s.jsx(DI,{className:`h-3 w-3 ${B[$]} ${fe?"drop-shadow-[0_0_4px_rgba(255,255,255,0.35)]":""}`})]}),$!=="delivered"&&s.jsx("span",{className:`mx-0.5 h-px w-3 ${F>=ee?"bg-neutral-500":"bg-neutral-700"}`})]},$)})})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:s.jsx(De,{className:"py-3 px-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xo,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-xs font-medium leading-tight",children:"Customer"}),s.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:o.customer_name}),s.jsx("p",{className:"text-[10px] text-muted-foreground break-all leading-tight",children:o.customer_email})]})]})})}),s.jsx(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:s.jsx(De,{className:"py-3 px-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(cv,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-xs font-medium leading-tight",children:"Order Date"}),s.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:o.order_date})]})]})})}),s.jsx(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:s.jsx(De,{className:"py-3 px-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(NU,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-xs font-medium leading-tight",children:"Total"}),s.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:P(o.amount)}),s.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:o.payment_method})]})]})})})]}),o.shipping_address&&s.jsxs(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:[s.jsx(At,{className:"pb-2 px-3 pt-3",children:s.jsxs(kt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[s.jsx(Yj,{className:"h-4 w-4"}),"Shipping"]})}),s.jsx(De,{className:"px-3 pb-3 pt-0",children:s.jsxs("div",{className:"text-[11px] space-y-0.5 leading-tight",children:[s.jsxs("p",{className:"font-medium",children:[o.shipping_address.firstName," ",o.shipping_address.lastName]}),s.jsx("p",{children:o.shipping_address.address}),s.jsxs("p",{children:[o.shipping_address.city,", ",o.shipping_address.state," ",o.shipping_address.zipCode]}),s.jsx("p",{children:o.shipping_address.country}),s.jsxs("p",{className:"text-muted-foreground",children:[" ",o.shipping_address.phone]}),s.jsxs("p",{className:"text-muted-foreground",children:[" ",o.shipping_address.email]})]})})]}),s.jsxs(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:[s.jsx(At,{className:"pb-2 px-3 pt-3",children:s.jsx(kt,{className:"text-sm font-semibold tracking-wide",children:"Items"})}),s.jsx(De,{className:"px-3 pb-3 pt-0",children:o.order_items&&o.order_items.length>0?s.jsxs("div",{className:"space-y-2",children:[o.order_items.map(($,q)=>{var F;return s.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded-md bg-neutral-800/40",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-xs font-medium leading-tight",children:((F=$.products)==null?void 0:F.name)||"Unknown Product"}),s.jsxs("p",{className:"text-[10px] text-muted-foreground leading-tight",children:[$.quantity,"  ",P($.price_at_purchase)]})]}),s.jsx("p",{className:"text-xs font-medium leading-tight",children:P($.quantity*$.price_at_purchase)})]},q)}),s.jsx(ba,{className:"my-1"}),s.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:P(o.amount)})]})]}):s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"No items found in this order."})})]}),s.jsxs(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:[s.jsx(At,{className:"pb-2 px-3 pt-3",children:s.jsx(kt,{className:"text-sm font-semibold tracking-wide",children:"Status"})}),s.jsx(De,{className:"px-3 pb-3 pt-0",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium mb-1",children:"Current"}),s.jsxs(Pt,{className:`${Ef(o.status)} flex items-center gap-1 w-fit mt-1 text-[10px] px-2 py-0.5`,children:[R(o.status),o.status]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-xs font-medium mb-1 flex items-center gap-2",children:["Next",c&&s.jsx(fi,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[T(o.status).map($=>s.jsx("button",{type:"button",disabled:c,onClick:()=>S(o.order_id,$),className:`relative group overflow-hidden px-3 py-1 rounded-full text-[10px] font-medium tracking-wide transition shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 disabled:opacity-50 ${$==="cancelled"?"bg-rose-600/20 text-rose-300 hover:bg-rose-600/30":$==="delivered"?"bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600/30":$==="shipped"?"bg-blue-600/20 text-blue-300 hover:bg-blue-600/30":$==="processing"?"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30":"bg-neutral-700/40 text-neutral-200 hover:bg-neutral-600/50"}`,children:s.jsxs("span",{className:"flex items-center gap-1.5",children:[R($),$]})},$)),T(o.status).length===0&&s.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"No transitions"})]}),T(o.status).length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsxs(_a,{value:"",onValueChange:$=>S(o.order_id,$),disabled:c,children:[s.jsx(Sa,{className:"w-44 text-[10px] h-7 px-2",children:s.jsx(Na,{placeholder:"Alt action"})}),s.jsx(Aa,{children:T(o.status).map($=>s.jsx(Xe,{value:$,className:"capitalize",children:$},$))})]}),s.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Pills are primary transitions; dropdown is backup."})]})]})]})})})]}),s.jsxs(Me,{className:"border-neutral-800/70 bg-neutral-900/40",children:[s.jsx(At,{className:"pb-2 px-3 pt-3",children:s.jsxs(kt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[s.jsx(bs,{className:"h-4 w-4"}),"Invoices"]})}),s.jsxs(De,{className:"px-3 pb-3 pt-0",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ye,{variant:"outline",onClick:()=>D(o),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[s.jsx(bs,{className:"h-3.5 w-3.5"})," View"]}),s.jsxs(ye,{variant:"outline",onClick:()=>M(o),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[s.jsx($I,{className:"h-3.5 w-3.5"})," PDF"]}),s.jsxs(ye,{variant:"outline",onClick:()=>I(o),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[s.jsx(zI,{className:"h-3.5 w-3.5"})," Print"]})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 leading-tight",children:"Quick invoice actions."})]})]})]})]})})]})}function rv({className:t,...e}){return s.jsx("textarea",{"data-slot":"textarea",className:Ze("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var A0="Checkbox",[Dxe,d2e]=Gn(A0),[$xe,rS]=Dxe(A0);function Fxe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,h]=vi({prop:r,defaultProp:a??!1,onChange:c,caller:A0}),[g,m]=N.useState(null),[v,x]=N.useState(null),_=N.useRef(!1),w=g?!!o||!!g.closest("form"):!0,j={checked:p,disabled:i,setChecked:h,control:g,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:ul(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:x};return s.jsx($xe,{scope:e,...j,children:Bxe(f)?f(j):n})}var R$="CheckboxTrigger",L$=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=rS(R$,t),m=Gt(a,d),v=N.useRef(c);return N.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const _=()=>f(v.current);return x.addEventListener("reset",_),()=>x.removeEventListener("reset",_)}},[i,f]),s.jsx(dt.button,{type:"button",role:"checkbox","aria-checked":ul(c)?"mixed":c,"aria-required":u,"data-state":q$(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:m,onKeyDown:yt(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:yt(r,x=>{f(_=>ul(_)?!0:!_),g&&h&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});L$.displayName=R$;var M$=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return s.jsx(Fxe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>s.jsxs(s.Fragment,{children:[s.jsx(L$,{...f,ref:e,__scopeCheckbox:r}),p&&s.jsx(B$,{__scopeCheckbox:r})]})})});M$.displayName=A0;var D$="CheckboxIndicator",$$=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=rS(D$,r);return s.jsx(Pa,{present:n||ul(i.checked)||i.checked===!0,children:s.jsx(dt.span,{"data-state":q$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});$$.displayName=D$;var F$="CheckboxBubbleInput",B$=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=rS(F$,t),g=Gt(r,h),m=j0(i),v=y0(n);N.useEffect(()=>{const _=p;if(!_)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,A=!a.current;if(m!==i&&S){const O=new Event("click",{bubbles:A});_.indeterminate=ul(i),S.call(_,ul(i)?!1:i),_.dispatchEvent(O)}},[p,m,i,a]);const x=N.useRef(ul(i)?!1:i);return s.jsx(dt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B$.displayName=F$;function Bxe(t){return typeof t=="function"}function ul(t){return t==="indeterminate"}function q$(t){return ul(t)?"indeterminate":t?"checked":"unchecked"}function Fj({className:t,...e}){return s.jsx(M$,{"data-slot":"checkbox",className:Ze("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx($$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(uv,{className:"size-3.5"})})})}var nS="Progress",aS=100,[qxe,f2e]=Gn(nS),[Uxe,zxe]=qxe(nS),U$=N.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Wxe,...o}=t;(a||a===0)&&!YT(a)&&console.error(Hxe(`${a}`,"Progress"));const l=YT(a)?a:aS;n!==null&&!XT(n,l)&&console.error(Gxe(`${n}`,"Progress"));const c=XT(n,l)?n:null,u=nv(c)?i(c,l):void 0;return s.jsx(Uxe,{scope:r,value:c,max:l,children:s.jsx(dt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":nv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":H$(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});U$.displayName=nS;var z$="ProgressIndicator",W$=N.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=zxe(z$,r);return s.jsx(dt.div,{"data-state":H$(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});W$.displayName=z$;function Wxe(t,e){return`${Math.round(t/e*100)}%`}function H$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function nv(t){return typeof t=="number"}function YT(t){return nv(t)&&!isNaN(t)&&t>0}function XT(t,e){return nv(t)&&!isNaN(t)&&t<=e&&t>=0}function Hxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${aS}\`.`}function Gxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${aS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Vxe=U$,Kxe=W$;function Hu({className:t,value:e,...r}){return s.jsx(Vxe,{"data-slot":"progress",className:Ze("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:s.jsx(Kxe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const Yxe=zj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Xxe({className:t,variant:e,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:Ze(Yxe({variant:e}),t),...r})}function Zxe({className:t,...e}){return s.jsx("div",{"data-slot":"alert-description",className:Ze("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var k0="Collapsible",[Jxe,G$]=Gn(k0),[Qxe,iS]=Jxe(k0),V$=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=t,[c,u]=vi({prop:n,defaultProp:a??!1,onChange:o,caller:k0});return s.jsx(Qxe,{scope:r,disabled:i,contentId:Ui(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:s.jsx(dt.div,{"data-state":oS(c),"data-disabled":i?"":void 0,...l,ref:e})})});V$.displayName=k0;var K$="CollapsibleTrigger",Y$=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=iS(K$,r);return s.jsx(dt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":oS(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:yt(t.onClick,a.onOpenToggle)})});Y$.displayName=K$;var sS="CollapsibleContent",X$=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=iS(sS,t.__scopeCollapsible);return s.jsx(Pa,{present:r||a.open,children:({present:i})=>s.jsx(ebe,{...n,ref:e,present:i})})});X$.displayName=sS;var ebe=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,o=iS(sS,r),[l,c]=N.useState(n),u=N.useRef(null),d=Gt(e,u),f=N.useRef(0),p=f.current,h=N.useRef(0),g=h.current,m=o.open||l,v=N.useRef(m),x=N.useRef(void 0);return N.useEffect(()=>{const _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),hn(()=>{const _=u.current;if(_){x.current=x.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const w=_.getBoundingClientRect();f.current=w.height,h.current=w.width,v.current||(_.style.transitionDuration=x.current.transitionDuration,_.style.animationName=x.current.animationName),c(n)}},[o.open,n]),s.jsx(dt.div,{"data-state":oS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&a})});function oS(t){return t?"open":"closed"}var tbe=V$,rbe=Y$,nbe=X$,Qi="Accordion",abe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[lS,ibe,sbe]=A_(Qi),[P0,h2e]=Gn(Qi,[sbe,G$]),cS=G$(),Z$=Y.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return s.jsx(lS.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?s.jsx(ube,{...i,ref:e}):s.jsx(cbe,{...a,ref:e})})});Z$.displayName=Qi;var[J$,obe]=P0(Qi),[Q$,lbe]=P0(Qi,{collapsible:!1}),cbe=Y.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=t,[l,c]=vi({prop:r,defaultProp:n??"",onChange:a,caller:Qi});return s.jsx(J$,{scope:t.__scopeAccordion,value:Y.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Y.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(Q$,{scope:t.__scopeAccordion,collapsible:i,children:s.jsx(eF,{...o,ref:e})})})}),ube=Y.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[o,l]=vi({prop:r,defaultProp:n??[],onChange:a,caller:Qi}),c=Y.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Y.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return s.jsx(J$,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(Q$,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(eF,{...i,ref:e})})})}),[dbe,C0]=P0(Qi),eF=Y.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=t,l=Y.useRef(null),c=Gt(l,e),u=ibe(r),f=Ed(a)==="ltr",p=yt(t.onKeyDown,h=>{var k;if(!abe.includes(h.key))return;const g=h.target,m=u().filter(T=>{var R;return!((R=T.ref.current)!=null&&R.disabled)}),v=m.findIndex(T=>T.ref.current===g),x=m.length;if(v===-1)return;h.preventDefault();let _=v;const w=0,j=x-1,S=()=>{_=v+1,_>j&&(_=w)},A=()=>{_=v-1,_<w&&(_=j)};switch(h.key){case"Home":_=w;break;case"End":_=j;break;case"ArrowRight":i==="horizontal"&&(f?S():A());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?A():S());break;case"ArrowUp":i==="vertical"&&A();break}const O=_%x;(k=m[O].ref.current)==null||k.focus()});return s.jsx(dbe,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(lS.Slot,{scope:r,children:s.jsx(dt.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:p})})})}),av="AccordionItem",[fbe,uS]=P0(av),tF=Y.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=C0(av,r),o=obe(av,r),l=cS(r),c=Ui(),u=n&&o.value.includes(n)||!1,d=i.disabled||t.disabled;return s.jsx(fbe,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(tbe,{"data-orientation":i.orientation,"data-state":oF(u),...l,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});tF.displayName=av;var rF="AccordionHeader",nF=Y.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=C0(Qi,r),i=uS(rF,r);return s.jsx(dt.h3,{"data-orientation":a.orientation,"data-state":oF(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});nF.displayName=rF;var Bj="AccordionTrigger",aF=Y.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=C0(Qi,r),i=uS(Bj,r),o=lbe(Bj,r),l=cS(r);return s.jsx(lS.ItemSlot,{scope:r,children:s.jsx(rbe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:e})})});aF.displayName=Bj;var iF="AccordionContent",sF=Y.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=C0(Qi,r),i=uS(iF,r),o=cS(r);return s.jsx(nbe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});sF.displayName=iF;function oF(t){return t?"open":"closed"}var hbe=Z$,pbe=tF,mbe=nF,gbe=aF,vbe=sF;function lF({...t}){return s.jsx(hbe,{"data-slot":"accordion",...t})}function no({className:t,...e}){return s.jsx(pbe,{"data-slot":"accordion-item",className:Ze("border-b last:border-b-0",t),...e})}function ao({className:t,children:e,...r}){return s.jsx(mbe,{className:"flex",children:s.jsxs(gbe,{"data-slot":"accordion-trigger",className:Ze("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,s.jsx(Gj,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function io({className:t,children:e,...r}){return s.jsx(vbe,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:s.jsx("div",{className:Ze("pt-0 pb-4",t),children:e})})}class il{static validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Invalid file type. Only JPEG, PNG, WebP, and AVIF are allowed."}}static async fileToCanvas(e){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),o=i.getContext("2d");if(!o){n(new Error("Could not get canvas context"));return}a.onload=()=>{let{width:u,height:d}=a;if(u>1920||d>1920){const f=Math.min(1920/u,1920/d);u*=f,d*=f}i.width=u,i.height=d,o.drawImage(a,0,0,u,d),r({canvas:i,ctx:o,width:u,height:d})},a.onerror=()=>n(new Error("Failed to load image")),a.src=URL.createObjectURL(e)})}static async canvasToBlob(e,r,n=.85){return new Promise((a,i)=>{e.toBlob(o=>{o?a(o):i(new Error("Failed to convert canvas to blob"))},r,n)})}static async processImage(e,r={}){const{maxWidth:n=1920,maxHeight:a=1920,quality:i=.85,format:o="webp",generateSizes:l=!0}=r,c=this.validateFile(e);if(!c.valid)throw new Error(c.error);const{canvas:u,ctx:d,width:f,height:p}=await this.fileToCanvas(e);if(f>n||p>a){const v=Math.min(n/f,a/p),x=f*v,_=p*v,w=document.createElement("canvas"),j=w.getContext("2d");w.width=x,w.height=_,j.drawImage(u,0,0,x,_),u.width=x,u.height=_,d.drawImage(w,0,0)}const h=`image/${o}`,g=await this.canvasToBlob(u,h,i);let m;if(l){const v=document.createElement("canvas"),x=v.getContext("2d"),_=300,w=Math.min(_/f,_/p);v.width=f*w,v.height=p*w,x.drawImage(u,0,0,v.width,v.height),m=await this.canvasToBlob(v,h,i)}return{original:e,optimized:g,thumbnail:m,format:o,originalSize:e.size,optimizedSize:g.size,dimensions:{width:u.width,height:u.height}}}static async uploadToStorage(e,r,n){const a=Date.now(),i=`${r}/${a}.${e.format}`,{data:o,error:l}=await Te.storage.from(this.BUCKET_NAME).upload(i,e.optimized,{contentType:`image/${e.format}`,upsert:!1});if(l)throw new Error(`Upload failed: ${l.message}`);const{data:c}=Te.storage.from(this.BUCKET_NAME).getPublicUrl(i);let u;if(e.thumbnail){const d=`${r}/${a}_thumb.${e.format}`,{data:f,error:p}=await Te.storage.from(this.BUCKET_NAME).upload(d,e.thumbnail,{contentType:`image/${e.format}`,upsert:!1});if(!p){const{data:h}=Te.storage.from(this.BUCKET_NAME).getPublicUrl(d);u=h.publicUrl}}return{url:c.publicUrl,thumbnailUrl:u}}static async uploadMultipleImages(e,r,n={},a,i){const o=[];for(let l=0;l<e.length;l++){const c=e[l];try{const u=await this.processImage(c,n),d=await this.uploadToStorage(u,r),f={url:d.url,thumbnailUrl:d.thumbnailUrl,fileName:c.name};o.push(f),i==null||i(l,f)}catch(u){console.error(`Failed to upload ${c.name}:`,u)}}return o}static async deleteImage(e){const r=e.split("/"),n=r[r.length-1],a=r[r.length-2];if(!n||!a)throw new Error("Invalid image URL format");const{error:i}=await Te.storage.from(this.BUCKET_NAME).remove([`${a}/${n}`]);if(i)throw new Error(`Failed to delete image: ${i.message}`)}static async checkBucketExists(){try{const{data:e,error:r}=await Te.storage.listBuckets();return r?(console.error("Error listing buckets:",r),await this.checkBucketDirectly()):e==null?void 0:e.some(a=>a.name===this.BUCKET_NAME)}catch(e){return console.error("Error checking bucket existence:",e),!1}}static async checkBucketDirectly(){try{const{error:e}=await Te.storage.from(this.BUCKET_NAME).list("",{limit:1});return!e}catch(e){return console.error("Error checking bucket directly:",e),!1}}}Xt(il,"MAX_FILE_SIZE",10*1024*1024),Xt(il,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp","image/avif"]),Xt(il,"BUCKET_NAME","product-images");const wm=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`img-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,ybe=t=>t.editType?t.editType.replace(/[_-]+/g," ").replace(/\b\w/g,e=>e.toUpperCase()):t.storedRun?"AI Edit":t.source==="existing"?"Replacement":"Upload",ZT=(t,e={})=>{var r,n;return{id:e.id??t.id,previewUrl:e.previewUrl??t.preview??((r=t.storedRun)==null?void 0:r.publicUrl)??"",thumbnailUrl:e.thumbnailUrl??t.thumbnailUrl??((n=t.storedRun)==null?void 0:n.thumbnailUrl)??t.preview,storedRun:e.storedRun??t.storedRun??null,label:e.label??ybe(t),createdAt:e.createdAt??t.createdAt??Date.now(),status:e.status??t.status,source:e.source??(t.storedRun?"ai":t.source==="existing"?"cropped":"upload")}},qj=N.forwardRef(({mode:t="create",product:e=null,onSuccess:r,onCancel:n,onCropImage:a},i)=>{var ce,se;const[o,l]=N.useState({name:(e==null?void 0:e.name)||"",category:(e==null?void 0:e.category)||"Casual",price:((ce=e==null?void 0:e.price)==null?void 0:ce.toString())||"",originalPrice:((se=e==null?void 0:e.originalPrice)==null?void 0:se.toString())||"",description:(e==null?void 0:e.description)||"",inStock:(e==null?void 0:e.inStock)??!0,sizes:(e==null?void 0:e.sizes)||["S","M","L"],colors:(e==null?void 0:e.colors)||["Black","White"],images:(e==null?void 0:e.images)||[]}),[c,u]=N.useState([]),[d,f]=N.useState((e==null?void 0:e.images)||[]),[p,h]=N.useState(!1),[g,m]=N.useState(0),[v,x]=N.useState(!1),[_,w]=N.useState(""),[j,S]=N.useState(""),A=N.useRef(null),[O,k]=N.useState({}),T=N.useRef([]),R=N.useCallback(X=>{if(X&&X.startsWith("blob:"))try{URL.revokeObjectURL(X)}catch(J){console.debug("Preview cleanup failed",J)}},[]),P=N.useMemo(()=>{const X={};return c.forEach(J=>{J.replacementFor&&(X[J.replacementFor]={preview:J.preview,status:J.status,progress:J.progress})}),X},[c]),I=N.useMemo(()=>c.map((X,J)=>({img:X,index:J})).filter(({img:X})=>!X.replacementFor),[c]);N.useEffect(()=>{T.current=Object.values(O).filter(X=>X.startsWith("blob:"))},[O]);const M=N.useCallback(X=>{u(J=>{const le=[];return J.forEach(ue=>{ue.replacementFor===X?ue.previewIsObjectUrl&&R(ue.preview):le.push(ue)}),le}),k(J=>{const le={...J},ue=le[X];return ue&&(R(ue),delete le[X]),le})},[]),D=N.useCallback((X,J)=>{const le={id:`existing-${J}`,previewUrl:X,thumbnailUrl:X,storedRun:null,label:"Original",createdAt:0,status:"completed",source:"upload"},ue=c.filter(oe=>oe.replacementFor===X).sort((oe,Ne)=>(oe.createdAt??0)-(Ne.createdAt??0)).map(oe=>ZT(oe));return[le,...ue]},[c]),G=N.useCallback(X=>{const J=c[X];return J?[ZT(J)]:[]},[c]);N.useImperativeHandle(i,()=>({handleCropComplete:(X,J)=>{var qe;const le=Date.now(),ue=X.storedRun?"ai edit":X.source==="cropped"?"manual crop":"upload",oe=((qe=X.storedRun)==null?void 0:qe.mimeType)??X.blob.type??"image/png",Ne=oe.split("/")[1]||"png",ge=X.storedRun?`ai-edit.${Ne}`:`cropped_image.${Ne}`,te=new File([X.blob],ge,{type:oe}),Ve=X.storedRun?X.storedRun.thumbnailUrl||X.storedRun.publicUrl:URL.createObjectURL(te),Be=!X.storedRun;if(J.type==="new")u(_e=>{const Ue=[..._e],Ee=Ue[J.index];return Ee&&(Ee.previewIsObjectUrl&&R(Ee.preview),Ue[J.index]={...Ee,id:Ee.id??wm(),createdAt:le,file:te,preview:Ve,previewIsObjectUrl:Be,status:"pending",progress:0,storedRun:X.storedRun??null,error:void 0,source:"new",editType:ue}),Ue});else{const _e=d[J.index];if(!_e){Se.error("Unable to locate original image for replacement");return}k(Ue=>{const Ee={...Ue},ze=Ee[_e];return ze&&R(ze),Ee[_e]=Ve,Ee}),u(Ue=>{const Ee=[...Ue],ze=Ee.findIndex(Ge=>Ge.replacementFor===_e);if(ze!==-1){const Ge=Ee[ze].preview;Ee[ze].previewIsObjectUrl&&R(Ge),Ee[ze]={...Ee[ze],id:Ee[ze].id??wm(),createdAt:le,file:te,preview:Ve,previewIsObjectUrl:Be,status:"pending",progress:0,storedRun:X.storedRun??null,error:void 0,source:"existing",editType:ue}}else Ee.push({id:wm(),createdAt:le,file:te,preview:Ve,previewIsObjectUrl:Be,status:"pending",progress:0,replacementFor:_e,storedRun:X.storedRun??null,source:"existing",editType:ue});return Ee})}Se.success(X.source==="ai"?"AI image ready to apply.":"Image cropped successfully. Ready for upload.")}})),N.useEffect(()=>()=>{c.forEach(X=>{X.previewIsObjectUrl&&R(X.preview)}),T.current.forEach(X=>{R(X)})},[c]);const $=N.useCallback(X=>{X.preventDefault(),X.stopPropagation(),X.type==="dragenter"||X.type==="dragover"?x(!0):X.type==="dragleave"&&x(!1)},[]),q=N.useCallback(X=>{X.preventDefault(),X.stopPropagation(),x(!1),X.dataTransfer.files&&X.dataTransfer.files[0]&&F(Array.from(X.dataTransfer.files))},[]),F=X=>{const J=X.filter(ue=>{const oe=il.validateFile(ue);return oe.valid?!0:(Se.error(`${ue.name}: ${oe.error}`),!1)});if(J.length===0)return;const le=J.map(ue=>({id:wm(),createdAt:Date.now(),file:ue,preview:URL.createObjectURL(ue),previewIsObjectUrl:!0,status:"pending",progress:0,storedRun:null,source:"new",editType:"upload"}));u(ue=>[...ue,...le]),Se.success(`${J.length} image(s) ready for upload`)},ee=X=>{const J=c[X];J.previewIsObjectUrl&&R(J.preview),J.url&&il.deleteImage(J.url).catch(le=>{console.warn("Failed to delete image from storage:",le)}),u(le=>le.filter((ue,oe)=>oe!==X))},he=X=>{M(X),f(J=>J.filter(le=>le!==X))},fe=()=>{_.trim()&&!o.sizes.includes(_.trim())&&(l(X=>({...X,sizes:[...X.sizes,_.trim()]})),w(""))},B=X=>{l(J=>({...J,sizes:J.sizes.filter(le=>le!==X)}))},W=()=>{j.trim()&&!o.colors.includes(j.trim())&&(l(X=>({...X,colors:[...X.colors,j.trim()]})),S(""))},H=X=>{l(J=>({...J,colors:J.colors.filter(le=>le!==X)}))},re=async X=>{if(X.preventDefault(),!o.name.trim()){Se.error("Product name is required");return}if(!o.price||isNaN(parseFloat(o.price))){Se.error("Valid price is required");return}if(c.some(J=>J.status==="uploading")){Se.error("Please wait for all images to finish uploading");return}h(!0),m(0);try{const J={name:o.name,category:o.category,price:parseFloat(o.price),original_price:o.originalPrice?parseFloat(o.originalPrice):void 0,description:o.description,in_stock:o.inStock,sizes:o.sizes,colors:o.colors,images:[...d]};let le;if(t==="edit"&&(e!=null&&e.id))await _m(e.id,J),le=e.id;else{const oe=await j8(J);if(!oe||!oe.id)throw new Error("Failed to create product");le=oe.id}let ue=[...d];if(c.length>0){const oe=c.map(qe=>qe.replacementFor??null),Ne=[...d],ge=[];u(qe=>qe.map(_e=>({..._e,status:"uploading",progress:0})));const te=c.map(qe=>qe.file),Ve={format:"webp",quality:.85,generateSizes:!0},Be=await il.uploadMultipleImages(te,le,Ve,(qe,_e)=>{u(Ue=>Ue.map((Ee,ze)=>ze===qe?{...Ee,progress:_e.percentage}:Ee)),m(Math.round((qe+_e.percentage/100)/te.length*100))},(qe,_e)=>{u(Ee=>Ee.map((ze,Ge)=>Ge===qe?{...ze,status:"completed",url:_e.url,thumbnailUrl:_e.thumbnailUrl,progress:100}:ze));const Ue=oe[qe];if(Ue){const Ee=Ne.indexOf(Ue);Ee!==-1?Ne[Ee]=_e.url:ge.push(_e.url)}else ge.push(_e.url)}).catch(async qe=>{console.error("Upload failed:",qe),console.log("Checking bucket existence...");const _e=await il.checkBucketExists();if(console.log("Bucket exists:",_e),!_e)return Se.error("Image storage bucket is not accessible"),[];console.log("Checking direct bucket access...");const Ue=await il.checkBucketDirectly();return console.log("Direct bucket access:",Ue),Se.error(`Upload failed: ${qe.message}`),[]});Be.length>0||ge.length>0?(ue=[...Ne,...ge],ue=Array.from(new Set(ue))):ue=[...d],await _m(le,{images:ue}),Se.success(`${t==="edit"?"Updated":"Created"} product with ${Be.length} new image(s)`)}else await _m(le,{images:ue}),Se.success(`Product ${t==="edit"?"updated":"created"} successfully!`);Object.values(O).forEach(oe=>{try{URL.revokeObjectURL(oe)}catch(Ne){console.debug("Preview override cleanup failed after upload",Ne)}}),k({}),T.current=[],r==null||r(),t==="create"?(l({name:"",category:"Casual",price:"",originalPrice:"",description:"",inStock:!0,sizes:["S","M","L"],colors:["Black","White"],images:[]}),f([])):f(ue),c.forEach(oe=>{oe.preview&&URL.revokeObjectURL(oe.preview)}),u([]),m(0)}catch(J){console.error(`Error ${t==="edit"?"updating":"creating"} product:`,J),Se.error(J instanceof Error?J.message:`Failed to ${t==="edit"?"update":"create"} product`),u(le=>le.map(ue=>ue.status==="uploading"?{...ue,status:"error",error:"Upload failed"}:ue))}finally{h(!1)}};return s.jsxs(Me,{className:"w-full bg-neutral-900/60 backdrop-blur border-neutral-800",children:[s.jsx(At,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(kt,{className:"flex items-center gap-2",children:[t==="edit"?s.jsx(Fm,{className:"h-5 w-5"}):s.jsx(oc,{className:"h-5 w-5"}),t==="edit"?"Edit Product":"Add New Product"]}),n&&s.jsx(ye,{variant:"ghost",onClick:n,children:"Cancel"})]})}),s.jsx(De,{children:s.jsxs("form",{onSubmit:re,className:"space-y-5",children:[s.jsxs(lF,{type:"multiple",defaultValue:["basic","pricing","inventory","media"],className:"w-full",children:[s.jsxs(no,{value:"basic",children:[s.jsx(ao,{className:"text-sm font-medium",children:"Basic Information"}),s.jsxs(io,{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"product-name",children:"Product Name *"}),s.jsx(zt,{id:"product-name",value:o.name,onChange:X=>l(J=>({...J,name:X.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"category",children:"Category"}),s.jsxs(_a,{value:o.category,onValueChange:X=>l(J=>({...J,category:X})),children:[s.jsx(Sa,{children:s.jsx(Na,{})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"Casual",children:"Casual"}),s.jsx(Xe,{value:"Party",children:"Party"}),s.jsx(Xe,{value:"Shoes",children:"Shoes"}),s.jsx(Xe,{value:"Outwear",children:"Outwear"}),s.jsx(Xe,{value:"Dresses",children:"Dresses"}),s.jsx(Xe,{value:"Accessories",children:"Accessories"})]})]})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"description",children:"Description"}),s.jsx(rv,{id:"description",value:o.description,onChange:X=>l(J=>({...J,description:X.target.value})),rows:3})]})]})]}),s.jsxs(no,{value:"pricing",children:[s.jsx(ao,{className:"text-sm font-medium",children:"Pricing"}),s.jsx(io,{className:"space-y-4 pt-2",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"price",children:"Price *"}),s.jsx(zt,{id:"price",type:"number",step:"0.01",min:"0",value:o.price,onChange:X=>l(J=>({...J,price:X.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"original-price",children:"Original Price (for sales)"}),s.jsx(zt,{id:"original-price",type:"number",step:"0.01",min:"0",value:o.originalPrice,onChange:X=>l(J=>({...J,originalPrice:X.target.value}))})]})]})})]}),s.jsxs(no,{value:"inventory",children:[s.jsx(ao,{className:"text-sm font-medium",children:"Inventory & Variants"}),s.jsxs(io,{className:"space-y-5 pt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fj,{id:"in-stock",checked:o.inStock,onCheckedChange:X=>l(J=>({...J,inStock:X}))}),s.jsx(Ft,{htmlFor:"in-stock",children:"In Stock"})]}),s.jsxs("div",{children:[s.jsx(Ft,{children:"Sizes"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(zt,{value:_,onChange:X=>w(X.target.value),placeholder:"Add size (e.g., XL)",onKeyPress:X=>X.key==="Enter"&&(X.preventDefault(),fe())}),s.jsx(ye,{type:"button",variant:"outline",onClick:fe,children:s.jsx(oc,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.sizes.map(X=>s.jsxs(Pt,{variant:"secondary",className:"flex items-center gap-1",children:[X,s.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>B(X),children:s.jsx(ws,{className:"h-3 w-3"})})]},X))})]}),s.jsxs("div",{children:[s.jsx(Ft,{children:"Colors"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(zt,{value:j,onChange:X=>S(X.target.value),placeholder:"Add color (e.g., Red)",onKeyPress:X=>X.key==="Enter"&&(X.preventDefault(),W())}),s.jsx(ye,{type:"button",variant:"outline",onClick:W,children:s.jsx(oc,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.colors.map(X=>s.jsxs(Pt,{variant:"secondary",className:"flex items-center gap-1",children:[X,s.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>H(X),children:s.jsx(yo,{className:"h-3 w-3"})})]},X))})]})]})]}),s.jsxs(no,{value:"media",children:[s.jsx(ao,{className:"text-sm font-medium",children:"Media & Images"}),s.jsx(io,{className:"space-y-4 pt-2",children:s.jsxs("div",{children:[s.jsx(Ft,{children:"Product Images"}),d.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Images:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((X,J)=>s.jsxs("div",{className:"relative group",children:[(()=>{const le=P[X],ue=O[X],oe=(le==null?void 0:le.preview)??ue??X,Ne=(le==null?void 0:le.status)??(ue?"pending":void 0);return s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>{console.log(" Clicking existing image for cropping:",{index:J,imageUrl:X,mode:t}),a==null||a({index:J,src:oe,type:"existing",form:t,history:D(X,J)})},children:[s.jsx("img",{src:oe,alt:`Existing ${J+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:s.jsx(yA,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),(le||ue)&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(Pt,{variant:"secondary",className:"bg-amber-500/90 text-black shadow",children:Ne==="uploading"?"Uploading":Ne==="completed"?"Updated":"Edited"})})]})})(),s.jsx(ye,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:le=>{le.stopPropagation(),he(X)},children:s.jsx(ws,{className:"h-3 w-3"})}),(P[X]||O[X])&&s.jsx(ye,{type:"button",variant:"ghost",size:"icon",className:"absolute -bottom-2 left-1/2 -translate-x-1/2 h-7 w-7 rounded-full border border-white/40 bg-black/60 text-white",onClick:le=>{le.stopPropagation(),M(X)},children:s.jsx(Ja,{className:"h-3 w-3"})})]},`existing-${J}`))})]}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${v?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:$,onDragLeave:$,onDragOver:$,onDrop:q,onClick:()=>{var X;return(X=A.current)==null?void 0:X.click()},children:[s.jsx("input",{ref:A,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:X=>X.target.files&&F(Array.from(X.target.files))}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(VI,{className:"h-8 w-8 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Drop new images here or click to browse"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG, WebP, AVIF (max 10MB each)"})]})]})]}),I.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"New Images to Upload:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:I.map(({img:X,index:J})=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>{console.log(" Clicking new image for cropping:",{index:J,preview:X.preview,mode:t}),a==null||a({index:J,src:X.preview,type:"new",form:t,history:G(J)})},children:[s.jsx("img",{src:X.preview,alt:`New ${J+1}`,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:[X.status==="pending"&&s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:s.jsx(yA,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),X.status==="uploading"&&s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2",children:s.jsx(Hu,{value:X.progress,className:"w-full h-full"})}),s.jsxs("p",{className:"text-xs",children:[X.progress,"%"]})]}),X.status==="completed"&&s.jsx(Wh,{className:"h-8 w-8 text-green-500"}),X.status==="error"&&s.jsxs("div",{className:"text-center",children:[s.jsx(pc,{className:"h-8 w-8 text-red-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs text-red-400",children:"Failed"})]})]})]}),s.jsx(ye,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:le=>{le.stopPropagation(),ee(J)},children:s.jsx(ws,{className:"h-3 w-3"})})]},`new-${J}`))})]}),p&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{children:"Uploading images..."}),s.jsxs("span",{children:[g,"%"]})]}),s.jsx(Hu,{value:g})]}),c.some(X=>X.status==="error")&&s.jsx("div",{className:"mt-4",children:s.jsxs(Xxe,{variant:"destructive",children:[s.jsx(pc,{className:"h-4 w-4"}),s.jsx(Zxe,{children:"Upload failed. Check browser console (F12) for detailed error information."})]})})]})})]})]}),s.jsxs("div",{className:"flex gap-4 pt-2",children:[n&&s.jsx(ye,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),s.jsx(ye,{type:"submit",className:"flex-1",disabled:p||c.some(X=>X.status==="uploading"),children:p?"Uploading...":t==="edit"?"Update Product":"Create Product"})]})]})})]})});qj.displayName="ProductForm";var cF="AlertDialog",[xbe,p2e]=Gn(cF,[dR]),Oo=dR(),uF=t=>{const{__scopeAlertDialog:e,...r}=t,n=Oo(e);return s.jsx(v_,{...n,...r,modal:!0})};uF.displayName=cF;var bbe="AlertDialogTrigger",dF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Oo(r);return s.jsx(Nv,{...a,...n,ref:e})});dF.displayName=bbe;var wbe="AlertDialogPortal",fF=t=>{const{__scopeAlertDialog:e,...r}=t,n=Oo(e);return s.jsx(y_,{...n,...r})};fF.displayName=wbe;var jbe="AlertDialogOverlay",hF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Oo(r);return s.jsx(Sv,{...a,...n,ref:e})});hF.displayName=jbe;var Gu="AlertDialogContent",[_be,Nbe]=xbe(Gu),Sbe=iq("AlertDialogContent"),pF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Oo(r),o=N.useRef(null),l=Gt(e,o),c=N.useRef(null);return s.jsx(CK,{contentName:Gu,titleName:mF,docsSlug:"alert-dialog",children:s.jsx(_be,{scope:r,cancelRef:c,children:s.jsxs(Av,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:yt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Sbe,{children:n}),s.jsx(kbe,{contentRef:o})]})})})});pF.displayName=Gu;var mF="AlertDialogTitle",gF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Oo(r);return s.jsx(kR,{...a,...n,ref:e})});gF.displayName=mF;var vF="AlertDialogDescription",yF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Oo(r);return s.jsx(PR,{...a,...n,ref:e})});yF.displayName=vF;var Abe="AlertDialogAction",xF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Oo(r);return s.jsx(kv,{...a,...n,ref:e})});xF.displayName=Abe;var bF="AlertDialogCancel",wF=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=Nbe(bF,r),i=Oo(r),o=Gt(e,a);return s.jsx(kv,{...i,...n,ref:o})});wF.displayName=bF;var kbe=({contentRef:t})=>{const e=`\`${Gu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gu}\` by passing a \`${vF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Pbe=uF,Cbe=dF,Obe=fF,jF=hF,Ebe=pF,Tbe=xF,Ibe=wF,Rbe=gF,Lbe=yF;function O0({...t}){return s.jsx(Pbe,{"data-slot":"alert-dialog",...t})}function E0({...t}){return s.jsx(Cbe,{"data-slot":"alert-dialog-trigger",...t})}function Mbe({...t}){return s.jsx(Obe,{"data-slot":"alert-dialog-portal",...t})}const _F=N.forwardRef(({className:t,...e},r)=>s.jsx(jF,{...e,ref:r,"data-slot":"alert-dialog-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",t)}));_F.displayName=jF.displayName;function T0({className:t,...e}){return s.jsxs(Mbe,{children:[s.jsx(_F,{}),s.jsx(Ebe,{"data-slot":"alert-dialog-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function I0({className:t,...e}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Ze("flex flex-col gap-2 text-center sm:text-left",t),...e})}function R0({className:t,...e}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Ze("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function L0({className:t,...e}){return s.jsx(Rbe,{"data-slot":"alert-dialog-title",className:Ze("text-lg font-semibold",t),...e})}function M0({className:t,...e}){return s.jsx(Lbe,{"data-slot":"alert-dialog-description",className:Ze("text-muted-foreground text-sm",t),...e})}function D0({className:t,...e}){return s.jsx(Tbe,{className:Ze(Qf(),t),...e})}function $0({className:t,...e}){return s.jsx(Ibe,{className:Ze(Qf({variant:"outline"}),t),...e})}function Dbe({products:t,onEditProduct:e,onRefresh:r}){const[n,a]=N.useState(""),[i,o]=N.useState("All"),[l,c]=N.useState(null),[u,d]=N.useState("list"),f=t.filter(g=>{const m=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),v=i==="All"||g.category===i;return m&&v}),p=async(g,m)=>{try{console.log(" Attempting to delete product:",{productId:g,productName:m});const v=await _8(g);console.log(" Delete result:",v),v?(Se.success(`Product "${m}" deleted successfully`),console.log(" Calling onRefresh..."),r==null||r()):(Se.error("Failed to delete product"),console.error(" Delete function returned false"))}catch(v){console.error(" Error deleting product:",v),Se.error("Failed to delete product")}},h=(g,m)=>m&&m>g?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]}),s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",m.toFixed(2)]}),s.jsxs(Pt,{variant:"destructive",className:"text-xs",children:[Math.round((1-g/m)*100),"% OFF"]})]}):s.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]});return s.jsxs(Me,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:[s.jsxs(At,{children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(kt,{children:["Product Inventory (",f.length,")"]})}),s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(zt,{placeholder:"Search products...",value:n,onChange:g=>a(g.target.value),className:"pl-10"})]}),s.jsxs(_a,{value:i,onValueChange:o,children:[s.jsx(Sa,{className:"w-48",children:s.jsx(Na,{})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"All",children:"All Categories"}),s.jsx(Xe,{value:"Casual",children:"Casual"}),s.jsx(Xe,{value:"Party",children:"Party"}),s.jsx(Xe,{value:"Shoes",children:"Shoes"}),s.jsx(Xe,{value:"Outwear",children:"Outwear"}),s.jsx(Xe,{value:"Dresses",children:"Dresses"}),s.jsx(Xe,{value:"Accessories",children:"Accessories"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ye,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:s.jsx(dv,{className:"w-4 h-4"})}),s.jsx(ye,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:s.jsx(hv,{className:"w-4 h-4"})})]})]})]}),s.jsxs(De,{className:"w-full",children:[u==="grid"?s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:f.map(g=>s.jsx(Fbe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})}):s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:s.jsxs("tr",{className:"*:[&>th]:font-medium",children:[s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden sm:table-cell",children:"Stock"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-neutral-800",children:f.map(g=>s.jsx($be,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})]})})}),f.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),s.jsx("p",{className:"text-gray-500",children:t.length===0?"No products in inventory yet. Add your first product to get started.":"Try adjusting your search or filter criteria."})]})]}),s.jsx(yi,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xi,{children:s.jsx(bi,{children:"Product Details"})}),l&&s.jsx(Bbe,{product:l})]})})]})}function $be({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return s.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors",children:[s.jsx("td",{className:"px-3 py-3 align-top",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700",children:s.jsx(dl,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover",priority:!0})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-semibold text-neutral-200 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Kr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),s.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:s.jsx(Pt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase",children:t.category})}),s.jsx("td",{className:"px-3 py-3 align-top",children:s.jsx("div",{className:"text-sm text-neutral-200",children:a(t.price,t.originalPrice)})}),s.jsx("td",{className:"px-3 py-3 hidden sm:table-cell align-top",children:s.jsx("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${t.inStock?"bg-green-500/15 text-green-300":"bg-red-500/15 text-red-300"}`,children:t.inStock?"In Stock":"Out"})}),s.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zj,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pv,{className:"h-3 w-3"}),t.colors.length," colors"]}),s.jsxs("span",{className:"hidden xl:inline",children:[t.images.length," img"]})]})}),s.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(gi,{className:"h-4 w-4"})}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(Jj,{className:"h-4 w-4"})}),s.jsxs(O0,{children:[s.jsx(E0,{asChild:!0,children:s.jsx(ye,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(yo,{className:"h-4 w-4"})})}),s.jsxs(T0,{children:[s.jsxs(I0,{children:[s.jsx(L0,{children:"Delete Product"}),s.jsxs(M0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),s.jsxs(R0,{children:[s.jsx($0,{children:"Cancel"}),s.jsx(D0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})})]})}function Fbe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return s.jsxs("div",{className:"border border-neutral-800 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-black/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0",children:[s.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[s.jsx(dl,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300",priority:!0}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md ${t.inStock?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:t.inStock?"Stock":"Out"})})]}),s.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[s.jsxs("div",{className:"w-full min-w-0",children:[s.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-200",title:t.name,children:t.name}),s.jsx(Pt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide",children:t.category})]}),s.jsxs("div",{className:"text-sm font-semibold text-neutral-100",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&s.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center justify-between text-[11px] text-neutral-400 w-full",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{children:t.rating})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zj,{className:"h-3 w-3"}),t.sizes.length]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pv,{className:"h-3 w-3"}),t.colors.length]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(gi,{className:"h-3 w-3"})}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(Jj,{className:"h-3 w-3"})}),s.jsxs(O0,{children:[s.jsx(E0,{asChild:!0,children:s.jsx(ye,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(yo,{className:"h-3 w-3"})})}),s.jsxs(T0,{children:[s.jsxs(I0,{children:[s.jsx(L0,{children:"Delete Product"}),s.jsxs(M0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),s.jsxs(R0,{children:[s.jsx($0,{children:"Cancel"}),s.jsx(D0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})]})]})}function Bbe({product:t}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(dl,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo=",alt:t.name,className:"w-full h-64 object-cover rounded-lg",priority:!0}),t.images.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.images.slice(1,5).map((e,r)=>s.jsx(dl,{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-16 object-cover rounded"},r))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:t.name}),s.jsx("p",{className:"text-muted-foreground",children:t.category})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Price"}),t.originalPrice&&t.originalPrice>t.price?s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R",t.price.toFixed(2)]}),s.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["R",t.originalPrice.toFixed(2)]}),s.jsxs(Pt,{className:"ml-2",variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}):s.jsxs("span",{className:"text-2xl font-bold",children:["R",t.price.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Stock Status"}),s.jsx(Pt,{variant:t.inStock?"default":"destructive",children:t.inStock?"In Stock":"Out of Stock"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Available Sizes"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.sizes.map(e=>s.jsx(Pt,{variant:"outline",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Available Colors"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:t.colors.map(e=>s.jsx(Pt,{variant:"outline",children:e},e))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Rating & Reviews"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,r)=>s.jsx(Kr,{className:`h-4 w-4 ${r<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),s.jsxs("span",{className:"text-sm",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-muted-foreground",children:t.description||"No description available"})]})]})}function qbe({products:t,onRefresh:e}){const[r,n]=N.useState(""),[a,i]=N.useState("All"),[o,l]=N.useState(null),[c,u]=N.useState("list"),d=t.filter(m=>{const v=m.name.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase()),x=a==="All"||m.category===a;return v&&x}),f=async(m,v)=>{try{console.log(" Restoring product:",{productId:m,productName:v}),await N8(m)?(Se.success(`Product "${v}" restored successfully`),e==null||e()):Se.error("Failed to restore product")}catch(x){console.error(" Error restoring product:",x),Se.error("Failed to restore product")}},p=async(m,v)=>{try{console.log(" Permanently deleting product:",{productId:m,productName:v}),await S8(m)?(Se.success(`Product "${v}" permanently deleted`),e==null||e()):Se.error("Failed to permanently delete product")}catch(x){console.error(" Error permanently deleting product:",x),Se.error("Failed to permanently delete product")}},h=(m,v)=>v&&v>m?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",v.toFixed(2)]}),s.jsxs(Pt,{variant:"destructive",className:"text-xs",children:[Math.round((1-m/v)*100),"% OFF"]})]}):s.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),g=m=>new Date(m).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs(Me,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800 border-orange-500/20",children:[s.jsxs(At,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory (",d.length,")"]}),s.jsx(Pt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:"Archived Products"})]}),s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(zt,{placeholder:"Search deleted products...",value:r,onChange:m=>n(m.target.value),className:"pl-10"})]}),s.jsxs(_a,{value:a,onValueChange:i,children:[s.jsx(Sa,{className:"w-48",children:s.jsx(Na,{})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"All",children:"All Categories"}),s.jsx(Xe,{value:"Casual",children:"Casual"}),s.jsx(Xe,{value:"Party",children:"Party"}),s.jsx(Xe,{value:"Shoes",children:"Shoes"}),s.jsx(Xe,{value:"Outwear",children:"Outwear"}),s.jsx(Xe,{value:"Dresses",children:"Dresses"}),s.jsx(Xe,{value:"Accessories",children:"Accessories"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ye,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>u("grid"),children:s.jsx(dv,{className:"w-4 h-4"})}),s.jsx(ye,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),children:s.jsx(hv,{className:"w-4 h-4"})})]})]})]}),s.jsxs(De,{className:"w-full",children:[c==="grid"?s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:d.map(m=>s.jsx(zbe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})}):s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:s.jsxs("tr",{className:"*:[&>th]:font-medium",children:[s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Deleted"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),s.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-neutral-800",children:d.map(m=>s.jsx(Ube,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})]})})}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(uo,{className:"h-12 w-12 text-orange-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deleted products found"}),s.jsx("p",{className:"text-gray-500",children:t.length===0?"No products have been deleted yet.":"Try adjusting your search or filter criteria."})]})]}),s.jsx(yi,{open:!!o,onOpenChange:()=>l(null),children:s.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(xi,{children:s.jsxs(bi,{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"h-5 w-5 text-orange-500"}),"Deleted Product Details"]})}),o&&s.jsx("div",{className:"space-y-4",children:s.jsxs(Pt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:["Deleted on ",g(o.deleted_at)]})})]})})]})}function Ube({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return s.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors opacity-70",children:[s.jsx("td",{className:"px-3 py-3 align-top",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700 relative",children:[s.jsx(dl,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover grayscale",priority:!0}),s.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:s.jsx(uo,{className:"h-4 w-4 text-red-400"})})]}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-semibold text-neutral-300 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Kr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),s.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:s.jsx(Pt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase opacity-70",children:t.category})}),s.jsx("td",{className:"px-3 py-3 align-top",children:s.jsx("div",{className:"text-sm text-neutral-300 opacity-70",children:a(t.price,t.originalPrice)})}),s.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top",children:s.jsx("div",{className:"text-[11px] text-neutral-400",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cv,{className:"h-3 w-3"}),i(t.deleted_at)]})})}),s.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zj,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pv,{className:"h-3 w-3"}),t.colors.length," colors"]})]})}),s.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(gi,{className:"h-4 w-4"})}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"h-8 w-8 p-0 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore product",children:s.jsx(Ja,{className:"h-4 w-4"})}),s.jsxs(O0,{children:[s.jsx(E0,{asChild:!0,children:s.jsx(ye,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:s.jsx(yo,{className:"h-4 w-4"})})}),s.jsxs(T0,{children:[s.jsxs(I0,{children:[s.jsxs(L0,{className:"flex items-center gap-2",children:[s.jsx(Hh,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),s.jsxs(M0,{children:['Are you sure you want to permanently delete "',t.name,'"?',s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"This action cannot be undone and will:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"Completely remove the product from the database"}),s.jsx("li",{children:"Delete all associated images"}),s.jsx("li",{children:"Remove all references from order history"})]})]})]}),s.jsxs(R0,{children:[s.jsx($0,{children:"Cancel"}),s.jsx(D0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})})]})}function zbe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return s.jsxs("div",{className:"border border-orange-800/40 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-orange-900/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0 opacity-70",children:[s.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[s.jsx(dl,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover grayscale",priority:!0}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md bg-orange-500/20 text-orange-300",children:"Deleted"})}),s.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:s.jsx(uo,{className:"h-8 w-8 text-red-400"})})]}),s.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[s.jsxs("div",{className:"w-full min-w-0",children:[s.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-300",title:t.name,children:t.name}),s.jsx(Pt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide opacity-70",children:t.category})]}),s.jsxs("div",{className:"text-sm font-semibold text-neutral-300 opacity-70",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&s.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),s.jsxs("div",{className:"text-[10px] text-orange-400",children:["Deleted: ",i(t.deleted_at)]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:s.jsx(gi,{className:"h-3 w-3"})}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"text-[11px] h-7 px-2 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore",children:s.jsx(Ja,{className:"h-3 w-3"})}),s.jsxs(O0,{children:[s.jsx(E0,{asChild:!0,children:s.jsx(ye,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:s.jsx(yo,{className:"h-3 w-3"})})}),s.jsxs(T0,{children:[s.jsxs(I0,{children:[s.jsxs(L0,{className:"flex items-center gap-2",children:[s.jsx(Hh,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),s.jsxs(M0,{children:['Are you sure you want to permanently delete "',t.name,'"? This action cannot be undone.']})]}),s.jsxs(R0,{children:[s.jsx($0,{children:"Cancel"}),s.jsx(D0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})]})]})}function Wbe({onEditProduct:t}){const[e,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState("active"),u=async()=>{o(!0);try{console.log(" ProductTabs: Loading products...");const f=await s_();console.log(" ProductTabs: Active products loaded:",f.length),r(f);const p=await m8();console.log(" ProductTabs: Deleted products loaded:",p.length),a(p)}catch(f){console.error(" ProductTabs: Error loading products:",f),Se.error("Failed to load products")}finally{o(!1)}};N.useEffect(()=>{u()},[]);const d=()=>{console.log(" ProductTabs: Refreshing products..."),u()};return i?s.jsx(Me,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Products..."}),s.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your inventory."})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Me,{className:"bg-gradient-to-r from-green-500/10 to-emerald-600/10 border-green-500/20",children:[s.jsx(At,{className:"pb-3",children:s.jsxs(kt,{className:"text-lg flex items-center gap-2",children:[s.jsx(fo,{className:"h-5 w-5 text-green-500"}),"Active Products"]})}),s.jsxs(De,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-500",children:e.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently visible to customers"})]})]}),s.jsxs(Me,{className:"bg-gradient-to-r from-orange-500/10 to-red-600/10 border-orange-500/20",children:[s.jsx(At,{className:"pb-3",children:s.jsxs(kt,{className:"text-lg flex items-center gap-2",children:[s.jsx(uo,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory"]})}),s.jsxs(De,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Archived products"})]})]})]}),s.jsxs(bo,{value:l,onValueChange:c,className:"w-full",children:[s.jsxs(wo,{className:"grid w-full grid-cols-2 bg-neutral-800/60 backdrop-blur",children:[s.jsxs(Pr,{value:"active",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[s.jsx(fo,{className:"h-4 w-4"}),"Active Products",s.jsx(Pt,{variant:"secondary",className:"ml-1",children:e.length})]}),s.jsxs(Pr,{value:"deleted",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-600 data-[state=active]:text-white",children:[s.jsx(uo,{className:"h-4 w-4"}),"Deleted Inventory",s.jsx(Pt,{variant:"secondary",className:"ml-1",children:n.length})]})]}),s.jsx(Cr,{value:"active",className:"mt-6",children:s.jsx(Dbe,{products:e,onEditProduct:t,onRefresh:d})}),s.jsx(Cr,{value:"deleted",className:"mt-6",children:s.jsx(qbe,{products:n,onRefresh:d})})]})]})}var F0="Switch",[Hbe,m2e]=Gn(F0),[Gbe,Vbe]=Hbe(F0),NF=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,h]=N.useState(null),g=Gt(e,w=>h(w)),m=N.useRef(!1),v=p?d||!!p.closest("form"):!0,[x,_]=vi({prop:a,defaultProp:i??!1,onChange:u,caller:F0});return s.jsxs(Gbe,{scope:r,checked:x,disabled:l,children:[s.jsx(dt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":PF(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:yt(t.onClick,w=>{_(j=>!j),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&s.jsx(kF,{control:p,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});NF.displayName=F0;var SF="SwitchThumb",AF=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Vbe(SF,r);return s.jsx(dt.span,{"data-state":PF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});AF.displayName=SF;var Kbe="SwitchBubbleInput",kF=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=N.useRef(null),l=Gt(o,i),c=j0(r),u=y0(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kF.displayName=Kbe;function PF(t){return t?"checked":"unchecked"}var Ybe=NF,Xbe=AF;function Cu({className:t,...e}){return s.jsx(Ybe,{"data-slot":"switch",className:Ze("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Xbe,{"data-slot":"switch-thumb",className:Ze("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Zbe=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"systemAlerts",label:"System Alerts",description:"Important system notifications"},{key:"orderAlerts",label:"Order Alerts",description:"Notifications for new orders"},{key:"securityAlerts",label:"Security Alerts",description:"Security-related notifications"}],Jbe=[{key:"theme",label:"Theme",options:[{value:"light",label:"Light",icon:s.jsx(rh,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:s.jsx($m,{className:"h-4 w-4"})},{value:"system",label:"System",icon:s.jsx(QU,{className:"h-4 w-4"})}]},{key:"language",label:"Language",options:[{value:"en",label:"English"},{value:"af",label:"Afrikaans"},{value:"zu",label:"isiZulu"},{value:"xh",label:"isiXhosa"},{value:"tn",label:"Setswana"},{value:"st",label:"Sesotho"},{value:"ve",label:"Tshivenda"},{value:"ts",label:"Xitsonga"}]},{key:"timezone",label:"Timezone",options:[{value:"UTC+3",label:"UTC+3 (Nairobi, Kenya)"},{value:"UTC+2",label:"UTC+2 (Johannesburg, South Africa)"},{value:"UTC+1",label:"UTC+1 (Lagos, Nigeria)"},{value:"UTC+0",label:"UTC+0 (Dakar, Senegal)"},{value:"UTC-1",label:"UTC-1 (Cape Verde)"}]},{key:"itemsPerPage",label:"Items Per Page",options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}],A2={emailNotifications:!0,pushNotifications:!1,systemAlerts:!0,orderAlerts:!0,securityAlerts:!0,language:"en",timezone:"UTC+2",theme:"system",dashboardLayout:"default",itemsPerPage:"20"},JT="admin_preferences";function CF(){const{user:t,isAdmin:e,signOut:r}=$n(),[n,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,g]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,v]=N.useState(A2),[x,_]=N.useState(!1);N.useEffect(()=>{(()=>{try{const k=localStorage.getItem(JT);if(k){const T=JSON.parse(k),R={...A2,...T};v(R)}}catch(k){console.error("Error loading preferences from localStorage:",k),v(A2)}})()},[]),N.useEffect(()=>{const O=()=>{try{localStorage.setItem(JT,JSON.stringify(m))}catch(k){console.error("Error saving preferences to localStorage:",k)}};Object.keys(m).length>0&&O()},[m]);const w=async()=>{if(!t){Se.error("User not found");return}c(!0);try{console.log("AdminAccountSettings: Updating user profile:",f);const O={};if(f.name!==(t.name||"")&&(O.name=f.name),f.phone!==(t.phone||"")&&(O.phone=f.phone),f.email!==(t.email||"")&&(O.email=f.email),Object.keys(O).length===0){Se.info("No changes to save"),a(!1),c(!1);return}console.log("AdminAccountSettings: Updates to save:",O);const k=await A8(t.id,O);if(k)console.log("AdminAccountSettings: Profile updated successfully:",k),Se.success("Profile updated successfully!"),p({name:(k==null?void 0:k.name)||f.name,email:(k==null?void 0:k.email)||f.email,phone:(k==null?void 0:k.phone)||f.phone}),a(!1);else throw new Error("Failed to update profile")}catch(O){console.error("AdminAccountSettings: Error updating profile:",O),Se.error("Failed to update profile")}finally{c(!1)}},j=async()=>{var O,k,T;if(h.newPassword!==h.confirmPassword){Se.error("New passwords do not match");return}if(h.newPassword.length<6){Se.error("Password must be at least 6 characters long");return}c(!0);try{if(console.log("AdminAccountSettings: Changing user password"),await k8(h.newPassword))console.log("AdminAccountSettings: Password changed successfully"),Se.success("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error("Failed to update password")}catch(R){console.error("AdminAccountSettings: Error changing password:",R),(O=R.message)!=null&&O.includes("session_not_found")||(k=R.message)!=null&&k.includes("refresh_token_not_found")?Se.error("Session expired. Please log in again to change your password."):(T=R.message)!=null&&T.includes("same_password")?Se.error("New password must be different from current password"):Se.error("Failed to change password. Please try again.")}finally{c(!1)}},S=N.useCallback(async(O,k)=>{if(!x){_(!0);try{v(T=>({...T,[O]:k})),await new Promise(T=>setTimeout(T,300)),Se.success("Preference updated")}catch(T){console.error("Error updating preference:",T),Se.error("Failed to update preference")}finally{_(!1)}}},[x]),A=async()=>{if(u){console.log("AdminAccountSettings: Logout already in progress, ignoring click");return}console.log("AdminAccountSettings: Logout button clicked"),d(!0);try{console.log("AdminAccountSettings: Calling signOut()"),await r(),console.log("AdminAccountSettings: signOut() completed"),Se.success("Logged out successfully"),console.log("AdminAccountSettings: About to reload page immediately");try{window.location.reload(),console.log("AdminAccountSettings: window.location.reload() called successfully")}catch(O){console.error("AdminAccountSettings: Error calling window.location.reload():",O),setTimeout(()=>{console.log("AdminAccountSettings: Fallback reload attempt"),window.location.reload()},100)}}catch(O){console.error("AdminAccountSettings: Logout failed:",O),Se.error("Failed to log out"),d(!1)}};return!t||!e?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(so,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to access this page."})]}):s.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Account Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your admin account and preferences"})]}),s.jsxs(bo,{defaultValue:"profile",className:"space-y-6",children:[s.jsxs(wo,{className:"grid w-full grid-cols-4",children:[s.jsx(Pr,{value:"profile",children:"Profile"}),s.jsx(Pr,{value:"security",children:"Security"}),s.jsx(Pr,{value:"preferences",children:"Preferences"}),s.jsx(Pr,{value:"system",children:"System"})]}),s.jsx(Cr,{value:"profile",children:s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"h-5 w-5"}),"Admin Profile"]})}),s.jsxs(De,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Z8,{className:"h-20 w-20",children:s.jsx(J8,{className:"text-xl",children:t.name.split(" ").map(O=>O[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:t.name}),s.jsxs(Pt,{variant:"secondary",className:"bg-red-100 text-red-800",children:[s.jsx(so,{className:"h-3 w-3 mr-1"}),"Administrator"]})]}),s.jsx("p",{className:"text-muted-foreground",children:t.email}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-sm",children:["Member since ",t.created_at?new Date(t.created_at).getFullYear():"2024"]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Last login: Today"})]})]}),s.jsx(ye,{variant:"outline",size:"sm",onClick:()=>a(!n),children:n?"Cancel":"Edit Profile"})]}),n&&s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"name",children:"Full Name"}),s.jsx(zt,{id:"name",value:f.name,onChange:O=>p(k=>({...k,name:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"email",children:"Email"}),s.jsx(zt,{id:"email",type:"email",value:f.email,onChange:O=>p(k=>({...k,email:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"phone",children:"Phone"}),s.jsx(zt,{id:"phone",type:"tel",value:f.phone,onChange:O=>p(k=>({...k,phone:O.target.value})),placeholder:"Enter phone number"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{onClick:w,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),s.jsx(ye,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})}),s.jsx(Cr,{value:"security",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(xA,{className:"h-5 w-5"}),"Change Password"]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"currentPassword",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(zt,{id:"currentPassword",type:i?"text":"password",value:h.currentPassword,onChange:O=>g(k=>({...k,currentPassword:O.target.value}))}),s.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),children:i?s.jsx(T2,{className:"h-4 w-4"}):s.jsx(gi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"newPassword",children:"New Password"}),s.jsx(zt,{id:"newPassword",type:"password",value:h.newPassword,onChange:O=>g(k=>({...k,newPassword:O.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(zt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:O=>g(k=>({...k,confirmPassword:O.target.value}))})]}),s.jsx(ye,{onClick:j,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})]})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(so,{className:"h-5 w-5"}),"Security Settings"]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Active Sessions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"View Sessions"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Login History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your recent login activity"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"View History"})]})]})]})]})}),s.jsx(Cr,{value:"preferences",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(tc,{className:"h-5 w-5"}),"Notification Preferences"]})}),s.jsx(De,{className:"space-y-4",children:Zbe.map(O=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:O.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),s.jsx(Cu,{checked:m[O.key],onCheckedChange:k=>S(O.key,k),disabled:x})]},O.key))})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(mv,{className:"h-5 w-5"}),"Display Settings"]})}),s.jsx(De,{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Jbe.map(O=>s.jsxs("div",{children:[s.jsx(Ft,{children:O.label}),s.jsxs(_a,{value:m[O.key],onValueChange:k=>S(O.key,k),disabled:x,children:[s.jsx(Sa,{children:s.jsx(Na,{})}),s.jsx(Aa,{children:O.options.map(k=>s.jsx(Xe,{value:k.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[k.icon,k.label]})},k.value))})]})]},O.key))})})]})]})}),s.jsx(Cr,{value:"system",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(Kq,{className:"h-5 w-5"}),"System Status"]})}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"24/7"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]})]})})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(so,{className:"h-5 w-5"}),"Admin Actions"]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Export System Data"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download system data for backup"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"Export Data"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Clear System Cache"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear cached data to improve performance"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"Clear Cache"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"View Admin Logs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Access system and admin activity logs"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"View Logs"})]})]})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(xA,{className:"h-5 w-5"}),"API Keys"]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Generate New API Key"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create API keys for integrations"})]}),s.jsx(ye,{variant:"outline",size:"sm",children:"Generate Key"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Active API Keys"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"No active API keys. Generate one to get started."})]})]})]})]})})]}),s.jsx("div",{className:"mt-8",children:s.jsx(ye,{variant:"destructive",className:"w-full",onClick:A,disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx(lc,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(BI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]})}function Qbe(){const[t,e]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState("30d"),[o,l]=N.useState("overview");N.useEffect(()=>{const d={overview:{totalReviews:247,averageRating:4.3,ratingTrend:8.5,responseRate:87,trustScore:4.4},ratingDistribution:[{rating:5,count:142,percentage:57.5},{rating:4,count:68,percentage:27.5},{rating:3,count:23,percentage:9.3},{rating:2,count:8,percentage:3.2},{rating:1,count:6,percentage:2.4}],timeseriesData:[{date:"2024-08-15",reviews:12,averageRating:4.2,responses:10},{date:"2024-08-22",reviews:18,averageRating:4.1,responses:15},{date:"2024-08-29",reviews:15,averageRating:4.4,responses:13},{date:"2024-09-05",reviews:22,averageRating:4.3,responses:19},{date:"2024-09-12",reviews:19,averageRating:4.5,responses:17},{date:"2024-09-19",reviews:16,averageRating:4.2,responses:14}],productPerformance:[{productId:"sku_1",productName:"Summer Floral Dress",totalReviews:45,averageRating:4.6,recentReviews:8,category:"Dresses"},{productId:"sku_2",productName:"Evening Gown",totalReviews:32,averageRating:4.4,recentReviews:5,category:"Dresses"},{productId:"sku_3",productName:"Ankle Boots",totalReviews:28,averageRating:4.1,recentReviews:3,category:"Shoes"},{productId:"sku_4",productName:"Denim Jacket",totalReviews:35,averageRating:4.3,recentReviews:6,category:"Outwear"},{productId:"sku_5",productName:"Casual Blazer",totalReviews:21,averageRating:4,recentReviews:2,category:"Casual"}],sentimentAnalysis:{positive:78.5,neutral:16.2,negative:5.3},responseMetrics:{averageResponseTime:4.2,responseRate:87,totalResponses:215}};setTimeout(()=>{e(d),n(!1)},1e3)},[a]);const c=["#10B981","#F59E0B","#EF4444"],u=d=>d.toFixed(1);return r?s.jsx(Me,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(E2,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Analytics..."}),s.jsx("p",{className:"text-gray-500",children:"Please wait while we process review data."})]})})}):t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Track customer satisfaction and review performance"})]}),s.jsxs(_a,{value:a,onValueChange:i,children:[s.jsx(Sa,{className:"w-[140px]",children:s.jsx(Na,{})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"7d",children:"Last 7 days"}),s.jsx(Xe,{value:"30d",children:"Last 30 days"}),s.jsx(Xe,{value:"90d",children:"Last 90 days"}),s.jsx(Xe,{value:"1y",children:"Last year"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(Me,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.overview.totalReviews}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Ku,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{className:"text-xs text-green-600",children:["+",t.overview.ratingTrend,"%"]})]})]}),s.jsx(Ff,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:u(t.overview.averageRating)}),s.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>s.jsx(Kr,{className:`h-4 w-4 ${f<Math.floor(t.overview.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},f))})]})]}),s.jsx(Kr,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[t.overview.responseRate,"%"]}),s.jsx(Hu,{value:t.overview.responseRate,className:"mt-2"})]}),s.jsx(GI,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Trust Score"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:u(t.overview.trustScore)}),s.jsx(Pt,{variant:"outline",className:"mt-1 bg-purple-100 text-purple-700 border-purple-300",children:"Excellent"})]}),s.jsx(LI,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-rose-600",children:"Avg Response Time"}),s.jsxs("p",{className:"text-2xl font-bold text-rose-900",children:[t.responseMetrics.averageResponseTime,"h"]}),s.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"Industry standard: 24h"})]}),s.jsx(cv,{className:"h-8 w-8 text-rose-500"})]})})})]}),s.jsxs(bo,{value:o,onValueChange:l,children:[s.jsxs(wo,{className:"grid w-full grid-cols-4",children:[s.jsx(Pr,{value:"overview",children:"Overview"}),s.jsx(Pr,{value:"trends",children:"Trends"}),s.jsx(Pr,{value:"products",children:"Products"}),s.jsx(Pr,{value:"sentiment",children:"Sentiment"})]}),s.jsx(Cr,{value:"overview",className:"space-y-6",children:s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(E2,{className:"h-5 w-5"}),"Rating Distribution"]})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:t.ratingDistribution.map(d=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1 w-16",children:[s.jsx("span",{className:"text-sm font-medium",children:d.rating}),s.jsx(Kr,{className:"h-3 w-3 text-yellow-400 fill-current"})]}),s.jsx("div",{className:"flex-1",children:s.jsx(Hu,{value:d.percentage,className:"h-2"})}),s.jsxs("div",{className:"flex items-center gap-2 w-20",children:[s.jsx("span",{className:"text-sm text-gray-600",children:d.count}),s.jsxs("span",{className:"text-xs text-gray-400",children:["(",d.percentage,"%)"]})]})]},d.rating))})})]})}),s.jsx(Cr,{value:"trends",className:"space-y-6",children:s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-5 w-5"}),"Review Trends Over Time"]})}),s.jsx(De,{children:s.jsx(og,{width:"100%",height:300,children:s.jsxs(jme,{data:t.timeseriesData,children:[s.jsx(EN,{strokeDasharray:"3 3"}),s.jsx(Bd,{dataKey:"date"}),s.jsx(Nc,{yAxisId:"left"}),s.jsx(Nc,{yAxisId:"right",orientation:"right"}),s.jsx(Ga,{}),s.jsx(uc,{}),s.jsx(wl,{yAxisId:"left",dataKey:"reviews",fill:"#3B82F6",name:"Reviews"}),s.jsx(sp,{yAxisId:"right",type:"monotone",dataKey:"averageRating",stroke:"#F59E0B",strokeWidth:3,name:"Avg Rating"})]})})})]})}),s.jsx(Cr,{value:"products",className:"space-y-6",children:s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(Tz,{className:"h-5 w-5"}),"Product Review Performance"]})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:t.productPerformance.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:d.productName}),s.jsx(Pt,{variant:"outline",children:d.category})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kr,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsx("span",{children:u(d.averageRating)})]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[d.totalReviews," total reviews"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[d.recentReviews," recent"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(Hu,{value:d.averageRating/5*100,className:"w-24 h-2"})})]},d.productId))})})]})}),s.jsx(Cr,{value:"sentiment",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(iU,{className:"h-5 w-5"}),"Sentiment Distribution"]})}),s.jsx(De,{children:s.jsx(og,{width:"100%",height:250,children:s.jsxs(o9,{children:[s.jsx(Is,{dataKey:"value",data:[{name:"Positive",value:t.sentimentAnalysis.positive},{name:"Neutral",value:t.sentimentAnalysis.neutral},{name:"Negative",value:t.sentimentAnalysis.negative}],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:c.map((d,f)=>s.jsx(Qh,{fill:d},`cell-${f}`))}),s.jsx(Ga,{})]})})})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{children:"Sentiment Breakdown"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"font-medium text-green-800",children:"Positive"})]}),s.jsxs("span",{className:"text-2xl font-bold text-green-900",children:[t.sentimentAnalysis.positive,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Neutral"})]}),s.jsxs("span",{className:"text-2xl font-bold text-yellow-900",children:[t.sentimentAnalysis.neutral,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"font-medium text-red-800",children:"Negative"})]}),s.jsxs("span",{className:"text-2xl font-bold text-red-900",children:[t.sentimentAnalysis.negative,"%"]})]})]})]})]})})]})]}):null}function e1e(){const[t,e]=N.useState([]),[r,n]=N.useState(null),[a,i]=N.useState(!0),[o,l]=N.useState(""),[c,u]=N.useState("all"),[d,f]=N.useState("all"),[p,h]=N.useState(null),[g,m]=N.useState("");N.useEffect(()=>{const w=[{id:"1",customerName:"Sarah Johnson",customerEmail:"sarah@example.com",productId:"sku_1",productName:"Summer Floral Dress",rating:5,title:"Beautiful dress, perfect fit!",content:"I absolutely love this dress! The fabric is high quality and the fit is perfect. The floral pattern is gorgeous and I've received so many compliments. Will definitely order more from this store.",createdAt:"2024-09-10T10:30:00Z",verified:!0,helpful:12,unhelpful:0},{id:"2",customerName:"Emma Davis",customerEmail:"emma@example.com",productId:"sku_2",productName:"Evening Gown",rating:4,title:"Great for special occasions",content:"This gown is stunning and perfect for formal events. The only reason I'm giving 4 stars instead of 5 is that it runs slightly small. I recommend ordering a size up.",createdAt:"2024-09-08T15:45:00Z",verified:!0,helpful:8,unhelpful:1,response:{content:"Thank you for your review! We appreciate your feedback about sizing and will update our size guide. We're so glad you love the gown for special occasions!",createdAt:"2024-09-09T09:15:00Z",author:"Rosmama Team"}},{id:"3",customerName:"Lisa Brown",customerEmail:"lisa@example.com",productId:"sku_3",productName:"Ankle Boots",rating:3,title:"Good quality but uncomfortable",content:"The boots are well-made and look great, but they're quite uncomfortable for long periods. The sizing is accurate though.",createdAt:"2024-09-05T12:20:00Z",verified:!0,helpful:3,unhelpful:2}],j={totalReviews:47,averageRating:4.3,ratingDistribution:{5:23,4:15,3:6,2:2,1:1},recentReviews:8,responseRate:85};setTimeout(()=>{e(w),n(j),i(!1)},1e3)},[]);const v=t.filter(w=>{const j=w.productName.toLowerCase().includes(o.toLowerCase())||w.customerName.toLowerCase().includes(o.toLowerCase())||w.content.toLowerCase().includes(o.toLowerCase()),S=c==="all"||w.rating.toString()===c,A=d==="all"||d==="responded"&&w.response||d==="pending"&&!w.response;return j&&S&&A}),x=async w=>{if(!g.trim()){Se.error("Please enter a response");return}try{e(j=>j.map(S=>S.id===w?{...S,response:{content:g,createdAt:new Date().toISOString(),author:"Rosmama Team"}}:S)),m(""),h(null),Se.success("Response sent successfully!")}catch{Se.error("Failed to send response")}},_=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?s.jsx(Me,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ff,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Reviews..."}),s.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch review data."})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Management"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and respond to customer reviews"})]}),s.jsxs(ye,{onClick:()=>window.open("https://businessapp.b2b.trustpilot.com/","_blank"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[s.jsx(kU,{className:"h-4 w-4 mr-2"}),"Trustpilot Dashboard"]})]}),s.jsxs(bo,{defaultValue:"reviews",className:"space-y-6",children:[s.jsxs(wo,{className:"grid w-full grid-cols-2",children:[s.jsx(Pr,{value:"reviews",children:"Review Management"}),s.jsx(Pr,{value:"analytics",children:"Analytics & Insights"})]}),s.jsxs(Cr,{value:"reviews",className:"space-y-6",children:[r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Me,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.totalReviews})]}),s.jsx(Ff,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:r.averageRating}),s.jsx("div",{className:"flex",children:[...Array(5)].map((w,j)=>s.jsx(Kr,{className:`h-4 w-4 ${j<Math.floor(r.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},j))})]})]}),s.jsx(Kr,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[r.responseRate,"%"]})]}),s.jsx(wA,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(Me,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Recent Reviews"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.recentReviews}),s.jsx("p",{className:"text-xs text-purple-600",children:"Last 7 days"})]}),s.jsx(Ku,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsx(Me,{children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(zt,{placeholder:"Search reviews, products, or customers...",value:o,onChange:w=>l(w.target.value),className:"pl-10"})]})}),s.jsxs(_a,{value:c,onValueChange:u,children:[s.jsx(Sa,{className:"w-[140px]",children:s.jsx(Na,{placeholder:"Rating"})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"all",children:"All Ratings"}),s.jsx(Xe,{value:"5",children:"5 Stars"}),s.jsx(Xe,{value:"4",children:"4 Stars"}),s.jsx(Xe,{value:"3",children:"3 Stars"}),s.jsx(Xe,{value:"2",children:"2 Stars"}),s.jsx(Xe,{value:"1",children:"1 Star"})]})]}),s.jsxs(_a,{value:d,onValueChange:f,children:[s.jsx(Sa,{className:"w-[140px]",children:s.jsx(Na,{placeholder:"Status"})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"all",children:"All Reviews"}),s.jsx(Xe,{value:"pending",children:"Pending Response"}),s.jsx(Xe,{value:"responded",children:"Responded"})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:v.map(w=>s.jsx(Me,{className:"bg-white border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold",children:w.customerName.charAt(0)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.customerName}),s.jsx("p",{className:"text-sm text-gray-500",children:w.productName})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[w.verified&&s.jsx(Pt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Verified Purchase"}),s.jsx("div",{className:"flex",children:[...Array(5)].map((j,S)=>s.jsx(Kr,{className:`h-4 w-4 ${S<w.rating?"text-yellow-400 fill-current":"text-gray-300"}`},S))})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:w.title}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:w.content})]}),s.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{children:_(w.createdAt)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GI,{className:"h-3 w-3"}),s.jsx("span",{children:w.helpful}),s.jsx(Rz,{className:"h-3 w-3 ml-2"}),s.jsx("span",{children:w.unhelpful})]})]})}),w.response?s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"R"}),s.jsx("span",{className:"font-semibold text-blue-900",children:w.response.author}),s.jsxs("span",{className:"text-sm text-blue-600",children:["responded on ",_(w.response.createdAt)]})]}),s.jsx("p",{className:"text-blue-800",children:w.response.content})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(yi,{children:[s.jsx(x_,{asChild:!0,children:s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>h(w),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(wA,{className:"h-4 w-4 mr-1"}),"Respond"]})}),s.jsxs(ri,{className:"max-w-2xl",children:[s.jsx(xi,{children:s.jsx(bi,{children:"Respond to Review"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-semibold",children:w.customerName}),s.jsx("div",{className:"flex",children:[...Array(5)].map((j,S)=>s.jsx(Kr,{className:`h-3 w-3 ${S<w.rating?"text-yellow-400 fill-current":"text-gray-300"}`},S))})]}),s.jsx("p",{className:"text-gray-700",children:w.content})]}),s.jsx("textarea",{value:g,onChange:j=>m(j.target.value),placeholder:"Write your response...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ye,{variant:"outline",onClick:()=>{h(null),m("")},children:"Cancel"}),s.jsx(ye,{onClick:()=>x(w.id),className:"bg-blue-600 hover:bg-blue-700",children:"Send Response"})]})]})]})]}),s.jsx(Pt,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Pending Response"})]})]})},w.id))}),v.length===0&&s.jsx(Me,{children:s.jsxs(De,{className:"p-12 text-center",children:[s.jsx(Ff,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),s.jsx("p",{className:"text-gray-500",children:o||c!=="all"||d!=="all"?"Try adjusting your filters to see more reviews.":"Reviews will appear here once customers start leaving feedback."})]})})]}),s.jsx(Cr,{value:"analytics",children:s.jsx(Qbe,{})})]})]})}class ui{static async fetchPageContent(e){try{const{data:r,error:n}=await Te.from("content_pages").select("page_data").eq("page_type",e).eq("is_active",!0).maybeSingle();return n?(console.warn(`Database error fetching content for ${e}:`,n),this.getFallbackContent(e)):!r||!r.page_data?(console.info(`No content found in database for ${e}, using fallback`),this.getFallbackContent(e)):r.page_data}catch(r){return console.error(`Unexpected error fetching content for ${e}:`,r),this.getFallbackContent(e)}}static async fetchAllContent(){try{const{data:e,error:r}=await Te.from("content_pages").select("*").eq("is_active",!0).order("page_type");return r?(console.error("Error fetching all content:",r),[]):(e||[]).map(n=>({...n,page_data:n.page_data}))}catch(e){return console.error("Unexpected error fetching all content:",e),[]}}static getFallbackContent(e){return{about:{title:"About Rosmama Clothing",description:"Learn about our story, values, and team",sections:[{id:"company-story",title:"Our Story",content:"<p>Founded by Rosemary Oku, Rosmama began as a boutique in Midrand, South Africa with a vision to make beautiful, quality fashion accessible to every South African woman.</p>"},{id:"mission-values",title:"Our Mission & Values",content:"<p><strong>Our Mission:</strong> To democratize fashion by providing high-quality, sustainable clothing that empowers women to express their unique style with confidence.</p>"}]},privacy:{title:"Privacy Policy",description:"Our commitment to protecting your privacy",sections:[{id:"introduction",title:"Introduction",content:"<p>At Rosmama Clothing, we are committed to protecting your privacy and personal information. This policy explains how we collect, use, and protect your data.</p>"}]},terms:{title:"Terms & Conditions",description:"Legal terms and conditions",sections:[{id:"introduction",title:"Introduction",content:"<h4>Welcome to Terms & Conditions</h4><p>This is the introduction section. Edit this content to provide information about terms.</p><p>These terms and conditions govern your use of Rosmama Clothing's services. By using our website and services, you agree to these terms.</p>"},{id:"acceptance",title:"Acceptance of Terms",content:"<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p>"},{id:"use-license",title:"Use License",content:"<p>Permission is granted to temporarily download one copy of the materials on Rosmama Clothing's website for personal, non-commercial transitory viewing only.</p>"},{id:"disclaimer",title:"Disclaimer",content:"<p>The materials on Rosmama Clothing's website are provided on an 'as is' basis. Rosmama Clothing makes no warranties, expressed or implied.</p>"}]},shipping:{title:"Shipping Information",description:"Delivery options and policies",sections:[{id:"delivery-options",title:"Delivery Options",content:"<p>We offer various shipping options to suit your needs. Standard delivery takes 3-5 business days within South Africa.</p>"}]},returns:{title:"Returns & Exchanges",description:"Our return and exchange policy",sections:[{id:"return-policy",title:"Return Policy",content:"<p>We accept returns within 72 hrs of purchase. Items must be in original condition with tags attached.</p>"}]},help:{title:"Help & Support",description:"Get help with your orders and account",sections:[{id:"faq",title:"Frequently Asked Questions",content:"<p>Find answers to common questions about our products, orders, and services.</p>"}]},contact:{title:"Contact Us",description:"Get in touch with our team",sections:[{id:"contact-info",title:"Contact Information",content:"<p>Reach out to us for any questions or support. We're here to help!</p>"}]}}[e]}static async fetchContentWithHistory(e){try{const{data:r,error:n}=await Te.from("content_pages").select("*").eq("page_type",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")return console.error(`Error fetching current content for ${e}:`,n),null;const a=r?{...r,page_data:r.page_data}:null,{data:i,error:o}=r?await Te.from("content_versions").select("*").eq("content_page_id",r.id).order("version_number",{ascending:!1}):{data:[],error:null};if(o)return console.error(`Error fetching version history for ${e}:`,o),{current:a,history:[]};const l=(i||[]).map(c=>({...c,page_data:c.page_data}));return{current:a,history:l}}catch(r){return console.error(`Unexpected error fetching content history for ${e}:`,r),null}}static async savePageContent(e,r,n){try{const{data:a}=await Te.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:o}=await Te.from("content_pages").insert({page_type:e,page_data:r,created_by:a.user.id,updated_by:a.user.id}).select().single();return o?(console.error(`Error saving content for ${e}:`,o),{success:!1,error:o.message}):{success:!0,data:{...i,page_data:i.page_data}}}catch(a){return console.error(`Unexpected error saving content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async updatePageContent(e,r,n){try{const{data:a}=await Te.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:o}=await Te.from("content_pages").select("id").eq("page_type",e).eq("is_active",!0).maybeSingle();if(!i)return await this.savePageContent(e,r,n);const{data:l,error:c}=await Te.from("content_pages").update({page_data:r,updated_by:a.user.id}).eq("id",i.id).select().single();return c?(console.error(`Error updating content for ${e}:`,c),{success:!1,error:c.message}):{success:!0,data:{...l,page_data:l.page_data}}}catch(a){return console.error(`Unexpected error updating content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async deletePageContent(e){try{const{data:r}=await Te.auth.getUser();if(!r.user)return{success:!1,error:"User not authenticated"};const{error:n}=await Te.from("content_pages").update({is_active:!1,updated_by:r.user.id}).eq("page_type",e).eq("is_active",!0);return n?(console.error(`Error deleting content for ${e}:`,n),{success:!1,error:n.message}):{success:!0}}catch(r){return console.error(`Unexpected error deleting content for ${e}:`,r),{success:!1,error:"Unexpected error occurred"}}}static async revertToVersion(e,r){try{const{data:n}=await Te.auth.getUser();if(!n.user)return{success:!1,error:"User not authenticated"};const{data:a,error:i}=await Te.from("content_versions").select("page_data").eq("version_number",r).limit(1).single();return i||!a?{success:!1,error:"Version not found"}:await this.updatePageContent(e,a.page_data,`Reverted to version ${r}`)}catch(n){return console.error("Unexpected error reverting to version:",n),{success:!1,error:"Unexpected error occurred"}}}static subscribeToContentChanges(e,r){return Te.channel(`content-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"content_pages",filter:`page_type=eq.${e}`},r).subscribe()}static unsubscribeFromContentChanges(e){return Te.removeChannel(e)}static async fetchMultiplePageContent(e){try{const r={},n=e.map(async i=>{const o=await this.fetchPageContent(i);return{pageType:i,content:o}});return(await Promise.all(n)).forEach(({pageType:i,content:o})=>{r[i]=o}),r}catch(r){return console.error("Error fetching multiple page content:",r),{}}}static async searchContent(e){try{const{data:r,error:n}=await Te.from("content_pages").select("*").eq("is_active",!0).textSearch("page_data",e);return n?(console.error("Error searching content:",n),[]):(r||[]).map(a=>({...a,page_data:a.page_data}))}catch(r){return console.error("Unexpected error searching content:",r),[]}}static async checkAdminAccess(){try{const{data:e}=await Te.auth.getUser();if(!e.user)return!1;const r=e.user.user_metadata;return(r==null?void 0:r.role)==="admin"}catch(e){return console.error("Error checking admin access:",e),!1}}static async checkDatabaseHealth(){try{const{data:e,error:r}=await Te.from("content_pages").select("id, page_type").limit(1);return r?{tableExists:!1,hasData:!1,error:r.message}:{tableExists:!0,hasData:!!e&&e.length>0,error:void 0}}catch(e){return{tableExists:!1,hasData:!1,error:e.message}}}}const t1e={contentCache:{},loadingStates:{},errorStates:{},lastUpdated:{},adminContent:{},contentHistory:{},isLoading:!1,globalError:null,subscriptions:{},isAdminMode:!1};function r1e(t,e){switch(e.type){case"SET_LOADING":return{...t,loadingStates:{...t.loadingStates,[e.pageType]:e.isLoading}};case"SET_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:e.content},lastUpdated:{...t.lastUpdated,[e.pageType]:Date.now()},loadingStates:{...t.loadingStates,[e.pageType]:!1},errorStates:{...t.errorStates,[e.pageType]:null}};case"SET_ERROR":return{...t,errorStates:{...t.errorStates,[e.pageType]:e.error},loadingStates:{...t.loadingStates,[e.pageType]:!1}};case"SET_ADMIN_CONTENT":return{...t,adminContent:{...t.adminContent,[e.pageType]:e.adminContent}};case"SET_CONTENT_HISTORY":return{...t,contentHistory:{...t.contentHistory,[e.pageType]:e.history}};case"SET_GLOBAL_LOADING":return{...t,isLoading:e.isLoading};case"SET_GLOBAL_ERROR":return{...t,globalError:e.error};case"SET_SUBSCRIPTION":return{...t,subscriptions:{...t.subscriptions,[e.pageType]:e.subscription}};case"REMOVE_SUBSCRIPTION":const r={...t.subscriptions};return delete r[e.pageType],{...t,subscriptions:r};case"SET_ADMIN_MODE":return{...t,isAdminMode:e.isAdminMode};case"CLEAR_CACHE":if(e.pageType){const n={...t.contentCache};return delete n[e.pageType],{...t,contentCache:n}}return{...t,contentCache:{}};case"INVALIDATE_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:null},lastUpdated:{...t.lastUpdated,[e.pageType]:0}};default:return t}}const OF=N.createContext(void 0),n1e=300*1e3,a1e=({children:t})=>{const[e,r]=N.useReducer(r1e,t1e),n=N.useRef(e),a=N.useRef(null);n.current=e;const i=N.useCallback(j=>{const S=e.lastUpdated[j];return S?Date.now()-S<n1e:!1},[e.lastUpdated]),o=N.useCallback(async(j,S=!1)=>{if(!S&&e.contentCache[j]&&i(j))return e.contentCache[j];r({type:"SET_LOADING",pageType:j,isLoading:!0});try{const A=await ui.fetchPageContent(j);return r({type:"SET_CONTENT",pageType:j,content:A}),A}catch(A){const O=A instanceof Error?A.message:"Failed to fetch content";return r({type:"SET_ERROR",pageType:j,error:O}),null}},[e.contentCache,i]);a.current=o;const l=N.useCallback(async j=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const S=await ui.fetchMultiplePageContent(j);return Object.entries(S).forEach(([A,O])=>{r({type:"SET_CONTENT",pageType:A,content:O})}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),S}catch(S){const A=S instanceof Error?S.message:"Failed to fetch multiple content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),{}}},[]),c=N.useCallback(async(j,S,A)=>{r({type:"SET_LOADING",pageType:j,isLoading:!0});try{const O=await ui.savePageContent(j,S,A);return O.success?(r({type:"SET_CONTENT",pageType:j,content:S}),O.data&&r({type:"SET_ADMIN_CONTENT",pageType:j,adminContent:O.data}),!0):(r({type:"SET_ERROR",pageType:j,error:O.error||"Failed to save content"}),!1)}catch(O){const k=O instanceof Error?O.message:"Failed to save content";return r({type:"SET_ERROR",pageType:j,error:k}),!1}},[]),u=N.useCallback(async(j,S,A)=>{r({type:"SET_LOADING",pageType:j,isLoading:!0});try{const O=await ui.updatePageContent(j,S,A);return O.success?(r({type:"SET_CONTENT",pageType:j,content:S}),O.data&&r({type:"SET_ADMIN_CONTENT",pageType:j,adminContent:O.data}),!0):(r({type:"SET_ERROR",pageType:j,error:O.error||"Failed to update content"}),!1)}catch(O){const k=O instanceof Error?O.message:"Failed to update content";return r({type:"SET_ERROR",pageType:j,error:k}),!1}},[]),d=N.useCallback(async j=>{r({type:"SET_LOADING",pageType:j,isLoading:!0});try{const S=await ui.deletePageContent(j);return S.success?(r({type:"CLEAR_CACHE",pageType:j}),r({type:"SET_ADMIN_CONTENT",pageType:j,adminContent:null}),!0):(r({type:"SET_ERROR",pageType:j,error:S.error||"Failed to delete content"}),!1)}catch(S){const A=S instanceof Error?S.message:"Failed to delete content";return r({type:"SET_ERROR",pageType:j,error:A}),!1}},[]),f=N.useCallback(async j=>{r({type:"SET_LOADING",pageType:j,isLoading:!0});try{const S=await ui.fetchContentWithHistory(j);return r({type:"SET_CONTENT_HISTORY",pageType:j,history:S}),r({type:"SET_LOADING",pageType:j,isLoading:!1}),S}catch(S){const A=S instanceof Error?S.message:"Failed to fetch content history";return r({type:"SET_ERROR",pageType:j,error:A}),null}},[]),p=N.useCallback(async(j,S)=>{r({type:"SET_LOADING",pageType:j,isLoading:!0});try{const A=await ui.revertToVersion(j,S);return A.success&&A.data?(r({type:"SET_CONTENT",pageType:j,content:A.data.page_data}),r({type:"SET_ADMIN_CONTENT",pageType:j,adminContent:A.data}),!0):(r({type:"SET_ERROR",pageType:j,error:A.error||"Failed to revert content"}),!1)}catch(A){const O=A instanceof Error?A.message:"Failed to revert content";return r({type:"SET_ERROR",pageType:j,error:O}),!1}},[]),h=N.useCallback(j=>{if(n.current.subscriptions[j])return;const S=ui.subscribeToContentChanges(j,A=>{r({type:"INVALIDATE_CONTENT",pageType:j}),n.current.isAdminMode&&a.current&&a.current(j,!0)});r({type:"SET_SUBSCRIPTION",pageType:j,subscription:S})},[]),g=N.useCallback(j=>{const S=n.current.subscriptions[j];S&&(ui.unsubscribeFromContentChanges(S),r({type:"REMOVE_SUBSCRIPTION",pageType:j}))},[]),m=N.useCallback(j=>{r({type:"CLEAR_CACHE",pageType:j})},[]),v=N.useCallback(j=>{r({type:"SET_ADMIN_MODE",isAdminMode:j})},[]),x=N.useCallback(async j=>{await o(j,!0)},[o]),_=N.useCallback(async j=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const S=await ui.searchContent(j);return r({type:"SET_GLOBAL_LOADING",isLoading:!1}),S}catch(S){const A=S instanceof Error?S.message:"Failed to search content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),[]}},[]);N.useEffect(()=>()=>{Object.values(e.subscriptions).forEach(j=>{j&&ui.unsubscribeFromContentChanges(j)})},[e.subscriptions]);const w={state:e,getPageContent:o,getMultiplePageContent:l,savePageContent:c,updatePageContent:u,deletePageContent:d,getContentHistory:f,revertToVersion:p,subscribeToPageContent:h,unsubscribeFromPageContent:g,clearCache:m,setAdminMode:v,refreshContent:x,searchContent:_};return N.useEffect(()=>()=>{Object.keys(n.current.subscriptions).forEach(j=>{const S=n.current.subscriptions[j];S&&ui.unsubscribeFromContentChanges(S)})},[]),s.jsx(OF.Provider,{value:w,children:t})},EF=()=>{const t=N.useContext(OF);if(t===void 0)throw console.error("useContent hook called outside ContentProvider. Component tree:",{stackTrace:new Error().stack}),new Error("useContent must be used within a ContentProvider");return t},Uj=[{id:"about",name:"About Us",title:"About Rosmama Clothing",description:"Company information, story, and values",icon:go},{id:"privacy",name:"Privacy Policy",title:"Privacy Policy",description:"How we handle customer data and privacy",icon:so},{id:"terms",name:"Terms of Service",title:"Terms & Conditions",description:"Legal terms and conditions",icon:bs},{id:"shipping",name:"Shipping Policy",title:"Shipping & Delivery",description:"Shipping methods and delivery information",icon:Yu},{id:"returns",name:"Returns Policy",title:"Returns & Exchanges",description:"Return and exchange policy",icon:Ja},{id:"help",name:"Help Center",title:"Help & Support",description:"Frequently asked questions and support",icon:Vj},{id:"contact",name:"Contact Us",title:"Contact Information",description:"How to reach our customer service",icon:Xj}],jm=t=>{const e=Uj.find(n=>n.id===t),r=(e==null?void 0:e.title)||"Page Title";return{title:r,description:(e==null?void 0:e.description)||"Page description",sections:[{id:`${t}-intro`,title:"Introduction",content:`<h4>Welcome to ${r}</h4><p>This is the introduction section. Edit this content to provide information about ${t}.</p>`}]}};function i1e(){const{state:t,getPageContent:e,savePageContent:r,updatePageContent:n,refreshContent:a,setAdminMode:i,getContentHistory:o,revertToVersion:l}=EF(),[c,u]=N.useState("about"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState(""),[v,x]=N.useState(!1),[_,w]=N.useState(null),[j,S]=N.useState(!1),[A,O]=N.useState(null),[k,T]=N.useState(!1);N.useEffect(()=>{i(!0)},[i]),N.useEffect(()=>{(async()=>{const ce=await e(c)||jm(c);w(ce)})()},[c,e]);const R=Uj.find(H=>H.id===c),P=t.loadingStates[c]||!1,I=t.errorStates[c],M=H=>{const re=_==null?void 0:_.sections.find(ce=>ce.id===H);re&&(f(H),h(re.content),m(re.title))},D=async()=>{if(!d||!_)return;const H={..._,sections:_.sections.map(ce=>ce.id===d?{...ce,title:g,content:p}:ce)};await n(c,H,"Updated section content")?(w(H),f(null),h(""),m(""),Se.success("Section updated successfully!")):Se.error("Failed to update section. Please try again.")},G=()=>{f(null),h(""),m("")},$=async()=>{if(!_)return;const H={id:`section-${Date.now()}`,title:"New Section",content:"<p>Enter your content here...</p>"},re={..._,sections:[..._.sections,H]};await n(c,re,"Added new section")?(w(re),Se.success("New section added!")):Se.error("Failed to add section. Please try again.")},q=async H=>{if(!_)return;const re={..._,sections:_.sections.filter(se=>se.id!==H)};await n(c,re,"Deleted section")?(w(re),Se.success("Section deleted!")):Se.error("Failed to delete section. Please try again.")},F=async()=>{if(!_)return;await n(c,_,"Saved all changes")?Se.success("All changes saved successfully!"):Se.error("Failed to save changes. Please try again.")},ee=async()=>{const H=jm(c);await n(c,H,"Restored to defaults")?(w(H),Se.success("Content restored to defaults!")):Se.error("Failed to restore defaults. Please try again.")},he=async()=>{await a(c);const H=await e(c,!0);w(H||jm(c)),Se.success("Content refreshed!")},fe=async()=>{T(!0);try{const H=await o(c);O(H),S(!0)}catch{Se.error("Failed to load version history")}finally{T(!1)}},B=async H=>{try{if(await l(c,H)){const ce=await e(c,!0);w(ce||jm(c)),S(!1),Se.success(`Reverted to version ${H} successfully!`)}else Se.error("Failed to revert to selected version")}catch{Se.error("Failed to revert to selected version")}},W=H=>new Date(H).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return R?s.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Content Management System"}),s.jsx("p",{className:"text-purple-100",children:"Manage information pages, policies, and user-helpful content with Supabase integration"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(ye,{onClick:F,className:"bg-green-600 hover:bg-green-700",disabled:P,children:[P?s.jsx(fi,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),s.jsxs(ye,{variant:"outline",onClick:()=>x(!v),children:[s.jsx(gi,{className:"h-4 w-4 mr-2"}),v?"Edit Mode":"Preview Mode"]}),s.jsxs(ye,{variant:"outline",onClick:he,disabled:P,children:[s.jsx(lc,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(ye,{variant:"outline",onClick:fe,disabled:k,children:[k?s.jsx(fi,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Sy,{className:"h-4 w-4 mr-2"}),"Version History"]})]}),s.jsxs(ye,{variant:"destructive",onClick:ee,className:"bg-orange-600 hover:bg-orange-700",disabled:P,children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]})]}),I&&s.jsx(Me,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:s.jsx(De,{className:"pt-4",children:s.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",I]})})}),s.jsxs(bo,{value:c,onValueChange:H=>u(H),className:"space-y-6",children:[s.jsx(wo,{className:"grid w-full grid-cols-4 lg:grid-cols-7 h-auto min-h-[3rem] p-1",children:Uj.map(H=>{const re=H.icon;return s.jsxs(Pr,{value:H.id,className:"flex items-center gap-2 px-2 py-2 text-xs sm:text-sm whitespace-nowrap overflow-hidden",children:[s.jsx(re,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"hidden sm:inline truncate",children:H.name})]},H.id)})}),s.jsxs(Cr,{value:c,className:"space-y-6 mt-6",children:[s.jsxs(Me,{children:[s.jsxs(At,{children:[s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(R.icon,{className:"h-5 w-5"}),R.title,P&&s.jsx(fi,{className:"h-4 w-4 animate-spin"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]}),s.jsx(De,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(Pt,{variant:"secondary",children:[(_==null?void 0:_.sections.length)||0," section",((_==null?void 0:_.sections.length)||0)!==1?"s":""]}),s.jsxs(ye,{onClick:$,size:"sm",disabled:P,children:[s.jsx(oc,{className:"h-4 w-4 mr-1"}),"Add Section"]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: currentPageContent = ",_?"exists":"null",", sections = ",(_==null?void 0:_.sections.length)||0]}),_==null?void 0:_.sections.map(H=>s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"text-lg",children:H.title}),s.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:s.jsxs("span",{children:["Section ID: ",H.id]})})]}),s.jsx("div",{className:"flex gap-2",children:d===H.id?s.jsxs(s.Fragment,{children:[s.jsxs(ye,{size:"sm",onClick:D,disabled:P,children:[s.jsx(Fm,{className:"h-3 w-3 mr-1"}),"Save"]}),s.jsx(ye,{size:"sm",variant:"outline",onClick:G,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>M(H.id),disabled:P,children:[s.jsx(az,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(ye,{size:"sm",variant:"destructive",onClick:()=>q(H.id),disabled:P,children:[s.jsx(yo,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]})}),s.jsx(De,{children:d===H.id?s.jsxs("div",{className:"space-y-4",children:[s.jsx(zt,{value:g,onChange:re=>m(re.target.value),placeholder:"Section title"}),s.jsx(rv,{value:p,onChange:re=>h(re.target.value),className:"min-h-[200px] font-mono text-sm",placeholder:"Section content (supports HTML)"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" You can use HTML tags like <h4>, <p>, <ul>, <li>, <strong>, etc."})]}):v?s.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:H.content}}):s.jsx("div",{className:"bg-muted p-4 rounded border font-mono text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:H.content})})]},H.id)),(!(_!=null&&_.sections)||_.sections.length===0)&&s.jsx(Me,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(bs,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"No Content Sections"}),s.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:`This page doesn't have any content sections yet. Click "Add Section" to get started.`}),s.jsxs(ye,{onClick:$,disabled:P,children:[s.jsx(oc,{className:"h-4 w-4 mr-2"}),"Add First Section"]})]})})})]})]})]}),s.jsx(Me,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vj,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Content Management Tips"}),s.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[s.jsx("li",{children:" Content is automatically saved to Supabase database"}),s.jsx("li",{children:" Use HTML tags for formatting (h4, p, ul, li, strong, etc.)"}),s.jsx("li",{children:" Preview mode shows how content will appear to users"}),s.jsx("li",{children:" Changes are synced across all admin users in real-time"}),s.jsx("li",{children:' Use "Restore Defaults" to reset content to original state'}),s.jsx("li",{children:" Version history tracks all changes with timestamps"})]})]})]})})}),s.jsx(yi,{open:j,onOpenChange:S,children:s.jsxs(ri,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(xi,{children:s.jsxs(bi,{className:"flex items-center gap-2",children:[s.jsx(Sy,{className:"h-5 w-5"}),"Version History - ",R==null?void 0:R.title]})}),s.jsx("div",{className:"space-y-4",children:A?s.jsxs(s.Fragment,{children:[A.current&&s.jsxs(Me,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:[s.jsx(At,{children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx(kt,{className:"text-lg flex items-center gap-2",children:s.jsxs(Pt,{variant:"default",className:"bg-green-600",children:["Current Version ",A.current.version]})}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"h-3 w-3"}),W(A.current.updated_at)]}),A.current.updated_by&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"h-3 w-3"}),A.current.updated_by]})]})]})})}),s.jsxs(De,{children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:"Title:"})," ",A.current.page_data.title]}),s.jsxs("div",{className:"text-sm mt-1",children:[s.jsx("strong",{children:"Sections:"})," ",A.current.page_data.sections.length]})]})]}),A.history.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold",children:"Previous Versions"}),A.history.map(H=>s.jsxs(Me,{className:"border-gray-200",children:[s.jsx(At,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(kt,{className:"text-sm flex items-center gap-2",children:s.jsxs(Pt,{variant:"outline",children:["Version ",H.version_number]})}),s.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"h-3 w-3"}),W(H.created_at)]}),H.created_by&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"h-3 w-3"}),H.created_by]})]}),H.change_summary&&s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[s.jsx("strong",{children:"Changes:"})," ",H.change_summary]})]}),s.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>B(H.version_number),className:"text-xs",children:[s.jsx(Ja,{className:"h-3 w-3 mr-1"}),"Revert"]})]})}),s.jsxs(De,{children:[s.jsxs("div",{className:"text-xs",children:[s.jsx("strong",{children:"Title:"})," ",H.page_data.title]}),s.jsxs("div",{className:"text-xs mt-1",children:[s.jsx("strong",{children:"Sections:"})," ",H.page_data.sections.length]})]})]},H.id))]}):s.jsx(Me,{className:"border-gray-200",children:s.jsxs(De,{className:"pt-6 text-center text-muted-foreground",children:[s.jsx(Sy,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No version history available"})]})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fi,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading version history..."})]})})]})})]}):s.jsx("div",{children:"Page configuration not found"})}class Xa{static async createConversation(e,r){try{const{data:n,error:a}=await Te.from("chat_conversations").insert({customer_id:e,subject:r||"General Inquiry",status:"open",priority:2}).select().single();return a?(console.error("Error creating conversation:",a),null):n}catch(n){return console.error("Error in createConversation:",n),null}}static async getConversations(e,r=!1){try{let n=Te.from("chat_conversations").select("*").order("last_message_at",{ascending:!1});r||(n=n.eq("customer_id",e));const{data:a,error:i}=await n;return i?(console.error("Error fetching conversations:",i),[]):a||[]}catch(n){return console.error("Error in getConversations:",n),[]}}static async sendMessage(e,r,n,a="text"){try{const{data:i,error:o}=await Te.from("chat_messages").insert({conversation_id:e,sender_id:r,content:n,message_type:a}).select().single();return o?(console.error("Error sending message:",o),null):i}catch(i){return console.error("Error in sendMessage:",i),null}}static async getMessages(e){try{const{data:r,error:n}=await Te.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching messages:",n),[]):r||[]}catch(r){return console.error("Error in getMessages:",r),[]}}static async markMessagesAsRead(e,r){try{const{error:n}=await Te.from("chat_messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",r).eq("is_read",!1);return n?(console.error("Error marking messages as read:",n),!1):!0}catch(n){return console.error("Error in markMessagesAsRead:",n),!1}}static async getUnreadCount(e){try{const r=await this.getConversations(e,!1);if(r.length===0)return 0;const n=r.map(o=>o.id),{count:a,error:i}=await Te.from("chat_messages").select("*",{count:"exact",head:!0}).in("conversation_id",n).neq("sender_id",e).eq("is_read",!1);return i?(console.error("Error getting unread count:",i),0):a||0}catch(r){return console.error("Error in getUnreadCount:",r),0}}static subscribeToConversations(e,r){const n=`conversations:${e}`;this.unsubscribe(n);const a=Te.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},i=>{console.log("Conversation update:",i),r(i)}).subscribe();return this.subscriptions.set(n,a),a}static subscribeToMessages(e,r,n){const a=`messages:${e}`;this.unsubscribe(a);let i=Te.channel(a).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("New message:",l),r(l)});n&&(i=i.on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("Message updated:",l),n(l)}));const o=i.subscribe();return this.subscriptions.set(a,o),o}static unsubscribe(e){const r=this.subscriptions.get(e);r&&(Te.removeChannel(r),this.subscriptions.delete(e))}static unsubscribeAll(){this.subscriptions.forEach((e,r)=>{Te.removeChannel(e)}),this.subscriptions.clear()}static async assignConversation(e,r){try{const{error:n}=await Te.from("chat_conversations").update({admin_id:r,status:"assigned",updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error assigning conversation:",n),!1):!0}catch(n){return console.error("Error in assignConversation:",n),!1}}static async updateConversationStatus(e,r){try{const{error:n}=await Te.from("chat_conversations").update({status:r,updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error updating conversation status:",n),!1):!0}catch(n){return console.error("Error in updateConversationStatus:",n),!1}}static async getOrCreateConversation(e,r){try{const{data:n,error:a}=await Te.from("chat_conversations").select("*").eq("customer_id",e).in("status",["open","assigned"]).order("created_at",{ascending:!1}).limit(1);return a?(console.error("Error fetching existing conversations:",a),null):n&&n.length>0?n[0]:await this.createConversation(e,r)}catch(n){return console.error("Error in getOrCreateConversation:",n),null}}static async searchMessages(e,r){try{let n=Te.from("chat_messages").select("*").textSearch("content",e);r&&(n=n.eq("conversation_id",r));const{data:a,error:i}=await n.order("created_at",{ascending:!1}).limit(20);return i?(console.error("Error searching messages:",i),[]):a||[]}catch(n){return console.error("Error in searchMessages:",n),[]}}}Xt(Xa,"subscriptions",new Map);function TF(t,e=!1){const[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(null),c=N.useCallback(async()=>{i(!0);try{const f=await Xa.getConversations(t,e);n(f),l(null)}catch(f){l("Failed to load conversations"),console.error("Error loading conversations:",f)}finally{i(!1)}},[t,e]),u=N.useCallback(async f=>{try{const p=await Xa.createConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error starting conversation:",p),null}},[t,c]),d=N.useCallback(async f=>{try{const p=await Xa.getOrCreateConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error getting/creating conversation:",p),null}},[t,c]);return N.useEffect(()=>{t&&c()},[c,t]),{conversations:r,loading:a,error:o,refreshConversations:c,startConversation:u,getOrCreateConversation:d}}function IF(t){const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState(null),u=N.useCallback(async()=>{if(!t){r([]),a(!1);return}a(!0);try{const p=await Xa.getMessages(t);r(p),o(null)}catch(p){o("Failed to load messages"),console.error("Error loading messages:",p)}finally{a(!1)}},[t]),d=N.useCallback(async(p,h,g="text")=>{if(!t)return null;try{const m=await Xa.sendMessage(t,p,h,g);return m?(r(v=>[...v,m]),m):null}catch(m){return console.error("Error sending message:",m),null}},[t]),f=N.useCallback(async p=>{if(!t)return!1;try{return await Xa.markMessagesAsRead(t,p)}catch(h){return console.error("Error marking messages as read:",h),!1}},[t]);return N.useEffect(()=>{if(!t){r([]),a(!1);return}u();const p=Xa.subscribeToMessages(t,h=>{h.eventType==="INSERT"&&h.new&&r(g=>g.some(v=>v.id===h.new.id)?g:[...g,h.new])},h=>{h.eventType==="UPDATE"&&h.new&&r(g=>g.map(m=>m.id===h.new.id?h.new:m))});return c(p),()=>{p&&Xa.unsubscribe(`messages:${t}`)}},[t,u]),{messages:e,loading:n,error:i,sendMessage:d,markAsRead:f,refreshMessages:u}}function RF(t){const[e,r]=N.useState(0),[n,a]=N.useState(!0),i=N.useCallback(async()=>{if(!t){r(0),a(!1);return}try{const o=await Xa.getUnreadCount(t);r(o)}catch(o){console.error("Error getting unread count:",o)}finally{a(!1)}},[t]);return N.useEffect(()=>{if(t){i();const o=setInterval(i,3e4);return()=>clearInterval(o)}},[t,i]),{unreadCount:e,loading:n,refreshUnreadCount:i}}function s1e(){const t=N.useCallback(async(n,a)=>{try{return await Xa.assignConversation(n,a)}catch(i){return console.error("Error assigning conversation:",i),!1}},[]),e=N.useCallback(async(n,a)=>{try{return await Xa.updateConversationStatus(n,a)}catch(i){return console.error("Error updating conversation status:",i),!1}},[]),r=N.useCallback(async(n,a)=>{try{return await Xa.searchMessages(n,a)}catch(i){return console.error("Error searching messages:",i),[]}},[]);return{assignConversation:t,updateStatus:e,searchMessages:r}}function o1e(){const{user:t}=$n(),[e,r]=N.useState(null),[n,a]=N.useState(""),[i,o]=N.useState("all"),[l,c]=N.useState(!1),[u,d]=N.useState(!0),{conversations:f,loading:p,refreshConversations:h}=TF((t==null?void 0:t.id)||"",!0),{messages:g,loading:m,sendMessage:v,refreshMessages:x}=IF(e),{assignConversation:_,updateStatus:w}=s1e();N.useEffect(()=>{const D=()=>{const G=window.innerWidth<768;c(G),G||d(!0)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const j=D=>{r(D),l&&d(!1)},S=()=>{l&&(d(!0),r(null))},A=f.filter(D=>{var q,F;const G=n===""||((q=D.subject)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((F=D.customer_id)==null?void 0:F.toLowerCase().includes(n.toLowerCase())),$=i==="all"||D.status===i;return G&&$}),O=async D=>{t!=null&&t.id&&await _(D,t.id)&&h()},k=async(D,G)=>{await w(D,G)&&h()},T=async D=>{e&&(t!=null&&t.id)&&(await v(t.id,D),x())},R=D=>{switch(D){case"open":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300";case"assigned":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border-blue-300";case"in_progress":return"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border-purple-300";case"waiting_customer":return"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-800 border-orange-300";case"escalated":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border-red-300";case"follow_up":return"bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 border-indigo-300";case"resolved":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border-green-300";case"closed":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300"}},P=D=>{switch(D){case"open":return"";case"assigned":return"";case"in_progress":return"";case"waiting_customer":return"";case"escalated":return"";case"follow_up":return"";case"resolved":return"";case"closed":return"";default:return""}},I=D=>{switch(D){case"open":return s.jsx(pc,{className:"h-3 w-3"});case"assigned":return s.jsx(xo,{className:"h-3 w-3"});case"resolved":return s.jsx(Wh,{className:"h-3 w-3"});default:return s.jsx(sc,{className:"h-3 w-3"})}},M=D=>{const G=new Date,$=new Date(D.created_at),q=G.getTime()-$.getTime(),F=Math.floor(q/(1e3*60*60)),ee=D.priority||"normal",fe=(ee==="high"||ee==="urgent"?1:ee==="low"?24:4)-F,B=fe<0;return{isOverdue:B,timeLeft:B?`${Math.abs(fe)}h overdue`:`${fe}h left`,color:B?"text-red-600":fe<1?"text-orange-600":"text-blue-600"}};return s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-neutral-50 via-white to-rose-50/30 dark:from-neutral-900 dark:via-neutral-800 dark:to-rose-900/20",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-rose-500 via-pink-500 to-rose-600 text-white shadow-xl",children:[s.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),s.jsxs("div",{className:"relative p-3 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l&&!u&&s.jsx("button",{onClick:S,className:"bg-white/20 backdrop-blur-sm rounded-lg p-2 shadow-lg hover:bg-white/30 transition-all duration-200 mr-2",children:s.jsx(Hj,{className:"h-5 w-5"})}),s.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg md:rounded-2xl p-2 md:p-3 shadow-lg",children:s.jsx(mi,{className:"h-5 w-5 md:h-8 md:w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base md:text-2xl lg:text-3xl font-bold flex items-center gap-1 md:gap-3",children:l&&!u?s.jsx("span",{children:"Chat"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"hidden sm:inline",children:""}),s.jsx("span",{className:"sm:hidden",children:"Support"}),s.jsx("span",{className:"hidden sm:block",children:"Customer Support"})]})}),s.jsx("p",{className:"text-rose-100 text-xs md:text-sm lg:text-base hidden md:block",children:" Manage conversations and provide amazing support"})]})]}),s.jsx("div",{className:"bg-white/15 backdrop-blur-md rounded-lg md:rounded-xl px-2 py-2 md:px-6 md:py-4 border border-white/20 shadow-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2 mb-1",children:[s.jsx("span",{className:"text-sm md:text-2xl lg:text-3xl font-bold",children:f.length}),s.jsx("span",{className:"text-xs md:text-xl",children:""})]}),s.jsxs("span",{className:"text-rose-100 text-xs md:text-sm font-medium",children:[s.jsx("span",{className:"hidden md:inline",children:"Active"}),s.jsx("span",{className:"md:hidden",children:"Chats"})]})]})})]}),s.jsxs("div",{className:`relative mt-2 md:mt-4 flex items-center gap-2 md:gap-4 text-xs md:text-sm ${l&&!u?"hidden":"flex"}`,children:[s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/10 rounded-full px-2 md:px-3 py-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-rose-100",children:"Online"})]}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-rose-200",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden sm:inline",children:new Date().toLocaleTimeString()})]})]})]})]}),s.jsx("div",{className:"flex-1 flex overflow-hidden shadow-inner",children:l?s.jsx(s.Fragment,{children:u?s.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm flex flex-col shadow-lg",children:[s.jsxs("div",{className:"p-3 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:" Search...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400 text-base"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),s.jsxs("select",{value:i,onChange:D=>o(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200 text-base",children:[s.jsx("option",{value:"all",children:" All Status"}),s.jsx("option",{value:"open",children:" Open"}),s.jsx("option",{value:"assigned",children:" Assigned"}),s.jsx("option",{value:"in_progress",children:" In Progress"}),s.jsx("option",{value:"waiting_customer",children:" Waiting"}),s.jsx("option",{value:"escalated",children:" Escalated"}),s.jsx("option",{value:"follow_up",children:" Follow-up"}),s.jsx("option",{value:"resolved",children:" Resolved"}),s.jsx("option",{value:"closed",children:" Closed"})]}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),s.jsx("p",{className:"text-rose-600 font-medium",children:" Loading..."})]}):A.length===0?s.jsxs("div",{className:"p-6 text-center text-rose-600",children:[s.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("p",{className:"font-medium",children:"No conversations"}),s.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting filters"})]}):s.jsx("div",{className:"space-y-1 p-2",children:A.map(D=>{var G;return s.jsx("div",{onClick:()=>j(D.id),className:"bg-white/90 backdrop-blur-sm border border-rose-100 rounded-xl p-4 hover:shadow-lg transition-all duration-200 cursor-pointer active:scale-95",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h4",{className:"font-bold text-gray-900 text-base truncate",children:["Customer #",((G=D.customer_id)==null?void 0:G.slice(0,8))||"Unknown"]}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.subject||"General Inquiry"})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${R(D.status||"open")}`,children:P(D.status||"open")})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:"Last message preview..."}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"h-3 w-3"}),new Date(D.created_at).toLocaleDateString()]})}),(()=>{const $=M(D);return $.isOverdue?s.jsxs("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-bold",children:[" ",$.timeLeft]}):s.jsxs("span",{className:"text-gray-500 text-xs",children:[" ",$.timeLeft]})})()]})]})]})},D.id)})})})]}):s.jsx("div",{className:"w-full flex flex-col",children:e?s.jsx(QT,{conversationId:e,messages:g,loading:m,onSendMessage:T,onAssignToSelf:()=>O(e),onStatusUpdate:D=>k(e,D),isMobile:!0}):s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30 p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(mi,{className:"h-10 w-10 text-rose-400"})}),s.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"Select a conversation"}),s.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation to start chatting"})]})})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-1/3 bg-white/80 backdrop-blur-sm border-r border-rose-100 dark:border-rose-800/30 flex flex-col shadow-lg",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:" Search conversations...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(eh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),s.jsxs("select",{value:i,onChange:D=>o(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200",children:[s.jsx("option",{value:"all",children:" All Status"}),s.jsx("option",{value:"open",children:" Open"}),s.jsx("option",{value:"assigned",children:" Assigned"}),s.jsx("option",{value:"in_progress",children:" In Progress"}),s.jsx("option",{value:"waiting_customer",children:" Waiting for Customer"}),s.jsx("option",{value:"escalated",children:" Escalated"}),s.jsx("option",{value:"follow_up",children:" Follow-up Required"}),s.jsx("option",{value:"resolved",children:" Resolved"}),s.jsx("option",{value:"closed",children:" Closed"})]}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:s.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),s.jsx("p",{className:"text-rose-600 font-medium",children:" Loading conversations..."})]}):A.length===0?s.jsxs("div",{className:"p-6 text-center text-rose-600",children:[s.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("p",{className:"font-medium",children:"No conversations found"}),s.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting your search or filters"})]}):s.jsx("div",{className:"space-y-1 p-2",children:A.map(D=>{var G;return s.jsx("div",{onClick:()=>r(D.id),className:`p-4 border-b border-rose-100/50 cursor-pointer transition-all duration-300 hover:bg-gradient-to-r hover:from-rose-50 hover:to-pink-50 hover:shadow-md group relative ${e===D.id?"bg-gradient-to-r from-rose-100 to-pink-100 border-rose-300 shadow-lg":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",children:""}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-200 ${R(D.status||"open")}`,children:[I(D.status||"open"),P(D.status||"open")," ",(D.status||"open").toUpperCase()]})}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("h4",{className:"font-bold text-gray-900 truncate group-hover:text-rose-700 transition-colors text-sm",children:[" Customer #",((G=D.customer_id)==null?void 0:G.slice(0,8))||"Unknown"]}),s.jsxs("p",{className:"text-xs text-gray-600 truncate mt-1",children:[" ",D.subject||"General Support Inquiry"]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(sc,{className:"h-3 w-3"}),s.jsx("span",{children:new Date(D.created_at).toLocaleDateString()})]}),(()=>{const $=M(D);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${$.isOverdue?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:[" ",$.timeLeft]}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),O(D.id)},className:"p-1 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded text-xs",title:"Assign to me",children:""}),s.jsx("button",{onClick:q=>{q.stopPropagation(),k(D.id,"escalated")},className:"p-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-xs",title:"Escalate",children:""}),s.jsx("button",{onClick:q=>{q.stopPropagation(),k(D.id,"resolved")},className:"p-1 bg-green-100 hover:bg-green-200 text-green-600 rounded text-xs",title:"Mark Resolved",children:""})]})]})})()]})]})]})},D.id)})})})]}),s.jsx("div",{className:"flex-1 flex flex-col",children:e?s.jsx(QT,{conversationId:e,messages:g,loading:m,onSendMessage:T,onAssignToSelf:()=>O(e),onStatusUpdate:D=>k(e,D),isMobile:!1}):s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(mi,{className:"h-10 w-10 text-rose-400"})}),s.jsx("p",{className:"text-rose-600 font-medium mb-2",children:" Select a conversation"}),s.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation from the list to start providing amazing support!"})]})})})]})})]})}function QT({conversationId:t,messages:e,loading:r,onSendMessage:n,onAssignToSelf:a,onStatusUpdate:i,isMobile:o=!1}){const[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,p]=N.useState(!1),[h,g]=N.useState(""),[m,v]=N.useState(!1),x=Y.useRef(null),_=[{id:1,title:" Welcome",content:"Hello! Thank you for contacting us. How can I help you today?"},{id:2,title:" Investigating",content:"Thank you for bringing this to our attention. I'm looking into this right away and will get back to you shortly."},{id:3,title:" Resolved",content:"Great news! I've resolved your issue. Please let me know if you need any further assistance."},{id:4,title:" Follow-up",content:"I'll follow up with you within 24 hours to ensure everything is working perfectly."},{id:5,title:" Thank You",content:"Thank you for your patience and for choosing our service. Is there anything else I can help you with?"},{id:6,title:" More Info",content:"To better assist you, could you please provide more details about the issue you're experiencing?"}];N.useEffect(()=>{var j;(j=x.current)==null||j.scrollIntoView({behavior:"smooth"})},[e]),N.useEffect(()=>{if(l.length>0){v(!0);const j=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(j)}else v(!1)},[l]);const w=j=>{j.preventDefault(),l.trim()&&(n(l.trim()),c(""))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-rose-400 via-pink-400 to-rose-500 text-white shadow-lg",children:[s.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),s.jsx("div",{className:`relative ${o?"px-4 py-3":"px-6 py-4"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(mi,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-sm md:text-lg",children:" Conversation"}),s.jsxs("p",{className:"text-rose-100 text-xs md:text-sm",children:["#",t.slice(0,8)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsxs("button",{onClick:a,className:`flex items-center gap-1 md:gap-2 ${o?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm text-white rounded-lg md:rounded-xl hover:bg-white/30 transition-all duration-200 font-medium shadow-lg border border-white/20`,children:[s.jsx(Jq,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:" Assign"}),s.jsx("span",{className:"sm:hidden",children:""})]}),s.jsxs("select",{onChange:j=>i(j.target.value),className:`${o?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg md:rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 hover:bg-white/30 transition-all duration-200 font-medium`,style:{backgroundImage:"none"},children:[s.jsx("option",{value:"",className:"text-gray-800",children:" Status"}),s.jsx("option",{value:"assigned",className:"text-gray-800",children:" Assigned"}),s.jsx("option",{value:"in_progress",className:"text-gray-800",children:" In Progress"}),s.jsx("option",{value:"waiting_customer",className:"text-gray-800",children:" Waiting"}),s.jsx("option",{value:"escalated",className:"text-gray-800",children:" Escalated"}),s.jsx("option",{value:"follow_up",className:"text-gray-800",children:" Follow-up"}),s.jsx("option",{value:"resolved",className:"text-gray-800",children:" Resolved"}),s.jsx("option",{value:"closed",className:"text-gray-800",children:" Closed"})]})]})]})})]}),s.jsxs("div",{className:`flex-1 overflow-y-auto space-y-4 bg-gradient-to-b from-rose-50/50 via-white to-pink-50/30 ${o?"px-3 py-3":"px-6 py-6"}`,children:[r?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-4 border-rose-200 border-t-rose-500 mb-4"}),s.jsx("p",{className:"text-rose-600 font-medium text-sm md:text-base",children:" Loading messages..."})]}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-rose-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(mi,{className:"h-6 w-6 md:h-8 md:w-8 text-rose-400"})}),s.jsx("p",{className:"text-rose-600 font-medium mb-2 text-sm md:text-base",children:" No messages yet"}),s.jsx("p",{className:"text-rose-500 text-xs md:text-sm",children:"Start the conversation below!"})]}):s.jsx(s.Fragment,{children:e.map(j=>s.jsx("div",{className:`flex ${j.sender_id===t?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`${o?"max-w-[85%]":"max-w-[70%]"} group ${j.sender_id===t?"flex items-start gap-2 md:gap-3":"flex items-start gap-2 md:gap-3 flex-row-reverse"}`,children:[s.jsx("div",{className:`${o?"w-8 h-8":"w-10 h-10"} rounded-full flex items-center justify-center text-white font-bold text-xs md:text-sm shadow-lg flex-shrink-0 ${j.sender_id===t?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-gradient-to-br from-rose-400 to-pink-500"}`,children:j.sender_id===t?"":""}),s.jsxs("div",{className:`${o?"px-3 py-2":"px-4 py-3"} rounded-2xl shadow-lg border transition-all duration-200 group-hover:shadow-xl ${j.sender_id===t?"bg-white border-gray-200 text-gray-900 rounded-tl-sm":"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-400 rounded-tr-sm"}`,children:[s.jsx("p",{className:`${o?"text-xs":"text-sm"} font-medium leading-relaxed`,children:j.content}),s.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${j.sender_id===t?"text-gray-500":"text-rose-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sc,{className:"h-2 w-2 md:h-3 md:w-3"}),new Date(j.created_at).toLocaleTimeString()]}),j.sender_id!==t&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-rose-200",children:""}),s.jsx("span",{className:"text-rose-200 hidden sm:inline",children:"Read"})]})]})]})]})},j.id))}),s.jsx("div",{ref:x})]}),s.jsxs("div",{className:`relative bg-gradient-to-r from-rose-50 to-pink-50 border-t border-rose-200 space-y-3 md:space-y-4 ${o?"px-3 py-3":"px-6 py-4"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-50/70 to-pink-50/70 backdrop-blur-sm"}),s.jsxs("div",{className:"relative flex items-center gap-1 md:gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-1 md:gap-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg md:rounded-xl font-medium transition-colors ${o?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Templates"})]}),s.jsxs("button",{onClick:()=>p(!f),className:`flex items-center gap-1 md:gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg md:rounded-xl font-medium transition-colors ${o?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Notes"})]}),s.jsxs("button",{onClick:()=>{},className:`flex items-center gap-1 md:gap-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg md:rounded-xl font-medium transition-colors ${o?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Attach"})]})]}),u&&s.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-rose-200 shadow-lg",children:[s.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:" Quick Reply Templates"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:_.map(j=>s.jsxs("button",{onClick:()=>{c(j.content),d(!1)},className:"text-left p-2 md:p-3 bg-gray-50 hover:bg-rose-50 rounded-lg text-xs transition-colors border border-gray-200 hover:border-rose-300",children:[s.jsx("div",{className:"font-medium text-gray-800",children:j.title}),s.jsxs("div",{className:"text-gray-500 mt-1 truncate",children:[j.content.slice(0,o?30:40),"..."]})]},j.id))})]}),f&&s.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-purple-200 shadow-lg",children:[s.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:" Internal Team Notes"}),s.jsx("textarea",{value:h,onChange:j=>g(j.target.value),placeholder:"Add internal notes for your team...",rows:o?2:3,className:"w-full px-3 py-2 border border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 text-xs md:text-sm text-gray-800"}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-xs text-purple-600",children:" Team only"}),s.jsx("button",{onClick:()=>{g(""),p(!1)},className:"px-3 py-1 bg-purple-500 text-white rounded-lg text-xs font-medium hover:bg-purple-600 transition-colors",children:"Save"})]})]}),s.jsxs("form",{onSubmit:w,className:"relative flex gap-2 md:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:l,onChange:j=>c(j.target.value),placeholder:" Type your reply...",rows:o?1:2,className:`w-full border-2 border-rose-300 rounded-xl md:rounded-2xl focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-rose-400 resize-none bg-white shadow-md font-medium transition-all duration-200 hover:border-rose-400 hover:shadow-lg text-gray-900 placeholder:text-rose-500 ${o?"px-3 py-2 text-sm":"px-4 py-3 text-base"}`,style:{color:"#111827"}}),!o&&s.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-rose-600 font-medium bg-white/80 px-2 py-1 rounded-lg",children:" Shift + Enter for new line"})]}),s.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[s.jsxs("button",{type:"submit",disabled:!l.trim(),className:`bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-xl md:rounded-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-1 md:gap-2 ${o?"px-3 py-2 text-xs":"px-6 py-3 text-sm"}`,children:[s.jsx(WI,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Send"}),s.jsx("span",{className:"sm:hidden",children:"Send"})]}),!o&&s.jsx("div",{className:"text-xs text-gray-500 text-center",children:" Read receipts: ON"})]})]})]})]})}var l1e=Object.defineProperty,c1e=(t,e,r)=>e in t?l1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vr=(t,e,r)=>c1e(t,typeof e!="symbol"?e+"":e,r);const iv={x:0,y:0,width:0,height:0,unit:"px"},wu=(t,e,r)=>Math.min(Math.max(t,e),r),u1e=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),eI=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Tf(t,e,r,n){const a=ps(t,r,n);return t.width&&(a.height=a.width/e),t.height&&(a.width=a.height*e),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/e),t.unit==="%"?rl(a,r,n):a}function If(t,e,r){const n=ps(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?rl(n,e,r):n}function rl(t,e,r){return t.unit==="%"?{...iv,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function ps(t,e,r){return t.unit?t.unit==="px"?{...iv,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...iv,...t,unit:"px"}}function tI(t,e,r,n,a,i=0,o=0,l=n,c=a){const u={...t};let d=Math.min(i,n),f=Math.min(o,a),p=Math.min(l,n),h=Math.min(c,a);e&&(e>1?(d=o?o*e:d,f=d/e,p=l*e):(f=i?i/e:f,d=f*e,h=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=n-(u.x+u.width);g<0&&(u.x=Math.min(u.x,n-d),u.width+=g);const m=a-(u.y+u.height);if(m<0&&(u.y=Math.min(u.y,a-f),u.height+=m),u.width<d&&((r==="sw"||r=="nw")&&(u.x-=d-u.width),u.width=d),u.height<f&&((r==="nw"||r=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((r==="sw"||r=="nw")&&(u.x-=p-u.width),u.width=p),u.height>h&&((r==="nw"||r=="ne")&&(u.y-=h-u.height),u.height=h),e){const v=u.width/u.height;if(v<e){const x=Math.max(u.width/e,f);(r==="nw"||r=="ne")&&(u.y-=x-u.height),u.height=x}else if(v>e){const x=Math.max(u.height*e,d);(r==="sw"||r=="nw")&&(u.x-=x-u.width),u.width=x}}return u}function d1e(t,e,r,n){const a={...t};return e==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),e==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const ju={capture:!0,passive:!1};let f1e=0;const el=class Mi extends N.PureComponent{constructor(){super(...arguments),Vr(this,"docMoveBound",!1),Vr(this,"mouseDownOnCrop",!1),Vr(this,"dragStarted",!1),Vr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Vr(this,"componentRef",N.createRef()),Vr(this,"mediaRef",N.createRef()),Vr(this,"resizeObserver"),Vr(this,"initChangeCalled",!1),Vr(this,"instanceId",`rc-${f1e++}`),Vr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Vr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const i=ps(r,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,l=!!o;let c=e.clientX,u=e.clientY,d=i.x,f=i.y;if(o){const p=e.clientX-a.x,h=e.clientY-a.y;let g=0,m=0;o==="ne"||o=="e"?(g=p-(i.x+i.width),m=h-i.y,d=i.x,f=i.y+i.height):o==="se"||o==="s"?(g=p-(i.x+i.width),m=h-(i.y+i.height),d=i.x,f=i.y):o==="sw"||o=="w"?(g=p-i.x,m=h-(i.y+i.height),d=i.x+i.width,f=i.y):(o==="nw"||o=="n")&&(g=p-i.x,m=h-i.y,d=i.x+i.width,f=i.y+i.height),c=d+a.x+g,u=f+a.y+m}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Vr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:a,keepSelection:i,onChange:o}=this.props,l=this.getBox();if(n||a||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-l.x,u=e.clientY-l.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(ps(d,l.width,l.height),rl(d,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Vr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:a,onDragStart:i}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),eI(r,c)||a(ps(c,o.width,o.height),rl(c,o.width,o.height))}),Vr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const o=e.key;let l=!1;if(!r)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Mi.nudgeStepLarge:e.shiftKey?Mi.nudgeStepMedium:Mi.nudgeStep;if(o==="ArrowLeft"?(u.x-=d,l=!0):o==="ArrowRight"?(u.x+=d,l=!0):o==="ArrowUp"?(u.y-=d,l=!0):o==="ArrowDown"&&(u.y+=d,l=!0),l){e.cancelable&&e.preventDefault(),u.x=wu(u.x,0,c.width-u.width),u.y=wu(u.y,0,c.height-u.height);const f=ps(u,c.width,c.height),p=rl(u,c.width,c.height);a(f,p),i&&i(f,p)}}),Vr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:o=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:f}=this.props,p=this.getBox();if(i||!a)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Mi.nudgeStepLarge:e.shiftKey?Mi.nudgeStepMedium:Mi.nudgeStep,g=ps(a,p.width,p.height),m=d1e(g,e.key,h,r),v=tI(m,n,r,p.width,p.height,o,l,c,u);if(!eI(a,v)){const x=rl(v,p.width,p.height);d(v,x),f&&f(v,x)}}),Vr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),a&&a(ps(r,o.width,o.height),rl(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Vr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:a,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:a,height:i}=this.getBox();a&&i&&n(ps(r,a,i),rl(r,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,ju),this.document.addEventListener("pointerup",this.onDocPointerDone,ju),this.document.addEventListener("pointercancel",this.onDocPointerDone,ju),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,ju),this.document.removeEventListener("pointerup",this.onDocPointerDone,ju),this.document.removeEventListener("pointercancel",this.onDocPointerDone,ju),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),a=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=wu(e.startCropX+a,0,r.width-n.width),n.y=wu(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,a){const{evData:i}=this,o=i.clientX-e.x,l=i.clientY-e.y;let c;a&&r?c=r==="nw"||r==="n"||r==="ne":c=l<i.startCropY;let u;return n&&r?u=r==="nw"||r==="w"||r==="sw":u=o<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,r,n=0,a=0){const i=Math.min(n,e.width),o=Math.min(a,e.height);return!r||!i&&!o?[i,o]:r>1?i?[i,i/r]:[o*r,o]:o?[o*r,o]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[o,l]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,e.ord,o,l),d=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(o&&d==="nw"||d==="w"||d==="sw")&&(f=Math.min(f,-o)),(l&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-l));const h={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(h.x=e.startCropX,h.width=f,r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY-h.height)):u==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=f,r?h.height=h.width/r:h.height=p):u==="sw"?(h.x=e.startCropX+f,h.y=e.startCropY,h.width=Math.abs(f),r?h.height=h.width/r:h.height=p):u==="nw"&&(h.x=e.startCropX+f,h.width=Math.abs(f),r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY+p));const g=tI(h,r,u,i.width,i.height,o,l,n,a);return r||Mi.xyOrds.indexOf(d)>-1?c=g:Mi.xOrds.indexOf(d)>-1?(c.x=g.x,c.width=g.width):Mi.yOrds.indexOf(d)>-1&&(c.y=g.y,c.height=g.height),c.x=wu(c.x,0,i.width-c.width),c.y=wu(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:e=Mi.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:o}=this.props,l=this.getCropStyle();if(o)return Y.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&Y.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Y.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Y.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Y.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Y.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),Y.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&Y.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&Y.createElement(Y.Fragment,null,Y.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Y.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...iv,...this.props.crop||{}};return ps(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:a,crop:i,disabled:o,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:f}=this.state,p=i?this.renderCropSelection():null,h=u1e("ReactCrop",a,d&&"ReactCrop--active",o&&"ReactCrop--disabled",l&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return Y.createElement("div",{ref:this.componentRef,className:h,style:c},Y.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?Y.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Y.createElement("defs",null,Y.createElement("mask",{id:`hole-${this.instanceId}`},Y.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?Y.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):Y.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),Y.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Vr(el,"xOrds",["e","w"]),Vr(el,"yOrds",["n","s"]),Vr(el,"xyOrds",["nw","ne","se","sw"]),Vr(el,"nudgeStep",1),Vr(el,"nudgeStepMedium",10),Vr(el,"nudgeStepLarge",100),Vr(el,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let h1e=el;const p1e=Math.PI/180;async function m1e(t,e,r,n=1,a=0){const i=e.getContext("2d");if(!i)throw new Error("No 2d context");const o=t.naturalWidth/t.width,l=t.naturalHeight/t.height,c=window.devicePixelRatio;e.width=Math.floor(r.width*o*c),e.height=Math.floor(r.height*l*c),i.scale(c,c),i.imageSmoothingQuality="high";const u=r.x*o,d=r.y*l,f=a*p1e,p=t.naturalWidth/2,h=t.naturalHeight/2;i.save(),i.translate(-u,-d),i.translate(p,h),i.rotate(f),i.scale(n,n),i.translate(-p,-h),i.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),i.restore()}const g1e="Clean the image of any UI elements, text, watermarks, or screenshot artifacts. Identify and remove skin blemishes while preserving natural skin texture. Ensure fabric textures are enhanced, not smoothed over.",_u=t=>{const e=t.replace(/[-_]+/g," ").trim();return e?e.charAt(0).toUpperCase()+e.slice(1):t},LF=t=>{if(!t)return;const e=t.trim();if(e)return e.startsWith("#")?e.toUpperCase():`#${e.toUpperCase()}`},v1e=t=>!t||t==="general"?"professional fashion-ready environment":`${t} setting`;function y1e(t){return t==="apply_pose"?"pose":t.startsWith("repair_")?"repair":t==="remove_bg"||t.startsWith("replace_bg")?"background":"enhancement"}function x1e(t){const{editType:e,colorStyle:r,shapeFormat:n,scenario:a,customColor:i,hasPoseReference:o,task:l,backgroundCategory:c,backgroundPreset:u,lightingStyle:d,paletteStyle:f,cameraAngle:p,curatedPrompt:h,customNotes:g}=t,m=[g1e],v=_u(r||"natural"),x=v1e(a),_=LF(i),w=c?_u(c):void 0,j=u?_u(u):void 0,S=d?_u(d):void 0,A=f?_u(f):void 0,O=p?_u(p):void 0,k=T=>{T&&T.trim().length>0&&m.push(T.trim())};if(l==="background"&&(k("Maintain spotless cut-outs around the product and ensure contact shadows remain believable."),h?k(h):j?k(`Compose a ${j.toLowerCase()} environment tailored for fashion e-commerce, ensuring the backdrop feels intentional and premium.`):w&&k(`Place the subject within a ${w.toLowerCase()} inspired setting that feels editorial yet commercially viable.`),(e==="remove_bg"||e==="replace_bg_transparent")&&k("Isolate the main subject with a perfectly transparent background. Output the result as a PNG with clean alpha and no fringe pixels."),e==="replace_bg_white"||e==="replace_bg_solid"&&_==="#FFFFFF"?k("Place the subject on a clean, solid background of #FFFFFF. Ensure soft, realistic contact shadows and avoid any banding or gradients."):e==="replace_bg_black"?k("Place the subject on a clean, solid background of #000000 with refined contact shadows and controlled specular highlights."):e==="replace_bg_solid"&&_&&k(`Place the subject on a clean, solid background of ${_}. Keep lighting cohesive and introduce natural contact shadows that ground the subject.`),e==="replace_bg_gradient"&&k("Design a refined gradient background that complements the garment. Keep the gradient smooth, avoid visible banding, and retain focus on the model."),e==="replace_bg_custom"&&k("Use the provided reference image to match background style, palette, and lighting. Align the subject with the perspective of the reference environment."),e==="replace_bg_nature"||e==="replace_bg_studio"?k(`Integrate the subject into a high-resolution, professional ${x}. Match lighting direction, color temperature, perspective, and depth of field between subject and environment.`):a&&a!=="general"&&!e.startsWith("replace_bg_")&&k(`Match the backdrop to a ${x} with coherent lighting and tonality.`),S&&k(`${S} lighting is preferredmatch highlights and shadows so they flatter skin and fabric.`),A&&k(`Color palette direction: lean into ${A.toLowerCase()} tones that harmonise with the outfit.`),O&&k(`Respect an overall ${O.toLowerCase()} camera feeling so the perspective matches the chosen scenario.`),g&&k(g)),l==="enhancement")switch(k("Apply editorial-grade retouching tuned for fashion e-commerce while preserving authentic garment color and drape."),e){case"enhance_quality":k("Increase clarity, recover micro-texture in fabrics, and remove digital noise without introducing halo artifacts.");break;case"enhance_colors":k(`Apply a professional color grade with a ${v} palette. Boost garment vibrancy while keeping skin tones natural and flattering.`);break;case"enhance_sharpness":k("Sharpen edges and fabric details aggressively yet cleanly. Avoid halos or over-sharpening skin.");break;case"enhance_hdr":k("Expand the dynamic range with balanced local contrast so details remain in highlights and shadows. Maintain a polished, commercial finish.");break;case"effect_vintage":k("Apply a subtle vintage film treatment with tasteful grain and warm mid-tones while retaining clarity in the garment.");break;case"effect_bw":k("Convert to monochrome with deep blacks, clean whites, and nuanced midtones. Emphasize fabric structure using selective contrast.");break;case"effect_sepia":k("Create a warm sepia interpretation with rich tonal depth and preserved garment definition.");break;case"effect_cartoon":k("Stylize the image with bold outlines and smooth gradients while keeping the subject recognisable and on-brand.");break}switch(l==="repair"&&(k("Use intelligent in-painting and out-painting to correct structural issues without distorting garment proportions."),e==="repair_limbs"&&k("Analyze the subject for incomplete or cropped body parts (hands, feet, head). Reconstruct the missing areas so anatomy, pose, and lighting feel natural and consistent with the original capture.")),(l==="pose"||o)&&(k("Analyze the provided reference image and transfer its pose to the main subject. Preserve the subjects identity, face, hairstyle, and wardrobe details while adapting the body position seamlessly."),k("Blend the new pose naturally with the original lighting and camera angle so the result looks like a single capture.")),e){case"transform_square":k("Recompose the frame into a perfect square, centering the model and keeping breathing room around the garment.");break;case"transform_portrait":k("Reframe into a tall portrait crop ideal for lookbook imagery. Maintain the models full silhouette and balanced headroom.");break;case"transform_landscape":k("Reframe into a widescreen landscape crop, ensuring the model remains the focal point with ample negative space for copy if needed.");break;case"transform_circle":k("Deliver a centered circular crop with either transparent edges or a neutral halo, keeping the subject crisp and unobstructed.");break}if(n&&n!=="original"&&!e.startsWith("transform_"))switch(n){case"square":k("Ensure the final framing works within a square composition with balanced margins.");break;case"portrait":k("Optimize the crop for a vertical portrait layout with the subject flowing from head to toe.");break;case"landscape":k("Structure the composition to read well in a horizontal landscape frame with space for merchandising overlays.");break;case"circle":k("Prepare the subject to sit comfortably within a circular frame, maintaining centered alignment and clean edges.");break}return l!=="background"&&a&&a!=="general"&&k(`Ensure the atmosphere subtly reflects a ${x} without distracting from the clothing.`),k("Deliver a high-resolution, e-commerce-ready fashion image with balanced lighting, crisp edges, and immaculate garment detail suitable for Rosmamas catalog."),m.join(" ")}class b1e{constructor(e,r){Xt(this,"imageStorageDB",null);this.initImageStorage()}async initImageStorage(){const e=indexedDB.open("QwenImageStorage",1);e.onupgradeneeded=r=>{const n=r.target.result;if(!n.objectStoreNames.contains("processedImages")){const a=n.createObjectStore("processedImages",{keyPath:"id"});a.createIndex("originalImageId","originalImageId",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}},e.onsuccess=r=>{this.imageStorageDB=r.target.result,console.log(" Image storage database initialized")},e.onerror=r=>{console.error(" Failed to initialize image storage:",r)}}generateImageId(e){return`orig_${e.size}_${Date.now()}`}async saveImageLocally(e,r,n,a,i){if(!this.imageStorageDB)throw new Error("Image storage not initialized");const o=URL.createObjectURL(a),l={id:e,originalImageId:r,editType:n,blob:a,url:o,timestamp:Date.now(),metadata:i},u=this.imageStorageDB.transaction(["processedImages"],"readwrite").objectStore("processedImages");return await new Promise((d,f)=>{const p=u.put(l);p.onsuccess=()=>d(),p.onerror=()=>f(p.error)}),console.log(` Image saved locally: ${e}`),o}async saveImageToSupabase(e,r){const n=`ai-processed/${r}.png`,{data:a,error:i}=await Te.storage.from("product-images").upload(n,e,{contentType:"image/png",upsert:!0});if(i)throw console.error(" Failed to save image to Supabase:",i),i;const{data:{publicUrl:o}}=Te.storage.from("product-images").getPublicUrl(n);return console.log(` Image saved to Supabase: ${o}`),o}async loadStoredImage(e){if(!this.imageStorageDB)return null;const n=this.imageStorageDB.transaction(["processedImages"],"readonly").objectStore("processedImages");return new Promise(a=>{const i=n.get(e);i.onsuccess=()=>{const o=i.result;o&&(!o.url||!o.url.startsWith("blob:"))&&(o.url=URL.createObjectURL(o.blob)),a(o||null)},i.onerror=()=>a(null)})}async getStoredImagesForOriginal(e){if(!this.imageStorageDB)return[];const a=this.imageStorageDB.transaction(["processedImages"],"readonly").objectStore("processedImages").index("originalImageId");return new Promise(i=>{const o=a.getAll(e);o.onsuccess=()=>{const l=o.result||[];l.forEach(c=>{(!c.url||!c.url.startsWith("blob:"))&&(c.url=URL.createObjectURL(c.blob))}),i(l)},o.onerror=()=>i([])})}async blobToBase64(e){return new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(e)})}resolvePromptOptions(e){const r=e.promptOptions??{},n=e.options??{},a=r.task??n.task??y1e(e.edit_type),i=r.colorStyle??n.colorStyle??n.color??"natural",o=r.shapeFormat??n.shapeFormat??n.shape??"original",l=r.scenario??n.scenario??"general",c=r.customColor??n.customColor,u=LF(c),d=r.hasPoseReference??n.hasPoseReference??(a==="pose"&&!!e.reference_image),f=r.backgroundCategory??n.backgroundCategory,p=r.backgroundPreset??n.backgroundPreset,h=r.lightingStyle??n.lightingStyle,g=r.paletteStyle??n.paletteStyle,m=r.cameraAngle??n.cameraAngle,v=r.curatedPrompt??n.curatedPrompt,x=r.customNotes??n.customNotes;return{editType:r.editType??e.edit_type,colorStyle:i,shapeFormat:o,scenario:l,customColor:u,hasPoseReference:d,task:a,backgroundCategory:f,backgroundPreset:p,lightingStyle:h,paletteStyle:g,cameraAngle:m,curatedPrompt:v,customNotes:x}}async urlToBlob(e){return new Promise((r,n)=>{const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{const i=document.createElement("canvas");i.width=a.naturalWidth,i.height=a.naturalHeight;const o=i.getContext("2d");if(!o){n(new Error("Failed to get canvas context"));return}o.drawImage(a,0,0),i.toBlob(l=>{l?r(l):n(new Error("Failed to create blob from canvas"))},"image/png")},a.onerror=()=>{n(new Error(`Failed to load image from URL: ${e}`))},a.src=e})}async editImage(e){try{const n=(await this.blobToBase64(e.image)).split(",")[1],a=this.resolvePromptOptions(e),i=x1e(a);console.debug(" Generated Qwen prompt options:",a);let o=null;e.reference_image&&(o=(await this.blobToBase64(e.reference_image)).split(",")[1]);let l,c;const u=new Promise((p,h)=>{l=p,c=h}),d=async p=>{const{type:h,...g}=p.data;if(h==="AI_REQUEST_SUCCESS"&&g.imageBlob){console.log(" AI request completed via service worker"),navigator.serviceWorker.removeEventListener("message",d);const m=`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,v=this.generateImageId(e.image);try{const x=await this.saveImageLocally(m,v,e.edit_type,g.imageBlob),_=await this.saveImageToSupabase(g.imageBlob,m);console.log(" Image processed via service worker and saved successfully"),l({success:!0,edited_image:g.imageBlob,imageUrl:_,imageId:m,storedRun:g.storedRun??void 0})}catch(x){console.error(" Image processing via service worker succeeded but saving failed:",x),l({success:!0,edited_image:g.imageBlob,error:`Image processed but saving failed: ${x instanceof Error?x.message:"Unknown save error"}`})}}else h==="AI_REQUEST_FAILED"&&g.maxRetriesExceeded&&(console.log(" AI request failed permanently via service worker:",g.error),navigator.serviceWorker.removeEventListener("message",d),c(new Error(g.error||"AI processing failed after retries")))};navigator.serviceWorker.addEventListener("message",d);const f=new Promise((p,h)=>{setTimeout(()=>{navigator.serviceWorker.removeEventListener("message",d),h(new Error("AI processing timeout - request may still be queued"))},3e5)});try{const{data:p,error:h}=await Te.functions.invoke("qwen-proxy",{body:{imageBase64:n,prompt:i,editType:e.edit_type,promptOptions:a,...o&&{referenceImageBase64:o}}});if(h)throw new Error(h.message||"Supabase function error");if(!p)throw new Error("No response from Edge Function");const g=p;if(console.log("Supabase function response:",g),g.error)throw new Error(g.error);let m=null,v=null,x=null;if(g.output&&g.output.results&&g.output.results[0]){const A=g.output.results[0];if(console.log("Result item:",A),A.runId)x={runId:A.runId,storagePath:A.storagePath,thumbnailPath:A.thumbnailPath,publicUrl:A.publicUrl,thumbnailUrl:A.thumbnailUrl,mimeType:A.mimeType||"image/webp"},v=x.publicUrl,console.log("Received stored AI run metadata from Edge Function");else if(A.imageData)m=A.imageData,console.log("Received base64 image data from Edge Function");else if(A.url)v=A.url;else if(typeof A=="string"&&A.startsWith("http"))v=A;else throw typeof A=="string"?(console.log("API returned text description instead of image:",A),new Error(`API returned text description: ${A.substring(0,200)}...`)):(console.log("Unexpected result format:",JSON.stringify(A,null,2)),new Error(`Unexpected API response format: ${JSON.stringify(A)}`))}if(!x&&!m&&!v)throw console.log("Full API response for debugging:",JSON.stringify(g,null,2)),new Error("No image data or URL found in API response.");if(navigator.serviceWorker.removeEventListener("message",d),x)return{success:!0,storedRun:x,imageUrl:x.publicUrl,imageId:x.runId};let _,w;if(m){const A=m.split(",")[1],O=atob(A),k=new Uint8Array(O.length);for(let T=0;T<O.length;T++)k[T]=O.charCodeAt(T);_=new Blob([k],{type:"image/png"}),w=void 0,console.log("Converted base64 to blob successfully")}else console.log("Loading image from URL via canvas (fallback):",v),_=await this.urlToBlob(v),w=v??void 0;const j=`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,S=this.generateImageId(e.image);try{await this.saveImageLocally(j,S,e.edit_type,_);const A=await this.saveImageToSupabase(_,j);return console.log(" Image processed and saved successfully"),{success:!0,edited_image:_,imageUrl:A,imageId:j}}catch(A){return console.error(" Image processing succeeded but saving failed:",A),{success:!0,edited_image:_,imageUrl:w,error:`Image processed but saving failed: ${A instanceof Error?A.message:"Unknown save error"}`}}}catch{if(console.log("Network error occurred, checking if request was queued..."),await new Promise(g=>setTimeout(g,200)),!navigator.onLine)return console.log("Offline detected, request queued for later retry"),navigator.serviceWorker.removeEventListener("message",d),{success:!1,error:"Request queued for retry when online",queued:!0,networkStatus:"offline"};console.log("Online but request failed - waiting for service worker retry...");try{return await Promise.race([u,f])}catch{return console.log("Request timed out, likely queued for retry"),navigator.serviceWorker.removeEventListener("message",d),{success:!1,error:"Request queued for retry",queued:!0,networkStatus:"online"}}}}catch(r){return console.error("Qwen API error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}}function w1e(t,e){return new b1e(t,e)}class j1e{constructor(){Xt(this,"registration",null);Xt(this,"pushSubscription",null);Xt(this,"aiCallbacks",{});Xt(this,"aiStatus",{isOnline:navigator.onLine,queueLength:0,isProcessing:!1})}async register(){if(!("serviceWorker"in navigator))return console.warn("Service workers are not supported"),!1;try{return this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("Service worker registered successfully:",this.registration),this.setupAIMessageHandling(),this.registration.addEventListener("updatefound",()=>{var r;const e=(r=this.registration)==null?void 0:r.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New service worker available"),this.showUpdateAvailableNotification())})}),!0}catch(e){return console.error("Service worker registration failed:",e),!1}}setAICallbacks(e){this.aiCallbacks=e}setupAIMessageHandling(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",e=>{var a,i,o,l,c,u,d,f,p,h,g,m,v,x,_,w;const{type:r,...n}=e.data;switch(r){case"NETWORK_STATUS_CHANGE":this.aiStatus.isOnline=n.status==="online",console.log(` Network status: ${n.status}`),(i=(a=this.aiCallbacks).onNetworkStatusChange)==null||i.call(a,this.aiStatus.isOnline);break;case"AI_REQUEST_QUEUED":this.aiStatus.queueLength=n.queueLength,console.log(` AI request queued: ${n.requestId}, Queue length: ${n.queueLength}`),(l=(o=this.aiCallbacks).onRequestQueued)==null||l.call(o,n.requestId,n.error),(u=(c=this.aiCallbacks).onQueueUpdate)==null||u.call(c,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;case"AI_REQUEST_SUCCESS":this.aiStatus.queueLength=n.queueLength,console.log(` AI request successful: ${n.requestId}`),(f=(d=this.aiCallbacks).onRequestSuccess)==null||f.call(d,n.requestId,n.imageBlob),(h=(p=this.aiCallbacks).onQueueUpdate)==null||h.call(p,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;case"AI_REQUEST_FAILED":console.log(` AI request failed: ${n.requestId}, Error: ${n.error}`),(m=(g=this.aiCallbacks).onRequestFailed)==null||m.call(g,n.requestId,n.error,n.maxRetriesExceeded);break;case"AI_REQUEST_QUEUE_CLEARED":this.aiStatus.queueLength=n.queueLength,console.log(` AI queue cleared, new length: ${n.queueLength}`),(x=(v=this.aiCallbacks).onQueueUpdate)==null||x.call(v,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;case"QUEUE_STATUS":this.aiStatus.queueLength=n.queueLength,this.aiStatus.isProcessing=n.isProcessing,(w=(_=this.aiCallbacks).onQueueUpdate)==null||w.call(_,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;default:console.log("Unknown service worker message:",r,n)}})}async getAIStatus(){var e;if(!((e=this.registration)!=null&&e.active))return this.aiStatus;try{const r=await this.sendMessageToSW("GET_QUEUE_STATUS");r&&(this.aiStatus.queueLength=r.queueLength,this.aiStatus.isProcessing=r.isProcessing);const n=await this.sendMessageToSW("GET_NETWORK_STATUS");n&&(this.aiStatus.isOnline=n.status==="online")}catch(r){console.warn("Failed to get AI status from service worker:",r)}return this.aiStatus}async retryFailedRequests(){var e;if((e=this.registration)!=null&&e.active)try{await this.sendMessageToSW("RETRY_FAILED_REQUESTS"),console.log(" Requested retry of failed AI requests")}catch(r){console.warn("Failed to retry requests:",r)}}async clearQueue(){var e,r,n;if((e=this.registration)!=null&&e.active)try{await this.sendMessageToSW("CLEAR_AI_QUEUE"),console.log(" Cleared AI request queue"),this.aiStatus.queueLength=0,(n=(r=this.aiCallbacks).onQueueUpdate)==null||n.call(r,0,this.aiStatus.isProcessing)}catch(a){console.warn("Failed to clear queue:",a)}}async sendMessageToSW(e,r){return new Promise((n,a)=>{var o;if(!((o=this.registration)!=null&&o.active)){a(new Error("No active service worker"));return}const i=new MessageChannel;i.port1.onmessage=l=>{n(l.data)},i.port1.onmessageerror=()=>{a(new Error("Message port error"))},setTimeout(()=>{a(new Error("Service worker message timeout"))},5e3),this.registration.active.postMessage({type:e,...r},[i.port2])})}async requestPushPermission(){if(!("Notification"in window))return console.warn("Push notifications are not supported"),!1;if(!this.registration)return console.error("Service worker not registered"),!1;try{const e=await Notification.requestPermission();return console.log("Notification permission:",e),e==="granted"?(await this.subscribeToPush(),!0):!1}catch(e){return console.error("Error requesting push permission:",e),!1}}async subscribeToPush(){if(!this.registration)return console.error("Service worker not registered"),null;try{if(this.pushSubscription=await this.registration.pushManager.getSubscription(),!this.pushSubscription){const r=await this.getVapidPublicKey();this.pushSubscription=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r})}const e={endpoint:this.pushSubscription.endpoint,keys:{p256dh:this.arrayBufferToBase64(this.pushSubscription.getKey("p256dh")),auth:this.arrayBufferToBase64(this.pushSubscription.getKey("auth"))}};return console.log("Push subscription created:",e),e}catch(e){return console.error("Error subscribing to push:",e),null}}async unsubscribeFromPush(){if(!this.pushSubscription)return!0;try{const e=await this.pushSubscription.unsubscribe();return e&&(this.pushSubscription=null,console.log("Push subscription removed")),e}catch(e){return console.error("Error unsubscribing from push:",e),!1}}async showNotification(e,r={}){if(!this.registration){console.error("Service worker not registered");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{await this.registration.showNotification(e,{icon:"/images/placeholder-product.svg",badge:"/images/placeholder-product.svg",...r})}catch(n){console.error("Error showing notification:",n)}}async getVapidPublicKey(){return""}urlBase64ToUint8Array(e){const r="=".repeat((4-e.length%4)%4),n=(e+r).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n),i=new Uint8Array(a.length);for(let o=0;o<a.length;++o)i[o]=a.charCodeAt(o);return i}arrayBufferToBase64(e){const r=new Uint8Array(e);let n="";return r.forEach(a=>n+=String.fromCharCode(a)),window.btoa(n)}showUpdateAvailableNotification(){this.showNotification("App Update Available",{body:"A new version of the app is available. Click to update.",tag:"app-update",requireInteraction:!0})}getNotificationPermission(){return"Notification"in window?Notification.permission:"denied"}isPushSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async getCurrentPushSubscription(){if(!this.registration)return null;try{return await this.registration.pushManager.getSubscription()}catch(e){return console.error("Error getting push subscription:",e),null}}}const Xl=new j1e;var uI;typeof window<"u"&&(window.addEventListener("load",()=>{Xl.register()}),(uI=navigator.serviceWorker)==null||uI.addEventListener("message",t=>{var e;console.log("Message from service worker:",t.data),((e=t.data)==null?void 0:e.type)==="NOTIFICATION_CLICK"&&console.log("Notification clicked:",t.data.notificationId)}));const _1e=[{id:"indoors",label:"Indoors",description:"Polished interior environments ideal for lifestyle apparel photography.",presets:[{id:"luxury_boutique",label:"Luxury Boutique",description:"Glass shelving, soft spotlights, elegant merchandising props.",prompt:"Place the model inside a luxury fashion boutique with glass shelving, curated mannequins, and soft spotlights that highlight the garment without crowding the frame."},{id:"designer_showroom",label:"Designer Showroom",description:"Minimalist loft, tall windows, polished concrete, sculptural furniture.",prompt:"Situate the subject in a minimalist designer showroom with tall windows, polished concrete floors, and sculptural furniture pieces placed artfully in the background."},{id:"atelier_corner",label:"Atelier Corner",description:"Warm atelier space with sewing table, dress forms, pattern paper.",prompt:"Create a cozy fashion atelier corner featuring a vintage sewing table, dress forms, pattern paper, and warm task lighting that feels authentic yet upscale."}]},{id:"outdoors",label:"Outdoors",description:"Natural and urban exterior scenes with cinematic depth.",presets:[{id:"savannah_sunrise",label:"Savannah Sunrise",description:"Golden savannah grasses, distant acacia trees, warm dawn light.",prompt:"Surround the model with a sunlit savannah at dawn, golden grasses swaying, distant acacia trees, and a warm glow that wraps the silhouette naturally."},{id:"tropical_garden",label:"Tropical Garden",description:"Lush palms, tropical blooms, filtered daylight, misty atmosphere.",prompt:"Immerse the scene in a lush tropical garden filled with palms and flowering plants, filtered daylight, and a subtle mist that keeps focus on the apparel."},{id:"urban_promenade",label:"Urban Promenade",description:"Contemporary cityscape, clean architecture lines, blurred crowd.",prompt:"Position the subject along a contemporary urban promenade with clean architectural lines, glass facades, and softly blurred pedestrian movement behind them."}]},{id:"events",label:"Events & Functions",description:"Elevated social settings perfect for occasion wear.",presets:[{id:"evening_gala",label:"Evening Gala",description:"Opulent ballroom, crystal chandeliers, dramatic uplighting.",prompt:"Place the subject at an evening gala with crystal chandeliers, dramatic uplighting, and polished marble floors that sparkle subtly."},{id:"wedding_reception",label:"Wedding Reception",description:"Soft floral arrangements, candlelit tables, airy drapery.",prompt:"Craft an upscale wedding reception scene with airy drapery, delicate floral arrangements, candlelit tables, and a romantic glow."},{id:"rooftop_brunch",label:"Rooftop Brunch",description:"Daytime city skyline, chic seating, greenery planters.",prompt:"Set the subject on a chic rooftop brunch overlooking a city skyline, with modern seating, greenery planters, and bright midday ambiance."}]},{id:"studio_editorial",label:"Studio & Editorial",description:"Controlled sets for bold editorial statements.",presets:[{id:"white_cyclorama",label:"White Cyclorama",description:"Seamless white walls, polished floor, controlled edge lighting.",prompt:"Stage the model on a seamless white cyclorama with polished flooring, controlled edge lighting, and soft contact shadows for a premium studio finish."},{id:"gradient_colorwash",label:"Gradient Colorwash",description:"Soft gradient wash, subtle haze, floating light speckles.",prompt:"Paint the background with a refined gradient color wash that transitions from blush to lavender, subtle atmospheric haze, and floating light speckles for depth."},{id:"neon_cyberpunk",label:"Neon Cyberpunk",description:"Moody editorial alley, neon signage, glossy reflections.",prompt:"Transform the backdrop into a moody editorial alley with neon signage, glossy wet reflections, and cinematic smoke for a high-fashion cyberpunk vibe."}]}],N1e=[{id:"soft_diffused",label:"Soft Diffused",prompt:"Illuminate the scene with soft, diffused lighting that flatters skin and keeps fabric textures crisp."},{id:"natural_daylight",label:"Natural Daylight",prompt:"Fill the environment with even natural daylight, as if from tall windows or open sky, without harsh shadows."},{id:"dramatic_spot",label:"Dramatic Spotlight",prompt:"Introduce directional spotlighting with tasteful falloff to sculpt the subject for editorial drama."}],S1e=[{id:"warm_neutrals",label:"Warm Neutrals",prompt:"Use warm neutral huessand, caramel, blushto complement skin tones and fashion pieces."},{id:"cool_neutrals",label:"Cool Neutrals",prompt:"Keep the palette in cool neutralsslate, charcoal, icy bluefor a sleek, modern mood."},{id:"bold_color_pop",label:"Bold Color Pop",prompt:"Add a bold jewel-tone color pop in the background to energize the composition without overpowering the garment."}],A1e=[{id:"eye_level",label:"Eye Level",prompt:"Maintain an eye-level camera for a natural, editorial perspective that feels approachable."},{id:"slight_low",label:"Slight Low Angle",prompt:"Adopt a subtle low angle that lengthens the model and adds grandeur without distortion."},{id:"three_quarter",label:"Three-Quarter",prompt:"Compose with a three-quarter angle that reveals depth and movement while showcasing the outfit silhouette."}];var dI;const Lm=((dI=_1e.find(t=>t.id==="outdoors"))==null?void 0:dI.presets)??[{id:"savannah_sunrise",label:"Savannah Sunrise",description:"Golden savannah grasses, distant acacia trees, warm dawn light.",prompt:"Surround the model with a sunlit savannah at dawn, golden grasses swaying, distant acacia trees, and a warm glow that wraps the silhouette naturally."},{id:"tropical_garden",label:"Tropical Garden",description:"Lush palms, tropical blooms, filtered daylight, misty atmosphere.",prompt:"Immerse the scene in a lush tropical garden filled with palms and flowering plants, filtered daylight, and a subtle mist that keeps focus on the apparel."},{id:"urban_promenade",label:"Urban Promenade",description:"Contemporary cityscape, clean architecture lines, blurred crowd.",prompt:"Position the subject along a contemporary urban promenade with clean architectural lines, glass facades, and softly blurred pedestrian movement behind them."}],Mm=N1e,Dm=S1e,Jf=A1e;var fI;const rI=((fI=Lm[0])==null?void 0:fI.id)??"savannah_sunrise";var hI;const nI=((hI=Mm[0])==null?void 0:hI.id)??"soft_diffused";var pI;const aI=((pI=Dm[0])==null?void 0:pI.id)??"warm_neutrals";var mI,gI;const iI=((mI=Jf.find(t=>t.id==="slight_low"))==null?void 0:mI.id)??((gI=Jf[0])==null?void 0:gI.id)??"eye_level",k1e=(t,e)=>t==="apply_pose"||e==="pose"?"pose":t.startsWith("repair_")?"repair":t==="remove_bg"||t.startsWith("replace_bg")?"background":"enhancement";async function P1e(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}a.width=n.naturalWidth,a.height=n.naturalHeight,i.drawImage(n,0,0);try{const o=a.toDataURL("image/png");e(o)}catch(o){r(o)}},n.onerror=()=>r(new Error("Failed to load image")),n.src=t})}function C1e({src:t,onCropComplete:e,onClose:r,aspect:n=3/4,history:a}){const i=N.useId(),[o,l]=N.useState(),[c,u]=N.useState(),[d,f]=N.useState(null),[p,h]=N.useState(!1),[g,m]=N.useState([]),[v,x]=N.useState(!1),[_,w]=N.useState(null),[j,S]=N.useState(null),[A,O]=N.useState(null),[k,T]=N.useState("natural"),[R,P]=N.useState("original"),[I,M]=N.useState("general"),[D,G]=N.useState(null),[$,q]=N.useState(0),[F,ee]=N.useState(!1),[he,fe]=N.useState(!1),[B,W]=N.useState(navigator.onLine),[H,re]=N.useState(0),[ce,se]=N.useState(""),[X,J]=N.useState(null),[le,ue]=N.useState(0),[oe,Ne]=N.useState("background"),[ge,te]=N.useState("#ffffff"),[Ve,Be]=N.useState(!1),qe=["#FFFFFF","#F5F5F5","#000000","#FCE7F3","#FDE68A"],[_e,Ue]=N.useState(!1),[Ee,ze]=N.useState(rI),[Ge,Vt]=N.useState(nI),[wt,Nt]=N.useState(aI),[nr,Ct]=N.useState(iI),[et,mt]=N.useState(""),[at,er]=N.useState(""),Jt=N.useMemo(()=>({studio:{editType:"replace_bg_studio",label:"Apply Studio Scene"},indoor:{editType:"replace_bg_studio",label:"Apply Indoor Scene"},outdoor:{editType:"replace_bg_nature",label:"Apply Outdoor Scene"},nature:{editType:"replace_bg_nature",label:"Apply Nature Scene"},beach:{editType:"replace_bg_nature",label:"Apply Beach Scene"},mountain:{editType:"replace_bg_nature",label:"Apply Mountain Scene"},urban:{editType:"replace_bg_gradient",label:"Apply Urban Scene"}})[I]??{editType:"replace_bg_gradient",label:"Apply Gradient Scene"},[I]),it=N.useMemo(()=>{switch(oe){case"pose":return{title:"Pose Reference",description:"Upload an image that captures the desired pose. The model should be clearly visible from head to toe."};case"style":return{title:"Style Reference",description:"Upload an inspiration image to borrow lighting, palette, or mood from another photo."};default:return{title:"Background Reference",description:"Upload environment images to replicate a background or scene with the AI editor."}}},[oe]),xt=N.useRef(null),tr=N.useRef(null),gt=N.useRef(null),Lt=N.useRef(null),ot=N.useRef(null),[qr,Hr]=N.useState(null),Kt=N.useMemo(()=>Lm.find(me=>me.id===Ee)??Lm[0],[Ee]),bt=N.useMemo(()=>Mm.find(me=>me.id===Ge)??Mm[0]??null,[Ge]),He=N.useMemo(()=>Dm.find(me=>me.id===wt)??Dm[0]??null,[wt]),cr=N.useMemo(()=>Jf.find(me=>me.id===nr)??Jf[0]??null,[nr]),Qt=N.useCallback(me=>{const{scene:Ye,lighting:vt,palette:jt,camera:sr,notes:jr}=me;let ut="CRITICAL: Keep the fashion model, pose, face, hair, accessories, and garment EXACTLY as in the original image. Do NOT change or regenerate the subject. Replace ONLY the background behind the model with: Design a premium, photorealistic fashion background that integrates seamlessly with the preserved subject. Natural and urban exterior scenes with cinematic depth.";return Ye!=null&&Ye.prompt&&(ut+=` ${Ye.prompt}`),vt!=null&&vt.prompt?ut+=` ${vt.prompt}`:vt!=null&&vt.label&&(ut+=` The lighting should be ${vt.label.toLowerCase()}.`),jt!=null&&jt.prompt?ut+=` ${jt.prompt}`:jt!=null&&jt.label&&(ut+=` The color palette should consist of ${jt.label.toLowerCase()}.`),sr!=null&&sr.prompt?ut+=` ${sr.prompt}`:sr!=null&&sr.label&&(ut+=` The camera angle should be a ${sr.label.toLowerCase()}.`),jr&&jr.trim().length>0&&(ut+=` Also, incorporate the following creative elements: "${jr.trim()}".`),ut+=" FINAL: The model must remain fully visible, unchanged, and naturally lit in the new backgroundlike the original photo with just the backdrop swapped.",ut.trim()},[]);N.useEffect(()=>{const me=Qt({scene:Kt,lighting:bt,palette:He,camera:cr,notes:et});er(me)},[et,Qt,cr,bt,He,Kt]);const mr=N.useCallback(()=>{ze(rI),Vt(nI),Nt(aI),Ct(iI),mt("")},[]),Bn=()=>{at.trim()&&(ir("replace_bg_curated",{task:"background",context:"background",promptDetails:{backgroundCategory:"outdoors",backgroundPreset:Kt==null?void 0:Kt.id,lightingStyle:bt==null?void 0:bt.id,paletteStyle:He==null?void 0:He.id,cameraAngle:cr==null?void 0:cr.id,customNotes:et.trim()||void 0,curatedPrompt:at,curatedSource:"mood_guidance",curatedSceneLabel:Kt==null?void 0:Kt.label}}),Ue(!1),Be(!1),se(""),mr())},Ke=N.useMemo(()=>{if(!a||a.length===0)return[];const me=new Map;return a.forEach(Ye=>{var jt;const vt=Ye.id||`${Ye.previewUrl}-${((jt=Ye.storedRun)==null?void 0:jt.runId)??""}`;me.has(vt)||me.set(vt,Ye)}),Array.from(me.values()).sort((Ye,vt)=>(vt.createdAt??0)-(Ye.createdAt??0))},[a]),wr=N.useCallback(me=>{if(me&&me.startsWith("blob:"))try{URL.revokeObjectURL(me)}catch(Ye){console.debug("Failed to revoke object URL",Ye)}},[]),Vn=N.useCallback(me=>{me&&(console.log(" Applying history entry",me.id,me),Hr(me.id),O(me.storedRun??null),D&&(wr(D),G(null)),w(null),S(me.previewUrl),f(me.previewUrl),l(void 0),u(void 0))},[D,wr]);N.useEffect(()=>{t&&t.startsWith("http")?(h(!0),P1e(t).then(me=>{f(me),h(!1)}).catch(me=>{console.error("Error converting image to data URL:",me),f(t),h(!1)})):f(t)},[t]),N.useEffect(()=>{Hr(null)},[t]),N.useEffect(()=>{if(t){console.log(" ImageCropper Dialog Opened"),console.log(" Screen Dimensions:"),console.table({"Inner Width":window.innerWidth,"Inner Height":window.innerHeight,"Available Width":window.screen.availWidth,"Available Height":window.screen.availHeight});const me=()=>{if(Lt.current){const vt=Lt.current.getBoundingClientRect(),jt=window.getComputedStyle(Lt.current);if(console.log(" Dialog Content Dimensions:"),console.table({"Actual Width":Math.round(vt.width),"Actual Height":Math.round(vt.height),"Top Position":Math.round(vt.top),"Left Position":Math.round(vt.left),"Right Position":Math.round(vt.right),"Bottom Position":Math.round(vt.bottom),"Computed Width":jt.width,"Computed Height":jt.height,"Computed Max Width":jt.maxWidth,"Computed Max Height":jt.maxHeight}),ot.current){const ut=ot.current.getBoundingClientRect(),Ia=window.getComputedStyle(ot.current);console.log(" Right Column (AI Tools) Dimensions:"),console.table({Width:Math.round(ut.width),Height:Math.round(ut.height),"Scroll Height":ot.current.scrollHeight,"Client Height":ot.current.clientHeight,"Is Overflowing":ot.current.scrollHeight>ot.current.clientHeight,"Computed Width":Ia.width,"Computed Height":Ia.height})}const sr=window.innerWidth,jr=window.innerHeight;console.log(" Viewport Usage:"),console.table({"Width Usage":(vt.width/sr*100).toFixed(1)+"%","Height Usage":(vt.height/jr*100).toFixed(1)+"%","Available Width Left":Math.round(sr-vt.width),"Available Height Left":Math.round(jr-vt.height)})}};me(),setTimeout(me,100),setTimeout(me,500);const Ye=tn.length+es.length+Si.length+ha.length+4;console.log(" AI Tools Section should be rendered with",Ye,"buttons across",5,"categories")}},[t]);function Er(me){const{width:Ye,height:vt}=me.currentTarget;if(console.log(" Image loaded with dimensions:",Ye,"x",vt),n){const jt=If(Tf({unit:"%",width:90},n,Ye,vt),Ye,vt);console.log(" Setting initial crop area:",jt),l(jt)}}N.useEffect(()=>{l(void 0),u(void 0),S(null),m([]),Ne("background"),Be(!1),te("#ffffff"),se("")},[t]);const Tr=me=>{const Ye=Array.from(me.target.files||[]);if(Ye.length+g.length>3){alert("Maximum 3 reference images allowed");return}m(vt=>[...vt,...Ye]),se("")},Sr=me=>{m(Ye=>Ye.filter((vt,jt)=>jt!==me))},ir=async(me,Ye={})=>{var Sl;const{useReferenceImage:vt=!1,customColor:jt,task:sr,context:jr,promptDetails:ut}=Ye,Ia=jr??oe;if(console.log(` AI Edit Button Pressed: ${me} (Reference: ${vt})`),!d){console.warn("No image source available for AI editing");return}if(vt&&g.length===0){Ne(Ia),se(Ia==="pose"?"Upload a pose reference image to continue.":"Upload a reference image to continue."),(Sl=gt.current)==null||Sl.click();return}D&&(wr(D),G(null)),Ne(Ia),me==="remove_bg"||me==="replace_bg_solid"?Be(!0):me.startsWith("replace_bg")||Be(!1),O(null),w(null),J(Date.now()),ue(0),x(!0),se("");try{console.log(" Using Supabase Edge Function for Qwen API");const ts=w1e("",""),rn=await fetch(j||d).then(rs=>rs.blob());console.log(` Image blob prepared: ${rn.size} bytes`);const Eo=(jt==null?void 0:jt.trim())||void 0,To=sr??k1e(me,Ia),Io=To==="pose"&&vt&&g.length>0,Dc={image:rn,edit_type:me,reference_image:vt&&g.length>0?g[0]:void 0,api_key:"",api_endpoint:"",promptOptions:{editType:me,colorStyle:k,shapeFormat:R,scenario:I,customColor:Eo,hasPoseReference:Io,task:To,backgroundCategory:ut==null?void 0:ut.backgroundCategory,backgroundPreset:ut==null?void 0:ut.backgroundPreset,lightingStyle:ut==null?void 0:ut.lightingStyle,paletteStyle:ut==null?void 0:ut.paletteStyle,cameraAngle:ut==null?void 0:ut.cameraAngle,curatedPrompt:ut==null?void 0:ut.curatedPrompt,customNotes:ut==null?void 0:ut.customNotes},options:{color:k,shape:R,scenario:I,colorStyle:k,shapeFormat:R,customColor:Eo,hasPoseReference:Io,task:To,backgroundCategory:ut==null?void 0:ut.backgroundCategory,backgroundPreset:ut==null?void 0:ut.backgroundPreset,lightingStyle:ut==null?void 0:ut.lightingStyle,paletteStyle:ut==null?void 0:ut.paletteStyle,cameraAngle:ut==null?void 0:ut.cameraAngle,curatedPrompt:ut==null?void 0:ut.curatedPrompt,customNotes:ut==null?void 0:ut.customNotes}};console.log(` Sending request to Supabase Edge Function for ${me}`);const xn=await ts.editImage(Dc);if(console.log(" Qwen API Response:",xn),xn.queued){console.log(" Request queued for retry - showing user feedback"),se(`Request queued for retry (${xn.networkStatus})`),setTimeout(()=>se(""),5e3),x(!1),J(null),ue(0);return}if(!xn.success)throw new Error(xn.error||"AI processing failed");if(xn.storedRun)O(xn.storedRun),S(xn.storedRun.publicUrl),f(xn.storedRun.publicUrl),G(null),l(void 0),u(void 0),console.log(" Edit completed successfully - stored run ready",xn.storedRun);else if(xn.edited_image){const rs=URL.createObjectURL(xn.edited_image);O(null),S(rs),f(rs),G(rs),l(void 0),u(void 0),console.log(" Edit completed successfully - local preview ready")}else xn.imageUrl&&(O(null),S(xn.imageUrl),G(null),l(void 0),u(void 0),console.log(" Edit completed with image URL response"))}catch(ts){console.error("AI processing error:",ts);const rn=ts instanceof Error?ts.message:"Unknown error";rn.includes("InvalidApiKey")?alert("API Key error. Please check that DASHSCOPE_API_KEY is set in Supabase secrets."):rn.includes("Failed to fetch")||rn.includes("Network")?alert("Network error connecting to Supabase Edge Function. Check your connection."):rn.includes("No image generated")?alert("The API returned a description instead of an image. Try a different edit type or check the prompt."):alert(`AI processing failed: ${rn}`)}finally{x(!1),J(null),ue(0)}},tn=[{id:"enhance_quality",label:"Enhance Quality",icon:qm,description:"Improve sharpness & details",category:"enhancement",task:"enhancement"},{id:"enhance_colors",label:"Vivid Colors",icon:pv,description:"Make colors more vibrant",category:"enhancement",task:"enhancement",context:"style"},{id:"enhance_sharpness",label:"Sharpen",icon:Jz,description:"Increase image sharpness",category:"enhancement",task:"enhancement"},{id:"enhance_hdr",label:"HDR Effect",icon:rh,description:"High dynamic range look",category:"enhancement",task:"enhancement"}],es=[{id:"effect_vintage",label:"Vintage",icon:Ja,description:"Retro film look",category:"effects",task:"enhancement",context:"style"},{id:"effect_bw",label:"Black & White",icon:$m,description:"Classic monochrome",category:"effects",task:"enhancement",context:"style"},{id:"effect_sepia",label:"Sepia",icon:rh,description:"Warm brown tones",category:"effects",task:"enhancement",context:"style"},{id:"effect_cartoon",label:"Cartoon",icon:Kr,description:"Animated cartoon style",category:"effects",task:"enhancement"}],Si=[{id:"repair_limbs",label:"Repair Limbs",icon:vA,description:"Fix cut-off limbs",category:"repair",task:"repair"}],ha=[{id:"apply_pose",label:"Apply Pose",icon:bA,description:"Match a reference pose",category:"pose",requiresReference:!0,task:"pose",context:"pose"}],ra=me=>{me.context&&Ne(me.context),ir(me.id,{useReferenceImage:me.requiresReference,task:me.task,context:me.context})};N.useEffect(()=>()=>{wr(D)},[D]),N.useEffect(()=>{if(!v||X===null){ue(0);return}const me=()=>{ue(Math.max(0,Math.round((Date.now()-X)/1e3)))};me();const Ye=window.setInterval(me,1e3);return()=>window.clearInterval(Ye)},[v,X]),N.useEffect(()=>{(async()=>{await Xl.register();const Ye={onNetworkStatusChange:jt=>{W(jt),se(jt?"":"Offline - requests will be queued")},onQueueUpdate:(jt,sr)=>{re(jt),sr&&jt>0?(x(!0),J(jr=>jr??Date.now())):(x(!1),jt===0&&(J(null),ue(0))),jt>0?se(`${jt} request${jt>1?"s":""} queued`):sr||se("")},onRequestQueued:(jt,sr)=>{console.log(` AI request queued: ${jt} (${sr})`),se("Request queued for retry"),J(jr=>jr??Date.now()),x(!0)},onRequestSuccess:(jt,sr)=>{if(console.log(` AI request successful: ${jt}`),sr)try{if(sr instanceof Blob){const jr=URL.createObjectURL(sr);O(null),S(jr),f(jr),G(jr),l(void 0),u(void 0),console.log(" Processed image loaded from service worker retry")}}catch(jr){console.error(" Failed to process image from service worker:",jr)}se("Processing complete!"),setTimeout(()=>se(""),3e3),x(!1),J(null),ue(0)},onRequestFailed:(jt,sr,jr)=>{console.log(` AI request failed: ${jt} (${sr})`),se(jr?"Processing failed - please try again":"Retrying..."),jr&&(x(!1),J(null),ue(0))}};Xl.setAICallbacks(Ye);const vt=await Xl.getAIStatus();W(vt.isOnline),re(vt.queueLength)})()},[]);const Ea=()=>{D&&wr(D),l(void 0),u(void 0),w(null),S(null),O(null),m([]),T("natural"),P("original"),M("general"),q(0),ee(!1),fe(!1),Ne("background"),Be(!1),te("#ffffff"),se(""),f(t),G(null)},Ta=new Date(Math.max(le,0)*1e3).toISOString().substring(14,19),pa=!p&&(!v||_!==null||j!==null);return s.jsxs(s.Fragment,{children:[s.jsx(yi,{open:!!t,onOpenChange:me=>!me&&r(),children:s.jsxs(ri,{ref:Lt,className:"flex flex-col bg-neutral-900/60 backdrop-blur border-neutral-800 text-neutral-100 shadow-2xl",style:{width:"100vw",height:"80vh",maxWidth:"none",maxHeight:"none"},"aria-describedby":i,children:[s.jsxs(xi,{children:[s.jsx(bi,{className:"text-xl font-semibold text-white",children:"Edit Image"}),s.jsx(Hm,{id:i,className:"text-neutral-300",children:"Crop and enhance your images with AI-powered editing tools"})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-64 border-r border-neutral-800 bg-gradient-to-b from-neutral-950/80 via-neutral-950/70 to-neutral-950/80 overflow-y-auto text-neutral-100",children:s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs(Me,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[s.jsx(At,{children:s.jsx(kt,{className:"text-sm",children:"Crop Controls"})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-2 block",children:"Aspect Ratio"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const me=xt.current;me&&l(If(Tf({unit:"%",width:90},1,me.naturalWidth,me.naturalHeight),me.naturalWidth,me.naturalHeight))},children:"1:1 Square"}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const me=xt.current;me&&l(If(Tf({unit:"%",width:90},4/3,me.naturalWidth,me.naturalHeight),me.naturalWidth,me.naturalHeight))},children:"4:3"}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const me=xt.current;me&&l(If(Tf({unit:"%",width:90},16/9,me.naturalWidth,me.naturalHeight),me.naturalWidth,me.naturalHeight))},children:"16:9"}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const me=xt.current;me&&l(If(Tf({unit:"%",width:90},3/4,me.naturalWidth,me.naturalHeight),me.naturalWidth,me.naturalHeight))},children:"3:4 Portrait"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium mb-2 block",children:"Orientation"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>q(me=>me+90),children:[s.jsx(Ja,{className:"w-3 h-3 mr-1"}),"Rotate"]}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>ee(!F),children:" Flip H"}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>fe(!he),children:" Flip V"})]})]}),s.jsx(ye,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>{l(void 0),u(void 0)},children:"Reset Crop"}),s.jsx(ye,{variant:"default",size:"sm",className:"w-full text-xs bg-blue-600 hover:bg-blue-700",onClick:async()=>{if(c&&xt.current&&tr.current)try{await m1e(xt.current,tr.current,c,1,0),tr.current.toBlob(me=>{me?(w(me),console.log(" Crop applied successfully:",{size:me.size,type:me.type})):console.error(" Failed to convert canvas to blob")},"image/png")}catch(me){console.error(" Failed to apply crop:",me)}else console.warn(" No completed crop available")},disabled:!c,children:" Apply Crop"}),s.jsxs(ye,{variant:"destructive",size:"sm",className:"w-full text-xs",onClick:Ea,children:[s.jsx(Ja,{className:"w-3 h-3 mr-1"}),"Reset All"]})]})})]}),v&&s.jsxs("div",{className:"p-3 rounded-lg border border-sky-500/50 bg-gradient-to-r from-sky-600/40 via-indigo-600/30 to-slate-900/60 shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-sky-200"}),s.jsx("span",{children:"Processing with AI..."})]}),s.jsx("span",{className:"text-xs text-sky-100/80",children:Ta})]}),ce&&s.jsx("p",{className:"mt-2 text-xs text-sky-100/70",children:ce})]}),_&&s.jsx("div",{className:"p-3 rounded-lg border border-purple-500/50 bg-purple-900/40 shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-purple-100",children:[s.jsx("div",{className:"font-medium",children:" Crop Applied"}),s.jsx("div",{className:"text-xs",children:"Ready to save changes"})]}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs border-purple-400/40 text-purple-100 hover:bg-purple-500/20",onClick:()=>{w(null),l(void 0),u(void 0)},children:"Clear Crop"})]})}),j&&!v&&s.jsx("div",{className:"p-3 rounded-lg border border-emerald-500/50 bg-emerald-900/40 shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-emerald-100",children:[s.jsx("div",{className:"font-medium",children:"AI Edit Complete!"}),s.jsx("div",{className:"text-xs",children:"Save this result or continue editing"})]}),s.jsx(ye,{variant:"default",size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 text-xs text-neutral-900",onClick:async()=>{try{const Ye=await(await fetch(j)).blob(),vt=URL.createObjectURL(Ye);f(vt),S(null),l(void 0),u(void 0),console.log(" AI image saved as current image")}catch(me){console.error(" Failed to save AI image:",me)}},children:" Save AI Image"})]})})]})}),s.jsx("div",{className:"flex-1 flex flex-col bg-neutral-950/40",children:s.jsx("div",{className:"flex-1 flex justify-center items-center p-6 bg-neutral-900/60",children:p?s.jsx("div",{className:"flex justify-center items-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Loading image..."})]})}):d?s.jsx("div",{className:"w-full h-full flex justify-center items-center",children:s.jsx("div",{className:"p-12 bg-neutral-950 border border-neutral-800 rounded-xl shadow-2xl min-w-[400px] min-h-[800px] overflow-hidden",children:s.jsx(h1e,{crop:o,onChange:(me,Ye)=>l(Ye),onComplete:me=>u(me),aspect:n,minWidth:50,minHeight:50,className:"max-w-full max-h-full",children:s.jsx("img",{ref:xt,alt:"Edit this image",src:j||d,onLoad:Er,className:"max-w-full max-h-full object-contain",style:{display:"block",transform:`rotate(${$}deg) scaleX(${F?-1:1}) scaleY(${he?-1:1})`,transformOrigin:"center center"}})})})}):s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("p",{className:"text-neutral-400",children:"No image to display"})})})}),s.jsx("div",{ref:ot,className:"w-96 border-l border-neutral-800 bg-gradient-to-b from-neutral-950/80 via-neutral-950/70 to-neutral-950/80 overflow-y-auto text-neutral-100",children:s.jsxs("div",{className:"p-4 space-y-4",children:[Ke.length>0&&s.jsxs(Me,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[s.jsx(At,{className:"pb-2",children:s.jsxs(kt,{className:"text-sm flex items-center gap-2 text-neutral-100",children:["Previous Results",s.jsx("span",{className:"text-xs font-normal text-neutral-400",children:Ke.length})]})}),s.jsx(De,{className:"pt-0",children:s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2",children:Ke.map(me=>{const Ye=qr===me.id,vt=me.thumbnailUrl??me.previewUrl,jt=me.status==="pending"?"Pending":me.status==="uploading"?"Uploading":me.status==="error"?"Error":me.source==="cropped"?"Crop":"AI";return s.jsxs("button",{type:"button",onClick:()=>Vn(me),className:`group relative w-16 h-20 overflow-hidden rounded-lg border transition focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-500 ${Ye?"border-rose-500 shadow-lg shadow-rose-500/40":"border-neutral-800 hover:border-rose-400/70"}`,children:[s.jsx("img",{src:vt,alt:me.label??"AI result preview",className:"h-full w-full object-cover"}),s.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/90 to-transparent p-1 text-[9px] tracking-tight text-white/90",children:[s.jsxs("div",{className:"flex items-center justify-between gap-0.5",children:[s.jsx("span",{className:"font-medium truncate",children:jt}),me.createdAt&&s.jsx("span",{className:"text-[8px] text-white/60 flex-shrink-0",children:new Date(me.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),me.label&&s.jsx("div",{className:"truncate text-[8px] text-white/70 leading-tight",children:me.label})]})]},me.id)})})})]}),s.jsxs(Me,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[s.jsx(At,{children:s.jsxs(kt,{className:"text-sm flex items-center gap-2 text-neutral-100",children:["AI Editing Options",B?s.jsx(Yz,{className:"w-4 h-4 text-green-500"}):s.jsx(jA,{className:"w-4 h-4 text-red-500"})]})}),s.jsxs(De,{children:[(!B||H>0||ce)&&s.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-gradient-to-r from-sky-600/40 via-indigo-600/30 to-slate-800/40 border border-sky-500/40 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-100 mb-2",children:[B?H>0?s.jsx(sc,{className:"w-4 h-4"}):s.jsx(Hh,{className:"w-4 h-4"}):s.jsx(jA,{className:"w-4 h-4"}),s.jsxs("span",{children:[!B&&"Offline - AI requests will be queued",B&&H>0&&`${H} request${H>1?"s":""} queued for processing`,B&&H===0&&ce&&ce]})]}),H>0&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>Xl.retryFailedRequests(),disabled:!B,children:" Retry All"}),s.jsx(ye,{variant:"outline",size:"sm",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>Xl.clearQueue(),children:" Clear Queue"})]}),!B&&H>0&&s.jsx("button",{onClick:()=>Xl.retryFailedRequests(),className:"mt-2 text-xs text-sky-200 hover:text-sky-100 underline",children:"Retry when online"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Color Style"}),s.jsxs(_a,{value:k,onValueChange:T,children:[s.jsx(Sa,{className:"bg-neutral-900 border-neutral-700 text-neutral-100",children:s.jsx(Na,{placeholder:"Select color style"})}),s.jsxs(Aa,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[s.jsx(Xe,{value:"natural",children:"Natural"}),s.jsx(Xe,{value:"vibrant",children:"Vibrant"}),s.jsx(Xe,{value:"muted",children:"Muted"}),s.jsx(Xe,{value:"warm",children:"Warm"}),s.jsx(Xe,{value:"cool",children:"Cool"}),s.jsx(Xe,{value:"monochrome",children:"Monochrome"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Shape/Format"}),s.jsxs(_a,{value:R,onValueChange:P,children:[s.jsx(Sa,{className:"bg-neutral-900 border-neutral-700 text-neutral-100",children:s.jsx(Na,{placeholder:"Select format"})}),s.jsxs(Aa,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[s.jsx(Xe,{value:"original",children:"Original"}),s.jsx(Xe,{value:"square",children:"Square"}),s.jsx(Xe,{value:"portrait",children:"Portrait"}),s.jsx(Xe,{value:"landscape",children:"Landscape"}),s.jsx(Xe,{value:"circle",children:"Circle"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Scenario"}),s.jsxs(_a,{value:I,onValueChange:M,children:[s.jsx(Sa,{className:"bg-neutral-900 border-neutral-700 text-neutral-100",children:s.jsx(Na,{placeholder:"Select scenario"})}),s.jsxs(Aa,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[s.jsx(Xe,{value:"general",children:"General"}),s.jsx(Xe,{value:"studio",children:"Studio"}),s.jsx(Xe,{value:"outdoor",children:"Outdoor"}),s.jsx(Xe,{value:"indoor",children:"Indoor"}),s.jsx(Xe,{value:"nature",children:"Nature"}),s.jsx(Xe,{value:"urban",children:"Urban"}),s.jsx(Xe,{value:"beach",children:"Beach"}),s.jsx(Xe,{value:"mountain",children:"Mountain"})]})]})]})]})]})]}),s.jsxs(Me,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[s.jsxs(At,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx(kt,{className:"text-sm text-neutral-100",children:it.title}),s.jsxs(_a,{value:oe,onValueChange:me=>Ne(me),children:[s.jsx(Sa,{className:"h-8 w-36 bg-neutral-900 border-neutral-700 text-neutral-100 text-xs",children:s.jsx(Na,{placeholder:"Purpose"})}),s.jsxs(Aa,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[s.jsx(Xe,{value:"background",children:"Background"}),s.jsx(Xe,{value:"pose",children:"Pose"}),s.jsx(Xe,{value:"style",children:"Style"})]})]})]}),s.jsx("p",{className:"text-xs text-neutral-400 leading-relaxed",children:it.description})]}),s.jsxs(De,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[g.map((me,Ye)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(me),alt:`Reference ${Ye+1}`,className:"w-16 h-16 object-cover rounded border border-neutral-700"}),s.jsx("button",{onClick:()=>Sr(Ye),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center shadow",children:""})]},Ye)),g.length<3&&s.jsx("button",{onClick:()=>{var me;return(me=gt.current)==null?void 0:me.click()},className:"w-16 h-16 border-2 border-dashed border-neutral-600 rounded flex items-center justify-center hover:border-neutral-400",children:s.jsx(VI,{className:"w-6 h-6 text-neutral-400"})})]}),s.jsx("input",{ref:gt,type:"file",accept:"image/*",multiple:!0,onChange:Tr,className:"hidden"}),s.jsx("p",{className:"text-xs text-neutral-400",children:"Upload up to 3 reference images to guide advanced edits."})]})]}),s.jsxs(Me,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[s.jsx(At,{children:s.jsx(kt,{className:"text-sm text-neutral-100",children:"AI Editing Tools"})}),s.jsx(De,{children:s.jsxs(lF,{type:"multiple",className:"w-full space-y-2",children:[s.jsxs(no,{value:"background",className:"border rounded-lg",children:[s.jsx(ao,{className:"px-3 py-2 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ay,{className:"w-4 h-4"}),"Background"]})}),s.jsxs(io,{className:"px-2 pb-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 p-2",children:[s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>{Ne("background"),Be(!0),ir("remove_bg",{task:"background",context:"background"})},disabled:v,children:[s.jsx(mz,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:"Remove Background"})]}),s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>{Ne("background"),Be(!1),se(""),mr(),Ue(!0)},disabled:v,children:[s.jsx(Ay,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:"Mood Background"})]}),s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>{Ne("background"),Be(!1),ir("replace_bg_transparent",{task:"background",context:"background"})},disabled:v,children:[s.jsx(kz,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:"Transparent PNG"})]}),s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>{Ne("background"),Be(!1),ir(Jt.editType,{task:"background",context:"background"})},disabled:v,children:[s.jsx(Ay,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:Jt.label})]})]}),Ve&&s.jsxs("div",{className:"mt-3 space-y-3 rounded-xl border border-neutral-800 bg-neutral-900/60 p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-neutral-200",children:"Solid Background Color"}),s.jsx("p",{className:"text-[11px] text-neutral-400",children:"Choose a color and apply it as a clean studio backdrop."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"color",value:ge,onChange:me=>te(me.target.value),className:"h-9 w-12 cursor-pointer rounded border border-neutral-700 bg-neutral-800","aria-label":"Solid background color"}),s.jsx("div",{className:"font-mono text-xs text-neutral-200",children:ge.toUpperCase()})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:qe.map(me=>s.jsx("button",{type:"button",onClick:()=>te(me),className:`h-6 w-6 rounded-full border ${ge.toUpperCase()===me?"border-rose-400 shadow-[0_0_0_2px] shadow-rose-500/40":"border-neutral-700"}`,style:{backgroundColor:me},"aria-label":`Use ${me} background`},me))}),s.jsx(ye,{size:"sm",className:"w-full bg-rose-500 text-white hover:bg-rose-600",onClick:()=>ir("replace_bg_solid",{customColor:ge,task:"background",context:"background"}),disabled:v,children:"Set Solid Background"})]})]})]}),s.jsxs(no,{value:"enhancement",className:"border rounded-lg",children:[s.jsx(ao,{className:"px-3 py-2 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qm,{className:"w-4 h-4"}),"Enhancement"]})}),s.jsx(io,{className:"px-2 pb-2",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:tn.map(me=>s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>ra(me),disabled:v,children:[s.jsx(me.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:me.label})]},me.id))})})]}),s.jsxs(no,{value:"effects",className:"border rounded-lg",children:[s.jsx(ao,{className:"px-3 py-2 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gz,{className:"w-4 h-4"}),"Effects"]})}),s.jsx(io,{className:"px-2 pb-2",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:es.map(me=>s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>ra(me),disabled:v,children:[s.jsx(me.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:me.label})]},me.id))})})]}),s.jsxs(no,{value:"pose",className:"border rounded-lg",children:[s.jsx(ao,{className:"px-3 py-2 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bA,{className:"w-4 h-4"}),"Pose"]})}),s.jsx(io,{className:"px-2 pb-2",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:ha.map(me=>s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>{var Ye;Ne("pose"),g.length>0?ra(me):(se("Upload a pose reference image to continue."),(Ye=gt.current)==null||Ye.click())},disabled:v,children:[s.jsx(me.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:me.label})]},me.id))})})]}),s.jsxs(no,{value:"repair",className:"border rounded-lg",children:[s.jsx(ao,{className:"px-3 py-2 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vA,{className:"w-4 h-4"}),"Repair"]})}),s.jsx(io,{className:"px-2 pb-2",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:Si.map(me=>s.jsxs(ye,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>ra(me),disabled:v,children:[s.jsx(me.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:me.label})]},me.id))})})]})]})})]})]})})]}),s.jsx("canvas",{ref:tr,style:{display:"none"}}),s.jsxs(p4,{children:[s.jsx(ye,{variant:"outline",onClick:r,children:"Cancel"}),s.jsx(ye,{onClick:async()=>{try{let me,Ye=null,vt="original",jt=j||d;_?(me=_,console.log(" Saving cropped image:",{size:me.size,type:me.type}),vt="cropped",Ye=null):j?(me=await(await fetch(j)).blob(),console.log(" Saving AI processed image:",{size:me.size,type:me.type}),A&&(Ye=A,vt="ai")):(me=await(await fetch(d)).blob(),console.log(" Saving original image:",{size:me.size,type:me.type}),A&&(Ye=A,vt="ai")),e({blob:me,storedRun:Ye,source:vt,previewUrl:jt}),r()}catch(me){console.error(" Failed to save image:",me),alert("Failed to save image. Please try again.")}},disabled:!pa,className:"bg-rose-500 hover:bg-rose-600 text-white disabled:bg-neutral-700 disabled:text-neutral-400",children:"Save Changes"})]})]})}),s.jsx(yi,{open:_e,onOpenChange:me=>{Ue(me),me||(se(""),mr())},children:s.jsxs(ri,{className:"relative max-w-4xl bg-neutral-950 border border-neutral-800 text-neutral-100 shadow-xl",children:[s.jsx("button",{type:"button",onClick:()=>{Ue(!1),se(""),mr()},className:"absolute top-4 right-4 rounded-full p-2 text-neutral-400 transition hover:bg-neutral-800 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-500","aria-label":"Close mood guidance",children:s.jsx(ws,{className:"w-5 h-5"})}),s.jsxs(xi,{children:[s.jsx(bi,{className:"text-xl font-semibold text-white",children:"Mood Guidance"}),s.jsx(Hm,{className:"text-sm text-neutral-300",children:"Combine curated scenes, lighting, palettes, and camera feel to generate a bespoke background prompt."})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[320px_1fr]",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-neutral-100",children:"Scene Presets"}),s.jsx("p",{className:"text-xs text-neutral-400",children:"Pick from designer-crafted scenarios. Each one generates a unique environment."})]}),s.jsx("div",{className:"space-y-2",children:Lm.map(me=>{const Ye=me.id===Ee;return s.jsxs(ye,{type:"button",variant:Ye?"default":"outline",className:`w-full justify-between gap-3 text-left h-auto py-3 px-4 ${Ye?"bg-rose-500/20 border-rose-400/60 text-white hover:bg-rose-500/30":"bg-neutral-900/60 border-neutral-700 text-neutral-200 hover:border-rose-400/60"}`,onClick:()=>ze(me.id),children:[s.jsxs("div",{className:"flex flex-col items-start gap-1",children:[s.jsx("span",{className:"text-sm font-semibold",children:me.label}),s.jsx("span",{className:"text-xs text-neutral-300 leading-relaxed",children:me.description})]}),Ye&&s.jsx("span",{className:"text-[10px] uppercase tracking-wide text-rose-300",children:"Selected"})]},me.id)})})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-neutral-500",children:"Lighting"}),s.jsx("div",{className:"flex flex-col gap-2",children:Mm.map(me=>{const Ye=me.id===Ge;return s.jsx(ye,{type:"button",variant:Ye?"default":"outline",size:"sm",className:`justify-start ${Ye?"bg-sky-500/90 hover:bg-sky-500 text-white border-sky-400/60":"bg-neutral-900/60 border-neutral-700 text-neutral-200 hover:border-sky-400/60"}`,onClick:()=>Vt(me.id),children:me.label},me.id)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-neutral-500",children:"Palette"}),s.jsx("div",{className:"flex flex-col gap-2",children:Dm.map(me=>{const Ye=me.id===wt;return s.jsx(ye,{type:"button",variant:Ye?"default":"outline",size:"sm",className:`justify-start ${Ye?"bg-amber-500/90 hover:bg-amber-500 text-neutral-900 border-amber-400/60":"bg-neutral-900/60 border-neutral-700 text-neutral-200 hover:border-amber-400/60"}`,onClick:()=>Nt(me.id),children:me.label},me.id)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-neutral-500",children:"Camera Feel"}),s.jsx("div",{className:"flex flex-col gap-2",children:Jf.map(me=>{const Ye=me.id===nr;return s.jsx(ye,{type:"button",variant:Ye?"default":"outline",size:"sm",className:`justify-start ${Ye?"bg-purple-500/90 hover:bg-purple-500 text-white border-purple-400/60":"bg-neutral-900/60 border-neutral-700 text-neutral-200 hover:border-purple-400/60"}`,onClick:()=>Ct(me.id),children:me.label},me.id)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"mood-creative-notes",className:"text-xs font-semibold uppercase tracking-[0.08em] text-neutral-500",children:"Optional Creative Notes"}),s.jsx(rv,{id:"mood-creative-notes",value:et,onChange:me=>mt(me.target.value),placeholder:'Add specific props, time of day, or mood to guide the AI (e.g. "soft morning fog" or "include floating silk drapes").',className:"min-h-[96px] resize-none bg-neutral-900/70 border-neutral-800 text-neutral-100 placeholder:text-neutral-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-neutral-500",children:"Prompt Preview"}),s.jsx(rv,{readOnly:!0,value:at,className:"font-mono text-xs leading-relaxed bg-neutral-900/70 border-neutral-800 text-neutral-200 min-h-[120px]"})]})]})]}),s.jsxs(p4,{className:"gap-2",children:[s.jsx(ye,{type:"button",variant:"outline",className:"border-neutral-700 text-neutral-200",onClick:()=>{Ue(!1),se(""),mr()},children:"Cancel"}),s.jsx(ye,{type:"button",className:"bg-rose-500 hover:bg-rose-600 text-white",onClick:Bn,disabled:v||!at.trim(),children:"Generate Background"})]})]})})]})}function O1e({defaultTab:t="overview"}){const{products:e,fetchAllProducts:r}=Cd(),[n,a]=N.useState(null),[i,o]=N.useState(!1),[l,c]=N.useState(null),u=N.useRef(null),d=N.useRef(null);N.useEffect(()=>{r()},[r]);const f=v=>{a(v),o(!0)},p=()=>{r(),a(null),o(!1)},h=()=>{a(null),o(!1)},g=v=>{const{index:x,src:_,type:w,form:j}=v;console.log(" AdminDashboard: handleCropImage called:",{index:x,src:_.substring(0,50)+"...",type:w,form:j}),c(v)},m=v=>{if(console.log(" AdminDashboard: handleCropComplete called:",{blobSize:v.blob.size,source:v.source,hasStoredRun:!!v.storedRun,croppingImage:l}),l){let x=null;l.form==="edit"?x=d.current||null:x=u.current||null,x||(x=u.current||d.current),x?(console.log(" Calling ProductForm.handleCropComplete via ref"),x.handleCropComplete(v,l),c(null)):console.error(" No ProductForm ref available for cropping")}else console.warn(" handleCropComplete called but no croppingImage set")};return s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your store and view analytics"})]}),s.jsxs(bo,{defaultValue:t,className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2 scrollbar-hide",children:s.jsxs(wo,{className:"inline-flex h-auto p-1 bg-muted rounded-lg min-w-full lg:min-w-0",children:[s.jsxs(Pr,{value:"overview",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(qU,{className:"h-4 w-4"}),s.jsx("span",{children:"Overview"})]}),s.jsxs(Pr,{value:"products",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(fo,{className:"h-4 w-4"}),s.jsx("span",{children:"Products"})]}),s.jsxs(Pr,{value:"orders",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(gv,{className:"h-4 w-4"}),s.jsx("span",{children:"Orders"})]}),s.jsxs(Pr,{value:"reviews",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(Kr,{className:"h-4 w-4"}),s.jsx("span",{children:"Reviews"})]}),s.jsxs(Pr,{value:"analytics",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(E2,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs(Pr,{value:"content",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(bs,{className:"h-4 w-4"}),s.jsx("span",{children:"Content"})]}),s.jsxs(Pr,{value:"messages",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(Ff,{className:"h-4 w-4"}),s.jsx("span",{children:"Messages"})]}),s.jsxs(Pr,{value:"settings",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground px-4 py-2",children:[s.jsx(mv,{className:"h-4 w-4"}),s.jsx("span",{children:"Settings"})]})]})}),s.jsxs(Cr,{value:"overview",children:[s.jsx(WZ,{products:e}),s.jsxs(Me,{className:"mt-6",children:[s.jsx(At,{children:s.jsx(kt,{children:"Recent Orders"})}),s.jsx(De,{children:s.jsx(S2,{})})]})]}),s.jsxs(Cr,{value:"products",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[s.jsx("div",{className:"xl:col-span-4 space-y-6",children:s.jsx("div",{className:"xl:sticky xl:top-6",children:s.jsx(qj,{ref:u,onSuccess:p,onCropImage:g})})}),s.jsx("div",{className:"xl:col-span-8",children:s.jsx(Wbe,{onEditProduct:f})})]}),s.jsx(yi,{open:i,onOpenChange:o,children:s.jsxs(ri,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(xi,{children:[s.jsx(bi,{children:"Edit Product"}),s.jsx(Hm,{children:"Update existing product details, adjust pricing, and manage media assets."})]}),n&&s.jsx(qj,{ref:d,mode:"edit",product:n,onSuccess:p,onCancel:h,onCropImage:g})]})})]}),s.jsx(Cr,{value:"orders",className:"space-y-6",children:s.jsxs(Me,{children:[s.jsx(At,{className:"border-b bg-muted/40",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(kt,{children:"Order Management"})})}),s.jsx(De,{className:"p-6",children:s.jsxs(bo,{defaultValue:"active",className:"w-full",children:[s.jsxs(wo,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Pr,{value:"active",children:"Active Orders"}),s.jsx(Pr,{value:"archived",children:"Archived Orders"})]}),s.jsx(Cr,{value:"active",className:"mt-0",children:s.jsx(S2,{showActions:!0,showArchived:!1})}),s.jsx(Cr,{value:"archived",className:"mt-0",children:s.jsx(S2,{showActions:!0,showArchived:!0})})]})})]})}),s.jsx(Cr,{value:"reviews",children:s.jsx(e1e,{})}),s.jsx(Cr,{value:"analytics",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Gye,{}),s.jsx(Vye,{})]})}),s.jsx(Cr,{value:"content",children:s.jsx(i1e,{})}),s.jsx(Cr,{value:"messages",children:s.jsx(Me,{className:"h-[600px] lg:h-[calc(100vh-280px)] min-h-[500px] overflow-hidden",children:s.jsx(De,{className:"p-0 h-full",children:s.jsx(o1e,{})})})}),s.jsx(Cr,{value:"settings",children:s.jsx(CF,{})})]}),s.jsx(gl,{}),s.jsx(C1e,{src:(l==null?void 0:l.src)||null,onClose:()=>c(null),onCropComplete:m,history:l==null?void 0:l.history})]})}function MF({...t}){return s.jsx(v_,{"data-slot":"sheet",...t})}const dS=N.forwardRef(({...t},e)=>s.jsx(Nv,{"data-slot":"sheet-trigger",ref:e,...t}));dS.displayName=Nv.displayName;function E1e({...t}){return s.jsx(y_,{"data-slot":"sheet-portal",...t})}function T1e({className:t,...e}){return s.jsx(Sv,{"data-slot":"sheet-overlay",className:Ze("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function DF({className:t,children:e,side:r="right",...n}){return s.jsxs(E1e,{children:[s.jsx(T1e,{}),s.jsxs(Av,{"data-slot":"sheet-content",className:Ze("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,s.jsxs(kv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(ws,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const sI=[{id:"about",title:"About Us",description:"Learn about Rosmama Clothing",icon:fv,category:"Company"},{id:"privacy",title:"Privacy Policy",description:"How we protect your data",icon:so,category:"Legal"},{id:"terms",title:"Terms of Service",description:"Our terms and conditions",icon:bs,category:"Legal"},{id:"shipping",title:"Shipping Policy",description:"Delivery information",icon:Yu,category:"Policies"},{id:"returns",title:"Return Policy",description:"Returns and exchanges",icon:Ja,category:"Policies"},{id:"help",title:"Help Center",description:"FAQ and support",icon:Vj,category:"Support"},{id:"contact",title:"Contact Us",description:"Get in touch",icon:Xj,category:"Support"}];function I1e({children:t,title:e,description:r,onBack:n,onNavigate:a}){const[i,o]=N.useState(!1),l=Array.from(new Set(sI.map(u=>u.category))),c=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center pb-4 border-b",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Information Center"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Everything you need to know about Rosmama"})]}),l.map(u=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:u}),s.jsx("div",{className:"space-y-1",children:sI.filter(d=>d.category===u).map(d=>{const f=d.icon;return s.jsxs(ye,{variant:"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{a==null||a(d.id),o(!1)},children:[s.jsx(f,{className:"h-4 w-4 mr-3 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium",children:d.title}),s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.description})]})]},d.id)})})]},u))]});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ye,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20",children:s.jsx(Hj,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-bold",children:e}),r&&s.jsx("p",{className:"text-sm text-white/80 mt-1",children:r})]}),s.jsxs(MF,{open:i,onOpenChange:o,children:[s.jsx(dS,{asChild:!0,children:s.jsx(ye,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",children:s.jsx(qI,{className:"h-5 w-5"})})}),s.jsx(DF,{side:"right",className:"w-80",children:s.jsx(c,{})})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:s.jsx("div",{className:"sticky top-24 bg-card border rounded-lg p-4",children:s.jsx(c,{})})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-card border rounded-lg p-6",children:t})})]})})]})}function $F({pageType:t,defaultContent:e=[],className:r="",onRetry:n}){const{getPageContent:a,state:i,subscribeToPageContent:o,unsubscribeFromPageContent:l}=EF(),[c,u]=N.useState(null),[d,f]=N.useState(!0),[p,h]=N.useState(null),[g,m]=N.useState(!1),v=N.useRef(!1);N.useEffect(()=>(x(),v.current||(o(t),v.current=!0),()=>{v.current&&(l(t),v.current=!1)}),[t]),N.useEffect(()=>{const j=i.contentCache[t];if(j&&j!==c&&(u(j),c!==null)){m(!0);const S=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(S)}},[i.contentCache,t,c]);const x=N.useCallback(async()=>{try{f(!0),h(null);const j=await a(t);u(j)}catch(j){h(j instanceof Error?j.message:"Failed to load content")}finally{f(!1)}},[t,a]),_=()=>{n?n():x()};if(d&&!c)return s.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx(fi,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-rose-500"}),s.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})});if(p&&!c&&e.length===0)return s.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(pc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Content"}),s.jsx("p",{className:"text-gray-600 mb-4",children:p}),s.jsx(ye,{onClick:_,variant:"outline",children:"Try Again"})]})});const w=(c==null?void 0:c.sections)||e;return w.length===0?s.jsx("div",{className:`text-center py-12 ${r}`,children:s.jsx("p",{className:"text-gray-500",children:"No content available for this page."})}):s.jsxs("div",{className:`space-y-8 ${r}`,children:[g&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-in slide-in-from-top-2 duration-300",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Content updated! You're viewing the latest version."}),s.jsx(lc,{className:"h-4 w-4 text-green-600 ml-auto animate-spin"})]})}),p&&c&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pc,{className:"h-5 w-5 text-amber-600 mr-2"}),s.jsxs("p",{className:"text-amber-800 text-sm",children:["Content may be outdated. ",p]}),s.jsx(ye,{onClick:_,variant:"ghost",size:"sm",className:"ml-auto text-amber-700 hover:text-amber-900",children:"Refresh"})]})}),w.map((j,S)=>s.jsx(R1e,{section:j},j.id||S))]})}function R1e({section:t}){return s.jsxs("section",{className:"space-y-4",children:[t.title&&s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t.title}),t.content&&s.jsx("div",{className:`prose prose-gray max-w-none\r
            prose-headings:text-gray-900 \r
            prose-p:text-gray-700 prose-p:leading-relaxed\r
            prose-ul:text-gray-700 prose-ol:text-gray-700\r
            prose-li:mb-1\r
            prose-strong:text-gray-900\r
            prose-a:text-rose-600 prose-a:no-underline hover:prose-a:underline`,dangerouslySetInnerHTML:{__html:t.content}})]})}const L1e=[{id:"hero-section",title:"Welcome to Rosmama Clothing",content:`
      <p class="text-xl text-gray-600 mb-6">Where fashion meets passion, and style tells your story.</p>
      
      <p>Rosmama Clothing was born from a simple belief: every woman deserves to feel confident, beautiful, and empowered through fashion. Founded in South Africa, we've grown from a small boutique dream into a trusted destination for women who appreciate quality, style, and authentic craftsmanship.</p>
    `},{id:"our-story",title:"Our Story",content:`
      <p>What started as a passion project in 2015 has blossomed into a movement celebrating women of all ages, sizes, and styles. Our founder, Rosemary, noticed a gap in the market for fashion that was both accessible and aspirational  clothing that made women feel amazing without breaking the bank.</p>
      
      <p>From our headquarters in Midrand, Johannesburg, we carefully curate and design pieces that celebrate the modern African woman. Each piece in our collection is selected or created with intention, ensuring it meets our high standards for quality, comfort, and style.</p>
    `},{id:"our-mission",title:"Our Mission",content:`
      <p>To empower women through fashion by providing:</p>
      
      <ul>
        <li><strong>Quality Pieces:</strong> Carefully selected fabrics and construction that last</li>
        <li><strong>Inclusive Sizing:</strong> Fashion for every body type and size</li>
        <li><strong>Accessible Luxury:</strong> High-end looks at reasonable prices</li>
        <li><strong>Sustainable Practices:</strong> Ethical sourcing and environmental responsibility</li>
        <li><strong>Personal Style:</strong> Pieces that help you express your unique personality</li>
      </ul>
    `},{id:"our-values",title:"Our Values",content:`
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="p-6 bg-rose-50 rounded-lg">
          <h4 class="font-semibold text-rose-800 mb-2">Quality First</h4>
          <p class="text-gray-700">We believe in investing in pieces that will love you back. Every item undergoes rigorous quality checks.</p>
        </div>
        
        <div class="p-6 bg-pink-50 rounded-lg">
          <h4 class="font-semibold text-pink-800 mb-2">Customer-Centric</h4>
          <p class="text-gray-700">Your satisfaction drives everything we do. From design to delivery, you're at the heart of our decisions.</p>
        </div>
        
        <div class="p-6 bg-purple-50 rounded-lg">
          <h4 class="font-semibold text-purple-800 mb-2">Sustainable Fashion</h4>
          <p class="text-gray-700">We're committed to reducing our environmental impact through responsible sourcing and packaging.</p>
        </div>
        
        <div class="p-6 bg-blue-50 rounded-lg">
          <h4 class="font-semibold text-blue-800 mb-2">Authentic Style</h4>
          <p class="text-gray-700">Fashion should reflect who you are, not who you think you should be. We celebrate individuality.</p>
        </div>
      </div>
    `},{id:"our-team",title:"Meet Our Team",content:`
      <p class="mb-8">Behind every great fashion brand is a passionate team of dreamers, creators, and style enthusiasts.</p>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Rosemary Oku" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Rosemary Oku</h4>
          <p class="text-rose-600 font-medium">Founder & CEO</p>
          <p class="text-gray-600 text-sm mt-2">Fashion visionary with 15+ years in luxury retail, bringing dreams to life through sustainable fashion.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="James Chen" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">James Chen</h4>
          <p class="text-rose-600 font-medium">Creative Director</p>
          <p class="text-gray-600 text-sm mt-2">Award-winning designer from Milan Fashion Week, creating pieces that blend elegance with everyday wearability.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Sarah Johnson" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Sarah Johnson</h4>
          <p class="text-rose-600 font-medium">Head of Sustainability</p>
          <p class="text-gray-600 text-sm mt-2">Environmental advocate ensuring our fashion choices contribute to a better world for future generations.</p>
        </div>
      </div>
    `},{id:"our-stats",title:"Our Impact",content:`
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">50K+</div>
          <div class="text-gray-600">Happy Customers</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">25+</div>
          <div class="text-gray-600">Countries Served</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">10+</div>
          <div class="text-gray-600">Years of Excellence</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">4.9</div>
          <div class="text-gray-600">Customer Rating</div>
        </div>
      </div>
    `},{id:"contact-info",title:"Get in Touch",content:`
      <p class="mb-6">We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share your feedback, we're here to help.</p>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Email Us</h5>
            <p class="text-gray-600 text-sm">hello@rosemamaclothing.store</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Call Us</h5>
            <p class="text-gray-600 text-sm">+27 73 551 4705</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Visit Us</h5>
            <p class="text-gray-600 text-sm">New Road, Midrand<br>Johannesburg, South Africa</p>
          </div>
        </div>
      </div>
    `}];function oI({onNavigate:t}){return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx($F,{pageType:"about",defaultContent:L1e,className:"space-y-12"})})}const M1e=[{id:"introduction",title:"Introduction and POPIA Compliance",content:`
      <p>Rosmama Clothing is committed to protecting your privacy and personal information in accordance with the Protection of Personal Information Act (POPIA), Act 4 of 2013, and other applicable South African privacy laws.</p>
      
      <p><strong>Responsible Party:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 73 551 4705</p>
      
      <p>This policy explains how we collect, use, store, and protect your personal information when you visit our website or use our services. <em>Last updated: September 12, 2025</em></p>
    `},{id:"information-collection",title:"Information We Collect",content:`
      <p>We collect personal information necessary to provide our services. This includes information you provide directly and information collected automatically.</p>
      
      <h4>Personal Information includes:</h4>
      <ul>
        <li><strong>Identity Information:</strong> Name, surname, ID number (when required)</li>
        <li><strong>Contact Information:</strong> Email address, phone number, postal address</li>
        <li><strong>Financial Information:</strong> Payment details, billing address</li>
        <li><strong>Account Information:</strong> Username, password, purchase history</li>
        <li><strong>Communication Records:</strong> Customer service interactions, feedback</li>
        <li><strong>Technical Information:</strong> IP address, browser type, device information</li>
      </ul>
      
      <h4>Lawful Basis for Processing:</h4>
      <p>We process your personal information based on:</p>
      <ul>
        <li>Contractual necessity (to fulfill orders and provide services)</li>
        <li>Legal compliance (tax records, fraud prevention)</li>
        <li>Legitimate interests (improving services, security)</li>
        <li>Consent (marketing communications, optional features)</li>
      </ul>
    `},{id:"information-use",title:"How We Use Your Information",content:`
      <p>Your personal information is used to provide and improve our services:</p>
      
      <ul>
        <li><strong>Order Processing:</strong> To process and fulfill your orders</li>
        <li><strong>Customer Service:</strong> To respond to inquiries and provide support</li>
        <li><strong>Account Management:</strong> To maintain your account and preferences</li>
        <li><strong>Payment Processing:</strong> To process payments securely</li>
        <li><strong>Marketing Communications:</strong> To send newsletters and promotions (with consent)</li>
        <li><strong>Website Improvement:</strong> To analyze usage and enhance user experience</li>
        <li><strong>Legal Compliance:</strong> To comply with tax, accounting, and legal requirements</li>
        <li><strong>Fraud Prevention:</strong> To protect against fraudulent activities</li>
      </ul>
    `},{id:"information-sharing",title:"Information Sharing and Disclosure",content:`
      <p>We do not sell your personal information to third parties. We may share information with:</p>
      
      <ul>
        <li><strong>Service Providers:</strong> Payment processors, shipping companies, email service providers</li>
        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights</li>
        <li><strong>Business Transfers:</strong> In the event of a merger or acquisition</li>
        <li><strong>Consent-Based Sharing:</strong> When you explicitly consent to sharing</li>
      </ul>
      
      <p>All third-party service providers are contractually bound to protect your information and use it only for specified purposes.</p>
    `},{id:"data-security",title:"Data Security and Retention",content:`
      <p>We implement appropriate technical and organizational measures to protect your personal information:</p>
      
      <ul>
        <li><strong>Encryption:</strong> Data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Limited access on a need-to-know basis</li>
        <li><strong>Regular Audits:</strong> Security assessments and monitoring</li>
        <li><strong>Staff Training:</strong> Regular privacy and security training</li>
      </ul>
      
      <h4>Data Retention:</h4>
      <p>We retain personal information for as long as necessary to:</p>
      <ul>
        <li>Fulfill the purposes for which it was collected</li>
        <li>Comply with legal obligations (e.g., tax records for 5 years)</li>
        <li>Resolve disputes and enforce agreements</li>
      </ul>
    `},{id:"your-rights",title:"Your Rights Under POPIA",content:`
      <p>Under the Protection of Personal Information Act, you have the right to:</p>
      
      <ul>
        <li><strong>Access:</strong> Request copies of your personal information</li>
        <li><strong>Correction:</strong> Update or correct inaccurate information</li>
        <li><strong>Deletion:</strong> Request deletion of your personal information</li>
        <li><strong>Objection:</strong> Object to processing for direct marketing</li>
        <li><strong>Data Portability:</strong> Receive your data in a structured format</li>
        <li><strong>Withdraw Consent:</strong> Withdraw consent for processing</li>
      </ul>
      
      <p>To exercise these rights, contact us at <strong>hello@rosemamaclothing.store</strong> or <strong>+27 73 551 4705</strong>.</p>
      
      <p>We will respond to your request within 30 days. If you're not satisfied with our response, you can lodge a complaint with the Information Regulator of South Africa.</p>
    `},{id:"cookies-tracking",title:"Cookies and Tracking Technologies",content:`
      <p>We use cookies and similar technologies to enhance your browsing experience:</p>
      
      <ul>
        <li><strong>Essential Cookies:</strong> Required for website functionality</li>
        <li><strong>Performance Cookies:</strong> Help us analyze website usage</li>
        <li><strong>Functional Cookies:</strong> Remember your preferences</li>
        <li><strong>Marketing Cookies:</strong> Deliver relevant advertisements (with consent)</li>
      </ul>
      
      <p>You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect website functionality.</p>
    `},{id:"international-transfers",title:"International Data Transfers",content:`
      <p>Some of our service providers may be located outside South Africa. When we transfer personal information internationally, we ensure:</p>
      
      <ul>
        <li>The receiving country has adequate data protection laws, or</li>
        <li>Appropriate safeguards are in place (e.g., standard contractual clauses)</li>
        <li>We have obtained your explicit consent for the transfer</li>
      </ul>
    `},{id:"children-privacy",title:"Children's Privacy",content:`
      <p>Our services are not intended for children under 18 years old. We do not knowingly collect personal information from children without parental consent.</p>
      
      <p>If you believe we have collected information from a child without proper consent, please contact us immediately.</p>
    `},{id:"policy-updates",title:"Policy Updates",content:`
      <p>We may update this privacy policy from time to time to reflect changes in our practices or legal requirements. We will:</p>
      
      <ul>
        <li>Post the updated policy on our website</li>
        <li>Update the "last updated" date</li>
        <li>Notify you of material changes via email or website notice</li>
      </ul>
      
      <p>Your continued use of our services after policy updates constitutes acceptance of the changes.</p>
    `},{id:"contact-information",title:"Contact Information",content:`
      <p>For any privacy-related questions, concerns, or requests, please contact us:</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mt-4">
        <h5 class="font-semibold mb-3">Rosmama Clothing - Privacy Office</h5>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 73 551 4705</p>
          </div>
          <div>
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
          </div>
        </div>
        
        <p class="mt-4 text-sm text-gray-600">
          <strong>Information Regulator:</strong> If you're not satisfied with our response to your privacy request, 
          you can contact the Information Regulator of South Africa at <em>inforeg@justice.gov.za</em>
        </p>
      </div>
    `}],D1e=[{id:"introduction",title:"Introduction",content:`
      <p>Welcome to Rosmama Clothing. These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our services, you agree to be bound by these Terms.</p>
      
      <p><em>Last updated: September 12, 2025</em></p>
      
      <p><strong>Company Information:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 73 551 4705</p>
    `},{id:"acceptance-terms",title:"Acceptance of Terms",content:`
      <p>By accessing our website, creating an account, or making a purchase, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.</p>
      
      <p>If you do not agree with these Terms, please do not use our services.</p>
    `},{id:"use-of-services",title:"Use of Our Services",content:`
      <h4>Permitted Use</h4>
      <p>You may use our services for lawful purposes only. You agree not to:</p>
      
      <ul>
        <li>Violate any applicable laws or regulations</li>
        <li>Infringe on intellectual property rights</li>
        <li>Transmit harmful or malicious code</li>
        <li>Engage in fraudulent activities</li>
        <li>Harass other users or our staff</li>
        <li>Attempt to gain unauthorized access to our systems</li>
      </ul>
      
      <h4>Account Responsibility</h4>
      <p>You are responsible for:</p>
      <ul>
        <li>Maintaining the confidentiality of your account credentials</li>
        <li>All activities under your account</li>
        <li>Providing accurate and current information</li>
        <li>Notifying us immediately of any unauthorized use</li>
      </ul>
    `}],$1e=[{id:"shipping-overview",title:"Shipping Information",content:`
      <p>We're committed to getting your Rosmama pieces to you quickly and safely. Here's everything you need to know about our shipping policies.</p>
    `},{id:"shipping-areas",title:"Shipping Areas",content:`
      <p>We currently ship to:</p>
      
      <ul>
        <li><strong>South Africa:</strong> Nationwide delivery available</li>
        <li><strong>International:</strong> Selected countries (contact us for availability)</li>
      </ul>
      
      <p>Shipping costs and delivery times vary by location and order value.</p>
    `},{id:"delivery-times",title:"Delivery Times",content:`
      <h4>South Africa</h4>
      <ul>
        <li><strong>Major Cities:</strong> 2-3 business days</li>
        <li><strong>Other Areas:</strong> 3-5 business days</li>
        <li><strong>Rural Areas:</strong> 5-7 business days</li>
      </ul>
      
      <h4>International</h4>
      <ul>
        <li><strong>Regional:</strong> 5-10 business days</li>
        <li><strong>Global:</strong> 10-15 business days</li>
      </ul>
      
      <p><em>Delivery times are estimates and may vary during peak seasons or due to unforeseen circumstances.</em></p>
    `}],F1e=[{id:"returns-overview",title:"Returns & Exchanges",content:`
      <p>We want you to love your Rosmama pieces. If you're not completely satisfied, we offer a hassle-free return and exchange policy.</p>
    `},{id:"return-policy",title:"Return Policy",content:`
      <ul>
        <li><strong>Timeframe:</strong> 30 days from delivery date</li>
        <li><strong>Condition:</strong> Items must be unworn, unwashed, and with original tags</li>
        <li><strong>Packaging:</strong> Original packaging preferred but not required</li>
        <li><strong>Proof of Purchase:</strong> Order number or receipt required</li>
      </ul>
      
      <h4>Non-Returnable Items</h4>
      <ul>
        <li>Intimate apparel and swimwear</li>
        <li>Sale items marked as final sale</li>
        <li>Custom or personalized items</li>
        <li>Items damaged by normal wear</li>
      </ul>
    `}],B1e=[{id:"help-overview",title:"Help Center",content:`
      <p>Need assistance? We're here to help! Find answers to common questions or contact our support team.</p>
    `},{id:"faq",title:"Frequently Asked Questions",content:`
      <h4>Ordering</h4>
      <p><strong>Q: How do I place an order?</strong><br>
      A: Browse our catalog, add items to cart, and proceed to checkout. Create an account or checkout as a guest.</p>
      
      <p><strong>Q: Can I modify my order after placing it?</strong><br>
      A: Contact us within 2 hours of placing your order. We'll do our best to accommodate changes.</p>
      
      <h4>Sizing</h4>
      <p><strong>Q: How do I find my size?</strong><br>
      A: Check our detailed size guide available on each product page. When in doubt, contact us for personalized sizing advice.</p>
      
      <h4>Payment</h4>
      <p><strong>Q: What payment methods do you accept?</strong><br>
      A: We accept all major credit cards, EFT, and mobile payments.</p>
    `}],q1e=[{id:"contact-overview",title:"Get in Touch",content:`
      <p>We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share feedback, our team is here to help.</p>
    `},{id:"contact-methods",title:"Contact Information",content:`
      <div class="grid md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h4 class="font-semibold">Customer Service</h4>
          <div class="space-y-2">
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 73 551 4705</p>
            <p><strong>Hours:</strong> Monday - Friday, 9AM - 5PM (SAST)</p>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold">Visit Our Store</h4>
          <div class="space-y-2">
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
            <p><strong>Store Hours:</strong> By appointment only</p>
          </div>
        </div>
      </div>
    `},{id:"response-times",title:"Response Times",content:`
      <ul>
        <li><strong>Email:</strong> We respond within 24 hours</li>
        <li><strong>Phone:</strong> Immediate assistance during business hours</li>
        <li><strong>Social Media:</strong> Follow us for updates and quick responses</li>
      </ul>
    `}],U1e={privacy:{content:M1e,pageType:"privacy"},terms:{content:D1e,pageType:"terms"},shipping:{content:$1e,pageType:"shipping"},returns:{content:F1e,pageType:"returns"},help:{content:B1e,pageType:"help"},contact:{content:q1e,pageType:"contact"}};function Nu({type:t}){const{content:e,pageType:r}=U1e[t];return s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx($F,{pageType:r,defaultContent:e,className:"space-y-8"})})}function z1e({onBack:t,initialPage:e="about"}){const[r,n]=N.useState(e),a=c=>{n(c)},i=()=>{switch(r){case"about":return"About Us";case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"shipping":return"Shipping Policy";case"returns":return"Return Policy";case"help":return"Help Center";case"contact":return"Contact Us";default:return"Information Center"}},o=()=>{switch(r){case"about":return"Learn about our story, values, and team";case"privacy":return"How we protect and use your personal information";case"terms":return"Terms and conditions for using our services";case"shipping":return"Shipping methods, costs, and delivery information";case"returns":return"Return and exchange policies and procedures";case"help":return"Frequently asked questions and support resources";case"contact":return"Get in touch with our customer service team";default:return"Your one-stop destination for helpful information"}},l=()=>{switch(r){case"about":return s.jsx(oI,{onNavigate:a});case"privacy":return s.jsx(Nu,{type:"privacy"});case"terms":return s.jsx(Nu,{type:"terms"});case"shipping":return s.jsx(Nu,{type:"shipping"});case"returns":return s.jsx(Nu,{type:"returns"});case"help":return s.jsx(Nu,{type:"help"});case"contact":return s.jsx(Nu,{type:"contact"});default:return s.jsx(oI,{onNavigate:a})}};return s.jsx(I1e,{title:i(),description:o(),onBack:t,onNavigate:a,children:l()})}function fS({isOpen:t,onClose:e,initialSubject:r}){const{user:n}=$n(),[a,i]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState(!1),d=N.useRef(null),f=N.useRef(null),{loading:p,getOrCreateConversation:h}=TF((n==null?void 0:n.id)||"",!1),{messages:g,loading:m,sendMessage:v,markAsRead:x}=IF(a);N.useEffect(()=>{const j=S=>{S.key==="Escape"&&t&&e()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[t,e]),N.useEffect(()=>{var j;(j=d.current)==null||j.scrollIntoView({behavior:"smooth"})},[g]),N.useEffect(()=>{a&&(n!=null&&n.id)&&g.length>0&&x(n.id)},[a,n==null?void 0:n.id,g.length,x]),N.useEffect(()=>{t&&(n!=null&&n.id)&&!a&&_()},[t,n==null?void 0:n.id,a]);const _=async()=>{if(n!=null&&n.id){u(!0);try{const j=await h(r||"General Inquiry");j&&i(j.id)}catch(j){console.error("Error initializing chat:",j)}finally{u(!1)}}},w=async j=>{if(j.preventDefault(),!o.trim()||!a||!(n!=null&&n.id))return;const S=o.trim();l("");try{await v(n.id,S)}catch(A){console.error("Error sending message:",A),l(S)}};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e,"aria-hidden":"true"}),s.jsx("div",{ref:f,className:"modal-floating",role:"dialog","aria-label":"Customer support chat","aria-modal":"true","aria-labelledby":"chat-support-title",children:s.jsxs("div",{className:"card-base text-neutral-900 dark:text-neutral-100",children:[s.jsxs("div",{id:"chat-support-title",className:"flex items-center justify-between px-4 py-3 bg-neutral-900 text-white sm:rounded-t-2xl border-b border-neutral-800 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-neutral-800",children:s.jsx(mi,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Chat Support"}),s.jsxs("div",{className:"flex items-center gap-1","aria-live":"polite",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse","aria-hidden":!0}),s.jsx("p",{className:"text-[11px] text-neutral-300",children:"Online"})]})]})]}),s.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-800/60 transition-colors","aria-label":"Close chat",children:s.jsx(ws,{className:"h-4 w-4 text-neutral-200"})})]}),c&&s.jsx("div",{className:"px-4 py-2 bg-blue-50 border-b border-blue-100 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),s.jsx("span",{className:"text-xs",children:"Connecting..."})]})}),s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 py-3 bg-gradient-to-br from-neutral-100 via-neutral-50 to-purple-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-800",children:[p||m?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-neutral-900 dark:border-neutral-100 mx-auto mb-2"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"Loading chat..."})]})}):g.length===0?s.jsxs("div",{className:"text-center mt-6",children:[s.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:s.jsx(mi,{className:"h-6 w-6 text-neutral-600 dark:text-neutral-300"})}),s.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100 mb-1",children:"Welcome to Rosmama!"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"How can we help you today?"})]}):g.map(j=>s.jsx(W1e,{content:j.content,isOwnMessage:j.sender_id===(n==null?void 0:n.id),timestamp:j.created_at,isRead:j.is_read},j.id)),s.jsx("div",{ref:d})]}),s.jsx("div",{className:"px-4 py-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex-shrink-0",children:s.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[s.jsx("input",{type:"text",value:o,onChange:j=>l(j.target.value),placeholder:"Type a message...",className:"flex-1 min-w-0 px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-700 rounded-full focus:outline-none focus:ring-2 focus:ring-neutral-900 dark:focus:ring-neutral-100 focus:border-transparent bg-neutral-50 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500",disabled:!a||c,"aria-label":"Type your message"}),s.jsx("button",{type:"submit",disabled:!o.trim()||!a||c,className:"p-2 rounded-full bg-neutral-900 text-white hover:opacity-90 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0","aria-label":"Send message",children:s.jsx(WI,{className:"h-4 w-4"})})]})})]})})]}):null}function W1e({content:t,isOwnMessage:e,timestamp:r,isRead:n}){return s.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-2`,children:s.jsxs("div",{className:`max-w-[85%] ${e?"order-last":"order-first"}`,children:[s.jsx("div",{className:e?"px-3 py-2 rounded-2xl shadow-sm bg-neutral-900 text-white border border-neutral-800 rounded-br-md":"px-3 py-2 rounded-2xl shadow-sm bg-white/70 backdrop-blur-sm text-neutral-900 dark:bg-neutral-800/90 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700 rounded-bl-md",children:s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:t})}),s.jsxs("div",{className:`flex items-center gap-1 mt-1 text-[11px] ${e?"justify-end text-neutral-500 dark:text-neutral-400":"justify-start text-neutral-500 dark:text-neutral-400"}`,children:[s.jsx("span",{children:new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e&&s.jsx("span",{className:`${n?"text-green-500":"text-neutral-400 dark:text-neutral-600"} ml-1`,children:n?"":""})]})]})})}function H1e({className:t="",showLabel:e=!1}){const{user:r}=$n(),[n,a]=N.useState(!1),{unreadCount:i,loading:o}=RF((r==null?void 0:r.id)||null),l=()=>{a(!0)},c=()=>{a(!1)};return r?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:l,className:`relative flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors ${t}`,"aria-label":"Open chat support",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(mi,{className:"h-6 w-6 text-gray-600 group-hover:text-rose-500 transition-colors"}),!o&&i>0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-pulse",children:i>99?"99+":i}),o&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-gray-300 rounded-full h-3 w-3 animate-pulse"})]}),e&&s.jsx("span",{className:"text-sm text-gray-600 group-hover:text-rose-500 transition-colors",children:"Support"})]}),s.jsx(fS,{isOpen:n,onClose:c,initialSubject:"Support Request"})]}):null}function k2({text:t="Chat with us",className:e="",variant:r="primary",subject:n="Contact Inquiry"}){const{user:a}=$n(),[i,o]=N.useState(!1),l=()=>{o(!0)},c=()=>{o(!1)},u="flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",d={primary:"bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:from-rose-600 hover:to-pink-700 hover:shadow-xl",secondary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:from-blue-600 hover:to-purple-700 hover:shadow-xl",outline:"border-2 border-rose-500 text-rose-500 hover:bg-rose-500 hover:text-white"};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:l,className:`${u} ${d[r]} ${e}`,"aria-label":"Start chat conversation",children:[s.jsx(mi,{className:"h-5 w-5"}),s.jsx("span",{children:t})]}),s.jsx(fS,{isOpen:i,onClose:c,initialSubject:n})]})}function G1e(){const{user:t}=$n(),[e,r]=N.useState(!1),{unreadCount:n,loading:a}=RF((t==null?void 0:t.id)||null);return t?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-rose-500 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-300 transform hover:scale-110 z-40","aria-label":"Open chat support",children:s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"h-6 w-6"}),!a&&n>0&&s.jsx("div",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-bounce",children:n>99?"99+":n})]})}),s.jsx(fS,{isOpen:e,onClose:()=>r(!1),initialSubject:"Support Request"})]}):null}function V1e({onInfoClick:t}){const e=r=>{t&&t(r)};return s.jsx("footer",{className:"bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-white mt-auto",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(go,{className:"h-6 w-6 text-rose-400"}),s.jsx("h3",{className:"text-xl font-bold",children:"Rosmama"})]}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:"Fashion that inspires, quality that endures. Creating beautiful pieces for the modern woman since 2014."}),s.jsxs("div",{className:"flex gap-4 pt-2",children:[s.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),s.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.747-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})}),s.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("li",{children:s.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"New Arrivals"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Women"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Men"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Sale"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Size Guide"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Information"}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>e("about"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[s.jsx(go,{className:"h-3 w-3"}),"About Us"]})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("shipping"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Shipping & Returns"})}),s.jsx("li",{children:s.jsx(k2,{text:"Live Chat Support",variant:"outline",className:"text-sm py-2 px-3 border-slate-400 dark:border-slate-400 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white hover:border-slate-600 dark:hover:border-white",subject:"FAQ & Support Inquiry"})}),s.jsx("li",{children:s.jsx(k2,{text:"Contact Us",variant:"primary",className:"text-sm py-2 px-3",subject:"General Contact Inquiry"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Legal"}),s.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("li",{children:s.jsxs("button",{onClick:()=>e("privacy"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[s.jsx(so,{className:"h-3 w-3"}),"Privacy Policy"]})}),s.jsx("li",{children:s.jsxs("button",{onClick:()=>e("terms"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[s.jsx(bs,{className:"h-3 w-3"}),"Terms of Service"]})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>e("returns"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Return Policy"})})]}),s.jsxs("div",{className:"pt-4",children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Customer Reviews"}),s.jsx(e_,{widgetType:"trustbox",height:"120px",className:"w-full"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Contact"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx(th,{className:"h-4 w-4"}),"hello@rosemamaclothing.store"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx(Xj,{className:"h-4 w-4"}),"+27 73 551 4705"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx(Yj,{className:"h-4 w-4"}),"Midrand, South Africa"]})]})]})]}),s.jsxs("div",{className:"border-t border-slate-300 dark:border-slate-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:" 2024 Rosmama Clothing. All rights reserved."}),s.jsxs("div",{className:"flex gap-6 text-xs text-slate-500 dark:text-slate-400",children:[s.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Privacy"}),s.jsx("button",{onClick:()=>e("terms"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Terms"}),s.jsx(k2,{text:"Support",variant:"outline",className:"text-xs py-1 px-2 border-slate-400 dark:border-slate-400 text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white hover:border-slate-600 dark:hover:border-white",subject:"Footer Support Request"})]})]})]})})}const K1e=()=>{const[t,e]=N.useState([]);return{cart:t,addToCart:(c,u,d,f)=>{e(p=>p.find(g=>g.productId===c.id&&g.size===u&&g.color===d)?p.map(g=>g.productId===c.id&&g.size===u&&g.color===d?{...g,quantity:g.quantity+f}:g):[...p,{productId:c.id,product:c,size:u,color:d,quantity:f}])},removeFromCart:(c,u,d)=>{e(f=>f.filter(p=>!(p.productId===c&&p.size===u&&p.color===d)))},updateCartQuantity:(c,u,d,f)=>{e(p=>f<=0?p.filter(h=>!(h.productId===c&&h.size===u&&h.color===d)):p.map(h=>h.productId===c&&h.size===u&&h.color===d?{...h,quantity:f}:h))},clearCart:()=>{e([])},getTotalItems:()=>t.reduce((c,u)=>c+u.quantity,0),getTotalPrice:()=>t.reduce((c,u)=>c+u.product.price*u.quantity,0)}},FF=N.createContext(void 0),Y1e=({children:t})=>{const[e,r]=N.useState("light");N.useEffect(()=>{const a=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,o=a||(i?"dark":"light");r(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const n=()=>{const a=e==="light"?"dark":"light";r(a),document.documentElement.classList.toggle("dark",a==="dark"),localStorage.setItem("theme",a)};return s.jsx(FF.Provider,{value:{theme:e,toggleTheme:n},children:t})},X1e=()=>{const t=Y.useContext(FF);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function Z1e(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var hS="ScrollArea",[BF,g2e]=Gn(hS),[J1e,Ni]=BF(hS),qF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(null),[h,g]=N.useState(null),[m,v]=N.useState(null),[x,_]=N.useState(0),[w,j]=N.useState(0),[S,A]=N.useState(!1),[O,k]=N.useState(!1),T=Gt(e,P=>c(P)),R=Ed(a);return s.jsx(J1e,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:O,onScrollbarYEnabledChange:k,onCornerWidthChange:_,onCornerHeightChange:j,children:s.jsx(dt.div,{dir:R,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});qF.displayName=hS;var UF="ScrollAreaViewport",zF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,o=Ni(UF,r),l=N.useRef(null),c=Gt(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(dt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});zF.displayName=UF;var Ls="ScrollAreaScrollbar",WF=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ni(Ls,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return N.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Q1e,{...n,ref:e,forceMount:r}):a.type==="scroll"?s.jsx(ewe,{...n,ref:e,forceMount:r}):a.type==="auto"?s.jsx(HF,{...n,ref:e,forceMount:r}):a.type==="always"?s.jsx(pS,{...n,ref:e}):null});WF.displayName=Ls;var Q1e=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ni(Ls,t.__scopeScrollArea),[i,o]=N.useState(!1);return N.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Pa,{present:r||i,children:s.jsx(HF,{"data-state":i?"visible":"hidden",...n,ref:e})})}),ewe=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Ni(Ls,t.__scopeScrollArea),i=t.orientation==="horizontal",o=q0(()=>c("SCROLL_END"),100),[l,c]=Z1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),s.jsx(Pa,{present:r||l!=="hidden",children:s.jsx(pS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:yt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:yt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),HF=N.forwardRef((t,e)=>{const r=Ni(Ls,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=N.useState(!1),l=t.orientation==="horizontal",c=q0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Sd(r.viewport,c),Sd(r.content,c),s.jsx(Pa,{present:n||i,children:s.jsx(pS,{"data-state":i?"visible":"hidden",...a,ref:e})})}),pS=N.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=Ni(Ls,t.__scopeScrollArea),i=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=XF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return swe(p,o.current,l,h)}return r==="horizontal"?s.jsx(twe,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=lI(p,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):r==="vertical"?s.jsx(rwe,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=lI(p,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),twe=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Ni(Ls,t.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Gt(e,c,i.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(VF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":B0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),JF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ov(o.paddingLeft),paddingEnd:ov(o.paddingRight)}})}})}),rwe=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Ni(Ls,t.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Gt(e,c,i.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(VF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":B0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),JF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ov(o.paddingTop),paddingEnd:ov(o.paddingBottom)}})}})}),[nwe,GF]=BF(Ls),VF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=Ni(Ls,r),[g,m]=N.useState(null),v=Gt(e,T=>m(T)),x=N.useRef(null),_=N.useRef(""),w=h.viewport,j=n.content-n.viewport,S=ta(d),A=ta(c),O=q0(f,10);function k(T){if(x.current){const R=T.clientX-x.current.left,P=T.clientY-x.current.top;u({x:R,y:P})}}return N.useEffect(()=>{const T=R=>{const P=R.target;(g==null?void 0:g.contains(P))&&S(R,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,g,j,S]),N.useEffect(A,[n,A]),Sd(g,O),Sd(h.content,O),s.jsx(nwe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:ta(i),onThumbPointerUp:ta(o),onThumbPositionChange:A,onThumbPointerDown:ta(l),children:s.jsx(dt.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:yt(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=g.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:yt(t.onPointerMove,k),onPointerUp:yt(t.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=_.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),sv="ScrollAreaThumb",KF=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=GF(sv,t.__scopeScrollArea);return s.jsx(Pa,{present:r||a.hasThumb,children:s.jsx(awe,{ref:e,...n})})}),awe=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Ni(sv,r),o=GF(sv,r),{onThumbPositionChange:l}=o,c=Gt(e,f=>o.onThumbChange(f)),u=N.useRef(void 0),d=q0(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const h=owe(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,l]),s.jsx(dt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:yt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:yt(t.onPointerUp,o.onThumbPointerUp)})});KF.displayName=sv;var mS="ScrollAreaCorner",YF=N.forwardRef((t,e)=>{const r=Ni(mS,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(iwe,{...t,ref:e}):null});YF.displayName=mS;var iwe=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=Ni(mS,r),[i,o]=N.useState(0),[l,c]=N.useState(0),u=!!(i&&l);return Sd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Sd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(dt.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ov(t){return t?parseInt(t,10):0}function XF(t,e){const r=t/e;return isNaN(r)?0:r}function B0(t){const e=XF(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function swe(t,e,r,n="ltr"){const a=B0(r),i=a/2,o=e||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return ZF([c,u],f)(t)}function lI(t,e,r="ltr"){const n=B0(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Ij(t,c);return ZF([0,o],[0,l])(u)}function ZF(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function JF(t,e){return t>0&&t<e}var owe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&e(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function q0(t,e){const r=ta(t),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Sd(t,e){const r=ta(e);hn(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var lwe=qF,cwe=zF,uwe=YF;function dwe({className:t,children:e,...r}){return s.jsxs(lwe,{"data-slot":"scroll-area",className:Ze("relative",t),...r,children:[s.jsx(cwe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),s.jsx(fwe,{}),s.jsx(uwe,{})]})}function fwe({className:t,orientation:e="vertical",...r}){return s.jsx(WF,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Ze("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:s.jsx(KF,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}class hwe{async createNotification(e){try{return this.createNotificationFallback(e)}catch(r){return console.error("Error creating notification:",r),null}}async createNotificationFallback(e){try{const r=crypto.randomUUID(),n={id:r,user_id:e.user_id,type:e.type,category:e.category,title:e.title,message:e.message,data:e.data||{},priority:e.priority||1,action_url:e.action_url,action_text:e.action_text,expires_at:e.expires_at,created_at:new Date().toISOString(),read_at:null};try{const{error:a}=await Te.from("notifications").insert(n);return a&&(console.warn("Notifications table not available yet. Using localStorage fallback:",a.message),this.storeNotificationLocally(n)),r}catch(a){return console.warn("Database not ready, using localStorage:",a),this.storeNotificationLocally(n),r}}catch(r){return console.error("Error in fallback notification creation:",r),null}}storeNotificationLocally(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r);n.push(e),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("temp_notifications",JSON.stringify(n)),console.log("Notification stored locally (temporary):",e.title)}catch(r){console.error("Error storing notification locally:",r)}}async getUserNotifications(e,r=20,n=0,a=!1){try{const i=window.location.hostname==="localhost"||window.location.hostname.includes("localhost"),{data:o,error:l}=await Te.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);if(l)return i&&!sessionStorage.getItem("notifications_fallback_logged")&&(console.info(" Notifications: Using localStorage fallback (database table not yet created)"),sessionStorage.setItem("notifications_fallback_logged","true")),this.getNotificationsFromLocalStorage(e,r,n,a);let c=o||[];return a&&(c=c.filter(u=>!u.read_at)),c}catch{return this.getNotificationsFromLocalStorage(e,r,n,a)}}getNotificationsFromLocalStorage(e,r,n,a){try{const i=localStorage.getItem("temp_notifications")||"[]";let o=JSON.parse(i);return o=o.filter(l=>l.user_id===e),a&&(o=o.filter(l=>!l.read_at)),o.sort((l,c)=>new Date(c.created_at).getTime()-new Date(l.created_at).getTime()),o.slice(n,n+r)}catch(i){return console.error("Error getting notifications from localStorage:",i),[]}}async getUnreadCount(e){try{const{data:r,error:n}=await Te.from("notifications").select("id").eq("user_id",e).eq("read_at",null);return n?this.getNotificationsFromLocalStorage(e,1e3,0,!0).length:(r==null?void 0:r.length)||0}catch{return 0}}async markAsRead(e,r){try{const{error:n}=await Te.from("notifications").update({read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r);return n&&(console.warn("Using localStorage for mark as read:",n.message),this.markAsReadInLocalStorage(e)),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}markAsReadInLocalStorage(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r),a=n.find(i=>i.id===e);a&&(a.read_at=new Date().toISOString(),localStorage.setItem("temp_notifications",JSON.stringify(n)))}catch(r){console.error("Error marking notification as read in localStorage:",r)}}async getNotificationPreferences(e){try{const{data:r,error:n}=await Te.from("notification_preferences").select("*").eq("user_id",e).maybeSingle();return n?(console.warn("Notification preferences table not available, using defaults:",n.message),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):r||{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){return console.error("Error fetching notification preferences:",r),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}async updateNotificationPreferences(e,r){try{const{error:n}=await Te.from("notification_preferences").upsert({user_id:e,...r,updated_at:new Date().toISOString()});if(n){console.warn("Notification preferences table not available:",n.message);const a=`notification_preferences_${e}`;return localStorage.setItem(a,JSON.stringify({user_id:e,...r})),!0}return!0}catch(n){return console.error("Error updating notification preferences:",n),!1}}async sendSecurityAlert(e,r,n,a){try{return this.createNotification({user_id:e,type:"security",category:r,title:"Security Alert",message:n,priority:3,data:{alert_type:r,ip_address:a,timestamp:new Date().toISOString()}})}catch(i){return console.error("Error sending security alert:",i),null}}async sendSystemNotification(e,r,n=1,a){try{return console.log("System notification (development mode):",{title:e,message:r,priority:n}),1}catch(i){return console.error("Error sending system notification:",i),0}}subscribeToNotifications(e,r,n){const a=Te.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},i=>{console.log("New notification received:",i),r(i.new)}).subscribe(i=>{i==="SUBSCRIBED"?(window.location.hostname==="localhost"||window.location.hostname.includes("localhost"))&&!sessionStorage.getItem("notifications_subscription_logged")&&(console.log(" Notifications: Real-time subscription active for user:",e),sessionStorage.setItem("notifications_subscription_logged","true")):i==="CHANNEL_ERROR"&&n&&n(i)});return()=>{Te.removeChannel(a)}}async requestPushPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showPushNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted"&&!await this.requestPushPermission())return!1;try{const n=new Notification(e,{icon:r.icon||"/images/placeholder-product.svg",badge:r.badge||"/images/placeholder-product.svg",body:r.body,tag:r.tag,data:r.data,requireInteraction:!0,...r});return n.onclick=a=>{var i;a.preventDefault(),window.focus(),(i=r.data)!=null&&i.url&&(window.location.href=r.data.url),n.close()},!0}catch(n){return console.error("Error showing push notification:",n),!1}}async cleanupOldNotifications(){return console.log("Cleanup old notifications (development mode)"),0}}const Js=new hwe,pwe={email:fv,push:tc,system:mv,order:Wh,security:Hh},mwe={1:"bg-blue-500",2:"bg-yellow-500",3:"bg-red-500"};function gwe({className:t}){const{user:e}=$n(),[r,n]=N.useState([]),[a,i]=N.useState(0),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState("all"),[p,h]=N.useState(0),[g,m]=N.useState(!0),[v,x]=N.useState(!1),_=N.useCallback(async(P=!1)=>{if(!(!(e!=null&&e.id)||c)){u(!0);try{const I=P?0:p,M=d==="unread",D=await Js.getUserNotifications(e.id,20,I*20,M);P?(n(D),h(0)):n(G=>[...G,...D]),m(D.length===20),h(I+1)}catch(I){console.error("Error loading notifications:",I),Se.error("Failed to load notifications")}finally{u(!1)}}},[e==null?void 0:e.id,p,d,c]),w=N.useCallback(async()=>{if(e!=null&&e.id)try{const P=await Js.getUnreadCount(e.id);i(P)}catch(P){console.error("Error loading unread count:",P)}},[e==null?void 0:e.id]),j=N.useCallback(async()=>{if(e!=null&&e.id)try{const P=await Js.getNotificationPreferences(e.id);l(P)}catch(P){console.error("Error loading preferences:",P)}},[e==null?void 0:e.id]),S=async P=>{if(e!=null&&e.id)try{await Js.markAsRead(P,e.id)&&(n(M=>M.map(D=>D.id===P?{...D,read_at:new Date().toISOString()}:D)),i(M=>Math.max(0,M-1)),Se.success("Notification marked as read"))}catch(I){console.error("Error marking notification as read:",I),Se.error("Failed to mark notification as read")}},A=async()=>{if(e!=null&&e.id)try{const I=r.filter(M=>!M.read_at).map(M=>Js.markAsRead(M.id,e.id));await Promise.all(I),n(M=>M.map(D=>({...D,read_at:D.read_at||new Date().toISOString()}))),i(0),Se.success("All notifications marked as read")}catch(P){console.error("Error marking all as read:",P),Se.error("Failed to mark all notifications as read")}},O=async(P,I)=>{if(!(!(e!=null&&e.id)||!o))try{const M={...o,[P]:I};await Js.updateNotificationPreferences(e.id,{[P]:I})&&(l(M),Se.success("Notification preferences updated"))}catch(M){console.error("Error updating preferences:",M),Se.error("Failed to update preferences")}},k=async()=>{try{await Js.requestPushPermission()?(Se.success("Push notifications enabled"),O("push_notifications",!0)):(Se.error("Push notifications denied"),O("push_notifications",!1))}catch(P){console.error("Error requesting push permission:",P),Se.error("Failed to request push permission")}},T=r.filter(P=>{switch(d){case"unread":return!P.read_at;case"system":return P.type==="system";case"order":return P.type==="order";case"security":return P.type==="security";default:return!0}});N.useEffect(()=>{e!=null&&e.id&&(_(!0),w(),j())},[e==null?void 0:e.id,d]),N.useEffect(()=>e!=null&&e.id?Js.subscribeToNotifications(e.id,I=>{n(M=>[I,...M]),i(M=>M+1),o!=null&&o.push_notifications&&Js.showPushNotification(I.title,{body:I.message,tag:I.id,data:{notificationId:I.id,url:I.action_url}}),Se.info(`New notification: ${I.title}`)}):void 0,[e==null?void 0:e.id,o==null?void 0:o.push_notifications]);const R=P=>{const I=new Date(P),D=Math.floor((new Date().getTime()-I.getTime())/(1e3*60*60));return D<1?"Just now":D<24?`${D}h ago`:D<168?`${Math.floor(D/24)}d ago`:I.toLocaleDateString()};return s.jsxs(yi,{open:v,onOpenChange:x,children:[s.jsx(x_,{asChild:!0,children:s.jsxs(ye,{variant:"ghost",size:"icon",className:`relative ${t}`,children:[s.jsx(tc,{className:"h-5 w-5"}),a>0&&s.jsx(Pt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:a>99?"99+":a})]})}),s.jsxs(ri,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(xi,{children:s.jsxs(bi,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tc,{className:"h-5 w-5"}),"Notifications",a>0&&s.jsxs(Pt,{variant:"secondary",children:[a," unread"]})]}),a>0&&s.jsxs(ye,{size:"sm",variant:"outline",onClick:A,children:[s.jsx(uv,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})}),s.jsxs(bo,{defaultValue:"notifications",className:"w-full",children:[s.jsxs(wo,{className:"grid w-full grid-cols-2",children:[s.jsx(Pr,{value:"notifications",children:"Notifications"}),s.jsx(Pr,{value:"settings",children:"Settings"})]}),s.jsxs(Cr,{value:"notifications",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eh,{className:"h-4 w-4"}),s.jsxs(_a,{value:d,onValueChange:P=>f(P),children:[s.jsx(Sa,{className:"w-40",children:s.jsx(Na,{})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"all",children:"All"}),s.jsx(Xe,{value:"unread",children:"Unread"}),s.jsx(Xe,{value:"system",children:"System"}),s.jsx(Xe,{value:"order",children:"Orders"}),s.jsx(Xe,{value:"security",children:"Security"})]})]})]}),s.jsx(dwe,{className:"h-96",children:s.jsxs("div",{className:"space-y-3",children:[T.map(P=>{const I=pwe[P.type]||tc,M=!P.read_at;return s.jsx(Me,{className:`${M?"border-blue-200 bg-blue-50/50":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>M&&S(P.id),children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`p-2 rounded-full ${mwe[P.priority]} text-white`,children:s.jsx(I,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:`font-medium ${M?"text-blue-900":"text-gray-900"}`,children:P.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:R(P.created_at)}),M&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.message}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Pt,{variant:"outline",className:"text-xs",children:P.type}),s.jsx(Pt,{variant:"outline",className:"text-xs",children:P.category})]}),P.action_url&&P.action_text&&s.jsx(ye,{size:"sm",variant:"link",className:"p-0 h-auto mt-2",onClick:D=>{D.stopPropagation(),window.open(P.action_url,"_blank")},children:P.action_text})]})]})})},P.id)}),T.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(tc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No notifications found"})]}),g&&s.jsx(ye,{variant:"outline",onClick:()=>_(!1),disabled:c,className:"w-full",children:"Load More"})]})})]}),s.jsx(Cr,{value:"settings",className:"space-y-4",children:o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{className:"text-lg",children:"Notification Preferences"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),s.jsx(Cu,{checked:o.email_notifications,onCheckedChange:P=>O("email_notifications",P)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cu,{checked:o.push_notifications,onCheckedChange:P=>{P?k():O("push_notifications",!1)}}),!o.push_notifications&&s.jsx(ye,{size:"sm",variant:"outline",onClick:k,children:"Enable"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"System Alerts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications"})]}),s.jsx(Cu,{checked:o.system_alerts,onCheckedChange:P=>O("system_alerts",P)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Order Alerts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for order updates"})]}),s.jsx(Cu,{checked:o.order_alerts,onCheckedChange:P=>O("order_alerts",P)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Security Alerts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Security-related notifications"})]}),s.jsx(Cu,{checked:o.security_alerts,onCheckedChange:P=>O("security_alerts",P)})]})]})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{className:"text-lg",children:"Browser Settings"})}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Push Notification Status"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Current permission: ",typeof window<"u"&&"Notification"in window?Notification.permission:"Not supported"]})]}),s.jsx(ye,{onClick:k,variant:"outline",children:"Request Push Permission"})]})})]})]})})]})]})]})}const vwe=({onSearch:t,cartItemCount:e=0,onProfileClick:r,onInfoClick:n})=>{const[a,i]=N.useState(""),[o,l]=N.useState(!1),{theme:c,toggleTheme:u}=X1e(),{cart:d}=K1e(),{user:f}=$n(),p=(d==null?void 0:d.reduce((m,v)=>m+v.quantity,0))||e,h=N.useCallback(m=>{m.preventDefault(),t==null||t(a)},[t,a]),g=[{name:"New Arrivals",href:"#new",icon:qm,onClick:()=>{}},{name:"Women",href:"#women",icon:KI,onClick:()=>{}},{name:"Men",href:"#men",icon:Uz,onClick:()=>{}},{name:"Sale",href:"#sale",icon:HI,onClick:()=>{}},{name:"About",href:"#about",icon:fv,onClick:()=>n==null?void 0:n()}];return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("a",{href:"#",className:"text-2xl font-bold text-primary",children:["Rosemama",s.jsx("br",{}),s.jsx("span",{className:"text-xs mt-1 block",children:"CLOTHING"})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:g.map(m=>{const v=m.icon;return s.jsx("button",{onClick:m.onClick,className:"p-2 rounded-md text-foreground hover:text-primary hover:bg-muted transition-colors",title:m.name,"aria-label":m.name,children:s.jsx(v,{className:"h-5 w-5"})},m.name)})}),s.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:s.jsx("form",{onSubmit:h,className:"w-full",children:s.jsxs("div",{className:"relative",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(zt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 bg-muted/50 border-0 focus:bg-background"})]})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ye,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full hover:bg-muted","aria-label":"Toggle theme",children:c==="dark"?s.jsx(rh,{className:"h-5 w-5"}):s.jsx($m,{className:"h-5 w-5"})}),f&&s.jsx(gwe,{className:"rounded-full hover:bg-muted"}),f&&s.jsx(H1e,{className:"rounded-full hover:bg-muted"}),s.jsxs(ye,{variant:"ghost",size:"icon",className:"relative rounded-full hover:bg-muted",children:[s.jsx(Bm,{className:"h-5 w-5"}),p>0&&s.jsx(Pt,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-primary text-[10px] font-bold",children:p})]}),s.jsx(SZ,{}),s.jsx(ye,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted",onClick:r,children:s.jsx(xo,{className:"h-5 w-5"})}),s.jsxs(MF,{open:o,onOpenChange:l,children:[s.jsx(dS,{asChild:!0,children:s.jsx(ye,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted",children:s.jsx(qI,{className:"h-5 w-5"})})}),s.jsx(DF,{side:"right",className:"w-[300px] sm:w-[400px]",children:s.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[s.jsx("form",{onSubmit:h,children:s.jsxs("div",{className:"relative",children:[s.jsx(vo,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(zt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10"})]})}),s.jsx("nav",{className:"flex flex-col space-y-3",children:g.map(m=>{const v=m.icon;return s.jsxs("button",{onClick:()=>{m.onClick(),l(!1)},className:"flex items-center text-lg font-medium text-foreground hover:text-primary transition-colors py-2 text-left",children:[s.jsx(v,{className:"h-5 w-5 mr-3"}),m.name]},m.name)})}),s.jsxs("div",{className:"flex flex-col space-y-3 border-t pt-4",children:[s.jsx(ye,{variant:"ghost",className:"justify-start",onClick:u,children:c==="dark"?s.jsxs(s.Fragment,{children:[s.jsx(rh,{className:"h-4 w-4 mr-2"})," Light mode"]}):s.jsxs(s.Fragment,{children:[s.jsx($m,{className:"h-4 w-4 mr-2"})," Dark mode"]})}),s.jsxs(ye,{variant:"ghost",className:"justify-start",children:[s.jsx(xo,{className:"h-4 w-4 mr-2"}),"Account"]}),s.jsxs(ye,{variant:"ghost",className:"justify-start",children:[s.jsx(Bm,{className:"h-4 w-4 mr-2"}),"Cart (",p,")"]})]})]})})]})]})]})})})},ywe=N.memo(vwe);function xwe({currentPage:t,onPageChange:e}){const{isAdmin:r}=$n(),{items:n}=Vh(),a=n?n.reduce((o,l)=>o+l.quantity,0):0,i=[{id:"home",label:"Home",icon:FI},{id:"catalog",label:"Shop",icon:vo},{id:"cart",label:"Cart",icon:gv,badge:a},{id:"rewards",label:"Rewards",icon:LI},{id:"profile",label:"Profile",icon:xo},...r?[{id:"admin",label:"Admin",icon:mv}]:[]];return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-40",children:s.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:i.map(o=>s.jsxs(ye,{variant:"ghost",className:`flex-col h-auto p-2 min-w-0 flex-1 ${t===o.id?"text-primary":"text-muted-foreground"}`,onClick:()=>e(o.id),children:[s.jsxs("div",{className:"relative",children:[s.jsx(o.icon,{className:"h-5 w-5"}),o.badge&&o.badge>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-4 w-4 flex items-center justify-center",children:o.badge>9?"9+":o.badge})]}),s.jsx("span",{className:"text-xs mt-1",children:o.label})]},o.id))})})}function bwe(){const{user:t,loading:e}=$n(),[r,n]=N.useState(null);if(e)return s.jsx("div",{className:"text-center py-12",children:"Loading rewards..."});if(!t)return s.jsx("div",{className:"text-center py-12",children:"Please sign in to view your rewards."});const a=p=>{console.log("User update requested:",p),Se.info("User data is managed globally now.")},i={Bronze:{minPoints:0,color:"bg-orange-600",benefits:["5% cashback","Birthday discount"]},Silver:{minPoints:500,color:"bg-gray-400",benefits:["7% cashback","Free shipping","Early access"]},Gold:{minPoints:1e3,color:"bg-yellow-500",benefits:["10% cashback","Free express shipping","VIP support","Exclusive events"]}},o=t.membershipTier==="Bronze"?"Silver":t.membershipTier==="Silver"?"Gold":null,l=o?i[o].minPoints-t.points:0,c=o?t.points/i[o].minPoints*100:100,u=[{id:"1",name:"$5 Off Next Purchase",cost:100,type:"discount",icon:Py},{id:"2",name:"$10 Off Next Purchase",cost:200,type:"discount",icon:Py},{id:"3",name:"Free Standard Shipping",cost:50,type:"shipping",icon:Yu},{id:"4",name:"Free Express Shipping",cost:150,type:"shipping",icon:Yu},{id:"5",name:"$25 Off Next Purchase",cost:500,type:"discount",icon:Py},{id:"6",name:"Exclusive Access Item",cost:750,type:"access",icon:jU}],d=[{date:"2024-01-15",type:"earned",points:50,description:"Purchase at Rosemama"},{date:"2024-01-10",type:"earned",points:25,description:"Product Review"},{date:"2024-01-05",type:"redeemed",points:-100,description:"$5 Off Discount Used"},{date:"2024-01-01",type:"earned",points:100,description:"New Year Bonus"}],f=p=>{t.points>=p.cost?(a({...t,points:t.points-p.cost}),Se.success(`${p.name} redeemed successfully!`)):Se.error("Insufficient points to redeem this reward")};return s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards & Membership"}),s.jsx("p",{className:"text-muted-foreground",children:"Earn points with every purchase and unlock exclusive benefits"})]}),s.jsx(Me,{className:"mb-6",children:s.jsxs(De,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${i[t.membershipTier].color}`}),s.jsxs("h3",{className:"text-xl font-semibold",children:[t.membershipTier," Member"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold",children:t.points}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]}),o&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsxs("span",{children:["Progress to ",o]}),s.jsxs("span",{children:[l," points to go"]})]}),s.jsx(Hu,{value:c,className:"h-2"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:i[t.membershipTier].benefits.map((p,h)=>s.jsx("div",{className:"text-center p-3 bg-secondary/30 rounded-lg",children:s.jsx("div",{className:"text-sm font-medium",children:p})},h))})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Rewards"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(p=>s.jsx(Me,{className:`cursor-pointer transition-all ${t.points>=p.cost?"hover:shadow-md hover:scale-105":"opacity-60"}`,onClick:()=>t.points>=p.cost&&f(p),children:s.jsxs(De,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${p.type==="discount"?"bg-green-100":p.type==="shipping"?"bg-blue-100":"bg-purple-100"}`,children:s.jsx(p.icon,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:p.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-sm font-medium",children:[p.cost," pts"]}),t.points>=p.cost?s.jsx(Pt,{variant:"secondary",className:"text-xs",children:"Available"}):s.jsxs(Pt,{variant:"outline",className:"text-xs",children:["Need ",p.cost-t.points," more"]})]})]})]}),s.jsx(ye,{className:"w-full",size:"sm",disabled:t.points<p.cost,onClick:h=>{h.stopPropagation(),f(p)},children:t.points>=p.cost?"Redeem":"Insufficient Points"})]})},p.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsxs(kt,{className:"flex items-center gap-2",children:[s.jsx(Kr,{className:"h-5 w-5"}),"How to Earn Points"]})}),s.jsxs(De,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Every $1 spent"}),s.jsx("span",{className:"text-sm font-medium",children:"1 point"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Product review"}),s.jsx("span",{className:"text-sm font-medium",children:"25 points"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Birthday bonus"}),s.jsx("span",{className:"text-sm font-medium",children:"100 points"})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Referral bonus"}),s.jsx("span",{className:"text-sm font-medium",children:"200 points"})]})]})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{children:"Recent Activity"})}),s.jsx(De,{className:"space-y-3",children:d.map((p,h)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:p.description}),s.jsx("div",{className:"text-xs text-muted-foreground",children:p.date})]}),s.jsxs("div",{className:`text-sm font-medium ${p.type==="earned"?"text-green-600":"text-orange-600"}`,children:[p.type==="earned"?"+":"",p.points]})]},h))})]})]})]}),s.jsx(gl,{})]})}var gS="Radio",[wwe,QF]=Gn(gS),[jwe,_we]=wwe(gS),eB=N.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[f,p]=N.useState(null),h=Gt(e,v=>p(v)),g=N.useRef(!1),m=f?u||!!f.closest("form"):!0;return s.jsxs(jwe,{scope:r,checked:a,disabled:o,children:[s.jsx(dt.button,{type:"button",role:"radio","aria-checked":a,"data-state":aB(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:h,onClick:yt(t.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&s.jsx(nB,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});eB.displayName=gS;var tB="RadioIndicator",rB=N.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=_we(tB,r);return s.jsx(Pa,{present:n||i.checked,children:s.jsx(dt.span,{"data-state":aB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});rB.displayName=tB;var Nwe="RadioBubbleInput",nB=N.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=N.useRef(null),l=Gt(o,i),c=j0(r),u=y0(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx(dt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nB.displayName=Nwe;function aB(t){return t?"checked":"unchecked"}var Swe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],U0="RadioGroup",[Awe,v2e]=Gn(U0,[Ov,QF]),iB=Ov(),sB=QF(),[kwe,Pwe]=Awe(U0),oB=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=t,h=iB(r),g=Ed(u),[m,v]=vi({prop:i,defaultProp:a??null,onChange:f,caller:U0});return s.jsx(kwe,{scope:r,name:n,required:o,disabled:l,value:m,onValueChange:v,children:s.jsx(CL,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:s.jsx(dt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:e})})})});oB.displayName=U0;var lB="RadioGroupItem",cB=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=Pwe(lB,r),o=i.disabled||n,l=iB(r),c=sB(r),u=N.useRef(null),d=Gt(e,u),f=i.value===a.value,p=N.useRef(!1);return N.useEffect(()=>{const h=m=>{Swe.includes(m.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),s.jsx(OL,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(eB,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:yt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:yt(a.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});cB.displayName=lB;var Cwe="RadioGroupIndicator",uB=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=sB(r);return s.jsx(rB,{...a,...n,ref:e})});uB.displayName=Cwe;var Owe=oB,Ewe=cB,Twe=uB;function Iwe({className:t,...e}){return s.jsx(Owe,{"data-slot":"radio-group",className:Ze("grid gap-3",t),...e})}function cI({className:t,...e}){return s.jsx(Ewe,{"data-slot":"radio-group-item",className:Ze("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(Twe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:s.jsx(DI,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Rwe({items:t,user:e,onOrderComplete:r,onBack:n}){const{isGuestCart:a}=Vh(),[i,o]=N.useState({firstName:(e==null?void 0:e.name.split(" ")[0])||"",lastName:(e==null?void 0:e.name.split(" ")[1])||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:"",city:"",state:"",zipCode:"",country:"South Africa"}),[l,c]=N.useState("bank-transfer"),[u,d]=N.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[f,p]=N.useState(!1),[h,g]=N.useState({password:"",confirmPassword:""}),[m,v]=N.useState(!1),[x,_]=N.useState(!1),w=t.reduce((k,T)=>k+T.product.price*T.quantity,0),j=m&&e?Math.min(e.points*.01,w*.2):0,S=w>100?0:9.99,A=w-j+S,O=async k=>{k.preventDefault(),_(!0);try{if(!i.address||!i.city||!i.state||!i.zipCode){Se.error("Please fill in all shipping address fields"),_(!1);return}if(l==="credit-card"&&(!u.cardNumber||!u.expiryDate||!u.cvv)){Se.error("Please fill in all payment details"),_(!1);return}if(!e&&f){if(!h.password||h.password.length<6){Se.error("Password must be at least 6 characters long"),_(!1);return}if(h.password!==h.confirmPassword){Se.error("Passwords do not match"),_(!1);return}}const T={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zipCode:i.zipCode,country:i.country,paymentMethod:l,usePointsDiscount:m,pointsUsed:m&&e?Math.min(e.points,Math.floor(w*20)):0};let R;if(e)R=await v8(T);else{const I={email:i.email,firstName:i.firstName,lastName:i.lastName,phone:i.phone};R=await y8(t,T,I,f,f?h.password:void 0)}if(!R)throw new Error("Failed to create order");try{const I=`${i.firstName} ${i.lastName}`,M=i.email,D=t.map(G=>({id:G.productId,name:G.product.name,image:G.product.images[0]}));await aW({customerEmail:M,customerName:I,orderId:R.toString(),products:D})}catch(I){console.warn("Failed to send Trustpilot invitations:",I)}a&&localStorage.removeItem("rosemama_guest_cart");let P="Order placed successfully!";!e&&f&&(P+=" Check your email to verify your account for order tracking."),l==="cash-on-delivery"?(P=`Order placed successfully! Pay R${A.toFixed(2)} on delivery.`,!e&&f&&(P+=" Check your email to verify your account.")):l==="bank-transfer"?(P=`Order placed successfully! Please send R${A.toFixed(2)} to our bank account.`,!e&&f&&(P+=" Check your email to verify your account.")):P=`Order placed successfully! Payment processed via ${l}.`,Se.success(P),r()}catch(T){console.error("Order submission failed:",T),Se.error(T instanceof Error?T.message:"Failed to place order. Please try again.")}finally{_(!1)}};return s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[s.jsxs(ye,{variant:"ghost",onClick:n,className:"mb-6",children:[s.jsx(Hj,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),s.jsx("form",{onSubmit:O,children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{children:"Shipping Information"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"firstName",children:"First Name"}),s.jsx(zt,{id:"firstName",value:i.firstName,onChange:k=>o(T=>({...T,firstName:k.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"lastName",children:"Last Name"}),s.jsx(zt,{id:"lastName",value:i.lastName,onChange:k=>o(T=>({...T,lastName:k.target.value})),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"email",children:"Email"}),s.jsx(zt,{id:"email",type:"email",value:i.email,onChange:k=>o(T=>({...T,email:k.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"phone",children:"Phone"}),s.jsx(zt,{id:"phone",type:"tel",value:i.phone,onChange:k=>o(T=>({...T,phone:k.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"address",children:"Address"}),s.jsx(zt,{id:"address",value:i.address,onChange:k=>o(T=>({...T,address:k.target.value})),placeholder:"Street address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"city",children:"City"}),s.jsx(zt,{id:"city",value:i.city,onChange:k=>o(T=>({...T,city:k.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"state",children:"Province"}),s.jsxs(_a,{value:i.state,onValueChange:k=>o(T=>({...T,state:k})),children:[s.jsx(Sa,{children:s.jsx(Na,{placeholder:"Select province"})}),s.jsxs(Aa,{children:[s.jsx(Xe,{value:"EC",children:"Eastern Cape"}),s.jsx(Xe,{value:"FS",children:"Free State"}),s.jsx(Xe,{value:"GP",children:"Gauteng"}),s.jsx(Xe,{value:"KZN",children:"KwaZulu-Natal"}),s.jsx(Xe,{value:"LP",children:"Limpopo"}),s.jsx(Xe,{value:"MP",children:"Mpumalanga"}),s.jsx(Xe,{value:"NC",children:"Northern Cape"}),s.jsx(Xe,{value:"NW",children:"North West"}),s.jsx(Xe,{value:"WC",children:"Western Cape"})]})]})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"zipCode",children:"Postal Code"}),s.jsx(zt,{id:"zipCode",value:i.zipCode,onChange:k=>o(T=>({...T,zipCode:k.target.value})),required:!0})]})]})]})]}),!e&&s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{children:"Account Options"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fj,{id:"createAccount",checked:f,onCheckedChange:k=>p(k)}),s.jsx(Ft,{htmlFor:"createAccount",className:"text-sm",children:"Create an account to track your orders and earn rewards points"})]}),f&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"password",children:"Password"}),s.jsx(zt,{id:"password",type:"password",value:h.password,onChange:k=>g(T=>({...T,password:k.target.value})),placeholder:"Create a password",required:f})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(zt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:k=>g(T=>({...T,confirmPassword:k.target.value})),placeholder:"Confirm your password",required:f})]})]})]})]}),s.jsxs(Me,{children:[s.jsx(At,{children:s.jsx(kt,{children:"Payment Method"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs(Iwe,{value:l,onValueChange:c,children:[s.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[s.jsx(cI,{value:"bank-transfer",id:"bank-transfer"}),s.jsxs(Ft,{htmlFor:"bank-transfer",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[s.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),"Bank Transfer (Manual Payment)"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[s.jsx(cI,{value:"credit-card",id:"credit-card"}),s.jsxs(Ft,{htmlFor:"credit-card",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[s.jsx(Kj,{className:"h-4 w-4"}),"Credit/Debit Card"]})]}),l==="bank-transfer"&&s.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[s.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Bank Transfer Details:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Account Name:"})," CLARA RANYAMA"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Bank:"})," FNB"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Account Number:"})," 62804733766"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Branch Code:"})," 250655"]}),s.jsxs("p",{className:"text-blue-600 mt-2",children:[s.jsx("strong",{children:"Reference:"})," Dolls send me proof of payment "]})]})]})]}),l==="credit-card"&&s.jsxs("div",{className:"space-y-4 mt-4 p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"cardNumber",children:"Card Number"}),s.jsx(zt,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:k=>d(T=>({...T,cardNumber:k.target.value})),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(zt,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:k=>d(T=>({...T,expiryDate:k.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"cvv",children:"CVV"}),s.jsx(zt,{id:"cvv",placeholder:"123",value:u.cvv,onChange:k=>d(T=>({...T,cvv:k.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Ft,{htmlFor:"cardholderName",children:"Cardholder"}),s.jsx(zt,{id:"cardholderName",placeholder:"Full name",value:u.cardholderName,onChange:k=>d(T=>({...T,cardholderName:k.target.value}))})]})]})]})]})]})]}),s.jsx("div",{children:s.jsxs(Me,{className:"sticky top-24",children:[s.jsx(At,{children:s.jsx(kt,{children:"Order Summary"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:t.map(k=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx(W8,{src:k.product.images[0],alt:k.product.name,className:"w-12 h-12 object-cover rounded",loading:"eager"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium line-clamp-1",children:k.product.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.size,"  ",k.color,"  Qty ",k.quantity]})]}),s.jsxs("span",{className:"text-sm font-medium",children:["R",(k.product.price*k.quantity).toFixed(2)]})]},`${k.productId}-${k.size}-${k.color}`))}),s.jsx(ba,{}),e&&e.points>0&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fj,{id:"use-points",checked:m,onCheckedChange:k=>v(k)}),s.jsxs(Ft,{htmlFor:"use-points",className:"text-sm",children:["Use ",Math.min((e==null?void 0:e.points)||0,Math.floor(w*20))," points (save R",j.toFixed(2),")"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["R",w.toFixed(2)]})]}),j>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:"Points Discount"}),s.jsxs("span",{children:["-R",j.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:S===0?s.jsx("span",{className:"text-green-600",children:"FREE"}):`R${S.toFixed(2)}`})]})]}),s.jsx(ba,{}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["R",A.toFixed(2)]})]}),s.jsx(ye,{type:"submit",className:"w-full",size:"lg",disabled:x,children:x?"Processing...":`Place Order - R${A.toFixed(2)}`}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By placing your order, you agree to our Terms & Conditions and Privacy Policy."})]})]})})]})}),s.jsx(gl,{})]})}var Lwe=(t,e,r,n,a,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(g=>{let m=g==="class",v=m&&i?a.map(x=>i[x]||x):a;m?(c.classList.remove(...v),c.classList.add(i&&i[h]?i[h]:h)):c.setAttribute(g,h)}),f(h)}function f(h){l&&u.includes(h)&&(c.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let h=localStorage.getItem(e)||r,g=o&&h==="system"?p():h;d(g)}catch{}},Mwe=N.createContext(void 0),Dwe={setTheme:t=>{},themes:[]},$we=()=>{var t;return(t=N.useContext(Mwe))!=null?t:Dwe};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,e,i,t,l,o,n,a]).slice(1,-1);return N.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Lwe.toString()})(${d})`}})});const Fwe=({...t})=>{const{theme:e="system"}=$we();return s.jsx(YG,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function Bwe({isOpen:t,mode:e,onClose:r,onLoginSuccess:n,onSignupSuccess:a,onSwitchMode:i,title:o,description:l}){const{signIn:c,signUp:u}=$n(),[d,f]=N.useState(!1),[p,h]=N.useState(!1),[g,m]=N.useState({email:"",password:"",name:"",confirmPassword:""}),v=(j,S)=>{m(A=>({...A,[j]:S}))},x=async j=>{j.preventDefault(),f(!0);const S=await c(g.email,g.password);f(!1),S?n():Se.error("Login failed. Please check your credentials.")},_=async j=>{if(j.preventDefault(),g.password!==g.confirmPassword){Se.error("Passwords do not match.");return}f(!0);const S=await u(g.email,g.password,g.name);f(!1),S?a():Se.error("Signup failed. Please try again.")},w=j=>{Se.info(`Social login with ${j} is not yet implemented.`)};return s.jsx(yi,{open:t,onOpenChange:r,children:s.jsxs(ri,{className:"sm:max-w-[425px]",children:[s.jsxs(xi,{children:[s.jsx(bi,{children:o||(e==="login"?"Sign In":"Create Account")}),l&&s.jsx(Hm,{children:l})]}),s.jsxs(bo,{value:e,onValueChange:j=>i(j),className:"w-full",children:[s.jsxs(wo,{className:"grid w-full grid-cols-2",children:[s.jsx(Pr,{value:"login",children:"Login"}),s.jsx(Pr,{value:"signup",children:"Sign Up"})]}),s.jsx(Cr,{value:"login",children:s.jsxs(Me,{children:[s.jsxs(At,{children:[s.jsx(kt,{children:"Welcome Back"}),s.jsx(YA,{children:"Enter your credentials to access your account."})]}),s.jsxs(De,{children:[s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ft,{htmlFor:"login-email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(th,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:j=>v("email",j.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ft,{htmlFor:"login-password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ky,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{id:"login-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:j=>v("password",j.target.value)}),s.jsx(ye,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?s.jsx(T2,{className:"h-4 w-4"}):s.jsx(gi,{className:"h-4 w-4"})})]})]}),s.jsx(ye,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]}),s.jsx("div",{className:"mt-4 text-center text-sm",children:s.jsx("a",{href:"#",className:"underline",onClick:()=>Se.info("Password reset coming soon!"),children:"Forgot your password?"})})]})]})}),s.jsx(Cr,{value:"signup",children:s.jsxs(Me,{children:[s.jsxs(At,{children:[s.jsx(kt,{children:"Create an Account"}),s.jsx(YA,{children:"Join us to get the best shopping experience."})]}),s.jsx(De,{children:s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ft,{htmlFor:"signup-name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{id:"signup-name",placeholder:"John Doe",required:!0,className:"pl-10",value:g.name,onChange:j=>v("name",j.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ft,{htmlFor:"signup-email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(th,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{id:"signup-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:j=>v("email",j.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ft,{htmlFor:"signup-password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ky,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{id:"signup-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:j=>v("password",j.target.value)}),s.jsx(ye,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?s.jsx(T2,{className:"h-4 w-4"}):s.jsx(gi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ft,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ky,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(zt,{id:"signup-confirm-password",type:"password",required:!0,className:"pl-10",value:g.confirmPassword,onChange:j=>v("confirmPassword",j.target.value)})]})]}),s.jsx(ye,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ye,{variant:"outline",onClick:()=>w("Google"),children:"Google"}),s.jsx(ye,{variant:"outline",onClick:()=>w("Facebook"),children:"Facebook"})]})]})})}const qwe={success:uv,error:pc,warning:Hh,info:fv},Uwe={success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800",warning:"border-yellow-200 bg-yellow-50 text-yellow-800",info:"border-blue-200 bg-blue-50 text-blue-800"},zwe={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function Wwe({notification:t,onClose:e}){const[r,n]=N.useState(!1),[a,i]=N.useState(!1),o=qwe[t.type];N.useEffect(()=>{n(!0);const c=t.duration||5e3;if(c>0){const u=setTimeout(()=>{l()},c);return()=>clearTimeout(u)}},[t.duration]);const l=()=>{i(!0),setTimeout(()=>{e(t.id)},200)};return s.jsx(Me,{className:`
        ${Uwe[t.type]}
        border shadow-lg transition-all duration-200 mb-2
        ${r&&!a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${a?"translate-x-full opacity-0":""}
      `,children:s.jsx(De,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(o,{className:`h-5 w-5 mt-0.5 ${zwe[t.type]}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm",children:t.title}),s.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.action&&s.jsx(ye,{size:"sm",variant:"ghost",className:"mt-2 h-8 px-2 text-xs",onClick:t.action.onClick,children:t.action.label})]}),s.jsx(ye,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",onClick:l,children:s.jsx(ws,{className:"h-4 w-4"})})]})})})}const Hwe=Y.createContext(null);function Gwe({children:t,position:e="top-right",maxToasts:r=5}){const[n,a]=N.useState([]),i=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),o=m=>{const v=i(),x={...m,id:v};a(_=>[x,..._].slice(0,r))},l=(m,v="",x)=>{o({title:m,message:v,type:"success",action:x})},c=(m,v="",x)=>{o({title:m,message:v,type:"error",action:x,duration:8e3})},u=(m,v="",x)=>{o({title:m,message:v,type:"warning",action:x,duration:6e3})},d=(m,v="",x)=>{o({title:m,message:v,type:"info",action:x})},f=m=>{a(v=>v.filter(x=>x.id!==m))},p=()=>{a([])},h=()=>{switch(e){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},g={showToast:o,showSuccess:l,showError:c,showWarning:u,showInfo:d,dismissToast:f,dismissAll:p};return s.jsxs(Hwe.Provider,{value:g,children:[t,s.jsx("div",{className:`fixed z-50 ${h()} w-80 max-w-sm pointer-events-none`,style:{maxHeight:"90vh",overflowY:"auto"},children:s.jsx("div",{className:"space-y-2 pointer-events-auto",children:n.map(m=>s.jsx(Wwe,{notification:m,onClose:f},m.id))})})]})}const Vwe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null);N.useEffect(()=>{(async()=>{try{n(!0);const{data:u,error:d}=await Te.from("products").select("id, name, image_url, images").limit(5);if(d)throw d;console.log(" Raw Supabase products data:",u),e(u||[])}catch(u){console.error(" Error fetching products:",u),i(u instanceof Error?u.message:"Unknown error")}finally{n(!1)}})()},[]);const o=async c=>{try{const u=await fetch(c,{method:"HEAD"});return{url:c,status:u.status,ok:u.ok,statusText:u.statusText}}catch(u){return{url:c,status:0,ok:!1,statusText:u instanceof Error?u.message:"Network error"}}},l=async c=>{console.log(" Testing URL:",c);const u=await o(c);console.log(" URL Test Result:",u),alert(`URL: ${c}
Status: ${u.status}
OK: ${u.ok}
Message: ${u.statusText}`)};return r?s.jsx("div",{className:"p-4",children:"Loading products for debugging..."}):a?s.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",a]}):s.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Image URL Debugger"}),s.jsx("div",{className:"space-y-4",children:t.map(c=>s.jsxs("div",{className:"border p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold",children:c.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",c.id]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h4",{className:"font-medium",children:"Raw Data:"}),s.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify({image_url:c.image_url,images:c.images},null,2)})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h4",{className:"font-medium",children:"Generated URLs:"}),s.jsxs("div",{className:"space-y-2",children:[c.image_url&&s.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"From image_url:"}),c.image_url.startsWith("/images/")?s.jsxs("div",{children:[s.jsx("p",{className:"text-xs",children:"Path with /images/ prefix  Storage URL"}),s.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images",c.image_url]})]}):c.image_url.startsWith("http")?s.jsxs("div",{children:[s.jsx("p",{className:"text-xs",children:"Full HTTP URL"}),s.jsxs("button",{onClick:()=>l(c.image_url),className:"text-blue-600 underline text-sm",children:["Test: ",c.image_url]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-xs",children:"Storage path  Full URL"}),s.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/",c.image_url]})]})]}),c.images&&Array.isArray(c.images)&&c.images.length>0&&s.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"From images array:"}),c.images.map((u,d)=>s.jsx("div",{className:"mt-1",children:s.jsxs("button",{onClick:()=>l(typeof u=="string"?u:String(u)),className:"text-green-600 underline text-sm block",children:["Test [",d,"]: ",typeof u=="string"?u:String(u)]})},d))]})]})]})]},c.id))}),s.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-800",children:" Instructions:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[s.jsx("li",{children:'1. Click on the "Test:" links to check if image URLs are accessible'}),s.jsx("li",{children:"2. Check the browser network tab for detailed error responses"}),s.jsx("li",{children:"3. Check the console for raw data structure"}),s.jsx("li",{children:"4. Compare expected URLs vs actual storage structure"})]})]})]})};function Kwe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a,loading:i}=Cd(),[o,l]=N.useState("featured"),[c,u]=N.useState("grid"),[d,f]=N.useState(new Set),p=N.useMemo(()=>{let g=[...a];switch(t&&(g=g.filter(m=>m.name.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(g=g.filter(m=>m.category===e)),o){case"price-low":g=g.sort((m,v)=>m.price-v.price);break;case"price-high":g=g.sort((m,v)=>v.price-m.price);break;case"rating":g=g.sort((m,v)=>v.rating-m.rating);break}return g},[a,t,e,o]),h=g=>{const m=new Set(d);m.has(g)?m.delete(g):m.add(g),f(m)};return s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:e==="All"?"All Products":e}),s.jsxs("p",{className:"text-muted-foreground",children:[p.length," products found"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"hidden md:flex border rounded-lg p-1",children:[s.jsx(ye,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),children:s.jsx(dv,{className:"h-4 w-4"})}),s.jsx(ye,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),children:s.jsx(hv,{className:"h-4 w-4"})})]}),s.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[s.jsx("option",{value:"featured",children:"Featured"}),s.jsx("option",{value:"newest",children:"Newest"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"rating",children:"Highest Rated"})]}),s.jsxs(ye,{variant:"outline",size:"sm",children:[s.jsx(eh,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),s.jsx("div",{className:c==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24":"space-y-4 pb-24",children:p.map(g=>s.jsx(Me,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 ${c==="list"?"flex":"flex flex-col h-full"}`,onClick:()=>r(g),children:s.jsxs(De,{className:`p-0 ${c==="grid"?"flex flex-col h-full":""}`,children:[s.jsxs("div",{className:`relative overflow-hidden ${c==="list"?"w-32 flex-shrink-0":"rounded-t-lg flex-shrink-0"}`,children:[s.jsx(u_,{images:g.images,name:g.name,className:c==="list"?"w-32 h-32":"w-full aspect-[4/3]",priority:!0}),s.jsx(ye,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:m=>{m.stopPropagation(),h(g.id)},children:s.jsx(go,{className:`h-4 w-4 ${d.has(g.id)?"fill-red-500 text-red-500":""}`})}),g.originalPrice&&g.originalPrice!==g.price&&s.jsxs(Pt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:[Math.round((g.originalPrice-g.price)/g.originalPrice*100),"% OFF"]})]}),s.jsxs("div",{className:`space-y-2 ${c==="list"?"p-4 flex-1":"p-4 flex-1 flex flex-col justify-between"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h4",{className:"font-medium line-clamp-2 flex-1 min-w-0",children:g.name}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[g.images.length>1&&s.jsxs("div",{className:"flex gap-0.5 max-w-[60px] flex-wrap",children:[g.images.slice(0,5).map((m,v)=>s.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-gray-300 flex-shrink-0",style:{minWidth:"20px",minHeight:"20px"},children:s.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover",loading:"lazy"})},v)),g.images.length>5&&s.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border border-gray-300 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-[8px] text-gray-600 font-bold leading-none",children:"+"})})]}),!g.inStock&&s.jsx(Pt,{variant:"secondary",className:"text-xs ml-1",children:"Out of Stock"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kr,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.rating," (",g.reviews.length,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold",children:["R",g.price]}),g.originalPrice&&g.originalPrice!==g.price&&s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",g.originalPrice]})]}),s.jsxs("div",{className:"flex gap-1",children:[g.colors.slice(0,4).map(m=>s.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-gray-300 ${m.toLowerCase()==="black"?"bg-black":m.toLowerCase()==="white"?"bg-white":m.toLowerCase()==="gray"?"bg-gray-400":m.toLowerCase()==="navy"?"bg-blue-900":m.toLowerCase()==="brown"?"bg-amber-800":m.toLowerCase()==="beige"?"bg-amber-100":m.toLowerCase()==="pink"?"bg-pink-400":m.toLowerCase()==="blue"?"bg-blue-500":m.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`},m)),g.colors.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.colors.length-4]})]})]})]})},g.id))}),p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),s.jsx(ye,{onClick:()=>n("All"),children:"Clear filters"})]}),s.jsx(gl,{})]})}function Ywe(){const{user:t,isAdmin:e}=$n(),{products:r}=Cd(),{items:n,addItem:a,updateItemQuantity:i,removeItem:o,fetchCart:l}=Vh(),[c,u]=N.useState("home"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState("All"),[v,x]=N.useState(!1),[_,w]=N.useState("about"),[j,S]=N.useState({mode:"login",title:"Sign In Required",description:"Please sign in to continue"}),A=(F,ee,he)=>{t?F():(S({mode:"login",title:ee||"Sign In Required",description:he||"Please sign in to continue"}),x(!0))},O=F=>{f(F),u("product")},k=F=>{m(F),u("catalog")},T=()=>{u("checkout")},R=()=>{A(()=>u("profile"),"My Account","Please sign in to view your profile.")},P=()=>{A(()=>u("rewards"),"My Rewards","Please sign in to view your rewards.")},I=()=>{x(!1),Se.success("Welcome back!"),j.title.includes("Checkout")?u("checkout"):j.title.includes("Profile")?u("profile"):j.title.includes("Rewards")&&u("rewards")},M=F=>{const ee=F;["profile","rewards","admin"].includes(ee)?(ee==="profile"&&R(),ee==="rewards"&&P(),ee==="admin"&&e&&u("admin")):u(ee)},D=async(F,ee,he,fe)=>{if(console.log("handleUpdateQuantity called:",{productId:F,size:ee,color:he,quantity:fe}),n.find(W=>W.productId===F&&W.size===ee&&W.color===he)){const W=`${F}|${ee}|${he}`;console.log("Updating item with identifier:",W,"to quantity:",fe);const H=await i(W,fe);console.log("Update result:",H),H||Se.error("Failed to update item quantity")}else console.log("Item not found in cart for quantity update"),Se.error("Item not found in cart")},G=async(F,ee,he)=>{console.log("handleRemoveItem called:",{productId:F,size:ee,color:he});const fe=n.find(B=>B.productId===F&&B.size===ee&&B.color===he);if(console.log("Found cart item:",fe),console.log("Current items:",n),fe){const B=`${F}|${ee}|${he}`;console.log("Removing item with identifier:",B);const W=await o(B);console.log("Remove result:",W),W||Se.error("Failed to remove item from cart")}else console.log("Item not found in cart"),Se.error("Item not found in cart")},$=F=>{w(F),u("info")},q=()=>{switch(c){case"home":return s.jsx(U8,{onViewProduct:O,onNavigateToCategory:k});case"catalog":return s.jsx(Kwe,{searchQuery:p,selectedCategory:g,onViewProduct:O,onCategoryChange:m});case"product":return d?s.jsx(XG,{product:d,onBack:()=>u("catalog"),onAddToCart:a,onViewProduct:O}):null;case"cart":return s.jsx(JG,{items:n,onUpdateQuantity:D,onRemoveItem:G,onProceedToCheckout:T,onContinueShopping:()=>u("catalog")});case"checkout":return s.jsx(Rwe,{user:t,items:n,onOrderComplete:()=>{u("home"),Se.success("Order placed successfully!")},onBack:()=>u("cart")});case"profile":return t?e?s.jsx(CF,{}):s.jsx(AZ,{onLogout:()=>{},onNavigateToInfo:$}):null;case"rewards":return t?s.jsx(bwe,{}):null;case"admin":return e?s.jsx(O1e,{}):null;case"info":return s.jsx(z1e,{onBack:()=>u("home"),initialPage:_});case"debug":return s.jsx(Vwe,{});default:return null}};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[s.jsx(ywe,{onSearch:h,onProfileClick:R,onInfoClick:()=>{w("about"),u("info")}}),s.jsx("main",{className:"flex-1 pb-28 md:pb-4",children:q()}),s.jsx(V1e,{onInfoClick:F=>{w(F),u("info")}}),s.jsx(xwe,{currentPage:c,onPageChange:M}),s.jsx(Bwe,{isOpen:v,mode:j.mode,onClose:()=>x(!1),onLoginSuccess:I,onSignupSuccess:I,title:j.title,description:j.description,onSwitchMode:F=>S(ee=>({...ee,mode:F}))}),s.jsx(G1e,{}),s.jsx(Fwe,{})]})}function Xwe(){return s.jsx(pG,{children:s.jsx(hG,{children:s.jsx(mG,{children:s.jsx(a1e,{children:s.jsx(Y1e,{children:s.jsx(Gwe,{position:"top-right",maxToasts:5,children:s.jsx(Ywe,{})})})})})})})}function Zwe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a}=Cd(),{user:i}=$n(),{addItem:o}=Vh(),[l,c]=N.useState("featured"),[u,d]=N.useState("grid"),[f,p]=N.useState(new Set),[h,g]=N.useState([0,500]),[m,v]=N.useState([]),[x,_]=N.useState(!1),w=[...new Set(a.flatMap(R=>R.colors))],j=async R=>{try{console.log(" ProductCatalog: Adding product to cart:",R.id,R.name);const P="M",I=R.colors[0]||"Default";await o(R,P,I,1)?console.log(" ProductCatalog: Product added to cart successfully"):console.error(" ProductCatalog: Failed to add product to cart")}catch(P){console.error(" ProductCatalog: Error adding product to cart:",P)}},S=R=>{console.log(" ProductCatalog: Viewing product details:",R.id,R.name),r(R)},A=R=>{console.log(" ProductCatalog: Toggling wishlist for product:",R.id,R.name),p(P=>{const I=new Set(P);return I.has(R.id)?(I.delete(R.id),console.log(" ProductCatalog: Removed from wishlist")):(I.add(R.id),console.log(" ProductCatalog: Added to wishlist")),I})},O=N.useMemo(()=>{let R=[...a];switch(t&&(R=R.filter(P=>P.name.toLowerCase().includes(t.toLowerCase())||P.category.toLowerCase().includes(t.toLowerCase())||P.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(R=R.filter(P=>P.category===e)),R=R.filter(P=>P.price>=h[0]&&P.price<=h[1]),m.length>0&&(R=R.filter(P=>m.some(I=>P.colors.includes(I)))),l){case"price-low":R.sort((P,I)=>P.price-I.price);break;case"price-high":R.sort((P,I)=>I.price-P.price);break;case"rating":R.sort((P,I)=>I.rating-P.rating);break;case"newest":R.sort((P,I)=>parseInt(I.id)-parseInt(P.id));break}return R},[a,t,e,l,h,m]),k=R=>{const P=new Set(f);P.has(R)?P.delete(R):P.add(R),p(P)},T=()=>{g([0,500]),v([]),n("All")};return s.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e==="All"?"All Products":e}),s.jsxs("p",{className:"text-muted-foreground",children:[O.length," products found"]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs("div",{className:"border rounded-lg p-1",children:[s.jsx(ye,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),children:s.jsx(dv,{className:"h-4 w-4"})}),s.jsx(ye,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),children:s.jsx(hv,{className:"h-4 w-4"})})]}),s.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[s.jsx("option",{value:"featured",children:"Featured"}),s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"rating",children:"Highest Rated"})]}),s.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>_(!x),className:x?"bg-primary/10":"",children:[s.jsx(eh,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),x&&s.jsx(Me,{className:"mb-6",children:s.jsx(De,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium mb-3 block",children:"Price Range"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(zt,{type:"number",placeholder:"Min",value:h[0],onChange:R=>g([Number(R.target.value),h[1]]),className:"w-20"}),s.jsx("span",{className:"self-center",children:"-"}),s.jsx(zt,{type:"number",placeholder:"Max",value:h[1],onChange:R=>g([h[0],Number(R.target.value)]),className:"w-20"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-medium mb-3 block",children:"Colors"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.slice(0,8).map(R=>s.jsx("button",{onClick:()=>v(P=>P.includes(R)?P.filter(I=>I!==R):[...P,R]),className:`px-3 py-1 text-xs border rounded-full transition-colors ${m.includes(R)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:R},R))})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs(ye,{onClick:T,variant:"outline",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Clear All"]}),s.jsx(ye,{onClick:()=>_(!1),children:"Apply"})]})]})})}),O.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vo,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),s.jsx(ye,{onClick:T,children:"Clear all filters"})]}):s.jsx("div",{className:`grid gap-6 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:O.map(R=>{var P;return console.log(" ProductCatalog: Rendering product:",{id:R.id,name:R.name,price:R.price,originalPrice:R.originalPrice,category:R.category,imageCount:((P=R.images)==null?void 0:P.length)||0,rating:R.rating,colors:R.colors,inStock:R.inStock,viewMode:u}),u==="list"?s.jsx(Me,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 flex \r
                           bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                           border border-border dark:border-border/50`,onClick:()=>r(R),children:s.jsxs(De,{className:"p-0 flex",children:[s.jsxs("div",{className:"relative overflow-hidden w-60 flex-shrink-0",children:[s.jsx(u_,{images:R.images,name:R.name,className:"w-60 h-60",priority:!0}),s.jsx(ye,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 bg-background/80 backdrop-blur-sm \r
                                hover:bg-background dark:bg-card/80 dark:hover:bg-card`,onClick:I=>{I.stopPropagation(),k(R.id)},children:s.jsx(go,{className:`h-4 w-4 ${f.has(R.id)?"fill-red-500 text-red-500":"text-foreground"}`})}),R.originalPrice&&s.jsx(Pt,{className:"absolute top-2 left-2 bg-rose-500 text-white dark:bg-rose-600 dark:text-white",children:"Sale"}),!R.inStock&&s.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium px-3 py-1 bg-black/40 backdrop-blur-sm rounded",children:"Out of Stock"})})]}),s.jsxs("div",{className:"p-6 flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Pt,{variant:"secondary",className:"text-xs bg-secondary/80 text-secondary-foreground",children:R.category}),!R.inStock&&s.jsx(Pt,{variant:"outline",className:"text-xs text-rose-500 dark:text-rose-400 border-rose-200 dark:border-rose-800",children:"Out of Stock"})]}),s.jsx("h4",{className:"font-semibold text-lg line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:R.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((I,M)=>s.jsx(Kr,{className:`h-4 w-4 ${M<Math.floor(R.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},M))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.rating," (",R.reviews.length,")"]})]}),s.jsxs("div",{className:"flex gap-1",children:[R.colors.slice(0,4).map(I=>s.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${I.toLowerCase()==="black"?"bg-black border-gray-300 dark:border-gray-600":I.toLowerCase()==="white"?"bg-white border-gray-400":I.toLowerCase()==="gray"?"bg-gray-400 border-gray-500":I.toLowerCase()==="navy"?"bg-blue-900 border-blue-800":I.toLowerCase()==="brown"?"bg-amber-800 border-amber-700":I.toLowerCase()==="beige"?"bg-amber-100 border-amber-200":I.toLowerCase()==="pink"?"bg-pink-400 border-pink-500":I.toLowerCase()==="blue"?"bg-blue-500 border-blue-600":I.toLowerCase()==="red"?"bg-red-500 border-red-600":"bg-green-500 border-green-600"}`,title:I},I)),R.colors.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",R.colors.length-4]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[s.jsxs("span",{className:"font-bold text-lg text-foreground",children:["R",R.price]}),R.originalPrice&&s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",R.originalPrice]})]})]})]})},R.id):s.jsx("div",{children:s.jsx(I2,{product:R,layout:"enhanced",showQuickActions:!0,onAddToCart:j,onViewDetails:S,onToggleWishlist:A,className:`shadow-md hover:shadow-xl transition-shadow duration-300\r
                               bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                               border border-border dark:border-border/50`})},R.id)})}),O.length>12&&s.jsx("div",{className:"text-center mt-8",children:s.jsx(ye,{variant:"outline",size:"lg",children:"Load More Products"})})]})}const Jwe=JB([{path:"/",element:s.jsx(Xwe,{}),children:[{index:!0,element:s.jsx(U8,{onViewProduct:()=>{},onNavigateToCategory:()=>{}})},{path:"products",element:s.jsx(Zwe,{searchQuery:"",selectedCategory:"All",onViewProduct:()=>{},onCategoryChange:()=>{}})}]}],{basename:"/"});nq.createRoot(document.getElementById("root")).render(s.jsx(N.StrictMode,{children:s.jsx(QB,{router:Jwe})}));export{xr as _};
