const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-fUxVDWIV.js","assets/js/vendor-CC_ZIGTP.js","assets/js/router-BAGLiJ1d.js"])))=>i.map(i=>d[i]);
var SB=Object.defineProperty;var AB=(t,e,r)=>e in t?SB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ht=(t,e,r)=>AB(t,typeof e!="symbol"?e+"":e,r);import{r as YT,a as kB,b as PB,g as dr,c as Ep}from"./vendor-CC_ZIGTP.js";import{r as N,a as Qg,R as X,b as XT,c as ZT,d as CB,e as OB}from"./router-BAGLiJ1d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var hy={exports:{}},af={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function EB(){if(JS)return af;JS=1;var t=YT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:p,ref:h,props:f,_owner:a.current}}return af.Fragment=r,af.jsx=s,af.jsxs=s,af}var QS;function TB(){return QS||(QS=1,hy.exports=EB()),hy.exports}var o=TB(),Tp={},eA;function IB(){if(eA)return Tp;eA=1;var t=kB();return Tp.createRoot=t.createRoot,Tp.hydrateRoot=t.hydrateRoot,Tp}var RB=IB();function tA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function JT(...t){return e=>{let r=!1;const n=t.map(a=>{const i=tA(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():tA(t[a],null)}}}}function Ut(...t){return N.useCallback(JT(...t),t)}function tc(t){const e=LB(t),r=N.forwardRef((n,a)=>{const{children:i,...s}=n,l=N.Children.toArray(i),c=l.find(DB);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...s,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return o.jsx(e,{...s,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var QT=tc("Slot");function LB(t){const e=N.forwardRef((r,n)=>{const{children:a,...i}=r;if(N.isValidElement(a)){const s=FB(a),l=$B(i,a.props);return a.type!==N.Fragment&&(l.ref=n?JT(n,s):s),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eI=Symbol("radix.slottable");function MB(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=eI,e}function DB(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eI}function $B(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function FB(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function tI(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=tI(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=tI(t))&&(n&&(n+=" "),n+=e);return n}const rA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nA=Mt,I_=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return nA(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=rA(d)||rA(f);return a[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,p]:u},[]);return nA(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},R_="-",BB=t=>{const e=UB(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(R_);return l[0]===""&&l.length!==1&&l.shift(),rI(l,e)||qB(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},rI=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?rI(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(R_);return(s=e.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},aA=/^\[(.+)\]$/,qB=t=>{if(aA.test(t)){const e=aA.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},UB=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)x2(r[a],n,a,e);return n},x2=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:iA(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(zB(a)){x2(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{x2(s,iA(e,i),r,n)})})},iA=(t,e)=>{let r=t;return e.split(R_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zB=t=>t.isThemeGetter,WB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},b2="!",w2=":",HB=w2.length,VB=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let s=0,l=0,c=0,u;for(let g=0;g<a.length;g++){let m=a[g];if(s===0&&l===0){if(m===w2){i.push(a.slice(c,g)),c=g+HB;continue}if(m==="/"){u=g;continue}}m==="["?s++:m==="]"?s--:m==="("?l++:m===")"&&l--}const d=i.length===0?a:a.substring(c),f=GB(d),p=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const a=e+w2,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},GB=t=>t.endsWith(b2)?t.substring(0,t.length-1):t.startsWith(b2)?t.substring(1):t,KB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||e[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},YB=t=>({cache:WB(t.cacheSize),parseClassName:VB(t),sortModifiers:KB(t),...BB(t)}),XB=/\s+/,ZB=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,s=[],l=t.trim().split(XB);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!m,x=n(v?g.substring(0,m):g);if(!x){if(!v){c=d+(c.length>0?" "+c:c);continue}if(x=n(g),!x){c=d+(c.length>0?" "+c:c);continue}v=!1}const j=i(p).join(":"),b=h?j+b2:j,_=b+x;if(s.includes(_))continue;s.push(_);const S=a(x,v);for(let A=0;A<S.length;++A){const k=S[A];s.push(b+k)}c=d+(c.length>0?" "+c:c)}return c};function JB(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=nI(e))&&(n&&(n+=" "),n+=r);return n}const nI=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=nI(t[n]))&&(r&&(r+=" "),r+=e);return r};function QB(t,...e){let r,n,a,i=s;function s(c){const u=e.reduce((d,f)=>f(d),t());return r=YB(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=ZB(c,r);return a(c,d),d}return function(){return i(JB.apply(null,arguments))}}const mn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},aI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eq=/^\d+\/\d+$/,tq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uc=t=>eq.test(t),Wt=t=>!!t&&!Number.isNaN(Number(t)),Po=t=>!!t&&Number.isInteger(Number(t)),py=t=>t.endsWith("%")&&Wt(t.slice(0,-1)),Is=t=>tq.test(t),sq=()=>!0,oq=t=>rq.test(t)&&!nq.test(t),sI=()=>!1,lq=t=>aq.test(t),cq=t=>iq.test(t),uq=t=>!et(t)&&!tt(t),dq=t=>hd(t,cI,sI),et=t=>aI.test(t),kl=t=>hd(t,uI,oq),my=t=>hd(t,gq,Wt),sA=t=>hd(t,oI,sI),fq=t=>hd(t,lI,cq),Ip=t=>hd(t,dI,lq),tt=t=>iI.test(t),sf=t=>pd(t,uI),hq=t=>pd(t,vq),oA=t=>pd(t,oI),pq=t=>pd(t,cI),mq=t=>pd(t,lI),Rp=t=>pd(t,dI,!0),hd=(t,e,r)=>{const n=aI.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},pd=(t,e,r=!1)=>{const n=iI.exec(t);return n?n[1]?e(n[1]):r:!1},oI=t=>t==="position"||t==="percentage",lI=t=>t==="image"||t==="url",cI=t=>t==="length"||t==="size"||t==="bg-size",uI=t=>t==="length",gq=t=>t==="number",vq=t=>t==="family-name",dI=t=>t==="shadow",yq=()=>{const t=mn("color"),e=mn("font"),r=mn("text"),n=mn("font-weight"),a=mn("tracking"),i=mn("leading"),s=mn("breakpoint"),l=mn("container"),c=mn("spacing"),u=mn("radius"),d=mn("shadow"),f=mn("inset-shadow"),p=mn("text-shadow"),h=mn("drop-shadow"),g=mn("blur"),m=mn("perspective"),v=mn("aspect"),x=mn("ease"),j=mn("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),tt,et],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],O=()=>[tt,et,c],T=()=>[Uc,"full","auto",...O()],R=()=>[Po,"none","subgrid",tt,et],P=()=>["auto",{span:["full",Po,tt,et]},Po,tt,et],I=()=>[Po,"auto",tt,et],M=()=>["auto","min","max","fr",tt,et],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...O()],q=()=>[Uc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],F=()=>[t,tt,et],ee=()=>[..._(),oA,sA,{position:[tt,et]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",pq,dq,{size:[tt,et]}],B=()=>[py,sf,kl],H=()=>["","none","full",u,tt,et],V=()=>["",Wt,sf,kl],W=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Wt,py,oA,sA],oe=()=>["","none",g,tt,et],ne=()=>["none",Wt,tt,et],de=()=>["none",Wt,tt,et],pe=()=>[Wt,tt,et],le=()=>[Uc,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Is],breakpoint:[Is],color:[sq],container:[Is],"drop-shadow":[Is],ease:["in","out","in-out"],font:[uq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Is],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Is],shadow:[Is],spacing:["px",Wt],text:[Is],"text-shadow":[Is],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uc,et,tt,v]}],container:["container"],columns:[{columns:[Wt,et,tt,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Po,"auto",tt,et]}],basis:[{basis:[Uc,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Wt,Uc,"auto","initial","none",et]}],grow:[{grow:["",Wt,tt,et]}],shrink:[{shrink:["",Wt,tt,et]}],order:[{order:[Po,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[s]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,sf,kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,tt,my]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",py,et]}],"font-family":[{font:[hq,et,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,tt,et]}],"line-clamp":[{"line-clamp":[Wt,"none",tt,my]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[Wt,"from-font","auto",tt,kl]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Wt,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Po,tt,et],radial:["",tt,et],conic:[Po,tt,et]},mq,fq]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Wt,tt,et]}],"outline-w":[{outline:["",Wt,sf,kl]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,Rp,Ip]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",f,Rp,Ip]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Wt,kl]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",p,Rp,Ip]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Wt,tt,et]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:oe()}],brightness:[{brightness:[Wt,tt,et]}],contrast:[{contrast:[Wt,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",h,Rp,Ip]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Wt,tt,et]}],"hue-rotate":[{"hue-rotate":[Wt,tt,et]}],invert:[{invert:["",Wt,tt,et]}],saturate:[{saturate:[Wt,tt,et]}],sepia:[{sepia:["",Wt,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Wt,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[Wt,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Wt,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Wt,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",Wt,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[Wt,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[Wt,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",Wt,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Wt,"initial",tt,et]}],ease:[{ease:["linear","initial",x,tt,et]}],delay:[{delay:[Wt,tt,et]}],animate:[{animate:["none",j,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,tt,et]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Wt,sf,kl,my]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xq=QB(yq);function Ge(...t){return xq(Mt(t))}const qf=I_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),be=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const s=n?QT:"button";return o.jsx(s,{"data-slot":"button",className:Ge(qf({variant:e,size:r,className:t})),ref:i,...a})});be.displayName="Button";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),lA=t=>{const e=wq(t);return e.charAt(0).toUpperCase()+e.slice(1)},fI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _q={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>N.createElement("svg",{ref:c,..._q,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:fI("lucide",a),...l},[...s.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(jq,{ref:i,iconNode:e,className:fI(`lucide-${bq(lA(t))}`,`lucide-${t}`,n),...a}));return r.displayName=lA(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Sq=Me("activity",Nq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Gs=Me("archive",Aq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ev=Me("arrow-left",kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Cq=Me("at-sign",Pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hI=Me("award",Oq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zl=Me("bell",Eq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tv=Me("calendar",Tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rq=Me("camera",Iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cA=Me("chart-column",Lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Dq=Me("chart-pie",Mq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rv=Me("check",$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],L_=Me("chevron-down",Fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pI=Me("chevron-left",Bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Om=Me("chevron-right",qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zq=Me("chevron-up",Uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rc=Me("circle-alert",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Th=Me("circle-check-big",Hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M_=Me("circle-help",Vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D_=Me("circle",Gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Kl=Me("clock",Kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xq=Me("copy",Yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$_=Me("credit-card",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],uA=Me("crop",Jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],eU=Me("crown",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rU=Me("dollar-sign",tU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],mI=Me("download",nU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iU=Me("external-link",aU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_2=Me("eye-off",sU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ri=Me("eye",oU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ks=Me("file-text",lU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Uf=Me("funnel",cU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],dU=Me("gift",uU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nv=Me("grid-3x3",fU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Xo=Me("heart",hU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gy=Me("history",pU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],gU=Me("house",mU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vy=Me("image",vU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],av=Me("info",yU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],dA=Me("key",xU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],iv=Me("list",bU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ja=Me("loader-circle",wU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yy=Me("lock",_U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],gI=Me("log-out",jU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],zf=Me("mail",NU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F_=Me("map-pin",SU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],vI=Me("menu",AU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ti=Me("message-circle",kU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],vm=Me("message-square",PU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M5 12h14",key:"1ays0h"}]],yI=Me("minus",CU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],EU=Me("monitor",OU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Em=Me("moon",TU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],RU=Me("mountain",IU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Go=Me("package",LU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],sv=Me("palette",MU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$U=Me("pen-line",DU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],xy=Me("percent",FU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],B_=Me("phone",BU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=Me("plus",qU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xI=Me("printer",UU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xl=Me("refresh-cw",zU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],fA=Me("reply",WU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ca=Me("rotate-ccw",HU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],q_=Me("ruler",VU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tm=Me("save",GU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],YU=Me("scissors",KU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qs=Me("search",XU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bI=Me("send",ZU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U_=Me("settings",JU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ez=Me("share-2",QU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zs=Me("shield",tz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],z_=Me("shopping-bag",rz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Im=Me("shopping-cart",nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Rm=Me("sparkles",az);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],W_=Me("square-pen",iz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],of=Me("square",sz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qr=Me("star",oz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wf=Me("sun",lz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wI=Me("tag",cz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dz=Me("target",uz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],hz=Me("thumbs-down",fz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],_I=Me("thumbs-up",pz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],eo=Me("trash-2",mz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],vz=Me("tree-pine",gz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Lu=Me("trending-up",yz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ih=Me("triangle-alert",xz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Mu=Me("truck",bz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],jI=Me("upload",wz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],jz=Me("user-check",_z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],to=Me("user",Nz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],NI=Me("users",Sz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],kz=Me("wand-sparkles",Az);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hA=Me("wifi-off",Pz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Oz=Me("wifi",Cz);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ys=Me("x",Ez);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Iz=Me("zap",Tz),Rz=({images:t,alt:e,className:r="",aspectRatio:n="3/1",showNavigation:a=!0,autoSlide:i=!1,autoSlideInterval:s=3e3})=>{const[l,c]=N.useState(0),[u,d]=N.useState(new Set),[f,p]=N.useState(!0),h=()=>{const S=["/images/summer-floral-dress.jpg","/images/evening-gown.jpg","/images/denim-jacket.jpg","/images/ankle-boots.jpg"];return[S[Math.floor(Math.random()*S.length)]]},g=t.filter((S,A)=>!u.has(A)),m=g.length===0?h():g,v=m[l]||m[0];N.useEffect(()=>{u.size>0&&console.log("🖼️ ImageCarousel Debug:",{totalImages:t.length,currentIndex:l,imageErrors:Array.from(u),autoSlide:i,aspectRatio:n})},[l,t.length,u,i,n]),N.useEffect(()=>{if(!i||m.length<=1)return;const S=setInterval(()=>{c(A=>{const k=(A+1)%m.length;return console.log("🔄 Auto-slide: Moving to image",k),k})},s);return()=>clearInterval(S)},[i,m.length,s]);const x=()=>{const S=l===0?m.length-1:l-1;console.log("⬅️ Navigation: Previous clicked, moving to index",S),c(S)},j=()=>{const S=(l+1)%m.length;console.log("➡️ Navigation: Next clicked, moving to index",S),c(S)},b=S=>{const A=t[S];console.error("❌ Image Loading Error: Failed to load image at index",S,"URL:",A),A&&console.log("🔍 URL Analysis:",{isDataUrl:A.startsWith("data:"),isHttps:A.startsWith("https:"),isSupabase:A.includes("supabase.co"),urlLength:A.length,urlPreview:A.substring(0,100)+(A.length>100?"...":"")}),d(k=>new Set([...k,S])),console.log("🔄 Fallback triggered for image",S,"- switching to fallback images")},_=S=>{console.log("✅ Image Loaded Successfully: Index",S,"URL:",t[S]),S===l&&p(!1)};return m.length===0?(console.warn("⚠️ ImageCarousel Warning: No valid images or fallbacks available"),o.jsx("div",{className:`flex items-center justify-center bg-gray-100 w-full h-full ${r}`,children:o.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[o.jsx(rc,{className:"h-8 w-8 mb-2"}),o.jsx("span",{className:"text-sm",children:"Image not available"})]})})):o.jsxs("div",{className:`relative overflow-hidden group w-full h-full ${r}`,children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110 opacity-60",style:{backgroundImage:`url(${v})`,backgroundPosition:"center",backgroundSize:"cover"}}),o.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:o.jsx("img",{src:v,alt:`${e} - Image ${l+1} of ${m.length}`,className:"max-w-full max-h-full object-contain",onError:()=>b(l),onLoad:()=>_(l),loading:"lazy"})}),f&&o.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-50",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}),a&&m.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:x,className:`absolute left-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Previous image",children:o.jsx(pI,{className:"h-4 w-4"})}),o.jsx("button",{onClick:j,className:`absolute right-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Next image",children:o.jsx(Om,{className:"h-4 w-4"})}),o.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 z-20 \r
                        flex space-x-2`,children:m.map((S,A)=>o.jsx("button",{onClick:()=>{console.log("🎯 Indicator clicked: Moving from index",l,"to index",A),c(A),p(!0)},className:`w-3 h-3 rounded-full transition-all duration-200 
                          ${A===l?"bg-white shadow-lg scale-110":"bg-white bg-opacity-60 hover:bg-opacity-80 hover:scale-105"}`,"aria-label":`Go to image ${A+1} of ${m.length}`},A))})]}),!1]})},SI=async(t,e,r,n)=>{try{window.tp||(console.warn("Trustpilot not loaded yet, waiting..."),await H_());const a="https://rosemamaclothing.store",i=n.map(l=>({sku:l.id,productUrl:`${a}/product/${l.id}`,imageUrl:l.image.startsWith("http")?l.image:`${a}/images/${l.image}`,name:l.name})),s={recipientEmail:t,recipientName:e,referenceId:`Order_${r}`,source:"PostPurchase",productSkus:n.map(l=>l.id),products:i};return window.tp("createInvitation",s),console.log("Trustpilot invitation sent successfully:",s),!0}catch(a){return console.error("Failed to send Trustpilot invitation:",a),!1}},Lz=async(t,e,r)=>{try{window.tp||await H_();const n={recipientEmail:t,recipientName:e,referenceId:`Service_${r}`,source:"ServiceExperience"};return window.tp("createInvitation",n),console.log("Trustpilot service invitation sent successfully:",n),!0}catch(n){return console.error("Failed to send Trustpilot service invitation:",n),!1}},H_=()=>new Promise((t,e)=>{let r=0;const n=50,a=()=>{typeof window.tp=="function"&&window.TrustpilotObject?t():r>=n?e(new Error("Trustpilot failed to load")):(r++,setTimeout(a,100))};a()}),Mz=(t,e,r={})=>{const n=document.getElementById(t);if(!n){console.error(`Element with ID ${t} not found`);return}n.innerHTML="";const a=document.createElement("div");a.className="trustpilot-widget",a.setAttribute("data-locale","en-US"),a.setAttribute("data-template-id",Dz(e)),a.setAttribute("data-businessunit-id","66e3a5c8fe53e5eddc65b0fd"),a.setAttribute("data-style-height",r.height||"350px"),a.setAttribute("data-style-width",r.width||"100%"),e==="product-review"&&r.productSku&&a.setAttribute("data-sku",r.productSku),n.appendChild(a),typeof window.tp=="function"?window.tp("loadFromElement",a):console.warn("Trustpilot not loaded, widget will load when script is ready")},Dz=t=>{const e={trustbox:"5419b6a8b0d04a076446a9ad","product-review":"5419b6a8b0d04a076446a9ae","review-carousel":"5419b6a8b0d04a076446a9af"};return e[t]||e.trustbox},$z=()=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",pA):pA()},pA=async()=>{try{(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"))&&console.info("🔧 Trustpilot Development Mode: Widgets may not load on localhost due to domain restrictions. This is expected behavior."),await H_(),document.querySelectorAll("[data-trustpilot-widget]").forEach(r=>{const n=r,a=n.dataset.trustpilotWidget,i={height:n.dataset.height,width:n.dataset.width,productSku:n.dataset.productSku};Mz(n.id,a,i)})}catch(t){console.error("Failed to initialize Trustpilot widgets:",t)}},Fz=async t=>{try{await Promise.all([SI(t.customerEmail,t.customerName,t.orderId,t.products),Lz(t.customerEmail,t.customerName,t.orderId)]),console.log("All Trustpilot invitations sent successfully")}catch(e){console.error("Error sending Trustpilot invitations:",e)}},Bz=(t,e)=>{try{const a=`https://www.trustpilot.com/evaluate/66e3a5c8fe53e5eddc65b0fd?utm_medium=trustbox&utm_source=ProductReview&p=${encodeURIComponent(e)}&s=${encodeURIComponent(t)}&r=${encodeURIComponent(`https://rosemamaclothing.store/product/${t}`)}`;window.open(a,"_blank","width=800,height=700,scrollbars=yes,resizable=yes"),console.log("Opened Trustpilot review form for product:",t)}catch(r){console.error("Error opening Trustpilot review form:",r)}},qz=async t=>{try{const e={default:{rating:4.2,reviewCount:8,trustScore:4.2},sku_1:{rating:4.5,reviewCount:12,trustScore:4.5},sku_2:{rating:4.1,reviewCount:5,trustScore:4.1}};return await new Promise(r=>setTimeout(r,100)),e[t]||e.default}catch(e){return console.error("Error fetching Trustpilot product rating:",e),null}},mA=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),j2=({product:t,layout:e="enhanced",showQuickActions:r=!0,onAddToCart:n,onViewDetails:a,onToggleWishlist:i,className:s=""})=>{const[l,c]=N.useState(null);N.useEffect(()=>{(async()=>{try{const v=await qz(t.id);c(v)}catch(v){console.error("Failed to load Trustpilot rating:",v)}})()},[t.id]);const u=t.originalPrice&&t.originalPrice>t.price&&t.originalPrice!==t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,d=m=>{m.stopPropagation(),n==null||n(t)},f=()=>{a==null||a(t)},p=m=>{m.stopPropagation(),i==null||i(t)},h=t.images&&t.images.length>0?t.images:["/images/placeholder-product.svg"],g=m=>{switch(m.toLowerCase()){case"black":return"bg-black border-gray-300";case"white":return"bg-white border-gray-400";case"gray":case"grey":return"bg-gray-400 border-gray-500";case"navy":return"bg-blue-900 border-blue-800";case"brown":return"bg-amber-800 border-amber-700";case"beige":return"bg-amber-100 border-amber-200";case"pink":return"bg-pink-400 border-pink-500";case"blue":return"bg-blue-500 border-blue-600";case"red":return"bg-red-500 border-red-600";case"green":return"bg-green-500 border-green-600";case"yellow":return"bg-yellow-400 border-yellow-500";case"purple":return"bg-purple-500 border-purple-600";case"orange":return"bg-orange-500 border-orange-600";default:return"bg-gradient-to-br from-purple-400 to-pink-400 border-purple-300"}};return o.jsxs("div",{className:`
        bg-background rounded-lg shadow-md hover:shadow-xl transition-all duration-300 
        cursor-pointer group overflow-hidden border border-border dark:border-border/50 
        hover:border-primary/20 dark:hover:border-primary/30
        flex flex-col
        ${s}
      `,onClick:f,children:[o.jsxs("div",{className:"relative w-full aspect-[3/4] flex-shrink-0",children:[o.jsx(Rz,{images:h,alt:t.name,showNavigation:h.length>1,className:"rounded-t-lg h-full w-full object-cover"}),o.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:u>0&&o.jsxs("span",{className:"bg-rose-500 dark:bg-rose-600 text-white text-xs px-2.5 py-1 rounded-full font-medium shadow-md",children:["-",u,"%"]})}),r&&o.jsxs("div",{className:`absolute top-2 right-2 z-20 flex flex-col gap-2 \r
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:[o.jsx("button",{onClick:p,className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-rose-500`,"aria-label":"Add to wishlist",children:o.jsx(Xo,{className:"h-4 w-4 text-foreground hover:text-rose-500"})}),o.jsx("button",{onClick:m=>{m.stopPropagation(),f()},className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Quick view",children:o.jsx(ri,{className:"h-4 w-4 text-foreground hover:text-blue-500"})})]})]}),o.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[t.category&&o.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide font-medium",children:t.category}),o.jsx("h3",{className:"font-semibold text-foreground text-sm line-clamp-2 leading-tight",children:t.name}),(l||t.rating)&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((m,v)=>o.jsx(qr,{className:`h-3.5 w-3.5 ${v<Math.floor((l==null?void 0:l.rating)||t.rating||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},v))}),o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:l?o.jsxs(o.Fragment,{children:["(",l.reviewCount," reviews)"]}):t.reviews&&t.reviews.length>0?o.jsxs(o.Fragment,{children:["(",t.reviews.length,")"]}):o.jsx(o.Fragment,{children:"(0)"})})]}),l&&o.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-green-100 to-green-50 dark:from-green-900/30 dark:to-green-800/20 px-2 py-1 rounded-full",children:[o.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-[8px] font-bold",children:"T"})}),o.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:l.trustScore.toFixed(1)})]})]}),t.colors&&t.colors.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Colors:"}),o.jsxs("div",{className:"flex gap-1",children:[t.colors.slice(0,5).map((m,v)=>o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${g(m)} 
                               shadow-sm hover:scale-110 transition-transform cursor-pointer`,title:m},v)),t.colors.length>5&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",t.colors.length-5]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-foreground text-lg",children:mA(t.price)}),t.originalPrice&&t.originalPrice>t.price&&o.jsx("span",{className:"text-sm text-muted-foreground line-through",children:mA(t.originalPrice)})]}),o.jsx("button",{onClick:d,className:`bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:hover:bg-white \r
                     text-white dark:text-slate-900 border-2 border-slate-900 dark:border-slate-100\r
                     p-2 rounded-full transition-all duration-200\r
                     hover:scale-105 focus:outline-none focus:ring-2 focus:ring-slate-500 \r
                     shadow-md hover:shadow-lg`,"aria-label":"Add to cart",children:o.jsx(Im,{className:"h-4 w-4 text-white dark:text-slate-900"})})]})]}),!1]})};function V_({widgetType:t,productSku:e,businessUnitId:r="66e3a5c8fe53e5eddc65b0fd",height:n="350px",width:a="100%",className:i=""}){const[s,l]=N.useState(!0),[c,u]=N.useState(!1),d=`trustpilot-widget-${t}-${e||"general"}`;return N.useEffect(()=>{$z();const p=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("localhost"),h=setTimeout(()=>{l(!1),p&&u(!0)},p?3e3:5e3),g=setInterval(()=>{const v=document.getElementById(d);if(v){const x=v.querySelector("iframe"),j=v.children.length>1||v.children[0]&&v.children[0].children.length>0;(x||j)&&(l(!1),u(!1),clearInterval(g))}},1e3),m=v=>{v.message&&v.message.includes("trustpilot")&&(console.warn("Trustpilot widget loading issue detected"),u(!0),l(!1))};return window.addEventListener("error",m),()=>{clearTimeout(h),clearInterval(g),window.removeEventListener("error",m)}},[d]),(()=>{const p={className:`trustpilot-widget ${i}`,"data-locale":"en-US","data-template-id":r,"data-businessunit-id":r,"data-style-height":n,"data-style-width":a};switch(t){case"review-carousel":return o.jsx("div",{id:d,...p,"data-widget":"carousel","data-stars":"1,2,3,4,5","data-schema-type":"Organization",children:o.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[s&&!c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),o.jsx("div",{className:"animate-pulse",children:"Loading customer reviews..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),o.jsx("div",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Loading...":"Customer Reviews"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?"Widgets restricted on localhost - will work on live domain":"We're setting up our review system. Check back soon!":"See what our customers are saying"})]}),o.jsx("div",{className:"text-xs mt-2 text-muted-foreground",children:"Powered by Trustpilot"})]})})});case"product-review":return o.jsx("div",{id:d,...p,"data-widget":"product-review","data-sku":e,children:s&&!c?o.jsx("div",{className:"flex items-center justify-center py-8 text-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-3"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading product reviews..."}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Powered by Trustpilot"})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx("span",{className:"text-white text-lg font-bold",children:"T"})}),o.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:c?"Reviews Currently Unavailable":"No reviews yet"}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:c?window.location.hostname==="localhost"||window.location.hostname.includes("localhost")?'Trustpilot widgets are restricted on localhost for security. They will work on the live domain (rosemamaclothing.store). You can still test the "Write a Review" button functionality.':"We're working on getting reviews set up. In the meantime, you can leave a review directly on Trustpilot.":"Be the first to share your experience with this product. Your review helps other customers make informed decisions."})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"Powered by"}),o.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs",children:"T"})}),"Trustpilot"]})]})]})});case"trustbox":default:return o.jsx("div",{id:d,...p,"data-widget":"trustbox","data-stars":"1,2,3,4,5",children:o.jsx("div",{className:"flex items-center justify-center py-6 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),o.jsx("span",{children:"Loading reviews..."})]}),o.jsx("div",{className:"text-xs",children:"Be the first to leave a review!"})]})})})}})()}const Uz="modulepreload",zz=function(t){return"/"+t},gA={},Qa=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=s(r.map(u=>{if(u=zz(u),u in gA)return;gA[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Uz,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Wz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qa(async()=>{const{default:n}=await Promise.resolve().then(()=>md);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class G_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Hz extends G_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vA extends G_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yA extends G_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var N2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(N2||(N2={}));var Vz=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Gz{constructor(e,{headers:r={},customFetch:n,region:a=N2.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Wz(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Vz(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(m=>{throw new Hz(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new vA(f);if(!f.ok)throw new yA(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof yA||a instanceof vA?a.context:void 0}}})}}var Sn={},zc={},Wc={},Hc={},Vc={},Gc={},Kz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Du=Kz();const Yz=Du.fetch,AI=Du.fetch.bind(Du),kI=Du.Headers,Xz=Du.Request,Zz=Du.Response,md=Object.freeze(Object.defineProperty({__proto__:null,Headers:kI,Request:Xz,Response:Zz,default:AI,fetch:Yz},Symbol.toStringTag,{value:"Module"})),Jz=PB(md);var Lp={},xA;function PI(){if(xA)return Lp;xA=1,Object.defineProperty(Lp,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Lp.default=t,Lp}var bA;function CI(){if(bA)return Gc;bA=1;var t=Gc&&Gc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gc,"__esModule",{value:!0});const e=t(Jz),r=t(PI());class n{constructor(i){var s,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let g=null,m=null,v=null,x=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,x=406,j="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(m=[],g=null,x=200,j="OK")}catch{u.status===404&&_===""?(x=204,j="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,x=200,j="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:x,statusText:j}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return Gc.default=n,Gc}var wA;function OI(){if(wA)return Vc;wA=1;var t=Vc&&Vc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vc,"__esModule",{value:!0});const e=t(CI());class r extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Vc.default=r,Vc}var _A;function K_(){if(_A)return Hc;_A=1;var t=Hc&&Hc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hc,"__esModule",{value:!0});const e=t(OI());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Hc.default=r,Hc}var jA;function EI(){if(jA)return Wc;jA=1;var t=Wc&&Wc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wc,"__esModule",{value:!0});const e=t(K_());class r{constructor(a,{headers:i={},schema:s,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=l}select(a,{head:i=!1,count:s}={}){const l=i?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var s;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Wc.default=r,Wc}var NA;function Qz(){if(NA)return zc;NA=1;var t=zc&&zc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zc,"__esModule",{value:!0});const e=t(EI()),r=t(K_());class n{constructor(i,{headers:s={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new e.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${i}`);let h;l||c?(f=l?"HEAD":"GET",Object.entries(s).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{p.searchParams.append(m,v)})):(f="POST",h=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return zc.default=n,zc}var SA;function eW(){if(SA)return Sn;SA=1;var t=Sn&&Sn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const e=t(Qz());Sn.PostgrestClient=e.default;const r=t(EI());Sn.PostgrestQueryBuilder=r.default;const n=t(K_());Sn.PostgrestFilterBuilder=n.default;const a=t(OI());Sn.PostgrestTransformBuilder=a.default;const i=t(CI());Sn.PostgrestBuilder=i.default;const s=t(PI());return Sn.PostgrestError=s.default,Sn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},Sn}var tW=eW();const rW=dr(tW),{PostgrestClient:nW,PostgrestQueryBuilder:Pwe,PostgrestFilterBuilder:Cwe,PostgrestTransformBuilder:Owe,PostgrestBuilder:Ewe,PostgrestError:Twe}=rW;class aW{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iW="2.15.5",sW=`realtime-js/${iW}`,oW="1.0.0",S2=1e4,lW=1e3,cW=100;var Cf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cf||(Cf={}));var yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yn||(yn={}));var Ni;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ni||(Ni={}));var A2;(function(t){t.websocket="websocket"})(A2||(A2={}));var Fl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fl||(Fl={}));class uW{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(e.slice(s,s+a));s=s+a;const c=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class TI{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Nr||(Nr={}));const AA=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=dW(s,t,e,a),i),{})},dW=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?II(i,s):k2(s)},II=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mW(e,r)}switch(t){case Nr.bool:return fW(e);case Nr.float4:case Nr.float8:case Nr.int2:case Nr.int4:case Nr.int8:case Nr.numeric:case Nr.oid:return hW(e);case Nr.json:case Nr.jsonb:return pW(e);case Nr.timestamp:return gW(e);case Nr.abstime:case Nr.date:case Nr.daterange:case Nr.int4range:case Nr.int8range:case Nr.money:case Nr.reltime:case Nr.text:case Nr.time:case Nr.timestamptz:case Nr.timetz:case Nr.tsrange:case Nr.tstzrange:return k2(e);default:return k2(e)}},k2=t=>t,fW=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hW=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pW=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mW=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>II(e,l))}return t},gW=t=>typeof t=="string"?t.replace(" ","T"):t,RI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class by{constructor(e,r,n={},a=S2){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kA||(kA={}));class Of{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Of.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Of.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Of.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const p=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(s,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PA||(PA={}));var Ef;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ef||(Ef={}));var Bs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bs||(Bs={}));class Y_{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new by(this,Ni.join,this.params,this.timeout),this.rejoinTimer=new TI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ni.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Of(this),this.broadcastEndpointURL=RI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==yn.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Ef.PRESENCE]&&this.bindings[Ef.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Bs.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Bs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(Bs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,x=[];for(let j=0;j<v;j++){const b=m[j],{filter:{event:_,schema:S,table:A,filter:k}}=b,O=h&&h[j];if(O&&O.event===_&&O.schema===S&&O.table===A&&O.filter===k)x.push(Object.assign(Object.assign({},b),{id:O.id}));else{this.unsubscribe(),this.state=yn.errored,e==null||e(Bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Bs.SUBSCRIBED);return}}).receive("error",h=>{this.state=yn.errored,e==null||e(Bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===yn.joined&&e===Ef.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ni.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new by(this,Ni.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new by(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ni;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(h=>h.callback(p,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var g,m,v,x,j,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(j=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:x,type:j,errors:b}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:j,new:{},old:{},errors:b}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===yn.closed}_isJoined(){return this.state===yn.joined}_isJoining(){return this.state===yn.joining}_isLeaving(){return this.state===yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Y_.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ni.close,{},e)}_onError(e){this._on(Ni.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=AA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=AA(e.columns,e.old_record)),r}}const wy=()=>{},Mp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vW=[1e3,2e3,5e3,1e4],yW=1e4,xW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bW{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=S2,this.transport=null,this.heartbeatIntervalMs=Mp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wy,this.ref=0,this.reconnectTimer=null,this.logger=wy,this.conn=null,this.sendBuffer=[],this.serializer=new uW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Qa(async()=>{const{default:l}=await Promise.resolve().then(()=>md);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${A2.websocket}`,this.httpEndpoint=RI(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aW.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oW}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cf.connecting:return Fl.Connecting;case Cf.open:return Fl.Open;case Cf.closing:return Fl.Closing;default:return Fl.Closed}}isConnected(){return this.connectionState()===Fl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Y_(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Mp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ni.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([xW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:sW};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ni.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,s,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:S2,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Mp.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:wy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(f=>vW[f-1]||yW),this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((f,p)=>p(JSON.stringify(f))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class X_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wW extends X_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class P2 extends X_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var _W=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const LI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qa(async()=>{const{default:n}=await Promise.resolve().then(()=>md);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},jW=()=>_W(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qa(()=>Promise.resolve().then(()=>md),void 0)).Response:Response}),C2=t=>{if(Array.isArray(t))return t.map(r=>C2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=C2(n)}),e},NW=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const _y=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),SW=(t,e,r)=>vc(void 0,void 0,void 0,function*(){const n=yield jW();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,s=(a==null?void 0:a.statusCode)||i+"";e(new wW(_y(a),i,s))}).catch(a=>{e(new P2(_y(a),a))}):e(new P2(_y(t),t))}),AW=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(NW(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Rh(t,e,r,n,a,i){return vc(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(r,AW(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>SW(c,l,n))})})}function Lm(t,e,r,n){return vc(this,void 0,void 0,function*(){return Rh(t,"GET",e,r,n)})}function ts(t,e,r,n,a){return vc(this,void 0,void 0,function*(){return Rh(t,"POST",e,n,a,r)})}function O2(t,e,r,n,a){return vc(this,void 0,void 0,function*(){return Rh(t,"PUT",e,n,a,r)})}function kW(t,e,r,n){return vc(this,void 0,void 0,function*(){return Rh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function MI(t,e,r,n,a){return vc(this,void 0,void 0,function*(){return Rh(t,"DELETE",e,n,a,r)})}var Xn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const PW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CW{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=LI(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Xn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},CA),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?O2:ts)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Xn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:CA.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield O2(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(xn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ts(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new X_("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xn(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Xn(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Xn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield ts(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Xn(this,void 0,void 0,function*(){try{const a=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}download(e,r){return Xn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Lm(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(xn(l))return{data:null,error:l};throw l}})}info(e){return Xn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Lm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:C2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}exists(e){return Xn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield kW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n)&&n instanceof P2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Xn(this,void 0,void 0,function*(){try{return{data:yield MI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},PW),r),{prefix:e||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xn(a))return{data:null,error:a};throw a}})}listV2(e,r){return Xn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const OW="2.12.1",EW={"X-Client-Info":`storage-js/${OW}`};var Kc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class TW{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},EW),r),this.fetch=LI(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Kc(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xn(e))return{data:null,error:e};throw e}})}getBucket(e){return Kc(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Kc(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Kc(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Kc(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Kc(this,void 0,void 0,function*(){try{return{data:yield MI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}})}}class IW extends TW{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new CW(this.url,this.headers,e,this.fetch)}}const RW="2.57.4";let Nf="";typeof Deno<"u"?Nf="deno":typeof document<"u"?Nf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nf="react-native":Nf="node";const LW={"X-Client-Info":`supabase-js-${Nf}/${RW}`},MW={headers:LW},DW={schema:"public"},$W={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FW={};var BW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const qW=t=>{let e;return t?e=t:typeof fetch>"u"?e=AI:e=fetch,(...r)=>e(...r)},UW=()=>typeof Headers>"u"?kI:Headers,zW=(t,e,r)=>{const n=qW(r),a=UW();return(i,s)=>BW(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var WW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function HW(t){return t.endsWith("/")?t:t+"/"}function VW(t,e){var r,n;const{db:a,auth:i,realtime:s,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>WW(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function GW(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HW(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const DI="2.71.1",hu=30*1e3,E2=3,jy=E2*hu,KW="http://localhost:9999",YW="supabase.auth.token",XW={"X-Client-Info":`gotrue-js/${DI}`},T2="X-Supabase-Api-Version",$I={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JW=600*1e3;class Z_ extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class QW extends Z_{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function eH(t){return $t(t)&&t.name==="AuthApiError"}class FI extends Z_{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class tl extends Z_{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Io extends tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tH(t){return $t(t)&&t.name==="AuthSessionMissingError"}class Dp extends tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $p extends tl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fp extends tl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rH(t){return $t(t)&&t.name==="AuthImplicitGrantRedirectError"}class OA extends tl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class I2 extends tl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ny(t){return $t(t)&&t.name==="AuthRetryableFetchError"}class EA extends tl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class R2 extends tl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TA=` 	
\r=`.split(""),nH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<TA.length;e+=1)t[TA[e].charCodeAt(0)]=-2;for(let e=0;e<Mm.length;e+=1)t[Mm[e].charCodeAt(0)]=e;return t})();function IA(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Mm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Mm[n]),e.queuedBits-=6}}function BI(t,e,r){const n=nH[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function RA(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{sH(s,n,r)};for(let s=0;s<t.length;s+=1)BI(t.charCodeAt(s),a,i);return e.join("")}function aH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function iH(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}aH(n,e)}}function sH(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function oH(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)BI(t.charCodeAt(a),r,n);return new Uint8Array(e)}function lH(t){const e=[];return iH(t,r=>e.push(r)),new Uint8Array(e)}function cH(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>IA(a,r,n)),IA(null,r,n),e.join("")}function uH(t){return Math.round(Date.now()/1e3)+t}function dH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const wi=()=>typeof window<"u"&&typeof document<"u",Pl={tested:!1,writable:!1},qI=()=>{if(!wi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pl.tested)return Pl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pl.tested=!0,Pl.writable=!0}catch{Pl.tested=!0,Pl.writable=!1}return Pl.writable};function fH(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const UI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Qa(async()=>{const{default:n}=await Promise.resolve().then(()=>md);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},hH=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Cl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Co=async(t,e)=>{await t.removeItem(e)};class ov{constructor(){this.promise=new ov.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ov.promiseConstructor=Promise;function Sy(t){const e=t.split(".");if(e.length!==3)throw new R2("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ZW.test(e[n]))throw new R2("JWT not in base64url format");return{header:JSON.parse(RA(e[0])),payload:JSON.parse(RA(e[1])),signature:oH(e[2]),raw:{header:e[0],payload:e[1]}}}async function pH(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mH(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function gH(t){return("0"+t.toString(16)).substr(-2)}function vH(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,gH).join("")}async function yH(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function xH(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await yH(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yc(t,e,r=!1){const n=vH();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await pu(t,`${e}-code-verifier`,a);const i=await xH(n);return[i,n===i?"plain":"s256"]}const bH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wH(t){const e=t.headers.get(T2);if(!e||!e.match(bH))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _H(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jH(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xc(t){if(!NH.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ay(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LA(t){return JSON.parse(JSON.stringify(t))}var SH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Il=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),AH=[502,503,504];async function MA(t){var e;if(!hH(t))throw new I2(Il(t),0);if(AH.includes(t.status))throw new I2(Il(t),t.status);let r;try{r=await t.json()}catch(i){throw new FI(Il(i),i)}let n;const a=wH(t);if(a&&a.getTime()>=$I["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new EA(Il(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Io}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new EA(Il(r),t.status,r.weak_password.reasons);throw new QW(Il(r),t.status||500,n)}const kH=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Vt(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[T2]||(i[T2]=$I["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await PH(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function PH(t,e,r,n,a,i){const s=kH(e,n,a,i);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new I2(Il(c),0)}if(l.ok||await MA(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await MA(c)}}function Fs(t){var e;let r=null;TH(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=uH(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function DA(t){const e=Fs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $o(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function CH(t){return{data:t,error:null}}function OH(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=SH(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function EH(t){return t}function TH(t){return t.access_token&&t.refresh_token&&t.expires_in}const ky=["global","local","others"];var IH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class RH{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=UI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ky[0]){if(ky.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ky.join(", ")}`);try{return await Vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$o})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=IH(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:OH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$o})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:EH});if(d.error)throw d.error;const f=await d.json(),p=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Xc(e);try{return await Vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$o})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Xc(e);try{return await Vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$o})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Xc(e);try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$o})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Xc(e.userId);try{const{data:r,error:n}=await Vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Xc(e.userId),Xc(e.id);try{return{data:await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}}function $A(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function LH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zc={debug:!!(globalThis&&qI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MH extends zI{}async function DH(t,e,r){Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MH(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}LH();const $H={url:KW,storageKey:YW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function FA(t,e,r){return await r()}const Jc={};class Hf{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hf.nextInstanceID,Hf.nextInstanceID+=1,this.instanceID>0&&wi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},$H),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new RH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=UI(a.fetch),this.lock=a.lock||FA,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:wi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=DH:this.lock=FA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:qI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$A(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=$A(this.memoryStorage)),wi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Jc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jc[this.storageKey]=Object.assign(Object.assign({},Jc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jc[this.storageKey]=Object.assign(Object.assign({},Jc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${DI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=fH(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rH(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $t(r)?{error:r}:{error:new FI("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Fs}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Yc(this.storage,this.storageKey)),i=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:Fs})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Fs})}else throw new $p("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:l}=e;r=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:DA})}else if("phone"in e){const{phone:i,password:s,options:l}=e;r=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:DA})}else throw new $p("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Dp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,l,c,u,d,f,p,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:x,statement:j,options:b}=e;let _;if(wi())if(typeof x=="object")_=x;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),j?{statement:j}:null));let k;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")k=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)k=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=A}}try{const{data:v,error:x}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:cH(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Fs});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Dp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if($t(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await Cl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Fs});if(await Co(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Dp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if($t(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,l=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Dp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yc(this.storage,this.storageKey));const{error:f}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $p("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Fs});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Yc(this.storage,this.storageKey)),await Vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:CH})}catch(i){if($t(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Io;const{error:a}=await Vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await Vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:l}=await Vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new $p("You must provide either an email or phone number and a type")}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Cl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<jy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Cl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Ay()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$o}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Io}:await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:$o})})}catch(r){if($t(r))return tH(r)&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Io;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Yc(this.storage,this.storageKey));const{data:u,error:d}=await Vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:$o});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Io;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Sy(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($t(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Io;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!wi())throw new Fp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new OA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new OA("No code detected.");const{data:j,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!s||!u)throw new Fp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const h=p-d;h*1e3<=hu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:p,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if($t(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Cl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(eH(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Co(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=dH(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yc(this.storage,this.storageKey,!0));try{return await Vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($t(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Vt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return wi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($t(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mH(async a=>(a>0&&await pH(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fs})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Ny(i)&&Date.now()+s-n<hu})}catch(n){if(this._debug(r,"error",n),$t(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),wi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Cl(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Cl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await pu(this.userStorage,this.storageKey+"-user",s)),a.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Ay()}else if(a&&!a.user&&!a.user){const s=await Cl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Co(this.storage,this.storageKey+"-user"),await pu(this.storage,this.storageKey,a)):a.user=Ay()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jy;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jy}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),Ny(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Io;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ov;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Io;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),$t(i)){const s={session:null,error:i};return Ny(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await pu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=LA(a);await pu(this.storage,this.storageKey,i)}else{const a=LA(r);await pu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Co(this.storage,this.storageKey),await Co(this.storage,this.storageKey+"-code-verifier"),await Co(this.storage,this.storageKey+"-user"),this.userStorage&&await Co(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/hu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${hu}ms, refresh threshold is ${E2} ticks`),a<=E2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Yc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Vt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await Vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Sy(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+JW>a)return n;const{data:i,error:s}=await Vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=Sy(n);r!=null&&r.allowExpired||_H(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:s},error:null}}const d=jH(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,lH(`${l}.${c}`)))throw new R2("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}Hf.nextInstanceID=0;const FH=Hf;class BH extends FH{constructor(e){super(e)}}var qH=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class UH{constructor(e,r,n){var a,i,s;this.supabaseUrl=e,this.supabaseKey=r;const l=GW(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:DW,realtime:FW,auth:Object.assign(Object.assign({},$W),{storageKey:c}),global:MW},d=VW(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=zW(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new nW(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new IW(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return qH(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:l,lock:c,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BH({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bW(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zH=(t,e,r)=>new UH(t,e,r);function WH(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WH()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HH="https://xsgumgcioyaehccvklbr.supabase.co",VH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZ3VtZ2Npb3lhZWhjY3ZrbGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4MDM2MTIsImV4cCI6MjA3MTM3OTYxMn0.WdjuHdpQglzzCvuEUWOdLl8Z94bK2FQhtJgS2Dlfs5Q",Ee=zH(HH,VH),ra=async()=>{try{const{data:t,error:e}=await Ee.rpc("is_admin");if(e)throw e;return t||!1}catch(t){return console.error("Error checking admin status:",t),!1}},WI=async t=>{try{let e=Ee.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(e=e.eq("category",t));const{data:r,error:n}=await e;if(n)throw n;return r||[]}catch(e){return console.error("Error fetching products:",e),[]}},J_=async t=>{try{if(!await ra())throw new Error("Unauthorized");let r=Ee.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(r=r.eq("category",t));const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching all products:",e),[]}},HI=async t=>{try{if(!await ra())throw new Error("Unauthorized");let r=Ee.from("products").select("*").eq("is_active",!1).order("updated_at",{ascending:!1});const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching deleted products:",e),[]}},Q_=async t=>{try{const{data:e,error:r}=await Ee.from("products").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){return console.error("Error fetching product:",e),null}},ej=async()=>{try{const{data:{user:t}}=await Ee.auth.getUser();if(!t)return null;const{data:e,error:r}=await Ee.from("cart").select("*").eq("user_id",t.id).single();if(r)throw r;const{data:n,error:a}=await Ee.from("cart_items").select(`
        id,
        quantity,
        size,
        color,
        products (id, name, price, image_url, category)
      `).eq("cart_id",e.id);if(a)throw a;return{...e,items:n||[]}}catch(t){return console.error("Error fetching user cart:",t),null}},L2=async(t,e,r,n=1)=>{try{const{data:{user:a}}=await Ee.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:i,error:s}=await Ee.from("cart").select("id").eq("user_id",a.id).single();if(s)throw s;let l=Ee.from("cart_items").select("id, quantity").eq("cart_id",i.id).eq("product_id",t);e?l=l.eq("size",e):l=l.is("size",null),r?l=l.eq("color",r):l=l.is("color",null);const{data:c,error:u}=await l.single();if(u&&u.code!=="PGRST116")throw u;if(c){const{error:d}=await Ee.from("cart_items").update({quantity:c.quantity+n}).eq("id",c.id);if(d)throw d}else{const{error:d}=await Ee.from("cart_items").insert({cart_id:i.id,product_id:t,size:e||null,color:r||null,quantity:n});if(d)throw d}return!0}catch(a){return console.error("Error adding to cart:",a),!1}},tj=async(t,e,r)=>{try{const{data:{user:n}}=await Ee.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:a,error:i}=await Ee.from("cart").select("id").eq("user_id",n.id).single();if(i)throw i;let s=Ee.from("cart_items").select("id, quantity, size, color").eq("cart_id",a.id).eq("product_id",t);e?s=s.eq("size",e):s=s.is("size",null),r?s=s.eq("color",r):s=s.is("color",null);const{data:l,error:c}=await s.single();if(c&&c.code!=="PGRST116")throw c;return l}catch(n){return console.error("Error finding cart item:",n),null}},VI=async(t,e,r)=>{try{const n=await tj(t,e,r);if(!n)return!1;const{error:a}=await Ee.from("cart_items").delete().eq("id",n.id);if(a)throw a;return!0}catch(n){return console.error("Error removing cart item:",n),!1}},GH=async(t,e,r,n)=>{try{const a=await tj(t,r,n);if(!a)return!1;if(e<=0)return await VI(t,r,n);{const{error:i}=await Ee.from("cart_items").update({quantity:e}).eq("id",a.id);if(i)throw i;return!0}}catch(a){return console.error("Error updating cart item by variant:",a),!1}},GI=async t=>{try{const{data:{user:e}}=await Ee.auth.getUser();if(!e)throw new Error("User not authenticated");const r=await ej();if(!r||!r.items||r.items.length===0)throw new Error("Cart is empty");const{data:n,error:a}=await Ee.rpc("create_order_from_cart",{p_user_id:e.id,p_shipping_address:t});if(a)throw a;return n}catch(e){return console.error("Error creating order:",e),null}},KI=async(t,e,r,n=!1,a)=>{var i;try{let s=null;if(n&&a){const{data:p,error:h}=await Ee.auth.signUp({email:r.email,password:a,options:{data:{name:`${r.firstName} ${r.lastName}`,phone:r.phone}}});h?console.warn("Account creation failed, proceeding as guest:",h):s=(i=p.user)==null?void 0:i.id}const l={user_id:s,status:"pending",total_amount:t.reduce((p,h)=>p+h.product.price*h.quantity,0),shipping_address:e,customer_email:r.email,customer_name:`${r.firstName} ${r.lastName}`,customer_phone:r.phone},{data:c,error:u}=await Ee.from("orders").insert(l).select().single();if(u)throw u;const d=t.map(p=>({order_id:c.id,product_id:p.productId,quantity:p.quantity,price_at_purchase:p.product.price})),{error:f}=await Ee.from("order_items").insert(d);if(f)throw f;return c.id}catch(s){return console.error("Error creating guest order:",s),null}},YI=async()=>{try{const{data:{user:t}}=await Ee.auth.getUser();if(!t)return[];const{data:e,error:r}=await Ee.from("orders").select(`
        id,
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching user orders:",t),[]}},XI=async()=>{try{if(!await ra())throw new Error("Unauthorized");const{data:e,error:r}=await Ee.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching all orders:",t),[]}},ZI=async(t,e)=>{try{if(!await ra())throw new Error("Unauthorized");const{error:n}=await Ee.from("orders").update({status:e}).eq("id",t);if(n)throw n;return!0}catch(r){return console.error("Error updating order status:",r),!1}},JI=async t=>{try{if(!await ra())throw new Error("Unauthorized");const{data:r,error:n}=await Ee.from("products").insert(t).select().single();if(n)throw n;return r}catch(e){return console.error("Error creating product:",e),null}},ym=async(t,e)=>{try{if(!await ra())throw new Error("Unauthorized");const{data:n,error:a}=await Ee.from("products").update(e).eq("id",t).select().single();if(a)throw a;return n}catch(r){return console.error("Error updating product:",r),null}},QI=async t=>{try{if(console.log("🗑️ DeleteProduct: Starting soft deletion for product:",t),!await ra())throw console.error("🗑️ DeleteProduct: User is not admin"),new Error("Unauthorized");console.log("🗑️ DeleteProduct: Admin check passed");const r=await Q_(t);if(!r)throw console.error("🗑️ DeleteProduct: Product not found"),new Error("Product not found");console.log("🗑️ DeleteProduct: Product found:",r.name),console.log("🗑️ DeleteProduct: Performing soft delete (setting is_active to false)");const{error:n}=await Ee.from("products").update({is_active:!1}).eq("id",t);if(n)throw console.error("🗑️ DeleteProduct: Soft delete failed:",n),n;return console.log("🗑️ DeleteProduct: Successfully soft deleted product"),console.log("🗑️ DeleteProduct: Product moved to deleted inventory"),!0}catch(e){return console.error("🗑️ DeleteProduct: Error during soft delete:",e),!1}},e8=async t=>{try{if(console.log("🔄 RestoreProduct: Starting restore for product:",t),!await ra())throw console.error("🔄 RestoreProduct: User is not admin"),new Error("Unauthorized");const{error:r}=await Ee.from("products").update({is_active:!0}).eq("id",t);if(r)throw console.error("🔄 RestoreProduct: Restore failed:",r),r;return console.log("🔄 RestoreProduct: Successfully restored product"),!0}catch(e){return console.error("🔄 RestoreProduct: Error during restore:",e),!1}},t8=async t=>{try{if(console.log("💀 PermanentDelete: Starting permanent deletion for product:",t),!await ra())throw console.error("💀 PermanentDelete: User is not admin"),new Error("Unauthorized");const{error:r}=await Ee.from("products").delete().eq("id",t);if(r)throw console.error("💀 PermanentDelete: Permanent delete failed:",r),r;return console.log("💀 PermanentDelete: Successfully permanently deleted product"),!0}catch(e){return console.error("💀 PermanentDelete: Error during permanent delete:",e),!1}},r8=async(t,e)=>{try{const{data:r,error:n}=await Ee.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Error updating user profile:",r),null}},n8=async t=>{try{const{data:e,error:r}=await Ee.auth.updateUser({password:t});if(r)throw r;return e}catch(e){return console.error("Error updating user password:",e),null}},a8=async()=>{try{const{data:t,error:e}=await Ee.from("orders").select("total_amount");if(e)throw e;return(t==null?void 0:t.reduce((n,a)=>n+(a.total_amount||0),0))||0}catch(t){return console.error("Error fetching total revenue:",t),0}},i8=async()=>{try{const{count:t,error:e}=await Ee.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total orders:",t),0}},s8=async()=>{try{const{count:t,error:e}=await Ee.from("users").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total users:",t),0}},o8=async(t,e)=>{try{const{data:r,error:n}=await Ee.from("orders").select(`
        created_at,
        total_amount
      `).gte("created_at",t).lte("created_at",e);if(n)throw n;const a={};return(r||[]).forEach(s=>{const l=new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});a[l]||(a[l]={sales:0,orders:0}),a[l].sales+=s.total_amount,a[l].orders+=1}),Object.entries(a).map(([s,l])=>({month:s,sales:l.sales,orders_count:l.orders}))}catch(r){return console.error("Error fetching sales data:",r),[]}},l8=async()=>{try{const{data:t,error:e}=await Ee.from("products").select("category");if(e)throw e;const r={};(t||[]).forEach(i=>{const s=i.category||"Uncategorized";r[s]=(r[s]||0)+1});const n=Object.values(r).reduce((i,s)=>i+s,0);return Object.entries(r).map(([i,s])=>({category_name:i,product_count:s,percentage:Math.round(s/n*100*100)/100}))}catch(t){return console.error("Error fetching category distribution:",t),[]}},c8=async(t=10)=>{try{const{data:e,error:r}=await Ee.from("orders").select(`
        id,
        total_amount,
        status,
        created_at,
        users!inner (
          email,
          name
        )
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e==null?void 0:e.map(a=>{var i,s;return{order_id:a.id,customer_email:((i=a.users)==null?void 0:i.email)||"N/A",customer_name:((s=a.users)==null?void 0:s.name)||"N/A",amount:a.total_amount,status:a.status,order_date:a.created_at}}))||[]}catch(e){return console.error("Error fetching recent orders:",e),[]}},u8=async(t=30)=>{try{const e=new Date,r=new Date(e.getTime()-t*24*60*60*1e3),n=new Date(e.getTime()-t*2*24*60*60*1e3),a=new Date(e.getTime()-t*24*60*60*1e3),{data:i,error:s}=await Ee.from("orders").select("total_amount").gte("created_at",r.toISOString());if(s)throw s;const l=(i==null?void 0:i.reduce((p,h)=>p+(h.total_amount||0),0))||0,{data:c,error:u}=await Ee.from("orders").select("total_amount").gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(u)throw u;const d=(c==null?void 0:c.reduce((p,h)=>p+(h.total_amount||0),0))||0,f=d===0?l>0?100:0:Math.round((l-d)/d*100*100)/100;return{current_period_revenue:l,previous_period_revenue:d,growth_percentage:f}}catch(e){return console.error("Error fetching revenue growth:",e),{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}},d8=async t=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can delete orders");const{error:r}=await Ee.from("orders").update({deleted_at:new Date().toISOString()}).eq("id",t).is("deleted_at",null);if(r)throw r;return!0}catch(e){return console.error("Error soft deleting order:",e),!1}},f8=async t=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can restore orders");const{error:r}=await Ee.from("orders").update({deleted_at:null}).eq("id",t).not("deleted_at","is",null);if(r)throw r;return!0}catch(e){return console.error("Error restoring order:",e),!1}},h8=async t=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can permanently delete orders");const{error:r}=await Ee.from("order_items").delete().eq("order_id",t);if(r)throw r;const{error:n}=await Ee.from("orders").delete().eq("id",t);if(n)throw n;return!0}catch(e){return console.error("Error permanently deleting order:",e),!1}},p8=async()=>{try{if(!await ra())throw new Error("Unauthorized: Only admins can view deleted orders");const{data:e,error:r}=await Ee.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        updated_at,
        deleted_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).not("deleted_at","is",null).order("deleted_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching deleted orders:",t),[]}},Bp=Object.freeze(Object.defineProperty({__proto__:null,addToCart:L2,createGuestOrder:KI,createOrderFromCart:GI,createProduct:JI,deleteProduct:QI,findCartItem:tj,getAllOrders:XI,getAllProducts:J_,getCategoryDistribution:l8,getDeletedOrders:p8,getDeletedProducts:HI,getProduct:Q_,getProducts:WI,getRecentOrders:c8,getRevenueGrowth:u8,getSalesData:o8,getTotalOrders:i8,getTotalRevenue:a8,getTotalUsers:s8,getUserCart:ej,getUserOrders:YI,isAdmin:ra,permanentlyDeleteOrder:h8,permanentlyDeleteProduct:t8,removeCartItem:VI,restoreOrder:f8,restoreProduct:e8,softDeleteOrder:d8,supabase:Ee,updateCartItemByVariant:GH,updateOrderStatus:ZI,updateProduct:ym,updateUserPassword:n8,updateUserProfile:r8},Symbol.toStringTag,{value:"Module"})),m8=N.createContext(void 0),KH=({children:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,s]=N.useState(null),l=async d=>{try{a(!0),s(null);const p=(await WI(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Ee.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Ee.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching products:",f),s("Failed to load products")}finally{a(!1)}},c=async d=>{try{a(!0),s(null);const p=(await J_(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Ee.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Ee.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching all products:",f),s("Failed to load products")}finally{a(!1)}},u=async d=>{try{a(!0),s(null);const f=await Q_(d);if(!f)return null;let p=[];if(f.images&&Array.isArray(f.images)&&f.images.length>0)p=f.images.filter(g=>g&&typeof g=="string"&&g.trim()!=="").map(g=>{if(g.startsWith("http"))return g;const m=g.startsWith("/")?g.substring(1):g;return Ee.storage.from("product-images").getPublicUrl(m).data.publicUrl});else if(f.image_url&&typeof f.image_url=="string"&&f.image_url.trim()!==""){const g=f.image_url;if(g.startsWith("http"))p=[g];else{const m=g.startsWith("/images/")?g.substring(8):g.startsWith("/")?g.substring(1):g;p=[Ee.storage.from("product-images").getPublicUrl(m).data.publicUrl]}}else p=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:f.id,name:f.name,category:f.category,price:f.price,images:p,sizes:f.sizes||["S","M","L"],colors:f.colors||["Black","White"],description:f.description||"",reviews:[],rating:4.5,inStock:f.in_stock??!0,originalPrice:f.original_price||void 0}}catch(f){return console.error("Error fetching product:",f),s("Failed to load product"),null}finally{a(!1)}};return N.useEffect(()=>{l()},[]),o.jsx(m8.Provider,{value:{products:e,loading:n,error:i,fetchProducts:l,fetchAllProducts:c,fetchProduct:u},children:t})},Lh=()=>{const t=N.useContext(m8);if(t===void 0)throw new Error("useProducts must be used within a ProductProvider");return t},g8=N.createContext(void 0),YH=({children:t})=>{const[e,r]=N.useState(null),[n,a]=N.useState(!0),[i,s]=N.useState(null),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState(!1),h=N.useRef(!1),g=N.useRef(!1),m=N.useCallback(async()=>{var A,k;if(h.current){console.log("fetchUser: Already fetching, skipping...");return}console.log("fetchUser: Starting"),h.current=!0;try{a(!0),s(null),console.log("fetchUser: Getting auth user from Supabase");const{data:{user:O}}=await Ee.auth.getUser();console.log("fetchUser: Checking admin status");const T=await ra();if(console.log(`fetchUser: Admin status is ${T}`),O){console.log(`fetchUser: Auth user found with ID: ${O.id}`),d(O.email_confirmed_at!==null),console.log('fetchUser: Fetching user profile from "users" table');const{data:R,error:P}=await Ee.from("users").select("*").eq("id",O.id).single();if(P&&P.code!=="PGRST116")throw console.error("fetchUser: Error fetching user profile:",P),P;console.log("fetchUser: User profile data:",R);const I={id:O.id,email:O.email??"",name:(R==null?void 0:R.name)??((A=O.user_metadata)==null?void 0:A.name)??"New User",phone:(R==null?void 0:R.phone)??((k=O.user_metadata)==null?void 0:k.phone)??void 0,membershipTier:"Bronze",points:0,created_at:R==null?void 0:R.created_at,preferences:{sizes:[],colors:[],styles:[]}};console.log("fetchUser: User state transformed and ready to be set:",I),r(I),c(T)}else console.log("fetchUser: No auth user found. Clearing user state."),r(null),c(!1),d(!1)}catch(O){console.error("Error in fetchUser:",O),s(O.message||"Failed to load user data"),r(null),c(!1)}finally{console.log("fetchUser: Finished"),a(!1),h.current=!1}},[]),v=async(A,k)=>{console.log("signIn: Starting"),a(!0),s(null);try{console.log("signIn: Calling Supabase signInWithPassword");const{data:O,error:T}=await Ee.auth.signInWithPassword({email:A,password:k});if(console.log("signIn: Supabase call returned."),console.log("signIn: Data:",O),console.log("signIn: Error:",T),T)throw console.error("signIn: Supabase auth error:",T),T;return console.log("signIn: Supabase sign-in appears successful. Waiting for auth state change."),!0}catch(O){return console.error("Error in signIn:",O),s(O.message||"Failed to sign in"),!1}finally{console.log("signIn: Finished"),a(!1)}},x=async(A,k,O)=>{try{a(!0),s(null);const{error:T}=await Ee.auth.signUp({email:A,password:k,options:{data:{name:O}}});if(T)throw T;return!0}catch(T){return console.error("Error signing up:",T),s(T.message||"Failed to sign up"),!1}finally{a(!1)}},j=async()=>{console.log("signOut: Starting logout process"),g.current=!0;try{a(!0),console.log("signOut: Calling supabase.auth.signOut()");const{error:A}=await Ee.auth.signOut();if(A)throw console.error("signOut: Supabase sign out error:",A),A;console.log("signOut: Supabase sign out successful"),console.log("signOut: Clearing local state"),r(null),c(!1),console.log("signOut: Local state cleared")}catch(A){console.error("signOut: Error during logout:",A),s("Failed to sign out")}finally{console.log("signOut: Setting loading to false"),a(!1)}},b=async A=>{try{a(!0),s(null);const{error:k}=await Ee.auth.resetPasswordForEmail(A);if(k)throw k;return!0}catch(k){return console.error("Error resetting password:",k),s(k.message||"Failed to reset password"),!1}finally{a(!1)}},_=async()=>{try{s(null),p(!0);const{data:{user:A}}=await Ee.auth.getUser();if(!A)throw new Error("User not found");const{error:k}=await Ee.auth.resend({type:"signup",email:A.email});if(k)throw k;return!0}catch(A){return console.error("Error resending verification:",A),s(A.message||"Failed to resend verification email"),!1}finally{p(!1)}},S=async()=>{try{const{data:{user:A}}=await Ee.auth.getUser();A&&d(A.email_confirmed_at!==null)}catch(A){console.error("Error checking verification status:",A)}};return N.useEffect(()=>{console.log("AuthContext: Component mounted, resetting logout flag"),g.current=!1},[]),N.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const{data:{subscription:A}}=Ee.auth.onAuthStateChange(async(k,O)=>{if(console.log("AuthContext: Auth state changed:",k,O?"Session exists":"No session"),g.current&&k==="SIGNED_OUT"){console.log("AuthContext: Skipping fetchUser during logout process");return}await m()});return m(),()=>{console.log("AuthContext: Unsubscribing from auth state listener"),A.unsubscribe()}},[m]),o.jsx(g8.Provider,{value:{user:e,loading:n,error:i,isAdmin:l,isEmailVerified:u,pendingVerification:f,signIn:v,signUp:x,signOut:j,resetPassword:b,resendVerification:_,checkVerificationStatus:S},children:t})},Cn=()=>{const t=N.useContext(g8);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function rl(){return o.jsx("div",{className:"h-24 w-full"})}const v8=N.createContext(void 0),XH=({children:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,s]=N.useState(null),{user:l}=Cn(),c="rosemama_guest_cart",u=!l,d=()=>{try{const b=localStorage.getItem(c);if(b){const _=JSON.parse(b);r(_)}else r([])}catch(b){console.error("Error loading guest cart:",b),r([])}},f=b=>{try{localStorage.setItem(c,JSON.stringify(b))}catch(_){console.error("Error saving guest cart:",_)}},p=async()=>{if(l&&e.length>0)try{for(const b of e)await L2(b.productId,b.size,b.color,b.quantity);localStorage.removeItem(c),await h()}catch(b){console.error("Error merging guest cart:",b)}},h=async()=>{try{a(!0),s(null);const b=await ej();if(!b){r([]);return}const _=b.items.map(S=>({productId:S.products.id,product:{id:S.products.id,name:S.products.name,category:S.products.category,price:S.products.price,images:S.products.image_url?[S.products.image_url]:[],sizes:["S","M","L"],colors:["Black","White"],description:"",reviews:[],rating:4.5,inStock:!0},size:S.size||"M",color:S.color||"Black",quantity:S.quantity}));r(_)}catch(b){console.error("Error fetching cart:",b),s("Failed to load cart")}finally{a(!1)}},g=async(b,_,S,A)=>{try{if(a(!0),s(null),u){const k={productId:b.id,product:b,size:_,color:S,quantity:A},O=[...e],T=O.findIndex(R=>R.productId===b.id&&R.size===_&&R.color===S);return T>=0?O[T].quantity+=A:O.push(k),r(O),f(O),!0}else{const k=await L2(b.id,_,S,A);return k&&await h(),k}}catch(k){return console.error("Error adding to cart:",k),s("Failed to add item to cart"),!1}finally{a(!1)}},m=async b=>{try{console.log("CartContext removeItem called:",{cartItemId:b,isGuestCart:u}),a(!0),s(null);const{supabase:_}=await Qa(async()=>{const{supabase:k}=await Promise.resolve().then(()=>Bp);return{supabase:k}},void 0),{data:{session:S}}=await _.auth.getSession(),A=S&&S.user;if(console.log("Session check:",{hasValidSession:A,sessionExists:!!S,userExists:!!(S!=null&&S.user)}),A){const[k,O,T]=b.split("|");console.log("Removing from authenticated cart:",{productId:k,size:O,color:T});const{removeCartItem:R}=await Qa(async()=>{const{removeCartItem:I}=await Promise.resolve().then(()=>Bp);return{removeCartItem:I}},void 0),P=await R(k,O,T);return P&&await h(),P}else{const[k,O,T]=b.split("|");console.log("Removing from guest cart (no valid session):",{productId:k,size:O,color:T}),console.log("Current items before filter:",e);const R=e.filter(P=>!(P.productId===k&&P.size===O&&P.color===T));return console.log("Updated items after filter:",R),r(R),f(R),!0}}catch(_){return console.error("Error removing from cart:",_),s("Failed to remove item from cart"),!1}finally{a(!1)}},v=async(b,_)=>{try{console.log("CartContext updateItemQuantity called:",{cartItemId:b,quantity:_,isGuestCart:u}),a(!0),s(null);const{supabase:S}=await Qa(async()=>{const{supabase:O}=await Promise.resolve().then(()=>Bp);return{supabase:O}},void 0),{data:{session:A}}=await S.auth.getSession(),k=A&&A.user;if(console.log("Session check for update:",{hasValidSession:k,sessionExists:!!A,userExists:!!(A!=null&&A.user)}),k){const[O,T,R]=b.split("|");console.log("Updating authenticated cart item:",{productId:O,size:T,color:R,quantity:_});const{updateCartItemByVariant:P}=await Qa(async()=>{const{updateCartItemByVariant:M}=await Promise.resolve().then(()=>Bp);return{updateCartItemByVariant:M}},void 0),I=await P(O,_,T,R);return I&&await h(),I}else{const[O,T,R]=b.split("|");console.log("Updating guest cart item:",{productId:O,size:T,color:R,quantity:_}),console.log("Current items before update:",e);const P=e.map(I=>I.productId===O&&I.size===T&&I.color===R?{...I,quantity:_}:I);return console.log("Updated items after update:",P),r(P),f(P),!0}}catch(S){return console.error("Error updating cart quantity:",S),s("Failed to update cart"),!1}finally{a(!1)}},x=()=>e.reduce((b,_)=>b+_.quantity,0),j=()=>e.reduce((b,_)=>b+_.product.price*_.quantity,0);return N.useEffect(()=>{(async()=>{l?await h():(d(),a(!1))})()},[l]),N.useEffect(()=>{l&&e.length>0&&localStorage.getItem(c)&&p()},[l]),o.jsx(v8.Provider,{value:{items:e,loading:n,error:i,addItem:g,removeItem:m,updateItemQuantity:v,getTotalItems:x,getTotalPrice:j,isGuestCart:u,mergeGuestCartOnLogin:p,fetchCart:h},children:t})},Mh=()=>{const t=N.useContext(v8);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};function y8({onViewProduct:t,onNavigateToCategory:e}){const{products:r}=Lh(),{user:n}=Cn(),{addItem:a}=Mh(),[i,s]=N.useState(new Set);console.log("🏠 Home Component Debug:",{totalProducts:r.length,featuredProductsCount:r.slice(0,4).length,saleProductsCount:r.filter(g=>g.originalPrice&&g.price<g.originalPrice).length,userLoggedIn:!!n,likedProductsCount:i.size});const l=[{name:"Dresses",icon:"👗",color:"bg-pink-100 dark:bg-pink-900/30"},{name:"Casual",icon:"👕",color:"bg-blue-100 dark:bg-blue-900/30"},{name:"Shoes",icon:"👠",color:"bg-purple-100 dark:bg-purple-900/30"},{name:"Outwear",icon:"🧥",color:"bg-orange-100 dark:bg-orange-900/30"},{name:"Party",icon:"✨",color:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Accessories",icon:"👜",color:"bg-green-100 dark:bg-green-900/30"}],c=r.slice(0,4),u=r.filter(g=>g.originalPrice).slice(0,3),d=async g=>{try{console.log("🛒 Home: Adding product to cart:",g.id,g.name),await a(g,"M","Default",1)?console.log("✅ Home: Product added to cart successfully"):console.error("❌ Home: Failed to add product to cart")}catch(m){console.error("❌ Home: Error adding product to cart:",m)}},f=g=>{console.log("👁️ Home: Viewing product details:",g.id,g.name),t(g)},p=g=>{console.log("❤️ Home: Toggling wishlist for product:",g.id,g.name),s(m=>{const v=new Set(m);return v.has(g.id)?(v.delete(g.id),console.log("💔 Home: Removed from wishlist")):(v.add(g.id),console.log("💖 Home: Added to wishlist")),v})},h=()=>{const g=new Date().getHours(),m=g<12?"Good morning":g<17?"Good afternoon":"Good evening";return n?`${m}, ${n.name.split(" ")[0]}! `:`${m}! Welcome to Rosemama`};return o.jsxs("div",{className:"space-y-8 pb-24",children:[o.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/10 dark:from-primary/10 dark:to-secondary/20 px-6 py-16 rounded-b-3xl overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-50"}),o.jsxs("div",{className:"container mx-auto text-center space-y-4 relative",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(Rm,{className:"h-6 w-6 text-primary animate-pulse"}),o.jsx("span",{className:"text-sm font-medium text-primary bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-full",children:n?"Personalized for You":"Latest Collection"})]}),o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:h()}),o.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto text-lg leading-relaxed",children:n?"Your fashion journey awaits with personalized recommendations tailored just for you.":"Explore our curated collection of premium fashion pieces. Sign in to unlock exclusive rewards and personalized recommendations!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[o.jsxs(be,{onClick:()=>e("All"),size:"lg",className:"group transform hover:scale-105 transition-all duration-300",children:[o.jsx("span",{className:"mr-2",children:"Shop Collection"}),o.jsx(Om,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),n&&o.jsxs(be,{variant:"outline",size:"lg",onClick:()=>e("Sale"),className:"group transform hover:scale-105 transition-all duration-300",children:[o.jsx("span",{className:"mr-2",children:"View Offers"}),o.jsx(Lu,{className:"h-4 w-4 group-hover:rotate-12 transition-transform"})]})]})]})]}),o.jsxs("div",{className:"px-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Shop by Category"}),o.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:l.map(g=>o.jsxs(be,{variant:"ghost",className:"h-auto p-4 flex-col gap-2 hover:scale-105 transition-transform dark:hover:bg-accent/50",onClick:()=>e(g.name),children:[o.jsx("div",{className:`w-12 h-12 rounded-full ${g.color} flex items-center justify-center text-xl dark:text-foreground`,children:g.icon}),o.jsx("span",{className:"text-xs text-foreground",children:g.name})]},g.name))})]}),o.jsxs("div",{className:"px-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Lu,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n?"Recommended for You":"Featured Products"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(g=>{var m,v;return console.log("🌟 Home: Rendering featured product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),o.jsxs("div",{className:"h-[480px]",children:[" ",o.jsx(j2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})})]}),u.length>0&&o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-destructive/10 to-orange-100 dark:from-destructive/20 dark:to-orange-900/30 rounded-2xl p-4 md:p-6 lg:p-8 mt-6 md:mt-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-2xl animate-bounce",children:"🔥"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg md:text-xl font-semibold text-destructive dark:text-destructive-foreground",children:"⚡ Flash Sale"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"⏰ Limited time offers! Ends soon."})]})]}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>{console.log("🔍 Home: View All Flash Sale clicked"),e("All")},className:"dark:border-border dark:hover:bg-accent",children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:u.map(g=>{var m,v;return console.log("🛍️ Home: Rendering flash sale product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),o.jsxs("div",{className:"h-[480px]",children:[" ",o.jsx(j2,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})}),o.jsx("div",{className:"border-t border-border/50 pt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Up to 70% OFF"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Limited Stock"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),o.jsx("span",{children:"Sale ends in 2 days"})]})]})})]})}),o.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Why Shop at Rosemama?"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Discover what makes us your premier fashion destination"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🚚"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Free Shipping"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Free delivery on Orders over R3500"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🔒"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Secure Payments"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"100% secure checkout protected"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🛍️"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Curated Collections"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Exclusive fashion pieces selected just for you"})]}),o.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"👑"}),o.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Premium Quality"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"curated fashion"})]})]})]}),o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-2xl p-4 md:p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"What Our Customers Say"}),o.jsx("p",{className:"text-muted-foreground",children:"Real reviews from verified customers"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(V_,{widgetType:"review-carousel",width:"100%",height:"200",className:"max-w-4xl"})}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/70 dark:bg-card/70 px-6 py-3 rounded-full border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"T"})}),o.jsx("span",{className:"font-semibold text-foreground",children:"Trustpilot"})]}),o.jsx("div",{className:"h-4 w-px bg-border"}),o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Be the first to review us!"}),o.jsx("div",{className:"flex",children:[...Array(5)].map((g,m)=>o.jsx(qr,{className:"h-3 w-3 text-gray-300 dark:text-gray-600"},m))})]})]})}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Help other fashion lovers by sharing your experience"}),o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>window.open("https://www.trustpilot.com/review/rosemamaclothing.store","_blank"),className:"bg-green-50 hover:bg-green-100 border-green-200 text-green-700 hover:text-green-800",children:[o.jsx(qr,{className:"h-4 w-4 mr-1"}),"Write a Review"]})]})]})}),o.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:o.jsxs("div",{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8",children:[o.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Join Our Fashion Community"}),o.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"Get exclusive access to flash sales, new arrivals, and personalized recommendations"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!n&&o.jsx(be,{size:"lg",onClick:()=>{},className:"group",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Sign In to Get Started"}),o.jsx(Om,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(be,{variant:"outline",size:"lg",onClick:()=>e("All"),children:"Continue Shopping"})]})]})}),o.jsx(rl,{})]})}function De({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:Ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function _t({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:Ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function jt({className:t,...e}){return o.jsx("h4",{"data-slot":"card-title",className:Ge("leading-none",t),...e})}function BA({className:t,...e}){return o.jsx("p",{"data-slot":"card-description",className:Ge("text-muted-foreground",t),...e})}function $e({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:Ge("px-6 [&:last-child]:pb-6",t),...e})}const ZH=I_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Nt({className:t,variant:e,asChild:r=!1,...n}){const a=r?QT:"span";return o.jsx(a,{"data-slot":"badge",className:Ge(ZH({variant:e}),t),...n})}var JH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=JH.reduce((t,e)=>{const r=tc(`Primitive.${e}`),n=N.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function QH(t,e){t&&Qg.flushSync(()=>t.dispatchEvent(e))}var eV="Separator",qA="horizontal",tV=["horizontal","vertical"],x8=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=qA,...a}=t,i=rV(n)?n:qA,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ot.div,{"data-orientation":i,...l,...a,ref:e})});x8.displayName=eV;function rV(t){return tV.includes(t)}var nV=x8;function Jn({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return o.jsx(nV,{"data-slot":"separator-root",decorative:r,orientation:e,className:Ge("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function aV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const iV=t=>{switch(t){case"success":return lV;case"info":return uV;case"warning":return cV;case"error":return dV;default:return null}},sV=Array(12).fill(0),oV=({visible:t,className:e})=>X.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},X.createElement("div",{className:"sonner-spinner"},sV.map((r,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),lV=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cV=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uV=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dV=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fV=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hV=()=>{const[t,e]=X.useState(document.hidden);return X.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let M2=1;class pV{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:M2++,s=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,s;const l=a.then(async u=>{if(s=["resolve",u],X.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(gV(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!X.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!X.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!X.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...g})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,h=typeof d=="object"&&!X.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...h})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||M2++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const la=new pV,mV=(t,e)=>{const r=(e==null?void 0:e.id)||M2++;return la.addToast({title:t,...e,id:r}),r},gV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vV=mV,yV=()=>la.toasts,xV=()=>la.getActiveToasts(),je=Object.assign(vV,{success:la.success,info:la.info,warning:la.warning,error:la.error,custom:la.custom,message:la.message,promise:la.promise,dismiss:la.dismiss,loading:la.loading},{getHistory:yV,getToasts:xV});aV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qp(t){return t.label!==void 0}const bV=3,wV="24px",_V="16px",UA=4e3,jV=356,NV=14,SV=45,AV=200;function Ji(...t){return t.filter(Boolean).join(" ")}function kV(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const PV=t=>{var e,r,n,a,i,s,l,c,u;const{invert:d,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:m,heights:v,index:x,toasts:j,expanded:b,removeToast:_,defaultRichColors:S,closeButton:A,style:k,cancelButtonStyle:O,actionButtonStyle:T,className:R="",descriptionClassName:P="",duration:I,position:M,gap:D,expandByDefault:K,classNames:$,icons:q,closeButtonAriaLabel:F="Close toast"}=t,[ee,fe]=X.useState(null),[ue,B]=X.useState(null),[H,V]=X.useState(!1),[W,Q]=X.useState(!1),[re,oe]=X.useState(!1),[ne,de]=X.useState(!1),[pe,le]=X.useState(!1),[Ne,ge]=X.useState(0),[te,qe]=X.useState(0),Ue=X.useRef(f.duration||I||UA),ze=X.useRef(null),Pe=X.useRef(null),Xe=x===0,Be=x+1<=m,ve=f.type,Re=f.dismissible!==!1,lt=f.className||"",We=f.descriptionClassName||"",Qe=X.useMemo(()=>v.findIndex(Ve=>Ve.toastId===f.id)||0,[v,f.id]),mt=X.useMemo(()=>{var Ve;return(Ve=f.closeButton)!=null?Ve:A},[f.closeButton,A]),gt=X.useMemo(()=>f.duration||I||UA,[f.duration,I]),ct=X.useRef(0),vt=X.useRef(0),dt=X.useRef(0),Yt=X.useRef(null),[Xt,st]=M.split("-"),Ot=X.useMemo(()=>v.reduce((Ve,xr,Zt)=>Zt>=Qe?Ve:Ve+xr.height,0),[v,Qe]),nr=hV(),yt=f.invert||d,zt=ve==="loading";vt.current=X.useMemo(()=>Qe*D+Ot,[Qe,Ot]),X.useEffect(()=>{Ue.current=gt},[gt]),X.useEffect(()=>{V(!0)},[]),X.useEffect(()=>{const Ve=Pe.current;if(Ve){const xr=Ve.getBoundingClientRect().height;return qe(xr),g(Zt=>[{toastId:f.id,height:xr,position:f.position},...Zt]),()=>g(Zt=>Zt.filter(Fr=>Fr.toastId!==f.id))}},[g,f.id]),X.useLayoutEffect(()=>{if(!H)return;const Ve=Pe.current,xr=Ve.style.height;Ve.style.height="auto";const Zt=Ve.getBoundingClientRect().height;Ve.style.height=xr,qe(Zt),g(Fr=>Fr.find(Ke=>Ke.toastId===f.id)?Fr.map(Ke=>Ke.toastId===f.id?{...Ke,height:Zt}:Ke):[{toastId:f.id,height:Zt,position:f.position},...Fr])},[H,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const xt=X.useCallback(()=>{Q(!0),ge(vt.current),g(Ve=>Ve.filter(xr=>xr.toastId!==f.id)),setTimeout(()=>{_(f)},AV)},[f,_,g,vt]);X.useEffect(()=>{if(f.promise&&ve==="loading"||f.duration===1/0||f.type==="loading")return;let Ve;return b||h||nr?(()=>{if(dt.current<ct.current){const Fr=new Date().getTime()-ct.current;Ue.current=Ue.current-Fr}dt.current=new Date().getTime()})():(()=>{Ue.current!==1/0&&(ct.current=new Date().getTime(),Ve=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),xt()},Ue.current))})(),()=>clearTimeout(Ve)},[b,h,f,ve,nr,xt]),X.useEffect(()=>{f.delete&&(xt(),f.onDismiss==null||f.onDismiss.call(f,f))},[xt,f.delete]);function $r(){var Ve;if(q!=null&&q.loading){var xr;return X.createElement("div",{className:Ji($==null?void 0:$.loader,f==null||(xr=f.classNames)==null?void 0:xr.loader,"sonner-loader"),"data-visible":ve==="loading"},q.loading)}return X.createElement(oV,{className:Ji($==null?void 0:$.loader,f==null||(Ve=f.classNames)==null?void 0:Ve.loader),visible:ve==="loading"})}const Gr=f.icon||(q==null?void 0:q[ve])||iV(ve);var ar,St;return X.createElement("li",{tabIndex:0,ref:Pe,className:Ji(R,lt,$==null?void 0:$.toast,f==null||(e=f.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[ve],f==null||(r=f.classNames)==null?void 0:r[ve]),"data-sonner-toast":"","data-rich-colors":(ar=f.richColors)!=null?ar:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":pe,"data-removed":W,"data-visible":Be,"data-y-position":Xt,"data-x-position":st,"data-index":x,"data-front":Xe,"data-swiping":re,"data-dismissible":Re,"data-type":ve,"data-invert":yt,"data-swipe-out":ne,"data-swipe-direction":ue,"data-expanded":!!(b||K&&H),"data-testid":f.testId,style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${W?Ne:vt.current}px`,"--initial-height":K?"auto":`${te}px`,...k,...f.style},onDragEnd:()=>{oe(!1),fe(null),Yt.current=null},onPointerDown:Ve=>{Ve.button!==2&&(zt||!Re||(ze.current=new Date,ge(vt.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(oe(!0),Yt.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,xr,Zt;if(ne||!Re)return;Yt.current=null;const Fr=Number(((Ve=Pe.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hn=Number(((xr=Pe.current)==null?void 0:xr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ke=new Date().getTime()-((Zt=ze.current)==null?void 0:Zt.getTime()),Ur=ee==="x"?Fr:Hn,na=Math.abs(Ur)/Ke;if(Math.abs(Ur)>=SV||na>.11){ge(vt.current),f.onDismiss==null||f.onDismiss.call(f,f),B(ee==="x"?Fr>0?"right":"left":Hn>0?"down":"up"),xt(),de(!0);return}else{var Ir,Rr;(Ir=Pe.current)==null||Ir.style.setProperty("--swipe-amount-x","0px"),(Rr=Pe.current)==null||Rr.style.setProperty("--swipe-amount-y","0px")}le(!1),oe(!1),fe(null)},onPointerMove:Ve=>{var xr,Zt,Fr;if(!Yt.current||!Re||((xr=window.getSelection())==null?void 0:xr.toString().length)>0)return;const Ke=Ve.clientY-Yt.current.y,Ur=Ve.clientX-Yt.current.x;var na;const Ir=(na=t.swipeDirections)!=null?na:kV(M);!ee&&(Math.abs(Ur)>1||Math.abs(Ke)>1)&&fe(Math.abs(Ur)>Math.abs(Ke)?"x":"y");let Rr={x:0,y:0};const Cr=br=>1/(1.5+Math.abs(br)/20);if(ee==="y"){if(Ir.includes("top")||Ir.includes("bottom"))if(Ir.includes("top")&&Ke<0||Ir.includes("bottom")&&Ke>0)Rr.y=Ke;else{const br=Ke*Cr(Ke);Rr.y=Math.abs(br)<Math.abs(Ke)?br:Ke}}else if(ee==="x"&&(Ir.includes("left")||Ir.includes("right")))if(Ir.includes("left")&&Ur<0||Ir.includes("right")&&Ur>0)Rr.x=Ur;else{const br=Ur*Cr(Ur);Rr.x=Math.abs(br)<Math.abs(Ur)?br:Ur}(Math.abs(Rr.x)>0||Math.abs(Rr.y)>0)&&le(!0),(Zt=Pe.current)==null||Zt.style.setProperty("--swipe-amount-x",`${Rr.x}px`),(Fr=Pe.current)==null||Fr.style.setProperty("--swipe-amount-y",`${Rr.y}px`)}},mt&&!f.jsx&&ve!=="loading"?X.createElement("button",{"aria-label":F,"data-disabled":zt,"data-close-button":!0,onClick:zt||!Re?()=>{}:()=>{xt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ji($==null?void 0:$.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(St=q==null?void 0:q.close)!=null?St:fV):null,(ve||f.icon||f.promise)&&f.icon!==null&&((q==null?void 0:q[ve])!==null||f.icon)?X.createElement("div",{"data-icon":"",className:Ji($==null?void 0:$.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||$r():null,f.type!=="loading"?Gr:null):null,X.createElement("div",{"data-content":"",className:Ji($==null?void 0:$.content,f==null||(i=f.classNames)==null?void 0:i.content)},X.createElement("div",{"data-title":"",className:Ji($==null?void 0:$.title,f==null||(s=f.classNames)==null?void 0:s.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?X.createElement("div",{"data-description":"",className:Ji(P,We,$==null?void 0:$.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),X.isValidElement(f.cancel)?f.cancel:f.cancel&&qp(f.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:Ve=>{qp(f.cancel)&&Re&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ve),xt())},className:Ji($==null?void 0:$.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,X.isValidElement(f.action)?f.action:f.action&&qp(f.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Ve=>{qp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ve),!Ve.defaultPrevented&&xt())},className:Ji($==null?void 0:$.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function zA(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function CV(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,s=i?"--mobile-offset":"--offset",l=i?_V:wV;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const OV=X.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:g,style:m,visibleToasts:v=bV,toastOptions:x,dir:j=zA(),gap:b=NV,icons:_,containerAriaLabel:S="Notifications"}=e,[A,k]=X.useState([]),O=X.useMemo(()=>n?A.filter(H=>H.toasterId===n):A.filter(H=>!H.toasterId),[A,n]),T=X.useMemo(()=>Array.from(new Set([i].concat(O.filter(H=>H.position).map(H=>H.position)))),[O,i]),[R,P]=X.useState([]),[I,M]=X.useState(!1),[D,K]=X.useState(!1),[$,q]=X.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=X.useRef(null),ee=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),fe=X.useRef(null),ue=X.useRef(!1),B=X.useCallback(H=>{k(V=>{var W;return(W=V.find(Q=>Q.id===H.id))!=null&&W.delete||la.dismiss(H.id),V.filter(({id:Q})=>Q!==H.id)})},[]);return X.useEffect(()=>la.subscribe(H=>{if(H.dismiss){requestAnimationFrame(()=>{k(V=>V.map(W=>W.id===H.id?{...W,delete:!0}:W))});return}setTimeout(()=>{XT.flushSync(()=>{k(V=>{const W=V.findIndex(Q=>Q.id===H.id);return W!==-1?[...V.slice(0,W),{...V[W],...H},...V.slice(W+1)]:[H,...V]})})})}),[A]),X.useEffect(()=>{if(p!=="system"){q(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:V})=>{q(V?"dark":"light")})}catch{H.addListener(({matches:W})=>{try{q(W?"dark":"light")}catch(Q){console.error(Q)}})}},[p]),X.useEffect(()=>{A.length<=1&&M(!1)},[A]),X.useEffect(()=>{const H=V=>{var W;if(s.every(oe=>V[oe]||V.code===oe)){var re;M(!0),(re=F.current)==null||re.focus()}V.code==="Escape"&&(document.activeElement===F.current||(W=F.current)!=null&&W.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),X.useEffect(()=>{if(F.current)return()=>{fe.current&&(fe.current.focus({preventScroll:!0}),fe.current=null,ue.current=!1)}},[F.current]),X.createElement("section",{ref:r,"aria-label":`${S} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((H,V)=>{var W;const[Q,re]=H.split("-");return O.length?X.createElement("ol",{key:H,dir:j==="auto"?zA():j,tabIndex:-1,ref:F,className:u,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":Q,"data-x-position":re,style:{"--front-toast-height":`${((W=R[0])==null?void 0:W.height)||0}px`,"--width":`${jV}px`,"--gap":`${b}px`,...m,...CV(d,f)},onBlur:oe=>{ue.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(ue.current=!1,fe.current&&(fe.current.focus({preventScroll:!0}),fe.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,fe.current=oe.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{D||M(!1)},onDragEnd:()=>M(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},O.filter(oe=>!oe.position&&V===0||oe.position===H).map((oe,ne)=>{var de,pe;return X.createElement(PV,{key:oe.id,icons:_,index:ne,toast:oe,defaultRichColors:h,duration:(de=x==null?void 0:x.duration)!=null?de:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:a,visibleToasts:v,closeButton:(pe=x==null?void 0:x.closeButton)!=null?pe:c,interacting:D,position:H,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:B,toasts:O.filter(le=>le.position==oe.position),heights:R.filter(le=>le.position==oe.position),setHeights:P,expandByDefault:l,gap:b,expanded:I,swipeDirections:e.swipeDirections})})):null}))});function EV({product:t,onAddToCart:e,onBack:r}){const[n,a]=N.useState(""),[i,s]=N.useState(""),[l,c]=N.useState(1),[u,d]=N.useState(!1),[f,p]=N.useState(0),[h,g]=N.useState(!1),m=N.useRef(null);N.useEffect(()=>{const k=O=>{m.current&&!m.current.contains(O.target)&&g(!1)};return h&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[h]);const v=async()=>{const k={title:t.name,text:`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`,url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(k)?(await navigator.share(k),je.success("Product shared successfully!")):g(!h)}catch(O){console.error("Error sharing:",O),g(!h)}},x=async()=>{try{await navigator.clipboard.writeText(window.location.href),je.success("Product link copied to clipboard!"),g(!1)}catch(k){console.error("Clipboard error:",k),je.error("Unable to copy link. Please copy the URL manually.")}},j=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price} ${window.location.href}`);window.open(`https://wa.me/?text=${k}`,"_blank"),g(!1)},b=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`);window.open(`https://twitter.com/intent/tweet?text=${k}&url=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},_=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},S=()=>{if(!n){je.error("Please select a size");return}if(!i){je.error("Please select a color");return}e(t,n,i,l),je.success("Added to cart successfully!")},A={XS:"Extra Small (0-2)",S:"Small (4-6)",M:"Medium (8-10)",L:"Large (12-14)",XL:"Extra Large (16-18)",XXL:"XXL (20-22)"};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[o.jsxs(be,{variant:"ghost",onClick:r,className:"mb-6 hover:bg-secondary",children:[o.jsx(ev,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:o.jsx("img",{src:t.images[f]||t.images[0],alt:`${t.name} - Image ${f+1}`,className:"w-full h-full object-cover",loading:"eager"})}),t.originalPrice&&o.jsxs(Nt,{className:"absolute top-4 left-4 bg-destructive text-destructive-foreground z-10 shadow-lg",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]}),!t.inStock&&o.jsx(Nt,{className:"absolute top-4 right-4 bg-gray-500 text-white z-10 shadow-lg",children:"Out of Stock"})]}),t.images.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.images.map((k,O)=>o.jsx("button",{onClick:()=>{console.log("🖼️ ProductDetail: Thumbnail clicked, moving from index",f,"to index",O),p(O)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${f===O?"border-primary shadow-md ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:o.jsx("img",{src:k,alt:`${t.name} ${O+1}`,className:"w-full h-full object-cover",loading:"eager"})},O))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Nt,{variant:"secondary",className:"mb-2",children:t.category}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,O)=>o.jsx(qr,{className:`h-4 w-4 ${O<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},O))}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviews.length," reviews)"]})]}),o.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[o.jsxs("span",{className:"text-3xl font-bold",children:["R",t.price]}),t.originalPrice&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["R",t.originalPrice]}),o.jsxs(Nt,{variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]})]}),o.jsx("div",{className:"flex items-center gap-2 mb-6",children:t.inStock?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-sm text-green-600",children:"In Stock"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),o.jsx("span",{className:"text-sm text-red-600",children:"Out of Stock"})]})})]}),o.jsx(Jn,{}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Size"}),o.jsx(be,{variant:"link",className:"text-sm p-0 h-auto",children:"Size Guide"})]}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:t.sizes.map(k=>o.jsx(be,{variant:n===k?"default":"outline",className:"aspect-square",onClick:()=>a(k),children:k},k))}),n&&A[n]&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:A[n]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium mb-3",children:["Color: ",i]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(k=>o.jsxs("button",{onClick:()=>s(k),className:`relative flex items-center gap-2 px-3 py-2 border rounded-lg transition-all ${i===k?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx("div",{className:`w-4 h-4 rounded-full border ${k.toLowerCase()==="black"?"bg-black":k.toLowerCase()==="white"?"bg-white border-gray-300":k.toLowerCase()==="gray"?"bg-gray-400":k.toLowerCase()==="navy"?"bg-blue-900":k.toLowerCase()==="brown"?"bg-amber-800":k.toLowerCase()==="beige"?"bg-amber-100":k.toLowerCase()==="pink"?"bg-pink-400":k.toLowerCase()==="blue"?"bg-blue-500":k.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`}),o.jsx("span",{className:"text-sm",children:k})]},k))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Quantity"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(be,{variant:"outline",size:"icon",onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,children:o.jsx(yI,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-12 text-center font-medium",children:l}),o.jsx(be,{variant:"outline",size:"icon",onClick:()=>c(l+1),disabled:l>=10,children:o.jsx(Yl,{className:"h-4 w-4"})})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(be,{className:"w-full",size:"lg",onClick:S,disabled:!t.inStock,children:[o.jsx(z_,{className:"h-4 w-4 mr-2"}),"Add to Cart - R",(t.price*l).toFixed(2)]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(be,{variant:"outline",className:"flex-1",onClick:()=>d(!u),children:[o.jsx(Xo,{className:`h-4 w-4 mr-2 ${u?"fill-red-500 text-red-500":""}`}),u?"Saved":"Save"]}),o.jsxs("div",{className:"relative flex-1",ref:m,children:[o.jsxs(be,{variant:"outline",className:"w-full",onClick:v,children:[o.jsx(ez,{className:"h-4 w-4 mr-2"}),"Share"]}),h&&o.jsxs("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border rounded-lg shadow-lg z-10 overflow-hidden",children:[o.jsxs("button",{onClick:x,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx(Xq,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Copy Link"})]}),o.jsxs("button",{onClick:j,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx(ti,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm",children:"Share on WhatsApp"})]}),o.jsxs("button",{onClick:b,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx("div",{className:"h-4 w-4 bg-blue-400 rounded-sm flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"𝕏"})}),o.jsx("span",{className:"text-sm",children:"Share on X (Twitter)"})]}),o.jsxs("button",{onClick:_,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[o.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-sm flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),o.jsx("span",{className:"text-sm",children:"Share on Facebook"})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(Mu,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Free Shipping"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders over R3500"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(ca,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Collections"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Curated fashion"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[o.jsx(zs,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Secure Payment"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL protected"})]})]})]})]})]}),o.jsxs("div",{className:"mt-12 space-y-8",children:[o.jsx(De,{children:o.jsxs($e,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Description"}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]})}),o.jsx(De,{children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>Bz(t.id,t.name),className:"flex items-center gap-2",children:[o.jsx(qr,{className:"h-4 w-4"}),"Write a Review"]})})]}),o.jsx(V_,{widgetType:"product-review",productSku:t.id,height:"400px",className:"w-full"}),o.jsxs("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Reviews are powered by ",o.jsx("span",{className:"font-medium",children:"Trustpilot"})]})]})})]}),o.jsx(rl,{})]})}function Ft({className:t,type:e,...r}){return o.jsx("input",{type:e,"data-slot":"input",className:Ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const TV="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function b8(t){const[e,r]=N.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:s,className:l,...c}=t;return e?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:s,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:TV,alt:"Error loading image",...c,"data-original-url":a})})}):o.jsx("img",{src:a,alt:i,className:l,style:s,...c,onError:n})}function IV({items:t,onUpdateQuantity:e,onRemoveItem:r,onProceedToCheckout:n,onContinueShopping:a}){const[i,s]=N.useState(""),[l,c]=N.useState(null),u=t.reduce((x,j)=>x+j.product.price*j.quantity,0),d=(l==null?void 0:l.amount)||0,f=u*15/115,p=u-f,g=p>=3500?0:110,m=u-d+g,v=()=>{const x={WELCOME10:10,SAVE20:20,MEMBER15:15,FREESHIP:9.99},j=i.toUpperCase();x[j]?(c({code:j,amount:x[j]}),je.success(`Discount code ${j} applied!`)):je.error("Invalid discount code")};return t.length===0?o.jsx("div",{className:"container mx-auto px-6 py-12 pb-24",children:o.jsxs("div",{className:"text-center max-w-md mx-auto",children:[o.jsx(z_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added anything to your cart yet."}),o.jsx(be,{onClick:a||(()=>window.history.back()),children:"Continue Shopping"})]})}):o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Shopping Cart (",t.length," items)"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(x=>o.jsx(De,{children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(b8,{src:x.product.images[0],alt:x.product.name,className:"w-24 h-24 object-cover rounded-lg",loading:"eager"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:x.product.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",x.size," • Color: ",x.color]})]}),o.jsx(be,{variant:"ghost",size:"icon",onClick:()=>r(x.productId,x.size,x.color),children:o.jsx(eo,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(x.productId,x.size,x.color,x.quantity-1),disabled:x.quantity<=1,children:o.jsx(yI,{className:"h-3 w-3"})}),o.jsx("span",{className:"w-8 text-center text-sm",children:x.quantity}),o.jsx(be,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(x.productId,x.size,x.color,x.quantity+1),disabled:x.quantity>=10,children:o.jsx(Yl,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"font-semibold",children:["R",(x.product.price*x.quantity).toFixed(2)]}),x.product.originalPrice&&o.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["R",(x.product.originalPrice*x.quantity).toFixed(2)]})]})]})]})]})})},`${x.productId}-${x.size}-${x.color}`))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(De,{className:"sticky top-24",children:[o.jsx(_t,{children:o.jsx(jt,{children:"Order Summary"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Discount Code"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ft,{placeholder:"Enter code",value:i,onChange:x=>s(x.target.value),className:"flex-1"}),o.jsx(be,{variant:"outline",size:"sm",onClick:v,children:o.jsx(wI,{className:"h-4 w-4"})})]}),l&&o.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[o.jsxs("span",{children:["Code: ",l.code]}),o.jsxs("span",{children:["-R",l.amount.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R",p.toFixed(2)]})]}),d>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Discount"}),o.jsxs("span",{children:["-R",d.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:g===0?o.jsx("span",{className:"text-green-600",children:"FREE"}):`R${g.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax (15% VAT)"}),o.jsxs("span",{children:["R",f.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R",m.toFixed(2)]})]}),p<3500&&o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-600",children:["Add R",(3500-p).toFixed(2)," more for FREE shipping!"]})}),o.jsx(be,{className:"w-full",size:"lg",onClick:n,children:"Proceed to Checkout"}),o.jsx("div",{className:"text-center",children:o.jsx(be,{variant:"link",onClick:a||(()=>window.history.back()),children:"Continue Shopping"})})]})]})})]}),o.jsx(rl,{})]})}var RV="Label",w8=N.forwardRef((t,e)=>o.jsx(ot.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));w8.displayName=RV;var LV=w8;function It({className:t,...e}){return o.jsx(LV,{"data-slot":"label",className:Ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function MV(t,e){const r=N.createContext(e),n=i=>{const{children:s,...l}=i,c=N.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=t+"Provider";function a(i){const s=N.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Mn(t,e=[]){let r=[];function n(i,s){const l=N.createContext(s),c=r.length;r=[...r,s];const u=f=>{var x;const{scope:p,children:h,...g}=f,m=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,v=N.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:h})};u.displayName=i+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[t])==null?void 0:m[c])||l,g=N.useContext(h);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>N.createContext(s));return function(l){const c=(l==null?void 0:l[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,DV(a,...e)]}function DV(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Wn(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var nn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Py={exports:{}},Cy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function $V(){if(WA)return Cy;WA=1;var t=YT();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),m=g[0].inst,v=g[1];return i(function(){m.value=h,m.getSnapshot=p,c(m)&&v({inst:m})},[f,h,p]),a(function(){return c(m)&&v({inst:m}),f(function(){c(m)&&v({inst:m})})},[f]),s(h),h}function c(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Cy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Cy}var HA;function FV(){return HA||(HA=1,Py.exports=$V()),Py.exports}var BV=FV();function qV(){return BV.useSyncExternalStore(UV,()=>!0,()=>!1)}function UV(){return()=>{}}var rj="Avatar",[zV,Iwe]=Mn(rj),[WV,_8]=zV(rj),j8=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=N.useState("idle");return o.jsx(WV,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(ot.span,{...n,ref:e})})});j8.displayName=rj;var N8="AvatarImage",HV=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,s=_8(N8,r),l=VV(n,i),c=Wn(u=>{a(u),s.onImageLoadingStatusChange(u)});return nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ot.img,{...i,ref:e,src:n}):null});HV.displayName=N8;var S8="AvatarFallback",A8=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=_8(S8,r),[s,l]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(ot.span,{...a,ref:e}):null});A8.displayName=S8;function VA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function VV(t,{referrerPolicy:e,crossOrigin:r}){const n=qV(),a=N.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,l]=N.useState(()=>VA(i,t));return nn(()=>{l(VA(i,t))},[i,t]),nn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,e]),s}var GV=j8,KV=A8;function k8({className:t,...e}){return o.jsx(GV,{"data-slot":"avatar",className:Ge("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function P8({className:t,...e}){return o.jsx(KV,{"data-slot":"avatar-fallback",className:Ge("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function pt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}var YV=ZT[" useId ".trim().toString()]||(()=>{}),XV=0;function Pi(t){const[e,r]=N.useState(YV());return nn(()=>{r(n=>n??String(XV++))},[t]),e?`radix-${e}`:""}var ZV=ZT[" useInsertionEffect ".trim().toString()]||nn;function ni({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,s]=JV({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const d=N.useRef(t!==void 0);N.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=N.useCallback(d=>{var f;if(l){const p=QV(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else i(d)},[l,t,i,s]);return[c,u]}function JV({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),a=N.useRef(r),i=N.useRef(e);return ZV(()=>{i.current=e},[e]),N.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function QV(t){return typeof t=="function"}function eG(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var tG="DismissableLayer",D2="dismissableLayer.update",rG="dismissableLayer.pointerDownOutside",nG="dismissableLayer.focusOutside",GA,C8=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lv=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=t,u=N.useContext(C8),[d,f]=N.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),g=Ut(e,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),j=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=j>=x,S=sG(k=>{const O=k.target,T=[...u.branches].some(R=>R.contains(O));!_||T||(a==null||a(k),s==null||s(k),k.defaultPrevented||l==null||l())},p),A=oG(k=>{const O=k.target;[...u.branches].some(R=>R.contains(O))||(i==null||i(k),s==null||s(k),k.defaultPrevented||l==null||l())},p);return eG(k=>{j===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),KA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=GA)}},[d,p,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),KA())},[d,u]),N.useEffect(()=>{const k=()=>h({});return document.addEventListener(D2,k),()=>document.removeEventListener(D2,k)},[]),o.jsx(ot.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,S.onPointerDownCapture)})});lv.displayName=tG;var aG="DismissableLayerBranch",iG=N.forwardRef((t,e)=>{const r=N.useContext(C8),n=N.useRef(null),a=Ut(e,n);return N.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(ot.div,{...t,ref:a})});iG.displayName=aG;function sG(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){O8(rG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function oG(t,e=globalThis==null?void 0:globalThis.document){const r=Wn(t),n=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!n.current&&O8(nG,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KA(){const t=new CustomEvent(D2);document.dispatchEvent(t)}function O8(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?QH(a,i):a.dispatchEvent(i)}var Oy="focusScope.autoFocusOnMount",Ey="focusScope.autoFocusOnUnmount",YA={bubbles:!1,cancelable:!0},lG="FocusScope",cv=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[l,c]=N.useState(null),u=Wn(a),d=Wn(i),f=N.useRef(null),p=Ut(e,m=>c(m)),h=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let m=function(b){if(h.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ro(f.current,{select:!0})},v=function(b){if(h.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ro(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ro(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const j=new MutationObserver(x);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),j.disconnect()}}},[n,l,h.paused]),N.useEffect(()=>{if(l){ZA.add(h);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Oy,YA);l.addEventListener(Oy,u),l.dispatchEvent(x),x.defaultPrevented||(cG(pG(E8(l)),{select:!0}),document.activeElement===m&&Ro(l))}return()=>{l.removeEventListener(Oy,u),setTimeout(()=>{const x=new CustomEvent(Ey,YA);l.addEventListener(Ey,d),l.dispatchEvent(x),x.defaultPrevented||Ro(m??document.body,{select:!0}),l.removeEventListener(Ey,d),ZA.remove(h)},0)}}},[l,u,d,h]);const g=N.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const j=m.currentTarget,[b,_]=uG(j);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ro(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ro(_,{select:!0})):x===j&&m.preventDefault()}},[r,n,h.paused]);return o.jsx(ot.div,{tabIndex:-1,...s,ref:p,onKeyDown:g})});cv.displayName=lG;function cG(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ro(n,{select:e}),document.activeElement!==r)return}function uG(t){const e=E8(t),r=XA(e,t),n=XA(e.reverse(),t);return[r,n]}function E8(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function XA(t,e){for(const r of t)if(!dG(r,{upTo:e}))return r}function dG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function fG(t){return t instanceof HTMLInputElement&&"select"in t}function Ro(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&fG(t)&&e&&t.select()}}var ZA=hG();function hG(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=JA(t,e),t.unshift(e)},remove(e){var r;t=JA(t,e),(r=t[0])==null||r.resume()}}}function JA(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function pG(t){return t.filter(e=>e.tagName!=="A")}var mG="Portal",uv=N.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,i]=N.useState(!1);nn(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?XT.createPortal(o.jsx(ot.div,{...n,ref:e}),s):null});uv.displayName=mG;function gG(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var ha=t=>{const{present:e,children:r}=t,n=vG(e),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),i=Ut(n.ref,yG(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:i}):null};ha.displayName="Presence";function vG(t){const[e,r]=N.useState(),n=N.useRef(null),a=N.useRef(t),i=N.useRef("none"),s=t?"mounted":"unmounted",[l,c]=gG(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Up(n.current);i.current=l==="mounted"?u:"none"},[l]),nn(()=>{const u=n.current,d=a.current;if(d!==t){const p=i.current,h=Up(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),nn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const m=Up(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=h=>{h.target===e&&(i.current=Up(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Up(t){return(t==null?void 0:t.animationName)||"none"}function yG(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ty=0;function nj(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QA()),document.body.insertAdjacentElement("beforeend",t[1]??QA()),Ty++,()=>{Ty===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ty--}},[])}function QA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ns=function(){return ns=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ns.apply(this,arguments)};function T8(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function xG(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var xm="right-scroll-bar-position",bm="width-before-scroll-bar",bG="with-scroll-bars-hidden",wG="--removed-body-scroll-bar-size";function Iy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _G(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var jG=typeof window<"u"?N.useLayoutEffect:N.useEffect,e4=new WeakMap;function NG(t,e){var r=_G(null,function(n){return t.forEach(function(a){return Iy(a,n)})});return jG(function(){var n=e4.get(r);if(n){var a=new Set(n),i=new Set(t),s=r.current;a.forEach(function(l){i.has(l)||Iy(l,null)}),i.forEach(function(l){a.has(l)||Iy(l,s)})}e4.set(r,t)},[t]),r}function SG(t){return t}function AG(t,e){e===void 0&&(e=SG);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var s=e(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function kG(t){t===void 0&&(t={});var e=AG(null);return e.options=ns({async:!0,ssr:!1},t),e}var I8=function(t){var e=t.sideCar,r=T8(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,ns({},r))};I8.isSideCarExport=!0;function PG(t,e){return t.useMedium(e),I8}var R8=kG(),Ry=function(){},dv=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:Ry,onWheelCapture:Ry,onTouchMoveCapture:Ry}),a=n[0],i=n[1],s=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,x=t.as,j=x===void 0?"div":x,b=t.gapMode,_=T8(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,A=NG([r,e]),k=ns(ns({},_),a);return N.createElement(N.Fragment,null,d&&N.createElement(S,{sideCar:R8,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:b}),s?N.cloneElement(N.Children.only(l),ns(ns({},k),{ref:A})):N.createElement(j,ns({},k,{className:c,ref:A}),l))});dv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dv.classNames={fullWidth:bm,zeroRight:xm};var CG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CG();return e&&t.setAttribute("nonce",e),t}function EG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var IG=function(){var t=0,e=null;return{add:function(r){t==0&&(e=OG())&&(EG(e,r),TG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RG=function(){var t=IG();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},L8=function(){var t=RG(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},LG={left:0,top:0,right:0,gap:0},Ly=function(t){return parseInt(t||"",10)||0},MG=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ly(r),Ly(n),Ly(a)]},DG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return LG;var e=MG(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},$G=L8(),Nu="data-scroll-locked",FG=function(t,e,r,n){var a=t.left,i=t.top,s=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(bG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Nu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(bm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(bm," .").concat(bm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nu,`] {
    `).concat(wG,": ").concat(l,`px;
  }
`)},t4=function(){var t=parseInt(document.body.getAttribute(Nu)||"0",10);return isFinite(t)?t:0},BG=function(){N.useEffect(function(){return document.body.setAttribute(Nu,(t4()+1).toString()),function(){var t=t4()-1;t<=0?document.body.removeAttribute(Nu):document.body.setAttribute(Nu,t.toString())}},[])},qG=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;BG();var i=N.useMemo(function(){return DG(a)},[a]);return N.createElement($G,{styles:FG(i,!e,a,r?"":"!important")})},$2=!1;if(typeof window<"u")try{var zp=Object.defineProperty({},"passive",{get:function(){return $2=!0,!0}});window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{$2=!1}var Qc=$2?{passive:!1}:!1,UG=function(t){return t.tagName==="TEXTAREA"},M8=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!UG(t)&&r[e]==="visible")},zG=function(t){return M8(t,"overflowY")},WG=function(t){return M8(t,"overflowX")},r4=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=D8(t,n);if(a){var i=$8(t,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},HG=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},VG=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},D8=function(t,e){return t==="v"?zG(e):WG(e)},$8=function(t,e){return t==="v"?HG(e):VG(e)},GG=function(t,e){return t==="h"&&e==="rtl"?-1:1},KG=function(t,e,r,n,a){var i=GG(t,window.getComputedStyle(e).direction),s=i*n,l=r.target,c=e.contains(l),u=!1,d=s>0,f=0,p=0;do{if(!l)break;var h=$8(t,l),g=h[0],m=h[1],v=h[2],x=m-v-i*g;(g||x)&&D8(t,l)&&(f+=x,p+=g);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Wp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n4=function(t){return[t.deltaX,t.deltaY]},a4=function(t){return t&&"current"in t?t.current:t},YG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZG=0,eu=[];function JG(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(ZG++)[0],i=N.useState(L8)[0],s=N.useRef(t);N.useEffect(function(){s.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=xG([t.lockRef.current],(t.shards||[]).map(a4),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var x=Wp(m),j=r.current,b="deltaX"in m?m.deltaX:j[0]-x[0],_="deltaY"in m?m.deltaY:j[1]-x[1],S,A=m.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&A.type==="range")return!1;var O=r4(k,A);if(!O)return!0;if(O?S=k:(S=k==="v"?"h":"v",O=r4(k,A)),!O)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var T=n.current||S;return KG(T,v,m,T==="h"?b:_)},[]),c=N.useCallback(function(m){var v=m;if(!(!eu.length||eu[eu.length-1]!==i)){var x="deltaY"in v?n4(v):Wp(v),j=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&YG(S.delta,x)})[0];if(j&&j.should){v.cancelable&&v.preventDefault();return}if(!j){var b=(s.current.shards||[]).map(a4).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=N.useCallback(function(m,v,x,j){var b={name:m,delta:v,target:x,should:j,shadowParent:QG(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),d=N.useCallback(function(m){r.current=Wp(m),n.current=void 0},[]),f=N.useCallback(function(m){u(m.type,n4(m),m.target,l(m,t.lockRef.current))},[]),p=N.useCallback(function(m){u(m.type,Wp(m),m.target,l(m,t.lockRef.current))},[]);N.useEffect(function(){return eu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Qc),document.addEventListener("touchmove",c,Qc),document.addEventListener("touchstart",d,Qc),function(){eu=eu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Qc),document.removeEventListener("touchmove",c,Qc),document.removeEventListener("touchstart",d,Qc)}},[]);var h=t.removeScrollBar,g=t.inert;return N.createElement(N.Fragment,null,g?N.createElement(i,{styles:XG(a)}):null,h?N.createElement(qG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eK=PG(R8,JG);var fv=N.forwardRef(function(t,e){return N.createElement(dv,ns({},t,{ref:e,sideCar:eK}))});fv.classNames=dv.classNames;var tK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},tu=new WeakMap,Hp=new WeakMap,Vp={},My=0,F8=function(t){return t&&(t.host||F8(t.parentNode))},rK=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=F8(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},nK=function(t,e,r,n){var a=rK(e,Array.isArray(t)?t:[t]);Vp[r]||(Vp[r]=new WeakMap);var i=Vp[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",m=(tu.get(p)||0)+1,v=(i.get(p)||0)+1;tu.set(p,m),i.set(p,v),s.push(p),m===1&&g&&Hp.set(p,!0),v===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),l.clear(),My++,function(){s.forEach(function(f){var p=tu.get(f)-1,h=i.get(f)-1;tu.set(f,p),i.set(f,h),p||(Hp.has(f)||f.removeAttribute(n),Hp.delete(f)),h||f.removeAttribute(r)}),My--,My||(tu=new WeakMap,tu=new WeakMap,Hp=new WeakMap,Vp={})}},aj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=tK(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),nK(n,a,r,"aria-hidden")):function(){return null}},hv="Dialog",[B8,q8]=Mn(hv),[aK,$i]=B8(hv),U8=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=t,l=N.useRef(null),c=N.useRef(null),[u,d]=ni({prop:n,defaultProp:a??!1,onChange:i,caller:hv});return o.jsx(aK,{scope:e,triggerRef:l,contentRef:c,contentId:Pi(),titleId:Pi(),descriptionId:Pi(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};U8.displayName=hv;var z8="DialogTrigger",W8=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(z8,r),i=Ut(e,a.triggerRef);return o.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":oj(a.open),...n,ref:i,onClick:pt(t.onClick,a.onOpenToggle)})});W8.displayName=z8;var ij="DialogPortal",[iK,H8]=B8(ij,{forceMount:void 0}),V8=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=$i(ij,e);return o.jsx(iK,{scope:e,forceMount:r,children:N.Children.map(n,s=>o.jsx(ha,{present:r||i.open,children:o.jsx(uv,{asChild:!0,container:a,children:s})}))})};V8.displayName=ij;var Dm="DialogOverlay",G8=N.forwardRef((t,e)=>{const r=H8(Dm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=$i(Dm,t.__scopeDialog);return i.modal?o.jsx(ha,{present:n||i.open,children:o.jsx(oK,{...a,ref:e})}):null});G8.displayName=Dm;var sK=tc("DialogOverlay.RemoveScroll"),oK=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(Dm,r);return o.jsx(fv,{as:sK,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(ot.div,{"data-state":oj(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),nc="DialogContent",K8=N.forwardRef((t,e)=>{const r=H8(nc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=$i(nc,t.__scopeDialog);return o.jsx(ha,{present:n||i.open,children:i.modal?o.jsx(lK,{...a,ref:e}):o.jsx(cK,{...a,ref:e})})});K8.displayName=nc;var lK=N.forwardRef((t,e)=>{const r=$i(nc,t.__scopeDialog),n=N.useRef(null),a=Ut(e,r.contentRef,n);return N.useEffect(()=>{const i=n.current;if(i)return aj(i)},[]),o.jsx(Y8,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault())})}),cK=N.forwardRef((t,e)=>{const r=$i(nc,t.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return o.jsx(Y8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Y8=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=t,l=$i(nc,r),c=N.useRef(null),u=Ut(e,c);return nj(),o.jsxs(o.Fragment,{children:[o.jsx(cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(lv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oj(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(dK,{titleId:l.titleId}),o.jsx(hK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sj="DialogTitle",X8=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(sj,r);return o.jsx(ot.h2,{id:a.titleId,...n,ref:e})});X8.displayName=sj;var Z8="DialogDescription",J8=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(Z8,r);return o.jsx(ot.p,{id:a.descriptionId,...n,ref:e})});J8.displayName=Z8;var Q8="DialogClose",eR=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=$i(Q8,r);return o.jsx(ot.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>a.onOpenChange(!1))})});eR.displayName=Q8;function oj(t){return t?"open":"closed"}var tR="DialogTitleWarning",[uK,rR]=MV(tR,{contentName:nc,titleName:sj,docsSlug:"dialog"}),dK=({titleId:t})=>{const e=rR(tR),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},fK="DialogDescriptionWarning",hK=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rR(fK).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},lj=U8,pv=W8,cj=V8,mv=G8,gv=K8,nR=X8,aR=J8,vv=eR;function Oi({...t}){return o.jsx(lj,{"data-slot":"dialog",...t})}function uj({...t}){return o.jsx(pv,{"data-slot":"dialog-trigger",...t})}function pK({...t}){return o.jsx(cj,{"data-slot":"dialog-portal",...t})}const iR=N.forwardRef(({className:t,...e},r)=>o.jsx(mv,{ref:r,"data-slot":"dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9996] bg-black/50",t),...e}));iR.displayName=mv.displayName;const ai=N.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(pK,{"data-slot":"dialog-portal",children:[o.jsx(iR,{}),o.jsxs(gv,{ref:n,"data-slot":"dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9996] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,o.jsxs(vv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Ys,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ai.displayName=gv.displayName;function Ei({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",t),...e})}function mK({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Ti({className:t,...e}){return o.jsx(nR,{"data-slot":"dialog-title",className:Ge("text-lg leading-none font-semibold",t),...e})}function dj({className:t,...e}){return o.jsx(aR,{"data-slot":"dialog-description",className:Ge("text-muted-foreground text-sm",t),...e})}function ur(t){"@babel/helpers - typeof";return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(t)}var Ii=Uint8Array,Ia=Uint16Array,fj=Int32Array,hj=new Ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pj=new Ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i4=new Ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sR=function(t,e){for(var r=new Ia(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new fj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},oR=sR(hj,2),gK=oR.b,F2=oR.r;gK[28]=258,F2[258]=28;var vK=sR(pj,0),s4=vK.r,B2=new Ia(32768);for(var Tr=0;Tr<32768;++Tr){var Oo=(Tr&43690)>>1|(Tr&21845)<<1;Oo=(Oo&52428)>>2|(Oo&13107)<<2,Oo=(Oo&61680)>>4|(Oo&3855)<<4,B2[Tr]=((Oo&65280)>>8|(Oo&255)<<8)>>1}var Tf=(function(t,e,r){for(var n=t.length,a=0,i=new Ia(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new Ia(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new Ia(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=s[t[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)l[B2[f]>>c]=u}else for(l=new Ia(n),a=0;a<n;++a)t[a]&&(l[a]=B2[s[t[a]-1]++]>>15-t[a]);return l}),ac=new Ii(288);for(var Tr=0;Tr<144;++Tr)ac[Tr]=8;for(var Tr=144;Tr<256;++Tr)ac[Tr]=9;for(var Tr=256;Tr<280;++Tr)ac[Tr]=7;for(var Tr=280;Tr<288;++Tr)ac[Tr]=8;var $m=new Ii(32);for(var Tr=0;Tr<32;++Tr)$m[Tr]=5;var yK=Tf(ac,9,0),xK=Tf($m,5,0),lR=function(t){return(t+7)/8|0},bK=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ii(t.subarray(e,r))},Rs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},lf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Dy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:uR,l:0};if(a==1){var s=new Ii(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(S,A){return S.f-A.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new Ia(p+1),g=q2(r[d-1],h,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(i.sort(function(A,k){return h[k.s]-h[A.s]||A.f-k.f});n<a;++n){var j=i[n].s;if(h[j]>e)m+=x-(1<<g-h[j]),h[j]=e;else break}for(m>>=v;m>0;){var b=i[n].s;h[b]<e?m-=1<<e-h[b]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;h[_]==e&&(--h[_],++m)}g=e}return{t:new Ii(h),l:g}},q2=function(t,e,r){return t.s==-1?Math.max(q2(t.l,e,r+1),q2(t.r,e,r+1)):e[t.s]=r},o4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ia(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},cf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},cR=function(t,e,r){var n=r.length,a=lR(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},l4=function(t,e,r,n,a,i,s,l,c,u,d){Rs(e,d++,r),++a[256];for(var f=Dy(a,15),p=f.t,h=f.l,g=Dy(i,15),m=g.t,v=g.l,x=o4(p),j=x.c,b=x.n,_=o4(m),S=_.c,A=_.n,k=new Ia(19),O=0;O<j.length;++O)++k[j[O]&31];for(var O=0;O<S.length;++O)++k[S[O]&31];for(var T=Dy(k,7),R=T.t,P=T.l,I=19;I>4&&!R[i4[I-1]];--I);var M=u+5<<3,D=cf(a,ac)+cf(i,$m)+s,K=cf(a,p)+cf(i,m)+s+14+3*I+cf(k,R)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&M<=D&&M<=K)return cR(e,d,t.subarray(c,c+u));var $,q,F,ee;if(Rs(e,d,1+(K<D)),d+=2,K<D){$=Tf(p,h,0),q=p,F=Tf(m,v,0),ee=m;var fe=Tf(R,P,0);Rs(e,d,b-257),Rs(e,d+5,A-1),Rs(e,d+10,I-4),d+=14;for(var O=0;O<I;++O)Rs(e,d+3*O,R[i4[O]]);d+=3*I;for(var ue=[j,S],B=0;B<2;++B)for(var H=ue[B],O=0;O<H.length;++O){var V=H[O]&31;Rs(e,d,fe[V]),d+=R[V],V>15&&(Rs(e,d,H[O]>>5&127),d+=H[O]>>12)}}else $=yK,q=ac,F=xK,ee=$m;for(var O=0;O<l;++O){var W=n[O];if(W>255){var V=W>>18&31;lf(e,d,$[V+257]),d+=q[V+257],V>7&&(Rs(e,d,W>>23&31),d+=hj[V]);var Q=W&31;lf(e,d,F[Q]),d+=ee[Q],Q>3&&(lf(e,d,W>>5&8191),d+=pj[Q])}else lf(e,d,$[W]),d+=q[W]}return lf(e,d,$[256]),d+q[256]},wK=new fj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uR=new Ii(0),_K=function(t,e,r,n,a,i){var s=i.z||t.length,l=new Ii(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=wK[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,m=i.p||new Ia(32768),v=i.h||new Ia(g+1),x=Math.ceil(r/3),j=2*x,b=function(ge){return(t[ge]^t[ge+1]<<x^t[ge+2]<<j)&g},_=new fj(25e3),S=new Ia(288),A=new Ia(32),k=0,O=0,T=i.i||0,R=0,P=i.w||0,I=0;T+2<s;++T){var M=b(T),D=T&32767,K=v[M];if(m[D]=K,v[M]=D,P<=T){var $=s-T;if((k>7e3||R>24576)&&($>423||!u)){d=l4(t,c,0,_,S,A,O,R,I,T-I,d),R=k=O=0,I=T;for(var q=0;q<286;++q)S[q]=0;for(var q=0;q<30;++q)A[q]=0}var F=2,ee=0,fe=h,ue=D-K&32767;if($>2&&M==b(T-ue))for(var B=Math.min(p,$)-1,H=Math.min(32767,T),V=Math.min(258,$);ue<=H&&--fe&&D!=K;){if(t[T+F]==t[T+F-ue]){for(var W=0;W<V&&t[T+W]==t[T+W-ue];++W);if(W>F){if(F=W,ee=ue,W>B)break;for(var Q=Math.min(ue,W-2),re=0,q=0;q<Q;++q){var oe=T-ue+q&32767,ne=m[oe],de=oe-ne&32767;de>re&&(re=de,K=oe)}}}D=K,K=m[D],ue+=D-K&32767}if(ee){_[R++]=268435456|F2[F]<<18|s4[ee];var pe=F2[F]&31,le=s4[ee]&31;O+=hj[pe]+pj[le],++S[257+pe],++A[le],P=T+F,++k}else _[R++]=t[T],++S[t[T]]}}for(T=Math.max(T,P);T<s;++T)_[R++]=t[T],++S[t[T]];d=l4(t,c,u,_,S,A,O,R,I,T-I,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=m,i.i=T,i.w=P)}else{for(var T=i.w||0;T<s+u;T+=65535){var Ne=T+65535;Ne>=s&&(c[d/8|0]=u,Ne=s),d=cR(c,d+1,t.subarray(T,Ne))}i.i=s}return bK(l,0,n+lR(d)+a)},dR=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},jK=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Ii(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return _K(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},fR=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},NK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=dR();a.p(e.dictionary),fR(t,2,a.d())}};function U2(t,e){e||(e={});var r=dR();r.p(t);var n=jK(t,e,e.dictionary?6:2,4);return NK(n,e),fR(n,n.length-4,r.d()),n}var SK=typeof TextDecoder<"u"&&new TextDecoder,AK=0;try{SK.decode(uR,{stream:!0}),AK=1}catch{}function kK(t){if(Array.isArray(t))return t}function PK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function CK(t,e){if(t){if(typeof t=="string")return c4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c4(t,e):void 0}}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u4(t,e){return kK(t)||PK(t,e)||CK(t,e)||OK()}function d4(t,e="utf8"){return new TextDecoder(e).decode(t)}const EK=new TextEncoder;function TK(t){return EK.encode(t)}const IK=1024*8,RK=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),$y={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class mj{constructor(e=IK,r={}){Ht(this,"buffer");Ht(this,"byteLength");Ht(this,"byteOffset");Ht(this,"length");Ht(this,"offset");Ht(this,"lastWrittenByte");Ht(this,"littleEndian");Ht(this,"_data");Ht(this,"_mark");Ht(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof mj)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=$y[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===RK&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new $y[r](l.buffer);return this.offset+=n,c.reverse(),c}const s=new $y[r](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return d4(this.readBytes(e))}decodeText(e=1,r="utf8"){return d4(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(TK(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gd(t){let e=t.length;for(;--e>=0;)t[e]=0}const LK=3,MK=258,hR=29,DK=256,$K=DK+1+hR,pR=30,FK=512,BK=new Array(($K+2)*2);gd(BK);const qK=new Array(pR*2);gd(qK);const UK=new Array(FK);gd(UK);const zK=new Array(MK-LK+1);gd(zK);const WK=new Array(hR);gd(WK);const HK=new Array(pR);gd(HK);const VK=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var z2=VK;const GK=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},KK=new Uint32Array(GK()),YK=(t,e,r,n)=>{const a=KK,i=n+r;t^=-1;for(let s=n;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var Qi=YK,W2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const XK=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ZK=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)XK(r,n)&&(t[n]=r[n])}}return t},JK=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let s=t[n];r.set(s,a),a+=s.length}return r},gR={assign:ZK,flattenChunks:JK};let vR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vR=!1}const Vf=new Uint8Array(256);for(let t=0;t<256;t++)Vf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Vf[254]=Vf[254]=1;var QK=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,s=t.length,l=0;for(a=0;a<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const eY=(t,e)=>{if(e<65534&&t.subarray&&vR)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var tY=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=t[n++];if(s<128){i[a++]=s;continue}let l=Vf[s];if(l>4){i[a++]=65533,n+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&n<r;)s=s<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return eY(i,a)},rY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Vf[t[r]]>e?r:e},H2={string2buf:QK,buf2string:tY,utf8border:rY};function nY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aY=nY;const Gp=16209,iY=16191;var sY=function(e,r){let n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,b,_,S,A,k,O,T,R;const P=e.state;n=e.next_in,T=e.input,a=n+(e.avail_in-5),i=e.next_out,R=e.output,s=i-(r-e.avail_out),l=i+(e.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,p=P.window,h=P.hold,g=P.bits,m=P.lencode,v=P.distcode,x=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),b=m[h&x];t:for(;;){if(_=b>>>24,h>>>=_,g-=_,_=b>>>16&255,_===0)R[i++]=b&65535;else if(_&16){S=b&65535,_&=15,_&&(g<_&&(h+=T[n++]<<g,g+=8),S+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),b=v[h&j];r:for(;;){if(_=b>>>24,h>>>=_,g-=_,_=b>>>16&255,_&16){if(A=b&65535,_&=15,g<_&&(h+=T[n++]<<g,g+=8,g<_&&(h+=T[n++]<<g,g+=8)),A+=h&(1<<_)-1,A>c){e.msg="invalid distance too far back",P.mode=Gp;break e}if(h>>>=_,g-=_,_=i-s,A>_){if(_=A-_,_>d&&P.sane){e.msg="invalid distance too far back",P.mode=Gp;break e}if(k=0,O=p,f===0){if(k+=u-_,_<S){S-=_;do R[i++]=p[k++];while(--_);k=i-A,O=R}}else if(f<_){if(k+=u+f-_,_-=f,_<S){S-=_;do R[i++]=p[k++];while(--_);if(k=0,f<S){_=f,S-=_;do R[i++]=p[k++];while(--_);k=i-A,O=R}}}else if(k+=f-_,_<S){S-=_;do R[i++]=p[k++];while(--_);k=i-A,O=R}for(;S>2;)R[i++]=O[k++],R[i++]=O[k++],R[i++]=O[k++],S-=3;S&&(R[i++]=O[k++],S>1&&(R[i++]=O[k++]))}else{k=i-A;do R[i++]=R[k++],R[i++]=R[k++],R[i++]=R[k++],S-=3;while(S>2);S&&(R[i++]=R[k++],S>1&&(R[i++]=R[k++]))}}else if((_&64)===0){b=v[(b&65535)+(h&(1<<_)-1)];continue r}else{e.msg="invalid distance code",P.mode=Gp;break e}break}}else if((_&64)===0){b=m[(b&65535)+(h&(1<<_)-1)];continue t}else if(_&32){P.mode=iY;break e}else{e.msg="invalid literal/length code",P.mode=Gp;break e}break}}while(n<a&&i<l);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),P.hold=h,P.bits=g};const ru=15,f4=852,h4=592,p4=0,Fy=1,m4=2,oY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),uY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dY=(t,e,r,n,a,i,s,l)=>{const c=l.bits;let u=0,d=0,f=0,p=0,h=0,g=0,m=0,v=0,x=0,j=0,b,_,S,A,k,O=null,T;const R=new Uint16Array(ru+1),P=new Uint16Array(ru+1);let I=null,M,D,K;for(u=0;u<=ru;u++)R[u]=0;for(d=0;d<n;d++)R[e[r+d]]++;for(h=c,p=ru;p>=1&&R[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&R[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=ru;u++)if(v<<=1,v-=R[u],v<0)return-1;if(v>0&&(t===p4||p!==1))return-1;for(P[1]=0,u=1;u<ru;u++)P[u+1]=P[u]+R[u];for(d=0;d<n;d++)e[r+d]!==0&&(s[P[e[r+d]]++]=d);if(t===p4?(O=I=s,T=20):t===Fy?(O=oY,I=lY,T=257):(O=cY,I=uY,T=0),j=0,d=0,u=f,k=i,g=h,m=0,S=-1,x=1<<h,A=x-1,t===Fy&&x>f4||t===m4&&x>h4)return 1;for(;;){M=u-m,s[d]+1<T?(D=0,K=s[d]):s[d]>=T?(D=I[s[d]-T],K=O[s[d]-T]):(D=96,K=0),b=1<<u-m,_=1<<g,f=_;do _-=b,a[k+(j>>m)+_]=M<<24|D<<16|K|0;while(_!==0);for(b=1<<u-1;j&b;)b>>=1;if(b!==0?(j&=b-1,j+=b):j=0,d++,--R[u]===0){if(u===p)break;u=e[r+s[d]]}if(u>h&&(j&A)!==S){for(m===0&&(m=h),k+=f,g=u-m,v=1<<g;g+m<p&&(v-=R[g+m],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===Fy&&x>f4||t===m4&&x>h4)return 1;S=j&A,a[S]=h<<24|g<<16|k-i|0}}return j!==0&&(a[k+j]=u-m<<24|64<<16|0),l.bits=h,0};var If=dY;const fY=0,yR=1,xR=2,{Z_FINISH:g4,Z_BLOCK:hY,Z_TREES:Kp,Z_OK:ic,Z_STREAM_END:pY,Z_NEED_DICT:mY,Z_STREAM_ERROR:ii,Z_DATA_ERROR:bR,Z_MEM_ERROR:wR,Z_BUF_ERROR:gY,Z_DEFLATED:v4}=mR,yv=16180,y4=16181,x4=16182,b4=16183,w4=16184,_4=16185,j4=16186,N4=16187,S4=16188,A4=16189,Fm=16190,Ls=16191,By=16192,k4=16193,qy=16194,P4=16195,C4=16196,O4=16197,E4=16198,Yp=16199,Xp=16200,T4=16201,I4=16202,R4=16203,L4=16204,M4=16205,Uy=16206,D4=16207,$4=16208,Lr=16209,_R=16210,jR=16211,vY=852,yY=592,xY=15,bY=xY,F4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function wY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<yv||e.mode>jR?1:0},NR=t=>{if(yc(t))return ii;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=yv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(vY),e.distcode=e.distdyn=new Int32Array(yY),e.sane=1,e.back=-1,ic},SR=t=>{if(yc(t))return ii;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,NR(t)},AR=(t,e)=>{let r;if(yc(t))return ii;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ii:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,SR(t))},kR=(t,e)=>{if(!t)return ii;const r=new wY;t.state=r,r.strm=t,r.window=null,r.mode=yv;const n=AR(t,e);return n!==ic&&(t.state=null),n},_Y=t=>kR(t,bY);let B4=!0,zy,Wy;const jY=t=>{if(B4){zy=new Int32Array(512),Wy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(If(yR,t.lens,0,288,zy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;If(xR,t.lens,0,32,Wy,0,t.work,{bits:5}),B4=!1}t.lencode=zy,t.lenbits=9,t.distcode=Wy,t.distbits=5},PR=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},NY=(t,e)=>{let r,n,a,i,s,l,c,u,d,f,p,h,g,m,v=0,x,j,b,_,S,A,k,O;const T=new Uint8Array(4);let R,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yc(t)||!t.output||!t.input&&t.avail_in!==0)return ii;r=t.state,r.mode===Ls&&(r.mode=By),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,f=l,p=c,O=ic;e:for(;;)switch(r.mode){case yv:if(r.wrap===0){r.mode=By;break}for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0),u=0,d=0,r.mode=y4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Lr;break}if((u&15)!==v4){t.msg="unknown compression method",r.mode=Lr;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Lr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?A4:Ls,u=0,d=0;break;case y4:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==v4){t.msg="unknown compression method",r.mode=Lr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Lr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0)),u=0,d=0,r.mode=x4;case x4:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=Qi(r.check,T,4,0)),u=0,d=0,r.mode=b4;case b4:for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0)),u=0,d=0,r.mode=w4;case w4:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Qi(r.check,T,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=_4;case _4:if(r.flags&1024&&(h=r.length,h>l&&(h=l),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),k)),r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,h,i)),l-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=j4;case j4:if(r.flags&2048){if(l===0)break e;h=0;do k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,h,i)),l-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=N4;case N4:if(r.flags&4096){if(l===0)break e;h=0;do k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&h<l);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,h,i)),l-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=S4;case S4:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Lr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ls;break;case A4:for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}t.adler=r.check=F4(u),u=0,d=0,r.mode=Fm;case Fm:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,mY;t.adler=r.check=1,r.mode=Ls;case Ls:if(e===hY||e===Kp)break e;case By:if(r.last){u>>>=d&7,d-=d&7,r.mode=Uy;break}for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=k4;break;case 1:if(jY(r),r.mode=Yp,e===Kp){u>>>=2,d-=2;break e}break;case 2:r.mode=C4;break;case 3:t.msg="invalid block type",r.mode=Lr}u>>>=2,d-=2;break;case k4:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Lr;break}if(r.length=u&65535,u=0,d=0,r.mode=qy,e===Kp)break e;case qy:r.mode=P4;case P4:if(h=r.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),s),l-=h,i+=h,c-=h,s+=h,r.length-=h;break}r.mode=Ls;break;case C4:for(;d<14;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Lr;break}r.have=0,r.mode=O4;case O4:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.lens[I[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},O=If(fY,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,O){t.msg="invalid code lengths set",r.mode=Lr;break}r.have=0,r.mode=E4;case E4:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,j=v>>>16&255,b=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(b<16)u>>>=x,d-=x,r.lens[r.have++]=b;else{if(b===16){for(P=x+2;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Lr;break}k=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(b===17){for(P=x+3;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,k=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=x+7;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=x,d-=x,k=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Lr;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Lr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Lr;break}if(r.lenbits=9,R={bits:r.lenbits},O=If(yR,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,O){t.msg="invalid literal/lengths set",r.mode=Lr;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},O=If(xR,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,O){t.msg="invalid distances set",r.mode=Lr;break}if(r.mode=Yp,e===Kp)break e;case Yp:r.mode=Xp;case Xp:if(l>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,sY(t,p),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===Ls&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],x=v>>>24,j=v>>>16&255,b=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(j&&(j&240)===0){for(_=x,S=j,A=b;v=r.lencode[A+((u&(1<<_+S)-1)>>_)],x=v>>>24,j=v>>>16&255,b=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,r.length=b,j===0){r.mode=M4;break}if(j&32){r.back=-1,r.mode=Ls;break}if(j&64){t.msg="invalid literal/length code",r.mode=Lr;break}r.extra=j&15,r.mode=T4;case T4:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=I4;case I4:for(;v=r.distcode[u&(1<<r.distbits)-1],x=v>>>24,j=v>>>16&255,b=v&65535,!(x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if((j&240)===0){for(_=x,S=j,A=b;v=r.distcode[A+((u&(1<<_+S)-1)>>_)],x=v>>>24,j=v>>>16&255,b=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=x,d-=x,r.back+=x,j&64){t.msg="invalid distance code",r.mode=Lr;break}r.offset=b,r.extra=j&15,r.mode=R4;case R4:if(r.extra){for(P=r.extra;d<P;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Lr;break}r.mode=L4;case L4:if(c===0)break e;if(h=p-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Lr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,g=s-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[s++]=m[g++];while(--h);r.length===0&&(r.mode=Xp);break;case M4:if(c===0)break e;a[s++]=r.length,c--,r.mode=Xp;break;case Uy:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[i++]<<d,d+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Qi(r.check,a,p,s-p):z2(r.check,a,p,s-p)),p=c,r.wrap&4&&(r.flags?u:F4(u))!==r.check){t.msg="incorrect data check",r.mode=Lr;break}u=0,d=0}r.mode=D4;case D4:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Lr;break}u=0,d=0}r.mode=$4;case $4:O=pY;break e;case Lr:O=bR;break e;case _R:return wR;case jR:default:return ii}return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Lr&&(r.mode<Uy||e!==g4))&&PR(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Qi(r.check,a,p,t.next_out-p):z2(r.check,a,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ls?128:0)+(r.mode===Yp||r.mode===qy?256:0),(f===0&&p===0||e===g4)&&O===ic&&(O=gY),O},SY=t=>{if(yc(t))return ii;let e=t.state;return e.window&&(e.window=null),t.state=null,ic},AY=(t,e)=>{if(yc(t))return ii;const r=t.state;return(r.wrap&2)===0?ii:(r.head=e,e.done=!1,ic)},kY=(t,e)=>{const r=e.length;let n,a,i;return yc(t)||(n=t.state,n.wrap!==0&&n.mode!==Fm)?ii:n.mode===Fm&&(a=1,a=z2(a,e,r,0),a!==n.check)?bR:(i=PR(t,e,r,r),i?(n.mode=_R,wR):(n.havedict=1,ic))};var PY=SR,CY=AR,OY=NR,EY=_Y,TY=kR,IY=NY,RY=SY,LY=AY,MY=kY,DY="pako inflate (from Nodeca project)",Us={inflateReset:PY,inflateReset2:CY,inflateResetKeep:OY,inflateInit:EY,inflateInit2:TY,inflate:IY,inflateEnd:RY,inflateGetHeader:LY,inflateSetDictionary:MY,inflateInfo:DY};function $Y(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FY=$Y;const CR=Object.prototype.toString,{Z_NO_FLUSH:BY,Z_FINISH:qY,Z_OK:Gf,Z_STREAM_END:Hy,Z_NEED_DICT:Vy,Z_STREAM_ERROR:UY,Z_DATA_ERROR:q4,Z_MEM_ERROR:zY}=mR;function Dh(t){this.options=gR.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aY,this.strm.avail_out=0;let r=Us.inflateInit2(this.strm,e.windowBits);if(r!==Gf)throw new Error(W2[r]);if(this.header=new FY,Us.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=H2.string2buf(e.dictionary):CR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Us.inflateSetDictionary(this.strm,e.dictionary),r!==Gf)))throw new Error(W2[r])}Dh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,l;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?qY:BY,CR.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Us.inflate(r,s),i===Vy&&a&&(i=Us.inflateSetDictionary(r,a),i===Gf?i=Us.inflate(r,s):i===q4&&(i=Vy));r.avail_in>0&&i===Hy&&r.state.wrap>0&&t[r.next_in]!==0;)Us.inflateReset(r),i=Us.inflate(r,s);switch(i){case UY:case q4:case Vy:case zY:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===Hy))if(this.options.to==="string"){let c=H2.utf8border(r.output,r.next_out),u=r.next_out-c,d=H2.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Gf&&l===0)){if(i===Hy)return i=Us.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Dh.prototype.onData=function(t){this.chunks.push(t)};Dh.prototype.onEnd=function(t){t===Gf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gR.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function WY(t,e){const r=new Dh(e);if(r.push(t),r.err)throw r.msg||W2[r.err];return r.result}var HY=Dh,VY=WY,GY={Inflate:HY,inflate:VY};const{Inflate:KY,inflate:YY}=GY;var U4=KY,XY=YY;const OR=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;OR[t]=e}const z4=4294967295;function ZY(t,e,r){let n=t;for(let a=0;a<r;a++)n=OR[(n^e[a])&255]^n>>>8;return n}function JY(t,e){return(ZY(z4,t,e)^z4)>>>0}function W4(t,e,r){const n=t.readUint32(),a=JY(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function ER(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function TR(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function IR(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function RR(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function LR(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+QY(e[i-a],r[i],r[i-a])&255}}function QY(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),s=Math.abs(n-r);return a<=i&&a<=s?t:i<=s?e:r}function eX(t,e,r,n,a,i){switch(t){case 0:ER(e,r,a);break;case 1:TR(e,r,a,i);break;case 2:IR(e,r,n,a);break;case 3:RR(e,r,n,a,i);break;case 4:LR(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const tX=new Uint16Array([255]),rX=new Uint8Array(tX.buffer),nX=rX[0]===255;function aX(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*l,m=new Uint8Array(g);for(let v=0;v<h;v++){const x=e[u++],j=e.subarray(u,u+g);u+=g;const b=new Uint8Array(g);eX(x,j,b,m,g,l),m.set(b);for(let _=0;_<p;_++){const S=f.x+_*f.xStep,A=f.y+v*f.yStep;if(!(S>=r||A>=n))for(let k=0;k<l;k++)c[(A*r+S)*l+k]=b[_*l+k]}}}if(i===16){const d=new Uint16Array(c.buffer);if(nX)for(let f=0;f<d.length;f++)d[f]=iX(d[f]);return d}else return c}function iX(t){return(t&255)<<8|t>>8&255}const sX=new Uint16Array([255]),oX=new Uint8Array(sX.buffer),lX=oX[0]===255,cX=new Uint8Array(0);function H4(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let u=cX,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+l),p=c.subarray(h*l,(h+1)*l),e[d]){case 0:ER(f,p,l);break;case 1:TR(f,p,l,s);break;case 2:IR(f,p,u,l);break;case 3:RR(f,p,u,l,s);break;case 4:LR(f,p,u,l,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(lX)for(let g=0;g<h.length;g++)h[g]=uX(h[g]);return h}else return c}function uX(t){return(t&255)<<8|t>>8&255}const wm=Uint8Array.of(137,80,78,71,13,10,26,10);function V4(t){if(!dX(t.readBytes(wm.length)))throw new Error("wrong PNG signature")}function dX(t){if(t.length<wm.length)return!1;for(let e=0;e<wm.length;e++)if(t[e]!==wm[e])return!1;return!0}const fX="tEXt",hX=0,MR=new TextDecoder("latin1");function pX(t){if(gX(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const mX=/^[\u0000-\u00FF]*$/;function gX(t){if(!mX.test(t))throw new Error("invalid latin1 text")}function vX(t,e,r){const n=DR(e);t[n]=yX(e,r-n.length-1)}function DR(t){for(t.mark();t.readByte()!==hX;);const e=t.offset;t.reset();const r=MR.decode(t.readBytes(e-t.offset-1));return t.skip(1),pX(r),r}function yX(t,e){return MR.decode(t.readBytes(e))}const Na={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Gy={UNKNOWN:-1,DEFLATE:0},G4={UNKNOWN:-1,ADAPTIVE:0},Ky={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zp={NONE:0,BACKGROUND:1,PREVIOUS:2},Yy={SOURCE:0,OVER:1};class xX extends mj{constructor(r,n={}){super(r);Ht(this,"_checkCrc");Ht(this,"_inflator");Ht(this,"_png");Ht(this,"_apng");Ht(this,"_end");Ht(this,"_hasPalette");Ht(this,"_palette");Ht(this,"_hasTransparency");Ht(this,"_transparency");Ht(this,"_compressionMethod");Ht(this,"_filterMethod");Ht(this,"_interlaceMethod");Ht(this,"_colorType");Ht(this,"_isAnimated");Ht(this,"_numberOfFrames");Ht(this,"_numberOfPlays");Ht(this,"_frames");Ht(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new U4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Gy.UNKNOWN,this._filterMethod=G4.UNKNOWN,this._interlaceMethod=Ky.UNKNOWN,this._colorType=Na.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(V4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(V4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case fX:vX(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?W4(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?W4(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=bX(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Na.GREYSCALE:a=1;break;case Na.TRUECOLOUR:a=3;break;case Na.INDEXED_COLOUR:a=1;break;case Na.GREYSCALE_ALPHA:a=2;break;case Na.TRUECOLOUR_ALPHA:a=4;break;case Na.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Gy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Na.GREYSCALE:case Na.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Na.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Na.UNKNOWN:case Na.GREYSCALE_ALPHA:case Na.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=DR(this),a=this.readUint8();if(a!==Gy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:XY(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=H4({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Zp.NONE:break;case Zp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const l=(i*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Zp.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(s,l)=>{const c=((s+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(s*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Yy.SOURCE:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(s,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Yy.OVER:for(let s=0;s<n.height;s++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=i(s,l);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==G4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ky.NO_INTERLACE)this._png.data=H4({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ky.ADAM7)this._png.data=aX({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zp.NONE,blendOp:Yy.SOURCE,data:r}),this._inflator=new U4,this._writingDataChunks=!1}}function bX(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var K4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(K4||(K4={}));function wX(t,e){return new xX(t,e).decode()}var Pt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Xy(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var mr={log:Xy,warn:function(t){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):Xy.call(null,arguments))},error:function(t){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):Xy(t))}};function Zy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Rl(n.response,e,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function Y4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Jp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Rl=Pt.saveAs||((typeof window>"u"?"undefined":ur(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Pt.URL||Pt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Y4(a.href)?Zy(t,e,r):Jp(a,a.target="_blank"):Jp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Jp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Y4(t))Zy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Jp(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:ur(i)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Zy(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Pt.HTMLElement)||Pt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":ur(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=Pt.URL||Pt.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $R(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var _m=Pt.atob.bind(Pt),X4=Pt.btoa.bind(Pt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Jy(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=$n(r,n,a,i,e[0],7,-680876936),i=$n(i,r,n,a,e[1],12,-389564586),a=$n(a,i,r,n,e[2],17,606105819),n=$n(n,a,i,r,e[3],22,-1044525330),r=$n(r,n,a,i,e[4],7,-176418897),i=$n(i,r,n,a,e[5],12,1200080426),a=$n(a,i,r,n,e[6],17,-1473231341),n=$n(n,a,i,r,e[7],22,-45705983),r=$n(r,n,a,i,e[8],7,1770035416),i=$n(i,r,n,a,e[9],12,-1958414417),a=$n(a,i,r,n,e[10],17,-42063),n=$n(n,a,i,r,e[11],22,-1990404162),r=$n(r,n,a,i,e[12],7,1804603682),i=$n(i,r,n,a,e[13],12,-40341101),a=$n(a,i,r,n,e[14],17,-1502002290),r=Fn(r,n=$n(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Fn(i,r,n,a,e[6],9,-1069501632),a=Fn(a,i,r,n,e[11],14,643717713),n=Fn(n,a,i,r,e[0],20,-373897302),r=Fn(r,n,a,i,e[5],5,-701558691),i=Fn(i,r,n,a,e[10],9,38016083),a=Fn(a,i,r,n,e[15],14,-660478335),n=Fn(n,a,i,r,e[4],20,-405537848),r=Fn(r,n,a,i,e[9],5,568446438),i=Fn(i,r,n,a,e[14],9,-1019803690),a=Fn(a,i,r,n,e[3],14,-187363961),n=Fn(n,a,i,r,e[8],20,1163531501),r=Fn(r,n,a,i,e[13],5,-1444681467),i=Fn(i,r,n,a,e[2],9,-51403784),a=Fn(a,i,r,n,e[7],14,1735328473),r=Bn(r,n=Fn(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Bn(i,r,n,a,e[8],11,-2022574463),a=Bn(a,i,r,n,e[11],16,1839030562),n=Bn(n,a,i,r,e[14],23,-35309556),r=Bn(r,n,a,i,e[1],4,-1530992060),i=Bn(i,r,n,a,e[4],11,1272893353),a=Bn(a,i,r,n,e[7],16,-155497632),n=Bn(n,a,i,r,e[10],23,-1094730640),r=Bn(r,n,a,i,e[13],4,681279174),i=Bn(i,r,n,a,e[0],11,-358537222),a=Bn(a,i,r,n,e[3],16,-722521979),n=Bn(n,a,i,r,e[6],23,76029189),r=Bn(r,n,a,i,e[9],4,-640364487),i=Bn(i,r,n,a,e[12],11,-421815835),a=Bn(a,i,r,n,e[15],16,530742520),r=qn(r,n=Bn(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=qn(i,r,n,a,e[7],10,1126891415),a=qn(a,i,r,n,e[14],15,-1416354905),n=qn(n,a,i,r,e[5],21,-57434055),r=qn(r,n,a,i,e[12],6,1700485571),i=qn(i,r,n,a,e[3],10,-1894986606),a=qn(a,i,r,n,e[10],15,-1051523),n=qn(n,a,i,r,e[1],21,-2054922799),r=qn(r,n,a,i,e[8],6,1873313359),i=qn(i,r,n,a,e[15],10,-30611744),a=qn(a,i,r,n,e[6],15,-1560198380),n=qn(n,a,i,r,e[13],21,1309151649),r=qn(r,n,a,i,e[4],6,-145523070),i=qn(i,r,n,a,e[11],10,-1120210379),a=qn(a,i,r,n,e[2],15,718787259),n=qn(n,a,i,r,e[9],21,-343485551),t[0]=qo(r,t[0]),t[1]=qo(n,t[1]),t[2]=qo(a,t[2]),t[3]=qo(i,t[3])}function xv(t,e,r,n,a,i){return e=qo(qo(e,t),qo(n,i)),qo(e<<a|e>>>32-a,r)}function $n(t,e,r,n,a,i,s){return xv(e&r|~e&n,t,e,a,i,s)}function Fn(t,e,r,n,a,i,s){return xv(e&n|r&~n,t,e,a,i,s)}function Bn(t,e,r,n,a,i,s){return xv(e^r^n,t,e,a,i,s)}function qn(t,e,r,n,a,i,s){return xv(r^(e|~n),t,e,a,i,s)}function FR(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Jy(n,_X(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Jy(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Jy(n,a),n}function _X(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Z4="0123456789abcdef".split("");function jX(t){for(var e="",r=0;r<4;r++)e+=Z4[t>>8*r+4&15]+Z4[t>>8*r&15];return e}function NX(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function V2(t){return FR(t).map(NX).join("")}var SX=(function(t){for(var e=0;e<t.length;e++)t[e]=jX(t[e]);return t.join("")})(FR("hello"))!="5d41402abc4b2a76b9719d911017c592";function qo(t,e){if(SX){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G2(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+s.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var f=e.length,p=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=d,s=l[(l[p]+l[h])%256],g+=String.fromCharCode(e.charCodeAt(c)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J4={print:4,modify:8,copy:16,"annot-forms":32};function mu(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(J4.perm!==void 0)throw new Error("Invalid permission: "+l);a+=J4[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=V2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=G2(this.encryptionKey,this.padding)}function gu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function Q4(t){if(ur(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(l){Pt.console&&mr.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Bm(t){if(!(this instanceof Bm))return new Bm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function BR(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bl(t,e,r,n,a){if(!(this instanceof Bl))return new Bl(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,BR.call(this,n,a)}function yu(t,e,r,n,a){if(!(this instanceof yu))return new yu(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,BR.call(this,n,a)}function ht(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",d=null;ur(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=Q4;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(C){g=C};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(C){return v[C]};a=a||"a4";var j="compat",b="advanced",_=j;function S(){this.saveGraphicsState(),te(new Ke(vt,0,0,-vt,0,ga()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),u="n",_=b}function A(){this.restoreGraphicsState(),u="S",_=j}var k=h.__private__.combineFontStyleAndFontWeight=function(C,z){if(C=="bold"&&z=="normal"||C=="bold"&&z==400||C=="normal"&&z=="italic"||C=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(C=z==400||z==="normal"?C==="italic"?"italic":"normal":z!=700&&z!=="bold"||C!=="normal"?(z==700?"bold":z)+""+C:"bold"),C};h.advancedAPI=function(C){var z=_===j;return z&&S.call(this),typeof C!="function"||(C(this),z&&A.call(this)),this},h.compatAPI=function(C){var z=_===b;return z&&A.call(this),typeof C!="function"||(C(this),z&&S.call(this)),this},h.isAdvancedAPI=function(){return _===b};var O,T=function(C){if(_!==b)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=h.roundToPrecision=h.__private__.roundToPrecision=function(C,z){var se=e||z;if(isNaN(C)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(se).replace(/0+$/,"")};O=h.hpf=h.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,16)};var P=h.f2=h.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return R(C,2)},I=h.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return R(C,3)},M=h.scale=h.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return _===j?C*vt:_===b?C:void 0},D=function(C){return M((function(z){return _===j?ga()-z:_===b?z:void 0})(C))};h.__private__.setPrecision=h.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var K,$="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return $},F=h.__private__.setFileId=function(C){return $=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Kr=new mu(d.userPermissions,d.userPassword,d.ownerPassword,$)),$};h.setFileId=function(C){return F(C),this},h.getFileId=function(){return q()};var ee=h.__private__.convertDateToPDFDate=function(C){var z=C.getTimezoneOffset(),se=z<0?"+":"-",ce=Math.floor(Math.abs(z/60)),ye=Math.abs(z%60),Ce=[se,V(ce),"'",V(ye),"'"].join("");return["D:",C.getFullYear(),V(C.getMonth()+1),V(C.getDate()),V(C.getHours()),V(C.getMinutes()),V(C.getSeconds()),Ce].join("")},fe=h.__private__.convertPDFDateToDate=function(C){var z=parseInt(C.substr(2,4),10),se=parseInt(C.substr(6,2),10)-1,ce=parseInt(C.substr(8,2),10),ye=parseInt(C.substr(10,2),10),Ce=parseInt(C.substr(12,2),10),Ie=parseInt(C.substr(14,2),10);return new Date(z,se,ce,ye,Ce,Ie,0)},ue=h.__private__.setCreationDate=function(C){var z;if(C===void 0&&(C=new Date),C instanceof Date)z=ee(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=C}return K=z},B=h.__private__.getCreationDate=function(C){var z=K;return C==="jsDate"&&(z=fe(K)),z};h.setCreationDate=function(C){return ue(C),this},h.getCreationDate=function(C){return B(C)};var H,V=h.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},W=h.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},Q=0,re=[],oe=[],ne=0,de=[],pe=[],le=!1,Ne=oe;h.__private__.setCustomOutputDestination=function(C){le=!0,Ne=C};var ge=function(C){le||(Ne=C)};h.__private__.resetCustomOutputDestination=function(){le=!1,Ne=oe};var te=h.__private__.out=function(C){return C=C.toString(),ne+=C.length+1,Ne.push(C),Ne},qe=h.__private__.write=function(C){return te(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Ue=h.__private__.getArrayBuffer=function(C){for(var z=C.length,se=new ArrayBuffer(z),ce=new Uint8Array(se);z--;)ce[z]=C.charCodeAt(z);return se},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ze};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(C){return Pe=_===b?C/vt:C,this};var Xe,Be=h.__private__.getFontSize=h.getFontSize=function(){return _===j?Pe:Pe*vt},ve=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(C){return ve=C,this},h.__private__.getR2L=h.getR2L=function(){return ve};var Re,lt=h.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Xe=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Xe=C}else Xe=parseInt(C,10)};h.__private__.getZoomMode=function(){return Xe};var We,Qe=h.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Re=C};h.__private__.getPageMode=function(){return Re};var mt=h.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');We=C};h.__private__.getLayoutMode=function(){return We},h.__private__.setDisplayMode=h.setDisplayMode=function(C,z,se){return lt(C),mt(z),Qe(se),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(C){if(Object.keys(gt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[C]},h.__private__.getDocumentProperties=function(){return gt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(C){for(var z in gt)gt.hasOwnProperty(z)&&C[z]&&(gt[z]=C[z]);return this},h.__private__.setDocumentProperty=function(C,z){if(Object.keys(gt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[C]=z};var ct,vt,dt,Yt,Xt,st={},Ot={},nr=[],yt={},zt={},xt={},$r={},Gr=null,ar=0,St=[],Ve=new Q4(h),xr=t.hotfixes||[],Zt={},Fr={},Hn=[],Ke=function C(z,se,ce,ye,Ce,Ie){if(!(this instanceof C))return new C(z,se,ce,ye,Ce,Ie);isNaN(z)&&(z=1),isNaN(se)&&(se=0),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=1),isNaN(Ce)&&(Ce=0),isNaN(Ie)&&(Ie=0),this._matrix=[z,se,ce,ye,Ce,Ie]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(C)},Ke.prototype.multiply=function(C){var z=C.sx*this.sx+C.shy*this.shx,se=C.sx*this.shy+C.shy*this.sy,ce=C.shx*this.sx+C.sy*this.shx,ye=C.shx*this.shy+C.sy*this.sy,Ce=C.tx*this.sx+C.ty*this.shx+this.tx,Ie=C.tx*this.shy+C.ty*this.sy+this.ty;return new Ke(z,se,ce,ye,Ce,Ie)},Ke.prototype.decompose=function(){var C=this.sx,z=this.shy,se=this.shx,ce=this.sy,ye=this.tx,Ce=this.ty,Ie=Math.sqrt(C*C+z*z),nt=(C/=Ie)*se+(z/=Ie)*ce;se-=C*nt,ce-=z*nt;var ut=Math.sqrt(se*se+ce*ce);return nt/=ut,C*(ce/=ut)<z*(se/=ut)&&(C=-C,z=-z,nt=-nt,Ie=-Ie),{scale:new Ke(Ie,0,0,ut,0,0),translate:new Ke(1,0,0,1,ye,Ce),rotate:new Ke(C,z,-z,C,0,0),skew:new Ke(1,0,nt,1,0,0)}},Ke.prototype.toString=function(C){return this.join(" ")},Ke.prototype.inversed=function(){var C=this.sx,z=this.shy,se=this.shx,ce=this.sy,ye=this.tx,Ce=this.ty,Ie=1/(C*ce-z*se),nt=ce*Ie,ut=-z*Ie,kt=-se*Ie,Dt=C*Ie;return new Ke(nt,ut,kt,Dt,-nt*ye-kt*Ce,-ut*ye-Dt*Ce)},Ke.prototype.applyToPoint=function(C){var z=C.x*this.sx+C.y*this.shx+this.tx,se=C.x*this.shy+C.y*this.sy+this.ty;return new bl(z,se)},Ke.prototype.applyToRectangle=function(C){var z=this.applyToPoint(C),se=this.applyToPoint(new bl(C.x+C.w,C.y+C.h));return new Bd(z.x,z.y,se.x-z.x,se.y-z.y)},Ke.prototype.clone=function(){var C=this.sx,z=this.shy,se=this.shx,ce=this.sy,ye=this.tx,Ce=this.ty;return new Ke(C,z,se,ce,ye,Ce)},h.Matrix=Ke;var Ur=h.matrixMult=function(C,z){return z.multiply(C)},na=new Ke(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=na;var Ir=function(C,z){if(!zt[C]){var se=(z instanceof Bl?"Sh":"P")+(Object.keys(yt).length+1).toString(10);z.id=se,zt[C]=se,yt[se]=z,Ve.publish("addPattern",z)}};h.ShadingPattern=Bl,h.TilingPattern=yu,h.addShadingPattern=function(C,z){return T("addShadingPattern()"),Ir(C,z),this},h.beginTilingPattern=function(C){T("beginTilingPattern()"),qd(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},h.endTilingPattern=function(C,z){T("endTilingPattern()"),z.stream=pe[H].join(`
`),Ir(C,z),Ve.publish("endTilingPattern",z),Hn.pop().restore()};var Rr,Cr=h.__private__.newObject=function(){var C=br();return jn(C,!0),C},br=h.__private__.newObjectDeferred=function(){return Q++,re[Q]=function(){return ne},Q},jn=function(C,z){return z=typeof z=="boolean"&&z,re[C]=ne,z&&te(C+" 0 obj"),C},dl=h.__private__.newAdditionalObject=function(){var C={objId:br(),content:""};return de.push(C),C},po=br(),ci=br(),zi=h.__private__.decodeColorString=function(C){var z=C.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var se=parseFloat(z[0]);z=[se,se,se,"r"]}for(var ce="#",ye=0;ye<3;ye++)ce+=("0"+Math.floor(255*parseFloat(z[ye])).toString(16)).slice(-2);return ce},ui=h.__private__.encodeColorString=function(C){var z;typeof C=="string"&&(C={ch1:C});var se=C.ch1,ce=C.ch2,ye=C.ch3,Ce=C.ch4,Ie=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var nt=new $R(se);if(nt.ok)se=nt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var ut=parseInt(se.substr(1),16);se=ut>>16&255,ce=ut>>8&255,ye=255&ut}if(ce===void 0||Ce===void 0&&se===ce&&ce===ye)z=typeof se=="string"?se+" "+Ie[0]:C.precision===2?P(se/255)+" "+Ie[0]:I(se/255)+" "+Ie[0];else if(Ce===void 0||ur(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",Ie[1]].join(" ");z=typeof se=="string"?[se,ce,ye,Ie[1]].join(" "):C.precision===2?[P(se/255),P(ce/255),P(ye/255),Ie[1]].join(" "):[I(se/255),I(ce/255),I(ye/255),Ie[1]].join(" ")}else z=typeof se=="string"?[se,ce,ye,Ce,Ie[2]].join(" "):C.precision===2?[P(se),P(ce),P(ye),P(Ce),Ie[2]].join(" "):[I(se),I(ce),I(ye),I(Ce),Ie[2]].join(" ");return z},di=h.__private__.getFilters=function(){return s},Ua=h.__private__.putStream=function(C){var z=(C=C||{}).data||"",se=C.filters||di(),ce=C.alreadyAppliedFilters||[],ye=C.addLength1||!1,Ce=z.length,Ie=C.objectId,nt=function(un){return un};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(nt=Kr.encryptor(Ie,0));var ut={};se===!0&&(se=["FlateEncode"]);var kt=C.additionalKeyValues||[],Dt=(ut=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(z,se):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(ut.data.length!==0&&(kt.push({key:"Length",value:ut.data.length}),ye===!0&&kt.push({key:"Length1",value:Ce})),Dt.length!=0)if(Dt.split("/").length-1==1)kt.push({key:"Filter",value:Dt});else{kt.push({key:"Filter",value:"["+Dt+"]"});for(var rr=0;rr<kt.length;rr+=1)if(kt[rr].key==="DecodeParms"){for(var Br=[],sn=0;sn<ut.reverseChain.split("/").length-1;sn+=1)Br.push("null");Br.push(kt[rr].value),kt[rr].value="["+Br.join(" ")+"]"}}te("<<");for(var fr=0;fr<kt.length;fr++)te("/"+kt[fr].key+" "+kt[fr].value);te(">>"),ut.data.length!==0&&(te("stream"),te(nt(ut.data)),te("endstream"))},fl=h.__private__.putPage=function(C){var z=C.number,se=C.data,ce=C.objId,ye=C.contentsObjId;jn(ce,!0),te("<</Type /Page"),te("/Parent "+C.rootDictionaryObjId+" 0 R"),te("/Resources "+C.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(O(C.mediaBox.bottomLeftX))+" "+parseFloat(O(C.mediaBox.bottomLeftY))+" "+O(C.mediaBox.topRightX)+" "+O(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&te("/CropBox ["+O(C.cropBox.bottomLeftX)+" "+O(C.cropBox.bottomLeftY)+" "+O(C.cropBox.topRightX)+" "+O(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&te("/BleedBox ["+O(C.bleedBox.bottomLeftX)+" "+O(C.bleedBox.bottomLeftY)+" "+O(C.bleedBox.topRightX)+" "+O(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&te("/TrimBox ["+O(C.trimBox.bottomLeftX)+" "+O(C.trimBox.bottomLeftY)+" "+O(C.trimBox.topRightX)+" "+O(C.trimBox.topRightY)+"]"),C.artBox!==null&&te("/ArtBox ["+O(C.artBox.bottomLeftX)+" "+O(C.artBox.bottomLeftY)+" "+O(C.artBox.topRightX)+" "+O(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&te("/UserUnit "+C.userUnit),Ve.publish("putPage",{objId:ce,pageContext:St[z],pageNumber:z,page:se}),te("/Contents "+ye+" 0 R"),te(">>"),te("endobj");var Ce=se.join(`
`);return _===b&&(Ce+=`
Q`),jn(ye,!0),Ua({data:Ce,filters:di(),objectId:ye}),te("endobj"),ce},Wi=h.__private__.putPages=function(){var C,z,se=[];for(C=1;C<=ar;C++)St[C].objId=br(),St[C].contentsObjId=br();for(C=1;C<=ar;C++)se.push(fl({number:C,data:pe[C],objId:St[C].objId,contentsObjId:St[C].contentsObjId,mediaBox:St[C].mediaBox,cropBox:St[C].cropBox,bleedBox:St[C].bleedBox,trimBox:St[C].trimBox,artBox:St[C].artBox,userUnit:St[C].userUnit,rootDictionaryObjId:po,resourceDictionaryObjId:ci}));jn(po,!0),te("<</Type /Pages");var ce="/Kids [";for(z=0;z<ar;z++)ce+=se[z]+" 0 R ";te(ce+"]"),te("/Count "+ar),te(">>"),te("endobj"),Ve.publish("postPutPages")},hl=function(C){Ve.publish("putFont",{font:C,out:te,newObject:Cr,putStream:Ua}),C.isAlreadyPutted!==!0&&(C.objectNumber=Cr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+gu(C.postScriptName)),te("/Subtype /Type1"),typeof C.encoding=="string"&&te("/Encoding /"+C.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Sc=function(C){C.objectNumber=Cr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[O(C.x),O(C.y),O(C.x+C.width),O(C.y+C.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var se=C.pages[1].join(`
`);Ua({data:se,additionalKeyValues:z,objectId:C.objectNumber}),te("endobj")},Ac=function(C,z){z||(z=21);var se=Cr(),ce=(function(Ie,nt){var ut,kt=[],Dt=1/(nt-1);for(ut=0;ut<1;ut+=Dt)kt.push(ut);if(kt.push(1),Ie[0].offset!=0){var rr={offset:0,color:Ie[0].color};Ie.unshift(rr)}if(Ie[Ie.length-1].offset!=1){var Br={offset:1,color:Ie[Ie.length-1].color};Ie.push(Br)}for(var sn="",fr=0,un=0;un<kt.length;un++){for(ut=kt[un];ut>Ie[fr+1].offset;)fr++;var on=Ie[fr].offset,En=(ut-on)/(Ie[fr+1].offset-on),Ss=Ie[fr].color,vo=Ie[fr+1].color;sn+=W(Math.round((1-En)*Ss[0]+En*vo[0]).toString(16))+W(Math.round((1-En)*Ss[1]+En*vo[1]).toString(16))+W(Math.round((1-En)*Ss[2]+En*vo[2]).toString(16))}return sn.trim()})(C.colors,z),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+z+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ua({data:ce,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),te("endobj"),C.objectNumber=Cr(),te("<< /ShadingType "+C.type),te("/ColorSpace /DeviceRGB");var Ce="/Coords ["+O(parseFloat(C.coords[0]))+" "+O(parseFloat(C.coords[1]))+" ";C.type===2?Ce+=O(parseFloat(C.coords[2]))+" "+O(parseFloat(C.coords[3])):Ce+=O(parseFloat(C.coords[2]))+" "+O(parseFloat(C.coords[3]))+" "+O(parseFloat(C.coords[4]))+" "+O(parseFloat(C.coords[5])),te(Ce+="]"),C.matrix&&te("/Matrix ["+C.matrix.toString()+"]"),te("/Function "+se+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},kc=function(C,z){var se=br(),ce=Cr();z.push({resourcesOid:se,objectOid:ce}),C.objectNumber=ce;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+C.boundingBox.map(O).join(" ")+"]"}),ye.push({key:"XStep",value:O(C.xStep)}),ye.push({key:"YStep",value:O(C.yStep)}),ye.push({key:"Resources",value:se+" 0 R"}),C.matrix&&ye.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Ua({data:C.stream,additionalKeyValues:ye,objectId:C.objectNumber}),te("endobj")},I0=function(C){for(var z in C.objectNumber=Cr(),te("<<"),C)switch(z){case"opacity":te("/ca "+P(C[z]));break;case"stroke-opacity":te("/CA "+P(C[z]))}te(">>"),te("endobj")},Od=function(C){jn(C.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in te("/Font <<"),st)st.hasOwnProperty(z)&&(f===!1||f===!0&&p.hasOwnProperty(z))&&te("/"+z+" "+st[z].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(yt).length>0){for(var z in te("/Shading <<"),yt)yt.hasOwnProperty(z)&&yt[z]instanceof Bl&&yt[z].objectNumber>=0&&te("/"+z+" "+yt[z].objectNumber+" 0 R");Ve.publish("putShadingPatternDict"),te(">>")}})(),(function(z){if(Object.keys(yt).length>0){for(var se in te("/Pattern <<"),yt)yt.hasOwnProperty(se)&&yt[se]instanceof h.TilingPattern&&yt[se].objectNumber>=0&&yt[se].objectNumber<z&&te("/"+se+" "+yt[se].objectNumber+" 0 R");Ve.publish("putTilingPatternDict"),te(">>")}})(C.objectOid),(function(){if(Object.keys(xt).length>0){var z;for(z in te("/ExtGState <<"),xt)xt.hasOwnProperty(z)&&xt[z].objectNumber>=0&&te("/"+z+" "+xt[z].objectNumber+" 0 R");Ve.publish("putGStateDict"),te(">>")}})(),(function(){for(var z in te("/XObject <<"),Zt)Zt.hasOwnProperty(z)&&Zt[z].objectNumber>=0&&te("/"+z+" "+Zt[z].objectNumber+" 0 R");Ve.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},rp=function(C){Ot[C.fontName]=Ot[C.fontName]||{},Ot[C.fontName][C.fontStyle]=C.id},np=function(C,z,se,ce,ye){var Ce={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:C,fontName:z,fontStyle:se,encoding:ce,isStandardFont:ye||!1,metadata:{}};return Ve.publish("addFont",{font:Ce,instance:this}),st[Ce.id]=Ce,rp(Ce),Ce.id},za=h.__private__.pdfEscape=h.pdfEscape=function(C,z){return(function(se,ce){var ye,Ce,Ie,nt,ut,kt,Dt,rr,Br;if(Ie=(ce=ce||{}).sourceEncoding||"Unicode",ut=ce.outputEncoding,(ce.autoencode||ut)&&st[ct].metadata&&st[ct].metadata[Ie]&&st[ct].metadata[Ie].encoding&&(nt=st[ct].metadata[Ie].encoding,!ut&&st[ct].encoding&&(ut=st[ct].encoding),!ut&&nt.codePages&&(ut=nt.codePages[0]),typeof ut=="string"&&(ut=nt[ut]),ut)){for(Dt=!1,kt=[],ye=0,Ce=se.length;ye<Ce;ye++)(rr=ut[se.charCodeAt(ye)])?kt.push(String.fromCharCode(rr)):kt.push(se[ye]),kt[ye].charCodeAt(0)>>8&&(Dt=!0);se=kt.join("")}for(ye=se.length;Dt===void 0&&ye!==0;)se.charCodeAt(ye-1)>>8&&(Dt=!0),ye--;if(!Dt)return se;for(kt=ce.noBOM?[]:[254,255],ye=0,Ce=se.length;ye<Ce;ye++){if((Br=(rr=se.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(Br),kt.push(rr-(Br<<8))}return String.fromCharCode.apply(void 0,kt)})(C,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ed=h.__private__.beginPage=function(C){pe[++ar]=[],St[ar]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ip(ar),ge(pe[H])},ap=function(C,z){var se,ce,ye;switch(r=z||r,typeof C=="string"&&(se=x(C.toLowerCase()),Array.isArray(se)&&(ce=se[0],ye=se[1])),Array.isArray(C)&&(ce=C[0]*vt,ye=C[1]*vt),isNaN(ce)&&(ce=a[0],ye=a[1]),(ce>14400||ye>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ye=Math.min(14400,ye)),a=[ce,ye],r.substr(0,1)){case"l":ye>ce&&(a=[ye,ce]);break;case"p":ce>ye&&(a=[ye,ce])}Ed(a),U0(Md),te(Cc),$d!==0&&te($d+" J"),Fd!==0&&te(Fd+" j"),Ve.publish("addPage",{pageNumber:ar})},Td=function(C){C>0&&C<=ar&&(pe.splice(C,1),St.splice(C,1),ar--,H>ar&&(H=ar),this.setPage(H))},ip=function(C){C>0&&C<=ar&&(H=C)},sp=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return pe.length-1},op=function(C,z,se){var ce,ye=void 0;return se=se||{},C=C!==void 0?C:st[ct].fontName,z=z!==void 0?z:st[ct].fontStyle,ce=C.toLowerCase(),Ot[ce]!==void 0&&Ot[ce][z]!==void 0?ye=Ot[ce][z]:Ot[C]!==void 0&&Ot[C][z]!==void 0?ye=Ot[C][z]:se.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+C+"', '"+z+"'. Refer to getFontList() for available fonts."),ye||se.noFallback||(ye=Ot.times[z])==null&&(ye=Ot.times.normal),ye},Pc=h.__private__.putInfo=function(){var C=Cr(),z=function(ce){return ce};for(var se in d!==null&&(z=Kr.encryptor(C,0)),te("<<"),te("/Producer ("+za(z("jsPDF "+ht.version))+")"),gt)gt.hasOwnProperty(se)&&gt[se]&&te("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+za(z(gt[se]))+")");te("/CreationDate ("+za(z(K))+")"),te(">>"),te("endobj")},R0=h.__private__.putCatalog=function(C){var z=(C=C||{}).rootDictionaryObjId||po;switch(Cr(),te("<<"),te("/Type /Catalog"),te("/Pages "+z+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Xe;se.substr(se.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&te("/OpenAction [3 0 R /XYZ null null "+P(Xe)+"]")}switch(We||(We="continuous"),We){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Re&&te("/PageMode /"+Re),Ve.publish("putCatalog"),te(">>"),te("endobj")},an=h.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Q+1)),te("/Root "+Q+" 0 R"),te("/Info "+(Q-1)+" 0 R"),d!==null&&te("/Encrypt "+Kr.oid+" 0 R"),te("/ID [ <"+$+"> <"+$+"> ]"),te(">>")},lp=h.__private__.putHeader=function(){te("%PDF-"+g),te("%ºß¬à")},cp=h.__private__.putXRef=function(){var C="0000000000";te("xref"),te("0 "+(Q+1)),te("0000000000 65535 f ");for(var z=1;z<=Q;z++)typeof re[z]=="function"?te((C+re[z]()).slice(-10)+" 00000 n "):re[z]!==void 0?te((C+re[z]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},_s=h.__private__.buildDocument=function(){var C;Q=0,ne=0,oe=[],re=[],de=[],po=br(),ci=br(),ge(oe),Ve.publish("buildDocument"),lp(),Wi(),(function(){Ve.publish("putAdditionalObjects");for(var se=0;se<de.length;se++){var ce=de[se];jn(ce.objId,!0),te(ce.content),te("endobj")}Ve.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var se in st)st.hasOwnProperty(se)&&(f===!1||f===!0&&p.hasOwnProperty(se))&&hl(st[se])})(),(function(){var se;for(se in xt)xt.hasOwnProperty(se)&&I0(xt[se])})(),(function(){for(var se in Zt)Zt.hasOwnProperty(se)&&Sc(Zt[se])})(),(function(se){var ce;for(ce in yt)yt.hasOwnProperty(ce)&&(yt[ce]instanceof Bl?Ac(yt[ce]):yt[ce]instanceof yu&&kc(yt[ce],se))})(C),Ve.publish("putResources"),C.forEach(Od),Od({resourcesOid:ci,objectOid:Number.MAX_SAFE_INTEGER}),Ve.publish("postPutResources"),d!==null&&(Kr.oid=Cr(),te("<<"),te("/Filter /Standard"),te("/V "+Kr.v),te("/R "+Kr.r),te("/U <"+Kr.toHexString(Kr.U)+">"),te("/O <"+Kr.toHexString(Kr.O)+">"),te("/P "+Kr.P),te(">>"),te("endobj")),Pc(),R0();var z=ne;return cp(),an(),te("startxref"),te(""+z),te("%%EOF"),ge(pe[H]),oe.join(`
`)},pl=h.__private__.getBlob=function(C){return new Blob([Ue(C)],{type:"application/pdf"})},fi=h.output=h.__private__.output=(Rr=function(C,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",C){case void 0:return _s();case"save":h.save(z.filename);break;case"arraybuffer":return Ue(_s());case"blob":return pl(_s());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(pl(_s()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ce=_s();try{se=X4(ce)}catch{se=X4(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+z.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ye=z.pdfObjectUrl,Ce="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",nt=Pt.open();return nt!==null&&nt.document.write(Ie),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',kt=Pt.open();if(kt!==null){kt.document.write(ut);var Dt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=z.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Br=Pt.open();if(Br!==null&&(Br.document.write(rr),Br.document.title=z.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",z);default:return null}},Rr.foo=function(){try{return Rr.apply(this,arguments)}catch(se){var C=se.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var z="Error in function "+C.split(`
`)[0].split("<")[0]+": "+se.message;if(!Pt.console)throw new Error(z);Pt.console.error(z,se),Pt.alert&&alert(z)}},Rr.foo.bar=Rr,Rr.foo),ml=function(C){return Array.isArray(xr)===!0&&xr.indexOf(C)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=ml("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Kr=null;ue(),F();var Id=h.__private__.getPageInfo=h.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[C].objId,pageNumber:C,pageContext:St[C]}},L0=h.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in St)if(St[z].objId===C)break;return Id(z)},M0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:St[H].objId,pageNumber:H,pageContext:St[H]}};h.addPage=function(){return ap.apply(this,arguments),this},h.setPage=function(){return ip.apply(this,arguments),ge.call(this,pe[H]),this},h.insertPage=function(C){return this.addPage(),this.movePage(H,C),this},h.movePage=function(C,z){var se,ce;if(C>z){se=pe[C],ce=St[C];for(var ye=C;ye>z;ye--)pe[ye]=pe[ye-1],St[ye]=St[ye-1];pe[z]=se,St[z]=ce,this.setPage(z)}else if(C<z){se=pe[C],ce=St[C];for(var Ce=C;Ce<z;Ce++)pe[Ce]=pe[Ce+1],St[Ce]=St[Ce+1];pe[z]=se,St[z]=ce,this.setPage(z)}return this},h.deletePage=function(){return Td.apply(this,arguments),this},h.__private__.text=h.text=function(C,z,se,ce,ye){var Ce,Ie,nt,ut,kt,Dt,rr,Br,sn,fr=(ce=ce||{}).scope||this;if(typeof C=="number"&&typeof z=="number"&&(typeof se=="string"||Array.isArray(se))){var un=se;se=z,z=C,C=un}if(arguments[3]instanceof Ke==0?(nt=arguments[4],ut=arguments[5],ur(rr=arguments[3])==="object"&&rr!==null||(typeof nt=="string"&&(ut=nt,nt=null),typeof rr=="string"&&(ut=rr,rr=null),typeof rr=="number"&&(nt=rr,rr=null),ce={flags:rr,angle:nt,align:ut})):(T("The transform parameter of text() with a Matrix value"),sn=ye),isNaN(z)||isNaN(se)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return fr;var on,En="",Ss=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:vl,vo=fr.internal.scaleFactor;function Y0(wr){return wr=wr.split("	").join(Array(ce.TabLen||9).join(" ")),za(wr,rr)}function fp(wr){for(var _r,Xr=wr.concat(),Zr=[],Cs=Xr.length;Cs--;)typeof(_r=Xr.shift())=="string"?Zr.push(_r):Array.isArray(wr)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?Zr.push(_r[0]):Zr.push([_r[0],_r[1],_r[2]]);return Zr}function _l(wr,_r){var Xr;if(typeof wr=="string")Xr=_r(wr)[0];else if(Array.isArray(wr)){for(var Zr,Cs,Bc=wr.concat(),Zi=[],Zd=Bc.length;Zd--;)typeof(Zr=Bc.shift())=="string"?Zi.push(_r(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Cs=_r(Zr[0],Zr[1],Zr[2]),Zi.push([Cs[0],Cs[1],Cs[2]]));Xr=Zi}return Xr}var hi=!1,Wd=!0;if(typeof C=="string")hi=!0;else if(Array.isArray(C)){var Ic=C.concat();Ie=[];for(var yo,Nn=Ic.length;Nn--;)(typeof(yo=Ic.shift())!="string"||Array.isArray(yo)&&typeof yo[0]!="string")&&(Wd=!1);hi=Wd}if(hi===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var As=Pe/fr.internal.scaleFactor,ks=As*(Ss-1);switch(ce.baseline){case"bottom":se-=ks;break;case"top":se+=As-ks;break;case"hanging":se+=As-2*ks;break;case"middle":se+=As/2-ks}if((Dt=ce.maxWidth||0)>0&&(typeof C=="string"?C=fr.splitTextToSize(C,Dt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(wr,_r){return wr.concat(fr.splitTextToSize(_r,Dt))},[]))),Ce={text:C,x:z,y:se,options:ce,mutex:{pdfEscape:za,activeFontKey:ct,fonts:st,activeFontSize:Pe}},Ve.publish("preProcessText",Ce),C=Ce.text,nt=(ce=Ce.options).angle,sn instanceof Ke==0&&nt&&typeof nt=="number"){nt*=Math.PI/180,ce.rotationDirection===0&&(nt=-nt),_===b&&(nt=-nt);var Rc=Math.cos(nt),Hd=Math.sin(nt);sn=new Ke(Rc,Hd,-Hd,Rc,0,0)}else nt&&nt instanceof Ke&&(sn=nt);_!==b||sn||(sn=na),(kt=ce.charSpace||Ec)!==void 0&&(En+=O(M(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=ce.horizontalScale)!==void 0&&(En+=O(100*Br)+` Tz
`),ce.lang;var Vn=-1,hp=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Lc=fr.internal.getCurrentPageInfo().pageContext;switch(hp){case 0:case!1:case"fill":Vn=0;break;case 1:case!0:case"stroke":Vn=1;break;case 2:case"fillThenStroke":Vn=2;break;case 3:case"invisible":Vn=3;break;case 4:case"fillAndAddForClipping":Vn=4;break;case 5:case"strokeAndAddPathForClipping":Vn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vn=6;break;case 7:case"addToPathForClipping":Vn=7}var pp=Lc.usedRenderingMode!==void 0?Lc.usedRenderingMode:-1;Vn!==-1?En+=Vn+` Tr
`:pp!==-1&&(En+=`0 Tr
`),Vn!==-1&&(Lc.usedRenderingMode=Vn),ut=ce.align||"left";var dn,Wa=Pe*Ss,Vd=fr.internal.pageSize.getWidth(),Gd=st[ct];kt=ce.charSpace||Ec,Dt=ce.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var xo=[],Mc=function(wr){return fr.getStringUnitWidth(wr,{font:Gd,charSpace:kt,fontSize:Pe,doKerning:!1})*Pe/vo};if(Object.prototype.toString.call(C)==="[object Array]"){var aa;Ie=fp(C),ut!=="left"&&(dn=Ie.map(Mc));var ia,jl=0;if(ut==="right"){z-=dn[0],C=[],Nn=Ie.length;for(var Gi=0;Gi<Nn;Gi++)Gi===0?(ia=js(z),aa=Ns(se)):(ia=M(jl-dn[Gi]),aa=-Wa),C.push([Ie[Gi],ia,aa]),jl=dn[Gi]}else if(ut==="center"){z-=dn[0]/2,C=[],Nn=Ie.length;for(var bo=0;bo<Nn;bo++)bo===0?(ia=js(z),aa=Ns(se)):(ia=M((jl-dn[bo])/2),aa=-Wa),C.push([Ie[bo],ia,aa]),jl=dn[bo]}else if(ut==="left"){C=[],Nn=Ie.length;for(var Kd=0;Kd<Nn;Kd++)C.push(Ie[Kd])}else if(ut==="justify"&&Gd.encoding==="Identity-H"){C=[],Nn=Ie.length,Dt=Dt!==0?Dt:Vd;for(var wo=0,Yr=0;Yr<Nn;Yr++)if(aa=Yr===0?Ns(se):-Wa,ia=Yr===0?js(z):wo,Yr<Nn-1){var X0=M((Dt-dn[Yr])/(Ie[Yr].split(" ").length-1)),Ki=Ie[Yr].split(" ");C.push([Ki[0]+" ",ia,aa]),wo=0;for(var Yi=1;Yi<Ki.length;Yi++){var Dc=(Mc(Ki[Yi-1]+" "+Ki[Yi])-Mc(Ki[Yi]))*vo+X0;Yi==Ki.length-1?C.push([Ki[Yi],Dc,0]):C.push([Ki[Yi]+" ",Dc,0]),wo-=Dc}}else C.push([Ie[Yr],ia,aa]);C.push(["",wo,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Nn=Ie.length,Dt=Dt!==0?Dt:Vd,Yr=0;Yr<Nn;Yr++)aa=Yr===0?Ns(se):-Wa,ia=Yr===0?js(z):0,Yr<Nn-1?xo.push(O(M((Dt-dn[Yr])/(Ie[Yr].split(" ").length-1)))):xo.push(0),C.push([Ie[Yr],ia,aa])}}(typeof ce.R2L=="boolean"?ce.R2L:ve)===!0&&(C=_l(C,function(wr,_r,Xr){return[wr.split("").reverse().join(""),_r,Xr]})),Ce={text:C,x:z,y:se,options:ce,mutex:{pdfEscape:za,activeFontKey:ct,fonts:st,activeFontSize:Pe}},Ve.publish("postProcessText",Ce),C=Ce.text,on=Ce.mutex.isHex||!1;var Yd=st[ct].encoding;Yd!=="WinAnsiEncoding"&&Yd!=="StandardEncoding"||(C=_l(C,function(wr,_r,Xr){return[Y0(wr),_r,Xr]})),Ie=fp(C),C=[];for(var $c,Fc,Nl,Sl=Array.isArray(Ie[0])?1:0,Ps="",Xd=function(wr,_r,Xr){var Zr="";return Xr instanceof Ke?(Xr=typeof ce.angle=="number"?Ur(Xr,new Ke(1,0,0,1,wr,_r)):Ur(new Ke(1,0,0,1,wr,_r),Xr),_===b&&(Xr=Ur(new Ke(1,0,0,-1,0,0),Xr)),Zr=Xr.join(" ")+` Tm
`):Zr=O(wr)+" "+O(_r)+` Td
`,Zr},va=0;va<Ie.length;va++){switch(Ps="",Sl){case 1:Nl=(on?"<":"(")+Ie[va][0]+(on?">":")"),$c=parseFloat(Ie[va][1]),Fc=parseFloat(Ie[va][2]);break;case 0:Nl=(on?"<":"(")+Ie[va]+(on?">":")"),$c=js(z),Fc=Ns(se)}xo!==void 0&&xo[va]!==void 0&&(Ps=xo[va]+` Tw
`),va===0?C.push(Ps+Xd($c,Fc,sn)+Nl):Sl===0?C.push(Ps+Nl):Sl===1&&C.push(Ps+Xd($c,Fc,sn)+Nl)}C=Sl===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Xi=`BT
/`;return Xi+=ct+" "+Pe+` Tf
`,Xi+=O(Pe*Ss)+` TL
`,Xi+=yl+`
`,Xi+=En,Xi+=C,te(Xi+="ET"),p[ct]=!0,fr};var D0=h.__private__.clip=h.clip=function(C){return te(C==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return D0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return te("n"),this};var Hi=h.__private__.isValidStyle=function(C){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(z=!0),z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(C){return Hi(C)&&(u=C),this};var up=h.__private__.getStyle=h.getStyle=function(C){var z=u;switch(C){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=C}return z},dp=h.close=function(){return te("h"),this};h.stroke=function(){return te("S"),this},h.fill=function(C){return mo("f",C),this},h.fillEvenOdd=function(C){return mo("f*",C),this},h.fillStroke=function(C){return mo("B",C),this},h.fillStrokeEvenOdd=function(C){return mo("B*",C),this};var mo=function(C,z){ur(z)==="object"?F0(z,C):te(C)},Rd=function(C){C===null||_===b&&C===void 0||(C=up(C),te(C))};function $0(C,z,se,ce,ye){var Ce=new yu(z||this.boundingBox,se||this.xStep,ce||this.yStep,this.gState,ye||this.matrix);Ce.stream=this.stream;var Ie=C+"$$"+this.cloneIndex+++"$$";return Ir(Ie,Ce),Ce}var F0=function(C,z){var se=zt[C.key],ce=yt[se];if(ce instanceof Bl)te("q"),te(B0(z)),ce.gState&&h.setGState(ce.gState),te(C.matrix.toString()+" cm"),te("/"+se+" sh"),te("Q");else if(ce instanceof yu){var ye=new Ke(1,0,0,-1,0,ga());C.matrix&&(ye=ye.multiply(C.matrix||na),se=$0.call(ce,C.key,C.boundingBox,C.xStep,C.yStep,ye).id),te("q"),te("/Pattern cs"),te("/"+se+" scn"),ce.gState&&h.setGState(ce.gState),te(z),te("Q")}},B0=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ld=h.moveTo=function(C,z){return te(O(M(C))+" "+O(D(z))+" m"),this},gl=h.lineTo=function(C,z){return te(O(M(C))+" "+O(D(z))+" l"),this},go=h.curveTo=function(C,z,se,ce,ye,Ce){return te([O(M(C)),O(D(z)),O(M(se)),O(D(ce)),O(M(ye)),O(D(Ce)),"c"].join(" ")),this};h.__private__.line=h.line=function(C,z,se,ce,ye){if(isNaN(C)||isNaN(z)||isNaN(se)||isNaN(ce)||!Hi(ye))throw new Error("Invalid arguments passed to jsPDF.line");return _===j?this.lines([[se-C,ce-z]],C,z,[1,1],ye||"S"):this.lines([[se-C,ce-z]],C,z,[1,1]).stroke()},h.__private__.lines=h.lines=function(C,z,se,ce,ye,Ce){var Ie,nt,ut,kt,Dt,rr,Br,sn,fr,un,on,En;if(typeof C=="number"&&(En=se,se=z,z=C,C=En),ce=ce||[1,1],Ce=Ce||!1,isNaN(z)||isNaN(se)||!Array.isArray(C)||!Array.isArray(ce)||!Hi(ye)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ld(z,se),Ie=ce[0],nt=ce[1],kt=C.length,un=z,on=se,ut=0;ut<kt;ut++)(Dt=C[ut]).length===2?(un=Dt[0]*Ie+un,on=Dt[1]*nt+on,gl(un,on)):(rr=Dt[0]*Ie+un,Br=Dt[1]*nt+on,sn=Dt[2]*Ie+un,fr=Dt[3]*nt+on,un=Dt[4]*Ie+un,on=Dt[5]*nt+on,go(rr,Br,sn,fr,un,on));return Ce&&dp(),Rd(ye),this},h.path=function(C){for(var z=0;z<C.length;z++){var se=C[z],ce=se.c;switch(se.op){case"m":Ld(ce[0],ce[1]);break;case"l":gl(ce[0],ce[1]);break;case"c":go.apply(this,ce);break;case"h":dp()}}return this},h.__private__.rect=h.rect=function(C,z,se,ce,ye){if(isNaN(C)||isNaN(z)||isNaN(se)||isNaN(ce)||!Hi(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return _===j&&(ce=-ce),te([O(M(C)),O(D(z)),O(M(se)),O(M(ce)),"re"].join(" ")),Rd(ye),this},h.__private__.triangle=h.triangle=function(C,z,se,ce,ye,Ce,Ie){if(isNaN(C)||isNaN(z)||isNaN(se)||isNaN(ce)||isNaN(ye)||isNaN(Ce)||!Hi(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-C,ce-z],[ye-se,Ce-ce],[C-ye,z-Ce]],C,z,[1,1],Ie,!0),this},h.__private__.roundedRect=h.roundedRect=function(C,z,se,ce,ye,Ce,Ie){if(isNaN(C)||isNaN(z)||isNaN(se)||isNaN(ce)||isNaN(ye)||isNaN(Ce)||!Hi(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*se),Ce=Math.min(Ce,.5*ce),this.lines([[se-2*ye,0],[ye*nt,0,ye,Ce-Ce*nt,ye,Ce],[0,ce-2*Ce],[0,Ce*nt,-ye*nt,Ce,-ye,Ce],[2*ye-se,0],[-ye*nt,0,-ye,-Ce*nt,-ye,-Ce],[0,2*Ce-ce],[0,-Ce*nt,ye*nt,-Ce,ye,-Ce]],C+ye,z,[1,1],Ie,!0),this},h.__private__.ellipse=h.ellipse=function(C,z,se,ce,ye){if(isNaN(C)||isNaN(z)||isNaN(se)||isNaN(ce)||!Hi(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*se,Ie=4/3*(Math.SQRT2-1)*ce;return Ld(C+se,z),go(C+se,z-Ie,C+Ce,z-ce,C,z-ce),go(C-Ce,z-ce,C-se,z-Ie,C-se,z),go(C-se,z+Ie,C-Ce,z+ce,C,z+ce),go(C+Ce,z+ce,C+se,z+Ie,C+se,z),Rd(ye),this},h.__private__.circle=h.circle=function(C,z,se,ce){if(isNaN(C)||isNaN(z)||isNaN(se)||!Hi(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,z,se,se,ce)},h.setFont=function(C,z,se){return se&&(z=k(z,se)),ct=op(C,z,{disableWarning:!1}),this};var q0=h.__private__.getFont=h.getFont=function(){return st[op.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var C,z,se={};for(C in Ot)if(Ot.hasOwnProperty(C))for(z in se[C]=[],Ot[C])Ot[C].hasOwnProperty(z)&&se[C].push(z);return se},h.addFont=function(C,z,se,ce,ye){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(se=k(se,ce)),np.call(this,C,z,se,ye=ye||"Identity-H")};var vl,Md=t.lineWidth||.200025,Et=h.__private__.getLineWidth=h.getLineWidth=function(){return Md},U0=h.__private__.setLineWidth=h.setLineWidth=function(C){return Md=C,te(O(M(C))+" w"),this};h.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(C,z){if(C=C||[],z=z||0,isNaN(z)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(se){return O(M(se))}).join(" "),z=O(M(z)),te("["+C+"] "+z+" d"),this};var z0=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*vl};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*vl};var W0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(vl=C),this},H0=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return vl};W0(t.lineHeight);var js=h.__private__.getHorizontalCoordinate=function(C){return M(C)},Ns=h.__private__.getVerticalCoordinate=function(C){return _===b?C:St[H].mediaBox.topRightY-St[H].mediaBox.bottomLeftY-M(C)},V0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(C){return O(js(C))},G0=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(C){return O(Ns(C))},Cc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return zi(Cc)},h.__private__.setStrokeColor=h.setDrawColor=function(C,z,se,ce){return Cc=ui({ch1:C,ch2:z,ch3:se,ch4:ce,pdfColorType:"draw",precision:2}),te(Cc),this};var Dd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return zi(Dd)},h.__private__.setFillColor=h.setFillColor=function(C,z,se,ce){return Dd=ui({ch1:C,ch2:z,ch3:se,ch4:ce,pdfColorType:"fill",precision:2}),te(Dd),this};var yl=t.textColor||"0 g",Oc=h.__private__.getTextColor=h.getTextColor=function(){return zi(yl)};h.__private__.setTextColor=h.setTextColor=function(C,z,se,ce){return yl=ui({ch1:C,ch2:z,ch3:se,ch4:ce,pdfColorType:"text",precision:3}),this};var Ec=t.charSpace,K0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ec||0)};h.__private__.setCharSpace=h.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ec=C,this};var $d=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(C){var z=h.CapJoinStyles[C];if(z===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $d=z,te(z+" J"),this};var Fd=0;h.__private__.setLineJoin=h.setLineJoin=function(C){var z=h.CapJoinStyles[C];if(z===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fd=z,te(z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(O(M(C))+" M"),this},h.GState=Bm,h.setGState=function(C){(C=typeof C=="string"?xt[$r[C]]:xl(null,C)).equals(Gr)||(te("/"+C.id+" gs"),Gr=C)};var xl=function(C,z){if(!C||!$r[C]){var se=!1;for(var ce in xt)if(xt.hasOwnProperty(ce)&&xt[ce].equals(z)){se=!0;break}if(se)z=xt[ce];else{var ye="GS"+(Object.keys(xt).length+1).toString(10);xt[ye]=z,z.id=ye}return C&&($r[C]=z.id),Ve.publish("addGState",z),z}};h.addGState=function(C,z){return xl(C,z),this},h.saveGraphicsState=function(){return te("q"),nr.push({key:ct,size:Pe,color:yl}),this},h.restoreGraphicsState=function(){te("Q");var C=nr.pop();return ct=C.key,Pe=C.size,yl=C.color,Gr=null,this},h.setCurrentTransformationMatrix=function(C){return te(C.toString()+" cm"),this},h.comment=function(C){return te("#"+C),this};var bl=function(C,z){var se=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ce){isNaN(Ce)||(se=parseFloat(Ce))}});var ce=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ce){isNaN(Ce)||(ce=parseFloat(Ce))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Ce){ye=Ce.toString()}}),this},Bd=function(C,z,se,ce){bl.call(this,C,z),this.type="rect";var ye=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ie){isNaN(Ie)||(ye=parseFloat(Ie))}});var Ce=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Ie){isNaN(Ie)||(Ce=parseFloat(Ie))}}),this},Tc=function(){this.page=ar,this.currentPage=H,this.pages=pe.slice(0),this.pagesContext=St.slice(0),this.x=dt,this.y=Yt,this.matrix=Xt,this.width=Ud(H),this.height=ga(H),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Tc.prototype.restore=function(){ar=this.page,H=this.currentPage,St=this.pagesContext,pe=this.pages,dt=this.x,Yt=this.y,Xt=this.matrix,zd(H,this.width),Vi(H,this.height),Ne=this.outputDestination};var qd=function(C,z,se,ce,ye){Hn.push(new Tc),ar=H=0,pe=[],dt=C,Yt=z,Xt=ye,Ed([se,ce])};for(var wl in h.beginFormObject=function(C,z,se,ce,ye){return qd(C,z,se,ce,ye),this},h.endFormObject=function(C){return(function(z){if(Fr[z])Hn.pop().restore();else{var se=new Tc,ce="Xo"+(Object.keys(Zt).length+1).toString(10);se.id=ce,Fr[z]=ce,Zt[ce]=se,Ve.publish("addFormObject",se),Hn.pop().restore()}})(C),this},h.doFormObject=function(C,z){var se=Zt[Fr[C]];return te("q"),te(z.toString()+" cm"),te("/"+se.id+" Do"),te("Q"),this},h.getFormObject=function(C){var z=Zt[Fr[C]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},h.save=function(C,z){return C=C||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Rl(pl(_s()),C),typeof Rl.unload=="function"&&Pt.setTimeout&&setTimeout(Rl.unload,911),this):new Promise(function(se,ce){try{var ye=Rl(pl(_s()),C);typeof Rl.unload=="function"&&Pt.setTimeout&&setTimeout(Rl.unload,911),se(ye)}catch(Ce){ce(Ce.message)}})},ht.API)ht.API.hasOwnProperty(wl)&&(wl==="events"&&ht.API.events.length?(function(C,z){var se,ce,ye;for(ye=z.length-1;ye!==-1;ye--)se=z[ye][0],ce=z[ye][1],C.subscribe.apply(C,[se].concat(typeof ce=="function"?[ce]:ce))})(Ve,ht.API.events):h[wl]=ht.API[wl]);var Ud=h.getPageWidth=function(C){return(St[C=C||H].mediaBox.topRightX-St[C].mediaBox.bottomLeftX)/vt},zd=h.setPageWidth=function(C,z){St[C].mediaBox.topRightX=z*vt+St[C].mediaBox.bottomLeftX},ga=h.getPageHeight=function(C){return(St[C=C||H].mediaBox.topRightY-St[C].mediaBox.bottomLeftY)/vt},Vi=h.setPageHeight=function(C,z){St[C].mediaBox.topRightY=z*vt+St[C].mediaBox.bottomLeftY};return h.internal={pdfEscape:za,getStyle:up,getFont:q0,getFontSize:Be,getCharSpace:K0,getTextColor:Oc,getLineHeight:z0,getLineHeightFactor:H0,getLineWidth:Et,write:qe,getHorizontalCoordinate:js,getVerticalCoordinate:Ns,getCoordinateString:V0,getVerticalCoordinateString:G0,collections:{},newObject:Cr,newAdditionalObject:dl,newObjectDeferred:br,newObjectDeferredBegin:jn,getFilters:di,putStream:Ua,events:Ve,scaleFactor:vt,pageSize:{getWidth:function(){return Ud(H)},setWidth:function(C){zd(H,C)},getHeight:function(){return ga(H)},setHeight:function(C){Vi(H,C)}},encryptionOptions:d,encryption:Kr,getEncryptor:function(C){return d!==null?Kr.encryptor(C,0):function(z){return z}},output:fi,getNumberOfPages:sp,pages:pe,out:te,f2:P,f3:I,getPageInfo:Id,getPageInfoByObjId:L0,getCurrentPageInfo:M0,getPDFVersion:m,Point:bl,Rectangle:Bd,Matrix:Ke,hasHotfix:ml},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ud(H)},set:function(C){zd(H,C)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ga(H)},set:function(C){Vi(H,C)},enumerable:!0,configurable:!0}),(function(C){for(var z=0,se=ze.length;z<se;z++){var ce=np.call(this,C[z][0],C[z][1],C[z][2],ze[z][3],!0);f===!1&&(p[ce]=!0);var ye=C[z][0].split("-");rp({id:ce,fontName:ye[0],fontStyle:ye[1]||""})}Ve.publish("addFonts",{fonts:st,dictionary:Ot})}).call(h,ze),ct="F1",ap(a,r),Ve.publish("initialized"),h}mu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},mu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},mu.prototype.processOwnerPassword=function(t,e){return G2(V2(e).substr(0,5),t)},mu.prototype.encryptor=function(t,e){var r=V2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return G2(r,n)}},Bm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ur(t)!==ur(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ht.API={events:[]},ht.version="3.0.2";var Hr=ht.API,gj=1,xc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},Eo=function(t){return t.toFixed(5)};Hr.__acroform__={};var pa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ek=function(t){return t*gj},es=function(t){var e=new UR,r=rt.internal.getHeight(t)||0,n=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(n)),Number(Tt(r))],e},AX=Hr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},kX=Hr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},PX=Hr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},en=Hr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PX(t,e-1)},tn=Hr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return AX(t,e-1)},rn=Hr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kX(t,e-1)},CX=Hr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Tt(c.lowerLeft_X)),Number(Tt(c.lowerLeft_Y)),Number(Tt(c.upperRight_X)),Number(Tt(c.upperRight_Y))]},OX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=K2(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Tt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=es(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},K2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,s=rt.internal.getHeight(t)||0;s=s<0?-s:s;var l=rt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(P,I,M){if(P+1<a.length){var D=I+" "+a[P+1][0];return Qp(D,t,M).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=Qp("3",t,i).height,p=t.multiline?s-i:(s-f)/2,h=p+=2,g=0,m=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qp(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",j=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var _=!1;if(a[b].length!==1&&v!==a[b].length-1){if((f+2)*(j+2)+2>s)continue e;x+=a[b][v],_=!0,m=b,b--}else{x=(x+=a[b][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(b),A=c(S,x,i),k=b>=a.length-1;if(A&&!k){x+=" ",v=0;continue}if(A||k){if(k)m=S;else if(t.multiline&&(f+2)*(j+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(j+2)+2>s)continue e;m=S}}for(var O="",T=g;T<=m;T++){var R=a[T];if(t.multiline){if(T===m){O+=R[v]+" ",v=(v+1)%R.length;continue}if(T===g){O+=R[R.length-1]+" ";continue}}O+=R[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,d=Qp(O,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Tt(u)+" "+Tt(h)+` Td
`,e+="("+xc(O)+`) Tj
`,e+=-Tt(u)+` 0 Td
`,h=-(i+2),d=0,g=_?m:m+1,j++,x=""}break}return n.text=e,n.fontSize=i,n},Qp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},EX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TX=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},IX=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(EX)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gj=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new zR,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&TX(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=CX(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=rt.createDefaultAppearanceStream(l),ur(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=OX(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(a,l)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,l)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(m,v){for(var x in m)if(m.hasOwnProperty(x)){var j=x,b=m[x];v.internal.newObjectDeferredBegin(b.objId,!0),ur(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[j]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},qR=Hr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),ur(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+xc(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qy=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+xc(n(t))+")"},as=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};as.prototype.toString=function(){return this.objId+" 0 R"},as.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},as.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:qR(a,this.objId,this.scope)}):a instanceof as?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var UR=function(){as.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};pa(UR,as);var zR=function(){as.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+xc(r(t))+")"}},set:function(r){t=r}})};pa(zR,as);var Fi=function t(){as.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!en(e,3)},set:function(x){x?this.F=tn(e,3):this.F=rn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof qm)return;i="FieldObject"+t.FieldNum++}var x=function(j){return j};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+xc(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/gj:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof qm||this instanceof Zl))return Qy(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof kn==0?Qy(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof kn==0?x.substr(0,1)==="("?nu(x.substr(1,x.length-2)):nu(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?nu(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof kn==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof kn==0?Qy(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof kn==0?x.substr(0,1)==="("?nu(x.substr(1,x.length-2)):nu(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn==1?nu(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof kn==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,1)},set:function(x){x?this.Ff=tn(this.Ff,1):this.Ff=rn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,2)},set:function(x){x?this.Ff=tn(this.Ff,2):this.Ff=rn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,3)},set:function(x){x?this.Ff=tn(this.Ff,3):this.Ff=rn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};pa(Fi,as);var Su=function(){Fi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qR(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,18)},set:function(r){r?this.Ff=tn(this.Ff,18):this.Ff=rn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=tn(this.Ff,19):this.Ff=rn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,20)},set:function(r){r?(this.Ff=tn(this.Ff,20),e.sort()):this.Ff=rn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,22)},set:function(r){r?this.Ff=tn(this.Ff,22):this.Ff=rn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(r){r?this.Ff=tn(this.Ff,23):this.Ff=rn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,27)},set:function(r){r?this.Ff=tn(this.Ff,27):this.Ff=rn(this.Ff,27)}}),this.hasAppearanceStream=!1};pa(Su,Fi);var Au=function(){Su.call(this),this.fontName="helvetica",this.combo=!1};pa(Au,Su);var ku=function(){Au.call(this),this.combo=!0};pa(ku,Au);var jm=function(){ku.call(this),this.edit=!0};pa(jm,ku);var kn=function(){Fi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,15)},set:function(r){r?this.Ff=tn(this.Ff,15):this.Ff=rn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,16)},set:function(r){r?this.Ff=tn(this.Ff,16):this.Ff=rn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,17)},set:function(r){r?this.Ff=tn(this.Ff,17):this.Ff=rn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(r){r?this.Ff=tn(this.Ff,26):this.Ff=rn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+xc(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){ur(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};pa(kn,Fi);var Nm=function(){kn.call(this),this.pushButton=!0};pa(Nm,kn);var Pu=function(){kn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pa(Pu,kn);var qm=function(){var t,e;Fi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+xc(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){ur(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pa(qm,Fi),Pu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Pu.prototype.createOption=function(t){var e=new qm;return e.Parent=this,e.optionName=t,this.Kids.push(e),RX.call(this.scope,e),e};var Sm=function(){kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};pa(Sm,kn);var Zl=function(){Fi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,13)},set:function(e){e?this.Ff=tn(this.Ff,13):this.Ff=rn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,21)},set:function(e){e?this.Ff=tn(this.Ff,21):this.Ff=rn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,23)},set:function(e){e?this.Ff=tn(this.Ff,23):this.Ff=rn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,24)},set:function(e){e?this.Ff=tn(this.Ff,24):this.Ff=rn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,25)},set:function(e){e?this.Ff=tn(this.Ff,25):this.Ff=rn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,26)},set:function(e){e?this.Ff=tn(this.Ff,26):this.Ff=rn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pa(Zl,Fi);var Am=function(){Zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!en(this.Ff,14)},set:function(t){t?this.Ff=tn(this.Ff,14):this.Ff=rn(this.Ff,14)}}),this.password=!0};pa(Am,Zl);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=K2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Tt(rt.internal.getWidth(t))+" "+Tt(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Tt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=es(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=rt.internal.getHeight(t),s=rt.internal.getWidth(t),l=K2(t,t.caption);return a.push("1 g"),a.push("0 0 "+Tt(s)+" "+Tt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Tt(s-1)+" "+Tt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Tt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(rt.internal.getWidth(t))+" "+Tt(rt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=es(t);e.scope=t.scope;var r=[],n=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=rt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Eo(rt.internal.getWidth(t)/2)+" "+Eo(rt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[],n=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rt.internal.Bezier_C).toFixed(5)),s=Number((n*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eo(rt.internal.getWidth(t)/2)+" "+Eo(rt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Eo(rt.internal.getWidth(t)/2)+" "+Eo(rt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[],n=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eo(rt.internal.getWidth(t)/2)+" "+Eo(rt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=es(t);e.scope=t.scope;var r=[],n=rt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Tt(rt.internal.getWidth(t)-2)+" "+Tt(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),r.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),r.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),r.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=es(t);e.scope=t.scope;var r=rt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(rt.internal.getWidth(t))+" "+Tt(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Tt(rt.internal.getWidth(t)-2)+" "+Tt(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),n.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),n.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),n.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=es(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(rt.internal.getWidth(t))+" "+Tt(rt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),r=rt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},rt.internal.getWidth=function(t){var e=0;return ur(t)==="object"&&(e=ek(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return ur(t)==="object"&&(e=ek(t.Rect[3])),e};var RX=Hr.addField=function(t){if(IX(this,t),!(t instanceof Fi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=Su,Hr.AcroFormListBox=Au,Hr.AcroFormComboBox=ku,Hr.AcroFormEditBox=jm,Hr.AcroFormButton=kn,Hr.AcroFormPushButton=Nm,Hr.AcroFormRadioButton=Pu,Hr.AcroFormCheckBox=Sm,Hr.AcroFormTextField=Zl,Hr.AcroFormPasswordField=Am,Hr.AcroFormAppearance=rt,Hr.AcroForm={ChoiceField:Su,ListBox:Au,ComboBox:ku,EditBox:jm,Button:kn,PushButton:Nm,RadioButton:Pu,CheckBox:Sm,TextField:Zl,PasswordField:Am,Appearance:rt},ht.AcroForm={ChoiceField:Su,ListBox:Au,ComboBox:ku,EditBox:jm,Button:kn,PushButton:Nm,RadioButton:Pu,CheckBox:Sm,TextField:Zl,PasswordField:Am,Appearance:rt};ht.AcroForm;function WR(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(P,I){var M,D,K,$,q,F=r;if((I=I||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(A(P))for(q in n)for(K=n[q],M=0;M<K.length;M+=1){for($=!0,D=0;D<K[M].length;D+=1)if(K[M][D]!==void 0&&K[M][D]!==P[D]){$=!1;break}if($===!0){F=q;break}}else for(q in n)for(K=n[q],M=0;M<K.length;M+=1){for($=!0,D=0;D<K[M].length;D+=1)if(K[M][D]!==void 0&&K[M][D]!==P.charCodeAt(D)){$=!1;break}if($===!0){F=q;break}}return F===r&&I!==r&&(F=I),F},i=function P(I){for(var M=this.internal.write,D=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:I.width}),$.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var q="",F=0,ee=I.transparency.length;F<ee;F++)q+=I.transparency[F]+" "+I.transparency[F]+" ";$.push({key:"Mask",value:"["+q+"]"})}I.sMask!==void 0&&$.push({key:"SMask",value:I.objectId+1+" 0 R"});var fe=I.filter!==void 0?["/"+I.filter]:void 0;if(D({data:I.data,additionalKeyValues:$,alreadyAppliedFilters:fe,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var ue=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,B={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ue,data:I.sMask};"filter"in I&&(B.filter=I.filter),P.call(this,B)}if(I.colorSpace===x.INDEXED){var H=this.internal.newObject();D({data:O(new Uint8Array(I.palette)),objectId:H}),M("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var I in P)i.call(this,P[I])},l=function(){var P,I=this.internal.collections[e+"images"],M=this.internal.write;for(var D in I)M("/I"+(P=I[D]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},p=function(P){return ur(P)==="object"&&P.nodeType===1},h=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var M=""+P.getAttribute("src");if(M.indexOf("data:image/")===0)return _m(unescape(M).split("base64,").pop());var D=t.loadFile(M,!0);if(D!==void 0)return D}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var K;switch(I){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return _m(P.toDataURL(K,1).split("base64,").pop())}},g=function(P){var I=this.internal.collections[e+"images"];if(I){for(var M in I)if(P===I[M].alias)return I[M]}},m=function(P,I,M){return P||I||(P=-96,I=-96),P<0&&(P=-1*M.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),P===0&&(P=I*M.width/M.height),I===0&&(I=P*M.height/M.width),[P,I]},v=function(P,I,M,D,K,$){var q=m.call(this,M,D,K),F=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,fe=u.call(this);if(M=q[0],D=q[1],fe[K.index]=K,$){$*=Math.PI/180;var ue=Math.cos($),B=Math.sin($),H=function(W){return W.toFixed(4)},V=[H(ue),H(B),H(-1*B),H(ue),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,F(P),ee(I+D),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([F(M),"0","0",F(D),"0","0","cm"].join(" "))):this.internal.write([F(M),"0","0",F(D),F(P),ee(I+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(P){var I,M,D=0;if(typeof P=="string")for(M=P.length,I=0;I<M;I++)D=(D<<5)-D+P.charCodeAt(I),D|=0;else if(A(P))for(M=P.byteLength/2,I=0;I<M;I++)D=(D<<5)-D+P[I],D|=0;return D},_=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},S=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var A=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,M=new Uint8Array(I),D=0;D<I;D++)M[D]=P.charCodeAt(D);return M},O=t.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",M=A(P)?P:new Uint8Array(P),D=0;D<M.length;D+=8192)I+=String.fromCharCode.apply(null,M.subarray(D,D+8192));return I};t.addImage=function(){var P,I,M,D,K,$,q,F,ee;if(typeof arguments[1]=="number"?(I=r,M=arguments[1],D=arguments[2],K=arguments[3],$=arguments[4],q=arguments[5],F=arguments[6],ee=arguments[7]):(I=arguments[1],M=arguments[2],D=arguments[3],K=arguments[4],$=arguments[5],q=arguments[6],F=arguments[7],ee=arguments[8]),ur(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var fe=P;P=fe.imageData,I=fe.format||I||r,M=fe.x||M||0,D=fe.y||D||0,K=fe.w||fe.width||K,$=fe.h||fe.height||$,q=fe.alias||q,F=fe.compression||F,ee=fe.rotation||fe.angle||ee}var ue=this.internal.getFilters();if(F===void 0&&ue.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(M)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=T.call(this,P,I,q,F);return v.call(this,M,D,K,$,B,ee),this};var T=function(P,I,M,D){var K,$,q;if(typeof P=="string"&&a(P)===r){P=unescape(P);var F=R(P,!1);(F!==""||(F=t.loadFile(P,!0))!==void 0)&&(P=F)}if(p(P)&&(P=h(P,I)),I=a(P,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((q=M)==null||q.length===0)&&(M=(function(ee){return typeof ee=="string"||A(ee)?b(ee):A(ee.data)?b(ee.data):null})(P)),(K=g.call(this,M))||(P instanceof Uint8Array||I==="RGBA"||($=P,P=k(P)),K=this["process"+I.toUpperCase()](P,d.call(this),M,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:j.NONE})(D),$)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},R=t.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var M,D="";if(typeof P=="string"){var K;M=(K=S(P))!==null&&K!==void 0?K:P;try{D=_m(M)}catch($){if(I)throw _(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};t.getImageProperties=function(P){var I,M,D="";if(p(P)&&(P=h(P)),typeof P=="string"&&a(P)===r&&((D=R(P,!1))===""&&(D=t.loadFile(P)||""),P=D),M=a(P),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(P instanceof Uint8Array||(P=k(P)),!(I=this["process"+M.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(ht.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(j))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var A=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;s=Math.ceil(u*d)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(ht.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,j="",b=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(b++,typeof(x=x[m.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(x),x=r,b=0),v===m.length-1&&(x=r,j+=m.charAt(v-(b-1)),v-=b-1,b=0)):(x=r,j+=m.charAt(v-b),v-=b,b=0);return j};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,v,x){return s(m)?i(m)===!1?-1:!u(m)||!s(v)&&!s(x)||!s(x)&&l(v)||l(m)&&!s(v)||l(m)&&c(v)||l(m)&&l(v)?0:d(m)&&s(v)&&!l(v)&&s(x)&&u(x)?3:l(m)||!s(x)?1:2:-1},h=function(m){var v=0,x=0,j=0,b="",_="",S="",A=(m=m||"").split("\\s+"),k=[];for(v=0;v<A.length;v+=1){for(k.push(""),x=0;x<A[v].length;x+=1)b=A[v][x],_=A[v][x-1],S=A[v][x+1],s(b)?(j=p(b,_,S),k[v]+=j!==-1?String.fromCharCode(e[b.charCodeAt(0)][j]):b):k[v]+=b;k[v]=f(k[v])}return k.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var j=0;for(x=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?x.push([h(v[j][0]),v[j][1],v[j][2]]):x.push([h(v[j])]);m=x}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])})(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ht.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,_){return b.concat(v.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(m=this.getStringUnitWidth(c[j],{font:f})*d)&&(h=m);return h!==0&&(g=c.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,m,v,x=[],j=[],b=[],_={},S={},A=[],k=[],O=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),I=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=D,this.setFontSize(R),f==null)j=x=Object.keys(d[0]),b=x.map(function(){return"left"});else if(Array.isArray(f)&&ur(f[0])==="object")for(x=f.map(function(fe){return fe.name}),j=f.map(function(fe){return fe.prompt||fe.name||""}),b=f.map(function(fe){return fe.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(j=x=f,b=x.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[v=x[h]]=d.map(function(fe){return fe[v]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)A.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,A)+I+I,A=[]}if(T){var K={};for(h=0;h<x.length;h+=1)K[x[h]]={},K[x[h]].text=j[h],K[x[h]].align=b[h];var $=l.call(this,K,S);k=x.map(function(fe){return new i(c,u,S[fe],$,K[fe].text,void 0,K[fe].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var q=f.reduce(function(fe,ue){return fe[ue.name]=ue.align,fe},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var F=l.call(this,d[h],S);for(m=0;m<x.length;m+=1){var ee=d[h][x[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:ee},this),s.call(this,new i(c,u,S[x[m]],F,ee,h+2,q[x[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(ht.API);var HR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y2=WR(VR),GR=[100,200,300,400,500,600,700,800,900],LX=WR(GR);function ex(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return HR[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof Y2[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function tk(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var MX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ak(t){return t.trimLeft()}function DX(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function $X(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var em,ik,sk,au,tm,ok,lk,ck,tx=["times"];function uk(t,e,r,n){var a=4,i=fk;switch(n){case ht.API.image_compression.FAST:a=1,i=dk;break;case ht.API.image_compression.MEDIUM:a=6,i=hk;break;case ht.API.image_compression.SLOW:a=9,i=pk}t=(function(l,c,u,d){for(var f,p=l.length/c,h=new Uint8Array(l.length+p),g=[FX,dk,fk,hk,pk],m=0;m<p;m+=1){var v=m*c,x=l.subarray(v,v+c);if(d)h.set(d(x,u,f),v+m);else{for(var j=g.length,b=[],_=0;_<j;_+=1)b[_]=g[_](x,u,f);var S=qX(b.concat());h.set(b[S],v+m)}f=x}return h})(t,e,r,i);var s=U2(t,{level:a});return ht.API.__addimage__.arrayBufferToBinaryString(s)}function FX(t){var e=Array.apply([],t);return e.unshift(0),e}function dk(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function fk(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=t[i]-s+256&255}return a}function hk(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(s+l>>>1)&255}return a}function pk(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=BX(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-s+256&255}return a}function BX(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function qX(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function rx(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return KR(t,a)>>i&s}function mk(t,e,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,i,KR(t,i)&~(l<<s)&65535|c)}function KR(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function UX(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=s,e+=3*s);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++],S=_>>6&1,A=1<<1+(7&_),k=l,O=c,T=!1;_>>7&&(T=!0,k=e,O=A,e+=3*A);var R=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:v,y:x,width:j,height:b,has_local_palette:T,palette_offset:k,palette_size:O,data_offset:R,data_length:e-R,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,M){var D=this.frameInfo(I),K=D.width*D.height,$=new Uint8Array(K);gk(t,D.data_offset,$,K);var q=D.palette_offset,F=D.transparent_index;F===null&&(F=256);var ee=D.width,fe=r-ee,ue=ee,B=4*(D.y*r+D.x),H=4*((D.y+D.height)*r+D.x),V=B,W=4*fe;D.interlaced===!0&&(W+=4*r*7);for(var Q=8,re=0,oe=$.length;re<oe;++re){var ne=$[re];if(ue===0&&(ue=ee,(V+=W)>=H&&(W=4*fe+4*r*(Q-1),V=B+(ee+fe)*(Q<<1),Q>>=1)),ne===F)V+=4;else{var de=t[q+3*ne],pe=t[q+3*ne+1],le=t[q+3*ne+2];M[V++]=le,M[V++]=pe,M[V++]=de,M[V++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(I,M){var D=this.frameInfo(I),K=D.width*D.height,$=new Uint8Array(K);gk(t,D.data_offset,$,K);var q=D.palette_offset,F=D.transparent_index;F===null&&(F=256);var ee=D.width,fe=r-ee,ue=ee,B=4*(D.y*r+D.x),H=4*((D.y+D.height)*r+D.x),V=B,W=4*fe;D.interlaced===!0&&(W+=4*r*7);for(var Q=8,re=0,oe=$.length;re<oe;++re){var ne=$[re];if(ue===0&&(ue=ee,(V+=W)>=H&&(W=4*fe+4*r*(Q-1),V=B+(ee+fe)*(Q<<1),Q>>=1)),ne===F)V+=4;else{var de=t[q+3*ne],pe=t[q+3*ne+1],le=t[q+3*ne+2];M[V++]=de,M[V++]=pe,M[V++]=le,M[V++]=255}--ue}}}function gk(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===s)break;for(var x=v<l?v:m,j=0,b=x;b>i;)b=g[b]>>8,++j;var _=b;if(p+j+(x!==v?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[p++]=_;var S=p+=j;for(x!==v&&(r[p++]=_),b=x;j--;)b=g[b],r[--S]=255&b,b>>=8;m!==null&&l<4096&&(g[l++]=m<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else l=s+1,u=(1<<(c=a+1))-1,m=null}return p!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nx(t){var e,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,x=7,j=new Array(64),b=new Array(64),_=new Array(64),S=new Array(256),A=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(B,H){for(var V=0,W=0,Q=new Array,re=1;re<=16;re++){for(var oe=1;oe<=B[re];oe++)Q[H[W]]=[],Q[H[W]][0]=V,Q[H[W]][1]=re,W++,V++;V*=2}return Q}function q(B){for(var H=B[0],V=B[1]-1;V>=0;)H&1<<V&&(v|=1<<x),V--,--x<0&&(v==255?(F(255),F(0)):F(v),x=7,v=0)}function F(B){m.push(B)}function ee(B){F(B>>8&255),F(255&B)}function fe(B,H,V,W,Q){for(var re,oe=Q[0],ne=Q[240],de=(function(Pe,Xe){var Be,ve,Re,lt,We,Qe,mt,gt,ct,vt,dt=0;for(ct=0;ct<8;++ct){Be=Pe[dt],ve=Pe[dt+1],Re=Pe[dt+2],lt=Pe[dt+3],We=Pe[dt+4],Qe=Pe[dt+5],mt=Pe[dt+6];var Yt=Be+(gt=Pe[dt+7]),Xt=Be-gt,st=ve+mt,Ot=ve-mt,nr=Re+Qe,yt=Re-Qe,zt=lt+We,xt=lt-We,$r=Yt+zt,Gr=Yt-zt,ar=st+nr,St=st-nr;Pe[dt]=$r+ar,Pe[dt+4]=$r-ar;var Ve=.707106781*(St+Gr);Pe[dt+2]=Gr+Ve,Pe[dt+6]=Gr-Ve;var xr=.382683433*(($r=xt+yt)-(St=Ot+Xt)),Zt=.5411961*$r+xr,Fr=1.306562965*St+xr,Hn=.707106781*(ar=yt+Ot),Ke=Xt+Hn,Ur=Xt-Hn;Pe[dt+5]=Ur+Zt,Pe[dt+3]=Ur-Zt,Pe[dt+1]=Ke+Fr,Pe[dt+7]=Ke-Fr,dt+=8}for(dt=0,ct=0;ct<8;++ct){Be=Pe[dt],ve=Pe[dt+8],Re=Pe[dt+16],lt=Pe[dt+24],We=Pe[dt+32],Qe=Pe[dt+40],mt=Pe[dt+48];var na=Be+(gt=Pe[dt+56]),Ir=Be-gt,Rr=ve+mt,Cr=ve-mt,br=Re+Qe,jn=Re-Qe,dl=lt+We,po=lt-We,ci=na+dl,zi=na-dl,ui=Rr+br,di=Rr-br;Pe[dt]=ci+ui,Pe[dt+32]=ci-ui;var Ua=.707106781*(di+zi);Pe[dt+16]=zi+Ua,Pe[dt+48]=zi-Ua;var fl=.382683433*((ci=po+jn)-(di=Cr+Ir)),Wi=.5411961*ci+fl,hl=1.306562965*di+fl,Sc=.707106781*(ui=jn+Cr),Ac=Ir+Sc,kc=Ir-Sc;Pe[dt+40]=kc+Wi,Pe[dt+24]=kc-Wi,Pe[dt+8]=Ac+hl,Pe[dt+56]=Ac-hl,dt++}for(ct=0;ct<64;++ct)vt=Pe[ct]*Xe[ct],h[ct]=vt>0?vt+.5|0:vt-.5|0;return h})(B,H),pe=0;pe<64;++pe)g[k[pe]]=de[pe];var le=g[0]-V;V=g[0],le==0?q(W[0]):(q(W[p[re=32767+le]]),q(f[re]));for(var Ne=63;Ne>0&&g[Ne]==0;)Ne--;if(Ne==0)return q(oe),V;for(var ge,te=1;te<=Ne;){for(var qe=te;g[te]==0&&te<=Ne;)++te;var Ue=te-qe;if(Ue>=16){ge=Ue>>4;for(var ze=1;ze<=ge;++ze)q(ne);Ue&=15}re=32767+g[te],q(Q[(Ue<<4)+p[re]]),q(f[re]),te++}return Ne!=63&&q(oe),V}function ue(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Q=s((V[W]*H+50)/100);Q=Math.min(Math.max(Q,1),255),l[k[W]]=Q}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ne=s((re[oe]*H+50)/100);ne=Math.min(Math.max(ne,1),255),c[k[oe]]=ne}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,le=0;le<8;le++)for(var Ne=0;Ne<8;Ne++)u[pe]=1/(l[k[pe]]*de[le]*de[Ne]*8),d[pe]=1/(c[k[pe]]*de[le]*de[Ne]*8),pe++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,H){H&&ue(H),m=new Array,v=0,x=7,ee(65496),ee(65504),ee(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),ee(1),ee(1),F(0),F(0),(function(){ee(65499),ee(132),F(0);for(var ve=0;ve<64;ve++)F(l[ve]);F(1);for(var Re=0;Re<64;Re++)F(c[Re])})(),(function(ve,Re){ee(65472),ee(17),F(8),ee(Re),ee(ve),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})(B.width,B.height),(function(){ee(65476),ee(418),F(0);for(var ve=0;ve<16;ve++)F(O[ve+1]);for(var Re=0;Re<=11;Re++)F(T[Re]);F(16);for(var lt=0;lt<16;lt++)F(R[lt+1]);for(var We=0;We<=161;We++)F(P[We]);F(1);for(var Qe=0;Qe<16;Qe++)F(I[Qe+1]);for(var mt=0;mt<=11;mt++)F(M[mt]);F(17);for(var gt=0;gt<16;gt++)F(D[gt+1]);for(var ct=0;ct<=161;ct++)F(K[ct])})(),ee(65498),ee(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var V=0,W=0,Q=0;v=0,x=7,this.encode.displayName="_encode_";for(var re,oe,ne,de,pe,le,Ne,ge,te,qe=B.data,Ue=B.width,ze=B.height,Pe=4*Ue,Xe=0;Xe<ze;){for(re=0;re<Pe;){for(pe=Pe*Xe+re,Ne=-1,ge=0,te=0;te<64;te++)le=pe+(ge=te>>3)*Pe+(Ne=4*(7&te)),Xe+ge>=ze&&(le-=Pe*(Xe+1+ge-ze)),re+Ne>=Pe&&(le-=re+Ne-Pe+4),oe=qe[le++],ne=qe[le++],de=qe[le++],j[te]=(A[oe]+A[ne+256|0]+A[de+512|0]>>16)-128,b[te]=(A[oe+768|0]+A[ne+1024|0]+A[de+1280|0]>>16)-128,_[te]=(A[oe+1280|0]+A[ne+1536|0]+A[de+1792|0]>>16)-128;V=fe(j,u,V,e,n),W=fe(b,d,W,r,a),Q=fe(_,d,Q,r,a),re+=32}Xe+=8}if(x>=0){var Be=[];Be[1]=x+1,Be[0]=(1<<x+1)-1,q(Be)}return ee(65497),new Uint8Array(m)},t=t||50,(function(){for(var B=String.fromCharCode,H=0;H<256;H++)S[H]=B(H)})(),e=$(O,T),r=$(I,M),n=$(R,P),a=$(D,K),(function(){for(var B=1,H=2,V=1;V<=15;V++){for(var W=B;W<H;W++)p[32767+W]=V,f[32767+W]=[],f[32767+W][1]=V,f[32767+W][0]=W;for(var Q=-(H-1);Q<=-B;Q++)p[32767+Q]=V,f[32767+Q]=[],f[32767+Q][1]=V,f[32767+Q][0]=H-1+Q;B<<=1,H<<=1}})(),(function(){for(var B=0;B<256;B++)A[B]=19595*B,A[B+256|0]=38470*B,A[B+512|0]=7471*B+32768,A[B+768|0]=-11059*B,A[B+1024|0]=-21709*B,A[B+1280|0]=32768*B+8421375,A[B+1536|0]=-27439*B,A[B+1792|0]=-5329*B})(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vk(t){function e(T){if(!T)throw Error("assert :P")}function r(T,R,P){for(var I=0;4>I;I++)if(T[R+I]!=P.charCodeAt(I))return!0;return!1}function n(T,R,P,I,M){for(var D=0;D<M;D++)T[R+D]=P[I+D]}function a(T,R,P,I){for(var M=0;M<I;M++)T[R+M]=P}function i(T){return new Int32Array(T)}function s(T,R){for(var P=[],I=0;I<T;I++)P.push(new R);return P}function l(T,R){var P=[];return(function I(M,D,K){for(var $=K[D],q=0;q<$&&(M.push(K.length>D+1?[]:new R),!(K.length<D+1));q++)I(M[q],D+1,K)})(P,0,T),P}var c=function(){var T=this;function R(y,w){for(var E=1<<w-1>>>0;y&E;)E>>>=1;return E?(y&E-1)+E:y}function P(y,w,E,L,U){e(!(L%E));do y[w+(L-=E)]=U;while(0<L)}function I(y,w,E,L,U){if(e(2328>=U),512>=U)var G=i(512);else if((G=i(U))==null)return 0;return(function(Y,Z,J,ae,he,_e){var ie,me,xe=Z,Se=1<<J,we=i(16),ke=i(16);for(e(he!=0),e(ae!=null),e(Y!=null),e(0<J),me=0;me<he;++me){if(15<ae[me])return 0;++we[ae[me]]}if(we[0]==he)return 0;for(ke[1]=0,ie=1;15>ie;++ie){if(we[ie]>1<<ie)return 0;ke[ie+1]=ke[ie]+we[ie]}for(me=0;me<he;++me)ie=ae[me],0<ae[me]&&(_e[ke[ie]++]=me);if(ke[15]==1)return(ae=new M).g=0,ae.value=_e[0],P(Y,xe,1,Se,ae),Se;var Oe,Le=-1,Te=Se-1,ft=0,Je=1,Bt=1,at=1<<J;for(me=0,ie=1,he=2;ie<=J;++ie,he<<=1){if(Je+=Bt<<=1,0>(Bt-=we[ie]))return 0;for(;0<we[ie];--we[ie])(ae=new M).g=ie,ae.value=_e[me++],P(Y,xe+ft,he,at,ae),ft=R(ft,ie)}for(ie=J+1,he=2;15>=ie;++ie,he<<=1){if(Je+=Bt<<=1,0>(Bt-=we[ie]))return 0;for(;0<we[ie];--we[ie]){if(ae=new M,(ft&Te)!=Le){for(xe+=at,Oe=1<<(Le=ie)-J;15>Le&&!(0>=(Oe-=we[Le]));)++Le,Oe<<=1;Se+=at=1<<(Oe=Le-J),Y[Z+(Le=ft&Te)].g=Oe+J,Y[Z+Le].value=xe-Z-Le}ae.g=ie-J,ae.value=_e[me++],P(Y,xe+(ft>>J),he,at,ae),ft=R(ft,ie)}}return Je!=2*ke[15]-1?0:Se})(y,w,E,L,U,G)}function M(){this.value=this.g=0}function D(){this.value=this.g=0}function K(){this.G=s(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Gi,D)}function $(y,w,E,L){e(y!=null),e(w!=null),e(2147483648>L),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=w,y.pa=E,y.Jd=w,y.Yc=E+L,y.Zc=4<=L?E+L-4+1:E,oe(y)}function q(y,w){for(var E=0;0<w--;)E|=de(y,128)<<w;return E}function F(y,w){var E=q(y,w);return ne(y)?-E:E}function ee(y,w,E,L){var U,G=0;for(e(y!=null),e(w!=null),e(4294967288>L),y.Sb=L,y.Ra=0,y.u=0,y.h=0,4<L&&(L=4),U=0;U<L;++U)G+=w[E+U]<<8*U;y.Ra=G,y.bb=L,y.oa=w,y.pa=E}function fe(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<wo-8>>>0,++y.bb,y.u-=8;W(y)&&(y.h=1,y.u=0)}function ue(y,w){if(e(0<=w),!y.h&&w<=Kd){var E=V(y)&bo[w];return y.u+=w,fe(y),E}return y.h=1,y.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(y){return y.Ra>>>(y.u&wo-1)>>>0}function W(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>wo}function Q(y,w){y.u=w,y.h=W(y)}function re(y){y.u>=Yr&&(e(y.u>=Yr),fe(y))}function oe(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ne(y){return q(y,1)}function de(y,w){var E=y.Ca;0>y.b&&oe(y);var L=y.b,U=E*w>>>8,G=(y.I>>>L>U)+0;for(G?(E-=U,y.I-=U+1<<L>>>0):E=U+1,L=E,U=0;256<=L;)U+=8,L>>=8;return L=7^U+X0[L],y.b-=L,y.Ca=(E<<L)-1,G}function pe(y,w,E){y[w+0]=E>>24&255,y[w+1]=E>>16&255,y[w+2]=E>>8&255,y[w+3]=255&E}function le(y,w){return y[w+0]|y[w+1]<<8}function Ne(y,w){return le(y,w)|y[w+2]<<16}function ge(y,w){return le(y,w)|le(y,w+2)<<16}function te(y,w){var E=1<<w;return e(y!=null),e(0<w),y.X=i(E),y.X==null?0:(y.Mb=32-w,y.Xa=w,1)}function qe(y,w){e(y!=null),e(w!=null),e(y.Xa==w.Xa),n(w.X,0,y.X,0,1<<w.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function ze(y,w,E,L){e(E!=null),e(L!=null);var U=E[0],G=L[0];return U==0&&(U=(y*G+w/2)/w),G==0&&(G=(w*U+y/2)/y),0>=U||0>=G?0:(E[0]=U,L[0]=G,1)}function Pe(y,w){return y+(1<<w)-1>>>w}function Xe(y,w){return((4278255360&y)+(4278255360&w)>>>0&4278255360)+((16711935&y)+(16711935&w)>>>0&16711935)>>>0}function Be(y,w){T[w]=function(E,L,U,G,Y,Z,J){var ae;for(ae=0;ae<Y;++ae){var he=T[y](Z[J+ae-1],U,G+ae);Z[J+ae]=Xe(E[L+ae],he)}}}function ve(){this.ud=this.hd=this.jd=0}function Re(y,w){return((4278124286&(y^w))>>>1)+(y&w)>>>0}function lt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function We(y,w){return lt(y+(y-w+.5>>1))}function Qe(y,w,E){return Math.abs(w-E)-Math.abs(y-E)}function mt(y,w,E,L,U,G,Y){for(L=G[Y-1],E=0;E<U;++E)G[Y+E]=L=Xe(y[w+E],L)}function gt(y,w,E,L,U){var G;for(G=0;G<E;++G){var Y=y[w+G],Z=Y>>8&255,J=16711935&(J=(J=16711935&Y)+((Z<<16)+Z));L[U+G]=(4278255360&Y)+J>>>0}}function ct(y,w){w.jd=255&y,w.hd=y>>8&255,w.ud=y>>16&255}function vt(y,w,E,L,U,G){var Y;for(Y=0;Y<L;++Y){var Z=w[E+Y],J=Z>>>8,ae=Z,he=255&(he=(he=Z>>>16)+((y.jd<<24>>24)*(J<<24>>24)>>>5));ae=255&(ae=(ae+=(y.hd<<24>>24)*(J<<24>>24)>>>5)+((y.ud<<24>>24)*(he<<24>>24)>>>5)),U[G+Y]=(4278255360&Z)+(he<<16)+ae}}function dt(y,w,E,L,U){T[w]=function(G,Y,Z,J,ae,he,_e,ie,me){for(J=_e;J<ie;++J)for(_e=0;_e<me;++_e)ae[he++]=U(Z[L(G[Y++])])},T[y]=function(G,Y,Z,J,ae,he,_e){var ie=8>>G.b,me=G.Ea,xe=G.K[0],Se=G.w;if(8>ie)for(G=(1<<G.b)-1,Se=(1<<ie)-1;Y<Z;++Y){var we,ke=0;for(we=0;we<me;++we)we&G||(ke=L(J[ae++])),he[_e++]=U(xe[ke&Se]),ke>>=ie}else T["VP8LMapColor"+E](J,ae,xe,Se,he,_e,Y,Z,me)}}function Yt(y,w,E,L,U){for(E=w+E;w<E;){var G=y[w++];L[U++]=G>>16&255,L[U++]=G>>8&255,L[U++]=255&G}}function Xt(y,w,E,L,U){for(E=w+E;w<E;){var G=y[w++];L[U++]=G>>16&255,L[U++]=G>>8&255,L[U++]=255&G,L[U++]=G>>24&255}}function st(y,w,E,L,U){for(E=w+E;w<E;){var G=(Y=y[w++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;L[U++]=G,L[U++]=Y}}function Ot(y,w,E,L,U){for(E=w+E;w<E;){var G=(Y=y[w++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[U++]=G,L[U++]=Y}}function nr(y,w,E,L,U){for(E=w+E;w<E;){var G=y[w++];L[U++]=255&G,L[U++]=G>>8&255,L[U++]=G>>16&255}}function yt(y,w,E,L,U,G){if(G==0)for(E=w+E;w<E;)pe(L,((G=y[w++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),U+=32;else n(L,U,y,w,E)}function zt(y,w){T[w][0]=T[y+"0"],T[w][1]=T[y+"1"],T[w][2]=T[y+"2"],T[w][3]=T[y+"3"],T[w][4]=T[y+"4"],T[w][5]=T[y+"5"],T[w][6]=T[y+"6"],T[w][7]=T[y+"7"],T[w][8]=T[y+"8"],T[w][9]=T[y+"9"],T[w][10]=T[y+"10"],T[w][11]=T[y+"11"],T[w][12]=T[y+"12"],T[w][13]=T[y+"13"],T[w][14]=T[y+"0"],T[w][15]=T[y+"0"]}function xt(y){return y==Q0||y==ey||y==bp||y==ty}function $r(){this.eb=[],this.size=this.A=this.fb=0}function Gr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $r,this.f.kb=new Gr,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ve(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Zt(y,w){var E=y.T,L=w.ba.f.RGBA,U=L.eb,G=L.fb+y.ka*L.A,Y=Va[w.ba.S],Z=y.y,J=y.O,ae=y.f,he=y.N,_e=y.ea,ie=y.W,me=w.cc,xe=w.dc,Se=w.Mc,we=w.Nc,ke=y.ka,Oe=y.ka+y.T,Le=y.U,Te=Le+1>>1;for(ke==0?Y(Z,J,null,null,ae,he,_e,ie,ae,he,_e,ie,U,G,null,null,Le):(Y(w.ec,w.fc,Z,J,me,xe,Se,we,ae,he,_e,ie,U,G-L.A,U,G,Le),++E);ke+2<Oe;ke+=2)me=ae,xe=he,Se=_e,we=ie,he+=y.Rc,ie+=y.Rc,G+=2*L.A,Y(Z,(J+=2*y.fa)-y.fa,Z,J,me,xe,Se,we,ae,he,_e,ie,U,G-L.A,U,G,Le);return J+=y.fa,y.j+Oe<y.o?(n(w.ec,w.fc,Z,J,Le),n(w.cc,w.dc,ae,he,Te),n(w.Mc,w.Nc,_e,ie,Te),E--):1&Oe||Y(Z,J,null,null,ae,he,_e,ie,ae,he,_e,ie,U,G+L.A,null,null,Le),E}function Fr(y,w,E){var L=y.F,U=[y.J];if(L!=null){var G=y.U,Y=w.ba.S,Z=Y==xp||Y==bp;w=w.ba.f.RGBA;var J=[0],ae=y.ka;J[0]=y.T,y.Kb&&(ae==0?--J[0]:(--ae,U[0]-=y.width),y.j+y.ka+y.T==y.o&&(J[0]=y.o-y.j-ae));var he=w.eb;ae=w.fb+ae*w.A,y=_S(L,U[0],y.width,G,J,he,ae+(Z?0:3),w.A),e(E==J),y&&xt(Y)&&Jd(he,ae,Z,G,J,w.A)}return 0}function Hn(y){var w=y.ma,E=w.ba.S,L=11>E,U=E==vp||E==yp||E==xp||E==J0||E==12||xt(E);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!aa(w.Oa,y,U?11:12))return 0;if(U&&xt(E)&&Wd(),y.da)alert("todo:use_scaling");else{if(L){if(w.Ib=xr,y.Kb){if(E=y.U+1>>1,w.memory=i(y.U+2*E),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+y.U,w.Mc=w.cc,w.Nc=w.dc+E,w.Ib=Zt,Wd()}}else alert("todo:EmitYUV");U&&(w.Jb=Fr,L&&_l())}if(L&&!$S){for(y=0;256>y;++y)sB[y]=89858*(y-128)+_p>>wp,cB[y]=-22014*(y-128)+_p,lB[y]=-45773*(y-128),oB[y]=113618*(y-128)+_p>>wp;for(y=ef;y<ay;++y)w=76283*(y-16)+_p>>wp,uB[y-ef]=dn(w,255),dB[y-ef]=dn(w+8>>4,15);$S=1}return 1}function Ke(y){var w=y.ma,E=y.U,L=y.T;return e(!(1&y.ka)),0>=E||0>=L?0:(E=w.Ib(y,w),w.Jb!=null&&w.Jb(y,w,E),w.Dc+=E,1)}function Ur(y){y.ma.memory=null}function na(y,w,E,L){return ue(y,8)!=47?0:(w[0]=ue(y,14)+1,E[0]=ue(y,14)+1,L[0]=ue(y,1),ue(y,3)!=0?0:!y.h)}function Ir(y,w){if(4>y)return y+1;var E=y-2>>1;return(2+(1&y)<<E)+ue(w,E)+1}function Rr(y,w){return 120<w?w-120:1<=(E=((E=VF[w-1])>>4)*y+(8-(15&E)))?E:1;var E}function Cr(y,w,E){var L=V(E),U=y[w+=255&L].g-8;return 0<U&&(Q(E,E.u+8),L=V(E),w+=y[w].value,w+=L&(1<<U)-1),Q(E,E.u+y[w].g),y[w].value}function br(y,w,E){return E.g+=y.g,E.value+=y.value<<w>>>0,e(8>=E.g),y.g}function jn(y,w,E){var L=y.xc;return e((w=L==0?0:y.vc[y.md*(E>>L)+(w>>L)])<y.Wb),y.Ya[w]}function dl(y,w,E,L){var U=y.ab,G=y.c*w,Y=y.C;w=Y+w;var Z=E,J=L;for(L=y.Ta,E=y.Ua;0<U--;){var ae=y.gc[U],he=Y,_e=w,ie=Z,me=J,xe=(J=L,Z=E,ae.Ea);switch(e(he<_e),e(_e<=ae.nc),ae.hc){case 2:Dc(ie,me,(_e-he)*xe,J,Z);break;case 0:var Se=he,we=_e,ke=J,Oe=Z,Le=(at=ae).Ea;Se==0&&(Ki(ie,me,null,null,1,ke,Oe),mt(ie,me+1,0,0,Le-1,ke,Oe+1),me+=Le,Oe+=Le,++Se);for(var Te=1<<at.b,ft=Te-1,Je=Pe(Le,at.b),Bt=at.K,at=at.w+(Se>>at.b)*Je;Se<we;){var Gt=Bt,fn=at,qt=1;for(Yi(ie,me,ke,Oe-Le,1,ke,Oe);qt<Le;){var it=(qt&~ft)+Te;it>Le&&(it=Le),(0,Sl[Gt[fn++]>>8&15])(ie,me+ +qt,ke,Oe+qt-Le,it-qt,ke,Oe+qt),qt=it}me+=Le,Oe+=Le,++Se&ft||(at+=Je)}_e!=ae.nc&&n(J,Z-xe,J,Z+(_e-he-1)*xe,xe);break;case 1:for(xe=ie,we=me,Le=(ie=ae.Ea)-(Oe=ie&~(ke=(me=1<<ae.b)-1)),Se=Pe(ie,ae.b),Te=ae.K,ae=ae.w+(he>>ae.b)*Se;he<_e;){for(ft=Te,Je=ae,Bt=new ve,at=we+Oe,Gt=we+ie;we<at;)ct(ft[Je++],Bt),Ps(Bt,xe,we,me,J,Z),we+=me,Z+=me;we<Gt&&(ct(ft[Je++],Bt),Ps(Bt,xe,we,Le,J,Z),we+=Le,Z+=Le),++he&ke||(ae+=Se)}break;case 3:if(ie==J&&me==Z&&0<ae.b){for(we=J,ie=xe=Z+(_e-he)*xe-(Oe=(_e-he)*Pe(ae.Ea,ae.b)),me=J,ke=Z,Se=[],Oe=(Le=Oe)-1;0<=Oe;--Oe)Se[Oe]=me[ke+Oe];for(Oe=Le-1;0<=Oe;--Oe)we[ie+Oe]=Se[Oe];Yd(ae,he,_e,J,xe,J,Z)}else Yd(ae,he,_e,ie,me,J,Z)}Z=L,J=E}J!=E&&n(L,E,Z,J,G)}function po(y,w){var E=y.V,L=y.Ba+y.c*y.C,U=w-y.C;if(e(w<=y.l.o),e(16>=U),0<U){var G=y.l,Y=y.Ta,Z=y.Ua,J=G.width;if(dl(y,U,E,L),U=Z=[Z],e((E=y.C)<(L=w)),e(G.v<G.va),L>G.o&&(L=G.o),E<G.j){var ae=G.j-E;E=G.j,U[0]+=ae*J}if(E>=L?E=0:(U[0]+=4*G.v,G.ka=E-G.j,G.U=G.va-G.v,G.T=L-E,E=1),E){if(Z=Z[0],11>(E=y.ca).S){var he=E.f.RGBA,_e=(L=E.S,U=G.U,G=G.T,ae=he.eb,he.A),ie=G;for(he=he.fb+y.Ma*he.A;0<ie--;){var me=Y,xe=Z,Se=U,we=ae,ke=he;switch(L){case gp:Xd(me,xe,Se,we,ke);break;case vp:va(me,xe,Se,we,ke);break;case Q0:va(me,xe,Se,we,ke),Jd(we,ke,0,Se,1,0);break;case CS:_r(me,xe,Se,we,ke);break;case yp:yt(me,xe,Se,we,ke,1);break;case ey:yt(me,xe,Se,we,ke,1),Jd(we,ke,0,Se,1,0);break;case xp:yt(me,xe,Se,we,ke,0);break;case bp:yt(me,xe,Se,we,ke,0),Jd(we,ke,1,Se,1,0);break;case J0:Xi(me,xe,Se,we,ke);break;case ty:Xi(me,xe,Se,we,ke),wS(we,ke,Se,1,0);break;case OS:wr(me,xe,Se,we,ke);break;default:e(0)}Z+=J,he+=_e}y.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=E.height)}}y.C=w,e(y.C<=y.i)}function ci(y){var w;if(0<y.ua)return 0;for(w=0;w<y.Wb;++w){var E=y.Ya[w].G,L=y.Ya[w].H;if(0<E[1][L[1]+0].g||0<E[2][L[2]+0].g||0<E[3][L[3]+0].g)return 0}return 1}function zi(y,w,E,L,U,G){if(y.Z!=0){var Y=y.qd,Z=y.rd;for(e(jo[y.Z]!=null);w<E;++w)jo[y.Z](Y,Z,L,U,L,U,G),Y=L,Z=U,U+=G;y.qd=Y,y.rd=Z}}function ui(y,w){var E=y.l.ma,L=E.Z==0||E.Z==1?y.l.j:y.C;if(L=y.C<L?L:y.C,e(w<=y.l.o),w>L){var U=y.l.width,G=E.ca,Y=E.tb+U*L,Z=y.V,J=y.Ba+y.c*L,ae=y.gc;e(y.ab==1),e(ae[0].hc==3),Fc(ae[0],L,w,Z,J,G,Y),zi(E,L,w,G,Y,U)}y.C=y.Ma=w}function di(y,w,E,L,U,G,Y){var Z=y.$/L,J=y.$%L,ae=y.m,he=y.s,_e=E+y.$,ie=_e;U=E+L*U;var me=E+L*G,xe=280+he.ua,Se=y.Pb?Z:16777216,we=0<he.ua?he.Wa:null,ke=he.wc,Oe=_e<me?jn(he,J,Z):null;e(y.C<G),e(me<=U);var Le=!1;e:for(;;){for(;Le||_e<me;){var Te=0;if(Z>=Se){var ft=_e-E;e((Se=y).Pb),Se.wd=Se.m,Se.xd=ft,0<Se.s.ua&&qe(Se.s.Wa,Se.s.vb),Se=Z+KF}if(J&ke||(Oe=jn(he,J,Z)),e(Oe!=null),Oe.Qb&&(w[_e]=Oe.qb,Le=!0),!Le)if(re(ae),Oe.jc){Te=ae,ft=w;var Je=_e,Bt=Oe.pd[V(Te)&Gi-1];e(Oe.jc),256>Bt.g?(Q(Te,Te.u+Bt.g),ft[Je]=Bt.value,Te=0):(Q(Te,Te.u+Bt.g-256),e(256<=Bt.value),Te=Bt.value),Te==0&&(Le=!0)}else Te=Cr(Oe.G[0],Oe.H[0],ae);if(ae.h)break;if(Le||256>Te){if(!Le)if(Oe.nd)w[_e]=(Oe.qb|Te<<8)>>>0;else{if(re(ae),Le=Cr(Oe.G[1],Oe.H[1],ae),re(ae),ft=Cr(Oe.G[2],Oe.H[2],ae),Je=Cr(Oe.G[3],Oe.H[3],ae),ae.h)break;w[_e]=(Je<<24|Le<<16|Te<<8|ft)>>>0}if(Le=!1,++_e,++J>=L&&(J=0,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(y,Z),we!=null))for(;ie<_e;)Te=w[ie++],we.X[(506832829*Te&4294967295)>>>we.Mb]=Te}else if(280>Te){if(Te=Ir(Te-256,ae),ft=Cr(Oe.G[4],Oe.H[4],ae),re(ae),ft=Rr(L,ft=Ir(ft,ae)),ae.h)break;if(_e-E<ft||U-_e<Te)break e;for(Je=0;Je<Te;++Je)w[_e+Je]=w[_e+Je-ft];for(_e+=Te,J+=Te;J>=L;)J-=L,++Z,Y!=null&&Z<=G&&!(Z%16)&&Y(y,Z);if(e(_e<=U),J&ke&&(Oe=jn(he,J,Z)),we!=null)for(;ie<_e;)Te=w[ie++],we.X[(506832829*Te&4294967295)>>>we.Mb]=Te}else{if(!(Te<xe))break e;for(Le=Te-280,e(we!=null);ie<_e;)Te=w[ie++],we.X[(506832829*Te&4294967295)>>>we.Mb]=Te;Te=_e,e(!(Le>>>(ft=we).Xa)),w[Te]=ft.X[Le],Le=!0}Le||e(ae.h==W(ae))}if(y.Pb&&ae.h&&_e<U)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&qe(y.s.vb,y.s.Wa);else{if(ae.h)break e;Y!=null&&Y(y,Z>G?G:Z),y.a=0,y.$=_e-E}return 1}return y.a=3,0}function Ua(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var w=y.Wa;w!=null&&(w.X=null),y.vb=null,e(y!=null)}function fl(){var y=new Br;return y==null?null:(y.a=0,y.xb=IS,zt("Predictor","VP8LPredictors"),zt("Predictor","VP8LPredictors_C"),zt("PredictorAdd","VP8LPredictorsAdd"),zt("PredictorAdd","VP8LPredictorsAdd_C"),Dc=gt,Ps=vt,Xd=Yt,va=Xt,Xi=st,wr=Ot,_r=nr,T.VP8LMapColor32b=$c,T.VP8LMapColor8b=Nl,y)}function Wi(y,w,E,L,U){var G=1,Y=[y],Z=[w],J=L.m,ae=L.s,he=null,_e=0;e:for(;;){if(E)for(;G&&ue(J,1);){var ie=Y,me=Z,xe=L,Se=1,we=xe.m,ke=xe.gc[xe.ab],Oe=ue(we,2);if(xe.Oc&1<<Oe)G=0;else{switch(xe.Oc|=1<<Oe,ke.hc=Oe,ke.Ea=ie[0],ke.nc=me[0],ke.K=[null],++xe.ab,e(4>=xe.ab),Oe){case 0:case 1:ke.b=ue(we,3)+2,Se=Wi(Pe(ke.Ea,ke.b),Pe(ke.nc,ke.b),0,xe,ke.K),ke.K=ke.K[0];break;case 3:var Le,Te=ue(we,8)+1,ft=16<Te?0:4<Te?1:2<Te?2:3;if(ie[0]=Pe(ke.Ea,ft),ke.b=ft,Le=Se=Wi(Te,1,0,xe,ke.K)){var Je,Bt=Te,at=ke,Gt=1<<(8>>at.b),fn=i(Gt);if(fn==null)Le=0;else{var qt=at.K[0],it=at.w;for(fn[0]=at.K[0][0],Je=1;Je<1*Bt;++Je)fn[Je]=Xe(qt[it+Je],fn[Je-1]);for(;Je<4*Gt;++Je)fn[Je]=0;at.K[0]=null,at.K[0]=fn,Le=1}}Se=Le;break;case 2:break;default:e(0)}G=Se}}if(Y=Y[0],Z=Z[0],G&&ue(J,1)&&!(G=1<=(_e=ue(J,4))&&11>=_e)){L.a=3;break e}var He;if(He=G)t:{var Jr,Lt,Kt,Or=L,Tn=Y,Gn=Z,zr=_e,Dn=E,Kn=Or.m,hn=Or.s,Jt=[null],or=1,Wr=0,lr=GF[zr];r:for(;;){if(Dn&&ue(Kn,1)){var In=ue(Kn,3)+2,mi=Pe(Tn,In),Qr=Pe(Gn,In),sa=mi*Qr;if(!Wi(mi,Qr,0,Or,Jt))break r;for(Jt=Jt[0],hn.xc=In,Jr=0;Jr<sa;++Jr){var pr=Jt[Jr]>>8&65535;Jt[Jr]=pr,pr>=or&&(or=pr+1)}}if(Kn.h)break r;for(Lt=0;5>Lt;++Lt){var pn=ES[Lt];!Lt&&0<zr&&(pn+=1<<zr),Wr<pn&&(Wr=pn)}var xa=s(or*lr,M),Yn=or,ba=s(Yn,K);if(ba==null)var wa=null;else e(65536>=Yn),wa=ba;var oa=i(Wr);if(wa==null||oa==null||xa==null){Or.a=1;break r}var _a=xa;for(Jr=Kt=0;Jr<or;++Jr){var jr=wa[Jr],ja=jr.G,gi=jr.H,Al=0,Es=1,Rn=0;for(Lt=0;5>Lt;++Lt){pn=ES[Lt],ja[Lt]=_a,gi[Lt]=Kt,!Lt&&0<zr&&(pn+=1<<zr);a:{var Np,iy=pn,Sp=Or,tf=oa,pB=_a,mB=Kt,sy=0,No=Sp.m,gB=ue(No,1);if(a(tf,0,0,iy),gB){var vB=ue(No,1)+1,yB=ue(No,1),qS=ue(No,yB==0?1:8);tf[qS]=1,vB==2&&(tf[qS=ue(No,8)]=1);var Ap=1}else{var US=i(19),zS=ue(No,4)+4;if(19<zS){Sp.a=3;var kp=0;break a}for(Np=0;Np<zS;++Np)US[HF[Np]]=ue(No,3);var oy=void 0,rf=void 0,WS=Sp,xB=US,Pp=iy,HS=tf,ly=0,So=WS.m,VS=8,GS=s(128,M);n:for(;I(GS,0,7,xB,19);){if(ue(So,1)){var bB=2+2*ue(So,3);if((oy=2+ue(So,bB))>Pp)break n}else oy=Pp;for(rf=0;rf<Pp&&oy--;){re(So);var KS=GS[0+(127&V(So))];Q(So,So.u+KS.g);var qc=KS.value;if(16>qc)HS[rf++]=qc,qc!=0&&(VS=qc);else{var wB=qc==16,YS=qc-16,_B=zF[YS],XS=ue(So,UF[YS])+_B;if(rf+XS>Pp)break n;for(var jB=wB?VS:0;0<XS--;)HS[rf++]=jB}}ly=1;break n}ly||(WS.a=3),Ap=ly}(Ap=Ap&&!No.h)&&(sy=I(pB,mB,8,tf,iy)),Ap&&sy!=0?kp=sy:(Sp.a=3,kp=0)}if(kp==0)break r;if(Es&&WF[Lt]==1&&(Es=_a[Kt].g==0),Al+=_a[Kt].g,Kt+=kp,3>=Lt){var nf,cy=oa[0];for(nf=1;nf<pn;++nf)oa[nf]>cy&&(cy=oa[nf]);Rn+=cy}}if(jr.nd=Es,jr.Qb=0,Es&&(jr.qb=(ja[3][gi[3]+0].value<<24|ja[1][gi[1]+0].value<<16|ja[2][gi[2]+0].value)>>>0,Al==0&&256>ja[0][gi[0]+0].value&&(jr.Qb=1,jr.qb+=ja[0][gi[0]+0].value<<8)),jr.jc=!jr.Qb&&6>Rn,jr.jc){var Cp,Ts=jr;for(Cp=0;Cp<Gi;++Cp){var Ao=Cp,ko=Ts.pd[Ao],Op=Ts.G[0][Ts.H[0]+Ao];256<=Op.value?(ko.g=Op.g+256,ko.value=Op.value):(ko.g=0,ko.value=0,Ao>>=br(Op,8,ko),Ao>>=br(Ts.G[1][Ts.H[1]+Ao],16,ko),Ao>>=br(Ts.G[2][Ts.H[2]+Ao],0,ko),br(Ts.G[3][Ts.H[3]+Ao],24,ko))}}}hn.vc=Jt,hn.Wb=or,hn.Ya=wa,hn.yc=xa,He=1;break t}He=0}if(!(G=He)){L.a=3;break e}if(0<_e){if(ae.ua=1<<_e,!te(ae.Wa,_e)){L.a=1,G=0;break e}}else ae.ua=0;var uy=L,ZS=Y,NB=Z,dy=uy.s,fy=dy.xc;if(uy.c=ZS,uy.i=NB,dy.md=Pe(ZS,fy),dy.wc=fy==0?-1:(1<<fy)-1,E){L.xb=tB;break e}if((he=i(Y*Z))==null){L.a=1,G=0;break e}G=(G=di(L,he,0,Y,Z,Z,null))&&!J.h;break e}return G?(U!=null?U[0]=he:(e(he==null),e(E)),L.$=0,E||Ua(ae)):Ua(ae),G}function hl(y,w){var E=y.c*y.i,L=E+w+16*w;return e(y.c<=w),y.V=i(L),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+E+w,1)}function Sc(y,w){var E=y.C,L=w-E,U=y.V,G=y.Ba+y.c*E;for(e(w<=y.l.o);0<L;){var Y=16<L?16:L,Z=y.l.ma,J=y.l.width,ae=J*Y,he=Z.ca,_e=Z.tb+J*E,ie=y.Ta,me=y.Ua;dl(y,Y,U,G),jS(ie,me,he,_e,ae),zi(Z,E,E+Y,he,_e,J),L-=Y,U+=Y*y.c,E+=Y}e(E==w),y.C=y.Ma=w}function Ac(){this.ub=this.yd=this.td=this.Rb=0}function kc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function I0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Od(){this.Yb=(function(){var y=[];return(function w(E,L,U){for(var G=U[L],Y=0;Y<G&&(E.push(U.length>L+1?[]:0),!(U.length<L+1));Y++)w(E[Y],L+1,U)})(y,0,[3,11]),y})()}function rp(){this.jb=i(3),this.Wc=l([4,8],Od),this.Xc=l([4,17],Od)}function np(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function za(){this.ld=this.La=this.dd=this.tc=0}function Ed(){this.Na=this.la=0}function ap(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Td(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ip(){this.uc=this.M=this.Nb=0,this.wa=Array(new za),this.Y=0,this.ya=Array(new Td),this.aa=0,this.l=new Pc}function sp(){this.y=i(16),this.f=i(8),this.ea=i(8)}function op(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Ac,this.Kc=new kc,this.ed=new np,this.Qa=new I0,this.Ic=this.$c=this.Aa=0,this.D=new ip,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,ap),this.Pa=new rp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new sp),this.Hd=0,this.rb=Array(new Ed),this.sb=0,this.wa=Array(new za),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Td),this.L=this.aa=0,this.gd=l([4,2],za),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function R0(){var y=new op;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Qd||(Qd=_s)),y}function an(y,w,E){return y.a==0&&(y.a=w,y.sc=E,y.cb=0),0}function lp(y,w,E){return 3<=E&&y[w+0]==157&&y[w+1]==1&&y[w+2]==42}function cp(y,w){if(y==null)return 0;if(y.a=0,y.sc="OK",w==null)return an(y,2,"null VP8Io passed to VP8GetHeaders()");var E=w.data,L=w.w,U=w.ha;if(4>U)return an(y,7,"Truncated header.");var G=E[L+0]|E[L+1]<<8|E[L+2]<<16,Y=y.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return an(y,3,"Incorrect keyframe parameters.");if(!Y.yd)return an(y,4,"Frame not displayable.");L+=3,U-=3;var Z=y.Kc;if(Y.Rb){if(7>U)return an(y,7,"cannot parse picture header");if(!lp(E,L,U))return an(y,3,"Bad code word");Z.c=16383&(E[L+4]<<8|E[L+3]),Z.Td=E[L+4]>>6,Z.i=16383&(E[L+6]<<8|E[L+5]),Z.Ud=E[L+6]>>6,L+=7,U-=7,y.za=Z.c+15>>4,y.Ub=Z.i+15>>4,w.width=Z.c,w.height=Z.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,a((G=y.Pa).jb,0,255,G.jb.length),e((G=y.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(Y.ub>U)return an(y,7,"bad partition length");$(G=y.m,E,L,Y.ub),L+=Y.ub,U-=Y.ub,Y.Rb&&(Z.Ld=ne(G),Z.Kd=ne(G)),Z=y.Qa;var J,ae=y.Pa;if(e(G!=null),e(Z!=null),Z.Cb=ne(G),Z.Cb){if(Z.Bb=ne(G),ne(G)){for(Z.Fb=ne(G),J=0;4>J;++J)Z.Zb[J]=ne(G)?F(G,7):0;for(J=0;4>J;++J)Z.Lb[J]=ne(G)?F(G,6):0}if(Z.Bb)for(J=0;3>J;++J)ae.jb[J]=ne(G)?q(G,8):255}else Z.Bb=0;if(G.Ka)return an(y,3,"cannot parse segment header");if((Z=y.ed).zd=ne(G),Z.Tb=q(G,6),Z.wb=q(G,3),Z.Pc=ne(G),Z.Pc&&ne(G)){for(ae=0;4>ae;++ae)ne(G)&&(Z.vd[ae]=F(G,6));for(ae=0;4>ae;++ae)ne(G)&&(Z.od[ae]=F(G,6))}if(y.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return an(y,3,"cannot parse filter header");var he=U;if(U=J=L,L=J+he,Z=he,y.Xb=(1<<q(y.m,2))-1,he<3*(ae=y.Xb))E=7;else{for(J+=3*ae,Z-=3*ae,he=0;he<ae;++he){var _e=E[U+0]|E[U+1]<<8|E[U+2]<<16;_e>Z&&(_e=Z),$(y.Jc[+he],E,J,_e),J+=_e,Z-=_e,U+=3}$(y.Jc[+ae],E,J,Z),E=J<L?0:5}if(E!=0)return an(y,E,"cannot parse partitions");for(E=q(J=y.m,7),U=ne(J)?F(J,4):0,L=ne(J)?F(J,4):0,Z=ne(J)?F(J,4):0,ae=ne(J)?F(J,4):0,J=ne(J)?F(J,4):0,he=y.Qa,_e=0;4>_e;++_e){if(he.Cb){var ie=he.Zb[_e];he.Fb||(ie+=E)}else{if(0<_e){y.pb[_e]=y.pb[0];continue}ie=E}var me=y.pb[_e];me.Sc[0]=ry[dn(ie+U,127)],me.Sc[1]=ny[dn(ie+0,127)],me.Eb[0]=2*ry[dn(ie+L,127)],me.Eb[1]=101581*ny[dn(ie+Z,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=ry[dn(ie+ae,117)],me.Qc[1]=ny[dn(ie+J,127)],me.lc=ie+J}if(!Y.Rb)return an(y,4,"Not a key frame.");for(ne(G),Y=y.Pa,E=0;4>E;++E){for(U=0;8>U;++U)for(L=0;3>L;++L)for(Z=0;11>Z;++Z)ae=de(G,QF[E][U][L][Z])?q(G,8):ZF[E][U][L][Z],Y.Wc[E][U].Yb[L][Z]=ae;for(U=0;17>U;++U)Y.Xc[E][U]=Y.Wc[E][eB[U]]}return y.kc=ne(G),y.kc&&(y.Bd=q(G,8)),y.cb=1}function _s(y,w,E,L,U,G,Y){var Z=w[U].Yb[E];for(E=0;16>U;++U){if(!de(y,Z[E+0]))return U;for(;!de(y,Z[E+1]);)if(Z=w[++U].Yb[0],E=0,U==16)return 16;var J=w[U+1].Yb;if(de(y,Z[E+2])){var ae=y,he=0;if(de(ae,(ie=Z)[(_e=E)+3]))if(de(ae,ie[_e+6])){for(Z=0,_e=2*(he=de(ae,ie[_e+8]))+(ie=de(ae,ie[_e+9+he])),he=0,ie=YF[_e];ie[Z];++Z)he+=he+de(ae,ie[Z]);he+=3+(8<<_e)}else de(ae,ie[_e+7])?(he=7+2*de(ae,165),he+=de(ae,145)):he=5+de(ae,159);else he=de(ae,ie[_e+4])?3+de(ae,ie[_e+5]):2;Z=J[2]}else he=1,Z=J[1];J=Y+XF[U],0>(ae=y).b&&oe(ae);var _e,ie=ae.b,me=(_e=ae.Ca>>1)-(ae.I>>ie)>>31;--ae.b,ae.Ca+=me,ae.Ca|=1,ae.I-=(_e+1&me)<<ie,G[J]=((he^me)-me)*L[(0<U)+0]}return 16}function pl(y){var w=y.rb[y.sb-1];w.la=0,w.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function fi(y,w,E,L,U){U=y[w+E+32*L]+(U>>3),y[w+E+32*L]=-256&U?0>U?0:255:U}function ml(y,w,E,L,U,G){fi(y,w,0,E,L+U),fi(y,w,1,E,L+G),fi(y,w,2,E,L-G),fi(y,w,3,E,L-U)}function Kr(y){return(20091*y>>16)+y}function Id(y,w,E,L){var U,G=0,Y=i(16);for(U=0;4>U;++U){var Z=y[w+0]+y[w+8],J=y[w+0]-y[w+8],ae=(35468*y[w+4]>>16)-Kr(y[w+12]),he=Kr(y[w+4])+(35468*y[w+12]>>16);Y[G+0]=Z+he,Y[G+1]=J+ae,Y[G+2]=J-ae,Y[G+3]=Z-he,G+=4,w++}for(U=G=0;4>U;++U)Z=(y=Y[G+0]+4)+Y[G+8],J=y-Y[G+8],ae=(35468*Y[G+4]>>16)-Kr(Y[G+12]),fi(E,L,0,0,Z+(he=Kr(Y[G+4])+(35468*Y[G+12]>>16))),fi(E,L,1,0,J+ae),fi(E,L,2,0,J-ae),fi(E,L,3,0,Z-he),G++,L+=32}function L0(y,w,E,L){var U=y[w+0]+4,G=35468*y[w+4]>>16,Y=Kr(y[w+4]),Z=35468*y[w+1]>>16;ml(E,L,0,U+Y,y=Kr(y[w+1]),Z),ml(E,L,1,U+G,y,Z),ml(E,L,2,U-G,y,Z),ml(E,L,3,U-Y,y,Z)}function M0(y,w,E,L,U){Id(y,w,E,L),U&&Id(y,w+16,E,L+4)}function D0(y,w,E,L){Zr(y,w+0,E,L,1),Zr(y,w+32,E,L+128,1)}function Hi(y,w,E,L){var U;for(y=y[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)fi(E,L,w,U,y)}function up(y,w,E,L){y[w+0]&&Zi(y,w+0,E,L),y[w+16]&&Zi(y,w+16,E,L+4),y[w+32]&&Zi(y,w+32,E,L+128),y[w+48]&&Zi(y,w+48,E,L+128+4)}function dp(y,w,E,L){var U,G=i(16);for(U=0;4>U;++U){var Y=y[w+0+U]+y[w+12+U],Z=y[w+4+U]+y[w+8+U],J=y[w+4+U]-y[w+8+U],ae=y[w+0+U]-y[w+12+U];G[0+U]=Y+Z,G[8+U]=Y-Z,G[4+U]=ae+J,G[12+U]=ae-J}for(U=0;4>U;++U)Y=(y=G[0+4*U]+3)+G[3+4*U],Z=G[1+4*U]+G[2+4*U],J=G[1+4*U]-G[2+4*U],ae=y-G[3+4*U],E[L+0]=Y+Z>>3,E[L+16]=ae+J>>3,E[L+32]=Y-Z>>3,E[L+48]=ae-J>>3,L+=64}function mo(y,w,E){var L,U=w-32,G=ya,Y=255-y[U-1];for(L=0;L<E;++L){var Z,J=G,ae=Y+y[w-1];for(Z=0;Z<E;++Z)y[w+Z]=J[ae+y[U+Z]];w+=32}}function Rd(y,w){mo(y,w,4)}function $0(y,w){mo(y,w,8)}function F0(y,w){mo(y,w,16)}function B0(y,w){var E;for(E=0;16>E;++E)n(y,w+32*E,y,w-32,16)}function Ld(y,w){var E;for(E=16;0<E;--E)a(y,w,y[w-1],16),w+=32}function gl(y,w,E){var L;for(L=0;16>L;++L)a(w,E+32*L,y,16)}function go(y,w){var E,L=16;for(E=0;16>E;++E)L+=y[w-1+32*E]+y[w+E-32];gl(L>>5,y,w)}function q0(y,w){var E,L=8;for(E=0;16>E;++E)L+=y[w-1+32*E];gl(L>>4,y,w)}function vl(y,w){var E,L=8;for(E=0;16>E;++E)L+=y[w+E-32];gl(L>>4,y,w)}function Md(y,w){gl(128,y,w)}function Et(y,w,E){return y+2*w+E+2>>2}function U0(y,w){var E,L=w-32;for(L=new Uint8Array([Et(y[L-1],y[L+0],y[L+1]),Et(y[L+0],y[L+1],y[L+2]),Et(y[L+1],y[L+2],y[L+3]),Et(y[L+2],y[L+3],y[L+4])]),E=0;4>E;++E)n(y,w+32*E,L,0,L.length)}function z0(y,w){var E=y[w-1],L=y[w-1+32],U=y[w-1+64],G=y[w-1+96];pe(y,w+0,16843009*Et(y[w-1-32],E,L)),pe(y,w+32,16843009*Et(E,L,U)),pe(y,w+64,16843009*Et(L,U,G)),pe(y,w+96,16843009*Et(U,G,G))}function W0(y,w){var E,L=4;for(E=0;4>E;++E)L+=y[w+E-32]+y[w-1+32*E];for(L>>=3,E=0;4>E;++E)a(y,w+32*E,L,4)}function H0(y,w){var E=y[w-1+0],L=y[w-1+32],U=y[w-1+64],G=y[w-1-32],Y=y[w+0-32],Z=y[w+1-32],J=y[w+2-32],ae=y[w+3-32];y[w+0+96]=Et(L,U,y[w-1+96]),y[w+1+96]=y[w+0+64]=Et(E,L,U),y[w+2+96]=y[w+1+64]=y[w+0+32]=Et(G,E,L),y[w+3+96]=y[w+2+64]=y[w+1+32]=y[w+0+0]=Et(Y,G,E),y[w+3+64]=y[w+2+32]=y[w+1+0]=Et(Z,Y,G),y[w+3+32]=y[w+2+0]=Et(J,Z,Y),y[w+3+0]=Et(ae,J,Z)}function js(y,w){var E=y[w+1-32],L=y[w+2-32],U=y[w+3-32],G=y[w+4-32],Y=y[w+5-32],Z=y[w+6-32],J=y[w+7-32];y[w+0+0]=Et(y[w+0-32],E,L),y[w+1+0]=y[w+0+32]=Et(E,L,U),y[w+2+0]=y[w+1+32]=y[w+0+64]=Et(L,U,G),y[w+3+0]=y[w+2+32]=y[w+1+64]=y[w+0+96]=Et(U,G,Y),y[w+3+32]=y[w+2+64]=y[w+1+96]=Et(G,Y,Z),y[w+3+64]=y[w+2+96]=Et(Y,Z,J),y[w+3+96]=Et(Z,J,J)}function Ns(y,w){var E=y[w-1+0],L=y[w-1+32],U=y[w-1+64],G=y[w-1-32],Y=y[w+0-32],Z=y[w+1-32],J=y[w+2-32],ae=y[w+3-32];y[w+0+0]=y[w+1+64]=G+Y+1>>1,y[w+1+0]=y[w+2+64]=Y+Z+1>>1,y[w+2+0]=y[w+3+64]=Z+J+1>>1,y[w+3+0]=J+ae+1>>1,y[w+0+96]=Et(U,L,E),y[w+0+64]=Et(L,E,G),y[w+0+32]=y[w+1+96]=Et(E,G,Y),y[w+1+32]=y[w+2+96]=Et(G,Y,Z),y[w+2+32]=y[w+3+96]=Et(Y,Z,J),y[w+3+32]=Et(Z,J,ae)}function V0(y,w){var E=y[w+0-32],L=y[w+1-32],U=y[w+2-32],G=y[w+3-32],Y=y[w+4-32],Z=y[w+5-32],J=y[w+6-32],ae=y[w+7-32];y[w+0+0]=E+L+1>>1,y[w+1+0]=y[w+0+64]=L+U+1>>1,y[w+2+0]=y[w+1+64]=U+G+1>>1,y[w+3+0]=y[w+2+64]=G+Y+1>>1,y[w+0+32]=Et(E,L,U),y[w+1+32]=y[w+0+96]=Et(L,U,G),y[w+2+32]=y[w+1+96]=Et(U,G,Y),y[w+3+32]=y[w+2+96]=Et(G,Y,Z),y[w+3+64]=Et(Y,Z,J),y[w+3+96]=Et(Z,J,ae)}function G0(y,w){var E=y[w-1+0],L=y[w-1+32],U=y[w-1+64],G=y[w-1+96];y[w+0+0]=E+L+1>>1,y[w+2+0]=y[w+0+32]=L+U+1>>1,y[w+2+32]=y[w+0+64]=U+G+1>>1,y[w+1+0]=Et(E,L,U),y[w+3+0]=y[w+1+32]=Et(L,U,G),y[w+3+32]=y[w+1+64]=Et(U,G,G),y[w+3+64]=y[w+2+64]=y[w+0+96]=y[w+1+96]=y[w+2+96]=y[w+3+96]=G}function Cc(y,w){var E=y[w-1+0],L=y[w-1+32],U=y[w-1+64],G=y[w-1+96],Y=y[w-1-32],Z=y[w+0-32],J=y[w+1-32],ae=y[w+2-32];y[w+0+0]=y[w+2+32]=E+Y+1>>1,y[w+0+32]=y[w+2+64]=L+E+1>>1,y[w+0+64]=y[w+2+96]=U+L+1>>1,y[w+0+96]=G+U+1>>1,y[w+3+0]=Et(Z,J,ae),y[w+2+0]=Et(Y,Z,J),y[w+1+0]=y[w+3+32]=Et(E,Y,Z),y[w+1+32]=y[w+3+64]=Et(L,E,Y),y[w+1+64]=y[w+3+96]=Et(U,L,E),y[w+1+96]=Et(G,U,L)}function Dd(y,w){var E;for(E=0;8>E;++E)n(y,w+32*E,y,w-32,8)}function yl(y,w){var E;for(E=0;8>E;++E)a(y,w,y[w-1],8),w+=32}function Oc(y,w,E){var L;for(L=0;8>L;++L)a(w,E+32*L,y,8)}function Ec(y,w){var E,L=8;for(E=0;8>E;++E)L+=y[w+E-32]+y[w-1+32*E];Oc(L>>4,y,w)}function K0(y,w){var E,L=4;for(E=0;8>E;++E)L+=y[w+E-32];Oc(L>>3,y,w)}function $d(y,w){var E,L=4;for(E=0;8>E;++E)L+=y[w-1+32*E];Oc(L>>3,y,w)}function Fd(y,w){Oc(128,y,w)}function xl(y,w,E){var L=y[w-E],U=y[w+0],G=3*(U-L)+Z0[1020+y[w-2*E]-y[w+E]],Y=mp[112+(G+4>>3)];y[w-E]=ya[255+L+mp[112+(G+3>>3)]],y[w+0]=ya[255+U-Y]}function bl(y,w,E,L){var U=y[w+0],G=y[w+E];return Ha[255+y[w-2*E]-y[w-E]]>L||Ha[255+G-U]>L}function Bd(y,w,E,L){return 4*Ha[255+y[w-E]-y[w+0]]+Ha[255+y[w-2*E]-y[w+E]]<=L}function Tc(y,w,E,L,U){var G=y[w-3*E],Y=y[w-2*E],Z=y[w-E],J=y[w+0],ae=y[w+E],he=y[w+2*E],_e=y[w+3*E];return 4*Ha[255+Z-J]+Ha[255+Y-ae]>L?0:Ha[255+y[w-4*E]-G]<=U&&Ha[255+G-Y]<=U&&Ha[255+Y-Z]<=U&&Ha[255+_e-he]<=U&&Ha[255+he-ae]<=U&&Ha[255+ae-J]<=U}function qd(y,w,E,L){var U=2*L+1;for(L=0;16>L;++L)Bd(y,w+L,E,U)&&xl(y,w+L,E)}function wl(y,w,E,L){var U=2*L+1;for(L=0;16>L;++L)Bd(y,w+L*E,1,U)&&xl(y,w+L*E,1)}function Ud(y,w,E,L){var U;for(U=3;0<U;--U)qd(y,w+=4*E,E,L)}function zd(y,w,E,L){var U;for(U=3;0<U;--U)wl(y,w+=4,E,L)}function ga(y,w,E,L,U,G,Y,Z){for(G=2*G+1;0<U--;){if(Tc(y,w,E,G,Y))if(bl(y,w,E,Z))xl(y,w,E);else{var J=y,ae=w,he=E,_e=J[ae-2*he],ie=J[ae-he],me=J[ae+0],xe=J[ae+he],Se=J[ae+2*he],we=27*(Oe=Z0[1020+3*(me-ie)+Z0[1020+_e-xe]])+63>>7,ke=18*Oe+63>>7,Oe=9*Oe+63>>7;J[ae-3*he]=ya[255+J[ae-3*he]+Oe],J[ae-2*he]=ya[255+_e+ke],J[ae-he]=ya[255+ie+we],J[ae+0]=ya[255+me-we],J[ae+he]=ya[255+xe-ke],J[ae+2*he]=ya[255+Se-Oe]}w+=L}}function Vi(y,w,E,L,U,G,Y,Z){for(G=2*G+1;0<U--;){if(Tc(y,w,E,G,Y))if(bl(y,w,E,Z))xl(y,w,E);else{var J=y,ae=w,he=E,_e=J[ae-he],ie=J[ae+0],me=J[ae+he],xe=mp[112+(4+(Se=3*(ie-_e))>>3)],Se=mp[112+(Se+3>>3)],we=xe+1>>1;J[ae-2*he]=ya[255+J[ae-2*he]+we],J[ae-he]=ya[255+_e+Se],J[ae+0]=ya[255+ie-xe],J[ae+he]=ya[255+me-we]}w+=L}}function C(y,w,E,L,U,G){ga(y,w,E,1,16,L,U,G)}function z(y,w,E,L,U,G){ga(y,w,1,E,16,L,U,G)}function se(y,w,E,L,U,G){var Y;for(Y=3;0<Y;--Y)Vi(y,w+=4*E,E,1,16,L,U,G)}function ce(y,w,E,L,U,G){var Y;for(Y=3;0<Y;--Y)Vi(y,w+=4,1,E,16,L,U,G)}function ye(y,w,E,L,U,G,Y,Z){ga(y,w,U,1,8,G,Y,Z),ga(E,L,U,1,8,G,Y,Z)}function Ce(y,w,E,L,U,G,Y,Z){ga(y,w,1,U,8,G,Y,Z),ga(E,L,1,U,8,G,Y,Z)}function Ie(y,w,E,L,U,G,Y,Z){Vi(y,w+4*U,U,1,8,G,Y,Z),Vi(E,L+4*U,U,1,8,G,Y,Z)}function nt(y,w,E,L,U,G,Y,Z){Vi(y,w+4,1,U,8,G,Y,Z),Vi(E,L+4,1,U,8,G,Y,Z)}function ut(){this.ba=new ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ve,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rr(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new M}function Br(){this.xb=this.a=0,this.l=new Pc,this.ca=new ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rr,this.ab=0,this.gc=s(4,Dt),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fr(y,w,E,L,U,G,Y){for(y=y==null?0:y[w+0],w=0;w<Y;++w)U[G+w]=y+E[L+w]&255,y=U[G+w]}function un(y,w,E,L,U,G,Y){var Z;if(y==null)fr(null,null,E,L,U,G,Y);else for(Z=0;Z<Y;++Z)U[G+Z]=y[w+Z]+E[L+Z]&255}function on(y,w,E,L,U,G,Y){if(y==null)fr(null,null,E,L,U,G,Y);else{var Z,J=y[w+0],ae=J,he=J;for(Z=0;Z<Y;++Z)ae=he+(J=y[w+Z])-ae,he=E[L+Z]+(-256&ae?0>ae?0:255:ae)&255,ae=J,U[G+Z]=he}}function En(y,w,E,L){var U=w.width,G=w.o;if(e(y!=null&&w!=null),0>E||0>=L||E+L>G)return null;if(!y.Cc){if(y.ga==null){var Y;if(y.ga=new sn,(Y=y.ga==null)||(Y=w.width*w.o,e(y.Gb.length==0),y.Gb=i(Y),y.Uc=0,y.Gb==null?Y=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Y=1),Y=!Y),!Y){Y=y.ga;var Z=y.Fa,J=y.P,ae=y.qc,he=y.mb,_e=y.nb,ie=J+1,me=ae-1,xe=Y.l;if(e(Z!=null&&he!=null&&w!=null),jo[0]=null,jo[1]=fr,jo[2]=un,jo[3]=on,Y.ca=he,Y.tb=_e,Y.c=w.width,Y.i=w.height,e(0<Y.c&&0<Y.i),1>=ae)w=0;else if(Y.$a=3&Z[J+0],Y.Z=Z[J+0]>>2&3,Y.Lc=Z[J+0]>>4&3,J=Z[J+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||J)w=0;else if(xe.put=Ke,xe.ac=Hn,xe.bc=Ur,xe.ma=Y,xe.width=w.width,xe.height=w.height,xe.Da=w.Da,xe.v=w.v,xe.va=w.va,xe.j=w.j,xe.o=w.o,Y.$a)e:{e(Y.$a==1),w=fl();t:for(;;){if(w==null){w=0;break e}if(e(Y!=null),Y.mc=w,w.c=Y.c,w.i=Y.i,w.l=Y.l,w.l.ma=Y,w.l.width=Y.c,w.l.height=Y.i,w.a=0,ee(w.m,Z,ie,me),!Wi(Y.c,Y.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&ci(w.s)?(Y.ic=1,Z=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i(Z),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(Y.ic=0,w=hl(w,Y.c)),!w))break t;w=1;break e}Y.mc=null,w=0}else w=me>=Y.c*Y.i;Y=!w}if(Y)return null;y.ga.Lc!=1?y.Ga=0:L=G-E}e(y.ga!=null),e(E+L<=G);e:{if(w=(Z=y.ga).c,G=Z.l.o,Z.$a==0){if(ie=y.rc,me=y.Vc,xe=y.Fa,J=y.P+1+E*w,ae=y.mb,he=y.nb+E*w,e(J<=y.P+y.qc),Z.Z!=0)for(e(jo[Z.Z]!=null),Y=0;Y<L;++Y)jo[Z.Z](ie,me,xe,J,ae,he,w),ie=ae,me=he,he+=w,J+=w;else for(Y=0;Y<L;++Y)n(ae,he,xe,J,w),ie=ae,me=he,he+=w,J+=w;y.rc=ie,y.Vc=me}else{if(e(Z.mc!=null),w=E+L,e((Y=Z.mc)!=null),e(w<=Y.i),Y.C>=w)w=1;else if(Z.ic||_l(),Z.ic){Z=Y.V,ie=Y.Ba,me=Y.c;var Se=Y.i,we=(xe=1,J=Y.$/me,ae=Y.$%me,he=Y.m,_e=Y.s,Y.$),ke=me*Se,Oe=me*w,Le=_e.wc,Te=we<Oe?jn(_e,ae,J):null;e(we<=ke),e(w<=Se),e(ci(_e));t:for(;;){for(;!he.h&&we<Oe;){if(ae&Le||(Te=jn(_e,ae,J)),e(Te!=null),re(he),256>(Se=Cr(Te.G[0],Te.H[0],he)))Z[ie+we]=Se,++we,++ae>=me&&(ae=0,++J<=w&&!(J%16)&&ui(Y,J));else{if(!(280>Se)){xe=0;break t}Se=Ir(Se-256,he);var ft,Je=Cr(Te.G[4],Te.H[4],he);if(re(he),!(we>=(Je=Rr(me,Je=Ir(Je,he)))&&ke-we>=Se)){xe=0;break t}for(ft=0;ft<Se;++ft)Z[ie+we+ft]=Z[ie+we+ft-Je];for(we+=Se,ae+=Se;ae>=me;)ae-=me,++J<=w&&!(J%16)&&ui(Y,J);we<Oe&&ae&Le&&(Te=jn(_e,ae,J))}e(he.h==W(he))}ui(Y,J>w?w:J);break t}!xe||he.h&&we<ke?(xe=0,Y.a=he.h?5:3):Y.$=we,w=xe}else w=di(Y,Y.V,Y.Ba,Y.c,Y.i,w,Sc);if(!w){L=0;break e}}E+L>=G&&(y.Cc=1),L=1}if(!L)return null;if(y.Cc&&((L=y.ga)!=null&&(L.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+E*U}function Ss(y,w,E,L,U,G){for(;0<U--;){var Y,Z=y,J=w+(E?1:0),ae=y,he=w+(E?0:3);for(Y=0;Y<L;++Y){var _e=ae[he+4*Y];_e!=255&&(_e*=32897,Z[J+4*Y+0]=Z[J+4*Y+0]*_e>>23,Z[J+4*Y+1]=Z[J+4*Y+1]*_e>>23,Z[J+4*Y+2]=Z[J+4*Y+2]*_e>>23)}w+=G}}function vo(y,w,E,L,U){for(;0<L--;){var G;for(G=0;G<E;++G){var Y=y[w+2*G+0],Z=15&(ae=y[w+2*G+1]),J=4369*Z,ae=(240&ae|ae>>4)*J>>16;y[w+2*G+0]=(240&Y|Y>>4)*J>>16&240|(15&Y|Y<<4)*J>>16>>4&15,y[w+2*G+1]=240&ae|Z}w+=U}}function Y0(y,w,E,L,U,G,Y,Z){var J,ae,he=255;for(ae=0;ae<U;++ae){for(J=0;J<L;++J){var _e=y[w+J];G[Y+4*J]=_e,he&=_e}w+=E,Y+=Z}return he!=255}function fp(y,w,E,L,U){var G;for(G=0;G<U;++G)E[L+G]=y[w+G]>>8}function _l(){Jd=Ss,wS=vo,_S=Y0,jS=fp}function hi(y,w,E){T[y]=function(L,U,G,Y,Z,J,ae,he,_e,ie,me,xe,Se,we,ke,Oe,Le){var Te,ft=Le-1>>1,Je=Z[J+0]|ae[he+0]<<16,Bt=_e[ie+0]|me[xe+0]<<16;e(L!=null);var at=3*Je+Bt+131074>>2;for(w(L[U+0],255&at,at>>16,Se,we),G!=null&&(at=3*Bt+Je+131074>>2,w(G[Y+0],255&at,at>>16,ke,Oe)),Te=1;Te<=ft;++Te){var Gt=Z[J+Te]|ae[he+Te]<<16,fn=_e[ie+Te]|me[xe+Te]<<16,qt=Je+Gt+Bt+fn+524296,it=qt+2*(Gt+Bt)>>3;at=it+Je>>1,Je=(qt=qt+2*(Je+fn)>>3)+Gt>>1,w(L[U+2*Te-1],255&at,at>>16,Se,we+(2*Te-1)*E),w(L[U+2*Te-0],255&Je,Je>>16,Se,we+(2*Te-0)*E),G!=null&&(at=qt+Bt>>1,Je=it+fn>>1,w(G[Y+2*Te-1],255&at,at>>16,ke,Oe+(2*Te-1)*E),w(G[Y+2*Te+0],255&Je,Je>>16,ke,Oe+(2*Te+0)*E)),Je=Gt,Bt=fn}1&Le||(at=3*Je+Bt+131074>>2,w(L[U+Le-1],255&at,at>>16,Se,we+(Le-1)*E),G!=null&&(at=3*Bt+Je+131074>>2,w(G[Y+Le-1],255&at,at>>16,ke,Oe+(Le-1)*E)))}}function Wd(){Va[gp]=rB,Va[vp]=RS,Va[CS]=nB,Va[yp]=LS,Va[xp]=MS,Va[J0]=DS,Va[OS]=aB,Va[Q0]=RS,Va[ey]=LS,Va[bp]=MS,Va[ty]=DS}function Ic(y){return y&-16384?0>y?0:255:y>>iB}function yo(y,w){return Ic((19077*y>>8)+(26149*w>>8)-14234)}function Nn(y,w,E){return Ic((19077*y>>8)-(6419*w>>8)-(13320*E>>8)+8708)}function As(y,w){return Ic((19077*y>>8)+(33050*w>>8)-17685)}function ks(y,w,E,L,U){L[U+0]=yo(y,E),L[U+1]=Nn(y,w,E),L[U+2]=As(y,w)}function Rc(y,w,E,L,U){L[U+0]=As(y,w),L[U+1]=Nn(y,w,E),L[U+2]=yo(y,E)}function Hd(y,w,E,L,U){var G=Nn(y,w,E);w=G<<3&224|As(y,w)>>3,L[U+0]=248&yo(y,E)|G>>5,L[U+1]=w}function Vn(y,w,E,L,U){var G=240&As(y,w)|15;L[U+0]=240&yo(y,E)|Nn(y,w,E)>>4,L[U+1]=G}function hp(y,w,E,L,U){L[U+0]=255,ks(y,w,E,L,U+1)}function Lc(y,w,E,L,U){Rc(y,w,E,L,U),L[U+3]=255}function pp(y,w,E,L,U){ks(y,w,E,L,U),L[U+3]=255}function dn(y,w){return 0>y?0:y>w?w:y}function Wa(y,w,E){T[y]=function(L,U,G,Y,Z,J,ae,he,_e){for(var ie=he+(-2&_e)*E;he!=ie;)w(L[U+0],G[Y+0],Z[J+0],ae,he),w(L[U+1],G[Y+0],Z[J+0],ae,he+E),U+=2,++Y,++J,he+=2*E;1&_e&&w(L[U+0],G[Y+0],Z[J+0],ae,he)}}function Vd(y,w,E){return E==0?y==0?w==0?6:5:w==0?4:0:E}function Gd(y,w,E,L,U){switch(y>>>30){case 3:Zr(w,E,L,U,0);break;case 2:Cs(w,E,L,U);break;case 1:Zi(w,E,L,U)}}function xo(y,w){var E,L,U=w.M,G=w.Nb,Y=y.oc,Z=y.pc+40,J=y.oc,ae=y.pc+584,he=y.oc,_e=y.pc+600;for(E=0;16>E;++E)Y[Z+32*E-1]=129;for(E=0;8>E;++E)J[ae+32*E-1]=129,he[_e+32*E-1]=129;for(0<U?Y[Z-1-32]=J[ae-1-32]=he[_e-1-32]=129:(a(Y,Z-32-1,127,21),a(J,ae-32-1,127,9),a(he,_e-32-1,127,9)),L=0;L<y.za;++L){var ie=w.ya[w.aa+L];if(0<L){for(E=-1;16>E;++E)n(Y,Z+32*E-4,Y,Z+32*E+12,4);for(E=-1;8>E;++E)n(J,ae+32*E-4,J,ae+32*E+4,4),n(he,_e+32*E-4,he,_e+32*E+4,4)}var me=y.Gd,xe=y.Hd+L,Se=ie.ad,we=ie.Hc;if(0<U&&(n(Y,Z-32,me[xe].y,0,16),n(J,ae-32,me[xe].f,0,8),n(he,_e-32,me[xe].ea,0,8)),ie.Za){var ke=Y,Oe=Z-32+16;for(0<U&&(L>=y.za-1?a(ke,Oe,me[xe].y[15],4):n(ke,Oe,me[xe+1].y,0,4)),E=0;4>E;E++)ke[Oe+128+E]=ke[Oe+256+E]=ke[Oe+384+E]=ke[Oe+0+E];for(E=0;16>E;++E,we<<=2)ke=Y,Oe=Z+FS[E],pi[ie.Ob[E]](ke,Oe),Gd(we,Se,16*+E,ke,Oe)}else if(ke=Vd(L,U,ie.Ob[0]),_o[ke](Y,Z),we!=0)for(E=0;16>E;++E,we<<=2)Gd(we,Se,16*+E,Y,Z+FS[E]);for(E=ie.Gc,ke=Vd(L,U,ie.Dd),Os[ke](J,ae),Os[ke](he,_e),we=Se,ke=J,Oe=ae,255&(ie=0|E)&&(170&ie?Bc(we,256,ke,Oe):Zd(we,256,ke,Oe)),ie=he,we=_e,255&(E>>=8)&&(170&E?Bc(Se,320,ie,we):Zd(Se,320,ie,we)),U<y.Ub-1&&(n(me[xe].y,0,Y,Z+480,16),n(me[xe].f,0,J,ae+224,8),n(me[xe].ea,0,he,_e+224,8)),E=8*G*y.B,me=y.sa,xe=y.ta+16*L+16*G*y.R,Se=y.qa,ie=y.ra+8*L+E,we=y.Ha,ke=y.Ia+8*L+E,E=0;16>E;++E)n(me,xe+E*y.R,Y,Z+32*E,16);for(E=0;8>E;++E)n(Se,ie+E*y.B,J,ae+32*E,8),n(we,ke+E*y.B,he,_e+32*E,8)}}function Mc(y,w,E,L,U,G,Y,Z,J){var ae=[0],he=[0],_e=0,ie=J!=null?J.kd:0,me=J??new kt;if(y==null||12>E)return 7;me.data=y,me.w=w,me.ha=E,w=[w],E=[E],me.gb=[me.gb];e:{var xe=w,Se=E,we=me.gb;if(e(y!=null),e(Se!=null),e(we!=null),we[0]=0,12<=Se[0]&&!r(y,xe[0],"RIFF")){if(r(y,xe[0]+8,"WEBP")){we=3;break e}var ke=ge(y,xe[0]+4);if(12>ke||4294967286<ke){we=3;break e}if(ie&&ke>Se[0]-8){we=7;break e}we[0]=ke,xe[0]+=12,Se[0]-=12}we=0}if(we!=0)return we;for(ke=0<me.gb[0],E=E[0];;){e:{var Oe=y;Se=w,we=E;var Le=ae,Te=he,ft=xe=[0];if((at=_e=[_e])[0]=0,8>we[0])we=7;else{if(!r(Oe,Se[0],"VP8X")){if(ge(Oe,Se[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Je=ge(Oe,Se[0]+8),Bt=1+Ne(Oe,Se[0]+12);if(2147483648<=Bt*(Oe=1+Ne(Oe,Se[0]+15))){we=3;break e}ft!=null&&(ft[0]=Je),Le!=null&&(Le[0]=Bt),Te!=null&&(Te[0]=Oe),Se[0]+=18,we[0]-=18,at[0]=1}we=0}}if(_e=_e[0],xe=xe[0],we!=0)return we;if(Se=!!(2&xe),!ke&&_e)return 3;if(G!=null&&(G[0]=!!(16&xe)),Y!=null&&(Y[0]=Se),Z!=null&&(Z[0]=0),Y=ae[0],xe=he[0],_e&&Se&&J==null){we=0;break}if(4>E){we=7;break}if(ke&&_e||!ke&&!_e&&!r(y,w[0],"ALPH")){E=[E],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Je=y,we=w,ke=E;var at=me.gb;Le=me.na,Te=me.P,ft=me.Sa,Bt=22,e(Je!=null),e(ke!=null),Oe=we[0];var Gt=ke[0];for(e(Le!=null),e(ft!=null),Le[0]=null,Te[0]=null,ft[0]=0;;){if(we[0]=Oe,ke[0]=Gt,8>Gt){we=7;break e}var fn=ge(Je,Oe+4);if(4294967286<fn){we=3;break e}var qt=8+fn+1&-2;if(Bt+=qt,0<at&&Bt>at){we=3;break e}if(!r(Je,Oe,"VP8 ")||!r(Je,Oe,"VP8L")){we=0;break e}if(Gt[0]<qt){we=7;break e}r(Je,Oe,"ALPH")||(Le[0]=Je,Te[0]=Oe+8,ft[0]=fn),Oe+=qt,Gt-=qt}}if(E=E[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],we!=0)break}E=[E],me.Ja=[me.Ja],me.xa=[me.xa];e:if(at=y,we=w,ke=E,Le=me.gb[0],Te=me.Ja,ft=me.xa,Je=we[0],Oe=!r(at,Je,"VP8 "),Bt=!r(at,Je,"VP8L"),e(at!=null),e(ke!=null),e(Te!=null),e(ft!=null),8>ke[0])we=7;else{if(Oe||Bt){if(at=ge(at,Je+4),12<=Le&&at>Le-12){we=3;break e}if(ie&&at>ke[0]-8){we=7;break e}Te[0]=at,we[0]+=8,ke[0]-=8,ft[0]=Bt}else ft[0]=5<=ke[0]&&at[Je+0]==47&&!(at[Je+4]>>5),Te[0]=ke[0];we=0}if(E=E[0],me.Ja=me.Ja[0],me.xa=me.xa[0],w=w[0],we!=0)break;if(4294967286<me.Ja)return 3;if(Z==null||Se||(Z[0]=me.xa?2:1),Y=[Y],xe=[xe],me.xa){if(5>E){we=7;break}Z=Y,ie=xe,Se=G,y==null||5>E?y=0:5<=E&&y[w+0]==47&&!(y[w+4]>>5)?(ke=[0],at=[0],Le=[0],ee(Te=new H,y,w,E),na(Te,ke,at,Le)?(Z!=null&&(Z[0]=ke[0]),ie!=null&&(ie[0]=at[0]),Se!=null&&(Se[0]=Le[0]),y=1):y=0):y=0}else{if(10>E){we=7;break}Z=xe,y==null||10>E||!lp(y,w+3,E-3)?y=0:(ie=y[w+0]|y[w+1]<<8|y[w+2]<<16,Se=16383&(y[w+7]<<8|y[w+6]),y=16383&(y[w+9]<<8|y[w+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=me.Ja||!Se||!y?y=0:(Y&&(Y[0]=Se),Z&&(Z[0]=y),y=1))}if(!y||(Y=Y[0],xe=xe[0],_e&&(ae[0]!=Y||he[0]!=xe)))return 3;J!=null&&(J[0]=me,J.offset=w-J.w,e(4294967286>w-J.w),e(J.offset==J.ha-E));break}return we==0||we==7&&_e&&J==null?(G!=null&&(G[0]|=me.na!=null&&0<me.na.length),L!=null&&(L[0]=Y),U!=null&&(U[0]=xe),0):we}function aa(y,w,E){var L=w.width,U=w.height,G=0,Y=0,Z=L,J=U;if(w.Da=y!=null&&0<y.Da,w.Da&&(Z=y.cd,J=y.bd,G=y.v,Y=y.j,11>E||(G&=-2,Y&=-2),0>G||0>Y||0>=Z||0>=J||G+Z>L||Y+J>U))return 0;if(w.v=G,w.j=Y,w.va=G+Z,w.o=Y+J,w.U=Z,w.T=J,w.da=y!=null&&0<y.da,w.da){if(!ze(Z,J,E=[y.ib],G=[y.hb]))return 0;w.ib=E[0],w.hb=G[0]}return w.ob=y!=null&&y.ob,w.Kb=y==null||!y.Sd,w.da&&(w.ob=w.ib<3*L/4&&w.hb<3*U/4,w.Kb=0),1}function ia(y){if(y==null)return 2;if(11>y.S){var w=y.f.RGBA;w.fb+=(y.height-1)*w.A,w.A=-w.A}else w=y.f.kb,y=y.height,w.O+=(y-1)*w.fa,w.fa=-w.fa,w.N+=(y-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(y-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(y-1)*w.lb,w.lb=-w.lb);return 0}function jl(y,w,E,L){if(L==null||0>=y||0>=w)return 2;if(E!=null){if(E.Da){var U=E.cd,G=E.bd,Y=-2&E.v,Z=-2&E.j;if(0>Y||0>Z||0>=U||0>=G||Y+U>y||Z+G>w)return 2;y=U,w=G}if(E.da){if(!ze(y,w,U=[E.ib],G=[E.hb]))return 2;y=U[0],w=G[0]}}L.width=y,L.height=w;e:{var J=L.width,ae=L.height;if(y=L.S,0>=J||0>=ae||!(y>=gp&&13>y))y=2;else{if(0>=L.Rd&&L.sd==null){Y=G=U=w=0;var he=(Z=J*BS[y])*ae;if(11>y||(G=(ae+1)/2*(w=(J+1)/2),y==12&&(Y=(U=J)*ae)),(ae=i(he+2*G+Y))==null){y=1;break e}L.sd=ae,11>y?((J=L.f.RGBA).eb=ae,J.fb=0,J.A=Z,J.size=he):((J=L.f.kb).y=ae,J.O=0,J.fa=Z,J.Fd=he,J.f=ae,J.N=0+he,J.Ab=w,J.Cd=G,J.ea=ae,J.W=0+he+G,J.Db=w,J.Ed=G,y==12&&(J.F=ae,J.J=0+he+2*G),J.Tc=Y,J.lb=U)}if(w=1,U=L.S,G=L.width,Y=L.height,U>=gp&&13>U)if(11>U)y=L.f.RGBA,w&=(Z=Math.abs(y.A))*(Y-1)+G<=y.size,w&=Z>=G*BS[U],w&=y.eb!=null;else{y=L.f.kb,Z=(G+1)/2,he=(Y+1)/2,J=Math.abs(y.fa),ae=Math.abs(y.Ab);var _e=Math.abs(y.Db),ie=Math.abs(y.lb),me=ie*(Y-1)+G;w&=J*(Y-1)+G<=y.Fd,w&=ae*(he-1)+Z<=y.Cd,w=(w&=_e*(he-1)+Z<=y.Ed)&J>=G&ae>=Z&_e>=Z,w&=y.y!=null,w&=y.f!=null,w&=y.ea!=null,U==12&&(w&=ie>=G,w&=me<=y.Tc,w&=y.F!=null)}else w=0;y=w?0:2}}return y!=0||E!=null&&E.fd&&(y=ia(L)),y}var Gi=64,bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Kd=24,wo=32,Yr=8,X0=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(y){return y},T.Predictor2=function(y,w,E){return w[E+0]},T.Predictor3=function(y,w,E){return w[E+1]},T.Predictor4=function(y,w,E){return w[E-1]},T.Predictor5=function(y,w,E){return Re(Re(y,w[E+1]),w[E+0])},T.Predictor6=function(y,w,E){return Re(y,w[E-1])},T.Predictor7=function(y,w,E){return Re(y,w[E+0])},T.Predictor8=function(y,w,E){return Re(w[E-1],w[E+0])},T.Predictor9=function(y,w,E){return Re(w[E+0],w[E+1])},T.Predictor10=function(y,w,E){return Re(Re(y,w[E-1]),Re(w[E+0],w[E+1]))},T.Predictor11=function(y,w,E){var L=w[E+0];return 0>=Qe(L>>24&255,y>>24&255,(w=w[E-1])>>24&255)+Qe(L>>16&255,y>>16&255,w>>16&255)+Qe(L>>8&255,y>>8&255,w>>8&255)+Qe(255&L,255&y,255&w)?L:y},T.Predictor12=function(y,w,E){var L=w[E+0];return(lt((y>>24&255)+(L>>24&255)-((w=w[E-1])>>24&255))<<24|lt((y>>16&255)+(L>>16&255)-(w>>16&255))<<16|lt((y>>8&255)+(L>>8&255)-(w>>8&255))<<8|lt((255&y)+(255&L)-(255&w)))>>>0},T.Predictor13=function(y,w,E){var L=w[E-1];return(We((y=Re(y,w[E+0]))>>24&255,L>>24&255)<<24|We(y>>16&255,L>>16&255)<<16|We(y>>8&255,L>>8&255)<<8|We(255&y,255&L))>>>0};var Ki=T.PredictorAdd0;T.PredictorAdd1=mt,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var Yi=T.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Dc,Yd=T.ColorIndexInverseTransform,$c=T.MapARGB,Fc=T.VP8LColorIndexInverseTransformAlpha,Nl=T.MapAlpha,Sl=T.VP8LPredictorsAdd=[];Sl.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Ps,Xd,va,Xi,wr,_r,Xr,Zr,Cs,Bc,Zi,Zd,cS,uS,dS,fS,hS,pS,mS,gS,vS,yS,xS,bS,Jd,wS,_S,jS,NS=i(511),SS=i(2041),AS=i(225),kS=i(767),PS=0,Z0=SS,mp=AS,ya=kS,Ha=NS,gp=0,vp=1,CS=2,yp=3,xp=4,J0=5,OS=6,Q0=7,ey=8,bp=9,ty=10,UF=[2,3,7],zF=[3,3,11],ES=[280,256,256,256,40],WF=[0,1,1,1,0],HF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],GF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],KF=8,ry=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ny=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qd=null,YF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],XF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],TS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ZF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],QF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],eB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_o=[],pi=[],Os=[],tB=1,IS=2,jo=[],Va=[];hi("UpsampleRgbLinePair",ks,3),hi("UpsampleBgrLinePair",Rc,3),hi("UpsampleRgbaLinePair",pp,4),hi("UpsampleBgraLinePair",Lc,4),hi("UpsampleArgbLinePair",hp,4),hi("UpsampleRgba4444LinePair",Vn,2),hi("UpsampleRgb565LinePair",Hd,2);var rB=T.UpsampleRgbLinePair,nB=T.UpsampleBgrLinePair,RS=T.UpsampleRgbaLinePair,LS=T.UpsampleBgraLinePair,MS=T.UpsampleArgbLinePair,DS=T.UpsampleRgba4444LinePair,aB=T.UpsampleRgb565LinePair,wp=16,_p=1<<wp-1,ef=-227,ay=482,iB=6,$S=0,sB=i(256),oB=i(256),lB=i(256),cB=i(256),uB=i(ay-ef),dB=i(ay-ef);Wa("YuvToRgbRow",ks,3),Wa("YuvToBgrRow",Rc,3),Wa("YuvToRgbaRow",pp,4),Wa("YuvToBgraRow",Lc,4),Wa("YuvToArgbRow",hp,4),Wa("YuvToRgba4444Row",Vn,2),Wa("YuvToRgb565Row",Hd,2);var FS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jp=[0,2,8],fB=[8,7,6,4,4,2,2,2,1,1,1,1],hB=1;this.WebPDecodeRGBA=function(y,w,E,L,U){var G=vp,Y=new ut,Z=new ar;Y.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var J=Z.width,ae=Z.height,he=new St;if(he==null||y==null)var _e=2;else e(he!=null),_e=Mc(y,w,E,he.width,he.height,he.Pd,he.Qd,he.format,null);if(_e!=0?J=0:(J!=null&&(J[0]=he.width[0]),ae!=null&&(ae[0]=he.height[0]),J=1),J){Z.width=Z.width[0],Z.height=Z.height[0],L!=null&&(L[0]=Z.width),U!=null&&(U[0]=Z.height);e:{if(L=new Pc,(U=new kt).data=y,U.w=w,U.ha=E,U.kd=1,w=[0],e(U!=null),((y=Mc(U.data,U.w,U.ha,null,null,null,w,null,U))==0||y==7)&&w[0]&&(y=4),(w=y)==0){if(e(Y!=null),L.data=U.data,L.w=U.w+U.offset,L.ha=U.ha-U.offset,L.put=Ke,L.ac=Hn,L.bc=Ur,L.ma=Y,U.xa){if((y=fl())==null){Y=1;break e}if((function(ie,me){var xe=[0],Se=[0],we=[0];t:for(;;){if(ie==null)return 0;if(me==null)return ie.a=2,0;if(ie.l=me,ie.a=0,ee(ie.m,me.data,me.w,me.ha),!na(ie.m,xe,Se,we)){ie.a=3;break t}if(ie.xb=IS,me.width=xe[0],me.height=Se[0],!Wi(xe[0],Se[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(y,L)){if(L=(w=jl(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=y;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((E=L.l)!=null),e((U=E.ma)!=null),L.xb!=0){if(L.ca=U.ba,L.tb=U.tb,e(L.ca!=null),!aa(U.Oa,E,yp)){L.a=2;break r}if(!hl(L,E.width)||E.da)break r;if((E.da||xt(L.ca.S))&&_l(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&_l()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!te(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!di(L,L.V,L.Ba,L.c,L.i,E.o,po))break r;U.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(w=y.a)}else w=y.a}else{if((y=new R0)==null){Y=1;break e}if(y.Fa=U.na,y.P=U.P,y.qc=U.Sa,cp(y,L)){if((w=jl(L.width,L.height,Y.Oa,Y.ba))==0){if(y.Aa=0,E=Y.Oa,e((U=y)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(ae=he=0;4>ae;++ae)12>(_e=U.pb[ae]).lc&&(_e.ia=J*fB[0>_e.lc?0:_e.lc]>>3),he|=_e.ia;he&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=E.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ie,me){if(ie==null)return 0;if(me==null)return an(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!cp(ie,me))return 0;if(e(ie.cb),me.ac==null||me.ac(me)){me.ob&&(ie.L=0);var xe=jp[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=me.v-xe>>4,ie.zb=me.j-xe>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=me.o+15+xe>>4,ie.Hb=me.va+15+xe>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Se=ie.ed;for(xe=0;4>xe;++xe){var we;if(ie.Qa.Cb){var ke=ie.Qa.Lb[xe];ie.Qa.Fb||(ke+=Se.Tb)}else ke=Se.Tb;for(we=0;1>=we;++we){var Oe=ie.gd[xe][we],Le=ke;if(Se.Pc&&(Le+=Se.vd[0],we&&(Le+=Se.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Te=Le;0<Se.wb&&(Te=4<Se.wb?Te>>2:Te>>1)>9-Se.wb&&(Te=9-Se.wb),1>Te&&(Te=1),Oe.dd=Te,Oe.tc=2*Le+Te,Oe.ld=40<=Le?2:15<=Le?1:0}else Oe.tc=0;Oe.La=we}}}xe=0}else an(ie,6,"Frame setup failed"),xe=ie.a;if(xe=xe==0){if(xe){ie.$c=0,0<ie.Aa||(ie.Ic=hB);t:{xe=ie.Ic,Se=4*(Te=ie.za);var ft=32*Te,Je=Te+1,Bt=0<ie.L?Te*(0<ie.Aa?2:1):0,at=(ie.Aa==2?2:1)*Te;if((Oe=Se+832+(we=3*(16*xe+jp[ie.L])/2*ft)+(ke=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Oe)xe=0;else{if(Oe>ie.Vb){if(ie.Vb=0,ie.Ec=i(Oe),ie.Fc=0,ie.Ec==null){xe=an(ie,1,"no memory during frame initialization.");break t}ie.Vb=Oe}Oe=ie.Ec,Le=ie.Fc,ie.Ac=Oe,ie.Bc=Le,Le+=Se,ie.Gd=s(ft,sp),ie.Hd=0,ie.rb=s(Je+1,Ed),ie.sb=1,ie.wa=Bt?s(Bt,za):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Te),e(!0),ie.oc=Oe,ie.pc=Le,Le+=832,ie.ya=s(at,Td),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Te),ie.R=16*Te,ie.B=8*Te,Te=(ft=jp[ie.L])*ie.R,ft=ft/2*ie.B,ie.sa=Oe,ie.ta=Le+Te,ie.qa=ie.sa,ie.ra=ie.ta+16*xe*ie.R+ft,ie.Ha=ie.qa,ie.Ia=ie.ra+8*xe*ie.B+ft,ie.$c=0,Le+=we,ie.mb=ke?Oe:null,ie.nb=ke?Le:null,e(Le+ke<=ie.Fc+ie.Vb),pl(ie),a(ie.Ac,ie.Bc,0,Se),xe=1}}if(xe){if(me.ka=0,me.y=ie.sa,me.O=ie.ta,me.f=ie.qa,me.N=ie.ra,me.ea=ie.Ha,me.Vd=ie.Ia,me.fa=ie.R,me.Rc=ie.B,me.F=null,me.J=0,!PS){for(xe=-255;255>=xe;++xe)NS[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)SS[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)AS[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)kS[255+xe]=0>xe?0:255<xe?255:xe;PS=1}Xr=dp,Zr=M0,Bc=D0,Zi=Hi,Zd=up,Cs=L0,cS=C,uS=z,dS=ye,fS=Ce,hS=se,pS=ce,mS=Ie,gS=nt,vS=qd,yS=wl,xS=Ud,bS=zd,pi[0]=W0,pi[1]=Rd,pi[2]=U0,pi[3]=z0,pi[4]=H0,pi[5]=Ns,pi[6]=js,pi[7]=V0,pi[8]=Cc,pi[9]=G0,_o[0]=go,_o[1]=F0,_o[2]=B0,_o[3]=Ld,_o[4]=q0,_o[5]=vl,_o[6]=Md,Os[0]=Ec,Os[1]=$0,Os[2]=Dd,Os[3]=yl,Os[4]=$d,Os[5]=K0,Os[6]=Fd,xe=1}else xe=0}xe&&(xe=(function(Gt,fn){for(Gt.M=0;Gt.M<Gt.Va;++Gt.M){var qt,it=Gt.Jc[Gt.M&Gt.Xb],He=Gt.m,Jr=Gt;for(qt=0;qt<Jr.za;++qt){var Lt=He,Kt=Jr,Or=Kt.Ac,Tn=Kt.Bc+4*qt,Gn=Kt.zc,zr=Kt.ya[Kt.aa+qt];if(Kt.Qa.Bb?zr.$b=de(Lt,Kt.Pa.jb[0])?2+de(Lt,Kt.Pa.jb[2]):de(Lt,Kt.Pa.jb[1]):zr.$b=0,Kt.kc&&(zr.Ad=de(Lt,Kt.Bd)),zr.Za=!de(Lt,145)+0,zr.Za){var Dn=zr.Ob,Kn=0;for(Kt=0;4>Kt;++Kt){var hn,Jt=Gn[0+Kt];for(hn=0;4>hn;++hn){Jt=JF[Or[Tn+hn]][Jt];for(var or=TS[de(Lt,Jt[0])];0<or;)or=TS[2*or+de(Lt,Jt[or])];Jt=-or,Or[Tn+hn]=Jt}n(Dn,Kn,Or,Tn,4),Kn+=4,Gn[0+Kt]=Jt}}else Jt=de(Lt,156)?de(Lt,128)?1:3:de(Lt,163)?2:0,zr.Ob[0]=Jt,a(Or,Tn,Jt,4),a(Gn,0,Jt,4);zr.Dd=de(Lt,142)?de(Lt,114)?de(Lt,183)?1:3:2:0}if(Jr.m.Ka)return an(Gt,7,"Premature end-of-partition0 encountered.");for(;Gt.ja<Gt.za;++Gt.ja){if(Jr=it,Lt=(He=Gt).rb[He.sb-1],Or=He.rb[He.sb+He.ja],qt=He.ya[He.aa+He.ja],Tn=He.kc?qt.Ad:0)Lt.la=Or.la=0,qt.Za||(Lt.Na=Or.Na=0),qt.Hc=0,qt.Gc=0,qt.ia=0;else{var Wr,lr;if(Lt=Or,Or=Jr,Tn=He.Pa.Xc,Gn=He.ya[He.aa+He.ja],zr=He.pb[Gn.$b],Kt=Gn.ad,Dn=0,Kn=He.rb[He.sb-1],Jt=hn=0,a(Kt,Dn,0,384),Gn.Za)var In=0,mi=Tn[3];else{or=i(16);var Qr=Lt.Na+Kn.Na;if(Qr=Qd(Or,Tn[1],Qr,zr.Eb,0,or,0),Lt.Na=Kn.Na=(0<Qr)+0,1<Qr)Xr(or,0,Kt,Dn);else{var sa=or[0]+3>>3;for(or=0;256>or;or+=16)Kt[Dn+or]=sa}In=1,mi=Tn[0]}var pr=15&Lt.la,pn=15&Kn.la;for(or=0;4>or;++or){var xa=1&pn;for(sa=lr=0;4>sa;++sa)pr=pr>>1|(xa=(Qr=Qd(Or,mi,Qr=xa+(1&pr),zr.Sc,In,Kt,Dn))>In)<<7,lr=lr<<2|(3<Qr?3:1<Qr?2:Kt[Dn+0]!=0),Dn+=16;pr>>=4,pn=pn>>1|xa<<7,hn=(hn<<8|lr)>>>0}for(mi=pr,In=pn>>4,Wr=0;4>Wr;Wr+=2){for(lr=0,pr=Lt.la>>4+Wr,pn=Kn.la>>4+Wr,or=0;2>or;++or){for(xa=1&pn,sa=0;2>sa;++sa)Qr=xa+(1&pr),pr=pr>>1|(xa=0<(Qr=Qd(Or,Tn[2],Qr,zr.Qc,0,Kt,Dn)))<<3,lr=lr<<2|(3<Qr?3:1<Qr?2:Kt[Dn+0]!=0),Dn+=16;pr>>=2,pn=pn>>1|xa<<5}Jt|=lr<<4*Wr,mi|=pr<<4<<Wr,In|=(240&pn)<<Wr}Lt.la=mi,Kn.la=In,Gn.Hc=hn,Gn.Gc=Jt,Gn.ia=43690&Jt?0:zr.ia,Tn=!(hn|Jt)}if(0<He.L&&(He.wa[He.Y+He.ja]=He.gd[qt.$b][qt.Za],He.wa[He.Y+He.ja].La|=!Tn),Jr.Ka)return an(Gt,7,"Premature end-of-file encountered.")}if(pl(Gt),He=fn,Jr=1,qt=(it=Gt).D,Lt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(qt.M=it.M,qt.uc=Lt,xo(it,qt),Jr=1,qt=(lr=it.D).Nb,Lt=(Jt=jp[it.L])*it.R,Or=Jt/2*it.B,or=16*qt*it.R,sa=8*qt*it.B,Tn=it.sa,Gn=it.ta-Lt+or,zr=it.qa,Kt=it.ra-Or+sa,Dn=it.Ha,Kn=it.Ia-Or+sa,pn=(pr=lr.M)==0,hn=pr>=it.Va-1,it.Aa==2&&xo(it,lr),lr.uc)for(xa=(Qr=it).D.M,e(Qr.D.uc),lr=Qr.yb;lr<Qr.Hb;++lr){In=lr,mi=xa;var Yn=(ba=(Rn=Qr).D).Nb;Wr=Rn.R;var ba=ba.wa[ba.Y+In],wa=Rn.sa,oa=Rn.ta+16*Yn*Wr+16*In,_a=ba.dd,jr=ba.tc;if(jr!=0)if(e(3<=jr),Rn.L==1)0<In&&yS(wa,oa,Wr,jr+4),ba.La&&bS(wa,oa,Wr,jr),0<mi&&vS(wa,oa,Wr,jr+4),ba.La&&xS(wa,oa,Wr,jr);else{var ja=Rn.B,gi=Rn.qa,Al=Rn.ra+8*Yn*ja+8*In,Es=Rn.Ha,Rn=Rn.Ia+8*Yn*ja+8*In;Yn=ba.ld,0<In&&(uS(wa,oa,Wr,jr+4,_a,Yn),fS(gi,Al,Es,Rn,ja,jr+4,_a,Yn)),ba.La&&(pS(wa,oa,Wr,jr,_a,Yn),gS(gi,Al,Es,Rn,ja,jr,_a,Yn)),0<mi&&(cS(wa,oa,Wr,jr+4,_a,Yn),dS(gi,Al,Es,Rn,ja,jr+4,_a,Yn)),ba.La&&(hS(wa,oa,Wr,jr,_a,Yn),mS(gi,Al,Es,Rn,ja,jr,_a,Yn))}}if(it.ia&&alert("todo:DitherRow"),He.put!=null){if(lr=16*pr,pr=16*(pr+1),pn?(He.y=it.sa,He.O=it.ta+or,He.f=it.qa,He.N=it.ra+sa,He.ea=it.Ha,He.W=it.Ia+sa):(lr-=Jt,He.y=Tn,He.O=Gn,He.f=zr,He.N=Kt,He.ea=Dn,He.W=Kn),hn||(pr-=Jt),pr>He.o&&(pr=He.o),He.F=null,He.J=null,it.Fa!=null&&0<it.Fa.length&&lr<pr&&(He.J=En(it,He,lr,pr-lr),He.F=it.mb,He.F==null&&He.F.length==0)){Jr=an(it,3,"Could not decode alpha data.");break t}lr<He.j&&(Jt=He.j-lr,lr=He.j,e(!(1&Jt)),He.O+=it.R*Jt,He.N+=it.B*(Jt>>1),He.W+=it.B*(Jt>>1),He.F!=null&&(He.J+=He.width*Jt)),lr<pr&&(He.O+=He.v,He.N+=He.v>>1,He.W+=He.v>>1,He.F!=null&&(He.J+=He.v),He.ka=lr-He.j,He.U=He.va-He.v,He.T=pr-lr,Jr=He.put(He))}qt+1!=it.Ic||hn||(n(it.sa,it.ta-Lt,Tn,Gn+16*it.R,Lt),n(it.qa,it.ra-Or,zr,Kt+8*it.B,Or),n(it.Ha,it.Ia-Or,Dn,Kn+8*it.B,Or))}if(!Jr)return an(Gt,6,"Output aborted.")}return 1})(ie,me)),me.bc!=null&&me.bc(me),xe&=1}return xe?(ie.cb=0,xe):0})(y,L)||(w=y.a)}}else w=y.a}w==0&&Y.Oa!=null&&Y.Oa.fd&&(w=ia(Y.ba))}Y=w}G=Y!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var BS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,R){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(T[R++]);return P}function d(T,R){return T[R+0]|T[R+1]<<8}function f(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16)>>>0}function p(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16|T[R+3]<<24)>>>0}new c;var h=[0],g=[0],m=[],v=new c,x=t,j=(function(T,R){var P={},I=0,M=!1,D=0,K=0;if(P.frames=[],!(function(B,H){for(var V=0;V<4;V++)if(B[H+V]!="RIFF".charCodeAt(V))return!0;return!1})(T,R)){for(p(T,R+=4),R+=8;R<T.length;){var $=u(T,R),q=p(T,R+=4);R+=4;var F=q+(1&q);switch($){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(ue=P.frames[I]).src_off=M?K:R-8,ue.src_size=D+q+8,I++,M&&(M=!1,D=0,K=0);break;case"VP8X":(ue=P.header={}).feature_flags=T[R];var ee=R+4;ue.canvas_width=1+f(T,ee),ee+=3,ue.canvas_height=1+f(T,ee),ee+=3;break;case"ALPH":M=!0,D=F+8,K=R-8;break;case"ANIM":(ue=P.header).bgcolor=p(T,R),ee=R+4,ue.loop_count=d(T,ee),ee+=2;break;case"ANMF":var fe,ue;(ue=P.frames[I]={}).offset_x=2*f(T,R),R+=3,ue.offset_y=2*f(T,R),R+=3,ue.width=1+f(T,R),R+=3,ue.height=1+f(T,R),R+=3,ue.duration=f(T,R),R+=3,fe=T[R++],ue.dispose=1&fe,ue.blend=fe>>1&1}$!="ANMF"&&(R+=F)}return P}})(x,0);j.response=x,j.rgbaoutput=!0,j.dataurl=!1;var b=j.header?j.header:null,_=j.frames?j.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],g=[b.canvas_width];for(var S=0;S<_.length&&_[S].blend!=0;S++);}var A=_[0],k=v.WebPDecodeRGBA(x,A.src_off,A.src_size,g,h);A.rgba=k,A.imgwidth=g[0],A.imgheight=h[0];for(var O=0;O<g[0]*h[0]*4;O++)m[O]=k[O];return this.width=g,this.height=h,this.data=m,this}(function(t){var e,r,n,a,i,s,l,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=B;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ge){V=!!ge}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(ge){W=!!ge}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ge){isNaN(ge)||(Q=ge)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(ge){isNaN(ge)||(re=ge)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ge){var te;typeof ge=="number"?te=[ge,ge,ge,ge]:((te=new Array(4))[0]=ge[0],te[1]=ge.length>=2?ge[1]:te[0],te[2]=ge.length>=3?ge[2]:te[0],te[3]=ge.length>=4?ge[3]:te[1]),u.margin=te}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(ge){oe=ge}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(ge){ne=ge}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(ge){de=ge}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ge){ge instanceof d&&(u=ge)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ge){u.path=ge}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(ge){pe=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var te;te=p(ge),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var te=p(ge);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var le=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(ge){le=null,Ne=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var te;if(this.ctx.font=ge,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var qe=te[1];te[2];var Ue=te[3],ze=te[4];te[5];var Pe=te[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(Xe==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Be=(function(vt){var dt,Yt,Xt=[],st=vt.trim();if(st==="")return tx;if(st in rk)return[rk[st]];for(;st!=="";){switch(Yt=null,dt=(st=ak(st)).charAt(0)){case'"':case"'":Yt=DX(st.substring(1),dt);break;default:Yt=$X(st)}if(Yt===null||(Xt.push(Yt[0]),(st=ak(Yt[1]))!==""&&st.charAt(0)!==","))return tx;st=st.replace(/^,/,"")}return Xt})(Pe);if(this.fontFaces){var ve=(function(vt,dt){if(le===null){var Yt=(function(Xt){var st=[];return Object.keys(Xt).forEach(function(Ot){Xt[Ot].forEach(function(nr){var yt=null;switch(nr){case"bold":yt={family:Ot,weight:"bold"};break;case"italic":yt={family:Ot,style:"italic"};break;case"bolditalic":yt={family:Ot,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:Ot}}yt!==null&&(yt.ref={name:Ot,style:nr},st.push(yt))})}),st})(vt.getFontList());le=(function(Xt){for(var st={},Ot=0;Ot<Xt.length;++Ot){var nr=ex(Xt[Ot]),yt=nr.family,zt=nr.stretch,xt=nr.style,$r=nr.weight;st[yt]=st[yt]||{},st[yt][zt]=st[yt][zt]||{},st[yt][zt][xt]=st[yt][zt][xt]||{},st[yt][zt][xt][$r]=nr}return st})(Yt.concat(dt))}return le})(this.pdf,this.fontFaces),Re=Be.map(function(vt){return{family:vt,stretch:"normal",weight:Ue,style:qe}}),lt=(function(vt,dt,Yt){for(var Xt=(Yt=Yt||{}).defaultFontFamily||"times",st=Object.assign({},MX,Yt.genericFontFamilies||{}),Ot=null,nr=null,yt=0;yt<dt.length;++yt)if(st[(Ot=ex(dt[yt])).family]&&(Ot.family=st[Ot.family]),vt.hasOwnProperty(Ot.family)){nr=vt[Ot.family];break}if(!(nr=nr||vt[Xt]))throw new Error("Could not find a font-family for the rule '"+nk(Ot)+"' and default family '"+Xt+"'.");if(nr=(function(zt,xt){if(xt[zt])return xt[zt];var $r=Y2[zt],Gr=$r<=Y2.normal?-1:1,ar=tk(xt,VR,$r,Gr);if(!ar)throw new Error("Could not find a matching font-stretch value for "+zt);return ar})(Ot.stretch,nr),nr=(function(zt,xt){if(xt[zt])return xt[zt];for(var $r=HR[zt],Gr=0;Gr<$r.length;++Gr)if(xt[$r[Gr]])return xt[$r[Gr]];throw new Error("Could not find a matching font-style for "+zt)})(Ot.style,nr),!(nr=(function(zt,xt){if(xt[zt])return xt[zt];if(zt===400&&xt[500])return xt[500];if(zt===500&&xt[400])return xt[400];var $r=LX[zt],Gr=tk(xt,GR,$r,zt<400?-1:1);if(!Gr)throw new Error("Could not find a matching font-weight for value "+zt);return Gr})(Ot.weight,nr)))throw new Error("Failed to resolve a font for the rule '"+nk(Ot)+"'.");return nr})(ve,Re);this.pdf.setFont(lt.ref.name,lt.ref.style)}else{var We="";(Ue==="bold"||parseInt(Ue,10)>=700||qe==="bold")&&(We="bold"),qe==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var Qe="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Be.length;gt++){if(this.pdf.internal.getFont(Be[gt],We,{noFallback:!0,disableWarning:!0})!==void 0){Qe=Be[gt];break}if(We==="bolditalic"&&this.pdf.internal.getFont(Be[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=Be[gt],We="bold";else if(this.pdf.internal.getFont(Be[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=Be[gt],We="normal";break}}if(Qe===""){for(var ct=0;ct<Be.length;ct++)if(mt[Be[ct]]){Qe=mt[Be[ct]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,H){if(isNaN(B)||isNaN(H))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(B,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(B,H)},f.prototype.closePath=function(){var B=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ur(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){B=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.lineTo=function(B,H){if(isNaN(B)||isNaN(H))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(B,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,H,V,W){if(isNaN(V)||isNaN(W)||isNaN(B)||isNaN(H))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(V,W)),re=this.ctx.transform.applyToPoint(new s(B,H));this.path.push({type:"qct",x1:re.x,y1:re.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(B,H,V,W,Q,re){if(isNaN(Q)||isNaN(re)||isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new s(Q,re)),ne=this.ctx.transform.applyToPoint(new s(B,H)),de=this.ctx.transform.applyToPoint(new s(V,W));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:de.x,y2:de.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},f.prototype.arc=function(B,H,V,W,Q,re){if(isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W)||isNaN(Q))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new s(B,H));B=oe.x,H=oe.y;var ne=this.ctx.transform.applyToPoint(new s(0,V)),de=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(ne.x-de.x,2)+Math.pow(ne.y-de.y,2))}Math.abs(Q-W)>=2*Math.PI&&(W=0,Q=2*Math.PI),this.path.push({type:"arc",x:B,y:H,radius:V,startAngle:W,endAngle:Q,counterclockwise:re})},f.prototype.arcTo=function(B,H,V,W,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,H,V,W){if(isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,H),this.lineTo(B+V,H),this.lineTo(B+V,H+W),this.lineTo(B,H+W),this.lineTo(B,H),this.lineTo(B+V,H),this.lineTo(B,H)},f.prototype.fillRect=function(B,H,V,W){if(isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,H,V,W),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(B,H,V,W){if(isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(B,H,V,W),this.stroke())},f.prototype.clearRect=function(B,H,V,W){if(isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,H,V,W))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(B){var H,V,W,Q;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))H=0,V=0,W=0,Q=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(re!==null)H=parseInt(re[1]),V=parseInt(re[2]),W=parseInt(re[3]),Q=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)H=parseInt(re[1]),V=parseInt(re[2]),W=parseInt(re[3]),Q=parseFloat(re[4]);else{if(Q=1,typeof B=="string"&&B.charAt(0)!=="#"){var oe=new $R(B);B=oe.ok?oe.toHex():"#000000"}B.length===4?(H=B.substring(1,2),H+=H,V=B.substring(2,3),V+=V,W=B.substring(3,4),W+=W):(H=B.substring(1,3),V=B.substring(3,5),W=B.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),W=parseInt(W,16)}}return{r:H,g:V,b:W,a:Q,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,H,V,W){if(isNaN(H)||isNaN(V)||typeof B!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!h.call(this)){var Q=F(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;I.call(this,{text:B,x:H,y:V,scale:re,angle:Q,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(B,H,V,W){if(isNaN(H)||isNaN(V)||typeof B!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){W=isNaN(W)?void 0:W;var Q=F(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;I.call(this,{text:B,x:H,y:V,scale:re,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(B){if(typeof B!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,W=H.internal.getFontSize(),Q=H.getStringUnitWidth(B)*W/H.internal.scaleFactor;return new function(re){var oe=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:Q*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(B,H){if(isNaN(B)||isNaN(H))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(B,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(B){if(isNaN(B))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(B,H){if(isNaN(B)||isNaN(H))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,B,H);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(B,H,V,W,Q,re){if(isNaN(B)||isNaN(H)||isNaN(V)||isNaN(W)||isNaN(Q)||isNaN(re))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(B,H,V,W,Q,re);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(B,H,V,W,Q,re){B=isNaN(B)?1:B,H=isNaN(H)?0:H,V=isNaN(V)?0:V,W=isNaN(W)?1:W,Q=isNaN(Q)?0:Q,re=isNaN(re)?0:re,this.ctx.transform=new c(B,H,V,W,Q,re)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,H,V,W,Q,re,oe,ne,de){var pe=this.pdf.getImageProperties(B),le=1,Ne=1,ge=1,te=1;W!==void 0&&ne!==void 0&&(ge=ne/W,te=de/Q,le=pe.width/W*ne/W,Ne=pe.height/Q*de/Q),re===void 0&&(re=H,oe=V,H=0,V=0),W!==void 0&&ne===void 0&&(ne=W,de=Q),W===void 0&&ne===void 0&&(ne=pe.width,de=pe.height);for(var qe,Ue=this.ctx.transform.decompose(),ze=F(Ue.rotate.shx),Pe=new c,Xe=(Pe=(Pe=(Pe=Pe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new l(re-H*ge,oe-V*te,W*le,Q*Ne)),Be=v.call(this,Xe),ve=[],Re=0;Re<Be.length;Re+=1)ve.indexOf(Be[Re])===-1&&ve.push(Be[Re]);if(b(ve),this.autoPaging)for(var lt=ve[0],We=ve[ve.length-1],Qe=lt;Qe<We+1;Qe++){this.pdf.setPage(Qe);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Qe===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Qe===1?0:ct+(Qe-2)*vt;if(this.ctx.clip_path.length!==0){var Yt=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(qe,this.posX+this.margin[3],-dt+gt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Yt}var Xt=JSON.parse(JSON.stringify(Xe));Xt=j([Xt],this.posX+this.margin[3],-dt+gt+this.ctx.prevPageLastElemOffset)[0];var st=(Qe>lt||Qe<We)&&m.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,vt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,ze),st&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,ze)};var v=function(B,H,V){var W=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":W.push(Math.floor((B.y+Q)/V)+1);break;case"arc":W.push(Math.floor((B.y+Q-B.radius)/V)+1),W.push(Math.floor((B.y+Q+B.radius)/V)+1);break;case"qct":var re=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);W.push(Math.floor((re.y+Q)/V)+1),W.push(Math.floor((re.y+re.h+Q)/V)+1);break;case"bct":var oe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);W.push(Math.floor((oe.y+Q)/V)+1),W.push(Math.floor((oe.y+oe.h+Q)/V)+1);break;case"rect":W.push(Math.floor((B.y+Q)/V)+1),W.push(Math.floor((B.y+B.h+Q)/V)+1)}for(var ne=0;ne<W.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<W[ne];)x.call(this);return W},x=function(){var B=this.fillStyle,H=this.strokeStyle,V=this.font,W=this.lineCap,Q=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=H,this.font=V,this.lineCap=W,this.lineWidth=Q,this.lineJoin=re},j=function(B,H,V){for(var W=0;W<B.length;W++)switch(B[W].type){case"bct":B[W].x2+=H,B[W].y2+=V;case"qct":B[W].x1+=H,B[W].y1+=V;default:B[W].x+=H,B[W].y+=V}return B},b=function(B){return B.sort(function(H,V){return H-V})},_=function(B,H){for(var V,W,Q=this.fillStyle,re=this.strokeStyle,oe=this.lineCap,ne=this.lineWidth,de=Math.abs(ne*this.ctx.transform.scaleX),pe=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),ge=[],te=0;te<Ne.length;te++)if(Ne[te].x!==void 0)for(var qe=v.call(this,Ne[te]),Ue=0;Ue<qe.length;Ue+=1)ge.indexOf(qe[Ue])===-1&&ge.push(qe[Ue]);for(var ze=0;ze<ge.length;ze++)for(;this.pdf.internal.getNumberOfPages()<ge[ze];)x.call(this);if(b(ge),this.autoPaging)for(var Pe=ge[0],Xe=ge[ge.length-1],Be=Pe;Be<Xe+1;Be++){this.pdf.setPage(Be),this.fillStyle=Q,this.strokeStyle=re,this.lineCap=oe,this.lineWidth=de,this.lineJoin=pe;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Be===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Be===1?0:lt+(Be-2)*We;if(this.ctx.clip_path.length!==0){var mt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(V,this.posX+this.margin[3],-Qe+Re+this.ctx.prevPageLastElemOffset),S.call(this,B,!0),this.path=mt}if(W=JSON.parse(JSON.stringify(le)),this.path=j(W,this.posX+this.margin[3],-Qe+Re+this.ctx.prevPageLastElemOffset),H===!1||Be===0){var gt=(Be>Pe||Be<Xe)&&m.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,We,null).clip().discardPath()),S.call(this,B,H),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=de,S.call(this,B,H),this.lineWidth=ne;this.path=le},S=function(B,H){if((B!=="stroke"||H||!g.call(this))&&(B==="stroke"||H||!h.call(this))){for(var V,W,Q=[],re=this.path,oe=0;oe<re.length;oe++){var ne=re[oe];switch(ne.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ne,deltas:[],abs:[]});break;case"lt":var de=Q.length;if(re[oe-1]&&!isNaN(re[oe-1].x)&&(V=[ne.x-re[oe-1].x,ne.y-re[oe-1].y],de>0)){for(;de>=0;de--)if(Q[de-1].close!==!0&&Q[de-1].begin!==!0){Q[de-1].deltas.push(V),Q[de-1].abs.push(ne);break}}break;case"bct":V=[ne.x1-re[oe-1].x,ne.y1-re[oe-1].y,ne.x2-re[oe-1].x,ne.y2-re[oe-1].y,ne.x-re[oe-1].x,ne.y-re[oe-1].y],Q[Q.length-1].deltas.push(V);break;case"qct":var pe=re[oe-1].x+2/3*(ne.x1-re[oe-1].x),le=re[oe-1].y+2/3*(ne.y1-re[oe-1].y),Ne=ne.x+2/3*(ne.x1-ne.x),ge=ne.y+2/3*(ne.y1-ne.y),te=ne.x,qe=ne.y;V=[pe-re[oe-1].x,le-re[oe-1].y,Ne-re[oe-1].x,ge-re[oe-1].y,te-re[oe-1].x,qe-re[oe-1].y],Q[Q.length-1].deltas.push(V);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ne)}}W=H?null:B==="stroke"?"stroke":"fill";for(var Ue=!1,ze=0;ze<Q.length;ze++)if(Q[ze].arc)for(var Pe=Q[ze].abs,Xe=0;Xe<Pe.length;Xe++){var Be=Pe[Xe];Be.type==="arc"?O.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,H,!Ue):M.call(this,Be.x,Be.y),Ue=!0}else if(Q[ze].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(Q[ze].begin!==!0){var ve=Q[ze].start.x,Re=Q[ze].start.y;D.call(this,Q[ze].deltas,ve,Re),Ue=!0}W&&T.call(this,W),H&&R.call(this)}},A=function(B){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-V;case"top":return B+H-V;case"hanging":return B+H-2*V;case"middle":return B+H/2-V;default:return B}},k=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(H,V){this.colorStops.push([H,V])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(B,H,V,W,Q,re,oe,ne,de){for(var pe=$.call(this,V,W,Q,re),le=0;le<pe.length;le++){var Ne=pe[le];le===0&&(de?P.call(this,Ne.x1+B,Ne.y1+H):M.call(this,Ne.x1+B,Ne.y1+H)),K.call(this,B,H,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ne?R.call(this):T.call(this,oe)},T=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,H){this.pdf.internal.out(r(B)+" "+n(H)+" m")},I=function(B){var H;switch(B.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var V=this.pdf.getTextDimensions(B.text),W=A.call(this,B.y),Q=k.call(this,W)-V.h,re=this.ctx.transform.applyToPoint(new s(B.x,W)),oe=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var de,pe,le,Ne=this.ctx.transform.applyToRectangle(new l(B.x,W,V.w,V.h)),ge=ne.applyToRectangle(new l(B.x,Q,V.w,V.h)),te=v.call(this,ge),qe=[],Ue=0;Ue<te.length;Ue+=1)qe.indexOf(te[Ue])===-1&&qe.push(te[Ue]);if(b(qe),this.autoPaging)for(var ze=qe[0],Pe=qe[qe.length-1],Xe=ze;Xe<Pe+1;Xe++){this.pdf.setPage(Xe);var Be=Xe===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],lt=Re-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],Qe=We-this.margin[3],mt=Xe===1?0:ve+(Xe-2)*lt;if(this.ctx.clip_path.length!==0){var gt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(de,this.posX+this.margin[3],-1*mt+Be),S.call(this,"fill",!0),this.path=gt}var ct=j([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-mt+Be+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*B.scale),le=this.lineWidth,this.lineWidth=le*B.scale);var vt=this.autoPaging!=="text";if(vt||ct.y+ct.h<=Re){if(vt||ct.y>=Be&&ct.x<=We){var dt=vt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||We-ct.x)[0],Yt=j([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-mt+Be+this.ctx.prevPageLastElemOffset)[0],Xt=vt&&(Xe>ze||Xe<Pe)&&m.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,lt,null).clip().discardPath()),this.pdf.text(dt,Yt.x,Yt.y,{angle:B.angle,align:H,renderingMode:B.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else ct.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-ct.y);B.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=le)}else B.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*B.scale),le=this.lineWidth,this.lineWidth=le*B.scale),this.pdf.text(B.text,re.x+this.posX,re.y+this.posY,{angle:B.angle,align:H,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=le)},M=function(B,H,V,W){V=V||0,W=W||0,this.pdf.internal.out(r(B+V)+" "+n(H+W)+" l")},D=function(B,H,V){return this.pdf.lines(B,H,V,null,null)},K=function(B,H,V,W,Q,re,oe,ne){this.pdf.internal.out([e(a(V+B)),e(i(W+H)),e(a(Q+B)),e(i(re+H)),e(a(oe+B)),e(i(ne+H)),"c"].join(" "))},$=function(B,H,V,W){for(var Q=2*Math.PI,re=Math.PI/2;H>V;)H-=Q;var oe=Math.abs(V-H);oe<Q&&W&&(oe=Q-oe);for(var ne=[],de=W?-1:1,pe=H;oe>1e-5;){var le=pe+de*Math.min(oe,re);ne.push(q.call(this,B,pe,le)),oe-=Math.abs(le-pe),pe=le}return ne},q=function(B,H,V){var W=(V-H)/2,Q=B*Math.cos(W),re=B*Math.sin(W),oe=Q,ne=-re,de=oe*oe+ne*ne,pe=de+oe*Q+ne*re,le=4/3*(Math.sqrt(2*de*pe)-pe)/(oe*re-ne*Q),Ne=oe-le*ne,ge=ne+le*oe,te=Ne,qe=-ge,Ue=W+H,ze=Math.cos(Ue),Pe=Math.sin(Ue);return{x1:B*Math.cos(H),y1:B*Math.sin(H),x2:Ne*ze-ge*Pe,y2:Ne*Pe+ge*ze,x3:te*ze-qe*Pe,y3:te*Pe+qe*ze,x4:B*Math.cos(V),y4:B*Math.sin(V)}},F=function(B){return 180*B/Math.PI},ee=function(B,H,V,W,Q,re){var oe=B+.5*(V-B),ne=H+.5*(W-H),de=Q+.5*(V-Q),pe=re+.5*(W-re),le=Math.min(B,Q,oe,de),Ne=Math.max(B,Q,oe,de),ge=Math.min(H,re,ne,pe),te=Math.max(H,re,ne,pe);return new l(le,ge,Ne-le,te-ge)},fe=function(B,H,V,W,Q,re,oe,ne){var de,pe,le,Ne,ge,te,qe,Ue,ze,Pe,Xe,Be,ve,Re,lt=V-B,We=W-H,Qe=Q-V,mt=re-W,gt=oe-Q,ct=ne-re;for(pe=0;pe<41;pe++)ze=(qe=(le=B+(de=pe/40)*lt)+de*((ge=V+de*Qe)-le))+de*(ge+de*(Q+de*gt-ge)-qe),Pe=(Ue=(Ne=H+de*We)+de*((te=W+de*mt)-Ne))+de*(te+de*(re+de*ct-te)-Ue),pe==0?(Xe=ze,Be=Pe,ve=ze,Re=Pe):(Xe=Math.min(Xe,ze),Be=Math.min(Be,Pe),ve=Math.max(ve,ze),Re=Math.max(Re,Pe));return new l(Math.round(Xe),Math.round(Be),Math.round(ve-Xe),Math.round(Re-Be))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,H,V=(B=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(ht.API),(function(t){var e=function(s){var l,c,u,d,f,p,h,g,m,v;for(c=[],u=0,d=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(p+33,h+33,g+33,m+33,v+33)):c.push(122);return(function(x,j){for(var b=j;b>0;b--)x.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var l,c,u,d,f,p=String,h="length",g=255,m="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(s+=l="uuuuu"[v](s[h]%5||5))[h];f>d;d+=5)c=52200625*(s[m](d)-33)+614125*(s[m](d+1)-33)+7225*(s[m](d+2)-33)+85*(s[m](d+3)-33)+(s[m](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(j,b){for(var _=b;_>0;_--)j.pop()})(u,l[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},i=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return(l=U2(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,l){var c=0,u=s||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(ht.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var m=g.length,v=[],x=String.fromCharCode;for(p=0;p<m;p+=1)v.push(x(255&g.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,s)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(ht.API),(function(t){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):Qa(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):Qa(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=ur(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],m=g.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var u=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(f,l,c);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(l,c,u){if(ur(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,m=0,v=0;if(h.hasOwnProperty(p))m=h[p][1]/f,v=h[p][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>m&&(g=v,v=m,m=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(ex):null;var u=new s(c);return c.worker?u:u.from(l).doCallback()}})(ht.API),ht.API.addJS=function(t){return sk=t,this.internal.events.subscribe("postPutResources",function(){em=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(em+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ik=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){em!==void 0&&ik!==void 0&&this.internal.out("/Names <</JavaScript "+em+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(ht.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(ht.API),ht.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=wX(t,{checkCrc:!0}),s=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(k){for(var O=k.width,T=k.height,R=k.data,P=k.palette,I=k.depth,M=!1,D=[],K=[],$=void 0,q=!1,F=0,ee=0;ee<P.length;ee++){var fe=u4(P[ee],4),ue=fe[0],B=fe[1],H=fe[2],V=fe[3];D.push(ue,B,H),V!=null&&(V===0?(F++,K.length<1&&K.push(ee)):V<255&&(q=!0))}if(q||F>1){M=!0,K=void 0;var W=O*T;$=new Uint8Array(W);for(var Q=new DataView(R.buffer),re=0;re<W;re++){var oe=rx(Q,re,I),ne=u4(P[oe],4)[3];$[re]=ne}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:R,alphaBytes:$,needSMask:M,palette:D,mask:K}})(i):c===2||c===4?(function(k){for(var O=k.data,T=k.width,R=k.height,P=k.channels,I=k.depth,M=P===2?"DeviceGray":"DeviceRGB",D=P-1,K=T*R,$=D,q=K*$,F=1*K,ee=Math.ceil(q*I/8),fe=Math.ceil(F*I/8),ue=new Uint8Array(ee),B=new Uint8Array(fe),H=new DataView(O.buffer),V=new DataView(ue.buffer),W=new DataView(B.buffer),Q=!1,re=0;re<K;re++){for(var oe=re*P,ne=0;ne<$;ne++)mk(V,rx(H,oe+ne,I),re*$+ne,I);var de=rx(H,oe+$,I);de<(1<<I)-1&&(Q=!0),mk(W,de,1*re,I)}return{colorSpace:M,colorsPerPixel:D,colorBytes:ue,alphaBytes:B,needSMask:Q}})(i):(function(k){var O=k.data,T=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:O instanceof Uint8Array?O:new Uint8Array(O.buffer),needSMask:!1}})(i);var f,p,h,g=a,m=g.colorSpace,v=g.colorsPerPixel,x=g.colorBytes,j=g.alphaBytes,b=g.needSMask,_=g.palette,S=g.mask,A=null;return n!==ht.API.image_compression.NONE&&typeof U2=="function"?(A=(function(k){var O;switch(k){case ht.API.image_compression.FAST:O=11;break;case ht.API.image_compression.MEDIUM:O=13;break;case ht.API.image_compression.SLOW:O=14;break;default:O=12}return O})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(A," "),t=uk(x,s*v,v,n),b&&(h=uk(j,s,1,n))):(f=void 0,p="",t=x,b&&(h=j)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:S,palette:_,sMask:h,predictor:A,width:s,height:l,bitsPerComponent:d,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new UX(e),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},d=new nx(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(ht.API),vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){mr.log("bit decode error:"+r)}},vi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},vi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},vi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},vi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},vi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},vi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},vi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},vi.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new vi(e,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new nx(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ht.API),vk.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new vk(e),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new nx(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ht.API),ht.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=p,s[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},au=ht.API,tm=au.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,m=l[0]||c,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=f&&ur(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((l[n]||m)/c+p)),g=n;return v},ok=au.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return au.processArabic&&(t=au.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:tm.apply(this,arguments).reduce(function(i,s){return i+s},0)},lk=function(t,e,r,n){for(var a=[],i=0,s=t.length,l=0;i!==s&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==s;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},ck=function(t,e,r){r||(r={});var n,a,i,s,l,c,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,m=t.split(" "),v=tm.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),j=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?j=j.concat(_.map(function(S,A){return(A&&S.length?`
`:"")+S})):j.push(_[0])}),m=j,c=ok.apply(this,[x,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),p+h+(g=(a=tm.apply(this,[n,r])).reduce(function(_,S){return _+S},0))>e||b){if(g>e){for(l=lk.apply(this,[n,a,e-(p+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,S){return _+S},0)}else d=[n];f.push(d),p=g+c,h=v}else d.push(n),p+=h+g,h=v}return u=c?function(_,S){return(S?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},au.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(ck.apply(this,[n[l],s,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var h,g,m,v,x=["{"];for(var j in p){if(h=p[j],isNaN(parseInt(j,10))?g="'"+j+"'":(j=parseInt(j,10),g=(g=s(j).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+a[m.slice(-1)];else{if(ur(h)!=="object")throw new Error("Don't know what to do with value type "+ur(h)+".");m=l(h)}x.push(g+m)}return x.push("}"),x.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,x={},j=1,b=x,_=[],S="",A="",k=p.length-1,O=1;O<k;O+=1)(v=p[O])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([b,m]),b={},m=void 0):v=="}"?((g=_.pop())[0][g[1]]=b,m=void 0,b=g[0]):v=="-"?j=-1:m===void 0?n.hasOwnProperty(v)?(S+=n[v],m=parseInt(S,16)*j,j=1,S=""):S+=v:n.hasOwnProperty(v)?(A+=n[v],b[m]=parseInt(A,16)*j,j=1,m=void 0,A=""):A+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(ht.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(_m(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(ht),ht.API.addSvgAsImage=function(t,e,r,n,a,i,s,l){if(isNaN(e)||isNaN(r))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Pt.canvg?Promise.resolve(Pt.canvg):Qa(()=>import("./index.es-fUxVDWIV.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,s,l)})},ht.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ht.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,f=0;function p(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(ur(t)==="object"){for(a in t)if(i=t[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(ht.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(l=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var s,l,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)s=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gu(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+gu(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+gu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+gu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+gu(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",x=0,j="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(j=l,m=h,Array.isArray(l)&&(j=l[0]),x=0;x<j.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[j[x].charCodeAt(0)]),s||j[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=j[x]:v+="";var _="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?_=p(v,m).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(_=r(v,g[m])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])})(ht),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ht.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,b=0;this.__bidiEngine__={};var _=function(P){var I=P.charCodeAt(),M=I>>8,D=m[M];return D!==void 0?f[256*D+(255&I)]:M===252||M===253?"AL":x.test(M)?"L":M===8?"R":"N"},S=function(P){for(var I,M=0;M<P.length;M++){if((I=_(P.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},A=function(P,I,M,D){var K,$,q,F,ee=I[D];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(ee="AN");break;case"AL":j=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":D<1||D+1>=I.length||(K=M[D-1])!=="EN"&&K!=="AN"||($=I[D+1])!=="EN"&&$!=="AN"?ee="N":j&&($="AN"),ee=$===K?$:"N";break;case"ES":ee=(K=D>0?M[D-1]:"B")==="EN"&&D+1<I.length&&I[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&M[D-1]==="EN"){ee="EN";break}if(j){ee="N";break}for(q=D+1,F=I.length;q<F&&I[q]==="ET";)q++;ee=q<F&&I[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(F=I.length,q=D+1;q<F&&I[q]==="NSM";)q++;if(q<F){var fe=P[D],ue=fe>=1425&&fe<=2303||fe===64286;if(K=I[q],ue&&(K==="R"||K==="AL")){ee="R";break}}}ee=D<1||(K=I[D-1])==="B"?"N":M[D-1];break;case"B":j=!1,a=!0,ee=b;break;case"S":i=!0,ee="N"}return ee},k=function(P,I,M){var D=P.split("");return M&&O(D,M,{hiLevel:b}),D.reverse(),I&&I.reverse(),D.join("")},O=function(P,I,M){var D,K,$,q,F,ee=-1,fe=P.length,ue=0,B=[],H=b?h:p,V=[];for(j=!1,a=!1,i=!1,K=0;K<fe;K++)V[K]=_(P[K]);for($=0;$<fe;$++){if(F=ue,B[$]=A(P,V,B,$),D=240&(ue=H[F][g[B[$]]]),ue&=15,I[$]=q=H[ue][5],D>0)if(D===16){for(K=ee;K<$;K++)I[K]=1;ee=-1}else ee=-1;if(H[ue][6])ee===-1&&(ee=$);else if(ee>-1){for(K=ee;K<$;K++)I[K]=q;ee=-1}V[$]==="B"&&(I[$]=0),M.hiLevel|=q}i&&(function(W,Q,re){for(var oe=0;oe<re;oe++)if(W[oe]==="S"){Q[oe]=b;for(var ne=oe-1;ne>=0&&W[ne]==="WS";ne--)Q[ne]=b}})(V,I,fe)},T=function(P,I,M,D,K){if(!(K.hiLevel<P)){if(P===1&&b===1&&!a)return I.reverse(),void(M&&M.reverse());for(var $,q,F,ee,fe=I.length,ue=0;ue<fe;){if(D[ue]>=P){for(F=ue+1;F<fe&&D[F]>=P;)F++;for(ee=ue,q=F-1;ee<q;ee++,q--)$=I[ee],I[ee]=I[q],I[q]=$,M&&($=M[ee],M[ee]=M[q],M[q]=$);ue=F}ue++}}},R=function(P,I,M){var D=P.split(""),K={hiLevel:b};return M||(M=[]),O(D,M,K),(function($,q,F){if(F.hiLevel!==0&&d)for(var ee,fe=0;fe<$.length;fe++)q[fe]===1&&(ee=v.indexOf($[fe]))>=0&&($[fe]=v[ee+1])})(D,M,K),T(2,D,I,M,K),T(1,D,I,M,K),D.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,M){if((function(K,$){if($)for(var q=0;q<K.length;q++)$[q]=q;l===void 0&&(l=S(K)),u===void 0&&(u=S(K))})(P,I),s||!c||u)if(s&&c&&l^u)b=l?1:0,P=k(P,I,M);else if(!s&&c&&u)b=l?1:0,P=R(P,I,M),P=k(P,I);else if(!s||l||c||u){if(s&&!c&&l^u)P=k(P,I),l?(b=0,P=R(P,I,M)):(b=1,P=R(P,I,M),P=k(P,I));else if(s&&l&&!c&&u)b=1,P=R(P,I,M),P=k(P,I);else if(!s&&!c&&l^u){var D=d;l?(b=1,P=R(P,I,M),b=0,d=!1,P=R(P,I,M),d=D):(b=0,P=R(P,I,M),P=k(P,I),b=1,d=!1,P=R(P,I,M),d=D,P=k(P,I))}}else b=0,P=R(P,I,M);else b=l?1:0,P=R(P,I,M);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(ht),ht.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Zo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new nZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new zX(this.contents),this.head=new HX(this),this.name=new XX(this),this.cmap=new YR(this),this.toUnicode={},this.hhea=new VX(this),this.maxp=new ZX(this),this.hmtx=new JX(this),this.post=new KX(this),this.os2=new GX(this),this.loca=new rZ(this),this.glyf=new QX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,l;for(s=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Bi,Zo=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),zX=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,l,c,u,d,f,p,h,g,m;for(m in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),s=Math.floor(f/c),d=16*h-f,(a=new Zo).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*h,u=a.pos+i,l=null,g=[],r)for(p=r[m],a.writeString(m),a.writeInt(t(p)),a.writeInt(u),a.writeInt(p.length),g=g.concat(p),m==="head"&&(l=u),u+=p.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=XR.call(r);r.length%4;)r.push(0);for(i=new Zo(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),WX={}.hasOwnProperty,gs=function(t,e){for(var r in e)WX.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Bi=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var HX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Zo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),yk=(function(){function t(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,i=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),e.pos+=2,m=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),u=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),d=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var _,S;for(S=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)S.push(e.readUInt16());return S})(),c=x=0,b=i.length;x<b;c=++x)for(v=i[c],n=j=g=m[c];g<=v?j<=v:j>=v;n=g<=v?++j:--j)d[c]===0?s=n+u[c]:(s=l[d[c]/2+(n-g)-(p-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,b,_,S,A,k,O,T,R,P,I,M,D,K,$,q,F,ee,fe,ue,B,H,V,W,Q,re,oe,ne,de,pe,le;switch(D=new Zo,s=Object.keys(e).sort(function(Ne,ge){return Ne-ge}),r){case"macroman":for(m=0,v=(function(){var Ne=[];for(g=0;g<256;++g)Ne.push(0);return Ne})(),j={0:0},i={},K=0,ee=s.length;K<ee;K++)j[ne=e[a=s[K]]]==null&&(j[ne]=++m),i[a]={old:e[a],new:j[e[a]]},v[a]=j[e[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:i,subtable:D.data,maxGlyphID:m+1};case"unicode":for(I=[],f=[],b=0,j={},n={},x=u=null,$=0,fe=s.length;$<fe;$++)j[S=e[a=s[$]]]==null&&(j[S]=++b),n[a]={old:S,new:j[S]},l=j[S]-a,x!=null&&l===u||(x&&f.push(x),I.push(a),u=l),x=a;for(x&&f.push(x),f.push(65535),I.push(65535),R=2*(T=I.length),O=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(O/2)/Math.LN2,k=2*T-O,c=[],A=[],h=[],g=q=0,ue=I.length;q<ue;g=++q){if(P=I[g],d=f[g],P===65535){c.push(0),A.push(0);break}if(P-(M=n[P].new)>=32768)for(c.push(0),A.push(2*(h.length+T-g)),a=F=P;P<=d?F<=d:F>=d;a=P<=d?++F:--F)h.push(n[a].new);else c.push(M-P),A.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*T+2*h.length),D.writeUInt16(0),D.writeUInt16(R),D.writeUInt16(O),D.writeUInt16(p),D.writeUInt16(k),re=0,B=f.length;re<B;re++)a=f[re],D.writeUInt16(a);for(D.writeUInt16(0),oe=0,H=I.length;oe<H;oe++)a=I[oe],D.writeUInt16(a);for(de=0,V=c.length;de<V;de++)l=c[de],D.writeUInt16(l);for(pe=0,W=A.length;pe<W;pe++)_=A[pe],D.writeUInt16(_);for(le=0,Q=h.length;le<Q;le++)m=h[le],D.writeUInt16(m);return{charMap:n,subtable:D.data,maxGlyphID:b+1}}},t})(),YR=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new yk(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=yk.encode(e,r),(a=new Zo).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),VX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),GX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),KX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,l,c;for(c=[],i=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;i=0<=l?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t})(),YX=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},XX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,s,l,c,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,u=e.readString(a.length),s=new YX(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),ZX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),JX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,s,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),XR=[].slice,QX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,s,l,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(l=new Zo(r.read(a))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=s===-1?new tZ(l,u,f,c,d):new eZ(l,s,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,s,l,c;for(s=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},t})(),eZ=(function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),tZ=(function(){function t(e,r,n,a,i){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Zo(XR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),rZ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gs(t,Bi),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),nZ=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,l,c,u,d,f,p,h,g,m,v,x;for(a in n=YR.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return d=(function(j){var b,_;for(b in _={},j)_[j[b]]=b;return _})(h),f=Object.keys(d).sort(function(j,b){return j-b}),m=(function(){var j,b,_;for(_=[],j=0,b=f.length;j<b;j++)l=f[j],_.push(d[l]);return _})(),i=this.font.glyf.encode(s,m,h),u=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();ht.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e})();const ql=t=>typeof t!="number"||isNaN(t)?"R0.00":new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),ZR=async t=>{try{const e=new ht,r={background:[40,44,52],primary:[255,255,255],secondary:[156,163,175],accent:[239,68,68],accent2:[59,130,246],cardBg:[55,65,81],border:[75,85,99],success:[34,197,94],warning:[251,191,36]};e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F");let n=25;e.setFillColor(229,62,132),e.rect(0,0,210,35,"F"),e.setFillColor(219,39,119),e.rect(0,25,210,10,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("ROSÉMAMA",20,20),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Premium Fashion & Lifestyle",20,30),n=50,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.text("📍 New Rd, Carlswald, Midrand, 1684",20,n),e.text("📞 +27 63 470 8046",20,n+5),e.text("✉️ info@rosemama.store",20,n+10),n+=25;const a=(u,d,f,p)=>{e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(u,d,f,p,"F"),e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.setLineWidth(.5),e.rect(u,d,f,p)};a(20,n,85,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Invoice Details",25,n+8),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]);let i=n+16;e.text("Invoice Number:",25,i),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`INV-${t.order_id.slice(-8).toUpperCase()}`,25,i+4),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Order ID:",25,i+12),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${t.order_id.slice(-12)}`,25,i+16),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Invoice Date:",25,i+24),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${new Date(t.order_date).toLocaleDateString()}`,25,i+28);const l={pending:r.warning,processing:r.accent2,shipped:r.accent2,delivered:r.success,cancelled:r.accent}[t.status]||r.secondary;if(e.setFillColor(l[0],l[1],l[2]),e.rect(67,i+32,25,8,"F"),e.setTextColor(255,255,255),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(t.status.toUpperCase(),69,i+37),a(110,n,80,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Bill To",115,n+8),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(t.customer_name,115,n+18),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text(t.customer_email,115,n+25),t.shipping_address&&(e.text(t.shipping_address.address,115,n+32),e.text(`${t.shipping_address.city}, ${t.shipping_address.state}`,115,n+37),e.text(`${t.shipping_address.zipCode} ${t.shipping_address.country}`,115,n+42)),n+=60,t.order_items&&t.order_items.length>0){e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Order Items",20,n),n+=15,e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(20,n-5,170,12,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.setFont("helvetica","bold"),e.text("ITEM",25,n),e.text("QTY",125,n,{align:"center"}),e.text("PRICE",150,n,{align:"center"}),e.text("TOTAL",180,n,{align:"right"}),n+=12,e.setFont("helvetica","normal"),t.order_items.forEach((f,p)=>{var g,m;p%2===0&&(e.setFillColor(45,55,72),e.rect(20,n-3,170,14,"F")),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9);const h=(((g=f.products)==null?void 0:g.name)||"Unknown Product").substring(0,30);e.text(h,25,n+3),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(7),e.text(((m=f.products)==null?void 0:m.category)||"N/A",25,n+8),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.text(f.quantity.toString(),125,n+3,{align:"center"}),e.text(ql(f.price_at_purchase),150,n+3,{align:"center"}),e.text(ql(f.quantity*f.price_at_purchase),180,n+3,{align:"right"}),n+=14,n>250&&(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20)}),n+=10,a(110,n,80,35),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9);let u=n+10;e.text("Subtotal:",115,u),e.text(ql(vj(t)),185,u,{align:"right"}),u+=8,e.text("Shipping:",115,u),e.text(ql(150),185,u,{align:"right"}),u+=8,e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.line(115,u,185,u),u+=8,e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("TOTAL:",115,u),e.setTextColor(r.accent[0],r.accent[1],r.accent[2]),e.text(ql(t.amount),185,u,{align:"right"}),n+=45,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal");const d=t.payment_method==="cash-on-delivery"?"💰 Cash on Delivery":t.payment_method==="bank-transfer"?"🏦 Bank Transfer":t.payment_method==="credit-card"?"💳 Credit Card":"Payment Method Not Specified";e.text(`Payment Method: ${d}`,20,n)}n>250?(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20):n=270,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Thank you for shopping with Rosémama! We appreciate your business.",20,n),e.setFontSize(8),e.text("For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046",20,n+6);const c=`INV-${t.order_id.slice(-8).toUpperCase()}`;e.save(`${c}.pdf`)}catch(e){throw console.error("Error generating PDF:",e),new Error("Failed to generate PDF invoice. Please try again.")}},vj=t=>t.order_items?t.order_items.reduce((e,r)=>e+r.quantity*r.price_at_purchase,0):t.amount,Uo=t=>ql(t),aZ=t=>({pending:"rgb(251, 191, 36)",processing:"rgb(59, 130, 246)",shipped:"rgb(168, 85, 247)",delivered:"rgb(34, 197, 94)",cancelled:"rgb(239, 68, 68)"})[t.toLowerCase()]||"rgb(107, 114, 128)",iZ=t=>({pending:[251,191,36],processing:[59,130,246],shipped:[168,85,247],delivered:[34,197,94],cancelled:[239,68,68]})[t.toLowerCase()]||[107,114,128],JR=async t=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)throw new Error("Please allow popups for this site to print invoices.");const r=`
      <div style="max-width: 800px; margin: 0 auto; padding: 15px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; min-height: 100vh; display: flex; flex-direction: column;">
        <!-- Main Content Area -->
        <div style="flex: 1;">
          <!-- Compact Header with Gradient -->
          <div style="text-align: center; margin-bottom: 25px;">
            <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); margin-bottom: 15px;">
              <h1 style="font-size: 28px; font-weight: bold; color: white; margin: 0 0 5px 0; letter-spacing: 1px;">ROSÉMAMA</h1>
              <p style="font-size: 14px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
            </div>
            
            <!-- Contact Information with Icons -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; font-size: 12px;">
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">&bull;</span>
                <span>New Rd, Carlswald, Midrand, 1684</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1);">
                <span style="margin-right: 6px; font-weight: bold;">Tel:</span>
                <span>+27 63 470 8046</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">@</span>
                <span>info@rosemama.store</span>
              </div>
            </div>
          </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 30px; margin-bottom: 40px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Invoice Details</h2>
            <div style="space-y: 12px;">
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 8px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${iZ(t.status)}; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Bill To</h2>
            <div style="space-y: 8px;">
              <p style="margin: 8px 0; font-weight: bold; color: white; font-size: 16px;">${t.customer_name}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.address}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.country}</p>
                <p style="margin: 8px 0; color: rgba(244, 63, 94, 1);"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>

        <!-- Order Items Table -->
        <div style="background: rgb(55, 65, 81); border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
                <th style="padding: 10px 12px; text-align: left; color: white; font-weight: 600; font-size: 12px;">ITEM</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">QTY</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">PRICE</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">TOTAL</th>
              </tr>
            </thead>
            <tbody>
              ${t.order_items&&t.order_items.length>0?t.order_items.map((n,a)=>{var i,s;return`
                  <tr style="background: ${a%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 10px 12px;">
                      <div>
                        <div style="font-weight: 600; color: white; font-size: 13px;">${((i=n.products)==null?void 0:i.name)||"Unknown Product"}</div>
                        <div style="font-size: 11px; color: rgba(255, 255, 255, 0.6); margin-top: 2px;">${((s=n.products)==null?void 0:s.category)||"N/A"}</div>
                      </div>
                    </td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500; font-size: 13px;">${n.quantity}</td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-size: 13px;">${Uo(n.price_at_purchase)}</td>
                    <td style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 13px;">${Uo(n.quantity*n.price_at_purchase)}</td>
                  </tr>
                `}).join(""):'<tr><td colspan="4" style="padding: 15px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
            </tbody>
          </table>
        </div>

        <!-- Payment and Totals Section -->
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 10px 0; color: rgb(244, 63, 94);">Payment Method</h3>
            <p style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <div style="space-y: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Subtotal:</span>
                <span>${Uo(vj(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 12px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 16px; color: white;">
                <span>Total:</span>
                <span style="color: rgb(244, 63, 94);">${Uo(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sticky Footer -->
        <div style="margin-top: auto; text-align: center; border-top: 1px solid rgba(244, 63, 94, 0.3); padding-top: 15px; flex-shrink: 0;">
          <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 8px; font-size: 13px; font-weight: 500;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 11px; color: rgba(255, 255, 255, 0.6);">
            For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
          </p>
        </div>
      </div>
    `;e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>INV-${t.order_id.slice(-8).toUpperCase()}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            @media print {
              body { 
                margin: 0 !important; 
                background: rgb(40, 44, 52) !important; 
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
                print-color-adjust: exact;
              }
              .no-print { display: none; }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              @page {
                margin: 0 !important;
                size: A4;
              }
            }
            body { 
              font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              background: rgb(40, 44, 52) !important;
              color: rgb(255, 255, 255) !important;
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
              print-color-adjust: exact;
              font-size: 14px;
              line-height: 1.5;
            }
            .invoice-container { 
              max-width: 800px; 
              margin: 0 auto; 
              padding: 15px; 
            }
            /* Ensure all text is properly encoded and rendered */
            * {
              font-feature-settings: "kern" 1, "liga" 1;
              text-rendering: optimizeLegibility;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
            }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            ${r}
          </div>
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 1000);
            }
          <\/script>
        </body>
      </html>
    `),e.document.close()}catch(e){throw console.error("Error printing invoice:",e),e}},QR=async t=>{const e=`
    <div style="max-width: 800px; margin: 0 auto; padding: 30px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3); display: flex; flex-direction: column; min-height: 70vh;">
      <!-- Modern Header with Gradient -->
      <div style="text-align: center; margin-bottom: 40px;">
        <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 30px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); margin-bottom: 25px;">
          <h1 style="font-size: 48px; font-weight: bold; color: white; margin: 0 0 10px 0; letter-spacing: 2px;">ROSÉMAMA</h1>
          <p style="font-size: 22px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
          <div style="width: 80px; height: 4px; background: white; margin: 15px auto 0; border-radius: 2px;"></div>
        </div>
        
        <!-- Contact Information with Icons -->
        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">&bull;</span>
            <span>New Rd, Carlswald, Midrand, 1684</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">Tel:</span>
            <span>+27 63 470 8046</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">@</span>
            <span>info@rosemama.store</span>
          </div>
        </div>
      </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: left;">Invoice Details</h2>
            <div style="space-y: 8px; text-align: left;">
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 4px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${aZ(t.status)}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: right;">Bill To</h2>
            <div style="space-y: 6px; text-align: right;">
              <p style="margin: 4px 0; font-weight: bold; color: white; font-size: 14px;">${t.customer_name}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.address}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.country}</p>
                <p style="margin: 4px 0; color: rgba(244, 63, 94, 1); font-size: 13px;"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>      <!-- Order Items Table -->
      <div style="background: rgb(55, 65, 81); border-radius: 12px; overflow: hidden; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
              <th style="padding: 16px 20px; text-align: left; color: white; font-weight: 600; font-size: 14px;">ITEM</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">QTY</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">PRICE</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">TOTAL</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map((i,s)=>{var l,c;return`
                <tr style="background: ${s%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                  <td style="padding: 16px 20px;">
                    <div>
                      <div style="font-weight: 600; color: white; font-size: 15px;">${((l=i.products)==null?void 0:l.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px;">${((c=i.products)==null?void 0:c.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500;">${i.quantity}</td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9);">${Uo(i.price_at_purchase)}</td>
                  <td style="padding: 16px 20px; text-align: right; color: white; font-weight: 600;">${Uo(i.quantity*i.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 20px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Payment and Totals Section -->
      <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <h3 style="font-size: 20px; font-weight: bold; margin: 0 0 15px 0; color: rgb(244, 63, 94);">Payment Method</h3>
          <p style="color: rgba(255, 255, 255, 0.8); font-size: 16px;">
            ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
          </p>
        </div>
        
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <div style="space-y: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Subtotal:</span>
              <span>${Uo(vj(t))}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Shipping:</span>
              <span>R150.00</span>
            </div>
            <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 16px 0;">
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 20px; color: white;">
              <span>Total:</span>
              <span style="color: rgb(244, 63, 94);">${Uo(t.amount)}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Elegant Footer -->
      <div style="margin-top: auto; text-align: center; border-top: 2px solid rgba(244, 63, 94, 0.3); padding-top: 30px;">
        <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; font-size: 16px; font-weight: 500;">
          Thank you for shopping with Rosemama! We appreciate your business.
        </p>
        <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6);">
          For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
        </p>
      </div>
    </div>
  `,r=document.createElement("div");r.id="invoice-modal-overlay",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.zIndex="9999",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.addEventListener("click",i=>{i.target===r&&document.body.removeChild(r)});const n=document.createElement("div");n.style.backgroundColor="rgb(40, 44, 52)",n.style.maxWidth="90vw",n.style.maxHeight="90vh",n.style.overflow="auto",n.style.borderRadius="16px",n.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.3)";const a=()=>{const i=document.getElementById("invoice-modal-overlay");i&&i.parentNode&&i.parentNode.removeChild(i)};n.innerHTML=`
    <div style="padding: 20px; background: rgb(40, 44, 52); display: flex; flex-direction: column; min-height: 80vh;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="font-size: 24px; font-weight: bold; color: white; margin: 0;">Invoice Preview</h2>
        <button id="close-modal-btn" style="background: linear-gradient(135deg, rgb(244, 63, 94), rgb(219, 39, 119)); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;">Close</button>
      </div>
      <div style="flex: 1;">
        ${e}
      </div>
    </div>
  `,r.appendChild(n),document.body.appendChild(r),setTimeout(()=>{const i=document.getElementById("close-modal-btn");i&&i.addEventListener("click",a)},0)};function sZ({variant:t="banner",showDismiss:e=!1,onDismiss:r,className:n=""}){const{user:a,isEmailVerified:i,pendingVerification:s,resendVerification:l}=Cn(),[c,u]=N.useState(!1);if(!a||i||c)return null;const d=async()=>{await l()?je.success("Verification email sent! Check your inbox."):je.error("Failed to send verification email. Please try again.")},f=()=>{u(!0),r==null||r()},p=o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(zf,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Verify your email address"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Check your inbox and click the verification link to access order tracking and earn rewards."})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:d,disabled:s,className:"text-xs",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Ja,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending..."]}):"Resend Email"}),e&&o.jsx(be,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto",children:o.jsx(Ys,{className:"h-4 w-4"})})]})]});return t==="card"?o.jsx(De,{className:`border-blue-200 bg-blue-50 ${n}`,children:o.jsx($e,{className:"p-4",children:p})}):t==="inline"?o.jsx("div",{className:`rounded-md bg-blue-50 border border-blue-200 p-3 ${n}`,children:p}):o.jsx("div",{className:`bg-blue-50 border-b border-blue-200 px-4 py-3 ${n}`,children:p})}function oZ({className:t=""}){const{user:e,isEmailVerified:r,resendVerification:n}=Cn(),[a,i]=N.useState(!1);return!e||r?null:o.jsxs("div",{className:`relative ${t}`,children:[o.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"text-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[o.jsx(zf,{className:"h-3 w-3 mr-1"}),"Verify Email"]}),a&&o.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border p-3 z-50",children:o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-medium mb-1",children:"Email verification needed"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"Verify your email to track orders and earn rewards."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{size:"sm",onClick:async()=>{await n(),i(!1),je.success("Verification email sent!")},className:"text-xs",children:"Resend"}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>i(!1),className:"text-xs",children:"Later"})]})]})})]})}function lZ({onLogout:t,onNavigateToInfo:e}){const{user:r,loading:n,signOut:a}=Cn(),[i,s]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState([]),[f,p]=N.useState(!1),[h,g]=N.useState(null),[m,v]=N.useState(!1);N.useEffect(()=>{m&&r&&x()},[m,r]);const x=async()=>{p(!0);try{const M=await YI();d(M)}catch(M){console.error("Error fetching orders:",M),je.error("Failed to load order history")}finally{p(!1)}};if(n)return o.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(!r)return o.jsx("div",{className:"text-center py-12",children:"Could not load user profile. Please try logging in again."});const[j,b]=N.useState({name:r.name,email:r.email,phone:r.phone||""}),_=()=>{s(!1),je.info("Profile update functionality is coming soon!")},S=async()=>{if(l){console.log("Profile: Logout already in progress, ignoring click");return}console.log("Profile: Logout button clicked"),c(!0);try{console.log("Profile: Calling signOut()"),await a(),console.log("Profile: signOut() completed"),je.success("Signed out successfully"),console.log("Profile: About to reload page immediately");try{window.location.reload(),console.log("Profile: window.location.reload() called successfully")}catch(M){console.error("Profile: Error calling window.location.reload():",M),setTimeout(()=>{console.log("Profile: Fallback reload attempt"),window.location.reload()},100)}}catch(M){console.error("Profile: Logout failed:",M),je.error("Failed to log out"),c(!1)}},A=async M=>{var K;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((K=M.shipping_address)==null?void 0:K.paymentMethod)||"N/A"};try{await JR(D),je.success("Invoice opened for printing")}catch($){console.error("Error printing invoice:",$),je.error($ instanceof Error?$.message:"Failed to print invoice")}},k=async M=>{var K;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((K=M.shipping_address)==null?void 0:K.paymentMethod)||"N/A"};try{await ZR(D),je.success("PDF downloaded successfully")}catch($){console.error("Error generating PDF:",$),je.error("Failed to generate PDF")}},O=async M=>{var K;const D={id:M.id,order_id:M.id,customer_name:r.name,customer_email:r.email,amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items,payment_method:((K=M.shipping_address)==null?void 0:K.paymentMethod)||"N/A"};try{await QR(D)}catch($){console.error("Error viewing invoice:",$),je.error("Failed to view invoice")}},T=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M),R=async(M,D)=>{try{await SI(r.email,r.name,M.id,[{id:D.products.id,name:D.products.name,image:D.products.image_url||"/images/placeholder-product.svg"}]),je.success(`Review invitation sent for ${D.products.name}!`)}catch(K){console.error("Error sending review invitation:",K),je.error("Failed to send review invitation")}},P=M=>M.status==="delivered",I=[{icon:Go,label:"Order History",action:()=>v(!0)},{icon:Xo,label:"Wishlist",action:()=>je.info("Wishlist coming soon!")},{icon:F_,label:"Addresses",action:()=>je.info("Address management coming soon!")},{icon:$_,label:"Payment Methods",action:()=>je.info("Payment methods coming soon!")},{icon:zl,label:"Notifications",action:()=>je.info("Notification settings coming soon!")},{icon:zs,label:"Privacy & Security",action:()=>{e?e("privacy"):je.info("Privacy settings coming soon!")}}];return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-2xl",children:[o.jsx(sZ,{variant:"card",className:"mb-4",showDismiss:!0}),o.jsx(De,{className:"mb-6",children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(k8,{className:"h-20 w-20",children:o.jsx(P8,{className:"text-xl",children:r.name.split(" ").map(M=>M[0]).join("").toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h2",{className:"text-xl font-semibold",children:r.name}),o.jsxs(Nt,{variant:"secondary",className:r.membershipTier==="Gold"?"bg-yellow-100 text-yellow-800":r.membershipTier==="Silver"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800",children:[r.membershipTier," Member"]})]}),o.jsx("p",{className:"text-muted-foreground",children:r.email}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("span",{className:"text-sm",children:["✨ ",r.points," points"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Member since ",r.created_at?new Date(r.created_at).getFullYear():"2024"]})]})]}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>s(!i),children:o.jsx(W_,{className:"h-4 w-4"})})]})})}),i&&o.jsxs(De,{className:"mb-6",children:[o.jsx(_t,{children:o.jsx(jt,{children:"Edit Profile"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"name",children:"Full Name"}),o.jsx(Ft,{id:"name",value:j.name,onChange:M=>b(D=>({...D,name:M.target.value}))})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"email",children:"Email"}),o.jsx(Ft,{id:"email",type:"email",value:j.email,onChange:M=>b(D=>({...D,email:M.target.value}))})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"phone",children:"Phone"}),o.jsx(Ft,{id:"phone",type:"tel",value:j.phone,onChange:M=>b(D=>({...D,phone:M.target.value})),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{onClick:_,children:"Save Changes"}),o.jsx(be,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]}),o.jsxs(De,{className:"mb-6",children:[o.jsx(_t,{children:o.jsx(jt,{children:"Account Settings"})}),o.jsx($e,{className:"p-0",children:o.jsx("ul",{className:"divide-y",children:I.map((M,D)=>o.jsx("li",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-muted/50",onClick:M.action,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(M.icon,{className:"h-5 w-5 text-muted-foreground"}),o.jsx("span",{children:M.label})]})},D))})})]}),o.jsx(be,{variant:"destructive",className:"w-full",onClick:S,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Xl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):o.jsxs(o.Fragment,{children:[o.jsx(gI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),o.jsx(Oi,{open:m,onOpenChange:v,children:o.jsxs(ai,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsx(Ti,{className:"text-2xl",children:"Order History"})}),f?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Xl,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading your orders..."]}):u.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No orders found. Start shopping to see your order history here."}):o.jsx("div",{className:"space-y-4",children:u.map(M=>{var D;return o.jsx(De,{children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",M.id.slice(-8)]}),o.jsx(Nt,{variant:"outline",className:`${M.status==="delivered"?"border-green-500 text-green-700":M.status==="shipped"?"border-blue-500 text-blue-700":M.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:M.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Ordered on ",new Date(M.created_at).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{className:"text-sm font-medium",children:["Total: ",T(M.total_amount)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oi,{children:[o.jsx(uj,{asChild:!0,children:o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>g(M),children:[o.jsx(ri,{className:"h-4 w-4 mr-1"}),"View Details"]})}),o.jsxs(ai,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsxs(Ti,{children:["Order #",M.id.slice(-8)]})}),h&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(De,{children:o.jsxs($e,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Order Date:"}),o.jsx("span",{className:"text-sm",children:new Date(h.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Status:"}),o.jsx(Nt,{variant:"outline",className:`${h.status==="delivered"?"border-green-500 text-green-700":h.status==="shipped"?"border-blue-500 text-blue-700":h.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:h.status})]})]})}),o.jsx(De,{children:o.jsxs($e,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Total Amount:"}),o.jsx("span",{className:"text-sm font-semibold",children:T(h.total_amount)})]}),((D=h.shipping_address)==null?void 0:D.paymentMethod)&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),o.jsxs("span",{className:"text-sm",children:[h.shipping_address.paymentMethod==="cash-on-delivery"&&"💰 COD",h.shipping_address.paymentMethod==="bank-transfer"&&"🏦 Bank Transfer",h.shipping_address.paymentMethod==="credit-card"&&"💳 Card"]})]})]})}),o.jsx(De,{children:o.jsx($e,{className:"pt-4",children:o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsx("div",{children:o.jsx("strong",{children:"Shipping Address:"})}),h.shipping_address?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[h.shipping_address.firstName," ",h.shipping_address.lastName]}),o.jsx("div",{children:h.shipping_address.address}),o.jsxs("div",{children:[h.shipping_address.city,", ",h.shipping_address.state]}),o.jsx("div",{children:h.shipping_address.country}),o.jsxs("div",{children:["📞 ",h.shipping_address.phone]})]}):o.jsx("div",{className:"text-muted-foreground",children:"Address not available"})]})})})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{className:"text-lg",children:"Order Items"})}),o.jsx($e,{children:h.order_items&&h.order_items.length>0?o.jsxs("div",{className:"space-y-3",children:[h.order_items.map((K,$)=>{var q,F;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[((q=K.products)==null?void 0:q.image_url)&&o.jsx("img",{src:K.products.image_url,alt:K.products.name,className:"w-16 h-16 object-cover rounded-lg border"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-lg",children:((F=K.products)==null?void 0:F.name)||"Unknown Product"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Quantity: ",K.quantity," × ",T(K.price_at_purchase)]}),P(h)&&o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>R(h,K),className:"bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-green-200 text-green-700 hover:text-green-800",children:[o.jsx(qr,{className:"h-3 w-3 mr-1"}),"Leave Review"]}),o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[o.jsx(ti,{className:"h-3 w-3 mr-1"}),"Share your experience"]})]}),!P(h)&&h.status!=="delivered"&&o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:[o.jsx(qr,{className:"h-3 w-3 mr-1 text-gray-400"}),"Review available after delivery"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"font-semibold text-lg",children:T(K.quantity*K.price_at_purchase)})})]},$)}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:T(h.total_amount)})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ks,{className:"h-5 w-5"}),"Invoice Actions"]})}),o.jsxs($e,{children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(be,{variant:"outline",onClick:()=>O(h),className:"flex items-center gap-2",children:[o.jsx(Ks,{className:"h-4 w-4"}),"View Invoice"]}),o.jsxs(be,{variant:"outline",onClick:()=>k(h),className:"flex items-center gap-2",children:[o.jsx(mI,{className:"h-4 w-4"}),"Download PDF"]}),o.jsxs(be,{variant:"outline",onClick:()=>A(h),className:"flex items-center gap-2",children:[o.jsx(xI,{className:"h-4 w-4"}),"Print Invoice"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate and download professional invoices for your orders."})]})]})]})]})]}),o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>O(M),children:[o.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})})},M.id)})})]})}),o.jsx(rl,{})]})}function yj(t){const e=t+"CollectionProvider",[r,n]=Mn(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:x}=m,j=X.useRef(null),b=X.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:b,collectionRef:j,children:x})};s.displayName=e;const l=t+"CollectionSlot",c=tc(l),u=X.forwardRef((m,v)=>{const{scope:x,children:j}=m,b=i(l,x),_=Ut(v,b.collectionRef);return o.jsx(c,{ref:_,children:j})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=tc(d),h=X.forwardRef((m,v)=>{const{scope:x,children:j,...b}=m,_=X.useRef(null),S=Ut(v,_),A=i(d,x);return X.useEffect(()=>(A.itemMap.set(_,{ref:_,...b}),()=>void A.itemMap.delete(_))),o.jsx(p,{[f]:"",ref:S,children:j})});h.displayName=d;function g(m){const v=i(t+"CollectionConsumer",m);return X.useCallback(()=>{const j=v.collectionRef.current;if(!j)return[];const b=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,k)=>b.indexOf(A.ref.current)-b.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:h},g,n]}var cZ=N.createContext(void 0);function vd(t){const e=N.useContext(cZ);return t||e||"ltr"}var ax="rovingFocusGroup.onEntryFocus",uZ={bubbles:!1,cancelable:!0},$h="RovingFocusGroup",[X2,eL,dZ]=yj($h),[fZ,bv]=Mn($h,[dZ]),[hZ,pZ]=fZ($h),tL=N.forwardRef((t,e)=>o.jsx(X2.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(X2.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(mZ,{...t,ref:e})})}));tL.displayName=$h;var mZ=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=N.useRef(null),h=Ut(e,p),g=vd(i),[m,v]=ni({prop:s,defaultProp:l??null,onChange:c,caller:$h}),[x,j]=N.useState(!1),b=Wn(u),_=eL(r),S=N.useRef(!1),[A,k]=N.useState(0);return N.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(ax,b),()=>O.removeEventListener(ax,b)},[b]),o.jsx(hZ,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:N.useCallback(O=>v(O),[v]),onItemShiftTab:N.useCallback(()=>j(!0),[]),onFocusableItemAdd:N.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:N.useCallback(()=>k(O=>O-1),[]),children:o.jsx(ot.div,{tabIndex:x||A===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{S.current=!0}),onFocus:pt(t.onFocus,O=>{const T=!S.current;if(O.target===O.currentTarget&&T&&!x){const R=new CustomEvent(ax,uZ);if(O.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=_().filter($=>$.focusable),I=P.find($=>$.active),M=P.find($=>$.id===m),K=[I,M,...P].filter(Boolean).map($=>$.ref.current);aL(K,d)}}S.current=!1}),onBlur:pt(t.onBlur,()=>j(!1))})})}),rL="RovingFocusGroupItem",nL=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=t,c=Pi(),u=i||c,d=pZ(rL,r),f=d.currentTabStopId===u,p=eL(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return N.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(X2.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(ot.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:pt(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:pt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:pt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=yZ(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=p().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=d.loop?xZ(b,_+1):b.slice(_+1)}setTimeout(()=>aL(b))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});nL.displayName=rL;var gZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yZ(t,e,r){const n=vZ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gZ[n]}function aL(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function xZ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var iL=tL,sL=nL,wv="Tabs",[bZ,Rwe]=Mn(wv,[bv]),oL=bv(),[wZ,xj]=bZ(wv),lL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=vd(l),[f,p]=ni({prop:n,onChange:a,defaultProp:i??"",caller:wv});return o.jsx(wZ,{scope:r,baseId:Pi(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:c,children:o.jsx(ot.div,{dir:d,"data-orientation":s,...u,ref:e})})});lL.displayName=wv;var cL="TabsList",uL=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=xj(cL,r),s=oL(r);return o.jsx(iL,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(ot.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});uL.displayName=cL;var dL="TabsTrigger",fL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=xj(dL,r),l=oL(r),c=mL(s.baseId,n),u=gL(s.baseId,n),d=n===s.value;return o.jsx(sL,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(ot.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:pt(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:pt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:pt(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});fL.displayName=dL;var hL="TabsContent",pL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,l=xj(hL,r),c=mL(l.baseId,n),u=gL(l.baseId,n),d=n===l.value,f=N.useRef(d);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(ha,{present:a||d,children:({present:p})=>o.jsx(ot.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});pL.displayName=hL;function mL(t,e){return`${t}-trigger-${e}`}function gL(t,e){return`${t}-content-${e}`}var _Z=lL,jZ=uL,NZ=fL,SZ=pL;function ro({className:t,...e}){return o.jsx(_Z,{"data-slot":"tabs",className:Ge("flex flex-col gap-2",t),...e})}function no({className:t,...e}){return o.jsx(jZ,{"data-slot":"tabs-list",className:Ge("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px]",t),...e})}function gr({className:t,...e}){return o.jsx(NZ,{"data-slot":"tabs-trigger",className:Ge("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function vr({className:t,...e}){return o.jsx(SZ,{"data-slot":"tabs-content",className:Ge("flex-1 outline-none",t),...e})}function AZ({products:t}){const[e,r]=N.useState({revenue:0,orders:0,users:0,growth:{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}),[n,a]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[c,u,d,f]=await Promise.all([a8(),i8(),s8(),u8(30)]);r({revenue:c||0,orders:u||0,users:d||0,growth:f||{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}})}catch(c){console.error("Error fetching metrics:",c)}finally{a(!1)}})()},[]);const i=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),s=l=>new Intl.NumberFormat("en-US").format(l);return n?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((l,c)=>o.jsx(De,{children:o.jsx($e,{className:"p-6",children:o.jsx("div",{className:"flex items-center justify-center h-20",children:o.jsx(Ja,{className:"h-6 w-6 animate-spin"})})})},c))}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsx(De,{children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lu,{className:"h-5 w-5 text-green-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Revenue"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:i(e.revenue)}),o.jsxs("p",{className:`text-xs ${e.growth.growth_percentage>=0?"text-green-600":"text-red-600"}`,children:[e.growth.growth_percentage>=0?"+":"",e.growth.growth_percentage.toFixed(1),"% from last month"]})]})]})}),o.jsx(De,{children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Im,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.orders)}),o.jsx("p",{className:"text-xs text-blue-600",children:"All time orders"})]})]})}),o.jsx(De,{children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"h-5 w-5 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Products"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(t.length)}),o.jsx("p",{className:"text-xs text-purple-600",children:"Available in store"})]})]})}),o.jsx(De,{children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(NI,{className:"h-5 w-5 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium",children:"Total Users"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("div",{className:"text-2xl font-bold",children:s(e.users)}),o.jsx("p",{className:"text-xs text-orange-600",children:"Registered users"})]})]})})]})}var ix,xk;function ma(){if(xk)return ix;xk=1;var t=Array.isArray;return ix=t,ix}var sx,bk;function vL(){if(bk)return sx;bk=1;var t=typeof Ep=="object"&&Ep&&Ep.Object===Object&&Ep;return sx=t,sx}var ox,wk;function vs(){if(wk)return ox;wk=1;var t=vL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ox=r,ox}var lx,_k;function Fh(){if(_k)return lx;_k=1;var t=vs(),e=t.Symbol;return lx=e,lx}var cx,jk;function kZ(){if(jk)return cx;jk=1;var t=Fh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var l=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(l?s[a]=c:delete s[a]),d}return cx=i,cx}var ux,Nk;function PZ(){if(Nk)return ux;Nk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ux=r,ux}var dx,Sk;function co(){if(Sk)return dx;Sk=1;var t=Fh(),e=kZ(),r=PZ(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return dx=s,dx}var fx,Ak;function uo(){if(Ak)return fx;Ak=1;function t(e){return e!=null&&typeof e=="object"}return fx=t,fx}var hx,kk;function yd(){if(kk)return hx;kk=1;var t=co(),e=uo(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return hx=n,hx}var px,Pk;function bj(){if(Pk)return px;Pk=1;var t=ma(),e=yd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return px=a,px}var mx,Ck;function nl(){if(Ck)return mx;Ck=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return mx=t,mx}var gx,Ok;function wj(){if(Ok)return gx;Ok=1;var t=co(),e=nl(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return gx=s,gx}var vx,Ek;function CZ(){if(Ek)return vx;Ek=1;var t=vs(),e=t["__core-js_shared__"];return vx=e,vx}var yx,Tk;function OZ(){if(Tk)return yx;Tk=1;var t=CZ(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return yx=r,yx}var xx,Ik;function yL(){if(Ik)return xx;Ik=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return xx=r,xx}var bx,Rk;function EZ(){if(Rk)return bx;Rk=1;var t=wj(),e=OZ(),r=nl(),n=yL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:i;return h.test(n(p))}return bx=f,bx}var wx,Lk;function TZ(){if(Lk)return wx;Lk=1;function t(e,r){return e==null?void 0:e[r]}return wx=t,wx}var _x,Mk;function bc(){if(Mk)return _x;Mk=1;var t=EZ(),e=TZ();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return _x=r,_x}var jx,Dk;function _v(){if(Dk)return jx;Dk=1;var t=bc(),e=t(Object,"create");return jx=e,jx}var Nx,$k;function IZ(){if($k)return Nx;$k=1;var t=_v();function e(){this.__data__=t?t(null):{},this.size=0}return Nx=e,Nx}var Sx,Fk;function RZ(){if(Fk)return Sx;Fk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Sx=t,Sx}var Ax,Bk;function LZ(){if(Bk)return Ax;Bk=1;var t=_v(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var l=s[i];return l===e?void 0:l}return n.call(s,i)?s[i]:void 0}return Ax=a,Ax}var kx,qk;function MZ(){if(qk)return kx;qk=1;var t=_v(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return kx=n,kx}var Px,Uk;function DZ(){if(Uk)return Px;Uk=1;var t=_v(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Px=r,Px}var Cx,zk;function $Z(){if(zk)return Cx;zk=1;var t=IZ(),e=RZ(),r=LZ(),n=MZ(),a=DZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Cx=i,Cx}var Ox,Wk;function FZ(){if(Wk)return Ox;Wk=1;function t(){this.__data__=[],this.size=0}return Ox=t,Ox}var Ex,Hk;function _j(){if(Hk)return Ex;Hk=1;function t(e,r){return e===r||e!==e&&r!==r}return Ex=t,Ex}var Tx,Vk;function jv(){if(Vk)return Tx;Vk=1;var t=_j();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Tx=e,Tx}var Ix,Gk;function BZ(){if(Gk)return Ix;Gk=1;var t=jv(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var l=i.length-1;return s==l?i.pop():r.call(i,s,1),--this.size,!0}return Ix=n,Ix}var Rx,Kk;function qZ(){if(Kk)return Rx;Kk=1;var t=jv();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Rx=e,Rx}var Lx,Yk;function UZ(){if(Yk)return Lx;Yk=1;var t=jv();function e(r){return t(this.__data__,r)>-1}return Lx=e,Lx}var Mx,Xk;function zZ(){if(Xk)return Mx;Xk=1;var t=jv();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Mx=e,Mx}var Dx,Zk;function Nv(){if(Zk)return Dx;Zk=1;var t=FZ(),e=BZ(),r=qZ(),n=UZ(),a=zZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Dx=i,Dx}var $x,Jk;function jj(){if(Jk)return $x;Jk=1;var t=bc(),e=vs(),r=t(e,"Map");return $x=r,$x}var Fx,Qk;function WZ(){if(Qk)return Fx;Qk=1;var t=$Z(),e=Nv(),r=jj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Fx=n,Fx}var Bx,eP;function HZ(){if(eP)return Bx;eP=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Bx=t,Bx}var qx,tP;function Sv(){if(tP)return qx;tP=1;var t=HZ();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return qx=e,qx}var Ux,rP;function VZ(){if(rP)return Ux;rP=1;var t=Sv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Ux=e,Ux}var zx,nP;function GZ(){if(nP)return zx;nP=1;var t=Sv();function e(r){return t(this,r).get(r)}return zx=e,zx}var Wx,aP;function KZ(){if(aP)return Wx;aP=1;var t=Sv();function e(r){return t(this,r).has(r)}return Wx=e,Wx}var Hx,iP;function YZ(){if(iP)return Hx;iP=1;var t=Sv();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Hx=e,Hx}var Vx,sP;function Nj(){if(sP)return Vx;sP=1;var t=WZ(),e=VZ(),r=GZ(),n=KZ(),a=YZ();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Vx=i,Vx}var Gx,oP;function xL(){if(oP)return Gx;oP=1;var t=Nj(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,s);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,Gx=r,Gx}var Kx,lP;function XZ(){if(lP)return Kx;lP=1;var t=xL(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Kx=r,Kx}var Yx,cP;function ZZ(){if(cP)return Yx;cP=1;var t=XZ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,l,c,u){i.push(c?u.replace(r,"$1"):l||s)}),i});return Yx=n,Yx}var Xx,uP;function Sj(){if(uP)return Xx;uP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Xx=t,Xx}var Zx,dP;function JZ(){if(dP)return Zx;dP=1;var t=Fh(),e=Sj(),r=ma(),n=yd(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Zx=s,Zx}var Jx,fP;function bL(){if(fP)return Jx;fP=1;var t=JZ();function e(r){return r==null?"":t(r)}return Jx=e,Jx}var Qx,hP;function wL(){if(hP)return Qx;hP=1;var t=ma(),e=bj(),r=ZZ(),n=bL();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return Qx=a,Qx}var eb,pP;function Av(){if(pP)return eb;pP=1;var t=yd();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return eb=e,eb}var tb,mP;function Aj(){if(mP)return tb;mP=1;var t=wL(),e=Av();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return tb=r,tb}var rb,gP;function _L(){if(gP)return rb;gP=1;var t=Aj();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return rb=e,rb}var QZ=_L();const Ra=dr(QZ);var nb,vP;function eJ(){if(vP)return nb;vP=1;function t(e){return e==null}return nb=t,nb}var tJ=eJ();const Rt=dr(tJ);var ab,yP;function rJ(){if(yP)return ab;yP=1;var t=co(),e=ma(),r=uo(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return ab=a,ab}var nJ=rJ();const sc=dr(nJ);var aJ=wj();const Ct=dr(aJ);var iJ=nl();const xd=dr(iJ);var ib={exports:{}},ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function sJ(){if(xP)return ir;xP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var x=v.$$typeof;switch(x){case t:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case s:case c:case p:case f:case i:return v;default:return x}}case e:return x}}}return ir.ContextConsumer=s,ir.ContextProvider=i,ir.Element=t,ir.ForwardRef=c,ir.Fragment=r,ir.Lazy=p,ir.Memo=f,ir.Portal=e,ir.Profiler=a,ir.StrictMode=n,ir.Suspense=u,ir.SuspenseList=d,ir.isAsyncMode=function(){return!1},ir.isConcurrentMode=function(){return!1},ir.isContextConsumer=function(v){return m(v)===s},ir.isContextProvider=function(v){return m(v)===i},ir.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},ir.isForwardRef=function(v){return m(v)===c},ir.isFragment=function(v){return m(v)===r},ir.isLazy=function(v){return m(v)===p},ir.isMemo=function(v){return m(v)===f},ir.isPortal=function(v){return m(v)===e},ir.isProfiler=function(v){return m(v)===a},ir.isStrictMode=function(v){return m(v)===n},ir.isSuspense=function(v){return m(v)===u},ir.isSuspenseList=function(v){return m(v)===d},ir.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===i||v.$$typeof===s||v.$$typeof===c||v.$$typeof===g||v.getModuleId!==void 0)},ir.typeOf=m,ir}var bP;function oJ(){return bP||(bP=1,ib.exports=sJ()),ib.exports}var lJ=oJ(),sb,wP;function jL(){if(wP)return sb;wP=1;var t=co(),e=uo(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return sb=n,sb}var ob,_P;function cJ(){if(_P)return ob;_P=1;var t=jL();function e(r){return t(r)&&r!=+r}return ob=e,ob}var uJ=cJ();const Bh=dr(uJ);var dJ=jL();const fJ=dr(dJ);var Qn=function(e){return e===0?0:e>0?1:-1},Wl=function(e){return sc(e)&&e.indexOf("%")===e.length-1},Fe=function(e){return fJ(e)&&!Bh(e)},hJ=function(e){return Rt(e)},wn=function(e){return Fe(e)||sc(e)},pJ=0,bd=function(e){var r=++pJ;return"".concat(e||"").concat(r)},ea=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(e)&&!sc(e))return n;var i;if(Wl(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Bh(i)&&(i=n),a&&i>r&&(i=r),i},Fo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},mJ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Ca=function(e,r){return Fe(e)&&Fe(r)?function(n){return e+n*(r-e)}:function(){return r}};function Um(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ra(n,e))===r})}var gJ=function(e,r){return Fe(e)&&Fe(r)?e-r:sc(e)&&sc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Cu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Z2(t){"@babel/helpers - typeof";return Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z2(t)}var vJ=["viewBox","children"],yJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jP=["points","pathLength"],lb={svg:vJ,polygon:jP,polyline:jP},kj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!xd(n))return null;var a={};return Object.keys(n).forEach(function(i){kj.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},xJ=function(e,r,n){return function(a){return e(r,n,a),null}},oc=function(e,r,n){if(!xd(e)||Z2(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];kj.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=xJ(s,r,n))}),a},bJ=["children"],wJ=["children"];function NP(t,e){if(t==null)return{};var r=_J(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _J(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}var SP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},AP=null,cb=null,Pj=function t(e){if(e===AP&&Array.isArray(cb))return cb;var r=[];return N.Children.forEach(e,function(n){Rt(n)||(lJ.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),cb=r,AP=e,r};function La(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Xs(a)}):n=[Xs(e)],Pj(t).forEach(function(a){var i=Ra(a,"type.displayName")||Ra(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ka(t,e){var r=La(t,e);return r&&r[0]}var kP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Fe(n)||n<=0||!Fe(a)||a<=0)},jJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],NJ=function(e){return e&&e.type&&sc(e.type)&&jJ.indexOf(e.type)>=0},SJ=function(e){return e&&J2(e)==="object"&&"clipDot"in e},AJ=function(e,r,n,a){var i,s=(i=lb==null?void 0:lb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ct(e)&&(a&&s.includes(r)||yJ.includes(r))||n&&kj.includes(r)},bt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(N.isValidElement(e)&&(a=e.props),!xd(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;AJ((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},Q2=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return PP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!PP(i,s))return!1}return!0},PP=function(e,r){if(Rt(e)&&Rt(r))return!0;if(!Rt(e)&&!Rt(r)){var n=e.props||{},a=n.children,i=NP(n,bJ),s=r.props||{},l=s.children,c=NP(s,wJ);return a&&l?Cu(i,c)&&Q2(a,l):!a&&!l?Cu(i,c):!1}return!1},CP=function(e,r){var n=[],a={};return Pj(e).forEach(function(i,s){if(NJ(i))n.push(i);else if(i){var l=Xs(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},kJ=function(e){var r=e&&e.type;return r&&SP[r]?SP[r]:null},PJ=function(e,r){return Pj(r).indexOf(e)},CJ=["children","width","height","viewBox","className","style","title","desc"];function e5(){return e5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e5.apply(this,arguments)}function OJ(t,e){if(t==null)return{};var r=EJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t5(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,l=t.title,c=t.desc,u=OJ(t,CJ),d=a||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",i);return X.createElement("svg",e5({},bt(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),e)}var TJ=["children","className"];function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r5.apply(this,arguments)}function IJ(t,e){if(t==null)return{};var r=RJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var er=X.forwardRef(function(t,e){var r=t.children,n=t.className,a=IJ(t,TJ),i=Mt("recharts-layer",n);return X.createElement("g",r5({className:i},bt(a,!0),{ref:e}),r)}),Ci=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},ub,OP;function LJ(){if(OP)return ub;OP=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return ub=t,ub}var db,EP;function MJ(){if(EP)return db;EP=1;var t=LJ();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return db=e,db}var fb,TP;function NL(){if(TP)return fb;TP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+a+i+"]");function c(u){return l.test(u)}return fb=c,fb}var hb,IP;function DJ(){if(IP)return hb;IP=1;function t(e){return e.split("")}return hb=t,hb}var pb,RP;function $J(){if(RP)return pb;RP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",m="["+i+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+g+")*",x=m+g+v,j="(?:"+[d+l+"?",l,f,p,s].join("|")+")",b=RegExp(c+"(?="+c+")|"+j+x,"g");function _(S){return S.match(b)||[]}return pb=_,pb}var mb,LP;function FJ(){if(LP)return mb;LP=1;var t=DJ(),e=NL(),r=$J();function n(a){return e(a)?r(a):t(a)}return mb=n,mb}var gb,MP;function BJ(){if(MP)return gb;MP=1;var t=MJ(),e=NL(),r=FJ(),n=bL();function a(i){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),u=l?t(l,1).join(""):s.slice(1);return c[i]()+u}}return gb=a,gb}var vb,DP;function qJ(){if(DP)return vb;DP=1;var t=BJ(),e=t("toUpperCase");return vb=e,vb}var UJ=qJ();const kv=dr(UJ);function Ar(t){return function(){return t}}const SL=Math.cos,Wm=Math.sin,qi=Math.sqrt,Hm=Math.PI,Pv=2*Hm,n5=Math.PI,a5=2*n5,Ll=1e-6,zJ=a5-Ll;function AL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function WJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return AL;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class HJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?AL:WJ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-e,u=a-r,d=s-e,f=l-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Ll)if(!(Math.abs(f*c-u*d)>Ll)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,g=a-l,m=c*c+u*u,v=h*h+g*g,x=Math.sqrt(m),j=Math.sqrt(p),b=i*Math.tan((n5-Math.acos((m+p-v)/(2*x*j)))/2),_=b/j,S=b/x;Math.abs(_-1)>Ll&&this._append`L${e+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=e+S*c},${this._y1=r+S*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ll||Math.abs(this._y1-d)>Ll)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%a5+a5),p>zJ?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Ll&&this._append`A${n},${n},0,${+(p>=n5)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Cj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new HJ(e)}function Oj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kL(t){this._context=t}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cv(t){return new kL(t)}function PL(t){return t[0]}function CL(t){return t[1]}function OL(t,e){var r=Ar(!0),n=null,a=Cv,i=null,s=Cj(l);t=typeof t=="function"?t:t===void 0?PL:Ar(t),e=typeof e=="function"?e:e===void 0?CL:Ar(e);function l(c){var u,d=(c=Oj(c)).length,f,p=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ar(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ar(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ar(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function rm(t,e,r){var n=null,a=Ar(!0),i=null,s=Cv,l=null,c=Cj(u);t=typeof t=="function"?t:t===void 0?PL:Ar(+t),e=typeof e=="function"?e:Ar(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?CL:Ar(+r);function u(f){var p,h,g,m=(f=Oj(f)).length,v,x=!1,j,b=new Array(m),_=new Array(m);for(i==null&&(l=s(j=c())),p=0;p<=m;++p){if(!(p<m&&a(v=f[p],p,f))===x)if(x=!x)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=h;--g)l.point(b[g],_[g]);l.lineEnd(),l.areaEnd()}x&&(b[p]=+t(v,p,f),_[p]=+e(v,p,f),l.point(n?+n(v,p,f):b[p],r?+r(v,p,f):_[p]))}if(j)return l=null,j+""||null}function d(){return OL().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ar(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ar(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ar(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ar(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ar(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ar(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ar(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class EL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function VJ(t){return new EL(t,!0)}function GJ(t){return new EL(t,!1)}const Ej={draw(t,e){const r=qi(e/Hm);t.moveTo(r,0),t.arc(0,0,r,0,Pv)}},KJ={draw(t,e){const r=qi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},TL=qi(1/3),YJ=TL*2,XJ={draw(t,e){const r=qi(e/YJ),n=r*TL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ZJ={draw(t,e){const r=qi(e),n=-r/2;t.rect(n,n,r,r)}},JJ=.8908130915292852,IL=Wm(Hm/10)/Wm(7*Hm/10),QJ=Wm(Pv/10)*IL,eQ=-SL(Pv/10)*IL,tQ={draw(t,e){const r=qi(e*JJ),n=QJ*r,a=eQ*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=Pv*i/5,l=SL(s),c=Wm(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},yb=qi(3),rQ={draw(t,e){const r=-qi(e/(yb*3));t.moveTo(0,r*2),t.lineTo(-yb*r,-r),t.lineTo(yb*r,-r),t.closePath()}},Ga=-.5,Ka=qi(3)/2,i5=1/qi(12),nQ=(i5/2+1)*3,aQ={draw(t,e){const r=qi(e/nQ),n=r/2,a=r*i5,i=n,s=r*i5+r,l=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(l,c),t.lineTo(Ga*n-Ka*a,Ka*n+Ga*a),t.lineTo(Ga*i-Ka*s,Ka*i+Ga*s),t.lineTo(Ga*l-Ka*c,Ka*l+Ga*c),t.lineTo(Ga*n+Ka*a,Ga*a-Ka*n),t.lineTo(Ga*i+Ka*s,Ga*s-Ka*i),t.lineTo(Ga*l+Ka*c,Ga*c-Ka*l),t.closePath()}};function iQ(t,e){let r=null,n=Cj(a);t=typeof t=="function"?t:Ar(t||Ej),e=typeof e=="function"?e:Ar(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ar(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ar(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Vm(){}function Gm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function RL(t){this._context=t}RL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sQ(t){return new RL(t)}function LL(t){this._context=t}LL.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oQ(t){return new LL(t)}function ML(t){this._context=t}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lQ(t){return new ML(t)}function DL(t){this._context=t}DL.prototype={areaStart:Vm,areaEnd:Vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cQ(t){return new DL(t)}function $P(t){return t<0?-1:1}function FP(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return($P(i)+$P(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function BP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function xb(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,s-l*r,i,s)}function Km(t){this._context=t}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xb(this,this._t0,BP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xb(this,BP(this,r=FP(this,t,e)),r);break;default:xb(this,this._t0,r=FP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $L(t){this._context=new FL(t)}($L.prototype=Object.create(Km.prototype)).point=function(t,e){Km.prototype.point.call(this,e,t)};function FL(t){this._context=t}FL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function uQ(t){return new Km(t)}function dQ(t){return new $L(t)}function BL(t){this._context=t}BL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=qP(t),a=qP(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qP(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function fQ(t){return new BL(t)}function Ov(t,e){this._context=t,this._t=e}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function hQ(t){return new Ov(t,.5)}function pQ(t){return new Ov(t,0)}function mQ(t){return new Ov(t,1)}function $u(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,l=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function s5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function gQ(t,e){return t[e]}function vQ(t){const e=[];return e.key=t,e}function yQ(){var t=Ar([]),e=s5,r=$u,n=gQ;function a(i){var s=Array.from(t.apply(this,arguments),vQ),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=Oj(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ar(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ar(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?s5:typeof i=="function"?i:Ar(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??$u,a):r},a}function xQ(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}$u(t,e)}}function bQ(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}$u(t,e)}}function wQ(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<l;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;h+=v-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,$u(t,e)}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var _Q=["type","size","sizeType"];function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){jQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jQ(t,e,r){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NQ(t){var e=SQ(t,"string");return Kf(e)=="symbol"?e:e+""}function SQ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQ(t,e){if(t==null)return{};var r=kQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qL={symbolCircle:Ej,symbolCross:KJ,symbolDiamond:XJ,symbolSquare:ZJ,symbolStar:tQ,symbolTriangle:rQ,symbolWye:aQ},PQ=Math.PI/180,CQ=function(e){var r="symbol".concat(kv(e));return qL[r]||Ej},OQ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*PQ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EQ=function(e,r){qL["symbol".concat(kv(e))]=r},Tj=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,l=s===void 0?"area":s,c=AQ(e,_Q),u=zP(zP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=CQ(n),x=iQ().type(v).size(OQ(i,l,n));return x()},f=u.className,p=u.cx,h=u.cy,g=bt(u,!0);return p===+p&&h===+h&&i===+i?X.createElement("path",o5({},g,{className:Mt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};Tj.registerSymbol=EQ;function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){Yf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zL(n.key),n)}}function LQ(t,e,r){return e&&RQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MQ(t,e,r){return e=Ym(e),DQ(t,UL()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function DQ(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Q(t)}function $Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function FQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c5(t,e)}function c5(t,e){return c5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c5(t,e)}function Yf(t,e,r){return e=zL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zL(t){var e=BQ(t,"string");return Fu(e)=="symbol"?e:e+""}function BQ(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ya=32,Ij=(function(t){function e(){return IQ(this,e),MQ(this,e,arguments)}return FQ(e,t),LQ(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ya/2,s=Ya/6,l=Ya/3,c=n.inactive?a:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ya,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ya,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ya/8,"h").concat(Ya,"v").concat(Ya*3/4,"h").concat(-Ya,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var u=TQ({},n);return delete u.legendIcon,X.cloneElement(n.legendIcon,u)}return X.createElement(Tj,{fill:c,cx:i,cy:i,size:Ya,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ya,height:Ya},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var m=h.formatter||c,v=Mt(Yf(Yf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=Ct(h.value)?null:h.value;Ci(!Ct(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=h.inactive?u:h.color;return X.createElement("li",l5({className:v,style:f,key:"legend-item-".concat(g)},oc(n.props,h,g)),X.createElement(t5,{width:s,height:s,viewBox:d,style:p},n.renderIcon(h)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},m?m(x,h,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(N.PureComponent);Yf(Ij,"displayName","Legend");Yf(Ij,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bb,HP;function qQ(){if(HP)return bb;HP=1;var t=Nv();function e(){this.__data__=new t,this.size=0}return bb=e,bb}var wb,VP;function UQ(){if(VP)return wb;VP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return wb=t,wb}var _b,GP;function zQ(){if(GP)return _b;GP=1;function t(e){return this.__data__.get(e)}return _b=t,_b}var jb,KP;function WQ(){if(KP)return jb;KP=1;function t(e){return this.__data__.has(e)}return jb=t,jb}var Nb,YP;function HQ(){if(YP)return Nb;YP=1;var t=Nv(),e=jj(),r=Nj(),n=200;function a(i,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,s),this.size=l.size,this}return Nb=a,Nb}var Sb,XP;function WL(){if(XP)return Sb;XP=1;var t=Nv(),e=qQ(),r=UQ(),n=zQ(),a=WQ(),i=HQ();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Sb=s,Sb}var Ab,ZP;function VQ(){if(ZP)return Ab;ZP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Ab=e,Ab}var kb,JP;function GQ(){if(JP)return kb;JP=1;function t(e){return this.__data__.has(e)}return kb=t,kb}var Pb,QP;function HL(){if(QP)return Pb;QP=1;var t=Nj(),e=VQ(),r=GQ();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Pb=n,Pb}var Cb,e3;function VL(){if(e3)return Cb;e3=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Cb=t,Cb}var Ob,t3;function GL(){if(t3)return Ob;t3=1;function t(e,r){return e.has(r)}return Ob=t,Ob}var Eb,r3;function KL(){if(r3)return Eb;r3=1;var t=HL(),e=VL(),r=GL(),n=1,a=2;function i(s,l,c,u,d,f){var p=c&n,h=s.length,g=l.length;if(h!=g&&!(p&&g>h))return!1;var m=f.get(s),v=f.get(l);if(m&&v)return m==l&&v==s;var x=-1,j=!0,b=c&a?new t:void 0;for(f.set(s,l),f.set(l,s);++x<h;){var _=s[x],S=l[x];if(u)var A=p?u(S,_,x,l,s,f):u(_,S,x,s,l,f);if(A!==void 0){if(A)continue;j=!1;break}if(b){if(!e(l,function(k,O){if(!r(b,O)&&(_===k||d(_,k,c,u,f)))return b.push(O)})){j=!1;break}}else if(!(_===S||d(_,S,c,u,f))){j=!1;break}}return f.delete(s),f.delete(l),j}return Eb=i,Eb}var Tb,n3;function KQ(){if(n3)return Tb;n3=1;var t=vs(),e=t.Uint8Array;return Tb=e,Tb}var Ib,a3;function YQ(){if(a3)return Ib;a3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Ib=t,Ib}var Rb,i3;function Rj(){if(i3)return Rb;i3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Rb=t,Rb}var Lb,s3;function XQ(){if(s3)return Lb;s3=1;var t=Fh(),e=KQ(),r=_j(),n=KL(),a=YQ(),i=Rj(),s=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",x="[object ArrayBuffer]",j="[object DataView]",b=t?t.prototype:void 0,_=b?b.valueOf:void 0;function S(A,k,O,T,R,P,I){switch(O){case j:if(A.byteLength!=k.byteLength||A.byteOffset!=k.byteOffset)return!1;A=A.buffer,k=k.buffer;case x:return!(A.byteLength!=k.byteLength||!P(new e(A),new e(k)));case c:case u:case p:return r(+A,+k);case d:return A.name==k.name&&A.message==k.message;case h:case m:return A==k+"";case f:var M=a;case g:var D=T&s;if(M||(M=i),A.size!=k.size&&!D)return!1;var K=I.get(A);if(K)return K==k;T|=l,I.set(A,k);var $=n(M(A),M(k),T,R,P,I);return I.delete(A),$;case v:if(_)return _.call(A)==_.call(k)}return!1}return Lb=S,Lb}var Mb,o3;function YL(){if(o3)return Mb;o3=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Mb=t,Mb}var Db,l3;function ZQ(){if(l3)return Db;l3=1;var t=YL(),e=ma();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return Db=r,Db}var $b,c3;function JQ(){if(c3)return $b;c3=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var l=e[n];r(l,n,e)&&(s[i++]=l)}return s}return $b=t,$b}var Fb,u3;function QQ(){if(u3)return Fb;u3=1;function t(){return[]}return Fb=t,Fb}var Bb,d3;function eee(){if(d3)return Bb;d3=1;var t=JQ(),e=QQ(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(l){return n.call(s,l)}))}:e;return Bb=i,Bb}var qb,f3;function tee(){if(f3)return qb;f3=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return qb=t,qb}var Ub,h3;function ree(){if(h3)return Ub;h3=1;var t=co(),e=uo(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Ub=n,Ub}var zb,p3;function Lj(){if(p3)return zb;p3=1;var t=ree(),e=uo(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return zb=i,zb}var Sf={exports:{}},Wb,m3;function nee(){if(m3)return Wb;m3=1;function t(){return!1}return Wb=t,Wb}Sf.exports;var g3;function XL(){return g3||(g3=1,(function(t,e){var r=vs(),n=nee(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Sf,Sf.exports)),Sf.exports}var Hb,v3;function Mj(){if(v3)return Hb;v3=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Hb=r,Hb}var Vb,y3;function Dj(){if(y3)return Vb;y3=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Vb=e,Vb}var Gb,x3;function aee(){if(x3)return Gb;x3=1;var t=co(),e=Dj(),r=uo(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",j="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",T="[object Uint16Array]",R="[object Uint32Array]",P={};P[j]=P[b]=P[_]=P[S]=P[A]=P[k]=P[O]=P[T]=P[R]=!0,P[n]=P[a]=P[v]=P[i]=P[x]=P[s]=P[l]=P[c]=P[u]=P[d]=P[f]=P[p]=P[h]=P[g]=P[m]=!1;function I(M){return r(M)&&e(M.length)&&!!P[t(M)]}return Gb=I,Gb}var Kb,b3;function ZL(){if(b3)return Kb;b3=1;function t(e){return function(r){return e(r)}}return Kb=t,Kb}var Af={exports:{}};Af.exports;var w3;function iee(){return w3||(w3=1,(function(t,e){var r=vL(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Af,Af.exports)),Af.exports}var Yb,_3;function JL(){if(_3)return Yb;_3=1;var t=aee(),e=ZL(),r=iee(),n=r&&r.isTypedArray,a=n?e(n):t;return Yb=a,Yb}var Xb,j3;function see(){if(j3)return Xb;j3=1;var t=tee(),e=Lj(),r=ma(),n=XL(),a=Mj(),i=JL(),s=Object.prototype,l=s.hasOwnProperty;function c(u,d){var f=r(u),p=!f&&e(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&i(u),m=f||p||h||g,v=m?t(u.length,String):[],x=v.length;for(var j in u)(d||l.call(u,j))&&!(m&&(j=="length"||h&&(j=="offset"||j=="parent")||g&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,x)))&&v.push(j);return v}return Xb=c,Xb}var Zb,N3;function oee(){if(N3)return Zb;N3=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Zb=e,Zb}var Jb,S3;function QL(){if(S3)return Jb;S3=1;function t(e,r){return function(n){return e(r(n))}}return Jb=t,Jb}var Qb,A3;function lee(){if(A3)return Qb;A3=1;var t=QL(),e=t(Object.keys,Object);return Qb=e,Qb}var e1,k3;function cee(){if(k3)return e1;k3=1;var t=oee(),e=lee(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&s.push(l);return s}return e1=a,e1}var t1,P3;function qh(){if(P3)return t1;P3=1;var t=wj(),e=Dj();function r(n){return n!=null&&e(n.length)&&!t(n)}return t1=r,t1}var r1,C3;function Ev(){if(C3)return r1;C3=1;var t=see(),e=cee(),r=qh();function n(a){return r(a)?t(a):e(a)}return r1=n,r1}var n1,O3;function uee(){if(O3)return n1;O3=1;var t=ZQ(),e=eee(),r=Ev();function n(a){return t(a,r,e)}return n1=n,n1}var a1,E3;function dee(){if(E3)return a1;E3=1;var t=uee(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,l,c,u,d){var f=l&e,p=t(i),h=p.length,g=t(s),m=g.length;if(h!=m&&!f)return!1;for(var v=h;v--;){var x=p[v];if(!(f?x in s:n.call(s,x)))return!1}var j=d.get(i),b=d.get(s);if(j&&b)return j==s&&b==i;var _=!0;d.set(i,s),d.set(s,i);for(var S=f;++v<h;){x=p[v];var A=i[x],k=s[x];if(c)var O=f?c(k,A,x,s,i,d):c(A,k,x,i,s,d);if(!(O===void 0?A===k||u(A,k,l,c,d):O)){_=!1;break}S||(S=x=="constructor")}if(_&&!S){var T=i.constructor,R=s.constructor;T!=R&&"constructor"in i&&"constructor"in s&&!(typeof T=="function"&&T instanceof T&&typeof R=="function"&&R instanceof R)&&(_=!1)}return d.delete(i),d.delete(s),_}return a1=a,a1}var i1,T3;function fee(){if(T3)return i1;T3=1;var t=bc(),e=vs(),r=t(e,"DataView");return i1=r,i1}var s1,I3;function hee(){if(I3)return s1;I3=1;var t=bc(),e=vs(),r=t(e,"Promise");return s1=r,s1}var o1,R3;function eM(){if(R3)return o1;R3=1;var t=bc(),e=vs(),r=t(e,"Set");return o1=r,o1}var l1,L3;function pee(){if(L3)return l1;L3=1;var t=bc(),e=vs(),r=t(e,"WeakMap");return l1=r,l1}var c1,M3;function mee(){if(M3)return c1;M3=1;var t=fee(),e=jj(),r=hee(),n=eM(),a=pee(),i=co(),s=yL(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=s(t),g=s(e),m=s(r),v=s(n),x=s(a),j=i;return(t&&j(new t(new ArrayBuffer(1)))!=p||e&&j(new e)!=l||r&&j(r.resolve())!=u||n&&j(new n)!=d||a&&j(new a)!=f)&&(j=function(b){var _=i(b),S=_==c?b.constructor:void 0,A=S?s(S):"";if(A)switch(A){case h:return p;case g:return l;case m:return u;case v:return d;case x:return f}return _}),c1=j,c1}var u1,D3;function gee(){if(D3)return u1;D3=1;var t=WL(),e=KL(),r=XQ(),n=dee(),a=mee(),i=ma(),s=XL(),l=JL(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(m,v,x,j,b,_){var S=i(m),A=i(v),k=S?d:a(m),O=A?d:a(v);k=k==u?f:k,O=O==u?f:O;var T=k==f,R=O==f,P=k==O;if(P&&s(m)){if(!s(v))return!1;S=!0,T=!1}if(P&&!T)return _||(_=new t),S||l(m)?e(m,v,x,j,b,_):r(m,v,k,x,j,b,_);if(!(x&c)){var I=T&&h.call(m,"__wrapped__"),M=R&&h.call(v,"__wrapped__");if(I||M){var D=I?m.value():m,K=M?v.value():v;return _||(_=new t),b(D,K,x,j,_)}}return P?(_||(_=new t),n(m,v,x,j,b,_)):!1}return u1=g,u1}var d1,$3;function $j(){if($3)return d1;$3=1;var t=gee(),e=uo();function r(n,a,i,s,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,l)}return d1=r,d1}var f1,F3;function vee(){if(F3)return f1;F3=1;var t=WL(),e=$j(),r=1,n=2;function a(i,s,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var p=l[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<d;){p=l[u];var h=p[0],g=i[h],m=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var v=new t;if(c)var x=c(g,m,h,i,s,v);if(!(x===void 0?e(m,g,r|n,c,v):x))return!1}}return!0}return f1=a,f1}var h1,B3;function tM(){if(B3)return h1;B3=1;var t=nl();function e(r){return r===r&&!t(r)}return h1=e,h1}var p1,q3;function yee(){if(q3)return p1;q3=1;var t=tM(),e=Ev();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],l=n[s];a[i]=[s,l,t(l)]}return a}return p1=r,p1}var m1,U3;function rM(){if(U3)return m1;U3=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return m1=t,m1}var g1,z3;function xee(){if(z3)return g1;z3=1;var t=vee(),e=yee(),r=rM();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return g1=n,g1}var v1,W3;function bee(){if(W3)return v1;W3=1;function t(e,r){return e!=null&&r in Object(e)}return v1=t,v1}var y1,H3;function wee(){if(H3)return y1;H3=1;var t=wL(),e=Lj(),r=ma(),n=Mj(),a=Dj(),i=Av();function s(l,c,u){c=t(c,l);for(var d=-1,f=c.length,p=!1;++d<f;){var h=i(c[d]);if(!(p=l!=null&&u(l,h)))break;l=l[h]}return p||++d!=f?p:(f=l==null?0:l.length,!!f&&a(f)&&n(h,f)&&(r(l)||e(l)))}return y1=s,y1}var x1,V3;function _ee(){if(V3)return x1;V3=1;var t=bee(),e=wee();function r(n,a){return n!=null&&e(n,a,t)}return x1=r,x1}var b1,G3;function jee(){if(G3)return b1;G3=1;var t=$j(),e=_L(),r=_ee(),n=bj(),a=tM(),i=rM(),s=Av(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(s(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,l|c)}}return b1=u,b1}var w1,K3;function wd(){if(K3)return w1;K3=1;function t(e){return e}return w1=t,w1}var _1,Y3;function Nee(){if(Y3)return _1;Y3=1;function t(e){return function(r){return r==null?void 0:r[e]}}return _1=t,_1}var j1,X3;function See(){if(X3)return j1;X3=1;var t=Aj();function e(r){return function(n){return t(n,r)}}return j1=e,j1}var N1,Z3;function Aee(){if(Z3)return N1;Z3=1;var t=Nee(),e=See(),r=bj(),n=Av();function a(i){return r(i)?t(n(i)):e(i)}return N1=a,N1}var S1,J3;function ys(){if(J3)return S1;J3=1;var t=xee(),e=jee(),r=wd(),n=ma(),a=Aee();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return S1=i,S1}var A1,Q3;function nM(){if(Q3)return A1;Q3=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return A1=t,A1}var k1,eC;function kee(){if(eC)return k1;eC=1;function t(e){return e!==e}return k1=t,k1}var P1,tC;function Pee(){if(tC)return P1;tC=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return P1=t,P1}var C1,rC;function Cee(){if(rC)return C1;rC=1;var t=nM(),e=kee(),r=Pee();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return C1=n,C1}var O1,nC;function Oee(){if(nC)return O1;nC=1;var t=Cee();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return O1=e,O1}var E1,aC;function Eee(){if(aC)return E1;aC=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return E1=t,E1}var T1,iC;function Tee(){if(iC)return T1;iC=1;function t(){}return T1=t,T1}var I1,sC;function Iee(){if(sC)return I1;sC=1;var t=eM(),e=Tee(),r=Rj(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return I1=a,I1}var R1,oC;function Ree(){if(oC)return R1;oC=1;var t=HL(),e=Oee(),r=Eee(),n=GL(),a=Iee(),i=Rj(),s=200;function l(c,u,d){var f=-1,p=e,h=c.length,g=!0,m=[],v=m;if(d)g=!1,p=r;else if(h>=s){var x=u?null:a(c);if(x)return i(x);g=!1,p=n,v=new t}else v=u?[]:m;e:for(;++f<h;){var j=c[f],b=u?u(j):j;if(j=d||j!==0?j:0,g&&b===b){for(var _=v.length;_--;)if(v[_]===b)continue e;u&&v.push(b),m.push(j)}else p(v,b,d)||(v!==m&&v.push(b),m.push(j))}return m}return R1=l,R1}var L1,lC;function Lee(){if(lC)return L1;lC=1;var t=ys(),e=Ree();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return L1=r,L1}var Mee=Lee();const cC=dr(Mee);function aM(t,e,r){return e===!0?cC(t,r):Ct(e)?cC(t,e):t}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}var Dee=["ref"];function uC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(r),!0).forEach(function(n){Tv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sM(n.key),n)}}function Fee(t,e,r){return e&&dC(t.prototype,e),r&&dC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bee(t,e,r){return e=Xm(e),qee(t,iM()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function qee(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uee(t)}function Uee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iM=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u5(t,e)}function u5(t,e){return u5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u5(t,e)}function Tv(t,e,r){return e=sM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sM(t){var e=Wee(t,"string");return Bu(e)=="symbol"?e:e+""}function Wee(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hee(t,e){if(t==null)return{};var r=Vee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gee(t){return t.value}function Kee(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=Hee(e,Dee);return X.createElement(Ij,r)}var fC=1,Jl=(function(t){function e(){var r;$ee(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Bee(this,e,[].concat(a)),Tv(r,"lastBoundingBox",{width:-1,height:-1}),r}return zee(e,t),Fee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>fC||Math.abs(a.height-this.lastBoundingBox.height)>fC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ms({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ms(Ms({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ms(Ms({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Kee(i,Ms(Ms({},this.props),{},{payload:aM(d,u,Gee)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ms(Ms({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Fe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(N.PureComponent);Tv(Jl,"displayName","Legend");Tv(Jl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var M1,hC;function Yee(){if(hC)return M1;hC=1;var t=Fh(),e=Lj(),r=ma(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return M1=a,M1}var D1,pC;function oM(){if(pC)return D1;pC=1;var t=YL(),e=Yee();function r(n,a,i,s,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,s,l):t(l,d):s||(l[l.length]=d)}return l}return D1=r,D1}var $1,mC;function Xee(){if(mC)return $1;mC=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(s[u],u,s)===!1)break}return r}}return $1=t,$1}var F1,gC;function Zee(){if(gC)return F1;gC=1;var t=Xee(),e=t();return F1=e,F1}var B1,vC;function lM(){if(vC)return B1;vC=1;var t=Zee(),e=Ev();function r(n,a){return n&&t(n,a,e)}return B1=r,B1}var q1,yC;function Jee(){if(yC)return q1;yC=1;var t=qh();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,l=n?s:-1,c=Object(a);(n?l--:++l<s)&&i(c[l],l,c)!==!1;);return a}}return q1=e,q1}var U1,xC;function Fj(){if(xC)return U1;xC=1;var t=lM(),e=Jee(),r=e(t);return U1=r,U1}var z1,bC;function cM(){if(bC)return z1;bC=1;var t=Fj(),e=qh();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,u){s[++i]=a(l,c,u)}),s}return z1=r,z1}var W1,wC;function Qee(){if(wC)return W1;wC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return W1=t,W1}var H1,_C;function ete(){if(_C)return H1;_C=1;var t=yd();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!s)return 1;if(!i&&!l&&!f&&r<n||f&&a&&s&&!i&&!l||u&&a&&s||!c&&s||!d)return-1}return 0}return H1=e,H1}var V1,jC;function tte(){if(jC)return V1;jC=1;var t=ete();function e(r,n,a){for(var i=-1,s=r.criteria,l=n.criteria,c=s.length,u=a.length;++i<c;){var d=t(s[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return V1=e,V1}var G1,NC;function rte(){if(NC)return G1;NC=1;var t=Sj(),e=Aj(),r=ys(),n=cM(),a=Qee(),i=ZL(),s=tte(),l=wd(),c=ma();function u(d,f,p){f.length?f=t(f,function(m){return c(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[l];var h=-1;f=t(f,i(r));var g=n(d,function(m,v,x){var j=t(f,function(b){return b(m)});return{criteria:j,index:++h,value:m}});return a(g,function(m,v){return s(m,v,p)})}return G1=u,G1}var K1,SC;function nte(){if(SC)return K1;SC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return K1=t,K1}var Y1,AC;function ate(){if(AC)return Y1;AC=1;var t=nte(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,l=-1,c=e(s.length-a,0),u=Array(c);++l<c;)u[l]=s[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=s[l];return d[a]=i(u),t(n,this,d)}}return Y1=r,Y1}var X1,kC;function ite(){if(kC)return X1;kC=1;function t(e){return function(){return e}}return X1=t,X1}var Z1,PC;function uM(){if(PC)return Z1;PC=1;var t=bc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Z1=e,Z1}var J1,CC;function ste(){if(CC)return J1;CC=1;var t=ite(),e=uM(),r=wd(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return J1=n,J1}var Q1,OC;function ote(){if(OC)return Q1;OC=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Q1=n,Q1}var ew,EC;function lte(){if(EC)return ew;EC=1;var t=ste(),e=ote(),r=e(t);return ew=r,ew}var tw,TC;function cte(){if(TC)return tw;TC=1;var t=wd(),e=ate(),r=lte();function n(a,i){return r(e(a,i,t),a+"")}return tw=n,tw}var rw,IC;function Iv(){if(IC)return rw;IC=1;var t=_j(),e=qh(),r=Mj(),n=nl();function a(i,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],i):!1}return rw=a,rw}var nw,RC;function ute(){if(RC)return nw;RC=1;var t=oM(),e=rte(),r=cte(),n=Iv(),a=r(function(i,s){if(i==null)return[];var l=s.length;return l>1&&n(i,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return nw=a,nw}var dte=ute();const Bj=dr(dte);function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function d5(){return d5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d5.apply(this,arguments)}function fte(t,e){return gte(t)||mte(t,e)||pte(t,e)||hte()}function hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(t,e){if(t){if(typeof t=="string")return LC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(t,e)}}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gte(t){if(Array.isArray(t))return t}function MC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(n){vte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vte(t,e,r){return e=yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yte(t){var e=xte(t,"string");return Xf(e)=="symbol"?e:e+""}function xte(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bte(t){return Array.isArray(t)&&wn(t[0])&&wn(t[1])?t.join(" ~ "):t}var wte=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,j=x===void 0?!1:x,b=function(){if(d&&d.length){var I={padding:0,margin:0},M=(p?Bj(d,p):d).map(function(D,K){if(D.type==="none")return null;var $=aw({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),q=D.formatter||f||bte,F=D.value,ee=D.name,fe=F,ue=ee;if(q&&fe!=null&&ue!=null){var B=q(F,ee,D,K,d);if(Array.isArray(B)){var H=fte(B,2);fe=H[0],ue=H[1]}else fe=B}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:$},wn(ue)?X.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,wn(ue)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},fe),X.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},_=aw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=aw({margin:0},u),A=!Rt(m),k=A?m:"",O=Mt("recharts-default-tooltip",h),T=Mt("recharts-tooltip-label",g);A&&v&&d!==void 0&&d!==null&&(k=v(m,d));var R=j?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",d5({className:O,style:_},R),X.createElement("p",{className:T,style:S},X.isValidElement(k)?k:"".concat(k)),b())};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function nm(t,e,r){return e=_te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _te(t){var e=jte(t,"string");return Zf(e)=="symbol"?e:e+""}function jte(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uf="recharts-tooltip-wrapper",Nte={visibility:"hidden"};function Ste(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Mt(uf,nm(nm(nm(nm({},"".concat(uf,"-right"),Fe(r)&&e&&Fe(e.x)&&r>=e.x),"".concat(uf,"-left"),Fe(r)&&e&&Fe(e.x)&&r<e.x),"".concat(uf,"-bottom"),Fe(n)&&e&&Fe(e.y)&&n>=e.y),"".concat(uf,"-top"),Fe(n)&&e&&Fe(e.y)&&n<e.y))}function DC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Fe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Ate(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function kte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=DC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=DC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Ate({translateX:d,translateY:f,useTranslate3d:l})):u=Nte,{cssProperties:u,cssClasses:Ste({translateX:d,translateY:f,coordinate:r})}}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){h5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fM(n.key),n)}}function Ote(t,e,r){return e&&Cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ete(t,e,r){return e=Zm(e),Tte(t,dM()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Tte(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(t)}function Ite(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dM=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function Rte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f5(t,e)}function h5(t,e,r){return e=fM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fM(t){var e=Lte(t,"string");return qu(e)=="symbol"?e:e+""}function Lte(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BC=1,Mte=(function(t){function e(){var r;Pte(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ete(this,e,[].concat(a)),h5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),h5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Rte(e,t),Ote(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>BC||Math.abs(n.height-this.state.lastBoundingBox.height)>BC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,j=a.wrapperStyle,b=kte({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=b.cssClasses,S=b.cssProperties,A=FC(FC({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return X.createElement("div",{tabIndex:-1,className:_,style:A,ref:function(O){n.wrapperNode=O}},u)}}])})(N.PureComponent),Dte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wc={isSsr:Dte()};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){qj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pM(n.key),n)}}function Bte(t,e,r){return e&&Fte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qte(t,e,r){return e=Jm(e),Ute(t,hM()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function Ute(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zte(t)}function zte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p5(t,e)}function p5(t,e){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p5(t,e)}function qj(t,e,r){return e=pM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pM(t){var e=Hte(t,"string");return Uu(e)=="symbol"?e:e+""}function Hte(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vte(t){return t.dataKey}function Gte(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(wte,e)}var Pa=(function(t){function e(){return $te(this,e),qte(this,e,arguments)}return Wte(e,t),Bte(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,j=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=aM(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,Vte));var A=S.length>0;return X.createElement(Mte,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:A,offset:h,position:v,reverseDirection:x,useTranslate3d:j,viewBox:b,wrapperStyle:_},Gte(u,UC(UC({},this.props),{},{payload:S})))}}])})(N.PureComponent);qj(Pa,"displayName","Tooltip");qj(Pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iw,zC;function Kte(){if(zC)return iw;zC=1;var t=vs(),e=function(){return t.Date.now()};return iw=e,iw}var sw,WC;function Yte(){if(WC)return sw;WC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return sw=e,sw}var ow,HC;function Xte(){if(HC)return ow;HC=1;var t=Yte(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ow=r,ow}var lw,VC;function mM(){if(VC)return lw;VC=1;var t=Xte(),e=nl(),r=yd(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||s.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return lw=c,lw}var cw,GC;function Zte(){if(GC)return cw;GC=1;var t=nl(),e=Kte(),r=mM(),n="Expected a function",a=Math.max,i=Math.min;function s(l,c,u){var d,f,p,h,g,m,v=0,x=!1,j=!1,b=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(x=!!u.leading,j="maxWait"in u,p=j?a(r(u.maxWait)||0,c):p,b="trailing"in u?!!u.trailing:b);function _(M){var D=d,K=f;return d=f=void 0,v=M,h=l.apply(K,D),h}function S(M){return v=M,g=setTimeout(O,c),x?_(M):h}function A(M){var D=M-m,K=M-v,$=c-D;return j?i($,p-K):$}function k(M){var D=M-m,K=M-v;return m===void 0||D>=c||D<0||j&&K>=p}function O(){var M=e();if(k(M))return T(M);g=setTimeout(O,A(M))}function T(M){return g=void 0,b&&d?_(M):(d=f=void 0,h)}function R(){g!==void 0&&clearTimeout(g),v=0,d=m=f=g=void 0}function P(){return g===void 0?h:T(e())}function I(){var M=e(),D=k(M);if(d=arguments,f=this,m=M,D){if(g===void 0)return S(m);if(j)return clearTimeout(g),g=setTimeout(O,c),_(m)}return g===void 0&&(g=setTimeout(O,c)),h}return I.cancel=R,I.flush=P,I}return cw=s,cw}var uw,KC;function Jte(){if(KC)return uw;KC=1;var t=Zte(),e=nl(),r="Expected a function";function n(a,i,s){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return uw=n,uw}var Qte=Jte();const gM=dr(Qte);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function am(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ere(t,e,r){return e=tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tre(t){var e=rre(t,"string");return Jf(e)=="symbol"?e:e+""}function rre(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nre(t,e){return ore(t)||sre(t,e)||ire(t,e)||are()}function are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(t,e){if(t){if(typeof t=="string")return XC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XC(t,e)}}function XC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ore(t){if(Array.isArray(t))return t}var Qm=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,j=t.onResize,b=t.style,_=b===void 0?{}:b,S=N.useRef(null),A=N.useRef();A.current=j,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=N.useState({containerWidth:a.width,containerHeight:a.height}),O=nre(k,2),T=O[0],R=O[1],P=N.useCallback(function(M,D){R(function(K){var $=Math.round(M),q=Math.round(D);return K.containerWidth===$&&K.containerHeight===q?K:{containerWidth:$,containerHeight:q}})},[]);N.useEffect(function(){var M=function(ee){var fe,ue=ee[0].contentRect,B=ue.width,H=ue.height;P(B,H),(fe=A.current)===null||fe===void 0||fe.call(A,B,H)};m>0&&(M=gM(M,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),K=S.current.getBoundingClientRect(),$=K.width,q=K.height;return P($,q),D.observe(S.current),function(){D.disconnect()}},[P,m]);var I=N.useMemo(function(){var M=T.containerWidth,D=T.containerHeight;if(M<0||D<0)return null;Ci(Wl(s)||Wl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ci(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=Wl(s)?M:s,$=Wl(c)?D:c;r&&r>0&&(K?$=K/r:$&&(K=$*r),p&&$>p&&($=p)),Ci(K>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,$,s,c,d,f,r);var q=!Array.isArray(h)&&Xs(h.type).endsWith("Chart");return X.Children.map(h,function(F){return X.isValidElement(F)?N.cloneElement(F,am({width:K,height:$},q?{style:am({height:"100%",width:"100%",maxHeight:$,maxWidth:K},F.props.style)}:{})):F})},[r,h,c,p,f,d,T,s]);return X.createElement("div",{id:v?"".concat(v):void 0,className:Mt("recharts-responsive-container",x),style:am(am({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:S},I)}),Uh=function(e){return null};Uh.displayName="Cell";function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function ZC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function m5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(n){lre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lre(t,e,r){return e=cre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cre(t){var e=ure(t,"string");return Qf(e)=="symbol"?e:e+""}function ure(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={widthCache:{},cacheCount:0},dre=2e3,fre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JC="recharts_measurement_span";function hre(t){var e=m5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Rf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wc.isSsr)return{width:0,height:0};var n=hre(r),a=JSON.stringify({text:e,copyStyle:n});if(iu.widthCache[a])return iu.widthCache[a];try{var i=document.getElementById(JC);i||(i=document.createElement("span"),i.setAttribute("id",JC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=m5(m5({},fre),n);Object.assign(i.style,s),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return iu.widthCache[a]=c,++iu.cacheCount>dre&&(iu.cacheCount=0,iu.widthCache={}),c}catch{return{width:0,height:0}}},pre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function eg(t,e){return yre(t)||vre(t,e)||gre(t,e)||mre()}function mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(t,e){if(t){if(typeof t=="string")return QC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function yre(t){if(Array.isArray(t))return t}function xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wre(n.key),n)}}function bre(t,e,r){return e&&eO(t.prototype,e),r&&eO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wre(t){var e=_re(t,"string");return eh(e)=="symbol"?e:e+""}function _re(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sre=Object.keys(vM),xu="NaN";function Are(t,e){return t*vM[e]}var im=(function(){function t(e,r){xre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!jre.test(r)&&(this.num=NaN,this.unit=""),Sre.includes(r)&&(this.num=Are(e,r),this.unit="px")}return bre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Nre.exec(r))!==null&&n!==void 0?n:[],i=eg(a,3),s=i[1],l=i[2];return new t(parseFloat(s),l??"")}}])})();function yM(t){if(t.includes(xu))return xu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=tO.exec(e))!==null&&r!==void 0?r:[],a=eg(n,4),i=a[1],s=a[2],l=a[3],c=im.parse(i??""),u=im.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return xu;e=e.replace(tO,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=rO.exec(e))!==null&&f!==void 0?f:[],h=eg(p,4),g=h[1],m=h[2],v=h[3],x=im.parse(g??""),j=im.parse(v??""),b=m==="+"?x.add(j):x.subtract(j);if(b.isNaN())return xu;e=e.replace(rO,b.toString())}return e}var nO=/\(([^()]*)\)/;function kre(t){for(var e=t;e.includes("(");){var r=nO.exec(e),n=eg(r,2),a=n[1];e=e.replace(nO,yM(a))}return e}function Pre(t){var e=t.replace(/\s+/g,"");return e=kre(e),e=yM(e),e}function Cre(t){try{return Pre(t)}catch{return xu}}function dw(t){var e=Cre(t.slice(5,-1));return e===xu?"":e}var Ore=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ere=["dx","dy","angle","className","breakAll"];function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g5.apply(this,arguments)}function aO(t,e){if(t==null)return{};var r=Tre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iO(t,e){return Mre(t)||Lre(t,e)||Rre(t,e)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rre(t,e){if(t){if(typeof t=="string")return sO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(t,e)}}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Mre(t){if(Array.isArray(t))return t}var xM=/[ \f\n\r\t\v\u2028\u2029]+/,bM=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Rt(r)||(n?i=r.toString().split(""):i=r.toString().split(xM));var s=i.map(function(c){return{word:c,width:Rf(c,a).width}}),l=n?0:Rf(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Dre=function(e,r,n,a,i){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Fe(s),f=l,p=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function($,q){var F=q.word,ee=q.width,fe=$[$.length-1];if(fe&&(a==null||i||fe.width+ee+n<Number(a)))fe.words.push(F),fe.width+=ee+n;else{var ue={words:[F],width:ee};$.push(ue)}return $},[])},h=p(r),g=function(K){return K.reduce(function($,q){return $.width>q.width?$:q})};if(!d)return h;for(var m="…",v=function(K){var $=f.slice(0,K),q=bM({breakAll:u,style:c,children:$+m}).wordsWithComputedWidth,F=p(q),ee=F.length>s||g(F).width>Number(a);return[ee,F]},x=0,j=f.length-1,b=0,_;x<=j&&b<=f.length-1;){var S=Math.floor((x+j)/2),A=S-1,k=v(A),O=iO(k,2),T=O[0],R=O[1],P=v(S),I=iO(P,1),M=I[0];if(!T&&!M&&(x=S+1),T&&M&&(j=S-1),!T&&M){_=R;break}b++}return _||h},oO=function(e){var r=Rt(e)?[]:e.toString().split(xM);return[{words:r}]},$re=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!wc.isSsr){var c,u,d=bM({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return oO(a);return Dre({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return oO(a)},lO="#808080",lc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?lO:v,j=aO(e,Ore),b=N.useMemo(function(){return $re({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),_=j.dx,S=j.dy,A=j.angle,k=j.className,O=j.breakAll,T=aO(j,Ere);if(!wn(n)||!wn(i))return null;var R=n+(Fe(_)?_:0),P=i+(Fe(S)?S:0),I;switch(m){case"start":I=dw("calc(".concat(u,")"));break;case"middle":I=dw("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=dw("calc(".concat(b.length-1," * -").concat(l,")"));break}var M=[];if(f){var D=b[0].width,K=j.width;M.push("scale(".concat((Fe(K)?K/D:1)/D,")"))}return A&&M.push("rotate(".concat(A,", ").concat(R,", ").concat(P,")")),M.length&&(T.transform=M.join(" ")),X.createElement("text",g5({},bt(T,!0),{x:R,y:P,className:Mt("recharts-text",k),textAnchor:h,fill:x.includes("url")?lO:x}),b.map(function($,q){var F=$.words.join(O?"":" ");return X.createElement("tspan",{x:R,dy:q===0?I:l,key:"".concat(F,"-").concat(q)},F)}))};function Ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uj(t){let e,r,n;t.length!==2?(e=Ko,r=(l,c)=>Ko(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ko||t===Fre?t:Bre,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function Bre(){return 0}function wM(t){return t===null?NaN:+t}function*qre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Ure=Uj(Ko),zh=Ure.right;Uj(wM).center;class cO extends Map{constructor(e,r=Hre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(uO(this,e))}has(e){return super.has(uO(this,e))}set(e,r){return super.set(zre(this,e),r)}delete(e){return super.delete(Wre(this,e))}}function uO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zre({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Wre({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Hre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vre(t=Ko){if(t===Ko)return _M;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function _M(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gre=Math.sqrt(50),Kre=Math.sqrt(10),Yre=Math.sqrt(2);function tg(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Gre?10:i>=Kre?5:i>=Yre?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?tg(t,e,r*2):[l,c,u]}function v5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?tg(e,t,r):tg(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function y5(t,e,r){return e=+e,t=+t,r=+r,tg(t,e,r)[2]}function x5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?y5(e,t,r):y5(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function dO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function fO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jM(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?_M:Vre(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+p)),g=Math.min(n,Math.floor(e+(c-u)*f/c+p));jM(t,e,h,g,a)}const i=t[e];let s=r,l=n;for(df(t,r,e),a(t[n],i)>0&&df(t,r,n);s<l;){for(df(t,s,l),++s,--l;a(t[s],i)<0;)++s;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?df(t,r,l):(++l,df(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function df(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Xre(t,e,r){if(t=Float64Array.from(qre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return fO(t);if(e>=1)return dO(t);var n,a=(n-1)*e,i=Math.floor(a),s=dO(jM(t,i).subarray(0,i+1)),l=fO(t.subarray(i+1));return s+(l-s)*(a-i)}}function Zre(t,e,r=wM){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return s+(l-s)*(a-i)}}function Jre(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const b5=Symbol("implicit");function zj(){var t=new cO,e=[],r=[],n=b5;function a(i){let s=t.get(i);if(s===void 0){if(n!==b5)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new cO;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return zj(e,r).unknown(n)},oi.apply(a,arguments),a}function th(){var t=zj().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=a<n,g=h?a:n,m=h?n:a;i=(m-g)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(p-c))*d,s=i*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=Jre(p).map(function(x){return g+i*x});return r(h?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return th(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},oi.apply(f(),arguments)}function NM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return NM(e())},t}function Lf(){return NM(th.apply(null,arguments).paddingInner(1))}function Wj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function SM(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Wh(){}var rh=.7,rg=1/rh,Ou="\\s*([+-]?\\d+)\\s*",nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qre=/^#([0-9a-f]{3,8})$/,ene=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),tne=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),rne=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${nh}\\)$`),nne=new RegExp(`^rgba\\(${ls},${ls},${ls},${nh}\\)$`),ane=new RegExp(`^hsl\\(${nh},${ls},${ls}\\)$`),ine=new RegExp(`^hsla\\(${nh},${ls},${ls},${nh}\\)$`),hO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wj(Wh,ah,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pO,formatHex:pO,formatHex8:sne,formatHsl:one,formatRgb:mO,toString:mO});function pO(){return this.rgb().formatHex()}function sne(){return this.rgb().formatHex8()}function one(){return AM(this).formatHsl()}function mO(){return this.rgb().formatRgb()}function ah(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Qre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?gO(e):r===3?new ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?sm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?sm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ene.exec(t))?new ua(e[1],e[2],e[3],1):(e=tne.exec(t))?new ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rne.exec(t))?sm(e[1],e[2],e[3],e[4]):(e=nne.exec(t))?sm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ane.exec(t))?xO(e[1],e[2]/100,e[3]/100,1):(e=ine.exec(t))?xO(e[1],e[2]/100,e[3]/100,e[4]):hO.hasOwnProperty(t)?gO(hO[t]):t==="transparent"?new ua(NaN,NaN,NaN,0):null}function gO(t){return new ua(t>>16&255,t>>8&255,t&255,1)}function sm(t,e,r,n){return n<=0&&(t=e=r=NaN),new ua(t,e,r,n)}function lne(t){return t instanceof Wh||(t=ah(t)),t?(t=t.rgb(),new ua(t.r,t.g,t.b,t.opacity)):new ua}function w5(t,e,r,n){return arguments.length===1?lne(t):new ua(t,e,r,n??1)}function ua(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Wj(ua,w5,SM(Wh,{brighter(t){return t=t==null?rg:Math.pow(rg,t),new ua(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rh:Math.pow(rh,t),new ua(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ua(Ql(this.r),Ql(this.g),Ql(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vO,formatHex:vO,formatHex8:cne,formatRgb:yO,toString:yO}));function vO(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function cne(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function yO(){const t=ng(this.opacity);return`${t===1?"rgb(":"rgba("}${Ql(this.r)}, ${Ql(this.g)}, ${Ql(this.b)}${t===1?")":`, ${t})`}`}function ng(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ql(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hl(t){return t=Ql(t),(t<16?"0":"")+t.toString(16)}function xO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ki(t,e,r,n)}function AM(t){if(t instanceof ki)return new ki(t.h,t.s,t.l,t.opacity);if(t instanceof Wh||(t=ah(t)),!t)return new ki;if(t instanceof ki)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(e===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new ki(s,l,c,t.opacity)}function une(t,e,r,n){return arguments.length===1?AM(t):new ki(t,e,r,n??1)}function ki(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Wj(ki,une,SM(Wh,{brighter(t){return t=t==null?rg:Math.pow(rg,t),new ki(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rh:Math.pow(rh,t),new ki(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new ua(fw(t>=240?t-240:t+120,a,n),fw(t,a,n),fw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ki(bO(this.h),om(this.s),om(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ng(this.opacity);return`${t===1?"hsl(":"hsla("}${bO(this.h)}, ${om(this.s)*100}%, ${om(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bO(t){return t=(t||0)%360,t<0?t+360:t}function om(t){return Math.max(0,Math.min(1,t||0))}function fw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Hj=t=>()=>t;function dne(t,e){return function(r){return t+r*e}}function fne(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hne(t){return(t=+t)==1?kM:function(e,r){return r-e?fne(e,r,t):Hj(isNaN(e)?r:e)}}function kM(t,e){var r=e-t;return r?dne(t,r):Hj(isNaN(t)?e:t)}const wO=(function t(e){var r=hne(e);function n(a,i){var s=r((a=w5(a)).r,(i=w5(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=kM(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n})(1);function pne(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function mne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=_d(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function vne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ag(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yne(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=_d(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var _5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hw=new RegExp(_5.source,"g");function xne(t){return function(){return t}}function bne(t){return function(e){return t(e)+""}}function wne(t,e){var r=_5.lastIndex=hw.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=_5.exec(t))&&(a=hw.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:ag(n,a)})),r=hw.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?bne(c[0].x):xne(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function _d(t,e){var r=typeof e,n;return e==null||r==="boolean"?Hj(e):(r==="number"?ag:r==="string"?(n=ah(e))?(e=n,wO):wne:e instanceof ah?wO:e instanceof Date?vne:mne(e)?pne:Array.isArray(e)?gne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yne:ag)(t,e)}function Vj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _ne(t,e){e===void 0&&(e=t,t=_d);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function jne(t){return function(){return t}}function ig(t){return+t}var _O=[0,1];function ta(t){return t}function j5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:jne(isNaN(e)?NaN:.5)}function Nne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Sne(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=j5(a,n),i=r(s,i)):(n=j5(n,a),i=r(i,s)),function(l){return i(n(l))}}function Ane(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=j5(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(l){var c=zh(t,l,1,n)-1;return i[c](a[c](l))}}function Hh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rv(){var t=_O,e=_O,r=_d,n,a,i,s=ta,l,c,u;function d(){var p=Math.min(t.length,e.length);return s!==ta&&(s=Nne(t[0],t[p-1])),l=p>2?Ane:Sne,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(a((u||(u=l(e,t.map(n),ag)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,ig),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=Vj,d()},f.clamp=function(p){return arguments.length?(s=p?!0:ta,d()):s!==ta},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function Gj(){return Rv()(ta,ta)}function kne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zu(t){return t=sg(Math.abs(t)),t?t[1]:NaN}function Pne(t,e){return function(r,n){for(var a=r.length,i=[],s=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Cne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var One=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ih(t){if(!(e=One.exec(t)))throw new Error("invalid format: "+t);var e;return new Kj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ih.prototype=Kj.prototype;function Kj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Kj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ene(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var PM;function Tne(t,e){var r=sg(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(PM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+sg(t,Math.max(0,e+i-1))[0]}function jO(t,e){var r=sg(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const NO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jO(t*100,e),r:jO,s:Tne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function SO(t){return t}var AO=Array.prototype.map,kO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ine(t){var e=t.grouping===void 0||t.thousands===void 0?SO:Pne(AO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?SO:Cne(AO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=ih(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,j=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(j=!0,S="g"):NO[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var A=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=m==="$"?n:/[%p]/.test(S)?s:"",O=NO[S],T=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(P){var I=A,M=k,D,K,$;if(S==="c")M=O(P)+M,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?c:O(Math.abs(P),b),_&&(P=Ene(P)),q&&+P==0&&g!=="+"&&(q=!1),I=(q?g==="("?g:l:g==="-"||g==="("?"":g)+I,M=(S==="s"?kO[8+PM/3]:"")+M+(q&&g==="("?")":""),T){for(D=-1,K=P.length;++D<K;)if($=P.charCodeAt(D),48>$||$>57){M=($===46?a+P.slice(D+1):P.slice(D))+M,P=P.slice(0,D);break}}}j&&!v&&(P=e(P,1/0));var F=I.length+P.length+M.length,ee=F<x?new Array(x-F+1).join(p):"";switch(j&&v&&(P=e(ee+P,ee.length?x-M.length:1/0),ee=""),h){case"<":P=I+P+M+ee;break;case"=":P=I+ee+P+M;break;case"^":P=ee.slice(0,F=ee.length>>1)+I+P+M+ee.slice(F);break;default:P=ee+I+P+M;break}return i(P)}return R.toString=function(){return f+""},R}function d(f,p){var h=u((f=ih(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(zu(p)/3)))*3,m=Math.pow(10,-g),v=kO[8+g/3];return function(x){return h(m*x)+v}}return{format:u,formatPrefix:d}}var lm,Yj,CM;Rne({thousands:",",grouping:[3],currency:["$",""]});function Rne(t){return lm=Ine(t),Yj=lm.format,CM=lm.formatPrefix,lm}function Lne(t){return Math.max(0,-zu(Math.abs(t)))}function Mne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function Dne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function OM(t,e,r,n){var a=x5(t,e,r),i;switch(n=ih(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Mne(a,s))&&(n.precision=i),CM(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Dne(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Lne(a))&&(n.precision=i-(n.type==="%")*2);break}}return Yj(n)}function al(t){var e=t.domain;return t.ticks=function(r){var n=e();return v5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return OM(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=y5(s,l,r),u===c)return n[a]=s,n[i]=l,e(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function og(){var t=Gj();return t.copy=function(){return Hh(t,og())},oi.apply(t,arguments),al(t)}function EM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ig),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return EM(t).unknown(e)},t=arguments.length?Array.from(t,ig):[0,1],al(r)}function TM(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function PO(t){return Math.log(t)}function CO(t){return Math.exp(t)}function $ne(t){return-Math.log(-t)}function Fne(t){return-Math.exp(-t)}function Bne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qne(t){return t===10?Bne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Une(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OO(t){return(e,r)=>-t(-e,r)}function Xj(t){const e=t(PO,CO),r=e.domain;let n=10,a,i;function s(){return a=Une(n),i=qne(n),r()[0]<0?(a=OO(a),i=OO(i),t($ne,Fne)):t(PO,CO),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(m=p<0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(m=p>0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=v5(u,d,v))}else x=v5(p,h,Math.min(h-p,v)).map(i);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ih(c)).precision==null&&(c.trim=!0),c=Yj(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(TM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function IM(){const t=Xj(Rv()).domain([1,10]);return t.copy=()=>Hh(t,IM()).base(t.base()),oi.apply(t,arguments),t}function EO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zj(t){var e=1,r=t(EO(e),TO(e));return r.constant=function(n){return arguments.length?t(EO(e=+n),TO(e)):e},al(r)}function RM(){var t=Zj(Rv());return t.copy=function(){return Hh(t,RM()).constant(t.constant())},oi.apply(t,arguments)}function IO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wne(t){return t<0?-t*t:t*t}function Jj(t){var e=t(ta,ta),r=1;function n(){return r===1?t(ta,ta):r===.5?t(zne,Wne):t(IO(r),IO(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},al(e)}function Qj(){var t=Jj(Rv());return t.copy=function(){return Hh(t,Qj()).exponent(t.exponent())},oi.apply(t,arguments),t}function Hne(){return Qj.apply(null,arguments).exponent(.5)}function RO(t){return Math.sign(t)*t*t}function Vne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LM(){var t=Gj(),e=[0,1],r=!1,n;function a(i){var s=Vne(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(RO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,ig)).map(RO)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return LM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},oi.apply(a,arguments),al(a)}function MM(){var t=[],e=[],r=[],n;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=Zre(t,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:e[zh(r,s)]}return i.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ko),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return MM().domain(t).range(e).unknown(n)},oi.apply(i,arguments)}function DM(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[zh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return DM().domain([t,e]).range(a).unknown(i)},oi.apply(al(s),arguments)}function $M(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[zh(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return $M().domain(t).range(e).unknown(r)},oi.apply(a,arguments)}const pw=new Date,mw=new Date;function _n(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<s);return c},a.filter=i=>_n(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(pw.setTime(+i),mw.setTime(+s),t(pw),t(mw),Math.floor(r(pw,mw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const lg=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):lg);lg.range;const Ws=1e3,ei=Ws*60,Hs=ei*60,ao=Hs*24,eN=ao*7,LO=ao*30,gw=ao*365,Vl=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ws)},(t,e)=>(e-t)/Ws,t=>t.getUTCSeconds());Vl.range;const tN=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ws)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getMinutes());tN.range;const rN=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getUTCMinutes());rN.range;const nN=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ws-t.getMinutes()*ei)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getHours());nN.range;const aN=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hs)},(t,e)=>(e-t)/Hs,t=>t.getUTCHours());aN.range;const Vh=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ei)/ao,t=>t.getDate()-1);Vh.range;const Lv=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>t.getUTCDate()-1);Lv.range;const FM=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>Math.floor(t/ao));FM.range;function _c(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ei)/eN)}const Mv=_c(0),cg=_c(1),Gne=_c(2),Kne=_c(3),Wu=_c(4),Yne=_c(5),Xne=_c(6);Mv.range;cg.range;Gne.range;Kne.range;Wu.range;Yne.range;Xne.range;function jc(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/eN)}const Dv=jc(0),ug=jc(1),Zne=jc(2),Jne=jc(3),Hu=jc(4),Qne=jc(5),eae=jc(6);Dv.range;ug.range;Zne.range;Jne.range;Hu.range;Qne.range;eae.range;const iN=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iN.range;const sN=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());sN.range;const io=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});io.range;const so=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});so.range;function BM(t,e,r,n,a,i){const s=[[Vl,1,Ws],[Vl,5,5*Ws],[Vl,15,15*Ws],[Vl,30,30*Ws],[i,1,ei],[i,5,5*ei],[i,15,15*ei],[i,30,30*ei],[a,1,Hs],[a,3,3*Hs],[a,6,6*Hs],[a,12,12*Hs],[n,1,ao],[n,2,2*ao],[r,1,eN],[e,1,LO],[e,3,3*LO],[t,1,gw]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=Uj(([,,v])=>v).right(s,p);if(h===s.length)return t.every(x5(u/gw,d/gw,f));if(h===0)return lg.every(Math.max(x5(u,d,f),1));const[g,m]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(m)}return[l,c]}const[tae,rae]=BM(so,sN,Dv,FM,aN,rN),[nae,aae]=BM(io,iN,Mv,Vh,nN,tN);function vw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ff(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iae(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=hf(a),d=pf(a),f=hf(i),p=pf(i),h=hf(s),g=pf(s),m=hf(l),v=pf(l),x=hf(c),j=pf(c),b={a:q,A:F,b:ee,B:fe,c:null,d:qO,e:qO,f:Pae,g:$ae,G:Bae,H:Sae,I:Aae,j:kae,L:qM,m:Cae,M:Oae,p:ue,q:B,Q:WO,s:HO,S:Eae,u:Tae,U:Iae,V:Rae,w:Lae,W:Mae,x:null,X:null,y:Dae,Y:Fae,Z:qae,"%":zO},_={a:H,A:V,b:W,B:Q,c:null,d:UO,e:UO,f:Hae,g:tie,G:nie,H:Uae,I:zae,j:Wae,L:zM,m:Vae,M:Gae,p:re,q:oe,Q:WO,s:HO,S:Kae,u:Yae,U:Xae,V:Zae,w:Jae,W:Qae,x:null,X:null,y:eie,Y:rie,Z:aie,"%":zO},S={a:R,A:P,b:I,B:M,c:D,d:FO,e:FO,f:wae,g:$O,G:DO,H:BO,I:BO,j:vae,L:bae,m:gae,M:yae,p:T,q:mae,Q:jae,s:Nae,S:xae,u:uae,U:dae,V:fae,w:cae,W:hae,x:K,X:$,y:$O,Y:DO,Z:pae,"%":_ae};b.x=A(r,b),b.X=A(n,b),b.c=A(e,b),_.x=A(r,_),_.X=A(n,_),_.c=A(e,_);function A(ne,de){return function(pe){var le=[],Ne=-1,ge=0,te=ne.length,qe,Ue,ze;for(pe instanceof Date||(pe=new Date(+pe));++Ne<te;)ne.charCodeAt(Ne)===37&&(le.push(ne.slice(ge,Ne)),(Ue=MO[qe=ne.charAt(++Ne)])!=null?qe=ne.charAt(++Ne):Ue=qe==="e"?" ":"0",(ze=de[qe])&&(qe=ze(pe,Ue)),le.push(qe),ge=Ne+1);return le.push(ne.slice(ge,Ne)),le.join("")}}function k(ne,de){return function(pe){var le=ff(1900,void 0,1),Ne=O(le,ne,pe+="",0),ge,te;if(Ne!=pe.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(de&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(ge=yw(ff(le.y,0,1)),te=ge.getUTCDay(),ge=te>4||te===0?ug.ceil(ge):ug(ge),ge=Lv.offset(ge,(le.V-1)*7),le.y=ge.getUTCFullYear(),le.m=ge.getUTCMonth(),le.d=ge.getUTCDate()+(le.w+6)%7):(ge=vw(ff(le.y,0,1)),te=ge.getDay(),ge=te>4||te===0?cg.ceil(ge):cg(ge),ge=Vh.offset(ge,(le.V-1)*7),le.y=ge.getFullYear(),le.m=ge.getMonth(),le.d=ge.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),te="Z"in le?yw(ff(le.y,0,1)).getUTCDay():vw(ff(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(te+5)%7:le.w+le.U*7-(te+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,yw(le)):vw(le)}}function O(ne,de,pe,le){for(var Ne=0,ge=de.length,te=pe.length,qe,Ue;Ne<ge;){if(le>=te)return-1;if(qe=de.charCodeAt(Ne++),qe===37){if(qe=de.charAt(Ne++),Ue=S[qe in MO?de.charAt(Ne++):qe],!Ue||(le=Ue(ne,pe,le))<0)return-1}else if(qe!=pe.charCodeAt(le++))return-1}return le}function T(ne,de,pe){var le=u.exec(de.slice(pe));return le?(ne.p=d.get(le[0].toLowerCase()),pe+le[0].length):-1}function R(ne,de,pe){var le=h.exec(de.slice(pe));return le?(ne.w=g.get(le[0].toLowerCase()),pe+le[0].length):-1}function P(ne,de,pe){var le=f.exec(de.slice(pe));return le?(ne.w=p.get(le[0].toLowerCase()),pe+le[0].length):-1}function I(ne,de,pe){var le=x.exec(de.slice(pe));return le?(ne.m=j.get(le[0].toLowerCase()),pe+le[0].length):-1}function M(ne,de,pe){var le=m.exec(de.slice(pe));return le?(ne.m=v.get(le[0].toLowerCase()),pe+le[0].length):-1}function D(ne,de,pe){return O(ne,e,de,pe)}function K(ne,de,pe){return O(ne,r,de,pe)}function $(ne,de,pe){return O(ne,n,de,pe)}function q(ne){return s[ne.getDay()]}function F(ne){return i[ne.getDay()]}function ee(ne){return c[ne.getMonth()]}function fe(ne){return l[ne.getMonth()]}function ue(ne){return a[+(ne.getHours()>=12)]}function B(ne){return 1+~~(ne.getMonth()/3)}function H(ne){return s[ne.getUTCDay()]}function V(ne){return i[ne.getUTCDay()]}function W(ne){return c[ne.getUTCMonth()]}function Q(ne){return l[ne.getUTCMonth()]}function re(ne){return a[+(ne.getUTCHours()>=12)]}function oe(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var de=A(ne+="",b);return de.toString=function(){return ne},de},parse:function(ne){var de=k(ne+="",!1);return de.toString=function(){return ne},de},utcFormat:function(ne){var de=A(ne+="",_);return de.toString=function(){return ne},de},utcParse:function(ne){var de=k(ne+="",!0);return de.toString=function(){return ne},de}}}var MO={"-":"",_:" ",0:"0"},On=/^\s*\d+/,sae=/^%/,oae=/[\\^$*+?|[\]().{}]/g;function tr(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function lae(t){return t.replace(oae,"\\$&")}function hf(t){return new RegExp("^(?:"+t.map(lae).join("|")+")","i")}function pf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function cae(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function uae(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function dae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function DO(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $O(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mae(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function gae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function FO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function vae(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function BO(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function yae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xae(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function bae(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wae(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _ae(t,e,r){var n=sae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jae(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Nae(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function qO(t,e){return tr(t.getDate(),e,2)}function Sae(t,e){return tr(t.getHours(),e,2)}function Aae(t,e){return tr(t.getHours()%12||12,e,2)}function kae(t,e){return tr(1+Vh.count(io(t),t),e,3)}function qM(t,e){return tr(t.getMilliseconds(),e,3)}function Pae(t,e){return qM(t,e)+"000"}function Cae(t,e){return tr(t.getMonth()+1,e,2)}function Oae(t,e){return tr(t.getMinutes(),e,2)}function Eae(t,e){return tr(t.getSeconds(),e,2)}function Tae(t){var e=t.getDay();return e===0?7:e}function Iae(t,e){return tr(Mv.count(io(t)-1,t),e,2)}function UM(t){var e=t.getDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function Rae(t,e){return t=UM(t),tr(Wu.count(io(t),t)+(io(t).getDay()===4),e,2)}function Lae(t){return t.getDay()}function Mae(t,e){return tr(cg.count(io(t)-1,t),e,2)}function Dae(t,e){return tr(t.getFullYear()%100,e,2)}function $ae(t,e){return t=UM(t),tr(t.getFullYear()%100,e,2)}function Fae(t,e){return tr(t.getFullYear()%1e4,e,4)}function Bae(t,e){var r=t.getDay();return t=r>=4||r===0?Wu(t):Wu.ceil(t),tr(t.getFullYear()%1e4,e,4)}function qae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tr(e/60|0,"0",2)+tr(e%60,"0",2)}function UO(t,e){return tr(t.getUTCDate(),e,2)}function Uae(t,e){return tr(t.getUTCHours(),e,2)}function zae(t,e){return tr(t.getUTCHours()%12||12,e,2)}function Wae(t,e){return tr(1+Lv.count(so(t),t),e,3)}function zM(t,e){return tr(t.getUTCMilliseconds(),e,3)}function Hae(t,e){return zM(t,e)+"000"}function Vae(t,e){return tr(t.getUTCMonth()+1,e,2)}function Gae(t,e){return tr(t.getUTCMinutes(),e,2)}function Kae(t,e){return tr(t.getUTCSeconds(),e,2)}function Yae(t){var e=t.getUTCDay();return e===0?7:e}function Xae(t,e){return tr(Dv.count(so(t)-1,t),e,2)}function WM(t){var e=t.getUTCDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function Zae(t,e){return t=WM(t),tr(Hu.count(so(t),t)+(so(t).getUTCDay()===4),e,2)}function Jae(t){return t.getUTCDay()}function Qae(t,e){return tr(ug.count(so(t)-1,t),e,2)}function eie(t,e){return tr(t.getUTCFullYear()%100,e,2)}function tie(t,e){return t=WM(t),tr(t.getUTCFullYear()%100,e,2)}function rie(t,e){return tr(t.getUTCFullYear()%1e4,e,4)}function nie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Hu(t):Hu.ceil(t),tr(t.getUTCFullYear()%1e4,e,4)}function aie(){return"+0000"}function zO(){return"%"}function WO(t){return+t}function HO(t){return Math.floor(+t/1e3)}var su,HM,VM;iie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iie(t){return su=iae(t),HM=su.format,su.parse,VM=su.utcFormat,su.utcParse,su}function sie(t){return new Date(t)}function oie(t){return t instanceof Date?+t:+new Date(+t)}function oN(t,e,r,n,a,i,s,l,c,u){var d=Gj(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),j=u("%b %d"),b=u("%B"),_=u("%Y");function S(A){return(c(A)<A?h:l(A)<A?g:s(A)<A?m:i(A)<A?v:n(A)<A?a(A)<A?x:j:r(A)<A?b:_)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?p(Array.from(A,oie)):p().map(sie)},d.ticks=function(A){var k=p();return t(k[0],k[k.length-1],A??10)},d.tickFormat=function(A,k){return k==null?S:u(k)},d.nice=function(A){var k=p();return(!A||typeof A.range!="function")&&(A=e(k[0],k[k.length-1],A??10)),A?p(TM(k,A)):d},d.copy=function(){return Hh(d,oN(t,e,r,n,a,i,s,l,c,u))},d}function lie(){return oi.apply(oN(nae,aae,io,iN,Mv,Vh,nN,tN,Vl,HM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cie(){return oi.apply(oN(tae,rae,so,sN,Dv,Lv,aN,rN,Vl,VM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $v(){var t=0,e=1,r,n,a,i,s=ta,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),u):[s(0),s(1)]}}return u.range=d(_d),u.rangeRound=d(Vj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function il(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function GM(){var t=al($v()(ta));return t.copy=function(){return il(t,GM())},fo.apply(t,arguments)}function KM(){var t=Xj($v()).domain([1,10]);return t.copy=function(){return il(t,KM()).base(t.base())},fo.apply(t,arguments)}function YM(){var t=Zj($v());return t.copy=function(){return il(t,YM()).constant(t.constant())},fo.apply(t,arguments)}function lN(){var t=Jj($v());return t.copy=function(){return il(t,lN()).exponent(t.exponent())},fo.apply(t,arguments)}function uie(){return lN.apply(null,arguments).exponent(.5)}function XM(){var t=[],e=ta;function r(n){if(n!=null&&!isNaN(n=+n))return e((zh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ko),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Xre(t,i/n))},r.copy=function(){return XM(e).domain(t)},fo.apply(r,arguments)}function Fv(){var t=0,e=.5,r=1,n=1,a,i,s,l,c,u=ta,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function g(m){return function(v){var x,j,b;return arguments.length?([x,j,b]=v,u=_ne(m,[x,j,b]),h):[u(0),u(.5),u(1)]}}return h.range=g(_d),h.rangeRound=g(Vj),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(t),i=m(e),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function ZM(){var t=al(Fv()(ta));return t.copy=function(){return il(t,ZM())},fo.apply(t,arguments)}function JM(){var t=Xj(Fv()).domain([.1,1,10]);return t.copy=function(){return il(t,JM()).base(t.base())},fo.apply(t,arguments)}function QM(){var t=Zj(Fv());return t.copy=function(){return il(t,QM()).constant(t.constant())},fo.apply(t,arguments)}function cN(){var t=Jj(Fv());return t.copy=function(){return il(t,cN()).exponent(t.exponent())},fo.apply(t,arguments)}function die(){return cN.apply(null,arguments).exponent(.5)}const VO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:th,scaleDiverging:ZM,scaleDivergingLog:JM,scaleDivergingPow:cN,scaleDivergingSqrt:die,scaleDivergingSymlog:QM,scaleIdentity:EM,scaleImplicit:b5,scaleLinear:og,scaleLog:IM,scaleOrdinal:zj,scalePoint:Lf,scalePow:Qj,scaleQuantile:MM,scaleQuantize:DM,scaleRadial:LM,scaleSequential:GM,scaleSequentialLog:KM,scaleSequentialPow:lN,scaleSequentialQuantile:XM,scaleSequentialSqrt:uie,scaleSequentialSymlog:YM,scaleSqrt:Hne,scaleSymlog:RM,scaleThreshold:$M,scaleTime:lie,scaleUtc:cie,tickFormat:OM},Symbol.toStringTag,{value:"Module"}));var xw,GO;function Bv(){if(GO)return xw;GO=1;var t=yd();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,d=l}return d}return xw=e,xw}var bw,KO;function eD(){if(KO)return bw;KO=1;function t(e,r){return e>r}return bw=t,bw}var ww,YO;function fie(){if(YO)return ww;YO=1;var t=Bv(),e=eD(),r=wd();function n(a){return a&&a.length?t(a,r,e):void 0}return ww=n,ww}var hie=fie();const qv=dr(hie);var _w,XO;function tD(){if(XO)return _w;XO=1;function t(e,r){return e<r}return _w=t,_w}var jw,ZO;function pie(){if(ZO)return jw;ZO=1;var t=Bv(),e=tD(),r=wd();function n(a){return a&&a.length?t(a,r,e):void 0}return jw=n,jw}var mie=pie();const Uv=dr(mie);var Nw,JO;function gie(){if(JO)return Nw;JO=1;var t=Sj(),e=ys(),r=cM(),n=ma();function a(i,s){var l=n(i)?t:r;return l(i,e(s,3))}return Nw=a,Nw}var Sw,QO;function vie(){if(QO)return Sw;QO=1;var t=oM(),e=gie();function r(n,a){return t(e(n,a),1)}return Sw=r,Sw}var yie=vie();const xie=dr(yie);var Aw,eE;function bie(){if(eE)return Aw;eE=1;var t=$j();function e(r,n){return t(r,n)}return Aw=e,Aw}var wie=bie();const Gh=dr(wie);var jd=1e9,_ie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dN,Dr=!0,si="[DecimalError] ",ec=si+"Invalid argument: ",uN=si+"Exponent out of range: ",Nd=Math.floor,Ml=Math.pow,jie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ea,An=1e7,Er=7,rD=9007199254740991,dg=Nd(rD/Er),Ze={};Ze.absoluteValue=Ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ze.comparedTo=Ze.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Er;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(t){return Zs(this,new this.constructor(t))};Ze.dividedToIntegerBy=Ze.idiv=function(t){var e=this,r=e.constructor;return yr(Zs(e,new r(t),0,1),r.precision)};Ze.equals=Ze.eq=function(t){return!this.cmp(t)};Ze.exponent=function(){return cn(this)};Ze.greaterThan=Ze.gt=function(t){return this.cmp(t)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(t){return this.cmp(t)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(t){return this.cmp(t)<0};Ze.lessThanOrEqualTo=Ze.lte=function(t){return this.cmp(t)<1};Ze.logarithm=Ze.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ea))throw Error(si+"NaN");if(r.s<1)throw Error(si+(r.s?"NaN":"-Infinity"));return r.eq(Ea)?new n(0):(Dr=!1,e=Zs(sh(r,i),sh(t,i),i),Dr=!0,yr(e,a))};Ze.minus=Ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iD(e,t):nD(e,(t.s=-t.s,t))};Ze.modulo=Ze.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(si+"NaN");return r.s?(Dr=!1,e=Zs(r,t,0,1).times(t),Dr=!0,r.minus(e)):yr(new n(r),a)};Ze.naturalExponential=Ze.exp=function(){return aD(this)};Ze.naturalLogarithm=Ze.ln=function(){return sh(this)};Ze.negated=Ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ze.plus=Ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nD(e,t):iD(e,(t.s=-t.s,t))};Ze.precision=Ze.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ec+t);if(e=cn(a)+1,n=a.d.length-1,r=n*Er+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ze.squareRoot=Ze.sqrt=function(){var t,e,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(si+"NaN")}for(t=cn(l),Dr=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=is(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Nd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Zs(l,i,s+2)).times(.5),is(i.d).slice(0,s)===(e=is(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(yr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;s+=4}return Dr=!0,yr(n,r)};Ze.times=Ze.mul=function(t){var e,r,n,a,i,s,l,c,u,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*p[a-n-1]+e,i[a--]=l%An|0,e=l/An|0;i[a]=(i[a]+e)%An|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Dr?yr(t,f.precision):t};Ze.toDecimalPlaces=Ze.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(fs(t,0,jd),e===void 0?e=n.rounding:fs(e,0,8),yr(r,t+cn(r)+1,e))};Ze.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=cc(n,!0):(fs(t,0,jd),e===void 0?e=a.rounding:fs(e,0,8),n=yr(new a(n),t+1,e),r=cc(n,!0,t+1)),r};Ze.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?cc(a):(fs(t,0,jd),e===void 0?e=i.rounding:fs(e,0,8),n=yr(new i(a),t+cn(a)+1,e),r=cc(n.abs(),!1,t+cn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var t=this,e=t.constructor;return yr(new e(t),cn(t)+1,e.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(t){var e,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ea);if(l=new c(l),!l.s){if(t.s<1)throw Error(si+"Infinity");return l}if(l.eq(Ea))return l;if(n=c.precision,t.eq(Ea))return yr(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=l.s,s){if((r=d<0?-d:d)<=rD){for(a=new c(Ea),e=Math.ceil(n/Er+4),Dr=!1;r%2&&(a=a.times(l),rE(a.d,e)),r=Nd(r/2),r!==0;)l=l.times(l),rE(l.d,e);return Dr=!0,t.s<0?new c(Ea).div(a):yr(a,n)}}else if(i<0)throw Error(si+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dr=!1,a=t.times(sh(l,n+u)),Dr=!0,a=aD(a),a.s=i,a};Ze.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=cn(a),n=cc(a,r<=i.toExpNeg||r>=i.toExpPos)):(fs(t,1,jd),e===void 0?e=i.rounding:fs(e,0,8),a=yr(new i(a),t,e),r=cn(a),n=cc(a,t<=r||r<=i.toExpNeg,t)),n};Ze.toSignificantDigits=Ze.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(fs(t,1,jd),e===void 0?e=n.rounding:fs(e,0,8)),yr(new n(r),t,e)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),r=t.constructor;return cc(t,e<=r.toExpNeg||e>=r.toExpPos)};function nD(t,e){var r,n,a,i,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dr?yr(e,f):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Er),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/An|0,c[i]%=An;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Dr?yr(e,f):e}function fs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ec+t)}function is(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=Er-n.length,r&&(i+=Mo(r)),i+=n;s=t[e],n=s+"",r=Er-n.length,r&&(i+=Mo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Zs=(function(){function t(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%An|0,s=i/An|0;return s&&n.unshift(s),n}function e(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*An+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,p,h,g,m,v,x,j,b,_,S,A,k,O,T=n.constructor,R=n.s==a.s?1:-1,P=n.d,I=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(si+"Division by zero");for(c=n.e-a.e,k=I.length,S=P.length,h=new T(R),g=h.d=[],u=0;I[u]==(P[u]||0);)++u;if(I[u]>(P[u]||0)&&--c,i==null?j=i=T.precision:s?j=i+(cn(n)-cn(a))+1:j=i,j<0)return new T(0);if(j=j/Er+2|0,u=0,k==1)for(d=0,I=I[0],j++;(u<S||d)&&j--;u++)b=d*An+(P[u]||0),g[u]=b/I|0,d=b%I|0;else{for(d=An/(I[0]+1)|0,d>1&&(I=t(I,d),P=t(P,d),k=I.length,S=P.length),_=k,m=P.slice(0,k),v=m.length;v<k;)m[v++]=0;O=I.slice(),O.unshift(0),A=I[0],I[1]>=An/2&&++A;do d=0,l=e(I,m,k,v),l<0?(x=m[0],k!=v&&(x=x*An+(m[1]||0)),d=x/A|0,d>1?(d>=An&&(d=An-1),f=t(I,d),p=f.length,v=m.length,l=e(f,m,p,v),l==1&&(d--,r(f,k<p?O:I,p))):(d==0&&(l=d=1),f=I.slice()),p=f.length,p<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=e(I,m,k,v),l<1&&(d++,r(m,k<v?O:I,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=P[_]||0:(m=[P[_]],v=1);while((_++<S||m[0]!==void 0)&&j--)}return g[0]||g.shift(),h.e=c,yr(h,s?i+cn(h)+1:i)}})();function aD(t,e){var r,n,a,i,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(cn(t)>16)throw Error(uN+cn(t));if(!t.s)return new d(Ea);for(Dr=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Ml(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ea),d.precision=l;;){if(a=yr(a.times(t),l),r=r.times(++c),s=i.plus(Zs(a,r,l)),is(s.d).slice(0,l)===is(i.d).slice(0,l)){for(;u--;)i=yr(i.times(i),l);return d.precision=f,e==null?(Dr=!0,yr(i,f)):i}i=s}}function cn(t){for(var e=t.e*Er,r=t.d[0];r>=10;r/=10)e++;return e}function kw(t,e,r){if(e>t.LN10.sd())throw Dr=!0,r&&(t.precision=r),Error(si+"LN10 precision limit exceeded");return yr(new t(t.LN10),e)}function Mo(t){for(var e="";t--;)e+="0";return e}function sh(t,e){var r,n,a,i,s,l,c,u,d,f=1,p=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(si+(h.s?"NaN":"-Infinity"));if(h.eq(Ea))return new m(0);if(e==null?(Dr=!1,u=v):u=e,h.eq(10))return e==null&&(Dr=!0),kw(m,u);if(u+=p,m.precision=u,r=is(g),n=r.charAt(0),i=cn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=is(h.d),n=r.charAt(0),f++;i=cn(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return c=kw(m,u+2,v).times(i+""),h=sh(new m(n+"."+r.slice(1)),u-p).plus(c),m.precision=v,e==null?(Dr=!0,yr(h,v)):h;for(l=s=h=Zs(h.minus(Ea),h.plus(Ea),u),d=yr(h.times(h),u),a=3;;){if(s=yr(s.times(d),u),c=l.plus(Zs(s,new m(a),u)),is(c.d).slice(0,u)===is(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(kw(m,u+2,v).times(i+""))),l=Zs(l,new m(f),u),m.precision=v,e==null?(Dr=!0,yr(l,v)):l;l=c,a+=2}}function tE(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Nd(r/Er),t.d=[],n=(r+1)%Er,r<0&&(n+=Er),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Er;n<a;)t.d.push(+e.slice(n,n+=Er));e=e.slice(n),n=Er-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Dr&&(t.e>dg||t.e<-dg))throw Error(uN+r)}else t.s=0,t.e=0,t.d=[0];return t}function yr(t,e,r){var n,a,i,s,l,c,u,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=Er,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Er),i=f.length,d>=i)return t;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Er,a=n-Er+s}if(r!==void 0&&(i=Ml(10,s-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ml(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=cn(t),f.length=1,e=e-i-1,f[0]=Ml(10,(Er-e%Er)%Er),t.e=Nd(-e/Er)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ml(10,Er-n),f[d]=a>0?(u/Ml(10,s-a)%Ml(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==An&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=An)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Dr&&(t.e>dg||t.e<-dg))throw Error(uN+cn(t));return t}function iD(t,e){var r,n,a,i,s,l,c,u,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Dr?yr(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Er),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=An-1;--c[i],c[a]+=An}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dr?yr(e,h):e):new p(0)}function cc(t,e,r){var n,a=cn(t),i=is(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Mo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Mo(-a-1)+i,r&&(n=r-s)>0&&(i+=Mo(n))):a>=s?(i+=Mo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Mo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Mo(n))),t.s<0?"-"+i:i}function rE(t,e){if(t.length>e)return t.length=e,!0}function sD(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ec+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return tE(s,i.toString())}else if(typeof i!="string")throw Error(ec+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,jie.test(i))tE(s,i);else throw Error(ec+i)}if(a.prototype=Ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=sD,a.config=a.set=Nie,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function Nie(t){if(!t||typeof t!="object")throw Error(si+"Object expected");var e,r,n,a=["precision",1,jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Nd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ec+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ec+r+": "+n);return this}var dN=sD(_ie);Ea=new dN(1);const hr=dN;function Sie(t){return Cie(t)||Pie(t)||kie(t)||Aie()}function Aie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){if(t){if(typeof t=="string")return N5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(t,e)}}function Pie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cie(t){if(Array.isArray(t))return N5(t)}function N5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Oie=function(e){return e},oD={},lD=function(e){return e===oD},nE=function(e){return function r(){return arguments.length===0||arguments.length===1&&lD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Eie=function t(e,r){return e===1?r:nE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==oD}).length;return s>=e?r.apply(void 0,a):t(e-s,nE(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return lD(f)?c.shift():f});return r.apply(void 0,Sie(d).concat(c))}))})},zv=function(e){return Eie(e.length,e)},S5=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},Tie=zv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Iie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Oie;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},A5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cD=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function Rie(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function Lie(t,e,r){for(var n=new hr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Mie=zv(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),Die=zv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),$ie=zv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Wv={rangeStep:Lie,getDigitCount:Rie,interpolateNumber:Mie,uninterpolateNumber:Die,uninterpolateTruncation:$ie};function k5(t){return qie(t)||Bie(t)||uD(t)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qie(t){if(Array.isArray(t))return P5(t)}function oh(t,e){return Wie(t)||zie(t,e)||uD(t,e)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uD(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zie(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Wie(t){if(Array.isArray(t))return t}function dD(t){var e=oh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function fD(t,e,r){if(t.lte(0))return new hr(0);var n=Wv.getDigitCount(t.toNumber()),a=new hr(10).pow(n),i=t.div(a),s=n!==1?.05:.1,l=new hr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return e?c:new hr(Math.ceil(c))}function Hie(t,e,r){var n=1,a=new hr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new hr(10).pow(Wv.getDigitCount(t)-1),a=new hr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new hr(Math.floor(t)))}else t===0?a=new hr(Math.floor((e-1)/2)):r||(a=new hr(Math.floor(t)));var s=Math.floor((e-1)/2),l=Iie(Tie(function(c){return a.add(new hr(c-s).mul(n)).toNumber()}),S5);return l(0,e)}function hD(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var i=fD(new hr(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new hr(0):(s=new hr(t).add(e).div(2),s=s.sub(new hr(s).mod(i)));var l=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new hr(e).sub(s).div(i).toNumber()),u=l+c+1;return u>r?hD(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:s.sub(new hr(l).mul(i)),tickMax:s.add(new hr(c).mul(i))})}function Vie(t){var e=oh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=dD([r,n]),c=oh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(k5(S5(0,a-1).map(function(){return 1/0}))):[].concat(k5(S5(0,a-1).map(function(){return-1/0})),[d]);return r>n?A5(f):f}if(u===d)return Hie(u,a,i);var p=hD(u,d,s,i),h=p.step,g=p.tickMin,m=p.tickMax,v=Wv.rangeStep(g,m.add(new hr(.1).mul(h)),h);return r>n?A5(v):v}function Gie(t,e){var r=oh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=dD([n,a]),l=oh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=fD(new hr(u).sub(c).div(d-1),i,0),p=[].concat(k5(Wv.rangeStep(new hr(c),new hr(u).sub(new hr(.99).mul(f)),f)),[u]);return n>a?A5(p):p}var Kie=cD(Vie),Yie=cD(Gie),Xie="Invariant failed";function uc(t,e){throw new Error(Xie)}var Zie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fg.apply(this,arguments)}function Jie(t,e){return rse(t)||tse(t,e)||ese(t,e)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function rse(t){if(Array.isArray(t))return t}function nse(t,e){if(t==null)return{};var r=ase(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ase(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gD(n.key),n)}}function ose(t,e,r){return e&&sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lse(t,e,r){return e=hg(e),cse(t,pD()?Reflect.construct(e,r||[],hg(t).constructor):e.apply(t,r))}function cse(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(t)}function dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C5(t,e)}function C5(t,e){return C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C5(t,e)}function mD(t,e,r){return e=gD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gD(t){var e=fse(t,"string");return Vu(e)=="symbol"?e:e+""}function fse(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kh=(function(t){function e(){return ise(this,e),lse(this,e,arguments)}return dse(e,t),ose(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=nse(n,Zie),h=bt(p,!1);this.props.direction==="x"&&d.type!=="number"&&uc();var g=c.map(function(m){var v=u(m,l),x=v.x,j=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],A,k;if(Array.isArray(_)){var O=Jie(_,2);A=O[0],k=O[1]}else A=k=_;if(i==="vertical"){var T=d.scale,R=j+a,P=R+s,I=R-s,M=T(b-A),D=T(b+k);S.push({x1:D,y1:P,x2:D,y2:I}),S.push({x1:M,y1:R,x2:D,y2:R}),S.push({x1:M,y1:P,x2:M,y2:I})}else if(i==="horizontal"){var K=f.scale,$=x+a,q=$-s,F=$+s,ee=K(b-A),fe=K(b+k);S.push({x1:q,y1:fe,x2:F,y2:fe}),S.push({x1:$,y1:ee,x2:$,y2:fe}),S.push({x1:q,y1:ee,x2:F,y2:ee})}return X.createElement(er,fg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ue){return"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))},h),S.map(function(ue){return X.createElement("line",fg({},ue,{key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)}))}))});return X.createElement(er,{className:"recharts-errorBars"},g)}}])})(X.Component);mD(Kh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mD(Kh,"displayName","ErrorBar");function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){hse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hse(t,e,r){return e=pse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pse(t){var e=mse(t,"string");return lh(e)=="symbol"?e:e+""}function mse(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vD=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=ka(r,Jl);if(!s)return null;var l=Jl.defaultProps,c=l!==void 0?Ol(Ol({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Ol(Ol({},p),f.props):{},g=h.dataKey,m=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:fN(f),value:m||g,payload:h}}),Ol(Ol(Ol({},c),Jl.getWithHeight(s,a)),{},{payload:u,item:s})};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function sE(t){return xse(t)||yse(t)||vse(t)||gse()}function gse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vse(t,e){if(t){if(typeof t=="string")return O5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(t,e)}}function yse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xse(t){if(Array.isArray(t))return O5(t)}function O5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){Eu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eu(t,e,r){return e=bse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bse(t){var e=wse(t,"string");return ch(e)=="symbol"?e:e+""}function wse(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bn(t,e,r){return Rt(t)||Rt(e)?r:wn(e)?Ra(t,e,r):Ct(e)?e(t):r}function Mf(t,e,r,n){var a=xie(t,function(l){return bn(l,e)});if(r==="number"){var i=a.filter(function(l){return Fe(l)||parseFloat(l)});return i.length?[Uv(i),qv(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Rt(l)}):a;return s.map(function(l){return wn(l)||l instanceof Date?l:""})}var _se=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Qn(f-d)!==Qn(p-f)){var g=[];if(Qn(p-f)===Qn(c[1]-c[0])){h=p;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{h=d;var v=p+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=a[u].index;break}}else{var j=Math.min(d,p),b=Math.max(d,p);if(e>(j+f)/2&&e<=(b+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},fN=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},jse=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],m=g.items,v=g.cateAxisId,x=m.filter(function(k){return Xs(k.type).indexOf("Bar")>=0});if(x&&x.length){var j=x[0].type.defaultProps,b=j!==void 0?Vr(Vr({},j),x[0].props):x[0].props,_=b.barSize,S=b[v];s[S]||(s[S]=[]);var A=Rt(_)?r:_;s[S].push({item:x[0],stackList:x.slice(1),barSize:Rt(A)?void 0:ea(A,n,0)})}}return s},Nse=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=ea(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,h=a/c,g=s.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(p=!0,h*=.9,g=c*h);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(_,S){var A={item:S.item,position:{offset:v.offset+v.size+u,size:p?h:S.barSize}},k=[].concat(sE(_),[A]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){k.push({item:O,position:v})}),k},f)}else{var x=ea(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var j=(a-2*x-(c-1)*u)/c;j>1&&(j>>=0);var b=l===+l?Math.min(j,l):j;d=s.reduce(function(_,S,A){var k=[].concat(sE(_),[{item:S.item,position:{offset:x+(j+u)*A+(j-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},f)}return d},Sse=function(e,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=vD({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&Fe(e[h]))return Vr(Vr({},e),{},Eu({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&Fe(e[g]))return Vr(Vr({},e),{},Eu({},g,e[g]+(p||0)))}return e},Ase=function(e,r,n){return Rt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yD=function(e,r,n,a,i){var s=r.props.children,l=La(s,Kh).filter(function(u){return Ase(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=bn(d,n);if(Rt(f))return u;var p=Array.isArray(f)?[Uv(f),qv(f)]:[f,f],h=c.reduce(function(g,m){var v=bn(d,m,0),x=p[0]-Math.abs(Array.isArray(v)?v[0]:v),j=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(j,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},kse=function(e,r,n,a,i){var s=r.map(function(l){return yD(e,l,n,i,a)}).filter(function(l){return!Rt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},xD=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&yD(e,c,u,a)||Mf(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},bD=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},wD=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Vs=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Qn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!Bh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},Pw=new WeakMap,cm=function(e,r){if(typeof r!="function")return e;Pw.has(e)||Pw.set(e,new WeakMap);var n=Pw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},_D=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,l=e.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:th(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:og(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lf(),realScaleType:"point"}:i==="category"?{scale:th(),realScaleType:"band"}:{scale:og(),realScaleType:"linear"};if(sc(a)){var c="scale".concat(kv(a));return{scale:(VO[c]||Lf)(),realScaleType:VO[c]?c:"point"}}return Ct(a)?{scale:a}:{scale:Lf(),realScaleType:"point"}},lE=1e-4,jD=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-lE,s=Math.max(a[0],a[1])+lE,l=e(r[0]),c=e(r[n-1]);(l<i||l>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},Pse=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Cse=function(e,r){if(!r||r.length!==2||!Fe(r[0])||!Fe(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Fe(e[0])||e[0]<n)&&(i[0]=n),(!Fe(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Ose=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Bh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},Ese=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Bh(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Tse={sign:Ose,expand:xQ,none:$u,silhouette:bQ,wiggle:wQ,positive:Ese},Ise=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Tse[n],s=yQ().keys(a).value(function(l,c){return+bn(l,c,0)}).order(s5).offset(i);return s(e)},Rse=function(e,r,n,a,i,s){if(!e)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Vr(Vr({},p.type.defaultProps),p.props):p.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],j=f[x]||{hasStack:!1,stackGroups:{}};if(wn(m)){var b=j.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(p),j.hasStack=!0,j.stackGroups[m]=b}else j.stackGroups[bd("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return Vr(Vr({},f),{},Eu({},x,j))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var x=h.stackGroups[v];return Vr(Vr({},m),{},Eu({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Ise(e,x.items,i)}))},g)}return Vr(Vr({},f),{},Eu({},p,h))},d)},ND=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Kie(u,i,l);return e.domain([Uv(d),qv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),p=Yie(f,i,l);return{niceTicks:p}}return null};function cE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Rt(a[e.dataKey])){var l=Um(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=bn(a,Rt(s)?e.dataKey:s);return Rt(c)?null:e.scale(c)}var uE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=bn(s,r.dataKey,r.domain[l]);return Rt(c)?null:r.scale(c)-i/2+a},Lse=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Mse=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(wn(i)){var s=r[i];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},Dse=function(e){return e.reduce(function(r,n){return[Uv(n.concat([r[0]]).filter(Fe)),qv(n.concat([r[1]]).filter(Fe))]},[1/0,-1/0])},SD=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],l=s.stackedData,c=l.reduce(function(u,d){var f=Dse(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E5=function(e,r,n){if(Ct(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Fe(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(dE.test(e[0])){var i=+dE.exec(e[0])[1];a[0]=r[0]-i}else Ct(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Fe(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(fE.test(e[1])){var s=+fE.exec(e[1])[1];a[1]=r[1]+s}else Ct(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},pg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Bj(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},hE=function(e,r,n){return!e||!e.length||Gh(e,Ra(n,"type.defaultProps.domain"))?r:e},AD=function(e,r){var n=e.type.defaultProps?Vr(Vr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Vr(Vr({},bt(e,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:fN(e),value:bn(r,a),type:c,payload:r,chartType:u,hide:d})};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){kD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kD(t,e,r){return e=$se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $se(t){var e=Fse(t,"string");return uh(e)=="symbol"?e:e+""}function Fse(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bse(t,e){return Wse(t)||zse(t,e)||Use(t,e)||qse()}function qse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Use(t,e){if(t){if(typeof t=="string")return mE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(t,e)}}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Wse(t){if(Array.isArray(t))return t}var mg=Math.PI/180,Hse=function(e){return e*180/Math.PI},kr=function(e,r,n,a){return{x:e+Math.cos(-mg*a)*n,y:r+Math.sin(-mg*a)*n}},PD=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Vse=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=ea(e.cx,s,s/2),f=ea(e.cy,l,l/2),p=PD(s,l,n),h=ea(e.innerRadius,p,0),g=ea(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(v,x){var j=r[x],b=j.domain,_=j.reversed,S;if(Rt(j.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[h,g]),_&&(S=[S[1],S[0]]);else{S=j.range;var A=S,k=Bse(A,2);c=k[0],u=k[1]}var O=_D(j,i),T=O.realScaleType,R=O.scale;R.domain(b).range(S),jD(R);var P=ND(R,qs(qs({},j),{},{realScaleType:T})),I=qs(qs(qs({},j),P),{},{range:S,radius:g,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return qs(qs({},v),{},kD({},x,I))},{})},Gse=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Kse=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,l=Gse({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Hse(u),angleInRadian:u}},Yse=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Xse=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return e+l*360},gE=function(e,r){var n=e.x,a=e.y,i=Kse({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Yse(r),f=d.startAngle,p=d.endAngle,h=l,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?qs(qs({},r),{},{radius:s,angle:Xse(h,r)}):null},CD=function(e){return!N.isValidElement(e)&&!Ct(e)&&typeof e!="boolean"?e.className:""};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var Zse=["offset"];function Jse(t){return roe(t)||toe(t)||eoe(t)||Qse()}function Qse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eoe(t,e){if(t){if(typeof t=="string")return T5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T5(t,e)}}function toe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function roe(t){if(Array.isArray(t))return T5(t)}function T5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function noe(t,e){if(t==null)return{};var r=aoe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vE(Object(r),!0).forEach(function(n){ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ioe(t,e,r){return e=soe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function soe(t){var e=ooe(t,"string");return dh(e)=="symbol"?e:e+""}function ooe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}var loe=function(e){var r=e.value,n=e.formatter,a=Rt(e.children)?r:e.children;return Ct(n)?n(a):a},coe=function(e,r){var n=Qn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},uoe=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+p)/2,x=coe(h,g),j=x>=0?1:-1,b,_;a==="insideStart"?(b=h+j*s,_=m):a==="insideEnd"?(b=g-j*s,_=!m):a==="end"&&(b=g+j*s,_=m),_=x<=0?_:!_;var S=kr(u,d,v,b),A=kr(u,d,v,b+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),O=Rt(e.id)?bd("recharts-radial-line-"):e.id;return X.createElement("text",fh({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:O,d:k})),X.createElement("textPath",{xlinkHref:"#".concat(O)},r))},doe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=kr(s,l,u+n,p),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=kr(s,l,v,p),j=x.x,b=x.y;return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},foe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",j=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return vn(vn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return vn(vn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return vn(vn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var A={x:l+u+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return vn(vn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?vn({x:l+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideRight"?vn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideTop"?vn({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?vn({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?vn({x:l+v,y:c+p,textAnchor:j,verticalAnchor:g},k):i==="insideTopRight"?vn({x:l+u-v,y:c+p,textAnchor:x,verticalAnchor:g},k):i==="insideBottomLeft"?vn({x:l+v,y:c+d-p,textAnchor:j,verticalAnchor:h},k):i==="insideBottomRight"?vn({x:l+u-v,y:c+d-p,textAnchor:x,verticalAnchor:h},k):xd(i)&&(Fe(i.x)||Wl(i.x))&&(Fe(i.y)||Wl(i.y))?vn({x:l+ea(i.x,u),y:c+ea(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):vn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},hoe=function(e){return"cx"in e&&Fe(e.cx)};function Pn(t){var e=t.offset,r=e===void 0?5:e,n=noe(t,Zse),a=vn({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||Rt(l)&&Rt(c)&&!N.isValidElement(u)&&!Ct(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var h;if(Ct(u)){if(h=N.createElement(u,a),N.isValidElement(h))return h}else h=loe(a);var g=hoe(i),m=bt(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return uoe(a,h,m);var v=g?doe(a):foe(a);return X.createElement(lc,fh({className:Mt("recharts-label",f)},m,v,{breakAll:p}),h)}Pn.displayName="Label";var OD=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,j=e.labelViewBox;if(j)return j;if(Fe(m)&&Fe(v)){if(Fe(f)&&Fe(p))return{x:f,y:p,width:m,height:v};if(Fe(h)&&Fe(g))return{x:h,y:g,width:m,height:v}}return Fe(f)&&Fe(p)?{x:f,y:p,width:0,height:0}:Fe(r)&&Fe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},poe=function(e,r){return e?e===!0?X.createElement(Pn,{key:"label-implicit",viewBox:r}):wn(e)?X.createElement(Pn,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===Pn?N.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(Pn,{key:"label-implicit",content:e,viewBox:r}):Ct(e)?X.createElement(Pn,{key:"label-implicit",content:e,viewBox:r}):xd(e)?X.createElement(Pn,fh({viewBox:r},e,{key:"label-implicit"})):null:null},moe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=OD(e),s=La(a,Pn).map(function(c,u){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=poe(e.label,r||i);return[l].concat(Jse(s))};Pn.parseViewBox=OD;Pn.renderCallByParent=moe;var Cw,yE;function goe(){if(yE)return Cw;yE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Cw=t,Cw}var voe=goe();const yoe=dr(voe);function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var xoe=["valueAccessor"],boe=["data","dataKey","clockWise","id","textBreakAll"];function woe(t){return Soe(t)||Noe(t)||joe(t)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(t,e){if(t){if(typeof t=="string")return I5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I5(t,e)}}function Noe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Soe(t){if(Array.isArray(t))return I5(t)}function I5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gg.apply(this,arguments)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){Aoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aoe(t,e,r){return e=koe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function koe(t){var e=Poe(t,"string");return hh(e)=="symbol"?e:e+""}function Poe(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wE(t,e){if(t==null)return{};var r=Coe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Coe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ooe=function(e){return Array.isArray(e.value)?yoe(e.value):e.value};function Js(t){var e=t.valueAccessor,r=e===void 0?Ooe:e,n=wE(t,xoe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=wE(n,boe);return!a||!a.length?null:X.createElement(er,{className:"recharts-label-list"},a.map(function(d,f){var p=Rt(i)?r(d,f):bn(d&&d.payload,i),h=Rt(l)?{}:{id:"".concat(l,"-").concat(f)};return X.createElement(Pn,gg({},bt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Pn.parseViewBox(Rt(s)?d:bE(bE({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Js.displayName="LabelList";function Eoe(t,e){return t?t===!0?X.createElement(Js,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Ct(t)?X.createElement(Js,{key:"labelList-implicit",data:e,content:t}):xd(t)?X.createElement(Js,gg({data:e},t,{key:"labelList-implicit"})):null:null}function Toe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=La(n,Js).map(function(s,l){return N.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=Eoe(t.label,e);return[i].concat(woe(a))}Js.renderCallByParent=Toe;function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function R5(){return R5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R5.apply(this,arguments)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){Ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ioe(t,e,r){return e=Roe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Roe(t){var e=Loe(t,"string");return ph(e)=="symbol"?e:e+""}function Loe(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Moe=function(e,r){var n=Qn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},um=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/mg,p=u?i:i+s*f,h=kr(r,n,d,p),g=kr(r,n,a,p),m=u?i-s*f:i,v=kr(r,n,d*Math.cos(f*mg),m);return{center:h,circleTangency:g,lineTangency:v,theta:f}},ED=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=Moe(s,l),u=s+c,d=kr(r,n,i,s),f=kr(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=kr(r,n,a,s),g=kr(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Doe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Qn(d-u),p=um({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),h=p.circleTangency,g=p.lineTangency,m=p.theta,v=um({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,j=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ED({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var A=um({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=A.circleTangency,O=A.lineTangency,T=A.theta,R=um({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=R.circleTangency,I=R.lineTangency,M=R.theta,D=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(D<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},$oe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TD=function(e){var r=jE(jE({},$oe),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<i||d===f)return null;var h=Mt("recharts-sector",p),g=s-i,m=ea(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=Doe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=ED({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),X.createElement("path",R5({},bt(r,!0),{className:h,d:v,role:"img"}))};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function L5(){return L5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L5.apply(this,arguments)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){Foe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Foe(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=qoe(t,"string");return mh(e)=="symbol"?e:e+""}function qoe(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AE={curveBasisClosed:oQ,curveBasisOpen:lQ,curveBasis:sQ,curveBumpX:VJ,curveBumpY:GJ,curveLinearClosed:cQ,curveLinear:Cv,curveMonotoneX:uQ,curveMonotoneY:dQ,curveNatural:fQ,curveStep:hQ,curveStepAfter:mQ,curveStepBefore:pQ},dm=function(e){return e.x===+e.x&&e.y===+e.y},mf=function(e){return e.x},gf=function(e){return e.y},Uoe=function(e,r){if(Ct(e))return e;var n="curve".concat(kv(e));return(n==="curveMonotone"||n==="curveBump")&&r?AE["".concat(n).concat(r==="vertical"?"Y":"X")]:AE[n]||Cv},zoe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Uoe(n,l),f=u?i.filter(function(m){return dm(m)}):i,p;if(Array.isArray(s)){var h=u?s.filter(function(m){return dm(m)}):s,g=f.map(function(m,v){return SE(SE({},m),{},{base:h[v]})});return l==="vertical"?p=rm().y(gf).x1(mf).x0(function(m){return m.base.x}):p=rm().x(mf).y1(gf).y0(function(m){return m.base.y}),p.defined(dm).curve(d),p(g)}return l==="vertical"&&Fe(s)?p=rm().y(gf).x1(mf).x0(s):Fe(s)?p=rm().x(mf).y1(gf).y0(s):p=OL().x(mf).y(gf),p.defined(dm).curve(d),p(f)},vg=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?zoe(e):a;return N.createElement("path",L5({},bt(e,!1),zm(e),{className:Mt("recharts-curve",r),d:s,ref:i}))},Ow={exports:{}},Ew,kE;function Woe(){if(kE)return Ew;kE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ew=t,Ew}var Tw,PE;function Hoe(){if(PE)return Tw;PE=1;var t=Woe();function e(){}function r(){}return r.resetWarningCache=e,Tw=function(){function n(s,l,c,u,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Tw}var CE;function Voe(){return CE||(CE=1,Ow.exports=Hoe()()),Ow.exports}var Goe=Voe();const sr=dr(Goe);var Koe=Object.getOwnPropertyNames,Yoe=Object.getOwnPropertySymbols,Xoe=Object.prototype.hasOwnProperty;function OE(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function fm(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function EE(t){return Koe(t).concat(Yoe(t))}var Zoe=Object.hasOwn||(function(t,e){return Xoe.call(t,e)});function Nc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Joe="__v",Qoe="__o",ele="_owner",TE=Object.getOwnPropertyDescriptor,IE=Object.keys;function tle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function rle(t,e){return Nc(t.getTime(),e.getTime())}function nle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ale(t,e){return t===e}function RE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var p=s.value,h=l.value;if(r.equals(p[0],h[0],c,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ile=Nc;function sle(t,e,r){var n=IE(t),a=n.length;if(IE(e).length!==a)return!1;for(;a-- >0;)if(!ID(t,e,r,n[a]))return!1;return!0}function vf(t,e,r){var n=EE(t),a=n.length;if(EE(e).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!ID(t,e,r,i)||(s=TE(t,i),l=TE(e,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function ole(t,e){return Nc(t.valueOf(),e.valueOf())}function lle(t,e){return t.source===e.source&&t.flags===e.flags}function LE(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,l;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function cle(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ule(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ID(t,e,r,n){return(n===ele||n===Qoe||n===Joe)&&(t.$$typeof||e.$$typeof)?!0:Zoe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var dle="[object Arguments]",fle="[object Boolean]",hle="[object Date]",ple="[object Error]",mle="[object Map]",gle="[object Number]",vle="[object Object]",yle="[object RegExp]",xle="[object Set]",ble="[object String]",wle="[object URL]",_le=Array.isArray,ME=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DE=Object.assign,jle=Object.prototype.toString.call.bind(Object.prototype.toString);function Nle(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?s(g,m,v):x==="function"?a(g,m,v):!1;var j=g.constructor;if(j!==m.constructor)return!1;if(j===Object)return l(g,m,v);if(_le(g))return e(g,m,v);if(ME!=null&&ME(g))return f(g,m,v);if(j===Date)return r(g,m,v);if(j===RegExp)return u(g,m,v);if(j===Map)return i(g,m,v);if(j===Set)return d(g,m,v);var b=jle(g);return b===hle?r(g,m,v):b===yle?u(g,m,v):b===mle?i(g,m,v):b===xle?d(g,m,v):b===vle?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):b===wle?p(g,m,v):b===ple?n(g,m,v):b===dle?l(g,m,v):b===fle||b===gle||b===ble?c(g,m,v):!1}}function Sle(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?vf:tle,areDatesEqual:rle,areErrorsEqual:nle,areFunctionsEqual:ale,areMapsEqual:n?OE(RE,vf):RE,areNumbersEqual:ile,areObjectsEqual:n?vf:sle,arePrimitiveWrappersEqual:ole,areRegExpsEqual:lle,areSetsEqual:n?OE(LE,vf):LE,areTypedArraysEqual:n?vf:cle,areUrlsEqual:ule};if(r&&(a=DE({},a,r(a))),e){var i=fm(a.areArraysEqual),s=fm(a.areMapsEqual),l=fm(a.areObjectsEqual),c=fm(a.areSetsEqual);a=DE({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function Ale(t){return function(e,r,n,a,i,s,l){return t(e,r,l)}}function kle(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var Ple=sl();sl({strict:!0});sl({circular:!0});sl({circular:!0,strict:!0});sl({createInternalComparator:function(){return Nc}});sl({strict:!0,createInternalComparator:function(){return Nc}});sl({circular:!0,createInternalComparator:function(){return Nc}});sl({circular:!0,createInternalComparator:function(){return Nc},strict:!0});function sl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,l=Sle(t),c=Nle(l),u=n?n(c):Ale(c);return kle({circular:r,comparator:c,createState:a,equals:u,strict:s})}function Cle(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $E(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Cle(a)};requestAnimationFrame(n)}function M5(t){"@babel/helpers - typeof";return M5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M5(t)}function Ole(t){return Rle(t)||Ile(t)||Tle(t)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tle(t,e){if(t){if(typeof t=="string")return FE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(t,e)}}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ile(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rle(t){if(Array.isArray(t))return t}function Lle(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=Ole(s),c=l[0],u=l.slice(1);if(typeof c=="number"){$E(a.bind(null,u),c);return}a(c),$E(a.bind(null,u));return}M5(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){RD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RD(t,e,r){return e=Mle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mle(t){var e=Dle(t,"string");return gh(e)==="symbol"?e:String(e)}function Dle(t,e){if(gh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Fle=function(e){return e},Ble=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Df=function(e,r){return Object.keys(r).reduce(function(n,a){return qE(qE({},n),{},RD({},a,e(a,r[a])))},{})},UE=function(e,r,n){return e.map(function(a){return"".concat(Ble(a)," ").concat(r,"ms ").concat(n)}).join(",")};function qle(t,e){return Wle(t)||zle(t,e)||LD(t,e)||Ule()}function Ule(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Wle(t){if(Array.isArray(t))return t}function Hle(t){return Kle(t)||Gle(t)||LD(t)||Vle()}function Vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(t,e){if(t){if(typeof t=="string")return D5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D5(t,e)}}function Gle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kle(t){if(Array.isArray(t))return D5(t)}function D5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yg=1e-4,MD=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},DD=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},zE=function(e,r){return function(n){var a=MD(e,r);return DD(a,n)}},Yle=function(e,r){return function(n){var a=MD(e,r),i=[].concat(Hle(a.map(function(s,l){return s*l}).slice(1)),[0]);return DD(i,n)}},WE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=qle(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=zE(a,s),p=zE(i,l),h=Yle(a,s),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var j=x>1?1:x,b=j,_=0;_<8;++_){var S=f(b)-j,A=h(b);if(Math.abs(S-j)<yg||A<yg)return p(b);b=g(b-S/A)}return p(b)};return m.isStepper=!1,m},Xle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,l=s===void 0?17:s,c=function(d,f,p){var h=-(d-f)*n,g=p*i,m=p+(h-g)*l/1e3,v=p*l/1e3+d;return Math.abs(v-f)<yg&&Math.abs(m)<yg?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},Zle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WE(a);case"spring":return Xle();default:if(a.split("(")[0]==="cubic-bezier")return WE(a)}return typeof a=="function"?a:null};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function HE(t){return ece(t)||Qle(t)||$D(t)||Jle()}function Jle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ece(t){if(Array.isArray(t))return F5(t)}function VE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(r),!0).forEach(function(n){$5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $5(t,e,r){return e=tce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tce(t){var e=rce(t,"string");return vh(e)==="symbol"?e:String(e)}function rce(t,e){if(vh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t,e){return sce(t)||ice(t,e)||$D(t,e)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $D(t,e){if(t){if(typeof t=="string")return F5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F5(t,e)}}function F5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ice(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function sce(t){if(Array.isArray(t))return t}var xg=function(e,r,n){return e+(r-e)*n},B5=function(e){var r=e.from,n=e.to;return r!==n},oce=function t(e,r,n){var a=Df(function(i,s){if(B5(s)){var l=e(s.from,s.to,s.velocity),c=nce(l,2),u=c[0],d=c[1];return Ln(Ln({},s),{},{from:u,velocity:d})}return s},r);return n<1?Df(function(i,s){return B5(s)?Ln(Ln({},s),{},{velocity:xg(s.velocity,a[i].velocity,n),from:xg(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const lce=(function(t,e,r,n,a){var i=$le(t,e),s=i.reduce(function(v,x){return Ln(Ln({},v),{},$5({},x,[t[x],e[x]]))},{}),l=i.reduce(function(v,x){return Ln(Ln({},v),{},$5({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Df(function(x,j){return j.from},l)},h=function(){return!Object.values(l).filter(B5).length},g=function(x){u||(u=x);var j=x-u,b=j/r.dt;l=oce(r,l,b),a(Ln(Ln(Ln({},t),e),p())),u=x,h()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var j=(x-d)/n,b=Df(function(S,A){return xg.apply(void 0,HE(A).concat([r(j)]))},s);if(a(Ln(Ln(Ln({},t),e),b)),j<1)c=requestAnimationFrame(f);else{var _=Df(function(S,A){return xg.apply(void 0,HE(A).concat([r(1)]))},s);a(Ln(Ln(Ln({},t),e),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var cce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uce(t,e){if(t==null)return{};var r=dce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dce(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Iw(t){return mce(t)||pce(t)||hce(t)||fce()}function fce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t,e){if(t){if(typeof t=="string")return q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q5(t,e)}}function pce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mce(t){if(Array.isArray(t))return q5(t)}function q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){kf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kf(t,e,r){return e=FD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FD(n.key),n)}}function yce(t,e,r){return e&&vce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FD(t){var e=xce(t,"string");return Gu(e)==="symbol"?e:String(e)}function xce(t,e){if(Gu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U5(t,e)}function U5(t,e){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U5(t,e)}function wce(t){var e=_ce();return function(){var n=bg(t),a;if(e){var i=bg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return z5(this,a)}}function z5(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W5(t)}function W5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}var hs=(function(t){bce(r,t);var e=wce(r);function r(n,a){var i;gce(this,r),i=e.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,p=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(W5(i)),i.changeStyle=i.changeStyle.bind(W5(i)),!l||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),z5(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},z5(i);i.state={style:c?kf({},c,u):u}}else i.state={style:{}};return i}return yce(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(l){if(!s){var h={style:c?kf({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(Ple(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&p){var v={style:c?kf({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(v)}this.runAnimation(yi(yi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=lce(s,l,Zle(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,v,x){if(x===0)return m;var j=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,A=v.properties,k=v.onAnimationEnd,O=x>0?s[x-1]:v,T=A||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Iw(m),[i.runJSAnimation.bind(i,{from:O.style,to:S,duration:j,easing:_}),j]);var R=UE(T,j,_),P=yi(yi(yi({},O.style),S),{},{transition:R});return[].concat(Iw(m),[P,j,k]).filter(Fle)};return this.manager.start([c].concat(Iw(s.reduce(h,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Lle());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=l?kf({},l,c):c,v=UE(Object.keys(m),s,u);g.start([d,i,yi(yi({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=uce(a,cce),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,x=g.className,j=N.cloneElement(h,yi(yi({},c),{},{style:yi(yi({},v),d),className:x}));return j};return u===1?f(N.Children.only(i)):X.createElement("div",null,N.Children.map(i,function(p){return f(p)}))}}]),r})(N.PureComponent);hs.displayName="Animate";hs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hs.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wg.apply(this,arguments)}function jce(t,e){return kce(t)||Ace(t,e)||Sce(t,e)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ace(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kce(t){if(Array.isArray(t))return t}function YE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(r),!0).forEach(function(n){Pce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pce(t,e,r){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Oce(t,"string");return yh(e)=="symbol"?e:e+""}function Oce(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZE=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>s?s:i[p];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Ece=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),p=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},Tce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hN=function(e){var r=XE(XE({},Tce),e),n=N.useRef(),a=N.useState(-1),i=jce(a,2),s=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Mt("recharts-rectangle",h);return j?X.createElement(hs,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:j},function(_){var S=_.width,A=_.height,k=_.x,O=_.y;return X.createElement(hs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},X.createElement("path",wg({},bt(r,!0),{className:b,d:ZE(k,O,S,A,p),ref:n})))}):X.createElement("path",wg({},bt(r,!0),{className:b,d:ZE(c,u,d,f,p)}))},Ice=["points","className","baseLinePoints","connectNulls"];function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bu.apply(this,arguments)}function Rce(t,e){if(t==null)return{};var r=Lce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JE(t){return Fce(t)||$ce(t)||Dce(t)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(t,e){if(t){if(typeof t=="string")return H5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(t,e)}}function $ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fce(t){if(Array.isArray(t))return H5(t)}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QE=function(e){return e&&e.x===+e.x&&e.y===+e.y},Bce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){QE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),QE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$f=function(e,r){var n=Bce(e);r&&(n=[n.reduce(function(i,s){return[].concat(JE(i),JE(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},qce=function(e,r,n){var a=$f(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat($f(r.reverse(),n).slice(1))},Uce=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=Rce(e,Ice);if(!r||!r.length)return null;var l=Mt("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=qce(r,a,i);return X.createElement("g",{className:l},X.createElement("path",bu({},bt(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?X.createElement("path",bu({},bt(s,!0),{fill:"none",d:$f(r,i)})):null,c?X.createElement("path",bu({},bt(s,!0),{fill:"none",d:$f(a,i)})):null)}var d=$f(r,i);return X.createElement("path",bu({},bt(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function V5(){return V5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V5.apply(this,arguments)}var Hv=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Mt("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",V5({},bt(e,!1),zm(e),{className:s,cx:r,cy:n,r:a})):null};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var zce=["x","y","top","left","width","height","className"];function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G5.apply(this,arguments)}function e6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(r),!0).forEach(function(n){Hce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hce(t,e,r){return e=Vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vce(t){var e=Gce(t,"string");return xh(e)=="symbol"?e:e+""}function Gce(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kce(t,e){if(t==null)return{};var r=Yce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xce=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Zce=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,g=e.className,m=Kce(e,zce),v=Wce({x:n,y:i,top:l,left:u,width:f,height:h},m);return!Fe(n)||!Fe(i)||!Fe(f)||!Fe(h)||!Fe(l)||!Fe(u)?null:X.createElement("path",G5({},bt(v,!0),{className:Mt("recharts-cross",g),d:Xce(n,i,f,h,l,u)}))},Rw,t6;function Jce(){if(t6)return Rw;t6=1;var t=Bv(),e=eD(),r=ys();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Rw=n,Rw}var Qce=Jce();const eue=dr(Qce);var Lw,r6;function tue(){if(r6)return Lw;r6=1;var t=Bv(),e=ys(),r=tD();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Lw=n,Lw}var rue=tue();const nue=dr(rue);var aue=["cx","cy","angle","ticks","axisLine"],iue=["ticks","tick","angle","tickFormatter","stroke"];function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function El(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){Vv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a6(t,e){if(t==null)return{};var r=sue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qD(n.key),n)}}function lue(t,e,r){return e&&i6(t.prototype,e),r&&i6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cue(t,e,r){return e=_g(e),uue(t,BD()?Reflect.construct(e,r||[],_g(t).constructor):e.apply(t,r))}function uue(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return due(t)}function due(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}function fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K5(t,e)}function K5(t,e){return K5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K5(t,e)}function Vv(t,e,r){return e=qD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qD(t){var e=hue(t,"string");return Ku(e)=="symbol"?e:e+""}function hue(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gv=(function(t){function e(){return oue(this,e),cue(this,e,arguments)}return fue(e,t),lue(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return kr(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=eue(l,function(d){return d.coordinate||0}),u=nue(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=a6(n,aue),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=kr(a,i,d[0],s),p=kr(a,i,d[1],s),h=El(El(El({},bt(u,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return X.createElement("line",Ff({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=a6(a,iue),f=this.getTickTextAnchor(),p=bt(d,!1),h=bt(s,!1),g=i.map(function(m,v){var x=n.getTickValueCoord(m),j=El(El(El(El({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:m});return X.createElement(er,Ff({className:Mt("recharts-polar-radius-axis-tick",CD(s)),key:"tick-".concat(m.coordinate)},oc(n.props,m,v)),e.renderTickItem(s,j,c?c(m.value,v):m.value))});return X.createElement(er,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:X.createElement(er,{className:Mt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return X.isValidElement(n)?s=X.cloneElement(n,a):Ct(n)?s=n(a):s=X.createElement(lc,Ff({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(N.PureComponent);Vv(Gv,"displayName","PolarRadiusAxis");Vv(Gv,"axisType","radiusAxis");Vv(Gv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ul.apply(this,arguments)}function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){Kv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zD(n.key),n)}}function mue(t,e,r){return e&&o6(t.prototype,e),r&&o6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gue(t,e,r){return e=jg(e),vue(t,UD()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function vue(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yue(t)}function yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y5(t,e)}function Y5(t,e){return Y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y5(t,e)}function Kv(t,e,r){return e=zD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zD(t){var e=bue(t,"string");return Yu(e)=="symbol"?e:e+""}function bue(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wue=Math.PI/180,l6=1e-5,Yv=(function(t){function e(){return pue(this,e),gue(this,e,arguments)}return xue(e,t),mue(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=kr(i,s,l,n.coordinate),p=kr(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*wue),s;return i>l6?s=a==="outer"?"start":"end":i<-l6?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Tl(Tl({},bt(this.props,!1)),{},{fill:"none"},bt(l,!1));if(c==="circle")return X.createElement(Hv,Ul({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(p){return kr(a,i,s,p.coordinate)});return X.createElement(Uce,Ul({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=bt(this.props,!1),f=bt(s,!1),p=Tl(Tl({},d),{},{fill:"none"},bt(l,!1)),h=i.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),j=Tl(Tl(Tl({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return X.createElement(er,Ul({className:Mt("recharts-polar-angle-axis-tick",CD(s)),key:"tick-".concat(g.coordinate)},oc(n.props,g,m)),l&&X.createElement("line",Ul({className:"recharts-polar-angle-axis-tick-line"},p,v)),s&&e.renderTickItem(s,j,c?c(g.value,m):g.value))});return X.createElement(er,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:X.createElement(er,{className:Mt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return X.isValidElement(n)?s=X.cloneElement(n,a):Ct(n)?s=n(a):s=X.createElement(lc,Ul({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(N.PureComponent);Kv(Yv,"displayName","PolarAngleAxis");Kv(Yv,"axisType","angleAxis");Kv(Yv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Mw,c6;function _ue(){if(c6)return Mw;c6=1;var t=QL(),e=t(Object.getPrototypeOf,Object);return Mw=e,Mw}var Dw,u6;function jue(){if(u6)return Dw;u6=1;var t=co(),e=_ue(),r=uo(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,l=i.hasOwnProperty,c=s.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==c}return Dw=u,Dw}var Nue=jue();const Sue=dr(Nue);var $w,d6;function Aue(){if(d6)return $w;d6=1;var t=co(),e=uo(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return $w=n,$w}var kue=Aue();const Pue=dr(kue);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ng.apply(this,arguments)}function Cue(t,e){return Iue(t)||Tue(t,e)||Eue(t,e)||Oue()}function Oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(t,e){if(t){if(typeof t=="string")return f6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f6(t,e)}}function f6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Iue(t){if(Array.isArray(t))return t}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){Rue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rue(t,e,r){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lue(t){var e=Mue(t,"string");return bh(e)=="symbol"?e:e+""}function Mue(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m6=function(e,r,n,a,i){var s=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+i),l+="L ".concat(e+n-s/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},Due={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ue=function(e){var r=p6(p6({},Due),e),n=N.useRef(),a=N.useState(-1),i=Cue(a,2),s=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var j=Mt("recharts-trapezoid",h);return x?X.createElement(hs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(b){var _=b.upperWidth,S=b.lowerWidth,A=b.height,k=b.x,O=b.y;return X.createElement(hs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},X.createElement("path",Ng({},bt(r,!0),{className:j,d:m6(k,O,_,S,A),ref:n})))}):X.createElement("g",null,X.createElement("path",Ng({},bt(r,!0),{className:j,d:m6(c,u,d,f,p)})))},Fue=["option","shapeType","propTransformer","activeClassName","isActive"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Bue(t,e){if(t==null)return{};var r=que(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function que(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(r),!0).forEach(function(n){Uue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uue(t,e,r){return e=zue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zue(t){var e=Wue(t,"string");return wh(e)=="symbol"?e:e+""}function Wue(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e){return Sg(Sg({},e),t)}function Vue(t,e){return t==="symbols"}function v6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(hN,r);case"trapezoid":return X.createElement($ue,r);case"sector":return X.createElement(TD,r);case"symbols":if(Vue(e))return X.createElement(Tj,r);break;default:return null}}function Gue(t){return N.isValidElement(t)?t.props:t}function WD(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Hue:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Bue(t,Fue),u;if(N.isValidElement(e))u=N.cloneElement(e,Sg(Sg({},c),Gue(e)));else if(Ct(e))u=e(c);else if(Sue(e)&&!Pue(e)){var d=a(e,c);u=X.createElement(v6,{shapeType:r,elementProps:d})}else{var f=c;u=X.createElement(v6,{shapeType:r,elementProps:f})}return l?X.createElement(er,{className:s},u):u}function Xv(t,e){return e!=null&&"trapezoids"in t.props}function Zv(t,e){return e!=null&&"sectors"in t.props}function _h(t,e){return e!=null&&"points"in t.props}function Kue(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function Yue(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Xue(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Zue(t,e){var r;return Xv(t,e)?r=Kue:Zv(t,e)?r=Yue:_h(t,e)&&(r=Xue),r}function Jue(t,e){var r;return Xv(t,e)?r="trapezoids":Zv(t,e)?r="sectors":_h(t,e)&&(r="points"),r}function Que(t,e){if(Xv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Zv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _h(t,e)?e.payload:{}}function ede(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Jue(r,e),i=Que(r,e),s=n.filter(function(c,u){var d=Gh(i,c),f=r.props[a].filter(function(g){var m=Zue(r,e);return m(g,e)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),l=n.indexOf(s[s.length-1]);return l}var km;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(r),!0).forEach(function(n){Za(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VD(n.key),n)}}function rde(t,e,r){return e&&x6(t.prototype,e),r&&x6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,r){return e=Ag(e),ade(t,HD()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function ade(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ide(t)}function ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HD=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X5(t,e)}function X5(t,e){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X5(t,e)}function Za(t,e,r){return e=VD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VD(t){var e=ode(t,"string");return Xu(e)=="symbol"?e:e+""}function ode(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=(function(t){function e(r){var n;return tde(this,e),n=nde(this,e,[r]),Za(n,"pieRef",null),Za(n,"sectorRefs",[]),Za(n,"id",bd("recharts-pie-")),Za(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ct(a)&&a()}),Za(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ct(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return sde(e,t),rde(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=bt(this.props,!1),f=bt(s,!1),p=bt(l,!1),h=s&&s.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,j=kr(m.cx,m.cy,m.outerRadius+h,x),b=Sr(Sr(Sr(Sr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(j.x,m.cx)},j),_=Sr(Sr(Sr(Sr({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:v,points:[kr(m.cx,m.cy,m.outerRadius,x),j]}),S=c;return Rt(c)&&Rt(u)?S="value":Rt(c)&&(S=u),X.createElement(er,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,_,"line"),e.renderLabelItem(s,b,bn(m,S)))});return X.createElement(er,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?s:p,g=Sr(Sr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return X.createElement(er,wu({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},oc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),X.createElement(WD,wu({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return X.createElement(hs,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=i&&i[0],j=x.startAngle;return i.forEach(function(b,_){var S=p&&p[_],A=_>0?Ra(b,"paddingAngle",0):0;if(S){var k=Ca(S.endAngle-S.startAngle,b.endAngle-b.startAngle),O=Sr(Sr({},b),{},{startAngle:j+A,endAngle:j+k(m)+A});v.push(O),j=O.endAngle}else{var T=b.endAngle,R=b.startAngle,P=Ca(0,T-R),I=P(m),M=Sr(Sr({},b),{},{startAngle:j+A,endAngle:j+I+A});v.push(M),j=M.endAngle}}),X.createElement(er,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Gh(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!Fe(u)||!Fe(d)||!Fe(f)||!Fe(p))return null;var m=Mt("recharts-pie",l);return X.createElement(er,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(s),Pn.renderCallByParent(this.props,null,!1),(!h||g)&&Js.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(X.isValidElement(n))return X.cloneElement(n,a);if(Ct(n))return n(a);var s=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(vg,wu({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(X.isValidElement(n))return X.cloneElement(n,a);var s=i;if(Ct(n)&&(s=n(a),X.isValidElement(s)))return s;var l=Mt("recharts-pie-label-text",typeof n!="boolean"&&!Ct(n)?n.className:"");return X.createElement(lc,wu({},a,{alignmentBaseline:"middle",className:l}),s)}}])})(N.PureComponent);km=xs;Za(xs,"displayName","Pie");Za(xs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Za(xs,"parseDeltaAngle",function(t,e){var r=Qn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Za(xs,"getRealPieData",function(t){var e=t.data,r=t.children,n=bt(t,!1),a=La(r,Uh);return e&&e.length?e.map(function(i,s){return Sr(Sr(Sr({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Sr(Sr({},n),i.props)}):[]});Za(xs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=PD(a,i),l=n+ea(t.cx,a,a/2),c=r+ea(t.cy,i,i/2),u=ea(t.innerRadius,s,0),d=ea(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Za(xs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Sr(Sr({},e.type.defaultProps),e.props):e.props,a=km.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=km.parseCoordinateOfPie(n,r),m=km.parseDeltaAngle(s,l),v=Math.abs(m),x=u;Rt(u)&&Rt(f)?(Ci(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Rt(u)&&(Ci(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var j=a.filter(function(O){return bn(O,x,0)!==0}).length,b=(v>=360?j:j-1)*c,_=v-j*h-b,S=a.reduce(function(O,T){var R=bn(T,x,0);return O+(Fe(R)?R:0)},0),A;if(S>0){var k;A=a.map(function(O,T){var R=bn(O,x,0),P=bn(O,d,T),I=(Fe(R)?R:0)/S,M;T?M=k.endAngle+Qn(m)*c*(R!==0?1:0):M=s;var D=M+Qn(m)*((R!==0?h:0)+I*_),K=(M+D)/2,$=(g.innerRadius+g.outerRadius)/2,q=[{name:P,value:R,payload:O,dataKey:x,type:p}],F=kr(g.cx,g.cy,$,K);return k=Sr(Sr(Sr({percent:I,cornerRadius:i,name:P,tooltipPayload:q,midAngle:K,middleRadius:$,tooltipPosition:F},O),g),{},{value:bn(O,x),startAngle:M,endAngle:D,payload:O,paddingAngle:Qn(m)*c}),k})}return Sr(Sr({},g),{},{sectors:A,data:a})});var Fw,b6;function lde(){if(b6)return Fw;b6=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++l]=n,n+=i;return u}return Fw=r,Fw}var Bw,w6;function GD(){if(w6)return Bw;w6=1;var t=mM(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Bw=n,Bw}var qw,_6;function cde(){if(_6)return qw;_6=1;var t=lde(),e=Iv(),r=GD();function n(a){return function(i,s,l){return l&&typeof l!="number"&&e(i,s,l)&&(s=l=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),l=l===void 0?i<s?1:-1:r(l),t(i,s,l,a)}}return qw=n,qw}var Uw,j6;function ude(){if(j6)return Uw;j6=1;var t=cde(),e=t();return Uw=e,Uw}var dde=ude();const kg=dr(dde);function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function N6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(r),!0).forEach(function(n){KD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KD(t,e,r){return e=fde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fde(t){var e=hde(t,"string");return jh(e)=="symbol"?e:e+""}function hde(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pde=["Webkit","Moz","O","ms"],mde=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=pde.reduce(function(i,s){return S6(S6({},i),{},KD({},s+n,r))},{});return a[e]=r,a};function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pg.apply(this,arguments)}function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){Aa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XD(n.key),n)}}function vde(t,e,r){return e&&k6(t.prototype,e),r&&k6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yde(t,e,r){return e=Cg(e),xde(t,YD()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function xde(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bde(t)}function bde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z5(t,e)}function Z5(t,e){return Z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z5(t,e)}function Aa(t,e,r){return e=XD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XD(t){var e=_de(t,"string");return Zu(e)=="symbol"?e:e+""}function _de(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jde=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Lf().domain(kg(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},P6=function(e){return e.changedTouches&&!!e.changedTouches.length},Ju=(function(t){function e(r){var n;return gde(this,e),n=yde(this,e,[r]),Aa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Aa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Aa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Aa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Aa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Aa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Aa(n,"handleSlideDragStart",function(a){var i=P6(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return wde(e,t),vde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=e.getIndexInRange(s,f),g=e.getIndexInRange(s,p);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=bn(i[n],l,n);return Ct(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==p||v.endIndex!==h)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=P6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},j=n.pageX-i;j>0?j=Math.min(j,f+p-h-u):j<0&&(j=Math.max(j,f-u)),x[s]=u+j;var b=this.getIndex(x),_=b.startIndex,S=b.endIndex,A=function(){var O=v.length-1;return s==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===O||s==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===O};this.setState(Aa(Aa({},s,u+j),"brushMoveStartX",n.pageX),function(){g&&A()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=l.length)){var h=l[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Aa({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return X.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?X.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),j=zw(zw({},bt(this.props,!1)),{},{x,y:u,width:d,height:f}),b=h||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return X.createElement(er,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,j))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return X.createElement(er,{className:"recharts-brush-texts"},X.createElement(lc,Pg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:s+l/2},g),this.getTextOfTick(a)),X.createElement(lc,Pg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:s+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,m=p.isTextActive,v=p.isSlideMoving,x=p.isTravellerMoving,j=p.isTravellerFocused;if(!a||!a.length||!Fe(l)||!Fe(c)||!Fe(u)||!Fe(d)||u<=0||d<=0)return null;var b=Mt("recharts-brush",i),_=X.Children.count(s)===1,S=mde("userSelect","none");return X.createElement(er,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return X.isValidElement(n)?i=X.cloneElement(n,a):Ct(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return zw({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?jde({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])})(N.PureComponent);Aa(Ju,"displayName","Brush");Aa(Ju,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ww,C6;function Nde(){if(C6)return Ww;C6=1;var t=Fj();function e(r,n){var a;return t(r,function(i,s,l){return a=n(i,s,l),!a}),!!a}return Ww=e,Ww}var Hw,O6;function Sde(){if(O6)return Hw;O6=1;var t=VL(),e=ys(),r=Nde(),n=ma(),a=Iv();function i(s,l,c){var u=n(s)?t:r;return c&&a(s,l,c)&&(l=void 0),u(s,e(l,3))}return Hw=i,Hw}var Ade=Sde();const kde=dr(Ade);var cs=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Vw,E6;function Pde(){if(E6)return Vw;E6=1;var t=uM();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Vw=e,Vw}var Gw,T6;function Cde(){if(T6)return Gw;T6=1;var t=Pde(),e=lM(),r=ys();function n(a,i){var s={};return i=r(i,3),e(a,function(l,c,u){t(s,c,i(l,c,u))}),s}return Gw=n,Gw}var Ode=Cde();const Ede=dr(Ode);var Kw,I6;function Tde(){if(I6)return Kw;I6=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Kw=t,Kw}var Yw,R6;function Ide(){if(R6)return Yw;R6=1;var t=Fj();function e(r,n){var a=!0;return t(r,function(i,s,l){return a=!!n(i,s,l),a}),a}return Yw=e,Yw}var Xw,L6;function Rde(){if(L6)return Xw;L6=1;var t=Tde(),e=Ide(),r=ys(),n=ma(),a=Iv();function i(s,l,c){var u=n(s)?t:e;return c&&a(s,l,c)&&(l=void 0),u(s,r(l,3))}return Xw=i,Xw}var Lde=Rde();const ZD=dr(Lde);var Mde=["x","y"];function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function J5(){return J5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J5.apply(this,arguments)}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){Dde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dde(t,e,r){return e=$de(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $de(t){var e=Fde(t,"string");return Nh(e)=="symbol"?e:e+""}function Fde(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bde(t,e){if(t==null)return{};var r=qde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ude(t,e){var r=t.x,n=t.y,a=Bde(t,Mde),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return yf(yf(yf(yf(yf({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function D6(t){return X.createElement(WD,J5({shapeType:"rectangle",propTransformer:Ude,activeClassName:"recharts-active-bar"},t))}var zde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Fe(n)||hJ(n);return i?e(n,a):(i||uc(),r)}},Wde=["value","background"],JD;function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function Hde(t,e){if(t==null)return{};var r=Vde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Og.apply(this,arguments)}function $6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(r),!0).forEach(function(n){zo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e7(n.key),n)}}function Kde(t,e,r){return e&&F6(t.prototype,e),r&&F6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yde(t,e,r){return e=Eg(e),Xde(t,QD()?Reflect.construct(e,r||[],Eg(t).constructor):e.apply(t,r))}function Xde(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zde(t)}function Zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}function Jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q5(t,e)}function Q5(t,e){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q5(t,e)}function zo(t,e,r){return e=e7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e7(t){var e=Qde(t,"string");return Qu(e)=="symbol"?e:e+""}function Qde(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ol=(function(t){function e(){var r;Gde(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Yde(this,e,[].concat(a)),zo(r,"state",{isAnimationFinished:!1}),zo(r,"id",bd("recharts-bar-")),zo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),zo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Jde(e,t),Kde(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,p){var h=p===c,g=h?u:s,m=ln(ln(ln({},d),f),{},{isActive:h,option:g,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(er,Og({className:"recharts-bar-rectangle"},oc(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),X.createElement(D6,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return X.createElement(hs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=i.map(function(v,x){var j=p&&p[x];if(j){var b=Ca(j.x,v.x),_=Ca(j.y,v.y),S=Ca(j.width,v.width),A=Ca(j.height,v.height);return ln(ln({},v),{},{x:b(g),y:_(g),width:S(g),height:A(g)})}if(s==="horizontal"){var k=Ca(0,v.height),O=k(g);return ln(ln({},v),{},{y:v.y+v.height-O,height:O})}var T=Ca(0,v.width),R=T(g);return ln(ln({},v),{},{width:R})});return X.createElement(er,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Gh(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=bt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=Hde(u,Wde);if(!f)return null;var h=ln(ln(ln(ln(ln({},p),{},{fill:"#eee"},f),c),oc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return X.createElement(D6,Og({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=La(d,Kh);if(!f)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,h=function(v,x){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:bn(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return X.createElement(er,g,f.map(function(m){return X.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Mt("recharts-bar",s),j=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=j||b,S=Rt(m)?this.id:m;return X.createElement(er,{className:x},j||b?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(S)},X.createElement("rect",{x:j?u:u-f/2,y:b?d:d-p/2,width:j?f:f*2,height:b?p:p*2}))):null,X.createElement(er,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!h||v)&&Js.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(N.PureComponent);JD=ol;zo(ol,"displayName","Bar");zo(ol,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo(ol,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=Pse(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?ln(ln({},m),r.props):r.props,x=v.dataKey,j=v.children,b=v.minPointSize,_=g==="horizontal"?s:i,S=u?_.scale.domain():null,A=Lse({numericAxis:_}),k=La(j,Uh),O=f.map(function(T,R){var P,I,M,D,K,$;u?P=Cse(u[d+R],S):(P=bn(T,x),Array.isArray(P)||(P=[A,P]));var q=zde(b,JD.defaultProps.minPointSize)(P[1],R);if(g==="horizontal"){var F,ee=[s.scale(P[0]),s.scale(P[1])],fe=ee[0],ue=ee[1];I=uE({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:T,index:R}),M=(F=ue??fe)!==null&&F!==void 0?F:void 0,D=h.size;var B=fe-ue;if(K=Number.isNaN(B)?0:B,$={x:I,y:s.y,width:D,height:s.height},Math.abs(q)>0&&Math.abs(K)<Math.abs(q)){var H=Qn(K||q)*(Math.abs(q)-Math.abs(K));M-=H,K+=H}}else{var V=[i.scale(P[0]),i.scale(P[1])],W=V[0],Q=V[1];if(I=W,M=uE({axis:s,ticks:c,bandSize:a,offset:h.offset,entry:T,index:R}),D=Q-W,K=h.size,$={x:i.x,y:M,width:i.width,height:K},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var re=Qn(D||q)*(Math.abs(q)-Math.abs(D));D+=re}}return ln(ln(ln({},T),{},{x:I,y:M,width:D,height:K,value:u?P:P[1],payload:T,background:$},k&&k[R]&&k[R].props),{},{tooltipPayload:[AD(r,T)],tooltipPosition:{x:I+D/2,y:M+K/2}})});return ln({data:O,layout:g},p)});function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t7(n.key),n)}}function tfe(t,e,r){return e&&B6(t.prototype,e),r&&B6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(r),!0).forEach(function(n){Jv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jv(t,e,r){return e=t7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t7(t){var e=rfe(t,"string");return Sh(e)=="symbol"?e:e+""}function rfe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r7=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!ka(u,ol);return d.reduce(function(h,g){var m=r[g],v=m.orientation,x=m.domain,j=m.padding,b=j===void 0?{}:j,_=m.mirror,S=m.reversed,A="".concat(v).concat(_?"Mirror":""),k,O,T,R,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=x[1]-x[0],M=1/0,D=m.categoricalDomain.sort(gJ);if(D.forEach(function(V,W){W>0&&(M=Math.min((V||0)-(D[W-1]||0),M))}),Number.isFinite(M)){var K=M/I,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=K*$/2),m.padding==="no-gap"){var q=ea(e.barCategoryGap,K*$),F=K*$/2;k=F-q-(F-q)/$*q}}}a==="xAxis"?O=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:O=m.range,S&&(O=[O[1],O[0]]);var ee=_D(m,i,p),fe=ee.scale,ue=ee.realScaleType;fe.domain(x).range(O),jD(fe);var B=ND(fe,Si(Si({},m),{},{realScaleType:ue}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,T=n.left,R=f[A]-P*m.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,T=f[A]-P*m.width,R=n.top);var H=Si(Si(Si({},m),B),{},{realScaleType:ue,x:T,y:R,scale:fe,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return H.bandSize=pg(H,B),!m.hide&&a==="xAxis"?f[A]+=(P?-1:1)*H.height:m.hide||(f[A]+=(P?-1:1)*H.width),Si(Si({},h),{},Jv({},g,H))},{})},n7=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},nfe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return n7({x:r,y:n},{x:a,y:i})},a7=(function(){function t(e){efe(this,t),this.scale=e}return tfe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Jv(a7,"EPS",1e-4);var pN=function(e){var r=Object.keys(e).reduce(function(n,a){return Si(Si({},n),{},Jv({},a,a7.create(e[a])))},{});return Si(Si({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return Ede(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return ZD(a,function(i,s){return r[s].isInRange(i)})}})};function afe(t){return(t%180+180)%180}var ife=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=afe(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Zw,U6;function sfe(){if(U6)return Zw;U6=1;var t=ys(),e=qh(),r=Ev();function n(a){return function(i,s,l){var c=Object(i);if(!e(i)){var u=t(s,3);i=r(i),s=function(f){return u(c[f],f,c)}}var d=a(i,s,l);return d>-1?c[u?i[d]:d]:void 0}}return Zw=n,Zw}var Jw,z6;function ofe(){if(z6)return Jw;z6=1;var t=GD();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Jw=e,Jw}var Qw,W6;function lfe(){if(W6)return Qw;W6=1;var t=nM(),e=ys(),r=ofe(),n=Math.max;function a(i,s,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(s,3),u)}return Qw=a,Qw}var e2,H6;function cfe(){if(H6)return e2;H6=1;var t=sfe(),e=lfe(),r=t(e);return e2=r,e2}var ufe=cfe();const dfe=dr(ufe);var ffe=xL();const hfe=dr(ffe);var pfe=hfe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),mN=N.createContext(void 0),gN=N.createContext(void 0),i7=N.createContext(void 0),s7=N.createContext({}),o7=N.createContext(void 0),l7=N.createContext(0),c7=N.createContext(0),V6=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=pfe(i);return X.createElement(mN.Provider,{value:n},X.createElement(gN.Provider,{value:a},X.createElement(s7.Provider,{value:i},X.createElement(i7.Provider,{value:d},X.createElement(o7.Provider,{value:s},X.createElement(l7.Provider,{value:u},X.createElement(c7.Provider,{value:c},l)))))))},mfe=function(){return N.useContext(o7)},u7=function(e){var r=N.useContext(mN);r==null&&uc();var n=r[e];return n==null&&uc(),n},gfe=function(){var e=N.useContext(mN);return Fo(e)},vfe=function(){var e=N.useContext(gN),r=dfe(e,function(n){return ZD(n.domain,Number.isFinite)});return r||Fo(e)},d7=function(e){var r=N.useContext(gN);r==null&&uc();var n=r[e];return n==null&&uc(),n},yfe=function(){var e=N.useContext(i7);return e},xfe=function(){return N.useContext(s7)},vN=function(){return N.useContext(c7)},yN=function(){return N.useContext(l7)};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function bfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h7(n.key),n)}}function _fe(t,e,r){return e&&wfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jfe(t,e,r){return e=Tg(e),Nfe(t,f7()?Reflect.construct(e,r||[],Tg(t).constructor):e.apply(t,r))}function Nfe(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sfe(t)}function Sfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f7=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e_(t,e)}function G6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(r),!0).forEach(function(n){xN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xN(t,e,r){return e=h7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h7(t){var e=kfe(t,"string");return ed(e)=="symbol"?e:e+""}function kfe(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pfe(t,e){return Tfe(t)||Efe(t,e)||Ofe(t,e)||Cfe()}function Cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(t,e){if(t){if(typeof t=="string")return Y6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y6(t,e)}}function Y6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Efe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Tfe(t){if(Array.isArray(t))return t}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t_.apply(this,arguments)}var Ife=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):Ct(e)?n=e(r):n=X.createElement("line",t_({},r,{className:"recharts-reference-line-line"})),n},Rfe=function(e,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:s});if(cs(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+p,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,j=e.x.apply(x,{position:s});if(cs(u,"discard")&&!e.x.isInRange(j))return null;var b=[{x:j,y:f+h},{x:j,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(A){return e.apply(A,{position:s})});return cs(u,"discard")&&kde(S,function(A){return!e.isInRange(A)})?null:S}return null};function Lfe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=mfe(),d=u7(a),f=d7(i),p=yfe();if(!u||!p)return null;Ci(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=pN({x:d.scale,y:f.scale}),g=wn(e),m=wn(r),v=n&&n.length===2,x=Rfe(h,g,m,v,p,t.position,d.orientation,f.orientation,t);if(!x)return null;var j=Pfe(x,2),b=j[0],_=b.x,S=b.y,A=j[1],k=A.x,O=A.y,T=cs(t,"hidden")?"url(#".concat(u,")"):void 0,R=K6(K6({clipPath:T},bt(t,!0)),{},{x1:_,y1:S,x2:k,y2:O});return X.createElement(er,{className:Mt("recharts-reference-line",l)},Ife(s,R),Pn.renderCallByParent(t,nfe({x1:_,y1:S,x2:k,y2:O})))}var bN=(function(t){function e(){return bfe(this,e),jfe(this,e,arguments)}return Afe(e,t),_fe(e,[{key:"render",value:function(){return X.createElement(Lfe,this.props)}}])})(X.Component);xN(bN,"displayName","ReferenceLine");xN(bN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r_.apply(this,arguments)}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function X6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Z6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(r),!0).forEach(function(n){Qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m7(n.key),n)}}function $fe(t,e,r){return e&&Dfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ffe(t,e,r){return e=Ig(e),Bfe(t,p7()?Reflect.construct(e,r||[],Ig(t).constructor):e.apply(t,r))}function Bfe(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(t)}function qfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p7=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}function Ufe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n_(t,e)}function Qv(t,e,r){return e=m7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m7(t){var e=zfe(t,"string");return td(e)=="symbol"?e:e+""}function zfe(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wfe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=pN({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return cs(e,"discard")&&!s.isInRange(l)?null:l},e0=(function(t){function e(){return Mfe(this,e),Ffe(this,e,arguments)}return Ufe(e,t),$fe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=wn(a),d=wn(i);if(Ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Wfe(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,m=g.shape,v=g.className,x=cs(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=Z6(Z6({clipPath:x},bt(this.props,!0)),{},{cx:p,cy:h});return X.createElement(er,{className:Mt("recharts-reference-dot",v)},e.renderDot(m,j),Pn.renderCallByParent(this.props,{x:p-s,y:h-s,width:2*s,height:2*s}))}}])})(X.Component);Qv(e0,"displayName","ReferenceDot");Qv(e0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qv(e0,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Ct(t)?r=t(e):r=X.createElement(Hv,r_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_.apply(this,arguments)}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){t0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v7(n.key),n)}}function Gfe(t,e,r){return e&&Vfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kfe(t,e,r){return e=Rg(e),Yfe(t,g7()?Reflect.construct(e,r||[],Rg(t).constructor):e.apply(t,r))}function Yfe(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xfe(t)}function Xfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g7=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}function Zfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i_(t,e)}function t0(t,e,r){return e=v7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v7(t){var e=Jfe(t,"string");return rd(e)=="symbol"?e:e+""}function Jfe(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qfe=function(e,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=pN({x:d.scale,y:f.scale}),h={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return cs(i,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:n7(h,g)},r0=(function(t){function e(){return Hfe(this,e),Kfe(this,e,arguments)}return Zfe(e,t),Gfe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wn(a),p=wn(i),h=wn(s),g=wn(l),m=this.props.shape;if(!f&&!p&&!h&&!g&&!m)return null;var v=Qfe(f,p,h,g,this.props);if(!v&&!m)return null;var x=cs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return X.createElement(er,{className:Mt("recharts-reference-area",c)},e.renderRect(m,Q6(Q6({clipPath:x},bt(this.props,!0)),v)),Pn.renderCallByParent(this.props,v))}}])})(X.Component);t0(r0,"displayName","ReferenceArea");t0(r0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});t0(r0,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Ct(t)?r=t(e):r=X.createElement(hN,a_({},e,{className:"recharts-reference-area-rect"})),r});function y7(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function ehe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ife(n,r)}function the(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Lg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function rhe(t,e){return y7(t,e+1)}function nhe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:y7(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},j=g.coordinate,b=c===0||Lg(t,j,x,d,l);b||(c=0,d=s,u+=1),b&&(d=j+t*(x()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function eT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return e=ihe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ihe(t){var e=she(t,"string");return Ah(e)=="symbol"?e:e+""}function she(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ohe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=e.start,c=e.end,u=function(p){var h=i[p],g,m=function(){return g===void 0&&(g=r(h,p)),g};if(p===s-1){var v=t*(h.coordinate+t*m()/2-c);i[p]=h=Un(Un({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else i[p]=h=Un(Un({},h),{},{tickCoord:h.coordinate});var x=Lg(t,h.tickCoord,m,l,c);x&&(c=h.tickCoord-t*(m()/2+a),i[p]=Un(Un({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function lhe(t,e,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=e.start,u=e.end;if(i){var d=n[l-1],f=r(d,l-1),p=t*(d.coordinate+t*f/2-u);s[l-1]=d=Un(Un({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=Lg(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),s[l-1]=Un(Un({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(j){var b=s[j],_,S=function(){return _===void 0&&(_=r(b,j)),_};if(j===0){var A=t*(b.coordinate-t*S()/2-c);s[j]=b=Un(Un({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else s[j]=b=Un(Un({},b),{},{tickCoord:b.coordinate});var k=Lg(t,b.tickCoord,S,c,u);k&&(c=b.tickCoord+t*(S()/2+a),s[j]=Un(Un({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function wN(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Fe(c)||wc.isSsr)return rhe(a,typeof c=="number"&&Fe(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?Rf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(b,_){var S=Ct(u)?u(b.value,_):b.value;return h==="width"?ehe(Rf(S,{fontSize:e,letterSpacing:r}),g,f):Rf(S,{fontSize:e,letterSpacing:r})[h]},v=a.length>=2?Qn(a[1].coordinate-a[0].coordinate):1,x=the(i,v,h);return c==="equidistantPreserveStart"?nhe(v,x,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?p=lhe(v,x,m,a,s,c==="preserveStartEnd"):p=ohe(v,x,m,a,s),p.filter(function(j){return j.isShow}))}var che=["viewBox"],uhe=["viewBox"],dhe=["ticks"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function tT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(r),!0).forEach(function(n){_N(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t2(t,e){if(t==null)return{};var r=fhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b7(n.key),n)}}function phe(t,e,r){return e&&rT(t.prototype,e),r&&rT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mhe(t,e,r){return e=Mg(e),ghe(t,x7()?Reflect.construct(e,r||[],Mg(t).constructor):e.apply(t,r))}function ghe(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vhe(t)}function vhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(t)}function yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s_(t,e)}function _N(t,e,r){return e=b7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(t){var e=xhe(t,"string");return nd(e)=="symbol"?e:e+""}function xhe(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sd=(function(t){function e(r){var n;return hhe(this,e),n=mhe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return yhe(e,t),phe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=t2(n,che),l=this.props,c=l.viewBox,u=t2(l,uhe);return!Cu(i,c)||!Cu(s,u)||!Cu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,g,m,v,x,j,b=f?-1:1,_=n.tickSize||d,S=Fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,v=s+ +!f*c,m=v-b*_,j=m-b*p,x=S;break;case"left":m=v=n.coordinate,g=i+ +!f*l,h=g-b*_,x=h-b*p,j=S;break;case"right":m=v=n.coordinate,g=i+ +f*l,h=g+b*_,x=h+b*p,j=S;break;default:h=g=n.coordinate,v=s+ +f*c,m=v+b*_,j=m+b*p,x=S;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=gn(gn(gn({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=gn(gn({},f),{},{x1:a,y1:i+p*l,x2:a+s,y2:i+p*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=gn(gn({},f),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+l})}return X.createElement("line",_u({},f,{className:Mt("recharts-cartesian-axis-line",Ra(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,h=wN(gn(gn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=bt(this.props,!1),x=bt(d,!1),j=gn(gn({},v),{},{fill:"none"},bt(c,!1)),b=h.map(function(_,S){var A=s.getTickLineCoord(_),k=A.line,O=A.tick,T=gn(gn(gn(gn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),O),{},{index:S,payload:_,visibleTicksCount:h.length,tickFormatter:f});return X.createElement(er,_u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},oc(s.props,_,S)),c&&X.createElement("line",_u({},j,k,{className:Mt("recharts-cartesian-axis-tick-line",Ra(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ct(f)?f(_.value,S):_.value).concat(p||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=t2(f,dhe),g=p;return Ct(c)&&(g=p&&p.length>0?c(this.props):c(h)),s<=0||l<=0||!g||!g.length?null:X.createElement(er,{className:Mt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?s=X.cloneElement(n,gn(gn({},a),{},{className:l})):Ct(n)?s=n(gn(gn({},a),{},{className:l})):s=X.createElement(lc,_u({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(N.Component);_N(Sd,"displayName","CartesianAxis");_N(Sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bhe=["x1","y1","x2","y2","key"],whe=["offset"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function nT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){_he(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _he(t,e,r){return e=jhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jhe(t){var e=Nhe(t,"string");return dc(e)=="symbol"?e:e+""}function Nhe(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gl.apply(this,arguments)}function aT(t,e){if(t==null)return{};var r=She(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function She(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ahe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,c=e.ry;return X.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function w7(t,e){var r;if(X.isValidElement(t))r=X.cloneElement(t,e);else if(Ct(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,l=e.key,c=aT(e,bhe),u=bt(c,!1);u.offset;var d=aT(u,whe);r=X.createElement("line",Gl({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function khe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=zn(zn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return w7(a,u)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Phe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=zn(zn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return w7(a,u)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Che(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?a+s-p:d[h+1]-p;if(m<=0)return null;var v=h%e.length;return X.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ohe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?i+l-p:d[h+1]-p;if(m<=0)return null;var v=h%n.length;return X.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ehe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return wD(wN(zn(zn(zn({},Sd.defaultProps),n),{},{ticks:Vs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},The=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return wD(wN(zn(zn(zn({},Sd.defaultProps),n),{},{ticks:Vs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},ou={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jN(t){var e,r,n,a,i,s,l=vN(),c=yN(),u=xfe(),d=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ou.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ou.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ou.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:ou.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:ou.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ou.verticalFill,x:Fe(t.x)?t.x:u.left,y:Fe(t.y)?t.y:u.top,width:Fe(t.width)?t.width:u.width,height:Fe(t.height)?t.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,j=gfe(),b=vfe();if(!Fe(h)||h<=0||!Fe(g)||g<=0||!Fe(f)||f!==+f||!Fe(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||Ehe,S=d.horizontalCoordinatesGenerator||The,A=d.horizontalPoints,k=d.verticalPoints;if((!A||!A.length)&&Ct(S)){var O=v&&v.length,T=S({yAxis:b?zn(zn({},b),{},{ticks:O?v:b.ticks}):void 0,width:l,height:c,offset:u},O?!0:m);Ci(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dc(T),"]")),Array.isArray(T)&&(A=T)}if((!k||!k.length)&&Ct(_)){var R=x&&x.length,P=_({xAxis:j?zn(zn({},j),{},{ticks:R?x:j.ticks}):void 0,width:l,height:c,offset:u},R?!0:m);Ci(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dc(P),"]")),Array.isArray(P)&&(k=P)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(Ahe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),X.createElement(khe,Gl({},d,{offset:u,horizontalPoints:A,xAxis:j,yAxis:b})),X.createElement(Phe,Gl({},d,{offset:u,verticalPoints:k,xAxis:j,yAxis:b})),X.createElement(Che,Gl({},d,{horizontalPoints:A})),X.createElement(Ohe,Gl({},d,{verticalPoints:k})))}jN.displayName="CartesianGrid";var Ihe=["type","layout","connectNulls","ref"],Rhe=["key"];function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function iT(t,e){if(t==null)return{};var r=Lhe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bf.apply(this,arguments)}function sT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(r),!0).forEach(function(n){Ai(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lu(t){return Fhe(t)||$he(t)||Dhe(t)||Mhe()}function Mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dhe(t,e){if(t){if(typeof t=="string")return o_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o_(t,e)}}function $he(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fhe(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j7(n.key),n)}}function qhe(t,e,r){return e&&oT(t.prototype,e),r&&oT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uhe(t,e,r){return e=Dg(e),zhe(t,_7()?Reflect.construct(e,r||[],Dg(t).constructor):e.apply(t,r))}function zhe(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Whe(t)}function Whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(t)}function Hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l_(t,e)}function Ai(t,e,r){return e=j7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j7(t){var e=Vhe(t,"string");return ad(e)=="symbol"?e:e+""}function Vhe(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yh=(function(t){function e(){var r;Bhe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Uhe(this,e,[].concat(a)),Ai(r,"state",{isAnimationFinished:!0,totalLength:0}),Ai(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Ai(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(x,j){return x+j});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,p=l-s,h=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){h=[].concat(lu(c.slice(0,g)),[f-m]);break}var v=h.length%2===0?[0,p]:[p];return[].concat(lu(e.repeat(c,d)),lu(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Ai(r,"id",bd("recharts-line-")),Ai(r,"pathRef",function(s){r.mainCurve=s}),Ai(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ai(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Hhe(e,t),qhe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=La(d,Kh);if(!f)return null;var p=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:bn(m.payload,v)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return X.createElement(er,h,f.map(function(g){return X.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=bt(this.props,!1),p=bt(c,!0),h=u.map(function(m,v){var x=Sa(Sa(Sa({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return X.createElement(er,Bf({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=iT(l,Ihe),p=Sa(Sa(Sa({},bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return X.createElement(vg,Bf({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,h=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,x=this.state,j=x.prevPoints,b=x.totalLength;return X.createElement(hs,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(j){var A=j.length/l.length,k=l.map(function(I,M){var D=Math.floor(M*A);if(j[D]){var K=j[D],$=Ca(K.x,I.x),q=Ca(K.y,I.y);return Sa(Sa({},I),{},{x:$(S),y:q(S)})}if(g){var F=Ca(m*2,I.x),ee=Ca(v/2,I.y);return Sa(Sa({},I),{},{x:F(S),y:ee(S)})}return Sa(Sa({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(k,n,a)}var O=Ca(0,b),T=O(S),R;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});R=i.getStrokeDasharray(T,b,P)}else R=i.generateSimpleStrokeDasharray(b,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Gh(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,p=a.left,h=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,j=l.length===1,b=Mt("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,A=_||S,k=Rt(v)?this.id:v,O=(n=bt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=O.r,R=T===void 0?3:T,P=O.strokeWidth,I=P===void 0?2:P,M=SJ(s)?s:{},D=M.clipDot,K=D===void 0?!0:D,$=R*2+I;return X.createElement(er,{className:b},_||S?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(k)},X.createElement("rect",{x:_?p:p-h/2,y:S?f:f-g/2,width:_?h:h*2,height:S?g:g*2})),!K&&X.createElement("clipPath",{id:"clipPath-dots-".concat(k)},X.createElement("rect",{x:p-$/2,y:f-$/2,width:h+$,height:g+$}))):null,!j&&this.renderCurve(A,k),this.renderErrorBar(A,k),(j||s)&&this.renderDots(A,K,k),(!m||x)&&Js.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(lu(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(lu(s),lu(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(X.isValidElement(n))i=X.cloneElement(n,a);else if(Ct(n))i=n(a);else{var s=a.key,l=iT(a,Rhe),c=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=X.createElement(Hv,Bf({key:s},l,{className:c}))}return i}}])})(N.PureComponent);Ai(Yh,"displayName","Line");Ai(Yh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ai(Yh,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(p,h){var g=bn(p,s);return d==="horizontal"?{x:cE({axis:r,ticks:a,bandSize:l,entry:p,index:h}),y:Rt(g)?null:n.scale(g),value:g,payload:p}:{x:Rt(g)?null:r.scale(g),y:cE({axis:n,ticks:i,bandSize:l,entry:p,index:h}),value:g,payload:p}});return Sa({points:f,layout:d},u)});function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Ghe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Khe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A7(n.key),n)}}function Yhe(t,e,r){return e&&Khe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xhe(t,e,r){return e=$g(e),Zhe(t,N7()?Reflect.construct(e,r||[],$g(t).constructor):e.apply(t,r))}function Zhe(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jhe(t)}function Jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}function Qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c_(t,e)}function S7(t,e,r){return e=A7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A7(t){var e=epe(t,"string");return id(e)=="symbol"?e:e+""}function epe(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u_.apply(this,arguments)}function tpe(t){var e=t.xAxisId,r=vN(),n=yN(),a=u7(e);return a==null?null:N.createElement(Sd,u_({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Vs(s,!0)}}))}var Ad=(function(t){function e(){return Ghe(this,e),Xhe(this,e,arguments)}return Qhe(e,t),Yhe(e,[{key:"render",value:function(){return N.createElement(tpe,this.props)}}])})(N.Component);S7(Ad,"displayName","XAxis");S7(Ad,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function npe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C7(n.key),n)}}function ape(t,e,r){return e&&npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ipe(t,e,r){return e=Fg(e),spe(t,k7()?Reflect.construct(e,r||[],Fg(t).constructor):e.apply(t,r))}function spe(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ope(t)}function ope(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k7=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(t)}function lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d_(t,e)}function P7(t,e,r){return e=C7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C7(t){var e=cpe(t,"string");return sd(e)=="symbol"?e:e+""}function cpe(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f_.apply(this,arguments)}var upe=function(e){var r=e.yAxisId,n=vN(),a=yN(),i=d7(r);return i==null?null:N.createElement(Sd,f_({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Vs(l,!0)}}))},fc=(function(t){function e(){return rpe(this,e),ipe(this,e,arguments)}return lpe(e,t),ape(e,[{key:"render",value:function(){return N.createElement(upe,this.props)}}])})(N.Component);P7(fc,"displayName","YAxis");P7(fc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lT(t){return ppe(t)||hpe(t)||fpe(t)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t,e){if(t){if(typeof t=="string")return h_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h_(t,e)}}function hpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ppe(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p_=function(e,r,n,a,i){var s=La(e,bN),l=La(e,e0),c=[].concat(lT(s),lT(l)),u=La(e,r0),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(m,v){if(v.props[d]===n&&cs(v.props,"extendDomain")&&Fe(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(m,v){if(v.props[d]===n&&cs(v.props,"extendDomain")&&Fe(v.props[h])&&Fe(v.props[g])){var x=v.props[h],j=v.props[g];return[Math.min(m[0],x,j),Math.max(m[1],x,j)]}return m},p)}return i&&i.length&&(p=i.reduce(function(m,v){return Fe(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},p)),p},r2={exports:{}},cT;function mpe(){return cT||(cT=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,h,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,j,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,h),!0;case 6:return v.fn.call(v.context,d,f,p,h,g),!0}for(b=1,j=new Array(x-1);b<x;b++)j[b-1]=arguments[b];v.fn.apply(v.context,j)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,p);break;default:if(!j)for(S=1,j=new Array(x-1);S<x;S++)j[S-1]=arguments[S];v[b].fn.apply(v[b].context,j)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||p&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(r2)),r2.exports}var gpe=mpe();const vpe=dr(gpe);var n2=new vpe,a2="recharts.syncMouseEvents";function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O7(n.key),n)}}function bpe(t,e,r){return e&&xpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i2(t,e,r){return e=O7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O7(t){var e=wpe(t,"string");return kh(e)=="symbol"?e:e+""}function wpe(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _pe=(function(){function t(){ype(this,t),i2(this,"activeIndex",0),i2(this,"coordinateList",[]),i2(this,"layout","horizontal")}return bpe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function jpe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Fe(n)&&Fe(a))return!0}return!1}function Npe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function E7(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=kr(e,r,n,a),l=kr(e,r,n,i);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Spe(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=kr(l,c,u,f),h=kr(l,c,d,f);n=p.x,a=p.y,i=h.x,s=h.y}else return E7(e);return[{x:n,y:a},{x:i,y:s}]}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function uT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(r),!0).forEach(function(n){Ape(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ape(t,e,r){return e=kpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kpe(t){var e=Ppe(t,"string");return Ph(e)=="symbol"?e:e+""}function Ppe(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cpe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var g,m=vg;if(p==="ScatterChart")g=s,m=Zce;else if(p==="BarChart")g=Npe(f,s,c,d),m=hN;else if(f==="radial"){var v=E7(s),x=v.cx,j=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;g={cx:x,cy:j,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},m=TD}else g={points:Spe(f,s,c)},m=vg;var A=hm(hm(hm(hm({stroke:"#ccc",pointerEvents:"none"},c),g),bt(h,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,A):N.createElement(m,A)}var Ope=["item"],Epe=["children","className","width","height","style","compact","title","desc"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ju.apply(this,arguments)}function dT(t,e){return Rpe(t)||Ipe(t,e)||I7(t,e)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Rpe(t){if(Array.isArray(t))return t}function fT(t,e){if(t==null)return{};var r=Lpe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R7(n.key),n)}}function $pe(t,e,r){return e&&Dpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fpe(t,e,r){return e=Bg(e),Bpe(t,T7()?Reflect.construct(e,r||[],Bg(t).constructor):e.apply(t,r))}function Bpe(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T7=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}function Upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m_(t,e)}function ld(t){return Hpe(t)||Wpe(t)||I7(t)||zpe()}function zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(t,e){if(t){if(typeof t=="string")return g_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(t,e)}}function Wpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hpe(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(r),!0).forEach(function(n){wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wt(t,e,r){return e=R7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R7(t){var e=Vpe(t,"string");return od(e)=="symbol"?e:e+""}function Vpe(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gpe={xAxis:["bottom","top"],yAxis:["left","right"]},Kpe={width:"100%",height:"100%"},L7={x:0,y:0};function pm(t){return t}var Ype=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Xpe=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,l=a.radius;return Ae(Ae(Ae({},a),kr(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return Ae(Ae(Ae({},a),kr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return L7},n0=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ld(l),ld(u)):l},[]);return s.length>0?s:e&&e.length&&Fe(a)&&Fe(i)?e.slice(a,i+1):[]};function M7(t){return t==="number"?[0,"auto"]:void 0}var v_=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,l=n0(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?l:f;p=Um(h,s.dataKey,a)}else p=f&&f[n]||l[n];return p?[].concat(ld(c),[AD(u,p)]):c},[])},pT=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=Ype(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=_se(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=v_(e,r,d,f),h=Xpe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Zpe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=bD(d,i);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?Ae(Ae({},m.type.defaultProps),m.props):m.props,j=x.type,b=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,A=x.scale,k=x.ticks,O=x.includeHidden,T=x[s];if(g[T])return g;var R=n0(e.data,{graphicalItems:a.filter(function(B){var H,V=s in B.props?B.props[s]:(H=B.type.defaultProps)===null||H===void 0?void 0:H[s];return V===T}),dataStartIndex:c,dataEndIndex:u}),P=R.length,I,M,D;jpe(x.domain,_,j)&&(I=E5(x.domain,null,_),h&&(j==="number"||A!=="auto")&&(D=Mf(R,b,"category")));var K=M7(j);if(!I||I.length===0){var $,q=($=x.domain)!==null&&$!==void 0?$:K;if(b){if(I=Mf(R,b,j),j==="category"&&h){var F=mJ(I);S&&F?(M=I,I=kg(0,P)):S||(I=hE(q,I,m).reduce(function(B,H){return B.indexOf(H)>=0?B:[].concat(ld(B),[H])},[]))}else if(j==="category")S?I=I.filter(function(B){return B!==""&&!Rt(B)}):I=hE(q,I,m).reduce(function(B,H){return B.indexOf(H)>=0||H===""||Rt(H)?B:[].concat(ld(B),[H])},[]);else if(j==="number"){var ee=kse(R,a.filter(function(B){var H,V,W=s in B.props?B.props[s]:(H=B.type.defaultProps)===null||H===void 0?void 0:H[s],Q="hide"in B.props?B.props.hide:(V=B.type.defaultProps)===null||V===void 0?void 0:V.hide;return W===T&&(O||!Q)}),b,i,d);ee&&(I=ee)}h&&(j==="number"||A!=="auto")&&(D=Mf(R,b,"category"))}else h?I=kg(0,P):l&&l[T]&&l[T].hasStack&&j==="number"?I=p==="expand"?[0,1]:SD(l[T].stackGroups,c,u):I=xD(R,a.filter(function(B){var H=s in B.props?B.props[s]:B.type.defaultProps[s],V="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return H===T&&(O||!V)}),j,d,!0);if(j==="number")I=p_(f,I,T,i,k),q&&(I=E5(q,I,_));else if(j==="category"&&q){var fe=q,ue=I.every(function(B){return fe.indexOf(B)>=0});ue&&(I=fe)}}return Ae(Ae({},g),{},wt({},T,Ae(Ae({},x),{},{axisType:i,domain:I,categoricalDomain:D,duplicateDomain:M,originalDomain:(v=x.domain)!==null&&v!==void 0?v:K,isCategorical:h,layout:d})))},{})},Jpe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=n0(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,g=bD(d,i),m=-1;return n.reduce(function(v,x){var j=x.type.defaultProps!==void 0?Ae(Ae({},x.type.defaultProps),x.props):x.props,b=j[s],_=M7("number");if(!v[b]){m++;var S;return g?S=kg(0,h):l&&l[b]&&l[b].hasStack?(S=SD(l[b].stackGroups,c,u),S=p_(f,S,b,i)):(S=E5(_,xD(p,n.filter(function(A){var k,O,T=s in A.props?A.props[s]:(k=A.type.defaultProps)===null||k===void 0?void 0:k[s],R="hide"in A.props?A.props.hide:(O=A.type.defaultProps)===null||O===void 0?void 0:O.hide;return T===b&&!R}),"number",d),a.defaultProps.allowDataOverflow),S=p_(f,S,b,i)),Ae(Ae({},v),{},wt({},b,Ae(Ae({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ra(Gpe,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},Qpe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=La(d,i),h={};return p&&p.length?h=Zpe(e,{axes:p,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(h=Jpe(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},eme=function(e){var r=Fo(e),n=Vs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Bj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:pg(r,n)}},mT=function(e){var r=e.children,n=e.defaultShowTooltip,a=ka(r,Ju),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},tme=function(e){return!e||!e.length?!1:e.some(function(r){var n=Xs(r&&r.type);return n&&n.indexOf("Bar")>=0})},gT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rme=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=ka(f,Ju),g=ka(f,Jl),m=Object.keys(c).reduce(function(S,A){var k=c[A],O=k.orientation;return!k.mirror&&!k.hide?Ae(Ae({},S),{},wt({},O,S[O]+k.width)):S},{left:p.left||0,right:p.right||0}),v=Object.keys(s).reduce(function(S,A){var k=s[A],O=k.orientation;return!k.mirror&&!k.hide?Ae(Ae({},S),{},wt({},O,Ra(S,"".concat(O))+k.height)):S},{top:p.top||0,bottom:p.bottom||0}),x=Ae(Ae({},v),m),j=x.bottom;h&&(x.bottom+=h.props.height||Ju.defaultProps.height),g&&r&&(x=Sse(x,a,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return Ae(Ae({brushBottom:j},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},nme=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},NN=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(x,j){var b=j.graphicalItems,_=j.stackGroups,S=j.offset,A=j.updateId,k=j.dataStartIndex,O=j.dataEndIndex,T=x.barSize,R=x.layout,P=x.barGap,I=x.barCategoryGap,M=x.maxBarSize,D=gT(R),K=D.numericAxisName,$=D.cateAxisName,q=tme(b),F=[];return b.forEach(function(ee,fe){var ue=n0(x.data,{graphicalItems:[ee],dataStartIndex:k,dataEndIndex:O}),B=ee.type.defaultProps!==void 0?Ae(Ae({},ee.type.defaultProps),ee.props):ee.props,H=B.dataKey,V=B.maxBarSize,W=B["".concat(K,"Id")],Q=B["".concat($,"Id")],re={},oe=c.reduce(function(Be,ve){var Re=j["".concat(ve.axisType,"Map")],lt=B["".concat(ve.axisType,"Id")];Re&&Re[lt]||ve.axisType==="zAxis"||uc();var We=Re[lt];return Ae(Ae({},Be),{},wt(wt({},ve.axisType,We),"".concat(ve.axisType,"Ticks"),Vs(We)))},re),ne=oe[$],de=oe["".concat($,"Ticks")],pe=_&&_[W]&&_[W].hasStack&&Mse(ee,_[W].stackGroups),le=Xs(ee.type).indexOf("Bar")>=0,Ne=pg(ne,de),ge=[],te=q&&jse({barSize:T,stackGroups:_,totalSize:nme(oe,$)});if(le){var qe,Ue,ze=Rt(V)?M:V,Pe=(qe=(Ue=pg(ne,de,!0))!==null&&Ue!==void 0?Ue:ze)!==null&&qe!==void 0?qe:0;ge=Nse({barGap:P,barCategoryGap:I,bandSize:Pe!==Ne?Pe:Ne,sizeList:te[Q],maxBarSize:ze}),Pe!==Ne&&(ge=ge.map(function(Be){return Ae(Ae({},Be),{},{position:Ae(Ae({},Be.position),{},{offset:Be.position.offset-Pe/2})})}))}var Xe=ee&&ee.type&&ee.type.getComposedData;Xe&&F.push({props:Ae(Ae({},Xe(Ae(Ae({},oe),{},{displayedData:ue,props:x,dataKey:H,item:ee,bandSize:Ne,barPosition:ge,offset:S,stackedData:pe,layout:R,dataStartIndex:k,dataEndIndex:O}))),{},wt(wt(wt({key:ee.key||"item-".concat(fe)},K,oe[K]),$,oe[$]),"animationId",A)),childIndex:PJ(ee,x.children),item:ee})}),F},h=function(x,j){var b=x.props,_=x.dataStartIndex,S=x.dataEndIndex,A=x.updateId;if(!kP({props:b}))return null;var k=b.children,O=b.layout,T=b.stackOffset,R=b.data,P=b.reverseStackOrder,I=gT(O),M=I.numericAxisName,D=I.cateAxisName,K=La(k,n),$=Rse(R,K,"".concat(M,"Id"),"".concat(D,"Id"),T,P),q=c.reduce(function(B,H){var V="".concat(H.axisType,"Map");return Ae(Ae({},B),{},wt({},V,Qpe(b,Ae(Ae({},H),{},{graphicalItems:K,stackGroups:H.axisType===M&&$,dataStartIndex:_,dataEndIndex:S}))))},{}),F=rme(Ae(Ae({},q),{},{props:b,graphicalItems:K}),j==null?void 0:j.legendBBox);Object.keys(q).forEach(function(B){q[B]=d(b,q[B],F,B.replace("Map",""),r)});var ee=q["".concat(D,"Map")],fe=eme(ee),ue=p(b,Ae(Ae({},q),{},{dataStartIndex:_,dataEndIndex:S,updateId:A,graphicalItems:K,stackGroups:$,offset:F}));return Ae(Ae({formattedGraphicalItems:ue,graphicalItems:K,offset:F,stackGroups:$},fe),q)},g=(function(v){function x(j){var b,_,S;return Mpe(this,x),S=Fpe(this,x,[j]),wt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(S,"accessibilityManager",new _pe),wt(S,"handleLegendBBoxUpdate",function(A){if(A){var k=S.state,O=k.dataStartIndex,T=k.dataEndIndex,R=k.updateId;S.setState(Ae({legendBBox:A},h({props:S.props,dataStartIndex:O,dataEndIndex:T,updateId:R},Ae(Ae({},S.state),{},{legendBBox:A}))))}}),wt(S,"handleReceiveSyncEvent",function(A,k,O){if(S.props.syncId===A){if(O===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),wt(S,"handleBrushChange",function(A){var k=A.startIndex,O=A.endIndex;if(k!==S.state.dataStartIndex||O!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return Ae({dataStartIndex:k,dataEndIndex:O},h({props:S.props,dataStartIndex:k,dataEndIndex:O,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),wt(S,"handleMouseEnter",function(A){var k=S.getMouseInfo(A);if(k){var O=Ae(Ae({},k),{},{isTooltipActive:!0});S.setState(O),S.triggerSyncEvent(O);var T=S.props.onMouseEnter;Ct(T)&&T(O,A)}}),wt(S,"triggeredAfterMouseMove",function(A){var k=S.getMouseInfo(A),O=k?Ae(Ae({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var T=S.props.onMouseMove;Ct(T)&&T(O,A)}),wt(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),wt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),wt(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),wt(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var O=S.props.onMouseLeave;Ct(O)&&O(k,A)}),wt(S,"handleOuterEvent",function(A){var k=kJ(A),O=Ra(S.props,"".concat(k));if(k&&Ct(O)){var T,R;/.*touch.*/i.test(k)?R=S.getMouseInfo(A.changedTouches[0]):R=S.getMouseInfo(A),O((T=R)!==null&&T!==void 0?T:{},A)}}),wt(S,"handleClick",function(A){var k=S.getMouseInfo(A);if(k){var O=Ae(Ae({},k),{},{isTooltipActive:!0});S.setState(O),S.triggerSyncEvent(O);var T=S.props.onClick;Ct(T)&&T(O,A)}}),wt(S,"handleMouseDown",function(A){var k=S.props.onMouseDown;if(Ct(k)){var O=S.getMouseInfo(A);k(O,A)}}),wt(S,"handleMouseUp",function(A){var k=S.props.onMouseUp;if(Ct(k)){var O=S.getMouseInfo(A);k(O,A)}}),wt(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),wt(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),wt(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),wt(S,"handleDoubleClick",function(A){var k=S.props.onDoubleClick;if(Ct(k)){var O=S.getMouseInfo(A);k(O,A)}}),wt(S,"handleContextMenu",function(A){var k=S.props.onContextMenu;if(Ct(k)){var O=S.getMouseInfo(A);k(O,A)}}),wt(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&n2.emit(a2,S.props.syncId,A,S.eventEmitterSymbol)}),wt(S,"applySyncEvent",function(A){var k=S.props,O=k.layout,T=k.syncMethod,R=S.state.updateId,P=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(Ae({dataStartIndex:P,dataEndIndex:I},h({props:S.props,dataStartIndex:P,dataEndIndex:I,updateId:R},S.state)));else if(A.activeTooltipIndex!==void 0){var M=A.chartX,D=A.chartY,K=A.activeTooltipIndex,$=S.state,q=$.offset,F=$.tooltipTicks;if(!q)return;if(typeof T=="function")K=T(F,A);else if(T==="value"){K=-1;for(var ee=0;ee<F.length;ee++)if(F[ee].value===A.activeLabel){K=ee;break}}var fe=Ae(Ae({},q),{},{x:q.left,y:q.top}),ue=Math.min(M,fe.x+fe.width),B=Math.min(D,fe.y+fe.height),H=F[K]&&F[K].value,V=v_(S.state,S.props.data,K),W=F[K]?{x:O==="horizontal"?F[K].coordinate:ue,y:O==="horizontal"?B:F[K].coordinate}:L7;S.setState(Ae(Ae({},A),{},{activeLabel:H,activeCoordinate:W,activePayload:V,activeTooltipIndex:K}))}else S.setState(A)}),wt(S,"renderCursor",function(A){var k,O=S.state,T=O.isTooltipActive,R=O.activeCoordinate,P=O.activePayload,I=O.offset,M=O.activeTooltipIndex,D=O.tooltipAxisBandSize,K=S.getTooltipEventType(),$=(k=A.props.active)!==null&&k!==void 0?k:T,q=S.props.layout,F=A.key||"_recharts-cursor";return X.createElement(Cpe,{key:F,activeCoordinate:R,activePayload:P,activeTooltipIndex:M,chartName:r,element:A,isActive:$,layout:q,offset:I,tooltipAxisBandSize:D,tooltipEventType:K})}),wt(S,"renderPolarAxis",function(A,k,O){var T=Ra(A,"type.axisType"),R=Ra(S.state,"".concat(T,"Map")),P=A.type.defaultProps,I=P!==void 0?Ae(Ae({},P),A.props):A.props,M=R&&R[I["".concat(T,"Id")]];return N.cloneElement(A,Ae(Ae({},M),{},{className:Mt(T,M.className),key:A.key||"".concat(k,"-").concat(O),ticks:Vs(M,!0)}))}),wt(S,"renderPolarGrid",function(A){var k=A.props,O=k.radialLines,T=k.polarAngles,R=k.polarRadius,P=S.state,I=P.radiusAxisMap,M=P.angleAxisMap,D=Fo(I),K=Fo(M),$=K.cx,q=K.cy,F=K.innerRadius,ee=K.outerRadius;return N.cloneElement(A,{polarAngles:Array.isArray(T)?T:Vs(K,!0).map(function(fe){return fe.coordinate}),polarRadius:Array.isArray(R)?R:Vs(D,!0).map(function(fe){return fe.coordinate}),cx:$,cy:q,innerRadius:F,outerRadius:ee,key:A.key||"polar-grid",radialLines:O})}),wt(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,k=S.props,O=k.children,T=k.width,R=k.height,P=S.props.margin||{},I=T-(P.left||0)-(P.right||0),M=vD({children:O,formattedGraphicalItems:A,legendWidth:I,legendContent:u});if(!M)return null;var D=M.item,K=fT(M,Ope);return N.cloneElement(D,Ae(Ae({},K),{},{chartWidth:T,chartHeight:R,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),wt(S,"renderTooltip",function(){var A,k=S.props,O=k.children,T=k.accessibilityLayer,R=ka(O,Pa);if(!R)return null;var P=S.state,I=P.isTooltipActive,M=P.activeCoordinate,D=P.activePayload,K=P.activeLabel,$=P.offset,q=(A=R.props.active)!==null&&A!==void 0?A:I;return N.cloneElement(R,{viewBox:Ae(Ae({},$),{},{x:$.left,y:$.top}),active:q,label:K,payload:q?D:[],coordinate:M,accessibilityLayer:T})}),wt(S,"renderBrush",function(A){var k=S.props,O=k.margin,T=k.data,R=S.state,P=R.offset,I=R.dataStartIndex,M=R.dataEndIndex,D=R.updateId;return N.cloneElement(A,{key:A.key||"_recharts-brush",onChange:cm(S.handleBrushChange,A.props.onChange),data:T,x:Fe(A.props.x)?A.props.x:P.left,y:Fe(A.props.y)?A.props.y:P.top+P.height+P.brushBottom-(O.bottom||0),width:Fe(A.props.width)?A.props.width:P.width,startIndex:I,endIndex:M,updateId:"brush-".concat(D)})}),wt(S,"renderReferenceElement",function(A,k,O){if(!A)return null;var T=S,R=T.clipPathId,P=S.state,I=P.xAxisMap,M=P.yAxisMap,D=P.offset,K=A.type.defaultProps||{},$=A.props,q=$.xAxisId,F=q===void 0?K.xAxisId:q,ee=$.yAxisId,fe=ee===void 0?K.yAxisId:ee;return N.cloneElement(A,{key:A.key||"".concat(k,"-").concat(O),xAxis:I[F],yAxis:M[fe],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:R})}),wt(S,"renderActivePoints",function(A){var k=A.item,O=A.activePoint,T=A.basePoint,R=A.childIndex,P=A.isRange,I=[],M=k.props.key,D=k.item.type.defaultProps!==void 0?Ae(Ae({},k.item.type.defaultProps),k.item.props):k.item.props,K=D.activeDot,$=D.dataKey,q=Ae(Ae({index:R,dataKey:$,cx:O.x,cy:O.y,r:4,fill:fN(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},bt(K,!1)),zm(K));return I.push(x.renderActiveDot(K,q,"".concat(M,"-activePoint-").concat(R))),T?I.push(x.renderActiveDot(K,Ae(Ae({},q),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(R))):P&&I.push(null),I}),wt(S,"renderGraphicChild",function(A,k,O){var T=S.filterFormatItem(A,k,O);if(!T)return null;var R=S.getTooltipEventType(),P=S.state,I=P.isTooltipActive,M=P.tooltipAxis,D=P.activeTooltipIndex,K=P.activeLabel,$=S.props.children,q=ka($,Pa),F=T.props,ee=F.points,fe=F.isRange,ue=F.baseLine,B=T.item.type.defaultProps!==void 0?Ae(Ae({},T.item.type.defaultProps),T.item.props):T.item.props,H=B.activeDot,V=B.hide,W=B.activeBar,Q=B.activeShape,re=!!(!V&&I&&q&&(H||W||Q)),oe={};R!=="axis"&&q&&q.props.trigger==="click"?oe={onClick:cm(S.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(oe={onMouseLeave:cm(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:cm(S.handleItemMouseEnter,A.props.onMouseEnter)});var ne=N.cloneElement(A,Ae(Ae({},T.props),oe));function de(ve){return typeof M.dataKey=="function"?M.dataKey(ve.payload):null}if(re)if(D>=0){var pe,le;if(M.dataKey&&!M.allowDuplicatedCategory){var Ne=typeof M.dataKey=="function"?de:"payload.".concat(M.dataKey.toString());pe=Um(ee,Ne,K),le=fe&&ue&&Um(ue,Ne,K)}else pe=ee==null?void 0:ee[D],le=fe&&ue&&ue[D];if(Q||W){var ge=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[N.cloneElement(A,Ae(Ae(Ae({},T.props),oe),{},{activeIndex:ge})),null,null]}if(!Rt(pe))return[ne].concat(ld(S.renderActivePoints({item:T,activePoint:pe,basePoint:le,childIndex:D,isRange:fe})))}else{var te,qe=(te=S.getItemByXY(S.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:ne},Ue=qe.graphicalItem,ze=Ue.item,Pe=ze===void 0?A:ze,Xe=Ue.childIndex,Be=Ae(Ae(Ae({},T.props),oe),{},{activeIndex:Xe});return[N.cloneElement(Pe,Be),null,null]}return fe?[ne,null,null]:[ne,null]}),wt(S,"renderCustomized",function(A,k,O){return N.cloneElement(A,Ae(Ae({key:"recharts-customized-".concat(O)},S.props),S.state))}),wt(S,"renderMap",{CartesianGrid:{handler:pm,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:pm},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:pm},YAxis:{handler:pm},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=j.id)!==null&&b!==void 0?b:bd("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=gM(S.triggeredAfterMouseMove,(_=j.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return Upe(x,v),$pe(x,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,A=b.height,k=b.layout,O=ka(_,Pa);if(O){var T=O.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=v_(this.state,S,T,R),I=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+A)/2,D=k==="horizontal",K=D?{x:I,y:M}:{y:I,x:M},$=this.state.formattedGraphicalItems.find(function(F){var ee=F.item;return ee.type.name==="Scatter"});$&&(K=Ae(Ae({},K),$.props.points[T].tooltipPosition),P=$.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:P,activeCoordinate:K};this.setState(q),this.renderCursor(O),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){Q2([ka(b.children,Pa)],[ka(this.props.children,Pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ka(this.props.children,Pa);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),A=pre(S),k={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},O=S.width/_.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,O);if(!T)return null;var R=this.state,P=R.xAxisMap,I=R.yAxisMap,M=this.getTooltipEventType(),D=pT(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&P&&I){var K=Fo(P).scale,$=Fo(I).scale,q=K&&K.invert?K.invert(k.chartX):null,F=$&&$.invert?$.invert(k.chartY):null;return Ae(Ae({},k),{},{xValue:q,yValue:F},D)}return D?Ae(Ae({},k),D):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,k=b/S,O=_/S;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,R=k>=T.left&&k<=T.left+T.width&&O>=T.top&&O<=T.top+T.height;return R?{x:k,y:O}:null}var P=this.state,I=P.angleAxisMap,M=P.radiusAxisMap;if(I&&M){var D=Fo(I);return gE({x:k,y:O},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=ka(b,Pa),A={};S&&_==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=zm(this.props,this.handleOuterEvent);return Ae(Ae({},k),A)}},{key:"addListener",value:function(){n2.on(a2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){n2.removeListener(a2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var A=this.state.formattedGraphicalItems,k=0,O=A.length;k<O;k++){var T=A[k];if(T.item===b||T.props.key===b.key||_===Xs(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,A=_.top,k=_.height,O=_.width;return X.createElement("defs",null,X.createElement("clipPath",{id:b},X.createElement("rect",{x:S,y:A,height:k,width:O})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var A=dT(S,2),k=A[0],O=A[1];return Ae(Ae({},_),{},wt({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var A=dT(S,2),k=A[0],O=A[1];return Ae(Ae({},_),{},wt({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,A=_.activeItem;if(S&&S.length)for(var k=0,O=S.length;k<O;k++){var T=S[k],R=T.props,P=T.item,I=P.type.defaultProps!==void 0?Ae(Ae({},P.type.defaultProps),P.props):P.props,M=Xs(P.type);if(M==="Bar"){var D=(R.data||[]).find(function(F){return Ece(b,F)});if(D)return{graphicalItem:T,payload:D}}else if(M==="RadialBar"){var K=(R.data||[]).find(function(F){return gE(b,F)});if(K)return{graphicalItem:T,payload:K}}else if(Xv(T,A)||Zv(T,A)||_h(T,A)){var $=ede({graphicalItem:T,activeTooltipItem:A,itemData:I.data}),q=I.activeIndex===void 0?$:I.activeIndex;return{graphicalItem:Ae(Ae({},T),{},{childIndex:q}),payload:_h(T,A)?I.data[$]:T.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!kP(this))return null;var _=this.props,S=_.children,A=_.className,k=_.width,O=_.height,T=_.style,R=_.compact,P=_.title,I=_.desc,M=fT(_,Epe),D=bt(M,!1);if(R)return X.createElement(V6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(t5,ju({},D,{width:k,height:O,title:P,desc:I}),this.renderClipPath(),CP(S,this.renderMap)));if(this.props.accessibilityLayer){var K,$;D.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,D.role=($=this.props.role)!==null&&$!==void 0?$:"application",D.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},D.onFocus=function(){b.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return X.createElement(V6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",ju({className:Mt("recharts-wrapper",A),style:Ae({position:"relative",cursor:"default",width:k,height:O},T)},q,{ref:function(ee){b.container=ee}}),X.createElement(t5,ju({},D,{width:k,height:O,title:P,desc:I,style:Kpe}),this.renderClipPath(),CP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);wt(g,"displayName",r),wt(g,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),wt(g,"getDerivedStateFromProps",function(v,x){var j=v.dataKey,b=v.data,_=v.children,S=v.width,A=v.height,k=v.layout,O=v.stackOffset,T=v.margin,R=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var I=mT(v);return Ae(Ae(Ae({},I),{},{updateId:0},h(Ae(Ae({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:j,prevData:b,prevWidth:S,prevHeight:A,prevLayout:k,prevStackOffset:O,prevMargin:T,prevChildren:_})}if(j!==x.prevDataKey||b!==x.prevData||S!==x.prevWidth||A!==x.prevHeight||k!==x.prevLayout||O!==x.prevStackOffset||!Cu(T,x.prevMargin)){var M=mT(v),D={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},K=Ae(Ae({},pT(x,b,k)),{},{updateId:x.updateId+1}),$=Ae(Ae(Ae({},M),D),K);return Ae(Ae(Ae({},$),h(Ae({props:v},$),x)),{},{prevDataKey:j,prevData:b,prevWidth:S,prevHeight:A,prevLayout:k,prevStackOffset:O,prevMargin:T,prevChildren:_})}if(!Q2(_,x.prevChildren)){var q,F,ee,fe,ue=ka(_,Ju),B=ue&&(q=(F=ue.props)===null||F===void 0?void 0:F.startIndex)!==null&&q!==void 0?q:R,H=ue&&(ee=(fe=ue.props)===null||fe===void 0?void 0:fe.endIndex)!==null&&ee!==void 0?ee:P,V=B!==R||H!==P,W=!Rt(b),Q=W&&!V?x.updateId:x.updateId+1;return Ae(Ae({updateId:Q},h(Ae(Ae({props:v},x),{},{updateId:Q,dataStartIndex:B,dataEndIndex:H}),x)),{},{prevChildren:_,dataStartIndex:B,dataEndIndex:H})}return null}),wt(g,"renderActiveDot",function(v,x,j){var b;return N.isValidElement(v)?b=N.cloneElement(v,x):Ct(v)?b=v(x):b=X.createElement(Hv,x),X.createElement(er,{className:"recharts-active-dot",key:j},b)});var m=N.forwardRef(function(x,j){return X.createElement(g,ju({},x,{ref:j}))});return m.displayName=g.displayName,m},ame=NN({chartName:"LineChart",GraphicalChild:Yh,axisComponents:[{axisType:"xAxis",AxisComp:Ad},{axisType:"yAxis",AxisComp:fc}],formatAxisMap:r7}),ime=NN({chartName:"BarChart",GraphicalChild:ol,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ad},{axisType:"yAxis",AxisComp:fc}],formatAxisMap:r7}),D7=NN({chartName:"PieChart",GraphicalChild:xs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yv},{axisType:"radiusAxis",AxisComp:Gv}],formatAxisMap:Vse,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const sme=["top","right","bottom","left"],Jo=Math.min,Oa=Math.max,qg=Math.round,mm=Math.floor,us=t=>({x:t,y:t}),ome={left:"right",right:"left",bottom:"top",top:"bottom"},lme={start:"end",end:"start"};function y_(t,e,r){return Oa(t,Jo(e,r))}function oo(t,e){return typeof t=="function"?t(e):t}function lo(t){return t.split("-")[0]}function kd(t){return t.split("-")[1]}function SN(t){return t==="x"?"y":"x"}function AN(t){return t==="y"?"height":"width"}const cme=new Set(["top","bottom"]);function ss(t){return cme.has(lo(t))?"y":"x"}function kN(t){return SN(ss(t))}function ume(t,e,r){r===void 0&&(r=!1);const n=kd(t),a=kN(t),i=AN(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Ug(s)),[s,Ug(s)]}function dme(t){const e=Ug(t);return[x_(t),e,x_(e)]}function x_(t){return t.replace(/start|end/g,e=>lme[e])}const vT=["left","right"],yT=["right","left"],fme=["top","bottom"],hme=["bottom","top"];function pme(t,e,r){switch(t){case"top":case"bottom":return r?e?yT:vT:e?vT:yT;case"left":case"right":return e?fme:hme;default:return[]}}function mme(t,e,r,n){const a=kd(t);let i=pme(lo(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(x_)))),i}function Ug(t){return t.replace(/left|right|bottom|top/g,e=>ome[e])}function gme(t){return{top:0,right:0,bottom:0,left:0,...t}}function $7(t){return typeof t!="number"?gme(t):{top:t,right:t,bottom:t,left:t}}function zg(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function xT(t,e,r){let{reference:n,floating:a}=t;const i=ss(e),s=kN(e),l=AN(s),c=lo(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(kd(e)){case"start":h[s]-=p*(r&&u?-1:1);break;case"end":h[s]+=p*(r&&u?-1:1);break}return h}const vme=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=xT(u,n,c),p=n,h={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:j,y:b,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:u,platform:s,elements:{reference:t,floating:e}});d=j??d,f=b??f,h={...h,[v]:{...h[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:f}=xT(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function Ch(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=oo(e,t),g=$7(h),v=l[p?f==="floating"?"reference":"floating":f],x=zg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=zg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:b,strategy:c}):j);return{top:(x.top-S.top+g.top)/_.y,bottom:(S.bottom-x.bottom+g.bottom)/_.y,left:(x.left-S.left+g.left)/_.x,right:(S.right-x.right+g.right)/_.x}}const yme=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=oo(t,e)||{};if(u==null)return{};const f=$7(d),p={x:r,y:n},h=kN(a),g=AN(h),m=await s.getDimensions(u),v=h==="y",x=v?"top":"left",j=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[h]-p[h]-i.floating[g],S=p[h]-i.reference[h],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=A?A[b]:0;(!k||!await(s.isElement==null?void 0:s.isElement(A)))&&(k=l.floating[b]||i.floating[g]);const O=_/2-S/2,T=k/2-m[g]/2-1,R=Jo(f[x],T),P=Jo(f[j],T),I=R,M=k-m[g]-P,D=k/2-m[g]/2+O,K=y_(I,D,M),$=!c.arrow&&kd(a)!=null&&D!==K&&i.reference[g]/2-(D<I?R:P)-m[g]/2<0,q=$?D<I?D-I:D-M:0;return{[h]:p[h]+q,data:{[h]:K,centerOffset:D-K-q,...$&&{alignmentOffset:q}},reset:$}}}),xme=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=oo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=lo(a),j=ss(l),b=lo(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(b||!m?[Ug(l)]:dme(l)),A=g!=="none";!p&&A&&S.push(...mme(l,m,g,_));const k=[l,...S],O=await Ch(e,v),T=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(O[x]),f){const D=ume(a,s,_);T.push(O[D[0]],O[D[1]])}if(R=[...R,{placement:a,overflows:T}],!T.every(D=>D<=0)){var P,I;const D=(((P=i.flip)==null?void 0:P.index)||0)+1,K=k[D];if(K&&(!(f==="alignment"?j!==ss(K):!1)||R.every(F=>ss(F.placement)===j?F.overflows[0]>0:!0)))return{data:{index:D,overflows:R},reset:{placement:K}};let $=(I=R.filter(q=>q.overflows[0]<=0).sort((q,F)=>q.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(h){case"bestFit":{var M;const q=(M=R.filter(F=>{if(A){const ee=ss(F.placement);return ee===j||ee==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ee=>ee>0).reduce((ee,fe)=>ee+fe,0)]).sort((F,ee)=>F[1]-ee[1])[0])==null?void 0:M[0];q&&($=q);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function bT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wT(t){return sme.some(e=>t[e]>=0)}const bme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=oo(t,e);switch(n){case"referenceHidden":{const i=await Ch(e,{...a,elementContext:"reference"}),s=bT(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:wT(s)}}}case"escaped":{const i=await Ch(e,{...a,altBoundary:!0}),s=bT(i,r.floating);return{data:{escapedOffsets:s,escaped:wT(s)}}}default:return{}}}}},F7=new Set(["left","top"]);async function wme(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=lo(r),l=kd(r),c=ss(r)==="y",u=F7.has(s)?-1:1,d=i&&c?-1:1,f=oo(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const _me=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=e,c=await wme(e,t);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},jme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x,y:j}=v;return{x,y:j}}},...c}=oo(t,e),u={x:r,y:n},d=await Ch(e,c),f=ss(lo(a)),p=SN(f);let h=u[p],g=u[f];if(i){const v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",j=h+d[v],b=h-d[x];h=y_(j,h,b)}if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",j=g+d[v],b=g-d[x];g=y_(j,g,b)}const m=l.fn({...e,[p]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:s}}}}}},Nme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oo(t,e),d={x:r,y:n},f=ss(a),p=SN(f);let h=d[p],g=d[f];const m=oo(l,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=p==="y"?"height":"width",_=i.reference[p]-i.floating[b]+v.mainAxis,S=i.reference[p]+i.reference[b]-v.mainAxis;h<_?h=_:h>S&&(h=S)}if(u){var x,j;const b=p==="y"?"width":"height",_=F7.has(lo(a)),S=i.reference[f]-i.floating[b]+(_&&((x=s.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),A=i.reference[f]+i.reference[b]+(_?0:((j=s.offset)==null?void 0:j[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>A&&(g=A)}return{[p]:h,[f]:g}}}},Sme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:s,elements:l}=e,{apply:c=()=>{},...u}=oo(t,e),d=await Ch(e,u),f=lo(a),p=kd(a),h=ss(a)==="y",{width:g,height:m}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=p===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=p==="end"?"top":"bottom");const j=m-d.top-d.bottom,b=g-d.left-d.right,_=Jo(m-d[v],j),S=Jo(g-d[x],b),A=!e.middlewareData.shift;let k=_,O=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(O=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=j),A&&!p){const R=Oa(d.left,0),P=Oa(d.right,0),I=Oa(d.top,0),M=Oa(d.bottom,0);h?O=g-2*(R!==0||P!==0?R+P:Oa(d.left,d.right)):k=m-2*(I!==0||M!==0?I+M:Oa(d.top,d.bottom))}await c({...e,availableWidth:O,availableHeight:k});const T=await s.getDimensions(l.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function a0(){return typeof window<"u"}function Pd(t){return B7(t)?(t.nodeName||"").toLowerCase():"#document"}function Ma(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bs(t){var e;return(e=(B7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B7(t){return a0()?t instanceof Node||t instanceof Ma(t).Node:!1}function Ri(t){return a0()?t instanceof Element||t instanceof Ma(t).Element:!1}function ps(t){return a0()?t instanceof HTMLElement||t instanceof Ma(t).HTMLElement:!1}function _T(t){return!a0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ma(t).ShadowRoot}const Ame=new Set(["inline","contents"]);function Xh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Li(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Ame.has(a)}const kme=new Set(["table","td","th"]);function Pme(t){return kme.has(Pd(t))}const Cme=[":popover-open",":modal"];function i0(t){return Cme.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ome=["transform","translate","scale","rotate","perspective"],Eme=["transform","translate","scale","rotate","perspective","filter"],Tme=["paint","layout","strict","content"];function PN(t){const e=CN(),r=Ri(t)?Li(t):t;return Ome.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Eme.some(n=>(r.willChange||"").includes(n))||Tme.some(n=>(r.contain||"").includes(n))}function Ime(t){let e=Qo(t);for(;ps(e)&&!cd(e);){if(PN(e))return e;if(i0(e))return null;e=Qo(e)}return null}function CN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rme=new Set(["html","body","#document"]);function cd(t){return Rme.has(Pd(t))}function Li(t){return Ma(t).getComputedStyle(t)}function s0(t){return Ri(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qo(t){if(Pd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_T(t)&&t.host||bs(t);return _T(e)?e.host:e}function q7(t){const e=Qo(t);return cd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ps(e)&&Xh(e)?e:q7(e)}function Oh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=q7(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=Ma(a);if(i){const l=b_(s);return e.concat(s,s.visualViewport||[],Xh(a)?a:[],l&&r?Oh(l):[])}return e.concat(a,Oh(a,[],r))}function b_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U7(t){const e=Li(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=ps(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,l=qg(r)!==i||qg(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function ON(t){return Ri(t)?t:t.contextElement}function Tu(t){const e=ON(t);if(!ps(e))return us(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=U7(e);let s=(i?qg(r.width):r.width)/n,l=(i?qg(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Lme=us(0);function z7(t){const e=Ma(t);return!CN()||!e.visualViewport?Lme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mme(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ma(t)?!1:e}function hc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=ON(t);let s=us(1);e&&(n?Ri(n)&&(s=Tu(n)):s=Tu(t));const l=Mme(i,r,n)?z7(i):us(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const p=Ma(i),h=n&&Ri(n)?Ma(n):n;let g=p,m=b_(g);for(;m&&n&&h!==g;){const v=Tu(m),x=m.getBoundingClientRect(),j=Li(m),b=x.left+(m.clientLeft+parseFloat(j.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,g=Ma(m),m=b_(g)}}return zg({width:d,height:f,x:c,y:u})}function o0(t,e){const r=s0(t).scrollLeft;return e?e.left+r:hc(bs(t)).left+r}function W7(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-o0(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function Dme(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=bs(n),l=e?i0(e.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=us(1);const d=us(0),f=ps(n);if((f||!f&&!i)&&((Pd(n)!=="body"||Xh(s))&&(c=s0(n)),ps(n))){const h=hc(n);u=Tu(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=s&&!f&&!i?W7(s,c):us(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function $me(t){return Array.from(t.getClientRects())}function Fme(t){const e=bs(t),r=s0(t),n=t.ownerDocument.body,a=Oa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Oa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+o0(t);const l=-r.scrollTop;return Li(n).direction==="rtl"&&(s+=Oa(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}const jT=25;function Bme(t,e){const r=Ma(t),n=bs(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const d=CN();(!d||d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=o0(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=jT&&(i-=g)}else u<=jT&&(i+=u);return{width:i,height:s,x:l,y:c}}const qme=new Set(["absolute","fixed"]);function Ume(t,e){const r=hc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=ps(t)?Tu(t):us(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function NT(t,e,r){let n;if(e==="viewport")n=Bme(t,r);else if(e==="document")n=Fme(bs(t));else if(Ri(e))n=Ume(e,r);else{const a=z7(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return zg(n)}function H7(t,e){const r=Qo(t);return r===e||!Ri(r)||cd(r)?!1:Li(r).position==="fixed"||H7(r,e)}function zme(t,e){const r=e.get(t);if(r)return r;let n=Oh(t,[],!1).filter(l=>Ri(l)&&Pd(l)!=="body"),a=null;const i=Li(t).position==="fixed";let s=i?Qo(t):t;for(;Ri(s)&&!cd(s);){const l=Li(s),c=PN(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&qme.has(a.position)||Xh(s)&&!c&&H7(t,s))?n=n.filter(d=>d!==s):a=l,s=Qo(s)}return e.set(t,n),n}function Wme(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?i0(e)?[]:zme(e,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=NT(e,d,a);return u.top=Oa(f.top,u.top),u.right=Jo(f.right,u.right),u.bottom=Jo(f.bottom,u.bottom),u.left=Oa(f.left,u.left),u},NT(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Hme(t){const{width:e,height:r}=U7(t);return{width:e,height:r}}function Vme(t,e,r){const n=ps(e),a=bs(e),i=r==="fixed",s=hc(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=us(0);function u(){c.x=o0(a)}if(n||!n&&!i)if((Pd(e)!=="body"||Xh(a))&&(l=s0(e)),n){const h=hc(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?W7(a,l):us(0),f=s.left+l.scrollLeft-c.x-d.x,p=s.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:s.width,height:s.height}}function s2(t){return Li(t).position==="static"}function ST(t,e){if(!ps(t)||Li(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return bs(t)===r&&(r=r.ownerDocument.body),r}function V7(t,e){const r=Ma(t);if(i0(t))return r;if(!ps(t)){let a=Qo(t);for(;a&&!cd(a);){if(Ri(a)&&!s2(a))return a;a=Qo(a)}return r}let n=ST(t,e);for(;n&&Pme(n)&&s2(n);)n=ST(n,e);return n&&cd(n)&&s2(n)&&!PN(n)?r:n||Ime(t)||r}const Gme=async function(t){const e=this.getOffsetParent||V7,r=this.getDimensions,n=await r(t.floating);return{reference:Vme(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Kme(t){return Li(t).direction==="rtl"}const Yme={convertOffsetParentRelativeRectToViewportRelativeRect:Dme,getDocumentElement:bs,getClippingRect:Wme,getOffsetParent:V7,getElementRects:Gme,getClientRects:$me,getDimensions:Hme,getScale:Tu,isElement:Ri,isRTL:Kme};function G7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Xme(t,e){let r=null,n;const a=bs(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||e(),!p||!h)return;const g=mm(f),m=mm(a.clientWidth-(d+p)),v=mm(a.clientHeight-(f+h)),x=mm(d),b={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Oa(0,Jo(1,c))||1};let _=!0;function S(A){const k=A[0].intersectionRatio;if(k!==c){if(!_)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!G7(u,t.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(t)}return s(!0),i}function Zme(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ON(t),d=a||i?[...u?Oh(u):[],...Oh(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?Xme(u,r):null;let p=-1,h=null;s&&(h=new ResizeObserver(x=>{let[j]=x;j&&j.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,m=c?hc(t):null;c&&v();function v(){const x=hc(t);m&&!G7(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const Jme=_me,Qme=jme,ege=xme,tge=Sme,rge=bme,AT=yme,nge=Nme,age=(t,e,r)=>{const n=new Map,a={platform:Yme,...r},i={...a.platform,_c:n};return vme(t,e,{...a,platform:i})};var ige=typeof document<"u",sge=function(){},Pm=ige?N.useLayoutEffect:sge;function Wg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Wg(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Wg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function K7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kT(t,e){const r=K7(t);return Math.round(e*r)/r}function o2(t){const e=N.useRef(t);return Pm(()=>{e.current=t}),e}function oge(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=N.useState(n);Wg(p,n)||h(n);const[g,m]=N.useState(null),[v,x]=N.useState(null),j=N.useCallback(F=>{F!==A.current&&(A.current=F,m(F))},[]),b=N.useCallback(F=>{F!==k.current&&(k.current=F,x(F))},[]),_=i||g,S=s||v,A=N.useRef(null),k=N.useRef(null),O=N.useRef(d),T=c!=null,R=o2(c),P=o2(a),I=o2(u),M=N.useCallback(()=>{if(!A.current||!k.current)return;const F={placement:e,strategy:r,middleware:p};P.current&&(F.platform=P.current),age(A.current,k.current,F).then(ee=>{const fe={...ee,isPositioned:I.current!==!1};D.current&&!Wg(O.current,fe)&&(O.current=fe,Qg.flushSync(()=>{f(fe)}))})},[p,e,r,P,I]);Pm(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const D=N.useRef(!1);Pm(()=>(D.current=!0,()=>{D.current=!1}),[]),Pm(()=>{if(_&&(A.current=_),S&&(k.current=S),_&&S){if(R.current)return R.current(_,S,M);M()}},[_,S,M,R,T]);const K=N.useMemo(()=>({reference:A,floating:k,setReference:j,setFloating:b}),[j,b]),$=N.useMemo(()=>({reference:_,floating:S}),[_,S]),q=N.useMemo(()=>{const F={position:r,left:0,top:0};if(!$.floating)return F;const ee=kT($.floating,d.x),fe=kT($.floating,d.y);return l?{...F,transform:"translate("+ee+"px, "+fe+"px)",...K7($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:fe}},[r,l,$.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:M,refs:K,elements:$,floatingStyles:q}),[d,M,K,$,q])}const lge=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?AT({element:n.current,padding:a}).fn(r):{}:n?AT({element:n,padding:a}).fn(r):{}}}},cge=(t,e)=>({...Jme(t),options:[t,e]}),uge=(t,e)=>({...Qme(t),options:[t,e]}),dge=(t,e)=>({...nge(t),options:[t,e]}),fge=(t,e)=>({...ege(t),options:[t,e]}),hge=(t,e)=>({...tge(t),options:[t,e]}),pge=(t,e)=>({...rge(t),options:[t,e]}),mge=(t,e)=>({...lge(t),options:[t,e]});var gge="Arrow",Y7=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return o.jsx(ot.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Y7.displayName=gge;var vge=Y7;function l0(t){const[e,r]=N.useState(void 0);return nn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=t.offsetWidth,l=t.offsetHeight;r({width:s,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var EN="Popper",[X7,c0]=Mn(EN),[yge,Z7]=X7(EN),J7=t=>{const{__scopePopper:e,children:r}=t,[n,a]=N.useState(null);return o.jsx(yge,{scope:e,anchor:n,onAnchorChange:a,children:r})};J7.displayName=EN;var Q7="PopperAnchor",e9=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=Z7(Q7,r),s=N.useRef(null),l=Ut(e,s),c=N.useRef(null);return N.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(ot.div,{...a,ref:l})});e9.displayName=Q7;var TN="PopperContent",[xge,bge]=X7(TN),t9=N.forwardRef((t,e)=>{var re,oe,ne,de,pe,le;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=Z7(TN,r),[x,j]=N.useState(null),b=Ut(e,Ne=>j(Ne)),[_,S]=N.useState(null),A=l0(_),k=(A==null?void 0:A.width)??0,O=(A==null?void 0:A.height)??0,T=n+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],I=P.length>0,M={padding:R,boundary:P.filter(_ge),altBoundary:I},{refs:D,floatingStyles:K,placement:$,isPositioned:q,middlewareData:F}=oge({strategy:"fixed",placement:T,whileElementsMounted:(...Ne)=>Zme(...Ne,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[cge({mainAxis:a+O,alignmentAxis:s}),c&&uge({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dge():void 0,...M}),c&&fge({...M}),hge({...M,apply:({elements:Ne,rects:ge,availableWidth:te,availableHeight:qe})=>{const{width:Ue,height:ze}=ge.reference,Pe=Ne.floating.style;Pe.setProperty("--radix-popper-available-width",`${te}px`),Pe.setProperty("--radix-popper-available-height",`${qe}px`),Pe.setProperty("--radix-popper-anchor-width",`${Ue}px`),Pe.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),_&&mge({element:_,padding:l}),jge({arrowWidth:k,arrowHeight:O}),p&&pge({strategy:"referenceHidden",...M})]}),[ee,fe]=a9($),ue=Wn(g);nn(()=>{q&&(ue==null||ue())},[q,ue]);const B=(re=F.arrow)==null?void 0:re.x,H=(oe=F.arrow)==null?void 0:oe.y,V=((ne=F.arrow)==null?void 0:ne.centerOffset)!==0,[W,Q]=N.useState();return nn(()=>{x&&Q(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(de=F.transformOrigin)==null?void 0:de.x,(pe=F.transformOrigin)==null?void 0:pe.y].join(" "),...((le=F.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(xge,{scope:r,placedSide:ee,onArrowChange:S,arrowX:B,arrowY:H,shouldHideArrow:V,children:o.jsx(ot.div,{"data-side":ee,"data-align":fe,...m,ref:b,style:{...m.style,animation:q?void 0:"none"}})})})});t9.displayName=TN;var r9="PopperArrow",wge={top:"bottom",right:"left",bottom:"top",left:"right"},n9=N.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=bge(r9,n),s=wge[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(vge,{...a,ref:r,style:{...a.style,display:"block"}})})});n9.displayName=r9;function _ge(t){return t!==null}var jge=t=>({name:"transformOrigin",options:t,fn(e){var v,x,j;const{placement:r,rects:n,middlewareData:a}=e,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[u,d]=a9(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,h=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?f:`${p}px`,m=`${-c}px`):u==="top"?(g=s?f:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?f:`${h}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?f:`${h}px`),{data:{x:g,y:m}}}});function a9(t){const[e,r="center"]=t.split("-");return[e,r]}var i9=J7,IN=e9,s9=t9,o9=n9,u0="Popover",[l9,Lwe]=Mn(u0,[c0]),Zh=c0(),[Nge,ll]=l9(u0),c9=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=t,l=Zh(e),c=N.useRef(null),[u,d]=N.useState(!1),[f,p]=ni({prop:n,defaultProp:a??!1,onChange:i,caller:u0});return o.jsx(i9,{...l,children:o.jsx(Nge,{scope:e,contentId:Pi(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:s,children:r})})};c9.displayName=u0;var u9="PopoverAnchor",Sge=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ll(u9,r),i=Zh(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(IN,{...i,...n,ref:e})});Sge.displayName=u9;var d9="PopoverTrigger",f9=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ll(d9,r),i=Zh(r),s=Ut(e,a.triggerRef),l=o.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":v9(a.open),...n,ref:s,onClick:pt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(IN,{asChild:!0,...i,children:l})});f9.displayName=d9;var RN="PopoverPortal",[Age,kge]=l9(RN,{forceMount:void 0}),h9=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=ll(RN,e);return o.jsx(Age,{scope:e,forceMount:r,children:o.jsx(ha,{present:r||i.open,children:o.jsx(uv,{asChild:!0,container:a,children:n})})})};h9.displayName=RN;var ud="PopoverContent",p9=N.forwardRef((t,e)=>{const r=kge(ud,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=ll(ud,t.__scopePopover);return o.jsx(ha,{present:n||i.open,children:i.modal?o.jsx(Cge,{...a,ref:e}):o.jsx(Oge,{...a,ref:e})})});p9.displayName=ud;var Pge=tc("PopoverContent.RemoveScroll"),Cge=N.forwardRef((t,e)=>{const r=ll(ud,t.__scopePopover),n=N.useRef(null),a=Ut(e,n),i=N.useRef(!1);return N.useEffect(()=>{const s=n.current;if(s)return aj(s)},[]),o.jsx(fv,{as:Pge,allowPinchZoom:!0,children:o.jsx(m9,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Oge=N.forwardRef((t,e)=>{const r=ll(ud,t.__scopePopover),n=N.useRef(!1),a=N.useRef(!1);return o.jsx(m9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),m9=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=ll(ud,r),h=Zh(r);return nj(),o.jsx(cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(lv,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(s9,{"data-state":v9(p.open),role:"dialog",id:p.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),g9="PopoverClose",Ege=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ll(g9,r);return o.jsx(ot.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>a.onOpenChange(!1))})});Ege.displayName=g9;var Tge="PopoverArrow",Ige=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Zh(r);return o.jsx(o9,{...a,...n,ref:e})});Ige.displayName=Tge;function v9(t){return t?"open":"closed"}var Rge=c9,Lge=f9,Mge=h9,Dge=p9;function $ge({...t}){return o.jsx(Rge,{"data-slot":"popover",...t})}function Fge({...t}){return o.jsx(Lge,{"data-slot":"popover-trigger",...t})}function Bge({className:t,align:e="center",sideOffset:r=4,...n}){return o.jsx(Mge,{children:o.jsx(Dge,{"data-slot":"popover-content",align:e,sideOffset:r,className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Qt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Zn(t,e){const r=Qt(t);return isNaN(e)?qa(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Mi(t,e){const r=Qt(t);if(isNaN(e))return qa(t,NaN);if(!e)return r;const n=r.getDate(),a=qa(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const LN=6048e5,qge=864e5;let Uge={};function Jh(){return Uge}function ms(t,e){var l,c,u,d;const r=Jh(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Qt(t),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function pc(t){return ms(t,{weekStartsOn:1})}function y9(t){const e=Qt(t),r=e.getFullYear(),n=qa(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=pc(n),i=qa(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=pc(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function dd(t){const e=Qt(t);return e.setHours(0,0,0,0),e}function Hg(t){const e=Qt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function os(t,e){const r=dd(t),n=dd(e),a=+r-Hg(r),i=+n-Hg(n);return Math.round((a-i)/qge)}function zge(t){const e=y9(t),r=qa(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),pc(r)}function w_(t,e){const r=e*7;return Zn(t,r)}function Wge(t,e){return Mi(t,e*12)}function Hge(t){let e;return t.forEach(function(r){const n=Qt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Vge(t){let e;return t.forEach(r=>{const n=Qt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function da(t,e){const r=dd(t),n=dd(e);return+r==+n}function MN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gge(t){if(!MN(t)&&typeof t!="number")return!1;const e=Qt(t);return!isNaN(Number(e))}function Eh(t,e){const r=Qt(t),n=Qt(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Kge(t,e,r){const n=ms(t,r),a=ms(e,r),i=+n-Hg(n),s=+a-Hg(a);return Math.round((i-s)/LN)}function DN(t){const e=Qt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function fa(t){const e=Qt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function x9(t){const e=Qt(t),r=qa(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function $N(t,e){var l,c,u,d;const r=Jh(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Qt(t),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function b9(t){return $N(t,{weekStartsOn:1})}const Yge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xge=(t,e,r)=>{let n;const a=Yge[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function l2(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Zge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eve={date:l2({formats:Zge,defaultWidth:"full"}),time:l2({formats:Jge,defaultWidth:"full"}),dateTime:l2({formats:Qge,defaultWidth:"full"})},tve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rve=(t,e,r,n)=>tve[t];function xf(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const nve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ave={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ive={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ove={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cve=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uve={ordinalNumber:cve,era:xf({values:nve,defaultWidth:"wide"}),quarter:xf({values:ave,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xf({values:ive,defaultWidth:"wide"}),day:xf({values:sve,defaultWidth:"wide"}),dayPeriod:xf({values:ove,defaultWidth:"wide",formattingValues:lve,defaultFormattingWidth:"wide"})};function bf(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?fve(l,f=>f.test(s)):dve(l,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function dve(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function fve(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function hve(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=e.slice(a.length);return{value:s,rest:l}}}const pve=/^(\d+)(th|st|nd|rd)?/i,mve=/\d+/i,gve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vve={any:[/^b/i,/^(a|c)/i]},yve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xve={any:[/1/i,/2/i,/3/i,/4/i]},bve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_ve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ave={ordinalNumber:hve({matchPattern:pve,parsePattern:mve,valueCallback:t=>parseInt(t,10)}),era:bf({matchPatterns:gve,defaultMatchWidth:"wide",parsePatterns:vve,defaultParseWidth:"any"}),quarter:bf({matchPatterns:yve,defaultMatchWidth:"wide",parsePatterns:xve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bf({matchPatterns:bve,defaultMatchWidth:"wide",parsePatterns:wve,defaultParseWidth:"any"}),day:bf({matchPatterns:_ve,defaultMatchWidth:"wide",parsePatterns:jve,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:Nve,defaultMatchWidth:"any",parsePatterns:Sve,defaultParseWidth:"any"})},w9={code:"en-US",formatDistance:Xge,formatLong:eve,formatRelative:rve,localize:uve,match:Ave,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kve(t){const e=Qt(t);return os(e,x9(e))+1}function _9(t){const e=Qt(t),r=+pc(e)-+zge(e);return Math.round(r/LN)+1}function j9(t,e){var d,f,p,h;const r=Qt(t),n=r.getFullYear(),a=Jh(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=qa(t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=ms(s,e),c=qa(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ms(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Pve(t,e){var l,c,u,d;const r=Jh(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=j9(t,e),i=qa(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ms(i,e)}function N9(t,e){const r=Qt(t),n=+ms(r,e)-+Pve(r,e);return Math.round(n/LN)+1}function cr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const To={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return cr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):cr(r+1,2)},d(t,e){return cr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return cr(t.getHours()%12||12,e.length)},H(t,e){return cr(t.getHours(),e.length)},m(t,e){return cr(t.getMinutes(),e.length)},s(t,e){return cr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return cr(a,e.length)}},cu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PT={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return To.y(t,e)},Y:function(t,e,r,n){const a=j9(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return cr(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):cr(i,e.length)},R:function(t,e){const r=y9(t);return cr(r,e.length)},u:function(t,e){const r=t.getFullYear();return cr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return cr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return cr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return To.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return cr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=N9(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):cr(a,e.length)},I:function(t,e,r){const n=_9(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):cr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):To.d(t,e)},D:function(t,e,r){const n=kve(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):cr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return cr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return cr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return cr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=cu.noon:n===0?a=cu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=cu.evening:n>=12?a=cu.afternoon:n>=4?a=cu.morning:a=cu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return To.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):To.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):To.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):To.s(t,e)},S:function(t,e){return To.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return OT(n);case"XXXX":case"XX":return Dl(n);case"XXXXX":case"XXX":default:return Dl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return OT(n);case"xxxx":case"xx":return Dl(n);case"xxxxx":case"xxx":default:return Dl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+CT(n,":");case"OOOO":default:return"GMT"+Dl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+CT(n,":");case"zzzz":default:return"GMT"+Dl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return cr(n,e.length)},T:function(t,e,r){const n=t.getTime();return cr(n,e.length)}};function CT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+cr(i,2)}function OT(t,e){return t%60===0?(t>0?"-":"+")+cr(Math.abs(t)/60,2):Dl(t,e)}function Dl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=cr(Math.trunc(n/60),2),i=cr(n%60,2);return r+a+e+i}const ET=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},S9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cve=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ET(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ET(n,e)).replace("{{time}}",S9(a,e))},Ove={p:S9,P:Cve},Eve=/^D+$/,Tve=/^Y+$/,Ive=["D","DD","YY","YYYY"];function Rve(t){return Eve.test(t)}function Lve(t){return Tve.test(t)}function Mve(t,e,r){const n=Dve(t,e,r);if(console.warn(n),Ive.includes(t))throw new RangeError(n)}function Dve(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $ve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bve=/^'([^]*?)'?$/,qve=/''/g,Uve=/[a-zA-Z]/;function ds(t,e,r){var d,f,p,h,g,m,v,x;const n=Jh(),a=(r==null?void 0:r.locale)??n.locale??w9,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Qt(t);if(!Gge(l))throw new RangeError("Invalid time value");let c=e.match(Fve).map(j=>{const b=j[0];if(b==="p"||b==="P"){const _=Ove[b];return _(j,a.formatLong)}return j}).join("").match($ve).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:zve(j)};if(PT[b])return{isToken:!0,value:j};if(b.match(Uve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const b=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Lve(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Rve(b))&&Mve(b,e,String(t));const _=PT[b[0]];return _(l,b,a.localize,u)}).join("")}function zve(t){const e=t.match(Bve);return e?e[1].replace(qve,"'"):t}function Wve(t){const e=Qt(t),r=e.getFullYear(),n=e.getMonth(),a=qa(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Hve(t){return Math.trunc(+Qt(t)/1e3)}function Vve(t){const e=Qt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Gve(t,e){return Kge(Vve(t),fa(t),e)+1}function __(t,e){const r=Qt(t),n=Qt(e);return r.getTime()>n.getTime()}function A9(t,e){const r=Qt(t),n=Qt(e);return+r<+n}function FN(t,e){const r=Qt(t),n=Qt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Kve(t,e){const r=Qt(t),n=Qt(e);return r.getFullYear()===n.getFullYear()}function c2(t,e){return Zn(t,-e)}function u2(t,e){const r=Qt(t),n=r.getFullYear(),a=r.getDate(),i=qa(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const s=Wve(i);return r.setMonth(e,Math.min(a,s)),r}function TT(t,e){const r=Qt(t);return isNaN(+r)?qa(t,NaN):(r.setFullYear(e),r)}var At=function(){return At=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},At.apply(this,arguments)};function Yve(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function k9(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Qh(t){return t.mode==="multiple"}function ep(t){return t.mode==="range"}function d0(t){return t.mode==="single"}var Xve={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Zve(t,e){return ds(t,"LLLL y",e)}function Jve(t,e){return ds(t,"d",e)}function Qve(t,e){return ds(t,"LLLL",e)}function e0e(t){return"".concat(t)}function t0e(t,e){return ds(t,"cccccc",e)}function r0e(t,e){return ds(t,"yyyy",e)}var n0e=Object.freeze({__proto__:null,formatCaption:Zve,formatDay:Jve,formatMonthCaption:Qve,formatWeekNumber:e0e,formatWeekdayName:t0e,formatYearCaption:r0e}),a0e=function(t,e,r){return ds(t,"do MMMM (EEEE)",r)},i0e=function(){return"Month: "},s0e=function(){return"Go to next month"},o0e=function(){return"Go to previous month"},l0e=function(t,e){return ds(t,"cccc",e)},c0e=function(t){return"Week n. ".concat(t)},u0e=function(){return"Year: "},d0e=Object.freeze({__proto__:null,labelDay:a0e,labelMonthDropdown:i0e,labelNext:s0e,labelPrevious:o0e,labelWeekNumber:c0e,labelWeekday:l0e,labelYearDropdown:u0e});function f0e(){var t="buttons",e=Xve,r=w9,n={},a={},i=1,s={},l=new Date;return{captionLayout:t,classNames:e,formatters:n0e,labels:d0e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:l,mode:"default"}}function h0e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,s=t.toDate;return n?i=fa(n):e&&(i=new Date(e,0,1)),a?s=DN(a):r&&(s=new Date(r,11,31)),{fromDate:i?dd(i):void 0,toDate:s?dd(s):void 0}}var P9=N.createContext(void 0);function p0e(t){var e,r=t.initialProps,n=f0e(),a=h0e(r),i=a.fromDate,s=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!s)&&(l="buttons");var c;(d0(r)||Qh(r)||ep(r))&&(c=r.onSelect);var u=At(At(At({},n),r),{captionLayout:l,classNames:At(At({},n.classNames),r.classNames),components:At({},r.components),formatters:At(At({},n.formatters),r.formatters),fromDate:i,labels:At(At({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:At(At({},n.modifiers),r.modifiers),modifiersClassNames:At(At({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:At(At({},n.styles),r.styles),toDate:s});return o.jsx(P9.Provider,{value:u,children:t.children})}function Pr(){var t=N.useContext(P9);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function C9(t){var e=Pr(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function m0e(t){return o.jsx("svg",At({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function O9(t){var e,r,n=t.onChange,a=t.value,i=t.children,s=t.caption,l=t.className,c=t.style,u=Pr(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:m0e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function g0e(t){var e,r=Pr(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Kve(n,a))for(var p=fa(n),h=n.getMonth();h<=a.getMonth();h++)f.push(u2(p,h));else for(var p=fa(new Date),h=0;h<=11;h++)f.push(u2(p,h));var g=function(v){var x=Number(v.target.value),j=u2(fa(t.displayMonth),x);t.onChange(j)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:O9;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:s}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:s})},v.getMonth())})})}function v0e(t){var e,r=t.displayMonth,n=Pr(),a=n.fromDate,i=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!a)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var h=a.getFullYear(),g=i.getFullYear(),m=h;m<=g;m++)p.push(TT(x9(new Date),m));var v=function(j){var b=TT(fa(r),Number(j.target.value));t.onChange(b)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:O9;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:p.map(function(j){return o.jsx("option",{value:j.getFullYear(),children:d(j,{locale:s})},j.getFullYear())})})}function y0e(t,e){var r=N.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function x0e(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,s=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Eh(i,a)<0){var u=-1*(c-1);a=Mi(i,u)}return s&&Eh(a,s)<0&&(a=s),fa(a)}function b0e(){var t=Pr(),e=x0e(t),r=y0e(e,t.month),n=r[0],a=r[1],i=function(s){var l;if(!t.disableNavigation){var c=fa(s);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function w0e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=fa(t),i=fa(Mi(a,n)),s=Eh(i,a),l=[],c=0;c<s;c++){var u=Mi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function _0e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=fa(t);if(!r)return Mi(l,s);var c=Eh(r,t);if(!(c<i))return Mi(l,s)}}function j0e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=fa(t);if(!r)return Mi(l,-s);var c=Eh(l,r);if(!(c<=0))return Mi(l,-s)}}var E9=N.createContext(void 0);function N0e(t){var e=Pr(),r=b0e(),n=r[0],a=r[1],i=w0e(n,e),s=_0e(n,e),l=j0e(n,e),c=function(f){return i.some(function(p){return FN(f,p)})},u=function(f,p){c(f)||(p&&A9(f,p)?a(Mi(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(E9.Provider,{value:d,children:t.children})}function tp(){var t=N.useContext(E9);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function IT(t){var e,r=Pr(),n=r.classNames,a=r.styles,i=r.components,s=tp().goToMonth,l=function(d){s(Mi(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:C9,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(g0e,{onChange:l,displayMonth:t.displayMonth}),o.jsx(v0e,{onChange:l,displayMonth:t.displayMonth})]})}function S0e(t){return o.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function A0e(t){return o.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Vg=N.forwardRef(function(t,e){var r=Pr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var s=i.join(" "),l=At(At({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),o.jsx("button",At({},t,{ref:e,type:"button",className:s,style:l}))});function k0e(t){var e,r,n=Pr(),a=n.dir,i=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var p=u(t.previousMonth,{locale:i}),h=[s.nav_button,s.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),m=[s.nav_button,s.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:A0e,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:S0e;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(Vg,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:s.nav_icon,style:l.nav_icon}):o.jsx(x,{className:s.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(Vg,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?o.jsx(x,{className:s.nav_icon,style:l.nav_icon}):o.jsx(v,{className:s.nav_icon,style:l.nav_icon})})]})}function RT(t){var e=Pr().numberOfMonths,r=tp(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(g){return FN(t.displayMonth,g)}),c=l===0,u=l===s.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){n&&i(n)},h=function(){a&&i(a)};return o.jsx(k0e,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:h})}function P0e(t){var e,r=Pr(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:C9,u;return a?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=o.jsx(IT,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(IT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(RT,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(RT,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function C0e(t){var e=Pr(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function O0e(t,e,r){for(var n=r?pc(new Date):ms(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var s=Zn(n,i);a.push(s)}return a}function E0e(){var t=Pr(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,s=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=O0e(a,i,s);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function T0e(){var t,e=Pr(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:E0e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function I0e(t){var e=Pr(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var BN=N.createContext(void 0);function R0e(t){if(!Qh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(BN.Provider,{value:e,children:t.children})}return o.jsx(L0e,{initialProps:t.initialProps,children:t.children})}function L0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,s=function(u,d,f){var p,h;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?k9([],n):[];if(d.selected){var x=v.findIndex(function(j){return da(u,j)});v.splice(x,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(p){return da(p,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(BN.Provider,{value:c,children:r})}function qN(){var t=N.useContext(BN);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function M0e(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?da(a,t)&&da(n,t)?void 0:da(a,t)?{from:a,to:void 0}:da(n,t)?void 0:__(n,t)?{from:t,to:a}:{from:n,to:t}:a?__(t,a)?{from:a,to:t}:{from:t,to:a}:n?A9(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var UN=N.createContext(void 0);function D0e(t){if(!ep(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(UN.Provider,{value:e,children:t.children})}return o.jsx($0e,{initialProps:t.initialProps,children:t.children})}function $0e(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,s=a.to,l=e.min,c=e.max,u=function(h,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,h,g,m);var j=M0e(h,n);(x=e.onSelect)===null||x===void 0||x.call(e,j,h,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],da(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),l&&(i&&!s&&d.disabled.push({after:c2(i,l-1),before:Zn(i,l-1)}),i&&s&&d.disabled.push({after:i,before:Zn(i,l-1)}),!i&&s&&d.disabled.push({after:c2(s,l-1),before:Zn(s,l-1)})),c){if(i&&!s&&(d.disabled.push({before:Zn(i,-c+1)}),d.disabled.push({after:Zn(i,c-1)})),i&&s){var f=os(s,i)+1,p=c-f;d.disabled.push({before:c2(i,p)}),d.disabled.push({after:Zn(s,p)})}!i&&s&&(d.disabled.push({before:Zn(s,-c+1)}),d.disabled.push({after:Zn(s,c-1)}))}return o.jsx(UN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function zN(){var t=N.useContext(UN);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Cm(t){return Array.isArray(t)?k9([],t):t!==void 0?[t]:[]}function F0e(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=Cm(a)}),e}var Di;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Di||(Di={}));var B0e=Di.Selected,Ds=Di.Disabled,q0e=Di.Hidden,U0e=Di.Today,d2=Di.RangeEnd,f2=Di.RangeMiddle,h2=Di.RangeStart,z0e=Di.Outside;function W0e(t,e,r){var n,a=(n={},n[B0e]=Cm(t.selected),n[Ds]=Cm(t.disabled),n[q0e]=Cm(t.hidden),n[U0e]=[t.today],n[d2]=[],n[f2]=[],n[h2]=[],n[z0e]=[],n);return t.fromDate&&a[Ds].push({before:t.fromDate}),t.toDate&&a[Ds].push({after:t.toDate}),Qh(t)?a[Ds]=a[Ds].concat(e.modifiers[Ds]):ep(t)&&(a[Ds]=a[Ds].concat(r.modifiers[Ds]),a[h2]=r.modifiers[h2],a[f2]=r.modifiers[f2],a[d2]=r.modifiers[d2]),a}var T9=N.createContext(void 0);function H0e(t){var e=Pr(),r=qN(),n=zN(),a=W0e(e,r,n),i=F0e(e.modifiers),s=At(At({},a),i);return o.jsx(T9.Provider,{value:s,children:t.children})}function I9(){var t=N.useContext(T9);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function V0e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function G0e(t){return!!(t&&typeof t=="object"&&"from"in t)}function K0e(t){return!!(t&&typeof t=="object"&&"after"in t)}function Y0e(t){return!!(t&&typeof t=="object"&&"before"in t)}function X0e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Z0e(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=os(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=os(t,n)>=0&&os(a,t)>=0;return s}return a?da(a,t):n?da(n,t):!1}function J0e(t){return MN(t)}function Q0e(t){return Array.isArray(t)&&t.every(MN)}function eye(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(J0e(r))return da(t,r);if(Q0e(r))return r.includes(t);if(G0e(r))return Z0e(t,r);if(X0e(r))return r.dayOfWeek.includes(t.getDay());if(V0e(r)){var n=os(r.before,t),a=os(r.after,t),i=n>0,s=a<0,l=__(r.before,r.after);return l?s&&i:i||s}return K0e(r)?os(t,r.after)>0:Y0e(r)?os(r.before,t)>0:typeof r=="function"?r(t):!1})}function WN(t,e,r){var n=Object.keys(e).reduce(function(i,s){var l=e[s];return eye(t,l)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!FN(t,r)&&(a.outside=!0),a}function tye(t,e){for(var r=fa(t[0]),n=DN(t[t.length-1]),a,i,s=r;s<=n;){var l=WN(s,e),c=!l.disabled&&!l.hidden;if(!c){s=Zn(s,1);continue}if(l.selected)return s;l.today&&!i&&(i=s),a||(a=s),s=Zn(s,1)}return i||a}var rye=365;function R9(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,s=e.retry,l=s===void 0?{count:0,lastFocused:t}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,p={day:Zn,week:w_,month:Mi,year:Wge,startOfWeek:function(v){return a.ISOWeek?pc(v):ms(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?b9(v):$N(v,{locale:f,weekStartsOn:c})}},h=p[r](t,n==="after"?1:-1);n==="before"&&u?h=Hge([u,h]):n==="after"&&d&&(h=Vge([d,h]));var g=!0;if(i){var m=WN(h,i);g=!m.disabled&&!m.hidden}return g?h:l.count>rye?l.lastFocused:R9(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:At(At({},l),{count:l.count+1})})}var L9=N.createContext(void 0);function nye(t){var e=tp(),r=I9(),n=N.useState(),a=n[0],i=n[1],s=N.useState(),l=s[0],c=s[1],u=tye(e.displayMonths,r),d=a??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},p=function(v){i(v)},h=Pr(),g=function(v,x){if(a){var j=R9(a,{moveBy:v,direction:x,context:h,modifiers:r});da(a,j)||(e.goToDate(j,a),p(j))}},m={focusedDay:a,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(L9.Provider,{value:m,children:t.children})}function HN(){var t=N.useContext(L9);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function aye(t,e){var r=I9(),n=WN(t,r,e);return n}var VN=N.createContext(void 0);function iye(t){if(!d0(t.initialProps)){var e={selected:void 0};return o.jsx(VN.Provider,{value:e,children:t.children})}return o.jsx(sye,{initialProps:t.initialProps,children:t.children})}function sye(t){var e=t.initialProps,r=t.children,n=function(i,s,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,s,l),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,s,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,s,l)},a={selected:e.selected,onDayClick:n};return o.jsx(VN.Provider,{value:a,children:r})}function M9(){var t=N.useContext(VN);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function oye(t,e){var r=Pr(),n=M9(),a=qN(),i=zN(),s=HN(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,p=s.focus,h=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,x=s.focusStartOfWeek,j=s.focusEndOfWeek,b=function(q){var F,ee,fe,ue;d0(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,q):Qh(r)?(ee=a.onDayClick)===null||ee===void 0||ee.call(a,t,e,q):ep(r)?(fe=i.onDayClick)===null||fe===void 0||fe.call(i,t,e,q):(ue=r.onDayClick)===null||ue===void 0||ue.call(r,t,e,q)},_=function(q){var F;p(t),(F=r.onDayFocus)===null||F===void 0||F.call(r,t,e,q)},S=function(q){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,t,e,q)},A=function(q){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,t,e,q)},k=function(q){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,t,e,q)},O=function(q){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,t,e,q)},T=function(q){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,t,e,q)},R=function(q){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,t,e,q)},P=function(q){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,t,e,q)},I=function(q){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,t,e,q)},M=function(q){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,t,e,q)},D=function(q){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,t,e,q)},K=function(q){var F;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?m():h();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?v():g();break;case"Home":q.preventDefault(),q.stopPropagation(),x();break;case"End":q.preventDefault(),q.stopPropagation(),j();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,t,e,q)},$={onClick:b,onFocus:_,onBlur:S,onKeyDown:K,onKeyUp:D,onMouseEnter:A,onMouseLeave:k,onPointerEnter:O,onPointerLeave:T,onTouchCancel:R,onTouchEnd:P,onTouchMove:I,onTouchStart:M};return $}function lye(){var t=Pr(),e=M9(),r=qN(),n=zN(),a=d0(t)?e.selected:Qh(t)?r.selected:ep(t)?n.selected:void 0;return a}function cye(t){return Object.values(Di).includes(t)}function uye(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(cye(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function dye(t,e){var r=At({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=At(At({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function fye(t,e,r){var n,a,i,s=Pr(),l=HN(),c=aye(t,e),u=oye(t,c),d=lye(),f=!!(s.onDayClick||s.mode!=="default");N.useEffect(function(){var A;c.outside||l.focusedDay&&f&&da(l.focusedDay,t)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,t,r,f,c.outside]);var p=uye(s,c).join(" "),h=dye(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),m=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:I0e,v=o.jsx(m,{date:t,displayMonth:e,activeModifiers:c}),x={style:h,className:p,children:v,role:"gridcell"},j=l.focusTarget&&da(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&da(l.focusedDay,t),_=At(At(At({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||j?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return S}function hye(t){var e=N.useRef(null),r=fye(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Vg,At({name:"day",ref:e},r.buttonProps)):o.jsx("div",At({},r.divProps))}function pye(t){var e=t.number,r=t.dates,n=Pr(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!a)return o.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),p=function(h){a(e,r,h)};return o.jsx(Vg,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:p,children:d})}function mye(t){var e,r,n=Pr(),a=n.styles,i=n.classNames,s=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:hye,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:pye,d;return s&&(d=o.jsx("td",{className:i.cell,style:a.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},Hve(f))})]})}function LT(t,e,r){for(var n=r!=null&&r.ISOWeek?b9(e):$N(e,r),a=r!=null&&r.ISOWeek?pc(t):ms(t,r),i=os(n,a),s=[],l=0;l<=i;l++)s.push(Zn(a,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?_9(d):N9(d,r),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function gye(t,e){var r=LT(fa(t),DN(t),e);if(e!=null&&e.useFixedWeeks){var n=Gve(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=w_(i,6-n),l=LT(w_(i,1),s,e);r.push.apply(r,l)}}return r}function vye(t){var e,r,n,a=Pr(),i=a.locale,s=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,g=gye(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:T0e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:mye,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:C0e;return o.jsxs("table",{id:t.id,className:s.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:g.map(function(j){return o.jsx(v,{displayMonth:t.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),o.jsx(x,{displayMonth:t.displayMonth})]})}function yye(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var xye=yye()?N.useLayoutEffect:N.useEffect,p2=!1,bye=0;function MT(){return"react-day-picker-".concat(++bye)}function wye(t){var e,r=t??(p2?MT():null),n=N.useState(r),a=n[0],i=n[1];return xye(function(){a===null&&i(MT())},[]),N.useEffect(function(){p2===!1&&(p2=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function _ye(t){var e,r,n=Pr(),a=n.dir,i=n.classNames,s=n.styles,l=n.components,c=tp().displayMonths,u=wye(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=s.month,h=t.displayIndex===0,g=t.displayIndex===c.length-1,m=!h&&!g;a==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(i.caption_start),p=At(At({},p),s.caption_start)),g&&(f.push(i.caption_end),p=At(At({},p),s.caption_end)),m&&(f.push(i.caption_between),p=At(At({},p),s.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:P0e;return o.jsxs("div",{className:f.join(" "),style:p,children:[o.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(vye,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function jye(t){var e=Pr(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function Nye(t){var e,r,n=t.initialProps,a=Pr(),i=HN(),s=tp(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=At(At({},a.styles.root),a.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return At(At({},g),(v={},v[m]=n[m],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:jye;return o.jsx("div",At({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(h,{children:s.displayMonths.map(function(g,m){return o.jsx(_ye,{displayIndex:m,displayMonth:g},m)})})}))}function Sye(t){var e=t.children,r=Yve(t,["children"]);return o.jsx(p0e,{initialProps:r,children:o.jsx(N0e,{children:o.jsx(iye,{initialProps:r,children:o.jsx(R0e,{initialProps:r,children:o.jsx(D0e,{initialProps:r,children:o.jsx(H0e,{children:o.jsx(nye,{children:e})})})})})})})}function Aye(t){return o.jsx(Sye,At({},t,{children:o.jsx(Nye,{initialProps:t})}))}function kye({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(Aye,{showOutsideDays:r,className:Ge("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Ge(qf({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ge("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ge(qf({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:a,...i})=>o.jsx(pI,{className:Ge("size-4",a),...i}),IconRight:({className:a,...i})=>o.jsx(Om,{className:Ge("size-4",a),...i})},...n})}function Pye(){const[t,e]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState({from:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),to:new Date});N.useEffect(()=>{a.from&&a.to&&s()},[a]);const s=async()=>{if(!(!a.from||!a.to))try{n(!0);const u=a.from.toISOString().split("T")[0],d=a.to.toISOString().split("T")[0],f=await o8(u,d);e(f||[])}catch(u){console.error("Error fetching sales data:",u),e([])}finally{n(!1)}},l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=({active:u,payload:d,label:f})=>u&&d&&d.length?o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-medium",children:f}),o.jsxs("p",{className:"text-blue-600",children:["Sales: ",l(d[0].value)]}),o.jsxs("p",{className:"text-gray-600",children:["Orders: ",d[0].payload.orders_count]})]}):null;return o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(jt,{children:"Sales Overview"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs($ge,{children:[o.jsx(Fge,{asChild:!0,children:o.jsxs(be,{variant:"outline",size:"sm",children:[o.jsx(tv,{className:"h-4 w-4 mr-2"}),a.from?a.to?o.jsxs(o.Fragment,{children:[ds(a.from,"LLL dd, y")," -"," ",ds(a.to,"LLL dd, y")]}):ds(a.from,"LLL dd, y"):"Pick a date range"]})}),o.jsx(Bge,{className:"w-auto p-0",align:"end",children:o.jsx(kye,{initialFocus:!0,mode:"range",defaultMonth:a.from,selected:{from:a.from,to:a.to},onSelect:u=>{i({from:u==null?void 0:u.from,to:u==null?void 0:u.to})},numberOfMonths:2})})]})})]})}),o.jsx($e,{children:r?o.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[o.jsx(Ja,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading sales data..."})]}):t.length===0?o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No sales data found for the selected period"}):o.jsx(Qm,{width:"100%",height:300,children:o.jsxs(ime,{data:t,children:[o.jsx(jN,{strokeDasharray:"3 3"}),o.jsx(Ad,{dataKey:"month"}),o.jsx(fc,{tickFormatter:l}),o.jsx(Pa,{content:o.jsx(c,{})}),o.jsx(ol,{dataKey:"sales",fill:"#8884d8"})]})})})]})}const DT=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function Cye(){const[t,e]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const l=(await l8()||[]).map((c,u)=>({name:c.category_name,value:c.product_count,percentage:c.percentage,color:DT[u%DT.length]}));e(l)}catch(s){console.error("Error fetching category data:",s),e([])}finally{n(!1)}})()},[]);const a=({active:i,payload:s})=>{if(i&&s&&s.length){const l=s[0].payload;return o.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[o.jsx("p",{className:"font-medium",children:l.name}),o.jsxs("p",{className:"text-blue-600",children:["Products: ",l.value]}),o.jsxs("p",{className:"text-gray-600",children:["Percentage: ",l.percentage.toFixed(1),"%"]})]})}return null};return o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Product Distribution by Category"})}),o.jsx($e,{children:r?o.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[o.jsx(Ja,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading category data..."})]}):t.length===0?o.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No category data available"}):o.jsx(Qm,{width:"100%",height:300,children:o.jsxs(D7,{children:[o.jsx(xs,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percentage:s})=>`${i} ${s.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,s)=>o.jsx(Uh,{fill:i.color},`cell-${s}`))}),o.jsx(Pa,{content:o.jsx(a,{})})]})})})]})}function Oye({className:t,...e}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:Ge("w-full caption-bottom text-sm",t),...e})})}function Eye({className:t,...e}){return o.jsx("thead",{"data-slot":"table-header",className:Ge("[&_tr]:border-b",t),...e})}function Tye({className:t,...e}){return o.jsx("tbody",{"data-slot":"table-body",className:Ge("[&_tr:last-child]:border-0",t),...e})}function $T({className:t,...e}){return o.jsx("tr",{"data-slot":"table-row",className:Ge("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function xi({className:t,...e}){return o.jsx("th",{"data-slot":"table-head",className:Ge("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function bi({className:t,...e}){return o.jsx("td",{"data-slot":"table-cell",className:Ge("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function j_(t,[e,r]){return Math.min(r,Math.max(e,t))}function f0(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var D9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Iye="VisuallyHidden",Rye=N.forwardRef((t,e)=>o.jsx(ot.span,{...t,ref:e,style:{...D9,...t.style}}));Rye.displayName=Iye;var Lye=[" ","Enter","ArrowUp","ArrowDown"],Mye=[" ","Enter"],mc="Select",[h0,p0,Dye]=yj(mc),[Cd,Mwe]=Mn(mc,[Dye,c0]),m0=c0(),[$ye,cl]=Cd(mc),[Fye,Bye]=Cd(mc),$9=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,m=m0(e),[v,x]=N.useState(null),[j,b]=N.useState(null),[_,S]=N.useState(!1),A=vd(u),[k,O]=ni({prop:n,defaultProp:a??!1,onChange:i,caller:mc}),[T,R]=ni({prop:s,defaultProp:l,onChange:c,caller:mc}),P=N.useRef(null),I=v?g||!!v.closest("form"):!0,[M,D]=N.useState(new Set),K=Array.from(M).map($=>$.props.value).join(";");return o.jsx(i9,{...m,children:o.jsxs($ye,{required:h,scope:e,trigger:v,onTriggerChange:x,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Pi(),value:T,onValueChange:R,open:k,onOpenChange:O,dir:A,triggerPointerDownPosRef:P,disabled:p,children:[o.jsx(h0.Provider,{scope:e,children:o.jsx(Fye,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback($=>{D(q=>new Set(q).add($))},[]),onNativeOptionRemove:N.useCallback($=>{D(q=>{const F=new Set(q);return F.delete($),F})},[]),children:r})}),I?o.jsxs(s$,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:$=>R($.target.value),disabled:p,form:g,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(M)]},K):null]})})};$9.displayName=mc;var F9="SelectTrigger",B9=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=m0(r),s=cl(F9,r),l=s.disabled||n,c=Ut(e,s.onTriggerChange),u=p0(r),d=N.useRef("touch"),[f,p,h]=l$(m=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===s.value),j=c$(v,m,x);j!==void 0&&s.onValueChange(j.value)}),g=m=>{l||(s.onOpenChange(!0),h()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(IN,{asChild:!0,...i,children:o.jsx(ot.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o$(s.value)?"":void 0,...a,ref:c,onClick:pt(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:pt(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:pt(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&Lye.includes(m.key)&&(g(),m.preventDefault())})})})});B9.displayName=F9;var q9="SelectValue",U9=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=t,c=cl(q9,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ut(e,c.onValueNodeChange);return nn(()=>{u(d)},[u,d]),o.jsx(ot.span,{...l,ref:f,style:{pointerEvents:"none"},children:o$(c.value)?o.jsx(o.Fragment,{children:s}):i})});U9.displayName=q9;var qye="SelectIcon",z9=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return o.jsx(ot.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});z9.displayName=qye;var Uye="SelectPortal",W9=t=>o.jsx(uv,{asChild:!0,...t});W9.displayName=Uye;var gc="SelectContent",H9=N.forwardRef((t,e)=>{const r=cl(gc,t.__scopeSelect),[n,a]=N.useState();if(nn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Qg.createPortal(o.jsx(V9,{scope:t.__scopeSelect,children:o.jsx(h0.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(G9,{...t,ref:e})});H9.displayName=gc;var ji=10,[V9,ul]=Cd(gc),zye="SelectContentImpl",Wye=tc("SelectContent.RemoveScroll"),G9=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,j=cl(gc,r),[b,_]=N.useState(null),[S,A]=N.useState(null),k=Ut(e,re=>_(re)),[O,T]=N.useState(null),[R,P]=N.useState(null),I=p0(r),[M,D]=N.useState(!1),K=N.useRef(!1);N.useEffect(()=>{if(b)return aj(b)},[b]),nj();const $=N.useCallback(re=>{const[oe,...ne]=I().map(le=>le.ref.current),[de]=ne.slice(-1),pe=document.activeElement;for(const le of re)if(le===pe||(le==null||le.scrollIntoView({block:"nearest"}),le===oe&&S&&(S.scrollTop=0),le===de&&S&&(S.scrollTop=S.scrollHeight),le==null||le.focus(),document.activeElement!==pe))return},[I,S]),q=N.useCallback(()=>$([O,b]),[$,O,b]);N.useEffect(()=>{M&&q()},[M,q]);const{onOpenChange:F,triggerPointerDownPosRef:ee}=j;N.useEffect(()=>{if(b){let re={x:0,y:0};const oe=de=>{var pe,le;re={x:Math.abs(Math.round(de.pageX)-(((pe=ee.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((le=ee.current)==null?void 0:le.y)??0))}},ne=de=>{re.x<=10&&re.y<=10?de.preventDefault():b.contains(de.target)||F(!1),document.removeEventListener("pointermove",oe),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ne,{capture:!0})}}},[b,F,ee]),N.useEffect(()=>{const re=()=>F(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[F]);const[fe,ue]=l$(re=>{const oe=I().filter(pe=>!pe.disabled),ne=oe.find(pe=>pe.ref.current===document.activeElement),de=c$(oe,re,ne);de&&setTimeout(()=>de.ref.current.focus())}),B=N.useCallback((re,oe,ne)=>{const de=!K.current&&!ne;(j.value!==void 0&&j.value===oe||de)&&(T(re),de&&(K.current=!0))},[j.value]),H=N.useCallback(()=>b==null?void 0:b.focus(),[b]),V=N.useCallback((re,oe,ne)=>{const de=!K.current&&!ne;(j.value!==void 0&&j.value===oe||de)&&P(re)},[j.value]),W=n==="popper"?N_:K9,Q=W===N_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(V9,{scope:r,content:b,viewport:S,onViewportChange:A,itemRefCallback:B,selectedItem:O,onItemLeave:H,itemTextRefCallback:V,focusSelectedItem:q,selectedItemText:R,position:n,isPositioned:M,searchRef:fe,children:o.jsx(fv,{as:Wye,allowPinchZoom:!0,children:o.jsx(cv,{asChild:!0,trapped:j.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:pt(a,re=>{var oe;(oe=j.trigger)==null||oe.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(lv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:o.jsx(W,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:re=>re.preventDefault(),...x,...Q,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:pt(x.onKeyDown,re=>{const oe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!oe&&re.key.length===1&&ue(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let de=I().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const pe=re.target,le=de.indexOf(pe);de=de.slice(le+1)}setTimeout(()=>$(de)),re.preventDefault()}})})})})})})});G9.displayName=zye;var Hye="SelectItemAlignedPosition",K9=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=cl(gc,r),s=ul(gc,r),[l,c]=N.useState(null),[u,d]=N.useState(null),f=Ut(e,k=>d(k)),p=p0(r),h=N.useRef(!1),g=N.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:j}=s,b=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&x){const k=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const pe=R.left-O.left,le=T.left-pe,Ne=k.left-le,ge=k.width+Ne,te=Math.max(ge,O.width),qe=window.innerWidth-ji,Ue=j_(le,[ji,Math.max(ji,qe-te)]);l.style.minWidth=ge+"px",l.style.left=Ue+"px"}else{const pe=O.right-R.right,le=window.innerWidth-T.right-pe,Ne=window.innerWidth-k.right-le,ge=k.width+Ne,te=Math.max(ge,O.width),qe=window.innerWidth-ji,Ue=j_(le,[ji,Math.max(ji,qe-te)]);l.style.minWidth=ge+"px",l.style.right=Ue+"px"}const P=p(),I=window.innerHeight-ji*2,M=m.scrollHeight,D=window.getComputedStyle(u),K=parseInt(D.borderTopWidth,10),$=parseInt(D.paddingTop,10),q=parseInt(D.borderBottomWidth,10),F=parseInt(D.paddingBottom,10),ee=K+$+M+F+q,fe=Math.min(v.offsetHeight*5,ee),ue=window.getComputedStyle(m),B=parseInt(ue.paddingTop,10),H=parseInt(ue.paddingBottom,10),V=k.top+k.height/2-ji,W=I-V,Q=v.offsetHeight/2,re=v.offsetTop+Q,oe=K+$+re,ne=ee-oe;if(oe<=V){const pe=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-m.offsetTop-m.offsetHeight,Ne=Math.max(W,Q+(pe?H:0)+le+q),ge=oe+Ne;l.style.height=ge+"px"}else{const pe=P.length>0&&v===P[0].ref.current;l.style.top="0px";const Ne=Math.max(V,K+m.offsetTop+(pe?B:0)+Q)+ne;l.style.height=Ne+"px",m.scrollTop=oe-V+m.offsetTop}l.style.margin=`${ji}px 0`,l.style.minHeight=fe+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,l,u,m,v,x,i.dir,n]);nn(()=>b(),[b]);const[_,S]=N.useState();nn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const A=N.useCallback(k=>{k&&g.current===!0&&(b(),j==null||j(),g.current=!1)},[b,j]);return o.jsx(Gye,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ot.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});K9.displayName=Hye;var Vye="SelectPopperPosition",N_=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ji,...i}=t,s=m0(r);return o.jsx(s9,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});N_.displayName=Vye;var[Gye,GN]=Cd(gc,{}),S_="SelectViewport",Y9=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=ul(S_,r),s=GN(S_,r),l=Ut(e,i.onViewportChange),c=N.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(h0.Slot,{scope:r,children:o.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:pt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-ji*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const j=x+h,b=Math.min(g,j),_=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Y9.displayName=S_;var X9="SelectGroup",[Kye,Yye]=Cd(X9),Xye=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Pi();return o.jsx(Kye,{scope:r,id:a,children:o.jsx(ot.div,{role:"group","aria-labelledby":a,...n,ref:e})})});Xye.displayName=X9;var Z9="SelectLabel",Zye=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Yye(Z9,r);return o.jsx(ot.div,{id:a.id,...n,ref:e})});Zye.displayName=Z9;var Gg="SelectItem",[Jye,J9]=Cd(Gg),Q9=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,l=cl(Gg,r),c=ul(Gg,r),u=l.value===n,[d,f]=N.useState(i??""),[p,h]=N.useState(!1),g=Ut(e,j=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,j,n,a)}),m=Pi(),v=N.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Jye,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:N.useCallback(j=>{f(b=>b||((j==null?void 0:j.textContent)??"").trim())},[]),children:o.jsx(h0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(ot.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:pt(s.onFocus,()=>h(!0)),onBlur:pt(s.onBlur,()=>h(!1)),onClick:pt(s.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:pt(s.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:pt(s.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:pt(s.onPointerMove,j=>{var b;v.current=j.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(s.onPointerLeave,j=>{var b;j.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:pt(s.onKeyDown,j=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&j.key===" "||(Mye.includes(j.key)&&x(),j.key===" "&&j.preventDefault())})})})})});Q9.displayName=Gg;var Pf="SelectItemText",e$=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=cl(Pf,r),l=ul(Pf,r),c=J9(Pf,r),u=Bye(Pf,r),[d,f]=N.useState(null),p=Ut(e,x=>f(x),c.onItemTextChange,x=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=N.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return nn(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(ot.span,{id:c.textId,...i,ref:p}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Qg.createPortal(i.children,s.valueNode):null]})});e$.displayName=Pf;var t$="SelectItemIndicator",r$=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return J9(t$,r).isSelected?o.jsx(ot.span,{"aria-hidden":!0,...n,ref:e}):null});r$.displayName=t$;var A_="SelectScrollUpButton",n$=N.forwardRef((t,e)=>{const r=ul(A_,t.__scopeSelect),n=GN(A_,t.__scopeSelect),[a,i]=N.useState(!1),s=Ut(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(i$,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});n$.displayName=A_;var k_="SelectScrollDownButton",a$=N.forwardRef((t,e)=>{const r=ul(k_,t.__scopeSelect),n=GN(k_,t.__scopeSelect),[a,i]=N.useState(!1),s=Ut(e,n.onScrollButtonChange);return nn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(i$,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});a$.displayName=k_;var i$=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=ul("SelectScrollButton",r),s=N.useRef(null),l=p0(r),c=N.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),nn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ot.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:pt(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:pt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:pt(a.onPointerLeave,()=>{c()})})}),Qye="SelectSeparator",exe=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(ot.div,{"aria-hidden":!0,...n,ref:e})});exe.displayName=Qye;var P_="SelectArrow",txe=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=m0(r),i=cl(P_,r),s=ul(P_,r);return i.open&&s.position==="popper"?o.jsx(o9,{...a,...n,ref:e}):null});txe.displayName=P_;var rxe="SelectBubbleInput",s$=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=N.useRef(null),i=Ut(n,a),s=f0(e);return N.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[s,e]),o.jsx(ot.select,{...r,style:{...D9,...r.style},ref:i,defaultValue:e})});s$.displayName=rxe;function o$(t){return t===""||t===void 0}function l$(t){const e=Wn(t),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(s=>{const l=r.current+s;e(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function c$(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=nxe(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function nxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var axe=$9,ixe=B9,sxe=U9,oxe=z9,lxe=W9,cxe=H9,uxe=Y9,dxe=Q9,fxe=e$,hxe=r$,pxe=n$,mxe=a$;function Da({...t}){return o.jsx(axe,{"data-slot":"select",...t})}function $a({...t}){return o.jsx(sxe,{"data-slot":"select-value",...t})}function Fa({className:t,size:e="default",children:r,...n}){return o.jsxs(ixe,{"data-slot":"select-trigger","data-size":e,className:Ge("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,o.jsx(oxe,{asChild:!0,children:o.jsx(L_,{className:"size-4 opacity-50"})})]})}function Ba({className:t,children:e,position:r="popper",...n}){return o.jsx(lxe,{children:o.jsxs(cxe,{"data-slot":"select-content",className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(gxe,{}),o.jsx(uxe,{className:Ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),o.jsx(vxe,{})]})})}function Ye({className:t,children:e,...r}){return o.jsxs(dxe,{"data-slot":"select-item",className:Ge("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(hxe,{children:o.jsx(rv,{className:"size-4"})})}),o.jsx(fxe,{children:e})]})}function gxe({className:t,...e}){return o.jsx(pxe,{"data-slot":"select-scroll-up-button",className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(zq,{className:"size-4"})})}function vxe({className:t,...e}){return o.jsx(mxe,{"data-slot":"select-scroll-down-button",className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(L_,{className:"size-4"})})}const wf=t=>{switch(t){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},yxe=["all","pending","processing","shipped","delivered","cancelled"];function m2({showActions:t=!1,showArchived:e=!1}){const[r,n]=N.useState([]),[a,i]=N.useState(!0),[s,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(null),[p,h]=N.useState(!1),g=yxe,[m,v]=N.useState("all"),x=N.useRef([]),[j,b]=N.useState({width:0,left:0});N.useEffect(()=>{_()},[t,e]),N.useEffect(()=>{const $=()=>{const q=g.indexOf(m),F=x.current[q];if(F){const ee=F.offsetWidth,fe=F.offsetLeft;b(ue=>ue.width!==ee||ue.left!==fe?{width:ee,left:fe}:ue)}};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[m,g]);const _=async()=>{try{let $;if(e?$=await p8():t?$=await XI():$=await c8(10),(t||e)&&Array.isArray($)){const q=$.map(F=>{var ee,fe,ue;return{id:F.id,order_id:F.id,customer_email:((ee=F.users)==null?void 0:ee.email)||F.customer_email||"N/A",customer_name:((fe=F.users)==null?void 0:fe.name)||F.customer_name||"N/A",amount:F.total_amount||F.amount,status:F.status,order_date:new Date(F.created_at||F.order_date).toLocaleDateString(),shipping_address:F.shipping_address,order_items:F.order_items||[],payment_method:((ue=F.shipping_address)==null?void 0:ue.paymentMethod)||F.payment_method||"N/A",deleted_at:F.deleted_at}});n(q)}else if(!t&&Array.isArray($)){const q=$.map(F=>({id:F.order_id,order_id:F.order_id,customer_email:F.customer_email,customer_name:F.customer_name||"N/A",amount:F.amount,status:F.status,order_date:new Date(F.order_date).toLocaleDateString(),shipping_address:null,order_items:[],payment_method:"N/A"}));n(q)}}catch($){console.error("Error fetching orders:",$),je.error("Failed to load orders")}finally{i(!1)}},S=async($,q)=>{u(!0);try{await ZI($,q)?(n(ee=>ee.map(fe=>fe.order_id===$?{...fe,status:q}:fe)),(s==null?void 0:s.order_id)===$&&l(ee=>ee?{...ee,status:q}:null),["pending","processing","shipped","delivered"].includes(q)&&f(q),je.success(`Order status updated to ${q}`)):je.error("Failed to update order status")}catch(F){console.error("Error updating order status:",F),je.error("Failed to update order status")}finally{u(!1)}},A=async $=>{try{await d8($)?(je.success("Order moved to archive"),_(),l(null)):je.error("Failed to archive order")}catch(q){console.error("Error archiving order:",q),je.error("Failed to archive order")}},k=async $=>{try{await f8($)?(je.success("Order restored successfully"),_(),l(null)):je.error("Failed to restore order")}catch(q){console.error("Error restoring order:",q),je.error("Failed to restore order")}},O=async $=>{try{await h8($)?(je.success("Order permanently deleted"),_(),l(null)):je.error("Failed to permanently delete order")}catch(q){console.error("Error permanently deleting order:",q),je.error("Failed to permanently delete order")}};N.useEffect(()=>{if(d){const $=setTimeout(()=>f(null),1200);return()=>clearTimeout($)}},[d]);const T=$=>({pending:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered"],delivered:[],cancelled:[]})[$]||[],R=$=>{switch($.toLowerCase()){case"pending":return o.jsx(Go,{className:"h-4 w-4"});case"processing":return o.jsx(Ja,{className:"h-4 w-4"});case"shipped":return o.jsx(Mu,{className:"h-4 w-4"});case"delivered":return o.jsx(Th,{className:"h-4 w-4"});case"cancelled":return o.jsx($_,{className:"h-4 w-4"});default:return o.jsx(Go,{className:"h-4 w-4"})}},P=$=>ql($),I=async $=>{try{const q={...$,status:$.status,payment_method:$.payment_method};await JR(q),je.success("Invoice opened for printing")}catch(q){console.error("Error printing invoice:",q),je.error(q instanceof Error?q.message:"Failed to print invoice")}},M=async $=>{try{const q={...$,status:$.status,payment_method:$.payment_method};await ZR(q),je.success("PDF downloaded successfully")}catch(q){console.error("Error generating PDF:",q),je.error("Failed to generate PDF")}},D=async $=>{try{const q={...$,status:$.status,payment_method:$.payment_method};await QR(q)}catch(q){console.error("Error viewing invoice:",q),je.error("Failed to view invoice")}};if(a)return o.jsxs("div",{className:"flex items-center justify-center p-8",children:[o.jsx(Ja,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Loading orders..."})]});if(r.length===0)return o.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No orders found"});const K=m==="all"?r:r.filter($=>$.status.toLowerCase()===m);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-full overflow-x-auto pb-1",children:o.jsx("div",{className:"inline-block min-w-full md:min-w-0",children:o.jsxs("div",{className:"relative inline-flex rounded-lg border border-neutral-800 bg-neutral-900/60 backdrop-blur px-1 py-1",children:[o.jsx("div",{className:"absolute top-1 bottom-1 rounded-md bg-gradient-to-r from-rose-500 to-pink-600 shadow-inner transition-all duration-300 ease-out",style:{width:j.width,transform:`translateX(${j.left}px)`}}),o.jsx("div",{className:"flex space-x-1 relative z-10",children:g.map(($,q)=>{const F=m===$;return o.jsx("button",{ref:ee=>{x.current[q]=ee},onClick:()=>v($),className:`px-3 md:px-4 py-1.5 text-xs md:text-sm font-medium rounded-md whitespace-nowrap transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${F?"text-white":"text-neutral-400 hover:text-neutral-200"}`,"aria-pressed":F,type:"button",children:$==="all"?"All":$.charAt(0).toUpperCase()+$.slice(1)},$)})})]})})}),t&&o.jsx("div",{className:"flex items-center justify-end gap-3",children:o.jsx("button",{type:"button",onClick:()=>h($=>!$),className:`text-[11px] px-2 py-1 rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${p?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-pink-600":"bg-neutral-900/60 border-neutral-700 hover:border-neutral-500 text-neutral-300"}`,"aria-pressed":p,children:p?"Normal view":"Ultra compact"})}),o.jsxs(Oye,{children:[o.jsx(Eye,{children:o.jsx($T,{children:p?o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"h-7 py-0.5 text-[10px] w-[42%]",children:"Order / Customer"}),o.jsx(xi,{className:"h-7 py-0.5 text-[10px] w-[28%]",children:"Amount / Meta"}),o.jsx(xi,{className:"h-7 py-0.5 text-[10px] w-[18%]",children:"Status"}),t&&o.jsx(xi,{className:"h-7 py-0.5 text-[10px] w-[12%] text-right",children:"Actions"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Order ID"}),o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Customer"}),o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Amount"}),o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Status"}),o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Payment"}),o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Date"}),t&&o.jsx(xi,{className:"h-8 py-0.5 text-[11px]",children:"Actions"})]})})}),o.jsx(Tye,{children:K.map($=>o.jsx($T,{className:"cursor-pointer hover:bg-neutral-50",onClick:()=>l($),children:p?o.jsxs(o.Fragment,{children:[o.jsx(bi,{className:"py-1 text-[10px] leading-[12px]",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"font-medium",children:["#",$.order_id.slice(-8)]}),o.jsx("div",{className:"text-neutral-600",children:$.customer_name}),o.jsx("div",{className:"text-neutral-500",children:$.customer_email})]})}),o.jsx(bi,{className:"py-1 text-[10px] leading-[12px]",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:P($.amount)}),o.jsxs("div",{className:"text-neutral-600",children:[$.payment_method==="cash-on-delivery"&&"💰 COD",$.payment_method==="bank-transfer"&&"🏦 Bank",$.payment_method==="credit-card"&&"💳 Card",!$.payment_method||$.payment_method==="N/A"?"N/A":$.payment_method]}),o.jsx("div",{className:"text-neutral-500",children:$.order_date})]})}),o.jsx(bi,{className:"py-1",children:o.jsxs(Nt,{className:`${wf($.status)} flex items-center gap-1 w-fit text-[9px] px-1.5 py-0.5`,children:[R($.status),$.status]})}),t&&o.jsx(bi,{className:"py-1 text-right",children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:q=>{q.stopPropagation(),l($)},children:o.jsx(ri,{className:"h-3 w-3"})}),e?o.jsxs(o.Fragment,{children:[o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:q=>{q.stopPropagation(),k($.id)},title:"Restore order",children:o.jsx(ca,{className:"h-3 w-3"})}),o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:q=>{q.stopPropagation(),O($.id)},title:"Permanently delete",children:o.jsx(eo,{className:"h-3 w-3"})})]}):o.jsx(be,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-orange-600 hover:text-orange-700 hover:bg-orange-50",onClick:q=>{q.stopPropagation(),A($.id)},title:"Move to archive",children:o.jsx(Gs,{className:"h-3 w-3"})})]})})]}):o.jsxs(o.Fragment,{children:[o.jsxs(bi,{className:"font-medium",children:["#",$.order_id.slice(-8)]}),o.jsx(bi,{children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:$.customer_name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:$.customer_email})]})}),o.jsx(bi,{className:"font-medium",children:P($.amount)}),o.jsx(bi,{children:o.jsxs(Nt,{className:`${wf($.status)} flex items-center gap-1 w-fit`,children:[R($.status),$.status]})}),o.jsx(bi,{children:o.jsxs("div",{className:"text-sm",children:[$.payment_method==="cash-on-delivery"&&"💰 COD",$.payment_method==="bank-transfer"&&"🏦 Bank Transfer",$.payment_method==="credit-card"&&"💳 Card",!$.payment_method||$.payment_method==="N/A"?"N/A":$.payment_method]})}),o.jsx(bi,{children:$.order_date}),t&&o.jsx(bi,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(be,{variant:"outline",size:"sm",onClick:q=>{q.stopPropagation(),l($)},children:[o.jsx(ri,{className:"h-4 w-4 mr-1"}),"View Details"]}),e?o.jsxs(o.Fragment,{children:[o.jsxs(be,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:q=>{q.stopPropagation(),k($.id)},children:[o.jsx(ca,{className:"h-4 w-4 mr-1"}),"Restore"]}),o.jsxs(be,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:q=>{q.stopPropagation(),O($.id)},children:[o.jsx(eo,{className:"h-4 w-4 mr-1"}),"Delete"]})]}):o.jsxs(be,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:q=>{q.stopPropagation(),A($.id)},children:[o.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Archive"]})]})})]})},$.order_id))})]}),s&&o.jsx(Oi,{open:!!s,onOpenChange:()=>l(null),children:o.jsxs(ai,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-5",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsxs("span",{className:"font-semibold",children:["Order #",s==null?void 0:s.order_id.slice(-8)]}),o.jsx(Nt,{className:`${s?wf(s.status):""} text-[10px] px-2 py-0.5`,children:s==null?void 0:s.status})]})}),s&&o.jsxs("div",{className:"sticky top-0 z-20 -mx-4 sm:-mx-5 px-4 sm:px-5 py-2 bg-neutral-950/80 backdrop-blur supports-[backdrop-filter]:bg-neutral-950/60 border-b border-neutral-800 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-[11px] font-medium tracking-wide text-neutral-300",children:["#",s.order_id.slice(-8)]}),o.jsx(Nt,{className:`${wf(s.status)} text-[9px] px-2 py-0.5`,children:s.status})]}),o.jsx("div",{className:"flex items-center gap-1",children:["pending","processing","shipped","delivered"].map(($,q)=>{const F=["pending","processing","shipped","delivered"].indexOf(s.status),ee=q,fe=F>ee,ue=F===ee,B={pending:ue?"text-amber-400":fe?"text-amber-600":"text-neutral-600",processing:ue?"text-violet-400":fe?"text-violet-600":"text-neutral-600",shipped:ue?"text-sky-400":fe?"text-sky-600":"text-neutral-600",delivered:ue?"text-emerald-400":fe?"text-emerald-600":"text-neutral-600"};return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"relative flex items-center justify-center",children:[d===$&&ue&&o.jsx("span",{className:`absolute inline-flex h-4 w-4 rounded-full ${B[$].replace("text-","bg-")} opacity-60 animate-ping`}),o.jsx(D_,{className:`h-3 w-3 ${B[$]} ${ue?"drop-shadow-[0_0_4px_rgba(255,255,255,0.35)]":""}`})]}),$!=="delivered"&&o.jsx("span",{className:`mx-0.5 h-px w-3 ${F>=ee?"bg-neutral-500":"bg-neutral-700"}`})]},$)})})]}),s&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsx(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx($e,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(to,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Customer"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:s.customer_name}),o.jsx("p",{className:"text-[10px] text-muted-foreground break-all leading-tight",children:s.customer_email})]})]})})}),o.jsx(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx($e,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(tv,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Order Date"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:s.order_date})]})]})})}),o.jsx(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:o.jsx($e,{className:"py-3 px-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(rU,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:"Total"}),o.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:P(s.amount)}),o.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:s.payment_method})]})]})})})]}),s.shipping_address&&o.jsxs(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(_t,{className:"pb-2 px-3 pt-3",children:o.jsxs(jt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[o.jsx(F_,{className:"h-4 w-4"}),"Shipping"]})}),o.jsx($e,{className:"px-3 pb-3 pt-0",children:o.jsxs("div",{className:"text-[11px] space-y-0.5 leading-tight",children:[o.jsxs("p",{className:"font-medium",children:[s.shipping_address.firstName," ",s.shipping_address.lastName]}),o.jsx("p",{children:s.shipping_address.address}),o.jsxs("p",{children:[s.shipping_address.city,", ",s.shipping_address.state," ",s.shipping_address.zipCode]}),o.jsx("p",{children:s.shipping_address.country}),o.jsxs("p",{className:"text-muted-foreground",children:["📞 ",s.shipping_address.phone]}),o.jsxs("p",{className:"text-muted-foreground",children:["✉️ ",s.shipping_address.email]})]})})]}),o.jsxs(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(_t,{className:"pb-2 px-3 pt-3",children:o.jsx(jt,{className:"text-sm font-semibold tracking-wide",children:"Items"})}),o.jsx($e,{className:"px-3 pb-3 pt-0",children:s.order_items&&s.order_items.length>0?o.jsxs("div",{className:"space-y-2",children:[s.order_items.map(($,q)=>{var F;return o.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded-md bg-neutral-800/40",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-xs font-medium leading-tight",children:((F=$.products)==null?void 0:F.name)||"Unknown Product"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground leading-tight",children:[$.quantity," × ",P($.price_at_purchase)]})]}),o.jsx("p",{className:"text-xs font-medium leading-tight",children:P($.quantity*$.price_at_purchase)})]},q)}),o.jsx(Jn,{className:"my-1"}),o.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:P(s.amount)})]})]}):o.jsx("p",{className:"text-[11px] text-muted-foreground",children:"No items found in this order."})})]}),o.jsxs(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(_t,{className:"pb-2 px-3 pt-3",children:o.jsx(jt,{className:"text-sm font-semibold tracking-wide",children:"Status"})}),o.jsx($e,{className:"px-3 pb-3 pt-0",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",children:"Current"}),o.jsxs(Nt,{className:`${wf(s.status)} flex items-center gap-1 w-fit mt-1 text-[10px] px-2 py-0.5`,children:[R(s.status),s.status]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-xs font-medium mb-1 flex items-center gap-2",children:["Next",c&&o.jsx(Ja,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[T(s.status).map($=>o.jsx("button",{type:"button",disabled:c,onClick:()=>S(s.order_id,$),className:`relative group overflow-hidden px-3 py-1 rounded-full text-[10px] font-medium tracking-wide transition shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 disabled:opacity-50 ${$==="cancelled"?"bg-rose-600/20 text-rose-300 hover:bg-rose-600/30":$==="delivered"?"bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600/30":$==="shipped"?"bg-blue-600/20 text-blue-300 hover:bg-blue-600/30":$==="processing"?"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30":"bg-neutral-700/40 text-neutral-200 hover:bg-neutral-600/50"}`,children:o.jsxs("span",{className:"flex items-center gap-1.5",children:[R($),$]})},$)),T(s.status).length===0&&o.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"No transitions"})]}),T(s.status).length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsxs(Da,{value:"",onValueChange:$=>S(s.order_id,$),disabled:c,children:[o.jsx(Fa,{className:"w-44 text-[10px] h-7 px-2",children:o.jsx($a,{placeholder:"Alt action"})}),o.jsx(Ba,{children:T(s.status).map($=>o.jsx(Ye,{value:$,className:"capitalize",children:$},$))})]}),o.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Pills are primary transitions; dropdown is backup."})]})]})]})})})]}),o.jsxs(De,{className:"border-neutral-800/70 bg-neutral-900/40",children:[o.jsx(_t,{className:"pb-2 px-3 pt-3",children:o.jsxs(jt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[o.jsx(Ks,{className:"h-4 w-4"}),"Invoices"]})}),o.jsxs($e,{className:"px-3 pb-3 pt-0",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(be,{variant:"outline",onClick:()=>D(s),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(Ks,{className:"h-3.5 w-3.5"})," View"]}),o.jsxs(be,{variant:"outline",onClick:()=>M(s),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(mI,{className:"h-3.5 w-3.5"})," PDF"]}),o.jsxs(be,{variant:"outline",onClick:()=>I(s),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[o.jsx(xI,{className:"h-3.5 w-3.5"})," Print"]})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 leading-tight",children:"Quick invoice actions."})]})]})]})]})})]})}function u$({className:t,...e}){return o.jsx("textarea",{"data-slot":"textarea",className:Ge("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var g0="Checkbox",[xxe,Dwe]=Mn(g0),[bxe,KN]=xxe(g0);function wxe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,h]=ni({prop:r,defaultProp:a??!1,onChange:c,caller:g0}),[g,m]=N.useState(null),[v,x]=N.useState(null),j=N.useRef(!1),b=g?!!s||!!g.closest("form"):!0,_={checked:p,disabled:i,setChecked:h,control:g,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:Yo(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:x};return o.jsx(bxe,{scope:e,..._,children:_xe(f)?f(_):n})}var d$="CheckboxTrigger",f$=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=KN(d$,t),m=Ut(a,d),v=N.useRef(c);return N.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const j=()=>f(v.current);return x.addEventListener("reset",j),()=>x.removeEventListener("reset",j)}},[i,f]),o.jsx(ot.button,{type:"button",role:"checkbox","aria-checked":Yo(c)?"mixed":c,"aria-required":u,"data-state":y$(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:pt(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:pt(r,x=>{f(j=>Yo(j)?!0:!j),g&&h&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});f$.displayName=d$;var h$=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(wxe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(f$,{...f,ref:e,__scopeCheckbox:r}),p&&o.jsx(v$,{__scopeCheckbox:r})]})})});h$.displayName=g0;var p$="CheckboxIndicator",m$=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=KN(p$,r);return o.jsx(ha,{present:n||Yo(i.checked)||i.checked===!0,children:o.jsx(ot.span,{"data-state":y$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});m$.displayName=p$;var g$="CheckboxBubbleInput",v$=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=KN(g$,t),g=Ut(r,h),m=f0(i),v=l0(n);N.useEffect(()=>{const j=p;if(!j)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,A=!a.current;if(m!==i&&S){const k=new Event("click",{bubbles:A});j.indeterminate=Yo(i),S.call(j,Yo(i)?!1:i),j.dispatchEvent(k)}},[p,m,i,a]);const x=N.useRef(Yo(i)?!1:i);return o.jsx(ot.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});v$.displayName=g$;function _xe(t){return typeof t=="function"}function Yo(t){return t==="indeterminate"}function y$(t){return Yo(t)?"indeterminate":t?"checked":"unchecked"}function C_({className:t,...e}){return o.jsx(h$,{"data-slot":"checkbox",className:Ge("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(m$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(rv,{className:"size-3.5"})})})}var YN="Progress",XN=100,[jxe,$we]=Mn(YN),[Nxe,Sxe]=jxe(YN),x$=N.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Axe,...s}=t;(a||a===0)&&!FT(a)&&console.error(kxe(`${a}`,"Progress"));const l=FT(a)?a:XN;n!==null&&!BT(n,l)&&console.error(Pxe(`${n}`,"Progress"));const c=BT(n,l)?n:null,u=Kg(c)?i(c,l):void 0;return o.jsx(Nxe,{scope:r,value:c,max:l,children:o.jsx(ot.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kg(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":_$(c,l),"data-value":c??void 0,"data-max":l,...s,ref:e})})});x$.displayName=YN;var b$="ProgressIndicator",w$=N.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=Sxe(b$,r);return o.jsx(ot.div,{"data-state":_$(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});w$.displayName=b$;function Axe(t,e){return`${Math.round(t/e*100)}%`}function _$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Kg(t){return typeof t=="number"}function FT(t){return Kg(t)&&!isNaN(t)&&t>0}function BT(t,e){return Kg(t)&&!isNaN(t)&&t<=e&&t>=0}function kxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${XN}\`.`}function Pxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${XN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Cxe=x$,Oxe=w$;function Iu({className:t,value:e,...r}){return o.jsx(Cxe,{"data-slot":"progress",className:Ge("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:o.jsx(Oxe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const Exe=I_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Txe({className:t,variant:e,...r}){return o.jsx("div",{"data-slot":"alert",role:"alert",className:Ge(Exe({variant:e}),t),...r})}function Ixe({className:t,...e}){return o.jsx("div",{"data-slot":"alert-description",className:Ge("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var v0="Collapsible",[Rxe,j$]=Mn(v0),[Lxe,ZN]=Rxe(v0),N$=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...l}=t,[c,u]=ni({prop:n,defaultProp:a??!1,onChange:s,caller:v0});return o.jsx(Lxe,{scope:r,disabled:i,contentId:Pi(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:o.jsx(ot.div,{"data-state":QN(c),"data-disabled":i?"":void 0,...l,ref:e})})});N$.displayName=v0;var S$="CollapsibleTrigger",A$=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=ZN(S$,r);return o.jsx(ot.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":QN(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:pt(t.onClick,a.onOpenToggle)})});A$.displayName=S$;var JN="CollapsibleContent",k$=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ZN(JN,t.__scopeCollapsible);return o.jsx(ha,{present:r||a.open,children:({present:i})=>o.jsx(Mxe,{...n,ref:e,present:i})})});k$.displayName=JN;var Mxe=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,s=ZN(JN,r),[l,c]=N.useState(n),u=N.useRef(null),d=Ut(e,u),f=N.useRef(0),p=f.current,h=N.useRef(0),g=h.current,m=s.open||l,v=N.useRef(m),x=N.useRef(void 0);return N.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),nn(()=>{const j=u.current;if(j){x.current=x.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const b=j.getBoundingClientRect();f.current=b.height,h.current=b.width,v.current||(j.style.transitionDuration=x.current.transitionDuration,j.style.animationName=x.current.animationName),c(n)}},[s.open,n]),o.jsx(ot.div,{"data-state":QN(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&a})});function QN(t){return t?"open":"closed"}var Dxe=N$,$xe=A$,Fxe=k$,Ui="Accordion",Bxe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[eS,qxe,Uxe]=yj(Ui),[y0,Fwe]=Mn(Ui,[Uxe,j$]),tS=j$(),P$=X.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return o.jsx(eS.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?o.jsx(Vxe,{...i,ref:e}):o.jsx(Hxe,{...a,ref:e})})});P$.displayName=Ui;var[C$,zxe]=y0(Ui),[O$,Wxe]=y0(Ui,{collapsible:!1}),Hxe=X.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...s}=t,[l,c]=ni({prop:r,defaultProp:n??"",onChange:a,caller:Ui});return o.jsx(C$,{scope:t.__scopeAccordion,value:X.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:X.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(O$,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(E$,{...s,ref:e})})})}),Vxe=X.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[s,l]=ni({prop:r,defaultProp:n??[],onChange:a,caller:Ui}),c=X.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=X.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return o.jsx(C$,{scope:t.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:o.jsx(O$,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(E$,{...i,ref:e})})})}),[Gxe,x0]=y0(Ui),E$=X.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...s}=t,l=X.useRef(null),c=Ut(l,e),u=qxe(r),f=vd(a)==="ltr",p=pt(t.onKeyDown,h=>{var O;if(!Bxe.includes(h.key))return;const g=h.target,m=u().filter(T=>{var R;return!((R=T.ref.current)!=null&&R.disabled)}),v=m.findIndex(T=>T.ref.current===g),x=m.length;if(v===-1)return;h.preventDefault();let j=v;const b=0,_=x-1,S=()=>{j=v+1,j>_&&(j=b)},A=()=>{j=v-1,j<b&&(j=_)};switch(h.key){case"Home":j=b;break;case"End":j=_;break;case"ArrowRight":i==="horizontal"&&(f?S():A());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?A():S());break;case"ArrowUp":i==="vertical"&&A();break}const k=j%x;(O=m[k].ref.current)==null||O.focus()});return o.jsx(Gxe,{scope:r,disabled:n,direction:a,orientation:i,children:o.jsx(eS.Slot,{scope:r,children:o.jsx(ot.div,{...s,"data-orientation":i,ref:c,onKeyDown:n?void 0:p})})})}),Yg="AccordionItem",[Kxe,rS]=y0(Yg),T$=X.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=x0(Yg,r),s=zxe(Yg,r),l=tS(r),c=Pi(),u=n&&s.value.includes(n)||!1,d=i.disabled||t.disabled;return o.jsx(Kxe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(Dxe,{"data-orientation":i.orientation,"data-state":$$(u),...l,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(n):s.onItemClose(n)}})})});T$.displayName=Yg;var I$="AccordionHeader",R$=X.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=x0(Ui,r),i=rS(I$,r);return o.jsx(ot.h3,{"data-orientation":a.orientation,"data-state":$$(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});R$.displayName=I$;var O_="AccordionTrigger",L$=X.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=x0(Ui,r),i=rS(O_,r),s=Wxe(O_,r),l=tS(r);return o.jsx(eS.ItemSlot,{scope:r,children:o.jsx($xe,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:e})})});L$.displayName=O_;var M$="AccordionContent",D$=X.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=x0(Ui,r),i=rS(M$,r),s=tS(r);return o.jsx(Fxe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});D$.displayName=M$;function $$(t){return t?"open":"closed"}var Yxe=P$,Xxe=T$,Zxe=R$,Jxe=L$,Qxe=D$;function F$({...t}){return o.jsx(Yxe,{"data-slot":"accordion",...t})}function Wo({className:t,...e}){return o.jsx(Xxe,{"data-slot":"accordion-item",className:Ge("border-b last:border-b-0",t),...e})}function Ho({className:t,children:e,...r}){return o.jsx(Zxe,{className:"flex",children:o.jsxs(Jxe,{"data-slot":"accordion-trigger",className:Ge("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,o.jsx(L_,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Vo({className:t,children:e,...r}){return o.jsx(Qxe,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:o.jsx("div",{className:Ge("pt-0 pb-4",t),children:e})})}class Bo{static validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Invalid file type. Only JPEG, PNG, WebP, and AVIF are allowed."}}static async fileToCanvas(e){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),s=i.getContext("2d");if(!s){n(new Error("Could not get canvas context"));return}a.onload=()=>{let{width:u,height:d}=a;if(u>1920||d>1920){const f=Math.min(1920/u,1920/d);u*=f,d*=f}i.width=u,i.height=d,s.drawImage(a,0,0,u,d),r({canvas:i,ctx:s,width:u,height:d})},a.onerror=()=>n(new Error("Failed to load image")),a.src=URL.createObjectURL(e)})}static async canvasToBlob(e,r,n=.85){return new Promise((a,i)=>{e.toBlob(s=>{s?a(s):i(new Error("Failed to convert canvas to blob"))},r,n)})}static async processImage(e,r={}){const{maxWidth:n=1920,maxHeight:a=1920,quality:i=.85,format:s="webp",generateSizes:l=!0}=r,c=this.validateFile(e);if(!c.valid)throw new Error(c.error);const{canvas:u,ctx:d,width:f,height:p}=await this.fileToCanvas(e);if(f>n||p>a){const v=Math.min(n/f,a/p),x=f*v,j=p*v,b=document.createElement("canvas"),_=b.getContext("2d");b.width=x,b.height=j,_.drawImage(u,0,0,x,j),u.width=x,u.height=j,d.drawImage(b,0,0)}const h=`image/${s}`,g=await this.canvasToBlob(u,h,i);let m;if(l){const v=document.createElement("canvas"),x=v.getContext("2d"),j=300,b=Math.min(j/f,j/p);v.width=f*b,v.height=p*b,x.drawImage(u,0,0,v.width,v.height),m=await this.canvasToBlob(v,h,i)}return{original:e,optimized:g,thumbnail:m,format:s,originalSize:e.size,optimizedSize:g.size,dimensions:{width:u.width,height:u.height}}}static async uploadToStorage(e,r,n){const a=Date.now(),i=`${r}/${a}.${e.format}`,{data:s,error:l}=await Ee.storage.from(this.BUCKET_NAME).upload(i,e.optimized,{contentType:`image/${e.format}`,upsert:!1});if(l)throw new Error(`Upload failed: ${l.message}`);const{data:c}=Ee.storage.from(this.BUCKET_NAME).getPublicUrl(i);let u;if(e.thumbnail){const d=`${r}/${a}_thumb.${e.format}`,{data:f,error:p}=await Ee.storage.from(this.BUCKET_NAME).upload(d,e.thumbnail,{contentType:`image/${e.format}`,upsert:!1});if(!p){const{data:h}=Ee.storage.from(this.BUCKET_NAME).getPublicUrl(d);u=h.publicUrl}}return{url:c.publicUrl,thumbnailUrl:u}}static async uploadMultipleImages(e,r,n={},a,i){const s=[];for(let l=0;l<e.length;l++){const c=e[l];try{const u=await this.processImage(c,n),d=await this.uploadToStorage(u,r),f={url:d.url,thumbnailUrl:d.thumbnailUrl,fileName:c.name};s.push(f),i==null||i(l,f)}catch(u){console.error(`Failed to upload ${c.name}:`,u)}}return s}static async deleteImage(e){const r=e.split("/"),n=r[r.length-1],a=r[r.length-2];if(!n||!a)throw new Error("Invalid image URL format");const{error:i}=await Ee.storage.from(this.BUCKET_NAME).remove([`${a}/${n}`]);if(i)throw new Error(`Failed to delete image: ${i.message}`)}static async checkBucketExists(){try{const{data:e,error:r}=await Ee.storage.listBuckets();return r?(console.error("Error listing buckets:",r),await this.checkBucketDirectly()):e==null?void 0:e.some(a=>a.name===this.BUCKET_NAME)}catch(e){return console.error("Error checking bucket existence:",e),!1}}static async checkBucketDirectly(){try{const{error:e}=await Ee.storage.from(this.BUCKET_NAME).list("",{limit:1});return!e}catch(e){return console.error("Error checking bucket directly:",e),!1}}}Ht(Bo,"MAX_FILE_SIZE",10*1024*1024),Ht(Bo,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp","image/avif"]),Ht(Bo,"BUCKET_NAME","product-images");const E_=N.forwardRef(({mode:t="create",product:e=null,onSuccess:r,onCancel:n,onCropImage:a},i)=>{var H,V;const[s,l]=N.useState({name:(e==null?void 0:e.name)||"",category:(e==null?void 0:e.category)||"Casual",price:((H=e==null?void 0:e.price)==null?void 0:H.toString())||"",originalPrice:((V=e==null?void 0:e.originalPrice)==null?void 0:V.toString())||"",description:(e==null?void 0:e.description)||"",inStock:(e==null?void 0:e.inStock)??!0,sizes:(e==null?void 0:e.sizes)||["S","M","L"],colors:(e==null?void 0:e.colors)||["Black","White"],images:(e==null?void 0:e.images)||[]}),[c,u]=N.useState([]),[d,f]=N.useState((e==null?void 0:e.images)||[]),[p,h]=N.useState(!1),[g,m]=N.useState(0),[v,x]=N.useState(!1),[j,b]=N.useState(""),[_,S]=N.useState(""),A=N.useRef(null),[k,O]=N.useState({}),T=N.useRef([]),R=N.useMemo(()=>{const W={};return c.forEach(Q=>{Q.replacementFor&&(W[Q.replacementFor]={preview:Q.preview,status:Q.status,progress:Q.progress})}),W},[c]),P=N.useMemo(()=>c.map((W,Q)=>({img:W,index:Q})).filter(({img:W})=>!W.replacementFor),[c]);N.useEffect(()=>{T.current=Object.values(k)},[k]);const I=N.useCallback(W=>{u(Q=>{const re=[];return Q.forEach(oe=>{oe.replacementFor===W?URL.revokeObjectURL(oe.preview):re.push(oe)}),re}),O(Q=>{const re={...Q},oe=re[W];if(oe){try{URL.revokeObjectURL(oe)}catch(ne){console.debug("Preview override cleanup failed",ne)}delete re[W]}return re})},[]);N.useImperativeHandle(i,()=>({handleCropComplete:(W,Q)=>{const re=new File([W],"cropped_image.png",{type:"image/png"}),oe=URL.createObjectURL(re);if(Q.type==="new")u(ne=>{const de=[...ne],pe=de[Q.index].preview;return URL.revokeObjectURL(pe),de[Q.index]={...de[Q.index],file:re,preview:oe,status:"pending"},de});else{const ne=d[Q.index];if(!ne){je.error("Unable to locate original image for replacement");return}O(de=>{const pe={...de},le=pe[ne];if(le&&le!==oe)try{URL.revokeObjectURL(le)}catch(Ne){console.debug("Preview override cleanup failed",Ne)}return pe[ne]=oe,pe}),u(de=>{const pe=[...de],le=pe.findIndex(Ne=>Ne.replacementFor===ne);if(le!==-1){const Ne=pe[le].preview;URL.revokeObjectURL(Ne),pe[le]={...pe[le],file:re,preview:oe,status:"pending",progress:0}}else pe.push({file:re,preview:oe,status:"pending",progress:0,replacementFor:ne});return pe})}je.success("Image cropped successfully. Ready for upload.")}})),N.useEffect(()=>()=>{c.forEach(W=>{W.preview&&URL.revokeObjectURL(W.preview)}),T.current.forEach(W=>{try{URL.revokeObjectURL(W)}catch(Q){console.debug("Preview override cleanup failed on unmount",Q)}})},[c]);const M=N.useCallback(W=>{W.preventDefault(),W.stopPropagation(),W.type==="dragenter"||W.type==="dragover"?x(!0):W.type==="dragleave"&&x(!1)},[]),D=N.useCallback(W=>{W.preventDefault(),W.stopPropagation(),x(!1),W.dataTransfer.files&&W.dataTransfer.files[0]&&K(Array.from(W.dataTransfer.files))},[]),K=W=>{const Q=W.filter(oe=>{const ne=Bo.validateFile(oe);return ne.valid?!0:(je.error(`${oe.name}: ${ne.error}`),!1)});if(Q.length===0)return;const re=Q.map(oe=>({file:oe,preview:URL.createObjectURL(oe),status:"pending",progress:0}));u(oe=>[...oe,...re]),je.success(`${Q.length} image(s) ready for upload`)},$=W=>{const Q=c[W];Q.preview&&URL.revokeObjectURL(Q.preview),Q.url&&Bo.deleteImage(Q.url).catch(re=>{console.warn("Failed to delete image from storage:",re)}),u(re=>re.filter((oe,ne)=>ne!==W))},q=W=>{I(W),f(Q=>Q.filter(re=>re!==W))},F=()=>{j.trim()&&!s.sizes.includes(j.trim())&&(l(W=>({...W,sizes:[...W.sizes,j.trim()]})),b(""))},ee=W=>{l(Q=>({...Q,sizes:Q.sizes.filter(re=>re!==W)}))},fe=()=>{_.trim()&&!s.colors.includes(_.trim())&&(l(W=>({...W,colors:[...W.colors,_.trim()]})),S(""))},ue=W=>{l(Q=>({...Q,colors:Q.colors.filter(re=>re!==W)}))},B=async W=>{if(W.preventDefault(),!s.name.trim()){je.error("Product name is required");return}if(!s.price||isNaN(parseFloat(s.price))){je.error("Valid price is required");return}if(c.some(Q=>Q.status==="uploading")){je.error("Please wait for all images to finish uploading");return}h(!0),m(0);try{const Q={name:s.name,category:s.category,price:parseFloat(s.price),original_price:s.originalPrice?parseFloat(s.originalPrice):void 0,description:s.description,in_stock:s.inStock,sizes:s.sizes,colors:s.colors,images:[...d]};let re;if(t==="edit"&&(e!=null&&e.id))await ym(e.id,Q),re=e.id;else{const ne=await JI(Q);if(!ne||!ne.id)throw new Error("Failed to create product");re=ne.id}let oe=[...d];if(c.length>0){const ne=c.map(te=>te.replacementFor??null),de=[...d],pe=[];u(te=>te.map(qe=>({...qe,status:"uploading",progress:0})));const le=c.map(te=>te.file),Ne={format:"webp",quality:.85,generateSizes:!0},ge=await Bo.uploadMultipleImages(le,re,Ne,(te,qe)=>{u(Ue=>Ue.map((ze,Pe)=>Pe===te?{...ze,progress:qe.percentage}:ze)),m(Math.round((te+qe.percentage/100)/le.length*100))},(te,qe)=>{u(ze=>ze.map((Pe,Xe)=>Xe===te?{...Pe,status:"completed",url:qe.url,thumbnailUrl:qe.thumbnailUrl,progress:100}:Pe));const Ue=ne[te];if(Ue){const ze=de.indexOf(Ue);ze!==-1?de[ze]=qe.url:pe.push(qe.url)}else pe.push(qe.url)}).catch(async te=>{console.error("Upload failed:",te),console.log("Checking bucket existence...");const qe=await Bo.checkBucketExists();if(console.log("Bucket exists:",qe),!qe)return je.error("Image storage bucket is not accessible"),[];console.log("Checking direct bucket access...");const Ue=await Bo.checkBucketDirectly();return console.log("Direct bucket access:",Ue),je.error(`Upload failed: ${te.message}`),[]});ge.length>0||pe.length>0?(oe=[...de,...pe],oe=Array.from(new Set(oe))):oe=[...d],await ym(re,{images:oe}),je.success(`${t==="edit"?"Updated":"Created"} product with ${ge.length} new image(s)`)}else await ym(re,{images:oe}),je.success(`Product ${t==="edit"?"updated":"created"} successfully!`);Object.values(k).forEach(ne=>{try{URL.revokeObjectURL(ne)}catch(de){console.debug("Preview override cleanup failed after upload",de)}}),O({}),T.current=[],r==null||r(),t==="create"?(l({name:"",category:"Casual",price:"",originalPrice:"",description:"",inStock:!0,sizes:["S","M","L"],colors:["Black","White"],images:[]}),f([])):f(oe),c.forEach(ne=>{ne.preview&&URL.revokeObjectURL(ne.preview)}),u([]),m(0)}catch(Q){console.error(`Error ${t==="edit"?"updating":"creating"} product:`,Q),je.error(Q instanceof Error?Q.message:`Failed to ${t==="edit"?"update":"create"} product`),u(re=>re.map(oe=>oe.status==="uploading"?{...oe,status:"error",error:"Upload failed"}:oe))}finally{h(!1)}};return o.jsxs(De,{className:"w-full bg-neutral-900/60 backdrop-blur border-neutral-800",children:[o.jsx(_t,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(jt,{className:"flex items-center gap-2",children:[t==="edit"?o.jsx(Tm,{className:"h-5 w-5"}):o.jsx(Yl,{className:"h-5 w-5"}),t==="edit"?"Edit Product":"Add New Product"]}),n&&o.jsx(be,{variant:"ghost",onClick:n,children:"Cancel"})]})}),o.jsx($e,{children:o.jsxs("form",{onSubmit:B,className:"space-y-5",children:[o.jsxs(F$,{type:"multiple",defaultValue:["basic","pricing","inventory","media"],className:"w-full",children:[o.jsxs(Wo,{value:"basic",children:[o.jsx(Ho,{className:"text-sm font-medium",children:"Basic Information"}),o.jsxs(Vo,{className:"space-y-4 pt-2",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"product-name",children:"Product Name *"}),o.jsx(Ft,{id:"product-name",value:s.name,onChange:W=>l(Q=>({...Q,name:W.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"category",children:"Category"}),o.jsxs(Da,{value:s.category,onValueChange:W=>l(Q=>({...Q,category:W})),children:[o.jsx(Fa,{children:o.jsx($a,{})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"Casual",children:"Casual"}),o.jsx(Ye,{value:"Party",children:"Party"}),o.jsx(Ye,{value:"Shoes",children:"Shoes"}),o.jsx(Ye,{value:"Outwear",children:"Outwear"}),o.jsx(Ye,{value:"Dresses",children:"Dresses"}),o.jsx(Ye,{value:"Accessories",children:"Accessories"})]})]})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"description",children:"Description"}),o.jsx(u$,{id:"description",value:s.description,onChange:W=>l(Q=>({...Q,description:W.target.value})),rows:3})]})]})]}),o.jsxs(Wo,{value:"pricing",children:[o.jsx(Ho,{className:"text-sm font-medium",children:"Pricing"}),o.jsx(Vo,{className:"space-y-4 pt-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"price",children:"Price *"}),o.jsx(Ft,{id:"price",type:"number",step:"0.01",min:"0",value:s.price,onChange:W=>l(Q=>({...Q,price:W.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"original-price",children:"Original Price (for sales)"}),o.jsx(Ft,{id:"original-price",type:"number",step:"0.01",min:"0",value:s.originalPrice,onChange:W=>l(Q=>({...Q,originalPrice:W.target.value}))})]})]})})]}),o.jsxs(Wo,{value:"inventory",children:[o.jsx(Ho,{className:"text-sm font-medium",children:"Inventory & Variants"}),o.jsxs(Vo,{className:"space-y-5 pt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(C_,{id:"in-stock",checked:s.inStock,onCheckedChange:W=>l(Q=>({...Q,inStock:W}))}),o.jsx(It,{htmlFor:"in-stock",children:"In Stock"})]}),o.jsxs("div",{children:[o.jsx(It,{children:"Sizes"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Ft,{value:j,onChange:W=>b(W.target.value),placeholder:"Add size (e.g., XL)",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),F())}),o.jsx(be,{type:"button",variant:"outline",onClick:F,children:o.jsx(Yl,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.sizes.map(W=>o.jsxs(Nt,{variant:"secondary",className:"flex items-center gap-1",children:[W,o.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>ee(W),children:o.jsx(Ys,{className:"h-3 w-3"})})]},W))})]}),o.jsxs("div",{children:[o.jsx(It,{children:"Colors"}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(Ft,{value:_,onChange:W=>S(W.target.value),placeholder:"Add color (e.g., Red)",onKeyPress:W=>W.key==="Enter"&&(W.preventDefault(),fe())}),o.jsx(be,{type:"button",variant:"outline",onClick:fe,children:o.jsx(Yl,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.colors.map(W=>o.jsxs(Nt,{variant:"secondary",className:"flex items-center gap-1",children:[W,o.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>ue(W),children:o.jsx(eo,{className:"h-3 w-3"})})]},W))})]})]})]}),o.jsxs(Wo,{value:"media",children:[o.jsx(Ho,{className:"text-sm font-medium",children:"Media & Images"}),o.jsx(Vo,{className:"space-y-4 pt-2",children:o.jsxs("div",{children:[o.jsx(It,{children:"Product Images"}),d.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Images:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((W,Q)=>o.jsxs("div",{className:"relative group",children:[(()=>{const re=R[W],oe=k[W],ne=(re==null?void 0:re.preview)??oe??W,de=(re==null?void 0:re.status)??(oe?"pending":void 0);return o.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>{console.log("🖼️ Clicking existing image for cropping:",{index:Q,imageUrl:W,mode:t}),a==null||a(Q,ne,"existing",t)},children:[o.jsx("img",{src:ne,alt:`Existing ${Q+1}`,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:o.jsx(uA,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),(re||oe)&&o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx(Nt,{variant:"secondary",className:"bg-amber-500/90 text-black shadow",children:de==="uploading"?"Uploading…":de==="completed"?"Updated":"Edited"})})]})})(),o.jsx(be,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:re=>{re.stopPropagation(),q(W)},children:o.jsx(Ys,{className:"h-3 w-3"})}),(R[W]||k[W])&&o.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute -bottom-2 left-1/2 -translate-x-1/2 h-7 w-7 rounded-full border border-white/40 bg-black/60 text-white",onClick:re=>{re.stopPropagation(),I(W)},children:o.jsx(ca,{className:"h-3 w-3"})})]},`existing-${Q}`))})]}),o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${v?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:M,onDragLeave:M,onDragOver:M,onDrop:D,onClick:()=>{var W;return(W=A.current)==null?void 0:W.click()},children:[o.jsx("input",{ref:A,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:W=>W.target.files&&K(Array.from(W.target.files))}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(jI,{className:"h-8 w-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Drop new images here or click to browse"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG, WebP, AVIF (max 10MB each)"})]})]})]}),P.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"New Images to Upload:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:P.map(({img:W,index:Q})=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>{console.log("🖼️ Clicking new image for cropping:",{index:Q,preview:W.preview,mode:t}),a==null||a(Q,W.preview,"new",t)},children:[o.jsx("img",{src:W.preview,alt:`New ${Q+1}`,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:[W.status==="pending"&&o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:o.jsx(uA,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),W.status==="uploading"&&o.jsxs("div",{className:"text-white text-center",children:[o.jsx("div",{className:"w-8 h-8 mx-auto mb-2",children:o.jsx(Iu,{value:W.progress,className:"w-full h-full"})}),o.jsxs("p",{className:"text-xs",children:[W.progress,"%"]})]}),W.status==="completed"&&o.jsx(Th,{className:"h-8 w-8 text-green-500"}),W.status==="error"&&o.jsxs("div",{className:"text-center",children:[o.jsx(rc,{className:"h-8 w-8 text-red-500 mx-auto mb-1"}),o.jsx("p",{className:"text-xs text-red-400",children:"Failed"})]})]})]}),o.jsx(be,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:re=>{re.stopPropagation(),$(Q)},children:o.jsx(Ys,{className:"h-3 w-3"})})]},`new-${Q}`))})]}),p&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsx("span",{children:"Uploading images..."}),o.jsxs("span",{children:[g,"%"]})]}),o.jsx(Iu,{value:g})]}),c.some(W=>W.status==="error")&&o.jsx("div",{className:"mt-4",children:o.jsxs(Txe,{variant:"destructive",children:[o.jsx(rc,{className:"h-4 w-4"}),o.jsx(Ixe,{children:"Upload failed. Check browser console (F12) for detailed error information."})]})})]})})]})]}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[n&&o.jsx(be,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),o.jsx(be,{type:"submit",className:"flex-1",disabled:p||c.some(W=>W.status==="uploading"),children:p?"Uploading...":t==="edit"?"Update Product":"Create Product"})]})]})})]})});E_.displayName="ProductForm";var B$="AlertDialog",[ebe,Bwe]=Mn(B$,[q8]),ho=q8(),q$=t=>{const{__scopeAlertDialog:e,...r}=t,n=ho(e);return o.jsx(lj,{...n,...r,modal:!0})};q$.displayName=B$;var tbe="AlertDialogTrigger",U$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(pv,{...a,...n,ref:e})});U$.displayName=tbe;var rbe="AlertDialogPortal",z$=t=>{const{__scopeAlertDialog:e,...r}=t,n=ho(e);return o.jsx(cj,{...n,...r})};z$.displayName=rbe;var nbe="AlertDialogOverlay",W$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(mv,{...a,...n,ref:e})});W$.displayName=nbe;var Ru="AlertDialogContent",[abe,ibe]=ebe(Ru),sbe=MB("AlertDialogContent"),H$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=ho(r),s=N.useRef(null),l=Ut(e,s),c=N.useRef(null);return o.jsx(uK,{contentName:Ru,titleName:V$,docsSlug:"alert-dialog",children:o.jsx(abe,{scope:r,cancelRef:c,children:o.jsxs(gv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:pt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(sbe,{children:n}),o.jsx(lbe,{contentRef:s})]})})})});H$.displayName=Ru;var V$="AlertDialogTitle",G$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(nR,{...a,...n,ref:e})});G$.displayName=V$;var K$="AlertDialogDescription",Y$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(aR,{...a,...n,ref:e})});Y$.displayName=K$;var obe="AlertDialogAction",X$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=ho(r);return o.jsx(vv,{...a,...n,ref:e})});X$.displayName=obe;var Z$="AlertDialogCancel",J$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=ibe(Z$,r),i=ho(r),s=Ut(e,a);return o.jsx(vv,{...i,...n,ref:s})});J$.displayName=Z$;var lbe=({contentRef:t})=>{const e=`\`${Ru}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ru}\` by passing a \`${K$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ru}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},cbe=q$,ube=U$,dbe=z$,Q$=W$,fbe=H$,hbe=X$,pbe=J$,mbe=G$,gbe=Y$;function b0({...t}){return o.jsx(cbe,{"data-slot":"alert-dialog",...t})}function w0({...t}){return o.jsx(ube,{"data-slot":"alert-dialog-trigger",...t})}function vbe({...t}){return o.jsx(dbe,{"data-slot":"alert-dialog-portal",...t})}const eF=N.forwardRef(({className:t,...e},r)=>o.jsx(Q$,{...e,ref:r,"data-slot":"alert-dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",t)}));eF.displayName=Q$.displayName;function _0({className:t,...e}){return o.jsxs(vbe,{children:[o.jsx(eF,{}),o.jsx(fbe,{"data-slot":"alert-dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function j0({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",t),...e})}function N0({className:t,...e}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function S0({className:t,...e}){return o.jsx(mbe,{"data-slot":"alert-dialog-title",className:Ge("text-lg font-semibold",t),...e})}function A0({className:t,...e}){return o.jsx(gbe,{"data-slot":"alert-dialog-description",className:Ge("text-muted-foreground text-sm",t),...e})}function k0({className:t,...e}){return o.jsx(hbe,{className:Ge(qf(),t),...e})}function P0({className:t,...e}){return o.jsx(pbe,{className:Ge(qf({variant:"outline"}),t),...e})}function el({src:t,alt:e,className:r,sizes:n="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:a=!1,placeholder:i,onLoad:s,onError:l}){const[c,u]=N.useState(!1),[d,f]=N.useState(!1),[p,h]=N.useState(a),g=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{if(!(a||!g.current))return m.current=new IntersectionObserver(b=>{var S;const[_]=b;_.isIntersecting&&(h(!0),(S=m.current)==null||S.disconnect())},{threshold:.1,rootMargin:"50px"}),g.current&&m.current.observe(g.current),()=>{var b;(b=m.current)==null||b.disconnect()}},[a]);const v=()=>{u(!0),s==null||s()},x=()=>{f(!0),l==null||l()},j=b=>b.startsWith("data:")?b:b.includes("supabase")?[400,800,1200,1600].map(S=>`${b}?width=${S} ${S}w`).join(", "):b;return d?o.jsx("div",{className:Ge("flex items-center justify-center bg-gray-100 text-gray-400",r),children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"📷"}),o.jsx("p",{className:"text-sm",children:"Image unavailable"})]})}):o.jsxs("div",{className:Ge("relative overflow-hidden",r),children:[(!c||!p)&&o.jsx("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:i?o.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover opacity-50"}):o.jsxs("div",{className:"text-gray-400",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-xs",children:"Loading..."})]})}),p&&o.jsx("img",{ref:g,src:t,alt:e,className:Ge("w-full h-full object-cover transition-opacity duration-300",c?"opacity-100":"opacity-0"),sizes:n,srcSet:j(t),onLoad:v,onError:x,loading:a?"eager":"lazy"}),p&&t&&!t.startsWith("data:")&&o.jsxs("picture",{children:[o.jsx("source",{srcSet:`${t}?format=webp`,type:"image/webp"}),o.jsx("source",{srcSet:`${t}?format=avif`,type:"image/avif"}),o.jsx("img",{src:t,alt:e,className:"hidden","aria-hidden":"true"})]})]})}function tF({images:t,name:e,className:r,priority:n=!1}){const a=t==null?void 0:t[0];return a?t.length===1?o.jsx(el,{src:a,alt:e,className:Ge("object-cover rounded-lg",r),priority:n}):o.jsx("div",{className:Ge("relative group",r),children:o.jsx(el,{src:a,alt:e,className:"w-full h-full object-cover rounded-lg",priority:n})}):o.jsx("div",{className:Ge("bg-gray-100 flex items-center justify-center aspect-square rounded-lg",r),children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx("div",{className:"text-2xl mb-1",children:"👕"}),o.jsx("p",{className:"text-xs",children:"No image"})]})})}function ybe({products:t,onEditProduct:e,onRefresh:r}){const[n,a]=N.useState(""),[i,s]=N.useState("All"),[l,c]=N.useState(null),[u,d]=N.useState("list"),f=t.filter(g=>{const m=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),v=i==="All"||g.category===i;return m&&v}),p=async(g,m)=>{try{console.log("🗑️ Attempting to delete product:",{productId:g,productName:m});const v=await QI(g);console.log("🗑️ Delete result:",v),v?(je.success(`Product "${m}" deleted successfully`),console.log("🔄 Calling onRefresh..."),r==null||r()):(je.error("Failed to delete product"),console.error("❌ Delete function returned false"))}catch(v){console.error("❌ Error deleting product:",v),je.error("Failed to delete product")}},h=(g,m)=>m&&m>g?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]}),o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",m.toFixed(2)]}),o.jsxs(Nt,{variant:"destructive",className:"text-xs",children:[Math.round((1-g/m)*100),"% OFF"]})]}):o.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]});return o.jsxs(De,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:[o.jsxs(_t,{children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(jt,{children:["Product Inventory (",f.length,")"]})}),o.jsxs("div",{className:"flex gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Ft,{placeholder:"Search products...",value:n,onChange:g=>a(g.target.value),className:"pl-10"})]}),o.jsxs(Da,{value:i,onValueChange:s,children:[o.jsx(Fa,{className:"w-48",children:o.jsx($a,{})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"All",children:"All Categories"}),o.jsx(Ye,{value:"Casual",children:"Casual"}),o.jsx(Ye,{value:"Party",children:"Party"}),o.jsx(Ye,{value:"Shoes",children:"Shoes"}),o.jsx(Ye,{value:"Outwear",children:"Outwear"}),o.jsx(Ye,{value:"Dresses",children:"Dresses"}),o.jsx(Ye,{value:"Accessories",children:"Accessories"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(be,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:o.jsx(nv,{className:"w-4 h-4"})}),o.jsx(be,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:o.jsx(iv,{className:"w-4 h-4"})})]})]})]}),o.jsxs($e,{className:"w-full",children:[u==="grid"?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:f.map(g=>o.jsx(bbe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})}):o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:o.jsxs("tr",{className:"*:[&>th]:font-medium",children:[o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden sm:table-cell",children:"Stock"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-800",children:f.map(g=>o.jsx(xbe,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})]})})}),f.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Go,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),o.jsx("p",{className:"text-gray-500",children:t.length===0?"No products in inventory yet. Add your first product to get started.":"Try adjusting your search or filter criteria."})]})]}),o.jsx(Oi,{open:!!l,onOpenChange:()=>c(null),children:o.jsxs(ai,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsx(Ti,{children:"Product Details"})}),l&&o.jsx(wbe,{product:l})]})})]})}function xbe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return o.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700",children:o.jsx(el,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover",priority:!0})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-neutral-200 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(qr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),o.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:o.jsx(Nt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase",children:t.category})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"text-sm text-neutral-200",children:a(t.price,t.originalPrice)})}),o.jsx("td",{className:"px-3 py-3 hidden sm:table-cell align-top",children:o.jsx("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${t.inStock?"bg-green-500/15 text-green-300":"bg-red-500/15 text-red-300"}`,children:t.inStock?"In Stock":"Out"})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(q_,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(sv,{className:"h-3 w-3"}),t.colors.length," colors"]}),o.jsxs("span",{className:"hidden xl:inline",children:[t.images.length," img"]})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ri,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(W_,{className:"h-4 w-4"})}),o.jsxs(b0,{children:[o.jsx(w0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(eo,{className:"h-4 w-4"})})}),o.jsxs(_0,{children:[o.jsxs(j0,{children:[o.jsx(S0,{children:"Delete Product"}),o.jsxs(A0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),o.jsxs(N0,{children:[o.jsx(P0,{children:"Cancel"}),o.jsx(k0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})})]})}function bbe({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return o.jsxs("div",{className:"border border-neutral-800 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-black/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0",children:[o.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[o.jsx(el,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300",priority:!0}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md ${t.inStock?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:t.inStock?"Stock":"Out"})})]}),o.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-200",title:t.name,children:t.name}),o.jsx(Nt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide",children:t.category})]}),o.jsxs("div",{className:"text-sm font-semibold text-neutral-100",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&o.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center justify-between text-[11px] text-neutral-400 w-full",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{children:t.rating})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(q_,{className:"h-3 w-3"}),t.sizes.length]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(sv,{className:"h-3 w-3"}),t.colors.length]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ri,{className:"h-3 w-3"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(W_,{className:"h-3 w-3"})}),o.jsxs(b0,{children:[o.jsx(w0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(eo,{className:"h-3 w-3"})})}),o.jsxs(_0,{children:[o.jsxs(j0,{children:[o.jsx(S0,{children:"Delete Product"}),o.jsxs(A0,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),o.jsxs(N0,{children:[o.jsx(P0,{children:"Cancel"}),o.jsx(k0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})]})]})}function wbe({product:t}){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(el,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo=",alt:t.name,className:"w-full h-64 object-cover rounded-lg",priority:!0}),t.images.length>1&&o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.images.slice(1,5).map((e,r)=>o.jsx(el,{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-16 object-cover rounded"},r))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:t.name}),o.jsx("p",{className:"text-muted-foreground",children:t.category})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Price"}),t.originalPrice&&t.originalPrice>t.price?o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R",t.price.toFixed(2)]}),o.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["R",t.originalPrice.toFixed(2)]}),o.jsxs(Nt,{className:"ml-2",variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}):o.jsxs("span",{className:"text-2xl font-bold",children:["R",t.price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Stock Status"}),o.jsx(Nt,{variant:t.inStock?"default":"destructive",children:t.inStock?"In Stock":"Out of Stock"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Available Sizes"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.sizes.map(e=>o.jsx(Nt,{variant:"outline",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Available Colors"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:t.colors.map(e=>o.jsx(Nt,{variant:"outline",children:e},e))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Rating & Reviews"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,r)=>o.jsx(qr,{className:`h-4 w-4 ${r<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),o.jsxs("span",{className:"text-sm",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:"Description"}),o.jsx("p",{className:"text-muted-foreground",children:t.description||"No description available"})]})]})}function _be({products:t,onRefresh:e}){const[r,n]=N.useState(""),[a,i]=N.useState("All"),[s,l]=N.useState(null),[c,u]=N.useState("list"),d=t.filter(m=>{const v=m.name.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase()),x=a==="All"||m.category===a;return v&&x}),f=async(m,v)=>{try{console.log("🔄 Restoring product:",{productId:m,productName:v}),await e8(m)?(je.success(`Product "${v}" restored successfully`),e==null||e()):je.error("Failed to restore product")}catch(x){console.error("❌ Error restoring product:",x),je.error("Failed to restore product")}},p=async(m,v)=>{try{console.log("💀 Permanently deleting product:",{productId:m,productName:v}),await t8(m)?(je.success(`Product "${v}" permanently deleted`),e==null||e()):je.error("Failed to permanently delete product")}catch(x){console.error("❌ Error permanently deleting product:",x),je.error("Failed to permanently delete product")}},h=(m,v)=>v&&v>m?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",v.toFixed(2)]}),o.jsxs(Nt,{variant:"destructive",className:"text-xs",children:[Math.round((1-m/v)*100),"% OFF"]})]}):o.jsxs("span",{className:"font-semibold text-lg",children:["R",m.toFixed(2)]}),g=m=>new Date(m).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.jsxs(De,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800 border-orange-500/20",children:[o.jsxs(_t,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(Gs,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory (",d.length,")"]}),o.jsx(Nt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:"Archived Products"})]}),o.jsxs("div",{className:"flex gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Ft,{placeholder:"Search deleted products...",value:r,onChange:m=>n(m.target.value),className:"pl-10"})]}),o.jsxs(Da,{value:a,onValueChange:i,children:[o.jsx(Fa,{className:"w-48",children:o.jsx($a,{})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"All",children:"All Categories"}),o.jsx(Ye,{value:"Casual",children:"Casual"}),o.jsx(Ye,{value:"Party",children:"Party"}),o.jsx(Ye,{value:"Shoes",children:"Shoes"}),o.jsx(Ye,{value:"Outwear",children:"Outwear"}),o.jsx(Ye,{value:"Dresses",children:"Dresses"}),o.jsx(Ye,{value:"Accessories",children:"Accessories"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(be,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>u("grid"),children:o.jsx(nv,{className:"w-4 h-4"})}),o.jsx(be,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),children:o.jsx(iv,{className:"w-4 h-4"})})]})]})]}),o.jsxs($e,{className:"w-full",children:[c==="grid"?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:d.map(m=>o.jsx(Nbe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})}):o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:o.jsxs("tr",{className:"*:[&>th]:font-medium",children:[o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Deleted"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),o.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-neutral-800",children:d.map(m=>o.jsx(jbe,{product:m,onRestore:f,onPermanentDelete:p,onView:v=>l(v),formatPrice:h,formatDeletedDate:g},m.id))})]})})}),d.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Gs,{className:"h-12 w-12 text-orange-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deleted products found"}),o.jsx("p",{className:"text-gray-500",children:t.length===0?"No products have been deleted yet.":"Try adjusting your search or filter criteria."})]})]}),o.jsx(Oi,{open:!!s,onOpenChange:()=>l(null),children:o.jsxs(ai,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center gap-2",children:[o.jsx(Gs,{className:"h-5 w-5 text-orange-500"}),"Deleted Product Details"]})}),s&&o.jsx("div",{className:"space-y-4",children:o.jsxs(Nt,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:["Deleted on ",g(s.deleted_at)]})})]})})]})}function jbe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return o.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors opacity-70",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700 relative",children:[o.jsx(el,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover grayscale",priority:!0}),o.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center",children:o.jsx(Gs,{className:"h-4 w-4 text-red-400"})})]}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-semibold text-neutral-300 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(qr,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),o.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:o.jsx(Nt,{variant:"secondary",className:"text-[10px] tracking-wide uppercase opacity-70",children:t.category})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"text-sm text-neutral-300 opacity-70",children:a(t.price,t.originalPrice)})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top",children:o.jsx("div",{className:"text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tv,{className:"h-3 w-3"}),i(t.deleted_at)]})})}),o.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(q_,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(sv,{className:"h-3 w-3"}),t.colors.length," colors"]})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ri,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"h-8 w-8 p-0 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore product",children:o.jsx(ca,{className:"h-4 w-4"})}),o.jsxs(b0,{children:[o.jsx(w0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:o.jsx(eo,{className:"h-4 w-4"})})}),o.jsxs(_0,{children:[o.jsxs(j0,{children:[o.jsxs(S0,{className:"flex items-center gap-2",children:[o.jsx(Ih,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),o.jsxs(A0,{children:['Are you sure you want to permanently delete "',t.name,'"?',o.jsx("br",{}),o.jsx("br",{}),o.jsx("strong",{children:"This action cannot be undone and will:"}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Completely remove the product from the database"}),o.jsx("li",{children:"Delete all associated images"}),o.jsx("li",{children:"Remove all references from order history"})]})]})]}),o.jsxs(N0,{children:[o.jsx(P0,{children:"Cancel"}),o.jsx(k0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})})]})}function Nbe({product:t,onRestore:e,onPermanentDelete:r,onView:n,formatPrice:a,formatDeletedDate:i}){return o.jsxs("div",{className:"border border-orange-800/40 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-orange-900/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0 opacity-70",children:[o.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[o.jsx(el,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover grayscale",priority:!0}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("div",{className:"px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md bg-orange-500/20 text-orange-300",children:"Deleted"})}),o.jsx("div",{className:"absolute inset-0 bg-red-500/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:o.jsx(Gs,{className:"h-8 w-8 text-red-400"})})]}),o.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[o.jsxs("div",{className:"w-full min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-300",title:t.name,children:t.name}),o.jsx(Nt,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide opacity-70",children:t.category})]}),o.jsxs("div",{className:"text-sm font-semibold text-neutral-300 opacity-70",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&o.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),o.jsxs("div",{className:"text-[10px] text-orange-400",children:["Deleted: ",i(t.deleted_at)]}),o.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:o.jsx(ri,{className:"h-3 w-3"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t.id,t.name),className:"text-[11px] h-7 px-2 bg-green-800/60 hover:bg-green-700 border-green-700 text-green-400 hover:text-green-300",title:"Restore",children:o.jsx(ca,{className:"h-3 w-3"})}),o.jsxs(b0,{children:[o.jsx(w0,{asChild:!0,children:o.jsx(be,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-red-800/60 hover:bg-red-700 border-red-700",title:"Permanently delete",children:o.jsx(eo,{className:"h-3 w-3"})})}),o.jsxs(_0,{children:[o.jsxs(j0,{children:[o.jsxs(S0,{className:"flex items-center gap-2",children:[o.jsx(Ih,{className:"h-5 w-5 text-red-500"}),"Permanently Delete Product"]}),o.jsxs(A0,{children:['Are you sure you want to permanently delete "',t.name,'"? This action cannot be undone.']})]}),o.jsxs(N0,{children:[o.jsx(P0,{children:"Cancel"}),o.jsx(k0,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2",children:"Permanently Delete"})]})]})]})]})]})]})}function Sbe({onEditProduct:t}){const[e,r]=N.useState([]),[n,a]=N.useState([]),[i,s]=N.useState(!0),[l,c]=N.useState("active"),u=async()=>{s(!0);try{console.log("📦 ProductTabs: Loading products...");const f=await J_();console.log("📦 ProductTabs: Active products loaded:",f.length),r(f);const p=await HI();console.log("🗑️ ProductTabs: Deleted products loaded:",p.length),a(p)}catch(f){console.error("❌ ProductTabs: Error loading products:",f),je.error("Failed to load products")}finally{s(!1)}};N.useEffect(()=>{u()},[]);const d=()=>{console.log("🔄 ProductTabs: Refreshing products..."),u()};return i?o.jsx(De,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Go,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Products..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your inventory."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(De,{className:"bg-gradient-to-r from-green-500/10 to-emerald-600/10 border-green-500/20",children:[o.jsx(_t,{className:"pb-3",children:o.jsxs(jt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Go,{className:"h-5 w-5 text-green-500"}),"Active Products"]})}),o.jsxs($e,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-500",children:e.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Currently visible to customers"})]})]}),o.jsxs(De,{className:"bg-gradient-to-r from-orange-500/10 to-red-600/10 border-orange-500/20",children:[o.jsx(_t,{className:"pb-3",children:o.jsxs(jt,{className:"text-lg flex items-center gap-2",children:[o.jsx(Gs,{className:"h-5 w-5 text-orange-500"}),"Deleted Inventory"]})}),o.jsxs($e,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Archived products"})]})]})]}),o.jsxs(ro,{value:l,onValueChange:c,className:"w-full",children:[o.jsxs(no,{className:"grid w-full grid-cols-2 bg-neutral-800/60 backdrop-blur",children:[o.jsxs(gr,{value:"active",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-600 data-[state=active]:text-white",children:[o.jsx(Go,{className:"h-4 w-4"}),"Active Products",o.jsx(Nt,{variant:"secondary",className:"ml-1",children:e.length})]}),o.jsxs(gr,{value:"deleted",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-600 data-[state=active]:text-white",children:[o.jsx(Gs,{className:"h-4 w-4"}),"Deleted Inventory",o.jsx(Nt,{variant:"secondary",className:"ml-1",children:n.length})]})]}),o.jsx(vr,{value:"active",className:"mt-6",children:o.jsx(ybe,{products:e,onEditProduct:t,onRefresh:d})}),o.jsx(vr,{value:"deleted",className:"mt-6",children:o.jsx(_be,{products:n,onRefresh:d})})]})]})}var C0="Switch",[Abe,qwe]=Mn(C0),[kbe,Pbe]=Abe(C0),rF=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,h]=N.useState(null),g=Ut(e,b=>h(b)),m=N.useRef(!1),v=p?d||!!p.closest("form"):!0,[x,j]=ni({prop:a,defaultProp:i??!1,onChange:u,caller:C0});return o.jsxs(kbe,{scope:r,checked:x,disabled:l,children:[o.jsx(ot.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":sF(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:pt(t.onClick,b=>{j(_=>!_),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&o.jsx(iF,{control:p,bubbles:!m.current,name:n,value:c,checked:x,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});rF.displayName=C0;var nF="SwitchThumb",aF=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Pbe(nF,r);return o.jsx(ot.span,{"data-state":sF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});aF.displayName=nF;var Cbe="SwitchBubbleInput",iF=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=N.useRef(null),l=Ut(s,i),c=f0(r),u=l0(e);return N.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iF.displayName=Cbe;function sF(t){return t?"checked":"unchecked"}var Obe=rF,Ebe=aF;function vu({className:t,...e}){return o.jsx(Obe,{"data-slot":"switch",className:Ge("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Ebe,{"data-slot":"switch-thumb",className:Ge("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Tbe=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"systemAlerts",label:"System Alerts",description:"Important system notifications"},{key:"orderAlerts",label:"Order Alerts",description:"Notifications for new orders"},{key:"securityAlerts",label:"Security Alerts",description:"Security-related notifications"}],Ibe=[{key:"theme",label:"Theme",options:[{value:"light",label:"Light",icon:o.jsx(Wf,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:o.jsx(Em,{className:"h-4 w-4"})},{value:"system",label:"System",icon:o.jsx(EU,{className:"h-4 w-4"})}]},{key:"language",label:"Language",options:[{value:"en",label:"English"},{value:"af",label:"Afrikaans"},{value:"zu",label:"isiZulu"},{value:"xh",label:"isiXhosa"},{value:"tn",label:"Setswana"},{value:"st",label:"Sesotho"},{value:"ve",label:"Tshivenda"},{value:"ts",label:"Xitsonga"}]},{key:"timezone",label:"Timezone",options:[{value:"UTC+3",label:"UTC+3 (Nairobi, Kenya)"},{value:"UTC+2",label:"UTC+2 (Johannesburg, South Africa)"},{value:"UTC+1",label:"UTC+1 (Lagos, Nigeria)"},{value:"UTC+0",label:"UTC+0 (Dakar, Senegal)"},{value:"UTC-1",label:"UTC-1 (Cape Verde)"}]},{key:"itemsPerPage",label:"Items Per Page",options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}],g2={emailNotifications:!0,pushNotifications:!1,systemAlerts:!0,orderAlerts:!0,securityAlerts:!0,language:"en",timezone:"UTC+2",theme:"system",dashboardLayout:"default",itemsPerPage:"20"},qT="admin_preferences";function oF(){const{user:t,isAdmin:e,signOut:r}=Cn(),[n,a]=N.useState(!1),[i,s]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,g]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,v]=N.useState(g2),[x,j]=N.useState(!1);N.useEffect(()=>{(()=>{try{const O=localStorage.getItem(qT);if(O){const T=JSON.parse(O),R={...g2,...T};v(R)}}catch(O){console.error("Error loading preferences from localStorage:",O),v(g2)}})()},[]),N.useEffect(()=>{const k=()=>{try{localStorage.setItem(qT,JSON.stringify(m))}catch(O){console.error("Error saving preferences to localStorage:",O)}};Object.keys(m).length>0&&k()},[m]);const b=async()=>{if(!t){je.error("User not found");return}c(!0);try{console.log("AdminAccountSettings: Updating user profile:",f);const k={};if(f.name!==(t.name||"")&&(k.name=f.name),f.phone!==(t.phone||"")&&(k.phone=f.phone),f.email!==(t.email||"")&&(k.email=f.email),Object.keys(k).length===0){je.info("No changes to save"),a(!1),c(!1);return}console.log("AdminAccountSettings: Updates to save:",k);const O=await r8(t.id,k);if(O)console.log("AdminAccountSettings: Profile updated successfully:",O),je.success("Profile updated successfully!"),p({name:(O==null?void 0:O.name)||f.name,email:(O==null?void 0:O.email)||f.email,phone:(O==null?void 0:O.phone)||f.phone}),a(!1);else throw new Error("Failed to update profile")}catch(k){console.error("AdminAccountSettings: Error updating profile:",k),je.error("Failed to update profile")}finally{c(!1)}},_=async()=>{var k,O,T;if(h.newPassword!==h.confirmPassword){je.error("New passwords do not match");return}if(h.newPassword.length<6){je.error("Password must be at least 6 characters long");return}c(!0);try{if(console.log("AdminAccountSettings: Changing user password"),await n8(h.newPassword))console.log("AdminAccountSettings: Password changed successfully"),je.success("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error("Failed to update password")}catch(R){console.error("AdminAccountSettings: Error changing password:",R),(k=R.message)!=null&&k.includes("session_not_found")||(O=R.message)!=null&&O.includes("refresh_token_not_found")?je.error("Session expired. Please log in again to change your password."):(T=R.message)!=null&&T.includes("same_password")?je.error("New password must be different from current password"):je.error("Failed to change password. Please try again.")}finally{c(!1)}},S=N.useCallback(async(k,O)=>{if(!x){j(!0);try{v(T=>({...T,[k]:O})),await new Promise(T=>setTimeout(T,300)),je.success("Preference updated")}catch(T){console.error("Error updating preference:",T),je.error("Failed to update preference")}finally{j(!1)}}},[x]),A=async()=>{if(u){console.log("AdminAccountSettings: Logout already in progress, ignoring click");return}console.log("AdminAccountSettings: Logout button clicked"),d(!0);try{console.log("AdminAccountSettings: Calling signOut()"),await r(),console.log("AdminAccountSettings: signOut() completed"),je.success("Logged out successfully"),console.log("AdminAccountSettings: About to reload page immediately");try{window.location.reload(),console.log("AdminAccountSettings: window.location.reload() called successfully")}catch(k){console.error("AdminAccountSettings: Error calling window.location.reload():",k),setTimeout(()=>{console.log("AdminAccountSettings: Fallback reload attempt"),window.location.reload()},100)}}catch(k){console.error("AdminAccountSettings: Logout failed:",k),je.error("Failed to log out"),d(!1)}};return!t||!e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to access this page."})]}):o.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-4xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Account Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your admin account and preferences"})]}),o.jsxs(ro,{defaultValue:"profile",className:"space-y-6",children:[o.jsxs(no,{className:"grid w-full grid-cols-4",children:[o.jsx(gr,{value:"profile",children:"Profile"}),o.jsx(gr,{value:"security",children:"Security"}),o.jsx(gr,{value:"preferences",children:"Preferences"}),o.jsx(gr,{value:"system",children:"System"})]}),o.jsx(vr,{value:"profile",children:o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(to,{className:"h-5 w-5"}),"Admin Profile"]})}),o.jsxs($e,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(k8,{className:"h-20 w-20",children:o.jsx(P8,{className:"text-xl",children:t.name.split(" ").map(k=>k[0]).join("").toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold",children:t.name}),o.jsxs(Nt,{variant:"secondary",className:"bg-red-100 text-red-800",children:[o.jsx(zs,{className:"h-3 w-3 mr-1"}),"Administrator"]})]}),o.jsx("p",{className:"text-muted-foreground",children:t.email}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("span",{className:"text-sm",children:["Member since ",t.created_at?new Date(t.created_at).getFullYear():"2024"]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Last login: Today"})]})]}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>a(!n),children:n?"Cancel":"Edit Profile"})]}),n&&o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"name",children:"Full Name"}),o.jsx(Ft,{id:"name",value:f.name,onChange:k=>p(O=>({...O,name:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"email",children:"Email"}),o.jsx(Ft,{id:"email",type:"email",value:f.email,onChange:k=>p(O=>({...O,email:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"phone",children:"Phone"}),o.jsx(Ft,{id:"phone",type:"tel",value:f.phone,onChange:k=>p(O=>({...O,phone:k.target.value})),placeholder:"Enter phone number"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{onClick:b,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Xl,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),o.jsx(be,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})}),o.jsx(vr,{value:"security",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(dA,{className:"h-5 w-5"}),"Change Password"]})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"currentPassword",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ft,{id:"currentPassword",type:i?"text":"password",value:h.currentPassword,onChange:k=>g(O=>({...O,currentPassword:k.target.value}))}),o.jsx(be,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?o.jsx(_2,{className:"h-4 w-4"}):o.jsx(ri,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"newPassword",children:"New Password"}),o.jsx(Ft,{id:"newPassword",type:"password",value:h.newPassword,onChange:k=>g(O=>({...O,newPassword:k.target.value}))})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(Ft,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:k=>g(O=>({...O,confirmPassword:k.target.value}))})]}),o.jsx(be,{onClick:_,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Xl,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})]})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(zs,{className:"h-5 w-5"}),"Security Settings"]})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Active Sessions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"View Sessions"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Login History"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View your recent login activity"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"View History"})]})]})]})]})}),o.jsx(vr,{value:"preferences",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(zl,{className:"h-5 w-5"}),"Notification Preferences"]})}),o.jsx($e,{className:"space-y-4",children:Tbe.map(k=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:k.label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),o.jsx(vu,{checked:m[k.key],onCheckedChange:O=>S(k.key,O),disabled:x})]},k.key))})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(U_,{className:"h-5 w-5"}),"Display Settings"]})}),o.jsx($e,{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ibe.map(k=>o.jsxs("div",{children:[o.jsx(It,{children:k.label}),o.jsxs(Da,{value:m[k.key],onValueChange:O=>S(k.key,O),disabled:x,children:[o.jsx(Fa,{children:o.jsx($a,{})}),o.jsx(Ba,{children:k.options.map(O=>o.jsx(Ye,{value:O.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[O.icon,O.label]})},O.value))})]})]},k.key))})})]})]})}),o.jsx(vr,{value:"system",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(Sq,{className:"h-5 w-5"}),"System Status"]})}),o.jsx($e,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),o.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"24/7"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]})]})})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(zs,{className:"h-5 w-5"}),"Admin Actions"]})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Export System Data"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Download system data for backup"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Export Data"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Clear System Cache"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear cached data to improve performance"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Clear Cache"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"View Admin Logs"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Access system and admin activity logs"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"View Logs"})]})]})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(dA,{className:"h-5 w-5"}),"API Keys"]})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Generate New API Key"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create API keys for integrations"})]}),o.jsx(be,{variant:"outline",size:"sm",children:"Generate Key"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Active API Keys"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"No active API keys. Generate one to get started."})]})]})]})]})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(be,{variant:"destructive",className:"w-full",onClick:A,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Xl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):o.jsxs(o.Fragment,{children:[o.jsx(gI,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]})}function Rbe(){const[t,e]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState("30d"),[s,l]=N.useState("overview");N.useEffect(()=>{const d={overview:{totalReviews:247,averageRating:4.3,ratingTrend:8.5,responseRate:87,trustScore:4.4},ratingDistribution:[{rating:5,count:142,percentage:57.5},{rating:4,count:68,percentage:27.5},{rating:3,count:23,percentage:9.3},{rating:2,count:8,percentage:3.2},{rating:1,count:6,percentage:2.4}],timeseriesData:[{date:"2024-08-15",reviews:12,averageRating:4.2,responses:10},{date:"2024-08-22",reviews:18,averageRating:4.1,responses:15},{date:"2024-08-29",reviews:15,averageRating:4.4,responses:13},{date:"2024-09-05",reviews:22,averageRating:4.3,responses:19},{date:"2024-09-12",reviews:19,averageRating:4.5,responses:17},{date:"2024-09-19",reviews:16,averageRating:4.2,responses:14}],productPerformance:[{productId:"sku_1",productName:"Summer Floral Dress",totalReviews:45,averageRating:4.6,recentReviews:8,category:"Dresses"},{productId:"sku_2",productName:"Evening Gown",totalReviews:32,averageRating:4.4,recentReviews:5,category:"Dresses"},{productId:"sku_3",productName:"Ankle Boots",totalReviews:28,averageRating:4.1,recentReviews:3,category:"Shoes"},{productId:"sku_4",productName:"Denim Jacket",totalReviews:35,averageRating:4.3,recentReviews:6,category:"Outwear"},{productId:"sku_5",productName:"Casual Blazer",totalReviews:21,averageRating:4,recentReviews:2,category:"Casual"}],sentimentAnalysis:{positive:78.5,neutral:16.2,negative:5.3},responseMetrics:{averageResponseTime:4.2,responseRate:87,totalResponses:215}};setTimeout(()=>{e(d),n(!1)},1e3)},[a]);const c=["#10B981","#F59E0B","#EF4444"],u=d=>d.toFixed(1);return r?o.jsx(De,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(cA,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Analytics..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we process review data."})]})})}):t?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Analytics"}),o.jsx("p",{className:"text-gray-600",children:"Track customer satisfaction and review performance"})]}),o.jsxs(Da,{value:a,onValueChange:i,children:[o.jsx(Fa,{className:"w-[140px]",children:o.jsx($a,{})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"7d",children:"Last 7 days"}),o.jsx(Ye,{value:"30d",children:"Last 30 days"}),o.jsx(Ye,{value:"90d",children:"Last 90 days"}),o.jsx(Ye,{value:"1y",children:"Last year"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(De,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t.overview.totalReviews}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(Lu,{className:"h-3 w-3 text-green-500"}),o.jsxs("span",{className:"text-xs text-green-600",children:["+",t.overview.ratingTrend,"%"]})]})]}),o.jsx(vm,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:u(t.overview.averageRating)}),o.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>o.jsx(qr,{className:`h-4 w-4 ${f<Math.floor(t.overview.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},f))})]})]}),o.jsx(qr,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[t.overview.responseRate,"%"]}),o.jsx(Iu,{value:t.overview.responseRate,className:"mt-2"})]}),o.jsx(_I,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Trust Score"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900",children:u(t.overview.trustScore)}),o.jsx(Nt,{variant:"outline",className:"mt-1 bg-purple-100 text-purple-700 border-purple-300",children:"Excellent"})]}),o.jsx(hI,{className:"h-8 w-8 text-purple-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-rose-600",children:"Avg Response Time"}),o.jsxs("p",{className:"text-2xl font-bold text-rose-900",children:[t.responseMetrics.averageResponseTime,"h"]}),o.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"Industry standard: 24h"})]}),o.jsx(tv,{className:"h-8 w-8 text-rose-500"})]})})})]}),o.jsxs(ro,{value:s,onValueChange:l,children:[o.jsxs(no,{className:"grid w-full grid-cols-4",children:[o.jsx(gr,{value:"overview",children:"Overview"}),o.jsx(gr,{value:"trends",children:"Trends"}),o.jsx(gr,{value:"products",children:"Products"}),o.jsx(gr,{value:"sentiment",children:"Sentiment"})]}),o.jsx(vr,{value:"overview",className:"space-y-6",children:o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(cA,{className:"h-5 w-5"}),"Rating Distribution"]})}),o.jsx($e,{children:o.jsx("div",{className:"space-y-4",children:t.ratingDistribution.map(d=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1 w-16",children:[o.jsx("span",{className:"text-sm font-medium",children:d.rating}),o.jsx(qr,{className:"h-3 w-3 text-yellow-400 fill-current"})]}),o.jsx("div",{className:"flex-1",children:o.jsx(Iu,{value:d.percentage,className:"h-2"})}),o.jsxs("div",{className:"flex items-center gap-2 w-20",children:[o.jsx("span",{className:"text-sm text-gray-600",children:d.count}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",d.percentage,"%)"]})]})]},d.rating))})})]})}),o.jsx(vr,{value:"trends",className:"space-y-6",children:o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(Lu,{className:"h-5 w-5"}),"Review Trends Over Time"]})}),o.jsx($e,{children:o.jsx(Qm,{width:"100%",height:300,children:o.jsxs(ame,{data:t.timeseriesData,children:[o.jsx(jN,{strokeDasharray:"3 3"}),o.jsx(Ad,{dataKey:"date"}),o.jsx(fc,{yAxisId:"left"}),o.jsx(fc,{yAxisId:"right",orientation:"right"}),o.jsx(Pa,{}),o.jsx(Jl,{}),o.jsx(ol,{yAxisId:"left",dataKey:"reviews",fill:"#3B82F6",name:"Reviews"}),o.jsx(Yh,{yAxisId:"right",type:"monotone",dataKey:"averageRating",stroke:"#F59E0B",strokeWidth:3,name:"Avg Rating"})]})})})]})}),o.jsx(vr,{value:"products",className:"space-y-6",children:o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(dz,{className:"h-5 w-5"}),"Product Review Performance"]})}),o.jsx($e,{children:o.jsx("div",{className:"space-y-4",children:t.productPerformance.map(d=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gradient-to-r from-gray-50 to-white",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"font-semibold",children:d.productName}),o.jsx(Nt,{variant:"outline",children:d.category})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"h-3 w-3 text-yellow-400 fill-current"}),o.jsx("span",{children:u(d.averageRating)})]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:[d.totalReviews," total reviews"]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:[d.recentReviews," recent"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsx(Iu,{value:d.averageRating/5*100,className:"w-24 h-2"})})]},d.productId))})})]})}),o.jsx(vr,{value:"sentiment",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(Dq,{className:"h-5 w-5"}),"Sentiment Distribution"]})}),o.jsx($e,{children:o.jsx(Qm,{width:"100%",height:250,children:o.jsxs(D7,{children:[o.jsx(xs,{dataKey:"value",data:[{name:"Positive",value:t.sentimentAnalysis.positive},{name:"Neutral",value:t.sentimentAnalysis.neutral},{name:"Negative",value:t.sentimentAnalysis.negative}],cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:c.map((d,f)=>o.jsx(Uh,{fill:d},`cell-${f}`))}),o.jsx(Pa,{})]})})})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Sentiment Breakdown"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{className:"font-medium text-green-800",children:"Positive"})]}),o.jsxs("span",{className:"text-2xl font-bold text-green-900",children:[t.sentimentAnalysis.positive,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-yellow-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"font-medium text-yellow-800",children:"Neutral"})]}),o.jsxs("span",{className:"text-2xl font-bold text-yellow-900",children:[t.sentimentAnalysis.neutral,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{className:"font-medium text-red-800",children:"Negative"})]}),o.jsxs("span",{className:"text-2xl font-bold text-red-900",children:[t.sentimentAnalysis.negative,"%"]})]})]})]})]})})]})]}):null}function Lbe(){const[t,e]=N.useState([]),[r,n]=N.useState(null),[a,i]=N.useState(!0),[s,l]=N.useState(""),[c,u]=N.useState("all"),[d,f]=N.useState("all"),[p,h]=N.useState(null),[g,m]=N.useState("");N.useEffect(()=>{const b=[{id:"1",customerName:"Sarah Johnson",customerEmail:"sarah@example.com",productId:"sku_1",productName:"Summer Floral Dress",rating:5,title:"Beautiful dress, perfect fit!",content:"I absolutely love this dress! The fabric is high quality and the fit is perfect. The floral pattern is gorgeous and I've received so many compliments. Will definitely order more from this store.",createdAt:"2024-09-10T10:30:00Z",verified:!0,helpful:12,unhelpful:0},{id:"2",customerName:"Emma Davis",customerEmail:"emma@example.com",productId:"sku_2",productName:"Evening Gown",rating:4,title:"Great for special occasions",content:"This gown is stunning and perfect for formal events. The only reason I'm giving 4 stars instead of 5 is that it runs slightly small. I recommend ordering a size up.",createdAt:"2024-09-08T15:45:00Z",verified:!0,helpful:8,unhelpful:1,response:{content:"Thank you for your review! We appreciate your feedback about sizing and will update our size guide. We're so glad you love the gown for special occasions!",createdAt:"2024-09-09T09:15:00Z",author:"Rosémama Team"}},{id:"3",customerName:"Lisa Brown",customerEmail:"lisa@example.com",productId:"sku_3",productName:"Ankle Boots",rating:3,title:"Good quality but uncomfortable",content:"The boots are well-made and look great, but they're quite uncomfortable for long periods. The sizing is accurate though.",createdAt:"2024-09-05T12:20:00Z",verified:!0,helpful:3,unhelpful:2}],_={totalReviews:47,averageRating:4.3,ratingDistribution:{5:23,4:15,3:6,2:2,1:1},recentReviews:8,responseRate:85};setTimeout(()=>{e(b),n(_),i(!1)},1e3)},[]);const v=t.filter(b=>{const _=b.productName.toLowerCase().includes(s.toLowerCase())||b.customerName.toLowerCase().includes(s.toLowerCase())||b.content.toLowerCase().includes(s.toLowerCase()),S=c==="all"||b.rating.toString()===c,A=d==="all"||d==="responded"&&b.response||d==="pending"&&!b.response;return _&&S&&A}),x=async b=>{if(!g.trim()){je.error("Please enter a response");return}try{e(_=>_.map(S=>S.id===b?{...S,response:{content:g,createdAt:new Date().toISOString(),author:"Rosémama Team"}}:S)),m(""),h(null),je.success("Response sent successfully!")}catch{je.error("Failed to send response")}},j=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?o.jsx(De,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(vm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Reviews..."}),o.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch review data."})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Management"}),o.jsx("p",{className:"text-gray-600",children:"Monitor and respond to customer reviews"})]}),o.jsxs(be,{onClick:()=>window.open("https://businessapp.b2b.trustpilot.com/","_blank"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[o.jsx(iU,{className:"h-4 w-4 mr-2"}),"Trustpilot Dashboard"]})]}),o.jsxs(ro,{defaultValue:"reviews",className:"space-y-6",children:[o.jsxs(no,{className:"grid w-full grid-cols-2",children:[o.jsx(gr,{value:"reviews",children:"Review Management"}),o.jsx(gr,{value:"analytics",children:"Analytics & Insights"})]}),o.jsxs(vr,{value:"reviews",className:"space-y-6",children:[r&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(De,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.totalReviews})]}),o.jsx(vm,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Average Rating"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:r.averageRating}),o.jsx("div",{className:"flex",children:[...Array(5)].map((b,_)=>o.jsx(qr,{className:`h-4 w-4 ${_<Math.floor(r.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`},_))})]})]}),o.jsx(qr,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Response Rate"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[r.responseRate,"%"]})]}),o.jsx(fA,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(De,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Recent Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.recentReviews}),o.jsx("p",{className:"text-xs text-purple-600",children:"Last 7 days"})]}),o.jsx(Lu,{className:"h-8 w-8 text-purple-500"})]})})})]}),o.jsx(De,{children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(Ft,{placeholder:"Search reviews, products, or customers...",value:s,onChange:b=>l(b.target.value),className:"pl-10"})]})}),o.jsxs(Da,{value:c,onValueChange:u,children:[o.jsx(Fa,{className:"w-[140px]",children:o.jsx($a,{placeholder:"Rating"})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"all",children:"All Ratings"}),o.jsx(Ye,{value:"5",children:"5 Stars"}),o.jsx(Ye,{value:"4",children:"4 Stars"}),o.jsx(Ye,{value:"3",children:"3 Stars"}),o.jsx(Ye,{value:"2",children:"2 Stars"}),o.jsx(Ye,{value:"1",children:"1 Star"})]})]}),o.jsxs(Da,{value:d,onValueChange:f,children:[o.jsx(Fa,{className:"w-[140px]",children:o.jsx($a,{placeholder:"Status"})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"all",children:"All Reviews"}),o.jsx(Ye,{value:"pending",children:"Pending Response"}),o.jsx(Ye,{value:"responded",children:"Responded"})]})]})]})})}),o.jsx("div",{className:"space-y-4",children:v.map(b=>o.jsx(De,{className:"bg-white border border-gray-200 hover:shadow-md transition-shadow",children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold",children:b.customerName.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:b.customerName}),o.jsx("p",{className:"text-sm text-gray-500",children:b.productName})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b.verified&&o.jsx(Nt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Verified Purchase"}),o.jsx("div",{className:"flex",children:[...Array(5)].map((_,S)=>o.jsx(qr,{className:`h-4 w-4 ${S<b.rating?"text-yellow-400 fill-current":"text-gray-300"}`},S))})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:b.title}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:b.content})]}),o.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{children:j(b.createdAt)}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_I,{className:"h-3 w-3"}),o.jsx("span",{children:b.helpful}),o.jsx(hz,{className:"h-3 w-3 ml-2"}),o.jsx("span",{children:b.unhelpful})]})]})}),b.response?o.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"R"}),o.jsx("span",{className:"font-semibold text-blue-900",children:b.response.author}),o.jsxs("span",{className:"text-sm text-blue-600",children:["responded on ",j(b.response.createdAt)]})]}),o.jsx("p",{className:"text-blue-800",children:b.response.content})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Oi,{children:[o.jsx(uj,{asChild:!0,children:o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>h(b),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[o.jsx(fA,{className:"h-4 w-4 mr-1"}),"Respond"]})}),o.jsxs(ai,{className:"max-w-2xl",children:[o.jsx(Ei,{children:o.jsx(Ti,{children:"Respond to Review"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-semibold",children:b.customerName}),o.jsx("div",{className:"flex",children:[...Array(5)].map((_,S)=>o.jsx(qr,{className:`h-3 w-3 ${S<b.rating?"text-yellow-400 fill-current":"text-gray-300"}`},S))})]}),o.jsx("p",{className:"text-gray-700",children:b.content})]}),o.jsx("textarea",{value:g,onChange:_=>m(_.target.value),placeholder:"Write your response...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(be,{variant:"outline",onClick:()=>{h(null),m("")},children:"Cancel"}),o.jsx(be,{onClick:()=>x(b.id),className:"bg-blue-600 hover:bg-blue-700",children:"Send Response"})]})]})]})]}),o.jsx(Nt,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Pending Response"})]})]})},b.id))}),v.length===0&&o.jsx(De,{children:o.jsxs($e,{className:"p-12 text-center",children:[o.jsx(vm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),o.jsx("p",{className:"text-gray-500",children:s||c!=="all"||d!=="all"?"Try adjusting your filters to see more reviews.":"Reviews will appear here once customers start leaving feedback."})]})})]}),o.jsx(vr,{value:"analytics",children:o.jsx(Rbe,{})})]})]})}class Xa{static async fetchPageContent(e){try{const{data:r,error:n}=await Ee.from("content_pages").select("page_data").eq("page_type",e).eq("is_active",!0).maybeSingle();return n?(console.warn(`Database error fetching content for ${e}:`,n),this.getFallbackContent(e)):!r||!r.page_data?(console.info(`No content found in database for ${e}, using fallback`),this.getFallbackContent(e)):r.page_data}catch(r){return console.error(`Unexpected error fetching content for ${e}:`,r),this.getFallbackContent(e)}}static async fetchAllContent(){try{const{data:e,error:r}=await Ee.from("content_pages").select("*").eq("is_active",!0).order("page_type");return r?(console.error("Error fetching all content:",r),[]):e||[]}catch(e){return console.error("Unexpected error fetching all content:",e),[]}}static getFallbackContent(e){return{about:{title:"About Rosémama Clothing",description:"Learn about our story, values, and team",sections:[{id:"company-story",title:"Our Story",content:"<p>Founded by Rosemary Oku, Rosémama began as a boutique in Midrand, South Africa with a vision to make beautiful, quality fashion accessible to every South African woman.</p>"},{id:"mission-values",title:"Our Mission & Values",content:"<p><strong>Our Mission:</strong> To democratize fashion by providing high-quality, sustainable clothing that empowers women to express their unique style with confidence.</p>"}]},privacy:{title:"Privacy Policy",description:"Our commitment to protecting your privacy",sections:[{id:"introduction",title:"Introduction",content:"<p>At Rosémama Clothing, we are committed to protecting your privacy and personal information. This policy explains how we collect, use, and protect your data.</p>"}]},terms:{title:"Terms & Conditions",description:"Legal terms and conditions",sections:[{id:"introduction",title:"Introduction",content:"<h4>Welcome to Terms & Conditions</h4><p>This is the introduction section. Edit this content to provide information about terms.</p><p>These terms and conditions govern your use of Rosémama Clothing's services. By using our website and services, you agree to these terms.</p>"},{id:"acceptance",title:"Acceptance of Terms",content:"<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p>"},{id:"use-license",title:"Use License",content:"<p>Permission is granted to temporarily download one copy of the materials on Rosémama Clothing's website for personal, non-commercial transitory viewing only.</p>"},{id:"disclaimer",title:"Disclaimer",content:"<p>The materials on Rosémama Clothing's website are provided on an 'as is' basis. Rosémama Clothing makes no warranties, expressed or implied.</p>"}]},shipping:{title:"Shipping Information",description:"Delivery options and policies",sections:[{id:"delivery-options",title:"Delivery Options",content:"<p>We offer various shipping options to suit your needs. Standard delivery takes 3-5 business days within South Africa.</p>"}]},returns:{title:"Returns & Exchanges",description:"Our return and exchange policy",sections:[{id:"return-policy",title:"Return Policy",content:"<p>We accept returns within 30 days of purchase. Items must be in original condition with tags attached.</p>"}]},help:{title:"Help & Support",description:"Get help with your orders and account",sections:[{id:"faq",title:"Frequently Asked Questions",content:"<p>Find answers to common questions about our products, orders, and services.</p>"}]},contact:{title:"Contact Us",description:"Get in touch with our team",sections:[{id:"contact-info",title:"Contact Information",content:"<p>Reach out to us for any questions or support. We're here to help!</p>"}]}}[e]}static async fetchContentWithHistory(e){try{const{data:r,error:n}=await Ee.from("content_pages").select("*").eq("page_type",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")return console.error(`Error fetching current content for ${e}:`,n),null;const{data:a,error:i}=r?await Ee.from("content_versions").select("*").eq("content_page_id",r.id).order("version_number",{ascending:!1}):{data:[],error:null};return i?(console.error(`Error fetching version history for ${e}:`,i),{current:r||null,history:[]}):{current:r||null,history:a||[]}}catch(r){return console.error(`Unexpected error fetching content history for ${e}:`,r),null}}static async savePageContent(e,r,n){try{const{data:a}=await Ee.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:s}=await Ee.from("content_pages").insert({page_type:e,page_data:r,created_by:a.user.id,updated_by:a.user.id}).select().single();return s?(console.error(`Error saving content for ${e}:`,s),{success:!1,error:s.message}):{success:!0,data:i}}catch(a){return console.error(`Unexpected error saving content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async updatePageContent(e,r,n){try{const{data:a}=await Ee.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:s}=await Ee.from("content_pages").select("id").eq("page_type",e).eq("is_active",!0).maybeSingle();if(!i)return await this.savePageContent(e,r,n);const{data:l,error:c}=await Ee.from("content_pages").update({page_data:r,updated_by:a.user.id}).eq("id",i.id).select().single();return c?(console.error(`Error updating content for ${e}:`,c),{success:!1,error:c.message}):{success:!0,data:l}}catch(a){return console.error(`Unexpected error updating content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async deletePageContent(e){try{const{data:r}=await Ee.auth.getUser();if(!r.user)return{success:!1,error:"User not authenticated"};const{error:n}=await Ee.from("content_pages").update({is_active:!1,updated_by:r.user.id}).eq("page_type",e).eq("is_active",!0);return n?(console.error(`Error deleting content for ${e}:`,n),{success:!1,error:n.message}):{success:!0}}catch(r){return console.error(`Unexpected error deleting content for ${e}:`,r),{success:!1,error:"Unexpected error occurred"}}}static async revertToVersion(e,r){try{const{data:n}=await Ee.auth.getUser();if(!n.user)return{success:!1,error:"User not authenticated"};const{data:a,error:i}=await Ee.from("content_versions").select("page_data").eq("version_number",r).limit(1).single();return i||!a?{success:!1,error:"Version not found"}:await this.updatePageContent(e,a.page_data,`Reverted to version ${r}`)}catch(n){return console.error("Unexpected error reverting to version:",n),{success:!1,error:"Unexpected error occurred"}}}static subscribeToContentChanges(e,r){return Ee.channel(`content-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"content_pages",filter:`page_type=eq.${e}`},r).subscribe()}static unsubscribeFromContentChanges(e){return Ee.removeChannel(e)}static async fetchMultiplePageContent(e){try{const r={},n=e.map(async i=>{const s=await this.fetchPageContent(i);return{pageType:i,content:s}});return(await Promise.all(n)).forEach(({pageType:i,content:s})=>{r[i]=s}),r}catch(r){return console.error("Error fetching multiple page content:",r),{}}}static async searchContent(e){try{const{data:r,error:n}=await Ee.from("content_pages").select("*").eq("is_active",!0).textSearch("page_data",e);return n?(console.error("Error searching content:",n),[]):r||[]}catch(r){return console.error("Unexpected error searching content:",r),[]}}static async checkAdminAccess(){try{const{data:e}=await Ee.auth.getUser();if(!e.user)return!1;const r=e.user.user_metadata;return(r==null?void 0:r.role)==="admin"}catch(e){return console.error("Error checking admin access:",e),!1}}static async checkDatabaseHealth(){try{const{data:e,error:r}=await Ee.from("content_pages").select("id, page_type").limit(1);return r?{tableExists:!1,hasData:!1,error:r.message}:{tableExists:!0,hasData:e&&e.length>0,error:void 0}}catch(e){return{tableExists:!1,hasData:!1,error:e.message}}}}const Mbe={contentCache:{},loadingStates:{},errorStates:{},lastUpdated:{},adminContent:{},contentHistory:{},isLoading:!1,globalError:null,subscriptions:{},isAdminMode:!1};function Dbe(t,e){switch(e.type){case"SET_LOADING":return{...t,loadingStates:{...t.loadingStates,[e.pageType]:e.isLoading}};case"SET_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:e.content},lastUpdated:{...t.lastUpdated,[e.pageType]:Date.now()},loadingStates:{...t.loadingStates,[e.pageType]:!1},errorStates:{...t.errorStates,[e.pageType]:null}};case"SET_ERROR":return{...t,errorStates:{...t.errorStates,[e.pageType]:e.error},loadingStates:{...t.loadingStates,[e.pageType]:!1}};case"SET_ADMIN_CONTENT":return{...t,adminContent:{...t.adminContent,[e.pageType]:e.adminContent}};case"SET_CONTENT_HISTORY":return{...t,contentHistory:{...t.contentHistory,[e.pageType]:e.history}};case"SET_GLOBAL_LOADING":return{...t,isLoading:e.isLoading};case"SET_GLOBAL_ERROR":return{...t,globalError:e.error};case"SET_SUBSCRIPTION":return{...t,subscriptions:{...t.subscriptions,[e.pageType]:e.subscription}};case"REMOVE_SUBSCRIPTION":const r={...t.subscriptions};return delete r[e.pageType],{...t,subscriptions:r};case"SET_ADMIN_MODE":return{...t,isAdminMode:e.isAdminMode};case"CLEAR_CACHE":if(e.pageType){const n={...t.contentCache};return delete n[e.pageType],{...t,contentCache:n}}return{...t,contentCache:{}};case"INVALIDATE_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:null},lastUpdated:{...t.lastUpdated,[e.pageType]:0}};default:return t}}const lF=N.createContext(void 0),$be=300*1e3,Fbe=({children:t})=>{const[e,r]=N.useReducer(Dbe,Mbe),n=N.useRef(e),a=N.useRef(null);n.current=e;const i=N.useCallback(_=>{const S=e.lastUpdated[_];return S?Date.now()-S<$be:!1},[e.lastUpdated]),s=N.useCallback(async(_,S=!1)=>{if(!S&&e.contentCache[_]&&i(_))return e.contentCache[_];r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Xa.fetchPageContent(_);return r({type:"SET_CONTENT",pageType:_,content:A}),A}catch(A){const k=A instanceof Error?A.message:"Failed to fetch content";return r({type:"SET_ERROR",pageType:_,error:k}),null}},[e.contentCache,i]);a.current=s;const l=N.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const S=await Xa.fetchMultiplePageContent(_);return Object.entries(S).forEach(([A,k])=>{r({type:"SET_CONTENT",pageType:A,content:k})}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),S}catch(S){const A=S instanceof Error?S.message:"Failed to fetch multiple content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),{}}},[]),c=N.useCallback(async(_,S,A)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Xa.savePageContent(_,S,A);return k.success?(r({type:"SET_CONTENT",pageType:_,content:S}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to save content"}),!1)}catch(k){const O=k instanceof Error?k.message:"Failed to save content";return r({type:"SET_ERROR",pageType:_,error:O}),!1}},[]),u=N.useCallback(async(_,S,A)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Xa.updatePageContent(_,S,A);return k.success?(r({type:"SET_CONTENT",pageType:_,content:S}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to update content"}),!1)}catch(k){const O=k instanceof Error?k.message:"Failed to update content";return r({type:"SET_ERROR",pageType:_,error:O}),!1}},[]),d=N.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const S=await Xa.deletePageContent(_);return S.success?(r({type:"CLEAR_CACHE",pageType:_}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:null}),!0):(r({type:"SET_ERROR",pageType:_,error:S.error||"Failed to delete content"}),!1)}catch(S){const A=S instanceof Error?S.message:"Failed to delete content";return r({type:"SET_ERROR",pageType:_,error:A}),!1}},[]),f=N.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const S=await Xa.fetchContentWithHistory(_);return r({type:"SET_CONTENT_HISTORY",pageType:_,history:S}),r({type:"SET_LOADING",pageType:_,isLoading:!1}),S}catch(S){const A=S instanceof Error?S.message:"Failed to fetch content history";return r({type:"SET_ERROR",pageType:_,error:A}),null}},[]),p=N.useCallback(async(_,S)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Xa.revertToVersion(_,S);return A.success&&A.data?(r({type:"SET_CONTENT",pageType:_,content:A.data.page_data}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:A.data}),!0):(r({type:"SET_ERROR",pageType:_,error:A.error||"Failed to revert content"}),!1)}catch(A){const k=A instanceof Error?A.message:"Failed to revert content";return r({type:"SET_ERROR",pageType:_,error:k}),!1}},[]),h=N.useCallback(_=>{if(n.current.subscriptions[_])return;const S=Xa.subscribeToContentChanges(_,A=>{r({type:"INVALIDATE_CONTENT",pageType:_}),n.current.isAdminMode&&a.current&&a.current(_,!0)});r({type:"SET_SUBSCRIPTION",pageType:_,subscription:S})},[]),g=N.useCallback(_=>{const S=n.current.subscriptions[_];S&&(Xa.unsubscribeFromContentChanges(S),r({type:"REMOVE_SUBSCRIPTION",pageType:_}))},[]),m=N.useCallback(_=>{r({type:"CLEAR_CACHE",pageType:_})},[]),v=N.useCallback(_=>{r({type:"SET_ADMIN_MODE",isAdminMode:_})},[]),x=N.useCallback(async _=>{await s(_,!0)},[s]),j=N.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const S=await Xa.searchContent(_);return r({type:"SET_GLOBAL_LOADING",isLoading:!1}),S}catch(S){const A=S instanceof Error?S.message:"Failed to search content";return r({type:"SET_GLOBAL_ERROR",error:A}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),[]}},[]);N.useEffect(()=>()=>{Object.values(e.subscriptions).forEach(_=>{_&&Xa.unsubscribeFromContentChanges(_)})},[e.subscriptions]);const b={state:e,getPageContent:s,getMultiplePageContent:l,savePageContent:c,updatePageContent:u,deletePageContent:d,getContentHistory:f,revertToVersion:p,subscribeToPageContent:h,unsubscribeFromPageContent:g,clearCache:m,setAdminMode:v,refreshContent:x,searchContent:j};return N.useEffect(()=>()=>{Object.keys(n.current.subscriptions).forEach(_=>{const S=n.current.subscriptions[_];S&&Xa.unsubscribeFromContentChanges(S)})},[]),o.jsx(lF.Provider,{value:b,children:t})},cF=()=>{const t=N.useContext(lF);if(t===void 0)throw console.error("useContent hook called outside ContentProvider. Component tree:",{stackTrace:new Error().stack}),new Error("useContent must be used within a ContentProvider");return t},T_=[{id:"about",name:"About Us",title:"About Rosémama Clothing",description:"Company information, story, and values",icon:Xo},{id:"privacy",name:"Privacy Policy",title:"Privacy Policy",description:"How we handle customer data and privacy",icon:zs},{id:"terms",name:"Terms of Service",title:"Terms & Conditions",description:"Legal terms and conditions",icon:Ks},{id:"shipping",name:"Shipping Policy",title:"Shipping & Delivery",description:"Shipping methods and delivery information",icon:Mu},{id:"returns",name:"Returns Policy",title:"Returns & Exchanges",description:"Return and exchange policy",icon:ca},{id:"help",name:"Help Center",title:"Help & Support",description:"Frequently asked questions and support",icon:M_},{id:"contact",name:"Contact Us",title:"Contact Information",description:"How to reach our customer service",icon:B_}],gm=t=>{const e=T_.find(n=>n.id===t),r=(e==null?void 0:e.title)||"Page Title";return{title:r,description:(e==null?void 0:e.description)||"Page description",sections:[{id:`${t}-intro`,title:"Introduction",content:`<h4>Welcome to ${r}</h4><p>This is the introduction section. Edit this content to provide information about ${t}.</p>`}]}};function Bbe(){const{state:t,getPageContent:e,savePageContent:r,updatePageContent:n,refreshContent:a,setAdminMode:i,getContentHistory:s,revertToVersion:l}=cF(),[c,u]=N.useState("about"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState(""),[v,x]=N.useState(!1),[j,b]=N.useState(null),[_,S]=N.useState(!1),[A,k]=N.useState(null),[O,T]=N.useState(!1);N.useEffect(()=>{i(!0)},[i]),N.useEffect(()=>{(async()=>{const Q=await e(c)||gm(c);b(Q)})()},[c,e]);const R=T_.find(V=>V.id===c),P=t.loadingStates[c]||!1,I=t.errorStates[c],M=V=>{const W=j==null?void 0:j.sections.find(Q=>Q.id===V);W&&(f(V),h(W.content),m(W.title))},D=async()=>{if(!d||!j)return;const V={...j,sections:j.sections.map(Q=>Q.id===d?{...Q,title:g,content:p}:Q)};await n(c,V,"Updated section content")?(b(V),f(null),h(""),m(""),je.success("Section updated successfully!")):je.error("Failed to update section. Please try again.")},K=()=>{f(null),h(""),m("")},$=async()=>{if(!j)return;const V={id:`section-${Date.now()}`,title:"New Section",content:"<p>Enter your content here...</p>"},W={...j,sections:[...j.sections,V]};await n(c,W,"Added new section")?(b(W),je.success("New section added!")):je.error("Failed to add section. Please try again.")},q=async V=>{if(!j)return;const W={...j,sections:j.sections.filter(re=>re.id!==V)};await n(c,W,"Deleted section")?(b(W),je.success("Section deleted!")):je.error("Failed to delete section. Please try again.")},F=async()=>{if(!j)return;await n(c,j,"Saved all changes")?je.success("All changes saved successfully!"):je.error("Failed to save changes. Please try again.")},ee=async()=>{const V=gm(c);await n(c,V,"Restored to defaults")?(b(V),je.success("Content restored to defaults!")):je.error("Failed to restore defaults. Please try again.")},fe=async()=>{await a(c);const V=await e(c,!0);b(V||gm(c)),je.success("Content refreshed!")},ue=async()=>{T(!0);try{const V=await s(c);k(V),S(!0)}catch{je.error("Failed to load version history")}finally{T(!1)}},B=async V=>{try{if(await l(c,V)){const Q=await e(c,!0);b(Q||gm(c)),S(!1),je.success(`Reverted to version ${V} successfully!`)}else je.error("Failed to revert to selected version")}catch{je.error("Failed to revert to selected version")}},H=V=>new Date(V).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return R?o.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Content Management System"}),o.jsx("p",{className:"text-purple-100",children:"Manage information pages, policies, and user-helpful content with Supabase integration"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsxs(be,{onClick:F,className:"bg-green-600 hover:bg-green-700",disabled:P,children:[P?o.jsx(Ja,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),o.jsxs(be,{variant:"outline",onClick:()=>x(!v),children:[o.jsx(ri,{className:"h-4 w-4 mr-2"}),v?"Edit Mode":"Preview Mode"]}),o.jsxs(be,{variant:"outline",onClick:fe,disabled:P,children:[o.jsx(Xl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(be,{variant:"outline",onClick:ue,disabled:O,children:[O?o.jsx(Ja,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(gy,{className:"h-4 w-4 mr-2"}),"Version History"]})]}),o.jsxs(be,{variant:"destructive",onClick:ee,className:"bg-orange-600 hover:bg-orange-700",disabled:P,children:[o.jsx(ca,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]})]}),I&&o.jsx(De,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:o.jsx($e,{className:"pt-4",children:o.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",I]})})}),o.jsxs(ro,{value:c,onValueChange:V=>u(V),className:"space-y-6",children:[o.jsx(no,{className:"grid w-full grid-cols-4 lg:grid-cols-7 h-auto min-h-[3rem] p-1",children:T_.map(V=>{const W=V.icon;return o.jsxs(gr,{value:V.id,className:"flex items-center gap-2 px-2 py-2 text-xs sm:text-sm whitespace-nowrap overflow-hidden",children:[o.jsx(W,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"hidden sm:inline truncate",children:V.name})]},V.id)})}),o.jsxs(vr,{value:c,className:"space-y-6 mt-6",children:[o.jsxs(De,{children:[o.jsxs(_t,{children:[o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(R.icon,{className:"h-5 w-5"}),R.title,P&&o.jsx(Ja,{className:"h-4 w-4 animate-spin"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]}),o.jsx($e,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Nt,{variant:"secondary",children:[(j==null?void 0:j.sections.length)||0," section",((j==null?void 0:j.sections.length)||0)!==1?"s":""]}),o.jsxs(be,{onClick:$,size:"sm",disabled:P,children:[o.jsx(Yl,{className:"h-4 w-4 mr-1"}),"Add Section"]})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: currentPageContent = ",j?"exists":"null",", sections = ",(j==null?void 0:j.sections.length)||0]}),j==null?void 0:j.sections.map(V=>o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(jt,{className:"text-lg",children:V.title}),o.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:o.jsxs("span",{children:["Section ID: ",V.id]})})]}),o.jsx("div",{className:"flex gap-2",children:d===V.id?o.jsxs(o.Fragment,{children:[o.jsxs(be,{size:"sm",onClick:D,disabled:P,children:[o.jsx(Tm,{className:"h-3 w-3 mr-1"}),"Save"]}),o.jsx(be,{size:"sm",variant:"outline",onClick:K,children:"Cancel"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(be,{size:"sm",variant:"outline",onClick:()=>M(V.id),disabled:P,children:[o.jsx($U,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsxs(be,{size:"sm",variant:"destructive",onClick:()=>q(V.id),disabled:P,children:[o.jsx(eo,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]})}),o.jsx($e,{children:d===V.id?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ft,{value:g,onChange:W=>m(W.target.value),placeholder:"Section title"}),o.jsx(u$,{value:p,onChange:W=>h(W.target.value),className:"min-h-[200px] font-mono text-sm",placeholder:"Section content (supports HTML)"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"💡 You can use HTML tags like <h4>, <p>, <ul>, <li>, <strong>, etc."})]}):v?o.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:V.content}}):o.jsx("div",{className:"bg-muted p-4 rounded border font-mono text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:V.content})})]},V.id)),(!(j!=null&&j.sections)||j.sections.length===0)&&o.jsx(De,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:o.jsx($e,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ks,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"No Content Sections"}),o.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:`This page doesn't have any content sections yet. Click "Add Section" to get started.`}),o.jsxs(be,{onClick:$,disabled:P,children:[o.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Add First Section"]})]})})})]})]})]}),o.jsx(De,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:o.jsx($e,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(M_,{className:"h-5 w-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Content Management Tips"}),o.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[o.jsx("li",{children:"• Content is automatically saved to Supabase database"}),o.jsx("li",{children:"• Use HTML tags for formatting (h4, p, ul, li, strong, etc.)"}),o.jsx("li",{children:"• Preview mode shows how content will appear to users"}),o.jsx("li",{children:"• Changes are synced across all admin users in real-time"}),o.jsx("li",{children:'• Use "Restore Defaults" to reset content to original state'}),o.jsx("li",{children:"• Version history tracks all changes with timestamps"})]})]})]})})}),o.jsx(Oi,{open:_,onOpenChange:S,children:o.jsxs(ai,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center gap-2",children:[o.jsx(gy,{className:"h-5 w-5"}),"Version History - ",R==null?void 0:R.title]})}),o.jsx("div",{className:"space-y-4",children:A?o.jsxs(o.Fragment,{children:[A.current&&o.jsxs(De,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:[o.jsx(_t,{children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{children:[o.jsx(jt,{className:"text-lg flex items-center gap-2",children:o.jsxs(Nt,{variant:"default",className:"bg-green-600",children:["Current Version ",A.current.version]})}),o.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Kl,{className:"h-3 w-3"}),H(A.current.updated_at)]}),A.current.updated_by&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(to,{className:"h-3 w-3"}),A.current.updated_by]})]})]})})}),o.jsxs($e,{children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("strong",{children:"Title:"})," ",A.current.page_data.title]}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsx("strong",{children:"Sections:"})," ",A.current.page_data.sections.length]})]})]}),A.history.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Previous Versions"}),A.history.map(V=>o.jsxs(De,{className:"border-gray-200",children:[o.jsx(_t,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(jt,{className:"text-sm flex items-center gap-2",children:o.jsxs(Nt,{variant:"outline",children:["Version ",V.version_number]})}),o.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Kl,{className:"h-3 w-3"}),H(V.created_at)]}),V.created_by&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(to,{className:"h-3 w-3"}),V.created_by]})]}),V.change_summary&&o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[o.jsx("strong",{children:"Changes:"})," ",V.change_summary]})]}),o.jsxs(be,{size:"sm",variant:"outline",onClick:()=>B(V.version_number),className:"text-xs",children:[o.jsx(ca,{className:"h-3 w-3 mr-1"}),"Revert"]})]})}),o.jsxs($e,{children:[o.jsxs("div",{className:"text-xs",children:[o.jsx("strong",{children:"Title:"})," ",V.page_data.title]}),o.jsxs("div",{className:"text-xs mt-1",children:[o.jsx("strong",{children:"Sections:"})," ",V.page_data.sections.length]})]})]},V.id))]}):o.jsx(De,{className:"border-gray-200",children:o.jsxs($e,{className:"pt-6 text-center text-muted-foreground",children:[o.jsx(gy,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No version history available"})]})})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ja,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading version history..."})]})})]})})]}):o.jsx("div",{children:"Page configuration not found"})}class Ta{static async createConversation(e,r){try{const{data:n,error:a}=await Ee.from("chat_conversations").insert({customer_id:e,subject:r||"General Inquiry",status:"open",priority:2}).select().single();return a?(console.error("Error creating conversation:",a),null):n}catch(n){return console.error("Error in createConversation:",n),null}}static async getConversations(e,r=!1){try{let n=Ee.from("chat_conversations").select("*").order("last_message_at",{ascending:!1});r||(n=n.eq("customer_id",e));const{data:a,error:i}=await n;return i?(console.error("Error fetching conversations:",i),[]):a||[]}catch(n){return console.error("Error in getConversations:",n),[]}}static async sendMessage(e,r,n,a="text"){try{const{data:i,error:s}=await Ee.from("chat_messages").insert({conversation_id:e,sender_id:r,content:n,message_type:a}).select().single();return s?(console.error("Error sending message:",s),null):i}catch(i){return console.error("Error in sendMessage:",i),null}}static async getMessages(e){try{const{data:r,error:n}=await Ee.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching messages:",n),[]):r||[]}catch(r){return console.error("Error in getMessages:",r),[]}}static async markMessagesAsRead(e,r){try{const{error:n}=await Ee.from("chat_messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",r).eq("is_read",!1);return n?(console.error("Error marking messages as read:",n),!1):!0}catch(n){return console.error("Error in markMessagesAsRead:",n),!1}}static async getUnreadCount(e){try{const r=await this.getConversations(e,!1);if(r.length===0)return 0;const n=r.map(s=>s.id),{count:a,error:i}=await Ee.from("chat_messages").select("*",{count:"exact",head:!0}).in("conversation_id",n).neq("sender_id",e).eq("is_read",!1);return i?(console.error("Error getting unread count:",i),0):a||0}catch(r){return console.error("Error in getUnreadCount:",r),0}}static subscribeToConversations(e,r){const n=`conversations:${e}`;this.unsubscribe(n);const a=Ee.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},i=>{console.log("Conversation update:",i),r(i)}).subscribe();return this.subscriptions.set(n,a),a}static subscribeToMessages(e,r,n){const a=`messages:${e}`;this.unsubscribe(a);let i=Ee.channel(a).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("New message:",l),r(l)});n&&(i=i.on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},l=>{console.log("Message updated:",l),n(l)}));const s=i.subscribe();return this.subscriptions.set(a,s),s}static unsubscribe(e){const r=this.subscriptions.get(e);r&&(Ee.removeChannel(r),this.subscriptions.delete(e))}static unsubscribeAll(){this.subscriptions.forEach((e,r)=>{Ee.removeChannel(e)}),this.subscriptions.clear()}static async assignConversation(e,r){try{const{error:n}=await Ee.from("chat_conversations").update({admin_id:r,status:"assigned",updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error assigning conversation:",n),!1):!0}catch(n){return console.error("Error in assignConversation:",n),!1}}static async updateConversationStatus(e,r){try{const{error:n}=await Ee.from("chat_conversations").update({status:r,updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error updating conversation status:",n),!1):!0}catch(n){return console.error("Error in updateConversationStatus:",n),!1}}static async getOrCreateConversation(e,r){try{const{data:n,error:a}=await Ee.from("chat_conversations").select("*").eq("customer_id",e).in("status",["open","assigned"]).order("created_at",{ascending:!1}).limit(1);return a?(console.error("Error fetching existing conversations:",a),null):n&&n.length>0?n[0]:await this.createConversation(e,r)}catch(n){return console.error("Error in getOrCreateConversation:",n),null}}static async searchMessages(e,r){try{let n=Ee.from("chat_messages").select("*").textSearch("content",e);r&&(n=n.eq("conversation_id",r));const{data:a,error:i}=await n.order("created_at",{ascending:!1}).limit(20);return i?(console.error("Error searching messages:",i),[]):a||[]}catch(n){return console.error("Error in searchMessages:",n),[]}}}Ht(Ta,"subscriptions",new Map);function uF(t,e=!1){const[r,n]=N.useState([]),[a,i]=N.useState(!0),[s,l]=N.useState(null),c=N.useCallback(async()=>{i(!0);try{const f=await Ta.getConversations(t,e);n(f),l(null)}catch(f){l("Failed to load conversations"),console.error("Error loading conversations:",f)}finally{i(!1)}},[t,e]),u=N.useCallback(async f=>{try{const p=await Ta.createConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error starting conversation:",p),null}},[t,c]),d=N.useCallback(async f=>{try{const p=await Ta.getOrCreateConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error getting/creating conversation:",p),null}},[t,c]);return N.useEffect(()=>{t&&c()},[c,t]),{conversations:r,loading:a,error:s,refreshConversations:c,startConversation:u,getOrCreateConversation:d}}function dF(t){const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,s]=N.useState(null),[l,c]=N.useState(null),u=N.useCallback(async()=>{if(!t){r([]),a(!1);return}a(!0);try{const p=await Ta.getMessages(t);r(p),s(null)}catch(p){s("Failed to load messages"),console.error("Error loading messages:",p)}finally{a(!1)}},[t]),d=N.useCallback(async(p,h,g="text")=>{if(!t)return null;try{const m=await Ta.sendMessage(t,p,h,g);return m?(r(v=>[...v,m]),m):null}catch(m){return console.error("Error sending message:",m),null}},[t]),f=N.useCallback(async p=>{if(!t)return!1;try{return await Ta.markMessagesAsRead(t,p)}catch(h){return console.error("Error marking messages as read:",h),!1}},[t]);return N.useEffect(()=>{if(!t){r([]),a(!1);return}u();const p=Ta.subscribeToMessages(t,h=>{h.eventType==="INSERT"&&h.new&&r(g=>g.some(v=>v.id===h.new.id)?g:[...g,h.new])},h=>{h.eventType==="UPDATE"&&h.new&&r(g=>g.map(m=>m.id===h.new.id?h.new:m))});return c(p),()=>{p&&Ta.unsubscribe(`messages:${t}`)}},[t,u]),{messages:e,loading:n,error:i,sendMessage:d,markAsRead:f,refreshMessages:u}}function fF(t){const[e,r]=N.useState(0),[n,a]=N.useState(!0),i=N.useCallback(async()=>{if(!t){r(0),a(!1);return}try{const s=await Ta.getUnreadCount(t);r(s)}catch(s){console.error("Error getting unread count:",s)}finally{a(!1)}},[t]);return N.useEffect(()=>{if(t){i();const s=setInterval(i,3e4);return()=>clearInterval(s)}},[t,i]),{unreadCount:e,loading:n,refreshUnreadCount:i}}function qbe(){const t=N.useCallback(async(n,a)=>{try{return await Ta.assignConversation(n,a)}catch(i){return console.error("Error assigning conversation:",i),!1}},[]),e=N.useCallback(async(n,a)=>{try{return await Ta.updateConversationStatus(n,a)}catch(i){return console.error("Error updating conversation status:",i),!1}},[]),r=N.useCallback(async(n,a)=>{try{return await Ta.searchMessages(n,a)}catch(i){return console.error("Error searching messages:",i),[]}},[]);return{assignConversation:t,updateStatus:e,searchMessages:r}}function Ube(){const{user:t}=Cn(),[e,r]=N.useState(null),[n,a]=N.useState(""),[i,s]=N.useState("all"),[l,c]=N.useState(!1),[u,d]=N.useState(!0),{conversations:f,loading:p,refreshConversations:h}=uF((t==null?void 0:t.id)||"",!0),{messages:g,loading:m,sendMessage:v,refreshMessages:x}=dF(e),{assignConversation:j,updateStatus:b}=qbe();N.useEffect(()=>{const D=()=>{const K=window.innerWidth<768;c(K),K||d(!0)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const _=D=>{r(D),l&&d(!1)},S=()=>{l&&(d(!0),r(null))},A=f.filter(D=>{var q,F;const K=n===""||((q=D.subject)==null?void 0:q.toLowerCase().includes(n.toLowerCase()))||((F=D.customer_id)==null?void 0:F.toLowerCase().includes(n.toLowerCase())),$=i==="all"||D.status===i;return K&&$}),k=async D=>{t!=null&&t.id&&await j(D,t.id)&&h()},O=async(D,K)=>{await b(D,K)&&h()},T=async D=>{e&&(t!=null&&t.id)&&(await v(t.id,D),x())},R=D=>{switch(D){case"open":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300";case"assigned":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border-blue-300";case"in_progress":return"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border-purple-300";case"waiting_customer":return"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-800 border-orange-300";case"escalated":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border-red-300";case"follow_up":return"bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 border-indigo-300";case"resolved":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border-green-300";case"closed":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300"}},P=D=>{switch(D){case"open":return"🟡";case"assigned":return"🔵";case"in_progress":return"🟣";case"waiting_customer":return"🟠";case"escalated":return"🔴";case"follow_up":return"🔄";case"resolved":return"🟢";case"closed":return"⚫";default:return"⚪"}},I=D=>{switch(D){case"open":return o.jsx(rc,{className:"h-3 w-3"});case"assigned":return o.jsx(to,{className:"h-3 w-3"});case"resolved":return o.jsx(Th,{className:"h-3 w-3"});default:return o.jsx(Kl,{className:"h-3 w-3"})}},M=D=>{const K=new Date,$=new Date(D.created_at),q=K.getTime()-$.getTime(),F=Math.floor(q/(1e3*60*60)),ee=D.priority||"normal",ue=(ee==="high"||ee==="urgent"?1:ee==="low"?24:4)-F,B=ue<0;return{isOverdue:B,timeLeft:B?`${Math.abs(ue)}h overdue`:`${ue}h left`,color:B?"text-red-600":ue<1?"text-orange-600":"text-blue-600"}};return o.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-neutral-50 via-white to-rose-50/30 dark:from-neutral-900 dark:via-neutral-800 dark:to-rose-900/20",children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-rose-500 via-pink-500 to-rose-600 text-white shadow-xl",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),o.jsxs("div",{className:"relative p-3 md:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l&&!u&&o.jsx("button",{onClick:S,className:"bg-white/20 backdrop-blur-sm rounded-lg p-2 shadow-lg hover:bg-white/30 transition-all duration-200 mr-2",children:o.jsx(ev,{className:"h-5 w-5"})}),o.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg md:rounded-2xl p-2 md:p-3 shadow-lg",children:o.jsx(ti,{className:"h-5 w-5 md:h-8 md:w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base md:text-2xl lg:text-3xl font-bold flex items-center gap-1 md:gap-3",children:l&&!u?o.jsx("span",{children:"Chat"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"hidden sm:inline",children:"💬"}),o.jsx("span",{className:"sm:hidden",children:"Support"}),o.jsx("span",{className:"hidden sm:block",children:"Customer Support"})]})}),o.jsx("p",{className:"text-rose-100 text-xs md:text-sm lg:text-base hidden md:block",children:"✨ Manage conversations and provide amazing support"})]})]}),o.jsx("div",{className:"bg-white/15 backdrop-blur-md rounded-lg md:rounded-xl px-2 py-2 md:px-6 md:py-4 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2 mb-1",children:[o.jsx("span",{className:"text-sm md:text-2xl lg:text-3xl font-bold",children:f.length}),o.jsx("span",{className:"text-xs md:text-xl",children:"📨"})]}),o.jsxs("span",{className:"text-rose-100 text-xs md:text-sm font-medium",children:[o.jsx("span",{className:"hidden md:inline",children:"Active"}),o.jsx("span",{className:"md:hidden",children:"Chats"})]})]})})]}),o.jsxs("div",{className:`relative mt-2 md:mt-4 flex items-center gap-2 md:gap-4 text-xs md:text-sm ${l&&!u?"hidden":"flex"}`,children:[o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/10 rounded-full px-2 md:px-3 py-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-rose-100",children:"Online"})]}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-rose-200",children:[o.jsx("span",{children:"🕐"}),o.jsx("span",{className:"hidden sm:inline",children:new Date().toLocaleTimeString()})]})]})]})]}),o.jsx("div",{className:"flex-1 flex overflow-hidden shadow-inner",children:l?o.jsx(o.Fragment,{children:u?o.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-3 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"🔍 Search...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400 text-base"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Uf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsxs("select",{value:i,onChange:D=>s(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200 text-base",children:[o.jsx("option",{value:"all",children:"📋 All Status"}),o.jsx("option",{value:"open",children:"🟡 Open"}),o.jsx("option",{value:"assigned",children:"🔵 Assigned"}),o.jsx("option",{value:"in_progress",children:"🟣 In Progress"}),o.jsx("option",{value:"waiting_customer",children:"🟠 Waiting"}),o.jsx("option",{value:"escalated",children:"🔴 Escalated"}),o.jsx("option",{value:"follow_up",children:"🔄 Follow-up"}),o.jsx("option",{value:"resolved",children:"🟢 Resolved"}),o.jsx("option",{value:"closed",children:"⚫ Closed"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),o.jsx("p",{className:"text-rose-600 font-medium",children:"✨ Loading..."})]}):A.length===0?o.jsxs("div",{className:"p-6 text-center text-rose-600",children:[o.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl",children:"💬"})}),o.jsx("p",{className:"font-medium",children:"No conversations"}),o.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting filters"})]}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(D=>{var K;return o.jsx("div",{onClick:()=>_(D.id),className:"bg-white/90 backdrop-blur-sm border border-rose-100 rounded-xl p-4 hover:shadow-lg transition-all duration-200 cursor-pointer active:scale-95",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:"👤"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h4",{className:"font-bold text-gray-900 text-base truncate",children:["Customer #",((K=D.customer_id)==null?void 0:K.slice(0,8))||"Unknown"]}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:D.subject||"General Inquiry"})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${R(D.status||"open")}`,children:P(D.status||"open")})]}),o.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:"Last message preview..."}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Kl,{className:"h-3 w-3"}),new Date(D.created_at).toLocaleDateString()]})}),(()=>{const $=M(D);return $.isOverdue?o.jsxs("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-bold",children:["🚨 ",$.timeLeft]}):o.jsxs("span",{className:"text-gray-500 text-xs",children:["⏱️ ",$.timeLeft]})})()]})]})]})},D.id)})})})]}):o.jsx("div",{className:"w-full flex flex-col",children:e?o.jsx(UT,{conversationId:e,messages:g,loading:m,onSendMessage:T,onAssignToSelf:()=>k(e),onStatusUpdate:D=>O(e,D),isMobile:!0}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ti,{className:"h-10 w-10 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"Select a conversation"}),o.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation to start chatting"})]})})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"w-1/3 bg-white/80 backdrop-blur-sm border-r border-rose-100 dark:border-rose-800/30 flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"🔍 Search conversations...",value:n,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Uf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),o.jsxs("select",{value:i,onChange:D=>s(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200",children:[o.jsx("option",{value:"all",children:"📋 All Status"}),o.jsx("option",{value:"open",children:"🟡 Open"}),o.jsx("option",{value:"assigned",children:"🔵 Assigned"}),o.jsx("option",{value:"in_progress",children:"🟣 In Progress"}),o.jsx("option",{value:"waiting_customer",children:"🟠 Waiting for Customer"}),o.jsx("option",{value:"escalated",children:"🔴 Escalated"}),o.jsx("option",{value:"follow_up",children:"🔄 Follow-up Required"}),o.jsx("option",{value:"resolved",children:"🟢 Resolved"}),o.jsx("option",{value:"closed",children:"⚫ Closed"})]}),o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),o.jsx("p",{className:"text-rose-600 font-medium",children:"✨ Loading conversations..."})]}):A.length===0?o.jsxs("div",{className:"p-6 text-center text-rose-600",children:[o.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-2xl",children:"💬"})}),o.jsx("p",{className:"font-medium",children:"No conversations found"}),o.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting your search or filters"})]}):o.jsx("div",{className:"space-y-1 p-2",children:A.map(D=>{var K;return o.jsx("div",{onClick:()=>r(D.id),className:`p-4 border-b border-rose-100/50 cursor-pointer transition-all duration-300 hover:bg-gradient-to-r hover:from-rose-50 hover:to-pink-50 hover:shadow-md group relative ${e===D.id?"bg-gradient-to-r from-rose-100 to-pink-100 border-rose-300 shadow-lg":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",children:"👤"}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-200 ${R(D.status||"open")}`,children:[I(D.status||"open"),P(D.status||"open")," ",(D.status||"open").toUpperCase()]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("h4",{className:"font-bold text-gray-900 truncate group-hover:text-rose-700 transition-colors text-sm",children:["👤 Customer #",((K=D.customer_id)==null?void 0:K.slice(0,8))||"Unknown"]}),o.jsxs("p",{className:"text-xs text-gray-600 truncate mt-1",children:["📋 ",D.subject||"General Support Inquiry"]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(Kl,{className:"h-3 w-3"}),o.jsx("span",{children:new Date(D.created_at).toLocaleDateString()})]}),(()=>{const $=M(D);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${$.isOverdue?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:["⏱️ ",$.timeLeft]}),o.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[o.jsx("button",{onClick:q=>{q.stopPropagation(),k(D.id)},className:"p-1 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded text-xs",title:"Assign to me",children:"👤"}),o.jsx("button",{onClick:q=>{q.stopPropagation(),O(D.id,"escalated")},className:"p-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-xs",title:"Escalate",children:"🚨"}),o.jsx("button",{onClick:q=>{q.stopPropagation(),O(D.id,"resolved")},className:"p-1 bg-green-100 hover:bg-green-200 text-green-600 rounded text-xs",title:"Mark Resolved",children:"✅"})]})]})})()]})]})]})},D.id)})})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:e?o.jsx(UT,{conversationId:e,messages:g,loading:m,onSendMessage:T,onAssignToSelf:()=>k(e),onStatusUpdate:D=>O(e,D),isMobile:!1}):o.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ti,{className:"h-10 w-10 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"💬 Select a conversation"}),o.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation from the list to start providing amazing support!"})]})})})]})})]})}function UT({conversationId:t,messages:e,loading:r,onSendMessage:n,onAssignToSelf:a,onStatusUpdate:i,isMobile:s=!1}){const[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,p]=N.useState(!1),[h,g]=N.useState(""),[m,v]=N.useState(!1),x=X.useRef(null),j=[{id:1,title:"👋 Welcome",content:"Hello! Thank you for contacting us. How can I help you today?"},{id:2,title:"🔍 Investigating",content:"Thank you for bringing this to our attention. I'm looking into this right away and will get back to you shortly."},{id:3,title:"✅ Resolved",content:"Great news! I've resolved your issue. Please let me know if you need any further assistance."},{id:4,title:"📞 Follow-up",content:"I'll follow up with you within 24 hours to ensure everything is working perfectly."},{id:5,title:"🙏 Thank You",content:"Thank you for your patience and for choosing our service. Is there anything else I can help you with?"},{id:6,title:"📋 More Info",content:"To better assist you, could you please provide more details about the issue you're experiencing?"}];N.useEffect(()=>{var _;(_=x.current)==null||_.scrollIntoView({behavior:"smooth"})},[e]),N.useEffect(()=>{if(l.length>0){v(!0);const _=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(_)}else v(!1)},[l]);const b=_=>{_.preventDefault(),l.trim()&&(n(l.trim()),c(""))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-rose-400 via-pink-400 to-rose-500 text-white shadow-lg",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),o.jsx("div",{className:`relative ${s?"px-4 py-3":"px-6 py-4"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(ti,{className:"h-3 w-3 md:h-4 md:w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-sm md:text-lg",children:"💬 Conversation"}),o.jsxs("p",{className:"text-rose-100 text-xs md:text-sm",children:["#",t.slice(0,8)]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsxs("button",{onClick:a,className:`flex items-center gap-1 md:gap-2 ${s?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm text-white rounded-lg md:rounded-xl hover:bg-white/30 transition-all duration-200 font-medium shadow-lg border border-white/20`,children:[o.jsx(Cq,{className:"h-3 w-3 md:h-4 md:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"👤 Assign"}),o.jsx("span",{className:"sm:hidden",children:"👤"})]}),o.jsxs("select",{onChange:_=>i(_.target.value),className:`${s?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg md:rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 hover:bg-white/30 transition-all duration-200 font-medium`,style:{backgroundImage:"none"},children:[o.jsx("option",{value:"",className:"text-gray-800",children:"🔄 Status"}),o.jsx("option",{value:"assigned",className:"text-gray-800",children:"🔵 Assigned"}),o.jsx("option",{value:"in_progress",className:"text-gray-800",children:"🟣 In Progress"}),o.jsx("option",{value:"waiting_customer",className:"text-gray-800",children:"🟠 Waiting"}),o.jsx("option",{value:"escalated",className:"text-gray-800",children:"🔴 Escalated"}),o.jsx("option",{value:"follow_up",className:"text-gray-800",children:"🔄 Follow-up"}),o.jsx("option",{value:"resolved",className:"text-gray-800",children:"🟢 Resolved"}),o.jsx("option",{value:"closed",className:"text-gray-800",children:"⚫ Closed"})]})]})]})})]}),o.jsxs("div",{className:`flex-1 overflow-y-auto space-y-4 bg-gradient-to-b from-rose-50/50 via-white to-pink-50/30 ${s?"px-3 py-3":"px-6 py-6"}`,children:[r?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-4 border-rose-200 border-t-rose-500 mb-4"}),o.jsx("p",{className:"text-rose-600 font-medium text-sm md:text-base",children:"✨ Loading messages..."})]}):e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-rose-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(ti,{className:"h-6 w-6 md:h-8 md:w-8 text-rose-400"})}),o.jsx("p",{className:"text-rose-600 font-medium mb-2 text-sm md:text-base",children:"💬 No messages yet"}),o.jsx("p",{className:"text-rose-500 text-xs md:text-sm",children:"Start the conversation below!"})]}):o.jsx(o.Fragment,{children:e.map(_=>o.jsx("div",{className:`flex ${_.sender_id===t?"justify-start":"justify-end"}`,children:o.jsxs("div",{className:`${s?"max-w-[85%]":"max-w-[70%]"} group ${_.sender_id===t?"flex items-start gap-2 md:gap-3":"flex items-start gap-2 md:gap-3 flex-row-reverse"}`,children:[o.jsx("div",{className:`${s?"w-8 h-8":"w-10 h-10"} rounded-full flex items-center justify-center text-white font-bold text-xs md:text-sm shadow-lg flex-shrink-0 ${_.sender_id===t?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-gradient-to-br from-rose-400 to-pink-500"}`,children:_.sender_id===t?"👤":"👨‍💼"}),o.jsxs("div",{className:`${s?"px-3 py-2":"px-4 py-3"} rounded-2xl shadow-lg border transition-all duration-200 group-hover:shadow-xl ${_.sender_id===t?"bg-white border-gray-200 text-gray-900 rounded-tl-sm":"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-400 rounded-tr-sm"}`,children:[o.jsx("p",{className:`${s?"text-xs":"text-sm"} font-medium leading-relaxed`,children:_.content}),o.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${_.sender_id===t?"text-gray-500":"text-rose-100"}`,children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kl,{className:"h-2 w-2 md:h-3 md:w-3"}),new Date(_.created_at).toLocaleTimeString()]}),_.sender_id!==t&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-rose-200",children:"✓✓"}),o.jsx("span",{className:"text-rose-200 hidden sm:inline",children:"Read"})]})]})]})]})},_.id))}),o.jsx("div",{ref:x})]}),o.jsxs("div",{className:`relative bg-gradient-to-r from-rose-50 to-pink-50 border-t border-rose-200 space-y-3 md:space-y-4 ${s?"px-3 py-3":"px-6 py-4"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-50/70 to-pink-50/70 backdrop-blur-sm"}),o.jsxs("div",{className:"relative flex items-center gap-1 md:gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-1 md:gap-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:["📝 ",o.jsx("span",{className:"hidden sm:inline",children:"Templates"})]}),o.jsxs("button",{onClick:()=>p(!f),className:`flex items-center gap-1 md:gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:["📋 ",o.jsx("span",{className:"hidden sm:inline",children:"Notes"})]}),o.jsxs("button",{onClick:()=>{},className:`flex items-center gap-1 md:gap-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg md:rounded-xl font-medium transition-colors ${s?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:["📎 ",o.jsx("span",{className:"hidden sm:inline",children:"Attach"})]})]}),u&&o.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-rose-200 shadow-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:"🚀 Quick Reply Templates"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:j.map(_=>o.jsxs("button",{onClick:()=>{c(_.content),d(!1)},className:"text-left p-2 md:p-3 bg-gray-50 hover:bg-rose-50 rounded-lg text-xs transition-colors border border-gray-200 hover:border-rose-300",children:[o.jsx("div",{className:"font-medium text-gray-800",children:_.title}),o.jsxs("div",{className:"text-gray-500 mt-1 truncate",children:[_.content.slice(0,s?30:40),"..."]})]},_.id))})]}),f&&o.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-purple-200 shadow-lg",children:[o.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:"📋 Internal Team Notes"}),o.jsx("textarea",{value:h,onChange:_=>g(_.target.value),placeholder:"Add internal notes for your team...",rows:s?2:3,className:"w-full px-3 py-2 border border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 text-xs md:text-sm text-gray-800"}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-xs text-purple-600",children:"💡 Team only"}),o.jsx("button",{onClick:()=>{g(""),p(!1)},className:"px-3 py-1 bg-purple-500 text-white rounded-lg text-xs font-medium hover:bg-purple-600 transition-colors",children:"Save"})]})]}),o.jsxs("form",{onSubmit:b,className:"relative flex gap-2 md:gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("textarea",{value:l,onChange:_=>c(_.target.value),placeholder:"💬 Type your reply...",rows:s?1:2,className:`w-full border-2 border-rose-300 rounded-xl md:rounded-2xl focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-rose-400 resize-none bg-white shadow-md font-medium transition-all duration-200 hover:border-rose-400 hover:shadow-lg text-gray-900 placeholder:text-rose-500 ${s?"px-3 py-2 text-sm":"px-4 py-3 text-base"}`,style:{color:"#111827"}}),!s&&o.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-rose-600 font-medium bg-white/80 px-2 py-1 rounded-lg",children:"✨ Shift + Enter for new line"})]}),o.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[o.jsxs("button",{type:"submit",disabled:!l.trim(),className:`bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-xl md:rounded-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-1 md:gap-2 ${s?"px-3 py-2 text-xs":"px-6 py-3 text-sm"}`,children:[o.jsx(bI,{className:"h-3 w-3 md:h-4 md:w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Send"}),o.jsx("span",{className:"sm:hidden",children:"Send"})]}),!s&&o.jsx("div",{className:"text-xs text-gray-500 text-center",children:"📖 Read receipts: ON"})]})]})]})]})}var zbe=Object.defineProperty,Wbe=(t,e,r)=>e in t?zbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mr=(t,e,r)=>Wbe(t,typeof e!="symbol"?e+"":e,r);const Xg={x:0,y:0,width:0,height:0,unit:"px"},uu=(t,e,r)=>Math.min(Math.max(t,e),r),Hbe=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),zT=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function _f(t,e,r,n){const a=rs(t,r,n);return t.width&&(a.height=a.width/e),t.height&&(a.width=a.height*e),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/e),t.unit==="%"?Do(a,r,n):a}function jf(t,e,r){const n=rs(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?Do(n,e,r):n}function Do(t,e,r){return t.unit==="%"?{...Xg,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function rs(t,e,r){return t.unit?t.unit==="px"?{...Xg,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...Xg,...t,unit:"px"}}function WT(t,e,r,n,a,i=0,s=0,l=n,c=a){const u={...t};let d=Math.min(i,n),f=Math.min(s,a),p=Math.min(l,n),h=Math.min(c,a);e&&(e>1?(d=s?s*e:d,f=d/e,p=l*e):(f=i?i/e:f,d=f*e,h=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=n-(u.x+u.width);g<0&&(u.x=Math.min(u.x,n-d),u.width+=g);const m=a-(u.y+u.height);if(m<0&&(u.y=Math.min(u.y,a-f),u.height+=m),u.width<d&&((r==="sw"||r=="nw")&&(u.x-=d-u.width),u.width=d),u.height<f&&((r==="nw"||r=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((r==="sw"||r=="nw")&&(u.x-=p-u.width),u.width=p),u.height>h&&((r==="nw"||r=="ne")&&(u.y-=h-u.height),u.height=h),e){const v=u.width/u.height;if(v<e){const x=Math.max(u.width/e,f);(r==="nw"||r=="ne")&&(u.y-=x-u.height),u.height=x}else if(v>e){const x=Math.max(u.height*e,d);(r==="sw"||r=="nw")&&(u.x-=x-u.width),u.width=x}}return u}function Vbe(t,e,r,n){const a={...t};return e==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),e==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const du={capture:!0,passive:!1};let Gbe=0;const Lo=class _i extends N.PureComponent{constructor(){super(...arguments),Mr(this,"docMoveBound",!1),Mr(this,"mouseDownOnCrop",!1),Mr(this,"dragStarted",!1),Mr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Mr(this,"componentRef",N.createRef()),Mr(this,"mediaRef",N.createRef()),Mr(this,"resizeObserver"),Mr(this,"initChangeCalled",!1),Mr(this,"instanceId",`rc-${Gbe++}`),Mr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Mr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const i=rs(r,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,l=!!s;let c=e.clientX,u=e.clientY,d=i.x,f=i.y;if(s){const p=e.clientX-a.x,h=e.clientY-a.y;let g=0,m=0;s==="ne"||s=="e"?(g=p-(i.x+i.width),m=h-i.y,d=i.x,f=i.y+i.height):s==="se"||s==="s"?(g=p-(i.x+i.width),m=h-(i.y+i.height),d=i.x,f=i.y):s==="sw"||s=="w"?(g=p-i.x,m=h-(i.y+i.height),d=i.x+i.width,f=i.y):(s==="nw"||s=="n")&&(g=p-i.x,m=h-i.y,d=i.x+i.width,f=i.y+i.height),c=d+a.x+g,u=f+a.y+m}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Mr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:a,keepSelection:i,onChange:s}=this.props,l=this.getBox();if(n||a||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-l.x,u=e.clientY-l.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(rs(d,l.width,l.height),Do(d,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Mr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:a,onDragStart:i}=this.props,s=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),zT(r,c)||a(rs(c,s.width,s.height),Do(c,s.width,s.height))}),Mr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const s=e.key;let l=!1;if(!r)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?_i.nudgeStepLarge:e.shiftKey?_i.nudgeStepMedium:_i.nudgeStep;if(s==="ArrowLeft"?(u.x-=d,l=!0):s==="ArrowRight"?(u.x+=d,l=!0):s==="ArrowUp"?(u.y-=d,l=!0):s==="ArrowDown"&&(u.y+=d,l=!0),l){e.cancelable&&e.preventDefault(),u.x=uu(u.x,0,c.width-u.width),u.y=uu(u.y,0,c.height-u.height);const f=rs(u,c.width,c.height),p=Do(u,c.width,c.height);a(f,p),i&&i(f,p)}}),Mr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:s=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:f}=this.props,p=this.getBox();if(i||!a)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?_i.nudgeStepLarge:e.shiftKey?_i.nudgeStepMedium:_i.nudgeStep,g=rs(a,p.width,p.height),m=Vbe(g,e.key,h,r),v=WT(m,n,r,p.width,p.height,s,l,c,u);if(!zT(a,v)){const x=Do(v,p.width,p.height);d(v,x),f&&f(v,x)}}),Mr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),a&&a(rs(r,s.width,s.height),Do(r,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Mr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:a,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:a,height:i}=this.getBox();a&&i&&n(rs(r,a,i),Do(r,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,du),this.document.addEventListener("pointerup",this.onDocPointerDone,du),this.document.addEventListener("pointercancel",this.onDocPointerDone,du),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,du),this.document.removeEventListener("pointerup",this.onDocPointerDone,du),this.document.removeEventListener("pointercancel",this.onDocPointerDone,du),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),a=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=uu(e.startCropX+a,0,r.width-n.width),n.y=uu(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,a){const{evData:i}=this,s=i.clientX-e.x,l=i.clientY-e.y;let c;a&&r?c=r==="nw"||r==="n"||r==="ne":c=l<i.startCropY;let u;return n&&r?u=r==="nw"||r==="w"||r==="sw":u=s<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,r,n=0,a=0){const i=Math.min(n,e.width),s=Math.min(a,e.height);return!r||!i&&!s?[i,s]:r>1?i?[i,i/r]:[s*r,s]:s?[s*r,s]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[s,l]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,e.ord,s,l),d=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(s&&d==="nw"||d==="w"||d==="sw")&&(f=Math.min(f,-s)),(l&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-l));const h={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(h.x=e.startCropX,h.width=f,r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY-h.height)):u==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=f,r?h.height=h.width/r:h.height=p):u==="sw"?(h.x=e.startCropX+f,h.y=e.startCropY,h.width=Math.abs(f),r?h.height=h.width/r:h.height=p):u==="nw"&&(h.x=e.startCropX+f,h.width=Math.abs(f),r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY+p));const g=WT(h,r,u,i.width,i.height,s,l,n,a);return r||_i.xyOrds.indexOf(d)>-1?c=g:_i.xOrds.indexOf(d)>-1?(c.x=g.x,c.width=g.width):_i.yOrds.indexOf(d)>-1&&(c.y=g.y,c.height=g.height),c.x=uu(c.x,0,i.width-c.width),c.y=uu(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:e=_i.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:s}=this.props,l=this.getCropStyle();if(s)return X.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&X.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},X.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),X.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),X.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),X.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),X.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&X.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&X.createElement(X.Fragment,null,X.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),X.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...Xg,...this.props.crop||{}};return rs(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:a,crop:i,disabled:s,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:f}=this.state,p=i?this.renderCropSelection():null,h=Hbe("ReactCrop",a,d&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return X.createElement("div",{ref:this.componentRef,className:h,style:c},X.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?X.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},X.createElement("defs",null,X.createElement("mask",{id:`hole-${this.instanceId}`},X.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?X.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):X.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),X.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Mr(Lo,"xOrds",["e","w"]),Mr(Lo,"yOrds",["n","s"]),Mr(Lo,"xyOrds",["nw","ne","se","sw"]),Mr(Lo,"nudgeStep",1),Mr(Lo,"nudgeStepMedium",10),Mr(Lo,"nudgeStepLarge",100),Mr(Lo,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Kbe=Lo;const Ybe=Math.PI/180;async function Xbe(t,e,r,n=1,a=0){const i=e.getContext("2d");if(!i)throw new Error("No 2d context");const s=t.naturalWidth/t.width,l=t.naturalHeight/t.height,c=window.devicePixelRatio;e.width=Math.floor(r.width*s*c),e.height=Math.floor(r.height*l*c),i.scale(c,c),i.imageSmoothingQuality="high";const u=r.x*s,d=r.y*l,f=a*Ybe,p=t.naturalWidth/2,h=t.naturalHeight/2;i.save(),i.translate(-u,-d),i.translate(p,h),i.rotate(f),i.scale(n,n),i.translate(-p,-h),i.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),i.restore()}class Zbe{constructor(e,r){Ht(this,"imageStorageDB",null);this.initImageStorage()}async initImageStorage(){const e=indexedDB.open("QwenImageStorage",1);e.onupgradeneeded=r=>{const n=r.target.result;if(!n.objectStoreNames.contains("processedImages")){const a=n.createObjectStore("processedImages",{keyPath:"id"});a.createIndex("originalImageId","originalImageId",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}},e.onsuccess=r=>{this.imageStorageDB=r.target.result,console.log("🗄️ Image storage database initialized")},e.onerror=r=>{console.error("❌ Failed to initialize image storage:",r)}}generateImageId(e){return`orig_${e.size}_${Date.now()}`}async saveImageLocally(e,r,n,a,i){if(!this.imageStorageDB)throw new Error("Image storage not initialized");const s=URL.createObjectURL(a),l={id:e,originalImageId:r,editType:n,blob:a,url:s,timestamp:Date.now(),metadata:i},u=this.imageStorageDB.transaction(["processedImages"],"readwrite").objectStore("processedImages");return await new Promise((d,f)=>{const p=u.put(l);p.onsuccess=()=>d(),p.onerror=()=>f(p.error)}),console.log(`💾 Image saved locally: ${e}`),s}async saveImageToSupabase(e,r){const n=`ai-processed/${r}.png`,{data:a,error:i}=await Ee.storage.from("product-images").upload(n,e,{contentType:"image/png",upsert:!0});if(i)throw console.error("❌ Failed to save image to Supabase:",i),i;const{data:{publicUrl:s}}=Ee.storage.from("product-images").getPublicUrl(n);return console.log(`☁️ Image saved to Supabase: ${s}`),s}async loadStoredImage(e){if(!this.imageStorageDB)return null;const n=this.imageStorageDB.transaction(["processedImages"],"readonly").objectStore("processedImages");return new Promise(a=>{const i=n.get(e);i.onsuccess=()=>{const s=i.result;s&&(!s.url||!s.url.startsWith("blob:"))&&(s.url=URL.createObjectURL(s.blob)),a(s||null)},i.onerror=()=>a(null)})}async getStoredImagesForOriginal(e){if(!this.imageStorageDB)return[];const a=this.imageStorageDB.transaction(["processedImages"],"readonly").objectStore("processedImages").index("originalImageId");return new Promise(i=>{const s=a.getAll(e);s.onsuccess=()=>{const l=s.result||[];l.forEach(c=>{(!c.url||!c.url.startsWith("blob:"))&&(c.url=URL.createObjectURL(c.blob))}),i(l)},s.onerror=()=>i([])})}async blobToBase64(e){return new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(e)})}getPromptForEditType(e,r){const{color:n="natural",shape:a="original",scenario:i="general"}=r||{};switch(e){case"remove_bg":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Isolate only the main subject with a completely transparent background. Apply HDR enhancement: improve dynamic range, recover shadow/highlight details, and boost clarity. Output must be a PNG with pure transparency and no background remnants.";case"replace_bg_white":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Extract the main subject and place it on a pure white background (#FFFFFF)—no textures, gradients, or noise. Apply HDR enhancement: improve contrast, recover details, and ensure professional color fidelity. Maintain original lighting and proportions.";case"replace_bg_black":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Extract the main subject and place it on a pure black background (#000000)—no textures, gradients, or noise. Apply HDR enhancement: enhance tonal range, sharpen details, and preserve natural lighting. Keep subject colors accurate and vivid.";case"replace_bg_transparent":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Isolate only the main subject with a completely transparent background. Apply HDR enhancement: improve dynamic range, recover shadow/highlight details, and boost clarity. Output must be a PNG with pure transparency and no background remnants.";case"replace_bg_gradient":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Place the main subject on a smooth, professional gradient background using complementary colors that enhance the subject. Apply HDR enhancement: enrich contrast, recover details in all tonal ranges, and ensure the subject remains crisp and naturally lit.";case"replace_bg_nature":return`Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Seamlessly integrate the main subject into a realistic, high-fidelity natural outdoor environment (${i}) that complements its form, color, and context. Apply professional HDR enhancement: balance lighting between subject and background, recover ambient details in foliage/sky/terrain, and ensure cohesive depth, atmosphere, and natural shadow integration. The result should look like a professionally photographed scene—not a composite.`;case"replace_bg_studio":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Place the main subject in a professional photography studio setting with soft, directional lighting and a seamless backdrop. Apply HDR enhancement: maximize detail, ensure perfect exposure, and produce a high-end commercial product photo with rich tonal depth.";case"enhance_quality":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Apply comprehensive HDR enhancement: significantly improve sharpness, dynamic range, color balance, contrast, and micro-detail recovery. Produce a polished, professional-grade image while preserving original composition and intent.";case"enhance_colors":return`Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Enhance colors with increased saturation, improved contrast, and refined tonal harmony in a (${n} style). Apply HDR processing to recover highlight/shadow details and ensure vibrant yet natural-looking results. Maintain original composition.`;case"enhance_sharpness":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Apply aggressive yet natural-looking sharpening with HDR detail recovery: enhance edges, reduce blur, amplify texture clarity, and restore fine details without introducing halos or noise.";case"enhance_hdr":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Apply advanced HDR processing: dramatically expand dynamic range, reveal hidden details in shadows and highlights, balance local contrast, and produce a rich, cinematic, professional-quality image with depth and realism.";case"effect_vintage":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Apply a vintage film effect with subtle color shifts, authentic film grain, and soft contrast—but first apply HDR enhancement to preserve detail and clarity beneath the nostalgic aesthetic.";case"effect_bw":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Convert to professional black and white with HDR tonal range: rich blacks, clean whites, nuanced midtones, and enhanced texture detail. Apply artistic contrast for a timeless monochrome photograph.";case"effect_sepia":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Apply a warm sepia tone with HDR-enhanced detail: preserve texture and depth in shadows/highlights while giving a nostalgic, historical photograph appearance with balanced warmth and clarity.";case"effect_cartoon":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Transform into a stylized cartoon: simplify shapes, bold outlines, vibrant HDR-enhanced colors, and smooth gradients—while retaining recognizable subject features and expressive clarity.";case"transform_square":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Recompose the main subject into a perfect square format with balanced framing. Apply HDR enhancement to ensure detail, contrast, and color quality remain high after cropping or repositioning.";case"transform_portrait":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Recompose into a vertical portrait orientation with professional framing. Apply HDR enhancement to maintain detail, lighting consistency, and visual impact in the new aspect ratio.";case"transform_landscape":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Recompose into a horizontal landscape orientation with balanced composition. Apply HDR enhancement to preserve dynamic range, sharpness, and color fidelity across the wider frame.";case"transform_circle":return"Clean the image by removing any UI elements, text, or artifacts (common in screenshots). Crop the main subject into a perfect circle with centered, balanced framing. Apply HDR enhancement to retain detail and contrast within the circular bounds. Output should have a transparent or neutral background as appropriate.";default:return"Edit this image appropriately and return the result."}}async urlToBlob(e){return new Promise((r,n)=>{const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{const i=document.createElement("canvas");i.width=a.naturalWidth,i.height=a.naturalHeight;const s=i.getContext("2d");if(!s){n(new Error("Failed to get canvas context"));return}s.drawImage(a,0,0),i.toBlob(l=>{l?r(l):n(new Error("Failed to create blob from canvas"))},"image/png")},a.onerror=()=>{n(new Error(`Failed to load image from URL: ${e}`))},a.src=e})}async editImage(e){try{const n=(await this.blobToBase64(e.image)).split(",")[1],a=this.getPromptForEditType(e.edit_type,e.options);let i=null;e.reference_image&&(i=(await this.blobToBase64(e.reference_image)).split(",")[1]);let s,l;const c=new Promise((f,p)=>{s=f,l=p}),u=async f=>{const{type:p,...h}=f.data;if(p==="AI_REQUEST_SUCCESS"&&h.imageBlob){console.log("✅ AI request completed via service worker"),navigator.serviceWorker.removeEventListener("message",u);const g=`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,m=this.generateImageId(e.image);try{const v=await this.saveImageLocally(g,m,e.edit_type,h.imageBlob),x=await this.saveImageToSupabase(h.imageBlob,g);console.log("✅ Image processed via service worker and saved successfully"),s({success:!0,edited_image:h.imageBlob,imageUrl:x,imageId:g})}catch(v){console.error("⚠️ Image processing via service worker succeeded but saving failed:",v),s({success:!0,edited_image:h.imageBlob,error:`Image processed but saving failed: ${v instanceof Error?v.message:"Unknown save error"}`})}}else p==="AI_REQUEST_FAILED"&&h.maxRetriesExceeded&&(console.log("❌ AI request failed permanently via service worker:",h.error),navigator.serviceWorker.removeEventListener("message",u),l(new Error(h.error||"AI processing failed after retries")))};navigator.serviceWorker.addEventListener("message",u);const d=new Promise((f,p)=>{setTimeout(()=>{navigator.serviceWorker.removeEventListener("message",u),p(new Error("AI processing timeout - request may still be queued"))},3e5)});try{const{data:f,error:p}=await Ee.functions.invoke("qwen-proxy",{body:{imageBase64:n,prompt:a,editType:e.edit_type,...i&&{referenceImageBase64:i}}});if(p)throw new Error(p.message||"Supabase function error");if(!f)throw new Error("No response from Edge Function");const h=f;if(console.log("Supabase function response:",h),h.error)throw new Error(h.error);let g=null,m=null;if(h.output&&h.output.results&&h.output.results[0]){const b=h.output.results[0];if(console.log("Result item:",b),b.imageData)g=b.imageData,console.log("Received base64 image data from Edge Function");else if(b.url)m=b.url;else if(typeof b=="string"&&b.startsWith("http"))m=b;else throw typeof b=="string"?(console.log("API returned text description instead of image:",b),new Error(`API returned text description: ${b.substring(0,200)}...`)):(console.log("Unexpected result format:",JSON.stringify(b,null,2)),new Error(`Unexpected API response format: ${JSON.stringify(b)}`))}if(!g&&!m)throw console.log("Full API response for debugging:",JSON.stringify(h,null,2)),new Error("No image data or URL found in API response.");let v;if(g){const b=g.split(",")[1],_=atob(b),S=new Uint8Array(_.length);for(let A=0;A<_.length;A++)S[A]=_.charCodeAt(A);v=new Blob([S],{type:"image/png"}),console.log("Converted base64 to blob successfully")}else console.log("Loading image from URL via canvas (fallback):",m),v=await this.urlToBlob(m);navigator.serviceWorker.removeEventListener("message",u);const x=`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,j=this.generateImageId(e.image);try{const b=await this.saveImageLocally(x,j,e.edit_type,v),_=await this.saveImageToSupabase(v,x);return console.log("✅ Image processed and saved successfully"),{success:!0,edited_image:v,imageUrl:_,imageId:x}}catch(b){return console.error("⚠️ Image processing succeeded but saving failed:",b),{success:!0,edited_image:v,error:`Image processed but saving failed: ${b instanceof Error?b.message:"Unknown save error"}`}}}catch{if(console.log("Network error occurred, checking if request was queued..."),await new Promise(h=>setTimeout(h,200)),!navigator.onLine)return console.log("Offline detected, request queued for later retry"),navigator.serviceWorker.removeEventListener("message",u),{success:!1,error:"Request queued for retry when online",queued:!0,networkStatus:"offline"};console.log("Online but request failed - waiting for service worker retry...");try{return await Promise.race([c,d])}catch{return console.log("Request timed out, likely queued for retry"),navigator.serviceWorker.removeEventListener("message",u),{success:!1,error:"Request queued for retry",queued:!0,networkStatus:"online"}}}}catch(r){return console.error("Qwen API error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}}function Jbe(t,e){return new Zbe(t,e)}class Qbe{constructor(){Ht(this,"registration",null);Ht(this,"pushSubscription",null);Ht(this,"aiCallbacks",{});Ht(this,"aiStatus",{isOnline:navigator.onLine,queueLength:0,isProcessing:!1})}async register(){if(!("serviceWorker"in navigator))return console.warn("Service workers are not supported"),!1;try{return this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("Service worker registered successfully:",this.registration),this.setupAIMessageHandling(),this.registration.addEventListener("updatefound",()=>{var r;const e=(r=this.registration)==null?void 0:r.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New service worker available"),this.showUpdateAvailableNotification())})}),!0}catch(e){return console.error("Service worker registration failed:",e),!1}}setAICallbacks(e){this.aiCallbacks=e}setupAIMessageHandling(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",e=>{var a,i,s,l,c,u,d,f,p,h,g,m,v,x,j,b;const{type:r,...n}=e.data;switch(r){case"NETWORK_STATUS_CHANGE":this.aiStatus.isOnline=n.status==="online",console.log(`📡 Network status: ${n.status}`),(i=(a=this.aiCallbacks).onNetworkStatusChange)==null||i.call(a,this.aiStatus.isOnline);break;case"AI_REQUEST_QUEUED":this.aiStatus.queueLength=n.queueLength,console.log(`📋 AI request queued: ${n.requestId}, Queue length: ${n.queueLength}`),(l=(s=this.aiCallbacks).onRequestQueued)==null||l.call(s,n.requestId,n.error),(u=(c=this.aiCallbacks).onQueueUpdate)==null||u.call(c,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;case"AI_REQUEST_SUCCESS":this.aiStatus.queueLength=n.queueLength,console.log(`✅ AI request successful: ${n.requestId}`),(f=(d=this.aiCallbacks).onRequestSuccess)==null||f.call(d,n.requestId,n.imageBlob),(h=(p=this.aiCallbacks).onQueueUpdate)==null||h.call(p,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;case"AI_REQUEST_FAILED":console.log(`❌ AI request failed: ${n.requestId}, Error: ${n.error}`),(m=(g=this.aiCallbacks).onRequestFailed)==null||m.call(g,n.requestId,n.error,n.maxRetriesExceeded);break;case"AI_REQUEST_QUEUE_CLEARED":this.aiStatus.queueLength=n.queueLength,console.log(`🗑️ AI queue cleared, new length: ${n.queueLength}`),(x=(v=this.aiCallbacks).onQueueUpdate)==null||x.call(v,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;case"QUEUE_STATUS":this.aiStatus.queueLength=n.queueLength,this.aiStatus.isProcessing=n.isProcessing,(b=(j=this.aiCallbacks).onQueueUpdate)==null||b.call(j,this.aiStatus.queueLength,this.aiStatus.isProcessing);break;default:console.log("Unknown service worker message:",r,n)}})}async getAIStatus(){var e;if(!((e=this.registration)!=null&&e.active))return this.aiStatus;try{const r=await this.sendMessageToSW("GET_QUEUE_STATUS");r&&(this.aiStatus.queueLength=r.queueLength,this.aiStatus.isProcessing=r.isProcessing);const n=await this.sendMessageToSW("GET_NETWORK_STATUS");n&&(this.aiStatus.isOnline=n.status==="online")}catch(r){console.warn("Failed to get AI status from service worker:",r)}return this.aiStatus}async retryFailedRequests(){var e;if((e=this.registration)!=null&&e.active)try{await this.sendMessageToSW("RETRY_FAILED_REQUESTS"),console.log("🔄 Requested retry of failed AI requests")}catch(r){console.warn("Failed to retry requests:",r)}}async clearQueue(){var e,r,n;if((e=this.registration)!=null&&e.active)try{await this.sendMessageToSW("CLEAR_AI_QUEUE"),console.log("🗑️ Cleared AI request queue"),this.aiStatus.queueLength=0,(n=(r=this.aiCallbacks).onQueueUpdate)==null||n.call(r,0,this.aiStatus.isProcessing)}catch(a){console.warn("Failed to clear queue:",a)}}async sendMessageToSW(e,r){return new Promise((n,a)=>{var s;if(!((s=this.registration)!=null&&s.active)){a(new Error("No active service worker"));return}const i=new MessageChannel;i.port1.onmessage=l=>{n(l.data)},i.port1.onmessageerror=()=>{a(new Error("Message port error"))},setTimeout(()=>{a(new Error("Service worker message timeout"))},5e3),this.registration.active.postMessage({type:e,...r},[i.port2])})}async requestPushPermission(){if(!("Notification"in window))return console.warn("Push notifications are not supported"),!1;if(!this.registration)return console.error("Service worker not registered"),!1;try{const e=await Notification.requestPermission();return console.log("Notification permission:",e),e==="granted"?(await this.subscribeToPush(),!0):!1}catch(e){return console.error("Error requesting push permission:",e),!1}}async subscribeToPush(){if(!this.registration)return console.error("Service worker not registered"),null;try{if(this.pushSubscription=await this.registration.pushManager.getSubscription(),!this.pushSubscription){const r=await this.getVapidPublicKey();this.pushSubscription=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r})}const e={endpoint:this.pushSubscription.endpoint,keys:{p256dh:this.arrayBufferToBase64(this.pushSubscription.getKey("p256dh")),auth:this.arrayBufferToBase64(this.pushSubscription.getKey("auth"))}};return console.log("Push subscription created:",e),e}catch(e){return console.error("Error subscribing to push:",e),null}}async unsubscribeFromPush(){if(!this.pushSubscription)return!0;try{const e=await this.pushSubscription.unsubscribe();return e&&(this.pushSubscription=null,console.log("Push subscription removed")),e}catch(e){return console.error("Error unsubscribing from push:",e),!1}}async showNotification(e,r={}){if(!this.registration){console.error("Service worker not registered");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{await this.registration.showNotification(e,{icon:"/images/placeholder-product.svg",badge:"/images/placeholder-product.svg",...r})}catch(n){console.error("Error showing notification:",n)}}async getVapidPublicKey(){return""}urlBase64ToUint8Array(e){const r="=".repeat((4-e.length%4)%4),n=(e+r).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n),i=new Uint8Array(a.length);for(let s=0;s<a.length;++s)i[s]=a.charCodeAt(s);return i}arrayBufferToBase64(e){const r=new Uint8Array(e);let n="";return r.forEach(a=>n+=String.fromCharCode(a)),window.btoa(n)}showUpdateAvailableNotification(){this.showNotification("App Update Available",{body:"A new version of the app is available. Click to update.",tag:"app-update",requireInteraction:!0})}getNotificationPermission(){return"Notification"in window?Notification.permission:"denied"}isPushSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async getCurrentPushSubscription(){if(!this.registration)return null;try{return await this.registration.pushManager.getSubscription()}catch(e){return console.error("Error getting push subscription:",e),null}}}const $l=new Qbe;var KT;typeof window<"u"&&(window.addEventListener("load",()=>{$l.register()}),(KT=navigator.serviceWorker)==null||KT.addEventListener("message",t=>{var e;console.log("Message from service worker:",t.data),((e=t.data)==null?void 0:e.type)==="NOTIFICATION_CLICK"&&console.log("Notification clicked:",t.data.notificationId)}));async function e1e(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}a.width=n.naturalWidth,a.height=n.naturalHeight,i.drawImage(n,0,0);try{const s=a.toDataURL("image/png");e(s)}catch(s){r(s)}},n.onerror=()=>r(new Error("Failed to load image")),n.src=t})}function t1e({src:t,onCropComplete:e,onClose:r,aspect:n=3/4}){const a=N.useId(),[i,s]=N.useState(),[l,c]=N.useState(),[u,d]=N.useState(null),[f,p]=N.useState(!1),[h,g]=N.useState([]),[m,v]=N.useState(!1),[x,j]=N.useState(null),[b,_]=N.useState(null),[S,A]=N.useState("natural"),[k,O]=N.useState("original"),[T,R]=N.useState("general"),[P,I]=N.useState(null),[M,D]=N.useState(0),[K,$]=N.useState(!1),[q,F]=N.useState(!1),[ee,fe]=N.useState(navigator.onLine),[ue,B]=N.useState(0),[H,V]=N.useState(""),[W,Q]=N.useState(null),[re,oe]=N.useState(0),ne=N.useRef(null),de=N.useRef(null),pe=N.useRef(null),le=N.useRef(null),Ne=N.useRef(null);N.useEffect(()=>{t&&t.startsWith("http")?(p(!0),e1e(t).then(ve=>{d(ve),p(!1)}).catch(ve=>{console.error("Error converting image to data URL:",ve),d(t),p(!1)})):d(t)},[t]),N.useEffect(()=>{if(t){console.log("🖼️ ImageCropper Dialog Opened"),console.log("📱 Screen Dimensions:"),console.table({"Inner Width":window.innerWidth,"Inner Height":window.innerHeight,"Available Width":window.screen.availWidth,"Available Height":window.screen.availHeight});const ve=()=>{if(le.current){const Re=le.current.getBoundingClientRect(),lt=window.getComputedStyle(le.current);if(console.log("📐 Dialog Content Dimensions:"),console.table({"Actual Width":Math.round(Re.width),"Actual Height":Math.round(Re.height),"Top Position":Math.round(Re.top),"Left Position":Math.round(Re.left),"Right Position":Math.round(Re.right),"Bottom Position":Math.round(Re.bottom),"Computed Width":lt.width,"Computed Height":lt.height,"Computed Max Width":lt.maxWidth,"Computed Max Height":lt.maxHeight}),Ne.current){const mt=Ne.current.getBoundingClientRect(),gt=window.getComputedStyle(Ne.current);console.log("🎨 Right Column (AI Tools) Dimensions:"),console.table({Width:Math.round(mt.width),Height:Math.round(mt.height),"Scroll Height":Ne.current.scrollHeight,"Client Height":Ne.current.clientHeight,"Is Overflowing":Ne.current.scrollHeight>Ne.current.clientHeight,"Computed Width":gt.width,"Computed Height":gt.height})}const We=window.innerWidth,Qe=window.innerHeight;console.log("📊 Viewport Usage:"),console.table({"Width Usage":(Re.width/We*100).toFixed(1)+"%","Height Usage":(Re.height/Qe*100).toFixed(1)+"%","Available Width Left":Math.round(We-Re.width),"Available Height Left":Math.round(Qe-Re.height)})}};ve(),setTimeout(ve,100),setTimeout(ve,500),console.log("🤖 AI Tools Section should be rendered with",ze.length,"buttons across",new Set(ze.map(Re=>Re.category)).size,"categories")}},[t]);function ge(ve){const{width:Re,height:lt}=ve.currentTarget;if(console.log("🖼️ Image loaded with dimensions:",Re,"x",lt),n){const We=jf(_f({unit:"%",width:90},n,Re,lt),Re,lt);console.log("✂️ Setting initial crop area:",We),s(We)}}N.useEffect(()=>{s(void 0),c(void 0),_(null),g([])},[t]);const te=ve=>{const Re=Array.from(ve.target.files||[]);if(Re.length+h.length>3){alert("Maximum 3 reference images allowed");return}g(lt=>[...lt,...Re])},qe=ve=>{g(Re=>Re.filter((lt,We)=>We!==ve))},Ue=async(ve,Re=!1)=>{if(console.log(`🔧 AI Edit Button Pressed: ${ve} (Reference: ${Re})`),!u){console.warn("No image source available for AI editing");return}P&&(URL.revokeObjectURL(P),I(null)),Q(Date.now()),oe(0),v(!0);try{console.log("📡 Using Supabase Edge Function for Qwen API");const lt=Jbe("",""),We=await fetch(b||u).then(gt=>gt.blob());console.log(`🖼️ Image blob prepared: ${We.size} bytes`);const Qe={image:We,edit_type:ve,reference_image:Re&&h.length>0?h[0]:void 0,api_key:"",api_endpoint:"",options:{color:S,shape:k,scenario:T}};console.log(`📝 Sending request to Supabase Edge Function for ${ve}`);const mt=await lt.editImage(Qe);if(console.log("✅ Qwen API Response:",mt),mt.queued){console.log("📋 Request queued for retry - showing user feedback"),V(`Request queued for retry (${mt.networkStatus})`),setTimeout(()=>V(""),5e3),v(!1),Q(null),oe(0);return}if(!mt.success)throw new Error(mt.error||"AI processing failed");if(mt.edited_image){const gt=URL.createObjectURL(mt.edited_image);_(gt),d(gt),I(gt),s(void 0),c(void 0),console.log("🎉 Edit completed successfully - local preview ready")}}catch(lt){console.error("AI processing error:",lt);const We=lt instanceof Error?lt.message:"Unknown error";We.includes("InvalidApiKey")?alert("API Key error. Please check that DASHSCOPE_API_KEY is set in Supabase secrets."):We.includes("Failed to fetch")||We.includes("Network")?alert("Network error connecting to Supabase Edge Function. Check your connection."):We.includes("No image generated")?alert("The API returned a description instead of an image. Try a different edit type or check the prompt."):alert(`AI processing failed: ${We}`)}finally{v(!1),Q(null),oe(0)}},ze=[{id:"remove_bg",label:"Remove Background",icon:YU,description:"Remove image background",category:"background"},{id:"replace_bg_white",label:"White Background",icon:of,description:"White solid background",category:"background"},{id:"replace_bg_black",label:"Black Background",icon:of,description:"Black solid background",category:"background"},{id:"replace_bg_transparent",label:"Transparent",icon:of,description:"Transparent background",category:"background"},{id:"replace_bg_gradient",label:"Gradient Background",icon:of,description:"Beautiful gradient background",category:"background"},{id:"replace_bg_nature",label:"Nature Background",icon:vz,description:"Natural outdoor setting",category:"background"},{id:"replace_bg_studio",label:"Studio Background",icon:Rq,description:"Professional studio setup",category:"background"},{id:"replace_bg_custom",label:"Custom Background",icon:vy,description:"Use reference image",category:"background"},{id:"enhance_quality",label:"Enhance Quality",icon:Rm,description:"Improve sharpness & details",category:"enhancement"},{id:"enhance_colors",label:"Vivid Colors",icon:sv,description:"Make colors more vibrant",category:"enhancement"},{id:"enhance_sharpness",label:"Sharpen",icon:Iz,description:"Increase image sharpness",category:"enhancement"},{id:"enhance_hdr",label:"HDR Effect",icon:Wf,description:"High dynamic range look",category:"enhancement"},{id:"effect_vintage",label:"Vintage",icon:ca,description:"Retro film look",category:"effects"},{id:"effect_bw",label:"Black & White",icon:Em,description:"Classic monochrome",category:"effects"},{id:"effect_sepia",label:"Sepia",icon:Wf,description:"Warm brown tones",category:"effects"},{id:"effect_cartoon",label:"Cartoon",icon:qr,description:"Animated cartoon style",category:"effects"},{id:"transform_square",label:"Square Format",icon:of,description:"Convert to square",category:"transform"},{id:"transform_portrait",label:"Portrait",icon:vy,description:"Vertical composition",category:"transform"},{id:"transform_landscape",label:"Landscape",icon:RU,description:"Horizontal composition",category:"transform"},{id:"transform_circle",label:"Circular Crop",icon:D_,description:"Round composition",category:"transform"}];N.useEffect(()=>()=>{P&&URL.revokeObjectURL(P)},[P]),N.useEffect(()=>{if(!m||W===null){oe(0);return}const ve=()=>{oe(Math.max(0,Math.round((Date.now()-W)/1e3)))};ve();const Re=window.setInterval(ve,1e3);return()=>window.clearInterval(Re)},[m,W]),N.useEffect(()=>{(async()=>{await $l.register();const Re={onNetworkStatusChange:We=>{fe(We),V(We?"":"Offline - requests will be queued")},onQueueUpdate:(We,Qe)=>{B(We),Qe&&We>0?(v(!0),Q(mt=>mt??Date.now())):(v(!1),We===0&&(Q(null),oe(0))),We>0?V(`${We} request${We>1?"s":""} queued`):Qe||V("")},onRequestQueued:(We,Qe)=>{console.log(`📋 AI request queued: ${We} (${Qe})`),V("Request queued for retry"),Q(mt=>mt??Date.now()),v(!0)},onRequestSuccess:(We,Qe)=>{if(console.log(`✅ AI request successful: ${We}`),Qe)try{if(Qe instanceof Blob){const mt=URL.createObjectURL(Qe);_(mt),d(mt),I(mt),s(void 0),c(void 0),console.log("🎉 Processed image loaded from service worker retry")}}catch(mt){console.error("❌ Failed to process image from service worker:",mt)}V("Processing complete!"),setTimeout(()=>V(""),3e3),v(!1),Q(null),oe(0)},onRequestFailed:(We,Qe,mt)=>{console.log(`❌ AI request failed: ${We} (${Qe})`),V(mt?"Processing failed - please try again":"Retrying..."),mt&&(v(!1),Q(null),oe(0))}};$l.setAICallbacks(Re);const lt=await $l.getAIStatus();fe(lt.isOnline),B(lt.queueLength)})()},[]);const Pe=()=>{s(void 0),c(void 0),j(null),_(null),g([]),A("natural"),O("original"),R("general"),D(0),$(!1),F(!1),d(t),I(null)},Xe=new Date(Math.max(re,0)*1e3).toISOString().substring(14,19),Be=!f&&(!m||x!==null||b!==null);return o.jsx(Oi,{open:!!t,onOpenChange:ve=>!ve&&r(),children:o.jsxs(ai,{ref:le,className:"flex flex-col bg-neutral-950/95 text-neutral-100 border-neutral-800 shadow-2xl",style:{width:"100vw",height:"80vh",maxWidth:"none",maxHeight:"none"},"aria-describedby":a,children:[o.jsxs(Ei,{children:[o.jsx(Ti,{className:"text-xl font-semibold text-white",children:"Edit Image"}),o.jsx(dj,{id:a,className:"text-neutral-300",children:"Crop and enhance your images with AI-powered editing tools"})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsx("div",{className:"w-64 border-r border-neutral-800 bg-gradient-to-b from-neutral-950/80 via-neutral-950/70 to-neutral-950/80 overflow-y-auto text-neutral-100",children:o.jsxs("div",{className:"p-3 space-y-3",children:[o.jsxs(De,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[o.jsx(_t,{children:o.jsx(jt,{className:"text-sm",children:"Crop Controls"})}),o.jsx($e,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium mb-2 block",children:"Aspect Ratio"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const ve=ne.current;ve&&s(jf(_f({unit:"%",width:90},1,ve.naturalWidth,ve.naturalHeight),ve.naturalWidth,ve.naturalHeight))},children:"1:1 Square"}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const ve=ne.current;ve&&s(jf(_f({unit:"%",width:90},4/3,ve.naturalWidth,ve.naturalHeight),ve.naturalWidth,ve.naturalHeight))},children:"4:3"}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const ve=ne.current;ve&&s(jf(_f({unit:"%",width:90},16/9,ve.naturalWidth,ve.naturalHeight),ve.naturalWidth,ve.naturalHeight))},children:"16:9"}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{const ve=ne.current;ve&&s(jf(_f({unit:"%",width:90},3/4,ve.naturalWidth,ve.naturalHeight),ve.naturalWidth,ve.naturalHeight))},children:"3:4 Portrait"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium mb-2 block",children:"Orientation"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>D(ve=>ve+90),children:[o.jsx(ca,{className:"w-3 h-3 mr-1"}),"Rotate"]}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>$(!K),children:"↔️ Flip H"}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>F(!q),children:"↕️ Flip V"})]})]}),o.jsx(be,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>{s(void 0),c(void 0)},children:"Reset Crop"}),o.jsx(be,{variant:"default",size:"sm",className:"w-full text-xs bg-blue-600 hover:bg-blue-700",onClick:async()=>{if(l&&ne.current&&de.current)try{await Xbe(ne.current,de.current,l,1,0),de.current.toBlob(ve=>{ve?(j(ve),console.log("✂️ Crop applied successfully:",{size:ve.size,type:ve.type})):console.error("❌ Failed to convert canvas to blob")},"image/png")}catch(ve){console.error("❌ Failed to apply crop:",ve)}else console.warn("⚠️ No completed crop available")},disabled:!l,children:"✂️ Apply Crop"}),o.jsxs(be,{variant:"destructive",size:"sm",className:"w-full text-xs",onClick:Pe,children:[o.jsx(ca,{className:"w-3 h-3 mr-1"}),"Reset All"]})]})})]}),m&&o.jsxs("div",{className:"p-3 rounded-lg border border-sky-500/50 bg-gradient-to-r from-sky-600/40 via-indigo-600/30 to-slate-900/60 shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-50",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-sky-200"}),o.jsx("span",{children:"Processing with AI..."})]}),o.jsx("span",{className:"text-xs text-sky-100/80",children:Xe})]}),H&&o.jsx("p",{className:"mt-2 text-xs text-sky-100/70",children:H})]}),x&&o.jsx("div",{className:"p-3 rounded-lg border border-purple-500/50 bg-purple-900/40 shadow-md",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-purple-100",children:[o.jsx("div",{className:"font-medium",children:"✅ Crop Applied"}),o.jsx("div",{className:"text-xs",children:"Ready to save changes"})]}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs border-purple-400/40 text-purple-100 hover:bg-purple-500/20",onClick:()=>{j(null),s(void 0),c(void 0)},children:"Clear Crop"})]})}),b&&!m&&o.jsx("div",{className:"p-3 rounded-lg border border-emerald-500/50 bg-emerald-900/40 shadow-md",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-emerald-100",children:[o.jsx("div",{className:"font-medium",children:"AI Edit Complete!"}),o.jsx("div",{className:"text-xs",children:"Save this result or continue editing"})]}),o.jsx(be,{variant:"default",size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 text-xs text-neutral-900",onClick:async()=>{try{const Re=await(await fetch(b)).blob(),lt=URL.createObjectURL(Re);d(lt),_(null),s(void 0),c(void 0),console.log("✅ AI image saved as current image")}catch(ve){console.error("❌ Failed to save AI image:",ve)}},children:"💾 Save AI Image"})]})})]})}),o.jsx("div",{className:"flex-1 flex flex-col bg-neutral-950/40",children:o.jsx("div",{className:"flex-1 flex justify-center items-center p-6 bg-neutral-900/60",children:f?o.jsx("div",{className:"flex justify-center items-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Loading image..."})]})}):u?o.jsx("div",{className:"w-full h-full flex justify-center items-center",children:o.jsx("div",{className:"p-12 bg-neutral-950 border border-neutral-800 rounded-xl shadow-2xl min-w-[400px] min-h-[800px] overflow-hidden",children:o.jsx(Kbe,{crop:i,onChange:(ve,Re)=>s(Re),onComplete:ve=>c(ve),aspect:n,minWidth:50,minHeight:50,className:"max-w-full max-h-full",children:o.jsx("img",{ref:ne,alt:"Edit this image",src:b||u,onLoad:ge,className:"max-w-full max-h-full object-contain",style:{display:"block",transform:`rotate(${M}deg) scaleX(${K?-1:1}) scaleY(${q?-1:1})`,transformOrigin:"center center"}})})})}):o.jsx("div",{className:"flex justify-center items-center",children:o.jsx("p",{className:"text-neutral-400",children:"No image to display"})})})}),o.jsx("div",{ref:Ne,className:"w-96 border-l border-neutral-800 bg-gradient-to-b from-neutral-950/80 via-neutral-950/70 to-neutral-950/80 overflow-y-auto text-neutral-100",children:o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs(De,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[o.jsx(_t,{children:o.jsxs(jt,{className:"text-sm flex items-center gap-2 text-neutral-100",children:["AI Editing Options",ee?o.jsx(Oz,{className:"w-4 h-4 text-green-500"}):o.jsx(hA,{className:"w-4 h-4 text-red-500"})]})}),o.jsxs($e,{children:[(!ee||ue>0||H)&&o.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-gradient-to-r from-sky-600/40 via-indigo-600/30 to-slate-800/40 border border-sky-500/40 shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-100 mb-2",children:[ee?ue>0?o.jsx(Kl,{className:"w-4 h-4"}):o.jsx(Ih,{className:"w-4 h-4"}):o.jsx(hA,{className:"w-4 h-4"}),o.jsxs("span",{children:[!ee&&"Offline - AI requests will be queued",ee&&ue>0&&`${ue} request${ue>1?"s":""} queued for processing`,ee&&ue===0&&H&&H]})]}),ue>0&&o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx(be,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>$l.retryFailedRequests(),disabled:!ee,children:"🔄 Retry All"}),o.jsx(be,{variant:"outline",size:"sm",className:"text-xs text-red-600 hover:text-red-700",onClick:()=>$l.clearQueue(),children:"🗑️ Clear Queue"})]}),!ee&&ue>0&&o.jsx("button",{onClick:()=>$l.retryFailedRequests(),className:"mt-2 text-xs text-sky-200 hover:text-sky-100 underline",children:"Retry when online"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Color Style"}),o.jsxs(Da,{value:S,onValueChange:A,children:[o.jsx(Fa,{className:"bg-neutral-900 border-neutral-700 text-neutral-100",children:o.jsx($a,{placeholder:"Select color style"})}),o.jsxs(Ba,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[o.jsx(Ye,{value:"natural",children:"Natural"}),o.jsx(Ye,{value:"vibrant",children:"Vibrant"}),o.jsx(Ye,{value:"muted",children:"Muted"}),o.jsx(Ye,{value:"warm",children:"Warm"}),o.jsx(Ye,{value:"cool",children:"Cool"}),o.jsx(Ye,{value:"monochrome",children:"Monochrome"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Shape/Format"}),o.jsxs(Da,{value:k,onValueChange:O,children:[o.jsx(Fa,{className:"bg-neutral-900 border-neutral-700 text-neutral-100",children:o.jsx($a,{placeholder:"Select format"})}),o.jsxs(Ba,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[o.jsx(Ye,{value:"original",children:"Original"}),o.jsx(Ye,{value:"square",children:"Square"}),o.jsx(Ye,{value:"portrait",children:"Portrait"}),o.jsx(Ye,{value:"landscape",children:"Landscape"}),o.jsx(Ye,{value:"circle",children:"Circle"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Scenario"}),o.jsxs(Da,{value:T,onValueChange:R,children:[o.jsx(Fa,{className:"bg-neutral-900 border-neutral-700 text-neutral-100",children:o.jsx($a,{placeholder:"Select scenario"})}),o.jsxs(Ba,{className:"bg-neutral-900 border border-neutral-700 text-neutral-100",children:[o.jsx(Ye,{value:"general",children:"General"}),o.jsx(Ye,{value:"studio",children:"Studio"}),o.jsx(Ye,{value:"outdoor",children:"Outdoor"}),o.jsx(Ye,{value:"indoor",children:"Indoor"}),o.jsx(Ye,{value:"nature",children:"Nature"}),o.jsx(Ye,{value:"urban",children:"Urban"}),o.jsx(Ye,{value:"beach",children:"Beach"}),o.jsx(Ye,{value:"mountain",children:"Mountain"})]})]})]})]})]})]}),o.jsxs(De,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[o.jsx(_t,{children:o.jsx(jt,{className:"text-sm text-neutral-100",children:"Reference Images (Optional)"})}),o.jsxs($e,{children:[o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[h.map((ve,Re)=>o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:URL.createObjectURL(ve),alt:`Reference ${Re+1}`,className:"w-16 h-16 object-cover rounded border border-neutral-700"}),o.jsx("button",{onClick:()=>qe(Re),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center shadow",children:"×"})]},Re)),h.length<3&&o.jsx("button",{onClick:()=>{var ve;return(ve=pe.current)==null?void 0:ve.click()},className:"w-16 h-16 border-2 border-dashed border-neutral-600 rounded flex items-center justify-center hover:border-neutral-400",children:o.jsx(jI,{className:"w-6 h-6 text-neutral-400"})})]}),o.jsx("input",{ref:pe,type:"file",accept:"image/*",multiple:!0,onChange:te,className:"hidden"}),o.jsx("p",{className:"text-xs text-neutral-400",children:"Upload up to 3 reference images for AI editing"})]})]}),o.jsxs(De,{className:"bg-neutral-900/70 border-neutral-800 text-neutral-100 shadow-lg",children:[o.jsx(_t,{children:o.jsx(jt,{className:"text-sm text-neutral-100",children:"AI Editing Tools"})}),o.jsx($e,{children:o.jsxs(F$,{type:"multiple",className:"w-full space-y-2",children:[o.jsxs(Wo,{value:"background",className:"border rounded-lg",children:[o.jsx(Ho,{className:"px-3 py-2 text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vy,{className:"w-4 h-4"}),"Background"]})}),o.jsx(Vo,{className:"px-2 pb-2",children:o.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:ze.filter(ve=>ve.category==="background").map(ve=>o.jsxs(be,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>Ue(ve.id,ve.id==="replace_bg_custom"),disabled:m||ve.id==="replace_bg_custom"&&h.length===0,children:[o.jsx(ve.icon,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:ve.label})]},ve.id))})})]}),o.jsxs(Wo,{value:"enhancement",className:"border rounded-lg",children:[o.jsx(Ho,{className:"px-3 py-2 text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rm,{className:"w-4 h-4"}),"Enhancement"]})}),o.jsx(Vo,{className:"px-2 pb-2",children:o.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:ze.filter(ve=>ve.category==="enhancement").map(ve=>o.jsxs(be,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>Ue(ve.id),disabled:m,children:[o.jsx(ve.icon,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:ve.label})]},ve.id))})})]}),o.jsxs(Wo,{value:"effects",className:"border rounded-lg",children:[o.jsx(Ho,{className:"px-3 py-2 text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kz,{className:"w-4 h-4"}),"Effects"]})}),o.jsx(Vo,{className:"px-2 pb-2",children:o.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:ze.filter(ve=>ve.category==="effects").map(ve=>o.jsxs(be,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>Ue(ve.id),disabled:m,children:[o.jsx(ve.icon,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:ve.label})]},ve.id))})})]}),o.jsxs(Wo,{value:"transform",className:"border rounded-lg",children:[o.jsx(Ho,{className:"px-3 py-2 text-sm font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ca,{className:"w-4 h-4"}),"Transform"]})}),o.jsx(Vo,{className:"px-2 pb-2",children:o.jsx("div",{className:"grid grid-cols-2 gap-3 p-2",children:ze.filter(ve=>ve.category==="transform").map(ve=>o.jsxs(be,{variant:"outline",size:"sm",className:"h-20 p-2 flex flex-col items-center justify-center gap-1 text-xs min-w-0",onClick:()=>Ue(ve.id),disabled:m,children:[o.jsx(ve.icon,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-center leading-tight truncate max-w-full",children:ve.label})]},ve.id))})})]})]})})]})]})})]}),o.jsx("canvas",{ref:de,style:{display:"none"}}),o.jsxs(mK,{children:[o.jsx(be,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(be,{onClick:async()=>{try{let ve;x?(ve=x,console.log("💾 Saving cropped image:",{size:ve.size,type:ve.type})):b?(ve=await(await fetch(b)).blob(),console.log("💾 Saving AI processed image:",{size:ve.size,type:ve.type})):(ve=await(await fetch(u)).blob(),console.log("💾 Saving original image:",{size:ve.size,type:ve.type})),e(ve),r()}catch(ve){console.error("❌ Failed to save image:",ve),alert("Failed to save image. Please try again.")}},disabled:!Be,className:"bg-rose-500 hover:bg-rose-600 text-white disabled:bg-neutral-700 disabled:text-neutral-400",children:"Save Changes"})]})]})})}function r1e({defaultTab:t="overview"}){const{products:e,fetchAllProducts:r}=Lh(),[n,a]=N.useState(null),[i,s]=N.useState(!1),[l,c]=N.useState(null),u=N.useRef(null),d=N.useRef(null);N.useEffect(()=>{r()},[r]);const f=v=>{a(v),s(!0)},p=()=>{r(),a(null),s(!1)},h=()=>{a(null),s(!1)},g=(v,x,j,b)=>{console.log("🎯 AdminDashboard: handleCropImage called:",{index:v,src:x.substring(0,50)+"...",type:j,form:b}),c({index:v,src:x,type:j,form:b})},m=v=>{if(console.log("✅ AdminDashboard: handleCropComplete called:",{blobSize:v.size,croppingImage:l}),l){let x=null;l.form==="edit"?x=d.current||null:x=u.current||null,x||(x=u.current||d.current),x?(console.log("🔄 Calling ProductForm.handleCropComplete via ref"),x.handleCropComplete(v,l),c(null)):console.error("❌ No ProductForm ref available for cropping")}else console.warn("⚠️ handleCropComplete called but no croppingImage set")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your store and view analytics"})]}),o.jsxs(ro,{defaultValue:t,className:"space-y-6",children:[o.jsxs(no,{className:"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-8 h-auto p-1 bg-muted rounded-lg",children:[o.jsx(gr,{value:"overview",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Overview"}),o.jsx(gr,{value:"products",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Products"}),o.jsx(gr,{value:"orders",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Orders"}),o.jsx(gr,{value:"reviews",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Reviews"}),o.jsx(gr,{value:"analytics",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Analytics"}),o.jsx(gr,{value:"content",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Content"}),o.jsx(gr,{value:"messages",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Messages"}),o.jsx(gr,{value:"settings",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Settings"})]}),o.jsxs(vr,{value:"overview",children:[o.jsx(AZ,{products:e}),o.jsxs(De,{className:"mt-6",children:[o.jsx(_t,{children:o.jsx(jt,{children:"Recent Orders"})}),o.jsx($e,{children:o.jsx(m2,{})})]})]}),o.jsxs(vr,{value:"products",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(E_,{ref:u,onSuccess:p,onCropImage:g}),o.jsx("div",{className:"lg:col-span-2",children:o.jsx(Sbe,{onEditProduct:f})})]}),o.jsx(Oi,{open:i,onOpenChange:s,children:o.jsxs(ai,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Ei,{children:[o.jsx(Ti,{children:"Edit Product"}),o.jsx(dj,{children:"Update existing product details, adjust pricing, and manage media assets."})]}),n&&o.jsx(E_,{ref:d,mode:"edit",product:n,onSuccess:p,onCancel:h,onCropImage:g})]})})]}),o.jsx(vr,{value:"orders",children:o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Order Management"})}),o.jsx($e,{children:o.jsxs(ro,{defaultValue:"active",className:"w-full",children:[o.jsxs(no,{className:"grid w-full grid-cols-2",children:[o.jsx(gr,{value:"active",children:"Active Orders"}),o.jsx(gr,{value:"archived",children:"Archived Orders"})]}),o.jsx(vr,{value:"active",className:"mt-4",children:o.jsx(m2,{showActions:!0,showArchived:!1})}),o.jsx(vr,{value:"archived",className:"mt-4",children:o.jsx(m2,{showActions:!0,showArchived:!0})})]})})]})}),o.jsx(vr,{value:"reviews",children:o.jsx(Lbe,{})}),o.jsx(vr,{value:"analytics",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Pye,{}),o.jsx(Cye,{})]})}),o.jsx(vr,{value:"content",children:o.jsx(Bbe,{})}),o.jsx(vr,{value:"messages",children:o.jsx(De,{className:"h-[calc(100vh-240px)]",children:o.jsx($e,{className:"p-0 h-full",children:o.jsx(Ube,{})})})}),o.jsx(vr,{value:"settings",children:o.jsx(oF,{})})]}),o.jsx(rl,{}),o.jsx(t1e,{src:(l==null?void 0:l.src)||null,onClose:()=>c(null),onCropComplete:m})]})}function hF({...t}){return o.jsx(lj,{"data-slot":"sheet",...t})}const nS=N.forwardRef(({...t},e)=>o.jsx(pv,{"data-slot":"sheet-trigger",ref:e,...t}));nS.displayName=pv.displayName;function n1e({...t}){return o.jsx(cj,{"data-slot":"sheet-portal",...t})}function a1e({className:t,...e}){return o.jsx(mv,{"data-slot":"sheet-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function pF({className:t,children:e,side:r="right",...n}){return o.jsxs(n1e,{children:[o.jsx(a1e,{}),o.jsxs(gv,{"data-slot":"sheet-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,o.jsxs(vv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[o.jsx(Ys,{className:"size-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const HT=[{id:"about",title:"About Us",description:"Learn about Rosémama Clothing",icon:av,category:"Company"},{id:"privacy",title:"Privacy Policy",description:"How we protect your data",icon:zs,category:"Legal"},{id:"terms",title:"Terms of Service",description:"Our terms and conditions",icon:Ks,category:"Legal"},{id:"shipping",title:"Shipping Policy",description:"Delivery information",icon:Mu,category:"Policies"},{id:"returns",title:"Return Policy",description:"Returns and exchanges",icon:ca,category:"Policies"},{id:"help",title:"Help Center",description:"FAQ and support",icon:M_,category:"Support"},{id:"contact",title:"Contact Us",description:"Get in touch",icon:B_,category:"Support"}];function i1e({children:t,title:e,description:r,onBack:n,onNavigate:a}){const[i,s]=N.useState(!1),l=Array.from(new Set(HT.map(u=>u.category))),c=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center pb-4 border-b",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Information Center"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Everything you need to know about Rosémama"})]}),l.map(u=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:u}),o.jsx("div",{className:"space-y-1",children:HT.filter(d=>d.category===u).map(d=>{const f=d.icon;return o.jsxs(be,{variant:"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{a==null||a(d.id),s(!1)},children:[o.jsx(f,{className:"h-4 w-4 mr-3 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium",children:d.title}),o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.description})]})]},d.id)})})]},u))]});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(be,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20",children:o.jsx(ev,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-bold",children:e}),r&&o.jsx("p",{className:"text-sm text-white/80 mt-1",children:r})]}),o.jsxs(hF,{open:i,onOpenChange:s,children:[o.jsx(nS,{asChild:!0,children:o.jsx(be,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",children:o.jsx(vI,{className:"h-5 w-5"})})}),o.jsx(pF,{side:"right",className:"w-80",children:o.jsx(c,{})})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:o.jsx("div",{className:"sticky top-24 bg-card border rounded-lg p-4",children:o.jsx(c,{})})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"bg-card border rounded-lg p-6",children:t})})]})})]})}function mF({pageType:t,defaultContent:e=[],className:r="",onRetry:n}){const{getPageContent:a,state:i,subscribeToPageContent:s,unsubscribeFromPageContent:l}=cF(),[c,u]=N.useState(null),[d,f]=N.useState(!0),[p,h]=N.useState(null),[g,m]=N.useState(!1),v=N.useRef(!1);N.useEffect(()=>(x(),v.current||(s(t),v.current=!0),()=>{v.current&&(l(t),v.current=!1)}),[t]),N.useEffect(()=>{const _=i.contentCache[t];if(_&&_!==c&&(u(_),c!==null)){m(!0);const S=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(S)}},[i.contentCache,t,c]);const x=N.useCallback(async()=>{try{f(!0),h(null);const _=await a(t);u(_)}catch(_){h(_ instanceof Error?_.message:"Failed to load content")}finally{f(!1)}},[t,a]),j=()=>{n?n():x()};if(d&&!c)return o.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ja,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-rose-500"}),o.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})});if(p&&!c&&e.length===0)return o.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx(rc,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Content"}),o.jsx("p",{className:"text-gray-600 mb-4",children:p}),o.jsx(be,{onClick:j,variant:"outline",children:"Try Again"})]})});const b=(c==null?void 0:c.sections)||e;return b.length===0?o.jsx("div",{className:`text-center py-12 ${r}`,children:o.jsx("p",{className:"text-gray-500",children:"No content available for this page."})}):o.jsxs("div",{className:`space-y-8 ${r}`,children:[g&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-in slide-in-from-top-2 duration-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Th,{className:"h-5 w-5 text-green-600 mr-2"}),o.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Content updated! You're viewing the latest version."}),o.jsx(Xl,{className:"h-4 w-4 text-green-600 ml-auto animate-spin"})]})}),p&&c&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(rc,{className:"h-5 w-5 text-amber-600 mr-2"}),o.jsxs("p",{className:"text-amber-800 text-sm",children:["Content may be outdated. ",p]}),o.jsx(be,{onClick:j,variant:"ghost",size:"sm",className:"ml-auto text-amber-700 hover:text-amber-900",children:"Refresh"})]})}),b.map((_,S)=>o.jsx(s1e,{section:_},_.id||S))]})}function s1e({section:t}){return o.jsxs("section",{className:"space-y-4",children:[t.title&&o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t.title}),t.content&&o.jsx("div",{className:`prose prose-gray max-w-none\r
            prose-headings:text-gray-900 \r
            prose-p:text-gray-700 prose-p:leading-relaxed\r
            prose-ul:text-gray-700 prose-ol:text-gray-700\r
            prose-li:mb-1\r
            prose-strong:text-gray-900\r
            prose-a:text-rose-600 prose-a:no-underline hover:prose-a:underline`,dangerouslySetInnerHTML:{__html:t.content}})]})}const o1e=[{id:"hero-section",title:"Welcome to Rosémama Clothing",content:`
      <p class="text-xl text-gray-600 mb-6">Where fashion meets passion, and style tells your story.</p>
      
      <p>Rosémama Clothing was born from a simple belief: every woman deserves to feel confident, beautiful, and empowered through fashion. Founded in South Africa, we've grown from a small boutique dream into a trusted destination for women who appreciate quality, style, and authentic craftsmanship.</p>
    `},{id:"our-story",title:"Our Story",content:`
      <p>What started as a passion project in 2015 has blossomed into a movement celebrating women of all ages, sizes, and styles. Our founder, Rosemary, noticed a gap in the market for fashion that was both accessible and aspirational – clothing that made women feel amazing without breaking the bank.</p>
      
      <p>From our headquarters in Midrand, Johannesburg, we carefully curate and design pieces that celebrate the modern African woman. Each piece in our collection is selected or created with intention, ensuring it meets our high standards for quality, comfort, and style.</p>
    `},{id:"our-mission",title:"Our Mission",content:`
      <p>To empower women through fashion by providing:</p>
      
      <ul>
        <li><strong>Quality Pieces:</strong> Carefully selected fabrics and construction that last</li>
        <li><strong>Inclusive Sizing:</strong> Fashion for every body type and size</li>
        <li><strong>Accessible Luxury:</strong> High-end looks at reasonable prices</li>
        <li><strong>Sustainable Practices:</strong> Ethical sourcing and environmental responsibility</li>
        <li><strong>Personal Style:</strong> Pieces that help you express your unique personality</li>
      </ul>
    `},{id:"our-values",title:"Our Values",content:`
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="p-6 bg-rose-50 rounded-lg">
          <h4 class="font-semibold text-rose-800 mb-2">Quality First</h4>
          <p class="text-gray-700">We believe in investing in pieces that will love you back. Every item undergoes rigorous quality checks.</p>
        </div>
        
        <div class="p-6 bg-pink-50 rounded-lg">
          <h4 class="font-semibold text-pink-800 mb-2">Customer-Centric</h4>
          <p class="text-gray-700">Your satisfaction drives everything we do. From design to delivery, you're at the heart of our decisions.</p>
        </div>
        
        <div class="p-6 bg-purple-50 rounded-lg">
          <h4 class="font-semibold text-purple-800 mb-2">Sustainable Fashion</h4>
          <p class="text-gray-700">We're committed to reducing our environmental impact through responsible sourcing and packaging.</p>
        </div>
        
        <div class="p-6 bg-blue-50 rounded-lg">
          <h4 class="font-semibold text-blue-800 mb-2">Authentic Style</h4>
          <p class="text-gray-700">Fashion should reflect who you are, not who you think you should be. We celebrate individuality.</p>
        </div>
      </div>
    `},{id:"our-team",title:"Meet Our Team",content:`
      <p class="mb-8">Behind every great fashion brand is a passionate team of dreamers, creators, and style enthusiasts.</p>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Rosemary Oku" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Rosemary Oku</h4>
          <p class="text-rose-600 font-medium">Founder & CEO</p>
          <p class="text-gray-600 text-sm mt-2">Fashion visionary with 15+ years in luxury retail, bringing dreams to life through sustainable fashion.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="James Chen" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">James Chen</h4>
          <p class="text-rose-600 font-medium">Creative Director</p>
          <p class="text-gray-600 text-sm mt-2">Award-winning designer from Milan Fashion Week, creating pieces that blend elegance with everyday wearability.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Sarah Johnson" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Sarah Johnson</h4>
          <p class="text-rose-600 font-medium">Head of Sustainability</p>
          <p class="text-gray-600 text-sm mt-2">Environmental advocate ensuring our fashion choices contribute to a better world for future generations.</p>
        </div>
      </div>
    `},{id:"our-stats",title:"Our Impact",content:`
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">50K+</div>
          <div class="text-gray-600">Happy Customers</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">25+</div>
          <div class="text-gray-600">Countries Served</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">10+</div>
          <div class="text-gray-600">Years of Excellence</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">4.9</div>
          <div class="text-gray-600">Customer Rating</div>
        </div>
      </div>
    `},{id:"contact-info",title:"Get in Touch",content:`
      <p class="mb-6">We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share your feedback, we're here to help.</p>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Email Us</h5>
            <p class="text-gray-600 text-sm">hello@rosemamaclothing.store</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Call Us</h5>
            <p class="text-gray-600 text-sm">+27 735 514 705</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Visit Us</h5>
            <p class="text-gray-600 text-sm">New Road, Midrand<br>Johannesburg, South Africa</p>
          </div>
        </div>
      </div>
    `}];function VT({onNavigate:t}){return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(mF,{pageType:"about",defaultContent:o1e,className:"space-y-12"})})}const l1e=[{id:"introduction",title:"Introduction and POPIA Compliance",content:`
      <p>Rosémama Clothing is committed to protecting your privacy and personal information in accordance with the Protection of Personal Information Act (POPIA), Act 4 of 2013, and other applicable South African privacy laws.</p>
      
      <p><strong>Responsible Party:</strong><br>
      Rosémama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
      
      <p>This policy explains how we collect, use, store, and protect your personal information when you visit our website or use our services. <em>Last updated: September 12, 2025</em></p>
    `},{id:"information-collection",title:"Information We Collect",content:`
      <p>We collect personal information necessary to provide our services. This includes information you provide directly and information collected automatically.</p>
      
      <h4>Personal Information includes:</h4>
      <ul>
        <li><strong>Identity Information:</strong> Name, surname, ID number (when required)</li>
        <li><strong>Contact Information:</strong> Email address, phone number, postal address</li>
        <li><strong>Financial Information:</strong> Payment details, billing address</li>
        <li><strong>Account Information:</strong> Username, password, purchase history</li>
        <li><strong>Communication Records:</strong> Customer service interactions, feedback</li>
        <li><strong>Technical Information:</strong> IP address, browser type, device information</li>
      </ul>
      
      <h4>Lawful Basis for Processing:</h4>
      <p>We process your personal information based on:</p>
      <ul>
        <li>Contractual necessity (to fulfill orders and provide services)</li>
        <li>Legal compliance (tax records, fraud prevention)</li>
        <li>Legitimate interests (improving services, security)</li>
        <li>Consent (marketing communications, optional features)</li>
      </ul>
    `},{id:"information-use",title:"How We Use Your Information",content:`
      <p>Your personal information is used to provide and improve our services:</p>
      
      <ul>
        <li><strong>Order Processing:</strong> To process and fulfill your orders</li>
        <li><strong>Customer Service:</strong> To respond to inquiries and provide support</li>
        <li><strong>Account Management:</strong> To maintain your account and preferences</li>
        <li><strong>Payment Processing:</strong> To process payments securely</li>
        <li><strong>Marketing Communications:</strong> To send newsletters and promotions (with consent)</li>
        <li><strong>Website Improvement:</strong> To analyze usage and enhance user experience</li>
        <li><strong>Legal Compliance:</strong> To comply with tax, accounting, and legal requirements</li>
        <li><strong>Fraud Prevention:</strong> To protect against fraudulent activities</li>
      </ul>
    `},{id:"information-sharing",title:"Information Sharing and Disclosure",content:`
      <p>We do not sell your personal information to third parties. We may share information with:</p>
      
      <ul>
        <li><strong>Service Providers:</strong> Payment processors, shipping companies, email service providers</li>
        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights</li>
        <li><strong>Business Transfers:</strong> In the event of a merger or acquisition</li>
        <li><strong>Consent-Based Sharing:</strong> When you explicitly consent to sharing</li>
      </ul>
      
      <p>All third-party service providers are contractually bound to protect your information and use it only for specified purposes.</p>
    `},{id:"data-security",title:"Data Security and Retention",content:`
      <p>We implement appropriate technical and organizational measures to protect your personal information:</p>
      
      <ul>
        <li><strong>Encryption:</strong> Data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Limited access on a need-to-know basis</li>
        <li><strong>Regular Audits:</strong> Security assessments and monitoring</li>
        <li><strong>Staff Training:</strong> Regular privacy and security training</li>
      </ul>
      
      <h4>Data Retention:</h4>
      <p>We retain personal information for as long as necessary to:</p>
      <ul>
        <li>Fulfill the purposes for which it was collected</li>
        <li>Comply with legal obligations (e.g., tax records for 5 years)</li>
        <li>Resolve disputes and enforce agreements</li>
      </ul>
    `},{id:"your-rights",title:"Your Rights Under POPIA",content:`
      <p>Under the Protection of Personal Information Act, you have the right to:</p>
      
      <ul>
        <li><strong>Access:</strong> Request copies of your personal information</li>
        <li><strong>Correction:</strong> Update or correct inaccurate information</li>
        <li><strong>Deletion:</strong> Request deletion of your personal information</li>
        <li><strong>Objection:</strong> Object to processing for direct marketing</li>
        <li><strong>Data Portability:</strong> Receive your data in a structured format</li>
        <li><strong>Withdraw Consent:</strong> Withdraw consent for processing</li>
      </ul>
      
      <p>To exercise these rights, contact us at <strong>hello@rosemamaclothing.store</strong> or <strong>+27 735 514 705</strong>.</p>
      
      <p>We will respond to your request within 30 days. If you're not satisfied with our response, you can lodge a complaint with the Information Regulator of South Africa.</p>
    `},{id:"cookies-tracking",title:"Cookies and Tracking Technologies",content:`
      <p>We use cookies and similar technologies to enhance your browsing experience:</p>
      
      <ul>
        <li><strong>Essential Cookies:</strong> Required for website functionality</li>
        <li><strong>Performance Cookies:</strong> Help us analyze website usage</li>
        <li><strong>Functional Cookies:</strong> Remember your preferences</li>
        <li><strong>Marketing Cookies:</strong> Deliver relevant advertisements (with consent)</li>
      </ul>
      
      <p>You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect website functionality.</p>
    `},{id:"international-transfers",title:"International Data Transfers",content:`
      <p>Some of our service providers may be located outside South Africa. When we transfer personal information internationally, we ensure:</p>
      
      <ul>
        <li>The receiving country has adequate data protection laws, or</li>
        <li>Appropriate safeguards are in place (e.g., standard contractual clauses)</li>
        <li>We have obtained your explicit consent for the transfer</li>
      </ul>
    `},{id:"children-privacy",title:"Children's Privacy",content:`
      <p>Our services are not intended for children under 18 years old. We do not knowingly collect personal information from children without parental consent.</p>
      
      <p>If you believe we have collected information from a child without proper consent, please contact us immediately.</p>
    `},{id:"policy-updates",title:"Policy Updates",content:`
      <p>We may update this privacy policy from time to time to reflect changes in our practices or legal requirements. We will:</p>
      
      <ul>
        <li>Post the updated policy on our website</li>
        <li>Update the "last updated" date</li>
        <li>Notify you of material changes via email or website notice</li>
      </ul>
      
      <p>Your continued use of our services after policy updates constitutes acceptance of the changes.</p>
    `},{id:"contact-information",title:"Contact Information",content:`
      <p>For any privacy-related questions, concerns, or requests, please contact us:</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mt-4">
        <h5 class="font-semibold mb-3">Rosémama Clothing - Privacy Office</h5>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
          </div>
          <div>
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
          </div>
        </div>
        
        <p class="mt-4 text-sm text-gray-600">
          <strong>Information Regulator:</strong> If you're not satisfied with our response to your privacy request, 
          you can contact the Information Regulator of South Africa at <em>inforeg@justice.gov.za</em>
        </p>
      </div>
    `}],c1e=[{id:"introduction",title:"Introduction",content:`
      <p>Welcome to Rosémama Clothing. These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our services, you agree to be bound by these Terms.</p>
      
      <p><em>Last updated: September 12, 2025</em></p>
      
      <p><strong>Company Information:</strong><br>
      Rosémama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
    `},{id:"acceptance-terms",title:"Acceptance of Terms",content:`
      <p>By accessing our website, creating an account, or making a purchase, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.</p>
      
      <p>If you do not agree with these Terms, please do not use our services.</p>
    `},{id:"use-of-services",title:"Use of Our Services",content:`
      <h4>Permitted Use</h4>
      <p>You may use our services for lawful purposes only. You agree not to:</p>
      
      <ul>
        <li>Violate any applicable laws or regulations</li>
        <li>Infringe on intellectual property rights</li>
        <li>Transmit harmful or malicious code</li>
        <li>Engage in fraudulent activities</li>
        <li>Harass other users or our staff</li>
        <li>Attempt to gain unauthorized access to our systems</li>
      </ul>
      
      <h4>Account Responsibility</h4>
      <p>You are responsible for:</p>
      <ul>
        <li>Maintaining the confidentiality of your account credentials</li>
        <li>All activities under your account</li>
        <li>Providing accurate and current information</li>
        <li>Notifying us immediately of any unauthorized use</li>
      </ul>
    `}],u1e=[{id:"shipping-overview",title:"Shipping Information",content:`
      <p>We're committed to getting your Rosémama pieces to you quickly and safely. Here's everything you need to know about our shipping policies.</p>
    `},{id:"shipping-areas",title:"Shipping Areas",content:`
      <p>We currently ship to:</p>
      
      <ul>
        <li><strong>South Africa:</strong> Nationwide delivery available</li>
        <li><strong>International:</strong> Selected countries (contact us for availability)</li>
      </ul>
      
      <p>Shipping costs and delivery times vary by location and order value.</p>
    `},{id:"delivery-times",title:"Delivery Times",content:`
      <h4>South Africa</h4>
      <ul>
        <li><strong>Major Cities:</strong> 2-3 business days</li>
        <li><strong>Other Areas:</strong> 3-5 business days</li>
        <li><strong>Rural Areas:</strong> 5-7 business days</li>
      </ul>
      
      <h4>International</h4>
      <ul>
        <li><strong>Regional:</strong> 5-10 business days</li>
        <li><strong>Global:</strong> 10-15 business days</li>
      </ul>
      
      <p><em>Delivery times are estimates and may vary during peak seasons or due to unforeseen circumstances.</em></p>
    `}],d1e=[{id:"returns-overview",title:"Returns & Exchanges",content:`
      <p>We want you to love your Rosémama pieces. If you're not completely satisfied, we offer a hassle-free return and exchange policy.</p>
    `},{id:"return-policy",title:"Return Policy",content:`
      <ul>
        <li><strong>Timeframe:</strong> 30 days from delivery date</li>
        <li><strong>Condition:</strong> Items must be unworn, unwashed, and with original tags</li>
        <li><strong>Packaging:</strong> Original packaging preferred but not required</li>
        <li><strong>Proof of Purchase:</strong> Order number or receipt required</li>
      </ul>
      
      <h4>Non-Returnable Items</h4>
      <ul>
        <li>Intimate apparel and swimwear</li>
        <li>Sale items marked as final sale</li>
        <li>Custom or personalized items</li>
        <li>Items damaged by normal wear</li>
      </ul>
    `}],f1e=[{id:"help-overview",title:"Help Center",content:`
      <p>Need assistance? We're here to help! Find answers to common questions or contact our support team.</p>
    `},{id:"faq",title:"Frequently Asked Questions",content:`
      <h4>Ordering</h4>
      <p><strong>Q: How do I place an order?</strong><br>
      A: Browse our catalog, add items to cart, and proceed to checkout. Create an account or checkout as a guest.</p>
      
      <p><strong>Q: Can I modify my order after placing it?</strong><br>
      A: Contact us within 2 hours of placing your order. We'll do our best to accommodate changes.</p>
      
      <h4>Sizing</h4>
      <p><strong>Q: How do I find my size?</strong><br>
      A: Check our detailed size guide available on each product page. When in doubt, contact us for personalized sizing advice.</p>
      
      <h4>Payment</h4>
      <p><strong>Q: What payment methods do you accept?</strong><br>
      A: We accept all major credit cards, EFT, and mobile payments.</p>
    `}],h1e=[{id:"contact-overview",title:"Get in Touch",content:`
      <p>We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share feedback, our team is here to help.</p>
    `},{id:"contact-methods",title:"Contact Information",content:`
      <div class="grid md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h4 class="font-semibold">Customer Service</h4>
          <div class="space-y-2">
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
            <p><strong>Hours:</strong> Monday - Friday, 9AM - 5PM (SAST)</p>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold">Visit Our Store</h4>
          <div class="space-y-2">
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
            <p><strong>Store Hours:</strong> By appointment only</p>
          </div>
        </div>
      </div>
    `},{id:"response-times",title:"Response Times",content:`
      <ul>
        <li><strong>Email:</strong> We respond within 24 hours</li>
        <li><strong>Phone:</strong> Immediate assistance during business hours</li>
        <li><strong>Social Media:</strong> Follow us for updates and quick responses</li>
      </ul>
    `}],p1e={privacy:{content:l1e,pageType:"privacy"},terms:{content:c1e,pageType:"terms"},shipping:{content:u1e,pageType:"shipping"},returns:{content:d1e,pageType:"returns"},help:{content:f1e,pageType:"help"},contact:{content:h1e,pageType:"contact"}};function fu({type:t}){const{content:e,pageType:r}=p1e[t];return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(mF,{pageType:r,defaultContent:e,className:"space-y-8"})})}function m1e({onBack:t,initialPage:e="about"}){const[r,n]=N.useState(e),a=c=>{n(c)},i=()=>{switch(r){case"about":return"About Us";case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"shipping":return"Shipping Policy";case"returns":return"Return Policy";case"help":return"Help Center";case"contact":return"Contact Us";default:return"Information Center"}},s=()=>{switch(r){case"about":return"Learn about our story, values, and team";case"privacy":return"How we protect and use your personal information";case"terms":return"Terms and conditions for using our services";case"shipping":return"Shipping methods, costs, and delivery information";case"returns":return"Return and exchange policies and procedures";case"help":return"Frequently asked questions and support resources";case"contact":return"Get in touch with our customer service team";default:return"Your one-stop destination for helpful information"}},l=()=>{switch(r){case"about":return o.jsx(VT,{onNavigate:a});case"privacy":return o.jsx(fu,{type:"privacy"});case"terms":return o.jsx(fu,{type:"terms"});case"shipping":return o.jsx(fu,{type:"shipping"});case"returns":return o.jsx(fu,{type:"returns"});case"help":return o.jsx(fu,{type:"help"});case"contact":return o.jsx(fu,{type:"contact"});default:return o.jsx(VT,{onNavigate:a})}};return o.jsx(i1e,{title:i(),description:s(),onBack:t,onNavigate:a,children:l()})}function aS({isOpen:t,onClose:e,initialSubject:r}){const{user:n}=Cn(),[a,i]=N.useState(null),[s,l]=N.useState(""),[c,u]=N.useState(!1),d=N.useRef(null),f=N.useRef(null),{loading:p,getOrCreateConversation:h}=uF((n==null?void 0:n.id)||"",!1),{messages:g,loading:m,sendMessage:v,markAsRead:x}=dF(a);N.useEffect(()=>{const _=S=>{S.key==="Escape"&&t&&e()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t,e]),N.useEffect(()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})},[g]),N.useEffect(()=>{a&&(n!=null&&n.id)&&g.length>0&&x(n.id)},[a,n==null?void 0:n.id,g.length,x]),N.useEffect(()=>{t&&(n!=null&&n.id)&&!a&&j()},[t,n==null?void 0:n.id,a]);const j=async()=>{if(n!=null&&n.id){u(!0);try{const _=await h(r||"General Inquiry");_&&i(_.id)}catch(_){console.error("Error initializing chat:",_)}finally{u(!1)}}},b=async _=>{if(_.preventDefault(),!s.trim()||!a||!(n!=null&&n.id))return;const S=s.trim();l("");try{await v(n.id,S)}catch(A){console.error("Error sending message:",A),l(S)}};return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e,"aria-hidden":"true"}),o.jsx("div",{ref:f,className:"modal-floating",role:"dialog","aria-label":"Customer support chat","aria-modal":"true","aria-labelledby":"chat-support-title",children:o.jsxs("div",{className:"card-base text-neutral-900 dark:text-neutral-100",children:[o.jsxs("div",{id:"chat-support-title",className:"flex items-center justify-between px-4 py-3 bg-neutral-900 text-white sm:rounded-t-2xl border-b border-neutral-800 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-neutral-800",children:o.jsx(ti,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm",children:"Chat Support"}),o.jsxs("div",{className:"flex items-center gap-1","aria-live":"polite",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse","aria-hidden":!0}),o.jsx("p",{className:"text-[11px] text-neutral-300",children:"Online"})]})]})]}),o.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-800/60 transition-colors","aria-label":"Close chat",children:o.jsx(Ys,{className:"h-4 w-4 text-neutral-200"})})]}),c&&o.jsx("div",{className:"px-4 py-2 bg-blue-50 border-b border-blue-100 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),o.jsx("span",{className:"text-xs",children:"Connecting..."})]})}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 py-3 bg-gradient-to-br from-neutral-100 via-neutral-50 to-purple-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-800",children:[p||m?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-neutral-900 dark:border-neutral-100 mx-auto mb-2"}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"Loading chat..."})]})}):g.length===0?o.jsxs("div",{className:"text-center mt-6",children:[o.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:o.jsx(ti,{className:"h-6 w-6 text-neutral-600 dark:text-neutral-300"})}),o.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100 mb-1",children:"Welcome to Rosémama!"}),o.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"How can we help you today?"})]}):g.map(_=>o.jsx(g1e,{content:_.content,isOwnMessage:_.sender_id===(n==null?void 0:n.id),timestamp:_.created_at,isRead:_.is_read},_.id)),o.jsx("div",{ref:d})]}),o.jsx("div",{className:"px-4 py-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex-shrink-0",children:o.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[o.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),placeholder:"Type a message...",className:"flex-1 min-w-0 px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-700 rounded-full focus:outline-none focus:ring-2 focus:ring-neutral-900 dark:focus:ring-neutral-100 focus:border-transparent bg-neutral-50 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500",disabled:!a||c,"aria-label":"Type your message"}),o.jsx("button",{type:"submit",disabled:!s.trim()||!a||c,className:"p-2 rounded-full bg-neutral-900 text-white hover:opacity-90 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0","aria-label":"Send message",children:o.jsx(bI,{className:"h-4 w-4"})})]})})]})})]}):null}function g1e({content:t,isOwnMessage:e,timestamp:r,isRead:n}){return o.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-2`,children:o.jsxs("div",{className:`max-w-[85%] ${e?"order-last":"order-first"}`,children:[o.jsx("div",{className:e?"px-3 py-2 rounded-2xl shadow-sm bg-neutral-900 text-white border border-neutral-800 rounded-br-md":"px-3 py-2 rounded-2xl shadow-sm bg-white/70 backdrop-blur-sm text-neutral-900 dark:bg-neutral-800/90 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700 rounded-bl-md",children:o.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:t})}),o.jsxs("div",{className:`flex items-center gap-1 mt-1 text-[11px] ${e?"justify-end text-neutral-500 dark:text-neutral-400":"justify-start text-neutral-500 dark:text-neutral-400"}`,children:[o.jsx("span",{children:new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e&&o.jsx("span",{className:`${n?"text-green-500":"text-neutral-400 dark:text-neutral-600"} ml-1`,children:n?"✓✓":"✓"})]})]})})}function v1e({className:t="",showLabel:e=!1}){const{user:r}=Cn(),[n,a]=N.useState(!1),{unreadCount:i,loading:s}=fF((r==null?void 0:r.id)||null),l=()=>{a(!0)},c=()=>{a(!1)};return r?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:l,className:`relative flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors ${t}`,"aria-label":"Open chat support",children:[o.jsxs("div",{className:"relative group",children:[o.jsx(ti,{className:"h-6 w-6 text-gray-600 group-hover:text-rose-500 transition-colors"}),!s&&i>0&&o.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-pulse",children:i>99?"99+":i}),s&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-gray-300 rounded-full h-3 w-3 animate-pulse"})]}),e&&o.jsx("span",{className:"text-sm text-gray-600 group-hover:text-rose-500 transition-colors",children:"Support"})]}),o.jsx(aS,{isOpen:n,onClose:c,initialSubject:"Support Request"})]}):null}function v2({text:t="Chat with us",className:e="",variant:r="primary",subject:n="Contact Inquiry"}){const{user:a}=Cn(),[i,s]=N.useState(!1),l=()=>{s(!0)},c=()=>{s(!1)},u="flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",d={primary:"bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:from-rose-600 hover:to-pink-700 hover:shadow-xl",secondary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:from-blue-600 hover:to-purple-700 hover:shadow-xl",outline:"border-2 border-rose-500 text-rose-500 hover:bg-rose-500 hover:text-white"};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:l,className:`${u} ${d[r]} ${e}`,"aria-label":"Start chat conversation",children:[o.jsx(ti,{className:"h-5 w-5"}),o.jsx("span",{children:t})]}),o.jsx(aS,{isOpen:i,onClose:c,initialSubject:n})]})}function y1e(){const{user:t}=Cn(),[e,r]=N.useState(!1),{unreadCount:n,loading:a}=fF((t==null?void 0:t.id)||null);return t?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-rose-500 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-300 transform hover:scale-110 z-40","aria-label":"Open chat support",children:o.jsxs("div",{className:"relative",children:[o.jsx(ti,{className:"h-6 w-6"}),!a&&n>0&&o.jsx("div",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-bounce",children:n>99?"99+":n})]})}),o.jsx(aS,{isOpen:e,onClose:()=>r(!1),initialSubject:"Support Request"})]}):null}function x1e({onInfoClick:t}){const e=r=>{t&&t(r)};return o.jsx("footer",{className:"bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 text-slate-900 dark:text-white mt-auto",children:o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xo,{className:"h-6 w-6 text-rose-400"}),o.jsx("h3",{className:"text-xl font-bold",children:"Rosémama"})]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:"Fashion that inspires, quality that endures. Creating beautiful pieces for the modern woman since 2014."}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[o.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),o.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.747-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})}),o.jsx("button",{className:"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Shop"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"New Arrivals"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Women"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Men"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Sale"})}),o.jsx("li",{children:o.jsx("button",{className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Size Guide"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Information"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("about"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Xo,{className:"h-3 w-3"}),"About Us"]})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("shipping"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Shipping & Returns"})}),o.jsx("li",{children:o.jsx(v2,{text:"Live Chat Support",variant:"outline",className:"text-sm py-2 px-3 border-slate-400 dark:border-slate-400 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white hover:border-slate-600 dark:hover:border-white",subject:"FAQ & Support Inquiry"})}),o.jsx("li",{children:o.jsx(v2,{text:"Contact Us",variant:"primary",className:"text-sm py-2 px-3",subject:"General Contact Inquiry"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Legal"}),o.jsxs("ul",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("privacy"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(zs,{className:"h-3 w-3"}),"Privacy Policy"]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>e("terms"),className:"hover:text-slate-900 dark:hover:text-white transition-colors flex items-center gap-2",children:[o.jsx(Ks,{className:"h-3 w-3"}),"Terms of Service"]})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("returns"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Return Policy"})})]}),o.jsxs("div",{className:"pt-4",children:[o.jsx("h5",{className:"text-sm font-medium mb-2",children:"Customer Reviews"}),o.jsx(V_,{widgetType:"trustbox",height:"120px",className:"w-full"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Contact"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx(zf,{className:"h-4 w-4"}),"hello@rosemamaclothing.store"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx(B_,{className:"h-4 w-4"}),"+27 735 514 705"]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[o.jsx(F_,{className:"h-4 w-4"}),"Midrand, South Africa"]})]})]})]}),o.jsxs("div",{className:"border-t border-slate-300 dark:border-slate-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"© 2024 Rosémama Clothing. All rights reserved."}),o.jsxs("div",{className:"flex gap-6 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Privacy"}),o.jsx("button",{onClick:()=>e("terms"),className:"hover:text-slate-900 dark:hover:text-white transition-colors",children:"Terms"}),o.jsx(v2,{text:"Support",variant:"outline",className:"text-xs py-1 px-2 border-slate-400 dark:border-slate-400 text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white hover:border-slate-600 dark:hover:border-white",subject:"Footer Support Request"})]})]})]})})}const b1e=()=>{const[t,e]=N.useState([]);return{cart:t,addToCart:(c,u,d,f)=>{e(p=>p.find(g=>g.productId===c.id&&g.size===u&&g.color===d)?p.map(g=>g.productId===c.id&&g.size===u&&g.color===d?{...g,quantity:g.quantity+f}:g):[...p,{productId:c.id,product:c,size:u,color:d,quantity:f}])},removeFromCart:(c,u,d)=>{e(f=>f.filter(p=>!(p.productId===c&&p.size===u&&p.color===d)))},updateCartQuantity:(c,u,d,f)=>{e(p=>f<=0?p.filter(h=>!(h.productId===c&&h.size===u&&h.color===d)):p.map(h=>h.productId===c&&h.size===u&&h.color===d?{...h,quantity:f}:h))},clearCart:()=>{e([])},getTotalItems:()=>t.reduce((c,u)=>c+u.quantity,0),getTotalPrice:()=>t.reduce((c,u)=>c+u.product.price*u.quantity,0)}},gF=N.createContext(void 0),w1e=({children:t})=>{const[e,r]=N.useState("light");N.useEffect(()=>{const a=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=a||(i?"dark":"light");r(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const n=()=>{const a=e==="light"?"dark":"light";r(a),document.documentElement.classList.toggle("dark",a==="dark"),localStorage.setItem("theme",a)};return o.jsx(gF.Provider,{value:{theme:e,toggleTheme:n},children:t})},_1e=()=>{const t=X.useContext(gF);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function j1e(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var iS="ScrollArea",[vF,Uwe]=Mn(iS),[N1e,li]=vF(iS),yF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=t,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(null),[h,g]=N.useState(null),[m,v]=N.useState(null),[x,j]=N.useState(0),[b,_]=N.useState(0),[S,A]=N.useState(!1),[k,O]=N.useState(!1),T=Ut(e,P=>c(P)),R=vd(a);return o.jsx(N1e,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:j,onCornerHeightChange:_,children:o.jsx(ot.div,{dir:R,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});yF.displayName=iS;var xF="ScrollAreaViewport",bF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,s=li(xF,r),l=N.useRef(null),c=Ut(e,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(ot.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});bF.displayName=xF;var ws="ScrollAreaScrollbar",wF=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=li(ws,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=t.orientation==="horizontal";return N.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(S1e,{...n,ref:e,forceMount:r}):a.type==="scroll"?o.jsx(A1e,{...n,ref:e,forceMount:r}):a.type==="auto"?o.jsx(_F,{...n,ref:e,forceMount:r}):a.type==="always"?o.jsx(sS,{...n,ref:e}):null});wF.displayName=ws;var S1e=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=li(ws,t.__scopeScrollArea),[i,s]=N.useState(!1);return N.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(ha,{present:r||i,children:o.jsx(_F,{"data-state":i?"visible":"hidden",...n,ref:e})})}),A1e=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=li(ws,t.__scopeScrollArea),i=t.orientation==="horizontal",s=E0(()=>c("SCROLL_END"),100),[l,c]=j1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(c("SCROLL"),s()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,s]),o.jsx(ha,{present:r||l!=="hidden",children:o.jsx(sS,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:pt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:pt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),_F=N.forwardRef((t,e)=>{const r=li(ws,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,s]=N.useState(!1),l=t.orientation==="horizontal",c=E0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return fd(r.viewport,c),fd(r.content,c),o.jsx(ha,{present:n||i,children:o.jsx(sS,{"data-state":i?"visible":"hidden",...a,ref:e})})}),sS=N.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=li(ws,t.__scopeScrollArea),i=N.useRef(null),s=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=kF(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function f(p,h){return T1e(p,s.current,l,h)}return r==="horizontal"?o.jsx(k1e,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=GT(p,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):r==="vertical"?o.jsx(P1e,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=GT(p,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),k1e=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=li(ws,t.__scopeScrollArea),[s,l]=N.useState(),c=N.useRef(null),u=Ut(e,c,i.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(NF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":O0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),CF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Jg(s.paddingLeft),paddingEnd:Jg(s.paddingRight)}})}})}),P1e=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=li(ws,t.__scopeScrollArea),[s,l]=N.useState(),c=N.useRef(null),u=Ut(e,c,i.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(NF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":O0(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),CF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Jg(s.paddingTop),paddingEnd:Jg(s.paddingBottom)}})}})}),[C1e,jF]=vF(ws),NF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=li(ws,r),[g,m]=N.useState(null),v=Ut(e,T=>m(T)),x=N.useRef(null),j=N.useRef(""),b=h.viewport,_=n.content-n.viewport,S=Wn(d),A=Wn(c),k=E0(f,10);function O(T){if(x.current){const R=T.clientX-x.current.left,P=T.clientY-x.current.top;u({x:R,y:P})}}return N.useEffect(()=>{const T=R=>{const P=R.target;(g==null?void 0:g.contains(P))&&S(R,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,g,_,S]),N.useEffect(A,[n,A]),fd(g,k),fd(h.content,k),o.jsx(C1e,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Wn(i),onThumbPointerUp:Wn(s),onThumbPositionChange:A,onThumbPointerDown:Wn(l),children:o.jsx(ot.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:pt(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),O(T))}),onPointerMove:pt(t.onPointerMove,O),onPointerUp:pt(t.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=j.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Zg="ScrollAreaThumb",SF=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=jF(Zg,t.__scopeScrollArea);return o.jsx(ha,{present:r||a.hasThumb,children:o.jsx(O1e,{ref:e,...n})})}),O1e=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=li(Zg,r),s=jF(Zg,r),{onThumbPositionChange:l}=s,c=Ut(e,f=>s.onThumbChange(f)),u=N.useRef(void 0),d=E0(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const h=I1e(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,l]),o.jsx(ot.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:pt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,m=f.clientY-h.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:pt(t.onPointerUp,s.onThumbPointerUp)})});SF.displayName=Zg;var oS="ScrollAreaCorner",AF=N.forwardRef((t,e)=>{const r=li(oS,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(E1e,{...t,ref:e}):null});AF.displayName=oS;var E1e=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=li(oS,r),[i,s]=N.useState(0),[l,c]=N.useState(0),u=!!(i&&l);return fd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),fd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(ot.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Jg(t){return t?parseInt(t,10):0}function kF(t,e){const r=t/e;return isNaN(r)?0:r}function O0(t){const e=kF(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function T1e(t,e,r,n="ltr"){const a=O0(r),i=a/2,s=e||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return PF([c,u],f)(t)}function GT(t,e,r="ltr"){const n=O0(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,s=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=j_(t,c);return PF([0,s],[0,l])(u)}function PF(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function CF(t,e){return t>0&&t<e}var I1e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&e(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function E0(t,e){const r=Wn(t),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function fd(t,e){const r=Wn(e);nn(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var R1e=yF,L1e=bF,M1e=AF;function D1e({className:t,children:e,...r}){return o.jsxs(R1e,{"data-slot":"scroll-area",className:Ge("relative",t),...r,children:[o.jsx(L1e,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),o.jsx($1e,{}),o.jsx(M1e,{})]})}function $1e({className:t,orientation:e="vertical",...r}){return o.jsx(wF,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Ge("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:o.jsx(SF,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}class F1e{async createNotification(e){try{return this.createNotificationFallback(e)}catch(r){return console.error("Error creating notification:",r),null}}async createNotificationFallback(e){try{const r=crypto.randomUUID(),n={id:r,user_id:e.user_id,type:e.type,category:e.category,title:e.title,message:e.message,data:e.data||{},priority:e.priority||1,action_url:e.action_url,action_text:e.action_text,expires_at:e.expires_at,created_at:new Date().toISOString(),read_at:null};try{const{error:a}=await Ee.from("notifications").insert(n);return a&&(console.warn("Notifications table not available yet. Using localStorage fallback:",a.message),this.storeNotificationLocally(n)),r}catch(a){return console.warn("Database not ready, using localStorage:",a),this.storeNotificationLocally(n),r}}catch(r){return console.error("Error in fallback notification creation:",r),null}}storeNotificationLocally(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r);n.push(e),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("temp_notifications",JSON.stringify(n)),console.log("Notification stored locally (temporary):",e.title)}catch(r){console.error("Error storing notification locally:",r)}}async getUserNotifications(e,r=20,n=0,a=!1){try{const i=window.location.hostname==="localhost"||window.location.hostname.includes("localhost"),{data:s,error:l}=await Ee.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);if(l)return i&&!sessionStorage.getItem("notifications_fallback_logged")&&(console.info("ℹ️ Notifications: Using localStorage fallback (database table not yet created)"),sessionStorage.setItem("notifications_fallback_logged","true")),this.getNotificationsFromLocalStorage(e,r,n,a);let c=s||[];return a&&(c=c.filter(u=>!u.read_at)),c}catch{return this.getNotificationsFromLocalStorage(e,r,n,a)}}getNotificationsFromLocalStorage(e,r,n,a){try{const i=localStorage.getItem("temp_notifications")||"[]";let s=JSON.parse(i);return s=s.filter(l=>l.user_id===e),a&&(s=s.filter(l=>!l.read_at)),s.sort((l,c)=>new Date(c.created_at).getTime()-new Date(l.created_at).getTime()),s.slice(n,n+r)}catch(i){return console.error("Error getting notifications from localStorage:",i),[]}}async getUnreadCount(e){try{const{data:r,error:n}=await Ee.from("notifications").select("id").eq("user_id",e).eq("read_at",null);return n?this.getNotificationsFromLocalStorage(e,1e3,0,!0).length:(r==null?void 0:r.length)||0}catch{return 0}}async markAsRead(e,r){try{const{error:n}=await Ee.from("notifications").update({read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r);return n&&(console.warn("Using localStorage for mark as read:",n.message),this.markAsReadInLocalStorage(e)),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}markAsReadInLocalStorage(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r),a=n.find(i=>i.id===e);a&&(a.read_at=new Date().toISOString(),localStorage.setItem("temp_notifications",JSON.stringify(n)))}catch(r){console.error("Error marking notification as read in localStorage:",r)}}async getNotificationPreferences(e){try{const{data:r,error:n}=await Ee.from("notification_preferences").select("*").eq("user_id",e).maybeSingle();return n?(console.warn("Notification preferences table not available, using defaults:",n.message),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):r||{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){return console.error("Error fetching notification preferences:",r),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}async updateNotificationPreferences(e,r){try{const{error:n}=await Ee.from("notification_preferences").upsert({user_id:e,...r,updated_at:new Date().toISOString()});if(n){console.warn("Notification preferences table not available:",n.message);const a=`notification_preferences_${e}`;return localStorage.setItem(a,JSON.stringify({user_id:e,...r})),!0}return!0}catch(n){return console.error("Error updating notification preferences:",n),!1}}async sendSecurityAlert(e,r,n,a){try{return this.createNotification({user_id:e,type:"security",category:r,title:"Security Alert",message:n,priority:3,data:{alert_type:r,ip_address:a,timestamp:new Date().toISOString()}})}catch(i){return console.error("Error sending security alert:",i),null}}async sendSystemNotification(e,r,n=1,a){try{return console.log("System notification (development mode):",{title:e,message:r,priority:n}),1}catch(i){return console.error("Error sending system notification:",i),0}}subscribeToNotifications(e,r,n){const a=Ee.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},i=>{console.log("New notification received:",i),r(i.new)}).subscribe(i=>{i==="SUBSCRIBED"?(window.location.hostname==="localhost"||window.location.hostname.includes("localhost"))&&!sessionStorage.getItem("notifications_subscription_logged")&&(console.log("📧 Notifications: Real-time subscription active for user:",e),sessionStorage.setItem("notifications_subscription_logged","true")):i==="CHANNEL_ERROR"&&n&&n(i)});return()=>{Ee.removeChannel(a)}}async requestPushPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showPushNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted"&&!await this.requestPushPermission())return!1;try{const n=new Notification(e,{icon:r.icon||"/images/placeholder-product.svg",badge:r.badge||"/images/placeholder-product.svg",body:r.body,tag:r.tag,data:r.data,requireInteraction:!0,...r});return n.onclick=a=>{var i;a.preventDefault(),window.focus(),(i=r.data)!=null&&i.url&&(window.location.href=r.data.url),n.close()},!0}catch(n){return console.error("Error showing push notification:",n),!1}}async cleanupOldNotifications(){return console.log("Cleanup old notifications (development mode)"),0}}const $s=new F1e,B1e={email:av,push:zl,system:U_,order:Th,security:Ih},q1e={1:"bg-blue-500",2:"bg-yellow-500",3:"bg-red-500"};function U1e({className:t}){const{user:e}=Cn(),[r,n]=N.useState([]),[a,i]=N.useState(0),[s,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState("all"),[p,h]=N.useState(0),[g,m]=N.useState(!0),[v,x]=N.useState(!1),j=N.useCallback(async(P=!1)=>{if(!(!(e!=null&&e.id)||c)){u(!0);try{const I=P?0:p,M=d==="unread",D=await $s.getUserNotifications(e.id,20,I*20,M);P?(n(D),h(0)):n(K=>[...K,...D]),m(D.length===20),h(I+1)}catch(I){console.error("Error loading notifications:",I),je.error("Failed to load notifications")}finally{u(!1)}}},[e==null?void 0:e.id,p,d,c]),b=N.useCallback(async()=>{if(e!=null&&e.id)try{const P=await $s.getUnreadCount(e.id);i(P)}catch(P){console.error("Error loading unread count:",P)}},[e==null?void 0:e.id]),_=N.useCallback(async()=>{if(e!=null&&e.id)try{const P=await $s.getNotificationPreferences(e.id);l(P)}catch(P){console.error("Error loading preferences:",P)}},[e==null?void 0:e.id]),S=async P=>{if(e!=null&&e.id)try{await $s.markAsRead(P,e.id)&&(n(M=>M.map(D=>D.id===P?{...D,read_at:new Date().toISOString()}:D)),i(M=>Math.max(0,M-1)),je.success("Notification marked as read"))}catch(I){console.error("Error marking notification as read:",I),je.error("Failed to mark notification as read")}},A=async()=>{if(e!=null&&e.id)try{const I=r.filter(M=>!M.read_at).map(M=>$s.markAsRead(M.id,e.id));await Promise.all(I),n(M=>M.map(D=>({...D,read_at:D.read_at||new Date().toISOString()}))),i(0),je.success("All notifications marked as read")}catch(P){console.error("Error marking all as read:",P),je.error("Failed to mark all notifications as read")}},k=async(P,I)=>{if(!(!(e!=null&&e.id)||!s))try{const M={...s,[P]:I};await $s.updateNotificationPreferences(e.id,{[P]:I})&&(l(M),je.success("Notification preferences updated"))}catch(M){console.error("Error updating preferences:",M),je.error("Failed to update preferences")}},O=async()=>{try{await $s.requestPushPermission()?(je.success("Push notifications enabled"),k("push_notifications",!0)):(je.error("Push notifications denied"),k("push_notifications",!1))}catch(P){console.error("Error requesting push permission:",P),je.error("Failed to request push permission")}},T=r.filter(P=>{switch(d){case"unread":return!P.read_at;case"system":return P.type==="system";case"order":return P.type==="order";case"security":return P.type==="security";default:return!0}});N.useEffect(()=>{e!=null&&e.id&&(j(!0),b(),_())},[e==null?void 0:e.id,d]),N.useEffect(()=>e!=null&&e.id?$s.subscribeToNotifications(e.id,I=>{n(M=>[I,...M]),i(M=>M+1),s!=null&&s.push_notifications&&$s.showPushNotification(I.title,{body:I.message,tag:I.id,data:{notificationId:I.id,url:I.action_url}}),je.info(`New notification: ${I.title}`)}):void 0,[e==null?void 0:e.id,s==null?void 0:s.push_notifications]);const R=P=>{const I=new Date(P),D=Math.floor((new Date().getTime()-I.getTime())/(1e3*60*60));return D<1?"Just now":D<24?`${D}h ago`:D<168?`${Math.floor(D/24)}d ago`:I.toLocaleDateString()};return o.jsxs(Oi,{open:v,onOpenChange:x,children:[o.jsx(uj,{asChild:!0,children:o.jsxs(be,{variant:"ghost",size:"icon",className:`relative ${t}`,children:[o.jsx(zl,{className:"h-5 w-5"}),a>0&&o.jsx(Nt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:a>99?"99+":a})]})}),o.jsxs(ai,{className:"max-w-2xl max-h-[80vh]",children:[o.jsx(Ei,{children:o.jsxs(Ti,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zl,{className:"h-5 w-5"}),"Notifications",a>0&&o.jsxs(Nt,{variant:"secondary",children:[a," unread"]})]}),a>0&&o.jsxs(be,{size:"sm",variant:"outline",onClick:A,children:[o.jsx(rv,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})}),o.jsxs(ro,{defaultValue:"notifications",className:"w-full",children:[o.jsxs(no,{className:"grid w-full grid-cols-2",children:[o.jsx(gr,{value:"notifications",children:"Notifications"}),o.jsx(gr,{value:"settings",children:"Settings"})]}),o.jsxs(vr,{value:"notifications",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uf,{className:"h-4 w-4"}),o.jsxs(Da,{value:d,onValueChange:P=>f(P),children:[o.jsx(Fa,{className:"w-40",children:o.jsx($a,{})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"all",children:"All"}),o.jsx(Ye,{value:"unread",children:"Unread"}),o.jsx(Ye,{value:"system",children:"System"}),o.jsx(Ye,{value:"order",children:"Orders"}),o.jsx(Ye,{value:"security",children:"Security"})]})]})]}),o.jsx(D1e,{className:"h-96",children:o.jsxs("div",{className:"space-y-3",children:[T.map(P=>{const I=B1e[P.type]||zl,M=!P.read_at;return o.jsx(De,{className:`${M?"border-blue-200 bg-blue-50/50":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>M&&S(P.id),children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:`p-2 rounded-full ${q1e[P.priority]} text-white`,children:o.jsx(I,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h4",{className:`font-medium ${M?"text-blue-900":"text-gray-900"}`,children:P.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:R(P.created_at)}),M&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.message}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(Nt,{variant:"outline",className:"text-xs",children:P.type}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:P.category})]}),P.action_url&&P.action_text&&o.jsx(be,{size:"sm",variant:"link",className:"p-0 h-auto mt-2",onClick:D=>{D.stopPropagation(),window.open(P.action_url,"_blank")},children:P.action_text})]})]})})},P.id)}),T.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(zl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No notifications found"})]}),g&&o.jsx(be,{variant:"outline",onClick:()=>j(!1),disabled:c,className:"w-full",children:"Load More"})]})})]}),o.jsx(vr,{value:"settings",className:"space-y-4",children:s&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{className:"text-lg",children:"Notification Preferences"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),o.jsx(vu,{checked:s.email_notifications,onCheckedChange:P=>k("email_notifications",P)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Push Notifications"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vu,{checked:s.push_notifications,onCheckedChange:P=>{P?O():k("push_notifications",!1)}}),!s.push_notifications&&o.jsx(be,{size:"sm",variant:"outline",onClick:O,children:"Enable"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"System Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications"})]}),o.jsx(vu,{checked:s.system_alerts,onCheckedChange:P=>k("system_alerts",P)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Order Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for order updates"})]}),o.jsx(vu,{checked:s.order_alerts,onCheckedChange:P=>k("order_alerts",P)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Security Alerts"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Security-related notifications"})]}),o.jsx(vu,{checked:s.security_alerts,onCheckedChange:P=>k("security_alerts",P)})]})]})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{className:"text-lg",children:"Browser Settings"})}),o.jsx($e,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Push Notification Status"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Current permission: ",typeof window<"u"&&"Notification"in window?Notification.permission:"Not supported"]})]}),o.jsx(be,{onClick:O,variant:"outline",children:"Request Push Permission"})]})})]})]})})]})]})]})}const z1e=({onSearch:t,cartItemCount:e=0,onProfileClick:r,onInfoClick:n})=>{const[a,i]=N.useState(""),[s,l]=N.useState(!1),{theme:c,toggleTheme:u}=_1e(),{cart:d}=b1e(),{user:f}=Cn(),p=(d==null?void 0:d.reduce((m,v)=>m+v.quantity,0))||e,h=N.useCallback(m=>{m.preventDefault(),t==null||t(a)},[t,a]),g=[{name:"New Arrivals",href:"#new",icon:Rm,onClick:()=>{}},{name:"Women",href:"#women",icon:NI,onClick:()=>{}},{name:"Men",href:"#men",icon:jz,onClick:()=>{}},{name:"Sale",href:"#sale",icon:wI,onClick:()=>{}},{name:"About",href:"#about",icon:av,onClick:()=>n==null?void 0:n()}];return o.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex h-16 items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("a",{href:"#",className:"text-2xl font-bold text-primary",children:["Rosemama",o.jsx("br",{}),o.jsx("span",{className:"text-xs mt-1 block",children:"CLOTHING"})]})}),o.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:g.map(m=>{const v=m.icon;return o.jsx("button",{onClick:m.onClick,className:"p-2 rounded-md text-foreground hover:text-primary hover:bg-muted transition-colors",title:m.name,"aria-label":m.name,children:o.jsx(v,{className:"h-5 w-5"})},m.name)})}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:o.jsx("form",{onSubmit:h,className:"w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(Ft,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 bg-muted/50 border-0 focus:bg-background"})]})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(be,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full hover:bg-muted","aria-label":"Toggle theme",children:c==="dark"?o.jsx(Wf,{className:"h-5 w-5"}):o.jsx(Em,{className:"h-5 w-5"})}),f&&o.jsx(U1e,{className:"rounded-full hover:bg-muted"}),f&&o.jsx(v1e,{className:"rounded-full hover:bg-muted"}),o.jsxs(be,{variant:"ghost",size:"icon",className:"relative rounded-full hover:bg-muted",children:[o.jsx(Im,{className:"h-5 w-5"}),p>0&&o.jsx(Nt,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-primary text-[10px] font-bold",children:p})]}),o.jsx(oZ,{}),o.jsx(be,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted",onClick:r,children:o.jsx(to,{className:"h-5 w-5"})}),o.jsxs(hF,{open:s,onOpenChange:l,children:[o.jsx(nS,{asChild:!0,children:o.jsx(be,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted",children:o.jsx(vI,{className:"h-5 w-5"})})}),o.jsx(pF,{side:"right",className:"w-[300px] sm:w-[400px]",children:o.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[o.jsx("form",{onSubmit:h,children:o.jsxs("div",{className:"relative",children:[o.jsx(Qs,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(Ft,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10"})]})}),o.jsx("nav",{className:"flex flex-col space-y-3",children:g.map(m=>{const v=m.icon;return o.jsxs("button",{onClick:()=>{m.onClick(),l(!1)},className:"flex items-center text-lg font-medium text-foreground hover:text-primary transition-colors py-2 text-left",children:[o.jsx(v,{className:"h-5 w-5 mr-3"}),m.name]},m.name)})}),o.jsxs("div",{className:"flex flex-col space-y-3 border-t pt-4",children:[o.jsx(be,{variant:"ghost",className:"justify-start",onClick:u,children:c==="dark"?o.jsxs(o.Fragment,{children:[o.jsx(Wf,{className:"h-4 w-4 mr-2"})," Light mode"]}):o.jsxs(o.Fragment,{children:[o.jsx(Em,{className:"h-4 w-4 mr-2"})," Dark mode"]})}),o.jsxs(be,{variant:"ghost",className:"justify-start",children:[o.jsx(to,{className:"h-4 w-4 mr-2"}),"Account"]}),o.jsxs(be,{variant:"ghost",className:"justify-start",children:[o.jsx(Im,{className:"h-4 w-4 mr-2"}),"Cart (",p,")"]})]})]})})]})]})]})})})},W1e=N.memo(z1e);function H1e({currentPage:t,onPageChange:e}){const{isAdmin:r}=Cn(),{items:n}=Mh(),a=n?n.reduce((s,l)=>s+l.quantity,0):0,i=[{id:"home",label:"Home",icon:gU},{id:"catalog",label:"Shop",icon:Qs},{id:"cart",label:"Cart",icon:z_,badge:a},{id:"rewards",label:"Rewards",icon:hI},{id:"profile",label:"Profile",icon:to},...r?[{id:"admin",label:"Admin",icon:U_}]:[]];return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-40",children:o.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:i.map(s=>o.jsxs(be,{variant:"ghost",className:`flex-col h-auto p-2 min-w-0 flex-1 ${t===s.id?"text-primary":"text-muted-foreground"}`,onClick:()=>e(s.id),children:[o.jsxs("div",{className:"relative",children:[o.jsx(s.icon,{className:"h-5 w-5"}),s.badge&&s.badge>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-4 w-4 flex items-center justify-center",children:s.badge>9?"9+":s.badge})]}),o.jsx("span",{className:"text-xs mt-1",children:s.label})]},s.id))})})}function V1e(){const{user:t,loading:e}=Cn(),[r,n]=N.useState(null);if(e)return o.jsx("div",{className:"text-center py-12",children:"Loading rewards..."});if(!t)return o.jsx("div",{className:"text-center py-12",children:"Please sign in to view your rewards."});const a=p=>{console.log("User update requested:",p),je.info("User data is managed globally now.")},i={Bronze:{minPoints:0,color:"bg-orange-600",benefits:["5% cashback","Birthday discount"]},Silver:{minPoints:500,color:"bg-gray-400",benefits:["7% cashback","Free shipping","Early access"]},Gold:{minPoints:1e3,color:"bg-yellow-500",benefits:["10% cashback","Free express shipping","VIP support","Exclusive events"]}},s=t.membershipTier==="Bronze"?"Silver":t.membershipTier==="Silver"?"Gold":null,l=s?i[s].minPoints-t.points:0,c=s?t.points/i[s].minPoints*100:100,u=[{id:"1",name:"$5 Off Next Purchase",cost:100,type:"discount",icon:xy},{id:"2",name:"$10 Off Next Purchase",cost:200,type:"discount",icon:xy},{id:"3",name:"Free Standard Shipping",cost:50,type:"shipping",icon:Mu},{id:"4",name:"Free Express Shipping",cost:150,type:"shipping",icon:Mu},{id:"5",name:"$25 Off Next Purchase",cost:500,type:"discount",icon:xy},{id:"6",name:"Exclusive Access Item",cost:750,type:"access",icon:eU}],d=[{date:"2024-01-15",type:"earned",points:50,description:"Purchase at Rosemama"},{date:"2024-01-10",type:"earned",points:25,description:"Product Review"},{date:"2024-01-05",type:"redeemed",points:-100,description:"$5 Off Discount Used"},{date:"2024-01-01",type:"earned",points:100,description:"New Year Bonus"}],f=p=>{t.points>=p.cost?(a({...t,points:t.points-p.cost}),je.success(`${p.name} redeemed successfully!`)):je.error("Insufficient points to redeem this reward")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards & Membership"}),o.jsx("p",{className:"text-muted-foreground",children:"Earn points with every purchase and unlock exclusive benefits"})]}),o.jsx(De,{className:"mb-6",children:o.jsxs($e,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${i[t.membershipTier].color}`}),o.jsxs("h3",{className:"text-xl font-semibold",children:[t.membershipTier," Member"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold",children:t.points}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]}),s&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsxs("span",{children:["Progress to ",s]}),o.jsxs("span",{children:[l," points to go"]})]}),o.jsx(Iu,{value:c,className:"h-2"})]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:i[t.membershipTier].benefits.map((p,h)=>o.jsx("div",{className:"text-center p-3 bg-secondary/30 rounded-lg",children:o.jsx("div",{className:"text-sm font-medium",children:p})},h))})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Rewards"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(p=>o.jsx(De,{className:`cursor-pointer transition-all ${t.points>=p.cost?"hover:shadow-md hover:scale-105":"opacity-60"}`,onClick:()=>t.points>=p.cost&&f(p),children:o.jsxs($e,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${p.type==="discount"?"bg-green-100":p.type==="shipping"?"bg-blue-100":"bg-purple-100"}`,children:o.jsx(p.icon,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium",children:p.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("span",{className:"text-sm font-medium",children:[p.cost," pts"]}),t.points>=p.cost?o.jsx(Nt,{variant:"secondary",className:"text-xs",children:"Available"}):o.jsxs(Nt,{variant:"outline",className:"text-xs",children:["Need ",p.cost-t.points," more"]})]})]})]}),o.jsx(be,{className:"w-full",size:"sm",disabled:t.points<p.cost,onClick:h=>{h.stopPropagation(),f(p)},children:t.points>=p.cost?"Redeem":"Insufficient Points"})]})},p.id))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsxs(jt,{className:"flex items-center gap-2",children:[o.jsx(qr,{className:"h-5 w-5"}),"How to Earn Points"]})}),o.jsxs($e,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Every $1 spent"}),o.jsx("span",{className:"text-sm font-medium",children:"1 point"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Product review"}),o.jsx("span",{className:"text-sm font-medium",children:"25 points"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Birthday bonus"}),o.jsx("span",{className:"text-sm font-medium",children:"100 points"})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Referral bonus"}),o.jsx("span",{className:"text-sm font-medium",children:"200 points"})]})]})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Recent Activity"})}),o.jsx($e,{className:"space-y-3",children:d.map((p,h)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium",children:p.description}),o.jsx("div",{className:"text-xs text-muted-foreground",children:p.date})]}),o.jsxs("div",{className:`text-sm font-medium ${p.type==="earned"?"text-green-600":"text-orange-600"}`,children:[p.type==="earned"?"+":"",p.points]})]},h))})]})]})]}),o.jsx(rl,{})]})}var lS="Radio",[G1e,OF]=Mn(lS),[K1e,Y1e]=G1e(lS),EF=N.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=t,[f,p]=N.useState(null),h=Ut(e,v=>p(v)),g=N.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(K1e,{scope:r,checked:a,disabled:s,children:[o.jsx(ot.button,{type:"button",role:"radio","aria-checked":a,"data-state":LF(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:h,onClick:pt(t.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(RF,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});EF.displayName=lS;var TF="RadioIndicator",IF=N.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=Y1e(TF,r);return o.jsx(ha,{present:n||i.checked,children:o.jsx(ot.span,{"data-state":LF(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});IF.displayName=TF;var X1e="RadioBubbleInput",RF=N.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=N.useRef(null),l=Ut(s,i),c=f0(r),u=l0(e);return N.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(ot.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RF.displayName=X1e;function LF(t){return t?"checked":"unchecked"}var Z1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T0="RadioGroup",[J1e,zwe]=Mn(T0,[bv,OF]),MF=bv(),DF=OF(),[Q1e,ewe]=J1e(T0),$F=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=t,h=MF(r),g=vd(u),[m,v]=ni({prop:i,defaultProp:a??null,onChange:f,caller:T0});return o.jsx(Q1e,{scope:r,name:n,required:s,disabled:l,value:m,onValueChange:v,children:o.jsx(iL,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:o.jsx(ot.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...p,ref:e})})})});$F.displayName=T0;var FF="RadioGroupItem",BF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=ewe(FF,r),s=i.disabled||n,l=MF(r),c=DF(r),u=N.useRef(null),d=Ut(e,u),f=i.value===a.value,p=N.useRef(!1);return N.useEffect(()=>{const h=m=>{Z1e.includes(m.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),o.jsx(sL,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(EF,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:pt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:pt(a.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});BF.displayName=FF;var twe="RadioGroupIndicator",qF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=DF(r);return o.jsx(IF,{...a,...n,ref:e})});qF.displayName=twe;var rwe=$F,nwe=BF,awe=qF;function iwe({className:t,...e}){return o.jsx(rwe,{"data-slot":"radio-group",className:Ge("grid gap-3",t),...e})}function y2({className:t,...e}){return o.jsx(nwe,{"data-slot":"radio-group-item",className:Ge("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(awe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:o.jsx(D_,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function swe({items:t,user:e,onOrderComplete:r,onBack:n}){const{isGuestCart:a}=Mh(),[i,s]=N.useState({firstName:(e==null?void 0:e.name.split(" ")[0])||"",lastName:(e==null?void 0:e.name.split(" ")[1])||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:"",city:"",state:"",zipCode:"",country:"South Africa"}),[l,c]=N.useState("cash-on-delivery"),[u,d]=N.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[f,p]=N.useState(!1),[h,g]=N.useState({password:"",confirmPassword:""}),[m,v]=N.useState(!1),[x,j]=N.useState(!1),b=t.reduce((T,R)=>T+R.product.price*R.quantity,0),_=m&&e?Math.min(e.points*.01,b*.2):0,S=b>100?0:9.99,A=(b-_)*.08,k=b-_+S+A,O=async T=>{T.preventDefault(),j(!0);try{if(!i.address||!i.city||!i.state||!i.zipCode){je.error("Please fill in all shipping address fields"),j(!1);return}if(l==="credit-card"&&(!u.cardNumber||!u.expiryDate||!u.cvv)){je.error("Please fill in all payment details"),j(!1);return}if(!e&&f){if(!h.password||h.password.length<6){je.error("Password must be at least 6 characters long"),j(!1);return}if(h.password!==h.confirmPassword){je.error("Passwords do not match"),j(!1);return}}const R={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zipCode:i.zipCode,country:i.country,paymentMethod:l,usePointsDiscount:m,pointsUsed:m&&e?Math.min(e.points,Math.floor(b*20)):0};let P;if(e)P=await GI(R);else{const M={email:i.email,firstName:i.firstName,lastName:i.lastName,phone:i.phone};P=await KI(t,R,M,f,f?h.password:void 0)}if(!P)throw new Error("Failed to create order");try{const M=`${i.firstName} ${i.lastName}`,D=i.email,K=t.map($=>({id:$.productId,name:$.product.name,image:$.product.images[0]}));await Fz({customerEmail:D,customerName:M,orderId:P.toString(),products:K})}catch(M){console.warn("Failed to send Trustpilot invitations:",M)}a&&localStorage.removeItem("rosemama_guest_cart");let I="Order placed successfully!";!e&&f&&(I+=" Check your email to verify your account for order tracking."),l==="cash-on-delivery"?(I=`Order placed successfully! Pay R${k.toFixed(2)} on delivery.`,!e&&f&&(I+=" Check your email to verify your account.")):l==="bank-transfer"?(I=`Order placed successfully! Please send R${k.toFixed(2)} to our bank account.`,!e&&f&&(I+=" Check your email to verify your account.")):I=`Order placed successfully! Payment processed via ${l}.`,je.success(I),r()}catch(R){console.error("Order submission failed:",R),je.error(R instanceof Error?R.message:"Failed to place order. Please try again.")}finally{j(!1)}};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[o.jsxs(be,{variant:"ghost",onClick:n,className:"mb-6",children:[o.jsx(ev,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),o.jsx("form",{onSubmit:O,children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Shipping Information"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"firstName",children:"First Name"}),o.jsx(Ft,{id:"firstName",value:i.firstName,onChange:T=>s(R=>({...R,firstName:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"lastName",children:"Last Name"}),o.jsx(Ft,{id:"lastName",value:i.lastName,onChange:T=>s(R=>({...R,lastName:T.target.value})),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"email",children:"Email"}),o.jsx(Ft,{id:"email",type:"email",value:i.email,onChange:T=>s(R=>({...R,email:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"phone",children:"Phone"}),o.jsx(Ft,{id:"phone",type:"tel",value:i.phone,onChange:T=>s(R=>({...R,phone:T.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"address",children:"Address"}),o.jsx(Ft,{id:"address",value:i.address,onChange:T=>s(R=>({...R,address:T.target.value})),placeholder:"Street address",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"city",children:"City"}),o.jsx(Ft,{id:"city",value:i.city,onChange:T=>s(R=>({...R,city:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"state",children:"Province"}),o.jsxs(Da,{value:i.state,onValueChange:T=>s(R=>({...R,state:T})),children:[o.jsx(Fa,{children:o.jsx($a,{placeholder:"Select province"})}),o.jsxs(Ba,{children:[o.jsx(Ye,{value:"EC",children:"Eastern Cape"}),o.jsx(Ye,{value:"FS",children:"Free State"}),o.jsx(Ye,{value:"GP",children:"Gauteng"}),o.jsx(Ye,{value:"KZN",children:"KwaZulu-Natal"}),o.jsx(Ye,{value:"LP",children:"Limpopo"}),o.jsx(Ye,{value:"MP",children:"Mpumalanga"}),o.jsx(Ye,{value:"NC",children:"Northern Cape"}),o.jsx(Ye,{value:"NW",children:"North West"}),o.jsx(Ye,{value:"WC",children:"Western Cape"})]})]})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"zipCode",children:"Postal Code"}),o.jsx(Ft,{id:"zipCode",value:i.zipCode,onChange:T=>s(R=>({...R,zipCode:T.target.value})),required:!0})]})]})]})]}),!e&&o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Account Options"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(C_,{id:"createAccount",checked:f,onCheckedChange:T=>p(T)}),o.jsx(It,{htmlFor:"createAccount",className:"text-sm",children:"Create an account to track your orders and earn rewards points"})]}),f&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"password",children:"Password"}),o.jsx(Ft,{id:"password",type:"password",value:h.password,onChange:T=>g(R=>({...R,password:T.target.value})),placeholder:"Create a password",required:f})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(Ft,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:T=>g(R=>({...R,confirmPassword:T.target.value})),placeholder:"Confirm your password",required:f})]})]})]})]}),o.jsxs(De,{children:[o.jsx(_t,{children:o.jsx(jt,{children:"Payment Method"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsxs(iwe,{value:l,onValueChange:c,children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(y2,{value:"cash-on-delivery",id:"cash-on-delivery"}),o.jsxs(It,{htmlFor:"cash-on-delivery",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx(dU,{className:"h-4 w-4"}),"Cash on Delivery"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(y2,{value:"bank-transfer",id:"bank-transfer"}),o.jsxs(It,{htmlFor:"bank-transfer",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),"Bank Transfer (Manual Payment)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(y2,{value:"credit-card",id:"credit-card"}),o.jsxs(It,{htmlFor:"credit-card",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[o.jsx($_,{className:"h-4 w-4"}),"Credit/Debit Card"]})]}),l==="bank-transfer"&&o.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[o.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Bank Transfer Details:"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Account Name:"})," CLARA RANYAMA"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bank:"})," FNB"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Account Number:"})," 62804733766"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Branch Code:"})," 250655"]}),o.jsxs("p",{className:"text-blue-600 mt-2",children:[o.jsx("strong",{children:"Reference:"})," Dolls send me proof of payment ✌"]})]})]})]}),l==="credit-card"&&o.jsxs("div",{className:"space-y-4 mt-4 p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"cardNumber",children:"Card Number"}),o.jsx(Ft,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:T=>d(R=>({...R,cardNumber:T.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{htmlFor:"expiryDate",children:"Expiry Date"}),o.jsx(Ft,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:T=>d(R=>({...R,expiryDate:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"cvv",children:"CVV"}),o.jsx(Ft,{id:"cvv",placeholder:"123",value:u.cvv,onChange:T=>d(R=>({...R,cvv:T.target.value})),required:!0})]}),o.jsxs("div",{children:[o.jsx(It,{htmlFor:"cardholderName",children:"Cardholder"}),o.jsx(Ft,{id:"cardholderName",placeholder:"Full name",value:u.cardholderName,onChange:T=>d(R=>({...R,cardholderName:T.target.value}))})]})]})]})]})]})]}),o.jsx("div",{children:o.jsxs(De,{className:"sticky top-24",children:[o.jsx(_t,{children:o.jsx(jt,{children:"Order Summary"})}),o.jsxs($e,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:t.map(T=>o.jsxs("div",{className:"flex gap-3",children:[o.jsx(b8,{src:T.product.images[0],alt:T.product.name,className:"w-12 h-12 object-cover rounded",loading:"eager"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium line-clamp-1",children:T.product.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.size," • ",T.color," • Qty ",T.quantity]})]}),o.jsxs("span",{className:"text-sm font-medium",children:["R",(T.product.price*T.quantity).toFixed(2)]})]},`${T.productId}-${T.size}-${T.color}`))}),o.jsx(Jn,{}),e&&e.points>0&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(C_,{id:"use-points",checked:m,onCheckedChange:T=>v(T)}),o.jsxs(It,{htmlFor:"use-points",className:"text-sm",children:["Use ",Math.min((e==null?void 0:e.points)||0,Math.floor(b*20))," points (save R",_.toFixed(2),")"]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R",b.toFixed(2)]})]}),_>0&&o.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[o.jsx("span",{children:"Points Discount"}),o.jsxs("span",{children:["-R",_.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:S===0?o.jsx("span",{className:"text-green-600",children:"FREE"}):`R${S.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax"}),o.jsxs("span",{children:["R",A.toFixed(2)]})]})]}),o.jsx(Jn,{}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R",k.toFixed(2)]})]}),o.jsx(be,{type:"submit",className:"w-full",size:"lg",disabled:x,children:x?"Processing...":`Place Order - R${k.toFixed(2)}`}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By placing your order, you agree to our Terms & Conditions and Privacy Policy."})]})]})})]})}),o.jsx(rl,{})]})}var owe=(t,e,r,n,a,i,s,l)=>{let c=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(g=>{let m=g==="class",v=m&&i?a.map(x=>i[x]||x):a;m?(c.classList.remove(...v),c.classList.add(i&&i[h]?i[h]:h)):c.setAttribute(g,h)}),f(h)}function f(h){l&&u.includes(h)&&(c.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let h=localStorage.getItem(e)||r,g=s&&h==="system"?p():h;d(g)}catch{}},lwe=N.createContext(void 0),cwe={setTheme:t=>{},themes:[]},uwe=()=>{var t;return(t=N.useContext(lwe))!=null?t:cwe};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,e,i,t,l,s,n,a]).slice(1,-1);return N.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${owe.toString()})(${d})`}})});const dwe=({...t})=>{const{theme:e="system"}=uwe();return o.jsx(OV,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function fwe({isOpen:t,mode:e,onClose:r,onLoginSuccess:n,onSignupSuccess:a,onSwitchMode:i,title:s,description:l}){const{signIn:c,signUp:u}=Cn(),[d,f]=N.useState(!1),[p,h]=N.useState(!1),[g,m]=N.useState({email:"",password:"",name:"",confirmPassword:""}),v=(_,S)=>{m(A=>({...A,[_]:S}))},x=async _=>{_.preventDefault(),f(!0);const S=await c(g.email,g.password);f(!1),S?n():je.error("Login failed. Please check your credentials.")},j=async _=>{if(_.preventDefault(),g.password!==g.confirmPassword){je.error("Passwords do not match.");return}f(!0);const S=await u(g.email,g.password,g.name);f(!1),S?a():je.error("Signup failed. Please try again.")},b=_=>{je.info(`Social login with ${_} is not yet implemented.`)};return o.jsx(Oi,{open:t,onOpenChange:r,children:o.jsxs(ai,{className:"sm:max-w-[425px]",children:[o.jsxs(Ei,{children:[o.jsx(Ti,{children:s||(e==="login"?"Sign In":"Create Account")}),l&&o.jsx(dj,{children:l})]}),o.jsxs(ro,{value:e,onValueChange:_=>i(_),className:"w-full",children:[o.jsxs(no,{className:"grid w-full grid-cols-2",children:[o.jsx(gr,{value:"login",children:"Login"}),o.jsx(gr,{value:"signup",children:"Sign Up"})]}),o.jsx(vr,{value:"login",children:o.jsxs(De,{children:[o.jsxs(_t,{children:[o.jsx(jt,{children:"Welcome Back"}),o.jsx(BA,{children:"Enter your credentials to access your account."})]}),o.jsxs($e,{children:[o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"login-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ft,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"login-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ft,{id:"login-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),o.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?o.jsx(_2,{className:"h-4 w-4"}):o.jsx(ri,{className:"h-4 w-4"})})]})]}),o.jsx(be,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]}),o.jsx("div",{className:"mt-4 text-center text-sm",children:o.jsx("a",{href:"#",className:"underline",onClick:()=>je.info("Password reset coming soon!"),children:"Forgot your password?"})})]})]})}),o.jsx(vr,{value:"signup",children:o.jsxs(De,{children:[o.jsxs(_t,{children:[o.jsx(jt,{children:"Create an Account"}),o.jsx(BA,{children:"Join us to get the best shopping experience."})]}),o.jsx($e,{children:o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"signup-name",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(to,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ft,{id:"signup-name",placeholder:"John Doe",required:!0,className:"pl-10",value:g.name,onChange:_=>v("name",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ft,{id:"signup-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ft,{id:"signup-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),o.jsx(be,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?o.jsx(_2,{className:"h-4 w-4"}):o.jsx(ri,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(It,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ft,{id:"signup-confirm-password",type:"password",required:!0,className:"pl-10",value:g.confirmPassword,onChange:_=>v("confirmPassword",_.target.value)})]})]}),o.jsx(be,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(be,{variant:"outline",onClick:()=>b("Google"),children:"Google"}),o.jsx(be,{variant:"outline",onClick:()=>b("Facebook"),children:"Facebook"})]})]})})}const hwe={success:rv,error:rc,warning:Ih,info:av},pwe={success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800",warning:"border-yellow-200 bg-yellow-50 text-yellow-800",info:"border-blue-200 bg-blue-50 text-blue-800"},mwe={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function gwe({notification:t,onClose:e}){const[r,n]=N.useState(!1),[a,i]=N.useState(!1),s=hwe[t.type];N.useEffect(()=>{n(!0);const c=t.duration||5e3;if(c>0){const u=setTimeout(()=>{l()},c);return()=>clearTimeout(u)}},[t.duration]);const l=()=>{i(!0),setTimeout(()=>{e(t.id)},200)};return o.jsx(De,{className:`
        ${pwe[t.type]}
        border shadow-lg transition-all duration-200 mb-2
        ${r&&!a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${a?"translate-x-full opacity-0":""}
      `,children:o.jsx($e,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(s,{className:`h-5 w-5 mt-0.5 ${mwe[t.type]}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm",children:t.title}),o.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.action&&o.jsx(be,{size:"sm",variant:"ghost",className:"mt-2 h-8 px-2 text-xs",onClick:t.action.onClick,children:t.action.label})]}),o.jsx(be,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",onClick:l,children:o.jsx(Ys,{className:"h-4 w-4"})})]})})})}const vwe=X.createContext(null);function ywe({children:t,position:e="top-right",maxToasts:r=5}){const[n,a]=N.useState([]),i=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),s=m=>{const v=i(),x={...m,id:v};a(j=>[x,...j].slice(0,r))},l=(m,v="",x)=>{s({title:m,message:v,type:"success",action:x})},c=(m,v="",x)=>{s({title:m,message:v,type:"error",action:x,duration:8e3})},u=(m,v="",x)=>{s({title:m,message:v,type:"warning",action:x,duration:6e3})},d=(m,v="",x)=>{s({title:m,message:v,type:"info",action:x})},f=m=>{a(v=>v.filter(x=>x.id!==m))},p=()=>{a([])},h=()=>{switch(e){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},g={showToast:s,showSuccess:l,showError:c,showWarning:u,showInfo:d,dismissToast:f,dismissAll:p};return o.jsxs(vwe.Provider,{value:g,children:[t,o.jsx("div",{className:`fixed z-50 ${h()} w-80 max-w-sm pointer-events-none`,style:{maxHeight:"90vh",overflowY:"auto"},children:o.jsx("div",{className:"space-y-2 pointer-events-auto",children:n.map(m=>o.jsx(gwe,{notification:m,onClose:f},m.id))})})]})}const xwe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null);N.useEffect(()=>{(async()=>{try{n(!0);const{data:u,error:d}=await Ee.from("products").select("id, name, image_url, images").limit(5);if(d)throw d;console.log("🔍 Raw Supabase products data:",u),e(u||[])}catch(u){console.error("❌ Error fetching products:",u),i(u instanceof Error?u.message:"Unknown error")}finally{n(!1)}})()},[]);const s=async c=>{try{const u=await fetch(c,{method:"HEAD"});return{url:c,status:u.status,ok:u.ok,statusText:u.statusText}}catch(u){return{url:c,status:0,ok:!1,statusText:u instanceof Error?u.message:"Network error"}}},l=async c=>{console.log("🧪 Testing URL:",c);const u=await s(c);console.log("📊 URL Test Result:",u),alert(`URL: ${c}
Status: ${u.status}
OK: ${u.ok}
Message: ${u.statusText}`)};return r?o.jsx("div",{className:"p-4",children:"Loading products for debugging..."}):a?o.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",a]}):o.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🔍 Image URL Debugger"}),o.jsx("div",{className:"space-y-4",children:t.map(c=>o.jsxs("div",{className:"border p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold",children:c.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",c.id]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h4",{className:"font-medium",children:"Raw Data:"}),o.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify({image_url:c.image_url,images:c.images},null,2)})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("h4",{className:"font-medium",children:"Generated URLs:"}),o.jsxs("div",{className:"space-y-2",children:[c.image_url&&o.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"From image_url:"}),c.image_url.startsWith("/images/")?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Path with /images/ prefix → Storage URL"}),o.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images",c.image_url]})]}):c.image_url.startsWith("http")?o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Full HTTP URL"}),o.jsxs("button",{onClick:()=>l(c.image_url),className:"text-blue-600 underline text-sm",children:["Test: ",c.image_url]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-xs",children:"Storage path → Full URL"}),o.jsxs("button",{onClick:()=>l(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/",c.image_url]})]})]}),c.images&&Array.isArray(c.images)&&c.images.length>0&&o.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"From images array:"}),c.images.map((u,d)=>o.jsx("div",{className:"mt-1",children:o.jsxs("button",{onClick:()=>l(typeof u=="string"?u:String(u)),className:"text-green-600 underline text-sm block",children:["Test [",d,"]: ",typeof u=="string"?u:String(u)]})},d))]})]})]})]},c.id))}),o.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-yellow-800",children:"🎯 Instructions:"}),o.jsxs("ol",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[o.jsx("li",{children:'1. Click on the "Test:" links to check if image URLs are accessible'}),o.jsx("li",{children:"2. Check the browser network tab for detailed error responses"}),o.jsx("li",{children:"3. Check the console for raw data structure"}),o.jsx("li",{children:"4. Compare expected URLs vs actual storage structure"})]})]})]})};function bwe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a,loading:i}=Lh(),[s,l]=N.useState("featured"),[c,u]=N.useState("grid"),[d,f]=N.useState(new Set),p=N.useMemo(()=>{let g=[...a];switch(t&&(g=g.filter(m=>m.name.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(g=g.filter(m=>m.category===e)),s){case"price-low":g=g.sort((m,v)=>m.price-v.price);break;case"price-high":g=g.sort((m,v)=>v.price-m.price);break;case"rating":g=g.sort((m,v)=>v.rating-m.rating);break}return g},[a,t,e,s]),h=g=>{const m=new Set(d);m.has(g)?m.delete(g):m.add(g),f(m)};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:e==="All"?"All Products":e}),o.jsxs("p",{className:"text-muted-foreground",children:[p.length," products found"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"hidden md:flex border rounded-lg p-1",children:[o.jsx(be,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),children:o.jsx(nv,{className:"h-4 w-4"})}),o.jsx(be,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),children:o.jsx(iv,{className:"h-4 w-4"})})]}),o.jsxs("select",{value:s,onChange:g=>l(g.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[o.jsx("option",{value:"featured",children:"Featured"}),o.jsx("option",{value:"newest",children:"Newest"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"rating",children:"Highest Rated"})]}),o.jsxs(be,{variant:"outline",size:"sm",children:[o.jsx(Uf,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),o.jsx("div",{className:c==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24":"space-y-4 pb-24",children:p.map(g=>o.jsx(De,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 ${c==="list"?"flex":"flex flex-col h-full"}`,onClick:()=>r(g),children:o.jsxs($e,{className:`p-0 ${c==="grid"?"flex flex-col h-full":""}`,children:[o.jsxs("div",{className:`relative overflow-hidden ${c==="list"?"w-32 flex-shrink-0":"rounded-t-lg flex-shrink-0"}`,children:[o.jsx(tF,{images:g.images,name:g.name,className:c==="list"?"w-32 h-32":"w-full aspect-[4/3]",priority:!0}),o.jsx(be,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:m=>{m.stopPropagation(),h(g.id)},children:o.jsx(Xo,{className:`h-4 w-4 ${d.has(g.id)?"fill-red-500 text-red-500":""}`})}),g.originalPrice&&g.originalPrice!==g.price&&o.jsxs(Nt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:[Math.round((g.originalPrice-g.price)/g.originalPrice*100),"% OFF"]})]}),o.jsxs("div",{className:`space-y-2 ${c==="list"?"p-4 flex-1":"p-4 flex-1 flex flex-col justify-between"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("h4",{className:"font-medium line-clamp-2 flex-1 min-w-0",children:g.name}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[g.images.length>1&&o.jsxs("div",{className:"flex gap-0.5 max-w-[60px] flex-wrap",children:[g.images.slice(0,5).map((m,v)=>o.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-gray-300 flex-shrink-0",style:{minWidth:"20px",minHeight:"20px"},children:o.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover",loading:"lazy"})},v)),g.images.length>5&&o.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border border-gray-300 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-[8px] text-gray-600 font-bold leading-none",children:"+"})})]}),!g.inStock&&o.jsx(Nt,{variant:"secondary",className:"text-xs ml-1",children:"Out of Stock"})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(qr,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.rating," (",g.reviews.length,")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-semibold",children:["R",g.price]}),g.originalPrice&&g.originalPrice!==g.price&&o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",g.originalPrice]})]}),o.jsxs("div",{className:"flex gap-1",children:[g.colors.slice(0,4).map(m=>o.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-gray-300 ${m.toLowerCase()==="black"?"bg-black":m.toLowerCase()==="white"?"bg-white":m.toLowerCase()==="gray"?"bg-gray-400":m.toLowerCase()==="navy"?"bg-blue-900":m.toLowerCase()==="brown"?"bg-amber-800":m.toLowerCase()==="beige"?"bg-amber-100":m.toLowerCase()==="pink"?"bg-pink-400":m.toLowerCase()==="blue"?"bg-blue-500":m.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`},m)),g.colors.length>4&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.colors.length-4]})]})]})]})},g.id))}),p.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),o.jsx(be,{onClick:()=>n("All"),children:"Clear filters"})]}),o.jsx(rl,{})]})}function wwe(){const{user:t,isAdmin:e}=Cn(),{products:r}=Lh(),{items:n,addItem:a,updateItemQuantity:i,removeItem:s,fetchCart:l}=Mh(),[c,u]=N.useState("home"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState("All"),[v,x]=N.useState(!1),[j,b]=N.useState("about"),[_,S]=N.useState({mode:"login",title:"Sign In Required",description:"Please sign in to continue"}),A=(F,ee,fe)=>{t?F():(S({mode:"login",title:ee||"Sign In Required",description:fe||"Please sign in to continue"}),x(!0))},k=F=>{f(F),u("product")},O=F=>{m(F),u("catalog")},T=()=>{A(()=>u("checkout"),"Checkout","Please sign in to proceed with your order.")},R=()=>{A(()=>u("profile"),"My Account","Please sign in to view your profile.")},P=()=>{A(()=>u("rewards"),"My Rewards","Please sign in to view your rewards.")},I=()=>{x(!1),je.success("Welcome back!"),_.title.includes("Checkout")?u("checkout"):_.title.includes("Profile")?u("profile"):_.title.includes("Rewards")&&u("rewards")},M=F=>{const ee=F;["profile","rewards","admin"].includes(ee)?(ee==="profile"&&R(),ee==="rewards"&&P(),ee==="admin"&&e&&u("admin")):u(ee)},D=async(F,ee,fe,ue)=>{if(console.log("handleUpdateQuantity called:",{productId:F,size:ee,color:fe,quantity:ue}),n.find(H=>H.productId===F&&H.size===ee&&H.color===fe)){const H=`${F}|${ee}|${fe}`;console.log("Updating item with identifier:",H,"to quantity:",ue);const V=await i(H,ue);console.log("Update result:",V),V||je.error("Failed to update item quantity")}else console.log("Item not found in cart for quantity update"),je.error("Item not found in cart")},K=async(F,ee,fe)=>{console.log("handleRemoveItem called:",{productId:F,size:ee,color:fe});const ue=n.find(B=>B.productId===F&&B.size===ee&&B.color===fe);if(console.log("Found cart item:",ue),console.log("Current items:",n),ue){const B=`${F}|${ee}|${fe}`;console.log("Removing item with identifier:",B);const H=await s(B);console.log("Remove result:",H),H||je.error("Failed to remove item from cart")}else console.log("Item not found in cart"),je.error("Item not found in cart")},$=F=>{b(F),u("info")},q=()=>{switch(c){case"home":return o.jsx(y8,{onViewProduct:k,onNavigateToCategory:O});case"catalog":return o.jsx(bwe,{searchQuery:p,selectedCategory:g,onViewProduct:k,onCategoryChange:m});case"product":return d?o.jsx(EV,{product:d,onBack:()=>u("catalog"),onAddToCart:a}):null;case"cart":return o.jsx(IV,{items:n,onUpdateQuantity:D,onRemoveItem:K,onProceedToCheckout:T,onContinueShopping:()=>u("catalog")});case"checkout":return o.jsx(swe,{user:t,items:n,onOrderComplete:()=>{u("home"),je.success("Order placed successfully!")},onBack:()=>u("cart")});case"profile":return t?e?o.jsx(oF,{}):o.jsx(lZ,{onLogout:()=>{},onNavigateToInfo:$}):null;case"rewards":return t?o.jsx(V1e,{}):null;case"admin":return e?o.jsx(r1e,{}):null;case"info":return o.jsx(m1e,{onBack:()=>u("home"),initialPage:j});case"debug":return o.jsx(xwe,{});default:return null}};return o.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[o.jsx(W1e,{onSearch:h,onProfileClick:R,onInfoClick:()=>{b("about"),u("info")}}),o.jsx("main",{className:"flex-1 pb-28 md:pb-4",children:q()}),o.jsx(x1e,{onInfoClick:F=>{b(F),u("info")}}),o.jsx(H1e,{currentPage:c,onPageChange:M}),o.jsx(fwe,{isOpen:v,mode:_.mode,onClose:()=>x(!1),onLoginSuccess:I,onSignupSuccess:I,title:_.title,description:_.description,onSwitchMode:F=>S(ee=>({...ee,mode:F}))}),o.jsx(y1e,{}),o.jsx(dwe,{})]})}function _we(){return o.jsx(YH,{children:o.jsx(KH,{children:o.jsx(XH,{children:o.jsx(Fbe,{children:o.jsx(w1e,{children:o.jsx(ywe,{position:"top-right",maxToasts:5,children:o.jsx(wwe,{})})})})})})})}function jwe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a}=Lh(),{user:i}=Cn(),{addItem:s}=Mh(),[l,c]=N.useState("featured"),[u,d]=N.useState("grid"),[f,p]=N.useState(new Set),[h,g]=N.useState([0,500]),[m,v]=N.useState([]),[x,j]=N.useState(!1),b=[...new Set(a.flatMap(R=>R.colors))],_=async R=>{try{console.log("🛒 ProductCatalog: Adding product to cart:",R.id,R.name);const P="M",I=R.colors[0]||"Default";await s(R,P,I,1)?console.log("✅ ProductCatalog: Product added to cart successfully"):console.error("❌ ProductCatalog: Failed to add product to cart")}catch(P){console.error("❌ ProductCatalog: Error adding product to cart:",P)}},S=R=>{console.log("👁️ ProductCatalog: Viewing product details:",R.id,R.name),r(R)},A=R=>{console.log("❤️ ProductCatalog: Toggling wishlist for product:",R.id,R.name),p(P=>{const I=new Set(P);return I.has(R.id)?(I.delete(R.id),console.log("💔 ProductCatalog: Removed from wishlist")):(I.add(R.id),console.log("💖 ProductCatalog: Added to wishlist")),I})},k=N.useMemo(()=>{let R=[...a];switch(t&&(R=R.filter(P=>P.name.toLowerCase().includes(t.toLowerCase())||P.category.toLowerCase().includes(t.toLowerCase())||P.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(R=R.filter(P=>P.category===e)),R=R.filter(P=>P.price>=h[0]&&P.price<=h[1]),m.length>0&&(R=R.filter(P=>m.some(I=>P.colors.includes(I)))),l){case"price-low":R.sort((P,I)=>P.price-I.price);break;case"price-high":R.sort((P,I)=>I.price-P.price);break;case"rating":R.sort((P,I)=>I.rating-P.rating);break;case"newest":R.sort((P,I)=>parseInt(I.id)-parseInt(P.id));break}return R},[a,t,e,l,h,m]),O=R=>{const P=new Set(f);P.has(R)?P.delete(R):P.add(R),p(P)},T=()=>{g([0,500]),v([]),n("All")};return o.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e==="All"?"All Products":e}),o.jsxs("p",{className:"text-muted-foreground",children:[k.length," products found"]})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsxs("div",{className:"border rounded-lg p-1",children:[o.jsx(be,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),children:o.jsx(nv,{className:"h-4 w-4"})}),o.jsx(be,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),children:o.jsx(iv,{className:"h-4 w-4"})})]}),o.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[o.jsx("option",{value:"featured",children:"Featured"}),o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"rating",children:"Highest Rated"})]}),o.jsxs(be,{variant:"outline",size:"sm",onClick:()=>j(!x),className:x?"bg-primary/10":"",children:[o.jsx(Uf,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),x&&o.jsx(De,{className:"mb-6",children:o.jsx($e,{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-medium mb-3 block",children:"Price Range"}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ft,{type:"number",placeholder:"Min",value:h[0],onChange:R=>g([Number(R.target.value),h[1]]),className:"w-20"}),o.jsx("span",{className:"self-center",children:"-"}),o.jsx(Ft,{type:"number",placeholder:"Max",value:h[1],onChange:R=>g([h[0],Number(R.target.value)]),className:"w-20"})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium mb-3 block",children:"Colors"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.slice(0,8).map(R=>o.jsx("button",{onClick:()=>v(P=>P.includes(R)?P.filter(I=>I!==R):[...P,R]),className:`px-3 py-1 text-xs border rounded-full transition-colors ${m.includes(R)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:R},R))})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsxs(be,{onClick:T,variant:"outline",children:[o.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Clear All"]}),o.jsx(be,{onClick:()=>j(!1),children:"Apply"})]})]})})}),k.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Qs,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),o.jsx(be,{onClick:T,children:"Clear all filters"})]}):o.jsx("div",{className:`grid gap-6 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:k.map(R=>{var P;return console.log("🛍️ ProductCatalog: Rendering product:",{id:R.id,name:R.name,price:R.price,originalPrice:R.originalPrice,category:R.category,imageCount:((P=R.images)==null?void 0:P.length)||0,rating:R.rating,colors:R.colors,inStock:R.inStock,viewMode:u}),u==="list"?o.jsx(De,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 flex \r
                           bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                           border border-border dark:border-border/50`,onClick:()=>r(R),children:o.jsxs($e,{className:"p-0 flex",children:[o.jsxs("div",{className:"relative overflow-hidden w-60 flex-shrink-0",children:[o.jsx(tF,{images:R.images,name:R.name,className:"w-60 h-60",priority:!0}),o.jsx(be,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 bg-background/80 backdrop-blur-sm \r
                                hover:bg-background dark:bg-card/80 dark:hover:bg-card`,onClick:I=>{I.stopPropagation(),O(R.id)},children:o.jsx(Xo,{className:`h-4 w-4 ${f.has(R.id)?"fill-red-500 text-red-500":"text-foreground"}`})}),R.originalPrice&&o.jsx(Nt,{className:"absolute top-2 left-2 bg-rose-500 text-white dark:bg-rose-600 dark:text-white",children:"Sale"}),!R.inStock&&o.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-medium px-3 py-1 bg-black/40 backdrop-blur-sm rounded",children:"Out of Stock"})})]}),o.jsxs("div",{className:"p-6 flex-1 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Nt,{variant:"secondary",className:"text-xs bg-secondary/80 text-secondary-foreground",children:R.category}),!R.inStock&&o.jsx(Nt,{variant:"outline",className:"text-xs text-rose-500 dark:text-rose-400 border-rose-200 dark:border-rose-800",children:"Out of Stock"})]}),o.jsx("h4",{className:"font-semibold text-lg line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:R.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((I,M)=>o.jsx(qr,{className:`h-4 w-4 ${M<Math.floor(R.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},M))}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.rating," (",R.reviews.length,")"]})]}),o.jsxs("div",{className:"flex gap-1",children:[R.colors.slice(0,4).map(I=>o.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${I.toLowerCase()==="black"?"bg-black border-gray-300 dark:border-gray-600":I.toLowerCase()==="white"?"bg-white border-gray-400":I.toLowerCase()==="gray"?"bg-gray-400 border-gray-500":I.toLowerCase()==="navy"?"bg-blue-900 border-blue-800":I.toLowerCase()==="brown"?"bg-amber-800 border-amber-700":I.toLowerCase()==="beige"?"bg-amber-100 border-amber-200":I.toLowerCase()==="pink"?"bg-pink-400 border-pink-500":I.toLowerCase()==="blue"?"bg-blue-500 border-blue-600":I.toLowerCase()==="red"?"bg-red-500 border-red-600":"bg-green-500 border-green-600"}`,title:I},I)),R.colors.length>4&&o.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",R.colors.length-4]})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[o.jsxs("span",{className:"font-bold text-lg text-foreground",children:["R",R.price]}),R.originalPrice&&o.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",R.originalPrice]})]})]})]})},R.id):o.jsx("div",{children:o.jsx(j2,{product:R,layout:"enhanced",showQuickActions:!0,onAddToCart:_,onViewDetails:S,onToggleWishlist:A,className:`shadow-md hover:shadow-xl transition-shadow duration-300\r
                               bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                               border border-border dark:border-border/50`})},R.id)})}),k.length>12&&o.jsx("div",{className:"text-center mt-8",children:o.jsx(be,{variant:"outline",size:"lg",children:"Load More Products"})})]})}const Nwe=CB([{path:"/",element:o.jsx(_we,{}),children:[{index:!0,element:o.jsx(y8,{onViewProduct:()=>{},onNavigateToCategory:()=>{}})},{path:"products",element:o.jsx(jwe,{searchQuery:"",selectedCategory:"All",onViewProduct:()=>{},onCategoryChange:()=>{}})}]}],{basename:"/"});RB.createRoot(document.getElementById("root")).render(o.jsx(N.StrictMode,{children:o.jsx(OB,{router:Nwe})}));export{ur as _};
