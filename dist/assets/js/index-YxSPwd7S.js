const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-BZp84Pfq.js","assets/js/vendor-CC_ZIGTP.js","assets/js/router-BAGLiJ1d.js"])))=>i.map(i=>d[i]);
var L9=Object.defineProperty;var R9=(t,e,r)=>e in t?L9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Xt=(t,e,r)=>R9(t,typeof e!="symbol"?e+"":e,r);import{r as eT,a as M9,b as D9,g as dr,c as lp}from"./vendor-CC_ZIGTP.js";import{r as N,a as Ag,R as K,b as tT,c as rT,d as $9,e as F9}from"./router-BAGLiJ1d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var E0={exports:{}},Fd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function B9(){if(uN)return Fd;uN=1;var t=eT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(s,c,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(s&&s.defaultProps)for(d in c=s.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:s,key:p,ref:h,props:f,_owner:a.current}}return Fd.Fragment=r,Fd.jsx=o,Fd.jsxs=o,Fd}var dN;function q9(){return dN||(dN=1,E0.exports=B9()),E0.exports}var l=q9(),cp={},fN;function U9(){if(fN)return cp;fN=1;var t=M9();return cp.createRoot=t.createRoot,cp.hydrateRoot=t.hydrateRoot,cp}var z9=U9();function hN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nT(...t){return e=>{let r=!1;const n=t.map(a=>{const i=hN(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():hN(t[a],null)}}}}function Lt(...t){return N.useCallback(nT(...t),t)}function Ll(t){const e=W9(t),r=N.forwardRef((n,a)=>{const{children:i,...o}=n,s=N.Children.toArray(i),c=s.find(V9);if(c){const u=c.props.children,d=s.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return l.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var aT=Ll("Slot");function W9(t){const e=N.forwardRef((r,n)=>{const{children:a,...i}=r;if(N.isValidElement(a)){const o=Y9(a),s=G9(i,a.props);return a.type!==N.Fragment&&(s.ref=n?nT(n,o):o),N.cloneElement(a,s)}return N.Children.count(a)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iT=Symbol("radix.slottable");function H9(t){const e=({children:r})=>l.jsx(l.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=iT,e}function V9(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iT}function G9(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...s)=>{const c=i(...s);return a(...s),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Y9(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function oT(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=oT(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=oT(t))&&(n&&(n+=" "),n+=e);return n}const pN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mN=It,Z5=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return mN(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const p=pN(d)||pN(f);return a[u][p]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...s}[m]):{...i,...s}[m]===v})?[...u,f,p]:u},[]);return mN(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},J5="-",K9=t=>{const e=Z9(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(J5);return s[0]===""&&s.length!==1&&s.shift(),sT(s,e)||X9(o)},getConflictingClassGroupIds:(o,s)=>{const c=r[o]||[];return s&&n[o]?[...c,...n[o]]:c}}},sT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?sT(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(J5);return(o=e.validators.find(({validator:s})=>s(i)))==null?void 0:o.classGroupId},gN=/^\[(.+)\]$/,X9=t=>{if(gN.test(t)){const e=gN.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Z9=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)Rw(r[a],n,a,e);return n},Rw=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:vN(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(J9(a)){Rw(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Rw(o,vN(e,i),r,n)})})},vN=(t,e)=>{let r=t;return e.split(J5).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},J9=t=>t.isThemeGetter,Q9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Mw="!",Dw=":",eB=Dw.length,tB=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let o=0,s=0,c=0,u;for(let g=0;g<a.length;g++){let m=a[g];if(o===0&&s===0){if(m===Dw){i.push(a.slice(c,g)),c=g+eB;continue}if(m==="/"){u=g;continue}}m==="["?o++:m==="]"?o--:m==="("?s++:m===")"&&s--}const d=i.length===0?a:a.substring(c),f=rB(d),p=f!==d,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const a=e+Dw,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},rB=t=>t.endsWith(Mw)?t.substring(0,t.length-1):t.startsWith(Mw)?t.substring(1):t,nB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||e[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},aB=t=>({cache:Q9(t.cacheSize),parseClassName:tB(t),sortModifiers:nB(t),...K9(t)}),iB=/\s+/,oB=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,o=[],s=t.trim().split(iB);let c="";for(let u=s.length-1;u>=0;u-=1){const d=s[u],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!m,b=n(v?g.substring(0,m):g);if(!b){if(!v){c=d+(c.length>0?" "+c:c);continue}if(b=n(g),!b){c=d+(c.length>0?" "+c:c);continue}v=!1}const w=i(p).join(":"),j=h?w+Mw:w,_=j+b;if(o.includes(_))continue;o.push(_);const S=a(b,v);for(let k=0;k<S.length;++k){const A=S[k];o.push(j+A)}c=d+(c.length>0?" "+c:c)}return c};function sB(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=lT(e))&&(n&&(n+=" "),n+=r);return n}const lT=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=lT(t[n]))&&(r&&(r+=" "),r+=e);return r};function lB(t,...e){let r,n,a,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=aB(u),n=r.cache.get,a=r.cache.set,i=s,s(c)}function s(c){const u=n(c);if(u)return u;const d=oB(c,r);return a(c,d),d}return function(){return i(sB.apply(null,arguments))}}const fn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},cT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cB=/^\d+\/\d+$/,uB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wc=t=>cB.test(t),Dt=t=>!!t&&!Number.isNaN(Number(t)),hs=t=>!!t&&Number.isInteger(Number(t)),T0=t=>t.endsWith("%")&&Dt(t.slice(0,-1)),xo=t=>uB.test(t),mB=()=>!0,gB=t=>dB.test(t)&&!fB.test(t),dT=()=>!1,vB=t=>hB.test(t),yB=t=>pB.test(t),bB=t=>!Xe(t)&&!Ze(t),xB=t=>Hu(t,pT,dT),Xe=t=>cT.test(t),cl=t=>Hu(t,mT,gB),I0=t=>Hu(t,NB,Dt),yN=t=>Hu(t,fT,dT),wB=t=>Hu(t,hT,yB),up=t=>Hu(t,gT,vB),Ze=t=>uT.test(t),Bd=t=>Vu(t,mT),_B=t=>Vu(t,AB),bN=t=>Vu(t,fT),jB=t=>Vu(t,pT),SB=t=>Vu(t,hT),dp=t=>Vu(t,gT,!0),Hu=(t,e,r)=>{const n=cT.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Vu=(t,e,r=!1)=>{const n=uT.exec(t);return n?n[1]?e(n[1]):r:!1},fT=t=>t==="position"||t==="percentage",hT=t=>t==="image"||t==="url",pT=t=>t==="length"||t==="size"||t==="bg-size",mT=t=>t==="length",NB=t=>t==="number",AB=t=>t==="family-name",gT=t=>t==="shadow",kB=()=>{const t=fn("color"),e=fn("font"),r=fn("text"),n=fn("font-weight"),a=fn("tracking"),i=fn("leading"),o=fn("breakpoint"),s=fn("container"),c=fn("spacing"),u=fn("radius"),d=fn("shadow"),f=fn("inset-shadow"),p=fn("text-shadow"),h=fn("drop-shadow"),g=fn("blur"),m=fn("perspective"),v=fn("aspect"),b=fn("ease"),w=fn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),Ze,Xe],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],E=()=>[Ze,Xe,c],I=()=>[wc,"full","auto",...E()],L=()=>[hs,"none","subgrid",Ze,Xe],P=()=>["auto",{span:["full",hs,Ze,Xe]},hs,Ze,Xe],O=()=>[hs,"auto",Ze,Xe],D=()=>["auto","min","max","fr",Ze,Xe],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...E()],W=()=>[wc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],F=()=>[t,Ze,Xe],ae=()=>[..._(),bN,yN,{position:[Ze,Xe]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",jB,xB,{size:[Ze,Xe]}],$=()=>[T0,Bd,cl],U=()=>["","none","full",u,Ze,Xe],z=()=>["",Dt,Bd,cl],J=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Dt,T0,bN,yN],de=()=>["","none",g,Ze,Xe],ie=()=>["none",Dt,Ze,Xe],he=()=>["none",Dt,Ze,Xe],ge=()=>[Dt,Ze,Xe],ue=()=>[wc,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xo],breakpoint:[xo],color:[mB],container:[xo],"drop-shadow":[xo],ease:["in","out","in-out"],font:[bB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xo],shadow:[xo],spacing:["px",Dt],text:[xo],"text-shadow":[xo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wc,Xe,Ze,v]}],container:["container"],columns:[{columns:[Dt,Xe,Ze,s]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[hs,"auto",Ze,Xe]}],basis:[{basis:[wc,"full","auto",s,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,wc,"auto","initial","none",Xe]}],grow:[{grow:["",Dt,Ze,Xe]}],shrink:[{shrink:["",Dt,Ze,Xe]}],order:[{order:[hs,"first","last","none",Ze,Xe]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[s,"screen",...W()]}],"min-w":[{"min-w":[s,"screen","none",...W()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,Bd,cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ze,I0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",T0,Xe]}],"font-family":[{font:[_B,Xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ze,Xe]}],"line-clamp":[{"line-clamp":[Dt,"none",Ze,I0]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",Ze,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ze,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",Ze,cl]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Dt,"auto",Ze,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hs,Ze,Xe],radial:["",Ze,Xe],conic:[hs,Ze,Xe]},SB,wB]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,Ze,Xe]}],"outline-w":[{outline:["",Dt,Bd,cl]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",d,dp,up]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",f,dp,up]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Dt,cl]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",p,dp,up]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Dt,Ze,Xe]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Ze,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ze,Xe]}],filter:[{filter:["","none",Ze,Xe]}],blur:[{blur:de()}],brightness:[{brightness:[Dt,Ze,Xe]}],contrast:[{contrast:[Dt,Ze,Xe]}],"drop-shadow":[{"drop-shadow":["","none",h,dp,up]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Dt,Ze,Xe]}],"hue-rotate":[{"hue-rotate":[Dt,Ze,Xe]}],invert:[{invert:["",Dt,Ze,Xe]}],saturate:[{saturate:[Dt,Ze,Xe]}],sepia:[{sepia:["",Dt,Ze,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ze,Xe]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,Ze,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,Ze,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,Ze,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,Ze,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Dt,Ze,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,Ze,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,Ze,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,Ze,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ze,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",Ze,Xe]}],ease:[{ease:["linear","initial",b,Ze,Xe]}],delay:[{delay:[Dt,Ze,Xe]}],animate:[{animate:["none",w,Ze,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ze,Xe]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[Ze,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze,Xe]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Dt,Bd,cl,I0]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PB=lB(kB);function Fe(...t){return PB(It(t))}const yf=Z5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),we=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const o=n?aT:"button";return l.jsx(o,{"data-slot":"button",className:Fe(yf({variant:e,size:r,className:t})),ref:i,...a})});we.displayName="Button";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),xN=t=>{const e=OB(t);return e.charAt(0).toUpperCase()+e.slice(1)},vT=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},c)=>N.createElement("svg",{ref:c,...EB,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:vT("lucide",a),...s},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(TB,{ref:i,iconNode:e,className:vT(`lucide-${CB(xN(t))}`,`lucide-${t}`,n),...a}));return r.displayName=xN(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LB=De("activity",IB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kg=De("arrow-left",RB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],DB=De("at-sign",MB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],FB=De("award",$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sl=De("bell",BB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yT=De("calendar",qB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pg=De("check",UB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Q5=De("chevron-down",zB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bT=De("chevron-left",WB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cm=De("chevron-right",HB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GB=De("chevron-up",VB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rl=De("circle-alert",YB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uh=De("circle-check-big",KB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],e_=De("circle-help",XB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xT=De("circle",ZB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ru=De("clock",JB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eq=De("copy",QB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],t_=De("credit-card",tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],wN=De("crop",rq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],aq=De("crown",nq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],oq=De("dollar-sign",iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],wT=De("download",sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$w=De("eye-off",lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ji=De("eye",cq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Lo=De("file-text",uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bf=De("funnel",dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],hq=De("gift",fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],r_=De("grid-3x3",pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Is=De("heart",mq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],L0=De("history",gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yq=De("house",vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cg=De("info",bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],_N=De("key",xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],n_=De("list",wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qa=De("loader-circle",_q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],R0=De("lock",jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],_T=De("log-out",Sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],xf=De("mail",Nq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],a_=De("map-pin",Aq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],jT=De("menu",kq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],gi=De("message-circle",Pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M5 12h14",key:"1ays0h"}]],ST=De("minus",Cq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Eq=De("monitor",Oq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Fw=De("moon",Tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wf=De("package",Iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],NT=De("palette",Lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Mq=De("pen-line",Rq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],M0=De("percent",Dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],i_=De("phone",$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cl=De("plus",Fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],AT=De("printer",Bq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ol=De("refresh-cw",qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_f=De("rotate-ccw",Uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],kT=De("ruler",zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],um=De("save",Wq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ml=De("search",Hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],PT=De("send",Vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o_=De("settings",Gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Kq=De("share-2",Yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Oo=De("shield",Xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],s_=De("shopping-bag",Zq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dm=De("shopping-cart",Jq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],CT=De("sparkles",Qq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],l_=De("square-pen",eU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wa=De("star",tU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bw=De("sun",rU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],OT=De("tag",nU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dh=De("trash-2",aU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],qw=De("trending-up",iU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ET=De("triangle-alert",oU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],pu=De("truck",sU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],cU=De("upload",lU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],dU=De("user-check",uU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$o=De("user",fU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],TT=De("users",hU);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ro=De("x",pU),mU=({images:t,alt:e,className:r="",aspectRatio:n="3/1",showNavigation:a=!0,autoSlide:i=!1,autoSlideInterval:o=3e3})=>{const[s,c]=N.useState(0),[u,d]=N.useState(new Set),[f,p]=N.useState(!0),h=()=>{const S=["/images/summer-floral-dress.jpg","/images/evening-gown.jpg","/images/denim-jacket.jpg","/images/ankle-boots.jpg"];return[S[Math.floor(Math.random()*S.length)]]},g=t.filter((S,k)=>!u.has(k)),m=g.length===0?h():g,v=m[s]||m[0];N.useEffect(()=>{u.size>0&&console.log(" ImageCarousel Debug:",{totalImages:t.length,currentIndex:s,imageErrors:Array.from(u),autoSlide:i,aspectRatio:n})},[s,t.length,u,i,n]),N.useEffect(()=>{if(!i||m.length<=1)return;const S=setInterval(()=>{c(k=>{const A=(k+1)%m.length;return console.log(" Auto-slide: Moving to image",A),A})},o);return()=>clearInterval(S)},[i,m.length,o]);const b=()=>{const S=s===0?m.length-1:s-1;console.log(" Navigation: Previous clicked, moving to index",S),c(S)},w=()=>{const S=(s+1)%m.length;console.log(" Navigation: Next clicked, moving to index",S),c(S)},j=S=>{const k=t[S];console.error(" Image Loading Error: Failed to load image at index",S,"URL:",k),k&&console.log(" URL Analysis:",{isDataUrl:k.startsWith("data:"),isHttps:k.startsWith("https:"),isSupabase:k.includes("supabase.co"),urlLength:k.length,urlPreview:k.substring(0,100)+(k.length>100?"...":"")}),d(A=>new Set([...A,S])),console.log(" Fallback triggered for image",S,"- switching to fallback images")},_=S=>{console.log(" Image Loaded Successfully: Index",S,"URL:",t[S]),S===s&&p(!1)};return m.length===0?(console.warn(" ImageCarousel Warning: No valid images or fallbacks available"),l.jsx("div",{className:`flex items-center justify-center bg-gray-100 w-full h-full ${r}`,children:l.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[l.jsx(Rl,{className:"h-8 w-8 mb-2"}),l.jsx("span",{className:"text-sm",children:"Image not available"})]})})):l.jsxs("div",{className:`relative overflow-hidden group w-full h-full ${r}`,children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110 opacity-60",style:{backgroundImage:`url(${v})`,backgroundPosition:"center",backgroundSize:"cover"}}),l.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:l.jsx("img",{src:v,alt:`${e} - Image ${s+1} of ${m.length}`,className:"max-w-full max-h-full object-contain",onError:()=>j(s),onLoad:()=>_(s),loading:"lazy"})}),f&&l.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-50",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}),a&&m.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:b,className:`absolute left-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Previous image",children:l.jsx(bT,{className:"h-4 w-4"})}),l.jsx("button",{onClick:w,className:`absolute right-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Next image",children:l.jsx(cm,{className:"h-4 w-4"})}),l.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 z-20 \r
                        flex space-x-2`,children:m.map((S,k)=>l.jsx("button",{onClick:()=>{console.log(" Indicator clicked: Moving from index",s,"to index",k),c(k),p(!0)},className:`w-3 h-3 rounded-full transition-all duration-200 
                          ${k===s?"bg-white shadow-lg scale-110":"bg-white bg-opacity-60 hover:bg-opacity-80 hover:scale-105"}`,"aria-label":`Go to image ${k+1} of ${m.length}`},k))})]}),!1]})},jN=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Uw=({product:t,layout:e="enhanced",showQuickActions:r=!0,onAddToCart:n,onViewDetails:a,onToggleWishlist:i,className:o=""})=>{const s=t.originalPrice&&t.originalPrice>t.price&&t.originalPrice!==t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,c=h=>{h.stopPropagation(),n==null||n(t)},u=()=>{a==null||a(t)},d=h=>{h.stopPropagation(),i==null||i(t)},f=t.images&&t.images.length>0?t.images:["/images/placeholder-product.svg"],p=h=>{switch(h.toLowerCase()){case"black":return"bg-black border-gray-300";case"white":return"bg-white border-gray-400";case"gray":case"grey":return"bg-gray-400 border-gray-500";case"navy":return"bg-blue-900 border-blue-800";case"brown":return"bg-amber-800 border-amber-700";case"beige":return"bg-amber-100 border-amber-200";case"pink":return"bg-pink-400 border-pink-500";case"blue":return"bg-blue-500 border-blue-600";case"red":return"bg-red-500 border-red-600";case"green":return"bg-green-500 border-green-600";case"yellow":return"bg-yellow-400 border-yellow-500";case"purple":return"bg-purple-500 border-purple-600";case"orange":return"bg-orange-500 border-orange-600";default:return"bg-gradient-to-br from-purple-400 to-pink-400 border-purple-300"}};return l.jsxs("div",{className:`
        bg-background rounded-lg shadow-md hover:shadow-xl transition-all duration-300 
        cursor-pointer group overflow-hidden border border-border dark:border-border/50 
        hover:border-primary/20 dark:hover:border-primary/30
        flex flex-col
        ${o}
      `,onClick:u,children:[l.jsxs("div",{className:"relative w-full aspect-[3/4] flex-shrink-0",children:[l.jsx(mU,{images:f,alt:t.name,showNavigation:f.length>1,className:"rounded-t-lg h-full w-full object-cover"}),l.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:s>0&&l.jsxs("span",{className:"bg-rose-500 dark:bg-rose-600 text-white text-xs px-2.5 py-1 rounded-full font-medium shadow-md",children:["-",s,"%"]})}),r&&l.jsxs("div",{className:`absolute top-2 right-2 z-20 flex flex-col gap-2 \r
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:[l.jsx("button",{onClick:d,className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-rose-500`,"aria-label":"Add to wishlist",children:l.jsx(Is,{className:"h-4 w-4 text-foreground hover:text-rose-500"})}),l.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Quick view",children:l.jsx(Ji,{className:"h-4 w-4 text-foreground hover:text-blue-500"})})]})]}),l.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[t.category&&l.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide font-medium",children:t.category}),l.jsx("h3",{className:"font-semibold text-foreground text-sm line-clamp-2 leading-tight",children:t.name}),t.rating&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"flex",children:[...Array(5)].map((h,g)=>l.jsx(Wa,{className:`h-3 w-3 ${g<Math.floor(t.rating)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},g))}),t.reviews&&t.reviews.length>0&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.reviews.length,")"]})]}),t.colors&&t.colors.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Colors:"}),l.jsxs("div",{className:"flex gap-1",children:[t.colors.slice(0,5).map((h,g)=>l.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${p(h)} 
                               shadow-sm hover:scale-110 transition-transform cursor-pointer`,title:h},g)),t.colors.length>5&&l.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",t.colors.length-5]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-bold text-foreground text-lg",children:jN(t.price)}),t.originalPrice&&t.originalPrice>t.price&&l.jsx("span",{className:"text-sm text-muted-foreground line-through",children:jN(t.originalPrice)})]}),l.jsx("button",{onClick:c,className:`bg-rose-500 hover:bg-rose-600 dark:bg-rose-600 dark:hover:bg-rose-700 text-white \r
                     p-2 rounded-full transition-colors duration-200\r
                     hover:scale-105 focus:outline-none focus:ring-2 focus:ring-rose-500 \r
                     shadow-md hover:shadow-lg`,"aria-label":"Add to cart",children:l.jsx(dm,{className:"h-4 w-4"})})]})]}),!1]})},gU="modulepreload",vU=function(t){return"/"+t},SN={},Ua=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=o(r.map(u=>{if(u=vU(u),u in SN)return;SN[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":gU,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})},yU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ua(async()=>{const{default:n}=await Promise.resolve().then(()=>Gu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class c_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class bU extends c_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class NN extends c_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class AN extends c_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zw||(zw={}));var xU=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};class wU{constructor(e,{headers:r={},customFetch:n,region:a=zw.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=yU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return xU(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let s={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(s["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(s["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(s["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:d}).catch(m=>{throw new bU(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new NN(f);if(!f.ok)throw new AN(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof AN||a instanceof NN?a.context:void 0}}})}}var wn={},_c={},jc={},Sc={},Nc={},Ac={},_U=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mu=_U();const jU=mu.fetch,IT=mu.fetch.bind(mu),LT=mu.Headers,SU=mu.Request,NU=mu.Response,Gu=Object.freeze(Object.defineProperty({__proto__:null,Headers:LT,Request:SU,Response:NU,default:IT,fetch:jU},Symbol.toStringTag,{value:"Module"})),AU=D9(Gu);var fp={},kN;function RT(){if(kN)return fp;kN=1,Object.defineProperty(fp,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fp.default=t,fp}var PN;function MT(){if(PN)return Ac;PN=1;var t=Ac&&Ac.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ac,"__esModule",{value:!0});const e=t(AU),r=t(RT());class n{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let g=null,m=null,v=null,b=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=k:m=JSON.parse(k))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,b=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(m=[],g=null,b=200,w="OK")}catch{u.status===404&&_===""?(b=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,b=200,w="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:b,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ac.default=n,Ac}var CN;function DT(){if(CN)return Nc;CN=1;var t=Nc&&Nc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Nc,"__esModule",{value:!0});const e=t(MT());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Nc.default=r,Nc}var ON;function u_(){if(ON)return Sc;ON=1;var t=Sc&&Sc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Sc,"__esModule",{value:!0});const e=t(DT());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:s}={}){let c="";s==="plain"?c="pl":s==="phrase"?c="ph":s==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Sc.default=r,Sc}var EN;function $T(){if(EN)return jc;EN=1;var t=jc&&jc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jc,"__esModule",{value:!0});const e=t(u_());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,{head:i=!1,count:o}={}){const s=i?"HEAD":"GET";let c=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return jc.default=r,jc}var TN;function kU(){if(TN)return _c;TN=1;var t=_c&&_c.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(_c,"__esModule",{value:!0});const e=t($T()),r=t(u_());class n{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${i}`);let h;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{p.searchParams.append(m,v)})):(f="POST",h=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return _c.default=n,_c}var IN;function PU(){if(IN)return wn;IN=1;var t=wn&&wn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wn,"__esModule",{value:!0}),wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const e=t(kU());wn.PostgrestClient=e.default;const r=t($T());wn.PostgrestQueryBuilder=r.default;const n=t(u_());wn.PostgrestFilterBuilder=n.default;const a=t(DT());wn.PostgrestTransformBuilder=a.default;const i=t(MT());wn.PostgrestBuilder=i.default;const o=t(RT());return wn.PostgrestError=o.default,wn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},wn}var CU=PU();const OU=dr(CU),{PostgrestClient:EU,PostgrestQueryBuilder:Dxe,PostgrestFilterBuilder:$xe,PostgrestTransformBuilder:Fxe,PostgrestBuilder:Bxe,PostgrestError:qxe}=OU;class TU{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const IU="2.15.5",LU=`realtime-js/${IU}`,RU="1.0.0",Ww=1e4,MU=1e3,DU=100;var sf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sf||(sf={}));var mn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mn||(mn={}));var fi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fi||(fi={}));var Hw;(function(t){t.websocket="websocket"})(Hw||(Hw={}));var xl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xl||(xl={}));class $U{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class FT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_r||(_r={}));const LN=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=FU(o,t,e,a),i),{})},FU=(t,e,r,n)=>{const a=e.find(s=>s.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?BT(i,o):Vw(o)},BT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zU(e,r)}switch(t){case _r.bool:return BU(e);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return qU(e);case _r.json:case _r.jsonb:return UU(e);case _r.timestamp:return WU(e);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return Vw(e);default:return Vw(e)}},Vw=t=>t,BU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zU=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>BT(e,s))}return t},WU=t=>typeof t=="string"?t.replace(" ","T"):t,qT=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class D0{constructor(e,r,n={},a=Ww){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var RN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(RN||(RN={}));class lf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=lf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=lf.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),s={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const p=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(s[u]=g),m.length>0&&(c[u]=m)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,c)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(c),d.length>0){const f=e[s].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[s].unshift(...p)}n(s,d,c)}),this.map(o,(s,c)=>{let u=e[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,a(s,u,c),u.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(MN||(MN={}));var cf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cf||(cf={}));var ko;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ko||(ko={}));class d_{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new D0(this,fi.join,this.params,this.timeout),this.rejoinTimer=new FT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fi.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new lf(this),this.broadcastEndpointURL=qT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mn.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[cf.PRESENCE]&&this.bindings[cf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(ko.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(ko.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(ko.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let w=0;w<v;w++){const j=m[w],{filter:{event:_,schema:S,table:k,filter:A}}=j,E=h&&h[w];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===A)b.push(Object.assign(Object.assign({},j),{id:E.id}));else{this.unsubscribe(),this.state=mn.errored,e==null||e(ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(ko.SUBSCRIBED);return}}).receive("error",h=>{this.state=mn.errored,e==null||e(ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===mn.joined&&e===cf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new D0(this,fi.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new D0(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>DU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=fi;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var g,m,v,b,w,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,S=(g=h.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:b,type:w,errors:j}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:w,new:{},old:{},errors:j}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&d_.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fi.close,{},e)}_onError(e){this._on(fi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=LN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=LN(e.columns,e.old_record)),r}}const $0=()=>{},hp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HU=[1e3,2e3,5e3,1e4],VU=1e4,GU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YU{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ww,this.transport=null,this.heartbeatIntervalMs=hp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$0,this.ref=0,this.reconnectTimer=null,this.logger=$0,this.conn=null,this.sendBuffer=[],this.serializer=new $U,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Ua(async()=>{const{default:s}=await Promise.resolve().then(()=>Gu);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Hw.websocket}`,this.httpEndpoint=qT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RU}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sf.connecting:return xl.Connecting;case sf.open:return xl.Open;case sf.closing:return xl.Closing;default:return xl.Closed}}isConnected(){return this.connectionState()===xl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new d_(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(MU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([GU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:LU};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(fi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new FT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,s,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ww,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:hp.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:$0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(f=>HU[f-1]||VU),this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((f,p)=>p(JSON.stringify(f))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class f_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KU extends f_{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gw extends f_{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var XU=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};const UT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ua(async()=>{const{default:n}=await Promise.resolve().then(()=>Gu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ZU=()=>XU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ua(()=>Promise.resolve().then(()=>Gu),void 0)).Response:Response}),Yw=t=>{if(Array.isArray(t))return t.map(r=>Yw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Yw(n)}),e},JU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Xl=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};const F0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QU=(t,e,r)=>Xl(void 0,void 0,void 0,function*(){const n=yield ZU();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new KU(F0(a),i,o))}).catch(a=>{e(new Gw(F0(a),a))}):e(new Gw(F0(t),t))}),ez=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(JU(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function fh(t,e,r,n,a,i){return Xl(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,ez(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>QU(c,s,n))})})}function fm(t,e,r,n){return Xl(this,void 0,void 0,function*(){return fh(t,"GET",e,r,n)})}function qi(t,e,r,n,a){return Xl(this,void 0,void 0,function*(){return fh(t,"POST",e,n,a,r)})}function Kw(t,e,r,n,a){return Xl(this,void 0,void 0,function*(){return fh(t,"PUT",e,n,a,r)})}function tz(t,e,r,n){return Xl(this,void 0,void 0,function*(){return fh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zT(t,e,r,n,a){return Xl(this,void 0,void 0,function*(){return fh(t,"DELETE",e,n,a,r)})}var Kn=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};const rz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nz{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=UT(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Kn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},DN),a);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?Kw:qi)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Kn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:DN.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Kw(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(gn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Kn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield qi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new f_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Kn(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Kn(this,void 0,void 0,function*(){try{return{data:{path:(yield qi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Kn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield qi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Kn(this,void 0,void 0,function*(){try{const a=yield qi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gn(a))return{data:null,error:a};throw a}})}download(e,r){return Kn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const s=this._getFinalPath(e);return{data:yield(yield fm(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gn(s))return{data:null,error:s};throw s}})}info(e){return Kn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield fm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}exists(e){return Kn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield tz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n)&&n instanceof Gw){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(e){return Kn(this,void 0,void 0,function*(){try{return{data:yield zT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Kn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},rz),r),{prefix:e||""});return{data:yield qi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gn(a))return{data:null,error:a};throw a}})}listV2(e,r){return Kn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield qi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const az="2.12.1",iz={"X-Client-Info":`storage-js/${az}`};var kc=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};class oz{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},iz),r),this.fetch=UT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return kc(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gn(e))return{data:null,error:e};throw e}})}getBucket(e){return kc(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return kc(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return kc(this,void 0,void 0,function*(){try{return{data:yield Kw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return kc(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return kc(this,void 0,void 0,function*(){try{return{data:yield zT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}}class sz extends oz{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new nz(this.url,this.headers,e,this.fetch)}}const lz="2.57.4";let tf="";typeof Deno<"u"?tf="deno":typeof document<"u"?tf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tf="react-native":tf="node";const cz={"X-Client-Info":`supabase-js-${tf}/${lz}`},uz={headers:cz},dz={schema:"public"},fz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hz={};var pz=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};const mz=t=>{let e;return t?e=t:typeof fetch>"u"?e=IT:e=fetch,(...r)=>e(...r)},gz=()=>typeof Headers>"u"?LT:Headers,vz=(t,e,r)=>{const n=mz(r),a=gz();return(i,o)=>pz(void 0,void 0,void 0,function*(){var s;const c=(s=yield e())!==null&&s!==void 0?s:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var yz=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};function bz(t){return t.endsWith("/")?t:t+"/"}function xz(t,e){var r,n;const{db:a,auth:i,realtime:o,global:s}=t,{db:c,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yz(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function wz(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bz(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const WT="2.71.1",Hc=30*1e3,Xw=3,B0=Xw*Hc,_z="http://localhost:9999",jz="supabase.auth.token",Sz={"X-Client-Info":`gotrue-js/${WT}`},Zw="X-Supabase-Api-Version",HT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Az=600*1e3;class h_ extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kz extends h_{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pz(t){return Ot(t)&&t.name==="AuthApiError"}class VT extends h_{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ds extends h_{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class ys extends Ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cz(t){return Ot(t)&&t.name==="AuthSessionMissingError"}class pp extends Ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mp extends Ds{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gp extends Ds{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Oz(t){return Ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class $N extends Ds{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jw extends Ds{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function q0(t){return Ot(t)&&t.name==="AuthRetryableFetchError"}class FN extends Ds{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qw extends Ds{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BN=` 	
\r=`.split(""),Ez=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<BN.length;e+=1)t[BN[e].charCodeAt(0)]=-2;for(let e=0;e<hm.length;e+=1)t[hm[e].charCodeAt(0)]=e;return t})();function qN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hm[n]),e.queuedBits-=6}}function GT(t,e,r){const n=Ez[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function UN(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Lz(o,n,r)};for(let o=0;o<t.length;o+=1)GT(t.charCodeAt(o),a,i);return e.join("")}function Tz(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Iz(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Tz(n,e)}}function Lz(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Rz(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)GT(t.charCodeAt(a),r,n);return new Uint8Array(e)}function Mz(t){const e=[];return Iz(t,r=>e.push(r)),new Uint8Array(e)}function Dz(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>qN(a,r,n)),qN(null,r,n),e.join("")}function $z(t){return Math.round(Date.now()/1e3)+t}function Fz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ci=()=>typeof window<"u"&&typeof document<"u",ul={tested:!1,writable:!1},YT=()=>{if(!ci())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ul.tested)return ul.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ul.tested=!0,ul.writable=!0}catch{ul.tested=!0,ul.writable=!1}return ul.writable};function Bz(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const KT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ua(async()=>{const{default:n}=await Promise.resolve().then(()=>Gu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},qz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},dl=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ps=async(t,e)=>{await t.removeItem(e)};class Og{constructor(){this.promise=new Og.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Og.promiseConstructor=Promise;function U0(t){const e=t.split(".");if(e.length!==3)throw new Qw("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Nz.test(e[n]))throw new Qw("JWT not in base64url format");return{header:JSON.parse(UN(e[0])),payload:JSON.parse(UN(e[1])),signature:Rz(e[2]),raw:{header:e[0],payload:e[1]}}}async function Uz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zz(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function Wz(t){return("0"+t.toString(16)).substr(-2)}function Hz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Wz).join("")}async function Vz(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Gz(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Vz(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pc(t,e,r=!1){const n=Hz();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Vc(t,`${e}-code-verifier`,a);const i=await Gz(n);return[i,n===i?"plain":"s256"]}const Yz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kz(t){const e=t.headers.get(Zw);if(!e||!e.match(Yz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xz(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zz(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cc(t){if(!Jz.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function z0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zN(t){return JSON.parse(JSON.stringify(t))}var Qz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const ml=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eW=[502,503,504];async function WN(t){var e;if(!qz(t))throw new Jw(ml(t),0);if(eW.includes(t.status))throw new Jw(ml(t),t.status);let r;try{r=await t.json()}catch(i){throw new VT(ml(i),i)}let n;const a=Kz(t);if(a&&a.getTime()>=HT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new FN(ml(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ys}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new FN(ml(r),t.status,r.weak_password.reasons);throw new kz(ml(r),t.status||500,n)}const tW=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ft(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Zw]||(i[Zw]=HT["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await rW(t,e,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function rW(t,e,r,n,a,i){const o=tW(e,n,a,i);let s;try{s=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Jw(ml(c),0)}if(s.ok||await WN(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await WN(c)}}function Ao(t){var e;let r=null;oW(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$z(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function HN(t){const e=Ao(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ss(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nW(t){return{data:t,error:null}}function aW(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=Qz(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function iW(t){return t}function oW(t){return t.access_token&&t.refresh_token&&t.expires_in}const W0=["global","local","others"];var sW=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class lW{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=KT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=W0[0]){if(W0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${W0.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ss})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sW(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:aW,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ss})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:iW});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ot(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Cc(e);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ss})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cc(e);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ss})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Cc(e);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ss})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cc(e.userId);try{const{data:r,error:n}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cc(e.userId),Cc(e.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}}function VN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function cW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oc={debug:!!(globalThis&&YT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uW extends XT{}async function dW(t,e,r){Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Oc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cW();const fW={url:_z,storageKey:jz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function GN(t,e,r){return await r()}const Ec={};class jf{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=jf.nextInstanceID,jf.nextInstanceID+=1,this.instanceID>0&&ci()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},fW),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new lW({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KT(a.fetch),this.lock=a.lock||GN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ci()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dW:this.lock=GN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:YT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=VN(this.memoryStorage)),ci()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Ec[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ec[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ec[this.storageKey]=Object.assign(Object.assign({},Ec[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Bz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ci()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Oz(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ot(r)?{error:r}:{error:new VT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ao}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ot(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Pc(this.storage,this.storageKey)),i=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:Ao})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ao})}else throw new mp("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:s}=e;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:HN})}else if("phone"in e){const{phone:i,password:o,options:s}=e;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:HN})}else throw new mp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,o,s,c,u,d,f,p,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:b,statement:w,options:j}=e;let _;if(ci())if(typeof b=="object")_=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let A;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")A=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)A=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)g=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),m=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=j==null?void 0:j.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((s=j==null?void 0:j.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:v,error:b}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Dz(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ao});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new pp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(Ot(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await dl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ao});if(await ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ot(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,s=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ao}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new pp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:s,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pc(this.storage,this.storageKey));const{error:f}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:c}=e,{data:u,error:d}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new mp("You must provide either an email or phone number.")}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ao});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pc(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nW})}catch(i){if(Ot(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ys;const{error:a}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ot(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:s}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new mp("You must provide either an email or phone number and a type")}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await dl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<B0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await dl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=z0()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ss}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ss})})}catch(r){if(Ot(r))return Cz(r)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ys;const o=a.session;let s=null,c=null;this.flowType==="pkce"&&e.email!=null&&([s,c]=await Pc(this.storage,this.storageKey));const{data:u,error:d}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Ss});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ys;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=U0(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:s,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ot(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ys;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ci())throw new gp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $N("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $N("No code detected.");const{data:w,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=e;if(!i||!s||!o||!u)throw new gp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let p=d+f;c&&(p=parseInt(c));const h=p-d;h*1e3<=Hc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await dl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(Pz(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Fz(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Pc(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ot(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,c,u,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ci()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ot(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zz(async a=>(a>0&&await Uz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ao})),(a,i)=>{const o=200*Math.pow(2,a);return i&&q0(i)&&Date.now()+o-n<Hc})}catch(n){if(this._debug(r,"error",n),Ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ci()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await dl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await dl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Vc(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:z0()}else if(a&&!a.user&&!a.user){const o=await dl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await ps(this.storage,this.storageKey+"-user"),await Vc(this.storage,this.storageKey,a)):a.user=z0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<B0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${B0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),q0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Og;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ys;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={session:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),Ot(i)){const o={session:null,error:i};return q0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=zN(a);await Vc(this.storage,this.storageKey,i)}else{const a=zN(r);await Vc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ci()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Hc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Hc}ms, refresh threshold is ${Xw} ticks`),a<=Xw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof XT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ci()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:s}=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=U0(a.access_token);let s=null;o.aal&&(s=o.aal);let c=s;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+Az>a)return n;const{data:i,error:o}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:c}}=U0(n);r!=null&&r.allowExpired||Xz(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=Zz(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Mz(`${s}.${c}`)))throw new Qw("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}jf.nextInstanceID=0;const hW=jf;class pW extends hW{constructor(e){super(e)}}var mW=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(t,e||[])).next())})};class gW{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const s=wz(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:dz,realtime:hz,auth:Object.assign(Object.assign({},fz),{storageKey:c}),global:uz},d=xz(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=vz(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new EU(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new sz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new wU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return mW(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:c,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pW({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new YU(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vW=(t,e,r)=>new gW(t,e,r);function yW(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yW()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bW="https://xsgumgcioyaehccvklbr.supabase.co",xW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZ3VtZ2Npb3lhZWhjY3ZrbGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4MDM2MTIsImV4cCI6MjA3MTM3OTYxMn0.WdjuHdpQglzzCvuEUWOdLl8Z94bK2FQhtJgS2Dlfs5Q",Te=vW(bW,xW),$s=async()=>{try{const{data:t,error:e}=await Te.rpc("is_admin");if(e)throw e;return t||!1}catch(t){return console.error("Error checking admin status:",t),!1}},ZT=async t=>{try{let e=Te.from("products").select("*").eq("is_active",!0);t&&t!=="All"&&(e=e.eq("category",t));const{data:r,error:n}=await e;if(n)throw n;return r||[]}catch(e){return console.error("Error fetching products:",e),[]}},JT=async t=>{try{if(!await $s())throw new Error("Unauthorized");let r=Te.from("products").select("*");t&&t!=="All"&&(r=r.eq("category",t));const{data:n,error:a}=await r;if(a)throw a;return n||[]}catch(e){return console.error("Error fetching all products:",e),[]}},p_=async t=>{try{const{data:e,error:r}=await Te.from("products").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){return console.error("Error fetching product:",e),null}},m_=async()=>{try{const{data:{user:t}}=await Te.auth.getUser();if(!t)return null;const{data:e,error:r}=await Te.from("cart").select("*").eq("user_id",t.id).single();if(r)throw r;const{data:n,error:a}=await Te.from("cart_items").select(`
        id,
        quantity,
        size,
        color,
        products (id, name, price, image_url, category)
      `).eq("cart_id",e.id);if(a)throw a;return{...e,items:n||[]}}catch(t){return console.error("Error fetching user cart:",t),null}},e2=async(t,e,r,n=1)=>{try{const{data:{user:a}}=await Te.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:i,error:o}=await Te.from("cart").select("id").eq("user_id",a.id).single();if(o)throw o;let s=Te.from("cart_items").select("id, quantity").eq("cart_id",i.id).eq("product_id",t);e?s=s.eq("size",e):s=s.is("size",null),r?s=s.eq("color",r):s=s.is("color",null);const{data:c,error:u}=await s.single();if(u&&u.code!=="PGRST116")throw u;if(c){const{error:d}=await Te.from("cart_items").update({quantity:c.quantity+n}).eq("id",c.id);if(d)throw d}else{const{error:d}=await Te.from("cart_items").insert({cart_id:i.id,product_id:t,size:e||null,color:r||null,quantity:n});if(d)throw d}return!0}catch(a){return console.error("Error adding to cart:",a),!1}},g_=async(t,e,r)=>{try{const{data:{user:n}}=await Te.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:a,error:i}=await Te.from("cart").select("id").eq("user_id",n.id).single();if(i)throw i;let o=Te.from("cart_items").select("id, quantity, size, color").eq("cart_id",a.id).eq("product_id",t);e?o=o.eq("size",e):o=o.is("size",null),r?o=o.eq("color",r):o=o.is("color",null);const{data:s,error:c}=await o.single();if(c&&c.code!=="PGRST116")throw c;return s}catch(n){return console.error("Error finding cart item:",n),null}},QT=async(t,e,r)=>{try{const n=await g_(t,e,r);if(!n)return!1;const{error:a}=await Te.from("cart_items").delete().eq("id",n.id);if(a)throw a;return!0}catch(n){return console.error("Error removing cart item:",n),!1}},wW=async(t,e,r,n)=>{try{const a=await g_(t,r,n);if(!a)return!1;if(e<=0)return await QT(t,r,n);{const{error:i}=await Te.from("cart_items").update({quantity:e}).eq("id",a.id);if(i)throw i;return!0}}catch(a){return console.error("Error updating cart item by variant:",a),!1}},eI=async t=>{try{const{data:{user:e}}=await Te.auth.getUser();if(!e)throw new Error("User not authenticated");const r=await m_();if(!r||!r.items||r.items.length===0)throw new Error("Cart is empty");const{data:n,error:a}=await Te.rpc("create_order_from_cart",{p_user_id:e.id,p_shipping_address:t});if(a)throw a;return n}catch(e){return console.error("Error creating order:",e),null}},tI=async(t,e,r,n=!1,a)=>{var i;try{let o=null;if(n&&a){const{data:p,error:h}=await Te.auth.signUp({email:r.email,password:a,options:{data:{name:`${r.firstName} ${r.lastName}`,phone:r.phone}}});h?console.warn("Account creation failed, proceeding as guest:",h):o=(i=p.user)==null?void 0:i.id}const s={user_id:o,status:"pending",total_amount:t.reduce((p,h)=>p+h.product.price*h.quantity,0),shipping_address:e,customer_email:r.email,customer_name:`${r.firstName} ${r.lastName}`,customer_phone:r.phone},{data:c,error:u}=await Te.from("orders").insert(s).select().single();if(u)throw u;const d=t.map(p=>({order_id:c.id,product_id:p.productId,quantity:p.quantity,price_at_purchase:p.product.price})),{error:f}=await Te.from("order_items").insert(d);if(f)throw f;return c.id}catch(o){return console.error("Error creating guest order:",o),null}},rI=async()=>{try{const{data:{user:t}}=await Te.auth.getUser();if(!t)return[];const{data:e,error:r}=await Te.from("orders").select(`
        id,
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching user orders:",t),[]}},nI=async()=>{try{if(!await $s())throw new Error("Unauthorized");const{data:e,error:r}=await Te.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching all orders:",t),[]}},aI=async(t,e)=>{try{if(!await $s())throw new Error("Unauthorized");const{error:n}=await Te.from("orders").update({status:e}).eq("id",t);if(n)throw n;return!0}catch(r){return console.error("Error updating order status:",r),!1}},iI=async t=>{try{if(!await $s())throw new Error("Unauthorized");const{data:r,error:n}=await Te.from("products").insert(t).select().single();if(n)throw n;return r}catch(e){return console.error("Error creating product:",e),null}},Zp=async(t,e)=>{try{if(!await $s())throw new Error("Unauthorized");const{data:n,error:a}=await Te.from("products").update(e).eq("id",t).select().single();if(a)throw a;return n}catch(r){return console.error("Error updating product:",r),null}},oI=async t=>{try{if(console.log(" DeleteProduct: Starting soft deletion for product:",t),!await $s())throw console.error(" DeleteProduct: User is not admin"),new Error("Unauthorized");console.log(" DeleteProduct: Admin check passed");const r=await p_(t);if(!r)throw console.error(" DeleteProduct: Product not found"),new Error("Product not found");console.log(" DeleteProduct: Product found:",r.name),console.log(" DeleteProduct: Performing soft delete (setting is_active = false)");const{error:n}=await Te.from("products").update({is_active:!1}).eq("id",t);if(n)throw console.error(" DeleteProduct: Soft delete failed:",n),n;return console.log(" DeleteProduct: Successfully soft deleted product (is_active = false)"),console.log(" DeleteProduct: Product preserved for order history but hidden from public"),!0}catch(e){return console.error(" DeleteProduct: Error during soft delete:",e),!1}},sI=async(t,e)=>{try{const{data:r,error:n}=await Te.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Error updating user profile:",r),null}},lI=async t=>{try{const{data:e,error:r}=await Te.auth.updateUser({password:t});if(r)throw r;return e}catch(e){return console.error("Error updating user password:",e),null}},cI=async()=>{try{const{data:t,error:e}=await Te.from("orders").select("total_amount");if(e)throw e;return(t==null?void 0:t.reduce((n,a)=>n+(a.total_amount||0),0))||0}catch(t){return console.error("Error fetching total revenue:",t),0}},uI=async()=>{try{const{count:t,error:e}=await Te.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total orders:",t),0}},dI=async()=>{try{const{count:t,error:e}=await Te.from("users").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total users:",t),0}},fI=async(t,e)=>{try{const{data:r,error:n}=await Te.from("orders").select(`
        created_at,
        total_amount
      `).gte("created_at",t).lte("created_at",e);if(n)throw n;const a={};return(r||[]).forEach(o=>{const s=new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});a[s]||(a[s]={sales:0,orders:0}),a[s].sales+=o.total_amount,a[s].orders+=1}),Object.entries(a).map(([o,s])=>({month:o,sales:s.sales,orders_count:s.orders}))}catch(r){return console.error("Error fetching sales data:",r),[]}},hI=async()=>{try{const{data:t,error:e}=await Te.from("products").select("category");if(e)throw e;const r={};(t||[]).forEach(i=>{const o=i.category||"Uncategorized";r[o]=(r[o]||0)+1});const n=Object.values(r).reduce((i,o)=>i+o,0);return Object.entries(r).map(([i,o])=>({category_name:i,product_count:o,percentage:Math.round(o/n*100*100)/100}))}catch(t){return console.error("Error fetching category distribution:",t),[]}},pI=async(t=10)=>{try{const{data:e,error:r}=await Te.from("orders").select(`
        id,
        total_amount,
        status,
        created_at,
        users!inner (
          email,
          name
        )
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e==null?void 0:e.map(a=>{var i,o;return{order_id:a.id,customer_email:((i=a.users)==null?void 0:i.email)||"N/A",customer_name:((o=a.users)==null?void 0:o.name)||"N/A",amount:a.total_amount,status:a.status,order_date:a.created_at}}))||[]}catch(e){return console.error("Error fetching recent orders:",e),[]}},mI=async(t=30)=>{try{const e=new Date,r=new Date(e.getTime()-t*24*60*60*1e3),n=new Date(e.getTime()-t*2*24*60*60*1e3),a=new Date(e.getTime()-t*24*60*60*1e3),{data:i,error:o}=await Te.from("orders").select("total_amount").gte("created_at",r.toISOString());if(o)throw o;const s=(i==null?void 0:i.reduce((p,h)=>p+(h.total_amount||0),0))||0,{data:c,error:u}=await Te.from("orders").select("total_amount").gte("created_at",n.toISOString()).lt("created_at",a.toISOString());if(u)throw u;const d=(c==null?void 0:c.reduce((p,h)=>p+(h.total_amount||0),0))||0,f=d===0?s>0?100:0:Math.round((s-d)/d*100*100)/100;return{current_period_revenue:s,previous_period_revenue:d,growth_percentage:f}}catch(e){return console.error("Error fetching revenue growth:",e),{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}},vp=Object.freeze(Object.defineProperty({__proto__:null,addToCart:e2,createGuestOrder:tI,createOrderFromCart:eI,createProduct:iI,deleteProduct:oI,findCartItem:g_,getAllOrders:nI,getAllProducts:JT,getCategoryDistribution:hI,getProduct:p_,getProducts:ZT,getRecentOrders:pI,getRevenueGrowth:mI,getSalesData:fI,getTotalOrders:uI,getTotalRevenue:cI,getTotalUsers:dI,getUserCart:m_,getUserOrders:rI,isAdmin:$s,removeCartItem:QT,supabase:Te,updateCartItemByVariant:wW,updateOrderStatus:aI,updateProduct:Zp,updateUserPassword:lI,updateUserProfile:sI},Symbol.toStringTag,{value:"Module"})),gI=N.createContext(void 0),_W=({children:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),s=async d=>{try{a(!0),o(null);const p=(await ZT(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Te.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Te.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching products:",f),o("Failed to load products")}finally{a(!1)}},c=async d=>{try{a(!0),o(null);const p=(await JT(d)).map(h=>{let g=[];if(h.images&&Array.isArray(h.images)&&h.images.length>0)g=h.images.filter(m=>m&&typeof m=="string"&&m.trim()!=="").map(m=>{if(m.startsWith("http"))return m;const v=m.startsWith("/")?m.substring(1):m;return Te.storage.from("product-images").getPublicUrl(v).data.publicUrl});else if(h.image_url&&typeof h.image_url=="string"&&h.image_url.trim()!==""){const m=h.image_url;if(m.startsWith("http"))g=[m];else{const v=m.startsWith("/images/")?m.substring(8):m.startsWith("/")?m.substring(1):m;g=[Te.storage.from("product-images").getPublicUrl(v).data.publicUrl]}}else g=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:h.id,name:h.name,category:h.category,price:h.price,originalPrice:h.original_price||void 0,images:g,sizes:h.sizes||["S","M","L"],colors:h.colors||["Black","White"],description:h.description||"",reviews:[],rating:4.5,inStock:h.in_stock??!0}});r(p)}catch(f){console.error("Error fetching all products:",f),o("Failed to load products")}finally{a(!1)}},u=async d=>{try{a(!0),o(null);const f=await p_(d);if(!f)return null;let p=[];if(f.images&&Array.isArray(f.images)&&f.images.length>0)p=f.images.filter(g=>g&&typeof g=="string"&&g.trim()!=="").map(g=>{if(g.startsWith("http"))return g;const m=g.startsWith("/")?g.substring(1):g;return Te.storage.from("product-images").getPublicUrl(m).data.publicUrl});else if(f.image_url&&typeof f.image_url=="string"&&f.image_url.trim()!==""){const g=f.image_url;if(g.startsWith("http"))p=[g];else{const m=g.startsWith("/images/")?g.substring(8):g.startsWith("/")?g.substring(1):g;p=[Te.storage.from("product-images").getPublicUrl(m).data.publicUrl]}}else p=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="];return{id:f.id,name:f.name,category:f.category,price:f.price,images:p,sizes:f.sizes||["S","M","L"],colors:f.colors||["Black","White"],description:f.description||"",reviews:[],rating:4.5,inStock:f.in_stock??!0,originalPrice:f.original_price||void 0}}catch(f){return console.error("Error fetching product:",f),o("Failed to load product"),null}finally{a(!1)}};return N.useEffect(()=>{s()},[]),l.jsx(gI.Provider,{value:{products:e,loading:n,error:i,fetchProducts:s,fetchAllProducts:c,fetchProduct:u},children:t})},hh=()=>{const t=N.useContext(gI);if(t===void 0)throw new Error("useProducts must be used within a ProductProvider");return t},vI=N.createContext(void 0),jW=({children:t})=>{const[e,r]=N.useState(null),[n,a]=N.useState(!0),[i,o]=N.useState(null),[s,c]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState(!1),h=N.useRef(!1),g=N.useRef(!1),m=N.useCallback(async()=>{var k,A;if(h.current){console.log("fetchUser: Already fetching, skipping...");return}console.log("fetchUser: Starting"),h.current=!0;try{a(!0),o(null),console.log("fetchUser: Getting auth user from Supabase");const{data:{user:E}}=await Te.auth.getUser();console.log("fetchUser: Checking admin status");const I=await $s();if(console.log(`fetchUser: Admin status is ${I}`),E){console.log(`fetchUser: Auth user found with ID: ${E.id}`),d(E.email_confirmed_at!==null),console.log('fetchUser: Fetching user profile from "users" table');const{data:L,error:P}=await Te.from("users").select("*").eq("id",E.id).single();if(P&&P.code!=="PGRST116")throw console.error("fetchUser: Error fetching user profile:",P),P;console.log("fetchUser: User profile data:",L);const O={id:E.id,email:E.email??"",name:(L==null?void 0:L.name)??((k=E.user_metadata)==null?void 0:k.name)??"New User",phone:(L==null?void 0:L.phone)??((A=E.user_metadata)==null?void 0:A.phone)??void 0,membershipTier:"Bronze",points:0,created_at:L==null?void 0:L.created_at,preferences:{sizes:[],colors:[],styles:[]}};console.log("fetchUser: User state transformed and ready to be set:",O),r(O),c(I)}else console.log("fetchUser: No auth user found. Clearing user state."),r(null),c(!1),d(!1)}catch(E){console.error("Error in fetchUser:",E),o(E.message||"Failed to load user data"),r(null),c(!1)}finally{console.log("fetchUser: Finished"),a(!1),h.current=!1}},[]),v=async(k,A)=>{console.log("signIn: Starting"),a(!0),o(null);try{console.log("signIn: Calling Supabase signInWithPassword");const{data:E,error:I}=await Te.auth.signInWithPassword({email:k,password:A});if(console.log("signIn: Supabase call returned."),console.log("signIn: Data:",E),console.log("signIn: Error:",I),I)throw console.error("signIn: Supabase auth error:",I),I;return console.log("signIn: Supabase sign-in appears successful. Waiting for auth state change."),!0}catch(E){return console.error("Error in signIn:",E),o(E.message||"Failed to sign in"),!1}finally{console.log("signIn: Finished"),a(!1)}},b=async(k,A,E)=>{try{a(!0),o(null);const{error:I}=await Te.auth.signUp({email:k,password:A,options:{data:{name:E}}});if(I)throw I;return!0}catch(I){return console.error("Error signing up:",I),o(I.message||"Failed to sign up"),!1}finally{a(!1)}},w=async()=>{console.log("signOut: Starting logout process"),g.current=!0;try{a(!0),console.log("signOut: Calling supabase.auth.signOut()");const{error:k}=await Te.auth.signOut();if(k)throw console.error("signOut: Supabase sign out error:",k),k;console.log("signOut: Supabase sign out successful"),console.log("signOut: Clearing local state"),r(null),c(!1),console.log("signOut: Local state cleared")}catch(k){console.error("signOut: Error during logout:",k),o("Failed to sign out")}finally{console.log("signOut: Setting loading to false"),a(!1)}},j=async k=>{try{a(!0),o(null);const{error:A}=await Te.auth.resetPasswordForEmail(k);if(A)throw A;return!0}catch(A){return console.error("Error resetting password:",A),o(A.message||"Failed to reset password"),!1}finally{a(!1)}},_=async()=>{try{o(null),p(!0);const{data:{user:k}}=await Te.auth.getUser();if(!k)throw new Error("User not found");const{error:A}=await Te.auth.resend({type:"signup",email:k.email});if(A)throw A;return!0}catch(k){return console.error("Error resending verification:",k),o(k.message||"Failed to resend verification email"),!1}finally{p(!1)}},S=async()=>{try{const{data:{user:k}}=await Te.auth.getUser();k&&d(k.email_confirmed_at!==null)}catch(k){console.error("Error checking verification status:",k)}};return N.useEffect(()=>{console.log("AuthContext: Component mounted, resetting logout flag"),g.current=!1},[]),N.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const{data:{subscription:k}}=Te.auth.onAuthStateChange(async(A,E)=>{if(console.log("AuthContext: Auth state changed:",A,E?"Session exists":"No session"),g.current&&A==="SIGNED_OUT"){console.log("AuthContext: Skipping fetchUser during logout process");return}await m()});return m(),()=>{console.log("AuthContext: Unsubscribing from auth state listener"),k.unsubscribe()}},[m]),l.jsx(vI.Provider,{value:{user:e,loading:n,error:i,isAdmin:s,isEmailVerified:u,pendingVerification:f,signIn:v,signUp:b,signOut:w,resetPassword:j,resendVerification:_,checkVerificationStatus:S},children:t})},Nn=()=>{const t=N.useContext(vI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Fs(){return l.jsx("div",{className:"h-24 w-full"})}const yI=N.createContext(void 0),SW=({children:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),{user:s}=Nn(),c="rosemama_guest_cart",u=!s,d=()=>{try{const j=localStorage.getItem(c);if(j){const _=JSON.parse(j);r(_)}else r([])}catch(j){console.error("Error loading guest cart:",j),r([])}},f=j=>{try{localStorage.setItem(c,JSON.stringify(j))}catch(_){console.error("Error saving guest cart:",_)}},p=async()=>{if(s&&e.length>0)try{for(const j of e)await e2(j.productId,j.size,j.color,j.quantity);localStorage.removeItem(c),await h()}catch(j){console.error("Error merging guest cart:",j)}},h=async()=>{try{a(!0),o(null);const j=await m_();if(!j){r([]);return}const _=j.items.map(S=>({productId:S.products.id,product:{id:S.products.id,name:S.products.name,category:S.products.category,price:S.products.price,images:S.products.image_url?[S.products.image_url]:[],sizes:["S","M","L"],colors:["Black","White"],description:"",reviews:[],rating:4.5,inStock:!0},size:S.size||"M",color:S.color||"Black",quantity:S.quantity}));r(_)}catch(j){console.error("Error fetching cart:",j),o("Failed to load cart")}finally{a(!1)}},g=async(j,_,S,k)=>{try{if(a(!0),o(null),u){const A={productId:j.id,product:j,size:_,color:S,quantity:k},E=[...e],I=E.findIndex(L=>L.productId===j.id&&L.size===_&&L.color===S);return I>=0?E[I].quantity+=k:E.push(A),r(E),f(E),!0}else{const A=await e2(j.id,_,S,k);return A&&await h(),A}}catch(A){return console.error("Error adding to cart:",A),o("Failed to add item to cart"),!1}finally{a(!1)}},m=async j=>{try{console.log("CartContext removeItem called:",{cartItemId:j,isGuestCart:u}),a(!0),o(null);const{supabase:_}=await Ua(async()=>{const{supabase:A}=await Promise.resolve().then(()=>vp);return{supabase:A}},void 0),{data:{session:S}}=await _.auth.getSession(),k=S&&S.user;if(console.log("Session check:",{hasValidSession:k,sessionExists:!!S,userExists:!!(S!=null&&S.user)}),k){const[A,E,I]=j.split("|");console.log("Removing from authenticated cart:",{productId:A,size:E,color:I});const{removeCartItem:L}=await Ua(async()=>{const{removeCartItem:O}=await Promise.resolve().then(()=>vp);return{removeCartItem:O}},void 0),P=await L(A,E,I);return P&&await h(),P}else{const[A,E,I]=j.split("|");console.log("Removing from guest cart (no valid session):",{productId:A,size:E,color:I}),console.log("Current items before filter:",e);const L=e.filter(P=>!(P.productId===A&&P.size===E&&P.color===I));return console.log("Updated items after filter:",L),r(L),f(L),!0}}catch(_){return console.error("Error removing from cart:",_),o("Failed to remove item from cart"),!1}finally{a(!1)}},v=async(j,_)=>{try{console.log("CartContext updateItemQuantity called:",{cartItemId:j,quantity:_,isGuestCart:u}),a(!0),o(null);const{supabase:S}=await Ua(async()=>{const{supabase:E}=await Promise.resolve().then(()=>vp);return{supabase:E}},void 0),{data:{session:k}}=await S.auth.getSession(),A=k&&k.user;if(console.log("Session check for update:",{hasValidSession:A,sessionExists:!!k,userExists:!!(k!=null&&k.user)}),A){const[E,I,L]=j.split("|");console.log("Updating authenticated cart item:",{productId:E,size:I,color:L,quantity:_});const{updateCartItemByVariant:P}=await Ua(async()=>{const{updateCartItemByVariant:D}=await Promise.resolve().then(()=>vp);return{updateCartItemByVariant:D}},void 0),O=await P(E,_,I,L);return O&&await h(),O}else{const[E,I,L]=j.split("|");console.log("Updating guest cart item:",{productId:E,size:I,color:L,quantity:_}),console.log("Current items before update:",e);const P=e.map(O=>O.productId===E&&O.size===I&&O.color===L?{...O,quantity:_}:O);return console.log("Updated items after update:",P),r(P),f(P),!0}}catch(S){return console.error("Error updating cart quantity:",S),o("Failed to update cart"),!1}finally{a(!1)}},b=()=>e.reduce((j,_)=>j+_.quantity,0),w=()=>e.reduce((j,_)=>j+_.product.price*_.quantity,0);return N.useEffect(()=>{(async()=>{s?await h():(d(),a(!1))})()},[s]),N.useEffect(()=>{s&&e.length>0&&localStorage.getItem(c)&&p()},[s]),l.jsx(yI.Provider,{value:{items:e,loading:n,error:i,addItem:g,removeItem:m,updateItemQuantity:v,getTotalItems:b,getTotalPrice:w,isGuestCart:u,mergeGuestCartOnLogin:p,fetchCart:h},children:t})},ph=()=>{const t=N.useContext(yI);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};function bI({onViewProduct:t,onNavigateToCategory:e}){const{products:r}=hh(),{user:n}=Nn(),{addItem:a}=ph(),[i,o]=N.useState(new Set);console.log(" Home Component Debug:",{totalProducts:r.length,featuredProductsCount:r.slice(0,4).length,saleProductsCount:r.filter(g=>g.originalPrice&&g.price<g.originalPrice).length,userLoggedIn:!!n,likedProductsCount:i.size});const s=[{name:"Dresses",icon:"",color:"bg-pink-100 dark:bg-pink-900/30"},{name:"Casual",icon:"",color:"bg-blue-100 dark:bg-blue-900/30"},{name:"Shoes",icon:"",color:"bg-purple-100 dark:bg-purple-900/30"},{name:"Outwear",icon:"",color:"bg-orange-100 dark:bg-orange-900/30"},{name:"Party",icon:"",color:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Accessories",icon:"",color:"bg-green-100 dark:bg-green-900/30"}],c=r.slice(0,4),u=r.filter(g=>g.originalPrice).slice(0,3),d=async g=>{try{console.log(" Home: Adding product to cart:",g.id,g.name),await a(g,"M","Default",1)?console.log(" Home: Product added to cart successfully"):console.error(" Home: Failed to add product to cart")}catch(m){console.error(" Home: Error adding product to cart:",m)}},f=g=>{console.log(" Home: Viewing product details:",g.id,g.name),t(g)},p=g=>{console.log(" Home: Toggling wishlist for product:",g.id,g.name),o(m=>{const v=new Set(m);return v.has(g.id)?(v.delete(g.id),console.log(" Home: Removed from wishlist")):(v.add(g.id),console.log(" Home: Added to wishlist")),v})},h=()=>{const g=new Date().getHours(),m=g<12?"Good morning":g<17?"Good afternoon":"Good evening";return n?`${m}, ${n.name.split(" ")[0]}! `:`${m}! Welcome to Rosemama`};return l.jsxs("div",{className:"space-y-8 pb-24",children:[l.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/10 dark:from-primary/10 dark:to-secondary/20 px-6 py-16 rounded-b-3xl overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-50"}),l.jsxs("div",{className:"container mx-auto text-center space-y-4 relative",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx(CT,{className:"h-6 w-6 text-primary animate-pulse"}),l.jsx("span",{className:"text-sm font-medium text-primary bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-full",children:n?"Personalized for You":"Latest Collection"})]}),l.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:h()}),l.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto text-lg leading-relaxed",children:n?"Your fashion journey awaits with personalized recommendations tailored just for you.":"Explore our curated collection of premium fashion pieces. Sign in to unlock exclusive rewards and personalized recommendations!"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[l.jsxs(we,{onClick:()=>e("All"),size:"lg",className:"group transform hover:scale-105 transition-all duration-300",children:[l.jsx("span",{className:"mr-2",children:"Shop Collection"}),l.jsx(cm,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),n&&l.jsxs(we,{variant:"outline",size:"lg",onClick:()=>e("Sale"),className:"group transform hover:scale-105 transition-all duration-300",children:[l.jsx("span",{className:"mr-2",children:"View Offers"}),l.jsx(qw,{className:"h-4 w-4 group-hover:rotate-12 transition-transform"})]})]})]})]}),l.jsxs("div",{className:"px-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Shop by Category"}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:s.map(g=>l.jsxs(we,{variant:"ghost",className:"h-auto p-4 flex-col gap-2 hover:scale-105 transition-transform dark:hover:bg-accent/50",onClick:()=>e(g.name),children:[l.jsx("div",{className:`w-12 h-12 rounded-full ${g.color} flex items-center justify-center text-xl dark:text-foreground`,children:g.icon}),l.jsx("span",{className:"text-xs text-foreground",children:g.name})]},g.name))})]}),l.jsxs("div",{className:"px-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(qw,{className:"h-5 w-5 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n?"Recommended for You":"Featured Products"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(g=>{var m,v;return console.log(" Home: Rendering featured product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),l.jsxs("div",{className:"h-[480px]",children:[" ",l.jsx(Uw,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})})]}),u.length>0&&l.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-destructive/10 to-orange-100 dark:from-destructive/20 dark:to-orange-900/30 rounded-2xl p-4 md:p-6 lg:p-8 mt-6 md:mt-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-2xl animate-bounce",children:""}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg md:text-xl font-semibold text-destructive dark:text-destructive-foreground",children:" Flash Sale"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:" Limited time offers! Ends soon."})]})]}),l.jsx(we,{variant:"outline",size:"sm",onClick:()=>{console.log(" Home: View All Flash Sale clicked"),e("All")},className:"dark:border-border dark:hover:bg-accent",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:u.map(g=>{var m,v;return console.log(" Home: Rendering flash sale product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),l.jsxs("div",{className:"h-[480px]",children:[" ",l.jsx(Uw,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})}),l.jsx("div",{className:"border-t border-border/50 pt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),l.jsx("span",{children:"Up to 70% OFF"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),l.jsx("span",{children:"Limited Stock"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),l.jsx("span",{children:"Sale ends in 2 days"})]})]})})]})}),l.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Why Shop at Rosemama?"}),l.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Discover what makes us your premier fashion destination"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Free Shipping"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Free delivery on Orders over R3500"})]}),l.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Secure Payments"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"100% secure checkout protected"})]}),l.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Curated Collections"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Exclusive fashion pieces selected just for you"})]}),l.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Premium Quality"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"curated fashion"})]})]})]}),l.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-2xl p-4 md:p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"What Our Customers Say"}),l.jsx("p",{className:"text-muted-foreground",children:"Real reviews from satisfied fashion lovers"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center p-4 bg-white/50 dark:bg-card/50 rounded-xl",children:[l.jsx("div",{className:"flex justify-center mb-3",children:[...Array(5)].map((g,m)=>l.jsx(Wa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),l.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:'"Amazing quality and fast delivery! My favorite online fashion store."'}),l.jsx("p",{className:"font-semibold text-foreground",children:"- Sarah M."})]}),l.jsxs("div",{className:"text-center p-4 bg-white/50 dark:bg-card/50 rounded-xl",children:[l.jsx("div",{className:"flex justify-center mb-3",children:[...Array(5)].map((g,m)=>l.jsx(Wa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),l.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:'"Great variety and the flash sales are incredible value!"'}),l.jsx("p",{className:"font-semibold text-foreground",children:"- John D."})]}),l.jsxs("div",{className:"text-center p-4 bg-white/50 dark:bg-card/50 rounded-xl",children:[l.jsx("div",{className:"flex justify-center mb-3",children:[...Array(5)].map((g,m)=>l.jsx(Wa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),l.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:'"Love the personalized recommendations and Curated Collections."'}),l.jsx("p",{className:"font-semibold text-foreground",children:"- Lisa K."})]})]})]})}),l.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Join Our Fashion Community"}),l.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"Get exclusive access to flash sales, new arrivals, and personalized recommendations"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!n&&l.jsx(we,{size:"lg",onClick:()=>{},className:"group",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Sign In to Get Started"}),l.jsx(cm,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),l.jsx(we,{variant:"outline",size:"lg",onClick:()=>e("All"),children:"Continue Shopping"})]})]})}),l.jsx(Fs,{})]})}function ze({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:Fe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Bt({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:Fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function qt({className:t,...e}){return l.jsx("h4",{"data-slot":"card-title",className:Fe("leading-none",t),...e})}function YN({className:t,...e}){return l.jsx("p",{"data-slot":"card-description",className:Fe("text-muted-foreground",t),...e})}function We({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:Fe("px-6 [&:last-child]:pb-6",t),...e})}const NW=Z5("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ut({className:t,variant:e,asChild:r=!1,...n}){const a=r?aT:"span";return l.jsx(a,{"data-slot":"badge",className:Fe(NW({variant:e}),t),...n})}var AW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=AW.reduce((t,e)=>{const r=Ll(`Primitive.${e}`),n=N.forwardRef((a,i)=>{const{asChild:o,...s}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kW(t,e){t&&Ag.flushSync(()=>t.dispatchEvent(e))}var PW="Separator",KN="horizontal",CW=["horizontal","vertical"],xI=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=KN,...a}=t,i=OW(n)?n:KN,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(at.div,{"data-orientation":i,...s,...a,ref:e})});xI.displayName=PW;function OW(t){return CW.includes(t)}var EW=xI;function Zn({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return l.jsx(EW,{"data-slot":"separator-root",decorative:r,orientation:e,className:Fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function TW(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const IW=t=>{switch(t){case"success":return MW;case"info":return $W;case"warning":return DW;case"error":return FW;default:return null}},LW=Array(12).fill(0),RW=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},LW.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),MW=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DW=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$W=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FW=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BW=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qW=()=>{const[t,e]=K.useState(document.hidden);return K.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let t2=1;class UW{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:t2++,o=this.toasts.find(c=>c.id===i),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:s,title:n}):c):this.addToast({title:n,...a,dismissible:s,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,o;const s=a.then(async u=>{if(o=["resolve",u],K.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(WW(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...g})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,h=typeof d=="object"&&!K.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...h})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>s.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||t2++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const oa=new UW,zW=(t,e)=>{const r=(e==null?void 0:e.id)||t2++;return oa.addToast({title:t,...e,id:r}),r},WW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",HW=zW,VW=()=>oa.toasts,GW=()=>oa.getActiveToasts(),Ce=Object.assign(HW,{success:oa.success,info:oa.info,warning:oa.warning,error:oa.error,custom:oa.custom,message:oa.message,promise:oa.promise,dismiss:oa.dismiss,loading:oa.loading},{getHistory:VW,getToasts:GW});TW("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yp(t){return t.label!==void 0}const YW=3,KW="24px",XW="16px",XN=4e3,ZW=356,JW=14,QW=45,eH=200;function $i(...t){return t.filter(Boolean).join(" ")}function tH(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const rH=t=>{var e,r,n,a,i,o,s,c,u;const{invert:d,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:m,heights:v,index:b,toasts:w,expanded:j,removeToast:_,defaultRichColors:S,closeButton:k,style:A,cancelButtonStyle:E,actionButtonStyle:I,className:L="",descriptionClassName:P="",duration:O,position:D,gap:M,expandByDefault:G,classNames:Y,icons:W,closeButtonAriaLabel:F="Close toast"}=t,[ae,re]=K.useState(null),[oe,$]=K.useState(null),[U,z]=K.useState(!1),[J,le]=K.useState(!1),[se,de]=K.useState(!1),[ie,he]=K.useState(!1),[ge,ue]=K.useState(!1),[Pe,me]=K.useState(0),[Q,Ve]=K.useState(0),Be=K.useRef(f.duration||O||XN),Ue=K.useRef(null),ke=K.useRef(null),Qe=b===0,Re=b+1<=m,Ke=f.type,Ge=f.dismissible!==!1,zt=f.className||"",mt=f.descriptionClassName||"",gt=K.useMemo(()=>v.findIndex($e=>$e.toastId===f.id)||0,[v,f.id]),er=K.useMemo(()=>{var $e;return($e=f.closeButton)!=null?$e:k},[f.closeButton,k]),St=K.useMemo(()=>f.duration||O||XN,[f.duration,O]),it=K.useRef(0),dt=K.useRef(0),st=K.useRef(0),Vt=K.useRef(null),[Gt,nt]=D.split("-"),_t=K.useMemo(()=>v.reduce(($e,vr,Yt)=>Yt>=gt?$e:$e+vr.height,0),[v,gt]),tr=qW(),ft=f.invert||d,Mt=Ke==="loading";dt.current=K.useMemo(()=>gt*M+_t,[gt,_t]),K.useEffect(()=>{Be.current=St},[St]),K.useEffect(()=>{z(!0)},[]),K.useEffect(()=>{const $e=ke.current;if($e){const vr=$e.getBoundingClientRect().height;return Ve(vr),g(Yt=>[{toastId:f.id,height:vr,position:f.position},...Yt]),()=>g(Yt=>Yt.filter(Dr=>Dr.toastId!==f.id))}},[g,f.id]),K.useLayoutEffect(()=>{if(!U)return;const $e=ke.current,vr=$e.style.height;$e.style.height="auto";const Yt=$e.getBoundingClientRect().height;$e.style.height=vr,Ve(Yt),g(Dr=>Dr.find(qe=>qe.toastId===f.id)?Dr.map(qe=>qe.toastId===f.id?{...qe,height:Yt}:qe):[{toastId:f.id,height:Yt,position:f.position},...Dr])},[U,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const ht=K.useCallback(()=>{le(!0),me(dt.current),g($e=>$e.filter(vr=>vr.toastId!==f.id)),setTimeout(()=>{_(f)},eH)},[f,_,g,dt]);K.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let $e;return j||h||tr?(()=>{if(st.current<it.current){const Dr=new Date().getTime()-it.current;Be.current=Be.current-Dr}st.current=new Date().getTime()})():(()=>{Be.current!==1/0&&(it.current=new Date().getTime(),$e=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ht()},Be.current))})(),()=>clearTimeout($e)},[j,h,f,Ke,tr,ht]),K.useEffect(()=>{f.delete&&(ht(),f.onDismiss==null||f.onDismiss.call(f,f))},[ht,f.delete]);function Mr(){var $e;if(W!=null&&W.loading){var vr;return K.createElement("div",{className:$i(Y==null?void 0:Y.loader,f==null||(vr=f.classNames)==null?void 0:vr.loader,"sonner-loader"),"data-visible":Ke==="loading"},W.loading)}return K.createElement(RW,{className:$i(Y==null?void 0:Y.loader,f==null||($e=f.classNames)==null?void 0:$e.loader),visible:Ke==="loading"})}const Wr=f.icon||(W==null?void 0:W[Ke])||IW(Ke);var rr,vt;return K.createElement("li",{tabIndex:0,ref:ke,className:$i(L,zt,Y==null?void 0:Y.toast,f==null||(e=f.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[Ke],f==null||(r=f.classNames)==null?void 0:r[Ke]),"data-sonner-toast":"","data-rich-colors":(rr=f.richColors)!=null?rr:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":U,"data-promise":!!f.promise,"data-swiped":ge,"data-removed":J,"data-visible":Re,"data-y-position":Gt,"data-x-position":nt,"data-index":b,"data-front":Qe,"data-swiping":se,"data-dismissible":Ge,"data-type":Ke,"data-invert":ft,"data-swipe-out":ie,"data-swipe-direction":oe,"data-expanded":!!(j||G&&U),"data-testid":f.testId,style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${J?Pe:dt.current}px`,"--initial-height":G?"auto":`${Q}px`,...A,...f.style},onDragEnd:()=>{de(!1),re(null),Vt.current=null},onPointerDown:$e=>{$e.button!==2&&(Mt||!Ge||(Ue.current=new Date,me(dt.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(de(!0),Vt.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,vr,Yt;if(ie||!Ge)return;Vt.current=null;const Dr=Number((($e=ke.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wn=Number(((vr=ke.current)==null?void 0:vr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qe=new Date().getTime()-((Yt=Ue.current)==null?void 0:Yt.getTime()),Fr=ae==="x"?Dr:Wn,ta=Math.abs(Fr)/qe;if(Math.abs(Fr)>=QW||ta>.11){me(dt.current),f.onDismiss==null||f.onDismiss.call(f,f),$(ae==="x"?Dr>0?"right":"left":Wn>0?"down":"up"),ht(),he(!0);return}else{var Er,Tr;(Er=ke.current)==null||Er.style.setProperty("--swipe-amount-x","0px"),(Tr=ke.current)==null||Tr.style.setProperty("--swipe-amount-y","0px")}ue(!1),de(!1),re(null)},onPointerMove:$e=>{var vr,Yt,Dr;if(!Vt.current||!Ge||((vr=window.getSelection())==null?void 0:vr.toString().length)>0)return;const qe=$e.clientY-Vt.current.y,Fr=$e.clientX-Vt.current.x;var ta;const Er=(ta=t.swipeDirections)!=null?ta:tH(D);!ae&&(Math.abs(Fr)>1||Math.abs(qe)>1)&&re(Math.abs(Fr)>Math.abs(qe)?"x":"y");let Tr={x:0,y:0};const kr=yr=>1/(1.5+Math.abs(yr)/20);if(ae==="y"){if(Er.includes("top")||Er.includes("bottom"))if(Er.includes("top")&&qe<0||Er.includes("bottom")&&qe>0)Tr.y=qe;else{const yr=qe*kr(qe);Tr.y=Math.abs(yr)<Math.abs(qe)?yr:qe}}else if(ae==="x"&&(Er.includes("left")||Er.includes("right")))if(Er.includes("left")&&Fr<0||Er.includes("right")&&Fr>0)Tr.x=Fr;else{const yr=Fr*kr(Fr);Tr.x=Math.abs(yr)<Math.abs(Fr)?yr:Fr}(Math.abs(Tr.x)>0||Math.abs(Tr.y)>0)&&ue(!0),(Yt=ke.current)==null||Yt.style.setProperty("--swipe-amount-x",`${Tr.x}px`),(Dr=ke.current)==null||Dr.style.setProperty("--swipe-amount-y",`${Tr.y}px`)}},er&&!f.jsx&&Ke!=="loading"?K.createElement("button",{"aria-label":F,"data-disabled":Mt,"data-close-button":!0,onClick:Mt||!Ge?()=>{}:()=>{ht(),f.onDismiss==null||f.onDismiss.call(f,f)},className:$i(Y==null?void 0:Y.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(vt=W==null?void 0:W.close)!=null?vt:BW):null,(Ke||f.icon||f.promise)&&f.icon!==null&&((W==null?void 0:W[Ke])!==null||f.icon)?K.createElement("div",{"data-icon":"",className:$i(Y==null?void 0:Y.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Mr():null,f.type!=="loading"?Wr:null):null,K.createElement("div",{"data-content":"",className:$i(Y==null?void 0:Y.content,f==null||(i=f.classNames)==null?void 0:i.content)},K.createElement("div",{"data-title":"",className:$i(Y==null?void 0:Y.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?K.createElement("div",{"data-description":"",className:$i(P,mt,Y==null?void 0:Y.description,f==null||(s=f.classNames)==null?void 0:s.description)},typeof f.description=="function"?f.description():f.description):null),K.isValidElement(f.cancel)?f.cancel:f.cancel&&yp(f.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:$e=>{yp(f.cancel)&&Ge&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,$e),ht())},className:$i(Y==null?void 0:Y.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,K.isValidElement(f.action)?f.action:f.action&&yp(f.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:$e=>{yp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,$e),!$e.defaultPrevented&&ht())},className:$i(Y==null?void 0:Y.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function ZN(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nH(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",s=i?XW:KW;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=s:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(s)}),r}const aH=K.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:g,style:m,visibleToasts:v=YW,toastOptions:b,dir:w=ZN(),gap:j=JW,icons:_,containerAriaLabel:S="Notifications"}=e,[k,A]=K.useState([]),E=K.useMemo(()=>n?k.filter(U=>U.toasterId===n):k.filter(U=>!U.toasterId),[k,n]),I=K.useMemo(()=>Array.from(new Set([i].concat(E.filter(U=>U.position).map(U=>U.position)))),[E,i]),[L,P]=K.useState([]),[O,D]=K.useState(!1),[M,G]=K.useState(!1),[Y,W]=K.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=K.useRef(null),ae=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=K.useRef(null),oe=K.useRef(!1),$=K.useCallback(U=>{A(z=>{var J;return(J=z.find(le=>le.id===U.id))!=null&&J.delete||oa.dismiss(U.id),z.filter(({id:le})=>le!==U.id)})},[]);return K.useEffect(()=>oa.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{A(z=>z.map(J=>J.id===U.id?{...J,delete:!0}:J))});return}setTimeout(()=>{tT.flushSync(()=>{A(z=>{const J=z.findIndex(le=>le.id===U.id);return J!==-1?[...z.slice(0,J),{...z[J],...U},...z.slice(J+1)]:[U,...z]})})})}),[k]),K.useEffect(()=>{if(p!=="system"){W(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:z})=>{W(z?"dark":"light")})}catch{U.addListener(({matches:J})=>{try{W(J?"dark":"light")}catch(le){console.error(le)}})}},[p]),K.useEffect(()=>{k.length<=1&&D(!1)},[k]),K.useEffect(()=>{const U=z=>{var J;if(o.every(de=>z[de]||z.code===de)){var se;D(!0),(se=F.current)==null||se.focus()}z.code==="Escape"&&(document.activeElement===F.current||(J=F.current)!=null&&J.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[o]),K.useEffect(()=>{if(F.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,oe.current=!1)}},[F.current]),K.createElement("section",{ref:r,"aria-label":`${S} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((U,z)=>{var J;const[le,se]=U.split("-");return E.length?K.createElement("ol",{key:U,dir:w==="auto"?ZN():w,tabIndex:-1,ref:F,className:u,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":le,"data-x-position":se,style:{"--front-toast-height":`${((J=L[0])==null?void 0:J.height)||0}px`,"--width":`${ZW}px`,"--gap":`${j}px`,...m,...nH(d,f)},onBlur:de=>{oe.current&&!de.currentTarget.contains(de.relatedTarget)&&(oe.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,re.current=de.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onDragEnd:()=>D(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},E.filter(de=>!de.position&&z===0||de.position===U).map((de,ie)=>{var he,ge;return K.createElement(rH,{key:de.id,icons:_,index:ie,toast:de,defaultRichColors:h,duration:(he=b==null?void 0:b.duration)!=null?he:g,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:a,visibleToasts:v,closeButton:(ge=b==null?void 0:b.closeButton)!=null?ge:c,interacting:M,position:U,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:$,toasts:E.filter(ue=>ue.position==de.position),heights:L.filter(ue=>ue.position==de.position),setHeights:P,expandByDefault:s,gap:j,expanded:O,swipeDirections:e.swipeDirections})})):null}))});function iH({product:t,onAddToCart:e,onBack:r}){const[n,a]=N.useState(""),[i,o]=N.useState(""),[s,c]=N.useState(1),[u,d]=N.useState(!1),[f,p]=N.useState(0),[h,g]=N.useState(!1),m=N.useRef(null);N.useEffect(()=>{const A=E=>{m.current&&!m.current.contains(E.target)&&g(!1)};return h&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[h]);const v=async()=>{const A={title:t.name,text:`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`,url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(A)?(await navigator.share(A),Ce.success("Product shared successfully!")):g(!h)}catch(E){console.error("Error sharing:",E),g(!h)}},b=async()=>{try{await navigator.clipboard.writeText(window.location.href),Ce.success("Product link copied to clipboard!"),g(!1)}catch(A){console.error("Clipboard error:",A),Ce.error("Unable to copy link. Please copy the URL manually.")}},w=()=>{const A=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price} ${window.location.href}`);window.open(`https://wa.me/?text=${A}`,"_blank"),g(!1)},j=()=>{const A=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`);window.open(`https://twitter.com/intent/tweet?text=${A}&url=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},_=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},S=()=>{if(!n){Ce.error("Please select a size");return}if(!i){Ce.error("Please select a color");return}e(t,n,i,s),Ce.success("Added to cart successfully!")},k={XS:"Extra Small (0-2)",S:"Small (4-6)",M:"Medium (8-10)",L:"Large (12-14)",XL:"Extra Large (16-18)",XXL:"XXL (20-22)"};return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[l.jsxs(we,{variant:"ghost",onClick:r,className:"mb-6 hover:bg-secondary",children:[l.jsx(kg,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:l.jsx("img",{src:t.images[f]||t.images[0],alt:`${t.name} - Image ${f+1}`,className:"w-full h-full object-cover",loading:"eager"})}),t.originalPrice&&l.jsxs(Ut,{className:"absolute top-4 left-4 bg-destructive text-destructive-foreground z-10 shadow-lg",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]}),!t.inStock&&l.jsx(Ut,{className:"absolute top-4 right-4 bg-gray-500 text-white z-10 shadow-lg",children:"Out of Stock"})]}),t.images.length>1&&l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.images.map((A,E)=>l.jsx("button",{onClick:()=>{console.log(" ProductDetail: Thumbnail clicked, moving from index",f,"to index",E),p(E)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${f===E?"border-primary shadow-md ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:l.jsx("img",{src:A,alt:`${t.name} ${E+1}`,className:"w-full h-full object-cover",loading:"eager"})},E))})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ut,{variant:"secondary",className:"mb-2",children:t.category}),l.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((A,E)=>l.jsx(Wa,{className:`h-4 w-4 ${E<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},E))}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviews.length," reviews)"]})]}),l.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[l.jsxs("span",{className:"text-3xl font-bold",children:["R",t.price]}),t.originalPrice&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["R",t.originalPrice]}),l.jsxs(Ut,{variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]})]}),l.jsx("div",{className:"flex items-center gap-2 mb-6",children:t.inStock?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-600",children:"In Stock"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-sm text-red-600",children:"Out of Stock"})]})})]}),l.jsx(Zn,{}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-medium",children:"Size"}),l.jsx(we,{variant:"link",className:"text-sm p-0 h-auto",children:"Size Guide"})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:t.sizes.map(A=>l.jsx(we,{variant:n===A?"default":"outline",className:"aspect-square",onClick:()=>a(A),children:A},A))}),n&&k[n]&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:k[n]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-medium mb-3",children:["Color: ",i]}),l.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(A=>l.jsxs("button",{onClick:()=>o(A),className:`relative flex items-center gap-2 px-3 py-2 border rounded-lg transition-all ${i===A?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full border ${A.toLowerCase()==="black"?"bg-black":A.toLowerCase()==="white"?"bg-white border-gray-300":A.toLowerCase()==="gray"?"bg-gray-400":A.toLowerCase()==="navy"?"bg-blue-900":A.toLowerCase()==="brown"?"bg-amber-800":A.toLowerCase()==="beige"?"bg-amber-100":A.toLowerCase()==="pink"?"bg-pink-400":A.toLowerCase()==="blue"?"bg-blue-500":A.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`}),l.jsx("span",{className:"text-sm",children:A})]},A))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-3",children:"Quantity"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(we,{variant:"outline",size:"icon",onClick:()=>c(Math.max(1,s-1)),disabled:s<=1,children:l.jsx(ST,{className:"h-4 w-4"})}),l.jsx("span",{className:"w-12 text-center font-medium",children:s}),l.jsx(we,{variant:"outline",size:"icon",onClick:()=>c(s+1),disabled:s>=10,children:l.jsx(Cl,{className:"h-4 w-4"})})]})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(we,{className:"w-full",size:"lg",onClick:S,disabled:!t.inStock,children:[l.jsx(s_,{className:"h-4 w-4 mr-2"}),"Add to Cart - R",(t.price*s).toFixed(2)]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(we,{variant:"outline",className:"flex-1",onClick:()=>d(!u),children:[l.jsx(Is,{className:`h-4 w-4 mr-2 ${u?"fill-red-500 text-red-500":""}`}),u?"Saved":"Save"]}),l.jsxs("div",{className:"relative flex-1",ref:m,children:[l.jsxs(we,{variant:"outline",className:"w-full",onClick:v,children:[l.jsx(Kq,{className:"h-4 w-4 mr-2"}),"Share"]}),h&&l.jsxs("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border rounded-lg shadow-lg z-10 overflow-hidden",children:[l.jsxs("button",{onClick:b,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[l.jsx(eq,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Copy Link"})]}),l.jsxs("button",{onClick:w,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[l.jsx(gi,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm",children:"Share on WhatsApp"})]}),l.jsxs("button",{onClick:j,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[l.jsx("div",{className:"h-4 w-4 bg-blue-400 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:""})}),l.jsx("span",{className:"text-sm",children:"Share on X (Twitter)"})]}),l.jsxs("button",{onClick:_,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[l.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),l.jsx("span",{className:"text-sm",children:"Share on Facebook"})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[l.jsx(pu,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Free Shipping"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders over R3500"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[l.jsx(_f,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Collections"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Curated fashion"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[l.jsx(Oo,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Secure Payment"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL protected"})]})]})]})]})]}),l.jsxs("div",{className:"mt-12 space-y-8",children:[l.jsx(ze,{children:l.jsxs(We,{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Description"}),l.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]})}),l.jsx(ze,{children:l.jsxs(We,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),l.jsx(we,{variant:"outline",children:"Write a Review"})]}),t.reviews.length>0?l.jsx("div",{className:"space-y-4",children:t.reviews.map(A=>l.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:A.userName}),l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((E,I)=>l.jsx(Wa,{className:`h-3 w-3 ${I<A.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},I))})]}),l.jsx("span",{className:"text-sm text-muted-foreground",children:A.date})]}),l.jsx("p",{className:"text-muted-foreground",children:A.comment})]},A.id))}):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reviews yet. Be the first to review this product!"})]})})]}),l.jsx(Fs,{})]})}function Rt({className:t,type:e,...r}){return l.jsx("input",{type:e,"data-slot":"input",className:Fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const oH="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function wI(t){const[e,r]=N.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:o,className:s,...c}=t;return e?l.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${s??""}`,style:o,children:l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("img",{src:oH,alt:"Error loading image",...c,"data-original-url":a})})}):l.jsx("img",{src:a,alt:i,className:s,style:o,...c,onError:n})}function sH({items:t,onUpdateQuantity:e,onRemoveItem:r,onProceedToCheckout:n,onContinueShopping:a}){const[i,o]=N.useState(""),[s,c]=N.useState(null),u=t.reduce((b,w)=>b+w.product.price*w.quantity,0),d=(s==null?void 0:s.amount)||0,f=u*15/115,p=u-f,g=p>=3500?0:110,m=u-d+g,v=()=>{const b={WELCOME10:10,SAVE20:20,MEMBER15:15,FREESHIP:9.99},w=i.toUpperCase();b[w]?(c({code:w,amount:b[w]}),Ce.success(`Discount code ${w} applied!`)):Ce.error("Invalid discount code")};return t.length===0?l.jsx("div",{className:"container mx-auto px-6 py-12 pb-24",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx(s_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your cart is empty"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added anything to your cart yet."}),l.jsx(we,{onClick:a||(()=>window.history.back()),children:"Continue Shopping"})]})}):l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[l.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Shopping Cart (",t.length," items)"]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(b=>l.jsx(ze,{children:l.jsx(We,{className:"p-6",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(wI,{src:b.product.images[0],alt:b.product.name,className:"w-24 h-24 object-cover rounded-lg",loading:"eager"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:b.product.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",b.size,"  Color: ",b.color]})]}),l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>r(b.productId,b.size,b.color),children:l.jsx(dh,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(b.productId,b.size,b.color,b.quantity-1),disabled:b.quantity<=1,children:l.jsx(ST,{className:"h-3 w-3"})}),l.jsx("span",{className:"w-8 text-center text-sm",children:b.quantity}),l.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(b.productId,b.size,b.color,b.quantity+1),disabled:b.quantity>=10,children:l.jsx(Cl,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"font-semibold",children:["R",(b.product.price*b.quantity).toFixed(2)]}),b.product.originalPrice&&l.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["R",(b.product.originalPrice*b.quantity).toFixed(2)]})]})]})]})]})})},`${b.productId}-${b.size}-${b.color}`))}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs(ze,{className:"sticky top-24",children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Order Summary"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Discount Code"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Rt,{placeholder:"Enter code",value:i,onChange:b=>o(b.target.value),className:"flex-1"}),l.jsx(we,{variant:"outline",size:"sm",onClick:v,children:l.jsx(OT,{className:"h-4 w-4"})})]}),s&&l.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[l.jsxs("span",{children:["Code: ",s.code]}),l.jsxs("span",{children:["-R",s.amount.toFixed(2)]})]})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R",p.toFixed(2)]})]}),d>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Discount"}),l.jsxs("span",{children:["-R",d.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:g===0?l.jsx("span",{className:"text-green-600",children:"FREE"}):`R${g.toFixed(2)}`})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tax (15% VAT)"}),l.jsxs("span",{children:["R",f.toFixed(2)]})]})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["R",m.toFixed(2)]})]}),p<3500&&l.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-600",children:["Add R",(3500-p).toFixed(2)," more for FREE shipping!"]})}),l.jsx(we,{className:"w-full",size:"lg",onClick:n,children:"Proceed to Checkout"}),l.jsx("div",{className:"text-center",children:l.jsx(we,{variant:"link",onClick:a||(()=>window.history.back()),children:"Continue Shopping"})})]})]})})]}),l.jsx(Fs,{})]})}var lH="Label",_I=N.forwardRef((t,e)=>l.jsx(at.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_I.displayName=lH;var cH=_I;function kt({className:t,...e}){return l.jsx(cH,{"data-slot":"label",className:Fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function uH(t,e){const r=N.createContext(e),n=i=>{const{children:o,...s}=i,c=N.useMemo(()=>s,Object.values(s));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(i){const o=N.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Tn(t,e=[]){let r=[];function n(i,o){const s=N.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:p,children:h,...g}=f,m=((b=p==null?void 0:p[t])==null?void 0:b[c])||s,v=N.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:v,children:h})};u.displayName=i+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[t])==null?void 0:m[c])||s,g=N.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>N.createContext(o));return function(s){const c=(s==null?void 0:s[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return a.scopeName=t,[n,dH(a,...e)]}function dH(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((s,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...s,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Un(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var en=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},H0={exports:{}},V0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN;function fH(){if(JN)return V0;JN=1;var t=eT();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function s(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),m=g[0].inst,v=g[1];return i(function(){m.value=h,m.getSnapshot=p,c(m)&&v({inst:m})},[f,h,p]),a(function(){return c(m)&&v({inst:m}),f(function(){c(m)&&v({inst:m})})},[f]),o(h),h}function c(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return V0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,V0}var QN;function hH(){return QN||(QN=1,H0.exports=fH()),H0.exports}var pH=hH();function mH(){return pH.useSyncExternalStore(gH,()=>!0,()=>!1)}function gH(){return()=>{}}var v_="Avatar",[vH,Uxe]=Tn(v_),[yH,jI]=vH(v_),SI=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=N.useState("idle");return l.jsx(yH,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:l.jsx(at.span,{...n,ref:e})})});SI.displayName=v_;var NI="AvatarImage",bH=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=jI(NI,r),s=xH(n,i),c=Un(u=>{a(u),o.onImageLoadingStatusChange(u)});return en(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(at.img,{...i,ref:e,src:n}):null});bH.displayName=NI;var AI="AvatarFallback",kI=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=jI(AI,r),[o,s]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(at.span,{...a,ref:e}):null});kI.displayName=AI;function eA(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xH(t,{referrerPolicy:e,crossOrigin:r}){const n=mH(),a=N.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,s]=N.useState(()=>eA(i,t));return en(()=>{s(eA(i,t))},[i,t]),en(()=>{const c=f=>()=>{s(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,e]),o}var wH=SI,_H=kI;function PI({className:t,...e}){return l.jsx(wH,{"data-slot":"avatar",className:Fe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function CI({className:t,...e}){return l.jsx(_H,{"data-slot":"avatar-fallback",className:Fe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function ut(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}var jH=rT[" useId ".trim().toString()]||(()=>{}),SH=0;function vi(t){const[e,r]=N.useState(jH());return en(()=>{r(n=>n??String(SH++))},[t]),t||(e?`radix-${e}`:"")}var NH=rT[" useInsertionEffect ".trim().toString()]||en;function Va({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=AH({defaultProp:e,onChange:r}),s=t!==void 0,c=s?t:a;{const d=N.useRef(t!==void 0);N.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=N.useCallback(d=>{var f;if(s){const p=kH(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[s,t,i,o]);return[c,u]}function AH({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),a=N.useRef(r),i=N.useRef(e);return NH(()=>{i.current=e},[e]),N.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function kH(t){return typeof t=="function"}function PH(t,e=globalThis==null?void 0:globalThis.document){const r=Un(t);N.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var CH="DismissableLayer",r2="dismissableLayer.update",OH="dismissableLayer.pointerDownOutside",EH="dismissableLayer.focusOutside",tA,OI=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eg=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...c}=t,u=N.useContext(OI),[d,f]=N.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),g=Lt(e,A=>f(A)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),w=d?m.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=b,S=LH(A=>{const E=A.target,I=[...u.branches].some(L=>L.contains(E));!_||I||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},p),k=RH(A=>{const E=A.target;[...u.branches].some(L=>L.contains(E))||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},p);return PH(A=>{w===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},p),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(tA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=tA)}},[d,p,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rA())},[d,u]),N.useEffect(()=>{const A=()=>h({});return document.addEventListener(r2,A),()=>document.removeEventListener(r2,A)},[]),l.jsx(at.div,{...c,ref:g,style:{pointerEvents:j?_?"auto":"none":void 0,...t.style},onFocusCapture:ut(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ut(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ut(t.onPointerDownCapture,S.onPointerDownCapture)})});Eg.displayName=CH;var TH="DismissableLayerBranch",IH=N.forwardRef((t,e)=>{const r=N.useContext(OI),n=N.useRef(null),a=Lt(e,n);return N.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(at.div,{...t,ref:a})});IH.displayName=TH;function LH(t,e=globalThis==null?void 0:globalThis.document){const r=Un(t),n=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let c=function(){EI(OH,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function RH(t,e=globalThis==null?void 0:globalThis.document){const r=Un(t),n=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!n.current&&EI(EH,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rA(){const t=new CustomEvent(r2);document.dispatchEvent(t)}function EI(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?kW(a,i):a.dispatchEvent(i)}var G0="focusScope.autoFocusOnMount",Y0="focusScope.autoFocusOnUnmount",nA={bubbles:!1,cancelable:!0},MH="FocusScope",Tg=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[s,c]=N.useState(null),u=Un(a),d=Un(i),f=N.useRef(null),p=Lt(e,m=>c(m)),h=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let m=function(j){if(h.paused||!s)return;const _=j.target;s.contains(_)?f.current=_:bs(f.current,{select:!0})},v=function(j){if(h.paused||!s)return;const _=j.relatedTarget;_!==null&&(s.contains(_)||bs(f.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&bs(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,s,h.paused]),N.useEffect(()=>{if(s){iA.add(h);const m=document.activeElement;if(!s.contains(m)){const b=new CustomEvent(G0,nA);s.addEventListener(G0,u),s.dispatchEvent(b),b.defaultPrevented||(DH(UH(TI(s)),{select:!0}),document.activeElement===m&&bs(s))}return()=>{s.removeEventListener(G0,u),setTimeout(()=>{const b=new CustomEvent(Y0,nA);s.addEventListener(Y0,d),s.dispatchEvent(b),b.defaultPrevented||bs(m??document.body,{select:!0}),s.removeEventListener(Y0,d),iA.remove(h)},0)}}},[s,u,d,h]);const g=N.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const w=m.currentTarget,[j,_]=$H(w);j&&_?!m.shiftKey&&b===_?(m.preventDefault(),r&&bs(j,{select:!0})):m.shiftKey&&b===j&&(m.preventDefault(),r&&bs(_,{select:!0})):b===w&&m.preventDefault()}},[r,n,h.paused]);return l.jsx(at.div,{tabIndex:-1,...o,ref:p,onKeyDown:g})});Tg.displayName=MH;function DH(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(bs(n,{select:e}),document.activeElement!==r)return}function $H(t){const e=TI(t),r=aA(e,t),n=aA(e.reverse(),t);return[r,n]}function TI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function aA(t,e){for(const r of t)if(!FH(r,{upTo:e}))return r}function FH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BH(t){return t instanceof HTMLInputElement&&"select"in t}function bs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&BH(t)&&e&&t.select()}}var iA=qH();function qH(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=oA(t,e),t.unshift(e)},remove(e){var r;t=oA(t,e),(r=t[0])==null||r.resume()}}}function oA(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function UH(t){return t.filter(e=>e.tagName!=="A")}var zH="Portal",Ig=N.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[a,i]=N.useState(!1);en(()=>i(!0),[]);const o=r||a&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?tT.createPortal(l.jsx(at.div,{...n,ref:e}),o):null});Ig.displayName=zH;function WH(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var ua=t=>{const{present:e,children:r}=t,n=HH(e),a=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),i=Lt(n.ref,VH(a));return typeof r=="function"||n.isPresent?N.cloneElement(a,{ref:i}):null};ua.displayName="Presence";function HH(t){const[e,r]=N.useState(),n=N.useRef(null),a=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[s,c]=WH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=bp(n.current);i.current=s==="mounted"?u:"none"},[s]),en(()=>{const u=n.current,d=a.current;if(d!==t){const p=i.current,h=bp(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),en(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const m=bp(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=h=>{h.target===e&&(i.current=bp(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:N.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function bp(t){return(t==null?void 0:t.animationName)||"none"}function VH(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var K0=0;function y_(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sA()),document.body.insertAdjacentElement("beforeend",t[1]??sA()),K0++,()=>{K0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),K0--}},[])}function sA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zi=function(){return zi=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},zi.apply(this,arguments)};function II(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function GH(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Jp="right-scroll-bar-position",Qp="width-before-scroll-bar",YH="with-scroll-bars-hidden",KH="--removed-body-scroll-bar-size";function X0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XH(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var ZH=typeof window<"u"?N.useLayoutEffect:N.useEffect,lA=new WeakMap;function JH(t,e){var r=XH(null,function(n){return t.forEach(function(a){return X0(a,n)})});return ZH(function(){var n=lA.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(s){i.has(s)||X0(s,null)}),i.forEach(function(s){a.has(s)||X0(s,o)})}lA.set(r,t)},[t]),r}function QH(t){return t}function eV(t,e){e===void 0&&(e=QH);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function tV(t){t===void 0&&(t={});var e=eV(null);return e.options=zi({async:!0,ssr:!1},t),e}var LI=function(t){var e=t.sideCar,r=II(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,zi({},r))};LI.isSideCarExport=!0;function rV(t,e){return t.useMedium(e),LI}var RI=tV(),Z0=function(){},Lg=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:Z0,onWheelCapture:Z0,onTouchMoveCapture:Z0}),a=n[0],i=n[1],o=t.forwardProps,s=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,j=t.gapMode,_=II(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,k=JH([r,e]),A=zi(zi({},_),a);return N.createElement(N.Fragment,null,d&&N.createElement(S,{sideCar:RI,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:j}),o?N.cloneElement(N.Children.only(s),zi(zi({},A),{ref:k})):N.createElement(w,zi({},A,{className:c,ref:k}),s))});Lg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lg.classNames={fullWidth:Qp,zeroRight:Jp};var nV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nV();return e&&t.setAttribute("nonce",e),t}function iV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sV=function(){var t=0,e=null;return{add:function(r){t==0&&(e=aV())&&(iV(e,r),oV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lV=function(){var t=sV();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},MI=function(){var t=lV(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},cV={left:0,top:0,right:0,gap:0},J0=function(t){return parseInt(t||"",10)||0},uV=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[J0(r),J0(n),J0(a)]},dV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cV;var e=uV(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},fV=MI(),nu="data-scroll-locked",hV=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(YH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(nu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jp,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Qp,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Jp," .").concat(Jp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qp," .").concat(Qp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nu,`] {
    `).concat(KH,": ").concat(s,`px;
  }
`)},cA=function(){var t=parseInt(document.body.getAttribute(nu)||"0",10);return isFinite(t)?t:0},pV=function(){N.useEffect(function(){return document.body.setAttribute(nu,(cA()+1).toString()),function(){var t=cA()-1;t<=0?document.body.removeAttribute(nu):document.body.setAttribute(nu,t.toString())}},[])},mV=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;pV();var i=N.useMemo(function(){return dV(a)},[a]);return N.createElement(fV,{styles:hV(i,!e,a,r?"":"!important")})},n2=!1;if(typeof window<"u")try{var xp=Object.defineProperty({},"passive",{get:function(){return n2=!0,!0}});window.addEventListener("test",xp,xp),window.removeEventListener("test",xp,xp)}catch{n2=!1}var Tc=n2?{passive:!1}:!1,gV=function(t){return t.tagName==="TEXTAREA"},DI=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!gV(t)&&r[e]==="visible")},vV=function(t){return DI(t,"overflowY")},yV=function(t){return DI(t,"overflowX")},uA=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=$I(t,n);if(a){var i=FI(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},bV=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},xV=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$I=function(t,e){return t==="v"?vV(e):yV(e)},FI=function(t,e){return t==="v"?bV(e):xV(e)},wV=function(t,e){return t==="h"&&e==="rtl"?-1:1},_V=function(t,e,r,n,a){var i=wV(t,window.getComputedStyle(e).direction),o=i*n,s=r.target,c=e.contains(s),u=!1,d=o>0,f=0,p=0;do{if(!s)break;var h=FI(t,s),g=h[0],m=h[1],v=h[2],b=m-v-i*g;(g||b)&&$I(t,s)&&(f+=b,p+=g);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},wp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dA=function(t){return[t.deltaX,t.deltaY]},fA=function(t){return t&&"current"in t?t.current:t},jV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NV=0,Ic=[];function AV(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),a=N.useState(NV++)[0],i=N.useState(MI)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var m=GH([t.lockRef.current],(t.shards||[]).map(fA),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var s=N.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=wp(m),w=r.current,j="deltaX"in m?m.deltaX:w[0]-b[0],_="deltaY"in m?m.deltaY:w[1]-b[1],S,k=m.target,A=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in m&&A==="h"&&k.type==="range")return!1;var E=uA(A,k);if(!E)return!0;if(E?S=A:(S=A==="v"?"h":"v",E=uA(A,k)),!E)return!1;if(!n.current&&"changedTouches"in m&&(j||_)&&(n.current=S),!S)return!0;var I=n.current||S;return _V(I,v,m,I==="h"?j:_)},[]),c=N.useCallback(function(m){var v=m;if(!(!Ic.length||Ic[Ic.length-1]!==i)){var b="deltaY"in v?dA(v):wp(v),w=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&jV(S.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var j=(o.current.shards||[]).map(fA).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=j.length>0?s(v,j[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=N.useCallback(function(m,v,b,w){var j={name:m,delta:v,target:b,should:w,shadowParent:kV(b)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(_){return _!==j})},1)},[]),d=N.useCallback(function(m){r.current=wp(m),n.current=void 0},[]),f=N.useCallback(function(m){u(m.type,dA(m),m.target,s(m,t.lockRef.current))},[]),p=N.useCallback(function(m){u(m.type,wp(m),m.target,s(m,t.lockRef.current))},[]);N.useEffect(function(){return Ic.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Tc),document.addEventListener("touchmove",c,Tc),document.addEventListener("touchstart",d,Tc),function(){Ic=Ic.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Tc),document.removeEventListener("touchmove",c,Tc),document.removeEventListener("touchstart",d,Tc)}},[]);var h=t.removeScrollBar,g=t.inert;return N.createElement(N.Fragment,null,g?N.createElement(i,{styles:SV(a)}):null,h?N.createElement(mV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const PV=rV(RI,AV);var Rg=N.forwardRef(function(t,e){return N.createElement(Lg,zi({},t,{ref:e,sideCar:PV}))});Rg.classNames=Lg.classNames;var CV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lc=new WeakMap,_p=new WeakMap,jp={},Q0=0,BI=function(t){return t&&(t.host||BI(t.parentNode))},OV=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=BI(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},EV=function(t,e,r,n){var a=OV(e,Array.isArray(t)?t:[t]);jp[r]||(jp[r]=new WeakMap);var i=jp[r],o=[],s=new Set,c=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(s.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",m=(Lc.get(p)||0)+1,v=(i.get(p)||0)+1;Lc.set(p,m),i.set(p,v),o.push(p),m===1&&g&&_p.set(p,!0),v===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(e),s.clear(),Q0++,function(){o.forEach(function(f){var p=Lc.get(f)-1,h=i.get(f)-1;Lc.set(f,p),i.set(f,h),p||(_p.has(f)||f.removeAttribute(n),_p.delete(f)),h||f.removeAttribute(r)}),Q0--,Q0||(Lc=new WeakMap,Lc=new WeakMap,_p=new WeakMap,jp={})}},b_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=CV(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),EV(n,a,r,"aria-hidden")):function(){return null}},Mg="Dialog",[qI,UI]=Tn(Mg),[TV,Si]=qI(Mg),zI=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,s=N.useRef(null),c=N.useRef(null),[u,d]=Va({prop:n,defaultProp:a??!1,onChange:i,caller:Mg});return l.jsx(TV,{scope:e,triggerRef:s,contentRef:c,contentId:vi(),titleId:vi(),descriptionId:vi(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};zI.displayName=Mg;var WI="DialogTrigger",HI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Si(WI,r),i=Lt(e,a.triggerRef);return l.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":__(a.open),...n,ref:i,onClick:ut(t.onClick,a.onOpenToggle)})});HI.displayName=WI;var x_="DialogPortal",[IV,VI]=qI(x_,{forceMount:void 0}),GI=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=Si(x_,e);return l.jsx(IV,{scope:e,forceMount:r,children:N.Children.map(n,o=>l.jsx(ua,{present:r||i.open,children:l.jsx(Ig,{asChild:!0,container:a,children:o})}))})};GI.displayName=x_;var pm="DialogOverlay",YI=N.forwardRef((t,e)=>{const r=VI(pm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Si(pm,t.__scopeDialog);return i.modal?l.jsx(ua,{present:n||i.open,children:l.jsx(RV,{...a,ref:e})}):null});YI.displayName=pm;var LV=Ll("DialogOverlay.RemoveScroll"),RV=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Si(pm,r);return l.jsx(Rg,{as:LV,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(at.div,{"data-state":__(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Dl="DialogContent",KI=N.forwardRef((t,e)=>{const r=VI(Dl,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Si(Dl,t.__scopeDialog);return l.jsx(ua,{present:n||i.open,children:i.modal?l.jsx(MV,{...a,ref:e}):l.jsx(DV,{...a,ref:e})})});KI.displayName=Dl;var MV=N.forwardRef((t,e)=>{const r=Si(Dl,t.__scopeDialog),n=N.useRef(null),a=Lt(e,r.contentRef,n);return N.useEffect(()=>{const i=n.current;if(i)return b_(i)},[]),l.jsx(XI,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ut(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&i.preventDefault()}),onFocusOutside:ut(t.onFocusOutside,i=>i.preventDefault())})}),DV=N.forwardRef((t,e)=>{const r=Si(Dl,t.__scopeDialog),n=N.useRef(!1),a=N.useRef(!1);return l.jsx(XI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),XI=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,s=Si(Dl,r),c=N.useRef(null),u=Lt(e,c);return y_(),l.jsxs(l.Fragment,{children:[l.jsx(Tg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(Eg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":__(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(FV,{titleId:s.titleId}),l.jsx(qV,{contentRef:c,descriptionId:s.descriptionId})]})]})}),w_="DialogTitle",ZI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Si(w_,r);return l.jsx(at.h2,{id:a.titleId,...n,ref:e})});ZI.displayName=w_;var JI="DialogDescription",QI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Si(JI,r);return l.jsx(at.p,{id:a.descriptionId,...n,ref:e})});QI.displayName=JI;var e8="DialogClose",t8=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Si(e8,r);return l.jsx(at.button,{type:"button",...n,ref:e,onClick:ut(t.onClick,()=>a.onOpenChange(!1))})});t8.displayName=e8;function __(t){return t?"open":"closed"}var r8="DialogTitleWarning",[$V,n8]=uH(r8,{contentName:Dl,titleName:w_,docsSlug:"dialog"}),FV=({titleId:t})=>{const e=n8(r8),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},BV="DialogDescriptionWarning",qV=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n8(BV).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},j_=zI,Dg=HI,S_=GI,$g=YI,Fg=KI,a8=ZI,i8=QI,Bg=t8;function Fo({...t}){return l.jsx(j_,{"data-slot":"dialog",...t})}function o8({...t}){return l.jsx(Dg,{"data-slot":"dialog-trigger",...t})}function UV({...t}){return l.jsx(S_,{"data-slot":"dialog-portal",...t})}const s8=N.forwardRef(({className:t,...e},r)=>l.jsx($g,{ref:r,"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9996] bg-black/50",t),...e}));s8.displayName=$g.displayName;const Qi=N.forwardRef(({className:t,children:e,...r},n)=>l.jsxs(UV,{"data-slot":"dialog-portal",children:[l.jsx(s8,{}),l.jsxs(Fg,{ref:n,"data-slot":"dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9996] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,l.jsxs(Bg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Ro,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qi.displayName=Fg.displayName;function Bo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function zV({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-footer",className:Fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function qo({className:t,...e}){return l.jsx(a8,{"data-slot":"dialog-title",className:Fe("text-lg leading-none font-semibold",t),...e})}function WV({className:t,...e}){return l.jsx(i8,{"data-slot":"dialog-description",className:Fe("text-muted-foreground text-sm",t),...e})}function cr(t){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(t)}var bi=Uint8Array,ka=Uint16Array,N_=Int32Array,A_=new bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k_=new bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hA=new bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l8=function(t,e){for(var r=new ka(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new N_(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},c8=l8(A_,2),HV=c8.b,a2=c8.r;HV[28]=258,a2[258]=28;var VV=l8(k_,0),pA=VV.r,i2=new ka(32768);for(var Or=0;Or<32768;++Or){var ms=(Or&43690)>>1|(Or&21845)<<1;ms=(ms&52428)>>2|(ms&13107)<<2,ms=(ms&61680)>>4|(ms&3855)<<4,i2[Or]=((ms&65280)>>8|(ms&255)<<8)>>1}var uf=(function(t,e,r){for(var n=t.length,a=0,i=new ka(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new ka(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var s;if(r){s=new ka(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=o[t[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[i2[f]>>c]=u}else for(s=new ka(n),a=0;a<n;++a)t[a]&&(s[a]=i2[o[t[a]-1]++]>>15-t[a]);return s}),$l=new bi(288);for(var Or=0;Or<144;++Or)$l[Or]=8;for(var Or=144;Or<256;++Or)$l[Or]=9;for(var Or=256;Or<280;++Or)$l[Or]=7;for(var Or=280;Or<288;++Or)$l[Or]=8;var mm=new bi(32);for(var Or=0;Or<32;++Or)mm[Or]=5;var GV=uf($l,9,0),YV=uf(mm,5,0),u8=function(t){return(t+7)/8|0},KV=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new bi(t.subarray(e,r))},wo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},qd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},ey=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:f8,l:0};if(a==1){var o=new bi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,k){return S.f-k.f}),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};d!=a-1;)s=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+c.f,l:s,r:c};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new ka(p+1),g=o2(r[d-1],h,0);if(g>e){var n=0,m=0,v=g-e,b=1<<v;for(i.sort(function(k,A){return h[A.s]-h[k.s]||k.f-A.f});n<a;++n){var w=i[n].s;if(h[w]>e)m+=b-(1<<g-h[w]),h[w]=e;else break}for(m>>=v;m>0;){var j=i[n].s;h[j]<e?m-=1<<e-h[j]++-1:++n}for(;n>=0&&m;--n){var _=i[n].s;h[_]==e&&(--h[_],++m)}g=e}return{t:new bi(h),l:g}},o2=function(t,e,r){return t.s==-1?Math.max(o2(t.l,e,r+1),o2(t.r,e,r+1)):e[t.s]=r},mA=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ka(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},s=1;s<=e;++s)if(t[s]==a&&s!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[s]}return{c:r.subarray(0,n),n:e}},Ud=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},d8=function(t,e,r){var n=r.length,a=u8(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},gA=function(t,e,r,n,a,i,o,s,c,u,d){wo(e,d++,r),++a[256];for(var f=ey(a,15),p=f.t,h=f.l,g=ey(i,15),m=g.t,v=g.l,b=mA(p),w=b.c,j=b.n,_=mA(m),S=_.c,k=_.n,A=new ka(19),E=0;E<w.length;++E)++A[w[E]&31];for(var E=0;E<S.length;++E)++A[S[E]&31];for(var I=ey(A,7),L=I.t,P=I.l,O=19;O>4&&!L[hA[O-1]];--O);var D=u+5<<3,M=Ud(a,$l)+Ud(i,mm)+o,G=Ud(a,p)+Ud(i,m)+o+14+3*O+Ud(A,L)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&D<=M&&D<=G)return d8(e,d,t.subarray(c,c+u));var Y,W,F,ae;if(wo(e,d,1+(G<M)),d+=2,G<M){Y=uf(p,h,0),W=p,F=uf(m,v,0),ae=m;var re=uf(L,P,0);wo(e,d,j-257),wo(e,d+5,k-1),wo(e,d+10,O-4),d+=14;for(var E=0;E<O;++E)wo(e,d+3*E,L[hA[E]]);d+=3*O;for(var oe=[w,S],$=0;$<2;++$)for(var U=oe[$],E=0;E<U.length;++E){var z=U[E]&31;wo(e,d,re[z]),d+=L[z],z>15&&(wo(e,d,U[E]>>5&127),d+=U[E]>>12)}}else Y=GV,W=$l,F=YV,ae=mm;for(var E=0;E<s;++E){var J=n[E];if(J>255){var z=J>>18&31;qd(e,d,Y[z+257]),d+=W[z+257],z>7&&(wo(e,d,J>>23&31),d+=A_[z]);var le=J&31;qd(e,d,F[le]),d+=ae[le],le>3&&(qd(e,d,J>>5&8191),d+=k_[le])}else qd(e,d,Y[J]),d+=W[J]}return qd(e,d,Y[256]),d+W[256]},XV=new N_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),f8=new bi(0),ZV=function(t,e,r,n,a,i){var o=i.z||t.length,s=new bi(n+o+5*(1+Math.ceil(o/7e3))+a),c=s.subarray(n,s.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=XV[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,m=i.p||new ka(32768),v=i.h||new ka(g+1),b=Math.ceil(r/3),w=2*b,j=function(me){return(t[me]^t[me+1]<<b^t[me+2]<<w)&g},_=new N_(25e3),S=new ka(288),k=new ka(32),A=0,E=0,I=i.i||0,L=0,P=i.w||0,O=0;I+2<o;++I){var D=j(I),M=I&32767,G=v[D];if(m[M]=G,v[D]=M,P<=I){var Y=o-I;if((A>7e3||L>24576)&&(Y>423||!u)){d=gA(t,c,0,_,S,k,E,L,O,I-O,d),L=A=E=0,O=I;for(var W=0;W<286;++W)S[W]=0;for(var W=0;W<30;++W)k[W]=0}var F=2,ae=0,re=h,oe=M-G&32767;if(Y>2&&D==j(I-oe))for(var $=Math.min(p,Y)-1,U=Math.min(32767,I),z=Math.min(258,Y);oe<=U&&--re&&M!=G;){if(t[I+F]==t[I+F-oe]){for(var J=0;J<z&&t[I+J]==t[I+J-oe];++J);if(J>F){if(F=J,ae=oe,J>$)break;for(var le=Math.min(oe,J-2),se=0,W=0;W<le;++W){var de=I-oe+W&32767,ie=m[de],he=de-ie&32767;he>se&&(se=he,G=de)}}}M=G,G=m[M],oe+=M-G&32767}if(ae){_[L++]=268435456|a2[F]<<18|pA[ae];var ge=a2[F]&31,ue=pA[ae]&31;E+=A_[ge]+k_[ue],++S[257+ge],++k[ue],P=I+F,++A}else _[L++]=t[I],++S[t[I]]}}for(I=Math.max(I,P);I<o;++I)_[L++]=t[I],++S[t[I]];d=gA(t,c,u,_,S,k,E,L,O,I-O,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=m,i.i=I,i.w=P)}else{for(var I=i.w||0;I<o+u;I+=65535){var Pe=I+65535;Pe>=o&&(c[d/8|0]=u,Pe=o),d=d8(c,d+1,t.subarray(I,Pe))}i.i=o}return KV(s,0,n+u8(d)+a)},h8=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},JV=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new bi(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return ZV(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},p8=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},QV=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=h8();a.p(e.dictionary),p8(t,2,a.d())}};function s2(t,e){e||(e={});var r=h8();r.p(t);var n=JV(t,e,e.dictionary?6:2,4);return QV(n,e),p8(n,n.length-4,r.d()),n}var eG=typeof TextDecoder<"u"&&new TextDecoder,tG=0;try{eG.decode(f8,{stream:!0}),tG=1}catch{}function rG(t){if(Array.isArray(t))return t}function nG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function aG(t,e){if(t){if(typeof t=="string")return vA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vA(t,e):void 0}}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yA(t,e){return rG(t)||nG(t,e)||aG(t,e)||iG()}function bA(t,e="utf8"){return new TextDecoder(e).decode(t)}const oG=new TextEncoder;function sG(t){return oG.encode(t)}const lG=1024*8,cG=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ty={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class P_{constructor(e=lG,r={}){Xt(this,"buffer");Xt(this,"byteLength");Xt(this,"byteOffset");Xt(this,"length");Xt(this,"offset");Xt(this,"lastWrittenByte");Xt(this,"littleEndian");Xt(this,"_data");Xt(this,"_mark");Xt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof P_)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=ty[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===cG&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(a,a+n));s.reverse();const c=new ty[r](s.buffer);return this.offset+=n,c.reverse(),c}const o=new ty[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return bA(this.readBytes(e))}decodeText(e=1,r="utf8"){return bA(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(sG(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Yu(t){let e=t.length;for(;--e>=0;)t[e]=0}const uG=3,dG=258,m8=29,fG=256,hG=fG+1+m8,g8=30,pG=512,mG=new Array((hG+2)*2);Yu(mG);const gG=new Array(g8*2);Yu(gG);const vG=new Array(pG);Yu(vG);const yG=new Array(dG-uG+1);Yu(yG);const bG=new Array(m8);Yu(bG);const xG=new Array(g8);Yu(xG);const wG=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var l2=wG;const _G=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},jG=new Uint32Array(_G()),SG=(t,e,r,n)=>{const a=jG,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var Fi=SG,c2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const NG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var AG=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)NG(r,n)&&(t[n]=r[n])}}return t},kG=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let o=t[n];r.set(o,a),a+=o.length}return r},y8={assign:AG,flattenChunks:kG};let b8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b8=!1}const Sf=new Uint8Array(256);for(let t=0;t<256;t++)Sf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Sf[254]=Sf[254]=1;var PG=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,o=t.length,s=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),i=0,a=0;i<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const CG=(t,e)=>{if(e<65534&&t.subarray&&b8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var OG=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){i[a++]=o;continue}let s=Sf[o];if(s>4){i[a++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return CG(i,a)},EG=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Sf[t[r]]>e?r:e},u2={string2buf:PG,buf2string:OG,utf8border:EG};function TG(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IG=TG;const Sp=16209,LG=16191;var RG=function(e,r){let n,a,i,o,s,c,u,d,f,p,h,g,m,v,b,w,j,_,S,k,A,E,I,L;const P=e.state;n=e.next_in,I=e.input,a=n+(e.avail_in-5),i=e.next_out,L=e.output,o=i-(r-e.avail_out),s=i+(e.avail_out-257),c=P.dmax,u=P.wsize,d=P.whave,f=P.wnext,p=P.window,h=P.hold,g=P.bits,m=P.lencode,v=P.distcode,b=(1<<P.lenbits)-1,w=(1<<P.distbits)-1;e:do{g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),j=m[h&b];t:for(;;){if(_=j>>>24,h>>>=_,g-=_,_=j>>>16&255,_===0)L[i++]=j&65535;else if(_&16){S=j&65535,_&=15,_&&(g<_&&(h+=I[n++]<<g,g+=8),S+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=I[n++]<<g,g+=8,h+=I[n++]<<g,g+=8),j=v[h&w];r:for(;;){if(_=j>>>24,h>>>=_,g-=_,_=j>>>16&255,_&16){if(k=j&65535,_&=15,g<_&&(h+=I[n++]<<g,g+=8,g<_&&(h+=I[n++]<<g,g+=8)),k+=h&(1<<_)-1,k>c){e.msg="invalid distance too far back",P.mode=Sp;break e}if(h>>>=_,g-=_,_=i-o,k>_){if(_=k-_,_>d&&P.sane){e.msg="invalid distance too far back",P.mode=Sp;break e}if(A=0,E=p,f===0){if(A+=u-_,_<S){S-=_;do L[i++]=p[A++];while(--_);A=i-k,E=L}}else if(f<_){if(A+=u+f-_,_-=f,_<S){S-=_;do L[i++]=p[A++];while(--_);if(A=0,f<S){_=f,S-=_;do L[i++]=p[A++];while(--_);A=i-k,E=L}}}else if(A+=f-_,_<S){S-=_;do L[i++]=p[A++];while(--_);A=i-k,E=L}for(;S>2;)L[i++]=E[A++],L[i++]=E[A++],L[i++]=E[A++],S-=3;S&&(L[i++]=E[A++],S>1&&(L[i++]=E[A++]))}else{A=i-k;do L[i++]=L[A++],L[i++]=L[A++],L[i++]=L[A++],S-=3;while(S>2);S&&(L[i++]=L[A++],S>1&&(L[i++]=L[A++]))}}else if((_&64)===0){j=v[(j&65535)+(h&(1<<_)-1)];continue r}else{e.msg="invalid distance code",P.mode=Sp;break e}break}}else if((_&64)===0){j=m[(j&65535)+(h&(1<<_)-1)];continue t}else if(_&32){P.mode=LG;break e}else{e.msg="invalid literal/length code",P.mode=Sp;break e}break}}while(n<a&&i<s);S=g>>3,n-=S,g-=S<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<s?257+(s-i):257-(i-s),P.hold=h,P.bits=g};const Rc=15,xA=852,wA=592,_A=0,ry=1,jA=2,MG=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DG=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),$G=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BG=(t,e,r,n,a,i,o,s)=>{const c=s.bits;let u=0,d=0,f=0,p=0,h=0,g=0,m=0,v=0,b=0,w=0,j,_,S,k,A,E=null,I;const L=new Uint16Array(Rc+1),P=new Uint16Array(Rc+1);let O=null,D,M,G;for(u=0;u<=Rc;u++)L[u]=0;for(d=0;d<n;d++)L[e[r+d]]++;for(h=c,p=Rc;p>=1&&L[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<p&&L[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Rc;u++)if(v<<=1,v-=L[u],v<0)return-1;if(v>0&&(t===_A||p!==1))return-1;for(P[1]=0,u=1;u<Rc;u++)P[u+1]=P[u]+L[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[P[e[r+d]]++]=d);if(t===_A?(E=O=o,I=20):t===ry?(E=MG,O=DG,I=257):(E=$G,O=FG,I=0),w=0,d=0,u=f,A=i,g=h,m=0,S=-1,b=1<<h,k=b-1,t===ry&&b>xA||t===jA&&b>wA)return 1;for(;;){D=u-m,o[d]+1<I?(M=0,G=o[d]):o[d]>=I?(M=O[o[d]-I],G=E[o[d]-I]):(M=96,G=0),j=1<<u-m,_=1<<g,f=_;do _-=j,a[A+(w>>m)+_]=D<<24|M<<16|G|0;while(_!==0);for(j=1<<u-1;w&j;)j>>=1;if(j!==0?(w&=j-1,w+=j):w=0,d++,--L[u]===0){if(u===p)break;u=e[r+o[d]]}if(u>h&&(w&k)!==S){for(m===0&&(m=h),A+=f,g=u-m,v=1<<g;g+m<p&&(v-=L[g+m],!(v<=0));)g++,v<<=1;if(b+=1<<g,t===ry&&b>xA||t===jA&&b>wA)return 1;S=w&k,a[S]=h<<24|g<<16|A-i|0}}return w!==0&&(a[A+w]=u-m<<24|64<<16|0),s.bits=h,0};var df=BG;const qG=0,x8=1,w8=2,{Z_FINISH:SA,Z_BLOCK:UG,Z_TREES:Np,Z_OK:Fl,Z_STREAM_END:zG,Z_NEED_DICT:WG,Z_STREAM_ERROR:Ga,Z_DATA_ERROR:_8,Z_MEM_ERROR:j8,Z_BUF_ERROR:HG,Z_DEFLATED:NA}=v8,qg=16180,AA=16181,kA=16182,PA=16183,CA=16184,OA=16185,EA=16186,TA=16187,IA=16188,LA=16189,gm=16190,_o=16191,ny=16192,RA=16193,ay=16194,MA=16195,DA=16196,$A=16197,FA=16198,Ap=16199,kp=16200,BA=16201,qA=16202,UA=16203,zA=16204,WA=16205,iy=16206,HA=16207,VA=16208,Ir=16209,S8=16210,N8=16211,VG=852,GG=592,YG=15,KG=YG,GA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function XG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<qg||e.mode>N8?1:0},A8=t=>{if(Zl(t))return Ga;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=qg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(VG),e.distcode=e.distdyn=new Int32Array(GG),e.sane=1,e.back=-1,Fl},k8=t=>{if(Zl(t))return Ga;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,A8(t)},P8=(t,e)=>{let r;if(Zl(t))return Ga;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ga:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,k8(t))},C8=(t,e)=>{if(!t)return Ga;const r=new XG;t.state=r,r.strm=t,r.window=null,r.mode=qg;const n=P8(t,e);return n!==Fl&&(t.state=null),n},ZG=t=>C8(t,KG);let YA=!0,oy,sy;const JG=t=>{if(YA){oy=new Int32Array(512),sy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(df(x8,t.lens,0,288,oy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;df(w8,t.lens,0,32,sy,0,t.work,{bits:5}),YA=!1}t.lencode=oy,t.lenbits=9,t.distcode=sy,t.distbits=5},O8=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},QG=(t,e)=>{let r,n,a,i,o,s,c,u,d,f,p,h,g,m,v=0,b,w,j,_,S,k,A,E;const I=new Uint8Array(4);let L,P;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zl(t)||!t.output||!t.input&&t.avail_in!==0)return Ga;r=t.state,r.mode===_o&&(r.mode=ny),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,s=t.avail_in,u=r.hold,d=r.bits,f=s,p=c,E=Fl;e:for(;;)switch(r.mode){case qg:if(r.wrap===0){r.mode=ny;break}for(;d<16;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=Fi(r.check,I,2,0),u=0,d=0,r.mode=AA;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Ir;break}if((u&15)!==NA){t.msg="unknown compression method",r.mode=Ir;break}if(u>>>=4,d-=4,A=(u&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){t.msg="invalid window size",r.mode=Ir;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?LA:_o,u=0,d=0;break;case AA:for(;d<16;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==NA){t.msg="unknown compression method",r.mode=Ir;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ir;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Fi(r.check,I,2,0)),u=0,d=0,r.mode=kA;case kA:for(;d<32;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=Fi(r.check,I,4,0)),u=0,d=0,r.mode=PA;case PA:for(;d<16;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Fi(r.check,I,2,0)),u=0,d=0,r.mode=CA;case CA:if(r.flags&1024){for(;d<16;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Fi(r.check,I,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=OA;case OA:if(r.flags&1024&&(h=r.length,h>s&&(h=s),h&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),A)),r.flags&512&&r.wrap&4&&(r.check=Fi(r.check,n,h,i)),s-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=EA;case EA:if(r.flags&2048){if(s===0)break e;h=0;do A=n[i+h++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&h<s);if(r.flags&512&&r.wrap&4&&(r.check=Fi(r.check,n,h,i)),s-=h,i+=h,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=TA;case TA:if(r.flags&4096){if(s===0)break e;h=0;do A=n[i+h++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&h<s);if(r.flags&512&&r.wrap&4&&(r.check=Fi(r.check,n,h,i)),s-=h,i+=h,A)break e}else r.head&&(r.head.comment=null);r.mode=IA;case IA:if(r.flags&512){for(;d<16;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ir;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=_o;break;case LA:for(;d<32;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}t.adler=r.check=GA(u),u=0,d=0,r.mode=gm;case gm:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=s,r.hold=u,r.bits=d,WG;t.adler=r.check=1,r.mode=_o;case _o:if(e===UG||e===Np)break e;case ny:if(r.last){u>>>=d&7,d-=d&7,r.mode=iy;break}for(;d<3;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=RA;break;case 1:if(JG(r),r.mode=Ap,e===Np){u>>>=2,d-=2;break e}break;case 2:r.mode=DA;break;case 3:t.msg="invalid block type",r.mode=Ir}u>>>=2,d-=2;break;case RA:for(u>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ir;break}if(r.length=u&65535,u=0,d=0,r.mode=ay,e===Np)break e;case ay:r.mode=MA;case MA:if(h=r.length,h){if(h>s&&(h=s),h>c&&(h=c),h===0)break e;a.set(n.subarray(i,i+h),o),s-=h,i+=h,c-=h,o+=h,r.length-=h;break}r.mode=_o;break;case DA:for(;d<14;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ir;break}r.have=0,r.mode=$A;case $A:for(;r.have<r.ncode;){for(;d<3;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}r.lens[O[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},E=df(qG,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,E){t.msg="invalid code lengths set",r.mode=Ir;break}r.have=0,r.mode=FA;case FA:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,w=v>>>16&255,j=v&65535,!(b<=d);){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(j<16)u>>>=b,d-=b,r.lens[r.have++]=j;else{if(j===16){for(P=b+2;d<P;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=Ir;break}A=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(j===17){for(P=b+3;d<P;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,A=0,h=3+(u&7),u>>>=3,d-=3}else{for(P=b+7;d<P;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,A=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ir;break}for(;h--;)r.lens[r.have++]=A}}if(r.mode===Ir)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ir;break}if(r.lenbits=9,L={bits:r.lenbits},E=df(x8,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,E){t.msg="invalid literal/lengths set",r.mode=Ir;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},E=df(w8,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,E){t.msg="invalid distances set",r.mode=Ir;break}if(r.mode=Ap,e===Np)break e;case Ap:r.mode=kp;case kp:if(s>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=s,r.hold=u,r.bits=d,RG(t,p),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,s=t.avail_in,u=r.hold,d=r.bits,r.mode===_o&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,w=v>>>16&255,j=v&65535,!(b<=d);){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(w&&(w&240)===0){for(_=b,S=w,k=j;v=r.lencode[k+((u&(1<<_+S)-1)>>_)],b=v>>>24,w=v>>>16&255,j=v&65535,!(_+b<=d);){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=b,d-=b,r.back+=b,r.length=j,w===0){r.mode=WA;break}if(w&32){r.back=-1,r.mode=_o;break}if(w&64){t.msg="invalid literal/length code",r.mode=Ir;break}r.extra=w&15,r.mode=BA;case BA:if(r.extra){for(P=r.extra;d<P;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=qA;case qA:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,w=v>>>16&255,j=v&65535,!(b<=d);){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if((w&240)===0){for(_=b,S=w,k=j;v=r.distcode[k+((u&(1<<_+S)-1)>>_)],b=v>>>24,w=v>>>16&255,j=v&65535,!(_+b<=d);){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}u>>>=_,d-=_,r.back+=_}if(u>>>=b,d-=b,r.back+=b,w&64){t.msg="invalid distance code",r.mode=Ir;break}r.offset=j,r.extra=w&15,r.mode=UA;case UA:if(r.extra){for(P=r.extra;d<P;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ir;break}r.mode=zA;case zA:if(c===0)break e;if(h=p-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ir;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=a,g=o-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do a[o++]=m[g++];while(--h);r.length===0&&(r.mode=kp);break;case WA:if(c===0)break e;a[o++]=r.length,c--,r.mode=kp;break;case iy:if(r.wrap){for(;d<32;){if(s===0)break e;s--,u|=n[i++]<<d,d+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Fi(r.check,a,p,o-p):l2(r.check,a,p,o-p)),p=c,r.wrap&4&&(r.flags?u:GA(u))!==r.check){t.msg="incorrect data check",r.mode=Ir;break}u=0,d=0}r.mode=HA;case HA:if(r.wrap&&r.flags){for(;d<32;){if(s===0)break e;s--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ir;break}u=0,d=0}r.mode=VA;case VA:E=zG;break e;case Ir:E=_8;break e;case S8:return j8;case N8:default:return Ga}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=s,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Ir&&(r.mode<iy||e!==SA))&&O8(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Fi(r.check,a,p,t.next_out-p):l2(r.check,a,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===_o?128:0)+(r.mode===Ap||r.mode===ay?256:0),(f===0&&p===0||e===SA)&&E===Fl&&(E=HG),E},eY=t=>{if(Zl(t))return Ga;let e=t.state;return e.window&&(e.window=null),t.state=null,Fl},tY=(t,e)=>{if(Zl(t))return Ga;const r=t.state;return(r.wrap&2)===0?Ga:(r.head=e,e.done=!1,Fl)},rY=(t,e)=>{const r=e.length;let n,a,i;return Zl(t)||(n=t.state,n.wrap!==0&&n.mode!==gm)?Ga:n.mode===gm&&(a=1,a=l2(a,e,r,0),a!==n.check)?_8:(i=O8(t,e,r,r),i?(n.mode=S8,j8):(n.havedict=1,Fl))};var nY=k8,aY=P8,iY=A8,oY=ZG,sY=C8,lY=QG,cY=eY,uY=tY,dY=rY,fY="pako inflate (from Nodeca project)",Co={inflateReset:nY,inflateReset2:aY,inflateResetKeep:iY,inflateInit:oY,inflateInit2:sY,inflate:lY,inflateEnd:cY,inflateGetHeader:uY,inflateSetDictionary:dY,inflateInfo:fY};function hY(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pY=hY;const E8=Object.prototype.toString,{Z_NO_FLUSH:mY,Z_FINISH:gY,Z_OK:Nf,Z_STREAM_END:ly,Z_NEED_DICT:cy,Z_STREAM_ERROR:vY,Z_DATA_ERROR:KA,Z_MEM_ERROR:yY}=v8;function mh(t){this.options=y8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IG,this.strm.avail_out=0;let r=Co.inflateInit2(this.strm,e.windowBits);if(r!==Nf)throw new Error(c2[r]);if(this.header=new pY,Co.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=u2.string2buf(e.dictionary):E8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Co.inflateSetDictionary(this.strm,e.dictionary),r!==Nf)))throw new Error(c2[r])}mh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?gY:mY,E8.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Co.inflate(r,o),i===cy&&a&&(i=Co.inflateSetDictionary(r,a),i===Nf?i=Co.inflate(r,o):i===KA&&(i=cy));r.avail_in>0&&i===ly&&r.state.wrap>0&&t[r.next_in]!==0;)Co.inflateReset(r),i=Co.inflate(r,o);switch(i){case vY:case KA:case cy:case yY:return this.onEnd(i),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||i===ly))if(this.options.to==="string"){let c=u2.utf8border(r.output,r.next_out),u=r.next_out-c,d=u2.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Nf&&s===0)){if(i===ly)return i=Co.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};mh.prototype.onData=function(t){this.chunks.push(t)};mh.prototype.onEnd=function(t){t===Nf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bY(t,e){const r=new mh(e);if(r.push(t),r.err)throw r.msg||c2[r.err];return r.result}var xY=mh,wY=bY,_Y={Inflate:xY,inflate:wY};const{Inflate:jY,inflate:SY}=_Y;var XA=jY,NY=SY;const T8=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;T8[t]=e}const ZA=4294967295;function AY(t,e,r){let n=t;for(let a=0;a<r;a++)n=T8[(n^e[a])&255]^n>>>8;return n}function kY(t,e){return(AY(ZA,t,e)^ZA)>>>0}function JA(t,e,r){const n=t.readUint32(),a=kY(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function I8(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function L8(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function R8(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function M8(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function D8(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+PY(e[i-a],r[i],r[i-a])&255}}function PY(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return a<=i&&a<=o?t:i<=o?e:r}function CY(t,e,r,n,a,i){switch(t){case 0:I8(e,r,a);break;case 1:L8(e,r,a,i);break;case 2:R8(e,r,n,a);break;case 3:M8(e,r,n,a,i);break;case 4:D8(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const OY=new Uint16Array([255]),EY=new Uint8Array(OY.buffer),TY=EY[0]===255;function IY(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(i/8)*a,c=new Uint8Array(n*r*s);let u=0;for(let d=0;d<7;d++){const f=o[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*s,m=new Uint8Array(g);for(let v=0;v<h;v++){const b=e[u++],w=e.subarray(u,u+g);u+=g;const j=new Uint8Array(g);CY(b,w,j,m,g,s),m.set(j);for(let _=0;_<p;_++){const S=f.x+_*f.xStep,k=f.y+v*f.yStep;if(!(S>=r||k>=n))for(let A=0;A<s;A++)c[(k*r+S)*s+A]=j[_*s+A]}}}if(i===16){const d=new Uint16Array(c.buffer);if(TY)for(let f=0;f<d.length;f++)d[f]=LY(d[f]);return d}else return c}function LY(t){return(t&255)<<8|t>>8&255}const RY=new Uint16Array([255]),MY=new Uint8Array(RY.buffer),DY=MY[0]===255,$Y=new Uint8Array(0);function QA(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,s=Math.ceil(i/8*a*r),c=new Uint8Array(n*s);let u=$Y,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+s),p=c.subarray(h*s,(h+1)*s),e[d]){case 0:I8(f,p,s);break;case 1:L8(f,p,s,o);break;case 2:R8(f,p,u,s);break;case 3:M8(f,p,u,s,o);break;case 4:D8(f,p,u,s,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=s+1}if(i===16){const h=new Uint16Array(c.buffer);if(DY)for(let g=0;g<h.length;g++)h[g]=FY(h[g]);return h}else return c}function FY(t){return(t&255)<<8|t>>8&255}const em=Uint8Array.of(137,80,78,71,13,10,26,10);function e4(t){if(!BY(t.readBytes(em.length)))throw new Error("wrong PNG signature")}function BY(t){if(t.length<em.length)return!1;for(let e=0;e<em.length;e++)if(t[e]!==em[e])return!1;return!0}const qY="tEXt",UY=0,$8=new TextDecoder("latin1");function zY(t){if(HY(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const WY=/^[\u0000-\u00FF]*$/;function HY(t){if(!WY.test(t))throw new Error("invalid latin1 text")}function VY(t,e,r){const n=F8(e);t[n]=GY(e,r-n.length-1)}function F8(t){for(t.mark();t.readByte()!==UY;);const e=t.offset;t.reset();const r=$8.decode(t.readBytes(e-t.offset-1));return t.skip(1),zY(r),r}function GY(t,e){return $8.decode(t.readBytes(e))}const wa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},uy={UNKNOWN:-1,DEFLATE:0},t4={UNKNOWN:-1,ADAPTIVE:0},dy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Pp={NONE:0,BACKGROUND:1,PREVIOUS:2},fy={SOURCE:0,OVER:1};class YY extends P_{constructor(r,n={}){super(r);Xt(this,"_checkCrc");Xt(this,"_inflator");Xt(this,"_png");Xt(this,"_apng");Xt(this,"_end");Xt(this,"_hasPalette");Xt(this,"_palette");Xt(this,"_hasTransparency");Xt(this,"_transparency");Xt(this,"_compressionMethod");Xt(this,"_filterMethod");Xt(this,"_interlaceMethod");Xt(this,"_colorType");Xt(this,"_isAnimated");Xt(this,"_numberOfFrames");Xt(this,"_numberOfPlays");Xt(this,"_frames");Xt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new XA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=uy.UNKNOWN,this._filterMethod=t4.UNKNOWN,this._interlaceMethod=dy.UNKNOWN,this._colorType=wa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(e4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(e4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case qY:VY(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JA(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JA(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=KY(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case wa.GREYSCALE:a=1;break;case wa.TRUECOLOUR:a=3;break;case wa.INDEXED_COLOUR:a=1;break;case wa.GREYSCALE_ALPHA:a=2;break;case wa.TRUECOLOUR_ALPHA:a=4;break;case wa.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==uy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case wa.GREYSCALE:case wa.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case wa.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wa.UNKNOWN:case wa.GREYSCALE_ALPHA:case wa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=F8(this),a=this.readUint8();if(a!==uy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:NY(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=QA({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Pp.NONE:break;case Pp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[s+c]=0}break;case Pp.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,s)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,u=(o*n.width+s)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case fy.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:c,frameIndex:u}=i(o,s);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case fy.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:c,frameIndex:u}=i(o,s);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[c+d]);r.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==t4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===dy.NO_INTERLACE)this._png.data=QA({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===dy.ADAM7)this._png.data=IY({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Pp.NONE,blendOp:fy.SOURCE,data:r}),this._inflator=new XA,this._writingDataChunks=!1}}function KY(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var r4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(r4||(r4={}));function XY(t,e){return new YY(t,e).decode()}var wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function hy(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var mr={log:hy,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):hy.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):hy(t))}};function py(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){gl(n.response,e,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function n4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var gl=wt.saveAs||((typeof window>"u"?"undefined":cr(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=wt.URL||wt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?n4(a.href)?py(t,e,r):Cp(a,a.target="_blank"):Cp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Cp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(n4(t))py(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Cp(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:cr(i)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return py(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":cr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(t)}else{var c=wt.URL||wt.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function B8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+s+c+u}}var tm=wt.atob.bind(wt),a4=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function my(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Ln(r,n,a,i,e[0],7,-680876936),i=Ln(i,r,n,a,e[1],12,-389564586),a=Ln(a,i,r,n,e[2],17,606105819),n=Ln(n,a,i,r,e[3],22,-1044525330),r=Ln(r,n,a,i,e[4],7,-176418897),i=Ln(i,r,n,a,e[5],12,1200080426),a=Ln(a,i,r,n,e[6],17,-1473231341),n=Ln(n,a,i,r,e[7],22,-45705983),r=Ln(r,n,a,i,e[8],7,1770035416),i=Ln(i,r,n,a,e[9],12,-1958414417),a=Ln(a,i,r,n,e[10],17,-42063),n=Ln(n,a,i,r,e[11],22,-1990404162),r=Ln(r,n,a,i,e[12],7,1804603682),i=Ln(i,r,n,a,e[13],12,-40341101),a=Ln(a,i,r,n,e[14],17,-1502002290),r=Rn(r,n=Ln(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Rn(i,r,n,a,e[6],9,-1069501632),a=Rn(a,i,r,n,e[11],14,643717713),n=Rn(n,a,i,r,e[0],20,-373897302),r=Rn(r,n,a,i,e[5],5,-701558691),i=Rn(i,r,n,a,e[10],9,38016083),a=Rn(a,i,r,n,e[15],14,-660478335),n=Rn(n,a,i,r,e[4],20,-405537848),r=Rn(r,n,a,i,e[9],5,568446438),i=Rn(i,r,n,a,e[14],9,-1019803690),a=Rn(a,i,r,n,e[3],14,-187363961),n=Rn(n,a,i,r,e[8],20,1163531501),r=Rn(r,n,a,i,e[13],5,-1444681467),i=Rn(i,r,n,a,e[2],9,-51403784),a=Rn(a,i,r,n,e[7],14,1735328473),r=Mn(r,n=Rn(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Mn(i,r,n,a,e[8],11,-2022574463),a=Mn(a,i,r,n,e[11],16,1839030562),n=Mn(n,a,i,r,e[14],23,-35309556),r=Mn(r,n,a,i,e[1],4,-1530992060),i=Mn(i,r,n,a,e[4],11,1272893353),a=Mn(a,i,r,n,e[7],16,-155497632),n=Mn(n,a,i,r,e[10],23,-1094730640),r=Mn(r,n,a,i,e[13],4,681279174),i=Mn(i,r,n,a,e[0],11,-358537222),a=Mn(a,i,r,n,e[3],16,-722521979),n=Mn(n,a,i,r,e[6],23,76029189),r=Mn(r,n,a,i,e[9],4,-640364487),i=Mn(i,r,n,a,e[12],11,-421815835),a=Mn(a,i,r,n,e[15],16,530742520),r=Dn(r,n=Mn(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Dn(i,r,n,a,e[7],10,1126891415),a=Dn(a,i,r,n,e[14],15,-1416354905),n=Dn(n,a,i,r,e[5],21,-57434055),r=Dn(r,n,a,i,e[12],6,1700485571),i=Dn(i,r,n,a,e[3],10,-1894986606),a=Dn(a,i,r,n,e[10],15,-1051523),n=Dn(n,a,i,r,e[1],21,-2054922799),r=Dn(r,n,a,i,e[8],6,1873313359),i=Dn(i,r,n,a,e[15],10,-30611744),a=Dn(a,i,r,n,e[6],15,-1560198380),n=Dn(n,a,i,r,e[13],21,1309151649),r=Dn(r,n,a,i,e[4],6,-145523070),i=Dn(i,r,n,a,e[11],10,-1120210379),a=Dn(a,i,r,n,e[2],15,718787259),n=Dn(n,a,i,r,e[9],21,-343485551),t[0]=ks(r,t[0]),t[1]=ks(n,t[1]),t[2]=ks(a,t[2]),t[3]=ks(i,t[3])}function Ug(t,e,r,n,a,i){return e=ks(ks(e,t),ks(n,i)),ks(e<<a|e>>>32-a,r)}function Ln(t,e,r,n,a,i,o){return Ug(e&r|~e&n,t,e,a,i,o)}function Rn(t,e,r,n,a,i,o){return Ug(e&n|r&~n,t,e,a,i,o)}function Mn(t,e,r,n,a,i,o){return Ug(e^r^n,t,e,a,i,o)}function Dn(t,e,r,n,a,i,o){return Ug(r^(e|~n),t,e,a,i,o)}function q8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)my(n,ZY(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(my(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,my(n,a),n}function ZY(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var i4="0123456789abcdef".split("");function JY(t){for(var e="",r=0;r<4;r++)e+=i4[t>>8*r+4&15]+i4[t>>8*r&15];return e}function QY(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function d2(t){return q8(t).map(QY).join("")}var eK=(function(t){for(var e=0;e<t.length;e++)t[e]=JY(t[e]);return t.join("")})(q8("hello"))!="5d41402abc4b2a76b9719d911017c592";function ks(t,e){if(eK){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function f2(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),s=[],c=0;c<256;c++)s[c]=c;var u=0;for(c=0;c<256;c++){var d=s[c];u=(u+d+o.charCodeAt(c))%256,s[c]=s[u],s[u]=d}r=t,n=s}else s=n;var f=e.length,p=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=d,o=s[(s[p]+s[h])%256],g+=String.fromCharCode(e.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var o4={print:4,modify:8,copy:16,"annot-forms":32};function Gc(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(s){if(o4.perm!==void 0)throw new Error("Invalid permission: "+s);a+=o4[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=d2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=f2(this.encryptionKey,this.padding)}function Yc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function s4(t){if(cr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(s){wt.console&&mr.error("jsPDF PubSub Error",s.message,s)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vm(t){if(!(this instanceof vm))return new vm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function U8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function wl(t,e,r,n,a){if(!(this instanceof wl))return new wl(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,U8.call(this,n,a)}function Xc(t,e,r,n,a){if(!(this instanceof Xc))return new Xc(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,U8.call(this,n,a)}function ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],s=1,c=16,u="S",d=null;cr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=s4;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(C){g=C};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var b=h.__private__.getPageFormat=function(C){return v[C]};a=a||"a4";var w="compat",j="advanced",_=w;function S(){this.saveGraphicsState(),Q(new qe(dt,0,0,-dt,0,ha()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",_=j}function k(){this.restoreGraphicsState(),u="S",_=w}var A=h.__private__.combineFontStyleAndFontWeight=function(C,q){if(C=="bold"&&q=="normal"||C=="bold"&&q==400||C=="normal"&&q=="italic"||C=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(C=q==400||q==="normal"?C==="italic"?"italic":"normal":q!=700&&q!=="bold"||C!=="normal"?(q==700?"bold":q)+""+C:"bold"),C};h.advancedAPI=function(C){var q=_===w;return q&&S.call(this),typeof C!="function"||(C(this),q&&k.call(this)),this},h.compatAPI=function(C){var q=_===j;return q&&k.call(this),typeof C!="function"||(C(this),q&&S.call(this)),this},h.isAdvancedAPI=function(){return _===j};var E,I=function(C){if(_!==j)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(C,q){var ne=e||q;if(isNaN(C)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ne).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof c=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return L(C,c)}:c==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return L(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return L(C,16)};var P=h.f2=h.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return L(C,2)},O=h.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return L(C,3)},D=h.scale=h.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?C*dt:_===j?C:void 0},M=function(C){return D((function(q){return _===w?ha()-q:_===j?q:void 0})(C))};h.__private__.setPrecision=h.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var G,Y="00000000000000000000000000000000",W=h.__private__.getFileId=function(){return Y},F=h.__private__.setFileId=function(C){return Y=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Hr=new Gc(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};h.setFileId=function(C){return F(C),this},h.getFileId=function(){return W()};var ae=h.__private__.convertDateToPDFDate=function(C){var q=C.getTimezoneOffset(),ne=q<0?"+":"-",ce=Math.floor(Math.abs(q/60)),ve=Math.abs(q%60),Ne=[ne,z(ce),"'",z(ve),"'"].join("");return["D:",C.getFullYear(),z(C.getMonth()+1),z(C.getDate()),z(C.getHours()),z(C.getMinutes()),z(C.getSeconds()),Ne].join("")},re=h.__private__.convertPDFDateToDate=function(C){var q=parseInt(C.substr(2,4),10),ne=parseInt(C.substr(6,2),10)-1,ce=parseInt(C.substr(8,2),10),ve=parseInt(C.substr(10,2),10),Ne=parseInt(C.substr(12,2),10),Ee=parseInt(C.substr(14,2),10);return new Date(q,ne,ce,ve,Ne,Ee,0)},oe=h.__private__.setCreationDate=function(C){var q;if(C===void 0&&(C=new Date),C instanceof Date)q=ae(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=C}return G=q},$=h.__private__.getCreationDate=function(C){var q=G;return C==="jsDate"&&(q=re(G)),q};h.setCreationDate=function(C){return oe(C),this},h.getCreationDate=function(C){return $(C)};var U,z=h.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},J=h.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},le=0,se=[],de=[],ie=0,he=[],ge=[],ue=!1,Pe=de;h.__private__.setCustomOutputDestination=function(C){ue=!0,Pe=C};var me=function(C){ue||(Pe=C)};h.__private__.resetCustomOutputDestination=function(){ue=!1,Pe=de};var Q=h.__private__.out=function(C){return C=C.toString(),ie+=C.length+1,Pe.push(C),Pe},Ve=h.__private__.write=function(C){return Q(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(C){for(var q=C.length,ne=new ArrayBuffer(q),ce=new Uint8Array(ne);q--;)ce[q]=C.charCodeAt(q);return ne},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ue};var ke=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(C){return ke=_===j?C/dt:C,this};var Qe,Re=h.__private__.getFontSize=h.getFontSize=function(){return _===w?ke:ke*dt},Ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(C){return Ke=C,this},h.__private__.getR2L=h.getR2L=function(){return Ke};var Ge,zt=h.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Qe=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Qe=C}else Qe=parseInt(C,10)};h.__private__.getZoomMode=function(){return Qe};var mt,gt=h.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ge=C};h.__private__.getPageMode=function(){return Ge};var er=h.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');mt=C};h.__private__.getLayoutMode=function(){return mt},h.__private__.setDisplayMode=h.setDisplayMode=function(C,q,ne){return zt(C),er(q),gt(ne),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(C){if(Object.keys(St).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[C]},h.__private__.getDocumentProperties=function(){return St},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(C){for(var q in St)St.hasOwnProperty(q)&&C[q]&&(St[q]=C[q]);return this},h.__private__.setDocumentProperty=function(C,q){if(Object.keys(St).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[C]=q};var it,dt,st,Vt,Gt,nt={},_t={},tr=[],ft={},Mt={},ht={},Mr={},Wr=null,rr=0,vt=[],$e=new s4(h),vr=t.hotfixes||[],Yt={},Dr={},Wn=[],qe=function C(q,ne,ce,ve,Ne,Ee){if(!(this instanceof C))return new C(q,ne,ce,ve,Ne,Ee);isNaN(q)&&(q=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(Ne)&&(Ne=0),isNaN(Ee)&&(Ee=0),this._matrix=[q,ne,ce,ve,Ne,Ee]};Object.defineProperty(qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qe.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(C)},qe.prototype.multiply=function(C){var q=C.sx*this.sx+C.shy*this.shx,ne=C.sx*this.shy+C.shy*this.sy,ce=C.shx*this.sx+C.sy*this.shx,ve=C.shx*this.shy+C.sy*this.sy,Ne=C.tx*this.sx+C.ty*this.shx+this.tx,Ee=C.tx*this.shy+C.ty*this.sy+this.ty;return new qe(q,ne,ce,ve,Ne,Ee)},qe.prototype.decompose=function(){var C=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Ne=this.ty,Ee=Math.sqrt(C*C+q*q),et=(C/=Ee)*ne+(q/=Ee)*ce;ne-=C*et,ce-=q*et;var ot=Math.sqrt(ne*ne+ce*ce);return et/=ot,C*(ce/=ot)<q*(ne/=ot)&&(C=-C,q=-q,et=-et,Ee=-Ee),{scale:new qe(Ee,0,0,ot,0,0),translate:new qe(1,0,0,1,ve,Ne),rotate:new qe(C,q,-q,C,0,0),skew:new qe(1,0,et,1,0,0)}},qe.prototype.toString=function(C){return this.join(" ")},qe.prototype.inversed=function(){var C=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Ne=this.ty,Ee=1/(C*ce-q*ne),et=ce*Ee,ot=-q*Ee,xt=-ne*Ee,Ct=C*Ee;return new qe(et,ot,xt,Ct,-et*ve-xt*Ne,-ot*ve-Ct*Ne)},qe.prototype.applyToPoint=function(C){var q=C.x*this.sx+C.y*this.shx+this.tx,ne=C.x*this.shy+C.y*this.sy+this.ty;return new rl(q,ne)},qe.prototype.applyToRectangle=function(C){var q=this.applyToPoint(C),ne=this.applyToPoint(new rl(C.x+C.w,C.y+C.h));return new wd(q.x,q.y,ne.x-q.x,ne.y-q.y)},qe.prototype.clone=function(){var C=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Ne=this.ty;return new qe(C,q,ne,ce,ve,Ne)},h.Matrix=qe;var Fr=h.matrixMult=function(C,q){return q.multiply(C)},ta=new qe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ta;var Er=function(C,q){if(!Mt[C]){var ne=(q instanceof wl?"Sh":"P")+(Object.keys(ft).length+1).toString(10);q.id=ne,Mt[C]=ne,ft[ne]=q,$e.publish("addPattern",q)}};h.ShadingPattern=wl,h.TilingPattern=Xc,h.addShadingPattern=function(C,q){return I("addShadingPattern()"),Er(C,q),this},h.beginTilingPattern=function(C){I("beginTilingPattern()"),_d(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},h.endTilingPattern=function(C,q){I("endTilingPattern()"),q.stream=ge[U].join(`
`),Er(C,q),$e.publish("endTilingPattern",q),Wn.pop().restore()};var Tr,kr=h.__private__.newObject=function(){var C=yr();return bn(C,!0),C},yr=h.__private__.newObjectDeferred=function(){return le++,se[le]=function(){return ie},le},bn=function(C,q){return q=typeof q=="boolean"&&q,se[C]=ie,q&&Q(C+" 0 obj"),C},Gs=h.__private__.newAdditionalObject=function(){var C={objId:yr(),content:""};return he.push(C),C},Qo=yr(),Za=yr(),Ci=h.__private__.decodeColorString=function(C){var q=C.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ne=parseFloat(q[0]);q=[ne,ne,ne,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(q[ve])).toString(16)).slice(-2);return ce},Ja=h.__private__.encodeColorString=function(C){var q;typeof C=="string"&&(C={ch1:C});var ne=C.ch1,ce=C.ch2,ve=C.ch3,Ne=C.ch4,Ee=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var et=new B8(ne);if(et.ok)ne=et.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var ot=parseInt(ne.substr(1),16);ne=ot>>16&255,ce=ot>>8&255,ve=255&ot}if(ce===void 0||Ne===void 0&&ne===ce&&ce===ve)q=typeof ne=="string"?ne+" "+Ee[0]:C.precision===2?P(ne/255)+" "+Ee[0]:O(ne/255)+" "+Ee[0];else if(Ne===void 0||cr(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Ee[1]].join(" ");q=typeof ne=="string"?[ne,ce,ve,Ee[1]].join(" "):C.precision===2?[P(ne/255),P(ce/255),P(ve/255),Ee[1]].join(" "):[O(ne/255),O(ce/255),O(ve/255),Ee[1]].join(" ")}else q=typeof ne=="string"?[ne,ce,ve,Ne,Ee[2]].join(" "):C.precision===2?[P(ne),P(ce),P(ve),P(Ne),Ee[2]].join(" "):[O(ne),O(ce),O(ve),O(Ne),Ee[2]].join(" ");return q},Qa=h.__private__.getFilters=function(){return o},Ea=h.__private__.putStream=function(C){var q=(C=C||{}).data||"",ne=C.filters||Qa(),ce=C.alreadyAppliedFilters||[],ve=C.addLength1||!1,Ne=q.length,Ee=C.objectId,et=function(sn){return sn};if(d!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(et=Hr.encryptor(Ee,0));var ot={};ne===!0&&(ne=["FlateEncode"]);var xt=C.additionalKeyValues||[],Ct=(ot=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(q,ne):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(ot.data.length!==0&&(xt.push({key:"Length",value:ot.data.length}),ve===!0&&xt.push({key:"Length1",value:Ne})),Ct.length!=0)if(Ct.split("/").length-1==1)xt.push({key:"Filter",value:Ct});else{xt.push({key:"Filter",value:"["+Ct+"]"});for(var Qt=0;Qt<xt.length;Qt+=1)if(xt[Qt].key==="DecodeParms"){for(var $r=[],rn=0;rn<ot.reverseChain.split("/").length-1;rn+=1)$r.push("null");$r.push(xt[Qt].value),xt[Qt].value="["+$r.join(" ")+"]"}}Q("<<");for(var fr=0;fr<xt.length;fr++)Q("/"+xt[fr].key+" "+xt[fr].value);Q(">>"),ot.data.length!==0&&(Q("stream"),Q(et(ot.data)),Q("endstream"))},Ys=h.__private__.putPage=function(C){var q=C.number,ne=C.data,ce=C.objId,ve=C.contentsObjId;bn(ce,!0),Q("<</Type /Page"),Q("/Parent "+C.rootDictionaryObjId+" 0 R"),Q("/Resources "+C.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(E(C.mediaBox.bottomLeftX))+" "+parseFloat(E(C.mediaBox.bottomLeftY))+" "+E(C.mediaBox.topRightX)+" "+E(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&Q("/CropBox ["+E(C.cropBox.bottomLeftX)+" "+E(C.cropBox.bottomLeftY)+" "+E(C.cropBox.topRightX)+" "+E(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&Q("/BleedBox ["+E(C.bleedBox.bottomLeftX)+" "+E(C.bleedBox.bottomLeftY)+" "+E(C.bleedBox.topRightX)+" "+E(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&Q("/TrimBox ["+E(C.trimBox.bottomLeftX)+" "+E(C.trimBox.bottomLeftY)+" "+E(C.trimBox.topRightX)+" "+E(C.trimBox.topRightY)+"]"),C.artBox!==null&&Q("/ArtBox ["+E(C.artBox.bottomLeftX)+" "+E(C.artBox.bottomLeftY)+" "+E(C.artBox.topRightX)+" "+E(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&Q("/UserUnit "+C.userUnit),$e.publish("putPage",{objId:ce,pageContext:vt[q],pageNumber:q,page:ne}),Q("/Contents "+ve+" 0 R"),Q(">>"),Q("endobj");var Ne=ne.join(`
`);return _===j&&(Ne+=`
Q`),bn(ve,!0),Ea({data:Ne,filters:Qa(),objectId:ve}),Q("endobj"),ce},Oi=h.__private__.putPages=function(){var C,q,ne=[];for(C=1;C<=rr;C++)vt[C].objId=yr(),vt[C].contentsObjId=yr();for(C=1;C<=rr;C++)ne.push(Ys({number:C,data:ge[C],objId:vt[C].objId,contentsObjId:vt[C].contentsObjId,mediaBox:vt[C].mediaBox,cropBox:vt[C].cropBox,bleedBox:vt[C].bleedBox,trimBox:vt[C].trimBox,artBox:vt[C].artBox,userUnit:vt[C].userUnit,rootDictionaryObjId:Qo,resourceDictionaryObjId:Za}));bn(Qo,!0),Q("<</Type /Pages");var ce="/Kids [";for(q=0;q<rr;q++)ce+=ne[q]+" 0 R ";Q(ce+"]"),Q("/Count "+rr),Q(">>"),Q("endobj"),$e.publish("postPutPages")},Ks=function(C){$e.publish("putFont",{font:C,out:Q,newObject:kr,putStream:Ea}),C.isAlreadyPutted!==!0&&(C.objectNumber=kr(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Yc(C.postScriptName)),Q("/Subtype /Type1"),typeof C.encoding=="string"&&Q("/Encoding /"+C.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},ac=function(C){C.objectNumber=kr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[E(C.x),E(C.y),E(C.x+C.width),E(C.y+C.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ne=C.pages[1].join(`
`);Ea({data:ne,additionalKeyValues:q,objectId:C.objectNumber}),Q("endobj")},ic=function(C,q){q||(q=21);var ne=kr(),ce=(function(Ee,et){var ot,xt=[],Ct=1/(et-1);for(ot=0;ot<1;ot+=Ct)xt.push(ot);if(xt.push(1),Ee[0].offset!=0){var Qt={offset:0,color:Ee[0].color};Ee.unshift(Qt)}if(Ee[Ee.length-1].offset!=1){var $r={offset:1,color:Ee[Ee.length-1].color};Ee.push($r)}for(var rn="",fr=0,sn=0;sn<xt.length;sn++){for(ot=xt[sn];ot>Ee[fr+1].offset;)fr++;var nn=Ee[fr].offset,kn=(ot-nn)/(Ee[fr+1].offset-nn),fo=Ee[fr].color,rs=Ee[fr+1].color;rn+=J(Math.round((1-kn)*fo[0]+kn*rs[0]).toString(16))+J(Math.round((1-kn)*fo[1]+kn*rs[1]).toString(16))+J(Math.round((1-kn)*fo[2]+kn*rs[2]).toString(16))}return rn.trim()})(C.colors,q),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+q+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ea({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),Q("endobj"),C.objectNumber=kr(),Q("<< /ShadingType "+C.type),Q("/ColorSpace /DeviceRGB");var Ne="/Coords ["+E(parseFloat(C.coords[0]))+" "+E(parseFloat(C.coords[1]))+" ";C.type===2?Ne+=E(parseFloat(C.coords[2]))+" "+E(parseFloat(C.coords[3])):Ne+=E(parseFloat(C.coords[2]))+" "+E(parseFloat(C.coords[3]))+" "+E(parseFloat(C.coords[4]))+" "+E(parseFloat(C.coords[5])),Q(Ne+="]"),C.matrix&&Q("/Matrix ["+C.matrix.toString()+"]"),Q("/Function "+ne+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},oc=function(C,q){var ne=yr(),ce=kr();q.push({resourcesOid:ne,objectOid:ce}),C.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+C.boundingBox.map(E).join(" ")+"]"}),ve.push({key:"XStep",value:E(C.xStep)}),ve.push({key:"YStep",value:E(C.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),C.matrix&&ve.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Ea({data:C.stream,additionalKeyValues:ve,objectId:C.objectNumber}),Q("endobj")},Zv=function(C){for(var q in C.objectNumber=kr(),Q("<<"),C)switch(q){case"opacity":Q("/ca "+P(C[q]));break;case"stroke-opacity":Q("/CA "+P(C[q]))}Q(">>"),Q("endobj")},dd=function(C){bn(C.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in Q("/Font <<"),nt)nt.hasOwnProperty(q)&&(f===!1||f===!0&&p.hasOwnProperty(q))&&Q("/"+q+" "+nt[q].objectNumber+" 0 R");Q(">>")})(),(function(){if(Object.keys(ft).length>0){for(var q in Q("/Shading <<"),ft)ft.hasOwnProperty(q)&&ft[q]instanceof wl&&ft[q].objectNumber>=0&&Q("/"+q+" "+ft[q].objectNumber+" 0 R");$e.publish("putShadingPatternDict"),Q(">>")}})(),(function(q){if(Object.keys(ft).length>0){for(var ne in Q("/Pattern <<"),ft)ft.hasOwnProperty(ne)&&ft[ne]instanceof h.TilingPattern&&ft[ne].objectNumber>=0&&ft[ne].objectNumber<q&&Q("/"+ne+" "+ft[ne].objectNumber+" 0 R");$e.publish("putTilingPatternDict"),Q(">>")}})(C.objectOid),(function(){if(Object.keys(ht).length>0){var q;for(q in Q("/ExtGState <<"),ht)ht.hasOwnProperty(q)&&ht[q].objectNumber>=0&&Q("/"+q+" "+ht[q].objectNumber+" 0 R");$e.publish("putGStateDict"),Q(">>")}})(),(function(){for(var q in Q("/XObject <<"),Yt)Yt.hasOwnProperty(q)&&Yt[q].objectNumber>=0&&Q("/"+q+" "+Yt[q].objectNumber+" 0 R");$e.publish("putXobjectDict"),Q(">>")})(),Q(">>"),Q("endobj")},Ih=function(C){_t[C.fontName]=_t[C.fontName]||{},_t[C.fontName][C.fontStyle]=C.id},Lh=function(C,q,ne,ce,ve){var Ne={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:C,fontName:q,fontStyle:ne,encoding:ce,isStandardFont:ve||!1,metadata:{}};return $e.publish("addFont",{font:Ne,instance:this}),nt[Ne.id]=Ne,Ih(Ne),Ne.id},Ta=h.__private__.pdfEscape=h.pdfEscape=function(C,q){return(function(ne,ce){var ve,Ne,Ee,et,ot,xt,Ct,Qt,$r;if(Ee=(ce=ce||{}).sourceEncoding||"Unicode",ot=ce.outputEncoding,(ce.autoencode||ot)&&nt[it].metadata&&nt[it].metadata[Ee]&&nt[it].metadata[Ee].encoding&&(et=nt[it].metadata[Ee].encoding,!ot&&nt[it].encoding&&(ot=nt[it].encoding),!ot&&et.codePages&&(ot=et.codePages[0]),typeof ot=="string"&&(ot=et[ot]),ot)){for(Ct=!1,xt=[],ve=0,Ne=ne.length;ve<Ne;ve++)(Qt=ot[ne.charCodeAt(ve)])?xt.push(String.fromCharCode(Qt)):xt.push(ne[ve]),xt[ve].charCodeAt(0)>>8&&(Ct=!0);ne=xt.join("")}for(ve=ne.length;Ct===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(Ct=!0),ve--;if(!Ct)return ne;for(xt=ce.noBOM?[]:[254,255],ve=0,Ne=ne.length;ve<Ne;ve++){if(($r=(Qt=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push($r),xt.push(Qt-($r<<8))}return String.fromCharCode.apply(void 0,xt)})(C,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fd=h.__private__.beginPage=function(C){ge[++rr]=[],vt[rr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Mh(rr),me(ge[U])},Rh=function(C,q){var ne,ce,ve;switch(r=q||r,typeof C=="string"&&(ne=b(C.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ve=ne[1])),Array.isArray(C)&&(ce=C[0]*dt,ve=C[1]*dt),isNaN(ce)&&(ce=a[0],ve=a[1]),(ce>14400||ve>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),a=[ce,ve],r.substr(0,1)){case"l":ve>ce&&(a=[ve,ce]);break;case"p":ce>ve&&(a=[ve,ce])}fd(a),o0(vd),Q(lc),bd!==0&&Q(bd+" J"),xd!==0&&Q(xd+" j"),$e.publish("addPage",{pageNumber:rr})},hd=function(C){C>0&&C<=rr&&(ge.splice(C,1),vt.splice(C,1),rr--,U>rr&&(U=rr),this.setPage(U))},Mh=function(C){C>0&&C<=rr&&(U=C)},Dh=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ge.length-1},$h=function(C,q,ne){var ce,ve=void 0;return ne=ne||{},C=C!==void 0?C:nt[it].fontName,q=q!==void 0?q:nt[it].fontStyle,ce=C.toLowerCase(),_t[ce]!==void 0&&_t[ce][q]!==void 0?ve=_t[ce][q]:_t[C]!==void 0&&_t[C][q]!==void 0?ve=_t[C][q]:ne.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+C+"', '"+q+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=_t.times[q])==null&&(ve=_t.times.normal),ve},sc=h.__private__.putInfo=function(){var C=kr(),q=function(ce){return ce};for(var ne in d!==null&&(q=Hr.encryptor(C,0)),Q("<<"),Q("/Producer ("+Ta(q("jsPDF "+ct.version))+")"),St)St.hasOwnProperty(ne)&&St[ne]&&Q("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Ta(q(St[ne]))+")");Q("/CreationDate ("+Ta(q(G))+")"),Q(">>"),Q("endobj")},Jv=h.__private__.putCatalog=function(C){var q=(C=C||{}).rootDictionaryObjId||Qo;switch(kr(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+q+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Qe;ne.substr(ne.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+P(Qe)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Ge&&Q("/PageMode /"+Ge),$e.publish("putCatalog"),Q(">>"),Q("endobj")},tn=h.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(le+1)),Q("/Root "+le+" 0 R"),Q("/Info "+(le-1)+" 0 R"),d!==null&&Q("/Encrypt "+Hr.oid+" 0 R"),Q("/ID [ <"+Y+"> <"+Y+"> ]"),Q(">>")},Fh=h.__private__.putHeader=function(){Q("%PDF-"+g),Q("%")},Bh=h.__private__.putXRef=function(){var C="0000000000";Q("xref"),Q("0 "+(le+1)),Q("0000000000 65535 f ");for(var q=1;q<=le;q++)typeof se[q]=="function"?Q((C+se[q]()).slice(-10)+" 00000 n "):se[q]!==void 0?Q((C+se[q]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},lo=h.__private__.buildDocument=function(){var C;le=0,ie=0,de=[],se=[],he=[],Qo=yr(),Za=yr(),me(de),$e.publish("buildDocument"),Fh(),Oi(),(function(){$e.publish("putAdditionalObjects");for(var ne=0;ne<he.length;ne++){var ce=he[ne];bn(ce.objId,!0),Q(ce.content),Q("endobj")}$e.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var ne in nt)nt.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&Ks(nt[ne])})(),(function(){var ne;for(ne in ht)ht.hasOwnProperty(ne)&&Zv(ht[ne])})(),(function(){for(var ne in Yt)Yt.hasOwnProperty(ne)&&ac(Yt[ne])})(),(function(ne){var ce;for(ce in ft)ft.hasOwnProperty(ce)&&(ft[ce]instanceof wl?ic(ft[ce]):ft[ce]instanceof Xc&&oc(ft[ce],ne))})(C),$e.publish("putResources"),C.forEach(dd),dd({resourcesOid:Za,objectOid:Number.MAX_SAFE_INTEGER}),$e.publish("postPutResources"),d!==null&&(Hr.oid=kr(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Hr.v),Q("/R "+Hr.r),Q("/U <"+Hr.toHexString(Hr.U)+">"),Q("/O <"+Hr.toHexString(Hr.O)+">"),Q("/P "+Hr.P),Q(">>"),Q("endobj")),sc(),Jv();var q=ie;return Bh(),tn(),Q("startxref"),Q(""+q),Q("%%EOF"),me(ge[U]),de.join(`
`)},Xs=h.__private__.getBlob=function(C){return new Blob([Be(C)],{type:"application/pdf"})},ei=h.output=h.__private__.output=(Tr=function(C,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",C){case void 0:return lo();case"save":h.save(q.filename);break;case"arraybuffer":return Be(lo());case"blob":return Xs(lo());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Xs(lo()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=lo();try{ne=a4(ce)}catch{ne=a4(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+q.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(ve=q.pdfObjectUrl,Ne="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",et=wt.open();return et!==null&&et.document.write(Ee),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',xt=wt.open();if(xt!==null){xt.document.write(ot);var Ct=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=q.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',$r=wt.open();if($r!==null&&($r.document.write(Qt),$r.document.title=q.filename),$r||typeof safari>"u")return $r;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",q);default:return null}},Tr.foo=function(){try{return Tr.apply(this,arguments)}catch(ne){var C=ne.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var q="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ne.message;if(!wt.console)throw new Error(q);wt.console.error(q,ne),wt.alert&&alert(q)}},Tr.foo.bar=Tr,Tr.foo),Zs=function(C){return Array.isArray(vr)===!0&&vr.indexOf(C)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Zs("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Hr=null;oe(),F();var pd=h.__private__.getPageInfo=h.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[C].objId,pageNumber:C,pageContext:vt[C]}},Qv=h.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in vt)if(vt[q].objId===C)break;return pd(q)},e0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:vt[U].objId,pageNumber:U,pageContext:vt[U]}};h.addPage=function(){return Rh.apply(this,arguments),this},h.setPage=function(){return Mh.apply(this,arguments),me.call(this,ge[U]),this},h.insertPage=function(C){return this.addPage(),this.movePage(U,C),this},h.movePage=function(C,q){var ne,ce;if(C>q){ne=ge[C],ce=vt[C];for(var ve=C;ve>q;ve--)ge[ve]=ge[ve-1],vt[ve]=vt[ve-1];ge[q]=ne,vt[q]=ce,this.setPage(q)}else if(C<q){ne=ge[C],ce=vt[C];for(var Ne=C;Ne<q;Ne++)ge[Ne]=ge[Ne+1],vt[Ne]=vt[Ne+1];ge[q]=ne,vt[q]=ce,this.setPage(q)}return this},h.deletePage=function(){return hd.apply(this,arguments),this},h.__private__.text=h.text=function(C,q,ne,ce,ve){var Ne,Ee,et,ot,xt,Ct,Qt,$r,rn,fr=(ce=ce||{}).scope||this;if(typeof C=="number"&&typeof q=="number"&&(typeof ne=="string"||Array.isArray(ne))){var sn=ne;ne=q,q=C,C=sn}if(arguments[3]instanceof qe==0?(et=arguments[4],ot=arguments[5],cr(Qt=arguments[3])==="object"&&Qt!==null||(typeof et=="string"&&(ot=et,et=null),typeof Qt=="string"&&(ot=Qt,Qt=null),typeof Qt=="number"&&(et=Qt,Qt=null),ce={flags:Qt,angle:et,align:ot})):(I("The transform parameter of text() with a Matrix value"),rn=ve),isNaN(q)||isNaN(ne)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return fr;var nn,kn="",fo=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Qs,rs=fr.internal.scaleFactor;function h0(br){return br=br.split("	").join(Array(ce.TabLen||9).join(" ")),Ta(br,Qt)}function zh(br){for(var xr,Gr=br.concat(),Yr=[],go=Gr.length;go--;)typeof(xr=Gr.shift())=="string"?Yr.push(xr):Array.isArray(br)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?Yr.push(xr[0]):Yr.push([xr[0],xr[1],xr[2]]);return Yr}function al(br,xr){var Gr;if(typeof br=="string")Gr=xr(br)[0];else if(Array.isArray(br)){for(var Yr,go,bc=br.concat(),Di=[],Td=bc.length;Td--;)typeof(Yr=bc.shift())=="string"?Di.push(xr(Yr)[0]):Array.isArray(Yr)&&typeof Yr[0]=="string"&&(go=xr(Yr[0],Yr[1],Yr[2]),Di.push([go[0],go[1],go[2]]));Gr=Di}return Gr}var ti=!1,Nd=!0;if(typeof C=="string")ti=!0;else if(Array.isArray(C)){var fc=C.concat();Ee=[];for(var ns,xn=fc.length;xn--;)(typeof(ns=fc.shift())!="string"||Array.isArray(ns)&&typeof ns[0]!="string")&&(Nd=!1);ti=Nd}if(ti===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var ho=ke/fr.internal.scaleFactor,po=ho*(fo-1);switch(ce.baseline){case"bottom":ne-=po;break;case"top":ne+=ho-po;break;case"hanging":ne+=ho-2*po;break;case"middle":ne+=ho/2-po}if((Ct=ce.maxWidth||0)>0&&(typeof C=="string"?C=fr.splitTextToSize(C,Ct):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(br,xr){return br.concat(fr.splitTextToSize(xr,Ct))},[]))),Ne={text:C,x:q,y:ne,options:ce,mutex:{pdfEscape:Ta,activeFontKey:it,fonts:nt,activeFontSize:ke}},$e.publish("preProcessText",Ne),C=Ne.text,et=(ce=Ne.options).angle,rn instanceof qe==0&&et&&typeof et=="number"){et*=Math.PI/180,ce.rotationDirection===0&&(et=-et),_===j&&(et=-et);var hc=Math.cos(et),Ad=Math.sin(et);rn=new qe(hc,Ad,-Ad,hc,0,0)}else et&&et instanceof qe&&(rn=et);_!==j||rn||(rn=ta),(xt=ce.charSpace||uc)!==void 0&&(kn+=E(D(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($r=ce.horizontalScale)!==void 0&&(kn+=E(100*$r)+` Tz
`),ce.lang;var Hn=-1,Wh=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,pc=fr.internal.getCurrentPageInfo().pageContext;switch(Wh){case 0:case!1:case"fill":Hn=0;break;case 1:case!0:case"stroke":Hn=1;break;case 2:case"fillThenStroke":Hn=2;break;case 3:case"invisible":Hn=3;break;case 4:case"fillAndAddForClipping":Hn=4;break;case 5:case"strokeAndAddPathForClipping":Hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hn=6;break;case 7:case"addToPathForClipping":Hn=7}var Hh=pc.usedRenderingMode!==void 0?pc.usedRenderingMode:-1;Hn!==-1?kn+=Hn+` Tr
`:Hh!==-1&&(kn+=`0 Tr
`),Hn!==-1&&(pc.usedRenderingMode=Hn),ot=ce.align||"left";var ln,Ia=ke*fo,kd=fr.internal.pageSize.getWidth(),Pd=nt[it];xt=ce.charSpace||uc,Ct=ce.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var as=[],mc=function(br){return fr.getStringUnitWidth(br,{font:Pd,charSpace:xt,fontSize:ke,doKerning:!1})*ke/rs};if(Object.prototype.toString.call(C)==="[object Array]"){var ra;Ee=zh(C),ot!=="left"&&(ln=Ee.map(mc));var na,il=0;if(ot==="right"){q-=ln[0],C=[],xn=Ee.length;for(var Ii=0;Ii<xn;Ii++)Ii===0?(na=co(q),ra=uo(ne)):(na=D(il-ln[Ii]),ra=-Ia),C.push([Ee[Ii],na,ra]),il=ln[Ii]}else if(ot==="center"){q-=ln[0]/2,C=[],xn=Ee.length;for(var is=0;is<xn;is++)is===0?(na=co(q),ra=uo(ne)):(na=D((il-ln[is])/2),ra=-Ia),C.push([Ee[is],na,ra]),il=ln[is]}else if(ot==="left"){C=[],xn=Ee.length;for(var Cd=0;Cd<xn;Cd++)C.push(Ee[Cd])}else if(ot==="justify"&&Pd.encoding==="Identity-H"){C=[],xn=Ee.length,Ct=Ct!==0?Ct:kd;for(var os=0,Vr=0;Vr<xn;Vr++)if(ra=Vr===0?uo(ne):-Ia,na=Vr===0?co(q):os,Vr<xn-1){var p0=D((Ct-ln[Vr])/(Ee[Vr].split(" ").length-1)),Li=Ee[Vr].split(" ");C.push([Li[0]+" ",na,ra]),os=0;for(var Ri=1;Ri<Li.length;Ri++){var gc=(mc(Li[Ri-1]+" "+Li[Ri])-mc(Li[Ri]))*rs+p0;Ri==Li.length-1?C.push([Li[Ri],gc,0]):C.push([Li[Ri]+" ",gc,0]),os-=gc}}else C.push([Ee[Vr],na,ra]);C.push(["",os,0])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],xn=Ee.length,Ct=Ct!==0?Ct:kd,Vr=0;Vr<xn;Vr++)ra=Vr===0?uo(ne):-Ia,na=Vr===0?co(q):0,Vr<xn-1?as.push(E(D((Ct-ln[Vr])/(Ee[Vr].split(" ").length-1)))):as.push(0),C.push([Ee[Vr],na,ra])}}(typeof ce.R2L=="boolean"?ce.R2L:Ke)===!0&&(C=al(C,function(br,xr,Gr){return[br.split("").reverse().join(""),xr,Gr]})),Ne={text:C,x:q,y:ne,options:ce,mutex:{pdfEscape:Ta,activeFontKey:it,fonts:nt,activeFontSize:ke}},$e.publish("postProcessText",Ne),C=Ne.text,nn=Ne.mutex.isHex||!1;var Od=nt[it].encoding;Od!=="WinAnsiEncoding"&&Od!=="StandardEncoding"||(C=al(C,function(br,xr,Gr){return[h0(br),xr,Gr]})),Ee=zh(C),C=[];for(var vc,yc,ol,sl=Array.isArray(Ee[0])?1:0,mo="",Ed=function(br,xr,Gr){var Yr="";return Gr instanceof qe?(Gr=typeof ce.angle=="number"?Fr(Gr,new qe(1,0,0,1,br,xr)):Fr(new qe(1,0,0,1,br,xr),Gr),_===j&&(Gr=Fr(new qe(1,0,0,-1,0,0),Gr)),Yr=Gr.join(" ")+` Tm
`):Yr=E(br)+" "+E(xr)+` Td
`,Yr},pa=0;pa<Ee.length;pa++){switch(mo="",sl){case 1:ol=(nn?"<":"(")+Ee[pa][0]+(nn?">":")"),vc=parseFloat(Ee[pa][1]),yc=parseFloat(Ee[pa][2]);break;case 0:ol=(nn?"<":"(")+Ee[pa]+(nn?">":")"),vc=co(q),yc=uo(ne)}as!==void 0&&as[pa]!==void 0&&(mo=as[pa]+` Tw
`),pa===0?C.push(mo+Ed(vc,yc,rn)+ol):sl===0?C.push(mo+ol):sl===1&&C.push(mo+Ed(vc,yc,rn)+ol)}C=sl===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Mi=`BT
/`;return Mi+=it+" "+ke+` Tf
`,Mi+=E(ke*fo)+` TL
`,Mi+=el+`
`,Mi+=kn,Mi+=C,Q(Mi+="ET"),p[it]=!0,fr};var t0=h.__private__.clip=h.clip=function(C){return Q(C==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return t0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Q("n"),this};var Ei=h.__private__.isValidStyle=function(C){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(q=!0),q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(C){return Ei(C)&&(u=C),this};var qh=h.__private__.getStyle=h.getStyle=function(C){var q=u;switch(C){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=C}return q},Uh=h.close=function(){return Q("h"),this};h.stroke=function(){return Q("S"),this},h.fill=function(C){return es("f",C),this},h.fillEvenOdd=function(C){return es("f*",C),this},h.fillStroke=function(C){return es("B",C),this},h.fillStrokeEvenOdd=function(C){return es("B*",C),this};var es=function(C,q){cr(q)==="object"?n0(q,C):Q(C)},md=function(C){C===null||_===j&&C===void 0||(C=qh(C),Q(C))};function r0(C,q,ne,ce,ve){var Ne=new Xc(q||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);Ne.stream=this.stream;var Ee=C+"$$"+this.cloneIndex+++"$$";return Er(Ee,Ne),Ne}var n0=function(C,q){var ne=Mt[C.key],ce=ft[ne];if(ce instanceof wl)Q("q"),Q(a0(q)),ce.gState&&h.setGState(ce.gState),Q(C.matrix.toString()+" cm"),Q("/"+ne+" sh"),Q("Q");else if(ce instanceof Xc){var ve=new qe(1,0,0,-1,0,ha());C.matrix&&(ve=ve.multiply(C.matrix||ta),ne=r0.call(ce,C.key,C.boundingBox,C.xStep,C.yStep,ve).id),Q("q"),Q("/Pattern cs"),Q("/"+ne+" scn"),ce.gState&&h.setGState(ce.gState),Q(q),Q("Q")}},a0=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gd=h.moveTo=function(C,q){return Q(E(D(C))+" "+E(M(q))+" m"),this},Js=h.lineTo=function(C,q){return Q(E(D(C))+" "+E(M(q))+" l"),this},ts=h.curveTo=function(C,q,ne,ce,ve,Ne){return Q([E(D(C)),E(M(q)),E(D(ne)),E(M(ce)),E(D(ve)),E(M(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(C,q,ne,ce,ve){if(isNaN(C)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Ei(ve))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[ne-C,ce-q]],C,q,[1,1],ve||"S"):this.lines([[ne-C,ce-q]],C,q,[1,1]).stroke()},h.__private__.lines=h.lines=function(C,q,ne,ce,ve,Ne){var Ee,et,ot,xt,Ct,Qt,$r,rn,fr,sn,nn,kn;if(typeof C=="number"&&(kn=ne,ne=q,q=C,C=kn),ce=ce||[1,1],Ne=Ne||!1,isNaN(q)||isNaN(ne)||!Array.isArray(C)||!Array.isArray(ce)||!Ei(ve)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gd(q,ne),Ee=ce[0],et=ce[1],xt=C.length,sn=q,nn=ne,ot=0;ot<xt;ot++)(Ct=C[ot]).length===2?(sn=Ct[0]*Ee+sn,nn=Ct[1]*et+nn,Js(sn,nn)):(Qt=Ct[0]*Ee+sn,$r=Ct[1]*et+nn,rn=Ct[2]*Ee+sn,fr=Ct[3]*et+nn,sn=Ct[4]*Ee+sn,nn=Ct[5]*et+nn,ts(Qt,$r,rn,fr,sn,nn));return Ne&&Uh(),md(ve),this},h.path=function(C){for(var q=0;q<C.length;q++){var ne=C[q],ce=ne.c;switch(ne.op){case"m":gd(ce[0],ce[1]);break;case"l":Js(ce[0],ce[1]);break;case"c":ts.apply(this,ce);break;case"h":Uh()}}return this},h.__private__.rect=h.rect=function(C,q,ne,ce,ve){if(isNaN(C)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Ei(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(ce=-ce),Q([E(D(C)),E(M(q)),E(D(ne)),E(D(ce)),"re"].join(" ")),md(ve),this},h.__private__.triangle=h.triangle=function(C,q,ne,ce,ve,Ne,Ee){if(isNaN(C)||isNaN(q)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Ne)||!Ei(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-C,ce-q],[ve-ne,Ne-ce],[C-ve,q-Ne]],C,q,[1,1],Ee,!0),this},h.__private__.roundedRect=h.roundedRect=function(C,q,ne,ce,ve,Ne,Ee){if(isNaN(C)||isNaN(q)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Ne)||!Ei(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Ne=Math.min(Ne,.5*ce),this.lines([[ne-2*ve,0],[ve*et,0,ve,Ne-Ne*et,ve,Ne],[0,ce-2*Ne],[0,Ne*et,-ve*et,Ne,-ve,Ne],[2*ve-ne,0],[-ve*et,0,-ve,-Ne*et,-ve,-Ne],[0,2*Ne-ce],[0,-Ne*et,ve*et,-Ne,ve,-Ne]],C+ve,q,[1,1],Ee,!0),this},h.__private__.ellipse=h.ellipse=function(C,q,ne,ce,ve){if(isNaN(C)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Ei(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*ne,Ee=4/3*(Math.SQRT2-1)*ce;return gd(C+ne,q),ts(C+ne,q-Ee,C+Ne,q-ce,C,q-ce),ts(C-Ne,q-ce,C-ne,q-Ee,C-ne,q),ts(C-ne,q+Ee,C-Ne,q+ce,C,q+ce),ts(C+Ne,q+ce,C+ne,q+Ee,C+ne,q),md(ve),this},h.__private__.circle=h.circle=function(C,q,ne,ce){if(isNaN(C)||isNaN(q)||isNaN(ne)||!Ei(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,q,ne,ne,ce)},h.setFont=function(C,q,ne){return ne&&(q=A(q,ne)),it=$h(C,q,{disableWarning:!1}),this};var i0=h.__private__.getFont=h.getFont=function(){return nt[$h.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var C,q,ne={};for(C in _t)if(_t.hasOwnProperty(C))for(q in ne[C]=[],_t[C])_t[C].hasOwnProperty(q)&&ne[C].push(q);return ne},h.addFont=function(C,q,ne,ce,ve){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(ne=A(ne,ce)),Lh.call(this,C,q,ne,ve=ve||"Identity-H")};var Qs,vd=t.lineWidth||.200025,Nt=h.__private__.getLineWidth=h.getLineWidth=function(){return vd},o0=h.__private__.setLineWidth=h.setLineWidth=function(C){return vd=C,Q(E(D(C))+" w"),this};h.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(C,q){if(C=C||[],q=q||0,isNaN(q)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ne){return E(D(ne))}).join(" "),q=E(D(q)),Q("["+C+"] "+q+" d"),this};var s0=h.__private__.getLineHeight=h.getLineHeight=function(){return ke*Qs};h.__private__.getLineHeight=h.getLineHeight=function(){return ke*Qs};var l0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Qs=C),this},c0=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Qs};l0(t.lineHeight);var co=h.__private__.getHorizontalCoordinate=function(C){return D(C)},uo=h.__private__.getVerticalCoordinate=function(C){return _===j?C:vt[U].mediaBox.topRightY-vt[U].mediaBox.bottomLeftY-D(C)},u0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(C){return E(co(C))},d0=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(C){return E(uo(C))},lc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ci(lc)},h.__private__.setStrokeColor=h.setDrawColor=function(C,q,ne,ce){return lc=Ja({ch1:C,ch2:q,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),Q(lc),this};var yd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ci(yd)},h.__private__.setFillColor=h.setFillColor=function(C,q,ne,ce){return yd=Ja({ch1:C,ch2:q,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),Q(yd),this};var el=t.textColor||"0 g",cc=h.__private__.getTextColor=h.getTextColor=function(){return Ci(el)};h.__private__.setTextColor=h.setTextColor=function(C,q,ne,ce){return el=Ja({ch1:C,ch2:q,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var uc=t.charSpace,f0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(uc||0)};h.__private__.setCharSpace=h.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uc=C,this};var bd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(C){var q=h.CapJoinStyles[C];if(q===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bd=q,Q(q+" J"),this};var xd=0;h.__private__.setLineJoin=h.setLineJoin=function(C){var q=h.CapJoinStyles[C];if(q===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xd=q,Q(q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(E(D(C))+" M"),this},h.GState=vm,h.setGState=function(C){(C=typeof C=="string"?ht[Mr[C]]:tl(null,C)).equals(Wr)||(Q("/"+C.id+" gs"),Wr=C)};var tl=function(C,q){if(!C||!Mr[C]){var ne=!1;for(var ce in ht)if(ht.hasOwnProperty(ce)&&ht[ce].equals(q)){ne=!0;break}if(ne)q=ht[ce];else{var ve="GS"+(Object.keys(ht).length+1).toString(10);ht[ve]=q,q.id=ve}return C&&(Mr[C]=q.id),$e.publish("addGState",q),q}};h.addGState=function(C,q){return tl(C,q),this},h.saveGraphicsState=function(){return Q("q"),tr.push({key:it,size:ke,color:el}),this},h.restoreGraphicsState=function(){Q("Q");var C=tr.pop();return it=C.key,ke=C.size,el=C.color,Wr=null,this},h.setCurrentTransformationMatrix=function(C){return Q(C.toString()+" cm"),this},h.comment=function(C){return Q("#"+C),this};var rl=function(C,q){var ne=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ne){isNaN(Ne)||(ne=parseFloat(Ne))}});var ce=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ne){ve=Ne.toString()}}),this},wd=function(C,q,ne,ce){rl.call(this,C,q),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ee){isNaN(Ee)||(ve=parseFloat(Ee))}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Ee){isNaN(Ee)||(Ne=parseFloat(Ee))}}),this},dc=function(){this.page=rr,this.currentPage=U,this.pages=ge.slice(0),this.pagesContext=vt.slice(0),this.x=st,this.y=Vt,this.matrix=Gt,this.width=jd(U),this.height=ha(U),this.outputDestination=Pe,this.id="",this.objectNumber=-1};dc.prototype.restore=function(){rr=this.page,U=this.currentPage,vt=this.pagesContext,ge=this.pages,st=this.x,Vt=this.y,Gt=this.matrix,Sd(U,this.width),Ti(U,this.height),Pe=this.outputDestination};var _d=function(C,q,ne,ce,ve){Wn.push(new dc),rr=U=0,ge=[],st=C,Vt=q,Gt=ve,fd([ne,ce])};for(var nl in h.beginFormObject=function(C,q,ne,ce,ve){return _d(C,q,ne,ce,ve),this},h.endFormObject=function(C){return(function(q){if(Dr[q])Wn.pop().restore();else{var ne=new dc,ce="Xo"+(Object.keys(Yt).length+1).toString(10);ne.id=ce,Dr[q]=ce,Yt[ce]=ne,$e.publish("addFormObject",ne),Wn.pop().restore()}})(C),this},h.doFormObject=function(C,q){var ne=Yt[Dr[C]];return Q("q"),Q(q.toString()+" cm"),Q("/"+ne.id+" Do"),Q("Q"),this},h.getFormObject=function(C){var q=Yt[Dr[C]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},h.save=function(C,q){return C=C||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(gl(Xs(lo()),C),typeof gl.unload=="function"&&wt.setTimeout&&setTimeout(gl.unload,911),this):new Promise(function(ne,ce){try{var ve=gl(Xs(lo()),C);typeof gl.unload=="function"&&wt.setTimeout&&setTimeout(gl.unload,911),ne(ve)}catch(Ne){ce(Ne.message)}})},ct.API)ct.API.hasOwnProperty(nl)&&(nl==="events"&&ct.API.events.length?(function(C,q){var ne,ce,ve;for(ve=q.length-1;ve!==-1;ve--)ne=q[ve][0],ce=q[ve][1],C.subscribe.apply(C,[ne].concat(typeof ce=="function"?[ce]:ce))})($e,ct.API.events):h[nl]=ct.API[nl]);var jd=h.getPageWidth=function(C){return(vt[C=C||U].mediaBox.topRightX-vt[C].mediaBox.bottomLeftX)/dt},Sd=h.setPageWidth=function(C,q){vt[C].mediaBox.topRightX=q*dt+vt[C].mediaBox.bottomLeftX},ha=h.getPageHeight=function(C){return(vt[C=C||U].mediaBox.topRightY-vt[C].mediaBox.bottomLeftY)/dt},Ti=h.setPageHeight=function(C,q){vt[C].mediaBox.topRightY=q*dt+vt[C].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ta,getStyle:qh,getFont:i0,getFontSize:Re,getCharSpace:f0,getTextColor:cc,getLineHeight:s0,getLineHeightFactor:c0,getLineWidth:Nt,write:Ve,getHorizontalCoordinate:co,getVerticalCoordinate:uo,getCoordinateString:u0,getVerticalCoordinateString:d0,collections:{},newObject:kr,newAdditionalObject:Gs,newObjectDeferred:yr,newObjectDeferredBegin:bn,getFilters:Qa,putStream:Ea,events:$e,scaleFactor:dt,pageSize:{getWidth:function(){return jd(U)},setWidth:function(C){Sd(U,C)},getHeight:function(){return ha(U)},setHeight:function(C){Ti(U,C)}},encryptionOptions:d,encryption:Hr,getEncryptor:function(C){return d!==null?Hr.encryptor(C,0):function(q){return q}},output:ei,getNumberOfPages:Dh,pages:ge,out:Q,f2:P,f3:O,getPageInfo:pd,getPageInfoByObjId:Qv,getCurrentPageInfo:e0,getPDFVersion:m,Point:rl,Rectangle:wd,Matrix:qe,hasHotfix:Zs},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return jd(U)},set:function(C){Sd(U,C)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ha(U)},set:function(C){Ti(U,C)},enumerable:!0,configurable:!0}),(function(C){for(var q=0,ne=Ue.length;q<ne;q++){var ce=Lh.call(this,C[q][0],C[q][1],C[q][2],Ue[q][3],!0);f===!1&&(p[ce]=!0);var ve=C[q][0].split("-");Ih({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}$e.publish("addFonts",{fonts:nt,dictionary:_t})}).call(h,Ue),it="F1",Rh(a,r),$e.publish("initialized"),h}Gc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Gc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Gc.prototype.processOwnerPassword=function(t,e){return f2(d2(e).substr(0,5),t)},Gc.prototype.encryptor=function(t,e){var r=d2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return f2(r,n)}},vm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||cr(t)!==cr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ct.API={events:[]},ct.version="3.0.2";var Ur=ct.API,C_=1,Jl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},gs=function(t){return t.toFixed(5)};Ur.__acroform__={};var da=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},l4=function(t){return t*C_},Bi=function(t){var e=new W8,r=Je.internal.getHeight(t)||0,n=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(n)),Number(At(r))],e},tK=Ur.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},rK=Ur.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},nK=Ur.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zr=Ur.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nK(t,e-1)},Jr=Ur.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tK(t,e-1)},Qr=Ur.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rK(t,e-1)},aK=Ur.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],s=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+s)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(At(c.lowerLeft_X)),Number(At(c.lowerLeft_Y)),Number(At(c.upperRight_X)),Number(At(c.upperRight_Y))]},iK=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=h2(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+At(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Bi(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},h2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=Je.internal.getHeight(t)||0;o=o<0?-o:o;var s=Je.internal.getWidth(t)||0;s=s<0?-s:s;var c=function(P,O,D){if(P+1<a.length){var M=O+" "+a[P+1][0];return Op(M,t,D).width<=s-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=Op("3",t,i).height,p=t.multiline?o-i:(o-f)/2,h=p+=2,g=0,m=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Op(e,t,i=12).width+", FieldWidth:"+s+`
`;break}for(var b="",w=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var _=!1;if(a[j].length!==1&&v!==a[j].length-1){if((f+2)*(w+2)+2>o)continue e;b+=a[j][v],_=!0,m=j,j--}else{b=(b+=a[j][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var S=parseInt(j),k=c(S,b,i),A=j>=a.length-1;if(k&&!A){b+=" ",v=0;continue}if(k||A){if(A)m=S;else if(t.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>o)continue e;m=S}}for(var E="",I=g;I<=m;I++){var L=a[I];if(t.multiline){if(I===m){E+=L[v]+" ",v=(v+1)%L.length;continue}if(I===g){E+=L[L.length-1]+" ";continue}}E+=L[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=Op(E,t,i).width,t.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;default:u=2}e+=At(u)+" "+At(h)+` Td
`,e+="("+Jl(E)+`) Tj
`,e+=-At(u)+` 0 Td
`,h=-(i+2),d=0,g=_?m:m+1,w++,b=""}break}return n.text=e,n.fontSize=i,n},Op=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},oK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sK=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},lK=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ni.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oK)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");C_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new H8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&sK(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],c=[],u=s.Rect;if(s.Rect&&(s.Rect=aK(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Je.createDefaultAppearanceStream(s),cr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(c=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=iK(s);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(a,s)),f+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,s)),f+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:s.objId}),a.internal.out("endobj")}i&&(function(m,v){for(var b in m)if(m.hasOwnProperty(b)){var w=b,j=m[b];v.internal.newObjectDeferredBegin(j.objId,!0),cr(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete m[w]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},z8=Ur.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),cr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Jl(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gy=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Jl(n(t))+")"},Wi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wi.prototype.toString=function(){return this.objId+" 0 R"},Wi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Wi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:z8(a,this.objId,this.scope)}):a instanceof Wi?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var W8=function(){Wi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};da(W8,Wi);var H8=function(){Wi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Jl(r(t))+")"}},set:function(r){t=r}})};da(H8,Wi);var Ni=function t(){Wi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zr(e,3)},set:function(b){b?this.F=Jr(e,3):this.F=Qr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ym)return;i="FieldObject"+t.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Jl(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/C_:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ym||this instanceof El))return gy(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof jn==0?gy(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof jn==0?b.substr(0,1)==="("?Mc(b.substr(1,b.length-2)):Mc(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn==1?Mc(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof jn==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof jn==0?gy(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof jn==0?b.substr(0,1)==="("?Mc(b.substr(1,b.length-2)):Mc(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn==1?Mc(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof jn==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(b){b=!!b,m=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,1)},set:function(b){b?this.Ff=Jr(this.Ff,1):this.Ff=Qr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,2)},set:function(b){b?this.Ff=Jr(this.Ff,2):this.Ff=Qr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,3)},set:function(b){b?this.Ff=Jr(this.Ff,3):this.Ff=Qr(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};da(Ni,Wi);var au=function(){Ni.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z8(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,o,s){s||(s=1);for(var c,u=[];c=o.exec(i);)u.push(c[s]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,18)},set:function(r){r?this.Ff=Jr(this.Ff,18):this.Ff=Qr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Jr(this.Ff,19):this.Ff=Qr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,20)},set:function(r){r?(this.Ff=Jr(this.Ff,20),e.sort()):this.Ff=Qr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,22)},set:function(r){r?this.Ff=Jr(this.Ff,22):this.Ff=Qr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(r){r?this.Ff=Jr(this.Ff,23):this.Ff=Qr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,27)},set:function(r){r?this.Ff=Jr(this.Ff,27):this.Ff=Qr(this.Ff,27)}}),this.hasAppearanceStream=!1};da(au,Ni);var iu=function(){au.call(this),this.fontName="helvetica",this.combo=!1};da(iu,au);var ou=function(){iu.call(this),this.combo=!0};da(ou,iu);var rm=function(){ou.call(this),this.edit=!0};da(rm,ou);var jn=function(){Ni.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,15)},set:function(r){r?this.Ff=Jr(this.Ff,15):this.Ff=Qr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,16)},set:function(r){r?this.Ff=Jr(this.Ff,16):this.Ff=Qr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,17)},set:function(r){r?this.Ff=Jr(this.Ff,17):this.Ff=Qr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(r){r?this.Ff=Jr(this.Ff,26):this.Ff=Qr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Jl(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){cr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};da(jn,Ni);var nm=function(){jn.call(this),this.pushButton=!0};da(nm,jn);var su=function(){jn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};da(su,jn);var ym=function(){var t,e;Ni.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Jl(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){cr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};da(ym,Ni),su.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},su.prototype.createOption=function(t){var e=new ym;return e.Parent=this,e.optionName=t,this.Kids.push(e),cK.call(this.scope,e),e};var am=function(){jn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};da(am,jn);var El=function(){Ni.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,13)},set:function(e){e?this.Ff=Jr(this.Ff,13):this.Ff=Qr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,21)},set:function(e){e?this.Ff=Jr(this.Ff,21):this.Ff=Qr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Qr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,24)},set:function(e){e?this.Ff=Jr(this.Ff,24):this.Ff=Qr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,25)},set:function(e){e?this.Ff=Jr(this.Ff,25):this.Ff=Qr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Qr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};da(El,Ni);var im=function(){El.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,14)},set:function(t){t?this.Ff=Jr(this.Ff,14):this.Ff=Qr(this.Ff,14)}}),this.password=!0};da(im,El);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=h2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+At(Je.internal.getWidth(t))+" "+At(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+At(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Bi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Je.internal.getHeight(t),o=Je.internal.getWidth(t),s=h2(t,t.caption);return a.push("1 g"),a.push("0 0 "+At(o)+" "+At(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+At(o-1)+" "+At(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+At(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Je.internal.getWidth(t))+" "+At(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Je.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+gs(Je.internal.getWidth(t)/2)+" "+gs(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Je.internal.Bezier_C).toFixed(5)),o=Number((n*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gs(Je.internal.getWidth(t)/2)+" "+gs(Je.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+gs(Je.internal.getWidth(t)/2)+" "+gs(Je.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Je.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gs(Je.internal.getWidth(t)/2)+" "+gs(Je.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Je.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+At(Je.internal.getWidth(t)-2)+" "+At(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=Je.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Je.internal.getWidth(t))+" "+At(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+At(Je.internal.getWidth(t)-2)+" "+At(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Je.internal.getWidth(t))+" "+At(Je.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),r=Je.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Je.internal.getWidth=function(t){var e=0;return cr(t)==="object"&&(e=l4(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return cr(t)==="object"&&(e=l4(t.Rect[3])),e};var cK=Ur.addField=function(t){if(lK(this,t),!(t instanceof Ni))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ur.AcroFormChoiceField=au,Ur.AcroFormListBox=iu,Ur.AcroFormComboBox=ou,Ur.AcroFormEditBox=rm,Ur.AcroFormButton=jn,Ur.AcroFormPushButton=nm,Ur.AcroFormRadioButton=su,Ur.AcroFormCheckBox=am,Ur.AcroFormTextField=El,Ur.AcroFormPasswordField=im,Ur.AcroFormAppearance=Je,Ur.AcroForm={ChoiceField:au,ListBox:iu,ComboBox:ou,EditBox:rm,Button:jn,PushButton:nm,RadioButton:su,CheckBox:am,TextField:El,PasswordField:im,Appearance:Je},ct.AcroForm={ChoiceField:au,ListBox:iu,ComboBox:ou,EditBox:rm,Button:jn,PushButton:nm,RadioButton:su,CheckBox:am,TextField:El,PasswordField:im,Appearance:Je};ct.AcroForm;function V8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(P,O){var D,M,G,Y,W,F=r;if((O=O||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(k(P))for(W in n)for(G=n[W],D=0;D<G.length;D+=1){for(Y=!0,M=0;M<G[D].length;M+=1)if(G[D][M]!==void 0&&G[D][M]!==P[M]){Y=!1;break}if(Y===!0){F=W;break}}else for(W in n)for(G=n[W],D=0;D<G.length;D+=1){for(Y=!0,M=0;M<G[D].length;M+=1)if(G[D][M]!==void 0&&G[D][M]!==P.charCodeAt(M)){Y=!1;break}if(Y===!0){F=W;break}}return F===r&&O!==r&&(F=O),F},i=function P(O){for(var D=this.internal.write,M=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:O.width}),Y.push({key:"Height",value:O.height}),O.colorSpace===b.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===b.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var W="",F=0,ae=O.transparency.length;F<ae;F++)W+=O.transparency[F]+" "+O.transparency[F]+" ";Y.push({key:"Mask",value:"["+W+"]"})}O.sMask!==void 0&&Y.push({key:"SMask",value:O.objectId+1+" 0 R"});var re=O.filter!==void 0?["/"+O.filter]:void 0;if(M({data:O.data,additionalKeyValues:Y,alreadyAppliedFilters:re,objectId:O.objectId}),D("endobj"),"sMask"in O&&O.sMask!==void 0){var oe=(O.predictor!=null?"/Predictor "+O.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+O.width,$={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:oe,data:O.sMask};"filter"in O&&($.filter=O.filter),P.call(this,$)}if(O.colorSpace===b.INDEXED){var U=this.internal.newObject();M({data:E(new Uint8Array(O.palette)),objectId:U}),D("endobj")}},o=function(){var P=this.internal.collections[e+"images"];for(var O in P)i.call(this,P[O])},s=function(){var P,O=this.internal.collections[e+"images"],D=this.internal.write;for(var M in O)D("/I"+(P=O[M]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},p=function(P){return cr(P)==="object"&&P.nodeType===1},h=function(P,O){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var D=""+P.getAttribute("src");if(D.indexOf("data:image/")===0)return tm(unescape(D).split("base64,").pop());var M=t.loadFile(D,!0);if(M!==void 0)return M}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var G;switch(O){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return tm(P.toDataURL(G,1).split("base64,").pop())}},g=function(P){var O=this.internal.collections[e+"images"];if(O){for(var D in O)if(P===O[D].alias)return O[D]}},m=function(P,O,D){return P||O||(P=-96,O=-96),P<0&&(P=-1*D.width*72/P/this.internal.scaleFactor),O<0&&(O=-1*D.height*72/O/this.internal.scaleFactor),P===0&&(P=O*D.width/D.height),O===0&&(O=P*D.height/D.width),[P,O]},v=function(P,O,D,M,G,Y){var W=m.call(this,D,M,G),F=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,re=u.call(this);if(D=W[0],M=W[1],re[G.index]=G,Y){Y*=Math.PI/180;var oe=Math.cos(Y),$=Math.sin(Y),U=function(J){return J.toFixed(4)},z=[U(oe),U($),U(-1*$),U(oe),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,F(P),ae(O+M),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([F(D),"0","0",F(M),"0","0","cm"].join(" "))):this.internal.write([F(D),"0","0",F(M),F(P),ae(O+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(P){var O,D,M=0;if(typeof P=="string")for(D=P.length,O=0;O<D;O++)M=(M<<5)-M+P.charCodeAt(O),M|=0;else if(k(P))for(D=P.byteLength/2,O=0;O<D;O++)M=(M<<5)-M+P[O],M|=0;return M},_=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var O=!0;return P.length===0&&(O=!1),P.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(O=!1),O},S=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var O=P.indexOf(",");return O<0?null:P.substring(0,O).trim().endsWith("base64")?P.substring(O+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},A=t.__addimage__.binaryStringToUint8Array=function(P){for(var O=P.length,D=new Uint8Array(O),M=0;M<O;M++)D[M]=P.charCodeAt(M);return D},E=t.__addimage__.arrayBufferToBinaryString=function(P){for(var O="",D=k(P)?P:new Uint8Array(P),M=0;M<D.length;M+=8192)O+=String.fromCharCode.apply(null,D.subarray(M,M+8192));return O};t.addImage=function(){var P,O,D,M,G,Y,W,F,ae;if(typeof arguments[1]=="number"?(O=r,D=arguments[1],M=arguments[2],G=arguments[3],Y=arguments[4],W=arguments[5],F=arguments[6],ae=arguments[7]):(O=arguments[1],D=arguments[2],M=arguments[3],G=arguments[4],Y=arguments[5],W=arguments[6],F=arguments[7],ae=arguments[8]),cr(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var re=P;P=re.imageData,O=re.format||O||r,D=re.x||D||0,M=re.y||M||0,G=re.w||re.width||G,Y=re.h||re.height||Y,W=re.alias||W,F=re.compression||F,ae=re.rotation||re.angle||ae}var oe=this.internal.getFilters();if(F===void 0&&oe.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(D)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var $=I.call(this,P,O,W,F);return v.call(this,D,M,G,Y,$,ae),this};var I=function(P,O,D,M){var G,Y,W;if(typeof P=="string"&&a(P)===r){P=unescape(P);var F=L(P,!1);(F!==""||(F=t.loadFile(P,!0))!==void 0)&&(P=F)}if(p(P)&&(P=h(P,O)),O=a(P,O),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((W=D)==null||W.length===0)&&(D=(function(ae){return typeof ae=="string"||k(ae)?j(ae):k(ae.data)?j(ae.data):null})(P)),(G=g.call(this,D))||(P instanceof Uint8Array||O==="RGBA"||(Y=P,P=A(P)),G=this["process"+O.toUpperCase()](P,d.call(this),D,(function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:w.NONE})(M),Y)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},L=t.__addimage__.convertBase64ToBinaryString=function(P,O){O=typeof O!="boolean"||O;var D,M="";if(typeof P=="string"){var G;D=(G=S(P))!==null&&G!==void 0?G:P;try{M=tm(D)}catch(Y){if(O)throw _(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(P){var O,D,M="";if(p(P)&&(P=h(P)),typeof P=="string"&&a(P)===r&&((M=L(P,!1))===""&&(M=t.loadFile(P)||""),P=M),D=a(P),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(P instanceof Uint8Array||(P=A(P)),!(O=this["process"+D.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=D,O}})(ct.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(b(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(b(w))+") >>",m.content=i;var j=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var k=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+k+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var s=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,s,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,s,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(ct.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},s=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var v=0,b=r,w="",j=0;for(v=0;v<m.length;v+=1)b[m.charCodeAt(v)]!==void 0?(j++,typeof(b=b[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(b),b=r,j=0),v===m.length-1&&(b=r,w+=m.charAt(v-(j-1)),v-=j-1,j=0)):(b=r,w+=m.charAt(v-j),v-=j,j=0);return w};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,v,b){return o(m)?i(m)===!1?-1:!u(m)||!o(v)&&!o(b)||!o(b)&&s(v)||s(m)&&!o(v)||s(m)&&c(v)||s(m)&&s(v)?0:d(m)&&o(v)&&!s(v)&&o(b)&&u(b)?3:s(m)||!o(b)?1:2:-1},h=function(m){var v=0,b=0,w=0,j="",_="",S="",k=(m=m||"").split("\\s+"),A=[];for(v=0;v<k.length;v+=1){for(A.push(""),b=0;b<k[v].length;b+=1)j=k[v][b],_=k[v][b-1],S=k[v][b+1],o(j)?(w=p(j,_,S),A[v]+=w!==-1?String.fromCharCode(e[j.charCodeAt(0)][w]):j):A[v]+=j;A[v]=f(A[v])}return A.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var w=0;for(b=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?b.push([h(v[w][0]),v[w][1],v[w][2]]):b.push([h(v[w])]);m=b}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])})(ct.API),ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ct.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,_){return j.concat(v.splitTextToSize(_,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(m=this.getStringUnitWidth(c[w],{font:f})*d)&&(h=m);return h!==0&&(g=c.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,m,v,b=[],w=[],j=[],_={},S={},k=[],A=[],E=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},e),O=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",M=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=M,this.setFontSize(L),f==null)w=b=Object.keys(d[0]),j=b.map(function(){return"left"});else if(Array.isArray(f)&&cr(f[0])==="object")for(b=f.map(function(re){return re.name}),w=f.map(function(re){return re.prompt||re.name||""}),j=f.map(function(re){return re.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=b=f,j=b.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(_[v=b[h]]=d.map(function(re){return re[v]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)k.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,k)+O+O,k=[]}if(I){var G={};for(h=0;h<b.length;h+=1)G[b[h]]={},G[b[h]].text=w[h],G[b[h]].align=j[h];var Y=s.call(this,G,S);A=b.map(function(re){return new i(c,u,S[re],Y,G[re].text,void 0,G[re].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var W=f.reduce(function(re,oe){return re[oe.name]=oe.align,re},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var F=s.call(this,d[h],S);for(m=0;m<b.length;m+=1){var ae=d[h][b[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:ae},this),o.call(this,new i(c,u,S[b[m]],F,ae,h+2,W[b[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var s=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(ct.API);var G8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],p2=V8(Y8),K8=[100,200,300,400,500,600,700,800,900],uK=V8(K8);function vy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return G8[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof p2[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function c4(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var dK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function d4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function f4(t){return t.trimLeft()}function fK(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function hK(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ep,h4,p4,Dc,Tp,m4,g4,v4,yy=["times"];function y4(t,e,r,n){var a=4,i=x4;switch(n){case ct.API.image_compression.FAST:a=1,i=b4;break;case ct.API.image_compression.MEDIUM:a=6,i=w4;break;case ct.API.image_compression.SLOW:a=9,i=_4}t=(function(s,c,u,d){for(var f,p=s.length/c,h=new Uint8Array(s.length+p),g=[pK,b4,x4,w4,_4],m=0;m<p;m+=1){var v=m*c,b=s.subarray(v,v+c);if(d)h.set(d(b,u,f),v+m);else{for(var w=g.length,j=[],_=0;_<w;_+=1)j[_]=g[_](b,u,f);var S=gK(j.concat());h.set(j[S],v+m)}f=b}return h})(t,e,r,i);var o=s2(t,{level:a});return ct.API.__addimage__.arrayBufferToBinaryString(o)}function pK(t){var e=Array.apply([],t);return e.unshift(0),e}function b4(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function x4(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=t[i]-o+256&255}return a}function w4(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,s=r&&r[i]||0;a[i+1]=t[i]+256-(o+s>>>1)&255}return a}function _4(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=mK(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function mK(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function gK(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function by(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return X8(t,a)>>i&o}function j4(t,e,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),s=(1<<n)-1,c=(e&s)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,i,X8(t,i)&~(s<<o)&65535|c)}function X8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function vK(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var s=null,c=null;i&&(s=e,c=o,e+=3*o);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,_=t[e++],S=_>>6&1,k=1<<1+(7&_),A=s,E=c,I=!1;_>>7&&(I=!0,A=e,E=k,e+=3*k);var L=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:v,y:b,width:w,height:j,has_local_palette:I,palette_offset:A,palette_size:E,data_offset:L,data_length:e-L,transparent_index:p,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,D){var M=this.frameInfo(O),G=M.width*M.height,Y=new Uint8Array(G);S4(t,M.data_offset,Y,G);var W=M.palette_offset,F=M.transparent_index;F===null&&(F=256);var ae=M.width,re=r-ae,oe=ae,$=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),z=$,J=4*re;M.interlaced===!0&&(J+=4*r*7);for(var le=8,se=0,de=Y.length;se<de;++se){var ie=Y[se];if(oe===0&&(oe=ae,(z+=J)>=U&&(J=4*re+4*r*(le-1),z=$+(ae+re)*(le<<1),le>>=1)),ie===F)z+=4;else{var he=t[W+3*ie],ge=t[W+3*ie+1],ue=t[W+3*ie+2];D[z++]=ue,D[z++]=ge,D[z++]=he,D[z++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(O,D){var M=this.frameInfo(O),G=M.width*M.height,Y=new Uint8Array(G);S4(t,M.data_offset,Y,G);var W=M.palette_offset,F=M.transparent_index;F===null&&(F=256);var ae=M.width,re=r-ae,oe=ae,$=4*(M.y*r+M.x),U=4*((M.y+M.height)*r+M.x),z=$,J=4*re;M.interlaced===!0&&(J+=4*r*7);for(var le=8,se=0,de=Y.length;se<de;++se){var ie=Y[se];if(oe===0&&(oe=ae,(z+=J)>=U&&(J=4*re+4*r*(le-1),z=$+(ae+re)*(le<<1),le>>=1)),ie===F)z+=4;else{var he=t[W+3*ie],ge=t[W+3*ie+1],ue=t[W+3*ie+2];D[z++]=he,D[z++]=ge,D[z++]=ue,D[z++]=255}--oe}}}function S4(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,s=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==i){if(v===o)break;for(var b=v<s?v:m,w=0,j=b;j>i;)j=g[j]>>8,++w;var _=j;if(p+w+(b!==v?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[p++]=_;var S=p+=w;for(b!==v&&(r[p++]=_),j=b;w--;)j=g[j],r[--S]=255&j,j>>=8;m!==null&&s<4096&&(g[s++]=m<<8|_,s>=u+1&&c<12&&(++c,u=u<<1|1)),m=v}else s=o+1,u=(1<<(c=a+1))-1,m=null}return p!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xy(t){var e,r,n,a,i,o=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,b=7,w=new Array(64),j=new Array(64),_=new Array(64),S=new Array(256),k=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y($,U){for(var z=0,J=0,le=new Array,se=1;se<=16;se++){for(var de=1;de<=$[se];de++)le[U[J]]=[],le[U[J]][0]=z,le[U[J]][1]=se,J++,z++;z*=2}return le}function W($){for(var U=$[0],z=$[1]-1;z>=0;)U&1<<z&&(v|=1<<b),z--,--b<0&&(v==255?(F(255),F(0)):F(v),b=7,v=0)}function F($){m.push($)}function ae($){F($>>8&255),F(255&$)}function re($,U,z,J,le){for(var se,de=le[0],ie=le[240],he=(function(ke,Qe){var Re,Ke,Ge,zt,mt,gt,er,St,it,dt,st=0;for(it=0;it<8;++it){Re=ke[st],Ke=ke[st+1],Ge=ke[st+2],zt=ke[st+3],mt=ke[st+4],gt=ke[st+5],er=ke[st+6];var Vt=Re+(St=ke[st+7]),Gt=Re-St,nt=Ke+er,_t=Ke-er,tr=Ge+gt,ft=Ge-gt,Mt=zt+mt,ht=zt-mt,Mr=Vt+Mt,Wr=Vt-Mt,rr=nt+tr,vt=nt-tr;ke[st]=Mr+rr,ke[st+4]=Mr-rr;var $e=.707106781*(vt+Wr);ke[st+2]=Wr+$e,ke[st+6]=Wr-$e;var vr=.382683433*((Mr=ht+ft)-(vt=_t+Gt)),Yt=.5411961*Mr+vr,Dr=1.306562965*vt+vr,Wn=.707106781*(rr=ft+_t),qe=Gt+Wn,Fr=Gt-Wn;ke[st+5]=Fr+Yt,ke[st+3]=Fr-Yt,ke[st+1]=qe+Dr,ke[st+7]=qe-Dr,st+=8}for(st=0,it=0;it<8;++it){Re=ke[st],Ke=ke[st+8],Ge=ke[st+16],zt=ke[st+24],mt=ke[st+32],gt=ke[st+40],er=ke[st+48];var ta=Re+(St=ke[st+56]),Er=Re-St,Tr=Ke+er,kr=Ke-er,yr=Ge+gt,bn=Ge-gt,Gs=zt+mt,Qo=zt-mt,Za=ta+Gs,Ci=ta-Gs,Ja=Tr+yr,Qa=Tr-yr;ke[st]=Za+Ja,ke[st+32]=Za-Ja;var Ea=.707106781*(Qa+Ci);ke[st+16]=Ci+Ea,ke[st+48]=Ci-Ea;var Ys=.382683433*((Za=Qo+bn)-(Qa=kr+Er)),Oi=.5411961*Za+Ys,Ks=1.306562965*Qa+Ys,ac=.707106781*(Ja=bn+kr),ic=Er+ac,oc=Er-ac;ke[st+40]=oc+Oi,ke[st+24]=oc-Oi,ke[st+8]=ic+Ks,ke[st+56]=ic-Ks,st++}for(it=0;it<64;++it)dt=ke[it]*Qe[it],h[it]=dt>0?dt+.5|0:dt-.5|0;return h})($,U),ge=0;ge<64;++ge)g[A[ge]]=he[ge];var ue=g[0]-z;z=g[0],ue==0?W(J[0]):(W(J[p[se=32767+ue]]),W(f[se]));for(var Pe=63;Pe>0&&g[Pe]==0;)Pe--;if(Pe==0)return W(de),z;for(var me,Q=1;Q<=Pe;){for(var Ve=Q;g[Q]==0&&Q<=Pe;)++Q;var Be=Q-Ve;if(Be>=16){me=Be>>4;for(var Ue=1;Ue<=me;++Ue)W(ie);Be&=15}se=32767+g[Q],W(le[(Be<<4)+p[se]]),W(f[se]),Q++}return Pe!=63&&W(de),z}function oe($){$=Math.min(Math.max($,1),100),i!=$&&((function(U){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var le=o((z[J]*U+50)/100);le=Math.min(Math.max(le,1),255),s[A[J]]=le}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ie=o((se[de]*U+50)/100);ie=Math.min(Math.max(ie,1),255),c[A[de]]=ie}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ue=0;ue<8;ue++)for(var Pe=0;Pe<8;Pe++)u[ge]=1/(s[A[ge]]*he[ue]*he[Pe]*8),d[ge]=1/(c[A[ge]]*he[ue]*he[Pe]*8),ge++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,U){U&&oe(U),m=new Array,v=0,b=7,ae(65496),ae(65504),ae(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),ae(1),ae(1),F(0),F(0),(function(){ae(65499),ae(132),F(0);for(var Ke=0;Ke<64;Ke++)F(s[Ke]);F(1);for(var Ge=0;Ge<64;Ge++)F(c[Ge])})(),(function(Ke,Ge){ae(65472),ae(17),F(8),ae(Ge),ae(Ke),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})($.width,$.height),(function(){ae(65476),ae(418),F(0);for(var Ke=0;Ke<16;Ke++)F(E[Ke+1]);for(var Ge=0;Ge<=11;Ge++)F(I[Ge]);F(16);for(var zt=0;zt<16;zt++)F(L[zt+1]);for(var mt=0;mt<=161;mt++)F(P[mt]);F(1);for(var gt=0;gt<16;gt++)F(O[gt+1]);for(var er=0;er<=11;er++)F(D[er]);F(17);for(var St=0;St<16;St++)F(M[St+1]);for(var it=0;it<=161;it++)F(G[it])})(),ae(65498),ae(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var z=0,J=0,le=0;v=0,b=7,this.encode.displayName="_encode_";for(var se,de,ie,he,ge,ue,Pe,me,Q,Ve=$.data,Be=$.width,Ue=$.height,ke=4*Be,Qe=0;Qe<Ue;){for(se=0;se<ke;){for(ge=ke*Qe+se,Pe=-1,me=0,Q=0;Q<64;Q++)ue=ge+(me=Q>>3)*ke+(Pe=4*(7&Q)),Qe+me>=Ue&&(ue-=ke*(Qe+1+me-Ue)),se+Pe>=ke&&(ue-=se+Pe-ke+4),de=Ve[ue++],ie=Ve[ue++],he=Ve[ue++],w[Q]=(k[de]+k[ie+256|0]+k[he+512|0]>>16)-128,j[Q]=(k[de+768|0]+k[ie+1024|0]+k[he+1280|0]>>16)-128,_[Q]=(k[de+1280|0]+k[ie+1536|0]+k[he+1792|0]>>16)-128;z=re(w,u,z,e,n),J=re(j,d,J,r,a),le=re(_,d,le,r,a),se+=32}Qe+=8}if(b>=0){var Re=[];Re[1]=b+1,Re[0]=(1<<b+1)-1,W(Re)}return ae(65497),new Uint8Array(m)},t=t||50,(function(){for(var $=String.fromCharCode,U=0;U<256;U++)S[U]=$(U)})(),e=Y(E,I),r=Y(O,D),n=Y(L,P),a=Y(M,G),(function(){for(var $=1,U=2,z=1;z<=15;z++){for(var J=$;J<U;J++)p[32767+J]=z,f[32767+J]=[],f[32767+J][1]=z,f[32767+J][0]=J;for(var le=-(U-1);le<=-$;le++)p[32767+le]=z,f[32767+le]=[],f[32767+le][1]=z,f[32767+le][0]=U-1+le;$<<=1,U<<=1}})(),(function(){for(var $=0;$<256;$++)k[$]=19595*$,k[$+256|0]=38470*$,k[$+512|0]=7471*$+32768,k[$+768|0]=-11059*$,k[$+1024|0]=-21709*$,k[$+1280|0]=32768*$+8421375,k[$+1536|0]=-27439*$,k[$+1792|0]=-5329*$})(),oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ii(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function N4(t){function e(I){if(!I)throw Error("assert :P")}function r(I,L,P){for(var O=0;4>O;O++)if(I[L+O]!=P.charCodeAt(O))return!0;return!1}function n(I,L,P,O,D){for(var M=0;M<D;M++)I[L+M]=P[O+M]}function a(I,L,P,O){for(var D=0;D<O;D++)I[L+D]=P}function i(I){return new Int32Array(I)}function o(I,L){for(var P=[],O=0;O<I;O++)P.push(new L);return P}function s(I,L){var P=[];return(function O(D,M,G){for(var Y=G[M],W=0;W<Y&&(D.push(G.length>M+1?[]:new L),!(G.length<M+1));W++)O(D[W],M+1,G)})(P,0,I),P}var c=function(){var I=this;function L(y,x){for(var T=1<<x-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function P(y,x,T,R,B){e(!(R%T));do y[x+(R-=T)]=B;while(0<R)}function O(y,x,T,R,B){if(e(2328>=B),512>=B)var H=i(512);else if((H=i(B))==null)return 0;return(function(V,X,Z,ee,fe,xe){var te,pe,ye=X,_e=1<<Z,be=i(16),Se=i(16);for(e(fe!=0),e(ee!=null),e(V!=null),e(0<Z),pe=0;pe<fe;++pe){if(15<ee[pe])return 0;++be[ee[pe]]}if(be[0]==fe)return 0;for(Se[1]=0,te=1;15>te;++te){if(be[te]>1<<te)return 0;Se[te+1]=Se[te]+be[te]}for(pe=0;pe<fe;++pe)te=ee[pe],0<ee[pe]&&(xe[Se[te]++]=pe);if(Se[15]==1)return(ee=new D).g=0,ee.value=xe[0],P(V,ye,1,_e,ee),_e;var Ae,Ie=-1,Oe=_e-1,lt=0,Ye=1,Et=1,tt=1<<Z;for(pe=0,te=1,fe=2;te<=Z;++te,fe<<=1){if(Ye+=Et<<=1,0>(Et-=be[te]))return 0;for(;0<be[te];--be[te])(ee=new D).g=te,ee.value=xe[pe++],P(V,ye+lt,fe,tt,ee),lt=L(lt,te)}for(te=Z+1,fe=2;15>=te;++te,fe<<=1){if(Ye+=Et<<=1,0>(Et-=be[te]))return 0;for(;0<be[te];--be[te]){if(ee=new D,(lt&Oe)!=Ie){for(ye+=tt,Ae=1<<(Ie=te)-Z;15>Ie&&!(0>=(Ae-=be[Ie]));)++Ie,Ae<<=1;_e+=tt=1<<(Ae=Ie-Z),V[X+(Ie=lt&Oe)].g=Ae+Z,V[X+Ie].value=ye-X-Ie}ee.g=te-Z,ee.value=xe[pe++],P(V,ye+(lt>>Z),fe,tt,ee),lt=L(lt,te)}}return Ye!=2*Se[15]-1?0:_e})(y,x,T,R,B,H)}function D(){this.value=this.g=0}function M(){this.value=this.g=0}function G(){this.G=o(5,D),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ii,M)}function Y(y,x,T,R){e(y!=null),e(x!=null),e(2147483648>R),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=x,y.pa=T,y.Jd=x,y.Yc=T+R,y.Zc=4<=R?T+R-4+1:T,de(y)}function W(y,x){for(var T=0;0<x--;)T|=he(y,128)<<x;return T}function F(y,x){var T=W(y,x);return ie(y)?-T:T}function ae(y,x,T,R){var B,H=0;for(e(y!=null),e(x!=null),e(4294967288>R),y.Sb=R,y.Ra=0,y.u=0,y.h=0,4<R&&(R=4),B=0;B<R;++B)H+=x[T+B]<<8*B;y.Ra=H,y.bb=R,y.oa=x,y.pa=T}function re(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<os-8>>>0,++y.bb,y.u-=8;J(y)&&(y.h=1,y.u=0)}function oe(y,x){if(e(0<=x),!y.h&&x<=Cd){var T=z(y)&is[x];return y.u+=x,re(y),T}return y.h=1,y.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(y){return y.Ra>>>(y.u&os-1)>>>0}function J(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>os}function le(y,x){y.u=x,y.h=J(y)}function se(y){y.u>=Vr&&(e(y.u>=Vr),re(y))}function de(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ie(y){return W(y,1)}function he(y,x){var T=y.Ca;0>y.b&&de(y);var R=y.b,B=T*x>>>8,H=(y.I>>>R>B)+0;for(H?(T-=B,y.I-=B+1<<R>>>0):T=B+1,R=T,B=0;256<=R;)B+=8,R>>=8;return R=7^B+p0[R],y.b-=R,y.Ca=(T<<R)-1,H}function ge(y,x,T){y[x+0]=T>>24&255,y[x+1]=T>>16&255,y[x+2]=T>>8&255,y[x+3]=255&T}function ue(y,x){return y[x+0]|y[x+1]<<8}function Pe(y,x){return ue(y,x)|y[x+2]<<16}function me(y,x){return ue(y,x)|ue(y,x+2)<<16}function Q(y,x){var T=1<<x;return e(y!=null),e(0<x),y.X=i(T),y.X==null?0:(y.Mb=32-x,y.Xa=x,1)}function Ve(y,x){e(y!=null),e(x!=null),e(y.Xa==x.Xa),n(x.X,0,y.X,0,1<<x.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function Ue(y,x,T,R){e(T!=null),e(R!=null);var B=T[0],H=R[0];return B==0&&(B=(y*H+x/2)/x),H==0&&(H=(x*B+y/2)/y),0>=B||0>=H?0:(T[0]=B,R[0]=H,1)}function ke(y,x){return y+(1<<x)-1>>>x}function Qe(y,x){return((4278255360&y)+(4278255360&x)>>>0&4278255360)+((16711935&y)+(16711935&x)>>>0&16711935)>>>0}function Re(y,x){I[x]=function(T,R,B,H,V,X,Z){var ee;for(ee=0;ee<V;++ee){var fe=I[y](X[Z+ee-1],B,H+ee);X[Z+ee]=Qe(T[R+ee],fe)}}}function Ke(){this.ud=this.hd=this.jd=0}function Ge(y,x){return((4278124286&(y^x))>>>1)+(y&x)>>>0}function zt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function mt(y,x){return zt(y+(y-x+.5>>1))}function gt(y,x,T){return Math.abs(x-T)-Math.abs(y-T)}function er(y,x,T,R,B,H,V){for(R=H[V-1],T=0;T<B;++T)H[V+T]=R=Qe(y[x+T],R)}function St(y,x,T,R,B){var H;for(H=0;H<T;++H){var V=y[x+H],X=V>>8&255,Z=16711935&(Z=(Z=16711935&V)+((X<<16)+X));R[B+H]=(4278255360&V)+Z>>>0}}function it(y,x){x.jd=255&y,x.hd=y>>8&255,x.ud=y>>16&255}function dt(y,x,T,R,B,H){var V;for(V=0;V<R;++V){var X=x[T+V],Z=X>>>8,ee=X,fe=255&(fe=(fe=X>>>16)+((y.jd<<24>>24)*(Z<<24>>24)>>>5));ee=255&(ee=(ee+=(y.hd<<24>>24)*(Z<<24>>24)>>>5)+((y.ud<<24>>24)*(fe<<24>>24)>>>5)),B[H+V]=(4278255360&X)+(fe<<16)+ee}}function st(y,x,T,R,B){I[x]=function(H,V,X,Z,ee,fe,xe,te,pe){for(Z=xe;Z<te;++Z)for(xe=0;xe<pe;++xe)ee[fe++]=B(X[R(H[V++])])},I[y]=function(H,V,X,Z,ee,fe,xe){var te=8>>H.b,pe=H.Ea,ye=H.K[0],_e=H.w;if(8>te)for(H=(1<<H.b)-1,_e=(1<<te)-1;V<X;++V){var be,Se=0;for(be=0;be<pe;++be)be&H||(Se=R(Z[ee++])),fe[xe++]=B(ye[Se&_e]),Se>>=te}else I["VP8LMapColor"+T](Z,ee,ye,_e,fe,xe,V,X,pe)}}function Vt(y,x,T,R,B){for(T=x+T;x<T;){var H=y[x++];R[B++]=H>>16&255,R[B++]=H>>8&255,R[B++]=255&H}}function Gt(y,x,T,R,B){for(T=x+T;x<T;){var H=y[x++];R[B++]=H>>16&255,R[B++]=H>>8&255,R[B++]=255&H,R[B++]=H>>24&255}}function nt(y,x,T,R,B){for(T=x+T;x<T;){var H=(V=y[x++])>>16&240|V>>12&15,V=240&V|V>>28&15;R[B++]=H,R[B++]=V}}function _t(y,x,T,R,B){for(T=x+T;x<T;){var H=(V=y[x++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;R[B++]=H,R[B++]=V}}function tr(y,x,T,R,B){for(T=x+T;x<T;){var H=y[x++];R[B++]=255&H,R[B++]=H>>8&255,R[B++]=H>>16&255}}function ft(y,x,T,R,B,H){if(H==0)for(T=x+T;x<T;)ge(R,((H=y[x++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else n(R,B,y,x,T)}function Mt(y,x){I[x][0]=I[y+"0"],I[x][1]=I[y+"1"],I[x][2]=I[y+"2"],I[x][3]=I[y+"3"],I[x][4]=I[y+"4"],I[x][5]=I[y+"5"],I[x][6]=I[y+"6"],I[x][7]=I[y+"7"],I[x][8]=I[y+"8"],I[x][9]=I[y+"9"],I[x][10]=I[y+"10"],I[x][11]=I[y+"11"],I[x][12]=I[y+"12"],I[x][13]=I[y+"13"],I[x][14]=I[y+"0"],I[x][15]=I[y+"0"]}function ht(y){return y==v0||y==y0||y==Zh||y==b0}function Mr(){this.eb=[],this.size=this.A=this.fb=0}function Wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mr,this.f.kb=new Wr,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $e(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Yt(y,x){var T=y.T,R=x.ba.f.RGBA,B=R.eb,H=R.fb+y.ka*R.A,V=Ra[x.ba.S],X=y.y,Z=y.O,ee=y.f,fe=y.N,xe=y.ea,te=y.W,pe=x.cc,ye=x.dc,_e=x.Mc,be=x.Nc,Se=y.ka,Ae=y.ka+y.T,Ie=y.U,Oe=Ie+1>>1;for(Se==0?V(X,Z,null,null,ee,fe,xe,te,ee,fe,xe,te,B,H,null,null,Ie):(V(x.ec,x.fc,X,Z,pe,ye,_e,be,ee,fe,xe,te,B,H-R.A,B,H,Ie),++T);Se+2<Ae;Se+=2)pe=ee,ye=fe,_e=xe,be=te,fe+=y.Rc,te+=y.Rc,H+=2*R.A,V(X,(Z+=2*y.fa)-y.fa,X,Z,pe,ye,_e,be,ee,fe,xe,te,B,H-R.A,B,H,Ie);return Z+=y.fa,y.j+Ae<y.o?(n(x.ec,x.fc,X,Z,Ie),n(x.cc,x.dc,ee,fe,Oe),n(x.Mc,x.Nc,xe,te,Oe),T--):1&Ae||V(X,Z,null,null,ee,fe,xe,te,ee,fe,xe,te,B,H+R.A,null,null,Ie),T}function Dr(y,x,T){var R=y.F,B=[y.J];if(R!=null){var H=y.U,V=x.ba.S,X=V==Xh||V==Zh;x=x.ba.f.RGBA;var Z=[0],ee=y.ka;Z[0]=y.T,y.Kb&&(ee==0?--Z[0]:(--ee,B[0]-=y.width),y.j+y.ka+y.T==y.o&&(Z[0]=y.o-y.j-ee));var fe=x.eb;ee=x.fb+ee*x.A,y=LS(R,B[0],y.width,H,Z,fe,ee+(X?0:3),x.A),e(T==Z),y&&ht(V)&&Id(fe,ee,X,H,Z,x.A)}return 0}function Wn(y){var x=y.ma,T=x.ba.S,R=11>T,B=T==Yh||T==Kh||T==Xh||T==g0||T==12||ht(T);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!ra(x.Oa,y,B?11:12))return 0;if(B&&ht(T)&&Nd(),y.da)alert("todo:use_scaling");else{if(R){if(x.Ib=vr,y.Kb){if(T=y.U+1>>1,x.memory=i(y.U+2*T),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+y.U,x.Mc=x.cc,x.Nc=x.dc+T,x.Ib=Yt,Nd()}}else alert("todo:EmitYUV");B&&(x.Jb=Dr,R&&al())}if(R&&!XS){for(y=0;256>y;++y)m9[y]=89858*(y-128)+Qh>>Jh,y9[y]=-22014*(y-128)+Qh,v9[y]=-45773*(y-128),g9[y]=113618*(y-128)+Qh>>Jh;for(y=Rd;y<_0;++y)x=76283*(y-16)+Qh>>Jh,b9[y-Rd]=ln(x,255),x9[y-Rd]=ln(x+8>>4,15);XS=1}return 1}function qe(y){var x=y.ma,T=y.U,R=y.T;return e(!(1&y.ka)),0>=T||0>=R?0:(T=x.Ib(y,x),x.Jb!=null&&x.Jb(y,x,T),x.Dc+=T,1)}function Fr(y){y.ma.memory=null}function ta(y,x,T,R){return oe(y,8)!=47?0:(x[0]=oe(y,14)+1,T[0]=oe(y,14)+1,R[0]=oe(y,1),oe(y,3)!=0?0:!y.h)}function Er(y,x){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+oe(x,T)+1}function Tr(y,x){return 120<x?x-120:1<=(T=((T=t9[x-1])>>4)*y+(8-(15&T)))?T:1;var T}function kr(y,x,T){var R=z(T),B=y[x+=255&R].g-8;return 0<B&&(le(T,T.u+8),R=z(T),x+=y[x].value,x+=R&(1<<B)-1),le(T,T.u+y[x].g),y[x].value}function yr(y,x,T){return T.g+=y.g,T.value+=y.value<<x>>>0,e(8>=T.g),y.g}function bn(y,x,T){var R=y.xc;return e((x=R==0?0:y.vc[y.md*(T>>R)+(x>>R)])<y.Wb),y.Ya[x]}function Gs(y,x,T,R){var B=y.ab,H=y.c*x,V=y.C;x=V+x;var X=T,Z=R;for(R=y.Ta,T=y.Ua;0<B--;){var ee=y.gc[B],fe=V,xe=x,te=X,pe=Z,ye=(Z=R,X=T,ee.Ea);switch(e(fe<xe),e(xe<=ee.nc),ee.hc){case 2:gc(te,pe,(xe-fe)*ye,Z,X);break;case 0:var _e=fe,be=xe,Se=Z,Ae=X,Ie=(tt=ee).Ea;_e==0&&(Li(te,pe,null,null,1,Se,Ae),er(te,pe+1,0,0,Ie-1,Se,Ae+1),pe+=Ie,Ae+=Ie,++_e);for(var Oe=1<<tt.b,lt=Oe-1,Ye=ke(Ie,tt.b),Et=tt.K,tt=tt.w+(_e>>tt.b)*Ye;_e<be;){var Wt=Et,cn=tt,Tt=1;for(Ri(te,pe,Se,Ae-Ie,1,Se,Ae);Tt<Ie;){var rt=(Tt&~lt)+Oe;rt>Ie&&(rt=Ie),(0,sl[Wt[cn++]>>8&15])(te,pe+ +Tt,Se,Ae+Tt-Ie,rt-Tt,Se,Ae+Tt),Tt=rt}pe+=Ie,Ae+=Ie,++_e&lt||(tt+=Ye)}xe!=ee.nc&&n(Z,X-ye,Z,X+(xe-fe-1)*ye,ye);break;case 1:for(ye=te,be=pe,Ie=(te=ee.Ea)-(Ae=te&~(Se=(pe=1<<ee.b)-1)),_e=ke(te,ee.b),Oe=ee.K,ee=ee.w+(fe>>ee.b)*_e;fe<xe;){for(lt=Oe,Ye=ee,Et=new Ke,tt=be+Ae,Wt=be+te;be<tt;)it(lt[Ye++],Et),mo(Et,ye,be,pe,Z,X),be+=pe,X+=pe;be<Wt&&(it(lt[Ye++],Et),mo(Et,ye,be,Ie,Z,X),be+=Ie,X+=Ie),++fe&Se||(ee+=_e)}break;case 3:if(te==Z&&pe==X&&0<ee.b){for(be=Z,te=ye=X+(xe-fe)*ye-(Ae=(xe-fe)*ke(ee.Ea,ee.b)),pe=Z,Se=X,_e=[],Ae=(Ie=Ae)-1;0<=Ae;--Ae)_e[Ae]=pe[Se+Ae];for(Ae=Ie-1;0<=Ae;--Ae)be[te+Ae]=_e[Ae];Od(ee,fe,xe,Z,ye,Z,X)}else Od(ee,fe,xe,te,pe,Z,X)}X=R,Z=T}Z!=T&&n(R,T,X,Z,H)}function Qo(y,x){var T=y.V,R=y.Ba+y.c*y.C,B=x-y.C;if(e(x<=y.l.o),e(16>=B),0<B){var H=y.l,V=y.Ta,X=y.Ua,Z=H.width;if(Gs(y,B,T,R),B=X=[X],e((T=y.C)<(R=x)),e(H.v<H.va),R>H.o&&(R=H.o),T<H.j){var ee=H.j-T;T=H.j,B[0]+=ee*Z}if(T>=R?T=0:(B[0]+=4*H.v,H.ka=T-H.j,H.U=H.va-H.v,H.T=R-T,T=1),T){if(X=X[0],11>(T=y.ca).S){var fe=T.f.RGBA,xe=(R=T.S,B=H.U,H=H.T,ee=fe.eb,fe.A),te=H;for(fe=fe.fb+y.Ma*fe.A;0<te--;){var pe=V,ye=X,_e=B,be=ee,Se=fe;switch(R){case Gh:Ed(pe,ye,_e,be,Se);break;case Yh:pa(pe,ye,_e,be,Se);break;case v0:pa(pe,ye,_e,be,Se),Id(be,Se,0,_e,1,0);break;case qS:xr(pe,ye,_e,be,Se);break;case Kh:ft(pe,ye,_e,be,Se,1);break;case y0:ft(pe,ye,_e,be,Se,1),Id(be,Se,0,_e,1,0);break;case Xh:ft(pe,ye,_e,be,Se,0);break;case Zh:ft(pe,ye,_e,be,Se,0),Id(be,Se,1,_e,1,0);break;case g0:Mi(pe,ye,_e,be,Se);break;case b0:Mi(pe,ye,_e,be,Se),IS(be,Se,_e,1,0);break;case US:br(pe,ye,_e,be,Se);break;default:e(0)}X+=Z,fe+=xe}y.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=T.height)}}y.C=x,e(y.C<=y.i)}function Za(y){var x;if(0<y.ua)return 0;for(x=0;x<y.Wb;++x){var T=y.Ya[x].G,R=y.Ya[x].H;if(0<T[1][R[1]+0].g||0<T[2][R[2]+0].g||0<T[3][R[3]+0].g)return 0}return 1}function Ci(y,x,T,R,B,H){if(y.Z!=0){var V=y.qd,X=y.rd;for(e(ls[y.Z]!=null);x<T;++x)ls[y.Z](V,X,R,B,R,B,H),V=R,X=B,B+=H;y.qd=V,y.rd=X}}function Ja(y,x){var T=y.l.ma,R=T.Z==0||T.Z==1?y.l.j:y.C;if(R=y.C<R?R:y.C,e(x<=y.l.o),x>R){var B=y.l.width,H=T.ca,V=T.tb+B*R,X=y.V,Z=y.Ba+y.c*R,ee=y.gc;e(y.ab==1),e(ee[0].hc==3),yc(ee[0],R,x,X,Z,H,V),Ci(T,R,x,H,V,B)}y.C=y.Ma=x}function Qa(y,x,T,R,B,H,V){var X=y.$/R,Z=y.$%R,ee=y.m,fe=y.s,xe=T+y.$,te=xe;B=T+R*B;var pe=T+R*H,ye=280+fe.ua,_e=y.Pb?X:16777216,be=0<fe.ua?fe.Wa:null,Se=fe.wc,Ae=xe<pe?bn(fe,Z,X):null;e(y.C<H),e(pe<=B);var Ie=!1;e:for(;;){for(;Ie||xe<pe;){var Oe=0;if(X>=_e){var lt=xe-T;e((_e=y).Pb),_e.wd=_e.m,_e.xd=lt,0<_e.s.ua&&Ve(_e.s.Wa,_e.s.vb),_e=X+n9}if(Z&Se||(Ae=bn(fe,Z,X)),e(Ae!=null),Ae.Qb&&(x[xe]=Ae.qb,Ie=!0),!Ie)if(se(ee),Ae.jc){Oe=ee,lt=x;var Ye=xe,Et=Ae.pd[z(Oe)&Ii-1];e(Ae.jc),256>Et.g?(le(Oe,Oe.u+Et.g),lt[Ye]=Et.value,Oe=0):(le(Oe,Oe.u+Et.g-256),e(256<=Et.value),Oe=Et.value),Oe==0&&(Ie=!0)}else Oe=kr(Ae.G[0],Ae.H[0],ee);if(ee.h)break;if(Ie||256>Oe){if(!Ie)if(Ae.nd)x[xe]=(Ae.qb|Oe<<8)>>>0;else{if(se(ee),Ie=kr(Ae.G[1],Ae.H[1],ee),se(ee),lt=kr(Ae.G[2],Ae.H[2],ee),Ye=kr(Ae.G[3],Ae.H[3],ee),ee.h)break;x[xe]=(Ye<<24|Ie<<16|Oe<<8|lt)>>>0}if(Ie=!1,++xe,++Z>=R&&(Z=0,++X,V!=null&&X<=H&&!(X%16)&&V(y,X),be!=null))for(;te<xe;)Oe=x[te++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe}else if(280>Oe){if(Oe=Er(Oe-256,ee),lt=kr(Ae.G[4],Ae.H[4],ee),se(ee),lt=Tr(R,lt=Er(lt,ee)),ee.h)break;if(xe-T<lt||B-xe<Oe)break e;for(Ye=0;Ye<Oe;++Ye)x[xe+Ye]=x[xe+Ye-lt];for(xe+=Oe,Z+=Oe;Z>=R;)Z-=R,++X,V!=null&&X<=H&&!(X%16)&&V(y,X);if(e(xe<=B),Z&Se&&(Ae=bn(fe,Z,X)),be!=null)for(;te<xe;)Oe=x[te++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe}else{if(!(Oe<ye))break e;for(Ie=Oe-280,e(be!=null);te<xe;)Oe=x[te++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe;Oe=xe,e(!(Ie>>>(lt=be).Xa)),x[Oe]=lt.X[Ie],Ie=!0}Ie||e(ee.h==J(ee))}if(y.Pb&&ee.h&&xe<B)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ve(y.s.vb,y.s.Wa);else{if(ee.h)break e;V!=null&&V(y,X>H?H:X),y.a=0,y.$=xe-T}return 1}return y.a=3,0}function Ea(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var x=y.Wa;x!=null&&(x.X=null),y.vb=null,e(y!=null)}function Ys(){var y=new $r;return y==null?null:(y.a=0,y.xb=HS,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),gc=St,mo=dt,Ed=Vt,pa=Gt,Mi=nt,br=_t,xr=tr,I.VP8LMapColor32b=vc,I.VP8LMapColor8b=ol,y)}function Oi(y,x,T,R,B){var H=1,V=[y],X=[x],Z=R.m,ee=R.s,fe=null,xe=0;e:for(;;){if(T)for(;H&&oe(Z,1);){var te=V,pe=X,ye=R,_e=1,be=ye.m,Se=ye.gc[ye.ab],Ae=oe(be,2);if(ye.Oc&1<<Ae)H=0;else{switch(ye.Oc|=1<<Ae,Se.hc=Ae,Se.Ea=te[0],Se.nc=pe[0],Se.K=[null],++ye.ab,e(4>=ye.ab),Ae){case 0:case 1:Se.b=oe(be,3)+2,_e=Oi(ke(Se.Ea,Se.b),ke(Se.nc,Se.b),0,ye,Se.K),Se.K=Se.K[0];break;case 3:var Ie,Oe=oe(be,8)+1,lt=16<Oe?0:4<Oe?1:2<Oe?2:3;if(te[0]=ke(Se.Ea,lt),Se.b=lt,Ie=_e=Oi(Oe,1,0,ye,Se.K)){var Ye,Et=Oe,tt=Se,Wt=1<<(8>>tt.b),cn=i(Wt);if(cn==null)Ie=0;else{var Tt=tt.K[0],rt=tt.w;for(cn[0]=tt.K[0][0],Ye=1;Ye<1*Et;++Ye)cn[Ye]=Qe(Tt[rt+Ye],cn[Ye-1]);for(;Ye<4*Wt;++Ye)cn[Ye]=0;tt.K[0]=null,tt.K[0]=cn,Ie=1}}_e=Ie;break;case 2:break;default:e(0)}H=_e}}if(V=V[0],X=X[0],H&&oe(Z,1)&&!(H=1<=(xe=oe(Z,4))&&11>=xe)){R.a=3;break e}var Me;if(Me=H)t:{var Kr,Pt,Ht,Pr=R,Pn=V,Vn=X,Br=xe,In=T,Gn=Pr.m,un=Pr.s,Kt=[null],ir=1,qr=0,or=r9[Br];r:for(;;){if(In&&oe(Gn,1)){var Cn=oe(Gn,3)+2,ni=ke(Pn,Cn),Xr=ke(Vn,Cn),aa=ni*Xr;if(!Oi(ni,Xr,0,Pr,Kt))break r;for(Kt=Kt[0],un.xc=Cn,Kr=0;Kr<aa;++Kr){var pr=Kt[Kr]>>8&65535;Kt[Kr]=pr,pr>=ir&&(ir=pr+1)}}if(Gn.h)break r;for(Pt=0;5>Pt;++Pt){var dn=zS[Pt];!Pt&&0<Br&&(dn+=1<<Br),qr<dn&&(qr=dn)}var ga=o(ir*or,D),Yn=ir,va=o(Yn,G);if(va==null)var ya=null;else e(65536>=Yn),ya=va;var ia=i(qr);if(ya==null||ia==null||ga==null){Pr.a=1;break r}var ba=ga;for(Kr=Ht=0;Kr<ir;++Kr){var wr=ya[Kr],xa=wr.G,ai=wr.H,ll=0,yo=1,On=0;for(Pt=0;5>Pt;++Pt){dn=zS[Pt],xa[Pt]=ba,ai[Pt]=Ht,!Pt&&0<Br&&(dn+=1<<Br);a:{var tp,j0=dn,rp=Pr,Md=ia,j9=ba,S9=Ht,S0=0,cs=rp.m,N9=oe(cs,1);if(a(Md,0,0,j0),N9){var A9=oe(cs,1)+1,k9=oe(cs,1),QS=oe(cs,k9==0?1:8);Md[QS]=1,A9==2&&(Md[QS=oe(cs,8)]=1);var np=1}else{var eN=i(19),tN=oe(cs,4)+4;if(19<tN){rp.a=3;var ap=0;break a}for(tp=0;tp<tN;++tp)eN[e9[tp]]=oe(cs,3);var N0=void 0,Dd=void 0,rN=rp,P9=eN,ip=j0,nN=Md,A0=0,us=rN.m,aN=8,iN=o(128,D);n:for(;O(iN,0,7,P9,19);){if(oe(us,1)){var C9=2+2*oe(us,3);if((N0=2+oe(us,C9))>ip)break n}else N0=ip;for(Dd=0;Dd<ip&&N0--;){se(us);var oN=iN[0+(127&z(us))];le(us,us.u+oN.g);var xc=oN.value;if(16>xc)nN[Dd++]=xc,xc!=0&&(aN=xc);else{var O9=xc==16,sN=xc-16,E9=JF[sN],lN=oe(us,ZF[sN])+E9;if(Dd+lN>ip)break n;for(var T9=O9?aN:0;0<lN--;)nN[Dd++]=T9}}A0=1;break n}A0||(rN.a=3),np=A0}(np=np&&!cs.h)&&(S0=O(j9,S9,8,Md,j0)),np&&S0!=0?ap=S0:(rp.a=3,ap=0)}if(ap==0)break r;if(yo&&QF[Pt]==1&&(yo=ba[Ht].g==0),ll+=ba[Ht].g,Ht+=ap,3>=Pt){var $d,k0=ia[0];for($d=1;$d<dn;++$d)ia[$d]>k0&&(k0=ia[$d]);On+=k0}}if(wr.nd=yo,wr.Qb=0,yo&&(wr.qb=(xa[3][ai[3]+0].value<<24|xa[1][ai[1]+0].value<<16|xa[2][ai[2]+0].value)>>>0,ll==0&&256>xa[0][ai[0]+0].value&&(wr.Qb=1,wr.qb+=xa[0][ai[0]+0].value<<8)),wr.jc=!wr.Qb&&6>On,wr.jc){var op,bo=wr;for(op=0;op<Ii;++op){var ds=op,fs=bo.pd[ds],sp=bo.G[0][bo.H[0]+ds];256<=sp.value?(fs.g=sp.g+256,fs.value=sp.value):(fs.g=0,fs.value=0,ds>>=yr(sp,8,fs),ds>>=yr(bo.G[1][bo.H[1]+ds],16,fs),ds>>=yr(bo.G[2][bo.H[2]+ds],0,fs),yr(bo.G[3][bo.H[3]+ds],24,fs))}}}un.vc=Kt,un.Wb=ir,un.Ya=ya,un.yc=ga,Me=1;break t}Me=0}if(!(H=Me)){R.a=3;break e}if(0<xe){if(ee.ua=1<<xe,!Q(ee.Wa,xe)){R.a=1,H=0;break e}}else ee.ua=0;var P0=R,cN=V,I9=X,C0=P0.s,O0=C0.xc;if(P0.c=cN,P0.i=I9,C0.md=ke(cN,O0),C0.wc=O0==0?-1:(1<<O0)-1,T){R.xb=u9;break e}if((fe=i(V*X))==null){R.a=1,H=0;break e}H=(H=Qa(R,fe,0,V,X,X,null))&&!Z.h;break e}return H?(B!=null?B[0]=fe:(e(fe==null),e(T)),R.$=0,T||Ea(ee)):Ea(ee),H}function Ks(y,x){var T=y.c*y.i,R=T+x+16*x;return e(y.c<=x),y.V=i(R),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+x,1)}function ac(y,x){var T=y.C,R=x-T,B=y.V,H=y.Ba+y.c*T;for(e(x<=y.l.o);0<R;){var V=16<R?16:R,X=y.l.ma,Z=y.l.width,ee=Z*V,fe=X.ca,xe=X.tb+Z*T,te=y.Ta,pe=y.Ua;Gs(y,V,B,H),RS(te,pe,fe,xe,ee),Ci(X,T,T+V,fe,xe,Z),R-=V,B+=V*y.c,T+=V}e(T==x),y.C=y.Ma=x}function ic(){this.ub=this.yd=this.td=this.Rb=0}function oc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zv(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function dd(){this.Yb=(function(){var y=[];return(function x(T,R,B){for(var H=B[R],V=0;V<H&&(T.push(B.length>R+1?[]:0),!(B.length<R+1));V++)x(T[V],R+1,B)})(y,0,[3,11]),y})()}function Ih(){this.jb=i(3),this.Wc=s([4,8],dd),this.Xc=s([4,17],dd)}function Lh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function fd(){this.Na=this.la=0}function Rh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new hd),this.aa=0,this.l=new sc}function Dh(){this.y=i(16),this.f=i(8),this.ea=i(8)}function $h(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new ic,this.Kc=new oc,this.ed=new Lh,this.Qa=new Zv,this.Ic=this.$c=this.Aa=0,this.D=new Mh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$),this.ia=0,this.pb=o(4,Rh),this.Pa=new Ih,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dh),this.Hd=0,this.rb=Array(new fd),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hd),this.L=this.aa=0,this.gd=s([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jv(){var y=new $h;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Ld||(Ld=lo)),y}function tn(y,x,T){return y.a==0&&(y.a=x,y.sc=T,y.cb=0),0}function Fh(y,x,T){return 3<=T&&y[x+0]==157&&y[x+1]==1&&y[x+2]==42}function Bh(y,x){if(y==null)return 0;if(y.a=0,y.sc="OK",x==null)return tn(y,2,"null VP8Io passed to VP8GetHeaders()");var T=x.data,R=x.w,B=x.ha;if(4>B)return tn(y,7,"Truncated header.");var H=T[R+0]|T[R+1]<<8|T[R+2]<<16,V=y.Od;if(V.Rb=!(1&H),V.td=H>>1&7,V.yd=H>>4&1,V.ub=H>>5,3<V.td)return tn(y,3,"Incorrect keyframe parameters.");if(!V.yd)return tn(y,4,"Frame not displayable.");R+=3,B-=3;var X=y.Kc;if(V.Rb){if(7>B)return tn(y,7,"cannot parse picture header");if(!Fh(T,R,B))return tn(y,3,"Bad code word");X.c=16383&(T[R+4]<<8|T[R+3]),X.Td=T[R+4]>>6,X.i=16383&(T[R+6]<<8|T[R+5]),X.Ud=T[R+6]>>6,R+=7,B-=7,y.za=X.c+15>>4,y.Ub=X.i+15>>4,x.width=X.c,x.height=X.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((H=y.Pa).jb,0,255,H.jb.length),e((H=y.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(V.ub>B)return tn(y,7,"bad partition length");Y(H=y.m,T,R,V.ub),R+=V.ub,B-=V.ub,V.Rb&&(X.Ld=ie(H),X.Kd=ie(H)),X=y.Qa;var Z,ee=y.Pa;if(e(H!=null),e(X!=null),X.Cb=ie(H),X.Cb){if(X.Bb=ie(H),ie(H)){for(X.Fb=ie(H),Z=0;4>Z;++Z)X.Zb[Z]=ie(H)?F(H,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=ie(H)?F(H,6):0}if(X.Bb)for(Z=0;3>Z;++Z)ee.jb[Z]=ie(H)?W(H,8):255}else X.Bb=0;if(H.Ka)return tn(y,3,"cannot parse segment header");if((X=y.ed).zd=ie(H),X.Tb=W(H,6),X.wb=W(H,3),X.Pc=ie(H),X.Pc&&ie(H)){for(ee=0;4>ee;++ee)ie(H)&&(X.vd[ee]=F(H,6));for(ee=0;4>ee;++ee)ie(H)&&(X.od[ee]=F(H,6))}if(y.L=X.Tb==0?0:X.zd?1:2,H.Ka)return tn(y,3,"cannot parse filter header");var fe=B;if(B=Z=R,R=Z+fe,X=fe,y.Xb=(1<<W(y.m,2))-1,fe<3*(ee=y.Xb))T=7;else{for(Z+=3*ee,X-=3*ee,fe=0;fe<ee;++fe){var xe=T[B+0]|T[B+1]<<8|T[B+2]<<16;xe>X&&(xe=X),Y(y.Jc[+fe],T,Z,xe),Z+=xe,X-=xe,B+=3}Y(y.Jc[+ee],T,Z,X),T=Z<R?0:5}if(T!=0)return tn(y,T,"cannot parse partitions");for(T=W(Z=y.m,7),B=ie(Z)?F(Z,4):0,R=ie(Z)?F(Z,4):0,X=ie(Z)?F(Z,4):0,ee=ie(Z)?F(Z,4):0,Z=ie(Z)?F(Z,4):0,fe=y.Qa,xe=0;4>xe;++xe){if(fe.Cb){var te=fe.Zb[xe];fe.Fb||(te+=T)}else{if(0<xe){y.pb[xe]=y.pb[0];continue}te=T}var pe=y.pb[xe];pe.Sc[0]=x0[ln(te+B,127)],pe.Sc[1]=w0[ln(te+0,127)],pe.Eb[0]=2*x0[ln(te+R,127)],pe.Eb[1]=101581*w0[ln(te+X,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=x0[ln(te+ee,117)],pe.Qc[1]=w0[ln(te+Z,127)],pe.lc=te+Z}if(!V.Rb)return tn(y,4,"Not a key frame.");for(ie(H),V=y.Pa,T=0;4>T;++T){for(B=0;8>B;++B)for(R=0;3>R;++R)for(X=0;11>X;++X)ee=he(H,l9[T][B][R][X])?W(H,8):o9[T][B][R][X],V.Wc[T][B].Yb[R][X]=ee;for(B=0;17>B;++B)V.Xc[T][B]=V.Wc[T][c9[B]]}return y.kc=ie(H),y.kc&&(y.Bd=W(H,8)),y.cb=1}function lo(y,x,T,R,B,H,V){var X=x[B].Yb[T];for(T=0;16>B;++B){if(!he(y,X[T+0]))return B;for(;!he(y,X[T+1]);)if(X=x[++B].Yb[0],T=0,B==16)return 16;var Z=x[B+1].Yb;if(he(y,X[T+2])){var ee=y,fe=0;if(he(ee,(te=X)[(xe=T)+3]))if(he(ee,te[xe+6])){for(X=0,xe=2*(fe=he(ee,te[xe+8]))+(te=he(ee,te[xe+9+fe])),fe=0,te=a9[xe];te[X];++X)fe+=fe+he(ee,te[X]);fe+=3+(8<<xe)}else he(ee,te[xe+7])?(fe=7+2*he(ee,165),fe+=he(ee,145)):fe=5+he(ee,159);else fe=he(ee,te[xe+4])?3+he(ee,te[xe+5]):2;X=Z[2]}else fe=1,X=Z[1];Z=V+i9[B],0>(ee=y).b&&de(ee);var xe,te=ee.b,pe=(xe=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=pe,ee.Ca|=1,ee.I-=(xe+1&pe)<<te,H[Z]=((fe^pe)-pe)*R[(0<B)+0]}return 16}function Xs(y){var x=y.rb[y.sb-1];x.la=0,x.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function ei(y,x,T,R,B){B=y[x+T+32*R]+(B>>3),y[x+T+32*R]=-256&B?0>B?0:255:B}function Zs(y,x,T,R,B,H){ei(y,x,0,T,R+B),ei(y,x,1,T,R+H),ei(y,x,2,T,R-H),ei(y,x,3,T,R-B)}function Hr(y){return(20091*y>>16)+y}function pd(y,x,T,R){var B,H=0,V=i(16);for(B=0;4>B;++B){var X=y[x+0]+y[x+8],Z=y[x+0]-y[x+8],ee=(35468*y[x+4]>>16)-Hr(y[x+12]),fe=Hr(y[x+4])+(35468*y[x+12]>>16);V[H+0]=X+fe,V[H+1]=Z+ee,V[H+2]=Z-ee,V[H+3]=X-fe,H+=4,x++}for(B=H=0;4>B;++B)X=(y=V[H+0]+4)+V[H+8],Z=y-V[H+8],ee=(35468*V[H+4]>>16)-Hr(V[H+12]),ei(T,R,0,0,X+(fe=Hr(V[H+4])+(35468*V[H+12]>>16))),ei(T,R,1,0,Z+ee),ei(T,R,2,0,Z-ee),ei(T,R,3,0,X-fe),H++,R+=32}function Qv(y,x,T,R){var B=y[x+0]+4,H=35468*y[x+4]>>16,V=Hr(y[x+4]),X=35468*y[x+1]>>16;Zs(T,R,0,B+V,y=Hr(y[x+1]),X),Zs(T,R,1,B+H,y,X),Zs(T,R,2,B-H,y,X),Zs(T,R,3,B-V,y,X)}function e0(y,x,T,R,B){pd(y,x,T,R),B&&pd(y,x+16,T,R+4)}function t0(y,x,T,R){Yr(y,x+0,T,R,1),Yr(y,x+32,T,R+128,1)}function Ei(y,x,T,R){var B;for(y=y[x+0]+4,B=0;4>B;++B)for(x=0;4>x;++x)ei(T,R,x,B,y)}function qh(y,x,T,R){y[x+0]&&Di(y,x+0,T,R),y[x+16]&&Di(y,x+16,T,R+4),y[x+32]&&Di(y,x+32,T,R+128),y[x+48]&&Di(y,x+48,T,R+128+4)}function Uh(y,x,T,R){var B,H=i(16);for(B=0;4>B;++B){var V=y[x+0+B]+y[x+12+B],X=y[x+4+B]+y[x+8+B],Z=y[x+4+B]-y[x+8+B],ee=y[x+0+B]-y[x+12+B];H[0+B]=V+X,H[8+B]=V-X,H[4+B]=ee+Z,H[12+B]=ee-Z}for(B=0;4>B;++B)V=(y=H[0+4*B]+3)+H[3+4*B],X=H[1+4*B]+H[2+4*B],Z=H[1+4*B]-H[2+4*B],ee=y-H[3+4*B],T[R+0]=V+X>>3,T[R+16]=ee+Z>>3,T[R+32]=V-X>>3,T[R+48]=ee-Z>>3,R+=64}function es(y,x,T){var R,B=x-32,H=ma,V=255-y[B-1];for(R=0;R<T;++R){var X,Z=H,ee=V+y[x-1];for(X=0;X<T;++X)y[x+X]=Z[ee+y[B+X]];x+=32}}function md(y,x){es(y,x,4)}function r0(y,x){es(y,x,8)}function n0(y,x){es(y,x,16)}function a0(y,x){var T;for(T=0;16>T;++T)n(y,x+32*T,y,x-32,16)}function gd(y,x){var T;for(T=16;0<T;--T)a(y,x,y[x-1],16),x+=32}function Js(y,x,T){var R;for(R=0;16>R;++R)a(x,T+32*R,y,16)}function ts(y,x){var T,R=16;for(T=0;16>T;++T)R+=y[x-1+32*T]+y[x+T-32];Js(R>>5,y,x)}function i0(y,x){var T,R=8;for(T=0;16>T;++T)R+=y[x-1+32*T];Js(R>>4,y,x)}function Qs(y,x){var T,R=8;for(T=0;16>T;++T)R+=y[x+T-32];Js(R>>4,y,x)}function vd(y,x){Js(128,y,x)}function Nt(y,x,T){return y+2*x+T+2>>2}function o0(y,x){var T,R=x-32;for(R=new Uint8Array([Nt(y[R-1],y[R+0],y[R+1]),Nt(y[R+0],y[R+1],y[R+2]),Nt(y[R+1],y[R+2],y[R+3]),Nt(y[R+2],y[R+3],y[R+4])]),T=0;4>T;++T)n(y,x+32*T,R,0,R.length)}function s0(y,x){var T=y[x-1],R=y[x-1+32],B=y[x-1+64],H=y[x-1+96];ge(y,x+0,16843009*Nt(y[x-1-32],T,R)),ge(y,x+32,16843009*Nt(T,R,B)),ge(y,x+64,16843009*Nt(R,B,H)),ge(y,x+96,16843009*Nt(B,H,H))}function l0(y,x){var T,R=4;for(T=0;4>T;++T)R+=y[x+T-32]+y[x-1+32*T];for(R>>=3,T=0;4>T;++T)a(y,x+32*T,R,4)}function c0(y,x){var T=y[x-1+0],R=y[x-1+32],B=y[x-1+64],H=y[x-1-32],V=y[x+0-32],X=y[x+1-32],Z=y[x+2-32],ee=y[x+3-32];y[x+0+96]=Nt(R,B,y[x-1+96]),y[x+1+96]=y[x+0+64]=Nt(T,R,B),y[x+2+96]=y[x+1+64]=y[x+0+32]=Nt(H,T,R),y[x+3+96]=y[x+2+64]=y[x+1+32]=y[x+0+0]=Nt(V,H,T),y[x+3+64]=y[x+2+32]=y[x+1+0]=Nt(X,V,H),y[x+3+32]=y[x+2+0]=Nt(Z,X,V),y[x+3+0]=Nt(ee,Z,X)}function co(y,x){var T=y[x+1-32],R=y[x+2-32],B=y[x+3-32],H=y[x+4-32],V=y[x+5-32],X=y[x+6-32],Z=y[x+7-32];y[x+0+0]=Nt(y[x+0-32],T,R),y[x+1+0]=y[x+0+32]=Nt(T,R,B),y[x+2+0]=y[x+1+32]=y[x+0+64]=Nt(R,B,H),y[x+3+0]=y[x+2+32]=y[x+1+64]=y[x+0+96]=Nt(B,H,V),y[x+3+32]=y[x+2+64]=y[x+1+96]=Nt(H,V,X),y[x+3+64]=y[x+2+96]=Nt(V,X,Z),y[x+3+96]=Nt(X,Z,Z)}function uo(y,x){var T=y[x-1+0],R=y[x-1+32],B=y[x-1+64],H=y[x-1-32],V=y[x+0-32],X=y[x+1-32],Z=y[x+2-32],ee=y[x+3-32];y[x+0+0]=y[x+1+64]=H+V+1>>1,y[x+1+0]=y[x+2+64]=V+X+1>>1,y[x+2+0]=y[x+3+64]=X+Z+1>>1,y[x+3+0]=Z+ee+1>>1,y[x+0+96]=Nt(B,R,T),y[x+0+64]=Nt(R,T,H),y[x+0+32]=y[x+1+96]=Nt(T,H,V),y[x+1+32]=y[x+2+96]=Nt(H,V,X),y[x+2+32]=y[x+3+96]=Nt(V,X,Z),y[x+3+32]=Nt(X,Z,ee)}function u0(y,x){var T=y[x+0-32],R=y[x+1-32],B=y[x+2-32],H=y[x+3-32],V=y[x+4-32],X=y[x+5-32],Z=y[x+6-32],ee=y[x+7-32];y[x+0+0]=T+R+1>>1,y[x+1+0]=y[x+0+64]=R+B+1>>1,y[x+2+0]=y[x+1+64]=B+H+1>>1,y[x+3+0]=y[x+2+64]=H+V+1>>1,y[x+0+32]=Nt(T,R,B),y[x+1+32]=y[x+0+96]=Nt(R,B,H),y[x+2+32]=y[x+1+96]=Nt(B,H,V),y[x+3+32]=y[x+2+96]=Nt(H,V,X),y[x+3+64]=Nt(V,X,Z),y[x+3+96]=Nt(X,Z,ee)}function d0(y,x){var T=y[x-1+0],R=y[x-1+32],B=y[x-1+64],H=y[x-1+96];y[x+0+0]=T+R+1>>1,y[x+2+0]=y[x+0+32]=R+B+1>>1,y[x+2+32]=y[x+0+64]=B+H+1>>1,y[x+1+0]=Nt(T,R,B),y[x+3+0]=y[x+1+32]=Nt(R,B,H),y[x+3+32]=y[x+1+64]=Nt(B,H,H),y[x+3+64]=y[x+2+64]=y[x+0+96]=y[x+1+96]=y[x+2+96]=y[x+3+96]=H}function lc(y,x){var T=y[x-1+0],R=y[x-1+32],B=y[x-1+64],H=y[x-1+96],V=y[x-1-32],X=y[x+0-32],Z=y[x+1-32],ee=y[x+2-32];y[x+0+0]=y[x+2+32]=T+V+1>>1,y[x+0+32]=y[x+2+64]=R+T+1>>1,y[x+0+64]=y[x+2+96]=B+R+1>>1,y[x+0+96]=H+B+1>>1,y[x+3+0]=Nt(X,Z,ee),y[x+2+0]=Nt(V,X,Z),y[x+1+0]=y[x+3+32]=Nt(T,V,X),y[x+1+32]=y[x+3+64]=Nt(R,T,V),y[x+1+64]=y[x+3+96]=Nt(B,R,T),y[x+1+96]=Nt(H,B,R)}function yd(y,x){var T;for(T=0;8>T;++T)n(y,x+32*T,y,x-32,8)}function el(y,x){var T;for(T=0;8>T;++T)a(y,x,y[x-1],8),x+=32}function cc(y,x,T){var R;for(R=0;8>R;++R)a(x,T+32*R,y,8)}function uc(y,x){var T,R=8;for(T=0;8>T;++T)R+=y[x+T-32]+y[x-1+32*T];cc(R>>4,y,x)}function f0(y,x){var T,R=4;for(T=0;8>T;++T)R+=y[x+T-32];cc(R>>3,y,x)}function bd(y,x){var T,R=4;for(T=0;8>T;++T)R+=y[x-1+32*T];cc(R>>3,y,x)}function xd(y,x){cc(128,y,x)}function tl(y,x,T){var R=y[x-T],B=y[x+0],H=3*(B-R)+m0[1020+y[x-2*T]-y[x+T]],V=Vh[112+(H+4>>3)];y[x-T]=ma[255+R+Vh[112+(H+3>>3)]],y[x+0]=ma[255+B-V]}function rl(y,x,T,R){var B=y[x+0],H=y[x+T];return La[255+y[x-2*T]-y[x-T]]>R||La[255+H-B]>R}function wd(y,x,T,R){return 4*La[255+y[x-T]-y[x+0]]+La[255+y[x-2*T]-y[x+T]]<=R}function dc(y,x,T,R,B){var H=y[x-3*T],V=y[x-2*T],X=y[x-T],Z=y[x+0],ee=y[x+T],fe=y[x+2*T],xe=y[x+3*T];return 4*La[255+X-Z]+La[255+V-ee]>R?0:La[255+y[x-4*T]-H]<=B&&La[255+H-V]<=B&&La[255+V-X]<=B&&La[255+xe-fe]<=B&&La[255+fe-ee]<=B&&La[255+ee-Z]<=B}function _d(y,x,T,R){var B=2*R+1;for(R=0;16>R;++R)wd(y,x+R,T,B)&&tl(y,x+R,T)}function nl(y,x,T,R){var B=2*R+1;for(R=0;16>R;++R)wd(y,x+R*T,1,B)&&tl(y,x+R*T,1)}function jd(y,x,T,R){var B;for(B=3;0<B;--B)_d(y,x+=4*T,T,R)}function Sd(y,x,T,R){var B;for(B=3;0<B;--B)nl(y,x+=4,T,R)}function ha(y,x,T,R,B,H,V,X){for(H=2*H+1;0<B--;){if(dc(y,x,T,H,V))if(rl(y,x,T,X))tl(y,x,T);else{var Z=y,ee=x,fe=T,xe=Z[ee-2*fe],te=Z[ee-fe],pe=Z[ee+0],ye=Z[ee+fe],_e=Z[ee+2*fe],be=27*(Ae=m0[1020+3*(pe-te)+m0[1020+xe-ye]])+63>>7,Se=18*Ae+63>>7,Ae=9*Ae+63>>7;Z[ee-3*fe]=ma[255+Z[ee-3*fe]+Ae],Z[ee-2*fe]=ma[255+xe+Se],Z[ee-fe]=ma[255+te+be],Z[ee+0]=ma[255+pe-be],Z[ee+fe]=ma[255+ye-Se],Z[ee+2*fe]=ma[255+_e-Ae]}x+=R}}function Ti(y,x,T,R,B,H,V,X){for(H=2*H+1;0<B--;){if(dc(y,x,T,H,V))if(rl(y,x,T,X))tl(y,x,T);else{var Z=y,ee=x,fe=T,xe=Z[ee-fe],te=Z[ee+0],pe=Z[ee+fe],ye=Vh[112+(4+(_e=3*(te-xe))>>3)],_e=Vh[112+(_e+3>>3)],be=ye+1>>1;Z[ee-2*fe]=ma[255+Z[ee-2*fe]+be],Z[ee-fe]=ma[255+xe+_e],Z[ee+0]=ma[255+te-ye],Z[ee+fe]=ma[255+pe-be]}x+=R}}function C(y,x,T,R,B,H){ha(y,x,T,1,16,R,B,H)}function q(y,x,T,R,B,H){ha(y,x,1,T,16,R,B,H)}function ne(y,x,T,R,B,H){var V;for(V=3;0<V;--V)Ti(y,x+=4*T,T,1,16,R,B,H)}function ce(y,x,T,R,B,H){var V;for(V=3;0<V;--V)Ti(y,x+=4,1,T,16,R,B,H)}function ve(y,x,T,R,B,H,V,X){ha(y,x,B,1,8,H,V,X),ha(T,R,B,1,8,H,V,X)}function Ne(y,x,T,R,B,H,V,X){ha(y,x,1,B,8,H,V,X),ha(T,R,1,B,8,H,V,X)}function Ee(y,x,T,R,B,H,V,X){Ti(y,x+4*B,B,1,8,H,V,X),Ti(T,R+4*B,B,1,8,H,V,X)}function et(y,x,T,R,B,H,V,X){Ti(y,x+4,1,B,8,H,V,X),Ti(T,R+4,1,B,8,H,V,X)}function ot(){this.ba=new rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $e,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new D}function $r(){this.xb=this.a=0,this.l=new sc,this.ca=new rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=o(4,Ct),this.Oc=0}function rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fr(y,x,T,R,B,H,V){for(y=y==null?0:y[x+0],x=0;x<V;++x)B[H+x]=y+T[R+x]&255,y=B[H+x]}function sn(y,x,T,R,B,H,V){var X;if(y==null)fr(null,null,T,R,B,H,V);else for(X=0;X<V;++X)B[H+X]=y[x+X]+T[R+X]&255}function nn(y,x,T,R,B,H,V){if(y==null)fr(null,null,T,R,B,H,V);else{var X,Z=y[x+0],ee=Z,fe=Z;for(X=0;X<V;++X)ee=fe+(Z=y[x+X])-ee,fe=T[R+X]+(-256&ee?0>ee?0:255:ee)&255,ee=Z,B[H+X]=fe}}function kn(y,x,T,R){var B=x.width,H=x.o;if(e(y!=null&&x!=null),0>T||0>=R||T+R>H)return null;if(!y.Cc){if(y.ga==null){var V;if(y.ga=new rn,(V=y.ga==null)||(V=x.width*x.o,e(y.Gb.length==0),y.Gb=i(V),y.Uc=0,y.Gb==null?V=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,V=1),V=!V),!V){V=y.ga;var X=y.Fa,Z=y.P,ee=y.qc,fe=y.mb,xe=y.nb,te=Z+1,pe=ee-1,ye=V.l;if(e(X!=null&&fe!=null&&x!=null),ls[0]=null,ls[1]=fr,ls[2]=sn,ls[3]=nn,V.ca=fe,V.tb=xe,V.c=x.width,V.i=x.height,e(0<V.c&&0<V.i),1>=ee)x=0;else if(V.$a=3&X[Z+0],V.Z=X[Z+0]>>2&3,V.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||Z)x=0;else if(ye.put=qe,ye.ac=Wn,ye.bc=Fr,ye.ma=V,ye.width=x.width,ye.height=x.height,ye.Da=x.Da,ye.v=x.v,ye.va=x.va,ye.j=x.j,ye.o=x.o,V.$a)e:{e(V.$a==1),x=Ys();t:for(;;){if(x==null){x=0;break e}if(e(V!=null),V.mc=x,x.c=V.c,x.i=V.i,x.l=V.l,x.l.ma=V,x.l.width=V.c,x.l.height=V.i,x.a=0,ae(x.m,X,te,pe),!Oi(V.c,V.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Za(x.s)?(V.ic=1,X=x.c*x.i,x.Ta=null,x.Ua=0,x.V=i(X),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(V.ic=0,x=Ks(x,V.c)),!x))break t;x=1;break e}V.mc=null,x=0}else x=pe>=V.c*V.i;V=!x}if(V)return null;y.ga.Lc!=1?y.Ga=0:R=H-T}e(y.ga!=null),e(T+R<=H);e:{if(x=(X=y.ga).c,H=X.l.o,X.$a==0){if(te=y.rc,pe=y.Vc,ye=y.Fa,Z=y.P+1+T*x,ee=y.mb,fe=y.nb+T*x,e(Z<=y.P+y.qc),X.Z!=0)for(e(ls[X.Z]!=null),V=0;V<R;++V)ls[X.Z](te,pe,ye,Z,ee,fe,x),te=ee,pe=fe,fe+=x,Z+=x;else for(V=0;V<R;++V)n(ee,fe,ye,Z,x),te=ee,pe=fe,fe+=x,Z+=x;y.rc=te,y.Vc=pe}else{if(e(X.mc!=null),x=T+R,e((V=X.mc)!=null),e(x<=V.i),V.C>=x)x=1;else if(X.ic||al(),X.ic){X=V.V,te=V.Ba,pe=V.c;var _e=V.i,be=(ye=1,Z=V.$/pe,ee=V.$%pe,fe=V.m,xe=V.s,V.$),Se=pe*_e,Ae=pe*x,Ie=xe.wc,Oe=be<Ae?bn(xe,ee,Z):null;e(be<=Se),e(x<=_e),e(Za(xe));t:for(;;){for(;!fe.h&&be<Ae;){if(ee&Ie||(Oe=bn(xe,ee,Z)),e(Oe!=null),se(fe),256>(_e=kr(Oe.G[0],Oe.H[0],fe)))X[te+be]=_e,++be,++ee>=pe&&(ee=0,++Z<=x&&!(Z%16)&&Ja(V,Z));else{if(!(280>_e)){ye=0;break t}_e=Er(_e-256,fe);var lt,Ye=kr(Oe.G[4],Oe.H[4],fe);if(se(fe),!(be>=(Ye=Tr(pe,Ye=Er(Ye,fe)))&&Se-be>=_e)){ye=0;break t}for(lt=0;lt<_e;++lt)X[te+be+lt]=X[te+be+lt-Ye];for(be+=_e,ee+=_e;ee>=pe;)ee-=pe,++Z<=x&&!(Z%16)&&Ja(V,Z);be<Ae&&ee&Ie&&(Oe=bn(xe,ee,Z))}e(fe.h==J(fe))}Ja(V,Z>x?x:Z);break t}!ye||fe.h&&be<Se?(ye=0,V.a=fe.h?5:3):V.$=be,x=ye}else x=Qa(V,V.V,V.Ba,V.c,V.i,x,ac);if(!x){R=0;break e}}T+R>=H&&(y.Cc=1),R=1}if(!R)return null;if(y.Cc&&((R=y.ga)!=null&&(R.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*B}function fo(y,x,T,R,B,H){for(;0<B--;){var V,X=y,Z=x+(T?1:0),ee=y,fe=x+(T?0:3);for(V=0;V<R;++V){var xe=ee[fe+4*V];xe!=255&&(xe*=32897,X[Z+4*V+0]=X[Z+4*V+0]*xe>>23,X[Z+4*V+1]=X[Z+4*V+1]*xe>>23,X[Z+4*V+2]=X[Z+4*V+2]*xe>>23)}x+=H}}function rs(y,x,T,R,B){for(;0<R--;){var H;for(H=0;H<T;++H){var V=y[x+2*H+0],X=15&(ee=y[x+2*H+1]),Z=4369*X,ee=(240&ee|ee>>4)*Z>>16;y[x+2*H+0]=(240&V|V>>4)*Z>>16&240|(15&V|V<<4)*Z>>16>>4&15,y[x+2*H+1]=240&ee|X}x+=B}}function h0(y,x,T,R,B,H,V,X){var Z,ee,fe=255;for(ee=0;ee<B;++ee){for(Z=0;Z<R;++Z){var xe=y[x+Z];H[V+4*Z]=xe,fe&=xe}x+=T,V+=X}return fe!=255}function zh(y,x,T,R,B){var H;for(H=0;H<B;++H)T[R+H]=y[x+H]>>8}function al(){Id=fo,IS=rs,LS=h0,RS=zh}function ti(y,x,T){I[y]=function(R,B,H,V,X,Z,ee,fe,xe,te,pe,ye,_e,be,Se,Ae,Ie){var Oe,lt=Ie-1>>1,Ye=X[Z+0]|ee[fe+0]<<16,Et=xe[te+0]|pe[ye+0]<<16;e(R!=null);var tt=3*Ye+Et+131074>>2;for(x(R[B+0],255&tt,tt>>16,_e,be),H!=null&&(tt=3*Et+Ye+131074>>2,x(H[V+0],255&tt,tt>>16,Se,Ae)),Oe=1;Oe<=lt;++Oe){var Wt=X[Z+Oe]|ee[fe+Oe]<<16,cn=xe[te+Oe]|pe[ye+Oe]<<16,Tt=Ye+Wt+Et+cn+524296,rt=Tt+2*(Wt+Et)>>3;tt=rt+Ye>>1,Ye=(Tt=Tt+2*(Ye+cn)>>3)+Wt>>1,x(R[B+2*Oe-1],255&tt,tt>>16,_e,be+(2*Oe-1)*T),x(R[B+2*Oe-0],255&Ye,Ye>>16,_e,be+(2*Oe-0)*T),H!=null&&(tt=Tt+Et>>1,Ye=rt+cn>>1,x(H[V+2*Oe-1],255&tt,tt>>16,Se,Ae+(2*Oe-1)*T),x(H[V+2*Oe+0],255&Ye,Ye>>16,Se,Ae+(2*Oe+0)*T)),Ye=Wt,Et=cn}1&Ie||(tt=3*Ye+Et+131074>>2,x(R[B+Ie-1],255&tt,tt>>16,_e,be+(Ie-1)*T),H!=null&&(tt=3*Et+Ye+131074>>2,x(H[V+Ie-1],255&tt,tt>>16,Se,Ae+(Ie-1)*T)))}}function Nd(){Ra[Gh]=d9,Ra[Yh]=VS,Ra[qS]=f9,Ra[Kh]=GS,Ra[Xh]=YS,Ra[g0]=KS,Ra[US]=h9,Ra[v0]=VS,Ra[y0]=GS,Ra[Zh]=YS,Ra[b0]=KS}function fc(y){return y&-16384?0>y?0:255:y>>p9}function ns(y,x){return fc((19077*y>>8)+(26149*x>>8)-14234)}function xn(y,x,T){return fc((19077*y>>8)-(6419*x>>8)-(13320*T>>8)+8708)}function ho(y,x){return fc((19077*y>>8)+(33050*x>>8)-17685)}function po(y,x,T,R,B){R[B+0]=ns(y,T),R[B+1]=xn(y,x,T),R[B+2]=ho(y,x)}function hc(y,x,T,R,B){R[B+0]=ho(y,x),R[B+1]=xn(y,x,T),R[B+2]=ns(y,T)}function Ad(y,x,T,R,B){var H=xn(y,x,T);x=H<<3&224|ho(y,x)>>3,R[B+0]=248&ns(y,T)|H>>5,R[B+1]=x}function Hn(y,x,T,R,B){var H=240&ho(y,x)|15;R[B+0]=240&ns(y,T)|xn(y,x,T)>>4,R[B+1]=H}function Wh(y,x,T,R,B){R[B+0]=255,po(y,x,T,R,B+1)}function pc(y,x,T,R,B){hc(y,x,T,R,B),R[B+3]=255}function Hh(y,x,T,R,B){po(y,x,T,R,B),R[B+3]=255}function ln(y,x){return 0>y?0:y>x?x:y}function Ia(y,x,T){I[y]=function(R,B,H,V,X,Z,ee,fe,xe){for(var te=fe+(-2&xe)*T;fe!=te;)x(R[B+0],H[V+0],X[Z+0],ee,fe),x(R[B+1],H[V+0],X[Z+0],ee,fe+T),B+=2,++V,++Z,fe+=2*T;1&xe&&x(R[B+0],H[V+0],X[Z+0],ee,fe)}}function kd(y,x,T){return T==0?y==0?x==0?6:5:x==0?4:0:T}function Pd(y,x,T,R,B){switch(y>>>30){case 3:Yr(x,T,R,B,0);break;case 2:go(x,T,R,B);break;case 1:Di(x,T,R,B)}}function as(y,x){var T,R,B=x.M,H=x.Nb,V=y.oc,X=y.pc+40,Z=y.oc,ee=y.pc+584,fe=y.oc,xe=y.pc+600;for(T=0;16>T;++T)V[X+32*T-1]=129;for(T=0;8>T;++T)Z[ee+32*T-1]=129,fe[xe+32*T-1]=129;for(0<B?V[X-1-32]=Z[ee-1-32]=fe[xe-1-32]=129:(a(V,X-32-1,127,21),a(Z,ee-32-1,127,9),a(fe,xe-32-1,127,9)),R=0;R<y.za;++R){var te=x.ya[x.aa+R];if(0<R){for(T=-1;16>T;++T)n(V,X+32*T-4,V,X+32*T+12,4);for(T=-1;8>T;++T)n(Z,ee+32*T-4,Z,ee+32*T+4,4),n(fe,xe+32*T-4,fe,xe+32*T+4,4)}var pe=y.Gd,ye=y.Hd+R,_e=te.ad,be=te.Hc;if(0<B&&(n(V,X-32,pe[ye].y,0,16),n(Z,ee-32,pe[ye].f,0,8),n(fe,xe-32,pe[ye].ea,0,8)),te.Za){var Se=V,Ae=X-32+16;for(0<B&&(R>=y.za-1?a(Se,Ae,pe[ye].y[15],4):n(Se,Ae,pe[ye+1].y,0,4)),T=0;4>T;T++)Se[Ae+128+T]=Se[Ae+256+T]=Se[Ae+384+T]=Se[Ae+0+T];for(T=0;16>T;++T,be<<=2)Se=V,Ae=X+ZS[T],ri[te.Ob[T]](Se,Ae),Pd(be,_e,16*+T,Se,Ae)}else if(Se=kd(R,B,te.Ob[0]),ss[Se](V,X),be!=0)for(T=0;16>T;++T,be<<=2)Pd(be,_e,16*+T,V,X+ZS[T]);for(T=te.Gc,Se=kd(R,B,te.Dd),vo[Se](Z,ee),vo[Se](fe,xe),be=_e,Se=Z,Ae=ee,255&(te=0|T)&&(170&te?bc(be,256,Se,Ae):Td(be,256,Se,Ae)),te=fe,be=xe,255&(T>>=8)&&(170&T?bc(_e,320,te,be):Td(_e,320,te,be)),B<y.Ub-1&&(n(pe[ye].y,0,V,X+480,16),n(pe[ye].f,0,Z,ee+224,8),n(pe[ye].ea,0,fe,xe+224,8)),T=8*H*y.B,pe=y.sa,ye=y.ta+16*R+16*H*y.R,_e=y.qa,te=y.ra+8*R+T,be=y.Ha,Se=y.Ia+8*R+T,T=0;16>T;++T)n(pe,ye+T*y.R,V,X+32*T,16);for(T=0;8>T;++T)n(_e,te+T*y.B,Z,ee+32*T,8),n(be,Se+T*y.B,fe,xe+32*T,8)}}function mc(y,x,T,R,B,H,V,X,Z){var ee=[0],fe=[0],xe=0,te=Z!=null?Z.kd:0,pe=Z??new xt;if(y==null||12>T)return 7;pe.data=y,pe.w=x,pe.ha=T,x=[x],T=[T],pe.gb=[pe.gb];e:{var ye=x,_e=T,be=pe.gb;if(e(y!=null),e(_e!=null),e(be!=null),be[0]=0,12<=_e[0]&&!r(y,ye[0],"RIFF")){if(r(y,ye[0]+8,"WEBP")){be=3;break e}var Se=me(y,ye[0]+4);if(12>Se||4294967286<Se){be=3;break e}if(te&&Se>_e[0]-8){be=7;break e}be[0]=Se,ye[0]+=12,_e[0]-=12}be=0}if(be!=0)return be;for(Se=0<pe.gb[0],T=T[0];;){e:{var Ae=y;_e=x,be=T;var Ie=ee,Oe=fe,lt=ye=[0];if((tt=xe=[xe])[0]=0,8>be[0])be=7;else{if(!r(Ae,_e[0],"VP8X")){if(me(Ae,_e[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Ye=me(Ae,_e[0]+8),Et=1+Pe(Ae,_e[0]+12);if(2147483648<=Et*(Ae=1+Pe(Ae,_e[0]+15))){be=3;break e}lt!=null&&(lt[0]=Ye),Ie!=null&&(Ie[0]=Et),Oe!=null&&(Oe[0]=Ae),_e[0]+=18,be[0]-=18,tt[0]=1}be=0}}if(xe=xe[0],ye=ye[0],be!=0)return be;if(_e=!!(2&ye),!Se&&xe)return 3;if(H!=null&&(H[0]=!!(16&ye)),V!=null&&(V[0]=_e),X!=null&&(X[0]=0),V=ee[0],ye=fe[0],xe&&_e&&Z==null){be=0;break}if(4>T){be=7;break}if(Se&&xe||!Se&&!xe&&!r(y,x[0],"ALPH")){T=[T],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Ye=y,be=x,Se=T;var tt=pe.gb;Ie=pe.na,Oe=pe.P,lt=pe.Sa,Et=22,e(Ye!=null),e(Se!=null),Ae=be[0];var Wt=Se[0];for(e(Ie!=null),e(lt!=null),Ie[0]=null,Oe[0]=null,lt[0]=0;;){if(be[0]=Ae,Se[0]=Wt,8>Wt){be=7;break e}var cn=me(Ye,Ae+4);if(4294967286<cn){be=3;break e}var Tt=8+cn+1&-2;if(Et+=Tt,0<tt&&Et>tt){be=3;break e}if(!r(Ye,Ae,"VP8 ")||!r(Ye,Ae,"VP8L")){be=0;break e}if(Wt[0]<Tt){be=7;break e}r(Ye,Ae,"ALPH")||(Ie[0]=Ye,Oe[0]=Ae+8,lt[0]=cn),Ae+=Tt,Wt-=Tt}}if(T=T[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],be!=0)break}T=[T],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(tt=y,be=x,Se=T,Ie=pe.gb[0],Oe=pe.Ja,lt=pe.xa,Ye=be[0],Ae=!r(tt,Ye,"VP8 "),Et=!r(tt,Ye,"VP8L"),e(tt!=null),e(Se!=null),e(Oe!=null),e(lt!=null),8>Se[0])be=7;else{if(Ae||Et){if(tt=me(tt,Ye+4),12<=Ie&&tt>Ie-12){be=3;break e}if(te&&tt>Se[0]-8){be=7;break e}Oe[0]=tt,be[0]+=8,Se[0]-=8,lt[0]=Et}else lt[0]=5<=Se[0]&&tt[Ye+0]==47&&!(tt[Ye+4]>>5),Oe[0]=Se[0];be=0}if(T=T[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],x=x[0],be!=0)break;if(4294967286<pe.Ja)return 3;if(X==null||_e||(X[0]=pe.xa?2:1),V=[V],ye=[ye],pe.xa){if(5>T){be=7;break}X=V,te=ye,_e=H,y==null||5>T?y=0:5<=T&&y[x+0]==47&&!(y[x+4]>>5)?(Se=[0],tt=[0],Ie=[0],ae(Oe=new U,y,x,T),ta(Oe,Se,tt,Ie)?(X!=null&&(X[0]=Se[0]),te!=null&&(te[0]=tt[0]),_e!=null&&(_e[0]=Ie[0]),y=1):y=0):y=0}else{if(10>T){be=7;break}X=ye,y==null||10>T||!Fh(y,x+3,T-3)?y=0:(te=y[x+0]|y[x+1]<<8|y[x+2]<<16,_e=16383&(y[x+7]<<8|y[x+6]),y=16383&(y[x+9]<<8|y[x+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=pe.Ja||!_e||!y?y=0:(V&&(V[0]=_e),X&&(X[0]=y),y=1))}if(!y||(V=V[0],ye=ye[0],xe&&(ee[0]!=V||fe[0]!=ye)))return 3;Z!=null&&(Z[0]=pe,Z.offset=x-Z.w,e(4294967286>x-Z.w),e(Z.offset==Z.ha-T));break}return be==0||be==7&&xe&&Z==null?(H!=null&&(H[0]|=pe.na!=null&&0<pe.na.length),R!=null&&(R[0]=V),B!=null&&(B[0]=ye),0):be}function ra(y,x,T){var R=x.width,B=x.height,H=0,V=0,X=R,Z=B;if(x.Da=y!=null&&0<y.Da,x.Da&&(X=y.cd,Z=y.bd,H=y.v,V=y.j,11>T||(H&=-2,V&=-2),0>H||0>V||0>=X||0>=Z||H+X>R||V+Z>B))return 0;if(x.v=H,x.j=V,x.va=H+X,x.o=V+Z,x.U=X,x.T=Z,x.da=y!=null&&0<y.da,x.da){if(!Ue(X,Z,T=[y.ib],H=[y.hb]))return 0;x.ib=T[0],x.hb=H[0]}return x.ob=y!=null&&y.ob,x.Kb=y==null||!y.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*B/4,x.Kb=0),1}function na(y){if(y==null)return 2;if(11>y.S){var x=y.f.RGBA;x.fb+=(y.height-1)*x.A,x.A=-x.A}else x=y.f.kb,y=y.height,x.O+=(y-1)*x.fa,x.fa=-x.fa,x.N+=(y-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(y-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(y-1)*x.lb,x.lb=-x.lb);return 0}function il(y,x,T,R){if(R==null||0>=y||0>=x)return 2;if(T!=null){if(T.Da){var B=T.cd,H=T.bd,V=-2&T.v,X=-2&T.j;if(0>V||0>X||0>=B||0>=H||V+B>y||X+H>x)return 2;y=B,x=H}if(T.da){if(!Ue(y,x,B=[T.ib],H=[T.hb]))return 2;y=B[0],x=H[0]}}R.width=y,R.height=x;e:{var Z=R.width,ee=R.height;if(y=R.S,0>=Z||0>=ee||!(y>=Gh&&13>y))y=2;else{if(0>=R.Rd&&R.sd==null){V=H=B=x=0;var fe=(X=Z*JS[y])*ee;if(11>y||(H=(ee+1)/2*(x=(Z+1)/2),y==12&&(V=(B=Z)*ee)),(ee=i(fe+2*H+V))==null){y=1;break e}R.sd=ee,11>y?((Z=R.f.RGBA).eb=ee,Z.fb=0,Z.A=X,Z.size=fe):((Z=R.f.kb).y=ee,Z.O=0,Z.fa=X,Z.Fd=fe,Z.f=ee,Z.N=0+fe,Z.Ab=x,Z.Cd=H,Z.ea=ee,Z.W=0+fe+H,Z.Db=x,Z.Ed=H,y==12&&(Z.F=ee,Z.J=0+fe+2*H),Z.Tc=V,Z.lb=B)}if(x=1,B=R.S,H=R.width,V=R.height,B>=Gh&&13>B)if(11>B)y=R.f.RGBA,x&=(X=Math.abs(y.A))*(V-1)+H<=y.size,x&=X>=H*JS[B],x&=y.eb!=null;else{y=R.f.kb,X=(H+1)/2,fe=(V+1)/2,Z=Math.abs(y.fa),ee=Math.abs(y.Ab);var xe=Math.abs(y.Db),te=Math.abs(y.lb),pe=te*(V-1)+H;x&=Z*(V-1)+H<=y.Fd,x&=ee*(fe-1)+X<=y.Cd,x=(x&=xe*(fe-1)+X<=y.Ed)&Z>=H&ee>=X&xe>=X,x&=y.y!=null,x&=y.f!=null,x&=y.ea!=null,B==12&&(x&=te>=H,x&=pe<=y.Tc,x&=y.F!=null)}else x=0;y=x?0:2}}return y!=0||T!=null&&T.fd&&(y=na(R)),y}var Ii=64,is=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cd=24,os=32,Vr=8,p0=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,x,T){return x[T+0]},I.Predictor3=function(y,x,T){return x[T+1]},I.Predictor4=function(y,x,T){return x[T-1]},I.Predictor5=function(y,x,T){return Ge(Ge(y,x[T+1]),x[T+0])},I.Predictor6=function(y,x,T){return Ge(y,x[T-1])},I.Predictor7=function(y,x,T){return Ge(y,x[T+0])},I.Predictor8=function(y,x,T){return Ge(x[T-1],x[T+0])},I.Predictor9=function(y,x,T){return Ge(x[T+0],x[T+1])},I.Predictor10=function(y,x,T){return Ge(Ge(y,x[T-1]),Ge(x[T+0],x[T+1]))},I.Predictor11=function(y,x,T){var R=x[T+0];return 0>=gt(R>>24&255,y>>24&255,(x=x[T-1])>>24&255)+gt(R>>16&255,y>>16&255,x>>16&255)+gt(R>>8&255,y>>8&255,x>>8&255)+gt(255&R,255&y,255&x)?R:y},I.Predictor12=function(y,x,T){var R=x[T+0];return(zt((y>>24&255)+(R>>24&255)-((x=x[T-1])>>24&255))<<24|zt((y>>16&255)+(R>>16&255)-(x>>16&255))<<16|zt((y>>8&255)+(R>>8&255)-(x>>8&255))<<8|zt((255&y)+(255&R)-(255&x)))>>>0},I.Predictor13=function(y,x,T){var R=x[T-1];return(mt((y=Ge(y,x[T+0]))>>24&255,R>>24&255)<<24|mt(y>>16&255,R>>16&255)<<16|mt(y>>8&255,R>>8&255)<<8|mt(255&y,255&R))>>>0};var Li=I.PredictorAdd0;I.PredictorAdd1=er,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Ri=I.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var gc,Od=I.ColorIndexInverseTransform,vc=I.MapARGB,yc=I.VP8LColorIndexInverseTransformAlpha,ol=I.MapAlpha,sl=I.VP8LPredictorsAdd=[];sl.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var mo,Ed,pa,Mi,br,xr,Gr,Yr,go,bc,Di,Td,wS,_S,jS,SS,NS,AS,kS,PS,CS,OS,ES,TS,Id,IS,LS,RS,MS=i(511),DS=i(2041),$S=i(225),FS=i(767),BS=0,m0=DS,Vh=$S,ma=FS,La=MS,Gh=0,Yh=1,qS=2,Kh=3,Xh=4,g0=5,US=6,v0=7,y0=8,Zh=9,b0=10,ZF=[2,3,7],JF=[3,3,11],zS=[280,256,256,256,40],QF=[0,1,1,1,0],e9=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],t9=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],r9=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],n9=8,x0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],w0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ld=null,a9=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],i9=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],WS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],o9=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],s9=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],l9=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],c9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ss=[],ri=[],vo=[],u9=1,HS=2,ls=[],Ra=[];ti("UpsampleRgbLinePair",po,3),ti("UpsampleBgrLinePair",hc,3),ti("UpsampleRgbaLinePair",Hh,4),ti("UpsampleBgraLinePair",pc,4),ti("UpsampleArgbLinePair",Wh,4),ti("UpsampleRgba4444LinePair",Hn,2),ti("UpsampleRgb565LinePair",Ad,2);var d9=I.UpsampleRgbLinePair,f9=I.UpsampleBgrLinePair,VS=I.UpsampleRgbaLinePair,GS=I.UpsampleBgraLinePair,YS=I.UpsampleArgbLinePair,KS=I.UpsampleRgba4444LinePair,h9=I.UpsampleRgb565LinePair,Jh=16,Qh=1<<Jh-1,Rd=-227,_0=482,p9=6,XS=0,m9=i(256),g9=i(256),v9=i(256),y9=i(256),b9=i(_0-Rd),x9=i(_0-Rd);Ia("YuvToRgbRow",po,3),Ia("YuvToBgrRow",hc,3),Ia("YuvToRgbaRow",Hh,4),Ia("YuvToBgraRow",pc,4),Ia("YuvToArgbRow",Wh,4),Ia("YuvToRgba4444Row",Hn,2),Ia("YuvToRgb565Row",Ad,2);var ZS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ep=[0,2,8],w9=[8,7,6,4,4,2,2,2,1,1,1,1],_9=1;this.WebPDecodeRGBA=function(y,x,T,R,B){var H=Yh,V=new ot,X=new rr;V.ba=X,X.S=H,X.width=[X.width],X.height=[X.height];var Z=X.width,ee=X.height,fe=new vt;if(fe==null||y==null)var xe=2;else e(fe!=null),xe=mc(y,x,T,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(xe!=0?Z=0:(Z!=null&&(Z[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],R!=null&&(R[0]=X.width),B!=null&&(B[0]=X.height);e:{if(R=new sc,(B=new xt).data=y,B.w=x,B.ha=T,B.kd=1,x=[0],e(B!=null),((y=mc(B.data,B.w,B.ha,null,null,null,x,null,B))==0||y==7)&&x[0]&&(y=4),(x=y)==0){if(e(V!=null),R.data=B.data,R.w=B.w+B.offset,R.ha=B.ha-B.offset,R.put=qe,R.ac=Wn,R.bc=Fr,R.ma=V,B.xa){if((y=Ys())==null){V=1;break e}if((function(te,pe){var ye=[0],_e=[0],be=[0];t:for(;;){if(te==null)return 0;if(pe==null)return te.a=2,0;if(te.l=pe,te.a=0,ae(te.m,pe.data,pe.w,pe.ha),!ta(te.m,ye,_e,be)){te.a=3;break t}if(te.xb=HS,pe.width=ye[0],pe.height=_e[0],!Oi(ye[0],_e[0],1,te,null))break t;return 1}return e(te.a!=0),0})(y,R)){if(R=(x=il(R.width,R.height,V.Oa,V.ba))==0){t:{R=y;r:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((T=R.l)!=null),e((B=T.ma)!=null),R.xb!=0){if(R.ca=B.ba,R.tb=B.tb,e(R.ca!=null),!ra(B.Oa,T,Kh)){R.a=2;break r}if(!Ks(R,T.width)||T.da)break r;if((T.da||ht(R.ca.S))&&al(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&al()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Q(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!Qa(R,R.V,R.Ba,R.c,R.i,T.o,Qo))break r;B.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(x=y.a)}else x=y.a}else{if((y=new Jv)==null){V=1;break e}if(y.Fa=B.na,y.P=B.P,y.qc=B.Sa,Bh(y,R)){if((x=il(R.width,R.height,V.Oa,V.ba))==0){if(y.Aa=0,T=V.Oa,e((B=y)!=null),T!=null){if(0<(Z=0>(Z=T.Md)?0:100<Z?255:255*Z/100)){for(ee=fe=0;4>ee;++ee)12>(xe=B.pb[ee]).lc&&(xe.ia=Z*w9[0>xe.lc?0:xe.lc]>>3),fe|=xe.ia;fe&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=T.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(te,pe){if(te==null)return 0;if(pe==null)return tn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Bh(te,pe))return 0;if(e(te.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(te.L=0);var ye=ep[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=pe.v-ye>>4,te.zb=pe.j-ye>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=pe.o+15+ye>>4,te.Hb=pe.va+15+ye>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var _e=te.ed;for(ye=0;4>ye;++ye){var be;if(te.Qa.Cb){var Se=te.Qa.Lb[ye];te.Qa.Fb||(Se+=_e.Tb)}else Se=_e.Tb;for(be=0;1>=be;++be){var Ae=te.gd[ye][be],Ie=Se;if(_e.Pc&&(Ie+=_e.vd[0],be&&(Ie+=_e.od[0])),0<(Ie=0>Ie?0:63<Ie?63:Ie)){var Oe=Ie;0<_e.wb&&(Oe=4<_e.wb?Oe>>2:Oe>>1)>9-_e.wb&&(Oe=9-_e.wb),1>Oe&&(Oe=1),Ae.dd=Oe,Ae.tc=2*Ie+Oe,Ae.ld=40<=Ie?2:15<=Ie?1:0}else Ae.tc=0;Ae.La=be}}}ye=0}else tn(te,6,"Frame setup failed"),ye=te.a;if(ye=ye==0){if(ye){te.$c=0,0<te.Aa||(te.Ic=_9);t:{ye=te.Ic,_e=4*(Oe=te.za);var lt=32*Oe,Ye=Oe+1,Et=0<te.L?Oe*(0<te.Aa?2:1):0,tt=(te.Aa==2?2:1)*Oe;if((Ae=_e+832+(be=3*(16*ye+ep[te.L])/2*lt)+(Se=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ae)ye=0;else{if(Ae>te.Vb){if(te.Vb=0,te.Ec=i(Ae),te.Fc=0,te.Ec==null){ye=tn(te,1,"no memory during frame initialization.");break t}te.Vb=Ae}Ae=te.Ec,Ie=te.Fc,te.Ac=Ae,te.Bc=Ie,Ie+=_e,te.Gd=o(lt,Dh),te.Hd=0,te.rb=o(Ye+1,fd),te.sb=1,te.wa=Et?o(Et,Ta):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Oe),e(!0),te.oc=Ae,te.pc=Ie,Ie+=832,te.ya=o(tt,hd),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Oe),te.R=16*Oe,te.B=8*Oe,Oe=(lt=ep[te.L])*te.R,lt=lt/2*te.B,te.sa=Ae,te.ta=Ie+Oe,te.qa=te.sa,te.ra=te.ta+16*ye*te.R+lt,te.Ha=te.qa,te.Ia=te.ra+8*ye*te.B+lt,te.$c=0,Ie+=be,te.mb=Se?Ae:null,te.nb=Se?Ie:null,e(Ie+Se<=te.Fc+te.Vb),Xs(te),a(te.Ac,te.Bc,0,_e),ye=1}}if(ye){if(pe.ka=0,pe.y=te.sa,pe.O=te.ta,pe.f=te.qa,pe.N=te.ra,pe.ea=te.Ha,pe.Vd=te.Ia,pe.fa=te.R,pe.Rc=te.B,pe.F=null,pe.J=0,!BS){for(ye=-255;255>=ye;++ye)MS[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)DS[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)$S[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)FS[255+ye]=0>ye?0:255<ye?255:ye;BS=1}Gr=Uh,Yr=e0,bc=t0,Di=Ei,Td=qh,go=Qv,wS=C,_S=q,jS=ve,SS=Ne,NS=ne,AS=ce,kS=Ee,PS=et,CS=_d,OS=nl,ES=jd,TS=Sd,ri[0]=l0,ri[1]=md,ri[2]=o0,ri[3]=s0,ri[4]=c0,ri[5]=uo,ri[6]=co,ri[7]=u0,ri[8]=lc,ri[9]=d0,ss[0]=ts,ss[1]=n0,ss[2]=a0,ss[3]=gd,ss[4]=i0,ss[5]=Qs,ss[6]=vd,vo[0]=uc,vo[1]=r0,vo[2]=yd,vo[3]=el,vo[4]=bd,vo[5]=f0,vo[6]=xd,ye=1}else ye=0}ye&&(ye=(function(Wt,cn){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var Tt,rt=Wt.Jc[Wt.M&Wt.Xb],Me=Wt.m,Kr=Wt;for(Tt=0;Tt<Kr.za;++Tt){var Pt=Me,Ht=Kr,Pr=Ht.Ac,Pn=Ht.Bc+4*Tt,Vn=Ht.zc,Br=Ht.ya[Ht.aa+Tt];if(Ht.Qa.Bb?Br.$b=he(Pt,Ht.Pa.jb[0])?2+he(Pt,Ht.Pa.jb[2]):he(Pt,Ht.Pa.jb[1]):Br.$b=0,Ht.kc&&(Br.Ad=he(Pt,Ht.Bd)),Br.Za=!he(Pt,145)+0,Br.Za){var In=Br.Ob,Gn=0;for(Ht=0;4>Ht;++Ht){var un,Kt=Vn[0+Ht];for(un=0;4>un;++un){Kt=s9[Pr[Pn+un]][Kt];for(var ir=WS[he(Pt,Kt[0])];0<ir;)ir=WS[2*ir+he(Pt,Kt[ir])];Kt=-ir,Pr[Pn+un]=Kt}n(In,Gn,Pr,Pn,4),Gn+=4,Vn[0+Ht]=Kt}}else Kt=he(Pt,156)?he(Pt,128)?1:3:he(Pt,163)?2:0,Br.Ob[0]=Kt,a(Pr,Pn,Kt,4),a(Vn,0,Kt,4);Br.Dd=he(Pt,142)?he(Pt,114)?he(Pt,183)?1:3:2:0}if(Kr.m.Ka)return tn(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(Kr=rt,Pt=(Me=Wt).rb[Me.sb-1],Pr=Me.rb[Me.sb+Me.ja],Tt=Me.ya[Me.aa+Me.ja],Pn=Me.kc?Tt.Ad:0)Pt.la=Pr.la=0,Tt.Za||(Pt.Na=Pr.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var qr,or;if(Pt=Pr,Pr=Kr,Pn=Me.Pa.Xc,Vn=Me.ya[Me.aa+Me.ja],Br=Me.pb[Vn.$b],Ht=Vn.ad,In=0,Gn=Me.rb[Me.sb-1],Kt=un=0,a(Ht,In,0,384),Vn.Za)var Cn=0,ni=Pn[3];else{ir=i(16);var Xr=Pt.Na+Gn.Na;if(Xr=Ld(Pr,Pn[1],Xr,Br.Eb,0,ir,0),Pt.Na=Gn.Na=(0<Xr)+0,1<Xr)Gr(ir,0,Ht,In);else{var aa=ir[0]+3>>3;for(ir=0;256>ir;ir+=16)Ht[In+ir]=aa}Cn=1,ni=Pn[0]}var pr=15&Pt.la,dn=15&Gn.la;for(ir=0;4>ir;++ir){var ga=1&dn;for(aa=or=0;4>aa;++aa)pr=pr>>1|(ga=(Xr=Ld(Pr,ni,Xr=ga+(1&pr),Br.Sc,Cn,Ht,In))>Cn)<<7,or=or<<2|(3<Xr?3:1<Xr?2:Ht[In+0]!=0),In+=16;pr>>=4,dn=dn>>1|ga<<7,un=(un<<8|or)>>>0}for(ni=pr,Cn=dn>>4,qr=0;4>qr;qr+=2){for(or=0,pr=Pt.la>>4+qr,dn=Gn.la>>4+qr,ir=0;2>ir;++ir){for(ga=1&dn,aa=0;2>aa;++aa)Xr=ga+(1&pr),pr=pr>>1|(ga=0<(Xr=Ld(Pr,Pn[2],Xr,Br.Qc,0,Ht,In)))<<3,or=or<<2|(3<Xr?3:1<Xr?2:Ht[In+0]!=0),In+=16;pr>>=2,dn=dn>>1|ga<<5}Kt|=or<<4*qr,ni|=pr<<4<<qr,Cn|=(240&dn)<<qr}Pt.la=ni,Gn.la=Cn,Vn.Hc=un,Vn.Gc=Kt,Vn.ia=43690&Kt?0:Br.ia,Pn=!(un|Kt)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[Tt.$b][Tt.Za],Me.wa[Me.Y+Me.ja].La|=!Pn),Kr.Ka)return tn(Wt,7,"Premature end-of-file encountered.")}if(Xs(Wt),Me=cn,Kr=1,Tt=(rt=Wt).D,Pt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Tt.M=rt.M,Tt.uc=Pt,as(rt,Tt),Kr=1,Tt=(or=rt.D).Nb,Pt=(Kt=ep[rt.L])*rt.R,Pr=Kt/2*rt.B,ir=16*Tt*rt.R,aa=8*Tt*rt.B,Pn=rt.sa,Vn=rt.ta-Pt+ir,Br=rt.qa,Ht=rt.ra-Pr+aa,In=rt.Ha,Gn=rt.Ia-Pr+aa,dn=(pr=or.M)==0,un=pr>=rt.Va-1,rt.Aa==2&&as(rt,or),or.uc)for(ga=(Xr=rt).D.M,e(Xr.D.uc),or=Xr.yb;or<Xr.Hb;++or){Cn=or,ni=ga;var Yn=(va=(On=Xr).D).Nb;qr=On.R;var va=va.wa[va.Y+Cn],ya=On.sa,ia=On.ta+16*Yn*qr+16*Cn,ba=va.dd,wr=va.tc;if(wr!=0)if(e(3<=wr),On.L==1)0<Cn&&OS(ya,ia,qr,wr+4),va.La&&TS(ya,ia,qr,wr),0<ni&&CS(ya,ia,qr,wr+4),va.La&&ES(ya,ia,qr,wr);else{var xa=On.B,ai=On.qa,ll=On.ra+8*Yn*xa+8*Cn,yo=On.Ha,On=On.Ia+8*Yn*xa+8*Cn;Yn=va.ld,0<Cn&&(_S(ya,ia,qr,wr+4,ba,Yn),SS(ai,ll,yo,On,xa,wr+4,ba,Yn)),va.La&&(AS(ya,ia,qr,wr,ba,Yn),PS(ai,ll,yo,On,xa,wr,ba,Yn)),0<ni&&(wS(ya,ia,qr,wr+4,ba,Yn),jS(ai,ll,yo,On,xa,wr+4,ba,Yn)),va.La&&(NS(ya,ia,qr,wr,ba,Yn),kS(ai,ll,yo,On,xa,wr,ba,Yn))}}if(rt.ia&&alert("todo:DitherRow"),Me.put!=null){if(or=16*pr,pr=16*(pr+1),dn?(Me.y=rt.sa,Me.O=rt.ta+ir,Me.f=rt.qa,Me.N=rt.ra+aa,Me.ea=rt.Ha,Me.W=rt.Ia+aa):(or-=Kt,Me.y=Pn,Me.O=Vn,Me.f=Br,Me.N=Ht,Me.ea=In,Me.W=Gn),un||(pr-=Kt),pr>Me.o&&(pr=Me.o),Me.F=null,Me.J=null,rt.Fa!=null&&0<rt.Fa.length&&or<pr&&(Me.J=kn(rt,Me,or,pr-or),Me.F=rt.mb,Me.F==null&&Me.F.length==0)){Kr=tn(rt,3,"Could not decode alpha data.");break t}or<Me.j&&(Kt=Me.j-or,or=Me.j,e(!(1&Kt)),Me.O+=rt.R*Kt,Me.N+=rt.B*(Kt>>1),Me.W+=rt.B*(Kt>>1),Me.F!=null&&(Me.J+=Me.width*Kt)),or<pr&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=or-Me.j,Me.U=Me.va-Me.v,Me.T=pr-or,Kr=Me.put(Me))}Tt+1!=rt.Ic||un||(n(rt.sa,rt.ta-Pt,Pn,Vn+16*rt.R,Pt),n(rt.qa,rt.ra-Pr,Br,Ht+8*rt.B,Pr),n(rt.Ha,rt.Ia-Pr,In,Gn+8*rt.B,Pr))}if(!Kr)return tn(Wt,6,"Output aborted.")}return 1})(te,pe)),pe.bc!=null&&pe.bc(pe),ye&=1}return ye?(te.cb=0,ye):0})(y,R)||(x=y.a)}}else x=y.a}x==0&&V.Oa!=null&&V.Oa.fd&&(x=na(V.ba))}V=x}H=V!=0?null:11>H?X.f.RGBA.eb:X.f.kb.y}else H=null;return H};var JS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,L){for(var P="",O=0;O<4;O++)P+=String.fromCharCode(I[L++]);return P}function d(I,L){return I[L+0]|I[L+1]<<8}function f(I,L){return(I[L+0]|I[L+1]<<8|I[L+2]<<16)>>>0}function p(I,L){return(I[L+0]|I[L+1]<<8|I[L+2]<<16|I[L+3]<<24)>>>0}new c;var h=[0],g=[0],m=[],v=new c,b=t,w=(function(I,L){var P={},O=0,D=!1,M=0,G=0;if(P.frames=[],!(function($,U){for(var z=0;z<4;z++)if($[U+z]!="RIFF".charCodeAt(z))return!0;return!1})(I,L)){for(p(I,L+=4),L+=8;L<I.length;){var Y=u(I,L),W=p(I,L+=4);L+=4;var F=W+(1&W);switch(Y){case"VP8 ":case"VP8L":P.frames[O]===void 0&&(P.frames[O]={}),(oe=P.frames[O]).src_off=D?G:L-8,oe.src_size=M+W+8,O++,D&&(D=!1,M=0,G=0);break;case"VP8X":(oe=P.header={}).feature_flags=I[L];var ae=L+4;oe.canvas_width=1+f(I,ae),ae+=3,oe.canvas_height=1+f(I,ae),ae+=3;break;case"ALPH":D=!0,M=F+8,G=L-8;break;case"ANIM":(oe=P.header).bgcolor=p(I,L),ae=L+4,oe.loop_count=d(I,ae),ae+=2;break;case"ANMF":var re,oe;(oe=P.frames[O]={}).offset_x=2*f(I,L),L+=3,oe.offset_y=2*f(I,L),L+=3,oe.width=1+f(I,L),L+=3,oe.height=1+f(I,L),L+=3,oe.duration=f(I,L),L+=3,re=I[L++],oe.dispose=1&re,oe.blend=re>>1&1}Y!="ANMF"&&(L+=F)}return P}})(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var j=w.header?w.header:null,_=w.frames?w.frames:null;if(j){j.loop_counter=j.loop_count,h=[j.canvas_height],g=[j.canvas_width];for(var S=0;S<_.length&&_[S].blend!=0;S++);}var k=_[0],A=v.WebPDecodeRGBA(b,k.src_off,k.src_size,g,h);k.rgba=A,k.imgwidth=g[0],k.imgheight=h[0];for(var E=0;E<g[0]*h[0]*4;E++)m[E]=A[E];return this.width=g,this.height=h,this.data=m,this}(function(t){var e,r,n,a,i,o,s,c,u,d=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=$;Object.defineProperty(this,"pdf",{get:function(){return U}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(me){z=!!me}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(me){J=!!me}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(me){isNaN(me)||(le=me)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(me){isNaN(me)||(se=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var Q;typeof me=="number"?Q=[me,me,me,me]:((Q=new Array(4))[0]=me[0],Q[1]=me.length>=2?me[1]:Q[0],Q[2]=me.length>=3?me[2]:Q[0],Q[3]=me.length>=4?me[3]:Q[1]),u.margin=Q}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(me){de=me}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(me){ie=me}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(me){he=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof d&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(me){ge=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var Q;Q=p(me),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var Q=p(me);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var ue=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(me){ue=null,Pe=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var Q;if(this.ctx.font=me,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var Ve=Q[1];Q[2];var Be=Q[3],Ue=Q[4];Q[5];var ke=Q[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(Qe==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Re=(function(dt){var st,Vt,Gt=[],nt=dt.trim();if(nt==="")return yy;if(nt in u4)return[u4[nt]];for(;nt!=="";){switch(Vt=null,st=(nt=f4(nt)).charAt(0)){case'"':case"'":Vt=fK(nt.substring(1),st);break;default:Vt=hK(nt)}if(Vt===null||(Gt.push(Vt[0]),(nt=f4(Vt[1]))!==""&&nt.charAt(0)!==","))return yy;nt=nt.replace(/^,/,"")}return Gt})(ke);if(this.fontFaces){var Ke=(function(dt,st){if(ue===null){var Vt=(function(Gt){var nt=[];return Object.keys(Gt).forEach(function(_t){Gt[_t].forEach(function(tr){var ft=null;switch(tr){case"bold":ft={family:_t,weight:"bold"};break;case"italic":ft={family:_t,style:"italic"};break;case"bolditalic":ft={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:_t}}ft!==null&&(ft.ref={name:_t,style:tr},nt.push(ft))})}),nt})(dt.getFontList());ue=(function(Gt){for(var nt={},_t=0;_t<Gt.length;++_t){var tr=vy(Gt[_t]),ft=tr.family,Mt=tr.stretch,ht=tr.style,Mr=tr.weight;nt[ft]=nt[ft]||{},nt[ft][Mt]=nt[ft][Mt]||{},nt[ft][Mt][ht]=nt[ft][Mt][ht]||{},nt[ft][Mt][ht][Mr]=tr}return nt})(Vt.concat(st))}return ue})(this.pdf,this.fontFaces),Ge=Re.map(function(dt){return{family:dt,stretch:"normal",weight:Be,style:Ve}}),zt=(function(dt,st,Vt){for(var Gt=(Vt=Vt||{}).defaultFontFamily||"times",nt=Object.assign({},dK,Vt.genericFontFamilies||{}),_t=null,tr=null,ft=0;ft<st.length;++ft)if(nt[(_t=vy(st[ft])).family]&&(_t.family=nt[_t.family]),dt.hasOwnProperty(_t.family)){tr=dt[_t.family];break}if(!(tr=tr||dt[Gt]))throw new Error("Could not find a font-family for the rule '"+d4(_t)+"' and default family '"+Gt+"'.");if(tr=(function(Mt,ht){if(ht[Mt])return ht[Mt];var Mr=p2[Mt],Wr=Mr<=p2.normal?-1:1,rr=c4(ht,Y8,Mr,Wr);if(!rr)throw new Error("Could not find a matching font-stretch value for "+Mt);return rr})(_t.stretch,tr),tr=(function(Mt,ht){if(ht[Mt])return ht[Mt];for(var Mr=G8[Mt],Wr=0;Wr<Mr.length;++Wr)if(ht[Mr[Wr]])return ht[Mr[Wr]];throw new Error("Could not find a matching font-style for "+Mt)})(_t.style,tr),!(tr=(function(Mt,ht){if(ht[Mt])return ht[Mt];if(Mt===400&&ht[500])return ht[500];if(Mt===500&&ht[400])return ht[400];var Mr=uK[Mt],Wr=c4(ht,K8,Mr,Mt<400?-1:1);if(!Wr)throw new Error("Could not find a matching font-weight for value "+Mt);return Wr})(_t.weight,tr)))throw new Error("Failed to resolve a font for the rule '"+d4(_t)+"'.");return tr})(Ke,Ge);this.pdf.setFont(zt.ref.name,zt.ref.style)}else{var mt="";(Be==="bold"||parseInt(Be,10)>=700||Ve==="bold")&&(mt="bold"),Ve==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var gt="",er={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Re.length;St++){if(this.pdf.internal.getFont(Re[St],mt,{noFallback:!0,disableWarning:!0})!==void 0){gt=Re[St];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(Re[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=Re[St],mt="bold";else if(this.pdf.internal.getFont(Re[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=Re[St],mt="normal";break}}if(gt===""){for(var it=0;it<Re.length;it++)if(er[Re[it]]){gt=er[Re[it]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o($,U));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o($,U)},f.prototype.closePath=function(){var $=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&cr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){$=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o($,U));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,U,z,J){if(isNaN(z)||isNaN(J)||isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(z,J)),se=this.ctx.transform.applyToPoint(new o($,U));this.path.push({type:"qct",x1:se.x,y1:se.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},f.prototype.bezierCurveTo=function($,U,z,J,le,se){if(isNaN(le)||isNaN(se)||isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(le,se)),ie=this.ctx.transform.applyToPoint(new o($,U)),he=this.ctx.transform.applyToPoint(new o(z,J));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function($,U,z,J,le,se){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J)||isNaN(le))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o($,U));$=de.x,U=de.y;var ie=this.ctx.transform.applyToPoint(new o(0,z)),he=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ie.x-he.x,2)+Math.pow(ie.y-he.y,2))}Math.abs(le-J)>=2*Math.PI&&(J=0,le=2*Math.PI),this.path.push({type:"arc",x:$,y:U,radius:z,startAngle:J,endAngle:le,counterclockwise:se})},f.prototype.arcTo=function($,U,z,J,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,U),this.lineTo($+z,U),this.lineTo($+z,U+J),this.lineTo($,U+J),this.lineTo($,U),this.lineTo($+z,U),this.lineTo($,U)},f.prototype.fillRect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,U,z,J),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,U,z,J),this.stroke())},f.prototype.clearRect=function($,U,z,J){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,U,z,J))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function($){var U,z,J,le;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))U=0,z=0,J=0,le=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(se!==null)U=parseInt(se[1]),z=parseInt(se[2]),J=parseInt(se[3]),le=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)U=parseInt(se[1]),z=parseInt(se[2]),J=parseInt(se[3]),le=parseFloat(se[4]);else{if(le=1,typeof $=="string"&&$.charAt(0)!=="#"){var de=new B8($);$=de.ok?de.toHex():"#000000"}$.length===4?(U=$.substring(1,2),U+=U,z=$.substring(2,3),z+=z,J=$.substring(3,4),J+=J):(U=$.substring(1,3),z=$.substring(3,5),J=$.substring(5,7)),U=parseInt(U,16),z=parseInt(z,16),J=parseInt(J,16)}}return{r:U,g:z,b:J,a:le,style:$}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,U,z,J){if(isNaN(U)||isNaN(z)||typeof $!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!h.call(this)){var le=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;O.call(this,{text:$,x:U,y:z,scale:se,angle:le,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function($,U,z,J){if(isNaN(U)||isNaN(z)||typeof $!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){J=isNaN(J)?void 0:J;var le=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;O.call(this,{text:$,x:U,y:z,scale:se,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function($){if(typeof $!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,z=this.pdf.internal.scaleFactor,J=U.internal.getFontSize(),le=U.getStringUnitWidth($)*J/U.internal.scaleFactor;return new function(se){var de=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:le*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c($,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function($){if(isNaN($))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function($,U){if(isNaN($)||isNaN(U))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,$,U);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function($,U,z,J,le,se){if(isNaN($)||isNaN(U)||isNaN(z)||isNaN(J)||isNaN(le)||isNaN(se))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c($,U,z,J,le,se);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function($,U,z,J,le,se){$=isNaN($)?1:$,U=isNaN(U)?0:U,z=isNaN(z)?0:z,J=isNaN(J)?1:J,le=isNaN(le)?0:le,se=isNaN(se)?0:se,this.ctx.transform=new c($,U,z,J,le,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,U,z,J,le,se,de,ie,he){var ge=this.pdf.getImageProperties($),ue=1,Pe=1,me=1,Q=1;J!==void 0&&ie!==void 0&&(me=ie/J,Q=he/le,ue=ge.width/J*ie/J,Pe=ge.height/le*he/le),se===void 0&&(se=U,de=z,U=0,z=0),J!==void 0&&ie===void 0&&(ie=J,he=le),J===void 0&&ie===void 0&&(ie=ge.width,he=ge.height);for(var Ve,Be=this.ctx.transform.decompose(),Ue=F(Be.rotate.shx),ke=new c,Qe=(ke=(ke=(ke=ke.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new s(se-U*me,de-z*Q,J*ue,le*Pe)),Re=v.call(this,Qe),Ke=[],Ge=0;Ge<Re.length;Ge+=1)Ke.indexOf(Re[Ge])===-1&&Ke.push(Re[Ge]);if(j(Ke),this.autoPaging)for(var zt=Ke[0],mt=Ke[Ke.length-1],gt=zt;gt<mt+1;gt++){this.pdf.setPage(gt);var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=gt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=gt===1?0:it+(gt-2)*dt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ve,this.posX+this.margin[3],-st+St+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Vt}var Gt=JSON.parse(JSON.stringify(Qe));Gt=w([Gt],this.posX+this.margin[3],-st+St+this.ctx.prevPageLastElemOffset)[0];var nt=(gt>zt||gt<mt)&&m.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,dt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,Ue),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ue)};var v=function($,U,z){var J=[];U=U||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":J.push(Math.floor(($.y+le)/z)+1);break;case"arc":J.push(Math.floor(($.y+le-$.radius)/z)+1),J.push(Math.floor(($.y+le+$.radius)/z)+1);break;case"qct":var se=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);J.push(Math.floor((se.y+le)/z)+1),J.push(Math.floor((se.y+se.h+le)/z)+1);break;case"bct":var de=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);J.push(Math.floor((de.y+le)/z)+1),J.push(Math.floor((de.y+de.h+le)/z)+1);break;case"rect":J.push(Math.floor(($.y+le)/z)+1),J.push(Math.floor(($.y+$.h+le)/z)+1)}for(var ie=0;ie<J.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<J[ie];)b.call(this);return J},b=function(){var $=this.fillStyle,U=this.strokeStyle,z=this.font,J=this.lineCap,le=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=U,this.font=z,this.lineCap=J,this.lineWidth=le,this.lineJoin=se},w=function($,U,z){for(var J=0;J<$.length;J++)switch($[J].type){case"bct":$[J].x2+=U,$[J].y2+=z;case"qct":$[J].x1+=U,$[J].y1+=z;default:$[J].x+=U,$[J].y+=z}return $},j=function($){return $.sort(function(U,z){return U-z})},_=function($,U){for(var z,J,le=this.fillStyle,se=this.strokeStyle,de=this.lineCap,ie=this.lineWidth,he=Math.abs(ie*this.ctx.transform.scaleX),ge=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),me=[],Q=0;Q<Pe.length;Q++)if(Pe[Q].x!==void 0)for(var Ve=v.call(this,Pe[Q]),Be=0;Be<Ve.length;Be+=1)me.indexOf(Ve[Be])===-1&&me.push(Ve[Be]);for(var Ue=0;Ue<me.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<me[Ue];)b.call(this);if(j(me),this.autoPaging)for(var ke=me[0],Qe=me[me.length-1],Re=ke;Re<Qe+1;Re++){this.pdf.setPage(Re),this.fillStyle=le,this.strokeStyle=se,this.lineCap=de,this.lineWidth=he,this.lineJoin=ge;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Re===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Re===1?0:zt+(Re-2)*mt;if(this.ctx.clip_path.length!==0){var er=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-gt+Ge+this.ctx.prevPageLastElemOffset),S.call(this,$,!0),this.path=er}if(J=JSON.parse(JSON.stringify(ue)),this.path=w(J,this.posX+this.margin[3],-gt+Ge+this.ctx.prevPageLastElemOffset),U===!1||Re===0){var St=(Re>ke||Re<Qe)&&m.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,mt,null).clip().discardPath()),S.call(this,$,U),St&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=he,S.call(this,$,U),this.lineWidth=ie;this.path=ue},S=function($,U){if(($!=="stroke"||U||!g.call(this))&&($==="stroke"||U||!h.call(this))){for(var z,J,le=[],se=this.path,de=0;de<se.length;de++){var ie=se[de];switch(ie.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ie,deltas:[],abs:[]});break;case"lt":var he=le.length;if(se[de-1]&&!isNaN(se[de-1].x)&&(z=[ie.x-se[de-1].x,ie.y-se[de-1].y],he>0)){for(;he>=0;he--)if(le[he-1].close!==!0&&le[he-1].begin!==!0){le[he-1].deltas.push(z),le[he-1].abs.push(ie);break}}break;case"bct":z=[ie.x1-se[de-1].x,ie.y1-se[de-1].y,ie.x2-se[de-1].x,ie.y2-se[de-1].y,ie.x-se[de-1].x,ie.y-se[de-1].y],le[le.length-1].deltas.push(z);break;case"qct":var ge=se[de-1].x+2/3*(ie.x1-se[de-1].x),ue=se[de-1].y+2/3*(ie.y1-se[de-1].y),Pe=ie.x+2/3*(ie.x1-ie.x),me=ie.y+2/3*(ie.y1-ie.y),Q=ie.x,Ve=ie.y;z=[ge-se[de-1].x,ue-se[de-1].y,Pe-se[de-1].x,me-se[de-1].y,Q-se[de-1].x,Ve-se[de-1].y],le[le.length-1].deltas.push(z);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ie)}}J=U?null:$==="stroke"?"stroke":"fill";for(var Be=!1,Ue=0;Ue<le.length;Ue++)if(le[Ue].arc)for(var ke=le[Ue].abs,Qe=0;Qe<ke.length;Qe++){var Re=ke[Qe];Re.type==="arc"?E.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,U,!Be):D.call(this,Re.x,Re.y),Be=!0}else if(le[Ue].close===!0)this.pdf.internal.out("h"),Be=!1;else if(le[Ue].begin!==!0){var Ke=le[Ue].start.x,Ge=le[Ue].start.y;M.call(this,le[Ue].deltas,Ke,Ge),Be=!0}J&&I.call(this,J),U&&L.call(this)}},k=function($){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-z;case"top":return $+U-z;case"hanging":return $+U-2*z;case"middle":return $+U/2-z;default:return $}},A=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(U,z){this.colorStops.push([U,z])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function($,U,z,J,le,se,de,ie,he){for(var ge=Y.call(this,z,J,le,se),ue=0;ue<ge.length;ue++){var Pe=ge[ue];ue===0&&(he?P.call(this,Pe.x1+$,Pe.y1+U):D.call(this,Pe.x1+$,Pe.y1+U)),G.call(this,$,U,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ie?L.call(this):I.call(this,de)},I=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},P=function($,U){this.pdf.internal.out(r($)+" "+n(U)+" m")},O=function($){var U;switch($.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var z=this.pdf.getTextDimensions($.text),J=k.call(this,$.y),le=A.call(this,J)-z.h,se=this.ctx.transform.applyToPoint(new o($.x,J)),de=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,ge,ue,Pe=this.ctx.transform.applyToRectangle(new s($.x,J,z.w,z.h)),me=ie.applyToRectangle(new s($.x,le,z.w,z.h)),Q=v.call(this,me),Ve=[],Be=0;Be<Q.length;Be+=1)Ve.indexOf(Q[Be])===-1&&Ve.push(Q[Be]);if(j(Ve),this.autoPaging)for(var Ue=Ve[0],ke=Ve[Ve.length-1],Qe=Ue;Qe<ke+1;Qe++){this.pdf.setPage(Qe);var Re=Qe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],zt=Ge-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],gt=mt-this.margin[3],er=Qe===1?0:Ke+(Qe-2)*zt;if(this.ctx.clip_path.length!==0){var St=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*er+Re),S.call(this,"fill",!0),this.path=St}var it=w([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-er+Re+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*$.scale),ue=this.lineWidth,this.lineWidth=ue*$.scale);var dt=this.autoPaging!=="text";if(dt||it.y+it.h<=Ge){if(dt||it.y>=Re&&it.x<=mt){var st=dt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||mt-it.x)[0],Vt=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-er+Re+this.ctx.prevPageLastElemOffset)[0],Gt=dt&&(Qe>Ue||Qe<ke)&&m.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,zt,null).clip().discardPath()),this.pdf.text(st,Vt.x,Vt.y,{angle:$.angle,align:U,renderingMode:$.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else it.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-it.y);$.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)}else $.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*$.scale),ue=this.lineWidth,this.lineWidth=ue*$.scale),this.pdf.text($.text,se.x+this.posX,se.y+this.posY,{angle:$.angle,align:U,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)},D=function($,U,z,J){z=z||0,J=J||0,this.pdf.internal.out(r($+z)+" "+n(U+J)+" l")},M=function($,U,z){return this.pdf.lines($,U,z,null,null)},G=function($,U,z,J,le,se,de,ie){this.pdf.internal.out([e(a(z+$)),e(i(J+U)),e(a(le+$)),e(i(se+U)),e(a(de+$)),e(i(ie+U)),"c"].join(" "))},Y=function($,U,z,J){for(var le=2*Math.PI,se=Math.PI/2;U>z;)U-=le;var de=Math.abs(z-U);de<le&&J&&(de=le-de);for(var ie=[],he=J?-1:1,ge=U;de>1e-5;){var ue=ge+he*Math.min(de,se);ie.push(W.call(this,$,ge,ue)),de-=Math.abs(ue-ge),ge=ue}return ie},W=function($,U,z){var J=(z-U)/2,le=$*Math.cos(J),se=$*Math.sin(J),de=le,ie=-se,he=de*de+ie*ie,ge=he+de*le+ie*se,ue=4/3*(Math.sqrt(2*he*ge)-ge)/(de*se-ie*le),Pe=de-ue*ie,me=ie+ue*de,Q=Pe,Ve=-me,Be=J+U,Ue=Math.cos(Be),ke=Math.sin(Be);return{x1:$*Math.cos(U),y1:$*Math.sin(U),x2:Pe*Ue-me*ke,y2:Pe*ke+me*Ue,x3:Q*Ue-Ve*ke,y3:Q*ke+Ve*Ue,x4:$*Math.cos(z),y4:$*Math.sin(z)}},F=function($){return 180*$/Math.PI},ae=function($,U,z,J,le,se){var de=$+.5*(z-$),ie=U+.5*(J-U),he=le+.5*(z-le),ge=se+.5*(J-se),ue=Math.min($,le,de,he),Pe=Math.max($,le,de,he),me=Math.min(U,se,ie,ge),Q=Math.max(U,se,ie,ge);return new s(ue,me,Pe-ue,Q-me)},re=function($,U,z,J,le,se,de,ie){var he,ge,ue,Pe,me,Q,Ve,Be,Ue,ke,Qe,Re,Ke,Ge,zt=z-$,mt=J-U,gt=le-z,er=se-J,St=de-le,it=ie-se;for(ge=0;ge<41;ge++)Ue=(Ve=(ue=$+(he=ge/40)*zt)+he*((me=z+he*gt)-ue))+he*(me+he*(le+he*St-me)-Ve),ke=(Be=(Pe=U+he*mt)+he*((Q=J+he*er)-Pe))+he*(Q+he*(se+he*it-Q)-Be),ge==0?(Qe=Ue,Re=ke,Ke=Ue,Ge=ke):(Qe=Math.min(Qe,Ue),Re=Math.min(Re,ke),Ke=Math.max(Ke,Ue),Ge=Math.max(Ge,ke));return new s(Math.round(Qe),Math.round(Re),Math.round(Ke-Qe),Math.round(Ge-Re))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,U,z=($=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:U}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(ct.API),(function(t){var e=function(o){var s,c,u,d,f,p,h,g,m,v;for(c=[],u=0,d=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(p+33,h+33,g+33,m+33,v+33)):c.push(122);return(function(b,w){for(var j=w;j>0;j--)b.pop()})(c,s.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var s,c,u,d,f,p=String,h="length",g=255,m="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(o+=s="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(w,j){for(var _=j;_>0;_--)w.pop()})(u,s[h]),p.fromCharCode.apply(p,u)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var s=new Uint8Array(o.length),c=o.length;c--;)s[c]=o.charCodeAt(c);return(s=s2(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,s){var c=0,u=o||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),c=0;c<s.length;c+=1)switch(s[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(ct.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=(function(c,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var m=g.length,v=[],b=String.fromCharCode;for(p=0;p<m;p+=1)v.push(b(255&g.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,o)}catch{}return s})(e,r,n)},t.loadImageFile=t.loadFile})(ct.API),(function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):Ua(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):Ua(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var c=cr(s);return c==="undefined"?"undefined":c==="string"||s instanceof String?"string":c==="number"||s instanceof Number?"number":c==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(s,c){var u=document.createElement(s);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function s(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(s(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function s(c){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return(d=d.setProgress(1,s,1,[s])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,c){return s.__proto__=c||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],m=g.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,c):this.outputPdf(s,c)},o.prototype.outputPdf=function(s,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,c)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var c=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(s,c){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return c?c(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:c(s.inner.width,s.k),height:c(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,c,u,d){return s!=null&&(this.progress.val=s),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,c,u,d){return this.setProgress(s?this.progress.val+s:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(s,c){var u=this;return this.thenCore(s,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(s,c,u){u=u||Promise.prototype.then;var d=this;s&&(s=s.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=u.call(f,s,c);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(s,c){return Promise.prototype.then.call(this,s,c)},o.prototype.thenList=function(s){var c=this;return s.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(s){s&&(s=s.bind(this));var c=Promise.prototype.catch.call(this,s);return o.convert(c,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ct.getPageSize=function(s,c,u){if(cr(s)==="object"){var d=s;s=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,m=0,v=0;if(h.hasOwnProperty(p))m=h[p][1]/f,v=h[p][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",v>m&&(g=v,v=m,m=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:c,k:f,orientation:s}},t.html=function(s,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(vy):null;var u=new o(c);return c.worker?u:u.from(s).doCallback()}})(ct.API),ct.API.addJS=function(t){return p4=t,this.internal.events.subscribe("postPutResources",function(){Ep=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ep+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ep!==void 0&&h4!==void 0&&this.internal.out("/Names <</JavaScript "+Ep+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],s=n.exec(o);if(s!=null){var c=s[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(ct.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,s){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(ct.API),ct.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=XY(t,{checkCrc:!0}),o=i.width,s=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?(function(A){for(var E=A.width,I=A.height,L=A.data,P=A.palette,O=A.depth,D=!1,M=[],G=[],Y=void 0,W=!1,F=0,ae=0;ae<P.length;ae++){var re=yA(P[ae],4),oe=re[0],$=re[1],U=re[2],z=re[3];M.push(oe,$,U),z!=null&&(z===0?(F++,G.length<1&&G.push(ae)):z<255&&(W=!0))}if(W||F>1){D=!0,G=void 0;var J=E*I;Y=new Uint8Array(J);for(var le=new DataView(L.buffer),se=0;se<J;se++){var de=by(le,se,O),ie=yA(P[de],4)[3];Y[se]=ie}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:L,alphaBytes:Y,needSMask:D,palette:M,mask:G}})(i):c===2||c===4?(function(A){for(var E=A.data,I=A.width,L=A.height,P=A.channels,O=A.depth,D=P===2?"DeviceGray":"DeviceRGB",M=P-1,G=I*L,Y=M,W=G*Y,F=1*G,ae=Math.ceil(W*O/8),re=Math.ceil(F*O/8),oe=new Uint8Array(ae),$=new Uint8Array(re),U=new DataView(E.buffer),z=new DataView(oe.buffer),J=new DataView($.buffer),le=!1,se=0;se<G;se++){for(var de=se*P,ie=0;ie<Y;ie++)j4(z,by(U,de+ie,O),se*Y+ie,O);var he=by(U,de+Y,O);he<(1<<O)-1&&(le=!0),j4(J,he,1*se,O)}return{colorSpace:D,colorsPerPixel:M,colorBytes:oe,alphaBytes:$,needSMask:le}})(i):(function(A){var E=A.data,I=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:E instanceof Uint8Array?E:new Uint8Array(E.buffer),needSMask:!1}})(i);var f,p,h,g=a,m=g.colorSpace,v=g.colorsPerPixel,b=g.colorBytes,w=g.alphaBytes,j=g.needSMask,_=g.palette,S=g.mask,k=null;return n!==ct.API.image_compression.NONE&&typeof s2=="function"?(k=(function(A){var E;switch(A){case ct.API.image_compression.FAST:E=11;break;case ct.API.image_compression.MEDIUM:E=13;break;case ct.API.image_compression.SLOW:E=14;break;default:E=12}return E})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(k," "),t=y4(b,o*v,v,n),j&&(h=y4(w,o,1,n))):(f=void 0,p="",t=b,j&&(h=w)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:S,palette:_,sMask:h,predictor:k,width:o,height:s,bitsPerComponent:d,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new vK(e),o=i.width,s=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:s},d=new xy(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A})(ct.API),ii.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ii.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){mr.log("bit decode error:"+r)}},ii.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var c=this.palette[i>>7-s&1];this.data[o+4*s]=c.blue,this.data[o+4*s+1]=c.green,this.data[o+4*s+2]=c.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},ii.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,s=i>>4,c=15&i,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ii.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ii.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,s=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},ii.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=s,this.data[d+3]=255}this.pos+=t}},ii.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ii.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=o}},ii.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new ii(e,!1),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new xy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ct.API),N4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new N4(e),o=i.width,s=i.height,c={data:i.getData(),width:o,height:s},u=new xy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(ct.API),ct.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),s=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[s++]=d,i[s++]=f,i[s++]=p,o[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dc=ct.API,Tp=Dc.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:a.metadata.Unicode.widths,c=s.fof?s.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,m=s[0]||c,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=f&&cr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((s[n]||m)/c+p)),g=n;return v},m4=Dc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Dc.processArabic&&(t=Dc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Tp.apply(this,arguments).reduce(function(i,o){return i+o},0)},g4=function(t,e,r,n){for(var a=[],i=0,o=t.length,s=0;i!==o&&s+e[i]<r;)s+=e[i],i++;a.push(t.slice(0,i));var c=i;for(s=0;i!==o;)s+e[i]>n&&(a.push(t.slice(c,i)),s=0,c=i),s+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},v4=function(t,e,r){r||(r={});var n,a,i,o,s,c,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,m=t.split(" "),v=Tp.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(S,k){return(k&&S.length?`
`:"")+S})):w.push(_[0])}),m=w,c=m4.apply(this,[b,r])}for(i=0,o=m.length;i<o;i++){var j=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),j=1),p+h+(g=(a=Tp.apply(this,[n,r])).reduce(function(_,S){return _+S},0))>e||j){if(g>e){for(s=g4.apply(this,[n,a,e-(p+h),e]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,S){return _+S},0)}else d=[n];f.push(d),p=g+c,h=v}else d.push(n),p+=h+g,h=v}return u=c?function(_,S){return(S?b:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},Dc.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var s,c,u=[];for(s=0,c=n.length;s<c;s++)u=u.concat(v4.apply(this,[n[s],o,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},s=t.__fontmetrics__.compress=function(p){var h,g,m,v,b=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=o(w).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),v="-"):(m=o(h).slice(2),v=""),m=v+m.slice(0,-1)+a[m.slice(-1)];else{if(cr(h)!=="object")throw new Error("Don't know what to do with value type "+cr(h)+".");m=s(h)}b.push(g+m)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,b={},w=1,j=b,_=[],S="",k="",A=p.length-1,E=1;E<A;E+=1)(v=p[E])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([j,m]),j={},m=void 0):v=="}"?((g=_.pop())[0][g[1]]=j,m=void 0,j=g[0]):v=="-"?w=-1:m===void 0?n.hasOwnProperty(v)?(S+=n[v],m=parseInt(S,16)*w,w=1,S=""):S+=v:n.hasOwnProperty(v)?(k+=n[v],j[m]=parseInt(k,16)*w,w=1,m=void 0,k=""):k+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(ct.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(tm(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(ct),ct.API.addSvgAsImage=function(t,e,r,n,a,i,o,s){if(isNaN(e)||isNaN(r))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(wt.canvg?Promise.resolve(wt.canvg):Ua(()=>import("./index.es-BZp84Pfq.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,o,s)})},ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),c=[],u=0,d=0,f=0;function p(g,m){var v,b=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=s.length;for(f=0;f<h;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(cr(t)==="object"){for(a in t)if(i=t[a],p(s,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+s.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+s+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(ct.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var s,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(s=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=i.charCodeAt(f),c.indexOf(s)==-1&&(c.push(s),c.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(i){var o,s,c,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(s=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)o=s[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var m=u();d({data:h,addLength1:!0,objectId:m}),c("endobj");var v=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Yc(s.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),c("/Flags "+s.metadata.flags),c("/StemV "+s.metadata.stemV),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Yc(s.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+s.encoding+")"),c(">>"),c(">>"),c("endobj"),s.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Yc(s.fontName)),c("/Encoding /"+s.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var s=o.font,c=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),c("endobj");var m=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var v=u();c("<<"),c("/Descent "+s.metadata.decender),c("/CapHeight "+s.metadata.capHeight),c("/StemV "+s.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),c("/FontName /"+Yc(s.fontName)),c("/ItalicAngle "+s.metadata.italicAngle),c("/Ascent "+s.metadata.ascender),c(">>"),c("endobj"),s.objectNumber=u();for(var b=0;b<s.metadata.hmtx.widths.length;b++)s.metadata.hmtx.widths[b]=parseInt(s.metadata.hmtx.widths[b]*(1e3/s.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Yc(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),c("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,s=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",b=0,w="",j=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:s,x:c,y:u,options:d,mutex:f};for(w=s,m=h,Array.isArray(s)&&(w=s[0]),b=0;b<w.length;b+=1)g[m].metadata.hasOwnProperty("cmap")&&(o=g[m].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[b]:v+="";var _="";return parseInt(m.slice(1))<14||j==="WinAnsiEncoding"?_=p(v,m).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(_=r(v,g[m])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var o=i.text||"",s=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(a(Object.assign({},c,{text:o[u]})).text);i.text=s}else i.text=a(Object.assign({},c,{text:o})).text}])})(ct),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ct.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,s,c,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var _=function(P){var O=P.charCodeAt(),D=O>>8,M=m[D];return M!==void 0?f[256*M+(255&O)]:D===252||D===253?"AL":b.test(D)?"L":D===8?"R":"N"},S=function(P){for(var O,D=0;D<P.length;D++){if((O=_(P.charAt(D)))==="L")return!1;if(O==="R")return!0}return!1},k=function(P,O,D,M){var G,Y,W,F,ae=O[M];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ae="AN");break;case"AL":w=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":M<1||M+1>=O.length||(G=D[M-1])!=="EN"&&G!=="AN"||(Y=O[M+1])!=="EN"&&Y!=="AN"?ae="N":w&&(Y="AN"),ae=Y===G?Y:"N";break;case"ES":ae=(G=M>0?D[M-1]:"B")==="EN"&&M+1<O.length&&O[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&D[M-1]==="EN"){ae="EN";break}if(w){ae="N";break}for(W=M+1,F=O.length;W<F&&O[W]==="ET";)W++;ae=W<F&&O[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(F=O.length,W=M+1;W<F&&O[W]==="NSM";)W++;if(W<F){var re=P[M],oe=re>=1425&&re<=2303||re===64286;if(G=O[W],oe&&(G==="R"||G==="AL")){ae="R";break}}}ae=M<1||(G=O[M-1])==="B"?"N":D[M-1];break;case"B":w=!1,a=!0,ae=j;break;case"S":i=!0,ae="N"}return ae},A=function(P,O,D){var M=P.split("");return D&&E(M,D,{hiLevel:j}),M.reverse(),O&&O.reverse(),M.join("")},E=function(P,O,D){var M,G,Y,W,F,ae=-1,re=P.length,oe=0,$=[],U=j?h:p,z=[];for(w=!1,a=!1,i=!1,G=0;G<re;G++)z[G]=_(P[G]);for(Y=0;Y<re;Y++){if(F=oe,$[Y]=k(P,z,$,Y),M=240&(oe=U[F][g[$[Y]]]),oe&=15,O[Y]=W=U[oe][5],M>0)if(M===16){for(G=ae;G<Y;G++)O[G]=1;ae=-1}else ae=-1;if(U[oe][6])ae===-1&&(ae=Y);else if(ae>-1){for(G=ae;G<Y;G++)O[G]=W;ae=-1}z[Y]==="B"&&(O[Y]=0),D.hiLevel|=W}i&&(function(J,le,se){for(var de=0;de<se;de++)if(J[de]==="S"){le[de]=j;for(var ie=de-1;ie>=0&&J[ie]==="WS";ie--)le[ie]=j}})(z,O,re)},I=function(P,O,D,M,G){if(!(G.hiLevel<P)){if(P===1&&j===1&&!a)return O.reverse(),void(D&&D.reverse());for(var Y,W,F,ae,re=O.length,oe=0;oe<re;){if(M[oe]>=P){for(F=oe+1;F<re&&M[F]>=P;)F++;for(ae=oe,W=F-1;ae<W;ae++,W--)Y=O[ae],O[ae]=O[W],O[W]=Y,D&&(Y=D[ae],D[ae]=D[W],D[W]=Y);oe=F}oe++}}},L=function(P,O,D){var M=P.split(""),G={hiLevel:j};return D||(D=[]),E(M,D,G),(function(Y,W,F){if(F.hiLevel!==0&&d)for(var ae,re=0;re<Y.length;re++)W[re]===1&&(ae=v.indexOf(Y[re]))>=0&&(Y[re]=v[ae+1])})(M,D,G),I(2,M,O,D,G),I(1,M,O,D,G),M.join("")};return this.__bidiEngine__.doBidiReorder=function(P,O,D){if((function(G,Y){if(Y)for(var W=0;W<G.length;W++)Y[W]=W;s===void 0&&(s=S(G)),u===void 0&&(u=S(G))})(P,O),o||!c||u)if(o&&c&&s^u)j=s?1:0,P=A(P,O,D);else if(!o&&c&&u)j=s?1:0,P=L(P,O,D),P=A(P,O);else if(!o||s||c||u){if(o&&!c&&s^u)P=A(P,O),s?(j=0,P=L(P,O,D)):(j=1,P=L(P,O,D),P=A(P,O));else if(o&&s&&!c&&u)j=1,P=L(P,O,D),P=A(P,O);else if(!o&&!c&&s^u){var M=d;s?(j=1,P=L(P,O,D),j=0,d=!1,P=L(P,O,D),d=M):(j=0,P=L(P,O,D),P=A(P,O),j=1,d=!1,P=L(P,O,D),d=M,P=A(P,O))}}else j=0,P=L(P,O,D);else j=s?1:0,P=L(P,O,D);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,s=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(o=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?o.push([r.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):o.push([r.doBidiReorder(a[s])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(ct),ct.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ls(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TK(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new yK(this.contents),this.head=new xK(this),this.name=new NK(this),this.cmap=new Z8(this),this.toUnicode={},this.hhea=new wK(this),this.maxp=new AK(this),this.hmtx=new kK(this),this.post=new jK(this),this.os2=new _K(this),this.loca=new EK(this),this.glyf=new PK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,c,u;for(u=[],o=0,s=(c=this.bbox).length;o<s;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,s;for(o=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Ai,Ls=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,s,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*s+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),yK=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,s,c,u,d,f,p,h,g,m;for(m in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(a=new Ls).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,u=a.pos+i,s=null,g=[],r)for(p=r[m],a.writeString(m),a.writeInt(t(p)),a.writeInt(u),a.writeInt(p.length),g=g.concat(p),m==="head"&&(s=u),u+=p.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-t(a.data),a.pos=s+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=J8.call(r);r.length%4;)r.push(0);for(i=new Ls(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),bK={}.hasOwnProperty,no=function(t,e){for(var r in e)bK.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ai=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var xK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Ls).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),A4=(function(){function t(e,r){var n,a,i,o,s,c,u,d,f,p,h,g,m,v,b,w,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,i=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),e.pos+=2,m=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),u=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),d=(function(){var _,S;for(S=[],c=_=0;0<=p?_<p:_>p;c=0<=p?++_:--_)S.push(e.readUInt16());return S})(),a=(this.length-e.pos+this.offset)/2,s=(function(){var _,S;for(S=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)S.push(e.readUInt16());return S})(),c=b=0,j=i.length;b<j;c=++b)for(v=i[c],n=w=g=m[c];g<=v?w<=v:w>=v;n=g<=v?++w:--w)d[c]===0?o=n+u[c]:(o=s[d[c]/2+(n-g)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,a,i,o,s,c,u,d,f,p,h,g,m,v,b,w,j,_,S,k,A,E,I,L,P,O,D,M,G,Y,W,F,ae,re,oe,$,U,z,J,le,se,de,ie,he,ge,ue;switch(M=new Ls,o=Object.keys(e).sort(function(Pe,me){return Pe-me}),r){case"macroman":for(m=0,v=(function(){var Pe=[];for(g=0;g<256;++g)Pe.push(0);return Pe})(),w={0:0},i={},G=0,ae=o.length;G<ae;G++)w[ie=e[a=o[G]]]==null&&(w[ie]=++m),i[a]={old:e[a],new:w[e[a]]},v[a]=w[e[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(v),{charMap:i,subtable:M.data,maxGlyphID:m+1};case"unicode":for(O=[],f=[],j=0,w={},n={},b=u=null,Y=0,re=o.length;Y<re;Y++)w[S=e[a=o[Y]]]==null&&(w[S]=++j),n[a]={old:S,new:w[S]},s=w[S]-a,b!=null&&s===u||(b&&f.push(b),O.push(a),u=s),b=a;for(b&&f.push(b),f.push(65535),O.push(65535),L=2*(I=O.length),E=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,A=2*I-E,c=[],k=[],h=[],g=W=0,oe=O.length;W<oe;g=++W){if(P=O[g],d=f[g],P===65535){c.push(0),k.push(0);break}if(P-(D=n[P].new)>=32768)for(c.push(0),k.push(2*(h.length+I-g)),a=F=P;P<=d?F<=d:F>=d;a=P<=d?++F:--F)h.push(n[a].new);else c.push(D-P),k.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*I+2*h.length),M.writeUInt16(0),M.writeUInt16(L),M.writeUInt16(E),M.writeUInt16(p),M.writeUInt16(A),se=0,$=f.length;se<$;se++)a=f[se],M.writeUInt16(a);for(M.writeUInt16(0),de=0,U=O.length;de<U;de++)a=O[de],M.writeUInt16(a);for(he=0,z=c.length;he<z;he++)s=c[he],M.writeUInt16(s);for(ge=0,J=k.length;ge<J;ge++)_=k[ge],M.writeUInt16(_);for(ue=0,le=h.length;ue<le;ue++)m=h[ue],M.writeUInt16(m);return{charMap:n,subtable:M.data,maxGlyphID:j+1}}},t})(),Z8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new A4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=A4.encode(e,r),(a=new Ls).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),wK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),_K=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),jK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,s,c;for(c=[],i=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;i=0<=s?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),SK=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},NK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,o,s,c,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),s=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(c={},i=d=0,f=n.length;d<f;i=++d)a=n[i],e.pos=a.offset,u=e.readString(a.length),o=new SK(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),AK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),kK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,o,s,c;for(e.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),J8=[].slice,PK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,o,s,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(s=new Ls(r.read(a))).readShort(),u=s.readShort(),f=s.readShort(),c=s.readShort(),d=s.readShort(),this.cache[e]=o===-1?new OK(s,u,f,c,d):new CK(s,o,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,o,s,c;for(o=[],i=[],s=0,c=r.length;s<c;s++)a=e[r[s]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),CK=(function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),OK=(function(){function t(e,r,n,a,i){var o,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ls(J8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),EK=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ai),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var s=this.offsets[o],c=this.offsets[o+1]-s;c>0&&(a+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),TK=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,s,c;for(a={},o=0,s=e.length;o<s;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,s,c,u,d,f,p,h,g,m,v,b;for(a in n=Z8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},b=n.charMap)h[(c=b[a]).old]=c.new;for(g in p=n.maxGlyphID,o)g in h||(h[g]=p++);return d=(function(w){var j,_;for(j in _={},w)_[w[j]]=j;return _})(h),f=Object.keys(d).sort(function(w,j){return w-j}),m=(function(){var w,j,_;for(_=[],w=0,j=f.length;w<j;w++)s=f[w],_.push(d[s]);return _})(),i=this.font.glyf.encode(o,m,h),u=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();ct.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+(function(){var s,c,u;for(u=[],s=0,c=r.length;s<c;s++)n=r[s],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();const _l=t=>typeof t!="number"||isNaN(t)?"R0.00":new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Q8=async t=>{try{const e=new ct,r={background:[40,44,52],primary:[255,255,255],secondary:[156,163,175],accent:[239,68,68],accent2:[59,130,246],cardBg:[55,65,81],border:[75,85,99],success:[34,197,94],warning:[251,191,36]};e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F");let n=25;e.setFillColor(229,62,132),e.rect(0,0,210,35,"F"),e.setFillColor(219,39,119),e.rect(0,25,210,10,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(28),e.setFont("helvetica","bold"),e.text("ROSMAMA",20,20),e.setFontSize(14),e.setFont("helvetica","normal"),e.text("Premium Fashion & Lifestyle",20,30),n=50,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.text(" New Rd, Carlswald, Midrand, 1684",20,n),e.text(" +27 63 470 8046",20,n+5),e.text(" info@rosemama.store",20,n+10),n+=25;const a=(u,d,f,p)=>{e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(u,d,f,p,"F"),e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.setLineWidth(.5),e.rect(u,d,f,p)};a(20,n,85,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Invoice Details",25,n+8),e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]);let i=n+16;e.text("Invoice Number:",25,i),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`INV-${t.order_id.slice(-8).toUpperCase()}`,25,i+4),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Order ID:",25,i+12),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${t.order_id.slice(-12)}`,25,i+16),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text("Invoice Date:",25,i+24),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.text(`${new Date(t.order_date).toLocaleDateString()}`,25,i+28);const s={pending:r.warning,processing:r.accent2,shipped:r.accent2,delivered:r.success,cancelled:r.accent}[t.status]||r.secondary;if(e.setFillColor(s[0],s[1],s[2]),e.rect(67,i+32,25,8,"F"),e.setTextColor(255,255,255),e.setFontSize(8),e.setFont("helvetica","bold"),e.text(t.status.toUpperCase(),69,i+37),a(110,n,80,45),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Bill To",115,n+8),e.setFontSize(10),e.setFont("helvetica","bold"),e.text(t.customer_name,115,n+18),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.text(t.customer_email,115,n+25),t.shipping_address&&(e.text(t.shipping_address.address,115,n+32),e.text(`${t.shipping_address.city}, ${t.shipping_address.state}`,115,n+37),e.text(`${t.shipping_address.zipCode} ${t.shipping_address.country}`,115,n+42)),n+=60,t.order_items&&t.order_items.length>0){e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Order Items",20,n),n+=15,e.setFillColor(r.cardBg[0],r.cardBg[1],r.cardBg[2]),e.rect(20,n-5,170,12,"F"),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.setFont("helvetica","bold"),e.text("ITEM",25,n),e.text("QTY",125,n,{align:"center"}),e.text("PRICE",150,n,{align:"center"}),e.text("TOTAL",180,n,{align:"right"}),n+=12,e.setFont("helvetica","normal"),t.order_items.forEach((f,p)=>{var g,m;p%2===0&&(e.setFillColor(45,55,72),e.rect(20,n-3,170,14,"F")),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9);const h=(((g=f.products)==null?void 0:g.name)||"Unknown Product").substring(0,30);e.text(h,25,n+3),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(7),e.text(((m=f.products)==null?void 0:m.category)||"N/A",25,n+8),e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(9),e.text(f.quantity.toString(),125,n+3,{align:"center"}),e.text(_l(f.price_at_purchase),150,n+3,{align:"center"}),e.text(_l(f.quantity*f.price_at_purchase),180,n+3,{align:"right"}),n+=14,n>250&&(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20)}),n+=10,a(110,n,80,35),e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9);let u=n+10;e.text("Subtotal:",115,u),e.text(_l(O_(t)),185,u,{align:"right"}),u+=8,e.text("Shipping:",115,u),e.text(_l(150),185,u,{align:"right"}),u+=8,e.setDrawColor(r.border[0],r.border[1],r.border[2]),e.line(115,u,185,u),u+=8,e.setTextColor(r.primary[0],r.primary[1],r.primary[2]),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("TOTAL:",115,u),e.setTextColor(r.accent[0],r.accent[1],r.accent[2]),e.text(_l(t.amount),185,u,{align:"right"}),n+=45,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal");const d=t.payment_method==="cash-on-delivery"?" Cash on Delivery":t.payment_method==="bank-transfer"?" Bank Transfer":t.payment_method==="credit-card"?" Credit Card":"Payment Method Not Specified";e.text(`Payment Method: ${d}`,20,n)}n>250?(e.addPage(),e.setFillColor(r.background[0],r.background[1],r.background[2]),e.rect(0,0,210,297,"F"),n=20):n=270,e.setTextColor(r.secondary[0],r.secondary[1],r.secondary[2]),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Thank you for shopping with Rosmama! We appreciate your business.",20,n),e.setFontSize(8),e.text("For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046",20,n+6);const c=`INV-${t.order_id.slice(-8).toUpperCase()}`;e.save(`${c}.pdf`)}catch(e){throw console.error("Error generating PDF:",e),new Error("Failed to generate PDF invoice. Please try again.")}},O_=t=>t.order_items?t.order_items.reduce((e,r)=>e+r.quantity*r.price_at_purchase,0):t.amount,Ps=t=>_l(t),IK=t=>({pending:"rgb(251, 191, 36)",processing:"rgb(59, 130, 246)",shipped:"rgb(168, 85, 247)",delivered:"rgb(34, 197, 94)",cancelled:"rgb(239, 68, 68)"})[t.toLowerCase()]||"rgb(107, 114, 128)",LK=t=>({pending:[251,191,36],processing:[59,130,246],shipped:[168,85,247],delivered:[34,197,94],cancelled:[239,68,68]})[t.toLowerCase()]||[107,114,128],eL=async t=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)throw new Error("Please allow popups for this site to print invoices.");const r=`
      <div style="max-width: 800px; margin: 0 auto; padding: 15px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; min-height: 100vh; display: flex; flex-direction: column;">
        <!-- Main Content Area -->
        <div style="flex: 1;">
          <!-- Compact Header with Gradient -->
          <div style="text-align: center; margin-bottom: 25px;">
            <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); margin-bottom: 15px;">
              <h1 style="font-size: 28px; font-weight: bold; color: white; margin: 0 0 5px 0; letter-spacing: 1px;">ROSMAMA</h1>
              <p style="font-size: 14px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
            </div>
            
            <!-- Contact Information with Icons -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; font-size: 12px;">
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">&bull;</span>
                <span>New Rd, Carlswald, Midrand, 1684</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1);">
                <span style="margin-right: 6px; font-weight: bold;">Tel:</span>
                <span>+27 63 470 8046</span>
              </div>
              <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8);">
                <span style="margin-right: 6px; font-weight: bold;">@</span>
                <span>info@rosemama.store</span>
              </div>
            </div>
          </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 30px; margin-bottom: 40px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Invoice Details</h2>
            <div style="space-y: 12px;">
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.9);"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 8px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${LK(t.status)}; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 22px; font-weight: bold; margin: 0 0 20px 0; color: rgb(244, 63, 94);">Bill To</h2>
            <div style="space-y: 8px;">
              <p style="margin: 8px 0; font-weight: bold; color: white; font-size: 16px;">${t.customer_name}</p>
              <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.address}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 8px 0; color: rgba(255, 255, 255, 0.8);">${t.shipping_address.country}</p>
                <p style="margin: 8px 0; color: rgba(244, 63, 94, 1);"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>

        <!-- Order Items Table -->
        <div style="background: rgb(55, 65, 81); border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
                <th style="padding: 10px 12px; text-align: left; color: white; font-weight: 600; font-size: 12px;">ITEM</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">QTY</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">PRICE</th>
                <th style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 12px;">TOTAL</th>
              </tr>
            </thead>
            <tbody>
              ${t.order_items&&t.order_items.length>0?t.order_items.map((n,a)=>{var i,o;return`
                  <tr style="background: ${a%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                    <td style="padding: 10px 12px;">
                      <div>
                        <div style="font-weight: 600; color: white; font-size: 13px;">${((i=n.products)==null?void 0:i.name)||"Unknown Product"}</div>
                        <div style="font-size: 11px; color: rgba(255, 255, 255, 0.6); margin-top: 2px;">${((o=n.products)==null?void 0:o.category)||"N/A"}</div>
                      </div>
                    </td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500; font-size: 13px;">${n.quantity}</td>
                    <td style="padding: 10px 12px; text-align: right; color: rgba(255, 255, 255, 0.9); font-size: 13px;">${Ps(n.price_at_purchase)}</td>
                    <td style="padding: 10px 12px; text-align: right; color: white; font-weight: 600; font-size: 13px;">${Ps(n.quantity*n.price_at_purchase)}</td>
                  </tr>
                `}).join(""):'<tr><td colspan="4" style="padding: 15px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
            </tbody>
          </table>
        </div>

        <!-- Payment and Totals Section -->
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h3 style="font-size: 16px; font-weight: bold; margin: 0 0 10px 0; color: rgb(244, 63, 94);">Payment Method</h3>
            <p style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <div style="space-y: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Subtotal:</span>
                <span>${Ps(O_(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: rgba(255, 255, 255, 0.8); font-size: 13px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 12px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 16px; color: white;">
                <span>Total:</span>
                <span style="color: rgb(244, 63, 94);">${Ps(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Sticky Footer -->
        <div style="margin-top: auto; text-align: center; border-top: 1px solid rgba(244, 63, 94, 0.3); padding-top: 15px; flex-shrink: 0;">
          <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 8px; font-size: 13px; font-weight: 500;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 11px; color: rgba(255, 255, 255, 0.6);">
            For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
          </p>
        </div>
      </div>
    `;e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>INV-${t.order_id.slice(-8).toUpperCase()}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            @media print {
              body { 
                margin: 0 !important; 
                background: rgb(40, 44, 52) !important; 
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
                print-color-adjust: exact;
              }
              .no-print { display: none; }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              @page {
                margin: 0 !important;
                size: A4;
              }
            }
            body { 
              font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              background: rgb(40, 44, 52) !important;
              color: rgb(255, 255, 255) !important;
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
              print-color-adjust: exact;
              font-size: 14px;
              line-height: 1.5;
            }
            .invoice-container { 
              max-width: 800px; 
              margin: 0 auto; 
              padding: 15px; 
            }
            /* Ensure all text is properly encoded and rendered */
            * {
              font-feature-settings: "kern" 1, "liga" 1;
              text-rendering: optimizeLegibility;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
            }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            ${r}
          </div>
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 1000);
            }
          <\/script>
        </body>
      </html>
    `),e.document.close()}catch(e){throw console.error("Error printing invoice:",e),e}},tL=async t=>{const e=`
    <div style="max-width: 800px; margin: 0 auto; padding: 30px; background: rgb(40, 44, 52); color: rgb(255, 255, 255); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3); display: flex; flex-direction: column; min-height: 70vh;">
      <!-- Modern Header with Gradient -->
      <div style="text-align: center; margin-bottom: 40px;">
        <div style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%); padding: 30px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); margin-bottom: 25px;">
          <h1 style="font-size: 48px; font-weight: bold; color: white; margin: 0 0 10px 0; letter-spacing: 2px;">ROSMAMA</h1>
          <p style="font-size: 22px; font-weight: 500; color: rgba(255, 255, 255, 0.9); margin: 0;">Premium Fashion & Lifestyle</p>
          <div style="width: 80px; height: 4px; background: white; margin: 15px auto 0; border-radius: 2px;"></div>
        </div>
        
        <!-- Contact Information with Icons -->
        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">&bull;</span>
            <span>New Rd, Carlswald, Midrand, 1684</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(244, 63, 94, 1); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">Tel:</span>
            <span>+27 63 470 8046</span>
          </div>
          <div style="display: flex; align-items: center; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
            <span style="margin-right: 8px; font-weight: bold;">@</span>
            <span>info@rosemama.store</span>
          </div>
        </div>
      </div>

        <!-- Invoice Details Cards -->
        <div style="display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: left;">Invoice Details</h2>
            <div style="space-y: 8px; text-align: left;">
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Order ID:</strong> ${t.order_id}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.9); font-size: 13px;"><strong style="color: white;">Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
              <p style="margin: 4px 0;"><strong style="color: white;">Status:</strong> 
                <span style="background: ${IK(t.status)}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">${t.status.toUpperCase()}</span>
              </p>
            </div>
          </div>
          
          <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
            <h2 style="font-size: 16px; font-weight: bold; margin: 0 0 12px 0; color: rgb(244, 63, 94); text-align: right;">Bill To</h2>
            <div style="space-y: 6px; text-align: right;">
              <p style="margin: 4px 0; font-weight: bold; color: white; font-size: 14px;">${t.customer_name}</p>
              <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.customer_email}</p>
              ${t.shipping_address?`
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.address}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
                <p style="margin: 4px 0; color: rgba(255, 255, 255, 0.8); font-size: 13px;">${t.shipping_address.country}</p>
                <p style="margin: 4px 0; color: rgba(244, 63, 94, 1); font-size: 13px;"><strong>Tel:</strong> ${t.shipping_address.phone}</p>
              `:""}
            </div>
          </div>
        </div>      <!-- Order Items Table -->
      <div style="background: rgb(55, 65, 81); border-radius: 12px; overflow: hidden; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="background: linear-gradient(135deg, rgba(244, 63, 94, 1) 0%, rgba(219, 39, 119, 1) 100%);">
              <th style="padding: 16px 20px; text-align: left; color: white; font-weight: 600; font-size: 14px;">ITEM</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">QTY</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">PRICE</th>
              <th style="padding: 16px 20px; text-align: right; color: white; font-weight: 600; font-size: 14px;">TOTAL</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map((i,o)=>{var s,c;return`
                <tr style="background: ${o%2===0?"rgb(55, 65, 81)":"rgb(45, 55, 72)"}; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
                  <td style="padding: 16px 20px;">
                    <div>
                      <div style="font-weight: 600; color: white; font-size: 15px;">${((s=i.products)==null?void 0:s.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin-top: 4px;">${((c=i.products)==null?void 0:c.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9); font-weight: 500;">${i.quantity}</td>
                  <td style="padding: 16px 20px; text-align: right; color: rgba(255, 255, 255, 0.9);">${Ps(i.price_at_purchase)}</td>
                  <td style="padding: 16px 20px; text-align: right; color: white; font-weight: 600;">${Ps(i.quantity*i.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 20px; text-align: center; color: rgba(255, 255, 255, 0.6);">No items found in this order</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Payment and Totals Section -->
      <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <h3 style="font-size: 20px; font-weight: bold; margin: 0 0 15px 0; color: rgb(244, 63, 94);">Payment Method</h3>
          <p style="color: rgba(255, 255, 255, 0.8); font-size: 16px;">
            ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
          </p>
        </div>
        
        <div style="flex: 1; min-width: 250px; background: rgb(55, 65, 81); padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          <div style="space-y: 12px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Subtotal:</span>
              <span>${Ps(O_(t))}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px; color: rgba(255, 255, 255, 0.8);">
              <span>Shipping:</span>
              <span>R150.00</span>
            </div>
            <hr style="border: none; border-top: 2px solid rgba(244, 63, 94, 0.3); margin: 16px 0;">
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 20px; color: white;">
              <span>Total:</span>
              <span style="color: rgb(244, 63, 94);">${Ps(t.amount)}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Elegant Footer -->
      <div style="margin-top: auto; text-align: center; border-top: 2px solid rgba(244, 63, 94, 0.3); padding-top: 30px;">
        <p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; font-size: 16px; font-weight: 500;">
          Thank you for shopping with Rosemama! We appreciate your business.
        </p>
        <p style="font-size: 14px; color: rgba(255, 255, 255, 0.6);">
          For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
        </p>
      </div>
    </div>
  `,r=document.createElement("div");r.id="invoice-modal-overlay",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.zIndex="9999",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.addEventListener("click",i=>{i.target===r&&document.body.removeChild(r)});const n=document.createElement("div");n.style.backgroundColor="rgb(40, 44, 52)",n.style.maxWidth="90vw",n.style.maxHeight="90vh",n.style.overflow="auto",n.style.borderRadius="16px",n.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.3)";const a=()=>{const i=document.getElementById("invoice-modal-overlay");i&&i.parentNode&&i.parentNode.removeChild(i)};n.innerHTML=`
    <div style="padding: 20px; background: rgb(40, 44, 52); display: flex; flex-direction: column; min-height: 80vh;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="font-size: 24px; font-weight: bold; color: white; margin: 0;">Invoice Preview</h2>
        <button id="close-modal-btn" style="background: linear-gradient(135deg, rgb(244, 63, 94), rgb(219, 39, 119)); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;">Close</button>
      </div>
      <div style="flex: 1;">
        ${e}
      </div>
    </div>
  `,r.appendChild(n),document.body.appendChild(r),setTimeout(()=>{const i=document.getElementById("close-modal-btn");i&&i.addEventListener("click",a)},0)};function RK({variant:t="banner",showDismiss:e=!1,onDismiss:r,className:n=""}){const{user:a,isEmailVerified:i,pendingVerification:o,resendVerification:s}=Nn(),[c,u]=N.useState(!1);if(!a||i||c)return null;const d=async()=>{await s()?Ce.success("Verification email sent! Check your inbox."):Ce.error("Failed to send verification email. Please try again.")},f=()=>{u(!0),r==null||r()},p=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(xf,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Verify your email address"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Check your inbox and click the verification link to access order tracking and earn rewards."})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",size:"sm",onClick:d,disabled:o,className:"text-xs",children:o?l.jsxs(l.Fragment,{children:[l.jsx(qa,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending..."]}):"Resend Email"}),e&&l.jsx(we,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto",children:l.jsx(Ro,{className:"h-4 w-4"})})]})]});return t==="card"?l.jsx(ze,{className:`border-blue-200 bg-blue-50 ${n}`,children:l.jsx(We,{className:"p-4",children:p})}):t==="inline"?l.jsx("div",{className:`rounded-md bg-blue-50 border border-blue-200 p-3 ${n}`,children:p}):l.jsx("div",{className:`bg-blue-50 border-b border-blue-200 px-4 py-3 ${n}`,children:p})}function MK({className:t=""}){const{user:e,isEmailVerified:r,resendVerification:n}=Nn(),[a,i]=N.useState(!1);return!e||r?null:l.jsxs("div",{className:`relative ${t}`,children:[l.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"text-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[l.jsx(xf,{className:"h-3 w-3 mr-1"}),"Verify Email"]}),a&&l.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border p-3 z-50",children:l.jsxs("div",{className:"text-xs",children:[l.jsx("p",{className:"font-medium mb-1",children:"Email verification needed"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Verify your email to track orders and earn rewards."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(we,{size:"sm",onClick:async()=>{await n(),i(!1),Ce.success("Verification email sent!")},className:"text-xs",children:"Resend"}),l.jsx(we,{variant:"outline",size:"sm",onClick:()=>i(!1),className:"text-xs",children:"Later"})]})]})})]})}function DK({onLogout:t}){const{user:e,loading:r,signOut:n}=Nn(),[a,i]=N.useState(!1),[o,s]=N.useState(!1),[c,u]=N.useState([]),[d,f]=N.useState(!1),[p,h]=N.useState(null),[g,m]=N.useState(!1);N.useEffect(()=>{g&&e&&v()},[g,e]);const v=async()=>{f(!0);try{const L=await rI();u(L)}catch(L){console.error("Error fetching orders:",L),Ce.error("Failed to load order history")}finally{f(!1)}};if(r)return l.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(!e)return l.jsx("div",{className:"text-center py-12",children:"Could not load user profile. Please try logging in again."});const[b,w]=N.useState({name:e.name,email:e.email,phone:e.phone||""}),j=()=>{i(!1),Ce.info("Profile update functionality is coming soon!")},_=async()=>{if(o){console.log("Profile: Logout already in progress, ignoring click");return}console.log("Profile: Logout button clicked"),s(!0);try{console.log("Profile: Calling signOut()"),await n(),console.log("Profile: signOut() completed"),Ce.success("Signed out successfully"),console.log("Profile: About to reload page immediately");try{window.location.reload(),console.log("Profile: window.location.reload() called successfully")}catch(L){console.error("Profile: Error calling window.location.reload():",L),setTimeout(()=>{console.log("Profile: Fallback reload attempt"),window.location.reload()},100)}}catch(L){console.error("Profile: Logout failed:",L),Ce.error("Failed to log out"),s(!1)}},S=async L=>{var O;const P={id:L.id,order_id:L.id,customer_name:e.name,customer_email:e.email,amount:L.total_amount,status:L.status,order_date:new Date(L.created_at).toLocaleDateString(),shipping_address:L.shipping_address,order_items:L.order_items,payment_method:((O=L.shipping_address)==null?void 0:O.paymentMethod)||"N/A"};try{await eL(P),Ce.success("Invoice opened for printing")}catch(D){console.error("Error printing invoice:",D),Ce.error(D instanceof Error?D.message:"Failed to print invoice")}},k=async L=>{var O;const P={id:L.id,order_id:L.id,customer_name:e.name,customer_email:e.email,amount:L.total_amount,status:L.status,order_date:new Date(L.created_at).toLocaleDateString(),shipping_address:L.shipping_address,order_items:L.order_items,payment_method:((O=L.shipping_address)==null?void 0:O.paymentMethod)||"N/A"};try{await Q8(P),Ce.success("PDF downloaded successfully")}catch(D){console.error("Error generating PDF:",D),Ce.error("Failed to generate PDF")}},A=async L=>{var O;const P={id:L.id,order_id:L.id,customer_name:e.name,customer_email:e.email,amount:L.total_amount,status:L.status,order_date:new Date(L.created_at).toLocaleDateString(),shipping_address:L.shipping_address,order_items:L.order_items,payment_method:((O=L.shipping_address)==null?void 0:O.paymentMethod)||"N/A"};try{await tL(P)}catch(D){console.error("Error viewing invoice:",D),Ce.error("Failed to view invoice")}},E=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L),I=[{icon:wf,label:"Order History",action:()=>m(!0)},{icon:Is,label:"Wishlist",action:()=>Ce.info("Wishlist coming soon!")},{icon:a_,label:"Addresses",action:()=>Ce.info("Address management coming soon!")},{icon:t_,label:"Payment Methods",action:()=>Ce.info("Payment methods coming soon!")},{icon:Sl,label:"Notifications",action:()=>Ce.info("Notification settings coming soon!")},{icon:Oo,label:"Privacy & Security",action:()=>Ce.info("Privacy settings coming soon!")}];return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-2xl",children:[l.jsx(RK,{variant:"card",className:"mb-4",showDismiss:!0}),l.jsx(ze,{className:"mb-6",children:l.jsx(We,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(PI,{className:"h-20 w-20",children:l.jsx(CI,{className:"text-xl",children:e.name.split(" ").map(L=>L[0]).join("").toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h2",{className:"text-xl font-semibold",children:e.name}),l.jsxs(Ut,{variant:"secondary",className:e.membershipTier==="Gold"?"bg-yellow-100 text-yellow-800":e.membershipTier==="Silver"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800",children:[e.membershipTier," Member"]})]}),l.jsx("p",{className:"text-muted-foreground",children:e.email}),l.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[l.jsxs("span",{className:"text-sm",children:[" ",e.points," points"]}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Member since ",e.created_at?new Date(e.created_at).getFullYear():"2024"]})]})]}),l.jsx(we,{variant:"outline",size:"sm",onClick:()=>i(!a),children:l.jsx(l_,{className:"h-4 w-4"})})]})})}),a&&l.jsxs(ze,{className:"mb-6",children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Edit Profile"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"name",children:"Full Name"}),l.jsx(Rt,{id:"name",value:b.name,onChange:L=>w(P=>({...P,name:L.target.value}))})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"email",children:"Email"}),l.jsx(Rt,{id:"email",type:"email",value:b.email,onChange:L=>w(P=>({...P,email:L.target.value}))})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"phone",children:"Phone"}),l.jsx(Rt,{id:"phone",type:"tel",value:b.phone,onChange:L=>w(P=>({...P,phone:L.target.value})),placeholder:"Enter phone number"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(we,{onClick:j,children:"Save Changes"}),l.jsx(we,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),l.jsxs(ze,{className:"mb-6",children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Account Settings"})}),l.jsx(We,{className:"p-0",children:l.jsx("ul",{className:"divide-y",children:I.map((L,P)=>l.jsx("li",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-muted/50",onClick:L.action,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(L.icon,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("span",{children:L.label})]})},P))})})]}),l.jsx(we,{variant:"destructive",className:"w-full",onClick:_,disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_T,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),l.jsx(Fo,{open:g,onOpenChange:m,children:l.jsxs(Qi,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Bo,{children:l.jsx(qo,{className:"text-2xl",children:"Order History"})}),d?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ol,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading your orders..."]}):c.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No orders found. Start shopping to see your order history here."}):l.jsx("div",{className:"space-y-4",children:c.map(L=>{var P;return l.jsx(ze,{children:l.jsx(We,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",L.id.slice(-8)]}),l.jsx(Ut,{variant:"outline",className:`${L.status==="delivered"?"border-green-500 text-green-700":L.status==="shipped"?"border-blue-500 text-blue-700":L.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:L.status})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Ordered on ",new Date(L.created_at).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})]}),l.jsxs("p",{className:"text-sm font-medium",children:["Total: ",E(L.total_amount)]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Fo,{children:[l.jsx(o8,{asChild:!0,children:l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>h(L),children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"View Details"]})}),l.jsxs(Qi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Bo,{children:l.jsxs(qo,{children:["Order #",L.id.slice(-8)]})}),p&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(ze,{children:l.jsxs(We,{className:"pt-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Order Date:"}),l.jsx("span",{className:"text-sm",children:new Date(p.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Status:"}),l.jsx(Ut,{variant:"outline",className:`${p.status==="delivered"?"border-green-500 text-green-700":p.status==="shipped"?"border-blue-500 text-blue-700":p.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:p.status})]})]})}),l.jsx(ze,{children:l.jsxs(We,{className:"pt-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Total Amount:"}),l.jsx("span",{className:"text-sm font-semibold",children:E(p.total_amount)})]}),((P=p.shipping_address)==null?void 0:P.paymentMethod)&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),l.jsxs("span",{className:"text-sm",children:[p.shipping_address.paymentMethod==="cash-on-delivery"&&" COD",p.shipping_address.paymentMethod==="bank-transfer"&&" Bank Transfer",p.shipping_address.paymentMethod==="credit-card"&&" Card"]})]})]})}),l.jsx(ze,{children:l.jsx(We,{className:"pt-4",children:l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsx("div",{children:l.jsx("strong",{children:"Shipping Address:"})}),p.shipping_address?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[p.shipping_address.firstName," ",p.shipping_address.lastName]}),l.jsx("div",{children:p.shipping_address.address}),l.jsxs("div",{children:[p.shipping_address.city,", ",p.shipping_address.state]}),l.jsx("div",{children:p.shipping_address.country}),l.jsxs("div",{children:[" ",p.shipping_address.phone]})]}):l.jsx("div",{className:"text-muted-foreground",children:"Address not available"})]})})})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{className:"text-lg",children:"Order Items"})}),l.jsx(We,{children:p.order_items&&p.order_items.length>0?l.jsxs("div",{className:"space-y-3",children:[p.order_items.map((O,D)=>{var M,G;return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[((M=O.products)==null?void 0:M.image_url)&&l.jsx("img",{src:O.products.image_url,alt:O.products.name,className:"w-12 h-12 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:((G=O.products)==null?void 0:G.name)||"Unknown Product"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",O.quantity,"  ",E(O.price_at_purchase)]})]})]}),l.jsx("p",{className:"font-medium",children:E(O.quantity*O.price_at_purchase)})]},D)}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:E(p.total_amount)})]})]}):l.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"text-lg flex items-center gap-2",children:[l.jsx(Lo,{className:"h-5 w-5"}),"Invoice Actions"]})}),l.jsxs(We,{children:[l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs(we,{variant:"outline",onClick:()=>A(p),className:"flex items-center gap-2",children:[l.jsx(Lo,{className:"h-4 w-4"}),"View Invoice"]}),l.jsxs(we,{variant:"outline",onClick:()=>k(p),className:"flex items-center gap-2",children:[l.jsx(wT,{className:"h-4 w-4"}),"Download PDF"]}),l.jsxs(we,{variant:"outline",onClick:()=>S(p),className:"flex items-center gap-2",children:[l.jsx(AT,{className:"h-4 w-4"}),"Print Invoice"]})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate and download professional invoices for your orders."})]})]})]})]})]}),l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>A(L),children:[l.jsx(Lo,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})})},L.id)})})]})}),l.jsx(Fs,{})]})}function E_(t){const e=t+"CollectionProvider",[r,n]=Tn(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:b}=m,w=K.useRef(null),j=K.useRef(new Map).current;return l.jsx(a,{scope:v,itemMap:j,collectionRef:w,children:b})};o.displayName=e;const s=t+"CollectionSlot",c=Ll(s),u=K.forwardRef((m,v)=>{const{scope:b,children:w}=m,j=i(s,b),_=Lt(v,j.collectionRef);return l.jsx(c,{ref:_,children:w})});u.displayName=s;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ll(d),h=K.forwardRef((m,v)=>{const{scope:b,children:w,...j}=m,_=K.useRef(null),S=Lt(v,_),k=i(d,b);return K.useEffect(()=>(k.itemMap.set(_,{ref:_,...j}),()=>void k.itemMap.delete(_))),l.jsx(p,{[f]:"",ref:S,children:w})});h.displayName=d;function g(m){const v=i(t+"CollectionConsumer",m);return K.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,A)=>j.indexOf(k.ref.current)-j.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,n]}var $K=N.createContext(void 0);function Ku(t){const e=N.useContext($K);return t||e||"ltr"}var wy="rovingFocusGroup.onEntryFocus",FK={bubbles:!1,cancelable:!0},gh="RovingFocusGroup",[m2,rL,BK]=E_(gh),[qK,zg]=Tn(gh,[BK]),[UK,zK]=qK(gh),nL=N.forwardRef((t,e)=>l.jsx(m2.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(m2.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(WK,{...t,ref:e})})}));nL.displayName=gh;var WK=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=N.useRef(null),h=Lt(e,p),g=Ku(i),[m,v]=Va({prop:o,defaultProp:s??null,onChange:c,caller:gh}),[b,w]=N.useState(!1),j=Un(u),_=rL(r),S=N.useRef(!1),[k,A]=N.useState(0);return N.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(wy,j),()=>E.removeEventListener(wy,j)},[j]),l.jsx(UK,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:N.useCallback(E=>v(E),[v]),onItemShiftTab:N.useCallback(()=>w(!0),[]),onFocusableItemAdd:N.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:N.useCallback(()=>A(E=>E-1),[]),children:l.jsx(at.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:ut(t.onMouseDown,()=>{S.current=!0}),onFocus:ut(t.onFocus,E=>{const I=!S.current;if(E.target===E.currentTarget&&I&&!b){const L=new CustomEvent(wy,FK);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const P=_().filter(Y=>Y.focusable),O=P.find(Y=>Y.active),D=P.find(Y=>Y.id===m),G=[O,D,...P].filter(Boolean).map(Y=>Y.ref.current);oL(G,d)}}S.current=!1}),onBlur:ut(t.onBlur,()=>w(!1))})})}),aL="RovingFocusGroupItem",iL=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...s}=t,c=vi(),u=i||c,d=zK(aL,r),f=d.currentTabStopId===u,p=rL(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return N.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),l.jsx(m2.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:l.jsx(at.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:ut(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ut(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ut(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=GK(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=p().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const _=j.indexOf(v.currentTarget);j=d.loop?YK(j,_+1):j.slice(_+1)}setTimeout(()=>oL(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});iL.displayName=aL;var HK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function GK(t,e,r){const n=VK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return HK[n]}function oL(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function YK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var sL=nL,lL=iL,Wg="Tabs",[KK,zxe]=Tn(Wg,[zg]),cL=zg(),[XK,T_]=KK(Wg),uL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:c="automatic",...u}=t,d=Ku(s),[f,p]=Va({prop:n,onChange:a,defaultProp:i??"",caller:Wg});return l.jsx(XK,{scope:r,baseId:vi(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:c,children:l.jsx(at.div,{dir:d,"data-orientation":o,...u,ref:e})})});uL.displayName=Wg;var dL="TabsList",fL=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=T_(dL,r),o=cL(r);return l.jsx(sL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(at.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});fL.displayName=dL;var hL="TabsTrigger",pL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=T_(hL,r),s=cL(r),c=vL(o.baseId,n),u=yL(o.baseId,n),d=n===o.value;return l.jsx(lL,{asChild:!0,...s,focusable:!a,active:d,children:l.jsx(at.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:ut(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ut(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ut(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});pL.displayName=hL;var mL="TabsContent",gL=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,s=T_(mL,r),c=vL(s.baseId,n),u=yL(s.baseId,n),d=n===s.value,f=N.useRef(d);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(ua,{present:a||d,children:({present:p})=>l.jsx(at.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});gL.displayName=mL;function vL(t,e){return`${t}-trigger-${e}`}function yL(t,e){return`${t}-content-${e}`}var ZK=uL,JK=fL,QK=pL,eX=gL;function vh({className:t,...e}){return l.jsx(ZK,{"data-slot":"tabs",className:Fe("flex flex-col gap-2",t),...e})}function yh({className:t,...e}){return l.jsx(JK,{"data-slot":"tabs-list",className:Fe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px]",t),...e})}function Fn({className:t,...e}){return l.jsx(QK,{"data-slot":"tabs-trigger",className:Fe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Bn({className:t,...e}){return l.jsx(eX,{"data-slot":"tabs-content",className:Fe("flex-1 outline-none",t),...e})}function tX({products:t}){const[e,r]=N.useState({revenue:0,orders:0,users:0,growth:{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}),[n,a]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[c,u,d,f]=await Promise.all([cI(),uI(),dI(),mI(30)]);r({revenue:c||0,orders:u||0,users:d||0,growth:f||{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}})}catch(c){console.error("Error fetching metrics:",c)}finally{a(!1)}})()},[]);const i=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),o=s=>new Intl.NumberFormat("en-US").format(s);return n?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((s,c)=>l.jsx(ze,{children:l.jsx(We,{className:"p-6",children:l.jsx("div",{className:"flex items-center justify-center h-20",children:l.jsx(qa,{className:"h-6 w-6 animate-spin"})})})},c))}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[l.jsx(ze,{children:l.jsxs(We,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qw,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Total Revenue"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-2xl font-bold",children:i(e.revenue)}),l.jsxs("p",{className:`text-xs ${e.growth.growth_percentage>=0?"text-green-600":"text-red-600"}`,children:[e.growth.growth_percentage>=0?"+":"",e.growth.growth_percentage.toFixed(1),"% from last month"]})]})]})}),l.jsx(ze,{children:l.jsxs(We,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dm,{className:"h-5 w-5 text-blue-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-2xl font-bold",children:o(e.orders)}),l.jsx("p",{className:"text-xs text-blue-600",children:"All time orders"})]})]})}),l.jsx(ze,{children:l.jsxs(We,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wf,{className:"h-5 w-5 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Total Products"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-2xl font-bold",children:o(t.length)}),l.jsx("p",{className:"text-xs text-purple-600",children:"Available in store"})]})]})}),l.jsx(ze,{children:l.jsxs(We,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(TT,{className:"h-5 w-5 text-orange-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Total Users"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-2xl font-bold",children:o(e.users)}),l.jsx("p",{className:"text-xs text-orange-600",children:"Registered users"})]})]})})]})}var _y,k4;function fa(){if(k4)return _y;k4=1;var t=Array.isArray;return _y=t,_y}var jy,P4;function bL(){if(P4)return jy;P4=1;var t=typeof lp=="object"&&lp&&lp.Object===Object&&lp;return jy=t,jy}var Sy,C4;function ao(){if(C4)return Sy;C4=1;var t=bL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Sy=r,Sy}var Ny,O4;function bh(){if(O4)return Ny;O4=1;var t=ao(),e=t.Symbol;return Ny=e,Ny}var Ay,E4;function rX(){if(E4)return Ay;E4=1;var t=bh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var s=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(s?o[a]=c:delete o[a]),d}return Ay=i,Ay}var ky,T4;function nX(){if(T4)return ky;T4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ky=r,ky}var Py,I4;function Yo(){if(I4)return Py;I4=1;var t=bh(),e=rX(),r=nX(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?e(s):r(s)}return Py=o,Py}var Cy,L4;function Ko(){if(L4)return Cy;L4=1;function t(e){return e!=null&&typeof e=="object"}return Cy=t,Cy}var Oy,R4;function Xu(){if(R4)return Oy;R4=1;var t=Yo(),e=Ko(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Oy=n,Oy}var Ey,M4;function I_(){if(M4)return Ey;M4=1;var t=fa(),e=Xu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Ey=a,Ey}var Ty,D4;function Bs(){if(D4)return Ty;D4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Ty=t,Ty}var Iy,$4;function L_(){if($4)return Iy;$4=1;var t=Yo(),e=Bs(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(s){if(!e(s))return!1;var c=t(s);return c==n||c==a||c==r||c==i}return Iy=o,Iy}var Ly,F4;function aX(){if(F4)return Ly;F4=1;var t=ao(),e=t["__core-js_shared__"];return Ly=e,Ly}var Ry,B4;function iX(){if(B4)return Ry;B4=1;var t=aX(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Ry=r,Ry}var My,q4;function xL(){if(q4)return My;q4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return My=r,My}var Dy,U4;function oX(){if(U4)return Dy;U4=1;var t=L_(),e=iX(),r=Bs(),n=xL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,c=o.toString,u=s.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:i;return h.test(n(p))}return Dy=f,Dy}var $y,z4;function sX(){if(z4)return $y;z4=1;function t(e,r){return e==null?void 0:e[r]}return $y=t,$y}var Fy,W4;function Ql(){if(W4)return Fy;W4=1;var t=oX(),e=sX();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return Fy=r,Fy}var By,H4;function Hg(){if(H4)return By;H4=1;var t=Ql(),e=t(Object,"create");return By=e,By}var qy,V4;function lX(){if(V4)return qy;V4=1;var t=Hg();function e(){this.__data__=t?t(null):{},this.size=0}return qy=e,qy}var Uy,G4;function cX(){if(G4)return Uy;G4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Uy=t,Uy}var zy,Y4;function uX(){if(Y4)return zy;Y4=1;var t=Hg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var s=o[i];return s===e?void 0:s}return n.call(o,i)?o[i]:void 0}return zy=a,zy}var Wy,K4;function dX(){if(K4)return Wy;K4=1;var t=Hg(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Wy=n,Wy}var Hy,X4;function fX(){if(X4)return Hy;X4=1;var t=Hg(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Hy=r,Hy}var Vy,Z4;function hX(){if(Z4)return Vy;Z4=1;var t=lX(),e=cX(),r=uX(),n=dX(),a=fX();function i(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Vy=i,Vy}var Gy,J4;function pX(){if(J4)return Gy;J4=1;function t(){this.__data__=[],this.size=0}return Gy=t,Gy}var Yy,Q4;function R_(){if(Q4)return Yy;Q4=1;function t(e,r){return e===r||e!==e&&r!==r}return Yy=t,Yy}var Ky,ek;function Vg(){if(ek)return Ky;ek=1;var t=R_();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Ky=e,Ky}var Xy,tk;function mX(){if(tk)return Xy;tk=1;var t=Vg(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var s=i.length-1;return o==s?i.pop():r.call(i,o,1),--this.size,!0}return Xy=n,Xy}var Zy,rk;function gX(){if(rk)return Zy;rk=1;var t=Vg();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Zy=e,Zy}var Jy,nk;function vX(){if(nk)return Jy;nk=1;var t=Vg();function e(r){return t(this.__data__,r)>-1}return Jy=e,Jy}var Qy,ak;function yX(){if(ak)return Qy;ak=1;var t=Vg();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Qy=e,Qy}var eb,ik;function Gg(){if(ik)return eb;ik=1;var t=pX(),e=mX(),r=gX(),n=vX(),a=yX();function i(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,eb=i,eb}var tb,ok;function M_(){if(ok)return tb;ok=1;var t=Ql(),e=ao(),r=t(e,"Map");return tb=r,tb}var rb,sk;function bX(){if(sk)return rb;sk=1;var t=hX(),e=Gg(),r=M_();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return rb=n,rb}var nb,lk;function xX(){if(lk)return nb;lk=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return nb=t,nb}var ab,ck;function Yg(){if(ck)return ab;ck=1;var t=xX();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return ab=e,ab}var ib,uk;function wX(){if(uk)return ib;uk=1;var t=Yg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ib=e,ib}var ob,dk;function _X(){if(dk)return ob;dk=1;var t=Yg();function e(r){return t(this,r).get(r)}return ob=e,ob}var sb,fk;function jX(){if(fk)return sb;fk=1;var t=Yg();function e(r){return t(this,r).has(r)}return sb=e,sb}var lb,hk;function SX(){if(hk)return lb;hk=1;var t=Yg();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return lb=e,lb}var cb,pk;function D_(){if(pk)return cb;pk=1;var t=bX(),e=wX(),r=_X(),n=jX(),a=SX();function i(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var u=o[s];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,cb=i,cb}var ub,mk;function wL(){if(mk)return ub;mk=1;var t=D_(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,s=a?a.apply(this,o):o[0],c=i.cache;if(c.has(s))return c.get(s);var u=n.apply(this,o);return i.cache=c.set(s,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,ub=r,ub}var db,gk;function NX(){if(gk)return db;gk=1;var t=wL(),e=500;function r(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return db=r,db}var fb,vk;function AX(){if(vk)return fb;vk=1;var t=NX(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,s,c,u){i.push(c?u.replace(r,"$1"):s||o)}),i});return fb=n,fb}var hb,yk;function $_(){if(yk)return hb;yk=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return hb=t,hb}var pb,bk;function kX(){if(bk)return pb;bk=1;var t=bh(),e=$_(),r=fa(),n=Xu(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return i?i.call(s):"";var c=s+"";return c=="0"&&1/s==-1/0?"-0":c}return pb=o,pb}var mb,xk;function _L(){if(xk)return mb;xk=1;var t=kX();function e(r){return r==null?"":t(r)}return mb=e,mb}var gb,wk;function jL(){if(wk)return gb;wk=1;var t=fa(),e=I_(),r=AX(),n=_L();function a(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return gb=a,gb}var vb,_k;function Kg(){if(_k)return vb;_k=1;var t=Xu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return vb=e,vb}var yb,jk;function F_(){if(jk)return yb;jk=1;var t=jL(),e=Kg();function r(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return yb=r,yb}var bb,Sk;function SL(){if(Sk)return bb;Sk=1;var t=F_();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return bb=e,bb}var PX=SL();const Pa=dr(PX);var xb,Nk;function CX(){if(Nk)return xb;Nk=1;function t(e){return e==null}return xb=t,xb}var OX=CX();const $t=dr(OX);var wb,Ak;function EX(){if(Ak)return wb;Ak=1;var t=Yo(),e=fa(),r=Ko(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return wb=a,wb}var TX=EX();const Bl=dr(TX);var IX=L_();const jt=dr(IX);var LX=Bs();const Zu=dr(LX);var _b={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function RX(){if(kk)return nr;kk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case c:case p:case f:case i:return v;default:return b}}case e:return b}}}return nr.ContextConsumer=o,nr.ContextProvider=i,nr.Element=t,nr.ForwardRef=c,nr.Fragment=r,nr.Lazy=p,nr.Memo=f,nr.Portal=e,nr.Profiler=a,nr.StrictMode=n,nr.Suspense=u,nr.SuspenseList=d,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(v){return m(v)===o},nr.isContextProvider=function(v){return m(v)===i},nr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},nr.isForwardRef=function(v){return m(v)===c},nr.isFragment=function(v){return m(v)===r},nr.isLazy=function(v){return m(v)===p},nr.isMemo=function(v){return m(v)===f},nr.isPortal=function(v){return m(v)===e},nr.isProfiler=function(v){return m(v)===a},nr.isStrictMode=function(v){return m(v)===n},nr.isSuspense=function(v){return m(v)===u},nr.isSuspenseList=function(v){return m(v)===d},nr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===g||v.getModuleId!==void 0)},nr.typeOf=m,nr}var Pk;function MX(){return Pk||(Pk=1,_b.exports=RX()),_b.exports}var DX=MX(),jb,Ck;function NL(){if(Ck)return jb;Ck=1;var t=Yo(),e=Ko(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return jb=n,jb}var Sb,Ok;function $X(){if(Ok)return Sb;Ok=1;var t=NL();function e(r){return t(r)&&r!=+r}return Sb=e,Sb}var FX=$X();const xh=dr(FX);var BX=NL();const qX=dr(BX);var Jn=function(e){return e===0?0:e>0?1:-1},Nl=function(e){return Bl(e)&&e.indexOf("%")===e.length-1},Le=function(e){return qX(e)&&!xh(e)},UX=function(e){return $t(e)},vn=function(e){return Le(e)||Bl(e)},zX=0,wh=function(e){var r=++zX;return"".concat(e||"").concat(r)},Qn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&!Bl(e))return n;var i;if(Nl(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return xh(i)&&(i=n),a&&i>r&&(i=r),i},Ns=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},WX=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ws=function(e,r){return Le(e)&&Le(r)?function(n){return e+n*(r-e)}:function(){return r}};function g2(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Pa(n,e))===r})}var HX=function(e,r){return Le(e)&&Le(r)?e-r:Bl(e)&&Bl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function lu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}var VX=["viewBox","children"],GX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ek=["points","pathLength"],Nb={svg:VX,polygon:Ek,polyline:Ek},B_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!Zu(n))return null;var a={};return Object.keys(n).forEach(function(i){B_.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},YX=function(e,r,n){return function(a){return e(r,n,a),null}},ql=function(e,r,n){if(!Zu(e)||v2(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];B_.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=YX(o,r,n))}),a},KX=["children"],XX=["children"];function Tk(t,e){if(t==null)return{};var r=ZX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ik={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Lk=null,Ab=null,q_=function t(e){if(e===Lk&&Array.isArray(Ab))return Ab;var r=[];return N.Children.forEach(e,function(n){$t(n)||(DX.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ab=r,Lk=e,r};function Ha(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Mo(a)}):n=[Mo(e)],q_(t).forEach(function(a){var i=Pa(a,"type.displayName")||Pa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ja(t,e){var r=Ha(t,e);return r&&r[0]}var Rk=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Le(n)||n<=0||!Le(a)||a<=0)},JX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QX=function(e){return e&&e.type&&Bl(e.type)&&JX.indexOf(e.type)>=0},eZ=function(e,r,n,a){var i,o=(i=Nb==null?void 0:Nb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!jt(e)&&(a&&o.includes(r)||GX.includes(r))||n&&B_.includes(r)},bt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(N.isValidElement(e)&&(a=e.props),!Zu(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;eZ((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},y2=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Mk(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!Mk(i,o))return!1}return!0},Mk=function(e,r){if($t(e)&&$t(r))return!0;if(!$t(e)&&!$t(r)){var n=e.props||{},a=n.children,i=Tk(n,KX),o=r.props||{},s=o.children,c=Tk(o,XX);return a&&s?lu(i,c)&&y2(a,s):!a&&!s?lu(i,c):!1}return!1},Dk=function(e,r){var n=[],a={};return q_(e).forEach(function(i,o){if(QX(i))n.push(i);else if(i){var s=Mo(i.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!a[s])){var f=u(i,s,o);n.push(f),a[s]=!0}}}),n},tZ=function(e){var r=e&&e.type;return r&&Ik[r]?Ik[r]:null},rZ=function(e,r){return q_(r).indexOf(e)},nZ=["children","width","height","viewBox","className","style","title","desc"];function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b2.apply(this,arguments)}function aZ(t,e){if(t==null)return{};var r=iZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x2(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,s=t.title,c=t.desc,u=aZ(t,nZ),d=a||{width:r,height:n,x:0,y:0},f=It("recharts-surface",i);return K.createElement("svg",b2({},bt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,s),K.createElement("desc",null,c),e)}var oZ=["children","className"];function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w2.apply(this,arguments)}function sZ(t,e){if(t==null)return{};var r=lZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ur=K.forwardRef(function(t,e){var r=t.children,n=t.className,a=sZ(t,oZ),i=It("recharts-layer",n);return K.createElement("g",w2({className:i},bt(a,!0),{ref:e}),r)}),yi=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},kb,$k;function cZ(){if($k)return kb;$k=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return kb=t,kb}var Pb,Fk;function uZ(){if(Fk)return Pb;Fk=1;var t=cZ();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return Pb=e,Pb}var Cb,Bk;function AL(){if(Bk)return Cb;Bk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+a+i+"]");function c(u){return s.test(u)}return Cb=c,Cb}var Ob,qk;function dZ(){if(qk)return Ob;qk=1;function t(e){return e.split("")}return Ob=t,Ob}var Eb,Uk;function fZ(){if(Uk)return Eb;Uk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",s="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",m="["+i+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+g+")*",b=m+g+v,w="(?:"+[d+s+"?",s,f,p,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+w+b,"g");function _(S){return S.match(j)||[]}return Eb=_,Eb}var Tb,zk;function hZ(){if(zk)return Tb;zk=1;var t=dZ(),e=AL(),r=fZ();function n(a){return e(a)?r(a):t(a)}return Tb=n,Tb}var Ib,Wk;function pZ(){if(Wk)return Ib;Wk=1;var t=uZ(),e=AL(),r=hZ(),n=_L();function a(i){return function(o){o=n(o);var s=e(o)?r(o):void 0,c=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return c[i]()+u}}return Ib=a,Ib}var Lb,Hk;function mZ(){if(Hk)return Lb;Hk=1;var t=pZ(),e=t("toUpperCase");return Lb=e,Lb}var gZ=mZ();const Xg=dr(gZ);function Sr(t){return function(){return t}}const kL=Math.cos,xm=Math.sin,ki=Math.sqrt,wm=Math.PI,Zg=2*wm,_2=Math.PI,j2=2*_2,vl=1e-6,vZ=j2-vl;function PL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function yZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return PL;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class bZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?PL:yZ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-e,u=a-r,d=o-e,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>vl)if(!(Math.abs(f*c-u*d)>vl)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,g=a-s,m=c*c+u*u,v=h*h+g*g,b=Math.sqrt(m),w=Math.sqrt(p),j=i*Math.tan((_2-Math.acos((m+p-v)/(2*b*w)))/2),_=j/w,S=j/b;Math.abs(_-1)>vl&&this._append`L${e+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=e+S*c},${this._y1=r+S*u}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=e+s,d=r+c,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vl||Math.abs(this._y1-d)>vl)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%j2+j2),p>vZ?this._append`A${n},${n},0,1,${f},${e-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>vl&&this._append`A${n},${n},0,${+(p>=_2)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function U_(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new bZ(e)}function z_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function CL(t){this._context=t}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jg(t){return new CL(t)}function OL(t){return t[0]}function EL(t){return t[1]}function TL(t,e){var r=Sr(!0),n=null,a=Jg,i=null,o=U_(s);t=typeof t=="function"?t:t===void 0?OL:Sr(t),e=typeof e=="function"?e:e===void 0?EL:Sr(e);function s(c){var u,d=(c=z_(c)).length,f,p=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Sr(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Sr(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Sr(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function Ip(t,e,r){var n=null,a=Sr(!0),i=null,o=Jg,s=null,c=U_(u);t=typeof t=="function"?t:t===void 0?OL:Sr(+t),e=typeof e=="function"?e:Sr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?EL:Sr(+r);function u(f){var p,h,g,m=(f=z_(f)).length,v,b=!1,w,j=new Array(m),_=new Array(m);for(i==null&&(s=o(w=c())),p=0;p<=m;++p){if(!(p<m&&a(v=f[p],p,f))===b)if(b=!b)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=h;--g)s.point(j[g],_[g]);s.lineEnd(),s.areaEnd()}b&&(j[p]=+t(v,p,f),_[p]=+e(v,p,f),s.point(n?+n(v,p,f):j[p],r?+r(v,p,f):_[p]))}if(w)return s=null,w+""||null}function d(){return TL().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Sr(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Sr(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Sr(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Sr(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Sr(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Sr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Sr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class IL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function xZ(t){return new IL(t,!0)}function wZ(t){return new IL(t,!1)}const W_={draw(t,e){const r=ki(e/wm);t.moveTo(r,0),t.arc(0,0,r,0,Zg)}},_Z={draw(t,e){const r=ki(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},LL=ki(1/3),jZ=LL*2,SZ={draw(t,e){const r=ki(e/jZ),n=r*LL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},NZ={draw(t,e){const r=ki(e),n=-r/2;t.rect(n,n,r,r)}},AZ=.8908130915292852,RL=xm(wm/10)/xm(7*wm/10),kZ=xm(Zg/10)*RL,PZ=-kL(Zg/10)*RL,CZ={draw(t,e){const r=ki(e*AZ),n=kZ*r,a=PZ*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=Zg*i/5,s=kL(o),c=xm(o);t.lineTo(c*r,-s*r),t.lineTo(s*n-c*a,c*n+s*a)}t.closePath()}},Rb=ki(3),OZ={draw(t,e){const r=-ki(e/(Rb*3));t.moveTo(0,r*2),t.lineTo(-Rb*r,-r),t.lineTo(Rb*r,-r),t.closePath()}},Ma=-.5,Da=ki(3)/2,S2=1/ki(12),EZ=(S2/2+1)*3,TZ={draw(t,e){const r=ki(e/EZ),n=r/2,a=r*S2,i=n,o=r*S2+r,s=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(s,c),t.lineTo(Ma*n-Da*a,Da*n+Ma*a),t.lineTo(Ma*i-Da*o,Da*i+Ma*o),t.lineTo(Ma*s-Da*c,Da*s+Ma*c),t.lineTo(Ma*n+Da*a,Ma*a-Da*n),t.lineTo(Ma*i+Da*o,Ma*o-Da*i),t.lineTo(Ma*s+Da*c,Ma*c-Da*s),t.closePath()}};function IZ(t,e){let r=null,n=U_(a);t=typeof t=="function"?t:Sr(t||W_),e=typeof e=="function"?e:Sr(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Sr(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _m(){}function jm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ML(t){this._context=t}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LZ(t){return new ML(t)}function DL(t){this._context=t}DL.prototype={areaStart:_m,areaEnd:_m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RZ(t){return new DL(t)}function $L(t){this._context=t}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MZ(t){return new $L(t)}function FL(t){this._context=t}FL.prototype={areaStart:_m,areaEnd:_m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DZ(t){return new FL(t)}function Vk(t){return t<0?-1:1}function Gk(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Vk(i)+Vk(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Yk(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Mb(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-n)/3;t._context.bezierCurveTo(n+s,a+s*e,i-s,o-s*r,i,o)}function Sm(t){this._context=t}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mb(this,this._t0,Yk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mb(this,Yk(this,r=Gk(this,t,e)),r);break;default:Mb(this,this._t0,r=Gk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function BL(t){this._context=new qL(t)}(BL.prototype=Object.create(Sm.prototype)).point=function(t,e){Sm.prototype.point.call(this,e,t)};function qL(t){this._context=t}qL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function $Z(t){return new Sm(t)}function FZ(t){return new BL(t)}function UL(t){this._context=t}UL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Kk(t),a=Kk(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Kk(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function BZ(t){return new UL(t)}function Qg(t,e){this._context=t,this._t=e}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function qZ(t){return new Qg(t,.5)}function UZ(t){return new Qg(t,0)}function zZ(t){return new Qg(t,1)}function gu(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,s=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function N2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function WZ(t,e){return t[e]}function HZ(t){const e=[];return e.key=t,e}function VZ(){var t=Sr([]),e=N2,r=gu,n=WZ;function a(i){var o=Array.from(t.apply(this,arguments),HZ),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=z_(e(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Sr(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?N2:typeof i=="function"?i:Sr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??gu,a):r},a}function GZ(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}gu(t,e)}}function YZ(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}gu(t,e)}}function KZ(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<s;++g){var m=t[e[g]],v=m[n][1]||0,b=m[n-1][1]||0;h+=v-b}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,gu(t,e)}}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var XZ=["type","size","sizeType"];function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A2.apply(this,arguments)}function Xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(r),!0).forEach(function(n){ZZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZZ(t,e,r){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JZ(t){var e=QZ(t,"string");return Af(e)=="symbol"?e:e+""}function QZ(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eJ(t,e){if(t==null)return{};var r=tJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zL={symbolCircle:W_,symbolCross:_Z,symbolDiamond:SZ,symbolSquare:NZ,symbolStar:CZ,symbolTriangle:OZ,symbolWye:TZ},rJ=Math.PI/180,nJ=function(e){var r="symbol".concat(Xg(e));return zL[r]||W_},aJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*rJ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iJ=function(e,r){zL["symbol".concat(Xg(e))]=r},H_=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,s=o===void 0?"area":o,c=eJ(e,XZ),u=Zk(Zk({},c),{},{type:n,size:i,sizeType:s}),d=function(){var v=nJ(n),b=IZ().type(v).size(aJ(i,s,n));return b()},f=u.className,p=u.cx,h=u.cy,g=bt(u,!0);return p===+p&&h===+h&&i===+i?K.createElement("path",A2({},g,{className:It("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};H_.registerSymbol=iJ;function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k2.apply(this,arguments)}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){kf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HL(n.key),n)}}function cJ(t,e,r){return e&&lJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJ(t,e,r){return e=Nm(e),dJ(t,WL()?Reflect.construct(e,r||[],Nm(t).constructor):e.apply(t,r))}function dJ(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJ(t)}function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P2(t,e)}function kf(t,e,r){return e=HL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HL(t){var e=pJ(t,"string");return vu(e)=="symbol"?e:e+""}function pJ(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $a=32,V_=(function(t){function e(){return sJ(this,e),uJ(this,e,arguments)}return hJ(e,t),cJ(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=$a/2,o=$a/6,s=$a/3,c=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:$a,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat($a,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat($a/8,"h").concat($a,"v").concat($a*3/4,"h").concat(-$a,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=oJ({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(H_,{fill:c,cx:i,cy:i,size:$a,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:$a,height:$a},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var m=h.formatter||c,v=It(kf(kf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=jt(h.value)?null:h.value;yi(!jt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return K.createElement("li",k2({className:v,style:f,key:"legend-item-".concat(g)},ql(n.props,h,g)),K.createElement(x2,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(b,h,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(N.PureComponent);kf(V_,"displayName","Legend");kf(V_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Db,Qk;function mJ(){if(Qk)return Db;Qk=1;var t=Gg();function e(){this.__data__=new t,this.size=0}return Db=e,Db}var $b,eP;function gJ(){if(eP)return $b;eP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return $b=t,$b}var Fb,tP;function vJ(){if(tP)return Fb;tP=1;function t(e){return this.__data__.get(e)}return Fb=t,Fb}var Bb,rP;function yJ(){if(rP)return Bb;rP=1;function t(e){return this.__data__.has(e)}return Bb=t,Bb}var qb,nP;function bJ(){if(nP)return qb;nP=1;var t=Gg(),e=M_(),r=D_(),n=200;function a(i,o){var s=this.__data__;if(s instanceof t){var c=s.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++s.size,this;s=this.__data__=new r(c)}return s.set(i,o),this.size=s.size,this}return qb=a,qb}var Ub,aP;function VL(){if(aP)return Ub;aP=1;var t=Gg(),e=mJ(),r=gJ(),n=vJ(),a=yJ(),i=bJ();function o(s){var c=this.__data__=new t(s);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,Ub=o,Ub}var zb,iP;function xJ(){if(iP)return zb;iP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return zb=e,zb}var Wb,oP;function wJ(){if(oP)return Wb;oP=1;function t(e){return this.__data__.has(e)}return Wb=t,Wb}var Hb,sP;function GL(){if(sP)return Hb;sP=1;var t=D_(),e=xJ(),r=wJ();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Hb=n,Hb}var Vb,lP;function YL(){if(lP)return Vb;lP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Vb=t,Vb}var Gb,cP;function KL(){if(cP)return Gb;cP=1;function t(e,r){return e.has(r)}return Gb=t,Gb}var Yb,uP;function XL(){if(uP)return Yb;uP=1;var t=GL(),e=YL(),r=KL(),n=1,a=2;function i(o,s,c,u,d,f){var p=c&n,h=o.length,g=s.length;if(h!=g&&!(p&&g>h))return!1;var m=f.get(o),v=f.get(s);if(m&&v)return m==s&&v==o;var b=-1,w=!0,j=c&a?new t:void 0;for(f.set(o,s),f.set(s,o);++b<h;){var _=o[b],S=s[b];if(u)var k=p?u(S,_,b,s,o,f):u(_,S,b,o,s,f);if(k!==void 0){if(k)continue;w=!1;break}if(j){if(!e(s,function(A,E){if(!r(j,E)&&(_===A||d(_,A,c,u,f)))return j.push(E)})){w=!1;break}}else if(!(_===S||d(_,S,c,u,f))){w=!1;break}}return f.delete(o),f.delete(s),w}return Yb=i,Yb}var Kb,dP;function _J(){if(dP)return Kb;dP=1;var t=ao(),e=t.Uint8Array;return Kb=e,Kb}var Xb,fP;function jJ(){if(fP)return Xb;fP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Xb=t,Xb}var Zb,hP;function G_(){if(hP)return Zb;hP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Zb=t,Zb}var Jb,pP;function SJ(){if(pP)return Jb;pP=1;var t=bh(),e=_J(),r=R_(),n=XL(),a=jJ(),i=G_(),o=1,s=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",j=t?t.prototype:void 0,_=j?j.valueOf:void 0;function S(k,A,E,I,L,P,O){switch(E){case w:if(k.byteLength!=A.byteLength||k.byteOffset!=A.byteOffset)return!1;k=k.buffer,A=A.buffer;case b:return!(k.byteLength!=A.byteLength||!P(new e(k),new e(A)));case c:case u:case p:return r(+k,+A);case d:return k.name==A.name&&k.message==A.message;case h:case m:return k==A+"";case f:var D=a;case g:var M=I&o;if(D||(D=i),k.size!=A.size&&!M)return!1;var G=O.get(k);if(G)return G==A;I|=s,O.set(k,A);var Y=n(D(k),D(A),I,L,P,O);return O.delete(k),Y;case v:if(_)return _.call(k)==_.call(A)}return!1}return Jb=S,Jb}var Qb,mP;function ZL(){if(mP)return Qb;mP=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Qb=t,Qb}var ex,gP;function NJ(){if(gP)return ex;gP=1;var t=ZL(),e=fa();function r(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return ex=r,ex}var tx,vP;function AJ(){if(vP)return tx;vP=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var s=e[n];r(s,n,e)&&(o[i++]=s)}return o}return tx=t,tx}var rx,yP;function kJ(){if(yP)return rx;yP=1;function t(){return[]}return rx=t,rx}var nx,bP;function PJ(){if(bP)return nx;bP=1;var t=AJ(),e=kJ(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(s){return n.call(o,s)}))}:e;return nx=i,nx}var ax,xP;function CJ(){if(xP)return ax;xP=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return ax=t,ax}var ix,wP;function OJ(){if(wP)return ix;wP=1;var t=Yo(),e=Ko(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return ix=n,ix}var ox,_P;function Y_(){if(_P)return ox;_P=1;var t=OJ(),e=Ko(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return ox=i,ox}var rf={exports:{}},sx,jP;function EJ(){if(jP)return sx;jP=1;function t(){return!1}return sx=t,sx}rf.exports;var SP;function JL(){return SP||(SP=1,(function(t,e){var r=ao(),n=EJ(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;t.exports=u})(rf,rf.exports)),rf.exports}var lx,NP;function K_(){if(NP)return lx;NP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return lx=r,lx}var cx,AP;function X_(){if(AP)return cx;AP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return cx=e,cx}var ux,kP;function TJ(){if(kP)return ux;kP=1;var t=Yo(),e=X_(),r=Ko(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",s="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",j="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",E="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",P={};P[w]=P[j]=P[_]=P[S]=P[k]=P[A]=P[E]=P[I]=P[L]=!0,P[n]=P[a]=P[v]=P[i]=P[b]=P[o]=P[s]=P[c]=P[u]=P[d]=P[f]=P[p]=P[h]=P[g]=P[m]=!1;function O(D){return r(D)&&e(D.length)&&!!P[t(D)]}return ux=O,ux}var dx,PP;function QL(){if(PP)return dx;PP=1;function t(e){return function(r){return e(r)}}return dx=t,dx}var nf={exports:{}};nf.exports;var CP;function IJ(){return CP||(CP=1,(function(t,e){var r=bL(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,s=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(nf,nf.exports)),nf.exports}var fx,OP;function eR(){if(OP)return fx;OP=1;var t=TJ(),e=QL(),r=IJ(),n=r&&r.isTypedArray,a=n?e(n):t;return fx=a,fx}var hx,EP;function LJ(){if(EP)return hx;EP=1;var t=CJ(),e=Y_(),r=fa(),n=JL(),a=K_(),i=eR(),o=Object.prototype,s=o.hasOwnProperty;function c(u,d){var f=r(u),p=!f&&e(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&i(u),m=f||p||h||g,v=m?t(u.length,String):[],b=v.length;for(var w in u)(d||s.call(u,w))&&!(m&&(w=="length"||h&&(w=="offset"||w=="parent")||g&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,b)))&&v.push(w);return v}return hx=c,hx}var px,TP;function RJ(){if(TP)return px;TP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return px=e,px}var mx,IP;function tR(){if(IP)return mx;IP=1;function t(e,r){return function(n){return e(r(n))}}return mx=t,mx}var gx,LP;function MJ(){if(LP)return gx;LP=1;var t=tR(),e=t(Object.keys,Object);return gx=e,gx}var vx,RP;function DJ(){if(RP)return vx;RP=1;var t=RJ(),e=MJ(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var s in Object(i))n.call(i,s)&&s!="constructor"&&o.push(s);return o}return vx=a,vx}var yx,MP;function _h(){if(MP)return yx;MP=1;var t=L_(),e=X_();function r(n){return n!=null&&e(n.length)&&!t(n)}return yx=r,yx}var bx,DP;function ev(){if(DP)return bx;DP=1;var t=LJ(),e=DJ(),r=_h();function n(a){return r(a)?t(a):e(a)}return bx=n,bx}var xx,$P;function $J(){if($P)return xx;$P=1;var t=NJ(),e=PJ(),r=ev();function n(a){return t(a,r,e)}return xx=n,xx}var wx,FP;function FJ(){if(FP)return wx;FP=1;var t=$J(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,s,c,u,d){var f=s&e,p=t(i),h=p.length,g=t(o),m=g.length;if(h!=m&&!f)return!1;for(var v=h;v--;){var b=p[v];if(!(f?b in o:n.call(o,b)))return!1}var w=d.get(i),j=d.get(o);if(w&&j)return w==o&&j==i;var _=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<h;){b=p[v];var k=i[b],A=o[b];if(c)var E=f?c(A,k,b,o,i,d):c(k,A,b,i,o,d);if(!(E===void 0?k===A||u(k,A,s,c,d):E)){_=!1;break}S||(S=b=="constructor")}if(_&&!S){var I=i.constructor,L=o.constructor;I!=L&&"constructor"in i&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(_=!1)}return d.delete(i),d.delete(o),_}return wx=a,wx}var _x,BP;function BJ(){if(BP)return _x;BP=1;var t=Ql(),e=ao(),r=t(e,"DataView");return _x=r,_x}var jx,qP;function qJ(){if(qP)return jx;qP=1;var t=Ql(),e=ao(),r=t(e,"Promise");return jx=r,jx}var Sx,UP;function rR(){if(UP)return Sx;UP=1;var t=Ql(),e=ao(),r=t(e,"Set");return Sx=r,Sx}var Nx,zP;function UJ(){if(zP)return Nx;zP=1;var t=Ql(),e=ao(),r=t(e,"WeakMap");return Nx=r,Nx}var Ax,WP;function zJ(){if(WP)return Ax;WP=1;var t=BJ(),e=M_(),r=qJ(),n=rR(),a=UJ(),i=Yo(),o=xL(),s="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=o(t),g=o(e),m=o(r),v=o(n),b=o(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=p||e&&w(new e)!=s||r&&w(r.resolve())!=u||n&&w(new n)!=d||a&&w(new a)!=f)&&(w=function(j){var _=i(j),S=_==c?j.constructor:void 0,k=S?o(S):"";if(k)switch(k){case h:return p;case g:return s;case m:return u;case v:return d;case b:return f}return _}),Ax=w,Ax}var kx,HP;function WJ(){if(HP)return kx;HP=1;var t=VL(),e=XL(),r=SJ(),n=FJ(),a=zJ(),i=fa(),o=JL(),s=eR(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(m,v,b,w,j,_){var S=i(m),k=i(v),A=S?d:a(m),E=k?d:a(v);A=A==u?f:A,E=E==u?f:E;var I=A==f,L=E==f,P=A==E;if(P&&o(m)){if(!o(v))return!1;S=!0,I=!1}if(P&&!I)return _||(_=new t),S||s(m)?e(m,v,b,w,j,_):r(m,v,A,b,w,j,_);if(!(b&c)){var O=I&&h.call(m,"__wrapped__"),D=L&&h.call(v,"__wrapped__");if(O||D){var M=O?m.value():m,G=D?v.value():v;return _||(_=new t),j(M,G,b,w,_)}}return P?(_||(_=new t),n(m,v,b,w,j,_)):!1}return kx=g,kx}var Px,VP;function Z_(){if(VP)return Px;VP=1;var t=WJ(),e=Ko();function r(n,a,i,o,s){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,r,s)}return Px=r,Px}var Cx,GP;function HJ(){if(GP)return Cx;GP=1;var t=VL(),e=Z_(),r=1,n=2;function a(i,o,s,c){var u=s.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var p=s[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<d;){p=s[u];var h=p[0],g=i[h],m=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var v=new t;if(c)var b=c(g,m,h,i,o,v);if(!(b===void 0?e(m,g,r|n,c,v):b))return!1}}return!0}return Cx=a,Cx}var Ox,YP;function nR(){if(YP)return Ox;YP=1;var t=Bs();function e(r){return r===r&&!t(r)}return Ox=e,Ox}var Ex,KP;function VJ(){if(KP)return Ex;KP=1;var t=nR(),e=ev();function r(n){for(var a=e(n),i=a.length;i--;){var o=a[i],s=n[o];a[i]=[o,s,t(s)]}return a}return Ex=r,Ex}var Tx,XP;function aR(){if(XP)return Tx;XP=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Tx=t,Tx}var Ix,ZP;function GJ(){if(ZP)return Ix;ZP=1;var t=HJ(),e=VJ(),r=aR();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return Ix=n,Ix}var Lx,JP;function YJ(){if(JP)return Lx;JP=1;function t(e,r){return e!=null&&r in Object(e)}return Lx=t,Lx}var Rx,QP;function KJ(){if(QP)return Rx;QP=1;var t=jL(),e=Y_(),r=fa(),n=K_(),a=X_(),i=Kg();function o(s,c,u){c=t(c,s);for(var d=-1,f=c.length,p=!1;++d<f;){var h=i(c[d]);if(!(p=s!=null&&u(s,h)))break;s=s[h]}return p||++d!=f?p:(f=s==null?0:s.length,!!f&&a(f)&&n(h,f)&&(r(s)||e(s)))}return Rx=o,Rx}var Mx,eC;function XJ(){if(eC)return Mx;eC=1;var t=YJ(),e=KJ();function r(n,a){return n!=null&&e(n,a,t)}return Mx=r,Mx}var Dx,tC;function ZJ(){if(tC)return Dx;tC=1;var t=Z_(),e=SL(),r=XJ(),n=I_(),a=nR(),i=aR(),o=Kg(),s=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,s|c)}}return Dx=u,Dx}var $x,rC;function Ju(){if(rC)return $x;rC=1;function t(e){return e}return $x=t,$x}var Fx,nC;function JJ(){if(nC)return Fx;nC=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Fx=t,Fx}var Bx,aC;function QJ(){if(aC)return Bx;aC=1;var t=F_();function e(r){return function(n){return t(n,r)}}return Bx=e,Bx}var qx,iC;function eQ(){if(iC)return qx;iC=1;var t=JJ(),e=QJ(),r=I_(),n=Kg();function a(i){return r(i)?t(n(i)):e(i)}return qx=a,qx}var Ux,oC;function io(){if(oC)return Ux;oC=1;var t=GJ(),e=ZJ(),r=Ju(),n=fa(),a=eQ();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return Ux=i,Ux}var zx,sC;function iR(){if(sC)return zx;sC=1;function t(e,r,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return zx=t,zx}var Wx,lC;function tQ(){if(lC)return Wx;lC=1;function t(e){return e!==e}return Wx=t,Wx}var Hx,cC;function rQ(){if(cC)return Hx;cC=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Hx=t,Hx}var Vx,uC;function nQ(){if(uC)return Vx;uC=1;var t=iR(),e=tQ(),r=rQ();function n(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return Vx=n,Vx}var Gx,dC;function aQ(){if(dC)return Gx;dC=1;var t=nQ();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Gx=e,Gx}var Yx,fC;function iQ(){if(fC)return Yx;fC=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return Yx=t,Yx}var Kx,hC;function oQ(){if(hC)return Kx;hC=1;function t(){}return Kx=t,Kx}var Xx,pC;function sQ(){if(pC)return Xx;pC=1;var t=rR(),e=oQ(),r=G_(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Xx=a,Xx}var Zx,mC;function lQ(){if(mC)return Zx;mC=1;var t=GL(),e=aQ(),r=iQ(),n=KL(),a=sQ(),i=G_(),o=200;function s(c,u,d){var f=-1,p=e,h=c.length,g=!0,m=[],v=m;if(d)g=!1,p=r;else if(h>=o){var b=u?null:a(c);if(b)return i(b);g=!1,p=n,v=new t}else v=u?[]:m;e:for(;++f<h;){var w=c[f],j=u?u(w):w;if(w=d||w!==0?w:0,g&&j===j){for(var _=v.length;_--;)if(v[_]===j)continue e;u&&v.push(j),m.push(w)}else p(v,j,d)||(v!==m&&v.push(j),m.push(w))}return m}return Zx=s,Zx}var Jx,gC;function cQ(){if(gC)return Jx;gC=1;var t=io(),e=lQ();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Jx=r,Jx}var uQ=cQ();const vC=dr(uQ);function oR(t,e,r){return e===!0?vC(t,r):jt(e)?vC(t,e):t}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}var dQ=["ref"];function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){tv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lR(n.key),n)}}function hQ(t,e,r){return e&&bC(t.prototype,e),r&&bC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pQ(t,e,r){return e=Am(e),mQ(t,sR()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function mQ(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gQ(t)}function gQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sR=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function vQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C2(t,e)}function C2(t,e){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C2(t,e)}function tv(t,e,r){return e=lR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lR(t){var e=yQ(t,"string");return yu(e)=="symbol"?e:e+""}function yQ(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bQ(t,e){if(t==null)return{};var r=xQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wQ(t){return t.value}function _Q(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=bQ(e,dQ);return K.createElement(V_,r)}var xC=1,cu=(function(t){function e(){var r;fQ(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pQ(this,e,[].concat(a)),tv(r,"lastBoundingBox",{width:-1,height:-1}),r}return vQ(e,t),hQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>xC||Math.abs(a.height-this.lastBoundingBox.height)>xC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?jo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return jo(jo({},f),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=jo(jo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},_Q(i,jo(jo({},this.props),{},{payload:oR(d,u,wQ)})))}}],[{key:"getWithHeight",value:function(n,a){var i=jo(jo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Le(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(N.PureComponent);tv(cu,"displayName","Legend");tv(cu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qx,wC;function jQ(){if(wC)return Qx;wC=1;var t=bh(),e=Y_(),r=fa(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return Qx=a,Qx}var e1,_C;function cR(){if(_C)return e1;_C=1;var t=ZL(),e=jQ();function r(n,a,i,o,s){var c=-1,u=n.length;for(i||(i=e),s||(s=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,s):t(s,d):o||(s[s.length]=d)}return s}return e1=r,e1}var t1,jC;function SQ(){if(jC)return t1;jC=1;function t(e){return function(r,n,a){for(var i=-1,o=Object(r),s=a(r),c=s.length;c--;){var u=s[e?c:++i];if(n(o[u],u,o)===!1)break}return r}}return t1=t,t1}var r1,SC;function NQ(){if(SC)return r1;SC=1;var t=SQ(),e=t();return r1=e,r1}var n1,NC;function uR(){if(NC)return n1;NC=1;var t=NQ(),e=ev();function r(n,a){return n&&t(n,a,e)}return n1=r,n1}var a1,AC;function AQ(){if(AC)return a1;AC=1;var t=_h();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,s=n?o:-1,c=Object(a);(n?s--:++s<o)&&i(c[s],s,c)!==!1;);return a}}return a1=e,a1}var i1,kC;function J_(){if(kC)return i1;kC=1;var t=uR(),e=AQ(),r=e(t);return i1=r,i1}var o1,PC;function dR(){if(PC)return o1;PC=1;var t=J_(),e=_h();function r(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(s,c,u){o[++i]=a(s,c,u)}),o}return o1=r,o1}var s1,CC;function kQ(){if(CC)return s1;CC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return s1=t,s1}var l1,OC;function PQ(){if(OC)return l1;OC=1;var t=Xu();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,s=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!s&&r>n||s&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!s&&!f&&r<n||f&&a&&o&&!i&&!s||u&&a&&o||!c&&o||!d)return-1}return 0}return l1=e,l1}var c1,EC;function CQ(){if(EC)return c1;EC=1;var t=PQ();function e(r,n,a){for(var i=-1,o=r.criteria,s=n.criteria,c=o.length,u=a.length;++i<c;){var d=t(o[i],s[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return c1=e,c1}var u1,TC;function OQ(){if(TC)return u1;TC=1;var t=$_(),e=F_(),r=io(),n=dR(),a=kQ(),i=QL(),o=CQ(),s=Ju(),c=fa();function u(d,f,p){f.length?f=t(f,function(m){return c(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[s];var h=-1;f=t(f,i(r));var g=n(d,function(m,v,b){var w=t(f,function(j){return j(m)});return{criteria:w,index:++h,value:m}});return a(g,function(m,v){return o(m,v,p)})}return u1=u,u1}var d1,IC;function EQ(){if(IC)return d1;IC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return d1=t,d1}var f1,LC;function TQ(){if(LC)return f1;LC=1;var t=EQ(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,s=-1,c=e(o.length-a,0),u=Array(c);++s<c;)u[s]=o[a+s];s=-1;for(var d=Array(a+1);++s<a;)d[s]=o[s];return d[a]=i(u),t(n,this,d)}}return f1=r,f1}var h1,RC;function IQ(){if(RC)return h1;RC=1;function t(e){return function(){return e}}return h1=t,h1}var p1,MC;function fR(){if(MC)return p1;MC=1;var t=Ql(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return p1=e,p1}var m1,DC;function LQ(){if(DC)return m1;DC=1;var t=IQ(),e=fR(),r=Ju(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return m1=n,m1}var g1,$C;function RQ(){if($C)return g1;$C=1;var t=800,e=16,r=Date.now;function n(a){var i=0,o=0;return function(){var s=r(),c=e-(s-o);if(o=s,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return g1=n,g1}var v1,FC;function MQ(){if(FC)return v1;FC=1;var t=LQ(),e=RQ(),r=e(t);return v1=r,v1}var y1,BC;function DQ(){if(BC)return y1;BC=1;var t=Ju(),e=TQ(),r=MQ();function n(a,i){return r(e(a,i,t),a+"")}return y1=n,y1}var b1,qC;function rv(){if(qC)return b1;qC=1;var t=R_(),e=_h(),r=K_(),n=Bs();function a(i,o,s){if(!n(s))return!1;var c=typeof o;return(c=="number"?e(s)&&r(o,s.length):c=="string"&&o in s)?t(s[o],i):!1}return b1=a,b1}var x1,UC;function $Q(){if(UC)return x1;UC=1;var t=cR(),e=OQ(),r=DQ(),n=rv(),a=r(function(i,o){if(i==null)return[];var s=o.length;return s>1&&n(i,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return x1=a,x1}var FQ=$Q();const Q_=dr(FQ);function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O2.apply(this,arguments)}function BQ(t,e){return WQ(t)||zQ(t,e)||UQ(t,e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(t,e){if(t){if(typeof t=="string")return zC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(t,e)}}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function WQ(t){if(Array.isArray(t))return t}function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function w1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){HQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HQ(t,e,r){return e=VQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VQ(t){var e=GQ(t,"string");return Pf(e)=="symbol"?e:e+""}function GQ(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YQ(t){return Array.isArray(t)&&vn(t[0])&&vn(t[1])?t.join(" ~ "):t}var KQ=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,s=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,j=function(){if(d&&d.length){var O={padding:0,margin:0},D=(p?Q_(d,p):d).map(function(M,G){if(M.type==="none")return null;var Y=w1({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),W=M.formatter||f||YQ,F=M.value,ae=M.name,re=F,oe=ae;if(W&&re!=null&&oe!=null){var $=W(F,ae,M,G,d);if(Array.isArray($)){var U=BQ($,2);re=U[0],oe=U[1]}else re=$}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Y},vn(oe)?K.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,vn(oe)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},_=w1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=w1({margin:0},u),k=!$t(m),A=k?m:"",E=It("recharts-default-tooltip",h),I=It("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(A=v(m,d));var L=w?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",O2({className:E,style:_},L),K.createElement("p",{className:I,style:S},K.isValidElement(A)?A:"".concat(A)),j())};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Lp(t,e,r){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XQ(t){var e=ZQ(t,"string");return Cf(e)=="symbol"?e:e+""}function ZQ(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zd="recharts-tooltip-wrapper",JQ={visibility:"hidden"};function QQ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return It(zd,Lp(Lp(Lp(Lp({},"".concat(zd,"-right"),Le(r)&&e&&Le(e.x)&&r>=e.x),"".concat(zd,"-left"),Le(r)&&e&&Le(e.x)&&r<e.x),"".concat(zd,"-bottom"),Le(n)&&e&&Le(e.y)&&n>=e.y),"".concat(zd,"-top"),Le(n)&&e&&Le(e.y)&&n<e.y))}function HC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Le(i[n]))return i[n];var d=r[n]-s-a,f=r[n]+a;if(e[n])return o[n]?d:f;if(o[n]){var p=d,h=c[n];return p<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+s,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function eee(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tee(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=HC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=HC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=eee({translateX:d,translateY:f,useTranslate3d:s})):u=JQ,{cssProperties:u,cssClasses:QQ({translateX:d,translateY:f,coordinate:r})}}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){T2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ree(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pR(n.key),n)}}function aee(t,e,r){return e&&nee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iee(t,e,r){return e=km(e),oee(t,hR()?Reflect.construct(e,r||[],km(t).constructor):e.apply(t,r))}function oee(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return see(t)}function see(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(t)}function lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E2(t,e)}function E2(t,e){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E2(t,e)}function T2(t,e,r){return e=pR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pR(t){var e=cee(t,"string");return bu(e)=="symbol"?e:e+""}function cee(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YC=1,uee=(function(t){function e(){var r;ree(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iee(this,e,[].concat(a)),T2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),T2(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return lee(e,t),aee(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>YC||Math.abs(n.height-this.state.lastBoundingBox.height)>YC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,j=tee({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=j.cssClasses,S=j.cssProperties,k=GC(GC({transition:p&&i?"transform ".concat(s,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return K.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){n.wrapperNode=E}},u)}}])})(N.PureComponent),dee=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qu={isSsr:dee()};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function KC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(n){ej(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gR(n.key),n)}}function pee(t,e,r){return e&&hee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mee(t,e,r){return e=Pm(e),gee(t,mR()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function gee(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vee(t)}function vee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I2(t,e)}function ej(t,e,r){return e=gR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gR(t){var e=bee(t,"string");return xu(e)=="symbol"?e:e+""}function bee(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xee(t){return t.dataKey}function wee(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(KQ,e)}var hi=(function(t){function e(){return fee(this,e),mee(this,e,arguments)}return yee(e,t),pee(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,b=a.reverseDirection,w=a.useTranslate3d,j=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=oR(g.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),m,xee));var k=S.length>0;return K.createElement(uee,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:k,offset:h,position:v,reverseDirection:b,useTranslate3d:w,viewBox:j,wrapperStyle:_},wee(u,XC(XC({},this.props),{},{payload:S})))}}])})(N.PureComponent);ej(hi,"displayName","Tooltip");ej(hi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _1,ZC;function _ee(){if(ZC)return _1;ZC=1;var t=ao(),e=function(){return t.Date.now()};return _1=e,_1}var j1,JC;function jee(){if(JC)return j1;JC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return j1=e,j1}var S1,QC;function See(){if(QC)return S1;QC=1;var t=jee(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return S1=r,S1}var N1,e3;function vR(){if(e3)return N1;e3=1;var t=See(),e=Bs(),r=Xu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):a.test(u)?n:+u}return N1=c,N1}var A1,t3;function Nee(){if(t3)return A1;t3=1;var t=Bs(),e=_ee(),r=vR(),n="Expected a function",a=Math.max,i=Math.min;function o(s,c,u){var d,f,p,h,g,m,v=0,b=!1,w=!1,j=!0;if(typeof s!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(b=!!u.leading,w="maxWait"in u,p=w?a(r(u.maxWait)||0,c):p,j="trailing"in u?!!u.trailing:j);function _(D){var M=d,G=f;return d=f=void 0,v=D,h=s.apply(G,M),h}function S(D){return v=D,g=setTimeout(E,c),b?_(D):h}function k(D){var M=D-m,G=D-v,Y=c-M;return w?i(Y,p-G):Y}function A(D){var M=D-m,G=D-v;return m===void 0||M>=c||M<0||w&&G>=p}function E(){var D=e();if(A(D))return I(D);g=setTimeout(E,k(D))}function I(D){return g=void 0,j&&d?_(D):(d=f=void 0,h)}function L(){g!==void 0&&clearTimeout(g),v=0,d=m=f=g=void 0}function P(){return g===void 0?h:I(e())}function O(){var D=e(),M=A(D);if(d=arguments,f=this,m=D,M){if(g===void 0)return S(m);if(w)return clearTimeout(g),g=setTimeout(E,c),_(m)}return g===void 0&&(g=setTimeout(E,c)),h}return O.cancel=L,O.flush=P,O}return A1=o,A1}var k1,r3;function Aee(){if(r3)return k1;r3=1;var t=Nee(),e=Bs(),r="Expected a function";function n(a,i,o){var s=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:s,maxWait:i,trailing:c})}return k1=n,k1}var kee=Aee();const yR=dr(kee);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function n3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(r),!0).forEach(function(n){Pee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pee(t,e,r){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=Oee(t,"string");return Of(e)=="symbol"?e:e+""}function Oee(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eee(t,e){return Ree(t)||Lee(t,e)||Iee(t,e)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(t,e){if(t){if(typeof t=="string")return a3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a3(t,e)}}function a3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Ree(t){if(Array.isArray(t))return t}var bR=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,s=t.height,c=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,b=t.className,w=t.onResize,j=t.style,_=j===void 0?{}:j,S=N.useRef(null),k=N.useRef();k.current=w,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=N.useState({containerWidth:a.width,containerHeight:a.height}),E=Eee(A,2),I=E[0],L=E[1],P=N.useCallback(function(D,M){L(function(G){var Y=Math.round(D),W=Math.round(M);return G.containerWidth===Y&&G.containerHeight===W?G:{containerWidth:Y,containerHeight:W}})},[]);N.useEffect(function(){var D=function(ae){var re,oe=ae[0].contentRect,$=oe.width,U=oe.height;P($,U),(re=k.current)===null||re===void 0||re.call(k,$,U)};m>0&&(D=yR(D,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),G=S.current.getBoundingClientRect(),Y=G.width,W=G.height;return P(Y,W),M.observe(S.current),function(){M.disconnect()}},[P,m]);var O=N.useMemo(function(){var D=I.containerWidth,M=I.containerHeight;if(D<0||M<0)return null;yi(Nl(o)||Nl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),yi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Nl(o)?D:o,Y=Nl(c)?M:c;r&&r>0&&(G?Y=G/r:Y&&(G=Y*r),p&&Y>p&&(Y=p)),yi(G>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Y,o,c,d,f,r);var W=!Array.isArray(h)&&Mo(h.type).endsWith("Chart");return K.Children.map(h,function(F){return K.isValidElement(F)?N.cloneElement(F,Rp({width:G,height:Y},W?{style:Rp({height:"100%",width:"100%",maxHeight:Y,maxWidth:G},F.props.style)}:{})):F})},[r,h,c,p,f,d,I,o]);return K.createElement("div",{id:v?"".concat(v):void 0,className:It("recharts-responsive-container",b),style:Rp(Rp({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:S},O)}),nv=function(e){return null};nv.displayName="Cell";function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function i3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function L2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i3(Object(r),!0).forEach(function(n){Mee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mee(t,e,r){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dee(t){var e=$ee(t,"string");return Ef(e)=="symbol"?e:e+""}function $ee(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $c={widthCache:{},cacheCount:0},Fee=2e3,Bee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},o3="recharts_measurement_span";function qee(t){var e=L2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ff=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qu.isSsr)return{width:0,height:0};var n=qee(r),a=JSON.stringify({text:e,copyStyle:n});if($c.widthCache[a])return $c.widthCache[a];try{var i=document.getElementById(o3);i||(i=document.createElement("span"),i.setAttribute("id",o3),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=L2(L2({},Bee),n);Object.assign(i.style,o),i.textContent="".concat(e);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return $c.widthCache[a]=c,++$c.cacheCount>Fee&&($c.cacheCount=0,$c.widthCache={}),c}catch{return{width:0,height:0}}},Uee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Cm(t,e){return Vee(t)||Hee(t,e)||Wee(t,e)||zee()}function zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wee(t,e){if(t){if(typeof t=="string")return s3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s3(t,e)}}function s3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Vee(t){if(Array.isArray(t))return t}function Gee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kee(n.key),n)}}function Yee(t,e,r){return e&&l3(t.prototype,e),r&&l3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kee(t){var e=Xee(t,"string");return Tf(e)=="symbol"?e:e+""}function Xee(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qee=Object.keys(xR),Zc="NaN";function ete(t,e){return t*xR[e]}var Mp=(function(){function t(e,r){Gee(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Zee.test(r)&&(this.num=NaN,this.unit=""),Qee.includes(r)&&(this.num=ete(e,r),this.unit="px")}return Yee(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Jee.exec(r))!==null&&n!==void 0?n:[],i=Cm(a,3),o=i[1],s=i[2];return new t(parseFloat(o),s??"")}}])})();function wR(t){if(t.includes(Zc))return Zc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=c3.exec(e))!==null&&r!==void 0?r:[],a=Cm(n,4),i=a[1],o=a[2],s=a[3],c=Mp.parse(i??""),u=Mp.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Zc;e=e.replace(c3,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=u3.exec(e))!==null&&f!==void 0?f:[],h=Cm(p,4),g=h[1],m=h[2],v=h[3],b=Mp.parse(g??""),w=Mp.parse(v??""),j=m==="+"?b.add(w):b.subtract(w);if(j.isNaN())return Zc;e=e.replace(u3,j.toString())}return e}var d3=/\(([^()]*)\)/;function tte(t){for(var e=t;e.includes("(");){var r=d3.exec(e),n=Cm(r,2),a=n[1];e=e.replace(d3,wR(a))}return e}function rte(t){var e=t.replace(/\s+/g,"");return e=tte(e),e=wR(e),e}function nte(t){try{return rte(t)}catch{return Zc}}function P1(t){var e=nte(t.slice(5,-1));return e===Zc?"":e}var ate=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ite=["dx","dy","angle","className","breakAll"];function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R2.apply(this,arguments)}function f3(t,e){if(t==null)return{};var r=ote(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ote(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h3(t,e){return ute(t)||cte(t,e)||lte(t,e)||ste()}function ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(t,e){if(t){if(typeof t=="string")return p3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(t,e)}}function p3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function ute(t){if(Array.isArray(t))return t}var _R=/[ \f\n\r\t\v\u2028\u2029]+/,jR=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];$t(r)||(n?i=r.toString().split(""):i=r.toString().split(_R));var o=i.map(function(c){return{word:c,width:ff(c,a).width}}),s=n?0:ff("",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},dte=function(e,r,n,a,i){var o=e.maxLines,s=e.children,c=e.style,u=e.breakAll,d=Le(o),f=s,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Y,W){var F=W.word,ae=W.width,re=Y[Y.length-1];if(re&&(a==null||i||re.width+ae+n<Number(a)))re.words.push(F),re.width+=ae+n;else{var oe={words:[F],width:ae};Y.push(oe)}return Y},[])},h=p(r),g=function(G){return G.reduce(function(Y,W){return Y.width>W.width?Y:W})};if(!d)return h;for(var m="",v=function(G){var Y=f.slice(0,G),W=jR({breakAll:u,style:c,children:Y+m}).wordsWithComputedWidth,F=p(W),ae=F.length>o||g(F).width>Number(a);return[ae,F]},b=0,w=f.length-1,j=0,_;b<=w&&j<=f.length-1;){var S=Math.floor((b+w)/2),k=S-1,A=v(k),E=h3(A,2),I=E[0],L=E[1],P=v(S),O=h3(P,1),D=O[0];if(!I&&!D&&(b=S+1),I&&D&&(w=S-1),!I&&D){_=L;break}j++}return _||h},m3=function(e){var r=$t(e)?[]:e.toString().split(_R);return[{words:r}]},fte=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Qu.isSsr){var c,u,d=jR({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return m3(a);return dte({breakAll:o,children:a,maxLines:s,style:i},c,u,r,n)}return m3(a)},g3="#808080",Ul=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,s=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,b=v===void 0?g3:v,w=f3(e,ate),j=N.useMemo(function(){return fte({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,k=w.angle,A=w.className,E=w.breakAll,I=f3(w,ite);if(!vn(n)||!vn(i))return null;var L=n+(Le(_)?_:0),P=i+(Le(S)?S:0),O;switch(m){case"start":O=P1("calc(".concat(u,")"));break;case"middle":O=P1("calc(".concat((j.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=P1("calc(".concat(j.length-1," * -").concat(s,")"));break}var D=[];if(f){var M=j[0].width,G=w.width;D.push("scale(".concat((Le(G)?G/M:1)/M,")"))}return k&&D.push("rotate(".concat(k,", ").concat(L,", ").concat(P,")")),D.length&&(I.transform=D.join(" ")),K.createElement("text",R2({},bt(I,!0),{x:L,y:P,className:It("recharts-text",A),textAnchor:h,fill:b.includes("url")?g3:b}),j.map(function(Y,W){var F=Y.words.join(E?"":" ");return K.createElement("tspan",{x:L,dy:W===0?O:s,key:"".concat(F,"-").concat(W)},F)}))};function Os(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tj(t){let e,r,n;t.length!==2?(e=Os,r=(s,c)=>Os(t(s),c),n=(s,c)=>t(s)-c):(e=t===Os||t===hte?t:pte,r=t,n=t);function a(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function pte(){return 0}function SR(t){return t===null?NaN:+t}function*mte(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const gte=tj(Os),jh=gte.right;tj(SR).center;class v3 extends Map{constructor(e,r=bte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(y3(this,e))}has(e){return super.has(y3(this,e))}set(e,r){return super.set(vte(this,e),r)}delete(e){return super.delete(yte(this,e))}}function y3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function vte({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function yte({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function bte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xte(t=Os){if(t===Os)return NR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function NR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wte=Math.sqrt(50),_te=Math.sqrt(10),jte=Math.sqrt(2);function Om(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=wte?10:i>=_te?5:i>=jte?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=r&&r<2?Om(t,e,r*2):[s,c,u]}function M2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Om(e,t,r):Om(t,e,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function D2(t,e,r){return e=+e,t=+t,r=+r,Om(t,e,r)[2]}function $2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?D2(e,t,r):D2(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function b3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function x3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AR(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?NR:xte(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+p)),g=Math.min(n,Math.floor(e+(c-u)*f/c+p));AR(t,e,h,g,a)}const i=t[e];let o=r,s=n;for(Wd(t,r,e),a(t[n],i)>0&&Wd(t,r,n);o<s;){for(Wd(t,o,s),++o,--s;a(t[o],i)<0;)++o;for(;a(t[s],i)>0;)--s}a(t[r],i)===0?Wd(t,r,s):(++s,Wd(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Wd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ste(t,e,r){if(t=Float64Array.from(mte(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return x3(t);if(e>=1)return b3(t);var n,a=(n-1)*e,i=Math.floor(a),o=b3(AR(t,i).subarray(0,i+1)),s=x3(t.subarray(i+1));return o+(s-o)*(a-i)}}function Nte(t,e,r=SR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),s=+r(t[i+1],i+1,t);return o+(s-o)*(a-i)}}function Ate(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Ka(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const F2=Symbol("implicit");function rj(){var t=new v3,e=[],r=[],n=F2;function a(i){let o=t.get(i);if(o===void 0){if(n!==F2)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new v3;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rj(e,r).unknown(n)},Ka.apply(a,arguments),a}function If(){var t=rj().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=a<n,g=h?a:n,m=h?n:a;i=(m-g)/Math.max(1,p-c+u*2),s&&(i=Math.floor(i)),g+=(m-g-i*(p-c))*d,o=i*(1-c),s&&(g=Math.round(g),o=Math.round(o));var v=Ate(p).map(function(b){return g+i*b});return r(h?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return If(e(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},Ka.apply(f(),arguments)}function kR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kR(e())},t}function hf(){return kR(If.apply(null,arguments).paddingInner(1))}function nj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function PR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Sh(){}var Lf=.7,Em=1/Lf,uu="\\s*([+-]?\\d+)\\s*",Rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kte=/^#([0-9a-f]{3,8})$/,Pte=new RegExp(`^rgb\\(${uu},${uu},${uu}\\)$`),Cte=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Ote=new RegExp(`^rgba\\(${uu},${uu},${uu},${Rf}\\)$`),Ete=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${Rf}\\)$`),Tte=new RegExp(`^hsl\\(${Rf},${Yi},${Yi}\\)$`),Ite=new RegExp(`^hsla\\(${Rf},${Yi},${Yi},${Rf}\\)$`),w3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nj(Sh,Mf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_3,formatHex:_3,formatHex8:Lte,formatHsl:Rte,formatRgb:j3,toString:j3});function _3(){return this.rgb().formatHex()}function Lte(){return this.rgb().formatHex8()}function Rte(){return CR(this).formatHsl()}function j3(){return this.rgb().formatRgb()}function Mf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=kte.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?S3(e):r===3?new sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Dp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Dp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Pte.exec(t))?new sa(e[1],e[2],e[3],1):(e=Cte.exec(t))?new sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ote.exec(t))?Dp(e[1],e[2],e[3],e[4]):(e=Ete.exec(t))?Dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tte.exec(t))?k3(e[1],e[2]/100,e[3]/100,1):(e=Ite.exec(t))?k3(e[1],e[2]/100,e[3]/100,e[4]):w3.hasOwnProperty(t)?S3(w3[t]):t==="transparent"?new sa(NaN,NaN,NaN,0):null}function S3(t){return new sa(t>>16&255,t>>8&255,t&255,1)}function Dp(t,e,r,n){return n<=0&&(t=e=r=NaN),new sa(t,e,r,n)}function Mte(t){return t instanceof Sh||(t=Mf(t)),t?(t=t.rgb(),new sa(t.r,t.g,t.b,t.opacity)):new sa}function B2(t,e,r,n){return arguments.length===1?Mte(t):new sa(t,e,r,n??1)}function sa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}nj(sa,B2,PR(Sh,{brighter(t){return t=t==null?Em:Math.pow(Em,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lf:Math.pow(Lf,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sa(Tl(this.r),Tl(this.g),Tl(this.b),Tm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N3,formatHex:N3,formatHex8:Dte,formatRgb:A3,toString:A3}));function N3(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}`}function Dte(){return`#${Al(this.r)}${Al(this.g)}${Al(this.b)}${Al((isNaN(this.opacity)?1:this.opacity)*255)}`}function A3(){const t=Tm(this.opacity);return`${t===1?"rgb(":"rgba("}${Tl(this.r)}, ${Tl(this.g)}, ${Tl(this.b)}${t===1?")":`, ${t})`}`}function Tm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Al(t){return t=Tl(t),(t<16?"0":"")+t.toString(16)}function k3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new mi(t,e,r,n)}function CR(t){if(t instanceof mi)return new mi(t.h,t.s,t.l,t.opacity);if(t instanceof Sh||(t=Mf(t)),!t)return new mi;if(t instanceof mi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(e===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-e)/s+2:o=(e-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new mi(o,s,c,t.opacity)}function $te(t,e,r,n){return arguments.length===1?CR(t):new mi(t,e,r,n??1)}function mi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}nj(mi,$te,PR(Sh,{brighter(t){return t=t==null?Em:Math.pow(Em,t),new mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lf:Math.pow(Lf,t),new mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new sa(C1(t>=240?t-240:t+120,a,n),C1(t,a,n),C1(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new mi(P3(this.h),$p(this.s),$p(this.l),Tm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tm(this.opacity);return`${t===1?"hsl(":"hsla("}${P3(this.h)}, ${$p(this.s)*100}%, ${$p(this.l)*100}%${t===1?")":`, ${t})`}`}}));function P3(t){return t=(t||0)%360,t<0?t+360:t}function $p(t){return Math.max(0,Math.min(1,t||0))}function C1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const aj=t=>()=>t;function Fte(t,e){return function(r){return t+r*e}}function Bte(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function qte(t){return(t=+t)==1?OR:function(e,r){return r-e?Bte(e,r,t):aj(isNaN(e)?r:e)}}function OR(t,e){var r=e-t;return r?Fte(t,r):aj(isNaN(t)?e:t)}const C3=(function t(e){var r=qte(e);function n(a,i){var o=r((a=B2(a)).r,(i=B2(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=OR(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n})(1);function Ute(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function zte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wte(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ed(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function Hte(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Im(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vte(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=ed(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var q2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O1=new RegExp(q2.source,"g");function Gte(t){return function(){return t}}function Yte(t){return function(e){return t(e)+""}}function Kte(t,e){var r=q2.lastIndex=O1.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(t=t+"",e=e+"";(n=q2.exec(t))&&(a=O1.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Im(n,a)})),r=O1.lastIndex;return r<e.length&&(i=e.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?Yte(c[0].x):Gte(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function ed(t,e){var r=typeof e,n;return e==null||r==="boolean"?aj(e):(r==="number"?Im:r==="string"?(n=Mf(e))?(e=n,C3):Kte:e instanceof Mf?C3:e instanceof Date?Hte:zte(e)?Ute:Array.isArray(e)?Wte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vte:Im)(t,e)}function ij(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Xte(t,e){e===void 0&&(e=t,t=ed);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function Zte(t){return function(){return t}}function Lm(t){return+t}var O3=[0,1];function ea(t){return t}function U2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Zte(isNaN(e)?NaN:.5)}function Jte(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Qte(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=U2(a,n),i=r(o,i)):(n=U2(n,a),i=r(i,o)),function(s){return i(n(s))}}function ere(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=U2(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(s){var c=jh(t,s,1,n)-1;return i[c](a[c](s))}}function Nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function av(){var t=O3,e=O3,r=ed,n,a,i,o=ea,s,c,u;function d(){var p=Math.min(t.length,e.length);return o!==ea&&(o=Jte(t[0],t[p-1])),s=p>2?ere:Qte,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=s(t.map(n),e,r)))(n(o(p)))}return f.invert=function(p){return o(a((u||(u=s(e,t.map(n),Im)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,Lm),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=ij,d()},f.clamp=function(p){return arguments.length?(o=p?!0:ea,d()):o!==ea},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function oj(){return av()(ea,ea)}function tre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wu(t){return t=Rm(Math.abs(t)),t?t[1]:NaN}function rre(t,e){return function(r,n){for(var a=r.length,i=[],o=0,s=t[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(e)}}function nre(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var are=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Df(t){if(!(e=are.exec(t)))throw new Error("invalid format: "+t);var e;return new sj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Df.prototype=sj.prototype;function sj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ire(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var ER;function ore(t,e){var r=Rm(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(ER=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Rm(t,Math.max(0,e+i-1))[0]}function E3(t,e){var r=Rm(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const T3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>E3(t*100,e),r:E3,s:ore,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function I3(t){return t}var L3=Array.prototype.map,R3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sre(t){var e=t.grouping===void 0||t.thousands===void 0?I3:rre(L3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?I3:nre(L3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Df(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,b=f.width,w=f.comma,j=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):T3[S]||(j===void 0&&(j=12),_=!0,S="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var k=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=m==="$"?n:/[%p]/.test(S)?o:"",E=T3[S],I=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function L(P){var O=k,D=A,M,G,Y;if(S==="c")D=E(P)+D,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),j),_&&(P=ire(P)),W&&+P==0&&g!=="+"&&(W=!1),O=(W?g==="("?g:s:g==="-"||g==="("?"":g)+O,D=(S==="s"?R3[8+ER/3]:"")+D+(W&&g==="("?")":""),I){for(M=-1,G=P.length;++M<G;)if(Y=P.charCodeAt(M),48>Y||Y>57){D=(Y===46?a+P.slice(M+1):P.slice(M))+D,P=P.slice(0,M);break}}}w&&!v&&(P=e(P,1/0));var F=O.length+P.length+D.length,ae=F<b?new Array(b-F+1).join(p):"";switch(w&&v&&(P=e(ae+P,ae.length?b-D.length:1/0),ae=""),h){case"<":P=O+P+D+ae;break;case"=":P=O+ae+P+D;break;case"^":P=ae.slice(0,F=ae.length>>1)+O+P+D+ae.slice(F);break;default:P=ae+O+P+D;break}return i(P)}return L.toString=function(){return f+""},L}function d(f,p){var h=u((f=Df(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(wu(p)/3)))*3,m=Math.pow(10,-g),v=R3[8+g/3];return function(b){return h(m*b)+v}}return{format:u,formatPrefix:d}}var Fp,lj,TR;lre({thousands:",",grouping:[3],currency:["$",""]});function lre(t){return Fp=sre(t),lj=Fp.format,TR=Fp.formatPrefix,Fp}function cre(t){return Math.max(0,-wu(Math.abs(t)))}function ure(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wu(e)/3)))*3-wu(Math.abs(t)))}function dre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wu(e)-wu(t))+1}function IR(t,e,r,n){var a=$2(t,e,r),i;switch(n=Df(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=ure(a,o))&&(n.precision=i),TR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dre(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cre(a))&&(n.precision=i-(n.type==="%")*2);break}}return lj(n)}function qs(t){var e=t.domain;return t.ticks=function(r){var n=e();return M2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return IR(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=D2(o,s,r),u===c)return n[a]=o,n[i]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function Mm(){var t=oj();return t.copy=function(){return Nh(t,Mm())},Ka.apply(t,arguments),qs(t)}function LR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Lm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return LR(t).unknown(e)},t=arguments.length?Array.from(t,Lm):[0,1],qs(r)}function RR(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function M3(t){return Math.log(t)}function D3(t){return Math.exp(t)}function fre(t){return-Math.log(-t)}function hre(t){return-Math.exp(-t)}function pre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mre(t){return t===10?pre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $3(t){return(e,r)=>-t(-e,r)}function cj(t){const e=t(M3,D3),r=e.domain;let n=10,a,i;function o(){return a=gre(n),i=mre(n),r()[0]<0?(a=$3(a),i=$3(i),t(fre,hre)):t(M3,D3),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,m;const v=s==null?10:+s;let b=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(m=p<0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;b.push(m)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(m=p>0?g/i(-p):g*i(p),!(m<u)){if(m>d)break;b.push(m)}b.length*2<v&&(b=M2(u,d,v))}else b=M2(p,h,Math.min(h-p,v)).map(i);return f?b.reverse():b},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Df(c)).precision==null&&(c.trim=!0),c=lj(c)),s===1/0)return c;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(RR(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),e}function MR(){const t=cj(av()).domain([1,10]);return t.copy=()=>Nh(t,MR()).base(t.base()),Ka.apply(t,arguments),t}function F3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function B3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uj(t){var e=1,r=t(F3(e),B3(e));return r.constant=function(n){return arguments.length?t(F3(e=+n),B3(e)):e},qs(r)}function DR(){var t=uj(av());return t.copy=function(){return Nh(t,DR()).constant(t.constant())},Ka.apply(t,arguments)}function q3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yre(t){return t<0?-t*t:t*t}function dj(t){var e=t(ea,ea),r=1;function n(){return r===1?t(ea,ea):r===.5?t(vre,yre):t(q3(r),q3(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},qs(e)}function fj(){var t=dj(av());return t.copy=function(){return Nh(t,fj()).exponent(t.exponent())},Ka.apply(t,arguments),t}function bre(){return fj.apply(null,arguments).exponent(.5)}function U3(t){return Math.sign(t)*t*t}function xre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $R(){var t=oj(),e=[0,1],r=!1,n;function a(i){var o=xre(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(U3(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Lm)).map(U3)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $R(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ka.apply(a,arguments),qs(a)}function FR(){var t=[],e=[],r=[],n;function a(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=Nte(t,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:e[jh(r,o)]}return i.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Os),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return FR().domain(t).range(e).unknown(n)},Ka.apply(i,arguments)}function BR(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[jh(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return BR().domain([t,e]).range(a).unknown(i)},Ka.apply(qs(o),arguments)}function qR(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[jh(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return qR().domain(t).range(e).unknown(r)},Ka.apply(a,arguments)}const E1=new Date,T1=new Date;function yn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),e(i,s),t(i);while(u<i&&i<o);return c},a.filter=i=>yn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!i(o););else for(;--s>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(E1.setTime(+i),T1.setTime(+o),t(E1),t(T1),Math.floor(r(E1,T1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Dm=yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Dm);Dm.range;const Eo=1e3,za=Eo*60,To=za*60,Uo=To*24,hj=Uo*7,z3=Uo*30,I1=Uo*365,kl=yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Eo)},(t,e)=>(e-t)/Eo,t=>t.getUTCSeconds());kl.range;const pj=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Eo)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getMinutes());pj.range;const mj=yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCMinutes());mj.range;const gj=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Eo-t.getMinutes()*za)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getHours());gj.range;const vj=yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*To)},(t,e)=>(e-t)/To,t=>t.getUTCHours());vj.range;const Ah=yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*za)/Uo,t=>t.getDate()-1);Ah.range;const iv=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>t.getUTCDate()-1);iv.range;const UR=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>Math.floor(t/Uo));UR.range;function ec(t){return yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*za)/hj)}const ov=ec(0),$m=ec(1),wre=ec(2),_re=ec(3),_u=ec(4),jre=ec(5),Sre=ec(6);ov.range;$m.range;wre.range;_re.range;_u.range;jre.range;Sre.range;function tc(t){return yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/hj)}const sv=tc(0),Fm=tc(1),Nre=tc(2),Are=tc(3),ju=tc(4),kre=tc(5),Pre=tc(6);sv.range;Fm.range;Nre.range;Are.range;ju.range;kre.range;Pre.range;const yj=yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yj.range;const bj=yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bj.range;const zo=yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});zo.range;const Wo=yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Wo.range;function zR(t,e,r,n,a,i){const o=[[kl,1,Eo],[kl,5,5*Eo],[kl,15,15*Eo],[kl,30,30*Eo],[i,1,za],[i,5,5*za],[i,15,15*za],[i,30,30*za],[a,1,To],[a,3,3*To],[a,6,6*To],[a,12,12*To],[n,1,Uo],[n,2,2*Uo],[r,1,hj],[e,1,z3],[e,3,3*z3],[t,1,I1]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function c(u,d,f){const p=Math.abs(d-u)/f,h=tj(([,,v])=>v).right(o,p);if(h===o.length)return t.every($2(u/I1,d/I1,f));if(h===0)return Dm.every(Math.max($2(u,d,f),1));const[g,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return g.every(m)}return[s,c]}const[Cre,Ore]=zR(Wo,bj,sv,UR,vj,mj),[Ere,Tre]=zR(zo,yj,ov,Ah,gj,pj);function L1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Ire(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=Vd(a),d=Gd(a),f=Vd(i),p=Gd(i),h=Vd(o),g=Gd(o),m=Vd(s),v=Gd(s),b=Vd(c),w=Gd(c),j={a:W,A:F,b:ae,B:re,c:null,d:K3,e:K3,f:rne,g:fne,G:pne,H:Qre,I:ene,j:tne,L:WR,m:nne,M:ane,p:oe,q:$,Q:J3,s:Q3,S:ine,u:one,U:sne,V:lne,w:cne,W:une,x:null,X:null,y:dne,Y:hne,Z:mne,"%":Z3},_={a:U,A:z,b:J,B:le,c:null,d:X3,e:X3,f:bne,g:Cne,G:Ene,H:gne,I:vne,j:yne,L:VR,m:xne,M:wne,p:se,q:de,Q:J3,s:Q3,S:_ne,u:jne,U:Sne,V:Nne,w:Ane,W:kne,x:null,X:null,y:Pne,Y:One,Z:Tne,"%":Z3},S={a:L,A:P,b:O,B:D,c:M,d:G3,e:G3,f:Kre,g:V3,G:H3,H:Y3,I:Y3,j:Hre,L:Yre,m:Wre,M:Vre,p:I,q:zre,Q:Zre,s:Jre,S:Gre,u:$re,U:Fre,V:Bre,w:Dre,W:qre,x:G,X:Y,y:V3,Y:H3,Z:Ure,"%":Xre};j.x=k(r,j),j.X=k(n,j),j.c=k(e,j),_.x=k(r,_),_.X=k(n,_),_.c=k(e,_);function k(ie,he){return function(ge){var ue=[],Pe=-1,me=0,Q=ie.length,Ve,Be,Ue;for(ge instanceof Date||(ge=new Date(+ge));++Pe<Q;)ie.charCodeAt(Pe)===37&&(ue.push(ie.slice(me,Pe)),(Be=W3[Ve=ie.charAt(++Pe)])!=null?Ve=ie.charAt(++Pe):Be=Ve==="e"?" ":"0",(Ue=he[Ve])&&(Ve=Ue(ge,Be)),ue.push(Ve),me=Pe+1);return ue.push(ie.slice(me,Pe)),ue.join("")}}function A(ie,he){return function(ge){var ue=Hd(1900,void 0,1),Pe=E(ue,ie,ge+="",0),me,Q;if(Pe!=ge.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(he&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(me=R1(Hd(ue.y,0,1)),Q=me.getUTCDay(),me=Q>4||Q===0?Fm.ceil(me):Fm(me),me=iv.offset(me,(ue.V-1)*7),ue.y=me.getUTCFullYear(),ue.m=me.getUTCMonth(),ue.d=me.getUTCDate()+(ue.w+6)%7):(me=L1(Hd(ue.y,0,1)),Q=me.getDay(),me=Q>4||Q===0?$m.ceil(me):$m(me),me=Ah.offset(me,(ue.V-1)*7),ue.y=me.getFullYear(),ue.m=me.getMonth(),ue.d=me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Q="Z"in ue?R1(Hd(ue.y,0,1)).getUTCDay():L1(Hd(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Q+5)%7:ue.w+ue.U*7-(Q+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,R1(ue)):L1(ue)}}function E(ie,he,ge,ue){for(var Pe=0,me=he.length,Q=ge.length,Ve,Be;Pe<me;){if(ue>=Q)return-1;if(Ve=he.charCodeAt(Pe++),Ve===37){if(Ve=he.charAt(Pe++),Be=S[Ve in W3?he.charAt(Pe++):Ve],!Be||(ue=Be(ie,ge,ue))<0)return-1}else if(Ve!=ge.charCodeAt(ue++))return-1}return ue}function I(ie,he,ge){var ue=u.exec(he.slice(ge));return ue?(ie.p=d.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function L(ie,he,ge){var ue=h.exec(he.slice(ge));return ue?(ie.w=g.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function P(ie,he,ge){var ue=f.exec(he.slice(ge));return ue?(ie.w=p.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function O(ie,he,ge){var ue=b.exec(he.slice(ge));return ue?(ie.m=w.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function D(ie,he,ge){var ue=m.exec(he.slice(ge));return ue?(ie.m=v.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function M(ie,he,ge){return E(ie,e,he,ge)}function G(ie,he,ge){return E(ie,r,he,ge)}function Y(ie,he,ge){return E(ie,n,he,ge)}function W(ie){return o[ie.getDay()]}function F(ie){return i[ie.getDay()]}function ae(ie){return c[ie.getMonth()]}function re(ie){return s[ie.getMonth()]}function oe(ie){return a[+(ie.getHours()>=12)]}function $(ie){return 1+~~(ie.getMonth()/3)}function U(ie){return o[ie.getUTCDay()]}function z(ie){return i[ie.getUTCDay()]}function J(ie){return c[ie.getUTCMonth()]}function le(ie){return s[ie.getUTCMonth()]}function se(ie){return a[+(ie.getUTCHours()>=12)]}function de(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=k(ie+="",j);return he.toString=function(){return ie},he},parse:function(ie){var he=A(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=k(ie+="",_);return he.toString=function(){return ie},he},utcParse:function(ie){var he=A(ie+="",!0);return he.toString=function(){return ie},he}}}var W3={"-":"",_:" ",0:"0"},An=/^\s*\d+/,Lre=/^%/,Rre=/[\\^$*+?|[\]().{}]/g;function Jt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function Mre(t){return t.replace(Rre,"\\$&")}function Vd(t){return new RegExp("^(?:"+t.map(Mre).join("|")+")","i")}function Gd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Dre(t,e,r){var n=An.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function $re(t,e,r){var n=An.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Fre(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Bre(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function qre(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function H3(t,e,r){var n=An.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function V3(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ure(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zre(t,e,r){var n=An.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Wre(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function G3(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Hre(t,e,r){var n=An.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Y3(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Vre(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Gre(t,e,r){var n=An.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Yre(t,e,r){var n=An.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Kre(t,e,r){var n=An.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Xre(t,e,r){var n=Lre.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Zre(t,e,r){var n=An.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Jre(t,e,r){var n=An.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function K3(t,e){return Jt(t.getDate(),e,2)}function Qre(t,e){return Jt(t.getHours(),e,2)}function ene(t,e){return Jt(t.getHours()%12||12,e,2)}function tne(t,e){return Jt(1+Ah.count(zo(t),t),e,3)}function WR(t,e){return Jt(t.getMilliseconds(),e,3)}function rne(t,e){return WR(t,e)+"000"}function nne(t,e){return Jt(t.getMonth()+1,e,2)}function ane(t,e){return Jt(t.getMinutes(),e,2)}function ine(t,e){return Jt(t.getSeconds(),e,2)}function one(t){var e=t.getDay();return e===0?7:e}function sne(t,e){return Jt(ov.count(zo(t)-1,t),e,2)}function HR(t){var e=t.getDay();return e>=4||e===0?_u(t):_u.ceil(t)}function lne(t,e){return t=HR(t),Jt(_u.count(zo(t),t)+(zo(t).getDay()===4),e,2)}function cne(t){return t.getDay()}function une(t,e){return Jt($m.count(zo(t)-1,t),e,2)}function dne(t,e){return Jt(t.getFullYear()%100,e,2)}function fne(t,e){return t=HR(t),Jt(t.getFullYear()%100,e,2)}function hne(t,e){return Jt(t.getFullYear()%1e4,e,4)}function pne(t,e){var r=t.getDay();return t=r>=4||r===0?_u(t):_u.ceil(t),Jt(t.getFullYear()%1e4,e,4)}function mne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jt(e/60|0,"0",2)+Jt(e%60,"0",2)}function X3(t,e){return Jt(t.getUTCDate(),e,2)}function gne(t,e){return Jt(t.getUTCHours(),e,2)}function vne(t,e){return Jt(t.getUTCHours()%12||12,e,2)}function yne(t,e){return Jt(1+iv.count(Wo(t),t),e,3)}function VR(t,e){return Jt(t.getUTCMilliseconds(),e,3)}function bne(t,e){return VR(t,e)+"000"}function xne(t,e){return Jt(t.getUTCMonth()+1,e,2)}function wne(t,e){return Jt(t.getUTCMinutes(),e,2)}function _ne(t,e){return Jt(t.getUTCSeconds(),e,2)}function jne(t){var e=t.getUTCDay();return e===0?7:e}function Sne(t,e){return Jt(sv.count(Wo(t)-1,t),e,2)}function GR(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function Nne(t,e){return t=GR(t),Jt(ju.count(Wo(t),t)+(Wo(t).getUTCDay()===4),e,2)}function Ane(t){return t.getUTCDay()}function kne(t,e){return Jt(Fm.count(Wo(t)-1,t),e,2)}function Pne(t,e){return Jt(t.getUTCFullYear()%100,e,2)}function Cne(t,e){return t=GR(t),Jt(t.getUTCFullYear()%100,e,2)}function One(t,e){return Jt(t.getUTCFullYear()%1e4,e,4)}function Ene(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ju(t):ju.ceil(t),Jt(t.getUTCFullYear()%1e4,e,4)}function Tne(){return"+0000"}function Z3(){return"%"}function J3(t){return+t}function Q3(t){return Math.floor(+t/1e3)}var Fc,YR,KR;Ine({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ine(t){return Fc=Ire(t),YR=Fc.format,Fc.parse,KR=Fc.utcFormat,Fc.utcParse,Fc}function Lne(t){return new Date(t)}function Rne(t){return t instanceof Date?+t:+new Date(+t)}function xj(t,e,r,n,a,i,o,s,c,u){var d=oj(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),w=u("%b %d"),j=u("%B"),_=u("%Y");function S(k){return(c(k)<k?h:s(k)<k?g:o(k)<k?m:i(k)<k?v:n(k)<k?a(k)<k?b:w:r(k)<k?j:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?p(Array.from(k,Rne)):p().map(Lne)},d.ticks=function(k){var A=p();return t(A[0],A[A.length-1],k??10)},d.tickFormat=function(k,A){return A==null?S:u(A)},d.nice=function(k){var A=p();return(!k||typeof k.range!="function")&&(k=e(A[0],A[A.length-1],k??10)),k?p(RR(A,k)):d},d.copy=function(){return Nh(d,xj(t,e,r,n,a,i,o,s,c,u))},d}function Mne(){return Ka.apply(xj(Ere,Tre,zo,yj,ov,Ah,gj,pj,kl,YR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dne(){return Ka.apply(xj(Cre,Ore,Wo,bj,sv,iv,vj,mj,kl,KR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lv(){var t=0,e=1,r,n,a,i,o=ea,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(ed),u.rangeRound=d(ij),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Us(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function XR(){var t=qs(lv()(ea));return t.copy=function(){return Us(t,XR())},Xo.apply(t,arguments)}function ZR(){var t=cj(lv()).domain([1,10]);return t.copy=function(){return Us(t,ZR()).base(t.base())},Xo.apply(t,arguments)}function JR(){var t=uj(lv());return t.copy=function(){return Us(t,JR()).constant(t.constant())},Xo.apply(t,arguments)}function wj(){var t=dj(lv());return t.copy=function(){return Us(t,wj()).exponent(t.exponent())},Xo.apply(t,arguments)}function $ne(){return wj.apply(null,arguments).exponent(.5)}function QR(){var t=[],e=ea;function r(n){if(n!=null&&!isNaN(n=+n))return e((jh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Os),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ste(t,i/n))},r.copy=function(){return QR(e).domain(t)},Xo.apply(r,arguments)}function cv(){var t=0,e=.5,r=1,n=1,a,i,o,s,c,u=ea,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-i)*(n*m<n*i?s:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,a=d(t=+t),i=d(e=+e),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function g(m){return function(v){var b,w,j;return arguments.length?([b,w,j]=v,u=Xte(m,[b,w,j]),h):[u(0),u(.5),u(1)]}}return h.range=g(ed),h.rangeRound=g(ij),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(t),i=m(e),o=m(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function eM(){var t=qs(cv()(ea));return t.copy=function(){return Us(t,eM())},Xo.apply(t,arguments)}function tM(){var t=cj(cv()).domain([.1,1,10]);return t.copy=function(){return Us(t,tM()).base(t.base())},Xo.apply(t,arguments)}function rM(){var t=uj(cv());return t.copy=function(){return Us(t,rM()).constant(t.constant())},Xo.apply(t,arguments)}function _j(){var t=dj(cv());return t.copy=function(){return Us(t,_j()).exponent(t.exponent())},Xo.apply(t,arguments)}function Fne(){return _j.apply(null,arguments).exponent(.5)}const eO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:If,scaleDiverging:eM,scaleDivergingLog:tM,scaleDivergingPow:_j,scaleDivergingSqrt:Fne,scaleDivergingSymlog:rM,scaleIdentity:LR,scaleImplicit:F2,scaleLinear:Mm,scaleLog:MR,scaleOrdinal:rj,scalePoint:hf,scalePow:fj,scaleQuantile:FR,scaleQuantize:BR,scaleRadial:$R,scaleSequential:XR,scaleSequentialLog:ZR,scaleSequentialPow:wj,scaleSequentialQuantile:QR,scaleSequentialSqrt:$ne,scaleSequentialSymlog:JR,scaleSqrt:bre,scaleSymlog:DR,scaleThreshold:qR,scaleTime:Mne,scaleUtc:Dne,tickFormat:IR},Symbol.toStringTag,{value:"Module"}));var M1,tO;function uv(){if(tO)return M1;tO=1;var t=Xu();function e(r,n,a){for(var i=-1,o=r.length;++i<o;){var s=r[i],c=n(s);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,d=s}return d}return M1=e,M1}var D1,rO;function nM(){if(rO)return D1;rO=1;function t(e,r){return e>r}return D1=t,D1}var $1,nO;function Bne(){if(nO)return $1;nO=1;var t=uv(),e=nM(),r=Ju();function n(a){return a&&a.length?t(a,r,e):void 0}return $1=n,$1}var qne=Bne();const dv=dr(qne);var F1,aO;function aM(){if(aO)return F1;aO=1;function t(e,r){return e<r}return F1=t,F1}var B1,iO;function Une(){if(iO)return B1;iO=1;var t=uv(),e=aM(),r=Ju();function n(a){return a&&a.length?t(a,r,e):void 0}return B1=n,B1}var zne=Une();const fv=dr(zne);var q1,oO;function Wne(){if(oO)return q1;oO=1;var t=$_(),e=io(),r=dR(),n=fa();function a(i,o){var s=n(i)?t:r;return s(i,e(o,3))}return q1=a,q1}var U1,sO;function Hne(){if(sO)return U1;sO=1;var t=cR(),e=Wne();function r(n,a){return t(e(n,a),1)}return U1=r,U1}var Vne=Hne();const Gne=dr(Vne);var z1,lO;function Yne(){if(lO)return z1;lO=1;var t=Z_();function e(r,n){return t(r,n)}return z1=e,z1}var Kne=Yne();const hv=dr(Kne);var td=1e9,Xne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sj,Rr=!0,Ya="[DecimalError] ",Il=Ya+"Invalid argument: ",jj=Ya+"Exponent out of range: ",rd=Math.floor,yl=Math.pow,Zne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Na,_n=1e7,Cr=7,iM=9007199254740991,Bm=rd(iM/Cr),He={};He.absoluteValue=He.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};He.comparedTo=He.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};He.decimalPlaces=He.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Cr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(t){return Do(this,new this.constructor(t))};He.dividedToIntegerBy=He.idiv=function(t){var e=this,r=e.constructor;return gr(Do(e,new r(t),0,1),r.precision)};He.equals=He.eq=function(t){return!this.cmp(t)};He.exponent=function(){return on(this)};He.greaterThan=He.gt=function(t){return this.cmp(t)>0};He.greaterThanOrEqualTo=He.gte=function(t){return this.cmp(t)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(t){return this.cmp(t)<0};He.lessThanOrEqualTo=He.lte=function(t){return this.cmp(t)<1};He.logarithm=He.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Na))throw Error(Ya+"NaN");if(r.s<1)throw Error(Ya+(r.s?"NaN":"-Infinity"));return r.eq(Na)?new n(0):(Rr=!1,e=Do($f(r,i),$f(t,i),i),Rr=!0,gr(e,a))};He.minus=He.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lM(e,t):oM(e,(t.s=-t.s,t))};He.modulo=He.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Ya+"NaN");return r.s?(Rr=!1,e=Do(r,t,0,1).times(t),Rr=!0,r.minus(e)):gr(new n(r),a)};He.naturalExponential=He.exp=function(){return sM(this)};He.naturalLogarithm=He.ln=function(){return $f(this)};He.negated=He.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};He.plus=He.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oM(e,t):lM(e,(t.s=-t.s,t))};He.precision=He.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Il+t);if(e=on(a)+1,n=a.d.length-1,r=n*Cr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};He.squareRoot=He.sqrt=function(){var t,e,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Ya+"NaN")}for(t=on(s),Rr=!1,a=Math.sqrt(+s),a==0||a==1/0?(e=Hi(s.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Do(s,i,o+2)).times(.5),Hi(i.d).slice(0,o)===(e=Hi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(gr(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(e!="9999")break;o+=4}return Rr=!0,gr(n,r)};He.times=He.mul=function(t){var e,r,n,a,i,o,s,c,u,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=h.length,c<u&&(i=p,p=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)s=i[a]+h[n]*p[a-n-1]+e,i[a--]=s%_n|0,e=s/_n|0;i[a]=(i[a]+e)%_n|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Rr?gr(t,f.precision):t};He.toDecimalPlaces=He.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(eo(t,0,td),e===void 0?e=n.rounding:eo(e,0,8),gr(r,t+on(r)+1,e))};He.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=zl(n,!0):(eo(t,0,td),e===void 0?e=a.rounding:eo(e,0,8),n=gr(new a(n),t+1,e),r=zl(n,!0,t+1)),r};He.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?zl(a):(eo(t,0,td),e===void 0?e=i.rounding:eo(e,0,8),n=gr(new i(a),t+on(a)+1,e),r=zl(n.abs(),!1,t+on(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var t=this,e=t.constructor;return gr(new e(t),on(t)+1,e.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(t){var e,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Na);if(s=new c(s),!s.s){if(t.s<1)throw Error(Ya+"Infinity");return s}if(s.eq(Na))return s;if(n=c.precision,t.eq(Na))return gr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=s.s,o){if((r=d<0?-d:d)<=iM){for(a=new c(Na),e=Math.ceil(n/Cr+4),Rr=!1;r%2&&(a=a.times(s),uO(a.d,e)),r=rd(r/2),r!==0;)s=s.times(s),uO(s.d,e);return Rr=!0,t.s<0?new c(Na).div(a):gr(a,n)}}else if(i<0)throw Error(Ya+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Rr=!1,a=t.times($f(s,n+u)),Rr=!0,a=sM(a),a.s=i,a};He.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=on(a),n=zl(a,r<=i.toExpNeg||r>=i.toExpPos)):(eo(t,1,td),e===void 0?e=i.rounding:eo(e,0,8),a=gr(new i(a),t,e),r=on(a),n=zl(a,t<=r||r<=i.toExpNeg,t)),n};He.toSignificantDigits=He.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(eo(t,1,td),e===void 0?e=n.rounding:eo(e,0,8)),gr(new n(r),t,e)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=on(t),r=t.constructor;return zl(t,e<=r.toExpNeg||e>=r.toExpPos)};function oM(t,e){var r,n,a,i,o,s,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rr?gr(e,f):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Cr),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/_n|0,c[i]%=_n;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=a,Rr?gr(e,f):e}function eo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Il+t)}function Hi(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=Cr-n.length,r&&(i+=_s(r)),i+=n;o=t[e],n=o+"",r=Cr-n.length,r&&(i+=_s(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Do=(function(){function t(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%_n|0,o=i/_n|0;return o&&n.unshift(o),n}function e(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*_n+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,p,h,g,m,v,b,w,j,_,S,k,A,E,I=n.constructor,L=n.s==a.s?1:-1,P=n.d,O=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(Ya+"Division by zero");for(c=n.e-a.e,A=O.length,S=P.length,h=new I(L),g=h.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,i==null?w=i=I.precision:o?w=i+(on(n)-on(a))+1:w=i,w<0)return new I(0);if(w=w/Cr+2|0,u=0,A==1)for(d=0,O=O[0],w++;(u<S||d)&&w--;u++)j=d*_n+(P[u]||0),g[u]=j/O|0,d=j%O|0;else{for(d=_n/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),A=O.length,S=P.length),_=A,m=P.slice(0,A),v=m.length;v<A;)m[v++]=0;E=O.slice(),E.unshift(0),k=O[0],O[1]>=_n/2&&++k;do d=0,s=e(O,m,A,v),s<0?(b=m[0],A!=v&&(b=b*_n+(m[1]||0)),d=b/k|0,d>1?(d>=_n&&(d=_n-1),f=t(O,d),p=f.length,v=m.length,s=e(f,m,p,v),s==1&&(d--,r(f,A<p?E:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<v&&f.unshift(0),r(m,f,v),s==-1&&(v=m.length,s=e(O,m,A,v),s<1&&(d++,r(m,A<v?E:O,v))),v=m.length):s===0&&(d++,m=[0]),g[u++]=d,s&&m[0]?m[v++]=P[_]||0:(m=[P[_]],v=1);while((_++<S||m[0]!==void 0)&&w--)}return g[0]||g.shift(),h.e=c,gr(h,o?i+on(h)+1:i)}})();function sM(t,e){var r,n,a,i,o,s,c=0,u=0,d=t.constructor,f=d.precision;if(on(t)>16)throw Error(jj+on(t));if(!t.s)return new d(Na);for(Rr=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(yl(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(Na),d.precision=s;;){if(a=gr(a.times(t),s),r=r.times(++c),o=i.plus(Do(a,r,s)),Hi(o.d).slice(0,s)===Hi(i.d).slice(0,s)){for(;u--;)i=gr(i.times(i),s);return d.precision=f,e==null?(Rr=!0,gr(i,f)):i}i=o}}function on(t){for(var e=t.e*Cr,r=t.d[0];r>=10;r/=10)e++;return e}function W1(t,e,r){if(e>t.LN10.sd())throw Rr=!0,r&&(t.precision=r),Error(Ya+"LN10 precision limit exceeded");return gr(new t(t.LN10),e)}function _s(t){for(var e="";t--;)e+="0";return e}function $f(t,e){var r,n,a,i,o,s,c,u,d,f=1,p=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(Ya+(h.s?"NaN":"-Infinity"));if(h.eq(Na))return new m(0);if(e==null?(Rr=!1,u=v):u=e,h.eq(10))return e==null&&(Rr=!0),W1(m,u);if(u+=p,m.precision=u,r=Hi(g),n=r.charAt(0),i=on(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Hi(h.d),n=r.charAt(0),f++;i=on(h),n>1?(h=new m("0."+r),i++):h=new m(n+"."+r.slice(1))}else return c=W1(m,u+2,v).times(i+""),h=$f(new m(n+"."+r.slice(1)),u-p).plus(c),m.precision=v,e==null?(Rr=!0,gr(h,v)):h;for(s=o=h=Do(h.minus(Na),h.plus(Na),u),d=gr(h.times(h),u),a=3;;){if(o=gr(o.times(d),u),c=s.plus(Do(o,new m(a),u)),Hi(c.d).slice(0,u)===Hi(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(W1(m,u+2,v).times(i+""))),s=Do(s,new m(f),u),m.precision=v,e==null?(Rr=!0,gr(s,v)):s;s=c,a+=2}}function cO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=rd(r/Cr),t.d=[],n=(r+1)%Cr,r<0&&(n+=Cr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Cr;n<a;)t.d.push(+e.slice(n,n+=Cr));e=e.slice(n),n=Cr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Rr&&(t.e>Bm||t.e<-Bm))throw Error(jj+r)}else t.s=0,t.e=0,t.d=[0];return t}function gr(t,e,r){var n,a,i,o,s,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Cr,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Cr),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Cr,a=n-Cr+o}if(r!==void 0&&(i=yl(10,o-a-1),s=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/yl(10,o-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=on(t),f.length=1,e=e-i-1,f[0]=yl(10,(Cr-e%Cr)%Cr),t.e=rd(-e/Cr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yl(10,Cr-n),f[d]=a>0?(u/yl(10,o-a)%yl(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==_n&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=_n)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Rr&&(t.e>Bm||t.e<-Bm))throw Error(jj+on(t));return t}function lM(t,e){var r,n,a,i,o,s,c,u,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Rr?gr(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(h/Cr),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=_n-1;--c[i],c[a]+=_n}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Rr?gr(e,h):e):new p(0)}function zl(t,e,r){var n,a=on(t),i=Hi(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+_s(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+_s(-a-1)+i,r&&(n=r-o)>0&&(i+=_s(n))):a>=o?(i+=_s(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+_s(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=_s(n))),t.s<0?"-"+i:i}function uO(t,e){if(t.length>e)return t.length=e,!0}function cM(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Il+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cO(o,i.toString())}else if(typeof i!="string")throw Error(Il+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Zne.test(i))cO(o,i);else throw Error(Il+i)}if(a.prototype=He,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=cM,a.config=a.set=Jne,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function Jne(t){if(!t||typeof t!="object")throw Error(Ya+"Object expected");var e,r,n,a=["precision",1,td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(rd(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Il+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Il+r+": "+n);return this}var Sj=cM(Xne);Na=new Sj(1);const hr=Sj;function Qne(t){return nae(t)||rae(t)||tae(t)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z2(t,e)}}function rae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nae(t){if(Array.isArray(t))return z2(t)}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aae=function(e){return e},uM={},dM=function(e){return e===uM},dO=function(e){return function r(){return arguments.length===0||arguments.length===1&&dM(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},iae=function t(e,r){return e===1?r:dO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==uM}).length;return o>=e?r.apply(void 0,a):t(e-o,dO(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=a.map(function(f){return dM(f)?c.shift():f});return r.apply(void 0,Qne(d).concat(c))}))})},pv=function(e){return iae(e.length,e)},W2=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},oae=pv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),sae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return aae;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,c){return c(s)},i.apply(void 0,arguments))}},H2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fM=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,c){return s===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function lae(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function cae(t,e,r){for(var n=new hr(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var uae=pv(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),dae=pv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),fae=pv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const mv={rangeStep:cae,getDigitCount:lae,interpolateNumber:uae,uninterpolateNumber:dae,uninterpolateTruncation:fae};function V2(t){return mae(t)||pae(t)||hM(t)||hae()}function hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mae(t){if(Array.isArray(t))return G2(t)}function Ff(t,e){return yae(t)||vae(t,e)||hM(t,e)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hM(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function yae(t){if(Array.isArray(t))return t}function pM(t){var e=Ff(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function mM(t,e,r){if(t.lte(0))return new hr(0);var n=mv.getDigitCount(t.toNumber()),a=new hr(10).pow(n),i=t.div(a),o=n!==1?.05:.1,s=new hr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return e?c:new hr(Math.ceil(c))}function bae(t,e,r){var n=1,a=new hr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new hr(10).pow(mv.getDigitCount(t)-1),a=new hr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new hr(Math.floor(t)))}else t===0?a=new hr(Math.floor((e-1)/2)):r||(a=new hr(Math.floor(t)));var o=Math.floor((e-1)/2),s=sae(oae(function(c){return a.add(new hr(c-o).mul(n)).toNumber()}),W2);return s(0,e)}function gM(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var i=mM(new hr(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new hr(0):(o=new hr(t).add(e).div(2),o=o.sub(new hr(o).mod(i)));var s=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new hr(e).sub(o).div(i).toNumber()),u=s+c+1;return u>r?gM(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,s=e>0?s:s+(r-u)),{step:i,tickMin:o.sub(new hr(s).mul(i)),tickMax:o.add(new hr(c).mul(i))})}function xae(t){var e=Ff(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=pM([r,n]),c=Ff(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(V2(W2(0,a-1).map(function(){return 1/0}))):[].concat(V2(W2(0,a-1).map(function(){return-1/0})),[d]);return r>n?H2(f):f}if(u===d)return bae(u,a,i);var p=gM(u,d,o,i),h=p.step,g=p.tickMin,m=p.tickMax,v=mv.rangeStep(g,m.add(new hr(.1).mul(h)),h);return r>n?H2(v):v}function wae(t,e){var r=Ff(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=pM([n,a]),s=Ff(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=mM(new hr(u).sub(c).div(d-1),i,0),p=[].concat(V2(mv.rangeStep(new hr(c),new hr(u).sub(new hr(.99).mul(f)),f)),[u]);return n>a?H2(p):p}var _ae=fM(xae),jae=fM(wae),Sae="Invariant failed";function Wl(t,e){throw new Error(Sae)}var Nae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qm.apply(this,arguments)}function Aae(t,e){return Oae(t)||Cae(t,e)||Pae(t,e)||kae()}function kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pae(t,e){if(t){if(typeof t=="string")return fO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(t,e)}}function fO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Oae(t){if(Array.isArray(t))return t}function Eae(t,e){if(t==null)return{};var r=Tae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bM(n.key),n)}}function Rae(t,e,r){return e&&Lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mae(t,e,r){return e=Um(e),Dae(t,vM()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Dae(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ae(t)}function $ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vM=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y2(t,e)}function yM(t,e,r){return e=bM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bM(t){var e=Bae(t,"string");return Su(e)=="symbol"?e:e+""}function Bae(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gv=(function(t){function e(){return Iae(this,e),Mae(this,e,arguments)}return Fae(e,t),Rae(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Eae(n,Nae),h=bt(p,!1);this.props.direction==="x"&&d.type!=="number"&&Wl();var g=c.map(function(m){var v=u(m,s),b=v.x,w=v.y,j=v.value,_=v.errorVal;if(!_)return null;var S=[],k,A;if(Array.isArray(_)){var E=Aae(_,2);k=E[0],A=E[1]}else k=A=_;if(i==="vertical"){var I=d.scale,L=w+a,P=L+o,O=L-o,D=I(j-k),M=I(j+A);S.push({x1:M,y1:P,x2:M,y2:O}),S.push({x1:D,y1:L,x2:M,y2:L}),S.push({x1:D,y1:P,x2:D,y2:O})}else if(i==="horizontal"){var G=f.scale,Y=b+a,W=Y-o,F=Y+o,ae=G(j-k),re=G(j+A);S.push({x1:W,y1:re,x2:F,y2:re}),S.push({x1:Y,y1:ae,x2:Y,y2:re}),S.push({x1:W,y1:ae,x2:F,y2:ae})}return K.createElement(ur,qm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},h),S.map(function(oe){return K.createElement("line",qm({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return K.createElement(ur,{className:"recharts-errorBars"},g)}}])})(K.Component);yM(gv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yM(gv,"displayName","ErrorBar");function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){qae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qae(t,e,r){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uae(t){var e=zae(t,"string");return Bf(e)=="symbol"?e:e+""}function zae(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xM=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ja(r,cu);if(!o)return null;var s=cu.defaultProps,c=s!==void 0?fl(fl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?fl(fl({},p),f.props):{},g=h.dataKey,m=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:Nj(f),value:m||g,payload:h}}),fl(fl(fl({},c),cu.getWithHeight(o,a)),{},{payload:u,item:o})};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function pO(t){return Gae(t)||Vae(t)||Hae(t)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(t,e){if(t){if(typeof t=="string")return K2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K2(t,e)}}function Vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gae(t){if(Array.isArray(t))return K2(t)}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function du(t,e,r){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yae(t){var e=Kae(t,"string");return qf(e)=="symbol"?e:e+""}function Kae(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zn(t,e,r){return $t(t)||$t(e)?r:vn(e)?Pa(t,e,r):jt(e)?e(t):r}function pf(t,e,r,n){var a=Gne(t,function(s){return zn(s,e)});if(r==="number"){var i=a.filter(function(s){return Le(s)||parseFloat(s)});return i.length?[fv(i),dv(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!$t(s)}):a;return o.map(function(s){return vn(s)||s instanceof Date?s:""})}var Xae=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<s;u++){var d=u>0?a[u-1].coordinate:a[s-1].coordinate,f=a[u].coordinate,p=u>=s-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Jn(f-d)!==Jn(p-f)){var g=[];if(Jn(p-f)===Jn(c[1]-c[0])){h=p;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{h=d;var v=p+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=a[u].index;break}}else{var w=Math.min(d,p),j=Math.max(d,p);if(e>(w+f)/2&&e<=(j+f)/2){o=a[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Nj=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,o=i.stroke,s=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},Zae=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),c=0,u=s.length;c<u;c++)for(var d=i[s[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],m=g.items,v=g.cateAxisId,b=m.filter(function(A){return Mo(A.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,j=w!==void 0?zr(zr({},w),b[0].props):b[0].props,_=j.barSize,S=j[v];o[S]||(o[S]=[]);var k=$t(_)?r:_;o[S].push({item:b[0],stackList:b.slice(1),barSize:$t(k)?void 0:Qn(k,n,0)})}}return o},Jae=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,s=e.maxBarSize,c=o.length;if(c<1)return null;var u=Qn(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/c,g=o.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(p=!0,h*=.9,g=c*h);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:p?h:S.barSize}},A=[].concat(pO(_),[k]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){A.push({item:E,position:v})}),A},f)}else{var b=Qn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var w=(a-2*b-(c-1)*u)/c;w>1&&(w>>=0);var j=s===+s?Math.min(w,s):w;d=o.reduce(function(_,S,k){var A=[].concat(pO(_),[{item:S.item,position:{offset:b+(w+u)*k+(w-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},f)}return d},Qae=function(e,r,n,a){var i=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=xM({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&Le(e[h]))return zr(zr({},e),{},du({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&Le(e[g]))return zr(zr({},e),{},du({},g,e[g]+(p||0)))}return e},eie=function(e,r,n){return $t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},wM=function(e,r,n,a,i){var o=r.props.children,s=Ha(o,gv).filter(function(u){return eie(a,i,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=zn(d,n);if($t(f))return u;var p=Array.isArray(f)?[fv(f),dv(f)]:[f,f],h=c.reduce(function(g,m){var v=zn(d,m,0),b=p[0]-Math.abs(Array.isArray(v)?v[0]:v),w=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},tie=function(e,r,n,a,i){var o=r.map(function(s){return wM(e,s,n,i,a)}).filter(function(s){return!$t(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},_M=function(e,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&wM(e,c,u,a)||pf(e,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},jM=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},SM=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,s=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||s.push(r),o||s.push(n),s},Io=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,s=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Jn(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!xh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:i?i[f]:f,index:p,offset:u}})},H1=new WeakMap,Bp=function(e,r){if(typeof r!="function")return e;H1.has(e)||H1.set(e,new WeakMap);var n=H1.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},NM=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,s=e.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:If(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Mm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hf(),realScaleType:"point"}:i==="category"?{scale:If(),realScaleType:"band"}:{scale:Mm(),realScaleType:"linear"};if(Bl(a)){var c="scale".concat(Xg(a));return{scale:(eO[c]||hf)(),realScaleType:eO[c]?c:"point"}}return jt(a)?{scale:a}:{scale:hf(),realScaleType:"point"}},gO=1e-4,AM=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-gO,o=Math.max(a[0],a[1])+gO,s=e(r[0]),c=e(r[n-1]);(s<i||s>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},rie=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},nie=function(e,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Le(e[0])||e[0]<n)&&(i[0]=n),(!Le(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},aie=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var c=xh(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+c,o=e[s][n][1])}},iie=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=xh(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},oie={sign:aie,expand:GZ,none:gu,silhouette:YZ,wiggle:KZ,positive:iie},sie=function(e,r,n){var a=r.map(function(s){return s.props.dataKey}),i=oie[n],o=VZ().keys(a).value(function(s,c){return+zn(s,c,0)}).order(N2).offset(i);return o(e)},lie=function(e,r,n,a,i,o){if(!e)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?zr(zr({},p.type.defaultProps),p.props):p.props,m=g.stackId,v=g.hide;if(v)return f;var b=g[n],w=f[b]||{hasStack:!1,stackGroups:{}};if(vn(m)){var j=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(p),w.hasStack=!0,w.stackGroups[m]=j}else w.stackGroups[wh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return zr(zr({},f),{},du({},b,w))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var b=h.stackGroups[v];return zr(zr({},m),{},du({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:sie(e,b.items,i)}))},g)}return zr(zr({},f),{},du({},p,h))},d)},kM=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=_ae(u,i,s);return e.domain([fv(d),dv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),p=jae(f,i,s);return{niceTicks:p}}return null},vO=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var c=zn(o,r.dataKey,r.domain[s]);return $t(c)?null:r.scale(c)-i/2+a},cie=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},uie=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(vn(i)){var o=r[i];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},die=function(e){return e.reduce(function(r,n){return[fv(n.concat([r[0]]).filter(Le)),dv(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},PM=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],s=o.stackedData,c=s.reduce(function(u,d){var f=die(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},yO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X2=function(e,r,n){if(jt(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Le(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(yO.test(e[0])){var i=+yO.exec(e[0])[1];a[0]=r[0]-i}else jt(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Le(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(bO.test(e[1])){var o=+bO.exec(e[1])[1];a[1]=r[1]+o}else jt(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},zm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Q_(r,function(f){return f.coordinate}),o=1/0,s=1,c=i.length;s<c;s++){var u=i[s],d=i[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},xO=function(e,r,n){return!e||!e.length||hv(e,Pa(n,"type.defaultProps.domain"))?r:e},CM=function(e,r){var n=e.type.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return zr(zr({},bt(e,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:Nj(e),value:zn(r,a),type:c,payload:r,chartType:u,hide:d})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Po(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){OM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OM(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=hie(t,"string");return Uf(e)=="symbol"?e:e+""}function hie(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pie(t,e){return yie(t)||vie(t,e)||gie(t,e)||mie()}function mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(t,e){if(t){if(typeof t=="string")return _O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function yie(t){if(Array.isArray(t))return t}var Wm=Math.PI/180,bie=function(e){return e*180/Math.PI},Nr=function(e,r,n,a){return{x:e+Math.cos(-Wm*a)*n,y:r+Math.sin(-Wm*a)*n}},EM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},xie=function(e,r,n,a,i){var o=e.width,s=e.height,c=e.startAngle,u=e.endAngle,d=Qn(e.cx,o,o/2),f=Qn(e.cy,s,s/2),p=EM(o,s,n),h=Qn(e.innerRadius,p,0),g=Qn(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(v,b){var w=r[b],j=w.domain,_=w.reversed,S;if($t(w.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[h,g]),_&&(S=[S[1],S[0]]);else{S=w.range;var k=S,A=pie(k,2);c=A[0],u=A[1]}var E=NM(w,i),I=E.realScaleType,L=E.scale;L.domain(j).range(S),AM(L);var P=kM(L,Po(Po({},w),{},{realScaleType:I})),O=Po(Po(Po({},w),P),{},{range:S,radius:g,realScaleType:I,scale:L,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return Po(Po({},v),{},OM({},b,O))},{})},wie=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},_ie=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,s=wie({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var c=(n-i)/s,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:s,angle:bie(u),angleInRadian:u}},jie=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Sie=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return e+s*360},jO=function(e,r){var n=e.x,a=e.y,i=_ie({x:n,y:a},r),o=i.radius,s=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=jie(r),f=d.startAngle,p=d.endAngle,h=s,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?Po(Po({},r),{},{radius:o,angle:Sie(h,r)}):null},TM=function(e){return!N.isValidElement(e)&&!jt(e)&&typeof e!="boolean"?e.className:""};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}var Nie=["offset"];function Aie(t){return Oie(t)||Cie(t)||Pie(t)||kie()}function kie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t,e){if(t){if(typeof t=="string")return Z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z2(t,e)}}function Cie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oie(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eie(t,e){if(t==null)return{};var r=Tie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){Iie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iie(t,e,r){return e=Lie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lie(t){var e=Rie(t,"string");return zf(e)=="symbol"?e:e+""}function Rie(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wf.apply(this,arguments)}var Mie=function(e){var r=e.value,n=e.formatter,a=$t(e.children)?r:e.children;return jt(n)?n(a):a},Die=function(e,r){var n=Jn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},$ie=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,s=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+p)/2,b=Die(h,g),w=b>=0?1:-1,j,_;a==="insideStart"?(j=h+w*o,_=m):a==="insideEnd"?(j=g-w*o,_=!m):a==="end"&&(j=g+w*o,_=m),_=b<=0?_:!_;var S=Nr(u,d,v,j),k=Nr(u,d,v,j+(_?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=$t(e.id)?wh("recharts-radial-line-"):e.id;return K.createElement("text",Wf({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",s)}),K.createElement("defs",null,K.createElement("path",{id:E,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Fie=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,s=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(a==="outside"){var h=Nr(o,s,u+n,p),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Nr(o,s,v,p),w=b.x,j=b.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Bie=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,b=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var j={x:s+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return pn(pn({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:s+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:g};return pn(pn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:s-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return pn(pn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var k={x:s+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return pn(pn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?pn({x:s+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},A):i==="insideRight"?pn({x:s+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},A):i==="insideTop"?pn({x:s+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},A):i==="insideBottom"?pn({x:s+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},A):i==="insideTopLeft"?pn({x:s+v,y:c+p,textAnchor:w,verticalAnchor:g},A):i==="insideTopRight"?pn({x:s+u-v,y:c+p,textAnchor:b,verticalAnchor:g},A):i==="insideBottomLeft"?pn({x:s+v,y:c+d-p,textAnchor:w,verticalAnchor:h},A):i==="insideBottomRight"?pn({x:s+u-v,y:c+d-p,textAnchor:b,verticalAnchor:h},A):Zu(i)&&(Le(i.x)||Nl(i.x))&&(Le(i.y)||Nl(i.y))?pn({x:s+Qn(i.x,u),y:c+Qn(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):pn({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},qie=function(e){return"cx"in e&&Le(e.cx)};function Sn(t){var e=t.offset,r=e===void 0?5:e,n=Eie(t,Nie),a=pn({offset:r},n),i=a.viewBox,o=a.position,s=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!i||$t(s)&&$t(c)&&!N.isValidElement(u)&&!jt(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var h;if(jt(u)){if(h=N.createElement(u,a),N.isValidElement(h))return h}else h=Mie(a);var g=qie(i),m=bt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $ie(a,h,m);var v=g?Fie(a):Bie(a);return K.createElement(Ul,Wf({className:It("recharts-label",f)},m,v,{breakAll:p}),h)}Sn.displayName="Label";var IM=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,s=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,m=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(Le(m)&&Le(v)){if(Le(f)&&Le(p))return{x:f,y:p,width:m,height:v};if(Le(h)&&Le(g))return{x:h,y:g,width:m,height:v}}return Le(f)&&Le(p)?{x:f,y:p,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Uie=function(e,r){return e?e===!0?K.createElement(Sn,{key:"label-implicit",viewBox:r}):vn(e)?K.createElement(Sn,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===Sn?N.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Sn,{key:"label-implicit",content:e,viewBox:r}):jt(e)?K.createElement(Sn,{key:"label-implicit",content:e,viewBox:r}):Zu(e)?K.createElement(Sn,Wf({viewBox:r},e,{key:"label-implicit"})):null:null},zie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=IM(e),o=Ha(a,Sn).map(function(c,u){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var s=Uie(e.label,r||i);return[s].concat(Aie(o))};Sn.parseViewBox=IM;Sn.renderCallByParent=zie;var V1,NO;function Wie(){if(NO)return V1;NO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return V1=t,V1}var Hie=Wie();const Vie=dr(Hie);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var Gie=["valueAccessor"],Yie=["data","dataKey","clockWise","id","textBreakAll"];function Kie(t){return Qie(t)||Jie(t)||Zie(t)||Xie()}function Xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(t,e){if(t){if(typeof t=="string")return J2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(t,e)}}function Jie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qie(t){if(Array.isArray(t))return J2(t)}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){eoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eoe(t,e,r){return e=toe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function toe(t){var e=roe(t,"string");return Hf(e)=="symbol"?e:e+""}function roe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PO(t,e){if(t==null)return{};var r=noe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function noe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aoe=function(e){return Array.isArray(e.value)?Vie(e.value):e.value};function Es(t){var e=t.valueAccessor,r=e===void 0?aoe:e,n=PO(t,Gie),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=PO(n,Yie);return!a||!a.length?null:K.createElement(ur,{className:"recharts-label-list"},a.map(function(d,f){var p=$t(i)?r(d,f):zn(d&&d.payload,i),h=$t(s)?{}:{id:"".concat(s,"-").concat(f)};return K.createElement(Sn,Hm({},bt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Sn.parseViewBox($t(o)?d:kO(kO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Es.displayName="LabelList";function ioe(t,e){return t?t===!0?K.createElement(Es,{key:"labelList-implicit",data:e}):K.isValidElement(t)||jt(t)?K.createElement(Es,{key:"labelList-implicit",data:e,content:t}):Zu(t)?K.createElement(Es,Hm({data:e},t,{key:"labelList-implicit"})):null:null}function ooe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ha(n,Es).map(function(o,s){return N.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return a;var i=ioe(t.label,e);return[i].concat(Kie(a))}Es.renderCallByParent=ooe;function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){soe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function soe(t,e,r){return e=loe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function loe(t){var e=coe(t,"string");return Vf(e)=="symbol"?e:e+""}function coe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uoe=function(e,r){var n=Jn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},qp=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,s=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(s?1:-1)+a,f=Math.asin(c/d)/Wm,p=u?i:i+o*f,h=Nr(r,n,d,p),g=Nr(r,n,a,p),m=u?i-o*f:i,v=Nr(r,n,d*Math.cos(f*Wm),m);return{center:h,circleTangency:g,lineTangency:v,theta:f}},LM=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,s=e.endAngle,c=uoe(o,s),u=o+c,d=Nr(r,n,i,o),f=Nr(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Nr(r,n,a,o),g=Nr(r,n,a,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},doe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Jn(d-u),p=qp({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,g=p.lineTangency,m=p.theta,v=qp({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,w=v.lineTangency,j=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-j;if(_<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var k=qp({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=k.circleTangency,E=k.lineTangency,I=k.theta,L=qp({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=L.circleTangency,O=L.lineTangency,D=L.theta,M=c?Math.abs(u-d):Math.abs(u-d)-I-D;if(M<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},foe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RM=function(e){var r=OO(OO({},foe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var h=It("recharts-sector",p),g=o-i,m=Qn(s,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=doe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=LM({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),K.createElement("path",Q2({},bt(r,!0),{className:h,d:v,role:"img"}))};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function e5(){return e5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e5.apply(this,arguments)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){hoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hoe(t,e,r){return e=poe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function poe(t){var e=moe(t,"string");return Gf(e)=="symbol"?e:e+""}function moe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IO={curveBasisClosed:RZ,curveBasisOpen:MZ,curveBasis:LZ,curveBumpX:xZ,curveBumpY:wZ,curveLinearClosed:DZ,curveLinear:Jg,curveMonotoneX:$Z,curveMonotoneY:FZ,curveNatural:BZ,curveStep:qZ,curveStepAfter:zZ,curveStepBefore:UZ},Up=function(e){return e.x===+e.x&&e.y===+e.y},Yd=function(e){return e.x},Kd=function(e){return e.y},goe=function(e,r){if(jt(e))return e;var n="curve".concat(Xg(e));return(n==="curveMonotone"||n==="curveBump")&&r?IO["".concat(n).concat(r==="vertical"?"Y":"X")]:IO[n]||Jg},voe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,s=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=goe(n,s),f=u?i.filter(function(m){return Up(m)}):i,p;if(Array.isArray(o)){var h=u?o.filter(function(m){return Up(m)}):o,g=f.map(function(m,v){return TO(TO({},m),{},{base:h[v]})});return s==="vertical"?p=Ip().y(Kd).x1(Yd).x0(function(m){return m.base.x}):p=Ip().x(Yd).y1(Kd).y0(function(m){return m.base.y}),p.defined(Up).curve(d),p(g)}return s==="vertical"&&Le(o)?p=Ip().y(Kd).x1(Yd).x0(o):Le(o)?p=Ip().x(Yd).y1(Kd).y0(o):p=TL().x(Yd).y(Kd),p.defined(Up).curve(d),p(f)},t5=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?voe(e):a;return N.createElement("path",e5({},bt(e,!1),bm(e),{className:It("recharts-curve",r),d:o,ref:i}))},G1={exports:{}},Y1,LO;function yoe(){if(LO)return Y1;LO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Y1=t,Y1}var K1,RO;function boe(){if(RO)return K1;RO=1;var t=yoe();function e(){}function r(){}return r.resetWarningCache=e,K1=function(){function n(o,s,c,u,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},K1}var MO;function xoe(){return MO||(MO=1,G1.exports=boe()()),G1.exports}var woe=xoe();const ar=dr(woe);var _oe=Object.getOwnPropertyNames,joe=Object.getOwnPropertySymbols,Soe=Object.prototype.hasOwnProperty;function DO(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function zp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function $O(t){return _oe(t).concat(joe(t))}var Noe=Object.hasOwn||(function(t,e){return Soe.call(t,e)});function rc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Aoe="__v",koe="__o",Poe="_owner",FO=Object.getOwnPropertyDescriptor,BO=Object.keys;function Coe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Ooe(t,e){return rc(t.getTime(),e.getTime())}function Eoe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Toe(t,e){return t===e}function qO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,s,c=0;(o=i.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(a[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],c,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Ioe=rc;function Loe(t,e,r){var n=BO(t),a=n.length;if(BO(e).length!==a)return!1;for(;a-- >0;)if(!MM(t,e,r,n[a]))return!1;return!0}function Xd(t,e,r){var n=$O(t),a=n.length;if($O(e).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!MM(t,e,r,i)||(o=FO(t,i),s=FO(e,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Roe(t,e){return rc(t.valueOf(),e.valueOf())}function Moe(t,e){return t.source===e.source&&t.flags===e.flags}function UO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,s;(o=i.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!a[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Doe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function $oe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function MM(t,e,r,n){return(n===Poe||n===koe||n===Aoe)&&(t.$$typeof||e.$$typeof)?!0:Noe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Foe="[object Arguments]",Boe="[object Boolean]",qoe="[object Date]",Uoe="[object Error]",zoe="[object Map]",Woe="[object Number]",Hoe="[object Object]",Voe="[object RegExp]",Goe="[object Set]",Yoe="[object String]",Koe="[object URL]",Xoe=Array.isArray,zO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WO=Object.assign,Zoe=Object.prototype.toString.call.bind(Object.prototype.toString);function Joe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,v):b==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return s(g,m,v);if(Xoe(g))return e(g,m,v);if(zO!=null&&zO(g))return f(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return u(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return d(g,m,v);var j=Zoe(g);return j===qoe?r(g,m,v):j===Voe?u(g,m,v):j===zoe?i(g,m,v):j===Goe?d(g,m,v):j===Hoe?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,v):j===Koe?p(g,m,v):j===Uoe?n(g,m,v):j===Foe?s(g,m,v):j===Boe||j===Woe||j===Yoe?c(g,m,v):!1}}function Qoe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Xd:Coe,areDatesEqual:Ooe,areErrorsEqual:Eoe,areFunctionsEqual:Toe,areMapsEqual:n?DO(qO,Xd):qO,areNumbersEqual:Ioe,areObjectsEqual:n?Xd:Loe,arePrimitiveWrappersEqual:Roe,areRegExpsEqual:Moe,areSetsEqual:n?DO(UO,Xd):UO,areTypedArraysEqual:n?Xd:Doe,areUrlsEqual:$oe};if(r&&(a=WO({},a,r(a))),e){var i=zp(a.areArraysEqual),o=zp(a.areMapsEqual),s=zp(a.areObjectsEqual),c=zp(a.areSetsEqual);a=WO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return a}function ese(t){return function(e,r,n,a,i,o,s){return t(e,r,s)}}function tse(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:p,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var rse=zs();zs({strict:!0});zs({circular:!0});zs({circular:!0,strict:!0});zs({createInternalComparator:function(){return rc}});zs({strict:!0,createInternalComparator:function(){return rc}});zs({circular:!0,createInternalComparator:function(){return rc}});zs({circular:!0,createInternalComparator:function(){return rc},strict:!0});function zs(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,s=Qoe(t),c=Joe(s),u=n?n(c):ese(c);return tse({circular:r,comparator:c,createState:a,equals:u,strict:o})}function nse(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function HO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):nse(a)};requestAnimationFrame(n)}function r5(t){"@babel/helpers - typeof";return r5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r5(t)}function ase(t){return lse(t)||sse(t)||ose(t)||ise()}function ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(t,e){if(t){if(typeof t=="string")return VO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VO(t,e)}}function VO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lse(t){if(Array.isArray(t))return t}function cse(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=ase(o),c=s[0],u=s.slice(1);if(typeof c=="number"){HO(a.bind(null,u),c);return}a(c),HO(a.bind(null,u));return}r5(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){DM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DM(t,e,r){return e=use(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function use(t){var e=dse(t,"string");return Yf(e)==="symbol"?e:String(e)}function dse(t,e){if(Yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fse=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},hse=function(e){return e},pse=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},mf=function(e,r){return Object.keys(r).reduce(function(n,a){return YO(YO({},n),{},DM({},a,e(a,r[a])))},{})},KO=function(e,r,n){return e.map(function(a){return"".concat(pse(a)," ").concat(r,"ms ").concat(n)}).join(",")};function mse(t,e){return yse(t)||vse(t,e)||$M(t,e)||gse()}function gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function yse(t){if(Array.isArray(t))return t}function bse(t){return _se(t)||wse(t)||$M(t)||xse()}function xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $M(t,e){if(t){if(typeof t=="string")return n5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n5(t,e)}}function wse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _se(t){if(Array.isArray(t))return n5(t)}function n5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Vm=1e-4,FM=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},BM=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},XO=function(e,r){return function(n){var a=FM(e,r);return BM(a,n)}},jse=function(e,r){return function(n){var a=FM(e,r),i=[].concat(bse(a.map(function(o,s){return o*s}).slice(1)),[0]);return BM(i,n)}},ZO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=mse(u,4);a=d[0],i=d[1],o=d[2],s=d[3]}}}var f=XO(a,o),p=XO(i,s),h=jse(a,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var w=b>1?1:b,j=w,_=0;_<8;++_){var S=f(j)-w,k=h(j);if(Math.abs(S-w)<Vm||k<Vm)return p(j);j=g(j-S/k)}return p(j)};return m.isStepper=!1,m},Sse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,s=o===void 0?17:o,c=function(d,f,p){var h=-(d-f)*n,g=p*i,m=p+(h-g)*s/1e3,v=p*s/1e3+d;return Math.abs(v-f)<Vm&&Math.abs(m)<Vm?[f,0]:[v,m]};return c.isStepper=!0,c.dt=s,c},Nse=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZO(a);case"spring":return Sse();default:if(a.split("(")[0]==="cubic-bezier")return ZO(a)}return typeof a=="function"?a:null};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function JO(t){return Pse(t)||kse(t)||qM(t)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pse(t){if(Array.isArray(t))return i5(t)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){a5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a5(t,e,r){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cse(t){var e=Ose(t,"string");return Kf(e)==="symbol"?e:String(e)}function Ose(t,e){if(Kf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ese(t,e){return Lse(t)||Ise(t,e)||qM(t,e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qM(t,e){if(t){if(typeof t=="string")return i5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i5(t,e)}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ise(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Lse(t){if(Array.isArray(t))return t}var Gm=function(e,r,n){return e+(r-e)*n},o5=function(e){var r=e.from,n=e.to;return r!==n},Rse=function t(e,r,n){var a=mf(function(i,o){if(o5(o)){var s=e(o.from,o.to,o.velocity),c=Ese(s,2),u=c[0],d=c[1];return En(En({},o),{},{from:u,velocity:d})}return o},r);return n<1?mf(function(i,o){return o5(o)?En(En({},o),{},{velocity:Gm(o.velocity,a[i].velocity,n),from:Gm(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const Mse=(function(t,e,r,n,a){var i=fse(t,e),o=i.reduce(function(v,b){return En(En({},v),{},a5({},b,[t[b],e[b]]))},{}),s=i.reduce(function(v,b){return En(En({},v),{},a5({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return mf(function(b,w){return w.from},s)},h=function(){return!Object.values(s).filter(o5).length},g=function(b){u||(u=b);var w=b-u,j=w/r.dt;s=Rse(r,s,j),a(En(En(En({},t),e),p())),u=b,h()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var w=(b-d)/n,j=mf(function(S,k){return Gm.apply(void 0,JO(k).concat([r(w)]))},o);if(a(En(En(En({},t),e),j)),w<1)c=requestAnimationFrame(f);else{var _=mf(function(S,k){return Gm.apply(void 0,JO(k).concat([r(1)]))},o);a(En(En(En({},t),e),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}var Dse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $se(t,e){if(t==null)return{};var r=Fse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fse(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function X1(t){return zse(t)||Use(t)||qse(t)||Bse()}function Bse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return s5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s5(t,e)}}function Use(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zse(t){if(Array.isArray(t))return s5(t)}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function af(t,e,r){return e=UM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UM(n.key),n)}}function Vse(t,e,r){return e&&Hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UM(t){var e=Gse(t,"string");return Nu(e)==="symbol"?e:String(e)}function Gse(t,e){if(Nu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l5(t,e)}function l5(t,e){return l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l5(t,e)}function Kse(t){var e=Xse();return function(){var n=Ym(t),a;if(e){var i=Ym(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return c5(this,a)}}function c5(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u5(t)}function u5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}var Ho=(function(t){Yse(r,t);var e=Kse(r);function r(n,a){var i;Wse(this,r),i=e.call(this,n,a);var o=i.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(u5(i)),i.changeStyle=i.changeStyle.bind(u5(i)),!s||h<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),c5(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},c5(i);i.state={style:c?af({},c,u):u}}else i.state={style:{}};return i}return Vse(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(s){if(!o){var h={style:c?af({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(rse(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&p){var v={style:c?af({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(v)}this.runAnimation(oi(oi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=Mse(o,s,Nse(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([p,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,v,b){if(b===0)return m;var w=v.duration,j=v.easing,_=j===void 0?"ease":j,S=v.style,k=v.properties,A=v.onAnimationEnd,E=b>0?o[b-1]:v,I=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(X1(m),[i.runJSAnimation.bind(i,{from:E.style,to:S,duration:w,easing:_}),w]);var L=KO(I,w,_),P=oi(oi(oi({},E.style),S),{},{transition:L});return[].concat(X1(m),[P,w,A]).filter(hse)};return this.manager.start([c].concat(X1(o.reduce(h,[d,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=cse());var i=a.begin,o=a.duration,s=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=s?af({},s,c):c,v=KO(Object.keys(m),o,u);g.start([d,i,oi(oi({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=$se(a,Dse),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!s||u===0||o<=0)return i;var f=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,b=g.className,w=N.cloneElement(h,oi(oi({},c),{},{style:oi(oi({},v),d),className:b}));return w};return u===1?f(N.Children.only(i)):K.createElement("div",null,N.Children.map(i,function(p){return f(p)}))}}]),r})(N.PureComponent);Ho.displayName="Animate";Ho.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ho.propTypes={from:ar.oneOfType([ar.object,ar.string]),to:ar.oneOfType([ar.object,ar.string]),attributeName:ar.string,duration:ar.number,begin:ar.number,easing:ar.oneOfType([ar.string,ar.func]),steps:ar.arrayOf(ar.shape({duration:ar.number.isRequired,style:ar.object.isRequired,easing:ar.oneOfType([ar.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ar.func]),properties:ar.arrayOf("string"),onAnimationEnd:ar.func})),children:ar.oneOfType([ar.node,ar.func]),isActive:ar.bool,canBegin:ar.bool,onAnimationEnd:ar.func,shouldReAnimate:ar.bool,onAnimationStart:ar.func,onAnimationReStart:ar.func};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Km.apply(this,arguments)}function Zse(t,e){return tle(t)||ele(t,e)||Qse(t,e)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qse(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ele(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function tle(t){if(Array.isArray(t))return t}function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){rle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rle(t,e,r){return e=nle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nle(t){var e=ale(t,"string");return Xf(e)=="symbol"?e:e+""}function ale(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aE=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=i[p]>o?o:i[p];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-s*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+a-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-s*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ile=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(i,i+s),d=Math.max(i,i+s),f=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=p}return!1},ole={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aj=function(e){var r=nE(nE({},ole),e),n=N.useRef(),a=N.useState(-1),i=Zse(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=It("recharts-rectangle",h);return w?K.createElement(Ho,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:w},function(_){var S=_.width,k=_.height,A=_.x,E=_.y;return K.createElement(Ho,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},K.createElement("path",Km({},bt(r,!0),{className:j,d:aE(A,E,S,k,p),ref:n})))}):K.createElement("path",Km({},bt(r,!0),{className:j,d:aE(c,u,d,f,p)}))},sle=["points","className","baseLinePoints","connectNulls"];function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jc.apply(this,arguments)}function lle(t,e){if(t==null)return{};var r=cle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iE(t){return hle(t)||fle(t)||dle(t)||ule()}function ule(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dle(t,e){if(t){if(typeof t=="string")return d5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d5(t,e)}}function fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hle(t){if(Array.isArray(t))return d5(t)}function d5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var oE=function(e){return e&&e.x===+e.x&&e.y===+e.y},ple=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){oE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),oE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gf=function(e,r){var n=ple(e);r&&(n=[n.reduce(function(i,o){return[].concat(iE(i),iE(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},mle=function(e,r,n){var a=gf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(gf(r.reverse(),n).slice(1))},gle=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=lle(e,sle);if(!r||!r.length)return null;var s=It("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=mle(r,a,i);return K.createElement("g",{className:s},K.createElement("path",Jc({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?K.createElement("path",Jc({},bt(o,!0),{fill:"none",d:gf(r,i)})):null,c?K.createElement("path",Jc({},bt(o,!0),{fill:"none",d:gf(a,i)})):null)}var d=gf(r,i);return K.createElement("path",Jc({},bt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function f5(){return f5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f5.apply(this,arguments)}var kj=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=It("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",f5({},bt(e,!1),bm(e),{className:o,cx:r,cy:n,r:a})):null};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}var vle=["x","y","top","left","width","height","className"];function h5(){return h5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h5.apply(this,arguments)}function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){ble(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ble(t,e,r){return e=xle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xle(t){var e=wle(t,"string");return Zf(e)=="symbol"?e:e+""}function wle(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _le(t,e){if(t==null)return{};var r=jle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Sle=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Nle=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,s=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,g=e.className,m=_le(e,vle),v=yle({x:n,y:i,top:s,left:u,width:f,height:h},m);return!Le(n)||!Le(i)||!Le(f)||!Le(h)||!Le(s)||!Le(u)?null:K.createElement("path",h5({},bt(v,!0),{className:It("recharts-cross",g),d:Sle(n,i,f,h,s,u)}))},Z1,lE;function Ale(){if(lE)return Z1;lE=1;var t=uv(),e=nM(),r=io();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Z1=n,Z1}var kle=Ale();const Ple=dr(kle);var J1,cE;function Cle(){if(cE)return J1;cE=1;var t=uv(),e=io(),r=aM();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return J1=n,J1}var Ole=Cle();const Ele=dr(Ole);var Tle=["cx","cy","angle","ticks","axisLine"],Ile=["ticks","tick","angle","tickFormatter","stroke"];function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function uE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(r),!0).forEach(function(n){vv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dE(t,e){if(t==null)return{};var r=Lle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WM(n.key),n)}}function Mle(t,e,r){return e&&fE(t.prototype,e),r&&fE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dle(t,e,r){return e=Xm(e),$le(t,zM()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function $le(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(t)}function Fle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zM=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Ble(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p5(t,e)}function p5(t,e){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},p5(t,e)}function vv(t,e,r){return e=WM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WM(t){var e=qle(t,"string");return Au(e)=="symbol"?e:e+""}function qle(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yv=(function(t){function e(){return Rle(this,e),Dle(this,e,arguments)}return Ble(e,t),Mle(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,s=i.cx,c=i.cy;return Nr(s,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=Ple(s,function(d){return d.coordinate||0}),u=Ele(s,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=dE(n,Tle),d=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Nr(a,i,d[0],o),p=Nr(a,i,d[1],o),h=hl(hl(hl({},bt(u,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return K.createElement("line",vf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.angle,c=a.tickFormatter,u=a.stroke,d=dE(a,Ile),f=this.getTickTextAnchor(),p=bt(d,!1),h=bt(o,!1),g=i.map(function(m,v){var b=n.getTickValueCoord(m),w=hl(hl(hl(hl({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:v},b),{},{payload:m});return K.createElement(ur,vf({className:It("recharts-polar-radius-axis-tick",TM(o)),key:"tick-".concat(m.coordinate)},ql(n.props,m,v)),e.renderTickItem(o,w,c?c(m.value,v):m.value))});return K.createElement(ur,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:K.createElement(ur,{className:It("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Sn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,a):jt(n)?o=n(a):o=K.createElement(Ul,vf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(N.PureComponent);vv(yv,"displayName","PolarRadiusAxis");vv(yv,"axisType","radiusAxis");vv(yv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(this,arguments)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VM(n.key),n)}}function zle(t,e,r){return e&&pE(t.prototype,e),r&&pE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wle(t,e,r){return e=Zm(e),Hle(t,HM()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Hle(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vle(t)}function Vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HM=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function Gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m5(t,e)}function m5(t,e){return m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m5(t,e)}function bv(t,e,r){return e=VM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VM(t){var e=Yle(t,"string");return ku(e)=="symbol"?e:e+""}function Yle(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kle=Math.PI/180,mE=1e-5,xv=(function(t){function e(){return Ule(this,e),Wle(this,e,arguments)}return Gle(e,t),zle(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,s=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Nr(i,o,s,n.coordinate),p=Nr(i,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Kle),o;return i>mE?o=a==="outer"?"start":"end":i<-mE?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=pl(pl({},bt(this.props,!1)),{},{fill:"none"},bt(s,!1));if(c==="circle")return K.createElement(kj,jl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Nr(a,i,o,p.coordinate)});return K.createElement(gle,jl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,s=a.tickLine,c=a.tickFormatter,u=a.stroke,d=bt(this.props,!1),f=bt(o,!1),p=pl(pl({},d),{},{fill:"none"},bt(s,!1)),h=i.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),w=pl(pl(pl({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return K.createElement(ur,jl({className:It("recharts-polar-angle-axis-tick",TM(o)),key:"tick-".concat(g.coordinate)},ql(n.props,g,m)),s&&K.createElement("line",jl({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&e.renderTickItem(o,w,c?c(g.value,m):g.value))});return K.createElement(ur,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:K.createElement(ur,{className:It("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,a):jt(n)?o=n(a):o=K.createElement(Ul,jl({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(N.PureComponent);bv(xv,"displayName","PolarAngleAxis");bv(xv,"axisType","angleAxis");bv(xv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Q1,gE;function Xle(){if(gE)return Q1;gE=1;var t=tR(),e=t(Object.getPrototypeOf,Object);return Q1=e,Q1}var ew,vE;function Zle(){if(vE)return ew;vE=1;var t=Yo(),e=Xle(),r=Ko(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,s=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return ew=u,ew}var Jle=Zle();const Qle=dr(Jle);var tw,yE;function ece(){if(yE)return tw;yE=1;var t=Yo(),e=Ko(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return tw=n,tw}var tce=ece();const rce=dr(tce);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jm.apply(this,arguments)}function nce(t,e){return sce(t)||oce(t,e)||ice(t,e)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return bE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(t,e)}}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function sce(t){if(Array.isArray(t))return t}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){lce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lce(t,e,r){return e=cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cce(t){var e=uce(t,"string");return Jf(e)=="symbol"?e:e+""}function uce(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _E=function(e,r,n,a,i){var o=n-a,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+i),s+="L ".concat(e+n-o/2-a,",").concat(r+i),s+="L ".concat(e,",").concat(r," Z"),s},dce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fce=function(e){var r=wE(wE({},dce),e),n=N.useRef(),a=N.useState(-1),i=nce(a,2),o=i[0],s=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var w=It("recharts-trapezoid",h);return b?K.createElement(Ho,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(j){var _=j.upperWidth,S=j.lowerWidth,k=j.height,A=j.x,E=j.y;return K.createElement(Ho,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},K.createElement("path",Jm({},bt(r,!0),{className:w,d:_E(A,E,_,S,k),ref:n})))}):K.createElement("g",null,K.createElement("path",Jm({},bt(r,!0),{className:w,d:_E(c,u,d,f,p)})))},hce=["option","shapeType","propTransformer","activeClassName","isActive"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function pce(t,e){if(t==null)return{};var r=mce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gce(t,e,r){return e=vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vce(t){var e=yce(t,"string");return Qf(e)=="symbol"?e:e+""}function yce(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bce(t,e){return Qm(Qm({},e),t)}function xce(t,e){return t==="symbols"}function SE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(Aj,r);case"trapezoid":return K.createElement(fce,r);case"sector":return K.createElement(RM,r);case"symbols":if(xce(e))return K.createElement(H_,r);break;default:return null}}function wce(t){return N.isValidElement(t)?t.props:t}function GM(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?bce:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,s=t.isActive,c=pce(t,hce),u;if(N.isValidElement(e))u=N.cloneElement(e,Qm(Qm({},c),wce(e)));else if(jt(e))u=e(c);else if(Qle(e)&&!rce(e)){var d=a(e,c);u=K.createElement(SE,{shapeType:r,elementProps:d})}else{var f=c;u=K.createElement(SE,{shapeType:r,elementProps:f})}return s?K.createElement(ur,{className:o},u):u}function wv(t,e){return e!=null&&"trapezoids"in t.props}function _v(t,e){return e!=null&&"sectors"in t.props}function eh(t,e){return e!=null&&"points"in t.props}function _ce(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function jce(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Sce(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Nce(t,e){var r;return wv(t,e)?r=_ce:_v(t,e)?r=jce:eh(t,e)&&(r=Sce),r}function Ace(t,e){var r;return wv(t,e)?r="trapezoids":_v(t,e)?r="sectors":eh(t,e)&&(r="points"),r}function kce(t,e){if(wv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_v(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return eh(t,e)?e.payload:{}}function Pce(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Ace(r,e),i=kce(r,e),o=n.filter(function(c,u){var d=hv(i,c),f=r.props[a].filter(function(g){var m=Nce(r,e);return m(g,e)}),p=r.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),s=n.indexOf(o[o.length-1]);return s}var om;function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qc.apply(this,arguments)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){Ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KM(n.key),n)}}function Oce(t,e,r){return e&&AE(t.prototype,e),r&&AE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ece(t,e,r){return e=eg(e),Tce(t,YM()?Reflect.construct(e,r||[],eg(t).constructor):e.apply(t,r))}function Tce(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(t)}function Ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(t)}function Lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g5(t,e)}function g5(t,e){return g5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g5(t,e)}function Ba(t,e,r){return e=KM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KM(t){var e=Rce(t,"string");return Pu(e)=="symbol"?e:e+""}function Rce(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zo=(function(t){function e(r){var n;return Cce(this,e),n=Ece(this,e,[r]),Ba(n,"pieRef",null),Ba(n,"sectorRefs",[]),Ba(n,"id",wh("recharts-pie-")),Ba(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jt(a)&&a()}),Ba(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lce(e,t),Oce(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,s=i.labelLine,c=i.dataKey,u=i.valueKey,d=bt(this.props,!1),f=bt(o,!1),p=bt(s,!1),h=o&&o.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,w=Nr(m.cx,m.cy,m.outerRadius+h,b),j=jr(jr(jr(jr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(w.x,m.cx)},w),_=jr(jr(jr(jr({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:v,points:[Nr(m.cx,m.cy,m.outerRadius,b),w]}),S=c;return $t(c)&&$t(u)?S="value":$t(c)&&(S=u),K.createElement(ur,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,_,"line"),e.renderLabelItem(o,j,zn(m,S)))});return K.createElement(ur,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,s=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?o:p,g=jr(jr({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return K.createElement(ur,Qc({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ql(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),K.createElement(GM,Qc({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,s=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return K.createElement(Ho,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(j,_){var S=p&&p[_],k=_>0?Pa(j,"paddingAngle",0):0;if(S){var A=ws(S.endAngle-S.startAngle,j.endAngle-j.startAngle),E=jr(jr({},j),{},{startAngle:w+k,endAngle:w+A(m)+k});v.push(E),w=E.endAngle}else{var I=j.endAngle,L=j.startAngle,P=ws(0,I-L),O=P(m),D=jr(jr({},j),{},{startAngle:w+k,endAngle:w+O+k});v.push(D),w=D.endAngle}}),K.createElement(ur,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!hv(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,s=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Le(u)||!Le(d)||!Le(f)||!Le(p))return null;var m=It("recharts-pie",s);return K.createElement(ur,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Sn.renderCallByParent(this.props,null,!1),(!h||g)&&Es.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);if(jt(n))return n(a);var o=It("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(t5,Qc({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);var o=i;if(jt(n)&&(o=n(a),K.isValidElement(o)))return o;var s=It("recharts-pie-label-text",typeof n!="boolean"&&!jt(n)?n.className:"");return K.createElement(Ul,Qc({},a,{alignmentBaseline:"middle",className:s}),o)}}])})(N.PureComponent);om=Zo;Ba(Zo,"displayName","Pie");Ba(Zo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ba(Zo,"parseDeltaAngle",function(t,e){var r=Jn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ba(Zo,"getRealPieData",function(t){var e=t.data,r=t.children,n=bt(t,!1),a=Ha(r,nv);return e&&e.length?e.map(function(i,o){return jr(jr(jr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return jr(jr({},n),i.props)}):[]});Ba(Zo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,o=EM(a,i),s=n+Qn(t.cx,a,a/2),c=r+Qn(t.cy,i,i/2),u=Qn(t.innerRadius,o,0),d=Qn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ba(Zo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?jr(jr({},e.type.defaultProps),e.props):e.props,a=om.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=om.parseCoordinateOfPie(n,r),m=om.parseDeltaAngle(o,s),v=Math.abs(m),b=u;$t(u)&&$t(f)?(yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):$t(u)&&(yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var w=a.filter(function(E){return zn(E,b,0)!==0}).length,j=(v>=360?w:w-1)*c,_=v-w*h-j,S=a.reduce(function(E,I){var L=zn(I,b,0);return E+(Le(L)?L:0)},0),k;if(S>0){var A;k=a.map(function(E,I){var L=zn(E,b,0),P=zn(E,d,I),O=(Le(L)?L:0)/S,D;I?D=A.endAngle+Jn(m)*c*(L!==0?1:0):D=o;var M=D+Jn(m)*((L!==0?h:0)+O*_),G=(D+M)/2,Y=(g.innerRadius+g.outerRadius)/2,W=[{name:P,value:L,payload:E,dataKey:b,type:p}],F=Nr(g.cx,g.cy,Y,G);return A=jr(jr(jr({percent:O,cornerRadius:i,name:P,tooltipPayload:W,midAngle:G,middleRadius:Y,tooltipPosition:F},E),g),{},{value:zn(E,b),startAngle:D,endAngle:M,payload:E,paddingAngle:Jn(m)*c}),A})}return jr(jr({},g),{},{sectors:k,data:a})});var rw,kE;function Mce(){if(kE)return rw;kE=1;var t=Math.ceil,e=Math.max;function r(n,a,i,o){for(var s=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++s]=n,n+=i;return u}return rw=r,rw}var nw,PE;function XM(){if(PE)return nw;PE=1;var t=vR(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return nw=n,nw}var aw,CE;function Dce(){if(CE)return aw;CE=1;var t=Mce(),e=rv(),r=XM();function n(a){return function(i,o,s){return s&&typeof s!="number"&&e(i,o,s)&&(o=s=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),s=s===void 0?i<o?1:-1:r(s),t(i,o,s,a)}}return aw=n,aw}var iw,OE;function $ce(){if(OE)return iw;OE=1;var t=Dce(),e=t();return iw=e,iw}var Fce=$ce();const tg=dr(Fce);function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function EE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(r),!0).forEach(function(n){ZM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZM(t,e,r){return e=Bce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bce(t){var e=qce(t,"string");return th(e)=="symbol"?e:e+""}function qce(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uce=["Webkit","Moz","O","ms"],zce=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Uce.reduce(function(i,o){return TE(TE({},i),{},ZM({},o+n,r))},{});return a[e]=r,a};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rg.apply(this,arguments)}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ow(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){_a(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QM(n.key),n)}}function Hce(t,e,r){return e&&LE(t.prototype,e),r&&LE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vce(t,e,r){return e=ng(e),Gce(t,JM()?Reflect.construct(e,r||[],ng(t).constructor):e.apply(t,r))}function Gce(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yce(t)}function Yce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(t)}function Kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v5(t,e)}function v5(t,e){return v5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v5(t,e)}function _a(t,e,r){return e=QM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QM(t){var e=Xce(t,"string");return Cu(e)=="symbol"?e:e+""}function Xce(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zce=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=hf().domain(tg(0,c)).range([i,i+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},RE=function(e){return e.changedTouches&&!!e.changedTouches.length},Ou=(function(t){function e(r){var n;return Wce(this,e),n=Vce(this,e,[r]),_a(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),_a(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),_a(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),_a(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),_a(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),_a(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),_a(n,"handleSlideDragStart",function(a){var i=RE(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Kce(e,t),Hce(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(a,i),p=Math.max(a,i),h=e.getIndexInRange(o,f),g=e.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,c=zn(i[n],s,n);return jt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-s,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==p||v.endIndex!==h)&&g&&g(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=RE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+p-h-u):w<0&&(w=Math.max(w,f-u)),b[o]=u+w;var j=this.getIndex(b),_=j.startIndex,S=j.endIndex,k=function(){var E=v.length-1;return o==="startX"&&(s>c?_%m===0:S%m===0)||s<c&&S===E||o==="endX"&&(s>c?S%m===0:_%m===0)||s>c&&S===E};this.setState(_a(_a({},o,u+w),"brushMoveStartX",n.pageX),function(){g&&k()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(_a({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?K.cloneElement(f,{x:a,y:i,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),w=ow(ow({},bt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),j=h||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return K.createElement(ur,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return K.createElement(ur,{className:"recharts-brush-texts"},K.createElement(Ul,rg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},g),this.getTextOfTick(a)),K.createElement(Ul,rg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+s/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,m=p.isTextActive,v=p.isSlideMoving,b=p.isTravellerMoving,w=p.isTravellerFocused;if(!a||!a.length||!Le(s)||!Le(c)||!Le(u)||!Le(d)||u<=0||d<=0)return null;var j=It("recharts-brush",i),_=K.Children.count(o)===1,S=zce("userSelect","none");return K.createElement(ur,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(i+s/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:o,height:s,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return K.isValidElement(n)?i=K.cloneElement(n,a):jt(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return ow({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},i&&i.length?Zce({data:i,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([s,s+o-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>a?s=c:o=c}return a>=n[s]?s:o}}])})(N.PureComponent);_a(Ou,"displayName","Brush");_a(Ou,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sw,ME;function Jce(){if(ME)return sw;ME=1;var t=J_();function e(r,n){var a;return t(r,function(i,o,s){return a=n(i,o,s),!a}),!!a}return sw=e,sw}var lw,DE;function Qce(){if(DE)return lw;DE=1;var t=YL(),e=io(),r=Jce(),n=fa(),a=rv();function i(o,s,c){var u=n(o)?t:r;return c&&a(o,s,c)&&(s=void 0),u(o,e(s,3))}return lw=i,lw}var eue=Qce();const tue=dr(eue);var Ki=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},cw,$E;function rue(){if($E)return cw;$E=1;var t=fR();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return cw=e,cw}var uw,FE;function nue(){if(FE)return uw;FE=1;var t=rue(),e=uR(),r=io();function n(a,i){var o={};return i=r(i,3),e(a,function(s,c,u){t(o,c,i(s,c,u))}),o}return uw=n,uw}var aue=nue();const iue=dr(aue);var dw,BE;function oue(){if(BE)return dw;BE=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return dw=t,dw}var fw,qE;function sue(){if(qE)return fw;qE=1;var t=J_();function e(r,n){var a=!0;return t(r,function(i,o,s){return a=!!n(i,o,s),a}),a}return fw=e,fw}var hw,UE;function lue(){if(UE)return hw;UE=1;var t=oue(),e=sue(),r=io(),n=fa(),a=rv();function i(o,s,c){var u=n(o)?t:e;return c&&a(o,s,c)&&(s=void 0),u(o,r(s,3))}return hw=i,hw}var cue=lue();const eD=dr(cue);var uue=["x","y"];function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function y5(){return y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y5.apply(this,arguments)}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){due(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function due(t,e,r){return e=fue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fue(t){var e=hue(t,"string");return rh(e)=="symbol"?e:e+""}function hue(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){if(t==null)return{};var r=mue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gue(t,e){var r=t.x,n=t.y,a=pue(t,uue),i="".concat(r),o=parseInt(i,10),s="".concat(n),c=parseInt(s,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),p=parseInt(f,10);return Zd(Zd(Zd(Zd(Zd({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function WE(t){return K.createElement(GM,y5({shapeType:"rectangle",propTransformer:gue,activeClassName:"recharts-active-bar"},t))}var vue=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Le(n)||UX(n);return i?e(n,a):(i||Wl(),r)}},yue=["value","background"],tD;function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function bue(t,e){if(t==null)return{};var r=xue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ag.apply(this,arguments)}function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){Cs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function _ue(t,e,r){return e&&VE(t.prototype,e),r&&VE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jue(t,e,r){return e=ig(e),Sue(t,rD()?Reflect.construct(e,r||[],ig(t).constructor):e.apply(t,r))}function Sue(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nue(t)}function Nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(t)}function Aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b5(t,e)}function b5(t,e){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b5(t,e)}function Cs(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=kue(t,"string");return Eu(e)=="symbol"?e:e+""}function kue(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=(function(t){function e(){var r;wue(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=jue(this,e,[].concat(a)),Cs(r,"state",{isAnimationFinished:!1}),Cs(r,"id",wh("recharts-bar-")),Cs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Cs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Aue(e,t),_ue(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,c=i.activeIndex,u=i.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,p){var h=p===c,g=h?u:o,m=an(an(an({},d),f),{},{isActive:h,option:g,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(ur,ag({className:"recharts-bar-rectangle"},ql(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),K.createElement(WE,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return K.createElement(Ho,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=i.map(function(v,b){var w=p&&p[b];if(w){var j=ws(w.x,v.x),_=ws(w.y,v.y),S=ws(w.width,v.width),k=ws(w.height,v.height);return an(an({},v),{},{x:j(g),y:_(g),width:S(g),height:k(g)})}if(o==="horizontal"){var A=ws(0,v.height),E=A(g);return an(an({},v),{},{y:v.y+v.height-E,height:E})}var I=ws(0,v.width),L=I(g);return an(an({},v),{},{width:L})});return K.createElement(ur,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!hv(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,c=bt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=bue(u,yue);if(!f)return null;var h=an(an(an(an(an({},p),{},{fill:"#eee"},f),c),ql(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(WE,ag({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ha(d,gv);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:zn(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(ur,g,f.map(function(m){return K.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=It("recharts-bar",o),w=s&&s.allowDataOverflow,j=c&&c.allowDataOverflow,_=w||j,S=$t(m)?this.id:m;return K.createElement(ur,{className:b},w||j?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(S)},K.createElement("rect",{x:w?u:u-f/2,y:j?d:d-p/2,width:w?f:f*2,height:j?p:p*2}))):null,K.createElement(ur,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!h||v)&&Es.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(N.PureComponent);tD=nc;Cs(nc,"displayName","Bar");Cs(nc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cs(nc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=rie(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?an(an({},m),r.props):r.props,b=v.dataKey,w=v.children,j=v.minPointSize,_=g==="horizontal"?o:i,S=u?_.scale.domain():null,k=cie({numericAxis:_}),A=Ha(w,nv),E=f.map(function(I,L){var P,O,D,M,G,Y;u?P=nie(u[d+L],S):(P=zn(I,b),Array.isArray(P)||(P=[k,P]));var W=vue(j,tD.defaultProps.minPointSize)(P[1],L);if(g==="horizontal"){var F,ae=[o.scale(P[0]),o.scale(P[1])],re=ae[0],oe=ae[1];O=vO({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:I,index:L}),D=(F=oe??re)!==null&&F!==void 0?F:void 0,M=h.size;var $=re-oe;if(G=Number.isNaN($)?0:$,Y={x:O,y:o.y,width:M,height:o.height},Math.abs(W)>0&&Math.abs(G)<Math.abs(W)){var U=Jn(G||W)*(Math.abs(W)-Math.abs(G));D-=U,G+=U}}else{var z=[i.scale(P[0]),i.scale(P[1])],J=z[0],le=z[1];if(O=J,D=vO({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:I,index:L}),M=le-J,G=h.size,Y={x:i.x,y:D,width:i.width,height:G},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var se=Jn(M||W)*(Math.abs(W)-Math.abs(M));M+=se}}return an(an(an({},I),{},{x:O,y:D,width:M,height:G,value:u?P:P[1],payload:I,background:Y},A&&A[L]&&A[L].props),{},{tooltipPayload:[CM(r,I)],tooltipPosition:{x:O+M/2,y:D+G/2}})});return an({data:E,layout:g},p)});function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aD(n.key),n)}}function Cue(t,e,r){return e&&GE(t.prototype,e),r&&GE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(r),!0).forEach(function(n){jv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jv(t,e,r){return e=aD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aD(t){var e=Oue(t,"string");return nh(e)=="symbol"?e:e+""}function Oue(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=function(e,r,n,a,i){var o=e.width,s=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!ja(u,nc);return d.reduce(function(h,g){var m=r[g],v=m.orientation,b=m.domain,w=m.padding,j=w===void 0?{}:w,_=m.mirror,S=m.reversed,k="".concat(v).concat(_?"Mirror":""),A,E,I,L,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=b[1]-b[0],D=1/0,M=m.categoricalDomain.sort(HX);if(M.forEach(function(z,J){J>0&&(D=Math.min((z||0)-(M[J-1]||0),D))}),Number.isFinite(D)){var G=D/O,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(A=G*Y/2),m.padding==="no-gap"){var W=Qn(e.barCategoryGap,G*Y),F=G*Y/2;A=F-W-(F-W)/Y*W}}}a==="xAxis"?E=[n.left+(j.left||0)+(A||0),n.left+n.width-(j.right||0)-(A||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(A||0),n.top+n.height-(j.bottom||0)-(A||0)]:E=m.range,S&&(E=[E[1],E[0]]);var ae=NM(m,i,p),re=ae.scale,oe=ae.realScaleType;re.domain(b).range(E),AM(re);var $=kM(re,pi(pi({},m),{},{realScaleType:oe}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,I=n.left,L=f[k]-P*m.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,I=f[k]-P*m.width,L=n.top);var U=pi(pi(pi({},m),$),{},{realScaleType:oe,x:I,y:L,scale:re,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return U.bandSize=zm(U,$),!m.hide&&a==="xAxis"?f[k]+=(P?-1:1)*U.height:m.hide||(f[k]+=(P?-1:1)*U.width),pi(pi({},h),{},jv({},g,U))},{})},iD=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},Tue=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return iD({x:r,y:n},{x:a,y:i})},oD=(function(){function t(e){Pue(this,t),this.scale=e}return Cue(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();jv(oD,"EPS",1e-4);var Pj=function(e){var r=Object.keys(e).reduce(function(n,a){return pi(pi({},n),{},jv({},a,oD.create(e[a])))},{});return pi(pi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return iue(a,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(a){return eD(a,function(i,o){return r[o].isInRange(i)})}})};function Iue(t){return(t%180+180)%180}var Lue=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Iue(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},pw,KE;function Rue(){if(KE)return pw;KE=1;var t=io(),e=_h(),r=ev();function n(a){return function(i,o,s){var c=Object(i);if(!e(i)){var u=t(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,s);return d>-1?c[u?i[d]:d]:void 0}}return pw=n,pw}var mw,XE;function Mue(){if(XE)return mw;XE=1;var t=XM();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return mw=e,mw}var gw,ZE;function Due(){if(ZE)return gw;ZE=1;var t=iR(),e=io(),r=Mue(),n=Math.max;function a(i,o,s){var c=i==null?0:i.length;if(!c)return-1;var u=s==null?0:r(s);return u<0&&(u=n(c+u,0)),t(i,e(o,3),u)}return gw=a,gw}var vw,JE;function $ue(){if(JE)return vw;JE=1;var t=Rue(),e=Due(),r=t(e);return vw=r,vw}var Fue=$ue();const Bue=dr(Fue);var que=wL();const Uue=dr(que);var zue=Uue(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Cj=N.createContext(void 0),Oj=N.createContext(void 0),sD=N.createContext(void 0),lD=N.createContext({}),cD=N.createContext(void 0),uD=N.createContext(0),dD=N.createContext(0),QE=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,s=e.children,c=e.width,u=e.height,d=zue(i);return K.createElement(Cj.Provider,{value:n},K.createElement(Oj.Provider,{value:a},K.createElement(lD.Provider,{value:i},K.createElement(sD.Provider,{value:d},K.createElement(cD.Provider,{value:o},K.createElement(uD.Provider,{value:u},K.createElement(dD.Provider,{value:c},s)))))))},Wue=function(){return N.useContext(cD)},fD=function(e){var r=N.useContext(Cj);r==null&&Wl();var n=r[e];return n==null&&Wl(),n},Hue=function(){var e=N.useContext(Cj);return Ns(e)},Vue=function(){var e=N.useContext(Oj),r=Bue(e,function(n){return eD(n.domain,Number.isFinite)});return r||Ns(e)},hD=function(e){var r=N.useContext(Oj);r==null&&Wl();var n=r[e];return n==null&&Wl(),n},Gue=function(){var e=N.useContext(sD);return e},Yue=function(){return N.useContext(lD)},Ej=function(){return N.useContext(dD)},Tj=function(){return N.useContext(uD)};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mD(n.key),n)}}function Zue(t,e,r){return e&&Xue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jue(t,e,r){return e=og(e),Que(t,pD()?Reflect.construct(e,r||[],og(t).constructor):e.apply(t,r))}function Que(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ede(t)}function ede(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(t)}function tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x5(t,e)}function x5(t,e){return x5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x5(t,e)}function e6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function t6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(r),!0).forEach(function(n){Ij(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ij(t,e,r){return e=mD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mD(t){var e=rde(t,"string");return Tu(e)=="symbol"?e:e+""}function rde(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nde(t,e){return sde(t)||ode(t,e)||ide(t,e)||ade()}function ade(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ide(t,e){if(t){if(typeof t=="string")return r6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(t,e)}}function r6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ode(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function sde(t){if(Array.isArray(t))return t}function w5(){return w5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w5.apply(this,arguments)}var lde=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):jt(e)?n=e(r):n=K.createElement("line",w5({},r,{className:"recharts-reference-line-line"})),n},cde=function(e,r,n,a,i,o,s,c,u){var d=i.x,f=i.y,p=i.width,h=i.height;if(n){var g=u.y,m=e.y.apply(g,{position:o});if(Ki(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+p,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var b=u.x,w=e.x.apply(b,{position:o});if(Ki(u,"discard")&&!e.x.isInRange(w))return null;var j=[{x:w,y:f+h},{x:w,y:f}];return s==="top"?j.reverse():j}if(a){var _=u.segment,S=_.map(function(k){return e.apply(k,{position:o})});return Ki(u,"discard")&&tue(S,function(k){return!e.isInRange(k)})?null:S}return null};function ude(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,s=t.className,c=t.alwaysShow,u=Wue(),d=fD(a),f=hD(i),p=Gue();if(!u||!p)return null;yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Pj({x:d.scale,y:f.scale}),g=vn(e),m=vn(r),v=n&&n.length===2,b=cde(h,g,m,v,p,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=nde(b,2),j=w[0],_=j.x,S=j.y,k=w[1],A=k.x,E=k.y,I=Ki(t,"hidden")?"url(#".concat(u,")"):void 0,L=t6(t6({clipPath:I},bt(t,!0)),{},{x1:_,y1:S,x2:A,y2:E});return K.createElement(ur,{className:It("recharts-reference-line",s)},lde(o,L),Sn.renderCallByParent(t,Tue({x1:_,y1:S,x2:A,y2:E})))}var Lj=(function(t){function e(){return Kue(this,e),Jue(this,e,arguments)}return tde(e,t),Zue(e,[{key:"render",value:function(){return K.createElement(ude,this.props)}}])})(K.Component);Ij(Lj,"displayName","ReferenceLine");Ij(Lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _5(){return _5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_5.apply(this,arguments)}function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){Sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vD(n.key),n)}}function hde(t,e,r){return e&&fde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pde(t,e,r){return e=sg(e),mde(t,gD()?Reflect.construct(e,r||[],sg(t).constructor):e.apply(t,r))}function mde(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(t)}function gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(t)}function vde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j5(t,e)}function j5(t,e){return j5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j5(t,e)}function Sv(t,e,r){return e=vD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vD(t){var e=yde(t,"string");return Iu(e)=="symbol"?e:e+""}function yde(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bde=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=Pj({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Ki(e,"discard")&&!o.isInRange(s)?null:s},Nv=(function(t){function e(){return dde(this,e),pde(this,e,arguments)}return vde(e,t),hde(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=vn(a),d=vn(i);if(yi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=bde(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,m=g.shape,v=g.className,b=Ki(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=a6(a6({clipPath:b},bt(this.props,!0)),{},{cx:p,cy:h});return K.createElement(ur,{className:It("recharts-reference-dot",v)},e.renderDot(m,w),Sn.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])})(K.Component);Sv(Nv,"displayName","ReferenceDot");Sv(Nv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Sv(Nv,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):jt(t)?r=t(e):r=K.createElement(kj,_5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function S5(){return S5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S5.apply(this,arguments)}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function i6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function o6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(r),!0).forEach(function(n){Av(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bD(n.key),n)}}function _de(t,e,r){return e&&wde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jde(t,e,r){return e=lg(e),Sde(t,yD()?Reflect.construct(e,r||[],lg(t).constructor):e.apply(t,r))}function Sde(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nde(t)}function Nde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}function Ade(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N5(t,e)}function N5(t,e){return N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N5(t,e)}function Av(t,e,r){return e=bD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bD(t){var e=kde(t,"string");return Lu(e)=="symbol"?e:e+""}function kde(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pde=function(e,r,n,a,i){var o=i.x1,s=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=Pj({x:d.scale,y:f.scale}),h={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Ki(i,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:iD(h,g)},kv=(function(t){function e(){return xde(this,e),jde(this,e,arguments)}return Ade(e,t),_de(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;yi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vn(a),p=vn(i),h=vn(o),g=vn(s),m=this.props.shape;if(!f&&!p&&!h&&!g&&!m)return null;var v=Pde(f,p,h,g,this.props);if(!v&&!m)return null;var b=Ki(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(ur,{className:It("recharts-reference-area",c)},e.renderRect(m,o6(o6({clipPath:b},bt(this.props,!0)),v)),Sn.renderCallByParent(this.props,v))}}])})(K.Component);Av(kv,"displayName","ReferenceArea");Av(kv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Av(kv,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):jt(t)?r=t(e):r=K.createElement(Aj,S5({},e,{className:"recharts-reference-area-rect"})),r});function xD(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Cde(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Lue(n,r)}function Ode(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,s=t.height;return e===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function cg(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Ede(t,e){return xD(t,e+1)}function Tde(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,s=e.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:xD(n,u)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,j=c===0||cg(t,w,b,d,s);j||(c=0,d=o,u+=1),j&&(d=w+t*(b()/2+a),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){Ide(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ide(t,e,r){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lde(t){var e=Rde(t,"string");return ah(e)=="symbol"?e:e+""}function Rde(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mde(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=e.start,c=e.end,u=function(p){var h=i[p],g,m=function(){return g===void 0&&(g=r(h,p)),g};if(p===o-1){var v=t*(h.coordinate+t*m()/2-c);i[p]=h=$n($n({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else i[p]=h=$n($n({},h),{},{tickCoord:h.coordinate});var b=cg(t,h.tickCoord,m,s,c);b&&(c=h.tickCoord-t*(m()/2+a),i[p]=$n($n({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Dde(t,e,r,n,a,i){var o=(n||[]).slice(),s=o.length,c=e.start,u=e.end;if(i){var d=n[s-1],f=r(d,s-1),p=t*(d.coordinate+t*f/2-u);o[s-1]=d=$n($n({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=cg(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),o[s-1]=$n($n({},d),{},{isShow:!0}))}for(var g=i?s-1:s,m=function(w){var j=o[w],_,S=function(){return _===void 0&&(_=r(j,w)),_};if(w===0){var k=t*(j.coordinate-t*S()/2-c);o[w]=j=$n($n({},j),{},{tickCoord:k<0?j.coordinate-k*t:j.coordinate})}else o[w]=j=$n($n({},j),{},{tickCoord:j.coordinate});var A=cg(t,j.tickCoord,S,c,u);A&&(c=j.tickCoord+t*(S()/2+a),o[w]=$n($n({},j),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function Rj(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,s=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Le(c)||Qu.isSsr)return Ede(a,typeof c=="number"&&Le(c)?c:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",g=d&&h==="width"?ff(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(j,_){var S=jt(u)?u(j.value,_):j.value;return h==="width"?Cde(ff(S,{fontSize:e,letterSpacing:r}),g,f):ff(S,{fontSize:e,letterSpacing:r})[h]},v=a.length>=2?Jn(a[1].coordinate-a[0].coordinate):1,b=Ode(i,v,h);return c==="equidistantPreserveStart"?Tde(v,b,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Dde(v,b,m,a,o,c==="preserveStartEnd"):p=Mde(v,b,m,a,o),p.filter(function(w){return w.isShow}))}var $de=["viewBox"],Fde=["viewBox"],Bde=["ticks"];function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){Mj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yw(t,e){if(t==null)return{};var r=qde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_D(n.key),n)}}function zde(t,e,r){return e&&c6(t.prototype,e),r&&c6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wde(t,e,r){return e=ug(e),Hde(t,wD()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function Hde(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vde(t)}function Vde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function Gde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A5(t,e)}function A5(t,e){return A5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A5(t,e)}function Mj(t,e,r){return e=_D(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _D(t){var e=Yde(t,"string");return Ru(e)=="symbol"?e:e+""}function Yde(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nd=(function(t){function e(r){var n;return Ude(this,e),n=Wde(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Gde(e,t),zde(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=yw(n,$de),s=this.props,c=s.viewBox,u=yw(s,Fde);return!lu(i,c)||!lu(o,u)||!lu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,g,m,v,b,w,j=f?-1:1,_=n.tickSize||d,S=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,v=o+ +!f*c,m=v-j*_,w=m-j*p,b=S;break;case"left":m=v=n.coordinate,g=i+ +!f*s,h=g-j*_,b=h-j*p,w=S;break;case"right":m=v=n.coordinate,g=i+ +f*s,h=g+j*_,b=h+j*p,w=S;break;default:h=g=n.coordinate,v=o+ +f*c,m=v+j*_,w=m+j*p,b=S;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=hn(hn(hn({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=hn(hn({},f),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=hn(hn({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+s})}return K.createElement("line",eu({},f,{className:It("recharts-cartesian-axis-line",Pa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,h=Rj(hn(hn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=bt(this.props,!1),b=bt(d,!1),w=hn(hn({},v),{},{fill:"none"},bt(c,!1)),j=h.map(function(_,S){var k=o.getTickLineCoord(_),A=k.line,E=k.tick,I=hn(hn(hn(hn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),E),{},{index:S,payload:_,visibleTicksCount:h.length,tickFormatter:f});return K.createElement(ur,eu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ql(o.props,_,S)),c&&K.createElement("line",eu({},w,A,{className:It("recharts-cartesian-axis-tick-line",Pa(c,"className"))})),d&&e.renderTickItem(d,I,"".concat(jt(f)?f(_.value,S):_.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=yw(f,Bde),g=p;return jt(c)&&(g=p&&p.length>0?c(this.props):c(h)),o<=0||s<=0||!g||!g.length?null:K.createElement(ur,{className:It("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=It(a.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?o=K.cloneElement(n,hn(hn({},a),{},{className:s})):jt(n)?o=n(hn(hn({},a),{},{className:s})):o=K.createElement(Ul,eu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(N.Component);Mj(nd,"displayName","CartesianAxis");Mj(nd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Kde=["x1","y1","x2","y2","key"],Xde=["offset"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function u6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(r),!0).forEach(function(n){Zde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zde(t,e,r){return e=Jde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jde(t){var e=Qde(t,"string");return Hl(e)=="symbol"?e:e+""}function Qde(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pl.apply(this,arguments)}function d6(t,e){if(t==null)return{};var r=efe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function efe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tfe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,c=e.ry;return K.createElement("rect",{x:a,y:i,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function jD(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(jt(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,s=e.key,c=d6(e,Kde),u=bt(c,!1);u.offset;var d=d6(u,Xde);r=K.createElement("line",Pl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function rfe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=qn(qn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(c),index:c});return jD(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function nfe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var u=qn(qn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(c),index:c});return jD(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function afe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,s=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?a+o-p:d[h+1]-p;if(m<=0)return null;var v=h%e.length;return K.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ife(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,s=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?i+s-p:d[h+1]-p;if(m<=0)return null;var v=h%n.length;return K.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ofe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return SM(Rj(qn(qn(qn({},nd.defaultProps),n),{},{ticks:Io(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},sfe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return SM(Rj(qn(qn(qn({},nd.defaultProps),n),{},{ticks:Io(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Bc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function SD(t){var e,r,n,a,i,o,s=Ej(),c=Tj(),u=Yue(),d=qn(qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Bc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Bc.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Bc.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Bc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bc.verticalFill,x:Le(t.x)?t.x:u.left,y:Le(t.y)?t.y:u.top,width:Le(t.width)?t.width:u.width,height:Le(t.height)?t.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,w=Hue(),j=Vue();if(!Le(h)||h<=0||!Le(g)||g<=0||!Le(f)||f!==+f||!Le(p)||p!==+p)return null;var _=d.verticalCoordinatesGenerator||ofe,S=d.horizontalCoordinatesGenerator||sfe,k=d.horizontalPoints,A=d.verticalPoints;if((!k||!k.length)&&jt(S)){var E=v&&v.length,I=S({yAxis:j?qn(qn({},j),{},{ticks:E?v:j.ticks}):void 0,width:s,height:c,offset:u},E?!0:m);yi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hl(I),"]")),Array.isArray(I)&&(k=I)}if((!A||!A.length)&&jt(_)){var L=b&&b.length,P=_({xAxis:w?qn(qn({},w),{},{ticks:L?b:w.ticks}):void 0,width:s,height:c,offset:u},L?!0:m);yi(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hl(P),"]")),Array.isArray(P)&&(A=P)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(tfe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(rfe,Pl({},d,{offset:u,horizontalPoints:k,xAxis:w,yAxis:j})),K.createElement(nfe,Pl({},d,{offset:u,verticalPoints:A,xAxis:w,yAxis:j})),K.createElement(afe,Pl({},d,{horizontalPoints:k})),K.createElement(ife,Pl({},d,{verticalPoints:A})))}SD.displayName="CartesianGrid";function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function lfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kD(n.key),n)}}function ufe(t,e,r){return e&&cfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dfe(t,e,r){return e=dg(e),ffe(t,ND()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function ffe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hfe(t)}function hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function pfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k5(t,e)}function k5(t,e){return k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k5(t,e)}function AD(t,e,r){return e=kD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kD(t){var e=mfe(t,"string");return Mu(e)=="symbol"?e:e+""}function mfe(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P5(){return P5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P5.apply(this,arguments)}function gfe(t){var e=t.xAxisId,r=Ej(),n=Tj(),a=fD(e);return a==null?null:N.createElement(nd,P5({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Io(o,!0)}}))}var Pv=(function(t){function e(){return lfe(this,e),dfe(this,e,arguments)}return pfe(e,t),ufe(e,[{key:"render",value:function(){return N.createElement(gfe,this.props)}}])})(N.Component);AD(Pv,"displayName","XAxis");AD(Pv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OD(n.key),n)}}function bfe(t,e,r){return e&&yfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xfe(t,e,r){return e=fg(e),wfe(t,PD()?Reflect.construct(e,r||[],fg(t).constructor):e.apply(t,r))}function wfe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _fe(t)}function _fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(t)}function jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C5(t,e)}function C5(t,e){return C5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C5(t,e)}function CD(t,e,r){return e=OD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OD(t){var e=Sfe(t,"string");return Du(e)=="symbol"?e:e+""}function Sfe(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function O5(){return O5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O5.apply(this,arguments)}var Nfe=function(e){var r=e.yAxisId,n=Ej(),a=Tj(),i=hD(r);return i==null?null:N.createElement(nd,O5({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return Io(s,!0)}}))},Cv=(function(t){function e(){return vfe(this,e),xfe(this,e,arguments)}return jfe(e,t),bfe(e,[{key:"render",value:function(){return N.createElement(Nfe,this.props)}}])})(N.Component);CD(Cv,"displayName","YAxis");CD(Cv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function f6(t){return Cfe(t)||Pfe(t)||kfe(t)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(t,e){if(t){if(typeof t=="string")return E5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E5(t,e)}}function Pfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cfe(t){if(Array.isArray(t))return E5(t)}function E5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T5=function(e,r,n,a,i){var o=Ha(e,Lj),s=Ha(e,Nv),c=[].concat(f6(o),f6(s)),u=Ha(e,kv),d="".concat(a,"Id"),f=a[0],p=r;if(c.length&&(p=c.reduce(function(m,v){if(v.props[d]===n&&Ki(v.props,"extendDomain")&&Le(v.props[f])){var b=v.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(m,v){if(v.props[d]===n&&Ki(v.props,"extendDomain")&&Le(v.props[h])&&Le(v.props[g])){var b=v.props[h],w=v.props[g];return[Math.min(m[0],b,w),Math.max(m[1],b,w)]}return m},p)}return i&&i.length&&(p=i.reduce(function(m,v){return Le(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},p)),p},bw={exports:{}},h6;function Ofe(){return h6||(h6=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,h,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,w,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,h),!0;case 6:return v.fn.call(v.context,d,f,p,h,g),!0}for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];v.fn.apply(v.context,w)}else{var _=v.length,S;for(j=0;j<_;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),b){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,p);break;default:if(!w)for(S=1,w=new Array(b-1);S<b;S++)w[S-1]=arguments[S];v[j].fn.apply(v[j].context,w)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==d||p&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(bw)),bw.exports}var Efe=Ofe();const Tfe=dr(Efe);var xw=new Tfe,ww="recharts.syncMouseEvents";function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function Ife(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ED(n.key),n)}}function Rfe(t,e,r){return e&&Lfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _w(t,e,r){return e=ED(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ED(t){var e=Mfe(t,"string");return ih(e)=="symbol"?e:e+""}function Mfe(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dfe=(function(){function t(){Ife(this,t),_w(this,"activeIndex",0),_w(this,"coordinateList",[]),_w(this,"layout","horizontal")}return Rfe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function $fe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Le(n)&&Le(a))return!0}return!1}function Ffe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function TD(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Nr(e,r,n,a),s=Nr(e,r,n,i);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Bfe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=Nr(s,c,u,f),h=Nr(s,c,d,f);n=p.x,a=p.y,i=h.x,o=h.y}else return TD(e);return[{x:n,y:a},{x:i,y:o}]}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function p6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(r),!0).forEach(function(n){qfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qfe(t,e,r){return e=Ufe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ufe(t){var e=zfe(t,"string");return oh(e)=="symbol"?e:e+""}function zfe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wfe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,s=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var g,m=t5;if(p==="ScatterChart")g=o,m=Nle;else if(p==="BarChart")g=Ffe(f,o,c,d),m=Aj;else if(f==="radial"){var v=TD(o),b=v.cx,w=v.cy,j=v.radius,_=v.startAngle,S=v.endAngle;g={cx:b,cy:w,startAngle:_,endAngle:S,innerRadius:j,outerRadius:j},m=RM}else g={points:Bfe(f,o,c)},m=t5;var k=Wp(Wp(Wp(Wp({stroke:"#ccc",pointerEvents:"none"},c),g),bt(h,!1)),{},{payload:s,payloadIndex:u,className:It("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,k):N.createElement(m,k)}var Hfe=["item"],Vfe=["children","className","width","height","style","compact","title","desc"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(this,arguments)}function m6(t,e){return Kfe(t)||Yfe(t,e)||LD(t,e)||Gfe()}function Gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function Kfe(t){if(Array.isArray(t))return t}function g6(t,e){if(t==null)return{};var r=Xfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RD(n.key),n)}}function Qfe(t,e,r){return e&&Jfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ehe(t,e,r){return e=hg(e),the(t,ID()?Reflect.construct(e,r||[],hg(t).constructor):e.apply(t,r))}function the(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(t)}function rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ID(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(t)}function nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I5(t,e)}function I5(t,e){return I5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I5(t,e)}function Fu(t){return ohe(t)||ihe(t)||LD(t)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(t,e){if(t){if(typeof t=="string")return L5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L5(t,e)}}function ihe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ohe(t){if(Array.isArray(t))return L5(t)}function L5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pt(t,e,r){return e=RD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RD(t){var e=she(t,"string");return $u(e)=="symbol"?e:e+""}function she(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lhe={xAxis:["bottom","top"],yAxis:["left","right"]},che={width:"100%",height:"100%"},MD={x:0,y:0};function Hp(t){return t}var uhe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},dhe=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,s=a.radius;return je(je(je({},a),Nr(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var c=i.coordinate,u=a.angle;return je(je(je({},a),Nr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return MD},Ov=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(Fu(s),Fu(u)):s},[]);return o.length>0?o:e&&e.length&&Le(a)&&Le(i)?e.slice(a,i+1):[]};function DD(t){return t==="number"?[0,"auto"]:void 0}var R5=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,s=Ov(r,e);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=g2(h,o.dataKey,a)}else p=f&&f[n]||s[n];return p?[].concat(Fu(c),[CM(u,p)]):c},[])},y6=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=uhe(i,n),s=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Xae(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=R5(e,r,d,f),h=dhe(n,s,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},fhe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=jM(d,i);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?je(je({},m.type.defaultProps),m.props):m.props,w=b.type,j=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,k=b.scale,A=b.ticks,E=b.includeHidden,I=b[o];if(g[I])return g;var L=Ov(e.data,{graphicalItems:a.filter(function($){var U,z=o in $.props?$.props[o]:(U=$.type.defaultProps)===null||U===void 0?void 0:U[o];return z===I}),dataStartIndex:c,dataEndIndex:u}),P=L.length,O,D,M;$fe(b.domain,_,w)&&(O=X2(b.domain,null,_),h&&(w==="number"||k!=="auto")&&(M=pf(L,j,"category")));var G=DD(w);if(!O||O.length===0){var Y,W=(Y=b.domain)!==null&&Y!==void 0?Y:G;if(j){if(O=pf(L,j,w),w==="category"&&h){var F=WX(O);S&&F?(D=O,O=tg(0,P)):S||(O=xO(W,O,m).reduce(function($,U){return $.indexOf(U)>=0?$:[].concat(Fu($),[U])},[]))}else if(w==="category")S?O=O.filter(function($){return $!==""&&!$t($)}):O=xO(W,O,m).reduce(function($,U){return $.indexOf(U)>=0||U===""||$t(U)?$:[].concat(Fu($),[U])},[]);else if(w==="number"){var ae=tie(L,a.filter(function($){var U,z,J=o in $.props?$.props[o]:(U=$.type.defaultProps)===null||U===void 0?void 0:U[o],le="hide"in $.props?$.props.hide:(z=$.type.defaultProps)===null||z===void 0?void 0:z.hide;return J===I&&(E||!le)}),j,i,d);ae&&(O=ae)}h&&(w==="number"||k!=="auto")&&(M=pf(L,j,"category"))}else h?O=tg(0,P):s&&s[I]&&s[I].hasStack&&w==="number"?O=p==="expand"?[0,1]:PM(s[I].stackGroups,c,u):O=_M(L,a.filter(function($){var U=o in $.props?$.props[o]:$.type.defaultProps[o],z="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return U===I&&(E||!z)}),w,d,!0);if(w==="number")O=T5(f,O,I,i,A),W&&(O=X2(W,O,_));else if(w==="category"&&W){var re=W,oe=O.every(function($){return re.indexOf($)>=0});oe&&(O=re)}}return je(je({},g),{},pt({},I,je(je({},b),{},{axisType:i,domain:O,categoricalDomain:M,duplicateDomain:D,originalDomain:(v=b.domain)!==null&&v!==void 0?v:G,isCategorical:h,layout:d})))},{})},hhe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=Ov(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=p.length,g=jM(d,i),m=-1;return n.reduce(function(v,b){var w=b.type.defaultProps!==void 0?je(je({},b.type.defaultProps),b.props):b.props,j=w[o],_=DD("number");if(!v[j]){m++;var S;return g?S=tg(0,h):s&&s[j]&&s[j].hasStack?(S=PM(s[j].stackGroups,c,u),S=T5(f,S,j,i)):(S=X2(_,_M(p,n.filter(function(k){var A,E,I=o in k.props?k.props[o]:(A=k.type.defaultProps)===null||A===void 0?void 0:A[o],L="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===j&&!L}),"number",d),a.defaultProps.allowDataOverflow),S=T5(f,S,j,i)),je(je({},v),{},pt({},j,je(je({axisType:i},a.defaultProps),{},{hide:!0,orientation:Pa(lhe,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},phe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),p=Ha(d,i),h={};return p&&p.length?h=fhe(e,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=hhe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),h},mhe=function(e){var r=Ns(e),n=Io(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Q_(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zm(r,n)}},b6=function(e){var r=e.children,n=e.defaultShowTooltip,a=ja(r,Ou),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ghe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},x6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vhe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,s=e.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=ja(f,Ou),g=ja(f,cu),m=Object.keys(c).reduce(function(S,k){var A=c[k],E=A.orientation;return!A.mirror&&!A.hide?je(je({},S),{},pt({},E,S[E]+A.width)):S},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(S,k){var A=o[k],E=A.orientation;return!A.mirror&&!A.hide?je(je({},S),{},pt({},E,Pa(S,"".concat(E))+A.height)):S},{top:p.top||0,bottom:p.bottom||0}),b=je(je({},v),m),w=b.bottom;h&&(b.bottom+=h.props.height||Ou.defaultProps.height),g&&r&&(b=Qae(b,a,n,r));var j=u-b.left-b.right,_=d-b.top-b.bottom;return je(je({brushBottom:w},b),{},{width:Math.max(j,0),height:Math.max(_,0)})},yhe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$D=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(b,w){var j=w.graphicalItems,_=w.stackGroups,S=w.offset,k=w.updateId,A=w.dataStartIndex,E=w.dataEndIndex,I=b.barSize,L=b.layout,P=b.barGap,O=b.barCategoryGap,D=b.maxBarSize,M=x6(L),G=M.numericAxisName,Y=M.cateAxisName,W=ghe(j),F=[];return j.forEach(function(ae,re){var oe=Ov(b.data,{graphicalItems:[ae],dataStartIndex:A,dataEndIndex:E}),$=ae.type.defaultProps!==void 0?je(je({},ae.type.defaultProps),ae.props):ae.props,U=$.dataKey,z=$.maxBarSize,J=$["".concat(G,"Id")],le=$["".concat(Y,"Id")],se={},de=c.reduce(function(Re,Ke){var Ge=w["".concat(Ke.axisType,"Map")],zt=$["".concat(Ke.axisType,"Id")];Ge&&Ge[zt]||Ke.axisType==="zAxis"||Wl();var mt=Ge[zt];return je(je({},Re),{},pt(pt({},Ke.axisType,mt),"".concat(Ke.axisType,"Ticks"),Io(mt)))},se),ie=de[Y],he=de["".concat(Y,"Ticks")],ge=_&&_[J]&&_[J].hasStack&&uie(ae,_[J].stackGroups),ue=Mo(ae.type).indexOf("Bar")>=0,Pe=zm(ie,he),me=[],Q=W&&Zae({barSize:I,stackGroups:_,totalSize:yhe(de,Y)});if(ue){var Ve,Be,Ue=$t(z)?D:z,ke=(Ve=(Be=zm(ie,he,!0))!==null&&Be!==void 0?Be:Ue)!==null&&Ve!==void 0?Ve:0;me=Jae({barGap:P,barCategoryGap:O,bandSize:ke!==Pe?ke:Pe,sizeList:Q[le],maxBarSize:Ue}),ke!==Pe&&(me=me.map(function(Re){return je(je({},Re),{},{position:je(je({},Re.position),{},{offset:Re.position.offset-ke/2})})}))}var Qe=ae&&ae.type&&ae.type.getComposedData;Qe&&F.push({props:je(je({},Qe(je(je({},de),{},{displayedData:oe,props:b,dataKey:U,item:ae,bandSize:Pe,barPosition:me,offset:S,stackedData:ge,layout:L,dataStartIndex:A,dataEndIndex:E}))),{},pt(pt(pt({key:ae.key||"item-".concat(re)},G,de[G]),Y,de[Y]),"animationId",k)),childIndex:rZ(ae,b.children),item:ae})}),F},h=function(b,w){var j=b.props,_=b.dataStartIndex,S=b.dataEndIndex,k=b.updateId;if(!Rk({props:j}))return null;var A=j.children,E=j.layout,I=j.stackOffset,L=j.data,P=j.reverseStackOrder,O=x6(E),D=O.numericAxisName,M=O.cateAxisName,G=Ha(A,n),Y=lie(L,G,"".concat(D,"Id"),"".concat(M,"Id"),I,P),W=c.reduce(function($,U){var z="".concat(U.axisType,"Map");return je(je({},$),{},pt({},z,phe(j,je(je({},U),{},{graphicalItems:G,stackGroups:U.axisType===D&&Y,dataStartIndex:_,dataEndIndex:S}))))},{}),F=vhe(je(je({},W),{},{props:j,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function($){W[$]=d(j,W[$],F,$.replace("Map",""),r)});var ae=W["".concat(M,"Map")],re=mhe(ae),oe=p(j,je(je({},W),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:G,stackGroups:Y,offset:F}));return je(je({formattedGraphicalItems:oe,graphicalItems:G,offset:F,stackGroups:Y},re),W)},g=(function(v){function b(w){var j,_,S;return Zfe(this,b),S=ehe(this,b,[w]),pt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pt(S,"accessibilityManager",new Dfe),pt(S,"handleLegendBBoxUpdate",function(k){if(k){var A=S.state,E=A.dataStartIndex,I=A.dataEndIndex,L=A.updateId;S.setState(je({legendBBox:k},h({props:S.props,dataStartIndex:E,dataEndIndex:I,updateId:L},je(je({},S.state),{},{legendBBox:k}))))}}),pt(S,"handleReceiveSyncEvent",function(k,A,E){if(S.props.syncId===k){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),pt(S,"handleBrushChange",function(k){var A=k.startIndex,E=k.endIndex;if(A!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return je({dataStartIndex:A,dataEndIndex:E},h({props:S.props,dataStartIndex:A,dataEndIndex:E,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),pt(S,"handleMouseEnter",function(k){var A=S.getMouseInfo(k);if(A){var E=je(je({},A),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var I=S.props.onMouseEnter;jt(I)&&I(E,k)}}),pt(S,"triggeredAfterMouseMove",function(k){var A=S.getMouseInfo(k),E=A?je(je({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var I=S.props.onMouseMove;jt(I)&&I(E,k)}),pt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),pt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),pt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),pt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var E=S.props.onMouseLeave;jt(E)&&E(A,k)}),pt(S,"handleOuterEvent",function(k){var A=tZ(k),E=Pa(S.props,"".concat(A));if(A&&jt(E)){var I,L;/.*touch.*/i.test(A)?L=S.getMouseInfo(k.changedTouches[0]):L=S.getMouseInfo(k),E((I=L)!==null&&I!==void 0?I:{},k)}}),pt(S,"handleClick",function(k){var A=S.getMouseInfo(k);if(A){var E=je(je({},A),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var I=S.props.onClick;jt(I)&&I(E,k)}}),pt(S,"handleMouseDown",function(k){var A=S.props.onMouseDown;if(jt(A)){var E=S.getMouseInfo(k);A(E,k)}}),pt(S,"handleMouseUp",function(k){var A=S.props.onMouseUp;if(jt(A)){var E=S.getMouseInfo(k);A(E,k)}}),pt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),pt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),pt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),pt(S,"handleDoubleClick",function(k){var A=S.props.onDoubleClick;if(jt(A)){var E=S.getMouseInfo(k);A(E,k)}}),pt(S,"handleContextMenu",function(k){var A=S.props.onContextMenu;if(jt(A)){var E=S.getMouseInfo(k);A(E,k)}}),pt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&xw.emit(ww,S.props.syncId,k,S.eventEmitterSymbol)}),pt(S,"applySyncEvent",function(k){var A=S.props,E=A.layout,I=A.syncMethod,L=S.state.updateId,P=k.dataStartIndex,O=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(je({dataStartIndex:P,dataEndIndex:O},h({props:S.props,dataStartIndex:P,dataEndIndex:O,updateId:L},S.state)));else if(k.activeTooltipIndex!==void 0){var D=k.chartX,M=k.chartY,G=k.activeTooltipIndex,Y=S.state,W=Y.offset,F=Y.tooltipTicks;if(!W)return;if(typeof I=="function")G=I(F,k);else if(I==="value"){G=-1;for(var ae=0;ae<F.length;ae++)if(F[ae].value===k.activeLabel){G=ae;break}}var re=je(je({},W),{},{x:W.left,y:W.top}),oe=Math.min(D,re.x+re.width),$=Math.min(M,re.y+re.height),U=F[G]&&F[G].value,z=R5(S.state,S.props.data,G),J=F[G]?{x:E==="horizontal"?F[G].coordinate:oe,y:E==="horizontal"?$:F[G].coordinate}:MD;S.setState(je(je({},k),{},{activeLabel:U,activeCoordinate:J,activePayload:z,activeTooltipIndex:G}))}else S.setState(k)}),pt(S,"renderCursor",function(k){var A,E=S.state,I=E.isTooltipActive,L=E.activeCoordinate,P=E.activePayload,O=E.offset,D=E.activeTooltipIndex,M=E.tooltipAxisBandSize,G=S.getTooltipEventType(),Y=(A=k.props.active)!==null&&A!==void 0?A:I,W=S.props.layout,F=k.key||"_recharts-cursor";return K.createElement(Wfe,{key:F,activeCoordinate:L,activePayload:P,activeTooltipIndex:D,chartName:r,element:k,isActive:Y,layout:W,offset:O,tooltipAxisBandSize:M,tooltipEventType:G})}),pt(S,"renderPolarAxis",function(k,A,E){var I=Pa(k,"type.axisType"),L=Pa(S.state,"".concat(I,"Map")),P=k.type.defaultProps,O=P!==void 0?je(je({},P),k.props):k.props,D=L&&L[O["".concat(I,"Id")]];return N.cloneElement(k,je(je({},D),{},{className:It(I,D.className),key:k.key||"".concat(A,"-").concat(E),ticks:Io(D,!0)}))}),pt(S,"renderPolarGrid",function(k){var A=k.props,E=A.radialLines,I=A.polarAngles,L=A.polarRadius,P=S.state,O=P.radiusAxisMap,D=P.angleAxisMap,M=Ns(O),G=Ns(D),Y=G.cx,W=G.cy,F=G.innerRadius,ae=G.outerRadius;return N.cloneElement(k,{polarAngles:Array.isArray(I)?I:Io(G,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(L)?L:Io(M,!0).map(function(re){return re.coordinate}),cx:Y,cy:W,innerRadius:F,outerRadius:ae,key:k.key||"polar-grid",radialLines:E})}),pt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,A=S.props,E=A.children,I=A.width,L=A.height,P=S.props.margin||{},O=I-(P.left||0)-(P.right||0),D=xM({children:E,formattedGraphicalItems:k,legendWidth:O,legendContent:u});if(!D)return null;var M=D.item,G=g6(D,Hfe);return N.cloneElement(M,je(je({},G),{},{chartWidth:I,chartHeight:L,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),pt(S,"renderTooltip",function(){var k,A=S.props,E=A.children,I=A.accessibilityLayer,L=ja(E,hi);if(!L)return null;var P=S.state,O=P.isTooltipActive,D=P.activeCoordinate,M=P.activePayload,G=P.activeLabel,Y=P.offset,W=(k=L.props.active)!==null&&k!==void 0?k:O;return N.cloneElement(L,{viewBox:je(je({},Y),{},{x:Y.left,y:Y.top}),active:W,label:G,payload:W?M:[],coordinate:D,accessibilityLayer:I})}),pt(S,"renderBrush",function(k){var A=S.props,E=A.margin,I=A.data,L=S.state,P=L.offset,O=L.dataStartIndex,D=L.dataEndIndex,M=L.updateId;return N.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Bp(S.handleBrushChange,k.props.onChange),data:I,x:Le(k.props.x)?k.props.x:P.left,y:Le(k.props.y)?k.props.y:P.top+P.height+P.brushBottom-(E.bottom||0),width:Le(k.props.width)?k.props.width:P.width,startIndex:O,endIndex:D,updateId:"brush-".concat(M)})}),pt(S,"renderReferenceElement",function(k,A,E){if(!k)return null;var I=S,L=I.clipPathId,P=S.state,O=P.xAxisMap,D=P.yAxisMap,M=P.offset,G=k.type.defaultProps||{},Y=k.props,W=Y.xAxisId,F=W===void 0?G.xAxisId:W,ae=Y.yAxisId,re=ae===void 0?G.yAxisId:ae;return N.cloneElement(k,{key:k.key||"".concat(A,"-").concat(E),xAxis:O[F],yAxis:D[re],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:L})}),pt(S,"renderActivePoints",function(k){var A=k.item,E=k.activePoint,I=k.basePoint,L=k.childIndex,P=k.isRange,O=[],D=A.props.key,M=A.item.type.defaultProps!==void 0?je(je({},A.item.type.defaultProps),A.item.props):A.item.props,G=M.activeDot,Y=M.dataKey,W=je(je({index:L,dataKey:Y,cx:E.x,cy:E.y,r:4,fill:Nj(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},bt(G,!1)),bm(G));return O.push(b.renderActiveDot(G,W,"".concat(D,"-activePoint-").concat(L))),I?O.push(b.renderActiveDot(G,je(je({},W),{},{cx:I.x,cy:I.y}),"".concat(D,"-basePoint-").concat(L))):P&&O.push(null),O}),pt(S,"renderGraphicChild",function(k,A,E){var I=S.filterFormatItem(k,A,E);if(!I)return null;var L=S.getTooltipEventType(),P=S.state,O=P.isTooltipActive,D=P.tooltipAxis,M=P.activeTooltipIndex,G=P.activeLabel,Y=S.props.children,W=ja(Y,hi),F=I.props,ae=F.points,re=F.isRange,oe=F.baseLine,$=I.item.type.defaultProps!==void 0?je(je({},I.item.type.defaultProps),I.item.props):I.item.props,U=$.activeDot,z=$.hide,J=$.activeBar,le=$.activeShape,se=!!(!z&&O&&W&&(U||J||le)),de={};L!=="axis"&&W&&W.props.trigger==="click"?de={onClick:Bp(S.handleItemMouseEnter,k.props.onClick)}:L!=="axis"&&(de={onMouseLeave:Bp(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Bp(S.handleItemMouseEnter,k.props.onMouseEnter)});var ie=N.cloneElement(k,je(je({},I.props),de));function he(Ke){return typeof D.dataKey=="function"?D.dataKey(Ke.payload):null}if(se)if(M>=0){var ge,ue;if(D.dataKey&&!D.allowDuplicatedCategory){var Pe=typeof D.dataKey=="function"?he:"payload.".concat(D.dataKey.toString());ge=g2(ae,Pe,G),ue=re&&oe&&g2(oe,Pe,G)}else ge=ae==null?void 0:ae[M],ue=re&&oe&&oe[M];if(le||J){var me=k.props.activeIndex!==void 0?k.props.activeIndex:M;return[N.cloneElement(k,je(je(je({},I.props),de),{},{activeIndex:me})),null,null]}if(!$t(ge))return[ie].concat(Fu(S.renderActivePoints({item:I,activePoint:ge,basePoint:ue,childIndex:M,isRange:re})))}else{var Q,Ve=(Q=S.getItemByXY(S.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:ie},Be=Ve.graphicalItem,Ue=Be.item,ke=Ue===void 0?k:Ue,Qe=Be.childIndex,Re=je(je(je({},I.props),de),{},{activeIndex:Qe});return[N.cloneElement(ke,Re),null,null]}return re?[ie,null,null]:[ie,null]}),pt(S,"renderCustomized",function(k,A,E){return N.cloneElement(k,je(je({key:"recharts-customized-".concat(E)},S.props),S.state))}),pt(S,"renderMap",{CartesianGrid:{handler:Hp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Hp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Hp},YAxis:{handler:Hp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:wh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=yR(S.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return nhe(b,v),Qfe(b,[{key:"componentDidMount",value:function(){var j,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,_=j.children,S=j.data,k=j.height,A=j.layout,E=ja(_,hi);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,P=R5(this.state,S,I,L),O=this.state.tooltipTicks[I].coordinate,D=(this.state.offset.top+k)/2,M=A==="horizontal",G=M?{x:O,y:D}:{y:O,x:D},Y=this.state.formattedGraphicalItems.find(function(F){var ae=F.item;return ae.type.name==="Scatter"});Y&&(G=je(je({},G),Y.props.points[I].tooltipPosition),P=Y.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:L,activePayload:P,activeCoordinate:G};this.setState(W),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(j){y2([ja(j.children,hi)],[ja(this.props.children,hi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=ja(this.props.children,hi);if(j&&typeof j.props.shared=="boolean"){var _=j.props.shared?"axis":"item";return s.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=Uee(S),A={chartX:Math.round(j.pageX-k.left),chartY:Math.round(j.pageY-k.top)},E=S.width/_.offsetWidth||1,I=this.inRange(A.chartX,A.chartY,E);if(!I)return null;var L=this.state,P=L.xAxisMap,O=L.yAxisMap,D=this.getTooltipEventType(),M=y6(this.state,this.props.data,this.props.layout,I);if(D!=="axis"&&P&&O){var G=Ns(P).scale,Y=Ns(O).scale,W=G&&G.invert?G.invert(A.chartX):null,F=Y&&Y.invert?Y.invert(A.chartY):null;return je(je({},A),{},{xValue:W,yValue:F},M)}return M?je(je({},A),M):null}},{key:"inRange",value:function(j,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,A=j/S,E=_/S;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,L=A>=I.left&&A<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return L?{x:A,y:E}:null}var P=this.state,O=P.angleAxisMap,D=P.radiusAxisMap;if(O&&D){var M=Ns(O);return jO({x:A,y:E},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,_=this.getTooltipEventType(),S=ja(j,hi),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=bm(this.props,this.handleOuterEvent);return je(je({},A),k)}},{key:"addListener",value:function(){xw.on(ww,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xw.removeListener(ww,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,_,S){for(var k=this.state.formattedGraphicalItems,A=0,E=k.length;A<E;A++){var I=k[A];if(I.item===j||I.props.key===j.key||_===Mo(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,A=_.height,E=_.width;return K.createElement("defs",null,K.createElement("clipPath",{id:j},K.createElement("rect",{x:S,y:k,height:A,width:E})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(_,S){var k=m6(S,2),A=k[0],E=k[1];return je(je({},_),{},pt({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(_,S){var k=m6(S,2),A=k[0],E=k[1];return je(je({},_),{},pt({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(j){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(j){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var A=0,E=S.length;A<E;A++){var I=S[A],L=I.props,P=I.item,O=P.type.defaultProps!==void 0?je(je({},P.type.defaultProps),P.props):P.props,D=Mo(P.type);if(D==="Bar"){var M=(L.data||[]).find(function(F){return ile(j,F)});if(M)return{graphicalItem:I,payload:M}}else if(D==="RadialBar"){var G=(L.data||[]).find(function(F){return jO(j,F)});if(G)return{graphicalItem:I,payload:G}}else if(wv(I,k)||_v(I,k)||eh(I,k)){var Y=Pce({graphicalItem:I,activeTooltipItem:k,itemData:O.data}),W=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:je(je({},I),{},{childIndex:W}),payload:eh(I,k)?O.data[Y]:I.props.data[Y]}}}return null}},{key:"render",value:function(){var j=this;if(!Rk(this))return null;var _=this.props,S=_.children,k=_.className,A=_.width,E=_.height,I=_.style,L=_.compact,P=_.title,O=_.desc,D=g6(_,Vfe),M=bt(D,!1);if(L)return K.createElement(QE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(x2,tu({},M,{width:A,height:E,title:P,desc:O}),this.renderClipPath(),Dk(S,this.renderMap)));if(this.props.accessibilityLayer){var G,Y;M.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,M.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",M.onKeyDown=function(F){j.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){j.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return K.createElement(QE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",tu({className:It("recharts-wrapper",k),style:je({position:"relative",cursor:"default",width:A,height:E},I)},W,{ref:function(ae){j.container=ae}}),K.createElement(x2,tu({},M,{width:A,height:E,title:P,desc:O,style:che}),this.renderClipPath(),Dk(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);pt(g,"displayName",r),pt(g,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pt(g,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,j=v.data,_=v.children,S=v.width,k=v.height,A=v.layout,E=v.stackOffset,I=v.margin,L=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var O=b6(v);return je(je(je({},O),{},{updateId:0},h(je(je({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:k,prevLayout:A,prevStackOffset:E,prevMargin:I,prevChildren:_})}if(w!==b.prevDataKey||j!==b.prevData||S!==b.prevWidth||k!==b.prevHeight||A!==b.prevLayout||E!==b.prevStackOffset||!lu(I,b.prevMargin)){var D=b6(v),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},G=je(je({},y6(b,j,A)),{},{updateId:b.updateId+1}),Y=je(je(je({},D),M),G);return je(je(je({},Y),h(je({props:v},Y),b)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:k,prevLayout:A,prevStackOffset:E,prevMargin:I,prevChildren:_})}if(!y2(_,b.prevChildren)){var W,F,ae,re,oe=ja(_,Ou),$=oe&&(W=(F=oe.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:L,U=oe&&(ae=(re=oe.props)===null||re===void 0?void 0:re.endIndex)!==null&&ae!==void 0?ae:P,z=$!==L||U!==P,J=!$t(j),le=J&&!z?b.updateId:b.updateId+1;return je(je({updateId:le},h(je(je({props:v},b),{},{updateId:le,dataStartIndex:$,dataEndIndex:U}),b)),{},{prevChildren:_,dataStartIndex:$,dataEndIndex:U})}return null}),pt(g,"renderActiveDot",function(v,b,w){var j;return N.isValidElement(v)?j=N.cloneElement(v,b):jt(v)?j=v(b):j=K.createElement(kj,b),K.createElement(ur,{className:"recharts-active-dot",key:w},j)});var m=N.forwardRef(function(b,w){return K.createElement(g,tu({},b,{ref:w}))});return m.displayName=g.displayName,m},bhe=$D({chartName:"BarChart",GraphicalChild:nc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pv},{axisType:"yAxis",AxisComp:Cv}],formatAxisMap:Eue}),xhe=$D({chartName:"PieChart",GraphicalChild:Zo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xv},{axisType:"radiusAxis",AxisComp:yv}],formatAxisMap:xie,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const whe=["top","right","bottom","left"],Rs=Math.min,Sa=Math.max,pg=Math.round,Vp=Math.floor,Xi=t=>({x:t,y:t}),_he={left:"right",right:"left",bottom:"top",top:"bottom"},jhe={start:"end",end:"start"};function M5(t,e,r){return Sa(t,Rs(e,r))}function Vo(t,e){return typeof t=="function"?t(e):t}function Go(t){return t.split("-")[0]}function ad(t){return t.split("-")[1]}function Dj(t){return t==="x"?"y":"x"}function $j(t){return t==="y"?"height":"width"}const She=new Set(["top","bottom"]);function Vi(t){return She.has(Go(t))?"y":"x"}function Fj(t){return Dj(Vi(t))}function Nhe(t,e,r){r===void 0&&(r=!1);const n=ad(t),a=Fj(t),i=$j(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=mg(o)),[o,mg(o)]}function Ahe(t){const e=mg(t);return[D5(t),e,D5(e)]}function D5(t){return t.replace(/start|end/g,e=>jhe[e])}const w6=["left","right"],_6=["right","left"],khe=["top","bottom"],Phe=["bottom","top"];function Che(t,e,r){switch(t){case"top":case"bottom":return r?e?_6:w6:e?w6:_6;case"left":case"right":return e?khe:Phe;default:return[]}}function Ohe(t,e,r,n){const a=ad(t);let i=Che(Go(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(D5)))),i}function mg(t){return t.replace(/left|right|bottom|top/g,e=>_he[e])}function Ehe(t){return{top:0,right:0,bottom:0,left:0,...t}}function FD(t){return typeof t!="number"?Ehe(t):{top:t,right:t,bottom:t,left:t}}function gg(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function j6(t,e,r){let{reference:n,floating:a}=t;const i=Vi(e),o=Fj(e),s=$j(o),c=Go(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[s]/2-a[s]/2;let h;switch(c){case"top":h={x:d,y:n.y-a.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(ad(e)){case"start":h[o]-=p*(r&&u?-1:1);break;case"end":h[o]+=p*(r&&u?-1:1);break}return h}const The=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=j6(u,n,c),p=n,h={},g=0;for(let m=0;m<s.length;m++){const{name:v,fn:b}=s[m],{x:w,y:j,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=j??f,h={...h,[v]:{...h[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:f}=j6(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function sh(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Vo(e,t),g=FD(h),v=s[p?f==="floating"?"reference":"floating":f],b=gg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),_=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=gg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:j,strategy:c}):w);return{top:(b.top-S.top+g.top)/_.y,bottom:(S.bottom-b.bottom+g.bottom)/_.y,left:(b.left-S.left+g.left)/_.x,right:(S.right-b.right+g.right)/_.x}}const Ihe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:c}=e,{element:u,padding:d=0}=Vo(t,e)||{};if(u==null)return{};const f=FD(d),p={x:r,y:n},h=Fj(a),g=$j(h),m=await o.getDimensions(u),v=h==="y",b=v?"top":"left",w=v?"bottom":"right",j=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[h]-p[h]-i.floating[g],S=p[h]-i.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=k?k[j]:0;(!A||!await(o.isElement==null?void 0:o.isElement(k)))&&(A=s.floating[j]||i.floating[g]);const E=_/2-S/2,I=A/2-m[g]/2-1,L=Rs(f[b],I),P=Rs(f[w],I),O=L,D=A-m[g]-P,M=A/2-m[g]/2+E,G=M5(O,M,D),Y=!c.arrow&&ad(a)!=null&&M!==G&&i.reference[g]/2-(M<O?L:P)-m[g]/2<0,W=Y?M<O?M-O:M-D:0;return{[h]:p[h]+W,data:{[h]:G,centerOffset:M-G-W,...Y&&{alignmentOffset:W}},reset:Y}}}),Lhe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Vo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Go(a),w=Vi(s),j=Go(s)===s,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(j||!m?[mg(s)]:Ahe(s)),k=g!=="none";!p&&k&&S.push(...Ohe(s,m,g,_));const A=[s,...S],E=await sh(e,v),I=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&I.push(E[b]),f){const M=Nhe(a,o,_);I.push(E[M[0]],E[M[1]])}if(L=[...L,{placement:a,overflows:I}],!I.every(M=>M<=0)){var P,O;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,G=A[M];if(G&&(!(f==="alignment"?w!==Vi(G):!1)||L.every(F=>Vi(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:M,overflows:L},reset:{placement:G}};let Y=(O=L.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!Y)switch(h){case"bestFit":{var D;const W=(D=L.filter(F=>{if(k){const ae=Vi(F.placement);return ae===w||ae==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ae=>ae>0).reduce((ae,re)=>ae+re,0)]).sort((F,ae)=>F[1]-ae[1])[0])==null?void 0:D[0];W&&(Y=W);break}case"initialPlacement":Y=s;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};function S6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function N6(t){return whe.some(e=>t[e]>=0)}const Rhe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Vo(t,e);switch(n){case"referenceHidden":{const i=await sh(e,{...a,elementContext:"reference"}),o=S6(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:N6(o)}}}case"escaped":{const i=await sh(e,{...a,altBoundary:!0}),o=S6(i,r.floating);return{data:{escapedOffsets:o,escaped:N6(o)}}}default:return{}}}}},BD=new Set(["left","top"]);async function Mhe(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Go(r),s=ad(r),c=Vi(r)==="y",u=BD.has(o)?-1:1,d=i&&c?-1:1,f=Vo(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const Dhe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=e,c=await Mhe(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},$he=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=Vo(t,e),u={x:r,y:n},d=await sh(e,c),f=Vi(Go(a)),p=Dj(f);let h=u[p],g=u[f];if(i){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=h+d[v],j=h-d[b];h=M5(w,h,j)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=g+d[v],j=g-d[b];g=M5(w,g,j)}const m=s.fn({...e,[p]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:i,[f]:o}}}}}},Fhe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=Vo(t,e),d={x:r,y:n},f=Vi(a),p=Dj(f);let h=d[p],g=d[f];const m=Vo(s,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const j=p==="y"?"height":"width",_=i.reference[p]-i.floating[j]+v.mainAxis,S=i.reference[p]+i.reference[j]-v.mainAxis;h<_?h=_:h>S&&(h=S)}if(u){var b,w;const j=p==="y"?"width":"height",_=BD.has(Go(a)),S=i.reference[f]-i.floating[j]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),k=i.reference[f]+i.reference[j]+(_?0:((w=o.offset)==null?void 0:w[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[p]:h,[f]:g}}}},Bhe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:s}=e,{apply:c=()=>{},...u}=Vo(t,e),d=await sh(e,u),f=Go(a),p=ad(a),h=Vi(a)==="y",{width:g,height:m}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,v=p==="end"?"top":"bottom");const w=m-d.top-d.bottom,j=g-d.left-d.right,_=Rs(m-d[v],w),S=Rs(g-d[b],j),k=!e.middlewareData.shift;let A=_,E=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=j),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=w),k&&!p){const L=Sa(d.left,0),P=Sa(d.right,0),O=Sa(d.top,0),D=Sa(d.bottom,0);h?E=g-2*(L!==0||P!==0?L+P:Sa(d.left,d.right)):A=m-2*(O!==0||D!==0?O+D:Sa(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:A});const I=await o.getDimensions(s.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Ev(){return typeof window<"u"}function id(t){return qD(t)?(t.nodeName||"").toLowerCase():"#document"}function Ca(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oo(t){var e;return(e=(qD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qD(t){return Ev()?t instanceof Node||t instanceof Ca(t).Node:!1}function xi(t){return Ev()?t instanceof Element||t instanceof Ca(t).Element:!1}function to(t){return Ev()?t instanceof HTMLElement||t instanceof Ca(t).HTMLElement:!1}function A6(t){return!Ev()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ca(t).ShadowRoot}const qhe=new Set(["inline","contents"]);function kh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=wi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!qhe.has(a)}const Uhe=new Set(["table","td","th"]);function zhe(t){return Uhe.has(id(t))}const Whe=[":popover-open",":modal"];function Tv(t){return Whe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Hhe=["transform","translate","scale","rotate","perspective"],Vhe=["transform","translate","scale","rotate","perspective","filter"],Ghe=["paint","layout","strict","content"];function Bj(t){const e=qj(),r=xi(t)?wi(t):t;return Hhe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Vhe.some(n=>(r.willChange||"").includes(n))||Ghe.some(n=>(r.contain||"").includes(n))}function Yhe(t){let e=Ms(t);for(;to(e)&&!Bu(e);){if(Bj(e))return e;if(Tv(e))return null;e=Ms(e)}return null}function qj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Khe=new Set(["html","body","#document"]);function Bu(t){return Khe.has(id(t))}function wi(t){return Ca(t).getComputedStyle(t)}function Iv(t){return xi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ms(t){if(id(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A6(t)&&t.host||oo(t);return A6(e)?e.host:e}function UD(t){const e=Ms(t);return Bu(e)?t.ownerDocument?t.ownerDocument.body:t.body:to(e)&&kh(e)?e:UD(e)}function lh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=UD(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Ca(a);if(i){const s=$5(o);return e.concat(o,o.visualViewport||[],kh(a)?a:[],s&&r?lh(s):[])}return e.concat(a,lh(a,[],r))}function $5(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zD(t){const e=wi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=to(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,s=pg(r)!==i||pg(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function Uj(t){return xi(t)?t:t.contextElement}function fu(t){const e=Uj(t);if(!to(e))return Xi(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=zD(e);let o=(i?pg(r.width):r.width)/n,s=(i?pg(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Xhe=Xi(0);function WD(t){const e=Ca(t);return!qj()||!e.visualViewport?Xhe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zhe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ca(t)?!1:e}function Vl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=Uj(t);let o=Xi(1);e&&(n?xi(n)&&(o=fu(n)):o=fu(t));const s=Zhe(i,r,n)?WD(i):Xi(0);let c=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const p=Ca(i),h=n&&xi(n)?Ca(n):n;let g=p,m=$5(g);for(;m&&n&&h!==g;){const v=fu(m),b=m.getBoundingClientRect(),w=wi(m),j=b.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,_=b.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=j,u+=_,g=Ca(m),m=$5(g)}}return gg({width:d,height:f,x:c,y:u})}function Lv(t,e){const r=Iv(t).scrollLeft;return e?e.left+r:Vl(oo(t)).left+r}function HD(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Lv(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function Jhe(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=oo(n),s=e?Tv(e.floating):!1;if(n===o||s&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Xi(1);const d=Xi(0),f=to(n);if((f||!f&&!i)&&((id(n)!=="body"||kh(o))&&(c=Iv(n)),to(n))){const h=Vl(n);u=fu(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=o&&!f&&!i?HD(o,c):Xi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function Qhe(t){return Array.from(t.getClientRects())}function epe(t){const e=oo(t),r=Iv(t),n=t.ownerDocument.body,a=Sa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Sa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Lv(t);const s=-r.scrollTop;return wi(n).direction==="rtl"&&(o+=Sa(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}const k6=25;function tpe(t,e){const r=Ca(t),n=oo(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,c=0;if(a){i=a.width,o=a.height;const d=qj();(!d||d&&e==="fixed")&&(s=a.offsetLeft,c=a.offsetTop)}const u=Lv(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=k6&&(i-=g)}else u<=k6&&(i+=u);return{width:i,height:o,x:s,y:c}}const rpe=new Set(["absolute","fixed"]);function npe(t,e){const r=Vl(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=to(t)?fu(t):Xi(1),o=t.clientWidth*i.x,s=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:s,x:c,y:u}}function P6(t,e,r){let n;if(e==="viewport")n=tpe(t,r);else if(e==="document")n=epe(oo(t));else if(xi(e))n=npe(e,r);else{const a=WD(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return gg(n)}function VD(t,e){const r=Ms(t);return r===e||!xi(r)||Bu(r)?!1:wi(r).position==="fixed"||VD(r,e)}function ape(t,e){const r=e.get(t);if(r)return r;let n=lh(t,[],!1).filter(s=>xi(s)&&id(s)!=="body"),a=null;const i=wi(t).position==="fixed";let o=i?Ms(t):t;for(;xi(o)&&!Bu(o);){const s=wi(o),c=Bj(o);!c&&s.position==="fixed"&&(a=null),(i?!c&&!a:!c&&s.position==="static"&&!!a&&rpe.has(a.position)||kh(o)&&!c&&VD(t,o))?n=n.filter(d=>d!==o):a=s,o=Ms(o)}return e.set(t,n),n}function ipe(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?Tv(e)?[]:ape(e,this._c):[].concat(r),n],s=o[0],c=o.reduce((u,d)=>{const f=P6(e,d,a);return u.top=Sa(f.top,u.top),u.right=Rs(f.right,u.right),u.bottom=Rs(f.bottom,u.bottom),u.left=Sa(f.left,u.left),u},P6(e,s,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ope(t){const{width:e,height:r}=zD(t);return{width:e,height:r}}function spe(t,e,r){const n=to(e),a=oo(e),i=r==="fixed",o=Vl(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const c=Xi(0);function u(){c.x=Lv(a)}if(n||!n&&!i)if((id(e)!=="body"||kh(a))&&(s=Iv(e)),n){const h=Vl(e,!0,i,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?HD(a,s):Xi(0),f=o.left+s.scrollLeft-c.x-d.x,p=o.top+s.scrollTop-c.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function jw(t){return wi(t).position==="static"}function C6(t,e){if(!to(t)||wi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return oo(t)===r&&(r=r.ownerDocument.body),r}function GD(t,e){const r=Ca(t);if(Tv(t))return r;if(!to(t)){let a=Ms(t);for(;a&&!Bu(a);){if(xi(a)&&!jw(a))return a;a=Ms(a)}return r}let n=C6(t,e);for(;n&&zhe(n)&&jw(n);)n=C6(n,e);return n&&Bu(n)&&jw(n)&&!Bj(n)?r:n||Yhe(t)||r}const lpe=async function(t){const e=this.getOffsetParent||GD,r=this.getDimensions,n=await r(t.floating);return{reference:spe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cpe(t){return wi(t).direction==="rtl"}const upe={convertOffsetParentRelativeRectToViewportRelativeRect:Jhe,getDocumentElement:oo,getClippingRect:ipe,getOffsetParent:GD,getElementRects:lpe,getClientRects:Qhe,getDimensions:ope,getScale:fu,isElement:xi,isRTL:cpe};function YD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function dpe(t,e){let r=null,n;const a=oo(t);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(s||e(),!p||!h)return;const g=Vp(f),m=Vp(a.clientWidth-(d+p)),v=Vp(a.clientHeight-(f+h)),b=Vp(d),j={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:Sa(0,Rs(1,c))||1};let _=!0;function S(k){const A=k[0].intersectionRatio;if(A!==c){if(!_)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!YD(u,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(t)}return o(!0),i}function fpe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Uj(t),d=a||i?[...u?lh(u):[],...lh(e)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&s?dpe(u,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,m=c?Vl(t):null;c&&v();function v(){const b=Vl(t);m&&!YD(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const hpe=Dhe,ppe=$he,mpe=Lhe,gpe=Bhe,vpe=Rhe,O6=Ihe,ype=Fhe,bpe=(t,e,r)=>{const n=new Map,a={platform:upe,...r},i={...a.platform,_c:n};return The(t,e,{...a,platform:i})};var xpe=typeof document<"u",wpe=function(){},sm=xpe?N.useLayoutEffect:wpe;function vg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!vg(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!vg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function KD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E6(t,e){const r=KD(t);return Math.round(e*r)/r}function Sw(t){const e=N.useRef(t);return sm(()=>{e.current=t}),e}function _pe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:c,open:u}=t,[d,f]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=N.useState(n);vg(p,n)||h(n);const[g,m]=N.useState(null),[v,b]=N.useState(null),w=N.useCallback(F=>{F!==k.current&&(k.current=F,m(F))},[]),j=N.useCallback(F=>{F!==A.current&&(A.current=F,b(F))},[]),_=i||g,S=o||v,k=N.useRef(null),A=N.useRef(null),E=N.useRef(d),I=c!=null,L=Sw(c),P=Sw(a),O=Sw(u),D=N.useCallback(()=>{if(!k.current||!A.current)return;const F={placement:e,strategy:r,middleware:p};P.current&&(F.platform=P.current),bpe(k.current,A.current,F).then(ae=>{const re={...ae,isPositioned:O.current!==!1};M.current&&!vg(E.current,re)&&(E.current=re,Ag.flushSync(()=>{f(re)}))})},[p,e,r,P,O]);sm(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const M=N.useRef(!1);sm(()=>(M.current=!0,()=>{M.current=!1}),[]),sm(()=>{if(_&&(k.current=_),S&&(A.current=S),_&&S){if(L.current)return L.current(_,S,D);D()}},[_,S,D,L,I]);const G=N.useMemo(()=>({reference:k,floating:A,setReference:w,setFloating:j}),[w,j]),Y=N.useMemo(()=>({reference:_,floating:S}),[_,S]),W=N.useMemo(()=>{const F={position:r,left:0,top:0};if(!Y.floating)return F;const ae=E6(Y.floating,d.x),re=E6(Y.floating,d.y);return s?{...F,transform:"translate("+ae+"px, "+re+"px)",...KD(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:re}},[r,s,Y.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:D,refs:G,elements:Y,floatingStyles:W}),[d,D,G,Y,W])}const jpe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?O6({element:n.current,padding:a}).fn(r):{}:n?O6({element:n,padding:a}).fn(r):{}}}},Spe=(t,e)=>({...hpe(t),options:[t,e]}),Npe=(t,e)=>({...ppe(t),options:[t,e]}),Ape=(t,e)=>({...ype(t),options:[t,e]}),kpe=(t,e)=>({...mpe(t),options:[t,e]}),Ppe=(t,e)=>({...gpe(t),options:[t,e]}),Cpe=(t,e)=>({...vpe(t),options:[t,e]}),Ope=(t,e)=>({...jpe(t),options:[t,e]});var Epe="Arrow",XD=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return l.jsx(at.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});XD.displayName=Epe;var Tpe=XD;function Rv(t){const[e,r]=N.useState(void 0);return en(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,s;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var zj="Popper",[ZD,Mv]=Tn(zj),[Ipe,JD]=ZD(zj),QD=t=>{const{__scopePopper:e,children:r}=t,[n,a]=N.useState(null);return l.jsx(Ipe,{scope:e,anchor:n,onAnchorChange:a,children:r})};QD.displayName=zj;var e7="PopperAnchor",t7=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=JD(e7,r),o=N.useRef(null),s=Lt(e,o),c=N.useRef(null);return N.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:l.jsx(at.div,{...a,ref:s})});t7.displayName=e7;var Wj="PopperContent",[Lpe,Rpe]=ZD(Wj),r7=N.forwardRef((t,e)=>{var se,de,ie,he,ge,ue;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=JD(Wj,r),[b,w]=N.useState(null),j=Lt(e,Pe=>w(Pe)),[_,S]=N.useState(null),k=Rv(_),A=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,I=n+(i!=="center"?"-"+i:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,D={padding:L,boundary:P.filter(Dpe),altBoundary:O},{refs:M,floatingStyles:G,placement:Y,isPositioned:W,middlewareData:F}=_pe({strategy:"fixed",placement:I,whileElementsMounted:(...Pe)=>fpe(...Pe,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[Spe({mainAxis:a+E,alignmentAxis:o}),c&&Npe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ape():void 0,...D}),c&&kpe({...D}),Ppe({...D,apply:({elements:Pe,rects:me,availableWidth:Q,availableHeight:Ve})=>{const{width:Be,height:Ue}=me.reference,ke=Pe.floating.style;ke.setProperty("--radix-popper-available-width",`${Q}px`),ke.setProperty("--radix-popper-available-height",`${Ve}px`),ke.setProperty("--radix-popper-anchor-width",`${Be}px`),ke.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),_&&Ope({element:_,padding:s}),$pe({arrowWidth:A,arrowHeight:E}),p&&Cpe({strategy:"referenceHidden",...D})]}),[ae,re]=i7(Y),oe=Un(g);en(()=>{W&&(oe==null||oe())},[W,oe]);const $=(se=F.arrow)==null?void 0:se.x,U=(de=F.arrow)==null?void 0:de.y,z=((ie=F.arrow)==null?void 0:ie.centerOffset)!==0,[J,le]=N.useState();return en(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(he=F.transformOrigin)==null?void 0:he.x,(ge=F.transformOrigin)==null?void 0:ge.y].join(" "),...((ue=F.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(Lpe,{scope:r,placedSide:ae,onArrowChange:S,arrowX:$,arrowY:U,shouldHideArrow:z,children:l.jsx(at.div,{"data-side":ae,"data-align":re,...m,ref:j,style:{...m.style,animation:W?void 0:"none"}})})})});r7.displayName=Wj;var n7="PopperArrow",Mpe={top:"bottom",right:"left",bottom:"top",left:"right"},a7=N.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=Rpe(n7,n),o=Mpe[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(Tpe,{...a,ref:r,style:{...a.style,display:"block"}})})});a7.displayName=n7;function Dpe(t){return t!==null}var $pe=t=>({name:"transformOrigin",options:t,fn(e){var v,b,w;const{placement:r,rects:n,middlewareData:a}=e,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=i7(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((b=a.arrow)==null?void 0:b.x)??0)+s/2,h=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${p}px`,m=`${-c}px`):u==="top"?(g=o?f:`${p}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${h}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${h}px`),{data:{x:g,y:m}}}});function i7(t){const[e,r="center"]=t.split("-");return[e,r]}var o7=QD,Hj=t7,s7=r7,l7=a7,Dv="Popover",[c7,Wxe]=Tn(Dv,[Mv]),Ph=Mv(),[Fpe,Ws]=c7(Dv),u7=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,s=Ph(e),c=N.useRef(null),[u,d]=N.useState(!1),[f,p]=Va({prop:n,defaultProp:a??!1,onChange:i,caller:Dv});return l.jsx(o7,{...s,children:l.jsx(Fpe,{scope:e,contentId:vi(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};u7.displayName=Dv;var d7="PopoverAnchor",Bpe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ws(d7,r),i=Ph(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=a;return N.useEffect(()=>(o(),()=>s()),[o,s]),l.jsx(Hj,{...i,...n,ref:e})});Bpe.displayName=d7;var f7="PopoverTrigger",h7=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ws(f7,r),i=Ph(r),o=Lt(e,a.triggerRef),s=l.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":y7(a.open),...n,ref:o,onClick:ut(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:l.jsx(Hj,{asChild:!0,...i,children:s})});h7.displayName=f7;var Vj="PopoverPortal",[qpe,Upe]=c7(Vj,{forceMount:void 0}),p7=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=Ws(Vj,e);return l.jsx(qpe,{scope:e,forceMount:r,children:l.jsx(ua,{present:r||i.open,children:l.jsx(Ig,{asChild:!0,container:a,children:n})})})};p7.displayName=Vj;var qu="PopoverContent",m7=N.forwardRef((t,e)=>{const r=Upe(qu,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=Ws(qu,t.__scopePopover);return l.jsx(ua,{present:n||i.open,children:i.modal?l.jsx(Wpe,{...a,ref:e}):l.jsx(Hpe,{...a,ref:e})})});m7.displayName=qu;var zpe=Ll("PopoverContent.RemoveScroll"),Wpe=N.forwardRef((t,e)=>{const r=Ws(qu,t.__scopePopover),n=N.useRef(null),a=Lt(e,n),i=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return b_(o)},[]),l.jsx(Rg,{as:zpe,allowPinchZoom:!0,children:l.jsx(g7,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),i.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ut(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,u=s.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ut(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Hpe=N.forwardRef((t,e)=>{const r=Ws(qu,t.__scopePopover),n=N.useRef(!1),a=N.useRef(!1);return l.jsx(g7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),g7=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,p=Ws(qu,r),h=Ph(r);return y_(),l.jsx(Tg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(s7,{"data-state":y7(p.open),role:"dialog",id:p.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),v7="PopoverClose",Vpe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ws(v7,r);return l.jsx(at.button,{type:"button",...n,ref:e,onClick:ut(t.onClick,()=>a.onOpenChange(!1))})});Vpe.displayName=v7;var Gpe="PopoverArrow",Ype=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=Ph(r);return l.jsx(l7,{...a,...n,ref:e})});Ype.displayName=Gpe;function y7(t){return t?"open":"closed"}var Kpe=u7,Xpe=h7,Zpe=p7,Jpe=m7;function Qpe({...t}){return l.jsx(Kpe,{"data-slot":"popover",...t})}function eme({...t}){return l.jsx(Xpe,{"data-slot":"popover-trigger",...t})}function tme({className:t,align:e="center",sideOffset:r=4,...n}){return l.jsx(Zpe,{children:l.jsx(Jpe,{"data-slot":"popover-content",align:e,sideOffset:r,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Zt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Oa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Xn(t,e){const r=Zt(t);return isNaN(e)?Oa(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function _i(t,e){const r=Zt(t);if(isNaN(e))return Oa(t,NaN);if(!e)return r;const n=r.getDate(),a=Oa(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Gj=6048e5,rme=864e5;let nme={};function Ch(){return nme}function ro(t,e){var s,c,u,d;const r=Ch(),n=(e==null?void 0:e.weekStartsOn)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Zt(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Gl(t){return ro(t,{weekStartsOn:1})}function b7(t){const e=Zt(t),r=e.getFullYear(),n=Oa(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Gl(n),i=Oa(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Gl(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Uu(t){const e=Zt(t);return e.setHours(0,0,0,0),e}function yg(t){const e=Zt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Gi(t,e){const r=Uu(t),n=Uu(e),a=+r-yg(r),i=+n-yg(n);return Math.round((a-i)/rme)}function ame(t){const e=b7(t),r=Oa(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Gl(r)}function F5(t,e){const r=e*7;return Xn(t,r)}function ime(t,e){return _i(t,e*12)}function ome(t){let e;return t.forEach(function(r){const n=Zt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function sme(t){let e;return t.forEach(r=>{const n=Zt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function la(t,e){const r=Uu(t),n=Uu(e);return+r==+n}function Yj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lme(t){if(!Yj(t)&&typeof t!="number")return!1;const e=Zt(t);return!isNaN(Number(e))}function ch(t,e){const r=Zt(t),n=Zt(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function cme(t,e,r){const n=ro(t,r),a=ro(e,r),i=+n-yg(n),o=+a-yg(a);return Math.round((i-o)/Gj)}function Kj(t){const e=Zt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function ca(t){const e=Zt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function x7(t){const e=Zt(t),r=Oa(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Xj(t,e){var s,c,u,d;const r=Ch(),n=(e==null?void 0:e.weekStartsOn)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Zt(t),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function w7(t){return Xj(t,{weekStartsOn:1})}const ume={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dme=(t,e,r)=>{let n;const a=ume[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nw(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mme={date:Nw({formats:fme,defaultWidth:"full"}),time:Nw({formats:hme,defaultWidth:"full"}),dateTime:Nw({formats:pme,defaultWidth:"full"})},gme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vme=(t,e,r,n)=>gme[t];function Jd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[s]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const yme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_me={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sme=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Nme={ordinalNumber:Sme,era:Jd({values:yme,defaultWidth:"wide"}),quarter:Jd({values:bme,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jd({values:xme,defaultWidth:"wide"}),day:Jd({values:wme,defaultWidth:"wide"}),dayPeriod:Jd({values:_me,defaultWidth:"wide",formattingValues:jme,defaultFormattingWidth:"wide"})};function Qd(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?kme(s,f=>f.test(o)):Ame(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Ame(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kme(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Pme(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(a.length);return{value:o,rest:s}}}const Cme=/^(\d+)(th|st|nd|rd)?/i,Ome=/\d+/i,Eme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tme={any:[/^b/i,/^(a|c)/i]},Ime={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lme={any:[/1/i,/2/i,/3/i,/4/i]},Rme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$me={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qme={ordinalNumber:Pme({matchPattern:Cme,parsePattern:Ome,valueCallback:t=>parseInt(t,10)}),era:Qd({matchPatterns:Eme,defaultMatchWidth:"wide",parsePatterns:Tme,defaultParseWidth:"any"}),quarter:Qd({matchPatterns:Ime,defaultMatchWidth:"wide",parsePatterns:Lme,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qd({matchPatterns:Rme,defaultMatchWidth:"wide",parsePatterns:Mme,defaultParseWidth:"any"}),day:Qd({matchPatterns:Dme,defaultMatchWidth:"wide",parsePatterns:$me,defaultParseWidth:"any"}),dayPeriod:Qd({matchPatterns:Fme,defaultMatchWidth:"any",parsePatterns:Bme,defaultParseWidth:"any"})},_7={code:"en-US",formatDistance:dme,formatLong:mme,formatRelative:vme,localize:Nme,match:qme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ume(t){const e=Zt(t);return Gi(e,x7(e))+1}function j7(t){const e=Zt(t),r=+Gl(e)-+ame(e);return Math.round(r/Gj)+1}function S7(t,e){var d,f,p,h;const r=Zt(t),n=r.getFullYear(),a=Ch(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=Oa(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const s=ro(o,e),c=Oa(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ro(c,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function zme(t,e){var s,c,u,d;const r=Ch(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=S7(t,e),i=Oa(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ro(i,e)}function N7(t,e){const r=Zt(t),n=+ro(r,e)-+zme(r,e);return Math.round(n/Gj)+1}function sr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const vs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return sr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):sr(r+1,2)},d(t,e){return sr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return sr(t.getHours()%12||12,e.length)},H(t,e){return sr(t.getHours(),e.length)},m(t,e){return sr(t.getMinutes(),e.length)},s(t,e){return sr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return sr(a,e.length)}},qc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T6={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return vs.y(t,e)},Y:function(t,e,r,n){const a=S7(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return sr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):sr(i,e.length)},R:function(t,e){const r=b7(t);return sr(r,e.length)},u:function(t,e){const r=t.getFullYear();return sr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return vs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=N7(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):sr(a,e.length)},I:function(t,e,r){const n=j7(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):sr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vs.d(t,e)},D:function(t,e,r){const n=Ume(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):sr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return sr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return sr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return sr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=qc.noon:n===0?a=qc.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=qc.evening:n>=12?a=qc.afternoon:n>=4?a=qc.morning:a=qc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vs.s(t,e)},S:function(t,e){return vs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return L6(n);case"XXXX":case"XX":return bl(n);case"XXXXX":case"XXX":default:return bl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return L6(n);case"xxxx":case"xx":return bl(n);case"xxxxx":case"xxx":default:return bl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+I6(n,":");case"OOOO":default:return"GMT"+bl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+I6(n,":");case"zzzz":default:return"GMT"+bl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return sr(n,e.length)},T:function(t,e,r){const n=t.getTime();return sr(n,e.length)}};function I6(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+sr(i,2)}function L6(t,e){return t%60===0?(t>0?"-":"+")+sr(Math.abs(t)/60,2):bl(t,e)}function bl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=sr(Math.trunc(n/60),2),i=sr(n%60,2);return r+a+e+i}const R6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},A7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wme=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return R6(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",R6(n,e)).replace("{{time}}",A7(a,e))},Hme={p:A7,P:Wme},Vme=/^D+$/,Gme=/^Y+$/,Yme=["D","DD","YY","YYYY"];function Kme(t){return Vme.test(t)}function Xme(t){return Gme.test(t)}function Zme(t,e,r){const n=Jme(t,e,r);if(console.warn(n),Yme.includes(t))throw new RangeError(n)}function Jme(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ege=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tge=/^'([^]*?)'?$/,rge=/''/g,nge=/[a-zA-Z]/;function Zi(t,e,r){var d,f,p,h,g,m,v,b;const n=Ch(),a=(r==null?void 0:r.locale)??n.locale??_7,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,s=Zt(t);if(!lme(s))throw new RangeError("Invalid time value");let c=e.match(ege).map(w=>{const j=w[0];if(j==="p"||j==="P"){const _=Hme[j];return _(w,a.formatLong)}return w}).join("").match(Qme).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:age(w)};if(T6[j])return{isToken:!0,value:w};if(j.match(nge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(s,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Xme(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Kme(j))&&Zme(j,e,String(t));const _=T6[j[0]];return _(s,j,a.localize,u)}).join("")}function age(t){const e=t.match(tge);return e?e[1].replace(rge,"'"):t}function ige(t){const e=Zt(t),r=e.getFullYear(),n=e.getMonth(),a=Oa(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function oge(t){return Math.trunc(+Zt(t)/1e3)}function sge(t){const e=Zt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function lge(t,e){return cme(sge(t),ca(t),e)+1}function B5(t,e){const r=Zt(t),n=Zt(e);return r.getTime()>n.getTime()}function k7(t,e){const r=Zt(t),n=Zt(e);return+r<+n}function Zj(t,e){const r=Zt(t),n=Zt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function cge(t,e){const r=Zt(t),n=Zt(e);return r.getFullYear()===n.getFullYear()}function Aw(t,e){return Xn(t,-e)}function kw(t,e){const r=Zt(t),n=r.getFullYear(),a=r.getDate(),i=Oa(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const o=ige(i);return r.setMonth(e,Math.min(a,o)),r}function M6(t,e){const r=Zt(t);return isNaN(+r)?Oa(t,NaN):(r.setFullYear(e),r)}var yt=function(){return yt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yt.apply(this,arguments)};function uge(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function P7(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Oh(t){return t.mode==="multiple"}function Eh(t){return t.mode==="range"}function $v(t){return t.mode==="single"}var dge={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function fge(t,e){return Zi(t,"LLLL y",e)}function hge(t,e){return Zi(t,"d",e)}function pge(t,e){return Zi(t,"LLLL",e)}function mge(t){return"".concat(t)}function gge(t,e){return Zi(t,"cccccc",e)}function vge(t,e){return Zi(t,"yyyy",e)}var yge=Object.freeze({__proto__:null,formatCaption:fge,formatDay:hge,formatMonthCaption:pge,formatWeekNumber:mge,formatWeekdayName:gge,formatYearCaption:vge}),bge=function(t,e,r){return Zi(t,"do MMMM (EEEE)",r)},xge=function(){return"Month: "},wge=function(){return"Go to next month"},_ge=function(){return"Go to previous month"},jge=function(t,e){return Zi(t,"cccc",e)},Sge=function(t){return"Week n. ".concat(t)},Nge=function(){return"Year: "},Age=Object.freeze({__proto__:null,labelDay:bge,labelMonthDropdown:xge,labelNext:wge,labelPrevious:_ge,labelWeekNumber:Sge,labelWeekday:jge,labelYearDropdown:Nge});function kge(){var t="buttons",e=dge,r=_7,n={},a={},i=1,o={},s=new Date;return{captionLayout:t,classNames:e,formatters:yge,labels:Age,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:s,mode:"default"}}function Pge(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,o=t.toDate;return n?i=ca(n):e&&(i=new Date(e,0,1)),a?o=Kj(a):r&&(o=new Date(r,11,31)),{fromDate:i?Uu(i):void 0,toDate:o?Uu(o):void 0}}var C7=N.createContext(void 0);function Cge(t){var e,r=t.initialProps,n=kge(),a=Pge(r),i=a.fromDate,o=a.toDate,s=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;s!=="buttons"&&(!i||!o)&&(s="buttons");var c;($v(r)||Oh(r)||Eh(r))&&(c=r.onSelect);var u=yt(yt(yt({},n),r),{captionLayout:s,classNames:yt(yt({},n.classNames),r.classNames),components:yt({},r.components),formatters:yt(yt({},n.formatters),r.formatters),fromDate:i,labels:yt(yt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:yt(yt({},n.modifiers),r.modifiers),modifiersClassNames:yt(yt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:yt(yt({},n.styles),r.styles),toDate:o});return l.jsx(C7.Provider,{value:u,children:t.children})}function Ar(){var t=N.useContext(C7);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function O7(t){var e=Ar(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function Oge(t){return l.jsx("svg",yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E7(t){var e,r,n=t.onChange,a=t.value,i=t.children,o=t.caption,s=t.className,c=t.style,u=Ar(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:Oge;return l.jsxs("div",{className:s,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Ege(t){var e,r=Ar(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});var f=[];if(cge(n,a))for(var p=ca(n),h=n.getMonth();h<=a.getMonth();h++)f.push(kw(p,h));else for(var p=ca(new Date),h=0;h<=11;h++)f.push(kw(p,h));var g=function(v){var b=Number(v.target.value),w=kw(ca(t.displayMonth),b);t.onChange(w)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:E7;return l.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:s(t.displayMonth,{locale:o}),children:f.map(function(v){return l.jsx("option",{value:v.getMonth(),children:s(v,{locale:o})},v.getMonth())})})}function Tge(t){var e,r=t.displayMonth,n=Ar(),a=n.fromDate,i=n.toDate,o=n.locale,s=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!a)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var h=a.getFullYear(),g=i.getFullYear(),m=h;m<=g;m++)p.push(M6(x7(new Date),m));var v=function(w){var j=M6(ca(r),Number(w.target.value));t.onChange(j)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:E7;return l.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:s.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:p.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:d(w,{locale:o})},w.getFullYear())})})}function Ige(t,e){var r=N.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function Lge(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,o=t.fromDate,s=t.numberOfMonths,c=s===void 0?1:s;if(i&&ch(i,a)<0){var u=-1*(c-1);a=_i(i,u)}return o&&ch(a,o)<0&&(a=o),ca(a)}function Rge(){var t=Ar(),e=Lge(t),r=Ige(e,t.month),n=r[0],a=r[1],i=function(o){var s;if(!t.disableNavigation){var c=ca(o);a(c),(s=t.onMonthChange)===null||s===void 0||s.call(t,c)}};return[n,i]}function Mge(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=ca(t),i=ca(_i(a,n)),o=ch(i,a),s=[],c=0;c<o;c++){var u=_i(a,c);s.push(u)}return r&&(s=s.reverse()),s}function Dge(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=ca(t);if(!r)return _i(s,o);var c=ch(r,t);if(!(c<i))return _i(s,o)}}function $ge(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,o=n?i:1,s=ca(t);if(!r)return _i(s,-o);var c=ch(s,r);if(!(c<=0))return _i(s,-o)}}var T7=N.createContext(void 0);function Fge(t){var e=Ar(),r=Rge(),n=r[0],a=r[1],i=Mge(n,e),o=Dge(n,e),s=$ge(n,e),c=function(f){return i.some(function(p){return Zj(f,p)})},u=function(f,p){c(f)||(p&&k7(f,p)?a(_i(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:c};return l.jsx(T7.Provider,{value:d,children:t.children})}function Th(){var t=N.useContext(T7);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function D6(t){var e,r=Ar(),n=r.classNames,a=r.styles,i=r.components,o=Th().goToMonth,s=function(d){o(_i(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:O7,u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(Ege,{onChange:s,displayMonth:t.displayMonth}),l.jsx(Tge,{onChange:s,displayMonth:t.displayMonth})]})}function Bge(t){return l.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qge(t){return l.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var bg=N.forwardRef(function(t,e){var r=Ar(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var o=i.join(" "),s=yt(yt({},a.button_reset),a.button);return t.style&&Object.assign(s,t.style),l.jsx("button",yt({},t,{ref:e,type:"button",className:o,style:s}))});function Uge(t){var e,r,n=Ar(),a=n.dir,i=n.locale,o=n.classNames,s=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var p=u(t.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:qge,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Bge;return l.jsxs("div",{className:o.nav,style:s.nav,children:[!t.hidePrevious&&l.jsx(bg,{name:"previous-month","aria-label":p,className:h,style:s.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?l.jsx(v,{className:o.nav_icon,style:s.nav_icon}):l.jsx(b,{className:o.nav_icon,style:s.nav_icon})}),!t.hideNext&&l.jsx(bg,{name:"next-month","aria-label":g,className:m,style:s.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?l.jsx(b,{className:o.nav_icon,style:s.nav_icon}):l.jsx(v,{className:o.nav_icon,style:s.nav_icon})})]})}function $6(t){var e=Ar().numberOfMonths,r=Th(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(g){return Zj(t.displayMonth,g)}),c=s===0,u=s===o.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),p=function(){n&&i(n)},h=function(){a&&i(a)};return l.jsx(Uge,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:h})}function zge(t){var e,r=Ar(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,s=r.components,c=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:O7,u;return a?u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=l.jsx(D6,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(D6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx($6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx($6,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:n.caption,style:i.caption,children:u})}function Wge(t){var e=Ar(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?l.jsx("tfoot",{className:a,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function Hge(t,e,r){for(var n=r?Gl(new Date):ro(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var o=Xn(n,i);a.push(o)}return a}function Vge(){var t=Ar(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,o=t.ISOWeek,s=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Hge(a,i,o);return l.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:s(d,{locale:a})},f)})]})}function Gge(){var t,e=Ar(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:Vge;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(i,{})})}function Yge(t){var e=Ar(),r=e.locale,n=e.formatters.formatDay;return l.jsx(l.Fragment,{children:n(t.date,{locale:r})})}var Jj=N.createContext(void 0);function Kge(t){if(!Oh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Jj.Provider,{value:e,children:t.children})}return l.jsx(Xge,{initialProps:t.initialProps,children:t.children})}function Xge(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,o=function(u,d,f){var p,h;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?P7([],n):[];if(d.selected){var b=v.findIndex(function(w){return la(u,w)});v.splice(b,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(p){return la(p,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:s};return l.jsx(Jj.Provider,{value:c,children:r})}function Qj(){var t=N.useContext(Jj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Zge(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?la(a,t)&&la(n,t)?void 0:la(a,t)?{from:a,to:void 0}:la(n,t)?void 0:B5(n,t)?{from:t,to:a}:{from:n,to:t}:a?B5(t,a)?{from:a,to:t}:{from:t,to:a}:n?k7(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var eS=N.createContext(void 0);function Jge(t){if(!Eh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(eS.Provider,{value:e,children:t.children})}return l.jsx(Qge,{initialProps:t.initialProps,children:t.children})}function Qge(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,o=a.to,s=e.min,c=e.max,u=function(h,g,m){var v,b;(v=e.onDayClick)===null||v===void 0||v.call(e,h,g,m);var w=Zge(h,n);(b=e.onSelect)===null||b===void 0||b.call(e,w,h,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],la(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),s&&(i&&!o&&d.disabled.push({after:Aw(i,s-1),before:Xn(i,s-1)}),i&&o&&d.disabled.push({after:i,before:Xn(i,s-1)}),!i&&o&&d.disabled.push({after:Aw(o,s-1),before:Xn(o,s-1)})),c){if(i&&!o&&(d.disabled.push({before:Xn(i,-c+1)}),d.disabled.push({after:Xn(i,c-1)})),i&&o){var f=Gi(o,i)+1,p=c-f;d.disabled.push({before:Aw(i,p)}),d.disabled.push({after:Xn(o,p)})}!i&&o&&(d.disabled.push({before:Xn(o,-c+1)}),d.disabled.push({after:Xn(o,c-1)}))}return l.jsx(eS.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function tS(){var t=N.useContext(eS);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function lm(t){return Array.isArray(t)?P7([],t):t!==void 0?[t]:[]}function eve(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=lm(a)}),e}var ji;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ji||(ji={}));var tve=ji.Selected,So=ji.Disabled,rve=ji.Hidden,nve=ji.Today,Pw=ji.RangeEnd,Cw=ji.RangeMiddle,Ow=ji.RangeStart,ave=ji.Outside;function ive(t,e,r){var n,a=(n={},n[tve]=lm(t.selected),n[So]=lm(t.disabled),n[rve]=lm(t.hidden),n[nve]=[t.today],n[Pw]=[],n[Cw]=[],n[Ow]=[],n[ave]=[],n);return t.fromDate&&a[So].push({before:t.fromDate}),t.toDate&&a[So].push({after:t.toDate}),Oh(t)?a[So]=a[So].concat(e.modifiers[So]):Eh(t)&&(a[So]=a[So].concat(r.modifiers[So]),a[Ow]=r.modifiers[Ow],a[Cw]=r.modifiers[Cw],a[Pw]=r.modifiers[Pw]),a}var I7=N.createContext(void 0);function ove(t){var e=Ar(),r=Qj(),n=tS(),a=ive(e,r,n),i=eve(e.modifiers),o=yt(yt({},a),i);return l.jsx(I7.Provider,{value:o,children:t.children})}function L7(){var t=N.useContext(I7);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function sve(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function lve(t){return!!(t&&typeof t=="object"&&"from"in t)}function cve(t){return!!(t&&typeof t=="object"&&"after"in t)}function uve(t){return!!(t&&typeof t=="object"&&"before"in t)}function dve(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function fve(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=Gi(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Gi(t,n)>=0&&Gi(a,t)>=0;return o}return a?la(a,t):n?la(n,t):!1}function hve(t){return Yj(t)}function pve(t){return Array.isArray(t)&&t.every(Yj)}function mve(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(hve(r))return la(t,r);if(pve(r))return r.includes(t);if(lve(r))return fve(t,r);if(dve(r))return r.dayOfWeek.includes(t.getDay());if(sve(r)){var n=Gi(r.before,t),a=Gi(r.after,t),i=n>0,o=a<0,s=B5(r.before,r.after);return s?o&&i:i||o}return cve(r)?Gi(t,r.after)>0:uve(r)?Gi(r.before,t)>0:typeof r=="function"?r(t):!1})}function rS(t,e,r){var n=Object.keys(e).reduce(function(i,o){var s=e[o];return mve(t,s)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!Zj(t,r)&&(a.outside=!0),a}function gve(t,e){for(var r=ca(t[0]),n=Kj(t[t.length-1]),a,i,o=r;o<=n;){var s=rS(o,e),c=!s.disabled&&!s.hidden;if(!c){o=Xn(o,1);continue}if(s.selected)return o;s.today&&!i&&(i=o),a||(a=o),o=Xn(o,1)}return i||a}var vve=365;function R7(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,o=e.retry,s=o===void 0?{count:0,lastFocused:t}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,p={day:Xn,week:F5,month:_i,year:ime,startOfWeek:function(v){return a.ISOWeek?Gl(v):ro(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?w7(v):Xj(v,{locale:f,weekStartsOn:c})}},h=p[r](t,n==="after"?1:-1);n==="before"&&u?h=ome([u,h]):n==="after"&&d&&(h=sme([d,h]));var g=!0;if(i){var m=rS(h,i);g=!m.disabled&&!m.hidden}return g?h:s.count>vve?s.lastFocused:R7(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:yt(yt({},s),{count:s.count+1})})}var M7=N.createContext(void 0);function yve(t){var e=Th(),r=L7(),n=N.useState(),a=n[0],i=n[1],o=N.useState(),s=o[0],c=o[1],u=gve(e.displayMonths,r),d=a??(s&&e.isDateDisplayed(s))?s:u,f=function(){c(a),i(void 0)},p=function(v){i(v)},h=Ar(),g=function(v,b){if(a){var w=R7(a,{moveBy:v,direction:b,context:h,modifiers:r});la(a,w)||(e.goToDate(w,a),p(w))}},m={focusedDay:a,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(M7.Provider,{value:m,children:t.children})}function nS(){var t=N.useContext(M7);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function bve(t,e){var r=L7(),n=rS(t,r,e);return n}var aS=N.createContext(void 0);function xve(t){if(!$v(t.initialProps)){var e={selected:void 0};return l.jsx(aS.Provider,{value:e,children:t.children})}return l.jsx(wve,{initialProps:t.initialProps,children:t.children})}function wve(t){var e=t.initialProps,r=t.children,n=function(i,o,s){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,s),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,o,s);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,s)},a={selected:e.selected,onDayClick:n};return l.jsx(aS.Provider,{value:a,children:r})}function D7(){var t=N.useContext(aS);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _ve(t,e){var r=Ar(),n=D7(),a=Qj(),i=tS(),o=nS(),s=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,p=o.focus,h=o.focusMonthBefore,g=o.focusMonthAfter,m=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,w=o.focusEndOfWeek,j=function(W){var F,ae,re,oe;$v(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,W):Oh(r)?(ae=a.onDayClick)===null||ae===void 0||ae.call(a,t,e,W):Eh(r)?(re=i.onDayClick)===null||re===void 0||re.call(i,t,e,W):(oe=r.onDayClick)===null||oe===void 0||oe.call(r,t,e,W)},_=function(W){var F;p(t),(F=r.onDayFocus)===null||F===void 0||F.call(r,t,e,W)},S=function(W){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,t,e,W)},k=function(W){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,t,e,W)},A=function(W){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,t,e,W)},E=function(W){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,t,e,W)},I=function(W){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,t,e,W)},L=function(W){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,t,e,W)},P=function(W){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,t,e,W)},O=function(W){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,t,e,W)},D=function(W){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,t,e,W)},M=function(W){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,t,e,W)},G=function(W){var F;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?s():c();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?c():s();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),u();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),d();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?m():h();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?v():g();break;case"Home":W.preventDefault(),W.stopPropagation(),b();break;case"End":W.preventDefault(),W.stopPropagation(),w();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,t,e,W)},Y={onClick:j,onFocus:_,onBlur:S,onKeyDown:G,onKeyUp:M,onMouseEnter:k,onMouseLeave:A,onPointerEnter:E,onPointerLeave:I,onTouchCancel:L,onTouchEnd:P,onTouchMove:O,onTouchStart:D};return Y}function jve(){var t=Ar(),e=D7(),r=Qj(),n=tS(),a=$v(t)?e.selected:Oh(t)?r.selected:Eh(t)?n.selected:void 0;return a}function Sve(t){return Object.values(ji).includes(t)}function Nve(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(Sve(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Ave(t,e){var r=yt({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=yt(yt({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function kve(t,e,r){var n,a,i,o=Ar(),s=nS(),c=bve(t,e),u=_ve(t,c),d=jve(),f=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var k;c.outside||s.focusedDay&&f&&la(s.focusedDay,t)&&((k=r.current)===null||k===void 0||k.focus())},[s.focusedDay,t,r,f,c.outside]);var p=Nve(o,c).join(" "),h=Ave(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),m=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Yge,v=l.jsx(m,{date:t,displayMonth:e,activeModifiers:c}),b={style:h,className:p,children:v,role:"gridcell"},w=s.focusTarget&&la(s.focusTarget,t)&&!c.outside,j=s.focusedDay&&la(s.focusedDay,t),_=yt(yt(yt({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||w?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function Pve(t){var e=N.useRef(null),r=kve(t.date,t.displayMonth,e);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(bg,yt({name:"day",ref:e},r.buttonProps)):l.jsx("div",yt({},r.divProps))}function Cve(t){var e=t.number,r=t.dates,n=Ar(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,s=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:s});if(!a)return l.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:s}),p=function(h){a(e,r,h)};return l.jsx(bg,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:p,children:d})}function Ove(t){var e,r,n=Ar(),a=n.styles,i=n.classNames,o=n.showWeekNumber,s=n.components,c=(e=s==null?void 0:s.Day)!==null&&e!==void 0?e:Pve,u=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:Cve,d;return o&&(d=l.jsx("td",{className:i.cell,style:a.cell,children:l.jsx(u,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return l.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:l.jsx(c,{displayMonth:t.displayMonth,date:f})},oge(f))})]})}function F6(t,e,r){for(var n=r!=null&&r.ISOWeek?w7(e):Xj(e,r),a=r!=null&&r.ISOWeek?Gl(t):ro(t,r),i=Gi(n,a),o=[],s=0;s<=i;s++)o.push(Xn(a,s));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?j7(d):N7(d,r),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Eve(t,e){var r=F6(ca(t),Kj(t),e);if(e!=null&&e.useFixedWeeks){var n=lge(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=F5(i,6-n),s=F6(F5(i,1),o,e);r.push.apply(r,s)}}return r}function Tve(t){var e,r,n,a=Ar(),i=a.locale,o=a.classNames,s=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,g=Eve(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Gge,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Ove,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Wge;return l.jsxs("table",{id:t.id,className:o.table,style:s.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&l.jsx(m,{}),l.jsx("tbody",{className:o.tbody,style:s.tbody,children:g.map(function(w){return l.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(b,{displayMonth:t.displayMonth})]})}function Ive(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Lve=Ive()?N.useLayoutEffect:N.useEffect,Ew=!1,Rve=0;function B6(){return"react-day-picker-".concat(++Rve)}function Mve(t){var e,r=t??(Ew?B6():null),n=N.useState(r),a=n[0],i=n[1];return Lve(function(){a===null&&i(B6())},[]),N.useEffect(function(){Ew===!1&&(Ew=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function Dve(t){var e,r,n=Ar(),a=n.dir,i=n.classNames,o=n.styles,s=n.components,c=Th().displayMonths,u=Mve(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],p=o.month,h=t.displayIndex===0,g=t.displayIndex===c.length-1,m=!h&&!g;a==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(i.caption_start),p=yt(yt({},p),o.caption_start)),g&&(f.push(i.caption_end),p=yt(yt({},p),o.caption_end)),m&&(f.push(i.caption_between),p=yt(yt({},p),o.caption_between));var v=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:zge;return l.jsxs("div",{className:f.join(" "),style:p,children:[l.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(Tve,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function $ve(t){var e=Ar(),r=e.classNames,n=e.styles;return l.jsx("div",{className:r.months,style:n.months,children:t.children})}function Fve(t){var e,r,n=t.initialProps,a=Ar(),i=nS(),o=Th(),s=N.useState(!1),c=s[0],u=s[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=yt(yt({},a.styles.root),a.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return yt(yt({},g),(v={},v[m]=n[m],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:$ve;return l.jsx("div",yt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:l.jsx(h,{children:o.displayMonths.map(function(g,m){return l.jsx(Dve,{displayIndex:m,displayMonth:g},m)})})}))}function Bve(t){var e=t.children,r=uge(t,["children"]);return l.jsx(Cge,{initialProps:r,children:l.jsx(Fge,{children:l.jsx(xve,{initialProps:r,children:l.jsx(Kge,{initialProps:r,children:l.jsx(Jge,{initialProps:r,children:l.jsx(ove,{children:l.jsx(yve,{children:e})})})})})})})}function qve(t){return l.jsx(Bve,yt({},t,{children:l.jsx(Fve,{initialProps:t})}))}function Uve({className:t,classNames:e,showOutsideDays:r=!0,...n}){return l.jsx(qve,{showOutsideDays:r,className:Fe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Fe(yf({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Fe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Fe(yf({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:a,...i})=>l.jsx(bT,{className:Fe("size-4",a),...i}),IconRight:({className:a,...i})=>l.jsx(cm,{className:Fe("size-4",a),...i})},...n})}function zve(){const[t,e]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState({from:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),to:new Date});N.useEffect(()=>{a.from&&a.to&&o()},[a]);const o=async()=>{if(!(!a.from||!a.to))try{n(!0);const u=a.from.toISOString().split("T")[0],d=a.to.toISOString().split("T")[0],f=await fI(u,d);e(f||[])}catch(u){console.error("Error fetching sales data:",u),e([])}finally{n(!1)}},s=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),c=({active:u,payload:d,label:f})=>u&&d&&d.length?l.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-medium",children:f}),l.jsxs("p",{className:"text-blue-600",children:["Sales: ",s(d[0].value)]}),l.jsxs("p",{className:"text-gray-600",children:["Orders: ",d[0].payload.orders_count]})]}):null;return l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(qt,{children:"Sales Overview"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Qpe,{children:[l.jsx(eme,{asChild:!0,children:l.jsxs(we,{variant:"outline",size:"sm",children:[l.jsx(yT,{className:"h-4 w-4 mr-2"}),a.from?a.to?l.jsxs(l.Fragment,{children:[Zi(a.from,"LLL dd, y")," -"," ",Zi(a.to,"LLL dd, y")]}):Zi(a.from,"LLL dd, y"):"Pick a date range"]})}),l.jsx(tme,{className:"w-auto p-0",align:"end",children:l.jsx(Uve,{initialFocus:!0,mode:"range",defaultMonth:a.from,selected:{from:a.from,to:a.to},onSelect:u=>{i({from:u==null?void 0:u.from,to:u==null?void 0:u.to})},numberOfMonths:2})})]})})]})}),l.jsx(We,{children:r?l.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[l.jsx(qa,{className:"h-6 w-6 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading sales data..."})]}):t.length===0?l.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No sales data found for the selected period"}):l.jsx(bR,{width:"100%",height:300,children:l.jsxs(bhe,{data:t,children:[l.jsx(SD,{strokeDasharray:"3 3"}),l.jsx(Pv,{dataKey:"month"}),l.jsx(Cv,{tickFormatter:s}),l.jsx(hi,{content:l.jsx(c,{})}),l.jsx(nc,{dataKey:"sales",fill:"#8884d8"})]})})})]})}const q6=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function Wve(){const[t,e]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const s=(await hI()||[]).map((c,u)=>({name:c.category_name,value:c.product_count,percentage:c.percentage,color:q6[u%q6.length]}));e(s)}catch(o){console.error("Error fetching category data:",o),e([])}finally{n(!1)}})()},[]);const a=({active:i,payload:o})=>{if(i&&o&&o.length){const s=o[0].payload;return l.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-medium",children:s.name}),l.jsxs("p",{className:"text-blue-600",children:["Products: ",s.value]}),l.jsxs("p",{className:"text-gray-600",children:["Percentage: ",s.percentage.toFixed(1),"%"]})]})}return null};return l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Product Distribution by Category"})}),l.jsx(We,{children:r?l.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[l.jsx(qa,{className:"h-6 w-6 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading category data..."})]}):t.length===0?l.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No category data available"}):l.jsx(bR,{width:"100%",height:300,children:l.jsxs(xhe,{children:[l.jsx(Zo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percentage:o})=>`${i} ${o.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((i,o)=>l.jsx(nv,{fill:i.color},`cell-${o}`))}),l.jsx(hi,{content:l.jsx(a,{})})]})})})]})}function Hve({className:t,...e}){return l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:Fe("w-full caption-bottom text-sm",t),...e})})}function Vve({className:t,...e}){return l.jsx("thead",{"data-slot":"table-header",className:Fe("[&_tr]:border-b",t),...e})}function Gve({className:t,...e}){return l.jsx("tbody",{"data-slot":"table-body",className:Fe("[&_tr:last-child]:border-0",t),...e})}function U6({className:t,...e}){return l.jsx("tr",{"data-slot":"table-row",className:Fe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function si({className:t,...e}){return l.jsx("th",{"data-slot":"table-head",className:Fe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function li({className:t,...e}){return l.jsx("td",{"data-slot":"table-cell",className:Fe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function q5(t,[e,r]){return Math.min(r,Math.max(e,t))}function Fv(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Yve="VisuallyHidden",Kve=N.forwardRef((t,e)=>l.jsx(at.span,{...t,ref:e,style:{...$7,...t.style}}));Kve.displayName=Yve;var Xve=[" ","Enter","ArrowUp","ArrowDown"],Zve=[" ","Enter"],Yl="Select",[Bv,qv,Jve]=E_(Yl),[od,Hxe]=Tn(Yl,[Jve,Mv]),Uv=Mv(),[Qve,Hs]=od(Yl),[e0e,t0e]=od(Yl),F7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,m=Uv(e),[v,b]=N.useState(null),[w,j]=N.useState(null),[_,S]=N.useState(!1),k=Ku(u),[A,E]=Va({prop:n,defaultProp:a??!1,onChange:i,caller:Yl}),[I,L]=Va({prop:o,defaultProp:s,onChange:c,caller:Yl}),P=N.useRef(null),O=v?g||!!v.closest("form"):!0,[D,M]=N.useState(new Set),G=Array.from(D).map(Y=>Y.props.value).join(";");return l.jsx(o7,{...m,children:l.jsxs(Qve,{required:h,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:vi(),value:I,onValueChange:L,open:A,onOpenChange:E,dir:k,triggerPointerDownPosRef:P,disabled:p,children:[l.jsx(Bv.Provider,{scope:e,children:l.jsx(e0e,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(Y=>{M(W=>new Set(W).add(Y))},[]),onNativeOptionRemove:N.useCallback(Y=>{M(W=>{const F=new Set(W);return F.delete(Y),F})},[]),children:r})}),O?l.jsxs(s$,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:Y=>L(Y.target.value),disabled:p,form:g,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(D)]},G):null]})})};F7.displayName=Yl;var B7="SelectTrigger",q7=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=Uv(r),o=Hs(B7,r),s=o.disabled||n,c=Lt(e,o.onTriggerChange),u=qv(r),d=N.useRef("touch"),[f,p,h]=c$(m=>{const v=u().filter(j=>!j.disabled),b=v.find(j=>j.value===o.value),w=u$(v,m,b);w!==void 0&&o.onValueChange(w.value)}),g=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(Hj,{asChild:!0,...i,children:l.jsx(at.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":l$(o.value)?"":void 0,...a,ref:c,onClick:ut(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:ut(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ut(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&Xve.includes(m.key)&&(g(),m.preventDefault())})})})});q7.displayName=B7;var U7="SelectValue",z7=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...s}=t,c=Hs(U7,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Lt(e,c.onValueNodeChange);return en(()=>{u(d)},[u,d]),l.jsx(at.span,{...s,ref:f,style:{pointerEvents:"none"},children:l$(c.value)?l.jsx(l.Fragment,{children:o}):i})});z7.displayName=U7;var r0e="SelectIcon",W7=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return l.jsx(at.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});W7.displayName=r0e;var n0e="SelectPortal",H7=t=>l.jsx(Ig,{asChild:!0,...t});H7.displayName=n0e;var Kl="SelectContent",V7=N.forwardRef((t,e)=>{const r=Hs(Kl,t.__scopeSelect),[n,a]=N.useState();if(en(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ag.createPortal(l.jsx(G7,{scope:t.__scopeSelect,children:l.jsx(Bv.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(Y7,{...t,ref:e})});V7.displayName=Kl;var di=10,[G7,Vs]=od(Kl),a0e="SelectContentImpl",i0e=Ll("SelectContent.RemoveScroll"),Y7=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=t,w=Hs(Kl,r),[j,_]=N.useState(null),[S,k]=N.useState(null),A=Lt(e,se=>_(se)),[E,I]=N.useState(null),[L,P]=N.useState(null),O=qv(r),[D,M]=N.useState(!1),G=N.useRef(!1);N.useEffect(()=>{if(j)return b_(j)},[j]),y_();const Y=N.useCallback(se=>{const[de,...ie]=O().map(ue=>ue.ref.current),[he]=ie.slice(-1),ge=document.activeElement;for(const ue of se)if(ue===ge||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&S&&(S.scrollTop=0),ue===he&&S&&(S.scrollTop=S.scrollHeight),ue==null||ue.focus(),document.activeElement!==ge))return},[O,S]),W=N.useCallback(()=>Y([E,j]),[Y,E,j]);N.useEffect(()=>{D&&W()},[D,W]);const{onOpenChange:F,triggerPointerDownPosRef:ae}=w;N.useEffect(()=>{if(j){let se={x:0,y:0};const de=he=>{var ge,ue;se={x:Math.abs(Math.round(he.pageX)-(((ge=ae.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ue=ae.current)==null?void 0:ue.y)??0))}},ie=he=>{se.x<=10&&se.y<=10?he.preventDefault():j.contains(he.target)||F(!1),document.removeEventListener("pointermove",de),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ie,{capture:!0})}}},[j,F,ae]),N.useEffect(()=>{const se=()=>F(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[F]);const[re,oe]=c$(se=>{const de=O().filter(ge=>!ge.disabled),ie=de.find(ge=>ge.ref.current===document.activeElement),he=u$(de,se,ie);he&&setTimeout(()=>he.ref.current.focus())}),$=N.useCallback((se,de,ie)=>{const he=!G.current&&!ie;(w.value!==void 0&&w.value===de||he)&&(I(se),he&&(G.current=!0))},[w.value]),U=N.useCallback(()=>j==null?void 0:j.focus(),[j]),z=N.useCallback((se,de,ie)=>{const he=!G.current&&!ie;(w.value!==void 0&&w.value===de||he)&&P(se)},[w.value]),J=n==="popper"?U5:K7,le=J===U5?{side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return l.jsx(G7,{scope:r,content:j,viewport:S,onViewportChange:k,itemRefCallback:$,selectedItem:E,onItemLeave:U,itemTextRefCallback:z,focusSelectedItem:W,selectedItemText:L,position:n,isPositioned:D,searchRef:re,children:l.jsx(Rg,{as:i0e,allowPinchZoom:!0,children:l.jsx(Tg,{asChild:!0,trapped:w.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:ut(a,se=>{var de;(de=w.trigger)==null||de.focus({preventScroll:!0}),se.preventDefault()}),children:l.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(J,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:se=>se.preventDefault(),...b,...le,onPlaced:()=>M(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ut(b.onKeyDown,se=>{const de=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!de&&se.key.length===1&&oe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let he=O().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(se.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ge=se.target,ue=he.indexOf(ge);he=he.slice(ue+1)}setTimeout(()=>Y(he)),se.preventDefault()}})})})})})})});Y7.displayName=a0e;var o0e="SelectItemAlignedPosition",K7=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=Hs(Kl,r),o=Vs(Kl,r),[s,c]=N.useState(null),[u,d]=N.useState(null),f=Lt(e,A=>d(A)),p=qv(r),h=N.useRef(!1),g=N.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,j=N.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&u&&m&&v&&b){const A=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),L=b.getBoundingClientRect();if(i.dir!=="rtl"){const ge=L.left-E.left,ue=I.left-ge,Pe=A.left-ue,me=A.width+Pe,Q=Math.max(me,E.width),Ve=window.innerWidth-di,Be=q5(ue,[di,Math.max(di,Ve-Q)]);s.style.minWidth=me+"px",s.style.left=Be+"px"}else{const ge=E.right-L.right,ue=window.innerWidth-I.right-ge,Pe=window.innerWidth-A.right-ue,me=A.width+Pe,Q=Math.max(me,E.width),Ve=window.innerWidth-di,Be=q5(ue,[di,Math.max(di,Ve-Q)]);s.style.minWidth=me+"px",s.style.right=Be+"px"}const P=p(),O=window.innerHeight-di*2,D=m.scrollHeight,M=window.getComputedStyle(u),G=parseInt(M.borderTopWidth,10),Y=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),F=parseInt(M.paddingBottom,10),ae=G+Y+D+F+W,re=Math.min(v.offsetHeight*5,ae),oe=window.getComputedStyle(m),$=parseInt(oe.paddingTop,10),U=parseInt(oe.paddingBottom,10),z=A.top+A.height/2-di,J=O-z,le=v.offsetHeight/2,se=v.offsetTop+le,de=G+Y+se,ie=ae-de;if(de<=z){const ge=P.length>0&&v===P[P.length-1].ref.current;s.style.bottom="0px";const ue=u.clientHeight-m.offsetTop-m.offsetHeight,Pe=Math.max(J,le+(ge?U:0)+ue+W),me=de+Pe;s.style.height=me+"px"}else{const ge=P.length>0&&v===P[0].ref.current;s.style.top="0px";const Pe=Math.max(z,G+m.offsetTop+(ge?$:0)+le)+ie;s.style.height=Pe+"px",m.scrollTop=de-z+m.offsetTop}s.style.margin=`${di}px 0`,s.style.minHeight=re+"px",s.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,s,u,m,v,b,i.dir,n]);en(()=>j(),[j]);const[_,S]=N.useState();en(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=N.useCallback(A=>{A&&g.current===!0&&(j(),w==null||w(),g.current=!1)},[j,w]);return l.jsx(l0e,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(at.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});K7.displayName=o0e;var s0e="SelectPopperPosition",U5=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=di,...i}=t,o=Uv(r);return l.jsx(s7,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});U5.displayName=s0e;var[l0e,iS]=od(Kl,{}),z5="SelectViewport",X7=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=Vs(z5,r),o=iS(z5,r),s=Lt(e,i.onViewportChange),c=N.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Bv.Slot,{scope:r,children:l.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ut(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-di*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(m,v);if(b<g){const w=b+h,j=Math.min(g,w),_=w-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});X7.displayName=z5;var Z7="SelectGroup",[c0e,u0e]=od(Z7),d0e=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=vi();return l.jsx(c0e,{scope:r,id:a,children:l.jsx(at.div,{role:"group","aria-labelledby":a,...n,ref:e})})});d0e.displayName=Z7;var J7="SelectLabel",f0e=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=u0e(J7,r);return l.jsx(at.div,{id:a.id,...n,ref:e})});f0e.displayName=J7;var xg="SelectItem",[h0e,Q7]=od(xg),e$=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,s=Hs(xg,r),c=Vs(xg,r),u=s.value===n,[d,f]=N.useState(i??""),[p,h]=N.useState(!1),g=Lt(e,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,n,a)}),m=vi(),v=N.useRef("touch"),b=()=>{a||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(h0e,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:N.useCallback(w=>{f(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Bv.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:l.jsx(at.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ut(o.onFocus,()=>h(!0)),onBlur:ut(o.onBlur,()=>h(!1)),onClick:ut(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:ut(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:ut(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ut(o.onPointerMove,w=>{var j;v.current=w.pointerType,a?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ut(o.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ut(o.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(Zve.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});e$.displayName=xg;var of="SelectItemText",t$=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=Hs(of,r),s=Vs(of,r),c=Q7(of,r),u=t0e(of,r),[d,f]=N.useState(null),p=Lt(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=N.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return en(()=>(m(g),()=>v(g)),[m,v,g]),l.jsxs(l.Fragment,{children:[l.jsx(at.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ag.createPortal(i.children,o.valueNode):null]})});t$.displayName=of;var r$="SelectItemIndicator",n$=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Q7(r$,r).isSelected?l.jsx(at.span,{"aria-hidden":!0,...n,ref:e}):null});n$.displayName=r$;var W5="SelectScrollUpButton",a$=N.forwardRef((t,e)=>{const r=Vs(W5,t.__scopeSelect),n=iS(W5,t.__scopeSelect),[a,i]=N.useState(!1),o=Lt(e,n.onScrollButtonChange);return en(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?l.jsx(o$,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});a$.displayName=W5;var H5="SelectScrollDownButton",i$=N.forwardRef((t,e)=>{const r=Vs(H5,t.__scopeSelect),n=iS(H5,t.__scopeSelect),[a,i]=N.useState(!1),o=Lt(e,n.onScrollButtonChange);return en(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),a?l.jsx(o$,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});i$.displayName=H5;var o$=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=Vs("SelectScrollButton",r),o=N.useRef(null),s=qv(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),en(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),l.jsx(at.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:ut(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ut(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ut(a.onPointerLeave,()=>{c()})})}),p0e="SelectSeparator",m0e=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l.jsx(at.div,{"aria-hidden":!0,...n,ref:e})});m0e.displayName=p0e;var V5="SelectArrow",g0e=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Uv(r),i=Hs(V5,r),o=Vs(V5,r);return i.open&&o.position==="popper"?l.jsx(l7,{...a,...n,ref:e}):null});g0e.displayName=V5;var v0e="SelectBubbleInput",s$=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=N.useRef(null),i=Lt(n,a),o=Fv(e);return N.useEffect(()=>{const s=a.current;if(!s)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[o,e]),l.jsx(at.select,{...r,style:{...$7,...r.style},ref:i,defaultValue:e})});s$.displayName=v0e;function l$(t){return t===""||t===void 0}function c$(t){const e=Un(t),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(o=>{const s=r.current+o;e(s),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(s)},[e]),i=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function u$(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=y0e(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function y0e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var b0e=F7,x0e=q7,w0e=z7,_0e=W7,j0e=H7,S0e=V7,N0e=X7,A0e=e$,k0e=t$,P0e=n$,C0e=a$,O0e=i$;function sd({...t}){return l.jsx(b0e,{"data-slot":"select",...t})}function ld({...t}){return l.jsx(w0e,{"data-slot":"select-value",...t})}function cd({className:t,size:e="default",children:r,...n}){return l.jsxs(x0e,{"data-slot":"select-trigger","data-size":e,className:Fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,l.jsx(_0e,{asChild:!0,children:l.jsx(Q5,{className:"size-4 opacity-50"})})]})}function ud({className:t,children:e,position:r="popper",...n}){return l.jsx(j0e,{children:l.jsxs(S0e,{"data-slot":"select-content",className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[l.jsx(E0e,{}),l.jsx(N0e,{className:Fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(T0e,{})]})})}function lr({className:t,children:e,...r}){return l.jsxs(A0e,{"data-slot":"select-item",className:Fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(P0e,{children:l.jsx(Pg,{className:"size-4"})})}),l.jsx(k0e,{children:e})]})}function E0e({className:t,...e}){return l.jsx(C0e,{"data-slot":"select-scroll-up-button",className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(GB,{className:"size-4"})})}function T0e({className:t,...e}){return l.jsx(O0e,{"data-slot":"select-scroll-down-button",className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Q5,{className:"size-4"})})}const ef=t=>{switch(t){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},I0e=["all","pending","processing","shipped","delivered","cancelled"];function z6({showActions:t=!1}){const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),[s,c]=N.useState(!1),[u,d]=N.useState(null),[f,p]=N.useState(!1),h=I0e,[g,m]=N.useState("all"),v=N.useRef([]),[b,w]=N.useState({width:0,left:0});N.useEffect(()=>{j()},[t]),N.useEffect(()=>{const O=()=>{const D=h.indexOf(g),M=v.current[D];if(M){const G=M.offsetWidth,Y=M.offsetLeft;w(W=>W.width!==G||W.left!==Y?{width:G,left:Y}:W)}};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[g,h]);const j=async()=>{try{const O=t?await nI():await pI(10);if(t&&Array.isArray(O)){const D=O.map(M=>{var G,Y,W;return{id:M.id,order_id:M.id,customer_email:((G=M.users)==null?void 0:G.email)||"N/A",customer_name:((Y=M.users)==null?void 0:Y.name)||"N/A",amount:M.total_amount,status:M.status,order_date:new Date(M.created_at).toLocaleDateString(),shipping_address:M.shipping_address,order_items:M.order_items||[],payment_method:((W=M.shipping_address)==null?void 0:W.paymentMethod)||"N/A"}});r(D)}else if(!t&&Array.isArray(O)){const D=O.map(M=>({id:M.order_id,order_id:M.order_id,customer_email:M.customer_email,customer_name:M.customer_name||"N/A",amount:M.amount,status:M.status,order_date:new Date(M.order_date).toLocaleDateString(),shipping_address:null,order_items:[],payment_method:"N/A"}));r(D)}}catch(O){console.error("Error fetching orders:",O),Ce.error("Failed to load orders")}finally{a(!1)}},_=async(O,D)=>{c(!0);try{await aI(O,D)?(r(G=>G.map(Y=>Y.order_id===O?{...Y,status:D}:Y)),(i==null?void 0:i.order_id)===O&&o(G=>G?{...G,status:D}:null),["pending","processing","shipped","delivered"].includes(D)&&d(D),Ce.success(`Order status updated to ${D}`)):Ce.error("Failed to update order status")}catch(M){console.error("Error updating order status:",M),Ce.error("Failed to update order status")}finally{c(!1)}};N.useEffect(()=>{if(u){const O=setTimeout(()=>d(null),1200);return()=>clearTimeout(O)}},[u]);const S=O=>({pending:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered"],delivered:[],cancelled:[]})[O]||[],k=O=>{switch(O.toLowerCase()){case"pending":return l.jsx(wf,{className:"h-4 w-4"});case"processing":return l.jsx(qa,{className:"h-4 w-4"});case"shipped":return l.jsx(pu,{className:"h-4 w-4"});case"delivered":return l.jsx(uh,{className:"h-4 w-4"});case"cancelled":return l.jsx(t_,{className:"h-4 w-4"});default:return l.jsx(wf,{className:"h-4 w-4"})}},A=O=>_l(O),E=async O=>{try{const D={...O,status:O.status,payment_method:O.payment_method};await eL(D),Ce.success("Invoice opened for printing")}catch(D){console.error("Error printing invoice:",D),Ce.error(D instanceof Error?D.message:"Failed to print invoice")}},I=async O=>{try{const D={...O,status:O.status,payment_method:O.payment_method};await Q8(D),Ce.success("PDF downloaded successfully")}catch(D){console.error("Error generating PDF:",D),Ce.error("Failed to generate PDF")}},L=async O=>{try{const D={...O,status:O.status,payment_method:O.payment_method};await tL(D)}catch(D){console.error("Error viewing invoice:",D),Ce.error("Failed to view invoice")}};if(n)return l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx(qa,{className:"h-6 w-6 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading orders..."})]});if(e.length===0)return l.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No orders found"});const P=g==="all"?e:e.filter(O=>O.status.toLowerCase()===g);return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-full overflow-x-auto pb-1",children:l.jsx("div",{className:"inline-block min-w-full md:min-w-0",children:l.jsxs("div",{className:"relative inline-flex rounded-lg border border-neutral-800 bg-neutral-900/60 backdrop-blur px-1 py-1",children:[l.jsx("div",{className:"absolute top-1 bottom-1 rounded-md bg-gradient-to-r from-rose-500 to-pink-600 shadow-inner transition-all duration-300 ease-out",style:{width:b.width,transform:`translateX(${b.left}px)`}}),l.jsx("div",{className:"flex space-x-1 relative z-10",children:h.map((O,D)=>{const M=g===O;return l.jsx("button",{ref:G=>{v.current[D]=G},onClick:()=>m(O),className:`px-3 md:px-4 py-1.5 text-xs md:text-sm font-medium rounded-md whitespace-nowrap transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${M?"text-white":"text-neutral-400 hover:text-neutral-200"}`,"aria-pressed":M,type:"button",children:O==="all"?"All":O.charAt(0).toUpperCase()+O.slice(1)},O)})})]})})}),t&&l.jsx("div",{className:"flex items-center justify-end gap-3",children:l.jsx("button",{type:"button",onClick:()=>p(O=>!O),className:`text-[11px] px-2 py-1 rounded-md border transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 ${f?"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-pink-600":"bg-neutral-900/60 border-neutral-700 hover:border-neutral-500 text-neutral-300"}`,"aria-pressed":f,children:f?"Normal view":"Ultra compact"})}),l.jsxs(Hve,{children:[l.jsx(Vve,{children:l.jsx(U6,{children:f?l.jsxs(l.Fragment,{children:[l.jsx(si,{className:"h-7 py-0.5 text-[10px] w-[42%]",children:"Order / Customer"}),l.jsx(si,{className:"h-7 py-0.5 text-[10px] w-[28%]",children:"Amount / Meta"}),l.jsx(si,{className:"h-7 py-0.5 text-[10px] w-[18%]",children:"Status"}),t&&l.jsx(si,{className:"h-7 py-0.5 text-[10px] w-[12%] text-right",children:"Actions"})]}):l.jsxs(l.Fragment,{children:[l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Order ID"}),l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Customer"}),l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Amount"}),l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Status"}),l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Payment"}),l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Date"}),t&&l.jsx(si,{className:"h-8 py-0.5 text-[11px]",children:"Actions"})]})})}),l.jsx(Gve,{children:P.map(O=>l.jsx(U6,{className:"cursor-pointer hover:bg-neutral-50",onClick:()=>o(O),children:f?l.jsxs(l.Fragment,{children:[l.jsx(li,{className:"py-1 text-[10px] leading-[12px]",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"font-medium",children:["#",O.order_id.slice(-8)]}),l.jsx("div",{className:"text-neutral-600",children:O.customer_name}),l.jsx("div",{className:"text-neutral-500",children:O.customer_email})]})}),l.jsx(li,{className:"py-1 text-[10px] leading-[12px]",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"font-medium",children:A(O.amount)}),l.jsxs("div",{className:"text-neutral-600",children:[O.payment_method==="cash-on-delivery"&&" COD",O.payment_method==="bank-transfer"&&" Bank",O.payment_method==="credit-card"&&" Card",!O.payment_method||O.payment_method==="N/A"?"N/A":O.payment_method]}),l.jsx("div",{className:"text-neutral-500",children:O.order_date})]})}),l.jsx(li,{className:"py-1",children:l.jsxs(Ut,{className:`${ef(O.status)} flex items-center gap-1 w-fit text-[9px] px-1.5 py-0.5`,children:[k(O.status),O.status]})}),t&&l.jsx(li,{className:"py-1 text-right",children:l.jsx(we,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:D=>{D.stopPropagation(),o(O)},children:l.jsx(Ji,{className:"h-3 w-3"})})})]}):l.jsxs(l.Fragment,{children:[l.jsxs(li,{className:"font-medium",children:["#",O.order_id.slice(-8)]}),l.jsx(li,{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:O.customer_name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:O.customer_email})]})}),l.jsx(li,{className:"font-medium",children:A(O.amount)}),l.jsx(li,{children:l.jsxs(Ut,{className:`${ef(O.status)} flex items-center gap-1 w-fit`,children:[k(O.status),O.status]})}),l.jsx(li,{children:l.jsxs("div",{className:"text-sm",children:[O.payment_method==="cash-on-delivery"&&" COD",O.payment_method==="bank-transfer"&&" Bank Transfer",O.payment_method==="credit-card"&&" Card",!O.payment_method||O.payment_method==="N/A"?"N/A":O.payment_method]})}),l.jsx(li,{children:O.order_date}),t&&l.jsx(li,{children:l.jsxs(we,{variant:"outline",size:"sm",onClick:D=>{D.stopPropagation(),o(O)},children:[l.jsx(Ji,{className:"h-4 w-4 mr-1"}),"View Details"]})})]})},O.order_id))})]}),i&&l.jsx(Fo,{open:!!i,onOpenChange:()=>o(null),children:l.jsxs(Qi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-5",children:[l.jsx(Bo,{children:l.jsxs(qo,{className:"flex items-center gap-2 text-base sm:text-lg",children:[l.jsxs("span",{className:"font-semibold",children:["Order #",i==null?void 0:i.order_id.slice(-8)]}),l.jsx(Ut,{className:`${i?ef(i.status):""} text-[10px] px-2 py-0.5`,children:i==null?void 0:i.status})]})}),i&&l.jsxs("div",{className:"sticky top-0 z-20 -mx-4 sm:-mx-5 px-4 sm:px-5 py-2 bg-neutral-950/80 backdrop-blur supports-[backdrop-filter]:bg-neutral-950/60 border-b border-neutral-800 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-[11px] font-medium tracking-wide text-neutral-300",children:["#",i.order_id.slice(-8)]}),l.jsx(Ut,{className:`${ef(i.status)} text-[9px] px-2 py-0.5`,children:i.status})]}),l.jsx("div",{className:"flex items-center gap-1",children:["pending","processing","shipped","delivered"].map((O,D)=>{const M=["pending","processing","shipped","delivered"].indexOf(i.status),G=D,Y=M>G,W=M===G,F={pending:W?"text-amber-400":Y?"text-amber-600":"text-neutral-600",processing:W?"text-violet-400":Y?"text-violet-600":"text-neutral-600",shipped:W?"text-sky-400":Y?"text-sky-600":"text-neutral-600",delivered:W?"text-emerald-400":Y?"text-emerald-600":"text-neutral-600"};return l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[u===O&&W&&l.jsx("span",{className:`absolute inline-flex h-4 w-4 rounded-full ${F[O].replace("text-","bg-")} opacity-60 animate-ping`}),l.jsx(xT,{className:`h-3 w-3 ${F[O]} ${W?"drop-shadow-[0_0_4px_rgba(255,255,255,0.35)]":""}`})]}),O!=="delivered"&&l.jsx("span",{className:`mx-0.5 h-px w-3 ${M>=G?"bg-neutral-500":"bg-neutral-700"}`})]},O)})})]}),i&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:l.jsx(We,{className:"py-3 px-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx($o,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-xs font-medium leading-tight",children:"Customer"}),l.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:i.customer_name}),l.jsx("p",{className:"text-[10px] text-muted-foreground break-all leading-tight",children:i.customer_email})]})]})})}),l.jsx(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:l.jsx(We,{className:"py-3 px-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(yT,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-xs font-medium leading-tight",children:"Order Date"}),l.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:i.order_date})]})]})})}),l.jsx(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:l.jsx(We,{className:"py-3 px-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(oq,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-xs font-medium leading-tight",children:"Total"}),l.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:A(i.amount)}),l.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:i.payment_method})]})]})})})]}),i.shipping_address&&l.jsxs(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:[l.jsx(Bt,{className:"pb-2 px-3 pt-3",children:l.jsxs(qt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[l.jsx(a_,{className:"h-4 w-4"}),"Shipping"]})}),l.jsx(We,{className:"px-3 pb-3 pt-0",children:l.jsxs("div",{className:"text-[11px] space-y-0.5 leading-tight",children:[l.jsxs("p",{className:"font-medium",children:[i.shipping_address.firstName," ",i.shipping_address.lastName]}),l.jsx("p",{children:i.shipping_address.address}),l.jsxs("p",{children:[i.shipping_address.city,", ",i.shipping_address.state," ",i.shipping_address.zipCode]}),l.jsx("p",{children:i.shipping_address.country}),l.jsxs("p",{className:"text-muted-foreground",children:[" ",i.shipping_address.phone]}),l.jsxs("p",{className:"text-muted-foreground",children:[" ",i.shipping_address.email]})]})})]}),l.jsxs(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:[l.jsx(Bt,{className:"pb-2 px-3 pt-3",children:l.jsx(qt,{className:"text-sm font-semibold tracking-wide",children:"Items"})}),l.jsx(We,{className:"px-3 pb-3 pt-0",children:i.order_items&&i.order_items.length>0?l.jsxs("div",{className:"space-y-2",children:[i.order_items.map((O,D)=>{var M;return l.jsxs("div",{className:"flex items-center justify-between px-2 py-2 rounded-md bg-neutral-800/40",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-xs font-medium leading-tight",children:((M=O.products)==null?void 0:M.name)||"Unknown Product"}),l.jsxs("p",{className:"text-[10px] text-muted-foreground leading-tight",children:[O.quantity,"  ",A(O.price_at_purchase)]})]}),l.jsx("p",{className:"text-xs font-medium leading-tight",children:A(O.quantity*O.price_at_purchase)})]},D)}),l.jsx(Zn,{className:"my-1"}),l.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:A(i.amount)})]})]}):l.jsx("p",{className:"text-[11px] text-muted-foreground",children:"No items found in this order."})})]}),l.jsxs(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:[l.jsx(Bt,{className:"pb-2 px-3 pt-3",children:l.jsx(qt,{className:"text-sm font-semibold tracking-wide",children:"Status"})}),l.jsx(We,{className:"px-3 pb-3 pt-0",children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium mb-1",children:"Current"}),l.jsxs(Ut,{className:`${ef(i.status)} flex items-center gap-1 w-fit mt-1 text-[10px] px-2 py-0.5`,children:[k(i.status),i.status]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-xs font-medium mb-1 flex items-center gap-2",children:["Next",s&&l.jsx(qa,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[S(i.status).map(O=>l.jsx("button",{type:"button",disabled:s,onClick:()=>_(i.order_id,O),className:`relative group overflow-hidden px-3 py-1 rounded-full text-[10px] font-medium tracking-wide transition shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 disabled:opacity-50 ${O==="cancelled"?"bg-rose-600/20 text-rose-300 hover:bg-rose-600/30":O==="delivered"?"bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600/30":O==="shipped"?"bg-blue-600/20 text-blue-300 hover:bg-blue-600/30":O==="processing"?"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30":"bg-neutral-700/40 text-neutral-200 hover:bg-neutral-600/50"}`,children:l.jsxs("span",{className:"flex items-center gap-1.5",children:[k(O),O]})},O)),S(i.status).length===0&&l.jsx("span",{className:"text-[10px] text-muted-foreground italic",children:"No transitions"})]}),S(i.status).length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsxs(sd,{value:"",onValueChange:O=>_(i.order_id,O),disabled:s,children:[l.jsx(cd,{className:"w-44 text-[10px] h-7 px-2",children:l.jsx(ld,{placeholder:"Alt action"})}),l.jsx(ud,{children:S(i.status).map(O=>l.jsx(lr,{value:O,className:"capitalize",children:O},O))})]}),l.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Pills are primary transitions; dropdown is backup."})]})]})]})})})]}),l.jsxs(ze,{className:"border-neutral-800/70 bg-neutral-900/40",children:[l.jsx(Bt,{className:"pb-2 px-3 pt-3",children:l.jsxs(qt,{className:"text-sm flex items-center gap-2 font-semibold tracking-wide",children:[l.jsx(Lo,{className:"h-4 w-4"}),"Invoices"]})}),l.jsxs(We,{className:"px-3 pb-3 pt-0",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs(we,{variant:"outline",onClick:()=>L(i),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[l.jsx(Lo,{className:"h-3.5 w-3.5"})," View"]}),l.jsxs(we,{variant:"outline",onClick:()=>I(i),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[l.jsx(wT,{className:"h-3.5 w-3.5"})," PDF"]}),l.jsxs(we,{variant:"outline",onClick:()=>E(i),className:"flex items-center gap-1.5 h-8 px-3 text-xs",children:[l.jsx(AT,{className:"h-3.5 w-3.5"})," Print"]})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-2 leading-tight",children:"Quick invoice actions."})]})]})]})]})})]})}function d$({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:Fe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var zv="Checkbox",[L0e,Vxe]=Tn(zv),[R0e,oS]=L0e(zv);function M0e(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:s,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,h]=Va({prop:r,defaultProp:a??!1,onChange:c,caller:zv}),[g,m]=N.useState(null),[v,b]=N.useState(null),w=N.useRef(!1),j=g?!!o||!!g.closest("form"):!0,_={checked:p,disabled:i,setChecked:h,control:g,setControl:m,name:s,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Ts(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:b};return l.jsx(R0e,{scope:e,..._,children:D0e(f)?f(_):n})}var f$="CheckboxTrigger",h$=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:o,disabled:s,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=oS(f$,t),m=Lt(a,d),v=N.useRef(c);return N.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const w=()=>f(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[i,f]),l.jsx(at.button,{type:"button",role:"checkbox","aria-checked":Ts(c)?"mixed":c,"aria-required":u,"data-state":b$(c),"data-disabled":s?"":void 0,disabled:s,value:o,...n,ref:m,onKeyDown:ut(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ut(r,b=>{f(w=>Ts(w)?!0:!w),g&&h&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});h$.displayName=f$;var p$=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:c,onCheckedChange:u,form:d,...f}=t;return l.jsx(M0e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:s,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>l.jsxs(l.Fragment,{children:[l.jsx(h$,{...f,ref:e,__scopeCheckbox:r}),p&&l.jsx(y$,{__scopeCheckbox:r})]})})});p$.displayName=zv;var m$="CheckboxIndicator",g$=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=oS(m$,r);return l.jsx(ua,{present:n||Ts(i.checked)||i.checked===!0,children:l.jsx(at.span,{"data-state":b$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});g$.displayName=m$;var v$="CheckboxBubbleInput",y$=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:s,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=oS(v$,t),g=Lt(r,h),m=Fv(i),v=Rv(n);N.useEffect(()=>{const w=p;if(!w)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,k=!a.current;if(m!==i&&S){const A=new Event("click",{bubbles:k});w.indeterminate=Ts(i),S.call(w,Ts(i)?!1:i),w.dispatchEvent(A)}},[p,m,i,a]);const b=N.useRef(Ts(i)?!1:i);return l.jsx(at.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:s,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});y$.displayName=v$;function D0e(t){return typeof t=="function"}function Ts(t){return t==="indeterminate"}function b$(t){return Ts(t)?"indeterminate":t?"checked":"unchecked"}function G5({className:t,...e}){return l.jsx(p$,{"data-slot":"checkbox",className:Fe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(g$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(Pg,{className:"size-3.5"})})})}var sS="Progress",lS=100,[$0e,Gxe]=Tn(sS),[F0e,B0e]=$0e(sS),x$=N.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=q0e,...o}=t;(a||a===0)&&!W6(a)&&console.error(U0e(`${a}`,"Progress"));const s=W6(a)?a:lS;n!==null&&!H6(n,s)&&console.error(z0e(`${n}`,"Progress"));const c=H6(n,s)?n:null,u=wg(c)?i(c,s):void 0;return l.jsx(F0e,{scope:r,value:c,max:s,children:l.jsx(at.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":wg(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":j$(c,s),"data-value":c??void 0,"data-max":s,...o,ref:e})})});x$.displayName=sS;var w$="ProgressIndicator",_$=N.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=B0e(w$,r);return l.jsx(at.div,{"data-state":j$(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});_$.displayName=w$;function q0e(t,e){return`${Math.round(t/e*100)}%`}function j$(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function wg(t){return typeof t=="number"}function W6(t){return wg(t)&&!isNaN(t)&&t>0}function H6(t,e){return wg(t)&&!isNaN(t)&&t<=e&&t>=0}function U0e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lS}\`.`}function z0e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var W0e=x$,H0e=_$;function Y5({className:t,value:e,...r}){return l.jsx(W0e,{"data-slot":"progress",className:Fe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:l.jsx(H0e,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const V0e=Z5("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function G0e({className:t,variant:e,...r}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:Fe(V0e({variant:e}),t),...r})}function Y0e({className:t,...e}){return l.jsx("div",{"data-slot":"alert-description",className:Fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var Wv="Collapsible",[K0e,S$]=Tn(Wv),[X0e,cS]=K0e(Wv),N$=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...s}=t,[c,u]=Va({prop:n,defaultProp:a??!1,onChange:o,caller:Wv});return l.jsx(X0e,{scope:r,disabled:i,contentId:vi(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:l.jsx(at.div,{"data-state":dS(c),"data-disabled":i?"":void 0,...s,ref:e})})});N$.displayName=Wv;var A$="CollapsibleTrigger",k$=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=cS(A$,r);return l.jsx(at.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":dS(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:ut(t.onClick,a.onOpenToggle)})});k$.displayName=A$;var uS="CollapsibleContent",P$=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=cS(uS,t.__scopeCollapsible);return l.jsx(ua,{present:r||a.open,children:({present:i})=>l.jsx(Z0e,{...n,ref:e,present:i})})});P$.displayName=uS;var Z0e=N.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,o=cS(uS,r),[s,c]=N.useState(n),u=N.useRef(null),d=Lt(e,u),f=N.useRef(0),p=f.current,h=N.useRef(0),g=h.current,m=o.open||s,v=N.useRef(m),b=N.useRef(void 0);return N.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),en(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const j=w.getBoundingClientRect();f.current=j.height,h.current=j.width,v.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(n)}},[o.open,n]),l.jsx(at.div,{"data-state":dS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:m&&a})});function dS(t){return t?"open":"closed"}var J0e=N$,Q0e=k$,eye=P$,Pi="Accordion",tye=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fS,rye,nye]=E_(Pi),[Hv,Yxe]=Tn(Pi,[nye,S$]),hS=S$(),C$=K.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,i=n;return l.jsx(fS.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?l.jsx(sye,{...i,ref:e}):l.jsx(oye,{...a,ref:e})})});C$.displayName=Pi;var[O$,aye]=Hv(Pi),[E$,iye]=Hv(Pi,{collapsible:!1}),oye=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=t,[s,c]=Va({prop:r,defaultProp:n??"",onChange:a,caller:Pi});return l.jsx(O$,{scope:t.__scopeAccordion,value:K.useMemo(()=>s?[s]:[],[s]),onItemOpen:c,onItemClose:K.useCallback(()=>i&&c(""),[i,c]),children:l.jsx(E$,{scope:t.__scopeAccordion,collapsible:i,children:l.jsx(T$,{...o,ref:e})})})}),sye=K.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=t,[o,s]=Va({prop:r,defaultProp:n??[],onChange:a,caller:Pi}),c=K.useCallback(d=>s((f=[])=>[...f,d]),[s]),u=K.useCallback(d=>s((f=[])=>f.filter(p=>p!==d)),[s]);return l.jsx(O$,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(E$,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(T$,{...i,ref:e})})})}),[lye,Vv]=Hv(Pi),T$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=t,s=K.useRef(null),c=Lt(s,e),u=rye(r),f=Ku(a)==="ltr",p=ut(t.onKeyDown,h=>{var E;if(!tye.includes(h.key))return;const g=h.target,m=u().filter(I=>{var L;return!((L=I.ref.current)!=null&&L.disabled)}),v=m.findIndex(I=>I.ref.current===g),b=m.length;if(v===-1)return;h.preventDefault();let w=v;const j=0,_=b-1,S=()=>{w=v+1,w>_&&(w=j)},k=()=>{w=v-1,w<j&&(w=_)};switch(h.key){case"Home":w=j;break;case"End":w=_;break;case"ArrowRight":i==="horizontal"&&(f?S():k());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?k():S());break;case"ArrowUp":i==="vertical"&&k();break}const A=w%b;(E=m[A].ref.current)==null||E.focus()});return l.jsx(lye,{scope:r,disabled:n,direction:a,orientation:i,children:l.jsx(fS.Slot,{scope:r,children:l.jsx(at.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:p})})})}),_g="AccordionItem",[cye,pS]=Hv(_g),I$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,i=Vv(_g,r),o=aye(_g,r),s=hS(r),c=vi(),u=n&&o.value.includes(n)||!1,d=i.disabled||t.disabled;return l.jsx(cye,{scope:r,open:u,disabled:d,triggerId:c,children:l.jsx(J0e,{"data-orientation":i.orientation,"data-state":F$(u),...s,...a,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});I$.displayName=_g;var L$="AccordionHeader",R$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=Vv(Pi,r),i=pS(L$,r);return l.jsx(at.h3,{"data-orientation":a.orientation,"data-state":F$(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});R$.displayName=L$;var K5="AccordionTrigger",M$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=Vv(Pi,r),i=pS(K5,r),o=iye(K5,r),s=hS(r);return l.jsx(fS.ItemSlot,{scope:r,children:l.jsx(Q0e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...s,...n,ref:e})})});M$.displayName=K5;var D$="AccordionContent",$$=K.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=Vv(Pi,r),i=pS(D$,r),o=hS(r);return l.jsx(eye,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});$$.displayName=D$;function F$(t){return t?"open":"closed"}var uye=C$,dye=I$,fye=R$,hye=M$,pye=$$;function mye({...t}){return l.jsx(uye,{"data-slot":"accordion",...t})}function Gp({className:t,...e}){return l.jsx(dye,{"data-slot":"accordion-item",className:Fe("border-b last:border-b-0",t),...e})}function Yp({className:t,children:e,...r}){return l.jsx(fye,{className:"flex",children:l.jsxs(hye,{"data-slot":"accordion-trigger",className:Fe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,l.jsx(Q5,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Kp({className:t,children:e,...r}){return l.jsx(pye,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:l.jsx("div",{className:Fe("pt-0 pb-4",t),children:e})})}class As{static validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Invalid file type. Only JPEG, PNG, WebP, and AVIF are allowed."}}static async fileToCanvas(e){return new Promise((r,n)=>{const a=new Image,i=document.createElement("canvas"),o=i.getContext("2d");if(!o){n(new Error("Could not get canvas context"));return}a.onload=()=>{let{width:u,height:d}=a;if(u>1920||d>1920){const f=Math.min(1920/u,1920/d);u*=f,d*=f}i.width=u,i.height=d,o.drawImage(a,0,0,u,d),r({canvas:i,ctx:o,width:u,height:d})},a.onerror=()=>n(new Error("Failed to load image")),a.src=URL.createObjectURL(e)})}static async canvasToBlob(e,r,n=.85){return new Promise((a,i)=>{e.toBlob(o=>{o?a(o):i(new Error("Failed to convert canvas to blob"))},r,n)})}static async processImage(e,r={}){const{maxWidth:n=1920,maxHeight:a=1920,quality:i=.85,format:o="webp",generateSizes:s=!0}=r,c=this.validateFile(e);if(!c.valid)throw new Error(c.error);const{canvas:u,ctx:d,width:f,height:p}=await this.fileToCanvas(e);if(f>n||p>a){const v=Math.min(n/f,a/p),b=f*v,w=p*v,j=document.createElement("canvas"),_=j.getContext("2d");j.width=b,j.height=w,_.drawImage(u,0,0,b,w),u.width=b,u.height=w,d.drawImage(j,0,0)}const h=`image/${o}`,g=await this.canvasToBlob(u,h,i);let m;if(s){const v=document.createElement("canvas"),b=v.getContext("2d"),w=300,j=Math.min(w/f,w/p);v.width=f*j,v.height=p*j,b.drawImage(u,0,0,v.width,v.height),m=await this.canvasToBlob(v,h,i)}return{original:e,optimized:g,thumbnail:m,format:o,originalSize:e.size,optimizedSize:g.size,dimensions:{width:u.width,height:u.height}}}static async uploadToStorage(e,r,n){const a=Date.now(),i=`${r}/${a}.${e.format}`,{data:o,error:s}=await Te.storage.from(this.BUCKET_NAME).upload(i,e.optimized,{contentType:`image/${e.format}`,upsert:!1});if(s)throw new Error(`Upload failed: ${s.message}`);const{data:c}=Te.storage.from(this.BUCKET_NAME).getPublicUrl(i);let u;if(e.thumbnail){const d=`${r}/${a}_thumb.${e.format}`,{data:f,error:p}=await Te.storage.from(this.BUCKET_NAME).upload(d,e.thumbnail,{contentType:`image/${e.format}`,upsert:!1});if(!p){const{data:h}=Te.storage.from(this.BUCKET_NAME).getPublicUrl(d);u=h.publicUrl}}return{url:c.publicUrl,thumbnailUrl:u}}static async uploadMultipleImages(e,r,n={},a,i){const o=[];for(let s=0;s<e.length;s++){const c=e[s];try{const u=await this.processImage(c,n),d=await this.uploadToStorage(u,r),f={url:d.url,thumbnailUrl:d.thumbnailUrl,fileName:c.name};o.push(f),i==null||i(s,f)}catch(u){console.error(`Failed to upload ${c.name}:`,u)}}return o}static async deleteImage(e){const r=e.split("/"),n=r[r.length-1],a=r[r.length-2];if(!n||!a)throw new Error("Invalid image URL format");const{error:i}=await Te.storage.from(this.BUCKET_NAME).remove([`${a}/${n}`]);if(i)throw new Error(`Failed to delete image: ${i.message}`)}static async checkBucketExists(){try{const{data:e,error:r}=await Te.storage.listBuckets();return r?(console.error("Error listing buckets:",r),await this.checkBucketDirectly()):e==null?void 0:e.some(a=>a.name===this.BUCKET_NAME)}catch(e){return console.error("Error checking bucket existence:",e),!1}}static async checkBucketDirectly(){try{const{error:e}=await Te.storage.from(this.BUCKET_NAME).list("",{limit:1});return!e}catch(e){return console.error("Error checking bucket directly:",e),!1}}}Xt(As,"MAX_FILE_SIZE",10*1024*1024),Xt(As,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp","image/avif"]),Xt(As,"BUCKET_NAME","product-images");var gye=Object.defineProperty,vye=(t,e,r)=>e in t?gye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lr=(t,e,r)=>vye(t,typeof e!="symbol"?e+"":e,r);const jg={x:0,y:0,width:0,height:0,unit:"px"},Uc=(t,e,r)=>Math.min(Math.max(t,e),r),yye=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),V6=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function bye(t,e,r,n){const a=Ui(t,r,n);return t.width&&(a.height=a.width/e),t.height&&(a.width=a.height*e),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/e),t.unit==="%"?js(a,r,n):a}function xye(t,e,r){const n=Ui(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?js(n,e,r):n}function js(t,e,r){return t.unit==="%"?{...jg,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function Ui(t,e,r){return t.unit?t.unit==="px"?{...jg,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...jg,...t,unit:"px"}}function G6(t,e,r,n,a,i=0,o=0,s=n,c=a){const u={...t};let d=Math.min(i,n),f=Math.min(o,a),p=Math.min(s,n),h=Math.min(c,a);e&&(e>1?(d=o?o*e:d,f=d/e,p=s*e):(f=i?i/e:f,d=f*e,h=c/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=n-(u.x+u.width);g<0&&(u.x=Math.min(u.x,n-d),u.width+=g);const m=a-(u.y+u.height);if(m<0&&(u.y=Math.min(u.y,a-f),u.height+=m),u.width<d&&((r==="sw"||r=="nw")&&(u.x-=d-u.width),u.width=d),u.height<f&&((r==="nw"||r=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((r==="sw"||r=="nw")&&(u.x-=p-u.width),u.width=p),u.height>h&&((r==="nw"||r=="ne")&&(u.y-=h-u.height),u.height=h),e){const v=u.width/u.height;if(v<e){const b=Math.max(u.width/e,f);(r==="nw"||r=="ne")&&(u.y-=b-u.height),u.height=b}else if(v>e){const b=Math.max(u.height*e,d);(r==="sw"||r=="nw")&&(u.x-=b-u.width),u.width=b}}return u}function wye(t,e,r,n){const a={...t};return e==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),e==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):e==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const zc={capture:!0,passive:!1};let _ye=0;const xs=class ui extends N.PureComponent{constructor(){super(...arguments),Lr(this,"docMoveBound",!1),Lr(this,"mouseDownOnCrop",!1),Lr(this,"dragStarted",!1),Lr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Lr(this,"componentRef",N.createRef()),Lr(this,"mediaRef",N.createRef()),Lr(this,"resizeObserver"),Lr(this,"initChangeCalled",!1),Lr(this,"instanceId",`rc-${_ye++}`),Lr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Lr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const i=Ui(r,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,s=!!o;let c=e.clientX,u=e.clientY,d=i.x,f=i.y;if(o){const p=e.clientX-a.x,h=e.clientY-a.y;let g=0,m=0;o==="ne"||o=="e"?(g=p-(i.x+i.width),m=h-i.y,d=i.x,f=i.y+i.height):o==="se"||o==="s"?(g=p-(i.x+i.width),m=h-(i.y+i.height),d=i.x,f=i.y):o==="sw"||o=="w"?(g=p-i.x,m=h-(i.y+i.height),d=i.x+i.width,f=i.y):(o==="nw"||o=="n")&&(g=p-i.x,m=h-i.y,d=i.x+i.width,f=i.y+i.height),c=d+a.x+g,u=f+a.y+m}this.evData={startClientX:c,startClientY:u,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:s,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Lr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:a,keepSelection:i,onChange:o}=this.props,s=this.getBox();if(n||a||i&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-s.x,u=e.clientY-s.y,d={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(Ui(d,s.width,s.height),js(d,s.width,s.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Lr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:a,onDragStart:i}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:s}=this;s.clientX=e.clientX,s.clientY=e.clientY;let c;s.isResize?c=this.resizeCrop():c=this.dragCrop(),V6(r,c)||a(Ui(c,o.width,o.height),js(c,o.width,o.height))}),Lr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const o=e.key;let s=!1;if(!r)return;const c=this.getBox(),u=this.makePixelCrop(c),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ui.nudgeStepLarge:e.shiftKey?ui.nudgeStepMedium:ui.nudgeStep;if(o==="ArrowLeft"?(u.x-=d,s=!0):o==="ArrowRight"?(u.x+=d,s=!0):o==="ArrowUp"?(u.y-=d,s=!0):o==="ArrowDown"&&(u.y+=d,s=!0),s){e.cancelable&&e.preventDefault(),u.x=Uc(u.x,0,c.width-u.width),u.y=Uc(u.y,0,c.height-u.height);const f=Ui(u,c.width,c.height),p=js(u,c.width,c.height);a(f,p),i&&i(f,p)}}),Lr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:o=0,minHeight:s=0,maxWidth:c,maxHeight:u,onChange:d,onComplete:f}=this.props,p=this.getBox();if(i||!a)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ui.nudgeStepLarge:e.shiftKey?ui.nudgeStepMedium:ui.nudgeStep,g=Ui(a,p.width,p.height),m=wye(g,e.key,h,r),v=G6(m,n,r,p.width,p.height,o,s,c,u);if(!V6(a,v)){const b=js(v,p.width,p.height);d(v,b),f&&f(v,b)}}),Lr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),a&&a(Ui(r,o.width,o.height),js(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Lr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:i}=e.getBoundingClientRect();return{x:r,y:n,width:a,height:i}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:a,height:i}=this.getBox();a&&i&&n(Ui(r,a,i),js(r,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,zc),this.document.addEventListener("pointerup",this.onDocPointerDone,zc),this.document.addEventListener("pointercancel",this.onDocPointerDone,zc),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,zc),this.document.removeEventListener("pointerup",this.onDocPointerDone,zc),this.document.removeEventListener("pointercancel",this.onDocPointerDone,zc),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),a=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=Uc(e.startCropX+a,0,r.width-n.width),n.y=Uc(e.startCropY+i,0,r.height-n.height),n}getPointRegion(e,r,n,a){const{evData:i}=this,o=i.clientX-e.x,s=i.clientY-e.y;let c;a&&r?c=r==="nw"||r==="n"||r==="ne":c=s<i.startCropY;let u;return n&&r?u=r==="nw"||r==="w"||r==="sw":u=o<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,r,n=0,a=0){const i=Math.min(n,e.width),o=Math.min(a,e.height);return!r||!i&&!o?[i,o]:r>1?i?[i,i/r]:[o*r,o]:o?[o*r,o]:[i,i/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[o,s]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,e.ord,o,s),d=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(o&&d==="nw"||d==="w"||d==="sw")&&(f=Math.min(f,-o)),(s&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-s));const h={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(h.x=e.startCropX,h.width=f,r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY-h.height)):u==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=f,r?h.height=h.width/r:h.height=p):u==="sw"?(h.x=e.startCropX+f,h.y=e.startCropY,h.width=Math.abs(f),r?h.height=h.width/r:h.height=p):u==="nw"&&(h.x=e.startCropX+f,h.width=Math.abs(f),r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY+p));const g=G6(h,r,u,i.width,i.height,o,s,n,a);return r||ui.xyOrds.indexOf(d)>-1?c=g:ui.xOrds.indexOf(d)>-1?(c.x=g.x,c.width=g.width):ui.yOrds.indexOf(d)>-1&&(c.y=g.y,c.height=g.height),c.x=Uc(c.x,0,i.width-c.width),c.y=Uc(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:e=ui.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:o}=this.props,s=this.getCropStyle();if(o)return K.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&K.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},K.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&K.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),i&&K.createElement(K.Fragment,null,K.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),K.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...jg,...this.props.crop||{}};return Ui(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:a,crop:i,disabled:o,locked:s,style:c,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:f}=this.state,p=i?this.renderCropSelection():null,h=yye("ReactCrop",a,d&&"ReactCrop--active",o&&"ReactCrop--disabled",s&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return K.createElement("div",{ref:this.componentRef,className:h,style:c},K.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?K.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},K.createElement("defs",null,K.createElement("mask",{id:`hole-${this.instanceId}`},K.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?K.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):K.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),K.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Lr(xs,"xOrds",["e","w"]),Lr(xs,"yOrds",["n","s"]),Lr(xs,"xyOrds",["nw","ne","se","sw"]),Lr(xs,"nudgeStep",1),Lr(xs,"nudgeStepMedium",10),Lr(xs,"nudgeStepLarge",100),Lr(xs,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let jye=xs;const Sye=Math.PI/180;async function Nye(t,e,r,n=1,a=0){const i=e.getContext("2d");if(!i)throw new Error("No 2d context");const o=t.naturalWidth/t.width,s=t.naturalHeight/t.height,c=window.devicePixelRatio;e.width=Math.floor(r.width*o*c),e.height=Math.floor(r.height*s*c),i.scale(c,c),i.imageSmoothingQuality="high";const u=r.x*o,d=r.y*s,f=a*Sye,p=t.naturalWidth/2,h=t.naturalHeight/2;i.save(),i.translate(-u,-d),i.translate(p,h),i.rotate(f),i.scale(n,n),i.translate(-p,-h),i.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),i.restore()}async function Aye(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const a=document.createElement("canvas"),i=a.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}a.width=n.naturalWidth,a.height=n.naturalHeight,i.drawImage(n,0,0);try{const o=a.toDataURL("image/png");e(o)}catch(o){r(o)}},n.onerror=()=>r(new Error("Failed to load image")),n.src=t})}function kye({src:t,onCropComplete:e,onClose:r,aspect:n=3/4}){const[a,i]=N.useState(),[o,s]=N.useState(),[c,u]=N.useState(null),[d,f]=N.useState(!1),p=N.useRef(null),h=N.useRef(null);N.useEffect(()=>{t&&t.startsWith("http")?(f(!0),Aye(t).then(v=>{u(v),f(!1)}).catch(v=>{console.error("Error converting image to data URL:",v),u(t),f(!1)})):u(t)},[t]);function g(v){if(n){const{width:b,height:w}=v.currentTarget;i(xye(bye({unit:"%",width:90},n,b,w),b,w))}}async function m(){const v=p.current,b=h.current;if(!(!v||!b||!o))try{await Nye(v,b,o),b.toBlob(w=>{w?e(w):(console.error("Failed to create blob from canvas"),alert("Failed to crop image. Please try again."))},"image/png")}catch(w){console.error("Error cropping image:",w),alert("Failed to crop image. Please try again.")}}return N.useEffect(()=>{i(void 0),s(void 0)},[t]),t?l.jsx(Fo,{open:!!t,onOpenChange:v=>!v&&r(),children:l.jsxs(Qi,{className:"max-w-3xl",children:[l.jsx(Bo,{children:l.jsx(qo,{children:"Crop Image"})}),d?l.jsx("div",{className:"flex justify-center items-center p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),l.jsx("p",{children:"Loading image..."})]})}):l.jsx("div",{className:"flex justify-center p-4",children:l.jsx(jye,{crop:a,onChange:(v,b)=>i(b),onComplete:v=>s(v),aspect:n,minWidth:100,minHeight:100,children:l.jsx("img",{ref:p,alt:"Crop me",src:c||"",onLoad:g,style:{maxHeight:"70vh"}})})}),l.jsx("canvas",{ref:h,style:{display:"none"}}),l.jsxs(zV,{children:[l.jsx(we,{variant:"outline",onClick:r,children:"Cancel"}),l.jsx(we,{onClick:m,disabled:d||!o,children:"Save Crop"})]})]})}):null}function Y6({mode:t="create",product:e=null,onSuccess:r,onCancel:n}){var F,ae;const[a,i]=N.useState({name:(e==null?void 0:e.name)||"",category:(e==null?void 0:e.category)||"Casual",price:((F=e==null?void 0:e.price)==null?void 0:F.toString())||"",originalPrice:((ae=e==null?void 0:e.originalPrice)==null?void 0:ae.toString())||"",description:(e==null?void 0:e.description)||"",inStock:(e==null?void 0:e.inStock)??!0,sizes:(e==null?void 0:e.sizes)||["S","M","L"],colors:(e==null?void 0:e.colors)||["Black","White"],images:(e==null?void 0:e.images)||[]}),[o,s]=N.useState([]),[c,u]=N.useState((e==null?void 0:e.images)||[]),[d,f]=N.useState(!1),[p,h]=N.useState(0),[g,m]=N.useState(!1),[v,b]=N.useState(""),[w,j]=N.useState(""),_=N.useRef(null),[S,k]=N.useState(null);N.useEffect(()=>()=>{o.forEach(re=>{re.preview&&URL.revokeObjectURL(re.preview)})},[o]);const A=re=>{if(!S)return;const oe=new File([re],"cropped_image.png",{type:"image/png"}),$=URL.createObjectURL(oe);S.type==="new"?s(U=>{const z=[...U],J=z[S.index].preview;return URL.revokeObjectURL(J),z[S.index]={...z[S.index],file:oe,preview:$,status:"pending"},z}):(u(U=>U.filter((z,J)=>J!==S.index)),s(U=>[...U,{file:oe,preview:$,status:"pending",progress:0}])),k(null),Ce.success("Image cropped successfully. Ready for upload.")},E=N.useCallback(re=>{re.preventDefault(),re.stopPropagation(),re.type==="dragenter"||re.type==="dragover"?m(!0):re.type==="dragleave"&&m(!1)},[]),I=N.useCallback(re=>{re.preventDefault(),re.stopPropagation(),m(!1),re.dataTransfer.files&&re.dataTransfer.files[0]&&L(Array.from(re.dataTransfer.files))},[]),L=re=>{const oe=re.filter(U=>{const z=As.validateFile(U);return z.valid?!0:(Ce.error(`${U.name}: ${z.error}`),!1)});if(oe.length===0)return;const $=oe.map(U=>({file:U,preview:URL.createObjectURL(U),status:"pending",progress:0}));s(U=>[...U,...$]),Ce.success(`${oe.length} image(s) ready for upload`)},P=re=>{const oe=o[re];oe.preview&&URL.revokeObjectURL(oe.preview),oe.url&&As.deleteImage(oe.url).catch($=>{console.warn("Failed to delete image from storage:",$)}),s($=>$.filter((U,z)=>z!==re))},O=re=>{u(oe=>oe.filter($=>$!==re))},D=()=>{v.trim()&&!a.sizes.includes(v.trim())&&(i(re=>({...re,sizes:[...re.sizes,v.trim()]})),b(""))},M=re=>{i(oe=>({...oe,sizes:oe.sizes.filter($=>$!==re)}))},G=()=>{w.trim()&&!a.colors.includes(w.trim())&&(i(re=>({...re,colors:[...re.colors,w.trim()]})),j(""))},Y=re=>{i(oe=>({...oe,colors:oe.colors.filter($=>$!==re)}))},W=async re=>{if(re.preventDefault(),!a.name.trim()){Ce.error("Product name is required");return}if(!a.price||isNaN(parseFloat(a.price))){Ce.error("Valid price is required");return}if(o.some(oe=>oe.status==="uploading")){Ce.error("Please wait for all images to finish uploading");return}f(!0),h(0);try{const oe={name:a.name,category:a.category,price:parseFloat(a.price),original_price:a.originalPrice?parseFloat(a.originalPrice):void 0,description:a.description,in_stock:a.inStock,sizes:a.sizes,colors:a.colors,images:[...c]};let $;if(t==="edit"&&(e!=null&&e.id))await Zp(e.id,oe),$=e.id;else{const z=await iI(oe);if(!z||!z.id)throw new Error("Failed to create product");$=z.id}let U=[...c];if(o.length>0){s(de=>de.map(ie=>({...ie,status:"uploading",progress:0})));const z=o.map(de=>de.file),J={format:"webp",quality:.85,generateSizes:!0},le=await As.uploadMultipleImages(z,$,J,(de,ie)=>{s(he=>he.map((ge,ue)=>ue===de?{...ge,progress:ie.percentage}:ge)),h(Math.round((de+ie.percentage/100)/z.length*100))},(de,ie)=>{s(he=>he.map((ge,ue)=>ue===de?{...ge,status:"completed",url:ie.url,thumbnailUrl:ie.thumbnailUrl,progress:100}:ge))}).catch(async de=>{console.error("Upload failed:",de),console.log("Checking bucket existence...");const ie=await As.checkBucketExists();if(console.log("Bucket exists:",ie),!ie)return Ce.error("Image storage bucket is not accessible"),[];console.log("Checking direct bucket access...");const he=await As.checkBucketDirectly();return console.log("Direct bucket access:",he),Ce.error(`Upload failed: ${de.message}`),[]}),se=le.map(de=>de.url);U=[...c,...se],await Zp($,{images:U}),Ce.success(`${t==="edit"?"Updated":"Created"} product with ${le.length} new image(s)`)}else await Zp($,{images:U}),Ce.success(`Product ${t==="edit"?"updated":"created"} successfully!`);r==null||r(),t==="create"&&(i({name:"",category:"Casual",price:"",originalPrice:"",description:"",inStock:!0,sizes:["S","M","L"],colors:["Black","White"],images:[]}),u([])),o.forEach(z=>{z.preview&&URL.revokeObjectURL(z.preview)}),s([]),h(0)}catch(oe){console.error(`Error ${t==="edit"?"updating":"creating"} product:`,oe),Ce.error(oe instanceof Error?oe.message:`Failed to ${t==="edit"?"update":"create"} product`),s($=>$.map(U=>U.status==="uploading"?{...U,status:"error",error:"Upload failed"}:U))}finally{f(!1)}};return l.jsxs(ze,{className:"w-full bg-neutral-900/60 backdrop-blur border-neutral-800",children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(qt,{className:"flex items-center gap-2",children:[t==="edit"?l.jsx(um,{className:"h-5 w-5"}):l.jsx(Cl,{className:"h-5 w-5"}),t==="edit"?"Edit Product":"Add New Product"]}),n&&l.jsx(we,{variant:"ghost",onClick:n,children:"Cancel"})]})}),l.jsxs(We,{children:[l.jsxs("form",{onSubmit:W,className:"space-y-5",children:[l.jsxs(mye,{type:"multiple",defaultValue:["basic","pricing","inventory","media"],className:"w-full",children:[l.jsxs(Gp,{value:"basic",children:[l.jsx(Yp,{className:"text-sm font-medium",children:"Basic Information"}),l.jsxs(Kp,{className:"space-y-4 pt-2",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"product-name",children:"Product Name *"}),l.jsx(Rt,{id:"product-name",value:a.name,onChange:re=>i(oe=>({...oe,name:re.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"category",children:"Category"}),l.jsxs(sd,{value:a.category,onValueChange:re=>i(oe=>({...oe,category:re})),children:[l.jsx(cd,{children:l.jsx(ld,{})}),l.jsxs(ud,{children:[l.jsx(lr,{value:"Casual",children:"Casual"}),l.jsx(lr,{value:"Party",children:"Party"}),l.jsx(lr,{value:"Shoes",children:"Shoes"}),l.jsx(lr,{value:"Outwear",children:"Outwear"}),l.jsx(lr,{value:"Dresses",children:"Dresses"}),l.jsx(lr,{value:"Accessories",children:"Accessories"})]})]})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"description",children:"Description"}),l.jsx(d$,{id:"description",value:a.description,onChange:re=>i(oe=>({...oe,description:re.target.value})),rows:3})]})]})]}),l.jsxs(Gp,{value:"pricing",children:[l.jsx(Yp,{className:"text-sm font-medium",children:"Pricing"}),l.jsx(Kp,{className:"space-y-4 pt-2",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"price",children:"Price *"}),l.jsx(Rt,{id:"price",type:"number",step:"0.01",min:"0",value:a.price,onChange:re=>i(oe=>({...oe,price:re.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"original-price",children:"Original Price (for sales)"}),l.jsx(Rt,{id:"original-price",type:"number",step:"0.01",min:"0",value:a.originalPrice,onChange:re=>i(oe=>({...oe,originalPrice:re.target.value}))})]})]})})]}),l.jsxs(Gp,{value:"inventory",children:[l.jsx(Yp,{className:"text-sm font-medium",children:"Inventory & Variants"}),l.jsxs(Kp,{className:"space-y-5 pt-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(G5,{id:"in-stock",checked:a.inStock,onCheckedChange:re=>i(oe=>({...oe,inStock:re}))}),l.jsx(kt,{htmlFor:"in-stock",children:"In Stock"})]}),l.jsxs("div",{children:[l.jsx(kt,{children:"Sizes"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(Rt,{value:v,onChange:re=>b(re.target.value),placeholder:"Add size (e.g., XL)",onKeyPress:re=>re.key==="Enter"&&(re.preventDefault(),D())}),l.jsx(we,{type:"button",variant:"outline",onClick:D,children:l.jsx(Cl,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.sizes.map(re=>l.jsxs(Ut,{variant:"secondary",className:"flex items-center gap-1",children:[re,l.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>M(re),children:l.jsx(Ro,{className:"h-3 w-3"})})]},re))})]}),l.jsxs("div",{children:[l.jsx(kt,{children:"Colors"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx(Rt,{value:w,onChange:re=>j(re.target.value),placeholder:"Add color (e.g., Red)",onKeyPress:re=>re.key==="Enter"&&(re.preventDefault(),G())}),l.jsx(we,{type:"button",variant:"outline",onClick:G,children:l.jsx(Cl,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:a.colors.map(re=>l.jsxs(Ut,{variant:"secondary",className:"flex items-center gap-1",children:[re,l.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>Y(re),children:l.jsx(dh,{className:"h-3 w-3"})})]},re))})]})]})]}),l.jsxs(Gp,{value:"media",children:[l.jsx(Yp,{className:"text-sm font-medium",children:"Media & Images"}),l.jsx(Kp,{className:"space-y-4 pt-2",children:l.jsxs("div",{children:[l.jsx(kt,{children:"Product Images"}),c.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Images:"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map((re,oe)=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>k({index:oe,src:re,type:"existing"}),children:[l.jsx("img",{src:re,alt:`Existing ${oe+1}`,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:l.jsx(wN,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})})]}),l.jsx(we,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:$=>{$.stopPropagation(),O(re)},children:l.jsx(Ro,{className:"h-3 w-3"})})]},`existing-${oe}`))})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${g?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:I,onClick:()=>{var re;return(re=_.current)==null?void 0:re.click()},children:[l.jsx("input",{ref:_,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:re=>re.target.files&&L(Array.from(re.target.files))}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(cU,{className:"h-8 w-8 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Drop new images here or click to browse"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG, WebP, AVIF (max 10MB each)"})]})]})]}),o.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"New Images to Upload:"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:o.map((re,oe)=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>k({index:oe,src:re.preview,type:"new"}),children:[l.jsx("img",{src:re.preview,alt:`New ${oe+1}`,className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:[re.status==="pending"&&l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:l.jsx(wN,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),re.status==="uploading"&&l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"w-8 h-8 mx-auto mb-2",children:l.jsx(Y5,{value:re.progress,className:"w-full h-full"})}),l.jsxs("p",{className:"text-xs",children:[re.progress,"%"]})]}),re.status==="completed"&&l.jsx(uh,{className:"h-8 w-8 text-green-500"}),re.status==="error"&&l.jsxs("div",{className:"text-center",children:[l.jsx(Rl,{className:"h-8 w-8 text-red-500 mx-auto mb-1"}),l.jsx("p",{className:"text-xs text-red-400",children:"Failed"})]})]})]}),l.jsx(we,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:$=>{$.stopPropagation(),P(oe)},children:l.jsx(Ro,{className:"h-3 w-3"})})]},`new-${oe}`))})]}),d&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[l.jsx("span",{children:"Uploading images..."}),l.jsxs("span",{children:[p,"%"]})]}),l.jsx(Y5,{value:p})]}),o.some(re=>re.status==="error")&&l.jsx("div",{className:"mt-4",children:l.jsxs(G0e,{variant:"destructive",children:[l.jsx(Rl,{className:"h-4 w-4"}),l.jsx(Y0e,{children:"Upload failed. Check browser console (F12) for detailed error information."})]})})]})})]})]}),l.jsxs("div",{className:"flex gap-4 pt-2",children:[n&&l.jsx(we,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),l.jsx(we,{type:"submit",className:"flex-1",disabled:d||o.some(re=>re.status==="uploading"),children:d?"Uploading...":t==="edit"?"Update Product":"Create Product"})]})]}),l.jsx(kye,{src:(S==null?void 0:S.src)||null,onClose:()=>k(null),onCropComplete:A})]})]})}var B$="AlertDialog",[Pye,Kxe]=Tn(B$,[UI]),Jo=UI(),q$=t=>{const{__scopeAlertDialog:e,...r}=t,n=Jo(e);return l.jsx(j_,{...n,...r,modal:!0})};q$.displayName=B$;var Cye="AlertDialogTrigger",U$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Jo(r);return l.jsx(Dg,{...a,...n,ref:e})});U$.displayName=Cye;var Oye="AlertDialogPortal",z$=t=>{const{__scopeAlertDialog:e,...r}=t,n=Jo(e);return l.jsx(S_,{...n,...r})};z$.displayName=Oye;var Eye="AlertDialogOverlay",W$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Jo(r);return l.jsx($g,{...a,...n,ref:e})});W$.displayName=Eye;var hu="AlertDialogContent",[Tye,Iye]=Pye(hu),Lye=H9("AlertDialogContent"),H$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Jo(r),o=N.useRef(null),s=Lt(e,o),c=N.useRef(null);return l.jsx($V,{contentName:hu,titleName:V$,docsSlug:"alert-dialog",children:l.jsx(Tye,{scope:r,cancelRef:c,children:l.jsxs(Fg,{role:"alertdialog",...i,...a,ref:s,onOpenAutoFocus:ut(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Lye,{children:n}),l.jsx(Mye,{contentRef:o})]})})})});H$.displayName=hu;var V$="AlertDialogTitle",G$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Jo(r);return l.jsx(a8,{...a,...n,ref:e})});G$.displayName=V$;var Y$="AlertDialogDescription",K$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Jo(r);return l.jsx(i8,{...a,...n,ref:e})});K$.displayName=Y$;var Rye="AlertDialogAction",X$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Jo(r);return l.jsx(Bg,{...a,...n,ref:e})});X$.displayName=Rye;var Z$="AlertDialogCancel",J$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=Iye(Z$,r),i=Jo(r),o=Lt(e,a);return l.jsx(Bg,{...i,...n,ref:o})});J$.displayName=Z$;var Mye=({contentRef:t})=>{const e=`\`${hu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hu}\` by passing a \`${Y$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Dye=q$,$ye=U$,Fye=z$,Q$=W$,Bye=H$,qye=X$,Uye=J$,zye=G$,Wye=K$;function eF({...t}){return l.jsx(Dye,{"data-slot":"alert-dialog",...t})}function tF({...t}){return l.jsx($ye,{"data-slot":"alert-dialog-trigger",...t})}function Hye({...t}){return l.jsx(Fye,{"data-slot":"alert-dialog-portal",...t})}const rF=N.forwardRef(({className:t,...e},r)=>l.jsx(Q$,{...e,ref:r,"data-slot":"alert-dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[9998] bg-black/50",t)}));rF.displayName=Q$.displayName;function nF({className:t,...e}){return l.jsxs(Hye,{children:[l.jsx(rF,{}),l.jsx(Bye,{"data-slot":"alert-dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-[9999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function aF({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function iF({className:t,...e}){return l.jsx("div",{"data-slot":"alert-dialog-footer",className:Fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function oF({className:t,...e}){return l.jsx(zye,{"data-slot":"alert-dialog-title",className:Fe("text-lg font-semibold",t),...e})}function sF({className:t,...e}){return l.jsx(Wye,{"data-slot":"alert-dialog-description",className:Fe("text-muted-foreground text-sm",t),...e})}function lF({className:t,...e}){return l.jsx(qye,{className:Fe(yf(),t),...e})}function cF({className:t,...e}){return l.jsx(Uye,{className:Fe(yf({variant:"outline"}),t),...e})}function zu({src:t,alt:e,className:r,sizes:n="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:a=!1,placeholder:i,onLoad:o,onError:s}){const[c,u]=N.useState(!1),[d,f]=N.useState(!1),[p,h]=N.useState(a),g=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{if(!(a||!g.current))return m.current=new IntersectionObserver(j=>{var S;const[_]=j;_.isIntersecting&&(h(!0),(S=m.current)==null||S.disconnect())},{threshold:.1,rootMargin:"50px"}),g.current&&m.current.observe(g.current),()=>{var j;(j=m.current)==null||j.disconnect()}},[a]);const v=()=>{u(!0),o==null||o()},b=()=>{f(!0),s==null||s()},w=j=>j.startsWith("data:")?j:j.includes("supabase")?[400,800,1200,1600].map(S=>`${j}?width=${S} ${S}w`).join(", "):j;return d?l.jsx("div",{className:Fe("flex items-center justify-center bg-gray-100 text-gray-400",r),children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("p",{className:"text-sm",children:"Image unavailable"})]})}):l.jsxs("div",{className:Fe("relative overflow-hidden",r),children:[(!c||!p)&&l.jsx("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:i?l.jsx("img",{src:i,alt:"",className:"w-full h-full object-cover opacity-50"}):l.jsxs("div",{className:"text-gray-400",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-2"}),l.jsx("p",{className:"text-xs",children:"Loading..."})]})}),p&&l.jsx("img",{ref:g,src:t,alt:e,className:Fe("w-full h-full object-cover transition-opacity duration-300",c?"opacity-100":"opacity-0"),sizes:n,srcSet:w(t),onLoad:v,onError:b,loading:a?"eager":"lazy"}),p&&t&&!t.startsWith("data:")&&l.jsxs("picture",{children:[l.jsx("source",{srcSet:`${t}?format=webp`,type:"image/webp"}),l.jsx("source",{srcSet:`${t}?format=avif`,type:"image/avif"}),l.jsx("img",{src:t,alt:e,className:"hidden","aria-hidden":"true"})]})]})}function uF({images:t,name:e,className:r,priority:n=!1}){const a=t==null?void 0:t[0];return a?t.length===1?l.jsx(zu,{src:a,alt:e,className:Fe("object-cover rounded-lg",r),priority:n}):l.jsx("div",{className:Fe("relative group",r),children:l.jsx(zu,{src:a,alt:e,className:"w-full h-full object-cover rounded-lg",priority:n})}):l.jsx("div",{className:Fe("bg-gray-100 flex items-center justify-center aspect-square rounded-lg",r),children:l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx("div",{className:"text-2xl mb-1",children:""}),l.jsx("p",{className:"text-xs",children:"No image"})]})})}function Vye({products:t,onEditProduct:e,onRefresh:r}){const[n,a]=N.useState(""),[i,o]=N.useState("All"),[s,c]=N.useState(null),[u,d]=N.useState("list"),f=t.filter(g=>{const m=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),v=i==="All"||g.category===i;return m&&v}),p=async(g,m)=>{try{console.log(" Attempting to delete product:",{productId:g,productName:m});const v=await oI(g);console.log(" Delete result:",v),v?(Ce.success(`Product "${m}" deleted successfully`),console.log(" Calling onRefresh..."),r==null||r()):(Ce.error("Failed to delete product"),console.error(" Delete function returned false"))}catch(v){console.error(" Error deleting product:",v),Ce.error("Failed to delete product")}},h=(g,m)=>m&&m>g?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]}),l.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",m.toFixed(2)]}),l.jsxs(Ut,{variant:"destructive",className:"text-xs",children:[Math.round((1-g/m)*100),"% OFF"]})]}):l.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]});return l.jsxs(ze,{className:"bg-neutral-900/60 backdrop-blur border-neutral-800",children:[l.jsxs(Bt,{children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(qt,{children:["Product Inventory (",f.length,")"]})}),l.jsxs("div",{className:"flex gap-4 mt-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx(Rt,{placeholder:"Search products...",value:n,onChange:g=>a(g.target.value),className:"pl-10"})]}),l.jsxs(sd,{value:i,onValueChange:o,children:[l.jsx(cd,{className:"w-48",children:l.jsx(ld,{})}),l.jsxs(ud,{children:[l.jsx(lr,{value:"All",children:"All Categories"}),l.jsx(lr,{value:"Casual",children:"Casual"}),l.jsx(lr,{value:"Party",children:"Party"}),l.jsx(lr,{value:"Shoes",children:"Shoes"}),l.jsx(lr,{value:"Outwear",children:"Outwear"}),l.jsx(lr,{value:"Dresses",children:"Dresses"}),l.jsx(lr,{value:"Accessories",children:"Accessories"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(we,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:l.jsx(r_,{className:"w-4 h-4"})}),l.jsx(we,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:l.jsx(n_,{className:"w-4 h-4"})})]})]})]}),l.jsxs(We,{className:"w-full",children:[u==="grid"?l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3 w-full",children:f.map(g=>l.jsx(Yye,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})}):l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-neutral-800/70 text-neutral-300",children:l.jsxs("tr",{className:"*:[&>th]:font-medium",children:[l.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Product"}),l.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden md:table-cell",children:"Category"}),l.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Price"}),l.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden sm:table-cell",children:"Stock"}),l.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide hidden lg:table-cell",children:"Details"}),l.jsx("th",{className:"px-3 py-2 text-left uppercase tracking-wide",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-neutral-800",children:f.map(g=>l.jsx(Gye,{product:g,onEdit:e,onDelete:p,onView:m=>c(m),formatPrice:h},g.id))})]})})}),f.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(wf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),l.jsx("p",{className:"text-gray-500",children:t.length===0?"No products in inventory yet. Add your first product to get started.":"Try adjusting your search or filter criteria."})]})]}),l.jsx(Fo,{open:!!s,onOpenChange:()=>c(null),children:l.jsxs(Qi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Bo,{children:l.jsx(qo,{children:"Product Details"})}),s&&l.jsx(Kye,{product:s})]})})]})}function Gye({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return l.jsxs("tr",{className:"hover:bg-neutral-800/40 transition-colors",children:[l.jsx("td",{className:"px-3 py-3 align-top",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-md overflow-hidden bg-neutral-700",children:l.jsx(zu,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"h-12 w-12 object-cover",priority:!0})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-semibold text-neutral-200 max-w-[10rem] md:max-w-xs truncate",title:t.name,children:t.name}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[l.jsx(Wa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),l.jsx("span",{className:"text-xs text-neutral-400",children:t.rating})]})]})]})}),l.jsx("td",{className:"px-3 py-3 hidden md:table-cell align-top",children:l.jsx(Ut,{variant:"secondary",className:"text-[10px] tracking-wide uppercase",children:t.category})}),l.jsx("td",{className:"px-3 py-3 align-top",children:l.jsx("div",{className:"text-sm text-neutral-200",children:a(t.price,t.originalPrice)})}),l.jsx("td",{className:"px-3 py-3 hidden sm:table-cell align-top",children:l.jsx("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${t.inStock?"bg-green-500/15 text-green-300":"bg-red-500/15 text-red-300"}`,children:t.inStock?"In Stock":"Out"})}),l.jsx("td",{className:"px-3 py-3 hidden lg:table-cell align-top text-[11px] text-neutral-400",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(kT,{className:"h-3 w-3"}),t.sizes.length," sizes"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(NT,{className:"h-3 w-3"}),t.colors.length," colors"]}),l.jsxs("span",{className:"hidden xl:inline",children:[t.images.length," img"]})]})}),l.jsx("td",{className:"px-3 py-3 align-top text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:l.jsx(Ji,{className:"h-4 w-4"})}),l.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:l.jsx(l_,{className:"h-4 w-4"})}),l.jsxs(eF,{children:[l.jsx(tF,{asChild:!0,children:l.jsx(we,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 h-8 w-8 p-0 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:l.jsx(dh,{className:"h-4 w-4"})})}),l.jsxs(nF,{children:[l.jsxs(aF,{children:[l.jsx(oF,{children:"Delete Product"}),l.jsxs(sF,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),l.jsxs(iF,{children:[l.jsx(cF,{children:"Cancel"}),l.jsx(lF,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})})]})}function Yye({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:a}){return l.jsxs("div",{className:"border border-neutral-800 rounded-lg overflow-hidden hover:shadow-lg hover:shadow-black/30 transition-shadow bg-neutral-900/70 backdrop-blur w-full min-w-0",children:[l.jsxs("div",{className:"relative w-full aspect-square bg-neutral-800 overflow-hidden",children:[l.jsx(zu,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300",priority:!0}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-medium backdrop-blur-md ${t.inStock?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:t.inStock?"Stock":"Out"})})]}),l.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[l.jsxs("div",{className:"w-full min-w-0",children:[l.jsx("h3",{className:"font-medium text-sm truncate w-full text-neutral-200",title:t.name,children:t.name}),l.jsx(Ut,{variant:"secondary",className:"text-[10px] mt-1 uppercase tracking-wide",children:t.category})]}),l.jsxs("div",{className:"text-sm font-semibold text-neutral-100",children:["R",t.price.toFixed(2),t.originalPrice&&t.originalPrice>t.price&&l.jsxs("span",{className:"text-xs text-neutral-500 line-through ml-2",children:["R",t.originalPrice.toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center justify-between text-[11px] text-neutral-400 w-full",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Wa,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),l.jsx("span",{children:t.rating})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(kT,{className:"h-3 w-3"}),t.sizes.length]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(NT,{className:"h-3 w-3"}),t.colors.length]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-1 w-full",children:[l.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:l.jsx(Ji,{className:"h-3 w-3"})}),l.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:l.jsx(l_,{className:"h-3 w-3"})}),l.jsxs(eF,{children:[l.jsx(tF,{asChild:!0,children:l.jsx(we,{variant:"outline",size:"sm",className:"text-red-400 hover:text-red-300 text-[11px] h-7 px-2 bg-neutral-800/60 hover:bg-neutral-700 border-neutral-700",children:l.jsx(dh,{className:"h-3 w-3"})})}),l.jsxs(nF,{children:[l.jsxs(aF,{children:[l.jsx(oF,{children:"Delete Product"}),l.jsxs(sF,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),l.jsxs(iF,{children:[l.jsx(cF,{children:"Cancel"}),l.jsx(lF,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700 text-white font-semibold shadow-lg border-red-600 focus:ring-red-500 focus:ring-2 relative z-10",children:"Delete Product"})]})]})]})]})]})]})}function Kye({product:t}){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx(zu,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo=",alt:t.name,className:"w-full h-64 object-cover rounded-lg",priority:!0}),t.images.length>1&&l.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.images.slice(1,5).map((e,r)=>l.jsx(zu,{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-16 object-cover rounded"},r))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:t.name}),l.jsx("p",{className:"text-muted-foreground",children:t.category})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Price"}),t.originalPrice&&t.originalPrice>t.price?l.jsxs("div",{children:[l.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R",t.price.toFixed(2)]}),l.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["R",t.originalPrice.toFixed(2)]}),l.jsxs(Ut,{className:"ml-2",variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}):l.jsxs("span",{className:"text-2xl font-bold",children:["R",t.price.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Stock Status"}),l.jsx(Ut,{variant:t.inStock?"default":"destructive",children:t.inStock?"In Stock":"Out of Stock"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Available Sizes"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.sizes.map(e=>l.jsx(Ut,{variant:"outline",children:e},e))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Available Colors"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.colors.map(e=>l.jsx(Ut,{variant:"outline",children:e},e))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Rating & Reviews"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,r)=>l.jsx(Wa,{className:`h-4 w-4 ${r<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),l.jsxs("span",{className:"text-sm",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-2",children:"Description"}),l.jsx("p",{className:"text-muted-foreground",children:t.description||"No description available"})]})]})}var Gv="Switch",[Xye,Xxe]=Tn(Gv),[Zye,Jye]=Xye(Gv),dF=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:s,value:c="on",onCheckedChange:u,form:d,...f}=t,[p,h]=N.useState(null),g=Lt(e,j=>h(j)),m=N.useRef(!1),v=p?d||!!p.closest("form"):!0,[b,w]=Va({prop:a,defaultProp:i??!1,onChange:u,caller:Gv});return l.jsxs(Zye,{scope:r,checked:b,disabled:s,children:[l.jsx(at.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":mF(b),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:g,onClick:ut(t.onClick,j=>{w(_=>!_),v&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),v&&l.jsx(pF,{control:p,bubbles:!m.current,name:n,value:c,checked:b,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});dF.displayName=Gv;var fF="SwitchThumb",hF=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Jye(fF,r);return l.jsx(at.span,{"data-state":mF(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});hF.displayName=fF;var Qye="SwitchBubbleInput",pF=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=N.useRef(null),s=Lt(o,i),c=Fv(r),u=Rv(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pF.displayName=Qye;function mF(t){return t?"checked":"unchecked"}var ebe=dF,tbe=hF;function Kc({className:t,...e}){return l.jsx(ebe,{"data-slot":"switch",className:Fe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(tbe,{"data-slot":"switch-thumb",className:Fe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const rbe=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"systemAlerts",label:"System Alerts",description:"Important system notifications"},{key:"orderAlerts",label:"Order Alerts",description:"Notifications for new orders"},{key:"securityAlerts",label:"Security Alerts",description:"Security-related notifications"}],nbe=[{key:"theme",label:"Theme",options:[{value:"light",label:"Light",icon:l.jsx(Bw,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:l.jsx(Fw,{className:"h-4 w-4"})},{value:"system",label:"System",icon:l.jsx(Eq,{className:"h-4 w-4"})}]},{key:"language",label:"Language",options:[{value:"en",label:"English"},{value:"af",label:"Afrikaans"},{value:"zu",label:"isiZulu"},{value:"xh",label:"isiXhosa"},{value:"tn",label:"Setswana"},{value:"st",label:"Sesotho"},{value:"ve",label:"Tshivenda"},{value:"ts",label:"Xitsonga"}]},{key:"timezone",label:"Timezone",options:[{value:"UTC+3",label:"UTC+3 (Nairobi, Kenya)"},{value:"UTC+2",label:"UTC+2 (Johannesburg, South Africa)"},{value:"UTC+1",label:"UTC+1 (Lagos, Nigeria)"},{value:"UTC+0",label:"UTC+0 (Dakar, Senegal)"},{value:"UTC-1",label:"UTC-1 (Cape Verde)"}]},{key:"itemsPerPage",label:"Items Per Page",options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}],Tw={emailNotifications:!0,pushNotifications:!1,systemAlerts:!0,orderAlerts:!0,securityAlerts:!0,language:"en",timezone:"UTC+2",theme:"system",dashboardLayout:"default",itemsPerPage:"20"},K6="admin_preferences";function gF(){const{user:t,isAdmin:e,signOut:r}=Nn(),[n,a]=N.useState(!1),[i,o]=N.useState(!1),[s,c]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,g]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,v]=N.useState(Tw),[b,w]=N.useState(!1);N.useEffect(()=>{(()=>{try{const E=localStorage.getItem(K6);if(E){const I=JSON.parse(E),L={...Tw,...I};v(L)}}catch(E){console.error("Error loading preferences from localStorage:",E),v(Tw)}})()},[]),N.useEffect(()=>{const A=()=>{try{localStorage.setItem(K6,JSON.stringify(m))}catch(E){console.error("Error saving preferences to localStorage:",E)}};Object.keys(m).length>0&&A()},[m]);const j=async()=>{if(!t){Ce.error("User not found");return}c(!0);try{console.log("AdminAccountSettings: Updating user profile:",f);const A={};if(f.name!==(t.name||"")&&(A.name=f.name),f.phone!==(t.phone||"")&&(A.phone=f.phone),f.email!==(t.email||"")&&(A.email=f.email),Object.keys(A).length===0){Ce.info("No changes to save"),a(!1),c(!1);return}console.log("AdminAccountSettings: Updates to save:",A);const E=await sI(t.id,A);if(E)console.log("AdminAccountSettings: Profile updated successfully:",E),Ce.success("Profile updated successfully!"),p({name:(E==null?void 0:E.name)||f.name,email:(E==null?void 0:E.email)||f.email,phone:(E==null?void 0:E.phone)||f.phone}),a(!1);else throw new Error("Failed to update profile")}catch(A){console.error("AdminAccountSettings: Error updating profile:",A),Ce.error("Failed to update profile")}finally{c(!1)}},_=async()=>{var A,E,I;if(h.newPassword!==h.confirmPassword){Ce.error("New passwords do not match");return}if(h.newPassword.length<6){Ce.error("Password must be at least 6 characters long");return}c(!0);try{if(console.log("AdminAccountSettings: Changing user password"),await lI(h.newPassword))console.log("AdminAccountSettings: Password changed successfully"),Ce.success("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error("Failed to update password")}catch(L){console.error("AdminAccountSettings: Error changing password:",L),(A=L.message)!=null&&A.includes("session_not_found")||(E=L.message)!=null&&E.includes("refresh_token_not_found")?Ce.error("Session expired. Please log in again to change your password."):(I=L.message)!=null&&I.includes("same_password")?Ce.error("New password must be different from current password"):Ce.error("Failed to change password. Please try again.")}finally{c(!1)}},S=N.useCallback(async(A,E)=>{if(!b){w(!0);try{v(I=>({...I,[A]:E})),await new Promise(I=>setTimeout(I,300)),Ce.success("Preference updated")}catch(I){console.error("Error updating preference:",I),Ce.error("Failed to update preference")}finally{w(!1)}}},[b]),k=async()=>{if(u){console.log("AdminAccountSettings: Logout already in progress, ignoring click");return}console.log("AdminAccountSettings: Logout button clicked"),d(!0);try{console.log("AdminAccountSettings: Calling signOut()"),await r(),console.log("AdminAccountSettings: signOut() completed"),Ce.success("Logged out successfully"),console.log("AdminAccountSettings: About to reload page immediately");try{window.location.reload(),console.log("AdminAccountSettings: window.location.reload() called successfully")}catch(A){console.error("AdminAccountSettings: Error calling window.location.reload():",A),setTimeout(()=>{console.log("AdminAccountSettings: Fallback reload attempt"),window.location.reload()},100)}}catch(A){console.error("AdminAccountSettings: Logout failed:",A),Ce.error("Failed to log out"),d(!1)}};return!t||!e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Oo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to access this page."})]}):l.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-4xl",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Admin Account Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your admin account and preferences"})]}),l.jsxs(vh,{defaultValue:"profile",className:"space-y-6",children:[l.jsxs(yh,{className:"grid w-full grid-cols-4",children:[l.jsx(Fn,{value:"profile",children:"Profile"}),l.jsx(Fn,{value:"security",children:"Security"}),l.jsx(Fn,{value:"preferences",children:"Preferences"}),l.jsx(Fn,{value:"system",children:"System"})]}),l.jsx(Bn,{value:"profile",children:l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx($o,{className:"h-5 w-5"}),"Admin Profile"]})}),l.jsxs(We,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(PI,{className:"h-20 w-20",children:l.jsx(CI,{className:"text-xl",children:t.name.split(" ").map(A=>A[0]).join("").toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold",children:t.name}),l.jsxs(Ut,{variant:"secondary",className:"bg-red-100 text-red-800",children:[l.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Administrator"]})]}),l.jsx("p",{className:"text-muted-foreground",children:t.email}),l.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[l.jsxs("span",{className:"text-sm",children:["Member since ",t.created_at?new Date(t.created_at).getFullYear():"2024"]}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Last login: Today"})]})]}),l.jsx(we,{variant:"outline",size:"sm",onClick:()=>a(!n),children:n?"Cancel":"Edit Profile"})]}),n&&l.jsxs("div",{className:"space-y-4 border-t pt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"name",children:"Full Name"}),l.jsx(Rt,{id:"name",value:f.name,onChange:A=>p(E=>({...E,name:A.target.value}))})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"email",children:"Email"}),l.jsx(Rt,{id:"email",type:"email",value:f.email,onChange:A=>p(E=>({...E,email:A.target.value}))})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"phone",children:"Phone"}),l.jsx(Rt,{id:"phone",type:"tel",value:f.phone,onChange:A=>p(E=>({...E,phone:A.target.value})),placeholder:"Enter phone number"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(we,{onClick:j,disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(um,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),l.jsx(we,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]})]})}),l.jsx(Bn,{value:"security",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(_N,{className:"h-5 w-5"}),"Change Password"]})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"currentPassword",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Rt,{id:"currentPassword",type:i?"text":"password",value:h.currentPassword,onChange:A=>g(E=>({...E,currentPassword:A.target.value}))}),l.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),children:i?l.jsx($w,{className:"h-4 w-4"}):l.jsx(Ji,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"newPassword",children:"New Password"}),l.jsx(Rt,{id:"newPassword",type:"password",value:h.newPassword,onChange:A=>g(E=>({...E,newPassword:A.target.value}))})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),l.jsx(Rt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:A=>g(E=>({...E,confirmPassword:A.target.value}))})]}),l.jsx(we,{onClick:_,disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})]})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(Oo,{className:"h-5 w-5"}),"Security Settings"]})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Active Sessions"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"View Sessions"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Login History"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"View your recent login activity"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"View History"})]})]})]})]})}),l.jsx(Bn,{value:"preferences",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(Sl,{className:"h-5 w-5"}),"Notification Preferences"]})}),l.jsx(We,{className:"space-y-4",children:rbe.map(A=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:A.label}),l.jsx("p",{className:"text-sm text-muted-foreground",children:A.description})]}),l.jsx(Kc,{checked:m[A.key],onCheckedChange:E=>S(A.key,E),disabled:b})]},A.key))})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(o_,{className:"h-5 w-5"}),"Display Settings"]})}),l.jsx(We,{className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:nbe.map(A=>l.jsxs("div",{children:[l.jsx(kt,{children:A.label}),l.jsxs(sd,{value:m[A.key],onValueChange:E=>S(A.key,E),disabled:b,children:[l.jsx(cd,{children:l.jsx(ld,{})}),l.jsx(ud,{children:A.options.map(E=>l.jsx(lr,{value:E.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[E.icon,E.label]})},E.value))})]})]},A.key))})})]})]})}),l.jsx(Bn,{value:"system",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(LB,{className:"h-5 w-5"}),"System Status"]})}),l.jsx(We,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),l.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),l.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"24/7"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]})]})})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(Oo,{className:"h-5 w-5"}),"Admin Actions"]})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Export System Data"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Download system data for backup"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"Export Data"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Clear System Cache"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear cached data to improve performance"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"Clear Cache"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"View Admin Logs"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Access system and admin activity logs"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"View Logs"})]})]})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(_N,{className:"h-5 w-5"}),"API Keys"]})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Generate New API Key"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Create API keys for integrations"})]}),l.jsx(we,{variant:"outline",size:"sm",children:"Generate Key"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium",children:"Active API Keys"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"No active API keys. Generate one to get started."})]})]})]})]})})]}),l.jsx("div",{className:"mt-8",children:l.jsx(we,{variant:"destructive",className:"w-full",onClick:k,disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ol,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_T,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]})}class Fa{static async fetchPageContent(e){try{const{data:r,error:n}=await Te.from("content_pages").select("page_data").eq("page_type",e).eq("is_active",!0).maybeSingle();return n?(console.warn(`Database error fetching content for ${e}:`,n),this.getFallbackContent(e)):!r||!r.page_data?(console.info(`No content found in database for ${e}, using fallback`),this.getFallbackContent(e)):r.page_data}catch(r){return console.error(`Unexpected error fetching content for ${e}:`,r),this.getFallbackContent(e)}}static async fetchAllContent(){try{const{data:e,error:r}=await Te.from("content_pages").select("*").eq("is_active",!0).order("page_type");return r?(console.error("Error fetching all content:",r),[]):e||[]}catch(e){return console.error("Unexpected error fetching all content:",e),[]}}static getFallbackContent(e){return{about:{title:"About Rosmama Clothing",description:"Learn about our story, values, and team",sections:[{id:"company-story",title:"Our Story",content:"<p>Founded by Rosemary Oku, Rosmama began as a boutique in Midrand, South Africa with a vision to make beautiful, quality fashion accessible to every South African woman.</p>"},{id:"mission-values",title:"Our Mission & Values",content:"<p><strong>Our Mission:</strong> To democratize fashion by providing high-quality, sustainable clothing that empowers women to express their unique style with confidence.</p>"}]},privacy:{title:"Privacy Policy",description:"Our commitment to protecting your privacy",sections:[{id:"introduction",title:"Introduction",content:"<p>At Rosmama Clothing, we are committed to protecting your privacy and personal information. This policy explains how we collect, use, and protect your data.</p>"}]},terms:{title:"Terms & Conditions",description:"Legal terms and conditions",sections:[{id:"introduction",title:"Introduction",content:"<h4>Welcome to Terms & Conditions</h4><p>This is the introduction section. Edit this content to provide information about terms.</p><p>These terms and conditions govern your use of Rosmama Clothing's services. By using our website and services, you agree to these terms.</p>"},{id:"acceptance",title:"Acceptance of Terms",content:"<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p>"},{id:"use-license",title:"Use License",content:"<p>Permission is granted to temporarily download one copy of the materials on Rosmama Clothing's website for personal, non-commercial transitory viewing only.</p>"},{id:"disclaimer",title:"Disclaimer",content:"<p>The materials on Rosmama Clothing's website are provided on an 'as is' basis. Rosmama Clothing makes no warranties, expressed or implied.</p>"}]},shipping:{title:"Shipping Information",description:"Delivery options and policies",sections:[{id:"delivery-options",title:"Delivery Options",content:"<p>We offer various shipping options to suit your needs. Standard delivery takes 3-5 business days within South Africa.</p>"}]},returns:{title:"Returns & Exchanges",description:"Our return and exchange policy",sections:[{id:"return-policy",title:"Return Policy",content:"<p>We accept returns within 30 days of purchase. Items must be in original condition with tags attached.</p>"}]},help:{title:"Help & Support",description:"Get help with your orders and account",sections:[{id:"faq",title:"Frequently Asked Questions",content:"<p>Find answers to common questions about our products, orders, and services.</p>"}]},contact:{title:"Contact Us",description:"Get in touch with our team",sections:[{id:"contact-info",title:"Contact Information",content:"<p>Reach out to us for any questions or support. We're here to help!</p>"}]}}[e]}static async fetchContentWithHistory(e){try{const{data:r,error:n}=await Te.from("content_pages").select("*").eq("page_type",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")return console.error(`Error fetching current content for ${e}:`,n),null;const{data:a,error:i}=r?await Te.from("content_versions").select("*").eq("content_page_id",r.id).order("version_number",{ascending:!1}):{data:[],error:null};return i?(console.error(`Error fetching version history for ${e}:`,i),{current:r||null,history:[]}):{current:r||null,history:a||[]}}catch(r){return console.error(`Unexpected error fetching content history for ${e}:`,r),null}}static async savePageContent(e,r,n){try{const{data:a}=await Te.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:o}=await Te.from("content_pages").insert({page_type:e,page_data:r,created_by:a.user.id,updated_by:a.user.id}).select().single();return o?(console.error(`Error saving content for ${e}:`,o),{success:!1,error:o.message}):{success:!0,data:i}}catch(a){return console.error(`Unexpected error saving content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async updatePageContent(e,r,n){try{const{data:a}=await Te.auth.getUser();if(!a.user)return{success:!1,error:"User not authenticated"};const{data:i,error:o}=await Te.from("content_pages").select("id").eq("page_type",e).eq("is_active",!0).maybeSingle();if(!i)return await this.savePageContent(e,r,n);const{data:s,error:c}=await Te.from("content_pages").update({page_data:r,updated_by:a.user.id}).eq("id",i.id).select().single();return c?(console.error(`Error updating content for ${e}:`,c),{success:!1,error:c.message}):{success:!0,data:s}}catch(a){return console.error(`Unexpected error updating content for ${e}:`,a),{success:!1,error:"Unexpected error occurred"}}}static async deletePageContent(e){try{const{data:r}=await Te.auth.getUser();if(!r.user)return{success:!1,error:"User not authenticated"};const{error:n}=await Te.from("content_pages").update({is_active:!1,updated_by:r.user.id}).eq("page_type",e).eq("is_active",!0);return n?(console.error(`Error deleting content for ${e}:`,n),{success:!1,error:n.message}):{success:!0}}catch(r){return console.error(`Unexpected error deleting content for ${e}:`,r),{success:!1,error:"Unexpected error occurred"}}}static async revertToVersion(e,r){try{const{data:n}=await Te.auth.getUser();if(!n.user)return{success:!1,error:"User not authenticated"};const{data:a,error:i}=await Te.from("content_versions").select("page_data").eq("version_number",r).limit(1).single();return i||!a?{success:!1,error:"Version not found"}:await this.updatePageContent(e,a.page_data,`Reverted to version ${r}`)}catch(n){return console.error("Unexpected error reverting to version:",n),{success:!1,error:"Unexpected error occurred"}}}static subscribeToContentChanges(e,r){return Te.channel(`content-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"content_pages",filter:`page_type=eq.${e}`},r).subscribe()}static unsubscribeFromContentChanges(e){return Te.removeChannel(e)}static async fetchMultiplePageContent(e){try{const r={},n=e.map(async i=>{const o=await this.fetchPageContent(i);return{pageType:i,content:o}});return(await Promise.all(n)).forEach(({pageType:i,content:o})=>{r[i]=o}),r}catch(r){return console.error("Error fetching multiple page content:",r),{}}}static async searchContent(e){try{const{data:r,error:n}=await Te.from("content_pages").select("*").eq("is_active",!0).textSearch("page_data",e);return n?(console.error("Error searching content:",n),[]):r||[]}catch(r){return console.error("Unexpected error searching content:",r),[]}}static async checkAdminAccess(){try{const{data:e}=await Te.auth.getUser();if(!e.user)return!1;const r=e.user.user_metadata;return(r==null?void 0:r.role)==="admin"}catch(e){return console.error("Error checking admin access:",e),!1}}static async checkDatabaseHealth(){try{const{data:e,error:r}=await Te.from("content_pages").select("id, page_type").limit(1);return r?{tableExists:!1,hasData:!1,error:r.message}:{tableExists:!0,hasData:e&&e.length>0,error:void 0}}catch(e){return{tableExists:!1,hasData:!1,error:e.message}}}}const abe={contentCache:{},loadingStates:{},errorStates:{},lastUpdated:{},adminContent:{},contentHistory:{},isLoading:!1,globalError:null,subscriptions:{},isAdminMode:!1};function ibe(t,e){switch(e.type){case"SET_LOADING":return{...t,loadingStates:{...t.loadingStates,[e.pageType]:e.isLoading}};case"SET_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:e.content},lastUpdated:{...t.lastUpdated,[e.pageType]:Date.now()},loadingStates:{...t.loadingStates,[e.pageType]:!1},errorStates:{...t.errorStates,[e.pageType]:null}};case"SET_ERROR":return{...t,errorStates:{...t.errorStates,[e.pageType]:e.error},loadingStates:{...t.loadingStates,[e.pageType]:!1}};case"SET_ADMIN_CONTENT":return{...t,adminContent:{...t.adminContent,[e.pageType]:e.adminContent}};case"SET_CONTENT_HISTORY":return{...t,contentHistory:{...t.contentHistory,[e.pageType]:e.history}};case"SET_GLOBAL_LOADING":return{...t,isLoading:e.isLoading};case"SET_GLOBAL_ERROR":return{...t,globalError:e.error};case"SET_SUBSCRIPTION":return{...t,subscriptions:{...t.subscriptions,[e.pageType]:e.subscription}};case"REMOVE_SUBSCRIPTION":const r={...t.subscriptions};return delete r[e.pageType],{...t,subscriptions:r};case"SET_ADMIN_MODE":return{...t,isAdminMode:e.isAdminMode};case"CLEAR_CACHE":if(e.pageType){const n={...t.contentCache};return delete n[e.pageType],{...t,contentCache:n}}return{...t,contentCache:{}};case"INVALIDATE_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:null},lastUpdated:{...t.lastUpdated,[e.pageType]:0}};default:return t}}const vF=N.createContext(void 0),obe=300*1e3,sbe=({children:t})=>{const[e,r]=N.useReducer(ibe,abe),n=N.useRef(e),a=N.useRef(null);n.current=e;const i=N.useCallback(_=>{const S=e.lastUpdated[_];return S?Date.now()-S<obe:!1},[e.lastUpdated]),o=N.useCallback(async(_,S=!1)=>{if(!S&&e.contentCache[_]&&i(_))return e.contentCache[_];r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Fa.fetchPageContent(_);return r({type:"SET_CONTENT",pageType:_,content:k}),k}catch(k){const A=k instanceof Error?k.message:"Failed to fetch content";return r({type:"SET_ERROR",pageType:_,error:A}),null}},[e.contentCache,i]);a.current=o;const s=N.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const S=await Fa.fetchMultiplePageContent(_);return Object.entries(S).forEach(([k,A])=>{r({type:"SET_CONTENT",pageType:k,content:A})}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),S}catch(S){const k=S instanceof Error?S.message:"Failed to fetch multiple content";return r({type:"SET_GLOBAL_ERROR",error:k}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),{}}},[]),c=N.useCallback(async(_,S,k)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Fa.savePageContent(_,S,k);return A.success?(r({type:"SET_CONTENT",pageType:_,content:S}),A.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:A.data}),!0):(r({type:"SET_ERROR",pageType:_,error:A.error||"Failed to save content"}),!1)}catch(A){const E=A instanceof Error?A.message:"Failed to save content";return r({type:"SET_ERROR",pageType:_,error:E}),!1}},[]),u=N.useCallback(async(_,S,k)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const A=await Fa.updatePageContent(_,S,k);return A.success?(r({type:"SET_CONTENT",pageType:_,content:S}),A.data&&r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:A.data}),!0):(r({type:"SET_ERROR",pageType:_,error:A.error||"Failed to update content"}),!1)}catch(A){const E=A instanceof Error?A.message:"Failed to update content";return r({type:"SET_ERROR",pageType:_,error:E}),!1}},[]),d=N.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const S=await Fa.deletePageContent(_);return S.success?(r({type:"CLEAR_CACHE",pageType:_}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:null}),!0):(r({type:"SET_ERROR",pageType:_,error:S.error||"Failed to delete content"}),!1)}catch(S){const k=S instanceof Error?S.message:"Failed to delete content";return r({type:"SET_ERROR",pageType:_,error:k}),!1}},[]),f=N.useCallback(async _=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const S=await Fa.fetchContentWithHistory(_);return r({type:"SET_CONTENT_HISTORY",pageType:_,history:S}),r({type:"SET_LOADING",pageType:_,isLoading:!1}),S}catch(S){const k=S instanceof Error?S.message:"Failed to fetch content history";return r({type:"SET_ERROR",pageType:_,error:k}),null}},[]),p=N.useCallback(async(_,S)=>{r({type:"SET_LOADING",pageType:_,isLoading:!0});try{const k=await Fa.revertToVersion(_,S);return k.success&&k.data?(r({type:"SET_CONTENT",pageType:_,content:k.data.page_data}),r({type:"SET_ADMIN_CONTENT",pageType:_,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:_,error:k.error||"Failed to revert content"}),!1)}catch(k){const A=k instanceof Error?k.message:"Failed to revert content";return r({type:"SET_ERROR",pageType:_,error:A}),!1}},[]),h=N.useCallback(_=>{if(n.current.subscriptions[_])return;const S=Fa.subscribeToContentChanges(_,k=>{r({type:"INVALIDATE_CONTENT",pageType:_}),n.current.isAdminMode&&a.current&&a.current(_,!0)});r({type:"SET_SUBSCRIPTION",pageType:_,subscription:S})},[]),g=N.useCallback(_=>{const S=n.current.subscriptions[_];S&&(Fa.unsubscribeFromContentChanges(S),r({type:"REMOVE_SUBSCRIPTION",pageType:_}))},[]),m=N.useCallback(_=>{r({type:"CLEAR_CACHE",pageType:_})},[]),v=N.useCallback(_=>{r({type:"SET_ADMIN_MODE",isAdminMode:_})},[]),b=N.useCallback(async _=>{await o(_,!0)},[o]),w=N.useCallback(async _=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const S=await Fa.searchContent(_);return r({type:"SET_GLOBAL_LOADING",isLoading:!1}),S}catch(S){const k=S instanceof Error?S.message:"Failed to search content";return r({type:"SET_GLOBAL_ERROR",error:k}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),[]}},[]);N.useEffect(()=>()=>{Object.values(e.subscriptions).forEach(_=>{_&&Fa.unsubscribeFromContentChanges(_)})},[e.subscriptions]);const j={state:e,getPageContent:o,getMultiplePageContent:s,savePageContent:c,updatePageContent:u,deletePageContent:d,getContentHistory:f,revertToVersion:p,subscribeToPageContent:h,unsubscribeFromPageContent:g,clearCache:m,setAdminMode:v,refreshContent:b,searchContent:w};return N.useEffect(()=>()=>{Object.keys(n.current.subscriptions).forEach(_=>{const S=n.current.subscriptions[_];S&&Fa.unsubscribeFromContentChanges(S)})},[]),l.jsx(vF.Provider,{value:j,children:t})},yF=()=>{const t=N.useContext(vF);if(t===void 0)throw console.error("useContent hook called outside ContentProvider. Component tree:",{stackTrace:new Error().stack}),new Error("useContent must be used within a ContentProvider");return t},X5=[{id:"about",name:"About Us",title:"About Rosmama Clothing",description:"Company information, story, and values",icon:Is},{id:"privacy",name:"Privacy Policy",title:"Privacy Policy",description:"How we handle customer data and privacy",icon:Oo},{id:"terms",name:"Terms of Service",title:"Terms & Conditions",description:"Legal terms and conditions",icon:Lo},{id:"shipping",name:"Shipping Policy",title:"Shipping & Delivery",description:"Shipping methods and delivery information",icon:pu},{id:"returns",name:"Returns Policy",title:"Returns & Exchanges",description:"Return and exchange policy",icon:_f},{id:"help",name:"Help Center",title:"Help & Support",description:"Frequently asked questions and support",icon:e_},{id:"contact",name:"Contact Us",title:"Contact Information",description:"How to reach our customer service",icon:i_}],Xp=t=>{const e=X5.find(n=>n.id===t),r=(e==null?void 0:e.title)||"Page Title";return{title:r,description:(e==null?void 0:e.description)||"Page description",sections:[{id:`${t}-intro`,title:"Introduction",content:`<h4>Welcome to ${r}</h4><p>This is the introduction section. Edit this content to provide information about ${t}.</p>`}]}};function lbe(){const{state:t,getPageContent:e,savePageContent:r,updatePageContent:n,refreshContent:a,setAdminMode:i,getContentHistory:o,revertToVersion:s}=yF(),[c,u]=N.useState("about"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState(""),[v,b]=N.useState(!1),[w,j]=N.useState(null),[_,S]=N.useState(!1),[k,A]=N.useState(null),[E,I]=N.useState(!1);N.useEffect(()=>{i(!0)},[i]),N.useEffect(()=>{(async()=>{const le=await e(c)||Xp(c);j(le)})()},[c,e]);const L=X5.find(z=>z.id===c),P=t.loadingStates[c]||!1,O=t.errorStates[c],D=z=>{const J=w==null?void 0:w.sections.find(le=>le.id===z);J&&(f(z),h(J.content),m(J.title))},M=async()=>{if(!d||!w)return;const z={...w,sections:w.sections.map(le=>le.id===d?{...le,title:g,content:p}:le)};await n(c,z,"Updated section content")?(j(z),f(null),h(""),m(""),Ce.success("Section updated successfully!")):Ce.error("Failed to update section. Please try again.")},G=()=>{f(null),h(""),m("")},Y=async()=>{if(!w)return;const z={id:`section-${Date.now()}`,title:"New Section",content:"<p>Enter your content here...</p>"},J={...w,sections:[...w.sections,z]};await n(c,J,"Added new section")?(j(J),Ce.success("New section added!")):Ce.error("Failed to add section. Please try again.")},W=async z=>{if(!w)return;const J={...w,sections:w.sections.filter(se=>se.id!==z)};await n(c,J,"Deleted section")?(j(J),Ce.success("Section deleted!")):Ce.error("Failed to delete section. Please try again.")},F=async()=>{if(!w)return;await n(c,w,"Saved all changes")?Ce.success("All changes saved successfully!"):Ce.error("Failed to save changes. Please try again.")},ae=async()=>{const z=Xp(c);await n(c,z,"Restored to defaults")?(j(z),Ce.success("Content restored to defaults!")):Ce.error("Failed to restore defaults. Please try again.")},re=async()=>{await a(c);const z=await e(c,!0);j(z||Xp(c)),Ce.success("Content refreshed!")},oe=async()=>{I(!0);try{const z=await o(c);A(z),S(!0)}catch{Ce.error("Failed to load version history")}finally{I(!1)}},$=async z=>{try{if(await s(c,z)){const le=await e(c,!0);j(le||Xp(c)),S(!1),Ce.success(`Reverted to version ${z} successfully!`)}else Ce.error("Failed to revert to selected version")}catch{Ce.error("Failed to revert to selected version")}},U=z=>new Date(z).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return L?l.jsxs("div",{className:"space-y-6 w-full overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Content Management System"}),l.jsx("p",{className:"text-purple-100",children:"Manage information pages, policies, and user-helpful content with Supabase integration"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs(we,{onClick:F,className:"bg-green-600 hover:bg-green-700",disabled:P,children:[P?l.jsx(qa,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(um,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),l.jsxs(we,{variant:"outline",onClick:()=>b(!v),children:[l.jsx(Ji,{className:"h-4 w-4 mr-2"}),v?"Edit Mode":"Preview Mode"]}),l.jsxs(we,{variant:"outline",onClick:re,disabled:P,children:[l.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Refresh"]}),l.jsxs(we,{variant:"outline",onClick:oe,disabled:E,children:[E?l.jsx(qa,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(L0,{className:"h-4 w-4 mr-2"}),"Version History"]})]}),l.jsxs(we,{variant:"destructive",onClick:ae,className:"bg-orange-600 hover:bg-orange-700",disabled:P,children:[l.jsx(_f,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]})]}),O&&l.jsx(ze,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:l.jsx(We,{className:"pt-4",children:l.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",O]})})}),l.jsxs(vh,{value:c,onValueChange:z=>u(z),className:"space-y-6",children:[l.jsx(yh,{className:"grid w-full grid-cols-4 lg:grid-cols-7 h-auto min-h-[3rem] p-1",children:X5.map(z=>{const J=z.icon;return l.jsxs(Fn,{value:z.id,className:"flex items-center gap-2 px-2 py-2 text-xs sm:text-sm whitespace-nowrap overflow-hidden",children:[l.jsx(J,{className:"h-4 w-4 flex-shrink-0"}),l.jsx("span",{className:"hidden sm:inline truncate",children:z.name})]},z.id)})}),l.jsxs(Bn,{value:c,className:"space-y-6 mt-6",children:[l.jsxs(ze,{children:[l.jsxs(Bt,{children:[l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(L.icon,{className:"h-5 w-5"}),L.title,P&&l.jsx(qa,{className:"h-4 w-4 animate-spin"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:L.description})]}),l.jsx(We,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(Ut,{variant:"secondary",children:[(w==null?void 0:w.sections.length)||0," section",((w==null?void 0:w.sections.length)||0)!==1?"s":""]}),l.jsxs(we,{onClick:Y,size:"sm",disabled:P,children:[l.jsx(Cl,{className:"h-4 w-4 mr-1"}),"Add Section"]})]})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: currentPageContent = ",w?"exists":"null",", sections = ",(w==null?void 0:w.sections.length)||0]}),w==null?void 0:w.sections.map(z=>l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(qt,{className:"text-lg",children:z.title}),l.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:l.jsxs("span",{children:["Section ID: ",z.id]})})]}),l.jsx("div",{className:"flex gap-2",children:d===z.id?l.jsxs(l.Fragment,{children:[l.jsxs(we,{size:"sm",onClick:M,disabled:P,children:[l.jsx(um,{className:"h-3 w-3 mr-1"}),"Save"]}),l.jsx(we,{size:"sm",variant:"outline",onClick:G,children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(we,{size:"sm",variant:"outline",onClick:()=>D(z.id),disabled:P,children:[l.jsx(Mq,{className:"h-3 w-3 mr-1"}),"Edit"]}),l.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>W(z.id),disabled:P,children:[l.jsx(dh,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]})}),l.jsx(We,{children:d===z.id?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Rt,{value:g,onChange:J=>m(J.target.value),placeholder:"Section title"}),l.jsx(d$,{value:p,onChange:J=>h(J.target.value),className:"min-h-[200px] font-mono text-sm",placeholder:"Section content (supports HTML)"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:" You can use HTML tags like <h4>, <p>, <ul>, <li>, <strong>, etc."})]}):v?l.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:z.content}}):l.jsx("div",{className:"bg-muted p-4 rounded border font-mono text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:z.content})})]},z.id)),(!(w!=null&&w.sections)||w.sections.length===0)&&l.jsx(ze,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:l.jsx(We,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Lo,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"No Content Sections"}),l.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:`This page doesn't have any content sections yet. Click "Add Section" to get started.`}),l.jsxs(we,{onClick:Y,disabled:P,children:[l.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Add First Section"]})]})})})]})]})]}),l.jsx(ze,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:l.jsx(We,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(e_,{className:"h-5 w-5 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Content Management Tips"}),l.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[l.jsx("li",{children:" Content is automatically saved to Supabase database"}),l.jsx("li",{children:" Use HTML tags for formatting (h4, p, ul, li, strong, etc.)"}),l.jsx("li",{children:" Preview mode shows how content will appear to users"}),l.jsx("li",{children:" Changes are synced across all admin users in real-time"}),l.jsx("li",{children:' Use "Restore Defaults" to reset content to original state'}),l.jsx("li",{children:" Version history tracks all changes with timestamps"})]})]})]})})}),l.jsx(Fo,{open:_,onOpenChange:S,children:l.jsxs(Qi,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsx(Bo,{children:l.jsxs(qo,{className:"flex items-center gap-2",children:[l.jsx(L0,{className:"h-5 w-5"}),"Version History - ",L==null?void 0:L.title]})}),l.jsx("div",{className:"space-y-4",children:k?l.jsxs(l.Fragment,{children:[k.current&&l.jsxs(ze,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:[l.jsx(Bt,{children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{children:[l.jsx(qt,{className:"text-lg flex items-center gap-2",children:l.jsxs(Ut,{variant:"default",className:"bg-green-600",children:["Current Version ",k.current.version]})}),l.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ru,{className:"h-3 w-3"}),U(k.current.updated_at)]}),k.current.updated_by&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx($o,{className:"h-3 w-3"}),k.current.updated_by]})]})]})})}),l.jsxs(We,{children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Title:"})," ",k.current.page_data.title]}),l.jsxs("div",{className:"text-sm mt-1",children:[l.jsx("strong",{children:"Sections:"})," ",k.current.page_data.sections.length]})]})]}),k.history.length>0?l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold",children:"Previous Versions"}),k.history.map(z=>l.jsxs(ze,{className:"border-gray-200",children:[l.jsx(Bt,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(qt,{className:"text-sm flex items-center gap-2",children:l.jsxs(Ut,{variant:"outline",children:["Version ",z.version_number]})}),l.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ru,{className:"h-3 w-3"}),U(z.created_at)]}),z.created_by&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx($o,{className:"h-3 w-3"}),z.created_by]})]}),z.change_summary&&l.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.jsx("strong",{children:"Changes:"})," ",z.change_summary]})]}),l.jsxs(we,{size:"sm",variant:"outline",onClick:()=>$(z.version_number),className:"text-xs",children:[l.jsx(_f,{className:"h-3 w-3 mr-1"}),"Revert"]})]})}),l.jsxs(We,{children:[l.jsxs("div",{className:"text-xs",children:[l.jsx("strong",{children:"Title:"})," ",z.page_data.title]}),l.jsxs("div",{className:"text-xs mt-1",children:[l.jsx("strong",{children:"Sections:"})," ",z.page_data.sections.length]})]})]},z.id))]}):l.jsx(ze,{className:"border-gray-200",children:l.jsxs(We,{className:"pt-6 text-center text-muted-foreground",children:[l.jsx(L0,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No version history available"})]})})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(qa,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading version history..."})]})})]})})]}):l.jsx("div",{children:"Page configuration not found"})}class Aa{static async createConversation(e,r){try{const{data:n,error:a}=await Te.from("chat_conversations").insert({customer_id:e,subject:r||"General Inquiry",status:"open",priority:2}).select().single();return a?(console.error("Error creating conversation:",a),null):n}catch(n){return console.error("Error in createConversation:",n),null}}static async getConversations(e,r=!1){try{let n=Te.from("chat_conversations").select("*").order("last_message_at",{ascending:!1});r||(n=n.eq("customer_id",e));const{data:a,error:i}=await n;return i?(console.error("Error fetching conversations:",i),[]):a||[]}catch(n){return console.error("Error in getConversations:",n),[]}}static async sendMessage(e,r,n,a="text"){try{const{data:i,error:o}=await Te.from("chat_messages").insert({conversation_id:e,sender_id:r,content:n,message_type:a}).select().single();return o?(console.error("Error sending message:",o),null):i}catch(i){return console.error("Error in sendMessage:",i),null}}static async getMessages(e){try{const{data:r,error:n}=await Te.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});return n?(console.error("Error fetching messages:",n),[]):r||[]}catch(r){return console.error("Error in getMessages:",r),[]}}static async markMessagesAsRead(e,r){try{const{error:n}=await Te.from("chat_messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",r).eq("is_read",!1);return n?(console.error("Error marking messages as read:",n),!1):!0}catch(n){return console.error("Error in markMessagesAsRead:",n),!1}}static async getUnreadCount(e){try{const r=await this.getConversations(e,!1);if(r.length===0)return 0;const n=r.map(o=>o.id),{count:a,error:i}=await Te.from("chat_messages").select("*",{count:"exact",head:!0}).in("conversation_id",n).neq("sender_id",e).eq("is_read",!1);return i?(console.error("Error getting unread count:",i),0):a||0}catch(r){return console.error("Error in getUnreadCount:",r),0}}static subscribeToConversations(e,r){const n=`conversations:${e}`;this.unsubscribe(n);const a=Te.channel(n).on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},i=>{console.log("Conversation update:",i),r(i)}).subscribe();return this.subscriptions.set(n,a),a}static subscribeToMessages(e,r,n){const a=`messages:${e}`;this.unsubscribe(a);let i=Te.channel(a).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},s=>{console.log("New message:",s),r(s)});n&&(i=i.on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`conversation_id=eq.${e}`},s=>{console.log("Message updated:",s),n(s)}));const o=i.subscribe();return this.subscriptions.set(a,o),o}static unsubscribe(e){const r=this.subscriptions.get(e);r&&(Te.removeChannel(r),this.subscriptions.delete(e))}static unsubscribeAll(){this.subscriptions.forEach((e,r)=>{Te.removeChannel(e)}),this.subscriptions.clear()}static async assignConversation(e,r){try{const{error:n}=await Te.from("chat_conversations").update({admin_id:r,status:"assigned",updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error assigning conversation:",n),!1):!0}catch(n){return console.error("Error in assignConversation:",n),!1}}static async updateConversationStatus(e,r){try{const{error:n}=await Te.from("chat_conversations").update({status:r,updated_at:new Date().toISOString()}).eq("id",e);return n?(console.error("Error updating conversation status:",n),!1):!0}catch(n){return console.error("Error in updateConversationStatus:",n),!1}}static async getOrCreateConversation(e,r){try{const{data:n,error:a}=await Te.from("chat_conversations").select("*").eq("customer_id",e).in("status",["open","assigned"]).order("created_at",{ascending:!1}).limit(1);return a?(console.error("Error fetching existing conversations:",a),null):n&&n.length>0?n[0]:await this.createConversation(e,r)}catch(n){return console.error("Error in getOrCreateConversation:",n),null}}static async searchMessages(e,r){try{let n=Te.from("chat_messages").select("*").textSearch("content",e);r&&(n=n.eq("conversation_id",r));const{data:a,error:i}=await n.order("created_at",{ascending:!1}).limit(20);return i?(console.error("Error searching messages:",i),[]):a||[]}catch(n){return console.error("Error in searchMessages:",n),[]}}}Xt(Aa,"subscriptions",new Map);function bF(t,e=!1){const[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,s]=N.useState(null),c=N.useCallback(async()=>{i(!0);try{const f=await Aa.getConversations(t,e);n(f),s(null)}catch(f){s("Failed to load conversations"),console.error("Error loading conversations:",f)}finally{i(!1)}},[t,e]),u=N.useCallback(async f=>{try{const p=await Aa.createConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error starting conversation:",p),null}},[t,c]),d=N.useCallback(async f=>{try{const p=await Aa.getOrCreateConversation(t,f);return p?(await c(),p):null}catch(p){return console.error("Error getting/creating conversation:",p),null}},[t,c]);return N.useEffect(()=>{t&&c()},[c,t]),{conversations:r,loading:a,error:o,refreshConversations:c,startConversation:u,getOrCreateConversation:d}}function xF(t){const[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,o]=N.useState(null),[s,c]=N.useState(null),u=N.useCallback(async()=>{if(!t){r([]),a(!1);return}a(!0);try{const p=await Aa.getMessages(t);r(p),o(null)}catch(p){o("Failed to load messages"),console.error("Error loading messages:",p)}finally{a(!1)}},[t]),d=N.useCallback(async(p,h,g="text")=>{if(!t)return null;try{const m=await Aa.sendMessage(t,p,h,g);return m?(r(v=>[...v,m]),m):null}catch(m){return console.error("Error sending message:",m),null}},[t]),f=N.useCallback(async p=>{if(!t)return!1;try{return await Aa.markMessagesAsRead(t,p)}catch(h){return console.error("Error marking messages as read:",h),!1}},[t]);return N.useEffect(()=>{if(!t){r([]),a(!1);return}u();const p=Aa.subscribeToMessages(t,h=>{h.eventType==="INSERT"&&h.new&&r(g=>g.some(v=>v.id===h.new.id)?g:[...g,h.new])},h=>{h.eventType==="UPDATE"&&h.new&&r(g=>g.map(m=>m.id===h.new.id?h.new:m))});return c(p),()=>{p&&Aa.unsubscribe(`messages:${t}`)}},[t,u]),{messages:e,loading:n,error:i,sendMessage:d,markAsRead:f,refreshMessages:u}}function wF(t){const[e,r]=N.useState(0),[n,a]=N.useState(!0),i=N.useCallback(async()=>{if(!t){r(0),a(!1);return}try{const o=await Aa.getUnreadCount(t);r(o)}catch(o){console.error("Error getting unread count:",o)}finally{a(!1)}},[t]);return N.useEffect(()=>{if(t){i();const o=setInterval(i,3e4);return()=>clearInterval(o)}},[t,i]),{unreadCount:e,loading:n,refreshUnreadCount:i}}function cbe(){const t=N.useCallback(async(n,a)=>{try{return await Aa.assignConversation(n,a)}catch(i){return console.error("Error assigning conversation:",i),!1}},[]),e=N.useCallback(async(n,a)=>{try{return await Aa.updateConversationStatus(n,a)}catch(i){return console.error("Error updating conversation status:",i),!1}},[]),r=N.useCallback(async(n,a)=>{try{return await Aa.searchMessages(n,a)}catch(i){return console.error("Error searching messages:",i),[]}},[]);return{assignConversation:t,updateStatus:e,searchMessages:r}}function ube(){const{user:t}=Nn(),[e,r]=N.useState(null),[n,a]=N.useState(""),[i,o]=N.useState("all"),[s,c]=N.useState(!1),[u,d]=N.useState(!0),{conversations:f,loading:p,refreshConversations:h}=bF((t==null?void 0:t.id)||"",!0),{messages:g,loading:m,sendMessage:v,refreshMessages:b}=xF(e),{assignConversation:w,updateStatus:j}=cbe();N.useEffect(()=>{const M=()=>{const G=window.innerWidth<768;c(G),G||d(!0)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const _=M=>{r(M),s&&d(!1)},S=()=>{s&&(d(!0),r(null))},k=f.filter(M=>{var W,F;const G=n===""||((W=M.subject)==null?void 0:W.toLowerCase().includes(n.toLowerCase()))||((F=M.customer_id)==null?void 0:F.toLowerCase().includes(n.toLowerCase())),Y=i==="all"||M.status===i;return G&&Y}),A=async M=>{t!=null&&t.id&&await w(M,t.id)&&h()},E=async(M,G)=>{await j(M,G)&&h()},I=async M=>{e&&(t!=null&&t.id)&&(await v(t.id,M),b())},L=M=>{switch(M){case"open":return"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300";case"assigned":return"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 border-blue-300";case"in_progress":return"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 border-purple-300";case"waiting_customer":return"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-800 border-orange-300";case"escalated":return"bg-gradient-to-r from-red-100 to-red-200 text-red-800 border-red-300";case"follow_up":return"bg-gradient-to-r from-indigo-100 to-indigo-200 text-indigo-800 border-indigo-300";case"resolved":return"bg-gradient-to-r from-green-100 to-green-200 text-green-800 border-green-300";case"closed":return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300";default:return"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border-gray-300"}},P=M=>{switch(M){case"open":return"";case"assigned":return"";case"in_progress":return"";case"waiting_customer":return"";case"escalated":return"";case"follow_up":return"";case"resolved":return"";case"closed":return"";default:return""}},O=M=>{switch(M){case"open":return l.jsx(Rl,{className:"h-3 w-3"});case"assigned":return l.jsx($o,{className:"h-3 w-3"});case"resolved":return l.jsx(uh,{className:"h-3 w-3"});default:return l.jsx(ru,{className:"h-3 w-3"})}},D=M=>{const G=new Date,Y=new Date(M.created_at),W=G.getTime()-Y.getTime(),F=Math.floor(W/(1e3*60*60)),ae=M.priority||"normal",oe=(ae==="high"||ae==="urgent"?1:ae==="low"?24:4)-F,$=oe<0;return{isOverdue:$,timeLeft:$?`${Math.abs(oe)}h overdue`:`${oe}h left`,color:$?"text-red-600":oe<1?"text-orange-600":"text-blue-600"}};return l.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-neutral-50 via-white to-rose-50/30 dark:from-neutral-900 dark:via-neutral-800 dark:to-rose-900/20",children:[l.jsxs("div",{className:"relative bg-gradient-to-r from-rose-500 via-pink-500 to-rose-600 text-white shadow-xl",children:[l.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),l.jsxs("div",{className:"relative p-3 md:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s&&!u&&l.jsx("button",{onClick:S,className:"bg-white/20 backdrop-blur-sm rounded-lg p-2 shadow-lg hover:bg-white/30 transition-all duration-200 mr-2",children:l.jsx(kg,{className:"h-5 w-5"})}),l.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg md:rounded-2xl p-2 md:p-3 shadow-lg",children:l.jsx(gi,{className:"h-5 w-5 md:h-8 md:w-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-base md:text-2xl lg:text-3xl font-bold flex items-center gap-1 md:gap-3",children:s&&!u?l.jsx("span",{children:"Chat"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{className:"sm:hidden",children:"Support"}),l.jsx("span",{className:"hidden sm:block",children:"Customer Support"})]})}),l.jsx("p",{className:"text-rose-100 text-xs md:text-sm lg:text-base hidden md:block",children:" Manage conversations and provide amazing support"})]})]}),l.jsx("div",{className:"bg-white/15 backdrop-blur-md rounded-lg md:rounded-xl px-2 py-2 md:px-6 md:py-4 border border-white/20 shadow-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-2 mb-1",children:[l.jsx("span",{className:"text-sm md:text-2xl lg:text-3xl font-bold",children:f.length}),l.jsx("span",{className:"text-xs md:text-xl",children:""})]}),l.jsxs("span",{className:"text-rose-100 text-xs md:text-sm font-medium",children:[l.jsx("span",{className:"hidden md:inline",children:"Active"}),l.jsx("span",{className:"md:hidden",children:"Chats"})]})]})})]}),l.jsxs("div",{className:`relative mt-2 md:mt-4 flex items-center gap-2 md:gap-4 text-xs md:text-sm ${s&&!u?"hidden":"flex"}`,children:[l.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-white/10 rounded-full px-2 md:px-3 py-1",children:[l.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-400 rounded-full animate-pulse"}),l.jsx("span",{className:"text-rose-100",children:"Online"})]}),l.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-rose-200",children:[l.jsx("span",{children:""}),l.jsx("span",{className:"hidden sm:inline",children:new Date().toLocaleTimeString()})]})]})]})]}),l.jsx("div",{className:"flex-1 flex overflow-hidden shadow-inner",children:s?l.jsx(l.Fragment,{children:u?l.jsxs("div",{className:"w-full bg-white/80 backdrop-blur-sm flex flex-col shadow-lg",children:[l.jsxs("div",{className:"p-3 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:" Search...",value:n,onChange:M=>a(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400 text-base"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(bf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),l.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200 text-base",children:[l.jsx("option",{value:"all",children:" All Status"}),l.jsx("option",{value:"open",children:" Open"}),l.jsx("option",{value:"assigned",children:" Assigned"}),l.jsx("option",{value:"in_progress",children:" In Progress"}),l.jsx("option",{value:"waiting_customer",children:" Waiting"}),l.jsx("option",{value:"escalated",children:" Escalated"}),l.jsx("option",{value:"follow_up",children:" Follow-up"}),l.jsx("option",{value:"resolved",children:" Resolved"}),l.jsx("option",{value:"closed",children:" Closed"})]}),l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:l.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),l.jsx("p",{className:"text-rose-600 font-medium",children:" Loading..."})]}):k.length===0?l.jsxs("div",{className:"p-6 text-center text-rose-600",children:[l.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsx("p",{className:"font-medium",children:"No conversations"}),l.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting filters"})]}):l.jsx("div",{className:"space-y-1 p-2",children:k.map(M=>{var G;return l.jsx("div",{onClick:()=>_(M.id),className:"bg-white/90 backdrop-blur-sm border border-rose-100 rounded-xl p-4 hover:shadow-lg transition-all duration-200 cursor-pointer active:scale-95",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:""}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h4",{className:"font-bold text-gray-900 text-base truncate",children:["Customer #",((G=M.customer_id)==null?void 0:G.slice(0,8))||"Unknown"]}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:M.subject||"General Inquiry"})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${L(M.status||"open")}`,children:P(M.status||"open")})]}),l.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:"Last message preview..."}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ru,{className:"h-3 w-3"}),new Date(M.created_at).toLocaleDateString()]})}),(()=>{const Y=D(M);return Y.isOverdue?l.jsxs("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-bold",children:[" ",Y.timeLeft]}):l.jsxs("span",{className:"text-gray-500 text-xs",children:[" ",Y.timeLeft]})})()]})]})]})},M.id)})})})]}):l.jsx("div",{className:"w-full flex flex-col",children:e?l.jsx(X6,{conversationId:e,messages:g,loading:m,onSendMessage:I,onAssignToSelf:()=>A(e),onStatusUpdate:M=>E(e,M),isMobile:!0}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30 p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(gi,{className:"h-10 w-10 text-rose-400"})}),l.jsx("p",{className:"text-rose-600 font-medium mb-2",children:"Select a conversation"}),l.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation to start chatting"})]})})})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-1/3 bg-white/80 backdrop-blur-sm border-r border-rose-100 dark:border-rose-800/30 flex flex-col shadow-lg",children:[l.jsxs("div",{className:"p-4 bg-gradient-to-r from-white to-rose-50/50 border-b border-rose-100 space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),l.jsx("input",{type:"text",placeholder:" Search conversations...",value:n,onChange:M=>a(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent transition-all duration-200 placeholder:text-rose-400"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(bf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-rose-400 h-4 w-4"}),l.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-rose-200 rounded-xl bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent appearance-none cursor-pointer transition-all duration-200",children:[l.jsx("option",{value:"all",children:" All Status"}),l.jsx("option",{value:"open",children:" Open"}),l.jsx("option",{value:"assigned",children:" Assigned"}),l.jsx("option",{value:"in_progress",children:" In Progress"}),l.jsx("option",{value:"waiting_customer",children:" Waiting for Customer"}),l.jsx("option",{value:"escalated",children:" Escalated"}),l.jsx("option",{value:"follow_up",children:" Follow-up Required"}),l.jsx("option",{value:"resolved",children:" Resolved"}),l.jsx("option",{value:"closed",children:" Closed"})]}),l.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:l.jsx("svg",{className:"w-4 h-4 text-rose-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white to-rose-50/30",children:p?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500 mx-auto mb-3"}),l.jsx("p",{className:"text-rose-600 font-medium",children:" Loading conversations..."})]}):k.length===0?l.jsxs("div",{className:"p-6 text-center text-rose-600",children:[l.jsx("div",{className:"bg-rose-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsx("p",{className:"font-medium",children:"No conversations found"}),l.jsx("p",{className:"text-sm text-rose-500 mt-1",children:"Try adjusting your search or filters"})]}):l.jsx("div",{className:"space-y-1 p-2",children:k.map(M=>{var G;return l.jsx("div",{onClick:()=>r(M.id),className:`p-4 border-b border-rose-100/50 cursor-pointer transition-all duration-300 hover:bg-gradient-to-r hover:from-rose-50 hover:to-pink-50 hover:shadow-md group relative ${e===M.id?"bg-gradient-to-r from-rose-100 to-pink-100 border-rose-300 shadow-lg":""}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex-shrink-0 relative",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",children:""}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:l.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold shadow-sm transition-all duration-200 ${L(M.status||"open")}`,children:[O(M.status||"open"),P(M.status||"open")," ",(M.status||"open").toUpperCase()]})}),l.jsxs("div",{className:"mb-2",children:[l.jsxs("h4",{className:"font-bold text-gray-900 truncate group-hover:text-rose-700 transition-colors text-sm",children:[" Customer #",((G=M.customer_id)==null?void 0:G.slice(0,8))||"Unknown"]}),l.jsxs("p",{className:"text-xs text-gray-600 truncate mt-1",children:[" ",M.subject||"General Support Inquiry"]})]}),l.jsxs("div",{className:"flex items-center justify-between mt-3",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[l.jsx(ru,{className:"h-3 w-3"}),l.jsx("span",{children:new Date(M.created_at).toLocaleDateString()})]}),(()=>{const Y=D(M);return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${Y.isOverdue?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:[" ",Y.timeLeft]}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[l.jsx("button",{onClick:W=>{W.stopPropagation(),A(M.id)},className:"p-1 bg-blue-100 hover:bg-blue-200 text-blue-600 rounded text-xs",title:"Assign to me",children:""}),l.jsx("button",{onClick:W=>{W.stopPropagation(),E(M.id,"escalated")},className:"p-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-xs",title:"Escalate",children:""}),l.jsx("button",{onClick:W=>{W.stopPropagation(),E(M.id,"resolved")},className:"p-1 bg-green-100 hover:bg-green-200 text-green-600 rounded text-xs",title:"Mark Resolved",children:""})]})]})})()]})]})]})},M.id)})})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:e?l.jsx(X6,{conversationId:e,messages:g,loading:m,onSendMessage:I,onAssignToSelf:()=>A(e),onStatusUpdate:M=>E(e,M),isMobile:!1}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-rose-50/30 via-white to-pink-50/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(gi,{className:"h-10 w-10 text-rose-400"})}),l.jsx("p",{className:"text-rose-600 font-medium mb-2",children:" Select a conversation"}),l.jsx("p",{className:"text-rose-500 text-sm",children:"Choose a conversation from the list to start providing amazing support!"})]})})})]})})]})}function X6({conversationId:t,messages:e,loading:r,onSendMessage:n,onAssignToSelf:a,onStatusUpdate:i,isMobile:o=!1}){const[s,c]=N.useState(""),[u,d]=N.useState(!1),[f,p]=N.useState(!1),[h,g]=N.useState(""),[m,v]=N.useState(!1),b=K.useRef(null),w=[{id:1,title:" Welcome",content:"Hello! Thank you for contacting us. How can I help you today?"},{id:2,title:" Investigating",content:"Thank you for bringing this to our attention. I'm looking into this right away and will get back to you shortly."},{id:3,title:" Resolved",content:"Great news! I've resolved your issue. Please let me know if you need any further assistance."},{id:4,title:" Follow-up",content:"I'll follow up with you within 24 hours to ensure everything is working perfectly."},{id:5,title:" Thank You",content:"Thank you for your patience and for choosing our service. Is there anything else I can help you with?"},{id:6,title:" More Info",content:"To better assist you, could you please provide more details about the issue you're experiencing?"}];N.useEffect(()=>{var _;(_=b.current)==null||_.scrollIntoView({behavior:"smooth"})},[e]),N.useEffect(()=>{if(s.length>0){v(!0);const _=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(_)}else v(!1)},[s]);const j=_=>{_.preventDefault(),s.trim()&&(n(s.trim()),c(""))};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative bg-gradient-to-r from-rose-400 via-pink-400 to-rose-500 text-white shadow-lg",children:[l.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),l.jsx("div",{className:`relative ${o?"px-4 py-3":"px-6 py-4"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx(gi,{className:"h-3 w-3 md:h-4 md:w-4"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-sm md:text-lg",children:" Conversation"}),l.jsxs("p",{className:"text-rose-100 text-xs md:text-sm",children:["#",t.slice(0,8)]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsxs("button",{onClick:a,className:`flex items-center gap-1 md:gap-2 ${o?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm text-white rounded-lg md:rounded-xl hover:bg-white/30 transition-all duration-200 font-medium shadow-lg border border-white/20`,children:[l.jsx(DB,{className:"h-3 w-3 md:h-4 md:w-4"}),l.jsx("span",{className:"hidden sm:inline",children:" Assign"}),l.jsx("span",{className:"sm:hidden",children:""})]}),l.jsxs("select",{onChange:_=>i(_.target.value),className:`${o?"px-2 py-1 text-xs":"px-4 py-2 text-sm"} bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg md:rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 hover:bg-white/30 transition-all duration-200 font-medium`,style:{backgroundImage:"none"},children:[l.jsx("option",{value:"",className:"text-gray-800",children:" Status"}),l.jsx("option",{value:"assigned",className:"text-gray-800",children:" Assigned"}),l.jsx("option",{value:"in_progress",className:"text-gray-800",children:" In Progress"}),l.jsx("option",{value:"waiting_customer",className:"text-gray-800",children:" Waiting"}),l.jsx("option",{value:"escalated",className:"text-gray-800",children:" Escalated"}),l.jsx("option",{value:"follow_up",className:"text-gray-800",children:" Follow-up"}),l.jsx("option",{value:"resolved",className:"text-gray-800",children:" Resolved"}),l.jsx("option",{value:"closed",className:"text-gray-800",children:" Closed"})]})]})]})})]}),l.jsxs("div",{className:`flex-1 overflow-y-auto space-y-4 bg-gradient-to-b from-rose-50/50 via-white to-pink-50/30 ${o?"px-3 py-3":"px-6 py-6"}`,children:[r?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-4 border-rose-200 border-t-rose-500 mb-4"}),l.jsx("p",{className:"text-rose-600 font-medium text-sm md:text-base",children:" Loading messages..."})]}):e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[l.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-rose-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(gi,{className:"h-6 w-6 md:h-8 md:w-8 text-rose-400"})}),l.jsx("p",{className:"text-rose-600 font-medium mb-2 text-sm md:text-base",children:" No messages yet"}),l.jsx("p",{className:"text-rose-500 text-xs md:text-sm",children:"Start the conversation below!"})]}):l.jsx(l.Fragment,{children:e.map(_=>l.jsx("div",{className:`flex ${_.sender_id===t?"justify-start":"justify-end"}`,children:l.jsxs("div",{className:`${o?"max-w-[85%]":"max-w-[70%]"} group ${_.sender_id===t?"flex items-start gap-2 md:gap-3":"flex items-start gap-2 md:gap-3 flex-row-reverse"}`,children:[l.jsx("div",{className:`${o?"w-8 h-8":"w-10 h-10"} rounded-full flex items-center justify-center text-white font-bold text-xs md:text-sm shadow-lg flex-shrink-0 ${_.sender_id===t?"bg-gradient-to-br from-blue-400 to-purple-500":"bg-gradient-to-br from-rose-400 to-pink-500"}`,children:_.sender_id===t?"":""}),l.jsxs("div",{className:`${o?"px-3 py-2":"px-4 py-3"} rounded-2xl shadow-lg border transition-all duration-200 group-hover:shadow-xl ${_.sender_id===t?"bg-white border-gray-200 text-gray-900 rounded-tl-sm":"bg-gradient-to-r from-rose-500 to-pink-600 text-white border-rose-400 rounded-tr-sm"}`,children:[l.jsx("p",{className:`${o?"text-xs":"text-sm"} font-medium leading-relaxed`,children:_.content}),l.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${_.sender_id===t?"text-gray-500":"text-rose-100"}`,children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ru,{className:"h-2 w-2 md:h-3 md:w-3"}),new Date(_.created_at).toLocaleTimeString()]}),_.sender_id!==t&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-rose-200",children:""}),l.jsx("span",{className:"text-rose-200 hidden sm:inline",children:"Read"})]})]})]})]})},_.id))}),l.jsx("div",{ref:b})]}),l.jsxs("div",{className:`relative bg-gradient-to-r from-rose-50 to-pink-50 border-t border-rose-200 space-y-3 md:space-y-4 ${o?"px-3 py-3":"px-6 py-4"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-50/70 to-pink-50/70 backdrop-blur-sm"}),l.jsxs("div",{className:"relative flex items-center gap-1 md:gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-1 md:gap-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg md:rounded-xl font-medium transition-colors ${o?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",l.jsx("span",{className:"hidden sm:inline",children:"Templates"})]}),l.jsxs("button",{onClick:()=>p(!f),className:`flex items-center gap-1 md:gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg md:rounded-xl font-medium transition-colors ${o?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",l.jsx("span",{className:"hidden sm:inline",children:"Notes"})]}),l.jsxs("button",{onClick:()=>{},className:`flex items-center gap-1 md:gap-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg md:rounded-xl font-medium transition-colors ${o?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,children:[" ",l.jsx("span",{className:"hidden sm:inline",children:"Attach"})]})]}),u&&l.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-rose-200 shadow-lg",children:[l.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:" Quick Reply Templates"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:w.map(_=>l.jsxs("button",{onClick:()=>{c(_.content),d(!1)},className:"text-left p-2 md:p-3 bg-gray-50 hover:bg-rose-50 rounded-lg text-xs transition-colors border border-gray-200 hover:border-rose-300",children:[l.jsx("div",{className:"font-medium text-gray-800",children:_.title}),l.jsxs("div",{className:"text-gray-500 mt-1 truncate",children:[_.content.slice(0,o?30:40),"..."]})]},_.id))})]}),f&&l.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-3 md:p-4 border border-purple-200 shadow-lg",children:[l.jsx("h4",{className:"text-xs md:text-sm font-bold text-gray-800 mb-3",children:" Internal Team Notes"}),l.jsx("textarea",{value:h,onChange:_=>g(_.target.value),placeholder:"Add internal notes for your team...",rows:o?2:3,className:"w-full px-3 py-2 border border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400 text-xs md:text-sm text-gray-800"}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("span",{className:"text-xs text-purple-600",children:" Team only"}),l.jsx("button",{onClick:()=>{g(""),p(!1)},className:"px-3 py-1 bg-purple-500 text-white rounded-lg text-xs font-medium hover:bg-purple-600 transition-colors",children:"Save"})]})]}),l.jsxs("form",{onSubmit:j,className:"relative flex gap-2 md:gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("textarea",{value:s,onChange:_=>c(_.target.value),placeholder:" Type your reply...",rows:o?1:2,className:`w-full border-2 border-rose-300 rounded-xl md:rounded-2xl focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-rose-400 resize-none bg-white shadow-md font-medium transition-all duration-200 hover:border-rose-400 hover:shadow-lg text-gray-900 placeholder:text-rose-500 ${o?"px-3 py-2 text-sm":"px-4 py-3 text-base"}`,style:{color:"#111827"}}),!o&&l.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-rose-600 font-medium bg-white/80 px-2 py-1 rounded-lg",children:" Shift + Enter for new line"})]}),l.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[l.jsxs("button",{type:"submit",disabled:!s.trim(),className:`bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-xl md:rounded-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-1 md:gap-2 ${o?"px-3 py-2 text-xs":"px-6 py-3 text-sm"}`,children:[l.jsx(PT,{className:"h-3 w-3 md:h-4 md:w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Send"}),l.jsx("span",{className:"sm:hidden",children:"Send"})]}),!o&&l.jsx("div",{className:"text-xs text-gray-500 text-center",children:" Read receipts: ON"})]})]})]})]})}function dbe({defaultTab:t="overview"}){const{products:e,fetchAllProducts:r}=hh(),[n,a]=N.useState(null),[i,o]=N.useState(!1);N.useEffect(()=>{r()},[r]);const s=f=>{a(f),o(!0)},c=()=>{r(),a(null),o(!1)},u=()=>{a(null),o(!1)},d=()=>{r()};return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your store and view analytics"})]}),l.jsxs(vh,{defaultValue:t,className:"space-y-6",children:[l.jsxs(yh,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-7 h-auto p-1 bg-muted rounded-lg",children:[l.jsx(Fn,{value:"overview",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Overview"}),l.jsx(Fn,{value:"products",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Products"}),l.jsx(Fn,{value:"orders",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Orders"}),l.jsx(Fn,{value:"analytics",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Analytics"}),l.jsx(Fn,{value:"content",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Content"}),l.jsx(Fn,{value:"messages",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Messages"}),l.jsx(Fn,{value:"settings",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Settings"})]}),l.jsxs(Bn,{value:"overview",children:[l.jsx(tX,{products:e}),l.jsxs(ze,{className:"mt-6",children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Recent Orders"})}),l.jsx(We,{children:l.jsx(z6,{})})]})]}),l.jsxs(Bn,{value:"products",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(Y6,{onSuccess:c}),l.jsx("div",{className:"lg:col-span-2",children:l.jsx(Vye,{products:e,onEditProduct:s,onRefresh:d})})]}),l.jsx(Fo,{open:i,onOpenChange:o,children:l.jsxs(Qi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Bo,{children:l.jsx(qo,{children:"Edit Product"})}),n&&l.jsx(Y6,{mode:"edit",product:n,onSuccess:c,onCancel:u})]})})]}),l.jsx(Bn,{value:"orders",children:l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{children:"All Orders"})}),l.jsx(We,{children:l.jsx(z6,{showActions:!0})})]})}),l.jsx(Bn,{value:"analytics",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(zve,{}),l.jsx(Wve,{})]})}),l.jsx(Bn,{value:"content",children:l.jsx(lbe,{})}),l.jsx(Bn,{value:"messages",children:l.jsx(ze,{className:"h-[calc(100vh-240px)]",children:l.jsx(We,{className:"p-0 h-full",children:l.jsx(ube,{})})})}),l.jsx(Bn,{value:"settings",children:l.jsx(gF,{})})]}),l.jsx(Fs,{})]})}function _F({...t}){return l.jsx(j_,{"data-slot":"sheet",...t})}const mS=N.forwardRef(({...t},e)=>l.jsx(Dg,{"data-slot":"sheet-trigger",ref:e,...t}));mS.displayName=Dg.displayName;function fbe({...t}){return l.jsx(S_,{"data-slot":"sheet-portal",...t})}function hbe({className:t,...e}){return l.jsx($g,{"data-slot":"sheet-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function jF({className:t,children:e,side:r="right",...n}){return l.jsxs(fbe,{children:[l.jsx(hbe,{}),l.jsxs(Fg,{"data-slot":"sheet-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,l.jsxs(Bg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(Ro,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const Z6=[{id:"about",title:"About Us",description:"Learn about Rosmama Clothing",icon:Cg,category:"Company"},{id:"privacy",title:"Privacy Policy",description:"How we protect your data",icon:Oo,category:"Legal"},{id:"terms",title:"Terms of Service",description:"Our terms and conditions",icon:Lo,category:"Legal"},{id:"shipping",title:"Shipping Policy",description:"Delivery information",icon:pu,category:"Policies"},{id:"returns",title:"Return Policy",description:"Returns and exchanges",icon:_f,category:"Policies"},{id:"help",title:"Help Center",description:"FAQ and support",icon:e_,category:"Support"},{id:"contact",title:"Contact Us",description:"Get in touch",icon:i_,category:"Support"}];function pbe({children:t,title:e,description:r,onBack:n,onNavigate:a}){const[i,o]=N.useState(!1),s=Array.from(new Set(Z6.map(u=>u.category))),c=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center pb-4 border-b",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Information Center"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Everything you need to know about Rosmama"})]}),s.map(u=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:u}),l.jsx("div",{className:"space-y-1",children:Z6.filter(d=>d.category===u).map(d=>{const f=d.icon;return l.jsxs(we,{variant:"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{a==null||a(d.id),o(!1)},children:[l.jsx(f,{className:"h-4 w-4 mr-3 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium",children:d.title}),l.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.description})]})]},d.id)})})]},u))]});return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20",children:l.jsx(kg,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-xl font-bold",children:e}),r&&l.jsx("p",{className:"text-sm text-white/80 mt-1",children:r})]}),l.jsxs(_F,{open:i,onOpenChange:o,children:[l.jsx(mS,{asChild:!0,children:l.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",children:l.jsx(jT,{className:"h-5 w-5"})})}),l.jsx(jF,{side:"right",className:"w-80",children:l.jsx(c,{})})]})]})})}),l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex gap-6",children:[l.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:l.jsx("div",{className:"sticky top-24 bg-card border rounded-lg p-4",children:l.jsx(c,{})})}),l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"bg-card border rounded-lg p-6",children:t})})]})})]})}function SF({pageType:t,defaultContent:e=[],className:r="",onRetry:n}){const{getPageContent:a,state:i,subscribeToPageContent:o,unsubscribeFromPageContent:s}=yF(),[c,u]=N.useState(null),[d,f]=N.useState(!0),[p,h]=N.useState(null),[g,m]=N.useState(!1),v=N.useRef(!1);N.useEffect(()=>(b(),v.current||(o(t),v.current=!0),()=>{v.current&&(s(t),v.current=!1)}),[t]),N.useEffect(()=>{const _=i.contentCache[t];if(_&&_!==c&&(u(_),c!==null)){m(!0);const S=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(S)}},[i.contentCache,t,c]);const b=N.useCallback(async()=>{try{f(!0),h(null);const _=await a(t);u(_)}catch(_){h(_ instanceof Error?_.message:"Failed to load content")}finally{f(!1)}},[t,a]),w=()=>{n?n():b()};if(d&&!c)return l.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx(qa,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-rose-500"}),l.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})});if(p&&!c&&e.length===0)return l.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx(Rl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Content"}),l.jsx("p",{className:"text-gray-600 mb-4",children:p}),l.jsx(we,{onClick:w,variant:"outline",children:"Try Again"})]})});const j=(c==null?void 0:c.sections)||e;return j.length===0?l.jsx("div",{className:`text-center py-12 ${r}`,children:l.jsx("p",{className:"text-gray-500",children:"No content available for this page."})}):l.jsxs("div",{className:`space-y-8 ${r}`,children:[g&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-in slide-in-from-top-2 duration-300",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(uh,{className:"h-5 w-5 text-green-600 mr-2"}),l.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Content updated! You're viewing the latest version."}),l.jsx(Ol,{className:"h-4 w-4 text-green-600 ml-auto animate-spin"})]})}),p&&c&&l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rl,{className:"h-5 w-5 text-amber-600 mr-2"}),l.jsxs("p",{className:"text-amber-800 text-sm",children:["Content may be outdated. ",p]}),l.jsx(we,{onClick:w,variant:"ghost",size:"sm",className:"ml-auto text-amber-700 hover:text-amber-900",children:"Refresh"})]})}),j.map((_,S)=>l.jsx(mbe,{section:_},_.id||S))]})}function mbe({section:t}){return l.jsxs("section",{className:"space-y-4",children:[t.title&&l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t.title}),t.content&&l.jsx("div",{className:`prose prose-gray max-w-none\r
            prose-headings:text-gray-900 \r
            prose-p:text-gray-700 prose-p:leading-relaxed\r
            prose-ul:text-gray-700 prose-ol:text-gray-700\r
            prose-li:mb-1\r
            prose-strong:text-gray-900\r
            prose-a:text-rose-600 prose-a:no-underline hover:prose-a:underline`,dangerouslySetInnerHTML:{__html:t.content}})]})}const gbe=[{id:"hero-section",title:"Welcome to Rosmama Clothing",content:`
      <p class="text-xl text-gray-600 mb-6">Where fashion meets passion, and style tells your story.</p>
      
      <p>Rosmama Clothing was born from a simple belief: every woman deserves to feel confident, beautiful, and empowered through fashion. Founded in South Africa, we've grown from a small boutique dream into a trusted destination for women who appreciate quality, style, and authentic craftsmanship.</p>
    `},{id:"our-story",title:"Our Story",content:`
      <p>What started as a passion project in 2015 has blossomed into a movement celebrating women of all ages, sizes, and styles. Our founder, Rosemary, noticed a gap in the market for fashion that was both accessible and aspirational  clothing that made women feel amazing without breaking the bank.</p>
      
      <p>From our headquarters in Midrand, Johannesburg, we carefully curate and design pieces that celebrate the modern African woman. Each piece in our collection is selected or created with intention, ensuring it meets our high standards for quality, comfort, and style.</p>
    `},{id:"our-mission",title:"Our Mission",content:`
      <p>To empower women through fashion by providing:</p>
      
      <ul>
        <li><strong>Quality Pieces:</strong> Carefully selected fabrics and construction that last</li>
        <li><strong>Inclusive Sizing:</strong> Fashion for every body type and size</li>
        <li><strong>Accessible Luxury:</strong> High-end looks at reasonable prices</li>
        <li><strong>Sustainable Practices:</strong> Ethical sourcing and environmental responsibility</li>
        <li><strong>Personal Style:</strong> Pieces that help you express your unique personality</li>
      </ul>
    `},{id:"our-values",title:"Our Values",content:`
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="p-6 bg-rose-50 rounded-lg">
          <h4 class="font-semibold text-rose-800 mb-2">Quality First</h4>
          <p class="text-gray-700">We believe in investing in pieces that will love you back. Every item undergoes rigorous quality checks.</p>
        </div>
        
        <div class="p-6 bg-pink-50 rounded-lg">
          <h4 class="font-semibold text-pink-800 mb-2">Customer-Centric</h4>
          <p class="text-gray-700">Your satisfaction drives everything we do. From design to delivery, you're at the heart of our decisions.</p>
        </div>
        
        <div class="p-6 bg-purple-50 rounded-lg">
          <h4 class="font-semibold text-purple-800 mb-2">Sustainable Fashion</h4>
          <p class="text-gray-700">We're committed to reducing our environmental impact through responsible sourcing and packaging.</p>
        </div>
        
        <div class="p-6 bg-blue-50 rounded-lg">
          <h4 class="font-semibold text-blue-800 mb-2">Authentic Style</h4>
          <p class="text-gray-700">Fashion should reflect who you are, not who you think you should be. We celebrate individuality.</p>
        </div>
      </div>
    `},{id:"our-team",title:"Meet Our Team",content:`
      <p class="mb-8">Behind every great fashion brand is a passionate team of dreamers, creators, and style enthusiasts.</p>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Rosemary Oku" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Rosemary Oku</h4>
          <p class="text-rose-600 font-medium">Founder & CEO</p>
          <p class="text-gray-600 text-sm mt-2">Fashion visionary with 15+ years in luxury retail, bringing dreams to life through sustainable fashion.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="James Chen" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">James Chen</h4>
          <p class="text-rose-600 font-medium">Creative Director</p>
          <p class="text-gray-600 text-sm mt-2">Award-winning designer from Milan Fashion Week, creating pieces that blend elegance with everyday wearability.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Sarah Johnson" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Sarah Johnson</h4>
          <p class="text-rose-600 font-medium">Head of Sustainability</p>
          <p class="text-gray-600 text-sm mt-2">Environmental advocate ensuring our fashion choices contribute to a better world for future generations.</p>
        </div>
      </div>
    `},{id:"our-stats",title:"Our Impact",content:`
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">50K+</div>
          <div class="text-gray-600">Happy Customers</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">25+</div>
          <div class="text-gray-600">Countries Served</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">10+</div>
          <div class="text-gray-600">Years of Excellence</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">4.9</div>
          <div class="text-gray-600">Customer Rating</div>
        </div>
      </div>
    `},{id:"contact-info",title:"Get in Touch",content:`
      <p class="mb-6">We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share your feedback, we're here to help.</p>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Email Us</h5>
            <p class="text-gray-600 text-sm">hello@rosemamaclothing.store</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Call Us</h5>
            <p class="text-gray-600 text-sm">+27 735 514 705</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Visit Us</h5>
            <p class="text-gray-600 text-sm">New Road, Midrand<br>Johannesburg, South Africa</p>
          </div>
        </div>
      </div>
    `}];function J6({onNavigate:t}){return l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(SF,{pageType:"about",defaultContent:gbe,className:"space-y-12"})})}const vbe=[{id:"introduction",title:"Introduction and POPIA Compliance",content:`
      <p>Rosmama Clothing is committed to protecting your privacy and personal information in accordance with the Protection of Personal Information Act (POPIA), Act 4 of 2013, and other applicable South African privacy laws.</p>
      
      <p><strong>Responsible Party:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
      
      <p>This policy explains how we collect, use, store, and protect your personal information when you visit our website or use our services. <em>Last updated: September 12, 2025</em></p>
    `},{id:"information-collection",title:"Information We Collect",content:`
      <p>We collect personal information necessary to provide our services. This includes information you provide directly and information collected automatically.</p>
      
      <h4>Personal Information includes:</h4>
      <ul>
        <li><strong>Identity Information:</strong> Name, surname, ID number (when required)</li>
        <li><strong>Contact Information:</strong> Email address, phone number, postal address</li>
        <li><strong>Financial Information:</strong> Payment details, billing address</li>
        <li><strong>Account Information:</strong> Username, password, purchase history</li>
        <li><strong>Communication Records:</strong> Customer service interactions, feedback</li>
        <li><strong>Technical Information:</strong> IP address, browser type, device information</li>
      </ul>
      
      <h4>Lawful Basis for Processing:</h4>
      <p>We process your personal information based on:</p>
      <ul>
        <li>Contractual necessity (to fulfill orders and provide services)</li>
        <li>Legal compliance (tax records, fraud prevention)</li>
        <li>Legitimate interests (improving services, security)</li>
        <li>Consent (marketing communications, optional features)</li>
      </ul>
    `},{id:"information-use",title:"How We Use Your Information",content:`
      <p>Your personal information is used to provide and improve our services:</p>
      
      <ul>
        <li><strong>Order Processing:</strong> To process and fulfill your orders</li>
        <li><strong>Customer Service:</strong> To respond to inquiries and provide support</li>
        <li><strong>Account Management:</strong> To maintain your account and preferences</li>
        <li><strong>Payment Processing:</strong> To process payments securely</li>
        <li><strong>Marketing Communications:</strong> To send newsletters and promotions (with consent)</li>
        <li><strong>Website Improvement:</strong> To analyze usage and enhance user experience</li>
        <li><strong>Legal Compliance:</strong> To comply with tax, accounting, and legal requirements</li>
        <li><strong>Fraud Prevention:</strong> To protect against fraudulent activities</li>
      </ul>
    `},{id:"information-sharing",title:"Information Sharing and Disclosure",content:`
      <p>We do not sell your personal information to third parties. We may share information with:</p>
      
      <ul>
        <li><strong>Service Providers:</strong> Payment processors, shipping companies, email service providers</li>
        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights</li>
        <li><strong>Business Transfers:</strong> In the event of a merger or acquisition</li>
        <li><strong>Consent-Based Sharing:</strong> When you explicitly consent to sharing</li>
      </ul>
      
      <p>All third-party service providers are contractually bound to protect your information and use it only for specified purposes.</p>
    `},{id:"data-security",title:"Data Security and Retention",content:`
      <p>We implement appropriate technical and organizational measures to protect your personal information:</p>
      
      <ul>
        <li><strong>Encryption:</strong> Data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Limited access on a need-to-know basis</li>
        <li><strong>Regular Audits:</strong> Security assessments and monitoring</li>
        <li><strong>Staff Training:</strong> Regular privacy and security training</li>
      </ul>
      
      <h4>Data Retention:</h4>
      <p>We retain personal information for as long as necessary to:</p>
      <ul>
        <li>Fulfill the purposes for which it was collected</li>
        <li>Comply with legal obligations (e.g., tax records for 5 years)</li>
        <li>Resolve disputes and enforce agreements</li>
      </ul>
    `},{id:"your-rights",title:"Your Rights Under POPIA",content:`
      <p>Under the Protection of Personal Information Act, you have the right to:</p>
      
      <ul>
        <li><strong>Access:</strong> Request copies of your personal information</li>
        <li><strong>Correction:</strong> Update or correct inaccurate information</li>
        <li><strong>Deletion:</strong> Request deletion of your personal information</li>
        <li><strong>Objection:</strong> Object to processing for direct marketing</li>
        <li><strong>Data Portability:</strong> Receive your data in a structured format</li>
        <li><strong>Withdraw Consent:</strong> Withdraw consent for processing</li>
      </ul>
      
      <p>To exercise these rights, contact us at <strong>hello@rosemamaclothing.store</strong> or <strong>+27 735 514 705</strong>.</p>
      
      <p>We will respond to your request within 30 days. If you're not satisfied with our response, you can lodge a complaint with the Information Regulator of South Africa.</p>
    `},{id:"cookies-tracking",title:"Cookies and Tracking Technologies",content:`
      <p>We use cookies and similar technologies to enhance your browsing experience:</p>
      
      <ul>
        <li><strong>Essential Cookies:</strong> Required for website functionality</li>
        <li><strong>Performance Cookies:</strong> Help us analyze website usage</li>
        <li><strong>Functional Cookies:</strong> Remember your preferences</li>
        <li><strong>Marketing Cookies:</strong> Deliver relevant advertisements (with consent)</li>
      </ul>
      
      <p>You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect website functionality.</p>
    `},{id:"international-transfers",title:"International Data Transfers",content:`
      <p>Some of our service providers may be located outside South Africa. When we transfer personal information internationally, we ensure:</p>
      
      <ul>
        <li>The receiving country has adequate data protection laws, or</li>
        <li>Appropriate safeguards are in place (e.g., standard contractual clauses)</li>
        <li>We have obtained your explicit consent for the transfer</li>
      </ul>
    `},{id:"children-privacy",title:"Children's Privacy",content:`
      <p>Our services are not intended for children under 18 years old. We do not knowingly collect personal information from children without parental consent.</p>
      
      <p>If you believe we have collected information from a child without proper consent, please contact us immediately.</p>
    `},{id:"policy-updates",title:"Policy Updates",content:`
      <p>We may update this privacy policy from time to time to reflect changes in our practices or legal requirements. We will:</p>
      
      <ul>
        <li>Post the updated policy on our website</li>
        <li>Update the "last updated" date</li>
        <li>Notify you of material changes via email or website notice</li>
      </ul>
      
      <p>Your continued use of our services after policy updates constitutes acceptance of the changes.</p>
    `},{id:"contact-information",title:"Contact Information",content:`
      <p>For any privacy-related questions, concerns, or requests, please contact us:</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mt-4">
        <h5 class="font-semibold mb-3">Rosmama Clothing - Privacy Office</h5>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
          </div>
          <div>
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
          </div>
        </div>
        
        <p class="mt-4 text-sm text-gray-600">
          <strong>Information Regulator:</strong> If you're not satisfied with our response to your privacy request, 
          you can contact the Information Regulator of South Africa at <em>inforeg@justice.gov.za</em>
        </p>
      </div>
    `}],ybe=[{id:"introduction",title:"Introduction",content:`
      <p>Welcome to Rosmama Clothing. These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our services, you agree to be bound by these Terms.</p>
      
      <p><em>Last updated: September 12, 2025</em></p>
      
      <p><strong>Company Information:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
    `},{id:"acceptance-terms",title:"Acceptance of Terms",content:`
      <p>By accessing our website, creating an account, or making a purchase, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.</p>
      
      <p>If you do not agree with these Terms, please do not use our services.</p>
    `},{id:"use-of-services",title:"Use of Our Services",content:`
      <h4>Permitted Use</h4>
      <p>You may use our services for lawful purposes only. You agree not to:</p>
      
      <ul>
        <li>Violate any applicable laws or regulations</li>
        <li>Infringe on intellectual property rights</li>
        <li>Transmit harmful or malicious code</li>
        <li>Engage in fraudulent activities</li>
        <li>Harass other users or our staff</li>
        <li>Attempt to gain unauthorized access to our systems</li>
      </ul>
      
      <h4>Account Responsibility</h4>
      <p>You are responsible for:</p>
      <ul>
        <li>Maintaining the confidentiality of your account credentials</li>
        <li>All activities under your account</li>
        <li>Providing accurate and current information</li>
        <li>Notifying us immediately of any unauthorized use</li>
      </ul>
    `}],bbe=[{id:"shipping-overview",title:"Shipping Information",content:`
      <p>We're committed to getting your Rosmama pieces to you quickly and safely. Here's everything you need to know about our shipping policies.</p>
    `},{id:"shipping-areas",title:"Shipping Areas",content:`
      <p>We currently ship to:</p>
      
      <ul>
        <li><strong>South Africa:</strong> Nationwide delivery available</li>
        <li><strong>International:</strong> Selected countries (contact us for availability)</li>
      </ul>
      
      <p>Shipping costs and delivery times vary by location and order value.</p>
    `},{id:"delivery-times",title:"Delivery Times",content:`
      <h4>South Africa</h4>
      <ul>
        <li><strong>Major Cities:</strong> 2-3 business days</li>
        <li><strong>Other Areas:</strong> 3-5 business days</li>
        <li><strong>Rural Areas:</strong> 5-7 business days</li>
      </ul>
      
      <h4>International</h4>
      <ul>
        <li><strong>Regional:</strong> 5-10 business days</li>
        <li><strong>Global:</strong> 10-15 business days</li>
      </ul>
      
      <p><em>Delivery times are estimates and may vary during peak seasons or due to unforeseen circumstances.</em></p>
    `}],xbe=[{id:"returns-overview",title:"Returns & Exchanges",content:`
      <p>We want you to love your Rosmama pieces. If you're not completely satisfied, we offer a hassle-free return and exchange policy.</p>
    `},{id:"return-policy",title:"Return Policy",content:`
      <ul>
        <li><strong>Timeframe:</strong> 30 days from delivery date</li>
        <li><strong>Condition:</strong> Items must be unworn, unwashed, and with original tags</li>
        <li><strong>Packaging:</strong> Original packaging preferred but not required</li>
        <li><strong>Proof of Purchase:</strong> Order number or receipt required</li>
      </ul>
      
      <h4>Non-Returnable Items</h4>
      <ul>
        <li>Intimate apparel and swimwear</li>
        <li>Sale items marked as final sale</li>
        <li>Custom or personalized items</li>
        <li>Items damaged by normal wear</li>
      </ul>
    `}],wbe=[{id:"help-overview",title:"Help Center",content:`
      <p>Need assistance? We're here to help! Find answers to common questions or contact our support team.</p>
    `},{id:"faq",title:"Frequently Asked Questions",content:`
      <h4>Ordering</h4>
      <p><strong>Q: How do I place an order?</strong><br>
      A: Browse our catalog, add items to cart, and proceed to checkout. Create an account or checkout as a guest.</p>
      
      <p><strong>Q: Can I modify my order after placing it?</strong><br>
      A: Contact us within 2 hours of placing your order. We'll do our best to accommodate changes.</p>
      
      <h4>Sizing</h4>
      <p><strong>Q: How do I find my size?</strong><br>
      A: Check our detailed size guide available on each product page. When in doubt, contact us for personalized sizing advice.</p>
      
      <h4>Payment</h4>
      <p><strong>Q: What payment methods do you accept?</strong><br>
      A: We accept all major credit cards, EFT, and mobile payments.</p>
    `}],_be=[{id:"contact-overview",title:"Get in Touch",content:`
      <p>We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share feedback, our team is here to help.</p>
    `},{id:"contact-methods",title:"Contact Information",content:`
      <div class="grid md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h4 class="font-semibold">Customer Service</h4>
          <div class="space-y-2">
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
            <p><strong>Hours:</strong> Monday - Friday, 9AM - 5PM (SAST)</p>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold">Visit Our Store</h4>
          <div class="space-y-2">
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
            <p><strong>Store Hours:</strong> By appointment only</p>
          </div>
        </div>
      </div>
    `},{id:"response-times",title:"Response Times",content:`
      <ul>
        <li><strong>Email:</strong> We respond within 24 hours</li>
        <li><strong>Phone:</strong> Immediate assistance during business hours</li>
        <li><strong>Social Media:</strong> Follow us for updates and quick responses</li>
      </ul>
    `}],jbe={privacy:{content:vbe,pageType:"privacy"},terms:{content:ybe,pageType:"terms"},shipping:{content:bbe,pageType:"shipping"},returns:{content:xbe,pageType:"returns"},help:{content:wbe,pageType:"help"},contact:{content:_be,pageType:"contact"}};function Wc({type:t}){const{content:e,pageType:r}=jbe[t];return l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(SF,{pageType:r,defaultContent:e,className:"space-y-8"})})}function Sbe({onBack:t,initialPage:e="about"}){const[r,n]=N.useState(e),a=c=>{n(c)},i=()=>{switch(r){case"about":return"About Us";case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"shipping":return"Shipping Policy";case"returns":return"Return Policy";case"help":return"Help Center";case"contact":return"Contact Us";default:return"Information Center"}},o=()=>{switch(r){case"about":return"Learn about our story, values, and team";case"privacy":return"How we protect and use your personal information";case"terms":return"Terms and conditions for using our services";case"shipping":return"Shipping methods, costs, and delivery information";case"returns":return"Return and exchange policies and procedures";case"help":return"Frequently asked questions and support resources";case"contact":return"Get in touch with our customer service team";default:return"Your one-stop destination for helpful information"}},s=()=>{switch(r){case"about":return l.jsx(J6,{onNavigate:a});case"privacy":return l.jsx(Wc,{type:"privacy"});case"terms":return l.jsx(Wc,{type:"terms"});case"shipping":return l.jsx(Wc,{type:"shipping"});case"returns":return l.jsx(Wc,{type:"returns"});case"help":return l.jsx(Wc,{type:"help"});case"contact":return l.jsx(Wc,{type:"contact"});default:return l.jsx(J6,{onNavigate:a})}};return l.jsx(pbe,{title:i(),description:o(),onBack:t,onNavigate:a,children:s()})}function gS({isOpen:t,onClose:e,initialSubject:r}){const{user:n}=Nn(),[a,i]=N.useState(null),[o,s]=N.useState(""),[c,u]=N.useState(!1),d=N.useRef(null),f=N.useRef(null),{loading:p,getOrCreateConversation:h}=bF((n==null?void 0:n.id)||"",!1),{messages:g,loading:m,sendMessage:v,markAsRead:b}=xF(a);N.useEffect(()=>{const _=S=>{S.key==="Escape"&&t&&e()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t,e]),N.useEffect(()=>{var _;(_=d.current)==null||_.scrollIntoView({behavior:"smooth"})},[g]),N.useEffect(()=>{a&&(n!=null&&n.id)&&g.length>0&&b(n.id)},[a,n==null?void 0:n.id,g.length,b]),N.useEffect(()=>{t&&(n!=null&&n.id)&&!a&&w()},[t,n==null?void 0:n.id,a]);const w=async()=>{if(n!=null&&n.id){u(!0);try{const _=await h(r||"General Inquiry");_&&i(_.id)}catch(_){console.error("Error initializing chat:",_)}finally{u(!1)}}},j=async _=>{if(_.preventDefault(),!o.trim()||!a||!(n!=null&&n.id))return;const S=o.trim();s("");try{await v(n.id,S)}catch(k){console.error("Error sending message:",k),s(S)}};return t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e,"aria-hidden":"true"}),l.jsx("div",{ref:f,className:"modal-floating",role:"dialog","aria-label":"Customer support chat","aria-modal":"true","aria-labelledby":"chat-support-title",children:l.jsxs("div",{className:"card-base text-neutral-900 dark:text-neutral-100",children:[l.jsxs("div",{id:"chat-support-title",className:"flex items-center justify-between px-4 py-3 bg-neutral-900 text-white sm:rounded-t-2xl border-b border-neutral-800 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-neutral-800",children:l.jsx(gi,{className:"h-4 w-4"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Chat Support"}),l.jsxs("div",{className:"flex items-center gap-1","aria-live":"polite",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse","aria-hidden":!0}),l.jsx("p",{className:"text-[11px] text-neutral-300",children:"Online"})]})]})]}),l.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-neutral-800/60 transition-colors","aria-label":"Close chat",children:l.jsx(Ro,{className:"h-4 w-4 text-neutral-200"})})]}),c&&l.jsx("div",{className:"px-4 py-2 bg-blue-50 border-b border-blue-100 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[l.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),l.jsx("span",{className:"text-xs",children:"Connecting..."})]})}),l.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 py-3 bg-gradient-to-br from-neutral-100 via-neutral-50 to-purple-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-800",children:[p||m?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-neutral-900 dark:border-neutral-100 mx-auto mb-2"}),l.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"Loading chat..."})]})}):g.length===0?l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:l.jsx(gi,{className:"h-6 w-6 text-neutral-600 dark:text-neutral-300"})}),l.jsx("h4",{className:"font-medium text-neutral-800 dark:text-neutral-100 mb-1",children:"Welcome to Rosmama!"}),l.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm",children:"How can we help you today?"})]}):g.map(_=>l.jsx(Nbe,{content:_.content,isOwnMessage:_.sender_id===(n==null?void 0:n.id),timestamp:_.created_at,isRead:_.is_read},_.id)),l.jsx("div",{ref:d})]}),l.jsx("div",{className:"px-4 py-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex-shrink-0",children:l.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,onChange:_=>s(_.target.value),placeholder:"Type a message...",className:"flex-1 min-w-0 px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-700 rounded-full focus:outline-none focus:ring-2 focus:ring-neutral-900 dark:focus:ring-neutral-100 focus:border-transparent bg-neutral-50 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500",disabled:!a||c,"aria-label":"Type your message"}),l.jsx("button",{type:"submit",disabled:!o.trim()||!a||c,className:"p-2 rounded-full bg-neutral-900 text-white hover:opacity-90 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0","aria-label":"Send message",children:l.jsx(PT,{className:"h-4 w-4"})})]})})]})})]}):null}function Nbe({content:t,isOwnMessage:e,timestamp:r,isRead:n}){return l.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-2`,children:l.jsxs("div",{className:`max-w-[85%] ${e?"order-last":"order-first"}`,children:[l.jsx("div",{className:e?"px-3 py-2 rounded-2xl shadow-sm bg-neutral-900 text-white border border-neutral-800 rounded-br-md":"px-3 py-2 rounded-2xl shadow-sm bg-white/70 backdrop-blur-sm text-neutral-900 dark:bg-neutral-800/90 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700 rounded-bl-md",children:l.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:t})}),l.jsxs("div",{className:`flex items-center gap-1 mt-1 text-[11px] ${e?"justify-end text-neutral-500 dark:text-neutral-400":"justify-start text-neutral-500 dark:text-neutral-400"}`,children:[l.jsx("span",{children:new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e&&l.jsx("span",{className:`${n?"text-green-500":"text-neutral-400 dark:text-neutral-600"} ml-1`,children:n?"":""})]})]})})}function Abe({className:t="",showLabel:e=!1}){const{user:r}=Nn(),[n,a]=N.useState(!1),{unreadCount:i,loading:o}=wF((r==null?void 0:r.id)||null),s=()=>{a(!0)},c=()=>{a(!1)};return r?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:s,className:`relative flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition-colors ${t}`,"aria-label":"Open chat support",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(gi,{className:"h-6 w-6 text-gray-600 group-hover:text-rose-500 transition-colors"}),!o&&i>0&&l.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-pulse",children:i>99?"99+":i}),o&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-gray-300 rounded-full h-3 w-3 animate-pulse"})]}),e&&l.jsx("span",{className:"text-sm text-gray-600 group-hover:text-rose-500 transition-colors",children:"Support"})]}),l.jsx(gS,{isOpen:n,onClose:c,initialSubject:"Support Request"})]}):null}function Iw({text:t="Chat with us",className:e="",variant:r="primary",subject:n="Contact Inquiry"}){const{user:a}=Nn(),[i,o]=N.useState(!1),s=()=>{o(!0)},c=()=>{o(!1)},u="flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",d={primary:"bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg hover:from-rose-600 hover:to-pink-700 hover:shadow-xl",secondary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:from-blue-600 hover:to-purple-700 hover:shadow-xl",outline:"border-2 border-rose-500 text-rose-500 hover:bg-rose-500 hover:text-white"};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:s,className:`${u} ${d[r]} ${e}`,"aria-label":"Start chat conversation",children:[l.jsx(gi,{className:"h-5 w-5"}),l.jsx("span",{children:t})]}),l.jsx(gS,{isOpen:i,onClose:c,initialSubject:n})]})}function kbe(){const{user:t}=Nn(),[e,r]=N.useState(!1),{unreadCount:n,loading:a}=wF((t==null?void 0:t.id)||null);return t?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-rose-500 to-pink-600 text-white p-4 rounded-full shadow-2xl hover:from-rose-600 hover:to-pink-700 transition-all duration-300 transform hover:scale-110 z-40","aria-label":"Open chat support",children:l.jsxs("div",{className:"relative",children:[l.jsx(gi,{className:"h-6 w-6"}),!a&&n>0&&l.jsx("div",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-bounce",children:n>99?"99+":n})]})}),l.jsx(gS,{isOpen:e,onClose:()=>r(!1),initialSubject:"Support Request"})]}):null}function Pbe({onInfoClick:t}){const e=r=>{t&&t(r)};return l.jsx("footer",{className:"bg-gradient-to-r from-slate-900 to-slate-800 text-white mt-auto",children:l.jsxs("div",{className:"container mx-auto px-4 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-6 w-6 text-rose-400"}),l.jsx("h3",{className:"text-xl font-bold",children:"Rosmama"})]}),l.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"Fashion that inspires, quality that endures. Creating beautiful pieces for the modern woman since 2014."}),l.jsxs("div",{className:"flex gap-4 pt-2",children:[l.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),l.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.747-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})}),l.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Shop"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[l.jsx("li",{children:l.jsx("button",{className:"hover:text-white transition-colors",children:"New Arrivals"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white transition-colors",children:"Women"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white transition-colors",children:"Men"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white transition-colors",children:"Sale"})}),l.jsx("li",{children:l.jsx("button",{className:"hover:text-white transition-colors",children:"Size Guide"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Information"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[l.jsx("li",{children:l.jsxs("button",{onClick:()=>e("about"),className:"hover:text-white transition-colors flex items-center gap-2",children:[l.jsx(Is,{className:"h-3 w-3"}),"About Us"]})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>e("shipping"),className:"hover:text-white transition-colors",children:"Shipping & Returns"})}),l.jsx("li",{children:l.jsx(Iw,{text:"Live Chat Support",variant:"outline",className:"text-sm py-2 px-3 border-slate-400 text-slate-300 hover:bg-slate-700 hover:text-white hover:border-white",subject:"FAQ & Support Inquiry"})}),l.jsx("li",{children:l.jsx(Iw,{text:"Contact Us",variant:"primary",className:"text-sm py-2 px-3",subject:"General Contact Inquiry"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold",children:"Legal"}),l.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[l.jsx("li",{children:l.jsxs("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors flex items-center gap-2",children:[l.jsx(Oo,{className:"h-3 w-3"}),"Privacy Policy"]})}),l.jsx("li",{children:l.jsxs("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors flex items-center gap-2",children:[l.jsx(Lo,{className:"h-3 w-3"}),"Terms of Service"]})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>e("returns"),className:"hover:text-white transition-colors",children:"Return Policy"})})]}),l.jsxs("div",{className:"pt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[l.jsx(xf,{className:"h-3 w-3"}),"hello@rosemamaclothing.store"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[l.jsx(i_,{className:"h-3 w-3"}),"+27 735 514 705"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[l.jsx(a_,{className:"h-3 w-3"}),"Midrand, South Africa"]})]})]})]}),l.jsxs("div",{className:"border-t border-slate-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsx("p",{className:"text-xs text-slate-400",children:" 2024 Rosmama Clothing. All rights reserved."}),l.jsxs("div",{className:"flex gap-6 text-xs text-slate-400",children:[l.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors",children:"Privacy"}),l.jsx("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors",children:"Terms"}),l.jsx(Iw,{text:"Support",variant:"outline",className:"text-xs py-1 px-2 border-slate-400 text-slate-400 hover:bg-slate-700 hover:text-white hover:border-white",subject:"Footer Support Request"})]})]})]})})}const Cbe=()=>{const[t,e]=N.useState([]);return{cart:t,addToCart:(c,u,d,f)=>{e(p=>p.find(g=>g.productId===c.id&&g.size===u&&g.color===d)?p.map(g=>g.productId===c.id&&g.size===u&&g.color===d?{...g,quantity:g.quantity+f}:g):[...p,{productId:c.id,product:c,size:u,color:d,quantity:f}])},removeFromCart:(c,u,d)=>{e(f=>f.filter(p=>!(p.productId===c&&p.size===u&&p.color===d)))},updateCartQuantity:(c,u,d,f)=>{e(p=>f<=0?p.filter(h=>!(h.productId===c&&h.size===u&&h.color===d)):p.map(h=>h.productId===c&&h.size===u&&h.color===d?{...h,quantity:f}:h))},clearCart:()=>{e([])},getTotalItems:()=>t.reduce((c,u)=>c+u.quantity,0),getTotalPrice:()=>t.reduce((c,u)=>c+u.product.price*u.quantity,0)}},NF=N.createContext(void 0),Obe=({children:t})=>{const[e,r]=N.useState("light");N.useEffect(()=>{const a=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,o=a||(i?"dark":"light");r(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const n=()=>{const a=e==="light"?"dark":"light";r(a),document.documentElement.classList.toggle("dark",a==="dark"),localStorage.setItem("theme",a)};return l.jsx(NF.Provider,{value:{theme:e,toggleTheme:n},children:t})},Ebe=()=>{const t=K.useContext(NF);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function Tbe(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var vS="ScrollArea",[AF,Zxe]=Tn(vS),[Ibe,Xa]=AF(vS),kF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[s,c]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(null),[h,g]=N.useState(null),[m,v]=N.useState(null),[b,w]=N.useState(0),[j,_]=N.useState(0),[S,k]=N.useState(!1),[A,E]=N.useState(!1),I=Lt(e,P=>c(P)),L=Ku(a);return l.jsx(Ibe,{scope:r,type:n,dir:L,scrollHideDelay:i,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:_,children:l.jsx(at.div,{dir:L,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});kF.displayName=vS;var PF="ScrollAreaViewport",CF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,o=Xa(PF,r),s=N.useRef(null),c=Lt(e,s,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(at.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});CF.displayName=PF;var so="ScrollAreaScrollbar",OF=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Xa(so,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,s=t.orientation==="horizontal";return N.useEffect(()=>(s?i(!0):o(!0),()=>{s?i(!1):o(!1)}),[s,i,o]),a.type==="hover"?l.jsx(Lbe,{...n,ref:e,forceMount:r}):a.type==="scroll"?l.jsx(Rbe,{...n,ref:e,forceMount:r}):a.type==="auto"?l.jsx(EF,{...n,ref:e,forceMount:r}):a.type==="always"?l.jsx(yS,{...n,ref:e}):null});OF.displayName=so;var Lbe=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Xa(so,t.__scopeScrollArea),[i,o]=N.useState(!1);return N.useEffect(()=>{const s=a.scrollArea;let c=0;if(s){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(ua,{present:r||i,children:l.jsx(EF,{"data-state":i?"visible":"hidden",...n,ref:e})})}),Rbe=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Xa(so,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Kv(()=>c("SCROLL_END"),100),[s,c]=Tbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),l.jsx(ua,{present:r||s!=="hidden",children:l.jsx(yS,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ut(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ut(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),EF=N.forwardRef((t,e)=>{const r=Xa(so,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=N.useState(!1),s=t.orientation==="horizontal",c=Kv(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return Wu(r.viewport,c),Wu(r.content,c),l.jsx(ua,{present:n||i,children:l.jsx(yS,{"data-state":i?"visible":"hidden",...a,ref:e})})}),yS=N.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=Xa(so,t.__scopeScrollArea),i=N.useRef(null),o=N.useRef(0),[s,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=MF(s.viewport,s.content),d={...n,sizes:s,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return qbe(p,o.current,s,h)}return r==="horizontal"?l.jsx(Mbe,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=Q6(p,s,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):r==="vertical"?l.jsx(Dbe,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=Q6(p,s);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),Mbe=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Xa(so,t.__scopeScrollArea),[o,s]=N.useState(),c=N.useRef(null),u=Lt(e,c,i.onScrollbarXChange);return N.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),l.jsx(IF,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yv(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),$F(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ng(o.paddingLeft),paddingEnd:Ng(o.paddingRight)}})}})}),Dbe=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Xa(so,t.__scopeScrollArea),[o,s]=N.useState(),c=N.useRef(null),u=Lt(e,c,i.onScrollbarYChange);return N.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),l.jsx(IF,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yv(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),$F(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ng(o.paddingTop),paddingEnd:Ng(o.paddingBottom)}})}})}),[$be,TF]=AF(so),IF=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=Xa(so,r),[g,m]=N.useState(null),v=Lt(e,I=>m(I)),b=N.useRef(null),w=N.useRef(""),j=h.viewport,_=n.content-n.viewport,S=Un(d),k=Un(c),A=Kv(f,10);function E(I){if(b.current){const L=I.clientX-b.current.left,P=I.clientY-b.current.top;u({x:L,y:P})}}return N.useEffect(()=>{const I=L=>{const P=L.target;(g==null?void 0:g.contains(P))&&S(L,_)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[j,g,_,S]),N.useEffect(k,[n,k]),Wu(g,A),Wu(h.content,A),l.jsx($be,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Un(i),onThumbPointerUp:Un(o),onThumbPositionChange:k,onThumbPointerDown:Un(s),children:l.jsx(at.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:ut(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:ut(t.onPointerMove,E),onPointerUp:ut(t.onPointerUp,I=>{const L=I.target;L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),Sg="ScrollAreaThumb",LF=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=TF(Sg,t.__scopeScrollArea);return l.jsx(ua,{present:r||a.hasThumb,children:l.jsx(Fbe,{ref:e,...n})})}),Fbe=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Xa(Sg,r),o=TF(Sg,r),{onThumbPositionChange:s}=o,c=Lt(e,f=>o.onThumbChange(f)),u=N.useRef(void 0),d=Kv(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(d(),!u.current){const h=Ube(f,s);u.current=h,s()}};return s(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,d,s]),l.jsx(at.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ut(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:ut(t.onPointerUp,o.onThumbPointerUp)})});LF.displayName=Sg;var bS="ScrollAreaCorner",RF=N.forwardRef((t,e)=>{const r=Xa(bS,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx(Bbe,{...t,ref:e}):null});RF.displayName=bS;var Bbe=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=Xa(bS,r),[i,o]=N.useState(0),[s,c]=N.useState(0),u=!!(i&&s);return Wu(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Wu(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?l.jsx(at.div,{...n,ref:e,style:{width:i,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ng(t){return t?parseInt(t,10):0}function MF(t,e){const r=t/e;return isNaN(r)?0:r}function Yv(t){const e=MF(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function qbe(t,e,r,n="ltr"){const a=Yv(r),i=a/2,o=e||i,s=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return DF([c,u],f)(t)}function Q6(t,e,r="ltr"){const n=Yv(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,s=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=q5(t,c);return DF([0,o],[0,s])(u)}function DF(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function $F(t,e){return t>0&&t<e}var Ube=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,s=r.top!==i.top;(o||s)&&e(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Kv(t,e){const r=Un(t),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Wu(t,e){const r=Un(e);en(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var zbe=kF,Wbe=CF,Hbe=RF;function Vbe({className:t,children:e,...r}){return l.jsxs(zbe,{"data-slot":"scroll-area",className:Fe("relative",t),...r,children:[l.jsx(Wbe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),l.jsx(Gbe,{}),l.jsx(Hbe,{})]})}function Gbe({className:t,orientation:e="vertical",...r}){return l.jsx(OF,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Fe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:l.jsx(LF,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}class Ybe{async createNotification(e){try{return this.createNotificationFallback(e)}catch(r){return console.error("Error creating notification:",r),null}}async createNotificationFallback(e){try{const r=crypto.randomUUID(),n={id:r,user_id:e.user_id,type:e.type,category:e.category,title:e.title,message:e.message,data:e.data||{},priority:e.priority||1,action_url:e.action_url,action_text:e.action_text,expires_at:e.expires_at,created_at:new Date().toISOString(),read_at:null};try{const{error:a}=await Te.from("notifications").insert(n);return a&&(console.warn("Notifications table not available yet. Using localStorage fallback:",a.message),this.storeNotificationLocally(n)),r}catch(a){return console.warn("Database not ready, using localStorage:",a),this.storeNotificationLocally(n),r}}catch(r){return console.error("Error in fallback notification creation:",r),null}}storeNotificationLocally(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r);n.push(e),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("temp_notifications",JSON.stringify(n)),console.log("Notification stored locally (temporary):",e.title)}catch(r){console.error("Error storing notification locally:",r)}}async getUserNotifications(e,r=20,n=0,a=!1){try{const{data:i,error:o}=await Te.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);if(o)return console.warn("Notifications table not available, using local storage:",o.message),this.getNotificationsFromLocalStorage(e,r,n,a);let s=i||[];return a&&(s=s.filter(c=>!c.read_at)),s}catch(i){return console.error("Error fetching notifications:",i),this.getNotificationsFromLocalStorage(e,r,n,a)}}getNotificationsFromLocalStorage(e,r,n,a){try{const i=localStorage.getItem("temp_notifications")||"[]";let o=JSON.parse(i);return o=o.filter(s=>s.user_id===e),a&&(o=o.filter(s=>!s.read_at)),o.sort((s,c)=>new Date(c.created_at).getTime()-new Date(s.created_at).getTime()),o.slice(n,n+r)}catch(i){return console.error("Error getting notifications from localStorage:",i),[]}}async getUnreadCount(e){try{const{data:r,error:n}=await Te.from("notifications").select("id").eq("user_id",e).eq("read_at",null);return n?(console.warn("Using localStorage for unread count:",n.message),this.getNotificationsFromLocalStorage(e,1e3,0,!0).length):(r==null?void 0:r.length)||0}catch(r){return console.error("Error fetching unread count:",r),0}}async markAsRead(e,r){try{const{error:n}=await Te.from("notifications").update({read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r);return n&&(console.warn("Using localStorage for mark as read:",n.message),this.markAsReadInLocalStorage(e)),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}markAsReadInLocalStorage(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r),a=n.find(i=>i.id===e);a&&(a.read_at=new Date().toISOString(),localStorage.setItem("temp_notifications",JSON.stringify(n)))}catch(r){console.error("Error marking notification as read in localStorage:",r)}}async getNotificationPreferences(e){try{const{data:r,error:n}=await Te.from("notification_preferences").select("*").eq("user_id",e).maybeSingle();return n?(console.warn("Notification preferences table not available, using defaults:",n.message),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}):r||{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){return console.error("Error fetching notification preferences:",r),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}async updateNotificationPreferences(e,r){try{const{error:n}=await Te.from("notification_preferences").upsert({user_id:e,...r,updated_at:new Date().toISOString()});if(n){console.warn("Notification preferences table not available:",n.message);const a=`notification_preferences_${e}`;return localStorage.setItem(a,JSON.stringify({user_id:e,...r})),!0}return!0}catch(n){return console.error("Error updating notification preferences:",n),!1}}async sendSecurityAlert(e,r,n,a){try{return this.createNotification({user_id:e,type:"security",category:r,title:"Security Alert",message:n,priority:3,data:{alert_type:r,ip_address:a,timestamp:new Date().toISOString()}})}catch(i){return console.error("Error sending security alert:",i),null}}async sendSystemNotification(e,r,n=1,a){try{return console.log("System notification (development mode):",{title:e,message:r,priority:n}),1}catch(i){return console.error("Error sending system notification:",i),0}}subscribeToNotifications(e,r,n){const a=Te.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},i=>{console.log("New notification received:",i),r(i.new)}).subscribe(i=>{i==="SUBSCRIBED"?console.log("Subscribed to notifications for user:",e):i==="CHANNEL_ERROR"&&n&&(console.warn("Notification subscription error (table may not exist yet):",i),n(i))});return()=>{Te.removeChannel(a)}}async requestPushPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showPushNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted"&&!await this.requestPushPermission())return!1;try{const n=new Notification(e,{icon:r.icon||"/images/placeholder-product.svg",badge:r.badge||"/images/placeholder-product.svg",body:r.body,tag:r.tag,data:r.data,requireInteraction:!0,...r});return n.onclick=a=>{var i;a.preventDefault(),window.focus(),(i=r.data)!=null&&i.url&&(window.location.href=r.data.url),n.close()},!0}catch(n){return console.error("Error showing push notification:",n),!1}}async cleanupOldNotifications(){return console.log("Cleanup old notifications (development mode)"),0}}const No=new Ybe,Kbe={email:Cg,push:Sl,system:o_,order:uh,security:ET},Xbe={1:"bg-blue-500",2:"bg-yellow-500",3:"bg-red-500"};function Zbe({className:t}){const{user:e}=Nn(),[r,n]=N.useState([]),[a,i]=N.useState(0),[o,s]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState("all"),[p,h]=N.useState(0),[g,m]=N.useState(!0),[v,b]=N.useState(!1),w=N.useCallback(async(P=!1)=>{if(!(!(e!=null&&e.id)||c)){u(!0);try{const O=P?0:p,D=d==="unread",M=await No.getUserNotifications(e.id,20,O*20,D);P?(n(M),h(0)):n(G=>[...G,...M]),m(M.length===20),h(O+1)}catch(O){console.error("Error loading notifications:",O),Ce.error("Failed to load notifications")}finally{u(!1)}}},[e==null?void 0:e.id,p,d,c]),j=N.useCallback(async()=>{if(e!=null&&e.id)try{const P=await No.getUnreadCount(e.id);i(P)}catch(P){console.error("Error loading unread count:",P)}},[e==null?void 0:e.id]),_=N.useCallback(async()=>{if(e!=null&&e.id)try{const P=await No.getNotificationPreferences(e.id);s(P)}catch(P){console.error("Error loading preferences:",P)}},[e==null?void 0:e.id]),S=async P=>{if(e!=null&&e.id)try{await No.markAsRead(P,e.id)&&(n(D=>D.map(M=>M.id===P?{...M,read_at:new Date().toISOString()}:M)),i(D=>Math.max(0,D-1)),Ce.success("Notification marked as read"))}catch(O){console.error("Error marking notification as read:",O),Ce.error("Failed to mark notification as read")}},k=async()=>{if(e!=null&&e.id)try{const O=r.filter(D=>!D.read_at).map(D=>No.markAsRead(D.id,e.id));await Promise.all(O),n(D=>D.map(M=>({...M,read_at:M.read_at||new Date().toISOString()}))),i(0),Ce.success("All notifications marked as read")}catch(P){console.error("Error marking all as read:",P),Ce.error("Failed to mark all notifications as read")}},A=async(P,O)=>{if(!(!(e!=null&&e.id)||!o))try{const D={...o,[P]:O};await No.updateNotificationPreferences(e.id,{[P]:O})&&(s(D),Ce.success("Notification preferences updated"))}catch(D){console.error("Error updating preferences:",D),Ce.error("Failed to update preferences")}},E=async()=>{try{await No.requestPushPermission()?(Ce.success("Push notifications enabled"),A("push_notifications",!0)):(Ce.error("Push notifications denied"),A("push_notifications",!1))}catch(P){console.error("Error requesting push permission:",P),Ce.error("Failed to request push permission")}},I=r.filter(P=>{switch(d){case"unread":return!P.read_at;case"system":return P.type==="system";case"order":return P.type==="order";case"security":return P.type==="security";default:return!0}});N.useEffect(()=>{e!=null&&e.id&&(w(!0),j(),_())},[e==null?void 0:e.id,d]),N.useEffect(()=>e!=null&&e.id?No.subscribeToNotifications(e.id,O=>{n(D=>[O,...D]),i(D=>D+1),o!=null&&o.push_notifications&&No.showPushNotification(O.title,{body:O.message,tag:O.id,data:{notificationId:O.id,url:O.action_url}}),Ce.info(`New notification: ${O.title}`)}):void 0,[e==null?void 0:e.id,o==null?void 0:o.push_notifications]);const L=P=>{const O=new Date(P),M=Math.floor((new Date().getTime()-O.getTime())/(1e3*60*60));return M<1?"Just now":M<24?`${M}h ago`:M<168?`${Math.floor(M/24)}d ago`:O.toLocaleDateString()};return l.jsxs(Fo,{open:v,onOpenChange:b,children:[l.jsx(o8,{asChild:!0,children:l.jsxs(we,{variant:"ghost",size:"icon",className:`relative ${t}`,children:[l.jsx(Sl,{className:"h-5 w-5"}),a>0&&l.jsx(Ut,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:a>99?"99+":a})]})}),l.jsxs(Qi,{className:"max-w-2xl max-h-[80vh]",children:[l.jsx(Bo,{children:l.jsxs(qo,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sl,{className:"h-5 w-5"}),"Notifications",a>0&&l.jsxs(Ut,{variant:"secondary",children:[a," unread"]})]}),a>0&&l.jsxs(we,{size:"sm",variant:"outline",onClick:k,children:[l.jsx(Pg,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})}),l.jsxs(vh,{defaultValue:"notifications",className:"w-full",children:[l.jsxs(yh,{className:"grid w-full grid-cols-2",children:[l.jsx(Fn,{value:"notifications",children:"Notifications"}),l.jsx(Fn,{value:"settings",children:"Settings"})]}),l.jsxs(Bn,{value:"notifications",className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bf,{className:"h-4 w-4"}),l.jsxs(sd,{value:d,onValueChange:P=>f(P),children:[l.jsx(cd,{className:"w-40",children:l.jsx(ld,{})}),l.jsxs(ud,{children:[l.jsx(lr,{value:"all",children:"All"}),l.jsx(lr,{value:"unread",children:"Unread"}),l.jsx(lr,{value:"system",children:"System"}),l.jsx(lr,{value:"order",children:"Orders"}),l.jsx(lr,{value:"security",children:"Security"})]})]})]}),l.jsx(Vbe,{className:"h-96",children:l.jsxs("div",{className:"space-y-3",children:[I.map(P=>{const O=Kbe[P.type]||Sl,D=!P.read_at;return l.jsx(ze,{className:`${D?"border-blue-200 bg-blue-50/50":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>D&&S(P.id),children:l.jsx(We,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`p-2 rounded-full ${Xbe[P.priority]} text-white`,children:l.jsx(O,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h4",{className:`font-medium ${D?"text-blue-900":"text-gray-900"}`,children:P.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:L(P.created_at)}),D&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.message}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(Ut,{variant:"outline",className:"text-xs",children:P.type}),l.jsx(Ut,{variant:"outline",className:"text-xs",children:P.category})]}),P.action_url&&P.action_text&&l.jsx(we,{size:"sm",variant:"link",className:"p-0 h-auto mt-2",onClick:M=>{M.stopPropagation(),window.open(P.action_url,"_blank")},children:P.action_text})]})]})})},P.id)}),I.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Sl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No notifications found"})]}),g&&l.jsx(we,{variant:"outline",onClick:()=>w(!1),disabled:c,className:"w-full",children:"Load More"})]})})]}),l.jsx(Bn,{value:"settings",className:"space-y-4",children:o&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{className:"text-lg",children:"Notification Preferences"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Email Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),l.jsx(Kc,{checked:o.email_notifications,onCheckedChange:P=>A("email_notifications",P)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Push Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kc,{checked:o.push_notifications,onCheckedChange:P=>{P?E():A("push_notifications",!1)}}),!o.push_notifications&&l.jsx(we,{size:"sm",variant:"outline",onClick:E,children:"Enable"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"System Alerts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications"})]}),l.jsx(Kc,{checked:o.system_alerts,onCheckedChange:P=>A("system_alerts",P)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Order Alerts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for order updates"})]}),l.jsx(Kc,{checked:o.order_alerts,onCheckedChange:P=>A("order_alerts",P)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:"Security Alerts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Security-related notifications"})]}),l.jsx(Kc,{checked:o.security_alerts,onCheckedChange:P=>A("security_alerts",P)})]})]})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{className:"text-lg",children:"Browser Settings"})}),l.jsx(We,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Push Notification Status"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Current permission: ",typeof window<"u"&&"Notification"in window?Notification.permission:"Not supported"]})]}),l.jsx(we,{onClick:E,variant:"outline",children:"Request Push Permission"})]})})]})]})})]})]})]})}const Jbe=({onSearch:t,cartItemCount:e=0,onProfileClick:r,onInfoClick:n})=>{const[a,i]=N.useState(""),[o,s]=N.useState(!1),{theme:c,toggleTheme:u}=Ebe(),{cart:d}=Cbe(),{user:f}=Nn(),p=(d==null?void 0:d.reduce((m,v)=>m+v.quantity,0))||e,h=N.useCallback(m=>{m.preventDefault(),t==null||t(a)},[t,a]),g=[{name:"New Arrivals",href:"#new",icon:CT,onClick:()=>{}},{name:"Women",href:"#women",icon:TT,onClick:()=>{}},{name:"Men",href:"#men",icon:dU,onClick:()=>{}},{name:"Sale",href:"#sale",icon:OT,onClick:()=>{}},{name:"About",href:"#about",icon:Cg,onClick:()=>n==null?void 0:n()}];return l.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex h-16 items-center justify-between",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("a",{href:"#",className:"text-2xl font-bold text-primary",children:["Rosemama",l.jsx("br",{}),l.jsx("span",{className:"text-xs mt-1 block",children:"CLOTHING"})]})}),l.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:g.map(m=>{const v=m.icon;return l.jsx("button",{onClick:m.onClick,className:"p-2 rounded-md text-foreground hover:text-primary hover:bg-muted transition-colors",title:m.name,"aria-label":m.name,children:l.jsx(v,{className:"h-5 w-5"})},m.name)})}),l.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:l.jsx("form",{onSubmit:h,className:"w-full",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ml,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(Rt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 bg-muted/50 border-0 focus:bg-background"})]})})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full hover:bg-muted","aria-label":"Toggle theme",children:c==="dark"?l.jsx(Bw,{className:"h-5 w-5"}):l.jsx(Fw,{className:"h-5 w-5"})}),f&&l.jsx(Zbe,{className:"rounded-full hover:bg-muted"}),f&&l.jsx(Abe,{className:"rounded-full hover:bg-muted"}),l.jsxs(we,{variant:"ghost",size:"icon",className:"relative rounded-full hover:bg-muted",children:[l.jsx(dm,{className:"h-5 w-5"}),p>0&&l.jsx(Ut,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-primary text-[10px] font-bold",children:p})]}),l.jsx(MK,{}),l.jsx(we,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted",onClick:r,children:l.jsx($o,{className:"h-5 w-5"})}),l.jsxs(_F,{open:o,onOpenChange:s,children:[l.jsx(mS,{asChild:!0,children:l.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted",children:l.jsx(jT,{className:"h-5 w-5"})})}),l.jsx(jF,{side:"right",className:"w-[300px] sm:w-[400px]",children:l.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[l.jsx("form",{onSubmit:h,children:l.jsxs("div",{className:"relative",children:[l.jsx(Ml,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(Rt,{type:"search",placeholder:"Search products...",value:a,onChange:m=>i(m.target.value),className:"w-full pl-10"})]})}),l.jsx("nav",{className:"flex flex-col space-y-3",children:g.map(m=>{const v=m.icon;return l.jsxs("button",{onClick:()=>{m.onClick(),s(!1)},className:"flex items-center text-lg font-medium text-foreground hover:text-primary transition-colors py-2 text-left",children:[l.jsx(v,{className:"h-5 w-5 mr-3"}),m.name]},m.name)})}),l.jsxs("div",{className:"flex flex-col space-y-3 border-t pt-4",children:[l.jsx(we,{variant:"ghost",className:"justify-start",onClick:u,children:c==="dark"?l.jsxs(l.Fragment,{children:[l.jsx(Bw,{className:"h-4 w-4 mr-2"})," Light mode"]}):l.jsxs(l.Fragment,{children:[l.jsx(Fw,{className:"h-4 w-4 mr-2"})," Dark mode"]})}),l.jsxs(we,{variant:"ghost",className:"justify-start",children:[l.jsx($o,{className:"h-4 w-4 mr-2"}),"Account"]}),l.jsxs(we,{variant:"ghost",className:"justify-start",children:[l.jsx(dm,{className:"h-4 w-4 mr-2"}),"Cart (",p,")"]})]})]})})]})]})]})})})},Qbe=N.memo(Jbe);function exe({currentPage:t,onPageChange:e}){const{isAdmin:r}=Nn(),{items:n}=ph(),a=n?n.reduce((o,s)=>o+s.quantity,0):0,i=[{id:"home",label:"Home",icon:yq},{id:"catalog",label:"Shop",icon:Ml},{id:"cart",label:"Cart",icon:s_,badge:a},{id:"rewards",label:"Rewards",icon:FB},{id:"profile",label:"Profile",icon:$o},...r?[{id:"admin",label:"Admin",icon:o_}]:[]];return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-40",children:l.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:i.map(o=>l.jsxs(we,{variant:"ghost",className:`flex-col h-auto p-2 min-w-0 flex-1 ${t===o.id?"text-primary":"text-muted-foreground"}`,onClick:()=>e(o.id),children:[l.jsxs("div",{className:"relative",children:[l.jsx(o.icon,{className:"h-5 w-5"}),o.badge&&o.badge>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-4 w-4 flex items-center justify-center",children:o.badge>9?"9+":o.badge})]}),l.jsx("span",{className:"text-xs mt-1",children:o.label})]},o.id))})})}function txe(){const{user:t,loading:e}=Nn(),[r,n]=N.useState(null);if(e)return l.jsx("div",{className:"text-center py-12",children:"Loading rewards..."});if(!t)return l.jsx("div",{className:"text-center py-12",children:"Please sign in to view your rewards."});const a=p=>{console.log("User update requested:",p),Ce.info("User data is managed globally now.")},i={Bronze:{minPoints:0,color:"bg-orange-600",benefits:["5% cashback","Birthday discount"]},Silver:{minPoints:500,color:"bg-gray-400",benefits:["7% cashback","Free shipping","Early access"]},Gold:{minPoints:1e3,color:"bg-yellow-500",benefits:["10% cashback","Free express shipping","VIP support","Exclusive events"]}},o=t.membershipTier==="Bronze"?"Silver":t.membershipTier==="Silver"?"Gold":null,s=o?i[o].minPoints-t.points:0,c=o?t.points/i[o].minPoints*100:100,u=[{id:"1",name:"$5 Off Next Purchase",cost:100,type:"discount",icon:M0},{id:"2",name:"$10 Off Next Purchase",cost:200,type:"discount",icon:M0},{id:"3",name:"Free Standard Shipping",cost:50,type:"shipping",icon:pu},{id:"4",name:"Free Express Shipping",cost:150,type:"shipping",icon:pu},{id:"5",name:"$25 Off Next Purchase",cost:500,type:"discount",icon:M0},{id:"6",name:"Exclusive Access Item",cost:750,type:"access",icon:aq}],d=[{date:"2024-01-15",type:"earned",points:50,description:"Purchase at Rosemama"},{date:"2024-01-10",type:"earned",points:25,description:"Product Review"},{date:"2024-01-05",type:"redeemed",points:-100,description:"$5 Off Discount Used"},{date:"2024-01-01",type:"earned",points:100,description:"New Year Bonus"}],f=p=>{t.points>=p.cost?(a({...t,points:t.points-p.cost}),Ce.success(`${p.name} redeemed successfully!`)):Ce.error("Insufficient points to redeem this reward")};return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards & Membership"}),l.jsx("p",{className:"text-muted-foreground",children:"Earn points with every purchase and unlock exclusive benefits"})]}),l.jsx(ze,{className:"mb-6",children:l.jsxs(We,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${i[t.membershipTier].color}`}),l.jsxs("h3",{className:"text-xl font-semibold",children:[t.membershipTier," Member"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold",children:t.points}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]}),o&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsxs("span",{children:["Progress to ",o]}),l.jsxs("span",{children:[s," points to go"]})]}),l.jsx(Y5,{value:c,className:"h-2"})]})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:i[t.membershipTier].benefits.map((p,h)=>l.jsx("div",{className:"text-center p-3 bg-secondary/30 rounded-lg",children:l.jsx("div",{className:"text-sm font-medium",children:p})},h))})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Rewards"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(p=>l.jsx(ze,{className:`cursor-pointer transition-all ${t.points>=p.cost?"hover:shadow-md hover:scale-105":"opacity-60"}`,onClick:()=>t.points>=p.cost&&f(p),children:l.jsxs(We,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${p.type==="discount"?"bg-green-100":p.type==="shipping"?"bg-blue-100":"bg-purple-100"}`,children:l.jsx(p.icon,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium",children:p.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-sm font-medium",children:[p.cost," pts"]}),t.points>=p.cost?l.jsx(Ut,{variant:"secondary",className:"text-xs",children:"Available"}):l.jsxs(Ut,{variant:"outline",className:"text-xs",children:["Need ",p.cost-t.points," more"]})]})]})]}),l.jsx(we,{className:"w-full",size:"sm",disabled:t.points<p.cost,onClick:h=>{h.stopPropagation(),f(p)},children:t.points>=p.cost?"Redeem":"Insufficient Points"})]})},p.id))})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsxs(qt,{className:"flex items-center gap-2",children:[l.jsx(Wa,{className:"h-5 w-5"}),"How to Earn Points"]})}),l.jsxs(We,{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm",children:"Every $1 spent"}),l.jsx("span",{className:"text-sm font-medium",children:"1 point"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm",children:"Product review"}),l.jsx("span",{className:"text-sm font-medium",children:"25 points"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm",children:"Birthday bonus"}),l.jsx("span",{className:"text-sm font-medium",children:"100 points"})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm",children:"Referral bonus"}),l.jsx("span",{className:"text-sm font-medium",children:"200 points"})]})]})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Recent Activity"})}),l.jsx(We,{className:"space-y-3",children:d.map((p,h)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm font-medium",children:p.description}),l.jsx("div",{className:"text-xs text-muted-foreground",children:p.date})]}),l.jsxs("div",{className:`text-sm font-medium ${p.type==="earned"?"text-green-600":"text-orange-600"}`,children:[p.type==="earned"?"+":"",p.points]})]},h))})]})]})]}),l.jsx(Fs,{})]})}var xS="Radio",[rxe,FF]=Tn(xS),[nxe,axe]=rxe(xS),BF=N.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:s="on",onCheck:c,form:u,...d}=t,[f,p]=N.useState(null),h=Lt(e,v=>p(v)),g=N.useRef(!1),m=f?u||!!f.closest("form"):!0;return l.jsxs(nxe,{scope:r,checked:a,disabled:o,children:[l.jsx(at.button,{type:"button",role:"radio","aria-checked":a,"data-state":WF(a),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:h,onClick:ut(t.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&l.jsx(zF,{control:f,bubbles:!g.current,name:n,value:s,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});BF.displayName=xS;var qF="RadioIndicator",UF=N.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=axe(qF,r);return l.jsx(ua,{present:n||i.checked,children:l.jsx(at.span,{"data-state":WF(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});UF.displayName=qF;var ixe="RadioBubbleInput",zF=N.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=N.useRef(null),s=Lt(o,i),c=Fv(r),u=Rv(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[c,r,n]),l.jsx(at.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zF.displayName=ixe;function WF(t){return t?"checked":"unchecked"}var oxe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xv="RadioGroup",[sxe,Jxe]=Tn(Xv,[zg,FF]),HF=zg(),VF=FF(),[lxe,cxe]=sxe(Xv),GF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:s=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=t,h=HF(r),g=Ku(u),[m,v]=Va({prop:i,defaultProp:a??null,onChange:f,caller:Xv});return l.jsx(lxe,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:v,children:l.jsx(sL,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:l.jsx(at.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":s?"":void 0,dir:g,...p,ref:e})})})});GF.displayName=Xv;var YF="RadioGroupItem",KF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=cxe(YF,r),o=i.disabled||n,s=HF(r),c=VF(r),u=N.useRef(null),d=Lt(e,u),f=i.value===a.value,p=N.useRef(!1);return N.useEffect(()=>{const h=m=>{oxe.includes(m.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),l.jsx(lL,{asChild:!0,...s,focusable:!o,active:f,children:l.jsx(BF,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:ut(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ut(a.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});KF.displayName=YF;var uxe="RadioGroupIndicator",XF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=VF(r);return l.jsx(UF,{...a,...n,ref:e})});XF.displayName=uxe;var dxe=GF,fxe=KF,hxe=XF;function pxe({className:t,...e}){return l.jsx(dxe,{"data-slot":"radio-group",className:Fe("grid gap-3",t),...e})}function Lw({className:t,...e}){return l.jsx(fxe,{"data-slot":"radio-group-item",className:Fe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(hxe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:l.jsx(xT,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function mxe({items:t,user:e,onOrderComplete:r,onBack:n}){const{isGuestCart:a}=ph(),[i,o]=N.useState({firstName:(e==null?void 0:e.name.split(" ")[0])||"",lastName:(e==null?void 0:e.name.split(" ")[1])||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:"",city:"",state:"",zipCode:"",country:"South Africa"}),[s,c]=N.useState("cash-on-delivery"),[u,d]=N.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[f,p]=N.useState(!1),[h,g]=N.useState({password:"",confirmPassword:""}),[m,v]=N.useState(!1),[b,w]=N.useState(!1),j=t.reduce((I,L)=>I+L.product.price*L.quantity,0),_=m&&e?Math.min(e.points*.01,j*.2):0,S=j>100?0:9.99,k=(j-_)*.08,A=j-_+S+k,E=async I=>{I.preventDefault(),w(!0);try{if(!i.address||!i.city||!i.state||!i.zipCode){Ce.error("Please fill in all shipping address fields"),w(!1);return}if(s==="credit-card"&&(!u.cardNumber||!u.expiryDate||!u.cvv)){Ce.error("Please fill in all payment details"),w(!1);return}if(!e&&f){if(!h.password||h.password.length<6){Ce.error("Password must be at least 6 characters long"),w(!1);return}if(h.password!==h.confirmPassword){Ce.error("Passwords do not match"),w(!1);return}}const L={firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zipCode:i.zipCode,country:i.country,paymentMethod:s,usePointsDiscount:m,pointsUsed:m&&e?Math.min(e.points,Math.floor(j*20)):0};let P;if(e)P=await eI(L);else{const D={email:i.email,firstName:i.firstName,lastName:i.lastName,phone:i.phone};P=await tI(t,L,D,f,f?h.password:void 0)}if(!P)throw new Error("Failed to create order");a&&localStorage.removeItem("rosemama_guest_cart");let O="Order placed successfully!";!e&&f&&(O+=" Check your email to verify your account for order tracking."),s==="cash-on-delivery"?(O=`Order placed successfully! Pay R${A.toFixed(2)} on delivery.`,!e&&f&&(O+=" Check your email to verify your account.")):s==="bank-transfer"?(O=`Order placed successfully! Please send R${A.toFixed(2)} to our bank account.`,!e&&f&&(O+=" Check your email to verify your account.")):O=`Order placed successfully! Payment processed via ${s}.`,Ce.success(O),r()}catch(L){console.error("Order submission failed:",L),Ce.error(L instanceof Error?L.message:"Failed to place order. Please try again.")}finally{w(!1)}};return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[l.jsxs(we,{variant:"ghost",onClick:n,className:"mb-6",children:[l.jsx(kg,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),l.jsx("form",{onSubmit:E,children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Shipping Information"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"firstName",children:"First Name"}),l.jsx(Rt,{id:"firstName",value:i.firstName,onChange:I=>o(L=>({...L,firstName:I.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"lastName",children:"Last Name"}),l.jsx(Rt,{id:"lastName",value:i.lastName,onChange:I=>o(L=>({...L,lastName:I.target.value})),required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"email",children:"Email"}),l.jsx(Rt,{id:"email",type:"email",value:i.email,onChange:I=>o(L=>({...L,email:I.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"phone",children:"Phone"}),l.jsx(Rt,{id:"phone",type:"tel",value:i.phone,onChange:I=>o(L=>({...L,phone:I.target.value}))})]})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"address",children:"Address"}),l.jsx(Rt,{id:"address",value:i.address,onChange:I=>o(L=>({...L,address:I.target.value})),placeholder:"Street address",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"city",children:"City"}),l.jsx(Rt,{id:"city",value:i.city,onChange:I=>o(L=>({...L,city:I.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"state",children:"Province"}),l.jsxs(sd,{value:i.state,onValueChange:I=>o(L=>({...L,state:I})),children:[l.jsx(cd,{children:l.jsx(ld,{placeholder:"Select province"})}),l.jsxs(ud,{children:[l.jsx(lr,{value:"EC",children:"Eastern Cape"}),l.jsx(lr,{value:"FS",children:"Free State"}),l.jsx(lr,{value:"GP",children:"Gauteng"}),l.jsx(lr,{value:"KZN",children:"KwaZulu-Natal"}),l.jsx(lr,{value:"LP",children:"Limpopo"}),l.jsx(lr,{value:"MP",children:"Mpumalanga"}),l.jsx(lr,{value:"NC",children:"Northern Cape"}),l.jsx(lr,{value:"NW",children:"North West"}),l.jsx(lr,{value:"WC",children:"Western Cape"})]})]})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"zipCode",children:"Postal Code"}),l.jsx(Rt,{id:"zipCode",value:i.zipCode,onChange:I=>o(L=>({...L,zipCode:I.target.value})),required:!0})]})]})]})]}),!e&&l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Account Options"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(G5,{id:"createAccount",checked:f,onCheckedChange:I=>p(I)}),l.jsx(kt,{htmlFor:"createAccount",className:"text-sm",children:"Create an account to track your orders and earn rewards points"})]}),f&&l.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"password",children:"Password"}),l.jsx(Rt,{id:"password",type:"password",value:h.password,onChange:I=>g(L=>({...L,password:I.target.value})),placeholder:"Create a password",required:f})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx(Rt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:I=>g(L=>({...L,confirmPassword:I.target.value})),placeholder:"Confirm your password",required:f})]})]})]})]}),l.jsxs(ze,{children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Payment Method"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsxs(pxe,{value:s,onValueChange:c,children:[l.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[l.jsx(Lw,{value:"cash-on-delivery",id:"cash-on-delivery"}),l.jsxs(kt,{htmlFor:"cash-on-delivery",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[l.jsx(hq,{className:"h-4 w-4"}),"Cash on Delivery"]})]}),l.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[l.jsx(Lw,{value:"bank-transfer",id:"bank-transfer"}),l.jsxs(kt,{htmlFor:"bank-transfer",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[l.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),"Bank Transfer (Manual Payment)"]})]}),l.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[l.jsx(Lw,{value:"credit-card",id:"credit-card"}),l.jsxs(kt,{htmlFor:"credit-card",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[l.jsx(t_,{className:"h-4 w-4"}),"Credit/Debit Card"]})]}),s==="bank-transfer"&&l.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[l.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Bank Transfer Details:"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Account Name:"})," CLARA RANYAMA"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Bank:"})," FNB"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Account Number:"})," 62804733766"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Branch Code:"})," 250655"]}),l.jsxs("p",{className:"text-blue-600 mt-2",children:[l.jsx("strong",{children:"Reference:"})," Dolls send me proof of payment "]})]})]})]}),s==="credit-card"&&l.jsxs("div",{className:"space-y-4 mt-4 p-4 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"cardNumber",children:"Card Number"}),l.jsx(Rt,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:I=>d(L=>({...L,cardNumber:I.target.value})),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"expiryDate",children:"Expiry Date"}),l.jsx(Rt,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:I=>d(L=>({...L,expiryDate:I.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"cvv",children:"CVV"}),l.jsx(Rt,{id:"cvv",placeholder:"123",value:u.cvv,onChange:I=>d(L=>({...L,cvv:I.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx(kt,{htmlFor:"cardholderName",children:"Cardholder"}),l.jsx(Rt,{id:"cardholderName",placeholder:"Full name",value:u.cardholderName,onChange:I=>d(L=>({...L,cardholderName:I.target.value}))})]})]})]})]})]})]}),l.jsx("div",{children:l.jsxs(ze,{className:"sticky top-24",children:[l.jsx(Bt,{children:l.jsx(qt,{children:"Order Summary"})}),l.jsxs(We,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-3",children:t.map(I=>l.jsxs("div",{className:"flex gap-3",children:[l.jsx(wI,{src:I.product.images[0],alt:I.product.name,className:"w-12 h-12 object-cover rounded",loading:"eager"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium line-clamp-1",children:I.product.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.size,"  ",I.color,"  Qty ",I.quantity]})]}),l.jsxs("span",{className:"text-sm font-medium",children:["R",(I.product.price*I.quantity).toFixed(2)]})]},`${I.productId}-${I.size}-${I.color}`))}),l.jsx(Zn,{}),e&&e.points>0&&l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(G5,{id:"use-points",checked:m,onCheckedChange:I=>v(I)}),l.jsxs(kt,{htmlFor:"use-points",className:"text-sm",children:["Use ",Math.min((e==null?void 0:e.points)||0,Math.floor(j*20))," points (save R",_.toFixed(2),")"]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R",j.toFixed(2)]})]}),_>0&&l.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[l.jsx("span",{children:"Points Discount"}),l.jsxs("span",{children:["-R",_.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:S===0?l.jsx("span",{className:"text-green-600",children:"FREE"}):`R${S.toFixed(2)}`})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Tax"}),l.jsxs("span",{children:["R",k.toFixed(2)]})]})]}),l.jsx(Zn,{}),l.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["R",A.toFixed(2)]})]}),l.jsx(we,{type:"submit",className:"w-full",size:"lg",disabled:b,children:b?"Processing...":`Place Order - R${A.toFixed(2)}`}),l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By placing your order, you agree to our Terms & Conditions and Privacy Policy."})]})]})})]})}),l.jsx(Fs,{})]})}var gxe=(t,e,r,n,a,i,o,s)=>{let c=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(g=>{let m=g==="class",v=m&&i?a.map(b=>i[b]||b):a;m?(c.classList.remove(...v),c.classList.add(i&&i[h]?i[h]:h)):c.setAttribute(g,h)}),f(h)}function f(h){s&&u.includes(h)&&(c.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let h=localStorage.getItem(e)||r,g=o&&h==="system"?p():h;d(g)}catch{}},vxe=N.createContext(void 0),yxe={setTheme:t=>{},themes:[]},bxe=()=>{var t;return(t=N.useContext(vxe))!=null?t:yxe};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:s,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,e,i,t,s,o,n,a]).slice(1,-1);return N.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${gxe.toString()})(${d})`}})});const xxe=({...t})=>{const{theme:e="system"}=bxe();return l.jsx(aH,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function wxe({isOpen:t,mode:e,onClose:r,onLoginSuccess:n,onSignupSuccess:a,onSwitchMode:i,title:o,description:s}){const{signIn:c,signUp:u}=Nn(),[d,f]=N.useState(!1),[p,h]=N.useState(!1),[g,m]=N.useState({email:"",password:"",name:"",confirmPassword:""}),v=(_,S)=>{m(k=>({...k,[_]:S}))},b=async _=>{_.preventDefault(),f(!0);const S=await c(g.email,g.password);f(!1),S?n():Ce.error("Login failed. Please check your credentials.")},w=async _=>{if(_.preventDefault(),g.password!==g.confirmPassword){Ce.error("Passwords do not match.");return}f(!0);const S=await u(g.email,g.password,g.name);f(!1),S?a():Ce.error("Signup failed. Please try again.")},j=_=>{Ce.info(`Social login with ${_} is not yet implemented.`)};return l.jsx(Fo,{open:t,onOpenChange:r,children:l.jsxs(Qi,{className:"sm:max-w-[425px]",children:[l.jsxs(Bo,{children:[l.jsx(qo,{children:o||(e==="login"?"Sign In":"Create Account")}),s&&l.jsx(WV,{children:s})]}),l.jsxs(vh,{value:e,onValueChange:_=>i(_),className:"w-full",children:[l.jsxs(yh,{className:"grid w-full grid-cols-2",children:[l.jsx(Fn,{value:"login",children:"Login"}),l.jsx(Fn,{value:"signup",children:"Sign Up"})]}),l.jsx(Bn,{value:"login",children:l.jsxs(ze,{children:[l.jsxs(Bt,{children:[l.jsx(qt,{children:"Welcome Back"}),l.jsx(YN,{children:"Enter your credentials to access your account."})]}),l.jsxs(We,{children:[l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(kt,{htmlFor:"login-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(xf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Rt,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(kt,{htmlFor:"login-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(R0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Rt,{id:"login-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),l.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?l.jsx($w,{className:"h-4 w-4"}):l.jsx(Ji,{className:"h-4 w-4"})})]})]}),l.jsx(we,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]}),l.jsx("div",{className:"mt-4 text-center text-sm",children:l.jsx("a",{href:"#",className:"underline",onClick:()=>Ce.info("Password reset coming soon!"),children:"Forgot your password?"})})]})]})}),l.jsx(Bn,{value:"signup",children:l.jsxs(ze,{children:[l.jsxs(Bt,{children:[l.jsx(qt,{children:"Create an Account"}),l.jsx(YN,{children:"Join us to get the best shopping experience."})]}),l.jsx(We,{children:l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(kt,{htmlFor:"signup-name",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx($o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Rt,{id:"signup-name",placeholder:"John Doe",required:!0,className:"pl-10",value:g.name,onChange:_=>v("name",_.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(kt,{htmlFor:"signup-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(xf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Rt,{id:"signup-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:_=>v("email",_.target.value)})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(kt,{htmlFor:"signup-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(R0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Rt,{id:"signup-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:_=>v("password",_.target.value)}),l.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?l.jsx($w,{className:"h-4 w-4"}):l.jsx(Ji,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(kt,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(R0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Rt,{id:"signup-confirm-password",type:"password",required:!0,className:"pl-10",value:g.confirmPassword,onChange:_=>v("confirmPassword",_.target.value)})]})]}),l.jsx(we,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]}),l.jsxs("div",{className:"relative my-4",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(we,{variant:"outline",onClick:()=>j("Google"),children:"Google"}),l.jsx(we,{variant:"outline",onClick:()=>j("Facebook"),children:"Facebook"})]})]})})}const _xe={success:Pg,error:Rl,warning:ET,info:Cg},jxe={success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800",warning:"border-yellow-200 bg-yellow-50 text-yellow-800",info:"border-blue-200 bg-blue-50 text-blue-800"},Sxe={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function Nxe({notification:t,onClose:e}){const[r,n]=N.useState(!1),[a,i]=N.useState(!1),o=_xe[t.type];N.useEffect(()=>{n(!0);const c=t.duration||5e3;if(c>0){const u=setTimeout(()=>{s()},c);return()=>clearTimeout(u)}},[t.duration]);const s=()=>{i(!0),setTimeout(()=>{e(t.id)},200)};return l.jsx(ze,{className:`
        ${jxe[t.type]}
        border shadow-lg transition-all duration-200 mb-2
        ${r&&!a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${a?"translate-x-full opacity-0":""}
      `,children:l.jsx(We,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(o,{className:`h-5 w-5 mt-0.5 ${Sxe[t.type]}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-sm",children:t.title}),l.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.action&&l.jsx(we,{size:"sm",variant:"ghost",className:"mt-2 h-8 px-2 text-xs",onClick:t.action.onClick,children:t.action.label})]}),l.jsx(we,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",onClick:s,children:l.jsx(Ro,{className:"h-4 w-4"})})]})})})}const Axe=K.createContext(null);function kxe({children:t,position:e="top-right",maxToasts:r=5}){const[n,a]=N.useState([]),i=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),o=m=>{const v=i(),b={...m,id:v};a(w=>[b,...w].slice(0,r))},s=(m,v="",b)=>{o({title:m,message:v,type:"success",action:b})},c=(m,v="",b)=>{o({title:m,message:v,type:"error",action:b,duration:8e3})},u=(m,v="",b)=>{o({title:m,message:v,type:"warning",action:b,duration:6e3})},d=(m,v="",b)=>{o({title:m,message:v,type:"info",action:b})},f=m=>{a(v=>v.filter(b=>b.id!==m))},p=()=>{a([])},h=()=>{switch(e){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},g={showToast:o,showSuccess:s,showError:c,showWarning:u,showInfo:d,dismissToast:f,dismissAll:p};return l.jsxs(Axe.Provider,{value:g,children:[t,l.jsx("div",{className:`fixed z-50 ${h()} w-80 max-w-sm pointer-events-none`,style:{maxHeight:"90vh",overflowY:"auto"},children:l.jsx("div",{className:"space-y-2 pointer-events-auto",children:n.map(m=>l.jsx(Nxe,{notification:m,onClose:f},m.id))})})]})}const Pxe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(null);N.useEffect(()=>{(async()=>{try{n(!0);const{data:u,error:d}=await Te.from("products").select("id, name, image_url, images").limit(5);if(d)throw d;console.log(" Raw Supabase products data:",u),e(u||[])}catch(u){console.error(" Error fetching products:",u),i(u instanceof Error?u.message:"Unknown error")}finally{n(!1)}})()},[]);const o=async c=>{try{const u=await fetch(c,{method:"HEAD"});return{url:c,status:u.status,ok:u.ok,statusText:u.statusText}}catch(u){return{url:c,status:0,ok:!1,statusText:u instanceof Error?u.message:"Network error"}}},s=async c=>{console.log(" Testing URL:",c);const u=await o(c);console.log(" URL Test Result:",u),alert(`URL: ${c}
Status: ${u.status}
OK: ${u.ok}
Message: ${u.statusText}`)};return r?l.jsx("div",{className:"p-4",children:"Loading products for debugging..."}):a?l.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",a]}):l.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Image URL Debugger"}),l.jsx("div",{className:"space-y-4",children:t.map(c=>l.jsxs("div",{className:"border p-4 rounded-lg",children:[l.jsx("h3",{className:"font-semibold",children:c.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",c.id]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("h4",{className:"font-medium",children:"Raw Data:"}),l.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify({image_url:c.image_url,images:c.images},null,2)})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("h4",{className:"font-medium",children:"Generated URLs:"}),l.jsxs("div",{className:"space-y-2",children:[c.image_url&&l.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"From image_url:"}),c.image_url.startsWith("/images/")?l.jsxs("div",{children:[l.jsx("p",{className:"text-xs",children:"Path with /images/ prefix  Storage URL"}),l.jsxs("button",{onClick:()=>s(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images",c.image_url]})]}):c.image_url.startsWith("http")?l.jsxs("div",{children:[l.jsx("p",{className:"text-xs",children:"Full HTTP URL"}),l.jsxs("button",{onClick:()=>s(c.image_url),className:"text-blue-600 underline text-sm",children:["Test: ",c.image_url]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-xs",children:"Storage path  Full URL"}),l.jsxs("button",{onClick:()=>s(`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${c.image_url}`),className:"text-blue-600 underline text-sm",children:["Test: https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/",c.image_url]})]})]}),c.images&&Array.isArray(c.images)&&c.images.length>0&&l.jsxs("div",{className:"border-l-4 border-green-500 pl-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"From images array:"}),c.images.map((u,d)=>l.jsx("div",{className:"mt-1",children:l.jsxs("button",{onClick:()=>s(typeof u=="string"?u:String(u)),className:"text-green-600 underline text-sm block",children:["Test [",d,"]: ",typeof u=="string"?u:String(u)]})},d))]})]})]})]},c.id))}),l.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-yellow-800",children:" Instructions:"}),l.jsxs("ol",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[l.jsx("li",{children:'1. Click on the "Test:" links to check if image URLs are accessible'}),l.jsx("li",{children:"2. Check the browser network tab for detailed error responses"}),l.jsx("li",{children:"3. Check the console for raw data structure"}),l.jsx("li",{children:"4. Compare expected URLs vs actual storage structure"})]})]})]})};function Cxe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a,loading:i}=hh(),[o,s]=N.useState("featured"),[c,u]=N.useState("grid"),[d,f]=N.useState(new Set),p=N.useMemo(()=>{let g=[...a];switch(t&&(g=g.filter(m=>m.name.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(g=g.filter(m=>m.category===e)),o){case"price-low":g=g.sort((m,v)=>m.price-v.price);break;case"price-high":g=g.sort((m,v)=>v.price-m.price);break;case"rating":g=g.sort((m,v)=>v.rating-m.rating);break}return g},[a,t,e,o]),h=g=>{const m=new Set(d);m.has(g)?m.delete(g):m.add(g),f(m)};return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:e==="All"?"All Products":e}),l.jsxs("p",{className:"text-muted-foreground",children:[p.length," products found"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"hidden md:flex border rounded-lg p-1",children:[l.jsx(we,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),children:l.jsx(r_,{className:"h-4 w-4"})}),l.jsx(we,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),children:l.jsx(n_,{className:"h-4 w-4"})})]}),l.jsxs("select",{value:o,onChange:g=>s(g.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[l.jsx("option",{value:"featured",children:"Featured"}),l.jsx("option",{value:"newest",children:"Newest"}),l.jsx("option",{value:"price-low",children:"Price: Low to High"}),l.jsx("option",{value:"price-high",children:"Price: High to Low"}),l.jsx("option",{value:"rating",children:"Highest Rated"})]}),l.jsxs(we,{variant:"outline",size:"sm",children:[l.jsx(bf,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),l.jsx("div",{className:c==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24":"space-y-4 pb-24",children:p.map(g=>l.jsx(ze,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 ${c==="list"?"flex":"flex flex-col h-full"}`,onClick:()=>r(g),children:l.jsxs(We,{className:`p-0 ${c==="grid"?"flex flex-col h-full":""}`,children:[l.jsxs("div",{className:`relative overflow-hidden ${c==="list"?"w-32 flex-shrink-0":"rounded-t-lg flex-shrink-0"}`,children:[l.jsx(uF,{images:g.images,name:g.name,className:c==="list"?"w-32 h-32":"w-full aspect-[4/3]",priority:!0}),l.jsx(we,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:m=>{m.stopPropagation(),h(g.id)},children:l.jsx(Is,{className:`h-4 w-4 ${d.has(g.id)?"fill-red-500 text-red-500":""}`})}),g.originalPrice&&g.originalPrice!==g.price&&l.jsxs(Ut,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:[Math.round((g.originalPrice-g.price)/g.originalPrice*100),"% OFF"]})]}),l.jsxs("div",{className:`space-y-2 ${c==="list"?"p-4 flex-1":"p-4 flex-1 flex flex-col justify-between"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h4",{className:"font-medium line-clamp-2 flex-1 min-w-0",children:g.name}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[g.images.length>1&&l.jsxs("div",{className:"flex gap-0.5 max-w-[60px] flex-wrap",children:[g.images.slice(0,5).map((m,v)=>l.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-gray-300 flex-shrink-0",style:{minWidth:"20px",minHeight:"20px"},children:l.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover",loading:"lazy"})},v)),g.images.length>5&&l.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border border-gray-300 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-[8px] text-gray-600 font-bold leading-none",children:"+"})})]}),!g.inStock&&l.jsx(Ut,{variant:"secondary",className:"text-xs ml-1",children:"Out of Stock"})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Wa,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.rating," (",g.reviews.length,")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-semibold",children:["R",g.price]}),g.originalPrice&&g.originalPrice!==g.price&&l.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",g.originalPrice]})]}),l.jsxs("div",{className:"flex gap-1",children:[g.colors.slice(0,4).map(m=>l.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-gray-300 ${m.toLowerCase()==="black"?"bg-black":m.toLowerCase()==="white"?"bg-white":m.toLowerCase()==="gray"?"bg-gray-400":m.toLowerCase()==="navy"?"bg-blue-900":m.toLowerCase()==="brown"?"bg-amber-800":m.toLowerCase()==="beige"?"bg-amber-100":m.toLowerCase()==="pink"?"bg-pink-400":m.toLowerCase()==="blue"?"bg-blue-500":m.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`},m)),g.colors.length>4&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.colors.length-4]})]})]})]})},g.id))}),p.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),l.jsx(we,{onClick:()=>n("All"),children:"Clear filters"})]}),l.jsx(Fs,{})]})}function Oxe(){const{user:t,isAdmin:e}=Nn(),{products:r}=hh(),{items:n,addItem:a,updateItemQuantity:i,removeItem:o,fetchCart:s}=ph(),[c,u]=N.useState("home"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState("All"),[v,b]=N.useState(!1),[w,j]=N.useState("about"),[_,S]=N.useState({mode:"login",title:"Sign In Required",description:"Please sign in to continue"}),k=(W,F,ae)=>{t?W():(S({mode:"login",title:F||"Sign In Required",description:ae||"Please sign in to continue"}),b(!0))},A=W=>{f(W),u("product")},E=W=>{m(W),u("catalog")},I=()=>{k(()=>u("checkout"),"Checkout","Please sign in to proceed with your order.")},L=()=>{k(()=>u("profile"),"My Account","Please sign in to view your profile.")},P=()=>{k(()=>u("rewards"),"My Rewards","Please sign in to view your rewards.")},O=()=>{b(!1),Ce.success("Welcome back!"),_.title.includes("Checkout")?u("checkout"):_.title.includes("Profile")?u("profile"):_.title.includes("Rewards")&&u("rewards")},D=W=>{const F=W;["profile","rewards","admin"].includes(F)?(F==="profile"&&L(),F==="rewards"&&P(),F==="admin"&&e&&u("admin")):u(F)},M=async(W,F,ae,re)=>{if(console.log("handleUpdateQuantity called:",{productId:W,size:F,color:ae,quantity:re}),n.find($=>$.productId===W&&$.size===F&&$.color===ae)){const $=`${W}|${F}|${ae}`;console.log("Updating item with identifier:",$,"to quantity:",re);const U=await i($,re);console.log("Update result:",U),U||Ce.error("Failed to update item quantity")}else console.log("Item not found in cart for quantity update"),Ce.error("Item not found in cart")},G=async(W,F,ae)=>{console.log("handleRemoveItem called:",{productId:W,size:F,color:ae});const re=n.find(oe=>oe.productId===W&&oe.size===F&&oe.color===ae);if(console.log("Found cart item:",re),console.log("Current items:",n),re){const oe=`${W}|${F}|${ae}`;console.log("Removing item with identifier:",oe);const $=await o(oe);console.log("Remove result:",$),$||Ce.error("Failed to remove item from cart")}else console.log("Item not found in cart"),Ce.error("Item not found in cart")},Y=()=>{switch(c){case"home":return l.jsx(bI,{onViewProduct:A,onNavigateToCategory:E});case"catalog":return l.jsx(Cxe,{searchQuery:p,selectedCategory:g,onViewProduct:A,onCategoryChange:m});case"product":return d?l.jsx(iH,{product:d,onBack:()=>u("catalog"),onAddToCart:a}):null;case"cart":return l.jsx(sH,{items:n,onUpdateQuantity:M,onRemoveItem:G,onProceedToCheckout:I,onContinueShopping:()=>u("catalog")});case"checkout":return l.jsx(mxe,{user:t,items:n,onOrderComplete:()=>{u("home"),Ce.success("Order placed successfully!")},onBack:()=>u("cart")});case"profile":return t?e?l.jsx(gF,{}):l.jsx(DK,{onLogout:()=>{}}):null;case"rewards":return t?l.jsx(txe,{}):null;case"admin":return e?l.jsx(dbe,{}):null;case"info":return l.jsx(Sbe,{onBack:()=>u("home"),initialPage:w});case"debug":return l.jsx(Pxe,{});default:return null}};return l.jsxs("div",{className:"flex flex-col min-h-screen",children:[l.jsx(Qbe,{onSearch:h,onProfileClick:L,onInfoClick:()=>{j("about"),u("info")}}),l.jsx("main",{className:"flex-1 pb-28 md:pb-4",children:Y()}),l.jsx(Pbe,{onInfoClick:W=>{j(W),u("info")}}),l.jsx(exe,{currentPage:c,onPageChange:D}),l.jsx(wxe,{isOpen:v,mode:_.mode,onClose:()=>b(!1),onLoginSuccess:O,onSignupSuccess:O,title:_.title,description:_.description,onSwitchMode:W=>S(F=>({...F,mode:W}))}),l.jsx(kbe,{}),l.jsx(xxe,{})]})}function Exe(){return l.jsx(jW,{children:l.jsx(_W,{children:l.jsx(SW,{children:l.jsx(sbe,{children:l.jsx(Obe,{children:l.jsx(kxe,{position:"top-right",maxToasts:5,children:l.jsx(Oxe,{})})})})})})})}function Txe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:a}=hh(),{user:i}=Nn(),{addItem:o}=ph(),[s,c]=N.useState("featured"),[u,d]=N.useState("grid"),[f,p]=N.useState(new Set),[h,g]=N.useState([0,500]),[m,v]=N.useState([]),[b,w]=N.useState(!1),j=[...new Set(a.flatMap(L=>L.colors))],_=async L=>{try{console.log(" ProductCatalog: Adding product to cart:",L.id,L.name);const P="M",O=L.colors[0]||"Default";await o(L,P,O,1)?console.log(" ProductCatalog: Product added to cart successfully"):console.error(" ProductCatalog: Failed to add product to cart")}catch(P){console.error(" ProductCatalog: Error adding product to cart:",P)}},S=L=>{console.log(" ProductCatalog: Viewing product details:",L.id,L.name),r(L)},k=L=>{console.log(" ProductCatalog: Toggling wishlist for product:",L.id,L.name),p(P=>{const O=new Set(P);return O.has(L.id)?(O.delete(L.id),console.log(" ProductCatalog: Removed from wishlist")):(O.add(L.id),console.log(" ProductCatalog: Added to wishlist")),O})},A=N.useMemo(()=>{let L=[...a];switch(t&&(L=L.filter(P=>P.name.toLowerCase().includes(t.toLowerCase())||P.category.toLowerCase().includes(t.toLowerCase())||P.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(L=L.filter(P=>P.category===e)),L=L.filter(P=>P.price>=h[0]&&P.price<=h[1]),m.length>0&&(L=L.filter(P=>m.some(O=>P.colors.includes(O)))),s){case"price-low":L.sort((P,O)=>P.price-O.price);break;case"price-high":L.sort((P,O)=>O.price-P.price);break;case"rating":L.sort((P,O)=>O.rating-P.rating);break;case"newest":L.sort((P,O)=>parseInt(O.id)-parseInt(P.id));break}return L},[a,t,e,s,h,m]),E=L=>{const P=new Set(f);P.has(L)?P.delete(L):P.add(L),p(P)},I=()=>{g([0,500]),v([]),n("All")};return l.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e==="All"?"All Products":e}),l.jsxs("p",{className:"text-muted-foreground",children:[A.length," products found"]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsxs("div",{className:"border rounded-lg p-1",children:[l.jsx(we,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),children:l.jsx(r_,{className:"h-4 w-4"})}),l.jsx(we,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),children:l.jsx(n_,{className:"h-4 w-4"})})]}),l.jsxs("select",{value:s,onChange:L=>c(L.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[l.jsx("option",{value:"featured",children:"Featured"}),l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"price-low",children:"Price: Low to High"}),l.jsx("option",{value:"price-high",children:"Price: High to Low"}),l.jsx("option",{value:"rating",children:"Highest Rated"})]}),l.jsxs(we,{variant:"outline",size:"sm",onClick:()=>w(!b),className:b?"bg-primary/10":"",children:[l.jsx(bf,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),b&&l.jsx(ze,{className:"mb-6",children:l.jsx(We,{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium mb-3 block",children:"Price Range"}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Rt,{type:"number",placeholder:"Min",value:h[0],onChange:L=>g([Number(L.target.value),h[1]]),className:"w-20"}),l.jsx("span",{className:"self-center",children:"-"}),l.jsx(Rt,{type:"number",placeholder:"Max",value:h[1],onChange:L=>g([h[0],Number(L.target.value)]),className:"w-20"})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"font-medium mb-3 block",children:"Colors"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:j.slice(0,8).map(L=>l.jsx("button",{onClick:()=>v(P=>P.includes(L)?P.filter(O=>O!==L):[...P,L]),className:`px-3 py-1 text-xs border rounded-full transition-colors ${m.includes(L)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:L},L))})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs(we,{onClick:I,variant:"outline",children:[l.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Clear All"]}),l.jsx(we,{onClick:()=>w(!1),children:"Apply"})]})]})})}),A.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ml,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),l.jsx(we,{onClick:I,children:"Clear all filters"})]}):l.jsx("div",{className:`grid gap-6 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:A.map(L=>{var P;return console.log(" ProductCatalog: Rendering product:",{id:L.id,name:L.name,price:L.price,originalPrice:L.originalPrice,category:L.category,imageCount:((P=L.images)==null?void 0:P.length)||0,rating:L.rating,colors:L.colors,inStock:L.inStock,viewMode:u}),u==="list"?l.jsx(ze,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 flex \r
                           bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                           border border-border dark:border-border/50`,onClick:()=>r(L),children:l.jsxs(We,{className:"p-0 flex",children:[l.jsxs("div",{className:"relative overflow-hidden w-60 flex-shrink-0",children:[l.jsx(uF,{images:L.images,name:L.name,className:"w-60 h-60",priority:!0}),l.jsx(we,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 bg-background/80 backdrop-blur-sm \r
                                hover:bg-background dark:bg-card/80 dark:hover:bg-card`,onClick:O=>{O.stopPropagation(),E(L.id)},children:l.jsx(Is,{className:`h-4 w-4 ${f.has(L.id)?"fill-red-500 text-red-500":"text-foreground"}`})}),L.originalPrice&&l.jsx(Ut,{className:"absolute top-2 left-2 bg-rose-500 text-white dark:bg-rose-600 dark:text-white",children:"Sale"}),!L.inStock&&l.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium px-3 py-1 bg-black/40 backdrop-blur-sm rounded",children:"Out of Stock"})})]}),l.jsxs("div",{className:"p-6 flex-1 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ut,{variant:"secondary",className:"text-xs bg-secondary/80 text-secondary-foreground",children:L.category}),!L.inStock&&l.jsx(Ut,{variant:"outline",className:"text-xs text-rose-500 dark:text-rose-400 border-rose-200 dark:border-rose-800",children:"Out of Stock"})]}),l.jsx("h4",{className:"font-semibold text-lg line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:L.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex items-center",children:[...Array(5)].map((O,D)=>l.jsx(Wa,{className:`h-4 w-4 ${D<Math.floor(L.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},D))}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[L.rating," (",L.reviews.length,")"]})]}),l.jsxs("div",{className:"flex gap-1",children:[L.colors.slice(0,4).map(O=>l.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${O.toLowerCase()==="black"?"bg-black border-gray-300 dark:border-gray-600":O.toLowerCase()==="white"?"bg-white border-gray-400":O.toLowerCase()==="gray"?"bg-gray-400 border-gray-500":O.toLowerCase()==="navy"?"bg-blue-900 border-blue-800":O.toLowerCase()==="brown"?"bg-amber-800 border-amber-700":O.toLowerCase()==="beige"?"bg-amber-100 border-amber-200":O.toLowerCase()==="pink"?"bg-pink-400 border-pink-500":O.toLowerCase()==="blue"?"bg-blue-500 border-blue-600":O.toLowerCase()==="red"?"bg-red-500 border-red-600":"bg-green-500 border-green-600"}`,title:O},O)),L.colors.length>4&&l.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",L.colors.length-4]})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[l.jsxs("span",{className:"font-bold text-lg text-foreground",children:["R",L.price]}),L.originalPrice&&l.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",L.originalPrice]})]})]})]})},L.id):l.jsx("div",{children:l.jsx(Uw,{product:L,layout:"enhanced",showQuickActions:!0,onAddToCart:_,onViewDetails:S,onToggleWishlist:k,className:`shadow-md hover:shadow-xl transition-shadow duration-300\r
                               bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                               border border-border dark:border-border/50`})},L.id)})}),A.length>12&&l.jsx("div",{className:"text-center mt-8",children:l.jsx(we,{variant:"outline",size:"lg",children:"Load More Products"})})]})}const Ixe=$9([{path:"/",element:l.jsx(Exe,{}),children:[{index:!0,element:l.jsx(bI,{onViewProduct:()=>{},onNavigateToCategory:()=>{}})},{path:"products",element:l.jsx(Txe,{searchQuery:"",selectedCategory:"All",onViewProduct:()=>{},onCategoryChange:()=>{}})}]}],{basename:"/"});z9.createRoot(document.getElementById("root")).render(l.jsx(N.StrictMode,{children:l.jsx(F9,{router:Ixe})}));export{cr as _};
