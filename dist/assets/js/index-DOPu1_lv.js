const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-CSQ2k0Fi.js","assets/js/vendor-CC_ZIGTP.js","assets/js/router-BAGLiJ1d.js"])))=>i.map(i=>d[i]);
var HF=Object.defineProperty;var VF=(t,e,r)=>e in t?HF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>VF(t,typeof e!="symbol"?e+"":e,r);import{r as T6,a as GF,b as YF,g as dr,c as Qh}from"./vendor-CC_ZIGTP.js";import{r as N,a as hg,R as K,b as I6,c as L6,d as KF,e as XF}from"./router-BAGLiJ1d.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var v0={exports:{}},Id={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj;function JF(){if(Uj)return Id;Uj=1;var t=T6(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(h=l.ref);for(d in l)n.call(l,d)&&!a.hasOwnProperty(d)&&(f[d]=l[d]);if(s&&s.defaultProps)for(d in l=s.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:e,type:s,key:p,ref:h,props:f,_owner:i.current}}return Id.Fragment=r,Id.jsx=o,Id.jsxs=o,Id}var zj;function ZF(){return zj||(zj=1,v0.exports=JF()),v0.exports}var c=ZF(),ep={},Wj;function QF(){if(Wj)return ep;Wj=1;var t=GF();return ep.createRoot=t.createRoot,ep.hydrateRoot=t.hydrateRoot,ep}var e9=QF();function Hj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function R6(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Hj(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Hj(t[i],null)}}}}function Dt(...t){return N.useCallback(R6(...t),t)}function Cl(t){const e=t9(t),r=N.forwardRef((n,i)=>{const{children:a,...o}=n,s=N.Children.toArray(a),l=s.find(n9);if(l){const u=l.props.children,d=s.map(f=>f===l?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:i,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var M6=Cl("Slot");function t9(t){const e=N.forwardRef((r,n)=>{const{children:i,...a}=r;if(N.isValidElement(i)){const o=a9(i),s=i9(a,i.props);return i.type!==N.Fragment&&(s.ref=n?R6(n,o):o),N.cloneElement(i,s)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D6=Symbol("radix.slottable");function r9(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=D6,e}function n9(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D6}function i9(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{const l=a(...s);return i(...s),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function a9(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function $6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$6(t))&&(n&&(n+=" "),n+=e);return n}const Vj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gj=It,M5=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Gj(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const p=Vj(d)||Vj(f);return i[u][p]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...a,...s}[m]):{...a,...s}[m]===v})?[...u,f,p]:u},[]);return Gj(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},D5="-",o9=t=>{const e=l9(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(D5);return s[0]===""&&s.length!==1&&s.shift(),F6(s,e)||s9(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},F6=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?F6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(D5);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},Yj=/^\[(.+)\]$/,s9=t=>{if(Yj.test(t)){const e=Yj.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},l9=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)ww(r[i],n,i,e);return n},ww=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Kj(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(c9(i)){ww(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{ww(o,Kj(e,a),r,n)})})},Kj=(t,e)=>{let r=t;return e.split(D5).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},c9=t=>t.isThemeGetter,u9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},_w="!",Sw=":",d9=Sw.length,f9=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const a=[];let o=0,s=0,l=0,u;for(let g=0;g<i.length;g++){let m=i[g];if(o===0&&s===0){if(m===Sw){a.push(i.slice(l,g)),l=g+d9;continue}if(m==="/"){u=g;continue}}m==="["?o++:m==="]"?o--:m==="("?s++:m===")"&&s--}const d=a.length===0?i:i.substring(l),f=h9(d),p=f!==d,h=u&&u>l?u-l:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:h}};if(e){const i=e+Sw,a=n;n=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},h9=t=>t.endsWith(_w)?t.substring(0,t.length-1):t.startsWith(_w)?t.substring(1):t,p9=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},m9=t=>({cache:u9(t.cacheSize),parseClassName:f9(t),sortModifiers:p9(t),...o9(t)}),g9=/\s+/,v9=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],s=t.trim().split(g9);let l="";for(let u=s.length-1;u>=0;u-=1){const d=s[u],{isExternal:f,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(d);if(f){l=d+(l.length>0?" "+l:l);continue}let v=!!m,b=n(v?g.substring(0,m):g);if(!b){if(!v){l=d+(l.length>0?" "+l:l);continue}if(b=n(g),!b){l=d+(l.length>0?" "+l:l);continue}v=!1}const _=a(p).join(":"),w=h?_+_w:_,S=w+b;if(o.includes(S))continue;o.push(S);const j=i(b,v);for(let C=0;C<j.length;++C){const k=j[C];o.push(w+k)}l=d+(l.length>0?" "+l:l)}return l};function y9(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=B6(e))&&(n&&(n+=" "),n+=r);return n}const B6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=B6(t[n]))&&(r&&(r+=" "),r+=e);return r};function b9(t,...e){let r,n,i,a=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return r=m9(u),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=v9(l,r);return i(l,d),d}return function(){return a(y9.apply(null,arguments))}}const fn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},q6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,U6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,x9=/^\d+\/\d+$/,w9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,j9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gc=t=>x9.test(t),Mt=t=>!!t&&!Number.isNaN(Number(t)),ls=t=>!!t&&Number.isInteger(Number(t)),y0=t=>t.endsWith("%")&&Mt(t.slice(0,-1)),po=t=>w9.test(t),A9=()=>!0,P9=t=>_9.test(t)&&!S9.test(t),z6=()=>!1,k9=t=>j9.test(t),C9=t=>N9.test(t),O9=t=>!Xe(t)&&!Je(t),E9=t=>Bu(t,V6,z6),Xe=t=>q6.test(t),nl=t=>Bu(t,G6,P9),b0=t=>Bu(t,M9,Mt),Xj=t=>Bu(t,W6,z6),T9=t=>Bu(t,H6,C9),tp=t=>Bu(t,Y6,k9),Je=t=>U6.test(t),Ld=t=>qu(t,G6),I9=t=>qu(t,D9),Jj=t=>qu(t,W6),L9=t=>qu(t,V6),R9=t=>qu(t,H6),rp=t=>qu(t,Y6,!0),Bu=(t,e,r)=>{const n=q6.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},qu=(t,e,r=!1)=>{const n=U6.exec(t);return n?n[1]?e(n[1]):r:!1},W6=t=>t==="position"||t==="percentage",H6=t=>t==="image"||t==="url",V6=t=>t==="length"||t==="size"||t==="bg-size",G6=t=>t==="length",M9=t=>t==="number",D9=t=>t==="family-name",Y6=t=>t==="shadow",$9=()=>{const t=fn("color"),e=fn("font"),r=fn("text"),n=fn("font-weight"),i=fn("tracking"),a=fn("leading"),o=fn("breakpoint"),s=fn("container"),l=fn("spacing"),u=fn("radius"),d=fn("shadow"),f=fn("inset-shadow"),p=fn("text-shadow"),h=fn("drop-shadow"),g=fn("blur"),m=fn("perspective"),v=fn("aspect"),b=fn("ease"),_=fn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...S(),Je,Xe],C=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],E=()=>[Je,Xe,l],T=()=>[gc,"full","auto",...E()],I=()=>[ls,"none","subgrid",Je,Xe],A=()=>["auto",{span:["full",ls,Je,Xe]},ls,Je,Xe],L=()=>[ls,"auto",Je,Xe],D=()=>["auto","min","max","fr",Je,Xe],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...E()],V=()=>[gc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],$=()=>[t,Je,Xe],ie=()=>[...S(),Jj,Xj,{position:[Je,Xe]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",L9,E9,{size:[Je,Xe]}],M=()=>[y0,Ld,nl],U=()=>["","none","full",u,Je,Xe],z=()=>["",Mt,Ld,nl],Z=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[Mt,y0,Jj,Xj],de=()=>["","none",g,Je,Xe],ae=()=>["none",Mt,Je,Xe],he=()=>["none",Mt,Je,Xe],ge=()=>[Mt,Je,Xe],ue=()=>[gc,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[po],breakpoint:[po],color:[A9],container:[po],"drop-shadow":[po],ease:["in","out","in-out"],font:[O9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[po],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[po],shadow:[po],spacing:["px",Mt],text:[po],"text-shadow":[po],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gc,Xe,Je,v]}],container:["container"],columns:[{columns:[Mt,Xe,Je,s]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",Je,Xe]}],basis:[{basis:[gc,"full","auto",s,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Mt,gc,"auto","initial","none",Xe]}],grow:[{grow:["",Mt,Je,Xe]}],shrink:[{shrink:["",Mt,Je,Xe]}],order:[{order:[ls,"first","last","none",Je,Xe]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[s,"screen",...V()]}],"min-w":[{"min-w":[s,"screen","none",...V()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,Ld,nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Je,b0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y0,Xe]}],"font-family":[{font:[I9,Xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Je,Xe]}],"line-clamp":[{"line-clamp":[Mt,"none",Je,b0]}],leading:[{leading:[a,...E()]}],"list-image":[{"list-image":["none",Je,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Mt,"from-font","auto",Je,nl]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Mt,"auto",Je,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,Je,Xe],radial:["",Je,Xe],conic:[ls,Je,Xe]},R9,T9]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Mt,Je,Xe]}],"outline-w":[{outline:["",Mt,Ld,nl]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",d,rp,tp]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",f,rp,tp]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Mt,nl]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",p,rp,tp]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Mt,Je,Xe]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Je,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Xe]}],filter:[{filter:["","none",Je,Xe]}],blur:[{blur:de()}],brightness:[{brightness:[Mt,Je,Xe]}],contrast:[{contrast:[Mt,Je,Xe]}],"drop-shadow":[{"drop-shadow":["","none",h,rp,tp]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Mt,Je,Xe]}],"hue-rotate":[{"hue-rotate":[Mt,Je,Xe]}],invert:[{invert:["",Mt,Je,Xe]}],saturate:[{saturate:[Mt,Je,Xe]}],sepia:[{sepia:["",Mt,Je,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Xe]}],"backdrop-blur":[{"backdrop-blur":de()}],"backdrop-brightness":[{"backdrop-brightness":[Mt,Je,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Mt,Je,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Mt,Je,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Mt,Je,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Mt,Je,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Mt,Je,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Mt,Je,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Mt,Je,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Mt,"initial",Je,Xe]}],ease:[{ease:["linear","initial",b,Je,Xe]}],delay:[{delay:[Mt,Je,Xe]}],animate:[{animate:["none",_,Je,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Je,Xe]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[Je,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Xe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Mt,Ld,nl,b0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},F9=b9($9);function qe(...t){return F9(It(t))}const df=M5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),we=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?M6:"button";return c.jsx(o,{"data-slot":"button",className:qe(df({variant:e,size:r,className:t})),ref:a,...i})});we.displayName="Button";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Zj=t=>{const e=q9(t);return e.charAt(0).toUpperCase()+e.slice(1)},K6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>N.createElement("svg",{ref:l,...U9,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:K6("lucide",i),...s},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=N.forwardRef(({className:n,...i},a)=>N.createElement(z9,{ref:a,iconNode:e,className:K6(`lucide-${B9(Zj(t))}`,`lucide-${t}`,n),...i}));return r.displayName=Zj(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],H9=De("activity",W9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$5=De("arrow-left",V9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Y9=De("award",G9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bl=De("bell",K9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],X6=De("calendar",X9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pg=De("check",J9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],J6=De("chevron-down",Z9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Z6=De("chevron-left",Q9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jp=De("chevron-right",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rB=De("chevron-up",tB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lu=De("circle-alert",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mg=De("circle-check-big",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gg=De("circle-help",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sB=De("circle",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Qj=De("clock",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],uB=De("copy",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],F5=De("credit-card",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],eN=De("crop",fB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pB=De("crown",hB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gB=De("dollar-sign",mB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Q6=De("download",vB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jw=De("eye-off",yB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],To=De("eye",bB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ko=De("file-text",xB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],B5=De("funnel",wB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],SB=De("gift",_B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],q5=De("grid-3x3",jB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ps=De("heart",NB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],x0=De("history",AB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kB=De("house",PB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vg=De("info",CB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],tN=De("key",OB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],U5=De("list",EB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],da=De("loader-circle",TB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],w0=De("lock",IB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],eT=De("log-out",LB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ff=De("mail",RB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],z5=De("map-pin",MB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],tT=De("menu",DB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],FB=De("message-circle",$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M5 12h14",key:"1ays0h"}]],rT=De("minus",BB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],UB=De("monitor",qB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Nw=De("moon",zB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ol=De("package",WB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],nT=De("palette",HB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],GB=De("pen-line",VB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],_0=De("percent",YB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],W5=De("phone",KB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jl=De("plus",XB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],iT=De("printer",JB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nl=De("refresh-cw",ZB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hf=De("rotate-ccw",QB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],aT=De("ruler",eq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zp=De("save",tq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],pf=De("search",rq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H5=De("settings",nq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],aq=De("share-2",iq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jo=De("shield",oq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],V5=De("shopping-bag",sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Qp=De("shopping-cart",lq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],oT=De("sparkles",cq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G5=De("square-pen",uq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ui=De("star",dq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Aw=De("sun",fq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],sT=De("tag",hq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rh=De("trash-2",pq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Pw=De("trending-up",mq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lT=De("triangle-alert",gq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],cu=De("truck",vq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bq=De("upload",yq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],wq=De("user-check",xq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ks=De("user",_q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],cT=De("users",Sq);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ss=De("x",jq),Nq=({images:t,alt:e,className:r="",aspectRatio:n="3/1",showNavigation:i=!0,autoSlide:a=!1,autoSlideInterval:o=3e3})=>{const[s,l]=N.useState(0),[u,d]=N.useState(new Set),[f,p]=N.useState(!0);N.useEffect(()=>{console.log(" ImageCarousel Debug:",{totalImages:t.length,currentIndex:s,imageErrors:Array.from(u),autoSlide:a,aspectRatio:n})},[s,t.length,u,a,n]),N.useEffect(()=>{if(!a||t.length<=1)return;const w=setInterval(()=>{l(S=>{const j=(S+1)%t.length;return console.log(" Auto-slide: Moving to image",j),j})},o);return()=>clearInterval(w)},[a,t.length,o]);const h=()=>{const w=s===0?t.length-1:s-1;console.log(" Navigation: Previous clicked, moving to index",w),l(w)},g=()=>{const w=(s+1)%t.length;console.log(" Navigation: Next clicked, moving to index",w),l(w)},m=w=>{console.error(" Image Loading Error: Failed to load image at index",w,"URL:",t[w]),d(S=>new Set([...S,w]))},v=w=>{console.log(" Image Loaded Successfully: Index",w,"URL:",t[w]),w===s&&p(!1)},b=t.filter((w,S)=>!u.has(S)),_=b[s]||t[0];return b.length===0?(console.warn(" ImageCarousel Warning: No valid images available"),c.jsx("div",{className:`flex items-center justify-center bg-gray-100 w-full h-full ${r}`,children:c.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[c.jsx(lu,{className:"h-8 w-8 mb-2"}),c.jsx("span",{className:"text-sm",children:"Image not available"})]})})):c.jsxs("div",{className:`relative overflow-hidden group w-full h-full ${r}`,children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm scale-110 opacity-60",style:{backgroundImage:`url(${_})`,backgroundPosition:"center",backgroundSize:"cover"}}),c.jsx("div",{className:"relative z-10 w-full h-full flex items-center justify-center",children:c.jsx("img",{src:_,alt:`${e} - Image ${s+1} of ${b.length}`,className:"max-w-full max-h-full object-contain",onError:()=>m(s),onLoad:()=>v(s),loading:"lazy"})}),f&&c.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white bg-opacity-50",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}),i&&b.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:h,className:`absolute left-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Previous image",children:c.jsx(Z6,{className:"h-4 w-4"})}),c.jsx("button",{onClick:g,className:`absolute right-2 top-1/2 -translate-y-1/2 z-20 \r
                     bg-black bg-opacity-50 hover:bg-opacity-70 \r
                     text-white rounded-full p-2 \r
                     opacity-0 group-hover:opacity-100 \r
                     transition-opacity duration-200\r
                     focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-white`,"aria-label":"Next image",children:c.jsx(Jp,{className:"h-4 w-4"})}),c.jsx("div",{className:`absolute bottom-2 left-1/2 -translate-x-1/2 z-20 \r
                        flex space-x-2`,children:b.map((w,S)=>c.jsx("button",{onClick:()=>{console.log(" Indicator clicked: Moving from index",s,"to index",S),l(S),p(!0)},className:`w-3 h-3 rounded-full transition-all duration-200 
                          ${S===s?"bg-white shadow-lg scale-110":"bg-white bg-opacity-60 hover:bg-opacity-80 hover:scale-105"}`,"aria-label":`Go to image ${S+1} of ${b.length}`},S))})]}),!1]})},rN=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),kw=({product:t,layout:e="enhanced",showQuickActions:r=!0,onAddToCart:n,onViewDetails:i,onToggleWishlist:a,className:o=""})=>{const s=t.originalPrice&&t.originalPrice>t.price&&t.originalPrice!==t.price?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,l=h=>{h.stopPropagation(),n==null||n(t)},u=()=>{i==null||i(t)},d=h=>{h.stopPropagation(),a==null||a(t)},f=t.images&&t.images.length>0?t.images:["/images/placeholder-product.svg"],p=h=>{switch(h.toLowerCase()){case"black":return"bg-black border-gray-300";case"white":return"bg-white border-gray-400";case"gray":case"grey":return"bg-gray-400 border-gray-500";case"navy":return"bg-blue-900 border-blue-800";case"brown":return"bg-amber-800 border-amber-700";case"beige":return"bg-amber-100 border-amber-200";case"pink":return"bg-pink-400 border-pink-500";case"blue":return"bg-blue-500 border-blue-600";case"red":return"bg-red-500 border-red-600";case"green":return"bg-green-500 border-green-600";case"yellow":return"bg-yellow-400 border-yellow-500";case"purple":return"bg-purple-500 border-purple-600";case"orange":return"bg-orange-500 border-orange-600";default:return"bg-gradient-to-br from-purple-400 to-pink-400 border-purple-300"}};return c.jsxs("div",{className:`
        bg-background rounded-lg shadow-md hover:shadow-xl transition-all duration-300 
        cursor-pointer group overflow-hidden border border-border dark:border-border/50 
        hover:border-primary/20 dark:hover:border-primary/30
        flex flex-col
        ${o}
      `,onClick:u,children:[c.jsxs("div",{className:"relative w-full aspect-[3/4] flex-shrink-0",children:[c.jsx(Nq,{images:f,alt:t.name,showNavigation:f.length>1,className:"rounded-t-lg h-full w-full object-cover"}),c.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:s>0&&c.jsxs("span",{className:"bg-rose-500 dark:bg-rose-600 text-white text-xs px-2.5 py-1 rounded-full font-medium shadow-md",children:["-",s,"%"]})}),r&&c.jsxs("div",{className:`absolute top-2 right-2 z-20 flex flex-col gap-2 \r
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200`,children:[c.jsx("button",{onClick:d,className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-rose-500`,"aria-label":"Add to wishlist",children:c.jsx(Ps,{className:"h-4 w-4 text-foreground hover:text-rose-500"})}),c.jsx("button",{onClick:h=>{h.stopPropagation(),u()},className:`bg-background dark:bg-card bg-opacity-90 dark:bg-opacity-90 hover:bg-opacity-100 \r
                       p-2 rounded-full shadow-md transition-all duration-200\r
                       hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Quick view",children:c.jsx(To,{className:"h-4 w-4 text-foreground hover:text-blue-500"})})]})]}),c.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between space-y-3",children:[c.jsxs("div",{className:"space-y-2",children:[t.category&&c.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide font-medium",children:t.category}),c.jsx("h3",{className:"font-semibold text-foreground text-sm line-clamp-2 leading-tight",children:t.name}),t.rating&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"flex",children:[...Array(5)].map((h,g)=>c.jsx(Ui,{className:`h-3 w-3 ${g<Math.floor(t.rating)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},g))}),t.reviews&&t.reviews.length>0&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.reviews.length,")"]})]}),t.colors&&t.colors.length>0&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Colors:"}),c.jsxs("div",{className:"flex gap-1",children:[t.colors.slice(0,5).map((h,g)=>c.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${p(h)} 
                               shadow-sm hover:scale-110 transition-transform cursor-pointer`,title:h},g)),t.colors.length>5&&c.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",t.colors.length-5]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-foreground text-lg",children:rN(t.price)}),t.originalPrice&&t.originalPrice>t.price&&c.jsx("span",{className:"text-sm text-muted-foreground line-through",children:rN(t.originalPrice)})]}),c.jsx("button",{onClick:l,className:`bg-rose-500 hover:bg-rose-600 dark:bg-rose-600 dark:hover:bg-rose-700 text-white \r
                     p-2 rounded-full transition-colors duration-200\r
                     hover:scale-105 focus:outline-none focus:ring-2 focus:ring-rose-500 \r
                     shadow-md hover:shadow-lg`,"aria-label":"Add to cart",children:c.jsx(Qp,{className:"h-4 w-4"})})]})]}),!1]})},Aq="modulepreload",Pq=function(t){return"/"+t},nN={},ji=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=o(r.map(u=>{if(u=Pq(u),u in nN)return;nN[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Aq,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},kq=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ji(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Y5 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Cq extends Y5{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iN extends Y5{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class aN extends Y5{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cw||(Cw={}));var Oq=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};class Eq{constructor(e,{headers:r={},customFetch:n,region:i=Cw.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=kq(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Oq(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let s={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(s["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(s["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(s["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:d}).catch(m=>{throw new Cq(m)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new iN(f);if(!f.ok)throw new aN(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof aN||i instanceof iN?i.context:void 0}}})}}var wn={},vc={},yc={},bc={},xc={},wc={},Tq=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},uu=Tq();const Iq=uu.fetch,uT=uu.fetch.bind(uu),dT=uu.Headers,Lq=uu.Request,Rq=uu.Response,Uu=Object.freeze(Object.defineProperty({__proto__:null,Headers:dT,Request:Lq,Response:Rq,default:uT,fetch:Iq},Symbol.toStringTag,{value:"Module"})),Mq=YF(Uu);var np={},oN;function fT(){if(oN)return np;oN=1,Object.defineProperty(np,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return np.default=t,np}var sN;function hT(){if(sN)return wc;sN=1;var t=wc&&wc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wc,"__esModule",{value:!0});const e=t(Mq),r=t(fT());class n{constructor(a){var o,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,p,h;let g=null,m=null,v=null,b=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=C:m=JSON.parse(C))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,b=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const S=await u.text();try{g=JSON.parse(S),Array.isArray(g)&&u.status===404&&(m=[],g=null,b=200,_="OK")}catch{u.status===404&&S===""?(b=204,_="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,b=200,_="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:b,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,p;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(a,o)}returns(){return this}overrideTypes(){return this}}return wc.default=n,wc}var lN;function pT(){if(lN)return xc;lN=1;var t=xc&&xc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xc,"__esModule",{value:!0});const e=t(hT());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return xc.default=r,xc}var cN;function K5(){if(cN)return bc;cN=1;var t=bc&&bc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bc,"__esModule",{value:!0});const e=t(pT());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const s=o?`${o}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return bc.default=r,bc}var uN;function mT(){if(uN)return yc;uN=1;var t=yc&&yc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yc,"__esModule",{value:!0});const e=t(K5());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,{head:a=!1,count:o}={}){const s=a?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return yc.default=r,yc}var dN;function Dq(){if(dN)return vc;dN=1;var t=vc&&vc.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vc,"__esModule",{value:!0});const e=t(mT()),r=t(K5());class n{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{p.searchParams.append(m,v)})):(f="POST",h=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:g,schema:this.schemaName,body:h,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return vc.default=n,vc}var fN;function $q(){if(fN)return wn;fN=1;var t=wn&&wn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wn,"__esModule",{value:!0}),wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const e=t(Dq());wn.PostgrestClient=e.default;const r=t(mT());wn.PostgrestQueryBuilder=r.default;const n=t(K5());wn.PostgrestFilterBuilder=n.default;const i=t(pT());wn.PostgrestTransformBuilder=i.default;const a=t(hT());wn.PostgrestBuilder=a.default;const o=t(fT());return wn.PostgrestError=o.default,wn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},wn}var Fq=$q();const Bq=dr(Fq),{PostgrestClient:qq,PostgrestQueryBuilder:ybe,PostgrestFilterBuilder:bbe,PostgrestTransformBuilder:xbe,PostgrestBuilder:wbe,PostgrestError:_be}=Bq;class Uq{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const zq="2.15.5",Wq=`realtime-js/${zq}`,Hq="1.0.0",Ow=1e4,Vq=1e3,Gq=100;var Qd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qd||(Qd={}));var mn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mn||(mn={}));var sa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(sa||(sa={}));var Ew;(function(t){t.websocket="websocket"})(Ew||(Ew={}));var gl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gl||(gl={}));class Yq{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class gT{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_r||(_r={}));const hN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=Kq(o,t,e,i),a),{})},Kq=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?vT(a,o):Tw(o)},vT=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Qq(e,r)}switch(t){case _r.bool:return Xq(e);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return Jq(e);case _r.json:case _r.jsonb:return Zq(e);case _r.timestamp:return eU(e);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return Tw(e);default:return Tw(e)}},Tw=t=>t,Xq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qq=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>vT(e,s))}return t},eU=t=>typeof t=="string"?t.replace(" ","T"):t,yT=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class S0{constructor(e,r,n={},i=Ow){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pN||(pN={}));class ef{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ef.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=ef.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ef.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(a,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const p=d.map(v=>v.presence_ref),h=f.map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0),m=f.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(s[u]=g),m.length>0&&(l[u]=m)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);e[s].unshift(...p)}n(s,d,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mN||(mN={}));var tf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tf||(tf={}));var wo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wo||(wo={}));class X5{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new S0(this,sa.join,this.params,this.timeout),this.rejoinTimer=new gT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ef(this),this.broadcastEndpointURL=yT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==mn.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[tf.PRESENCE]&&this.bindings[tf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(wo.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(wo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e(wo.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let _=0;_<v;_++){const w=m[_],{filter:{event:S,schema:j,table:C,filter:k}}=w,E=h&&h[_];if(E&&E.event===S&&E.schema===j&&E.table===C&&E.filter===k)b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=mn.errored,e==null||e(wo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(wo.SUBSCRIBED);return}}).receive("error",h=>{this.state=mn.errored,e==null||e(wo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===mn.joined&&e===tf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new S0(this,sa.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new S0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Gq){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=sa;if(n&&[s,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var g,m,v,b,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,j=(g=h.filter)===null||g===void 0?void 0:g.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(_=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:m,table:v,commit_timestamp:b,type:_,errors:w}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(g))}h.callback(p,n)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&X5.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sa.close,{},e)}_onError(e){this._on(sa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hN(e.columns,e.old_record)),r}}const j0=()=>{},ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tU=[1e3,2e3,5e3,1e4],rU=1e4,nU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iU{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ow,this.transport=null,this.heartbeatIntervalMs=ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=j0,this.ref=0,this.reconnectTimer=null,this.logger=j0,this.conn=null,this.sendBuffer=[],this.serializer=new Yq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ji(async()=>{const{default:s}=await Promise.resolve().then(()=>Uu);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ew.websocket}`,this.httpEndpoint=yT(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uq.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hq}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qd.connecting:return gl.Connecting;case Qd.open:return gl.Open;case Qd.closing:return gl.Closing;default:return gl.Closed}}isConnected(){return this.connectionState()===gl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new X5(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vq,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(sa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([nU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Wq};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(sa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,l,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ow,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ip.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:j0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:(f=>tU[f-1]||rU),this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((f,p)=>p(JSON.stringify(f))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class J5 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aU extends J5{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Iw extends J5{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var oU=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const bT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ji(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},sU=()=>oU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ji(()=>Promise.resolve().then(()=>Uu),void 0)).Response:Response}),Lw=t=>{if(Array.isArray(t))return t.map(r=>Lw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Lw(n)}),e},lU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Wl=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const N0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cU=(t,e,r)=>Wl(void 0,void 0,void 0,function*(){const n=yield sU();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new aU(N0(i),a,o))}).catch(i=>{e(new Iw(N0(i),i))}):e(new Iw(N0(t),t))}),uU=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(lU(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function nh(t,e,r,n,i,a){return Wl(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,uU(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>cU(l,s,n))})})}function em(t,e,r,n){return Wl(this,void 0,void 0,function*(){return nh(t,"GET",e,r,n)})}function Ra(t,e,r,n,i){return Wl(this,void 0,void 0,function*(){return nh(t,"POST",e,n,i,r)})}function Rw(t,e,r,n,i){return Wl(this,void 0,void 0,function*(){return nh(t,"PUT",e,n,i,r)})}function dU(t,e,r,n){return Wl(this,void 0,void 0,function*(){return nh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xT(t,e,r,n,i){return Wl(this,void 0,void 0,function*(){return nh(t,"DELETE",e,n,i,r)})}var Hn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const fU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hU{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=bT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Hn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},gN),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?Rw:Ra)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gn(a))return{data:null,error:a};throw a}})}upload(e,r,n){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:gN.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Rw(this.fetch,s.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(gn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Hn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ra(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new J5("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Hn(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Hn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ra(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Hn(this,void 0,void 0,function*(){try{const i=yield Ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}})}download(e,r){return Hn(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const s=this._getFinalPath(e);return{data:yield(yield em(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gn(s))return{data:null,error:s};throw s}})}info(e){return Hn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield em(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}exists(e){return Hn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield dU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n)&&n instanceof Iw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield xT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Hn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},fU),r),{prefix:e||""});return{data:yield Ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}})}listV2(e,r){return Hn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const pU="2.12.1",mU={"X-Client-Info":`storage-js/${pU}`};var _c=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};class gU{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},mU),r),this.fetch=bT(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _c(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gn(e))return{data:null,error:e};throw e}})}getBucket(e){return _c(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _c(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _c(this,void 0,void 0,function*(){try{return{data:yield Rw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _c(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _c(this,void 0,void 0,function*(){try{return{data:yield xT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}}class vU extends gU{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new hU(this.url,this.headers,e,this.fetch)}}const yU="2.57.4";let Yd="";typeof Deno<"u"?Yd="deno":typeof document<"u"?Yd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yd="react-native":Yd="node";const bU={"X-Client-Info":`supabase-js-${Yd}/${yU}`},xU={headers:bU},wU={schema:"public"},_U={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SU={};var jU=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};const NU=t=>{let e;return t?e=t:typeof fetch>"u"?e=uT:e=fetch,(...r)=>e(...r)},AU=()=>typeof Headers>"u"?dT:Headers,PU=(t,e,r)=>{const n=NU(r),i=AU();return(a,o)=>jU(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var kU=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};function CU(t){return t.endsWith("/")?t:t+"/"}function OU(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kU(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function EU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wT="2.71.1",Bc=30*1e3,Mw=3,A0=Mw*Bc,TU="http://localhost:9999",IU="supabase.auth.token",LU={"X-Client-Info":`gotrue-js/${wT}`},Dw="X-Supabase-Api-Version",_T={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MU=600*1e3;class Z5 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ot(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class DU extends Z5{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $U(t){return Ot(t)&&t.name==="AuthApiError"}class ST extends Z5{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ts extends Z5{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class hs extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FU(t){return Ot(t)&&t.name==="AuthSessionMissingError"}class ap extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class op extends Ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sp extends Ts{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BU(t){return Ot(t)&&t.name==="AuthImplicitGrantRedirectError"}class vN extends Ts{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $w extends Ts{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function P0(t){return Ot(t)&&t.name==="AuthRetryableFetchError"}class yN extends Ts{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fw extends Ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bN=` 	
\r=`.split(""),qU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bN.length;e+=1)t[bN[e].charCodeAt(0)]=-2;for(let e=0;e<tm.length;e+=1)t[tm[e].charCodeAt(0)]=e;return t})();function xN(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(tm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(tm[n]),e.queuedBits-=6}}function jT(t,e,r){const n=qU[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wN(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{WU(o,n,r)};for(let o=0;o<t.length;o+=1)jT(t.charCodeAt(o),i,a);return e.join("")}function UU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zU(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}UU(n,e)}}function WU(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function HU(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)jT(t.charCodeAt(i),r,n);return new Uint8Array(e)}function VU(t){const e=[];return zU(t,r=>e.push(r)),new Uint8Array(e)}function GU(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>xN(i,r,n)),xN(null,r,n),e.join("")}function YU(t){return Math.round(Date.now()/1e3)+t}function KU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ia=()=>typeof window<"u"&&typeof document<"u",il={tested:!1,writable:!1},NT=()=>{if(!ia())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(il.tested)return il.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),il.tested=!0,il.writable=!0}catch{il.tested=!0,il.writable=!1}return il.writable};function XU(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const AT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ji(async()=>{const{default:n}=await Promise.resolve().then(()=>Uu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},JU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qc=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},al=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cs=async(t,e)=>{await t.removeItem(e)};class yg{constructor(){this.promise=new yg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}yg.promiseConstructor=Promise;function k0(t){const e=t.split(".");if(e.length!==3)throw new Fw("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!RU.test(e[n]))throw new Fw("JWT not in base64url format");return{header:JSON.parse(wN(e[0])),payload:JSON.parse(wN(e[1])),signature:HU(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function QU(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function ez(t){return("0"+t.toString(16)).substr(-2)}function tz(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ez).join("")}async function rz(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function nz(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rz(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sc(t,e,r=!1){const n=tz();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await qc(t,`${e}-code-verifier`,i);const a=await nz(n);return[a,n===a?"plain":"s256"]}const iz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function az(t){const e=t.headers.get(Dw);if(!e||!e.match(iz))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oz(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sz(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jc(t){if(!lz.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function C0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _N(t){return JSON.parse(JSON.stringify(t))}var cz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const dl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uz=[502,503,504];async function SN(t){var e;if(!JU(t))throw new $w(dl(t),0);if(uz.includes(t.status))throw new $w(dl(t),t.status);let r;try{r=await t.json()}catch(a){throw new ST(dl(a),a)}let n;const i=az(t);if(i&&i.getTime()>=_T["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yN(dl(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new hs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new yN(dl(r),t.status,r.weak_password.reasons);throw new DU(dl(r),t.status||500,n)}const dz=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ft(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Dw]||(a[Dw]=_T["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fz(t,e,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function fz(t,e,r,n,i,a){const o=dz(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new $w(dl(l),0)}if(s.ok||await SN(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await SN(l)}}function xo(t){var e;let r=null;gz(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=YU(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function jN(t){const e=xo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hz(t){return{data:t,error:null}}function pz(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=cz(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function mz(t){return t}function gz(t){return t.access_token&&t.refresh_token&&t.expires_in}const O0=["global","local","others"];var vz=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class yz{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=AT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=O0[0]){if(O0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${O0.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bs})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=vz(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bs})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:mz});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ot(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){jc(e);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bs})}catch(r){if(Ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){jc(e);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:bs})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){jc(e);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:bs})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){jc(e.userId);try{const{data:r,error:n}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _deleteFactor(e){jc(e.userId),jc(e.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}}function NN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function bz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nc={debug:!!(globalThis&&NT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xz extends PT{}async function wz(t,e,r){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xz(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bz();const _z={url:TU,storageKey:IU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function AN(t,e,r){return await r()}const Ac={};class mf{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mf.nextInstanceID,mf.nextInstanceID+=1,this.instanceID>0&&ia()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_z),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yz({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AT(i.fetch),this.lock=i.lock||AN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ia()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wz:this.lock=AN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:NT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NN(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=NN(this.memoryStorage)),ia()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Ac[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ac[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ac[this.storageKey]=Object.assign(Object.assign({},Ac[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=XU(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ia()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),BU(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ot(r)?{error:r}:{error:new ST("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xo}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Sc(this.storage,this.storageKey)),a=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},xform:xo})}else if("phone"in e){const{phone:d,password:f,options:p}=e;a=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:xo})}else throw new op("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jN})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jN})}else throw new op("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ap}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,o,s,l,u,d,f,p,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:b,statement:_,options:w}=e;let S;if(ia())if(typeof b=="object")S=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),_?{statement:_}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:v,error:b}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:GU(m)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xo});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ap}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(Ot(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await al(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:xo});if(await cs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ap}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ot(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xo}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ap}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sc(this.storage,this.storageKey));const{error:f}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new op("You must provide either an email or phone number.")}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:xo});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Sc(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:hz})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new hs;const{error:i}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ot(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await Ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new op("You must provide either an email or phone number and a type")}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<A0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await al(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=C0()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bs}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:bs})})}catch(r){if(Ot(r))return FU(r)&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new hs;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Sc(this.storage,this.storageKey));const{data:u,error:d}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:bs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hs;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=k0(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ot(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new hs;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ot(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ia())throw new sp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vN("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new sp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=Bc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=p-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(Ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await al(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!($U(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=KU(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Sc(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,u,d;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ia()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ot(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QU(async i=>(i>0&&await ZU(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&P0(a)&&Date.now()+o-n<Bc})}catch(n){if(this._debug(r,"error",n),Ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ia()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await al(this.storage,this.storageKey);if(i&&this.userStorage){let o=await al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await qc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:C0()}else if(i&&!i.user&&!i.user){const o=await al(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await cs(this.storage,this.storageKey+"-user"),await qc(this.storage,this.storageKey,i)):i.user=C0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<A0;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${A0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),P0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yg;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new hs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ot(a)){const o={session:null,error:a};return P0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=_N(i);await qc(this.storage,this.storageKey,a)}else{const i=_N(r);await qc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await cs(this.storage,this.storageKey),await cs(this.storage,this.storageKey+"-code-verifier"),await cs(this.storage,this.storageKey+"-user"),this.userStorage&&await cs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ia()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Bc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bc}ms, refresh threshold is ${Mw} ticks`),i<=Mw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof PT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ia()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Sc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=k0(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+MU>i)return n;const{data:a,error:o}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=k0(n);r!=null&&r.allowExpired||oz(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const d=sz(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,VU(`${s}.${l}`)))throw new Fw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}mf.nextInstanceID=0;const Sz=mf;class jz extends Sz{constructor(e){super(e)}}var Nz=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};class Az{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=EU(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:wU,realtime:SU,auth:Object.assign(Object.assign({},_U),{storageKey:l}),global:xU},d=OU(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=PU(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new qq(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new vU(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Eq(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Nz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jz({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new iU(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pz=(t,e,r)=>new Az(t,e,r);function kz(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cz="https://xsgumgcioyaehccvklbr.supabase.co",Oz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhzZ3VtZ2Npb3lhZWhjY3ZrbGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU4MDM2MTIsImV4cCI6MjA3MTM3OTYxMn0.WdjuHdpQglzzCvuEUWOdLl8Z94bK2FQhtJgS2Dlfs5Q",Re=Pz(Cz,Oz),Hl=async()=>{try{const{data:t,error:e}=await Re.rpc("is_admin");if(e)throw e;return t||!1}catch(t){return console.error("Error checking admin status:",t),!1}},kT=async t=>{try{let e=Re.from("products").select("*");t&&t!=="All"&&(e=e.eq("category",t));const{data:r,error:n}=await e;if(n)throw n;return r||[]}catch(e){return console.error("Error fetching products:",e),[]}},Q5=async t=>{try{const{data:e,error:r}=await Re.from("products").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){return console.error("Error fetching product:",e),null}},e_=async()=>{try{const{data:{user:t}}=await Re.auth.getUser();if(!t)return null;const{data:e,error:r}=await Re.from("cart").select("*").eq("user_id",t.id).single();if(r)throw r;const{data:n,error:i}=await Re.from("cart_items").select(`
        id,
        quantity,
        size,
        color,
        products (id, name, price, image_url, category)
      `).eq("cart_id",e.id);if(i)throw i;return{...e,items:n||[]}}catch(t){return console.error("Error fetching user cart:",t),null}},Bw=async(t,e,r,n=1)=>{try{const{data:{user:i}}=await Re.auth.getUser();if(!i)throw new Error("User not authenticated");const{data:a,error:o}=await Re.from("cart").select("id").eq("user_id",i.id).single();if(o)throw o;let s=Re.from("cart_items").select("id, quantity").eq("cart_id",a.id).eq("product_id",t);e?s=s.eq("size",e):s=s.is("size",null),r?s=s.eq("color",r):s=s.is("color",null);const{data:l,error:u}=await s.single();if(u&&u.code!=="PGRST116")throw u;if(l){const{error:d}=await Re.from("cart_items").update({quantity:l.quantity+n}).eq("id",l.id);if(d)throw d}else{const{error:d}=await Re.from("cart_items").insert({cart_id:a.id,product_id:t,size:e||null,color:r||null,quantity:n});if(d)throw d}return!0}catch(i){return console.error("Error adding to cart:",i),!1}},t_=async(t,e,r)=>{try{const{data:{user:n}}=await Re.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:i,error:a}=await Re.from("cart").select("id").eq("user_id",n.id).single();if(a)throw a;let o=Re.from("cart_items").select("id, quantity, size, color").eq("cart_id",i.id).eq("product_id",t);e?o=o.eq("size",e):o=o.is("size",null),r?o=o.eq("color",r):o=o.is("color",null);const{data:s,error:l}=await o.single();if(l&&l.code!=="PGRST116")throw l;return s}catch(n){return console.error("Error finding cart item:",n),null}},CT=async(t,e,r)=>{try{const n=await t_(t,e,r);if(!n)return!1;const{error:i}=await Re.from("cart_items").delete().eq("id",n.id);if(i)throw i;return!0}catch(n){return console.error("Error removing cart item:",n),!1}},Ez=async(t,e,r,n)=>{try{const i=await t_(t,r,n);if(!i)return!1;if(e<=0)return await CT(t,r,n);{const{error:a}=await Re.from("cart_items").update({quantity:e}).eq("id",i.id);if(a)throw a;return!0}}catch(i){return console.error("Error updating cart item by variant:",i),!1}},OT=async t=>{try{const{data:{user:e}}=await Re.auth.getUser();if(!e)throw new Error("User not authenticated");const r=await e_();if(!r||!r.items||r.items.length===0)throw new Error("Cart is empty");const{data:n,error:i}=await Re.rpc("create_order_from_cart",{p_user_id:e.id,p_shipping_address:t});if(i)throw i;return n}catch(e){return console.error("Error creating order:",e),null}},ET=async(t,e,r,n=!1,i)=>{var a;try{let o=null;if(n&&i){const{data:p,error:h}=await Re.auth.signUp({email:r.email,password:i,options:{data:{name:`${r.firstName} ${r.lastName}`,phone:r.phone}}});h?console.warn("Account creation failed, proceeding as guest:",h):o=(a=p.user)==null?void 0:a.id}const s={user_id:o,status:"pending",total_amount:t.reduce((p,h)=>p+h.product.price*h.quantity,0),shipping_address:e,customer_email:r.email,customer_name:`${r.firstName} ${r.lastName}`,customer_phone:r.phone},{data:l,error:u}=await Re.from("orders").insert(s).select().single();if(u)throw u;const d=t.map(p=>({order_id:l.id,product_id:p.productId,quantity:p.quantity,price_at_purchase:p.product.price})),{error:f}=await Re.from("order_items").insert(d);if(f)throw f;return l.id}catch(o){return console.error("Error creating guest order:",o),null}},TT=async()=>{try{const{data:{user:t}}=await Re.auth.getUser();if(!t)return[];const{data:e,error:r}=await Re.from("orders").select(`
        id,
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching user orders:",t),[]}},IT=async()=>{try{if(!await Hl())throw new Error("Unauthorized");const{data:e,error:r}=await Re.from("orders").select(`
        id,
        user_id,
        users (id, email, name),
        status,
        total_amount,
        shipping_address,
        created_at,
        order_items (id, product_id, quantity, price_at_purchase, products (id, name, image_url))
      `).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(t){return console.error("Error fetching all orders:",t),[]}},LT=async(t,e)=>{try{if(!await Hl())throw new Error("Unauthorized");const{error:n}=await Re.from("orders").update({status:e}).eq("id",t);if(n)throw n;return!0}catch(r){return console.error("Error updating order status:",r),!1}},RT=async t=>{try{if(!await Hl())throw new Error("Unauthorized");const{data:r,error:n}=await Re.from("products").insert(t).select().single();if(n)throw n;return r}catch(e){return console.error("Error creating product:",e),null}},Fp=async(t,e)=>{try{if(!await Hl())throw new Error("Unauthorized");const{data:n,error:i}=await Re.from("products").update(e).eq("id",t).select().single();if(i)throw i;return n}catch(r){return console.error("Error updating product:",r),null}},MT=async t=>{try{if(!await Hl())throw new Error("Unauthorized");const r=await Q5(t);if(!r)throw new Error("Product not found");if(r.images&&Array.isArray(r.images)&&r.images.length>0){const i=r.images.map(async a=>{try{const{default:o}=await ji(async()=>{const{default:s}=await Promise.resolve().then(()=>r0e);return{default:s}},void 0);await o.deleteImage(a)}catch(o){console.warn(`Failed to delete image ${a}:`,o)}});await Promise.all(i)}const{error:n}=await Re.from("products").delete().eq("id",t);if(n)throw n;return!0}catch(e){return console.error("Error deleting product:",e),!1}},DT=async(t,e)=>{try{const{data:r,error:n}=await Re.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r}catch(r){return console.error("Error updating user profile:",r),null}},$T=async t=>{try{const{data:e,error:r}=await Re.auth.updateUser({password:t});if(r)throw r;return e}catch(e){return console.error("Error updating user password:",e),null}},FT=async()=>{try{const{data:t,error:e}=await Re.from("orders").select("total_amount");if(e)throw e;return(t==null?void 0:t.reduce((n,i)=>n+(i.total_amount||0),0))||0}catch(t){return console.error("Error fetching total revenue:",t),0}},BT=async()=>{try{const{count:t,error:e}=await Re.from("orders").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total orders:",t),0}},qT=async()=>{try{const{count:t,error:e}=await Re.from("users").select("*",{count:"exact",head:!0});if(e)throw e;return t||0}catch(t){return console.error("Error fetching total users:",t),0}},UT=async(t,e)=>{try{const{data:r,error:n}=await Re.from("orders").select(`
        created_at,
        total_amount
      `).gte("created_at",t).lte("created_at",e);if(n)throw n;const i={};return(r||[]).forEach(o=>{const s=new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short"});i[s]||(i[s]={sales:0,orders:0}),i[s].sales+=o.total_amount,i[s].orders+=1}),Object.entries(i).map(([o,s])=>({month:o,sales:s.sales,orders_count:s.orders}))}catch(r){return console.error("Error fetching sales data:",r),[]}},zT=async()=>{try{const{data:t,error:e}=await Re.from("products").select("category");if(e)throw e;const r={};(t||[]).forEach(a=>{const o=a.category||"Uncategorized";r[o]=(r[o]||0)+1});const n=Object.values(r).reduce((a,o)=>a+o,0);return Object.entries(r).map(([a,o])=>({category_name:a,product_count:o,percentage:Math.round(o/n*100*100)/100}))}catch(t){return console.error("Error fetching category distribution:",t),[]}},WT=async(t=10)=>{try{const{data:e,error:r}=await Re.from("orders").select(`
        id,
        total_amount,
        status,
        created_at,
        users!inner (
          email,
          name
        )
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return(e==null?void 0:e.map(i=>{var a,o;return{order_id:i.id,customer_email:((a=i.users)==null?void 0:a.email)||"N/A",customer_name:((o=i.users)==null?void 0:o.name)||"N/A",amount:i.total_amount,status:i.status,order_date:i.created_at}}))||[]}catch(e){return console.error("Error fetching recent orders:",e),[]}},HT=async(t=30)=>{try{const e=new Date,r=new Date(e.getTime()-t*24*60*60*1e3),n=new Date(e.getTime()-t*2*24*60*60*1e3),i=new Date(e.getTime()-t*24*60*60*1e3),{data:a,error:o}=await Re.from("orders").select("total_amount").gte("created_at",r.toISOString());if(o)throw o;const s=(a==null?void 0:a.reduce((p,h)=>p+(h.total_amount||0),0))||0,{data:l,error:u}=await Re.from("orders").select("total_amount").gte("created_at",n.toISOString()).lt("created_at",i.toISOString());if(u)throw u;const d=(l==null?void 0:l.reduce((p,h)=>p+(h.total_amount||0),0))||0,f=d===0?s>0?100:0:Math.round((s-d)/d*100*100)/100;return{current_period_revenue:s,previous_period_revenue:d,growth_percentage:f}}catch(e){return console.error("Error fetching revenue growth:",e),{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}},lp=Object.freeze(Object.defineProperty({__proto__:null,addToCart:Bw,createGuestOrder:ET,createOrderFromCart:OT,createProduct:RT,deleteProduct:MT,findCartItem:t_,getAllOrders:IT,getCategoryDistribution:zT,getProduct:Q5,getProducts:kT,getRecentOrders:WT,getRevenueGrowth:HT,getSalesData:UT,getTotalOrders:BT,getTotalRevenue:FT,getTotalUsers:qT,getUserCart:e_,getUserOrders:TT,isAdmin:Hl,removeCartItem:CT,supabase:Re,updateCartItemByVariant:Ez,updateOrderStatus:LT,updateProduct:Fp,updateUserPassword:$T,updateUserProfile:DT},Symbol.toStringTag,{value:"Module"})),VT=N.createContext(void 0),Tz=({children:t})=>{const[e,r]=N.useState([]),[n,i]=N.useState(!0),[a,o]=N.useState(null),s=async u=>{try{i(!0),o(null);const f=(await kT(u)).map(p=>{let h=[];return p.images&&Array.isArray(p.images)&&p.images.length>0?h=p.images.filter(g=>g&&typeof g=="string"&&g.trim()!==""):p.image_url&&typeof p.image_url=="string"&&p.image_url.trim()!==""?p.image_url.startsWith("/images/")?h=[`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${p.image_url}`]:p.image_url.startsWith("http")?h=[p.image_url]:h=[`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${p.image_url}`]:h=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="],{id:p.id,name:p.name,category:p.category,price:p.price,originalPrice:p.original_price||void 0,images:h,sizes:p.sizes||["S","M","L"],colors:p.colors||["Black","White"],description:p.description||"",reviews:[],rating:4.5,inStock:p.in_stock??!0}});r(f)}catch(d){console.error("Error fetching products:",d),o("Failed to load products")}finally{i(!1)}},l=async u=>{try{i(!0),o(null);const d=await Q5(u);if(!d)return null;let f=[];return d.images&&Array.isArray(d.images)&&d.images.length>0?f=d.images.filter(h=>h&&typeof h=="string"&&h.trim()!==""):d.image_url&&typeof d.image_url=="string"&&d.image_url.trim()!==""?d.image_url.startsWith("/images/")?f=[`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images${d.image_url}`]:d.image_url.startsWith("http")?f=[d.image_url]:f=[`https://xsgumgcioyaehccvklbr.supabase.co/storage/v1/object/public/product-images/${d.image_url}`]:f=["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo="],{id:d.id,name:d.name,category:d.category,price:d.price,images:f,sizes:d.sizes||["S","M","L"],colors:d.colors||["Black","White"],description:d.description||"",reviews:[],rating:4.5,inStock:d.in_stock??!0,originalPrice:d.original_price||void 0}}catch(d){return console.error("Error fetching product:",d),o("Failed to load product"),null}finally{i(!1)}};return N.useEffect(()=>{s()},[]),c.jsx(VT.Provider,{value:{products:e,loading:n,error:a,fetchProducts:s,fetchProduct:l},children:t})},bg=()=>{const t=N.useContext(VT);if(t===void 0)throw new Error("useProducts must be used within a ProductProvider");return t},GT=N.createContext(void 0),Iz=({children:t})=>{const[e,r]=N.useState(null),[n,i]=N.useState(!0),[a,o]=N.useState(null),[s,l]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState(!1),h=N.useRef(!1),g=N.useRef(!1),m=N.useCallback(async()=>{var C,k;if(h.current){console.log("fetchUser: Already fetching, skipping...");return}console.log("fetchUser: Starting"),h.current=!0;try{i(!0),o(null),console.log("fetchUser: Getting auth user from Supabase");const{data:{user:E}}=await Re.auth.getUser();console.log("fetchUser: Checking admin status");const T=await Hl();if(console.log(`fetchUser: Admin status is ${T}`),E){console.log(`fetchUser: Auth user found with ID: ${E.id}`),d(E.email_confirmed_at!==null),console.log('fetchUser: Fetching user profile from "users" table');const{data:I,error:A}=await Re.from("users").select("*").eq("id",E.id).single();if(A&&A.code!=="PGRST116")throw console.error("fetchUser: Error fetching user profile:",A),A;console.log("fetchUser: User profile data:",I);const L={id:E.id,email:E.email??"",name:(I==null?void 0:I.name)??((C=E.user_metadata)==null?void 0:C.name)??"New User",phone:(I==null?void 0:I.phone)??((k=E.user_metadata)==null?void 0:k.phone)??void 0,membershipTier:"Bronze",points:0,created_at:I==null?void 0:I.created_at,preferences:{sizes:[],colors:[],styles:[]}};console.log("fetchUser: User state transformed and ready to be set:",L),r(L),l(T)}else console.log("fetchUser: No auth user found. Clearing user state."),r(null),l(!1),d(!1)}catch(E){console.error("Error in fetchUser:",E),o(E.message||"Failed to load user data"),r(null),l(!1)}finally{console.log("fetchUser: Finished"),i(!1),h.current=!1}},[]),v=async(C,k)=>{console.log("signIn: Starting"),i(!0),o(null);try{console.log("signIn: Calling Supabase signInWithPassword");const{data:E,error:T}=await Re.auth.signInWithPassword({email:C,password:k});if(console.log("signIn: Supabase call returned."),console.log("signIn: Data:",E),console.log("signIn: Error:",T),T)throw console.error("signIn: Supabase auth error:",T),T;return console.log("signIn: Supabase sign-in appears successful. Waiting for auth state change."),!0}catch(E){return console.error("Error in signIn:",E),o(E.message||"Failed to sign in"),!1}finally{console.log("signIn: Finished"),i(!1)}},b=async(C,k,E)=>{try{i(!0),o(null);const{error:T}=await Re.auth.signUp({email:C,password:k,options:{data:{name:E}}});if(T)throw T;return!0}catch(T){return console.error("Error signing up:",T),o(T.message||"Failed to sign up"),!1}finally{i(!1)}},_=async()=>{console.log("signOut: Starting logout process"),g.current=!0;try{i(!0),console.log("signOut: Calling supabase.auth.signOut()");const{error:C}=await Re.auth.signOut();if(C)throw console.error("signOut: Supabase sign out error:",C),C;console.log("signOut: Supabase sign out successful"),console.log("signOut: Clearing local state"),r(null),l(!1),console.log("signOut: Local state cleared")}catch(C){console.error("signOut: Error during logout:",C),o("Failed to sign out")}finally{console.log("signOut: Setting loading to false"),i(!1)}},w=async C=>{try{i(!0),o(null);const{error:k}=await Re.auth.resetPasswordForEmail(C);if(k)throw k;return!0}catch(k){return console.error("Error resetting password:",k),o(k.message||"Failed to reset password"),!1}finally{i(!1)}},S=async()=>{try{o(null),p(!0);const{data:{user:C}}=await Re.auth.getUser();if(!C)throw new Error("User not found");const{error:k}=await Re.auth.resend({type:"signup",email:C.email});if(k)throw k;return!0}catch(C){return console.error("Error resending verification:",C),o(C.message||"Failed to resend verification email"),!1}finally{p(!1)}},j=async()=>{try{const{data:{user:C}}=await Re.auth.getUser();C&&d(C.email_confirmed_at!==null)}catch(C){console.error("Error checking verification status:",C)}};return N.useEffect(()=>{console.log("AuthContext: Component mounted, resetting logout flag"),g.current=!1},[]),N.useEffect(()=>{console.log("AuthContext: Setting up auth state listener");const{data:{subscription:C}}=Re.auth.onAuthStateChange(async(k,E)=>{if(console.log("AuthContext: Auth state changed:",k,E?"Session exists":"No session"),g.current&&k==="SIGNED_OUT"){console.log("AuthContext: Skipping fetchUser during logout process");return}await m()});return m(),()=>{console.log("AuthContext: Unsubscribing from auth state listener"),C.unsubscribe()}},[m]),c.jsx(GT.Provider,{value:{user:e,loading:n,error:a,isAdmin:s,isEmailVerified:u,pendingVerification:f,signIn:v,signUp:b,signOut:_,resetPassword:w,resendVerification:S,checkVerificationStatus:j},children:t})},Ci=()=>{const t=N.useContext(GT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Is(){return c.jsx("div",{className:"h-24 w-full"})}const YT=N.createContext(void 0),Lz=({children:t})=>{const[e,r]=N.useState([]),[n,i]=N.useState(!0),[a,o]=N.useState(null),{user:s}=Ci(),l="rosemama_guest_cart",u=!s,d=()=>{try{const w=localStorage.getItem(l);if(w){const S=JSON.parse(w);r(S)}else r([])}catch(w){console.error("Error loading guest cart:",w),r([])}},f=w=>{try{localStorage.setItem(l,JSON.stringify(w))}catch(S){console.error("Error saving guest cart:",S)}},p=async()=>{if(s&&e.length>0)try{for(const w of e)await Bw(w.productId,w.size,w.color,w.quantity);localStorage.removeItem(l),await h()}catch(w){console.error("Error merging guest cart:",w)}},h=async()=>{try{i(!0),o(null);const w=await e_();if(!w){r([]);return}const S=w.items.map(j=>({productId:j.products.id,product:{id:j.products.id,name:j.products.name,category:j.products.category,price:j.products.price,images:j.products.image_url?[j.products.image_url]:[],sizes:["S","M","L"],colors:["Black","White"],description:"",reviews:[],rating:4.5,inStock:!0},size:j.size||"M",color:j.color||"Black",quantity:j.quantity}));r(S)}catch(w){console.error("Error fetching cart:",w),o("Failed to load cart")}finally{i(!1)}},g=async(w,S,j,C)=>{try{if(i(!0),o(null),u){const k={productId:w.id,product:w,size:S,color:j,quantity:C},E=[...e],T=E.findIndex(I=>I.productId===w.id&&I.size===S&&I.color===j);return T>=0?E[T].quantity+=C:E.push(k),r(E),f(E),!0}else{const k=await Bw(w.id,S,j,C);return k&&await h(),k}}catch(k){return console.error("Error adding to cart:",k),o("Failed to add item to cart"),!1}finally{i(!1)}},m=async w=>{try{console.log("CartContext removeItem called:",{cartItemId:w,isGuestCart:u}),i(!0),o(null);const{supabase:S}=await ji(async()=>{const{supabase:k}=await Promise.resolve().then(()=>lp);return{supabase:k}},void 0),{data:{session:j}}=await S.auth.getSession(),C=j&&j.user;if(console.log("Session check:",{hasValidSession:C,sessionExists:!!j,userExists:!!(j!=null&&j.user)}),C){const[k,E,T]=w.split("|");console.log("Removing from authenticated cart:",{productId:k,size:E,color:T});const{removeCartItem:I}=await ji(async()=>{const{removeCartItem:L}=await Promise.resolve().then(()=>lp);return{removeCartItem:L}},void 0),A=await I(k,E,T);return A&&await h(),A}else{const[k,E,T]=w.split("|");console.log("Removing from guest cart (no valid session):",{productId:k,size:E,color:T}),console.log("Current items before filter:",e);const I=e.filter(A=>!(A.productId===k&&A.size===E&&A.color===T));return console.log("Updated items after filter:",I),r(I),f(I),!0}}catch(S){return console.error("Error removing from cart:",S),o("Failed to remove item from cart"),!1}finally{i(!1)}},v=async(w,S)=>{try{console.log("CartContext updateItemQuantity called:",{cartItemId:w,quantity:S,isGuestCart:u}),i(!0),o(null);const{supabase:j}=await ji(async()=>{const{supabase:E}=await Promise.resolve().then(()=>lp);return{supabase:E}},void 0),{data:{session:C}}=await j.auth.getSession(),k=C&&C.user;if(console.log("Session check for update:",{hasValidSession:k,sessionExists:!!C,userExists:!!(C!=null&&C.user)}),k){const[E,T,I]=w.split("|");console.log("Updating authenticated cart item:",{productId:E,size:T,color:I,quantity:S});const{updateCartItemByVariant:A}=await ji(async()=>{const{updateCartItemByVariant:D}=await Promise.resolve().then(()=>lp);return{updateCartItemByVariant:D}},void 0),L=await A(E,S,T,I);return L&&await h(),L}else{const[E,T,I]=w.split("|");console.log("Updating guest cart item:",{productId:E,size:T,color:I,quantity:S}),console.log("Current items before update:",e);const A=e.map(L=>L.productId===E&&L.size===T&&L.color===I?{...L,quantity:S}:L);return console.log("Updated items after update:",A),r(A),f(A),!0}}catch(j){return console.error("Error updating cart quantity:",j),o("Failed to update cart"),!1}finally{i(!1)}},b=()=>e.reduce((w,S)=>w+S.quantity,0),_=()=>e.reduce((w,S)=>w+S.product.price*S.quantity,0);return N.useEffect(()=>{(async()=>{s?await h():(d(),i(!1))})()},[s]),N.useEffect(()=>{s&&e.length>0&&localStorage.getItem(l)&&p()},[s]),c.jsx(YT.Provider,{value:{items:e,loading:n,error:a,addItem:g,removeItem:m,updateItemQuantity:v,getTotalItems:b,getTotalPrice:_,isGuestCart:u,mergeGuestCartOnLogin:p,fetchCart:h},children:t})},ih=()=>{const t=N.useContext(YT);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t};function KT({onViewProduct:t,onNavigateToCategory:e}){const{products:r}=bg(),{user:n}=Ci(),{addItem:i}=ih(),[a,o]=N.useState(new Set);console.log(" Home Component Debug:",{totalProducts:r.length,featuredProductsCount:r.slice(0,4).length,saleProductsCount:r.filter(g=>g.originalPrice&&g.price<g.originalPrice).length,userLoggedIn:!!n,likedProductsCount:a.size});const s=[{name:"Dresses",icon:"",color:"bg-pink-100 dark:bg-pink-900/30"},{name:"Casual",icon:"",color:"bg-blue-100 dark:bg-blue-900/30"},{name:"Shoes",icon:"",color:"bg-purple-100 dark:bg-purple-900/30"},{name:"Outwear",icon:"",color:"bg-orange-100 dark:bg-orange-900/30"},{name:"Party",icon:"",color:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Accessories",icon:"",color:"bg-green-100 dark:bg-green-900/30"}],l=r.slice(0,4),u=r.filter(g=>g.originalPrice).slice(0,3),d=async g=>{try{console.log(" Home: Adding product to cart:",g.id,g.name),await i(g,"M","Default",1)?console.log(" Home: Product added to cart successfully"):console.error(" Home: Failed to add product to cart")}catch(m){console.error(" Home: Error adding product to cart:",m)}},f=g=>{console.log(" Home: Viewing product details:",g.id,g.name),t(g)},p=g=>{console.log(" Home: Toggling wishlist for product:",g.id,g.name),o(m=>{const v=new Set(m);return v.has(g.id)?(v.delete(g.id),console.log(" Home: Removed from wishlist")):(v.add(g.id),console.log(" Home: Added to wishlist")),v})},h=()=>{const g=new Date().getHours(),m=g<12?"Good morning":g<17?"Good afternoon":"Good evening";return n?`${m}, ${n.name.split(" ")[0]}! `:`${m}! Welcome to Rosemama`};return c.jsxs("div",{className:"space-y-8 pb-24",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 to-secondary/10 dark:from-primary/10 dark:to-secondary/20 px-6 py-16 rounded-b-3xl overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-dots-pattern opacity-50"}),c.jsxs("div",{className:"container mx-auto text-center space-y-4 relative",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[c.jsx(oT,{className:"h-6 w-6 text-primary animate-pulse"}),c.jsx("span",{className:"text-sm font-medium text-primary bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-full",children:n?"Personalized for You":"Latest Collection"})]}),c.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:h()}),c.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto text-lg leading-relaxed",children:n?"Your fashion journey awaits with personalized recommendations tailored just for you.":"Explore our curated collection of premium fashion pieces. Sign in to unlock exclusive rewards and personalized recommendations!"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[c.jsxs(we,{onClick:()=>e("All"),size:"lg",className:"group transform hover:scale-105 transition-all duration-300",children:[c.jsx("span",{className:"mr-2",children:"Shop Collection"}),c.jsx(Jp,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),n&&c.jsxs(we,{variant:"outline",size:"lg",onClick:()=>e("Sale"),className:"group transform hover:scale-105 transition-all duration-300",children:[c.jsx("span",{className:"mr-2",children:"View Offers"}),c.jsx(Pw,{className:"h-4 w-4 group-hover:rotate-12 transition-transform"})]})]})]})]}),c.jsxs("div",{className:"px-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Shop by Category"}),c.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:s.map(g=>c.jsxs(we,{variant:"ghost",className:"h-auto p-4 flex-col gap-2 hover:scale-105 transition-transform dark:hover:bg-accent/50",onClick:()=>e(g.name),children:[c.jsx("div",{className:`w-12 h-12 rounded-full ${g.color} flex items-center justify-center text-xl dark:text-foreground`,children:g.icon}),c.jsx("span",{className:"text-xs text-foreground",children:g.name})]},g.name))})]}),c.jsxs("div",{className:"px-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Pw,{className:"h-5 w-5 text-primary"}),c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n?"Recommended for You":"Featured Products"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(g=>{var m,v;return console.log(" Home: Rendering featured product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),c.jsxs("div",{className:"h-[480px]",children:[" ",c.jsx(kw,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})})]}),u.length>0&&c.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-gradient-to-r from-destructive/10 to-orange-100 dark:from-destructive/20 dark:to-orange-900/30 rounded-2xl p-4 md:p-6 lg:p-8 mt-6 md:mt-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-2xl animate-bounce",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg md:text-xl font-semibold text-destructive dark:text-destructive-foreground",children:" Flash Sale"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:" Limited time offers! Ends soon."})]})]}),c.jsx(we,{variant:"outline",size:"sm",onClick:()=>{console.log(" Home: View All Flash Sale clicked"),e("All")},className:"dark:border-border dark:hover:bg-accent",children:"View All"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:u.map(g=>{var m,v;return console.log(" Home: Rendering flash sale product:",{id:g.id,name:g.name,price:g.price,originalPrice:g.originalPrice,category:g.category,imageCount:((m=g.images)==null?void 0:m.length)||0,rating:g.rating,reviewCount:((v=g.reviews)==null?void 0:v.length)||0}),c.jsxs("div",{className:"h-[480px]",children:[" ",c.jsx(kw,{product:g,layout:"enhanced",showQuickActions:!0,onAddToCart:d,onViewDetails:f,onToggleWishlist:p,className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300"})]},g.id)})}),c.jsx("div",{className:"border-t border-border/50 pt-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),c.jsx("span",{children:"Up to 70% OFF"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),c.jsx("span",{children:"Limited Stock"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full animate-pulse"}),c.jsx("span",{children:"Sale ends in 2 days"})]})]})})]})}),c.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"Why Shop at Rosemama?"}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Discover what makes us your premier fashion destination"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Free Shipping"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Free delivery on Orders over R3500"})]}),c.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Secure Payments"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"100% secure checkout protected"})]}),c.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Curated Collections"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Exclusive fashion pieces selected just for you"})]}),c.jsxs("div",{className:"text-center bg-secondary/30 dark:bg-secondary/10 rounded-xl p-4 md:p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Premium Quality"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"curated fashion"})]})]})]}),c.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10 rounded-2xl p-4 md:p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-foreground mb-2",children:"What Our Customers Say"}),c.jsx("p",{className:"text-muted-foreground",children:"Real reviews from satisfied fashion lovers"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"text-center p-4 bg-white/50 dark:bg-card/50 rounded-xl",children:[c.jsx("div",{className:"flex justify-center mb-3",children:[...Array(5)].map((g,m)=>c.jsx(Ui,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),c.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:'"Amazing quality and fast delivery! My favorite online fashion store."'}),c.jsx("p",{className:"font-semibold text-foreground",children:"- Sarah M."})]}),c.jsxs("div",{className:"text-center p-4 bg-white/50 dark:bg-card/50 rounded-xl",children:[c.jsx("div",{className:"flex justify-center mb-3",children:[...Array(5)].map((g,m)=>c.jsx(Ui,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),c.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:'"Great variety and the flash sales are incredible value!"'}),c.jsx("p",{className:"font-semibold text-foreground",children:"- John D."})]}),c.jsxs("div",{className:"text-center p-4 bg-white/50 dark:bg-card/50 rounded-xl",children:[c.jsx("div",{className:"flex justify-center mb-3",children:[...Array(5)].map((g,m)=>c.jsx(Ui,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),c.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:'"Love the personalized recommendations and Curated Collections."'}),c.jsx("p",{className:"font-semibold text-foreground",children:"- Lisa K."})]})]})]})}),c.jsx("div",{className:"px-4 md:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center bg-gradient-to-r from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8",children:[c.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-3",children:"Join Our Fashion Community"}),c.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"Get exclusive access to flash sales, new arrivals, and personalized recommendations"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!n&&c.jsx(we,{size:"lg",onClick:()=>{},className:"group",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:"Sign In to Get Started"}),c.jsx(Jp,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})}),c.jsx(we,{variant:"outline",size:"lg",onClick:()=>e("All"),children:"Continue Shopping"})]})]})}),c.jsx(Is,{})]})}function Ge({className:t,...e}){return c.jsx("div",{"data-slot":"card",className:qe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Bt({className:t,...e}){return c.jsx("div",{"data-slot":"card-header",className:qe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function qt({className:t,...e}){return c.jsx("h4",{"data-slot":"card-title",className:qe("leading-none",t),...e})}function PN({className:t,...e}){return c.jsx("p",{"data-slot":"card-description",className:qe("text-muted-foreground",t),...e})}function Ye({className:t,...e}){return c.jsx("div",{"data-slot":"card-content",className:qe("px-6 [&:last-child]:pb-6",t),...e})}const Rz=M5("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Wt({className:t,variant:e,asChild:r=!1,...n}){const i=r?M6:"span";return c.jsx(i,{"data-slot":"badge",className:qe(Rz({variant:e}),t),...n})}var Mz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=Mz.reduce((t,e)=>{const r=Cl(`Primitive.${e}`),n=N.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Dz(t,e){t&&hg.flushSync(()=>t.dispatchEvent(e))}var $z="Separator",kN="horizontal",Fz=["horizontal","vertical"],XT=N.forwardRef((t,e)=>{const{decorative:r,orientation:n=kN,...i}=t,a=Bz(n)?n:kN,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(ct.div,{"data-orientation":a,...s,...i,ref:e})});XT.displayName=$z;function Bz(t){return Fz.includes(t)}var qz=XT;function Kn({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return c.jsx(qz,{"data-slot":"separator-root",decorative:r,orientation:e,className:qe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function Uz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const zz=t=>{switch(t){case"success":return Vz;case"info":return Yz;case"warning":return Gz;case"error":return Kz;default:return null}},Wz=Array(12).fill(0),Hz=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},Wz.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Vz=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gz=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Yz=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Kz=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xz=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Jz=()=>{const[t,e]=K.useState(document.hidden);return K.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let qw=1;class Zz{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:qw++,o=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=n!==void 0,o;const s=i.then(async u=>{if(o=["resolve",u],K.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(eW(u)&&!u.ok){a=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(u instanceof Error){a=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...g})}else if(r.success!==void 0){a=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!K.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...g})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,h=typeof d=="object"&&!K.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...h})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>s.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||qw++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ai=new Zz,Qz=(t,e)=>{const r=(e==null?void 0:e.id)||qw++;return ai.addToast({title:t,...e,id:r}),r},eW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tW=Qz,rW=()=>ai.toasts,nW=()=>ai.getActiveToasts(),Ce=Object.assign(tW,{success:ai.success,info:ai.info,warning:ai.warning,error:ai.error,custom:ai.custom,message:ai.message,promise:ai.promise,dismiss:ai.dismiss,loading:ai.loading},{getHistory:rW,getToasts:nW});Uz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function cp(t){return t.label!==void 0}const iW=3,aW="24px",oW="16px",CN=4e3,sW=356,lW=14,cW=45,uW=200;function Ta(...t){return t.filter(Boolean).join(" ")}function dW(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const fW=t=>{var e,r,n,i,a,o,s,l,u;const{invert:d,toast:f,unstyled:p,interacting:h,setHeights:g,visibleToasts:m,heights:v,index:b,toasts:_,expanded:w,removeToast:S,defaultRichColors:j,closeButton:C,style:k,cancelButtonStyle:E,actionButtonStyle:T,className:I="",descriptionClassName:A="",duration:L,position:D,gap:F,expandByDefault:X,classNames:Y,icons:V,closeButtonAriaLabel:$="Close toast"}=t,[ie,re]=K.useState(null),[se,M]=K.useState(null),[U,z]=K.useState(!1),[Z,le]=K.useState(!1),[oe,de]=K.useState(!1),[ae,he]=K.useState(!1),[ge,ue]=K.useState(!1),[ke,me]=K.useState(0),[Q,We]=K.useState(0),Fe=K.useRef(f.duration||L||CN),Ue=K.useRef(null),Pe=K.useRef(null),Qe=b===0,Le=b+1<=m,Ke=f.type,He=f.dismissible!==!1,Ut=f.className||"",mt=f.descriptionClassName||"",gt=K.useMemo(()=>v.findIndex($e=>$e.toastId===f.id)||0,[v,f.id]),er=K.useMemo(()=>{var $e;return($e=f.closeButton)!=null?$e:C},[f.closeButton,C]),jt=K.useMemo(()=>f.duration||L||CN,[f.duration,L]),it=K.useRef(0),ut=K.useRef(0),ot=K.useRef(0),Vt=K.useRef(null),[Gt,nt]=D.split("-"),_t=K.useMemo(()=>v.reduce(($e,vr,Yt)=>Yt>=gt?$e:$e+vr.height,0),[v,gt]),tr=Jz(),ft=f.invert||d,Rt=Ke==="loading";ut.current=K.useMemo(()=>gt*F+_t,[gt,_t]),K.useEffect(()=>{Fe.current=jt},[jt]),K.useEffect(()=>{z(!0)},[]),K.useEffect(()=>{const $e=Pe.current;if($e){const vr=$e.getBoundingClientRect().height;return We(vr),g(Yt=>[{toastId:f.id,height:vr,position:f.position},...Yt]),()=>g(Yt=>Yt.filter(Dr=>Dr.toastId!==f.id))}},[g,f.id]),K.useLayoutEffect(()=>{if(!U)return;const $e=Pe.current,vr=$e.style.height;$e.style.height="auto";const Yt=$e.getBoundingClientRect().height;$e.style.height=vr,We(Yt),g(Dr=>Dr.find(Be=>Be.toastId===f.id)?Dr.map(Be=>Be.toastId===f.id?{...Be,height:Yt}:Be):[{toastId:f.id,height:Yt,position:f.position},...Dr])},[U,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const ht=K.useCallback(()=>{le(!0),me(ut.current),g($e=>$e.filter(vr=>vr.toastId!==f.id)),setTimeout(()=>{S(f)},uW)},[f,S,g,ut]);K.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let $e;return w||h||tr?(()=>{if(ot.current<it.current){const Dr=new Date().getTime()-it.current;Fe.current=Fe.current-Dr}ot.current=new Date().getTime()})():(()=>{Fe.current!==1/0&&(it.current=new Date().getTime(),$e=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ht()},Fe.current))})(),()=>clearTimeout($e)},[w,h,f,Ke,tr,ht]),K.useEffect(()=>{f.delete&&(ht(),f.onDismiss==null||f.onDismiss.call(f,f))},[ht,f.delete]);function Mr(){var $e;if(V!=null&&V.loading){var vr;return K.createElement("div",{className:Ta(Y==null?void 0:Y.loader,f==null||(vr=f.classNames)==null?void 0:vr.loader,"sonner-loader"),"data-visible":Ke==="loading"},V.loading)}return K.createElement(Hz,{className:Ta(Y==null?void 0:Y.loader,f==null||($e=f.classNames)==null?void 0:$e.loader),visible:Ke==="loading"})}const Wr=f.icon||(V==null?void 0:V[Ke])||zz(Ke);var rr,vt;return K.createElement("li",{tabIndex:0,ref:Pe,className:Ta(I,Ut,Y==null?void 0:Y.toast,f==null||(e=f.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[Ke],f==null||(r=f.classNames)==null?void 0:r[Ke]),"data-sonner-toast":"","data-rich-colors":(rr=f.richColors)!=null?rr:j,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":U,"data-promise":!!f.promise,"data-swiped":ge,"data-removed":Z,"data-visible":Le,"data-y-position":Gt,"data-x-position":nt,"data-index":b,"data-front":Qe,"data-swiping":oe,"data-dismissible":He,"data-type":Ke,"data-invert":ft,"data-swipe-out":ae,"data-swipe-direction":se,"data-expanded":!!(w||X&&U),"data-testid":f.testId,style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Z?ke:ut.current}px`,"--initial-height":X?"auto":`${Q}px`,...k,...f.style},onDragEnd:()=>{de(!1),re(null),Vt.current=null},onPointerDown:$e=>{$e.button!==2&&(Rt||!He||(Ue.current=new Date,me(ut.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(de(!0),Vt.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,vr,Yt;if(ae||!He)return;Vt.current=null;const Dr=Number((($e=Pe.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((vr=Pe.current)==null?void 0:vr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Be=new Date().getTime()-((Yt=Ue.current)==null?void 0:Yt.getTime()),Fr=ie==="x"?Dr:Bn,ei=Math.abs(Fr)/Be;if(Math.abs(Fr)>=cW||ei>.11){me(ut.current),f.onDismiss==null||f.onDismiss.call(f,f),M(ie==="x"?Dr>0?"right":"left":Bn>0?"down":"up"),ht(),he(!0);return}else{var Er,Tr;(Er=Pe.current)==null||Er.style.setProperty("--swipe-amount-x","0px"),(Tr=Pe.current)==null||Tr.style.setProperty("--swipe-amount-y","0px")}ue(!1),de(!1),re(null)},onPointerMove:$e=>{var vr,Yt,Dr;if(!Vt.current||!He||((vr=window.getSelection())==null?void 0:vr.toString().length)>0)return;const Be=$e.clientY-Vt.current.y,Fr=$e.clientX-Vt.current.x;var ei;const Er=(ei=t.swipeDirections)!=null?ei:dW(D);!ie&&(Math.abs(Fr)>1||Math.abs(Be)>1)&&re(Math.abs(Fr)>Math.abs(Be)?"x":"y");let Tr={x:0,y:0};const Pr=yr=>1/(1.5+Math.abs(yr)/20);if(ie==="y"){if(Er.includes("top")||Er.includes("bottom"))if(Er.includes("top")&&Be<0||Er.includes("bottom")&&Be>0)Tr.y=Be;else{const yr=Be*Pr(Be);Tr.y=Math.abs(yr)<Math.abs(Be)?yr:Be}}else if(ie==="x"&&(Er.includes("left")||Er.includes("right")))if(Er.includes("left")&&Fr<0||Er.includes("right")&&Fr>0)Tr.x=Fr;else{const yr=Fr*Pr(Fr);Tr.x=Math.abs(yr)<Math.abs(Fr)?yr:Fr}(Math.abs(Tr.x)>0||Math.abs(Tr.y)>0)&&ue(!0),(Yt=Pe.current)==null||Yt.style.setProperty("--swipe-amount-x",`${Tr.x}px`),(Dr=Pe.current)==null||Dr.style.setProperty("--swipe-amount-y",`${Tr.y}px`)}},er&&!f.jsx&&Ke!=="loading"?K.createElement("button",{"aria-label":$,"data-disabled":Rt,"data-close-button":!0,onClick:Rt||!He?()=>{}:()=>{ht(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ta(Y==null?void 0:Y.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(vt=V==null?void 0:V.close)!=null?vt:Xz):null,(Ke||f.icon||f.promise)&&f.icon!==null&&((V==null?void 0:V[Ke])!==null||f.icon)?K.createElement("div",{"data-icon":"",className:Ta(Y==null?void 0:Y.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Mr():null,f.type!=="loading"?Wr:null):null,K.createElement("div",{"data-content":"",className:Ta(Y==null?void 0:Y.content,f==null||(a=f.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Ta(Y==null?void 0:Y.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?K.createElement("div",{"data-description":"",className:Ta(A,mt,Y==null?void 0:Y.description,f==null||(s=f.classNames)==null?void 0:s.description)},typeof f.description=="function"?f.description():f.description):null),K.isValidElement(f.cancel)?f.cancel:f.cancel&&cp(f.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:$e=>{cp(f.cancel)&&He&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,$e),ht())},className:Ta(Y==null?void 0:Y.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,K.isValidElement(f.action)?f.action:f.action&&cp(f.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:$e=>{cp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,$e),!$e.defaultPrevented&&ht())},className:Ta(Y==null?void 0:Y.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function ON(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function hW(t,e){const r={};return[t,e].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",s=a?oW:aW;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=s:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(s)}),r}const pW=K.forwardRef(function(e,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:l,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:h,duration:g,style:m,visibleToasts:v=iW,toastOptions:b,dir:_=ON(),gap:w=lW,icons:S,containerAriaLabel:j="Notifications"}=e,[C,k]=K.useState([]),E=K.useMemo(()=>n?C.filter(U=>U.toasterId===n):C.filter(U=>!U.toasterId),[C,n]),T=K.useMemo(()=>Array.from(new Set([a].concat(E.filter(U=>U.position).map(U=>U.position)))),[E,a]),[I,A]=K.useState([]),[L,D]=K.useState(!1),[F,X]=K.useState(!1),[Y,V]=K.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=K.useRef(null),ie=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=K.useRef(null),se=K.useRef(!1),M=K.useCallback(U=>{k(z=>{var Z;return(Z=z.find(le=>le.id===U.id))!=null&&Z.delete||ai.dismiss(U.id),z.filter(({id:le})=>le!==U.id)})},[]);return K.useEffect(()=>ai.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{k(z=>z.map(Z=>Z.id===U.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{I6.flushSync(()=>{k(z=>{const Z=z.findIndex(le=>le.id===U.id);return Z!==-1?[...z.slice(0,Z),{...z[Z],...U},...z.slice(Z+1)]:[U,...z]})})})}),[C]),K.useEffect(()=>{if(p!=="system"){V(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:z})=>{V(z?"dark":"light")})}catch{U.addListener(({matches:Z})=>{try{V(Z?"dark":"light")}catch(le){console.error(le)}})}},[p]),K.useEffect(()=>{C.length<=1&&D(!1)},[C]),K.useEffect(()=>{const U=z=>{var Z;if(o.every(de=>z[de]||z.code===de)){var oe;D(!0),(oe=$.current)==null||oe.focus()}z.code==="Escape"&&(document.activeElement===$.current||(Z=$.current)!=null&&Z.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[o]),K.useEffect(()=>{if($.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,se.current=!1)}},[$.current]),K.createElement("section",{ref:r,"aria-label":`${j} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((U,z)=>{var Z;const[le,oe]=U.split("-");return E.length?K.createElement("ol",{key:U,dir:_==="auto"?ON():_,tabIndex:-1,ref:$,className:u,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":le,"data-x-position":oe,style:{"--front-toast-height":`${((Z=I[0])==null?void 0:Z.height)||0}px`,"--width":`${sW}px`,"--gap":`${w}px`,...m,...hW(d,f)},onBlur:de=>{se.current&&!de.currentTarget.contains(de.relatedTarget)&&(se.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||se.current||(se.current=!0,re.current=de.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},E.filter(de=>!de.position&&z===0||de.position===U).map((de,ae)=>{var he,ge;return K.createElement(fW,{key:de.id,icons:S,index:ae,toast:de,defaultRichColors:h,duration:(he=b==null?void 0:b.duration)!=null?he:g,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:i,visibleToasts:v,closeButton:(ge=b==null?void 0:b.closeButton)!=null?ge:l,interacting:F,position:U,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,closeButtonAriaLabel:b==null?void 0:b.closeButtonAriaLabel,removeToast:M,toasts:E.filter(ue=>ue.position==de.position),heights:I.filter(ue=>ue.position==de.position),setHeights:A,expandByDefault:s,gap:w,expanded:L,swipeDirections:e.swipeDirections})})):null}))});function mW({product:t,onAddToCart:e,onBack:r}){const[n,i]=N.useState(""),[a,o]=N.useState(""),[s,l]=N.useState(1),[u,d]=N.useState(!1),[f,p]=N.useState(0),[h,g]=N.useState(!1),m=N.useRef(null);N.useEffect(()=>{const k=E=>{m.current&&!m.current.contains(E.target)&&g(!1)};return h&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[h]);const v=async()=>{const k={title:t.name,text:`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`,url:window.location.href};try{navigator.share&&navigator.canShare&&navigator.canShare(k)?(await navigator.share(k),Ce.success("Product shared successfully!")):g(!h)}catch(E){console.error("Error sharing:",E),g(!h)}},b=async()=>{try{await navigator.clipboard.writeText(window.location.href),Ce.success("Product link copied to clipboard!"),g(!1)}catch(k){console.error("Clipboard error:",k),Ce.error("Unable to copy link. Please copy the URL manually.")}},_=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price} ${window.location.href}`);window.open(`https://wa.me/?text=${k}`,"_blank"),g(!1)},w=()=>{const k=encodeURIComponent(`Check out this ${t.category.toLowerCase()}: ${t.name} - R${t.price}`);window.open(`https://twitter.com/intent/tweet?text=${k}&url=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},S=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank"),g(!1)},j=()=>{if(!n){Ce.error("Please select a size");return}if(!a){Ce.error("Please select a color");return}e(t,n,a,s),Ce.success("Added to cart successfully!")},C={XS:"Extra Small (0-2)",S:"Small (4-6)",M:"Medium (8-10)",L:"Large (12-14)",XL:"Extra Large (16-18)",XXL:"XXL (20-22)"};return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[c.jsxs(we,{variant:"ghost",onClick:r,className:"mb-6 hover:bg-secondary",children:[c.jsx($5,{className:"h-4 w-4 mr-2"}),"Back to Products"]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:c.jsx("img",{src:t.images[f]||t.images[0],alt:`${t.name} - Image ${f+1}`,className:"w-full h-full object-cover",loading:"eager"})}),t.originalPrice&&c.jsxs(Wt,{className:"absolute top-4 left-4 bg-destructive text-destructive-foreground z-10 shadow-lg",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]}),!t.inStock&&c.jsx(Wt,{className:"absolute top-4 right-4 bg-gray-500 text-white z-10 shadow-lg",children:"Out of Stock"})]}),t.images.length>1&&c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.images.map((k,E)=>c.jsx("button",{onClick:()=>{console.log(" ProductDetail: Thumbnail clicked, moving from index",f,"to index",E),p(E)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${f===E?"border-primary shadow-md ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:c.jsx("img",{src:k,alt:`${t.name} ${E+1}`,className:"w-full h-full object-cover",loading:"eager"})},E))})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Wt,{variant:"secondary",className:"mb-2",children:t.category}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((k,E)=>c.jsx(Ui,{className:`h-4 w-4 ${E<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},E))}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviews.length," reviews)"]})]}),c.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[c.jsxs("span",{className:"text-3xl font-bold",children:["R",t.price]}),t.originalPrice&&c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["R",t.originalPrice]}),c.jsxs(Wt,{variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]})]}),c.jsx("div",{className:"flex items-center gap-2 mb-6",children:t.inStock?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-sm text-green-600",children:"In Stock"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),c.jsx("span",{className:"text-sm text-red-600",children:"Out of Stock"})]})})]}),c.jsx(Kn,{}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"font-medium",children:"Size"}),c.jsx(we,{variant:"link",className:"text-sm p-0 h-auto",children:"Size Guide"})]}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:t.sizes.map(k=>c.jsx(we,{variant:n===k?"default":"outline",className:"aspect-square",onClick:()=>i(k),children:k},k))}),n&&C[n]&&c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:C[n]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium mb-3",children:["Color: ",a]}),c.jsx("div",{className:"flex flex-wrap gap-3",children:t.colors.map(k=>c.jsxs("button",{onClick:()=>o(k),className:`relative flex items-center gap-2 px-3 py-2 border rounded-lg transition-all ${a===k?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full border ${k.toLowerCase()==="black"?"bg-black":k.toLowerCase()==="white"?"bg-white border-gray-300":k.toLowerCase()==="gray"?"bg-gray-400":k.toLowerCase()==="navy"?"bg-blue-900":k.toLowerCase()==="brown"?"bg-amber-800":k.toLowerCase()==="beige"?"bg-amber-100":k.toLowerCase()==="pink"?"bg-pink-400":k.toLowerCase()==="blue"?"bg-blue-500":k.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`}),c.jsx("span",{className:"text-sm",children:k})]},k))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-3",children:"Quantity"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(we,{variant:"outline",size:"icon",onClick:()=>l(Math.max(1,s-1)),disabled:s<=1,children:c.jsx(rT,{className:"h-4 w-4"})}),c.jsx("span",{className:"w-12 text-center font-medium",children:s}),c.jsx(we,{variant:"outline",size:"icon",onClick:()=>l(s+1),disabled:s>=10,children:c.jsx(jl,{className:"h-4 w-4"})})]})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(we,{className:"w-full",size:"lg",onClick:j,disabled:!t.inStock,children:[c.jsx(V5,{className:"h-4 w-4 mr-2"}),"Add to Cart - R",(t.price*s).toFixed(2)]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(we,{variant:"outline",className:"flex-1",onClick:()=>d(!u),children:[c.jsx(Ps,{className:`h-4 w-4 mr-2 ${u?"fill-red-500 text-red-500":""}`}),u?"Saved":"Save"]}),c.jsxs("div",{className:"relative flex-1",ref:m,children:[c.jsxs(we,{variant:"outline",className:"w-full",onClick:v,children:[c.jsx(aq,{className:"h-4 w-4 mr-2"}),"Share"]}),h&&c.jsxs("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white border rounded-lg shadow-lg z-10 overflow-hidden",children:[c.jsxs("button",{onClick:b,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[c.jsx(uB,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Copy Link"})]}),c.jsxs("button",{onClick:_,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[c.jsx(FB,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{className:"text-sm",children:"Share on WhatsApp"})]}),c.jsxs("button",{onClick:w,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[c.jsx("div",{className:"h-4 w-4 bg-blue-400 rounded-sm flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:""})}),c.jsx("span",{className:"text-sm",children:"Share on X (Twitter)"})]}),c.jsxs("button",{onClick:S,className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[c.jsx("div",{className:"h-4 w-4 bg-blue-600 rounded-sm flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),c.jsx("span",{className:"text-sm",children:"Share on Facebook"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[c.jsx(cu,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Free Shipping"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders over R3500"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[c.jsx(hf,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Collections"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Curated fashion"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg",children:[c.jsx(jo,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Secure Payment"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"SSL protected"})]})]})]})]})]}),c.jsxs("div",{className:"mt-12 space-y-8",children:[c.jsx(Ge,{children:c.jsxs(Ye,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Description"}),c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]})}),c.jsx(Ge,{children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),c.jsx(we,{variant:"outline",children:"Write a Review"})]}),t.reviews.length>0?c.jsx("div",{className:"space-y-4",children:t.reviews.map(k=>c.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:k.userName}),c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((E,T)=>c.jsx(Ui,{className:`h-3 w-3 ${T<k.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},T))})]}),c.jsx("span",{className:"text-sm text-muted-foreground",children:k.date})]}),c.jsx("p",{className:"text-muted-foreground",children:k.comment})]},k.id))}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reviews yet. Be the first to review this product!"})]})})]}),c.jsx(Is,{})]})}function Lt({className:t,type:e,...r}){return c.jsx("input",{type:e,"data-slot":"input",className:qe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}const gW="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function JT(t){const[e,r]=N.useState(!1),n=()=>{r(!0)},{src:i,alt:a,style:o,className:s,...l}=t;return e?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${s??""}`,style:o,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:gW,alt:"Error loading image",...l,"data-original-url":i})})}):c.jsx("img",{src:i,alt:a,className:s,style:o,...l,onError:n})}function vW({items:t,onUpdateQuantity:e,onRemoveItem:r,onProceedToCheckout:n,onContinueShopping:i}){const[a,o]=N.useState(""),[s,l]=N.useState(null),u=t.reduce((b,_)=>b+_.product.price*_.quantity,0),d=(s==null?void 0:s.amount)||0,f=u*15/115,p=u-f,g=p>=3500?0:110,m=u-d+g,v=()=>{const b={WELCOME10:10,SAVE20:20,MEMBER15:15,FREESHIP:9.99},_=a.toUpperCase();b[_]?(l({code:_,amount:b[_]}),Ce.success(`Discount code ${_} applied!`)):Ce.error("Invalid discount code")};return t.length===0?c.jsx("div",{className:"container mx-auto px-6 py-12 pb-24",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx(V5,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Your cart is empty"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Looks like you haven't added anything to your cart yet."}),c.jsx(we,{onClick:i||(()=>window.history.back()),children:"Continue Shopping"})]})}):c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[c.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Shopping Cart (",t.length," items)"]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(b=>c.jsx(Ge,{children:c.jsx(Ye,{className:"p-6",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(JT,{src:b.product.images[0],alt:b.product.name,className:"w-24 h-24 object-cover rounded-lg",loading:"eager"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:b.product.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Size: ",b.size,"  Color: ",b.color]})]}),c.jsx(we,{variant:"ghost",size:"icon",onClick:()=>r(b.productId,b.size,b.color),children:c.jsx(rh,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(b.productId,b.size,b.color,b.quantity-1),disabled:b.quantity<=1,children:c.jsx(rT,{className:"h-3 w-3"})}),c.jsx("span",{className:"w-8 text-center text-sm",children:b.quantity}),c.jsx(we,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>e(b.productId,b.size,b.color,b.quantity+1),disabled:b.quantity>=10,children:c.jsx(jl,{className:"h-3 w-3"})})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"font-semibold",children:["R",(b.product.price*b.quantity).toFixed(2)]}),b.product.originalPrice&&c.jsxs("p",{className:"text-xs text-muted-foreground line-through",children:["R",(b.product.originalPrice*b.quantity).toFixed(2)]})]})]})]})]})})},`${b.productId}-${b.size}-${b.color}`))}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs(Ge,{className:"sticky top-24",children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Order Summary"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Discount Code"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Lt,{placeholder:"Enter code",value:a,onChange:b=>o(b.target.value),className:"flex-1"}),c.jsx(we,{variant:"outline",size:"sm",onClick:v,children:c.jsx(sT,{className:"h-4 w-4"})})]}),s&&c.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[c.jsxs("span",{children:["Code: ",s.code]}),c.jsxs("span",{children:["-R",s.amount.toFixed(2)]})]})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:["R",p.toFixed(2)]})]}),d>0&&c.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[c.jsx("span",{children:"Discount"}),c.jsxs("span",{children:["-R",d.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Shipping"}),c.jsx("span",{children:g===0?c.jsx("span",{className:"text-green-600",children:"FREE"}):`R${g.toFixed(2)}`})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Tax (15% VAT)"}),c.jsxs("span",{children:["R",f.toFixed(2)]})]})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["R",m.toFixed(2)]})]}),p<3500&&c.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-600",children:["Add R",(3500-p).toFixed(2)," more for FREE shipping!"]})}),c.jsx(we,{className:"w-full",size:"lg",onClick:n,children:"Proceed to Checkout"}),c.jsx("div",{className:"text-center",children:c.jsx(we,{variant:"link",onClick:i||(()=>window.history.back()),children:"Continue Shopping"})})]})]})})]}),c.jsx(Is,{})]})}var yW="Label",ZT=N.forwardRef((t,e)=>c.jsx(ct.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZT.displayName=yW;var bW=ZT;function Pt({className:t,...e}){return c.jsx(bW,{"data-slot":"label",className:qe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function xW(t,e){const r=N.createContext(e),n=a=>{const{children:o,...s}=a,l=N.useMemo(()=>s,Object.values(s));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=N.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Qn(t,e=[]){let r=[];function n(a,o){const s=N.createContext(o),l=r.length;r=[...r,o];const u=f=>{var b;const{scope:p,children:h,...g}=f,m=((b=p==null?void 0:p[t])==null?void 0:b[l])||s,v=N.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:h})};u.displayName=a+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[t])==null?void 0:m[l])||s,g=N.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>N.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return N.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,wW(i,...e)]}function wW(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function $n(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var on=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},E0={exports:{}},T0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function _W(){if(EN)return T0;EN=1;var t=T6();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),m=g[0].inst,v=g[1];return a(function(){m.value=h,m.getSnapshot=p,l(m)&&v({inst:m})},[f,h,p]),i(function(){return l(m)&&v({inst:m}),f(function(){l(m)&&v({inst:m})})},[f]),o(h),h}function l(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return T0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,T0}var TN;function SW(){return TN||(TN=1,E0.exports=_W()),E0.exports}var jW=SW();function NW(){return jW.useSyncExternalStore(AW,()=>!0,()=>!1)}function AW(){return()=>{}}var r_="Avatar",[PW,Sbe]=Qn(r_),[kW,QT]=PW(r_),eI=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=N.useState("idle");return c.jsx(kW,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(ct.span,{...n,ref:e})})});eI.displayName=r_;var tI="AvatarImage",CW=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=QT(tI,r),s=OW(n,a),l=$n(u=>{i(u),o.onImageLoadingStatusChange(u)});return on(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?c.jsx(ct.img,{...a,ref:e,src:n}):null});CW.displayName=tI;var rI="AvatarFallback",nI=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=QT(rI,r),[o,s]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?c.jsx(ct.span,{...i,ref:e}):null});nI.displayName=rI;function IN(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OW(t,{referrerPolicy:e,crossOrigin:r}){const n=NW(),i=N.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,s]=N.useState(()=>IN(a,t));return on(()=>{s(IN(a,t))},[a,t]),on(()=>{const l=f=>()=>{s(f)};if(!a)return;const u=l("loaded"),d=l("error");return a.addEventListener("load",u),a.addEventListener("error",d),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,e]),o}var EW=eI,TW=nI;function iI({className:t,...e}){return c.jsx(EW,{"data-slot":"avatar",className:qe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function aI({className:t,...e}){return c.jsx(TW,{"data-slot":"avatar-fallback",className:qe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function dt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var IW=L6[" useId ".trim().toString()]||(()=>{}),LW=0;function Co(t){const[e,r]=N.useState(IW());return on(()=>{r(n=>n??String(LW++))},[t]),t||(e?`radix-${e}`:"")}var RW=L6[" useInsertionEffect ".trim().toString()]||on;function Io({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=MW({defaultProp:e,onChange:r}),s=t!==void 0,l=s?t:i;{const d=N.useRef(t!==void 0);N.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=N.useCallback(d=>{var f;if(s){const p=DW(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else a(d)},[s,t,a,o]);return[l,u]}function MW({defaultProp:t,onChange:e}){const[r,n]=N.useState(t),i=N.useRef(r),a=N.useRef(e);return RW(()=>{a.current=e},[e]),N.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function DW(t){return typeof t=="function"}function $W(t,e=globalThis==null?void 0:globalThis.document){const r=$n(t);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var FW="DismissableLayer",Uw="dismissableLayer.update",BW="dismissableLayer.pointerDownOutside",qW="dismissableLayer.focusOutside",LN,oI=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xg=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,u=N.useContext(oI),[d,f]=N.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),g=Dt(e,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),_=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=_>=b,j=WW(k=>{const E=k.target,T=[...u.branches].some(I=>I.contains(E));!S||T||(i==null||i(k),o==null||o(k),k.defaultPrevented||s==null||s())},p),C=HW(k=>{const E=k.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(k),o==null||o(k),k.defaultPrevented||s==null||s())},p);return $W(k=>{_===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},p),N.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),RN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=LN)}},[d,p,r,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),RN())},[d,u]),N.useEffect(()=>{const k=()=>h({});return document.addEventListener(Uw,k),()=>document.removeEventListener(Uw,k)},[]),c.jsx(ct.div,{...l,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:dt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:dt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:dt(t.onPointerDownCapture,j.onPointerDownCapture)})});xg.displayName=FW;var UW="DismissableLayerBranch",zW=N.forwardRef((t,e)=>{const r=N.useContext(oI),n=N.useRef(null),i=Dt(e,n);return N.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(ct.div,{...t,ref:i})});zW.displayName=UW;function WW(t,e=globalThis==null?void 0:globalThis.document){const r=$n(t),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){sI(BW,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function HW(t,e=globalThis==null?void 0:globalThis.document){const r=$n(t),n=N.useRef(!1);return N.useEffect(()=>{const i=a=>{a.target&&!n.current&&sI(qW,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function RN(){const t=new CustomEvent(Uw);document.dispatchEvent(t)}function sI(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Dz(i,a):i.dispatchEvent(a)}var I0="focusScope.autoFocusOnMount",L0="focusScope.autoFocusOnUnmount",MN={bubbles:!1,cancelable:!0},VW="FocusScope",wg=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=N.useState(null),u=$n(i),d=$n(a),f=N.useRef(null),p=Dt(e,m=>l(m)),h=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let m=function(w){if(h.paused||!s)return;const S=w.target;s.contains(S)?f.current=S:ps(f.current,{select:!0})},v=function(w){if(h.paused||!s)return;const S=w.relatedTarget;S!==null&&(s.contains(S)||ps(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&ps(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const _=new MutationObserver(b);return s&&_.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),_.disconnect()}}},[n,s,h.paused]),N.useEffect(()=>{if(s){$N.add(h);const m=document.activeElement;if(!s.contains(m)){const b=new CustomEvent(I0,MN);s.addEventListener(I0,u),s.dispatchEvent(b),b.defaultPrevented||(GW(ZW(lI(s)),{select:!0}),document.activeElement===m&&ps(s))}return()=>{s.removeEventListener(I0,u),setTimeout(()=>{const b=new CustomEvent(L0,MN);s.addEventListener(L0,d),s.dispatchEvent(b),b.defaultPrevented||ps(m??document.body,{select:!0}),s.removeEventListener(L0,d),$N.remove(h)},0)}}},[s,u,d,h]);const g=N.useCallback(m=>{if(!r&&!n||h.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const _=m.currentTarget,[w,S]=YW(_);w&&S?!m.shiftKey&&b===S?(m.preventDefault(),r&&ps(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&ps(S,{select:!0})):b===_&&m.preventDefault()}},[r,n,h.paused]);return c.jsx(ct.div,{tabIndex:-1,...o,ref:p,onKeyDown:g})});wg.displayName=VW;function GW(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ps(n,{select:e}),document.activeElement!==r)return}function YW(t){const e=lI(t),r=DN(e,t),n=DN(e.reverse(),t);return[r,n]}function lI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function DN(t,e){for(const r of t)if(!KW(r,{upTo:e}))return r}function KW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function XW(t){return t instanceof HTMLInputElement&&"select"in t}function ps(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&XW(t)&&e&&t.select()}}var $N=JW();function JW(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=FN(t,e),t.unshift(e)},remove(e){var r;t=FN(t,e),(r=t[0])==null||r.resume()}}}function FN(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function ZW(t){return t.filter(e=>e.tagName!=="A")}var QW="Portal",_g=N.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=N.useState(!1);on(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?I6.createPortal(c.jsx(ct.div,{...n,ref:e}),o):null});_g.displayName=QW;function eH(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var Oi=t=>{const{present:e,children:r}=t,n=tH(e),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),a=Dt(n.ref,rH(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:a}):null};Oi.displayName="Presence";function tH(t){const[e,r]=N.useState(),n=N.useRef(null),i=N.useRef(t),a=N.useRef("none"),o=t?"mounted":"unmounted",[s,l]=eH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=up(n.current);a.current=s==="mounted"?u:"none"},[s]),on(()=>{const u=n.current,d=i.current;if(d!==t){const p=a.current,h=up(u);t?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),on(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const m=up(n.current).includes(CSS.escape(h.animationName));if(h.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=h=>{h.target===e&&(a.current=up(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:N.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function up(t){return(t==null?void 0:t.animationName)||"none"}function rH(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var R0=0;function n_(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??BN()),document.body.insertAdjacentElement("beforeend",t[1]??BN()),R0++,()=>{R0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),R0--}},[])}function BN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Da=function(){return Da=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Da.apply(this,arguments)};function cI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function nH(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Bp="right-scroll-bar-position",qp="width-before-scroll-bar",iH="with-scroll-bars-hidden",aH="--removed-body-scroll-bar-size";function M0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oH(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var sH=typeof window<"u"?N.useLayoutEffect:N.useEffect,qN=new WeakMap;function lH(t,e){var r=oH(null,function(n){return t.forEach(function(i){return M0(i,n)})});return sH(function(){var n=qN.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||M0(s,null)}),a.forEach(function(s){i.has(s)||M0(s,o)})}qN.set(r,t)},[t]),r}function cH(t){return t}function uH(t,e){e===void 0&&(e=cH);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function dH(t){t===void 0&&(t={});var e=uH(null);return e.options=Da({async:!0,ssr:!1},t),e}var uI=function(t){var e=t.sideCar,r=cI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Da({},r))};uI.isSideCarExport=!0;function fH(t,e){return t.useMedium(e),uI}var dI=dH(),D0=function(){},Sg=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:D0,onWheelCapture:D0,onTouchMoveCapture:D0}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,w=t.gapMode,S=cI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,C=lH([r,e]),k=Da(Da({},S),i);return N.createElement(N.Fragment,null,d&&N.createElement(j,{sideCar:dI,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?N.cloneElement(N.Children.only(s),Da(Da({},k),{ref:C})):N.createElement(_,Da({},k,{className:l,ref:C}),s))});Sg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sg.classNames={fullWidth:qp,zeroRight:Bp};var hH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hH();return e&&t.setAttribute("nonce",e),t}function mH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vH=function(){var t=0,e=null;return{add:function(r){t==0&&(e=pH())&&(mH(e,r),gH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yH=function(){var t=vH();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},fI=function(){var t=yH(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},bH={left:0,top:0,right:0,gap:0},$0=function(t){return parseInt(t||"",10)||0},xH=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$0(r),$0(n),$0(i)]},wH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bH;var e=xH(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},_H=fI(),Jc="data-scroll-locked",SH=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(iH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Jc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bp,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(qp,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Bp," .").concat(Bp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jc,`] {
    `).concat(aH,": ").concat(s,`px;
  }
`)},UN=function(){var t=parseInt(document.body.getAttribute(Jc)||"0",10);return isFinite(t)?t:0},jH=function(){N.useEffect(function(){return document.body.setAttribute(Jc,(UN()+1).toString()),function(){var t=UN()-1;t<=0?document.body.removeAttribute(Jc):document.body.setAttribute(Jc,t.toString())}},[])},NH=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;jH();var a=N.useMemo(function(){return wH(i)},[i]);return N.createElement(_H,{styles:SH(a,!e,i,r?"":"!important")})},zw=!1;if(typeof window<"u")try{var dp=Object.defineProperty({},"passive",{get:function(){return zw=!0,!0}});window.addEventListener("test",dp,dp),window.removeEventListener("test",dp,dp)}catch{zw=!1}var Pc=zw?{passive:!1}:!1,AH=function(t){return t.tagName==="TEXTAREA"},hI=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!AH(t)&&r[e]==="visible")},PH=function(t){return hI(t,"overflowY")},kH=function(t){return hI(t,"overflowX")},zN=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=pI(t,n);if(i){var a=mI(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CH=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},OH=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},pI=function(t,e){return t==="v"?PH(e):kH(e)},mI=function(t,e){return t==="v"?CH(e):OH(e)},EH=function(t,e){return t==="h"&&e==="rtl"?-1:1},TH=function(t,e,r,n,i){var a=EH(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),u=!1,d=o>0,f=0,p=0;do{if(!s)break;var h=mI(t,s),g=h[0],m=h[1],v=h[2],b=m-v-a*g;(g||b)&&pI(t,s)&&(f+=b,p+=g);var _=s.parentNode;s=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},fp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WN=function(t){return[t.deltaX,t.deltaY]},HN=function(t){return t&&"current"in t?t.current:t},IH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RH=0,kc=[];function MH(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),i=N.useState(RH++)[0],a=N.useState(fI)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=nH([t.lockRef.current],(t.shards||[]).map(HN),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=N.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=fp(m),_=r.current,w="deltaX"in m?m.deltaX:_[0]-b[0],S="deltaY"in m?m.deltaY:_[1]-b[1],j,C=m.target,k=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&C.type==="range")return!1;var E=zN(k,C);if(!E)return!0;if(E?j=k:(j=k==="v"?"h":"v",E=zN(k,C)),!E)return!1;if(!n.current&&"changedTouches"in m&&(w||S)&&(n.current=j),!j)return!0;var T=n.current||j;return TH(T,v,m,T==="h"?w:S)},[]),l=N.useCallback(function(m){var v=m;if(!(!kc.length||kc[kc.length-1]!==a)){var b="deltaY"in v?WN(v):fp(v),_=e.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&IH(j.delta,b)})[0];if(_&&_.should){v.cancelable&&v.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(HN).filter(Boolean).filter(function(j){return j.contains(v.target)}),S=w.length>0?s(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=N.useCallback(function(m,v,b,_){var w={name:m,delta:v,target:b,should:_,shadowParent:DH(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=N.useCallback(function(m){r.current=fp(m),n.current=void 0},[]),f=N.useCallback(function(m){u(m.type,WN(m),m.target,s(m,t.lockRef.current))},[]),p=N.useCallback(function(m){u(m.type,fp(m),m.target,s(m,t.lockRef.current))},[]);N.useEffect(function(){return kc.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Pc),document.addEventListener("touchmove",l,Pc),document.addEventListener("touchstart",d,Pc),function(){kc=kc.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Pc),document.removeEventListener("touchmove",l,Pc),document.removeEventListener("touchstart",d,Pc)}},[]);var h=t.removeScrollBar,g=t.inert;return N.createElement(N.Fragment,null,g?N.createElement(a,{styles:LH(i)}):null,h?N.createElement(NH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function DH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $H=fH(dI,MH);var jg=N.forwardRef(function(t,e){return N.createElement(Sg,Da({},t,{ref:e,sideCar:$H}))});jg.classNames=Sg.classNames;var FH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cc=new WeakMap,hp=new WeakMap,pp={},F0=0,gI=function(t){return t&&(t.host||gI(t.parentNode))},BH=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=gI(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},qH=function(t,e,r,n){var i=BH(e,Array.isArray(t)?t:[t]);pp[r]||(pp[r]=new WeakMap);var a=pp[r],o=[],s=new Set,l=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(s.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",m=(Cc.get(p)||0)+1,v=(a.get(p)||0)+1;Cc.set(p,m),a.set(p,v),o.push(p),m===1&&g&&hp.set(p,!0),v===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(e),s.clear(),F0++,function(){o.forEach(function(f){var p=Cc.get(f)-1,h=a.get(f)-1;Cc.set(f,p),a.set(f,h),p||(hp.has(f)||f.removeAttribute(n),hp.delete(f)),h||f.removeAttribute(r)}),F0--,F0||(Cc=new WeakMap,Cc=new WeakMap,hp=new WeakMap,pp={})}},i_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=FH(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),qH(n,i,r,"aria-hidden")):function(){return null}},Ng="Dialog",[vI,yI]=Qn(Ng),[UH,ba]=vI(Ng),bI=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=N.useRef(null),l=N.useRef(null),[u,d]=Io({prop:n,defaultProp:i??!1,onChange:a,caller:Ng});return c.jsx(UH,{scope:e,triggerRef:s,contentRef:l,contentId:Co(),titleId:Co(),descriptionId:Co(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};bI.displayName=Ng;var xI="DialogTrigger",wI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ba(xI,r),a=Dt(e,i.triggerRef);return c.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":s_(i.open),...n,ref:a,onClick:dt(t.onClick,i.onOpenToggle)})});wI.displayName=xI;var a_="DialogPortal",[zH,_I]=vI(a_,{forceMount:void 0}),SI=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=ba(a_,e);return c.jsx(zH,{scope:e,forceMount:r,children:N.Children.map(n,o=>c.jsx(Oi,{present:r||a.open,children:c.jsx(_g,{asChild:!0,container:i,children:o})}))})};SI.displayName=a_;var rm="DialogOverlay",jI=N.forwardRef((t,e)=>{const r=_I(rm,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=ba(rm,t.__scopeDialog);return a.modal?c.jsx(Oi,{present:n||a.open,children:c.jsx(HH,{...i,ref:e})}):null});jI.displayName=rm;var WH=Cl("DialogOverlay.RemoveScroll"),HH=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ba(rm,r);return c.jsx(jg,{as:WH,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(ct.div,{"data-state":s_(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),El="DialogContent",NI=N.forwardRef((t,e)=>{const r=_I(El,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=ba(El,t.__scopeDialog);return c.jsx(Oi,{present:n||a.open,children:a.modal?c.jsx(VH,{...i,ref:e}):c.jsx(GH,{...i,ref:e})})});NI.displayName=El;var VH=N.forwardRef((t,e)=>{const r=ba(El,t.__scopeDialog),n=N.useRef(null),i=Dt(e,r.contentRef,n);return N.useEffect(()=>{const a=n.current;if(a)return i_(a)},[]),c.jsx(AI,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:dt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:dt(t.onFocusOutside,a=>a.preventDefault())})}),GH=N.forwardRef((t,e)=>{const r=ba(El,t.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return c.jsx(AI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),AI=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=ba(El,r),l=N.useRef(null),u=Dt(e,l);return n_(),c.jsxs(c.Fragment,{children:[c.jsx(wg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(xg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":s_(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(KH,{titleId:s.titleId}),c.jsx(JH,{contentRef:l,descriptionId:s.descriptionId})]})]})}),o_="DialogTitle",PI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ba(o_,r);return c.jsx(ct.h2,{id:i.titleId,...n,ref:e})});PI.displayName=o_;var kI="DialogDescription",CI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ba(kI,r);return c.jsx(ct.p,{id:i.descriptionId,...n,ref:e})});CI.displayName=kI;var OI="DialogClose",EI=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ba(OI,r);return c.jsx(ct.button,{type:"button",...n,ref:e,onClick:dt(t.onClick,()=>i.onOpenChange(!1))})});EI.displayName=OI;function s_(t){return t?"open":"closed"}var TI="DialogTitleWarning",[YH,II]=xW(TI,{contentName:El,titleName:o_,docsSlug:"dialog"}),KH=({titleId:t})=>{const e=II(TI),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},XH="DialogDescriptionWarning",JH=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${II(XH).contentName}}.`;return N.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},l_=bI,Ag=wI,c_=SI,Pg=jI,kg=NI,LI=PI,RI=CI,Cg=EI;function Lo({...t}){return c.jsx(l_,{"data-slot":"dialog",...t})}function u_({...t}){return c.jsx(Ag,{"data-slot":"dialog-trigger",...t})}function ZH({...t}){return c.jsx(c_,{"data-slot":"dialog-portal",...t})}const MI=N.forwardRef(({className:t,...e},r)=>c.jsx(Pg,{ref:r,"data-slot":"dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));MI.displayName=Pg.displayName;const Ga=N.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(ZH,{"data-slot":"dialog-portal",children:[c.jsx(MI,{}),c.jsxs(kg,{ref:n,"data-slot":"dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,c.jsxs(Cg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(Ss,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ga.displayName=kg.displayName;function Ro({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function QH({className:t,...e}){return c.jsx("div",{"data-slot":"dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Mo({className:t,...e}){return c.jsx(LI,{"data-slot":"dialog-title",className:qe("text-lg leading-none font-semibold",t),...e})}function eV({className:t,...e}){return c.jsx(RI,{"data-slot":"dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function cr(t){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(t)}var pa=Uint8Array,Ni=Uint16Array,d_=Int32Array,f_=new pa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h_=new pa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VN=new pa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DI=function(t,e){for(var r=new Ni(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new d_(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},$I=DI(f_,2),tV=$I.b,Ww=$I.r;tV[28]=258,Ww[258]=28;var rV=DI(h_,0),GN=rV.r,Hw=new Ni(32768);for(var Or=0;Or<32768;++Or){var us=(Or&43690)>>1|(Or&21845)<<1;us=(us&52428)>>2|(us&13107)<<2,us=(us&61680)>>4|(us&3855)<<4,Hw[Or]=((us&65280)>>8|(us&255)<<8)>>1}var rf=(function(t,e,r){for(var n=t.length,i=0,a=new Ni(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new Ni(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new Ni(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],f=o[t[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[Hw[f]>>l]=u}else for(s=new Ni(n),i=0;i<n;++i)t[i]&&(s[i]=Hw[o[t[i]-1]++]>>15-t[i]);return s}),Tl=new pa(288);for(var Or=0;Or<144;++Or)Tl[Or]=8;for(var Or=144;Or<256;++Or)Tl[Or]=9;for(var Or=256;Or<280;++Or)Tl[Or]=7;for(var Or=280;Or<288;++Or)Tl[Or]=8;var nm=new pa(32);for(var Or=0;Or<32;++Or)nm[Or]=5;var nV=rf(Tl,9,0),iV=rf(nm,5,0),FI=function(t){return(t+7)/8|0},aV=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new pa(t.subarray(e,r))},mo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Rd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},B0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:qI,l:0};if(i==1){var o=new pa(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,C){return j.f-C.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=i-1;)s=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Ni(p+1),g=Vw(r[d-1],h,0);if(g>e){var n=0,m=0,v=g-e,b=1<<v;for(a.sort(function(C,k){return h[k.s]-h[C.s]||C.f-k.f});n<i;++n){var _=a[n].s;if(h[_]>e)m+=b-(1<<g-h[_]),h[_]=e;else break}for(m>>=v;m>0;){var w=a[n].s;h[w]<e?m-=1<<e-h[w]++-1:++n}for(;n>=0&&m;--n){var S=a[n].s;h[S]==e&&(--h[S],++m)}g=e}return{t:new pa(h),l:g}},Vw=function(t,e,r){return t.s==-1?Math.max(Vw(t.l,e,r+1),Vw(t.r,e,r+1)):e[t.s]=r},YN=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ni(++e),n=0,i=t[0],a=1,o=function(l){r[n++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:r.subarray(0,n),n:e}},Md=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},BI=function(t,e,r){var n=r.length,i=FI(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},KN=function(t,e,r,n,i,a,o,s,l,u,d){mo(e,d++,r),++i[256];for(var f=B0(i,15),p=f.t,h=f.l,g=B0(a,15),m=g.t,v=g.l,b=YN(p),_=b.c,w=b.n,S=YN(m),j=S.c,C=S.n,k=new Ni(19),E=0;E<_.length;++E)++k[_[E]&31];for(var E=0;E<j.length;++E)++k[j[E]&31];for(var T=B0(k,7),I=T.t,A=T.l,L=19;L>4&&!I[VN[L-1]];--L);var D=u+5<<3,F=Md(i,Tl)+Md(a,nm)+o,X=Md(i,p)+Md(a,m)+o+14+3*L+Md(k,I)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&D<=F&&D<=X)return BI(e,d,t.subarray(l,l+u));var Y,V,$,ie;if(mo(e,d,1+(X<F)),d+=2,X<F){Y=rf(p,h,0),V=p,$=rf(m,v,0),ie=m;var re=rf(I,A,0);mo(e,d,w-257),mo(e,d+5,C-1),mo(e,d+10,L-4),d+=14;for(var E=0;E<L;++E)mo(e,d+3*E,I[VN[E]]);d+=3*L;for(var se=[_,j],M=0;M<2;++M)for(var U=se[M],E=0;E<U.length;++E){var z=U[E]&31;mo(e,d,re[z]),d+=I[z],z>15&&(mo(e,d,U[E]>>5&127),d+=U[E]>>12)}}else Y=nV,V=Tl,$=iV,ie=nm;for(var E=0;E<s;++E){var Z=n[E];if(Z>255){var z=Z>>18&31;Rd(e,d,Y[z+257]),d+=V[z+257],z>7&&(mo(e,d,Z>>23&31),d+=f_[z]);var le=Z&31;Rd(e,d,$[le]),d+=ie[le],le>3&&(Rd(e,d,Z>>5&8191),d+=h_[le])}else Rd(e,d,Y[Z]),d+=V[Z]}return Rd(e,d,Y[256]),d+V[256]},oV=new d_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qI=new pa(0),sV=function(t,e,r,n,i,a){var o=a.z||t.length,s=new pa(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),u=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var f=oV[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,m=a.p||new Ni(32768),v=a.h||new Ni(g+1),b=Math.ceil(r/3),_=2*b,w=function(me){return(t[me]^t[me+1]<<b^t[me+2]<<_)&g},S=new d_(25e3),j=new Ni(288),C=new Ni(32),k=0,E=0,T=a.i||0,I=0,A=a.w||0,L=0;T+2<o;++T){var D=w(T),F=T&32767,X=v[D];if(m[F]=X,v[D]=F,A<=T){var Y=o-T;if((k>7e3||I>24576)&&(Y>423||!u)){d=KN(t,l,0,S,j,C,E,I,L,T-L,d),I=k=E=0,L=T;for(var V=0;V<286;++V)j[V]=0;for(var V=0;V<30;++V)C[V]=0}var $=2,ie=0,re=h,se=F-X&32767;if(Y>2&&D==w(T-se))for(var M=Math.min(p,Y)-1,U=Math.min(32767,T),z=Math.min(258,Y);se<=U&&--re&&F!=X;){if(t[T+$]==t[T+$-se]){for(var Z=0;Z<z&&t[T+Z]==t[T+Z-se];++Z);if(Z>$){if($=Z,ie=se,Z>M)break;for(var le=Math.min(se,Z-2),oe=0,V=0;V<le;++V){var de=T-se+V&32767,ae=m[de],he=de-ae&32767;he>oe&&(oe=he,X=de)}}}F=X,X=m[F],se+=F-X&32767}if(ie){S[I++]=268435456|Ww[$]<<18|GN[ie];var ge=Ww[$]&31,ue=GN[ie]&31;E+=f_[ge]+h_[ue],++j[257+ge],++C[ue],A=T+$,++k}else S[I++]=t[T],++j[t[T]]}}for(T=Math.max(T,A);T<o;++T)S[I++]=t[T],++j[t[T]];d=KN(t,l,u,S,j,C,E,I,L,T-L,d),u||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=v,a.p=m,a.i=T,a.w=A)}else{for(var T=a.w||0;T<o+u;T+=65535){var ke=T+65535;ke>=o&&(l[d/8|0]=u,ke=o),d=BI(l,d+1,t.subarray(T,ke))}a.i=o}return aV(s,0,n+FI(d)+i)},UI=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},lV=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new pa(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return sV(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},zI=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},cV=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=UI();i.p(e.dictionary),zI(t,2,i.d())}};function Gw(t,e){e||(e={});var r=UI();r.p(t);var n=lV(t,e,e.dictionary?6:2,4);return cV(n,e),zI(n,n.length-4,r.d()),n}var uV=typeof TextDecoder<"u"&&new TextDecoder,dV=0;try{uV.decode(qI,{stream:!0}),dV=1}catch{}function fV(t){if(Array.isArray(t))return t}function hV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function XN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pV(t,e){if(t){if(typeof t=="string")return XN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?XN(t,e):void 0}}function mV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(t,e){return fV(t)||hV(t,e)||pV(t,e)||mV()}function ZN(t,e="utf8"){return new TextDecoder(e).decode(t)}const gV=new TextEncoder;function vV(t){return gV.encode(t)}const yV=1024*8,bV=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),q0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class p_{constructor(e=yV,r={}){Jt(this,"buffer");Jt(this,"byteLength");Jt(this,"byteOffset");Jt(this,"length");Jt(this,"offset");Jt(this,"lastWrittenByte");Jt(this,"littleEndian");Jt(this,"_data");Jt(this,"_mark");Jt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof p_)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=q0[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===bV&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const l=new q0[r](s.buffer);return this.offset+=n,l.reverse(),l}const o=new q0[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return ZN(this.readBytes(e))}decodeText(e=1,r="utf8"){return ZN(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(vV(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zu(t){let e=t.length;for(;--e>=0;)t[e]=0}const xV=3,wV=258,WI=29,_V=256,SV=_V+1+WI,HI=30,jV=512,NV=new Array((SV+2)*2);zu(NV);const AV=new Array(HI*2);zu(AV);const PV=new Array(jV);zu(PV);const kV=new Array(wV-xV+1);zu(kV);const CV=new Array(WI);zu(CV);const OV=new Array(HI);zu(OV);const EV=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var Yw=EV;const TV=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},IV=new Uint32Array(TV()),LV=(t,e,r,n)=>{const i=IV,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Ia=LV,Kw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},VI={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const RV=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var MV=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)RV(r,n)&&(t[n]=r[n])}}return t},DV=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},GI={assign:MV,flattenChunks:DV};let YI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{YI=!1}const gf=new Uint8Array(256);for(let t=0;t<256;t++)gf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;gf[254]=gf[254]=1;var $V=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const FV=(t,e)=>{if(e<65534&&t.subarray&&YI)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var BV=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let s=gf[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return FV(a,i)},qV=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+gf[t[r]]>e?r:e},Xw={string2buf:$V,buf2string:BV,utf8border:qV};function UV(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zV=UV;const mp=16209,WV=16191;var HV=function(e,r){let n,i,a,o,s,l,u,d,f,p,h,g,m,v,b,_,w,S,j,C,k,E,T,I;const A=e.state;n=e.next_in,T=e.input,i=n+(e.avail_in-5),a=e.next_out,I=e.output,o=a-(r-e.avail_out),s=a+(e.avail_out-257),l=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,h=A.hold,g=A.bits,m=A.lencode,v=A.distcode,b=(1<<A.lenbits)-1,_=(1<<A.distbits)-1;e:do{g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),w=m[h&b];t:for(;;){if(S=w>>>24,h>>>=S,g-=S,S=w>>>16&255,S===0)I[a++]=w&65535;else if(S&16){j=w&65535,S&=15,S&&(g<S&&(h+=T[n++]<<g,g+=8),j+=h&(1<<S)-1,h>>>=S,g-=S),g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),w=v[h&_];r:for(;;){if(S=w>>>24,h>>>=S,g-=S,S=w>>>16&255,S&16){if(C=w&65535,S&=15,g<S&&(h+=T[n++]<<g,g+=8,g<S&&(h+=T[n++]<<g,g+=8)),C+=h&(1<<S)-1,C>l){e.msg="invalid distance too far back",A.mode=mp;break e}if(h>>>=S,g-=S,S=a-o,C>S){if(S=C-S,S>d&&A.sane){e.msg="invalid distance too far back",A.mode=mp;break e}if(k=0,E=p,f===0){if(k+=u-S,S<j){j-=S;do I[a++]=p[k++];while(--S);k=a-C,E=I}}else if(f<S){if(k+=u+f-S,S-=f,S<j){j-=S;do I[a++]=p[k++];while(--S);if(k=0,f<j){S=f,j-=S;do I[a++]=p[k++];while(--S);k=a-C,E=I}}}else if(k+=f-S,S<j){j-=S;do I[a++]=p[k++];while(--S);k=a-C,E=I}for(;j>2;)I[a++]=E[k++],I[a++]=E[k++],I[a++]=E[k++],j-=3;j&&(I[a++]=E[k++],j>1&&(I[a++]=E[k++]))}else{k=a-C;do I[a++]=I[k++],I[a++]=I[k++],I[a++]=I[k++],j-=3;while(j>2);j&&(I[a++]=I[k++],j>1&&(I[a++]=I[k++]))}}else if((S&64)===0){w=v[(w&65535)+(h&(1<<S)-1)];continue r}else{e.msg="invalid distance code",A.mode=mp;break e}break}}else if((S&64)===0){w=m[(w&65535)+(h&(1<<S)-1)];continue t}else if(S&32){A.mode=WV;break e}else{e.msg="invalid literal/length code",A.mode=mp;break e}break}}while(n<i&&a<s);j=g>>3,n-=j,g-=j<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),A.hold=h,A.bits=g};const Oc=15,QN=852,eA=592,tA=0,U0=1,rA=2,VV=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),GV=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),YV=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),KV=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),XV=(t,e,r,n,i,a,o,s)=>{const l=s.bits;let u=0,d=0,f=0,p=0,h=0,g=0,m=0,v=0,b=0,_=0,w,S,j,C,k,E=null,T;const I=new Uint16Array(Oc+1),A=new Uint16Array(Oc+1);let L=null,D,F,X;for(u=0;u<=Oc;u++)I[u]=0;for(d=0;d<n;d++)I[e[r+d]]++;for(h=l,p=Oc;p>=1&&I[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<p&&I[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=Oc;u++)if(v<<=1,v-=I[u],v<0)return-1;if(v>0&&(t===tA||p!==1))return-1;for(A[1]=0,u=1;u<Oc;u++)A[u+1]=A[u]+I[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[A[e[r+d]]++]=d);if(t===tA?(E=L=o,T=20):t===U0?(E=VV,L=GV,T=257):(E=YV,L=KV,T=0),_=0,d=0,u=f,k=a,g=h,m=0,j=-1,b=1<<h,C=b-1,t===U0&&b>QN||t===rA&&b>eA)return 1;for(;;){D=u-m,o[d]+1<T?(F=0,X=o[d]):o[d]>=T?(F=L[o[d]-T],X=E[o[d]-T]):(F=96,X=0),w=1<<u-m,S=1<<g,f=S;do S-=w,i[k+(_>>m)+S]=D<<24|F<<16|X|0;while(S!==0);for(w=1<<u-1;_&w;)w>>=1;if(w!==0?(_&=w-1,_+=w):_=0,d++,--I[u]===0){if(u===p)break;u=e[r+o[d]]}if(u>h&&(_&C)!==j){for(m===0&&(m=h),k+=f,g=u-m,v=1<<g;g+m<p&&(v-=I[g+m],!(v<=0));)g++,v<<=1;if(b+=1<<g,t===U0&&b>QN||t===rA&&b>eA)return 1;j=_&C,i[j]=h<<24|g<<16|k-a|0}}return _!==0&&(i[k+_]=u-m<<24|64<<16|0),s.bits=h,0};var nf=XV;const JV=0,KI=1,XI=2,{Z_FINISH:nA,Z_BLOCK:ZV,Z_TREES:gp,Z_OK:Il,Z_STREAM_END:QV,Z_NEED_DICT:eG,Z_STREAM_ERROR:Wi,Z_DATA_ERROR:JI,Z_MEM_ERROR:ZI,Z_BUF_ERROR:tG,Z_DEFLATED:iA}=VI,Og=16180,aA=16181,oA=16182,sA=16183,lA=16184,cA=16185,uA=16186,dA=16187,fA=16188,hA=16189,im=16190,go=16191,z0=16192,pA=16193,W0=16194,mA=16195,gA=16196,vA=16197,yA=16198,vp=16199,yp=16200,bA=16201,xA=16202,wA=16203,_A=16204,SA=16205,H0=16206,jA=16207,NA=16208,Ir=16209,QI=16210,e8=16211,rG=852,nG=592,iG=15,aG=iG,AA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function oG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Og||e.mode>e8?1:0},t8=t=>{if(Vl(t))return Wi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Og,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(rG),e.distcode=e.distdyn=new Int32Array(nG),e.sane=1,e.back=-1,Il},r8=t=>{if(Vl(t))return Wi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,t8(t)},n8=(t,e)=>{let r;if(Vl(t))return Wi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,r8(t))},i8=(t,e)=>{if(!t)return Wi;const r=new oG;t.state=r,r.strm=t,r.window=null,r.mode=Og;const n=n8(t,e);return n!==Il&&(t.state=null),n},sG=t=>i8(t,aG);let PA=!0,V0,G0;const lG=t=>{if(PA){V0=new Int32Array(512),G0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(nf(KI,t.lens,0,288,V0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;nf(XI,t.lens,0,32,G0,0,t.work,{bits:5}),PA=!1}t.lencode=V0,t.lenbits=9,t.distcode=G0,t.distbits=5},a8=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},cG=(t,e)=>{let r,n,i,a,o,s,l,u,d,f,p,h,g,m,v=0,b,_,w,S,j,C,k,E;const T=new Uint8Array(4);let I,A;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vl(t)||!t.output||!t.input&&t.avail_in!==0)return Wi;r=t.state,r.mode===go&&(r.mode=z0),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,u=r.hold,d=r.bits,f=s,p=l,E=Il;e:for(;;)switch(r.mode){case Og:if(r.wrap===0){r.mode=z0;break}for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=Ia(r.check,T,2,0),u=0,d=0,r.mode=aA;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Ir;break}if((u&15)!==iA){t.msg="unknown compression method",r.mode=Ir;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Ir;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?hA:go,u=0,d=0;break;case aA:for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==iA){t.msg="unknown compression method",r.mode=Ir;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ir;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Ia(r.check,T,2,0)),u=0,d=0,r.mode=oA;case oA:for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=Ia(r.check,T,4,0)),u=0,d=0,r.mode=sA;case sA:for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Ia(r.check,T,2,0)),u=0,d=0,r.mode=lA;case lA:if(r.flags&1024){for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Ia(r.check,T,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=cA;case cA:if(r.flags&1024&&(h=r.length,h>s&&(h=s),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),k)),r.flags&512&&r.wrap&4&&(r.check=Ia(r.check,n,h,a)),s-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=uA;case uA:if(r.flags&2048){if(s===0)break e;h=0;do k=n[a+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&h<s);if(r.flags&512&&r.wrap&4&&(r.check=Ia(r.check,n,h,a)),s-=h,a+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=dA;case dA:if(r.flags&4096){if(s===0)break e;h=0;do k=n[a+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&h<s);if(r.flags&512&&r.wrap&4&&(r.check=Ia(r.check,n,h,a)),s-=h,a+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=fA;case fA:if(r.flags&512){for(;d<16;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ir;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=go;break;case hA:for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}t.adler=r.check=AA(u),u=0,d=0,r.mode=im;case im:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=u,r.bits=d,eG;t.adler=r.check=1,r.mode=go;case go:if(e===ZV||e===gp)break e;case z0:if(r.last){u>>>=d&7,d-=d&7,r.mode=H0;break}for(;d<3;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=pA;break;case 1:if(lG(r),r.mode=vp,e===gp){u>>>=2,d-=2;break e}break;case 2:r.mode=gA;break;case 3:t.msg="invalid block type",r.mode=Ir}u>>>=2,d-=2;break;case pA:for(u>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ir;break}if(r.length=u&65535,u=0,d=0,r.mode=W0,e===gp)break e;case W0:r.mode=mA;case mA:if(h=r.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),o),s-=h,a+=h,l-=h,o+=h,r.length-=h;break}r.mode=go;break;case gA:for(;d<14;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ir;break}r.have=0,r.mode=vA;case vA:for(;r.have<r.ncode;){for(;d<3;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}r.lens[L[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},E=nf(JV,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,E){t.msg="invalid code lengths set",r.mode=Ir;break}r.have=0,r.mode=yA;case yA:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(w<16)u>>>=b,d-=b,r.lens[r.have++]=w;else{if(w===16){for(A=b+2;d<A;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=Ir;break}k=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=b+3;d<A;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=b,d-=b,k=0,h=3+(u&7),u>>>=3,d-=3}else{for(A=b+7;d<A;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=b,d-=b,k=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ir;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Ir)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ir;break}if(r.lenbits=9,I={bits:r.lenbits},E=nf(KI,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,E){t.msg="invalid literal/lengths set",r.mode=Ir;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},E=nf(XI,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,E){t.msg="invalid distances set",r.mode=Ir;break}if(r.mode=vp,e===gp)break e;case vp:r.mode=yp;case yp:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=u,r.bits=d,HV(t,p),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,u=r.hold,d=r.bits,r.mode===go&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(_&&(_&240)===0){for(S=b,j=_,C=w;v=r.lencode[C+((u&(1<<S+j)-1)>>S)],b=v>>>24,_=v>>>16&255,w=v&65535,!(S+b<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=S,d-=S,r.back+=S}if(u>>>=b,d-=b,r.back+=b,r.length=w,_===0){r.mode=SA;break}if(_&32){r.back=-1,r.mode=go;break}if(_&64){t.msg="invalid literal/length code",r.mode=Ir;break}r.extra=_&15,r.mode=bA;case bA:if(r.extra){for(A=r.extra;d<A;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=xA;case xA:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,_=v>>>16&255,w=v&65535,!(b<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if((_&240)===0){for(S=b,j=_,C=w;v=r.distcode[C+((u&(1<<S+j)-1)>>S)],b=v>>>24,_=v>>>16&255,w=v&65535,!(S+b<=d);){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}u>>>=S,d-=S,r.back+=S}if(u>>>=b,d-=b,r.back+=b,_&64){t.msg="invalid distance code",r.mode=Ir;break}r.offset=w,r.extra=_&15,r.mode=wA;case wA:if(r.extra){for(A=r.extra;d<A;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ir;break}r.mode=_A;case _A:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ir;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=i,g=o-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[o++]=m[g++];while(--h);r.length===0&&(r.mode=yp);break;case SA:if(l===0)break e;i[o++]=r.length,l--,r.mode=yp;break;case H0:if(r.wrap){for(;d<32;){if(s===0)break e;s--,u|=n[a++]<<d,d+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ia(r.check,i,p,o-p):Yw(r.check,i,p,o-p)),p=l,r.wrap&4&&(r.flags?u:AA(u))!==r.check){t.msg="incorrect data check",r.mode=Ir;break}u=0,d=0}r.mode=jA;case jA:if(r.wrap&&r.flags){for(;d<32;){if(s===0)break e;s--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ir;break}u=0,d=0}r.mode=NA;case NA:E=QV;break e;case Ir:E=JI;break e;case QI:return ZI;case e8:default:return Wi}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Ir&&(r.mode<H0||e!==nA))&&a8(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ia(r.check,i,p,t.next_out-p):Yw(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===go?128:0)+(r.mode===vp||r.mode===W0?256:0),(f===0&&p===0||e===nA)&&E===Il&&(E=tG),E},uG=t=>{if(Vl(t))return Wi;let e=t.state;return e.window&&(e.window=null),t.state=null,Il},dG=(t,e)=>{if(Vl(t))return Wi;const r=t.state;return(r.wrap&2)===0?Wi:(r.head=e,e.done=!1,Il)},fG=(t,e)=>{const r=e.length;let n,i,a;return Vl(t)||(n=t.state,n.wrap!==0&&n.mode!==im)?Wi:n.mode===im&&(i=1,i=Yw(i,e,r,0),i!==n.check)?JI:(a=a8(t,e,r,r),a?(n.mode=QI,ZI):(n.havedict=1,Il))};var hG=r8,pG=n8,mG=t8,gG=sG,vG=i8,yG=cG,bG=uG,xG=dG,wG=fG,_G="pako inflate (from Nodeca project)",So={inflateReset:hG,inflateReset2:pG,inflateResetKeep:mG,inflateInit:gG,inflateInit2:vG,inflate:yG,inflateEnd:bG,inflateGetHeader:xG,inflateSetDictionary:wG,inflateInfo:_G};function SG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var jG=SG;const o8=Object.prototype.toString,{Z_NO_FLUSH:NG,Z_FINISH:AG,Z_OK:vf,Z_STREAM_END:Y0,Z_NEED_DICT:K0,Z_STREAM_ERROR:PG,Z_DATA_ERROR:kA,Z_MEM_ERROR:kG}=VI;function ah(t){this.options=GI.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zV,this.strm.avail_out=0;let r=So.inflateInit2(this.strm,e.windowBits);if(r!==vf)throw new Error(Kw[r]);if(this.header=new jG,So.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Xw.string2buf(e.dictionary):o8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=So.inflateSetDictionary(this.strm,e.dictionary),r!==vf)))throw new Error(Kw[r])}ah.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?AG:NG,o8.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=So.inflate(r,o),a===K0&&i&&(a=So.inflateSetDictionary(r,i),a===vf?a=So.inflate(r,o):a===kA&&(a=K0));r.avail_in>0&&a===Y0&&r.state.wrap>0&&t[r.next_in]!==0;)So.inflateReset(r),a=So.inflate(r,o);switch(a){case PG:case kA:case K0:case kG:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===Y0))if(this.options.to==="string"){let l=Xw.utf8border(r.output,r.next_out),u=r.next_out-l,d=Xw.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===vf&&s===0)){if(a===Y0)return a=So.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ah.prototype.onData=function(t){this.chunks.push(t)};ah.prototype.onEnd=function(t){t===vf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=GI.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function CG(t,e){const r=new ah(e);if(r.push(t),r.err)throw r.msg||Kw[r.err];return r.result}var OG=ah,EG=CG,TG={Inflate:OG,inflate:EG};const{Inflate:IG,inflate:LG}=TG;var CA=IG,RG=LG;const s8=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;s8[t]=e}const OA=4294967295;function MG(t,e,r){let n=t;for(let i=0;i<r;i++)n=s8[(n^e[i])&255]^n>>>8;return n}function DG(t,e){return(MG(OA,t,e)^OA)>>>0}function EA(t,e,r){const n=t.readUint32(),i=DG(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function l8(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function c8(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function u8(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function d8(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function f8(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+$G(e[a-i],r[a],r[a-i])&255}}function $G(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function FG(t,e,r,n,i,a){switch(t){case 0:l8(e,r,i);break;case 1:c8(e,r,i,a);break;case 2:u8(e,r,n,i);break;case 3:d8(e,r,n,i,a);break;case 4:f8(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const BG=new Uint16Array([255]),qG=new Uint8Array(BG.buffer),UG=qG[0]===255;function zG(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(n*r*s);let u=0;for(let d=0;d<7;d++){const f=o[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*s,m=new Uint8Array(g);for(let v=0;v<h;v++){const b=e[u++],_=e.subarray(u,u+g);u+=g;const w=new Uint8Array(g);FG(b,_,w,m,g,s),m.set(w);for(let S=0;S<p;S++){const j=f.x+S*f.xStep,C=f.y+v*f.yStep;if(!(j>=r||C>=n))for(let k=0;k<s;k++)l[(C*r+j)*s+k]=w[S*s+k]}}}if(a===16){const d=new Uint16Array(l.buffer);if(UG)for(let f=0;f<d.length;f++)d[f]=WG(d[f]);return d}else return l}function WG(t){return(t&255)<<8|t>>8&255}const HG=new Uint16Array([255]),VG=new Uint8Array(HG.buffer),GG=VG[0]===255,YG=new Uint8Array(0);function TA(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*r),l=new Uint8Array(n*s);let u=YG,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+s),p=l.subarray(h*s,(h+1)*s),e[d]){case 0:l8(f,p,s);break;case 1:c8(f,p,s,o);break;case 2:u8(f,p,u,s);break;case 3:d8(f,p,u,s,o);break;case 4:f8(f,p,u,s,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=s+1}if(a===16){const h=new Uint16Array(l.buffer);if(GG)for(let g=0;g<h.length;g++)h[g]=KG(h[g]);return h}else return l}function KG(t){return(t&255)<<8|t>>8&255}const Up=Uint8Array.of(137,80,78,71,13,10,26,10);function IA(t){if(!XG(t.readBytes(Up.length)))throw new Error("wrong PNG signature")}function XG(t){if(t.length<Up.length)return!1;for(let e=0;e<Up.length;e++)if(t[e]!==Up[e])return!1;return!0}const JG="tEXt",ZG=0,h8=new TextDecoder("latin1");function QG(t){if(tY(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const eY=/^[\u0000-\u00FF]*$/;function tY(t){if(!eY.test(t))throw new Error("invalid latin1 text")}function rY(t,e,r){const n=p8(e);t[n]=nY(e,r-n.length-1)}function p8(t){for(t.mark();t.readByte()!==ZG;);const e=t.offset;t.reset();const r=h8.decode(t.readBytes(e-t.offset-1));return t.skip(1),QG(r),r}function nY(t,e){return h8.decode(t.readBytes(e))}const bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},X0={UNKNOWN:-1,DEFLATE:0},LA={UNKNOWN:-1,ADAPTIVE:0},J0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},bp={NONE:0,BACKGROUND:1,PREVIOUS:2},Z0={SOURCE:0,OVER:1};class iY extends p_{constructor(r,n={}){super(r);Jt(this,"_checkCrc");Jt(this,"_inflator");Jt(this,"_png");Jt(this,"_apng");Jt(this,"_end");Jt(this,"_hasPalette");Jt(this,"_palette");Jt(this,"_hasTransparency");Jt(this,"_transparency");Jt(this,"_compressionMethod");Jt(this,"_filterMethod");Jt(this,"_interlaceMethod");Jt(this,"_colorType");Jt(this,"_isAnimated");Jt(this,"_numberOfFrames");Jt(this,"_numberOfPlays");Jt(this,"_frames");Jt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new CA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=X0.UNKNOWN,this._filterMethod=LA.UNKNOWN,this._interlaceMethod=J0.UNKNOWN,this._colorType=bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(IA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(IA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case JG:rY(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?EA(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?EA(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=aY(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case bi.GREYSCALE:i=1;break;case bi.TRUECOLOUR:i=3;break;case bi.INDEXED_COLOUR:i=1;break;case bi.GREYSCALE_ALPHA:i=2;break;case bi.TRUECOLOUR_ALPHA:i=4;break;case bi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==X0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case bi.GREYSCALE:case bi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case bi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case bi.UNKNOWN:case bi.GREYSCALE_ALPHA:case bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=p8(this),i=this.readUint8();if(i!==X0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:RG(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=TA({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case bp.NONE:break;case bp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case bp.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,s)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,u=(o*n.width+s)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case Z0.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case Z0.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[l+d]);r.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==LA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===J0.NO_INTERLACE)this._png.data=TA({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===J0.ADAM7)this._png.data=zG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:bp.NONE,blendOp:Z0.SOURCE,data:r}),this._inflator=new CA,this._writingDataChunks=!1}}function aY(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var RA;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(RA||(RA={}));function oY(t,e){return new iY(t,e).decode()}var wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Q0(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var mr={log:Q0,warn:function(t){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):Q0.call(null,arguments))},error:function(t){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):Q0(t))}};function ey(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){fl(n.response,e,r)},n.onerror=function(){mr.error("could not download file")},n.send()}function MA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fl=wt.saveAs||((typeof window>"u"?"undefined":cr(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=wt.URL||wt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?MA(i.href)?ey(t,e,r):xp(i,i.target="_blank"):xp(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(MA(t))ey(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){xp(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:cr(a)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return ey(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(wt.HTMLElement)||wt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":cr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var d=s.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},s.readAsDataURL(t)}else{var l=wt.URL||wt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}var zp=wt.atob.bind(wt),DA=wt.btoa.bind(wt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ty(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Tn(r,n,i,a,e[0],7,-680876936),a=Tn(a,r,n,i,e[1],12,-389564586),i=Tn(i,a,r,n,e[2],17,606105819),n=Tn(n,i,a,r,e[3],22,-1044525330),r=Tn(r,n,i,a,e[4],7,-176418897),a=Tn(a,r,n,i,e[5],12,1200080426),i=Tn(i,a,r,n,e[6],17,-1473231341),n=Tn(n,i,a,r,e[7],22,-45705983),r=Tn(r,n,i,a,e[8],7,1770035416),a=Tn(a,r,n,i,e[9],12,-1958414417),i=Tn(i,a,r,n,e[10],17,-42063),n=Tn(n,i,a,r,e[11],22,-1990404162),r=Tn(r,n,i,a,e[12],7,1804603682),a=Tn(a,r,n,i,e[13],12,-40341101),i=Tn(i,a,r,n,e[14],17,-1502002290),r=In(r,n=Tn(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=In(a,r,n,i,e[6],9,-1069501632),i=In(i,a,r,n,e[11],14,643717713),n=In(n,i,a,r,e[0],20,-373897302),r=In(r,n,i,a,e[5],5,-701558691),a=In(a,r,n,i,e[10],9,38016083),i=In(i,a,r,n,e[15],14,-660478335),n=In(n,i,a,r,e[4],20,-405537848),r=In(r,n,i,a,e[9],5,568446438),a=In(a,r,n,i,e[14],9,-1019803690),i=In(i,a,r,n,e[3],14,-187363961),n=In(n,i,a,r,e[8],20,1163531501),r=In(r,n,i,a,e[13],5,-1444681467),a=In(a,r,n,i,e[2],9,-51403784),i=In(i,a,r,n,e[7],14,1735328473),r=Ln(r,n=In(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ln(a,r,n,i,e[8],11,-2022574463),i=Ln(i,a,r,n,e[11],16,1839030562),n=Ln(n,i,a,r,e[14],23,-35309556),r=Ln(r,n,i,a,e[1],4,-1530992060),a=Ln(a,r,n,i,e[4],11,1272893353),i=Ln(i,a,r,n,e[7],16,-155497632),n=Ln(n,i,a,r,e[10],23,-1094730640),r=Ln(r,n,i,a,e[13],4,681279174),a=Ln(a,r,n,i,e[0],11,-358537222),i=Ln(i,a,r,n,e[3],16,-722521979),n=Ln(n,i,a,r,e[6],23,76029189),r=Ln(r,n,i,a,e[9],4,-640364487),a=Ln(a,r,n,i,e[12],11,-421815835),i=Ln(i,a,r,n,e[15],16,530742520),r=Rn(r,n=Ln(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Rn(a,r,n,i,e[7],10,1126891415),i=Rn(i,a,r,n,e[14],15,-1416354905),n=Rn(n,i,a,r,e[5],21,-57434055),r=Rn(r,n,i,a,e[12],6,1700485571),a=Rn(a,r,n,i,e[3],10,-1894986606),i=Rn(i,a,r,n,e[10],15,-1051523),n=Rn(n,i,a,r,e[1],21,-2054922799),r=Rn(r,n,i,a,e[8],6,1873313359),a=Rn(a,r,n,i,e[15],10,-30611744),i=Rn(i,a,r,n,e[6],15,-1560198380),n=Rn(n,i,a,r,e[13],21,1309151649),r=Rn(r,n,i,a,e[4],6,-145523070),a=Rn(a,r,n,i,e[11],10,-1120210379),i=Rn(i,a,r,n,e[2],15,718787259),n=Rn(n,i,a,r,e[9],21,-343485551),t[0]=ws(r,t[0]),t[1]=ws(n,t[1]),t[2]=ws(i,t[2]),t[3]=ws(a,t[3])}function Eg(t,e,r,n,i,a){return e=ws(ws(e,t),ws(n,a)),ws(e<<i|e>>>32-i,r)}function Tn(t,e,r,n,i,a,o){return Eg(e&r|~e&n,t,e,i,a,o)}function In(t,e,r,n,i,a,o){return Eg(e&n|r&~n,t,e,i,a,o)}function Ln(t,e,r,n,i,a,o){return Eg(e^r^n,t,e,i,a,o)}function Rn(t,e,r,n,i,a,o){return Eg(r^(e|~n),t,e,i,a,o)}function g8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ty(n,sY(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ty(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,ty(n,i),n}function sY(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var $A="0123456789abcdef".split("");function lY(t){for(var e="",r=0;r<4;r++)e+=$A[t>>8*r+4&15]+$A[t>>8*r&15];return e}function cY(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Jw(t){return g8(t).map(cY).join("")}var uY=(function(t){for(var e=0;e<t.length;e++)t[e]=lY(t[e]);return t.join("")})(g8("hello"))!="5d41402abc4b2a76b9719d911017c592";function ws(t,e){if(uY){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zw(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var d=s[l];u=(u+d+o.charCodeAt(l))%256,s[l]=s[u],s[u]=d}r=t,n=s}else s=n;var f=e.length,p=0,h=0,g="";for(l=0;l<f;l++)h=(h+(d=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=d,o=s[(s[p]+s[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var FA={print:4,modify:8,copy:16,"annot-forms":32};function Uc(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(FA.perm!==void 0)throw new Error("Invalid permission: "+s);i+=FA[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Jw(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Zw(this.encryptionKey,this.padding)}function zc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function BA(t){if(cr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(s){wt.console&&mr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function am(t){if(!(this instanceof am))return new am(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function v8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function vl(t,e,r,n,i){if(!(this instanceof vl))return new vl(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,v8.call(this,n,i)}function Hc(t,e,r,n,i){if(!(this instanceof Hc))return new Hc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,v8.call(this,n,i)}function lt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",d=null;cr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=BA;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(P){g=P};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var b=h.__private__.getPageFormat=function(P){return v[P]};i=i||"a4";var _="compat",w="advanced",S=_;function j(){this.saveGraphicsState(),Q(new Be(ut,0,0,-ut,0,di()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",S=w}function C(){this.restoreGraphicsState(),u="S",S=_}var k=h.__private__.combineFontStyleAndFontWeight=function(P,q){if(P=="bold"&&q=="normal"||P=="bold"&&q==400||P=="normal"&&q=="italic"||P=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(P=q==400||q==="normal"?P==="italic"?"italic":"normal":q!=700&&q!=="bold"||P!=="normal"?(q==700?"bold":q)+""+P:"bold"),P};h.advancedAPI=function(P){var q=S===_;return q&&j.call(this),typeof P!="function"||(P(this),q&&C.call(this)),this},h.compatAPI=function(P){var q=S===w;return q&&C.call(this),typeof P!="function"||(P(this),q&&j.call(this)),this},h.isAdvancedAPI=function(){return S===w};var E,T=function(P){if(S!==w)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=h.roundToPrecision=h.__private__.roundToPrecision=function(P,q){var ne=e||q;if(isNaN(P)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(ne).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof l=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return I(P,l)}:l==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return I(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return I(P,16)};var A=h.f2=h.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return I(P,2)},L=h.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return I(P,3)},D=h.scale=h.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return S===_?P*ut:S===w?P:void 0},F=function(P){return D((function(q){return S===_?di()-q:S===w?q:void 0})(P))};h.__private__.setPrecision=h.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(e=parseInt(P,10))};var X,Y="00000000000000000000000000000000",V=h.__private__.getFileId=function(){return Y},$=h.__private__.setFileId=function(P){return Y=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Hr=new Uc(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};h.setFileId=function(P){return $(P),this},h.getFileId=function(){return V()};var ie=h.__private__.convertDateToPDFDate=function(P){var q=P.getTimezoneOffset(),ne=q<0?"+":"-",ce=Math.floor(Math.abs(q/60)),ve=Math.abs(q%60),Ne=[ne,z(ce),"'",z(ve),"'"].join("");return["D:",P.getFullYear(),z(P.getMonth()+1),z(P.getDate()),z(P.getHours()),z(P.getMinutes()),z(P.getSeconds()),Ne].join("")},re=h.__private__.convertPDFDateToDate=function(P){var q=parseInt(P.substr(2,4),10),ne=parseInt(P.substr(6,2),10)-1,ce=parseInt(P.substr(8,2),10),ve=parseInt(P.substr(10,2),10),Ne=parseInt(P.substr(12,2),10),Ee=parseInt(P.substr(14,2),10);return new Date(q,ne,ce,ve,Ne,Ee,0)},se=h.__private__.setCreationDate=function(P){var q;if(P===void 0&&(P=new Date),P instanceof Date)q=ie(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=P}return X=q},M=h.__private__.getCreationDate=function(P){var q=X;return P==="jsDate"&&(q=re(X)),q};h.setCreationDate=function(P){return se(P),this},h.getCreationDate=function(P){return M(P)};var U,z=h.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},Z=h.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},le=0,oe=[],de=[],ae=0,he=[],ge=[],ue=!1,ke=de;h.__private__.setCustomOutputDestination=function(P){ue=!0,ke=P};var me=function(P){ue||(ke=P)};h.__private__.resetCustomOutputDestination=function(){ue=!1,ke=de};var Q=h.__private__.out=function(P){return P=P.toString(),ae+=P.length+1,ke.push(P),ke},We=h.__private__.write=function(P){return Q(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},Fe=h.__private__.getArrayBuffer=function(P){for(var q=P.length,ne=new ArrayBuffer(q),ce=new Uint8Array(ne);q--;)ce[q]=P.charCodeAt(q);return ne},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ue};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(P){return Pe=S===w?P/ut:P,this};var Qe,Le=h.__private__.getFontSize=h.getFontSize=function(){return S===_?Pe:Pe*ut},Ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(P){return Ke=P,this},h.__private__.getR2L=h.getR2L=function(){return Ke};var He,Ut=h.__private__.setZoomMode=function(P){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))Qe=P;else if(isNaN(P)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');Qe=P}else Qe=parseInt(P,10)};h.__private__.getZoomMode=function(){return Qe};var mt,gt=h.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');He=P};h.__private__.getPageMode=function(){return He};var er=h.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');mt=P};h.__private__.getLayoutMode=function(){return mt},h.__private__.setDisplayMode=h.setDisplayMode=function(P,q,ne){return Ut(P),er(q),gt(ne),this};var jt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(P){if(Object.keys(jt).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jt[P]},h.__private__.getDocumentProperties=function(){return jt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(P){for(var q in jt)jt.hasOwnProperty(q)&&P[q]&&(jt[q]=P[q]);return this},h.__private__.setDocumentProperty=function(P,q){if(Object.keys(jt).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jt[P]=q};var it,ut,ot,Vt,Gt,nt={},_t={},tr=[],ft={},Rt={},ht={},Mr={},Wr=null,rr=0,vt=[],$e=new BA(h),vr=t.hotfixes||[],Yt={},Dr={},Bn=[],Be=function P(q,ne,ce,ve,Ne,Ee){if(!(this instanceof P))return new P(q,ne,ce,ve,Ne,Ee);isNaN(q)&&(q=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(Ne)&&(Ne=0),isNaN(Ee)&&(Ee=0),this._matrix=[q,ne,ce,ve,Ne,Ee]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(P)},Be.prototype.multiply=function(P){var q=P.sx*this.sx+P.shy*this.shx,ne=P.sx*this.shy+P.shy*this.sy,ce=P.shx*this.sx+P.sy*this.shx,ve=P.shx*this.shy+P.sy*this.sy,Ne=P.tx*this.sx+P.ty*this.shx+this.tx,Ee=P.tx*this.shy+P.ty*this.sy+this.ty;return new Be(q,ne,ce,ve,Ne,Ee)},Be.prototype.decompose=function(){var P=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Ne=this.ty,Ee=Math.sqrt(P*P+q*q),et=(P/=Ee)*ne+(q/=Ee)*ce;ne-=P*et,ce-=q*et;var at=Math.sqrt(ne*ne+ce*ce);return et/=at,P*(ce/=at)<q*(ne/=at)&&(P=-P,q=-q,et=-et,Ee=-Ee),{scale:new Be(Ee,0,0,at,0,0),translate:new Be(1,0,0,1,ve,Ne),rotate:new Be(P,q,-q,P,0,0),skew:new Be(1,0,et,1,0,0)}},Be.prototype.toString=function(P){return this.join(" ")},Be.prototype.inversed=function(){var P=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Ne=this.ty,Ee=1/(P*ce-q*ne),et=ce*Ee,at=-q*Ee,xt=-ne*Ee,Ct=P*Ee;return new Be(et,at,xt,Ct,-et*ve-xt*Ne,-at*ve-Ct*Ne)},Be.prototype.applyToPoint=function(P){var q=P.x*this.sx+P.y*this.shx+this.tx,ne=P.x*this.shy+P.y*this.sy+this.ty;return new Xs(q,ne)},Be.prototype.applyToRectangle=function(P){var q=this.applyToPoint(P),ne=this.applyToPoint(new Xs(P.x+P.w,P.y+P.h));return new md(q.x,q.y,ne.x-q.x,ne.y-q.y)},Be.prototype.clone=function(){var P=this.sx,q=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,Ne=this.ty;return new Be(P,q,ne,ce,ve,Ne)},h.Matrix=Be;var Fr=h.matrixMult=function(P,q){return q.multiply(P)},ei=new Be(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ei;var Er=function(P,q){if(!Rt[P]){var ne=(q instanceof vl?"Sh":"P")+(Object.keys(ft).length+1).toString(10);q.id=ne,Rt[P]=ne,ft[ne]=q,$e.publish("addPattern",q)}};h.ShadingPattern=vl,h.TilingPattern=Hc,h.addShadingPattern=function(P,q){return T("addShadingPattern()"),Er(P,q),this},h.beginTilingPattern=function(P){T("beginTilingPattern()"),gd(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},h.endTilingPattern=function(P,q){T("endTilingPattern()"),q.stream=ge[U].join(`
`),Er(P,q),$e.publish("endTilingPattern",q),Bn.pop().restore()};var Tr,Pr=h.__private__.newObject=function(){var P=yr();return bn(P,!0),P},yr=h.__private__.newObjectDeferred=function(){return le++,oe[le]=function(){return ae},le},bn=function(P,q){return q=typeof q=="boolean"&&q,oe[P]=ae,q&&Q(P+" 0 obj"),P},qs=h.__private__.newAdditionalObject=function(){var P={objId:yr(),content:""};return he.push(P),P},Yo=yr(),Yi=yr(),Sa=h.__private__.decodeColorString=function(P){var q=P.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ne=parseFloat(q[0]);q=[ne,ne,ne,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(q[ve])).toString(16)).slice(-2);return ce},Ki=h.__private__.encodeColorString=function(P){var q;typeof P=="string"&&(P={ch1:P});var ne=P.ch1,ce=P.ch2,ve=P.ch3,Ne=P.ch4,Ee=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var et=new m8(ne);if(et.ok)ne=et.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var at=parseInt(ne.substr(1),16);ne=at>>16&255,ce=at>>8&255,ve=255&at}if(ce===void 0||Ne===void 0&&ne===ce&&ce===ve)q=typeof ne=="string"?ne+" "+Ee[0]:P.precision===2?A(ne/255)+" "+Ee[0]:L(ne/255)+" "+Ee[0];else if(Ne===void 0||cr(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return["1.","1.","1.",Ee[1]].join(" ");q=typeof ne=="string"?[ne,ce,ve,Ee[1]].join(" "):P.precision===2?[A(ne/255),A(ce/255),A(ve/255),Ee[1]].join(" "):[L(ne/255),L(ce/255),L(ve/255),Ee[1]].join(" ")}else q=typeof ne=="string"?[ne,ce,ve,Ne,Ee[2]].join(" "):P.precision===2?[A(ne),A(ce),A(ve),A(Ne),Ee[2]].join(" "):[L(ne),L(ce),L(ve),L(Ne),Ee[2]].join(" ");return q},Xi=h.__private__.getFilters=function(){return o},Ei=h.__private__.putStream=function(P){var q=(P=P||{}).data||"",ne=P.filters||Xi(),ce=P.alreadyAppliedFilters||[],ve=P.addLength1||!1,Ne=q.length,Ee=P.objectId,et=function(sn){return sn};if(d!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(et=Hr.encryptor(Ee,0));var at={};ne===!0&&(ne=["FlateEncode"]);var xt=P.additionalKeyValues||[],Ct=(at=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(q,ne):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(at.data.length!==0&&(xt.push({key:"Length",value:at.data.length}),ve===!0&&xt.push({key:"Length1",value:Ne})),Ct.length!=0)if(Ct.split("/").length-1==1)xt.push({key:"Filter",value:Ct});else{xt.push({key:"Filter",value:"["+Ct+"]"});for(var Qt=0;Qt<xt.length;Qt+=1)if(xt[Qt].key==="DecodeParms"){for(var $r=[],tn=0;tn<at.reverseChain.split("/").length-1;tn+=1)$r.push("null");$r.push(xt[Qt].value),xt[Qt].value="["+$r.join(" ")+"]"}}Q("<<");for(var fr=0;fr<xt.length;fr++)Q("/"+xt[fr].key+" "+xt[fr].value);Q(">>"),at.data.length!==0&&(Q("stream"),Q(et(at.data)),Q("endstream"))},Us=h.__private__.putPage=function(P){var q=P.number,ne=P.data,ce=P.objId,ve=P.contentsObjId;bn(ce,!0),Q("<</Type /Page"),Q("/Parent "+P.rootDictionaryObjId+" 0 R"),Q("/Resources "+P.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(E(P.mediaBox.bottomLeftX))+" "+parseFloat(E(P.mediaBox.bottomLeftY))+" "+E(P.mediaBox.topRightX)+" "+E(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Q("/CropBox ["+E(P.cropBox.bottomLeftX)+" "+E(P.cropBox.bottomLeftY)+" "+E(P.cropBox.topRightX)+" "+E(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Q("/BleedBox ["+E(P.bleedBox.bottomLeftX)+" "+E(P.bleedBox.bottomLeftY)+" "+E(P.bleedBox.topRightX)+" "+E(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Q("/TrimBox ["+E(P.trimBox.bottomLeftX)+" "+E(P.trimBox.bottomLeftY)+" "+E(P.trimBox.topRightX)+" "+E(P.trimBox.topRightY)+"]"),P.artBox!==null&&Q("/ArtBox ["+E(P.artBox.bottomLeftX)+" "+E(P.artBox.bottomLeftY)+" "+E(P.artBox.topRightX)+" "+E(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Q("/UserUnit "+P.userUnit),$e.publish("putPage",{objId:ce,pageContext:vt[q],pageNumber:q,page:ne}),Q("/Contents "+ve+" 0 R"),Q(">>"),Q("endobj");var Ne=ne.join(`
`);return S===w&&(Ne+=`
Q`),bn(ve,!0),Ei({data:Ne,filters:Xi(),objectId:ve}),Q("endobj"),ce},ja=h.__private__.putPages=function(){var P,q,ne=[];for(P=1;P<=rr;P++)vt[P].objId=yr(),vt[P].contentsObjId=yr();for(P=1;P<=rr;P++)ne.push(Us({number:P,data:ge[P],objId:vt[P].objId,contentsObjId:vt[P].contentsObjId,mediaBox:vt[P].mediaBox,cropBox:vt[P].cropBox,bleedBox:vt[P].bleedBox,trimBox:vt[P].trimBox,artBox:vt[P].artBox,userUnit:vt[P].userUnit,rootDictionaryObjId:Yo,resourceDictionaryObjId:Yi}));bn(Yo,!0),Q("<</Type /Pages");var ce="/Kids [";for(q=0;q<rr;q++)ce+=ne[q]+" 0 R ";Q(ce+"]"),Q("/Count "+rr),Q(">>"),Q("endobj"),$e.publish("postPutPages")},zs=function(P){$e.publish("putFont",{font:P,out:Q,newObject:Pr,putStream:Ei}),P.isAlreadyPutted!==!0&&(P.objectNumber=Pr(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+zc(P.postScriptName)),Q("/Subtype /Type1"),typeof P.encoding=="string"&&Q("/Encoding /"+P.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Ql=function(P){P.objectNumber=Pr();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[E(P.x),E(P.y),E(P.x+P.width),E(P.y+P.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var ne=P.pages[1].join(`
`);Ei({data:ne,additionalKeyValues:q,objectId:P.objectNumber}),Q("endobj")},ec=function(P,q){q||(q=21);var ne=Pr(),ce=(function(Ee,et){var at,xt=[],Ct=1/(et-1);for(at=0;at<1;at+=Ct)xt.push(at);if(xt.push(1),Ee[0].offset!=0){var Qt={offset:0,color:Ee[0].color};Ee.unshift(Qt)}if(Ee[Ee.length-1].offset!=1){var $r={offset:1,color:Ee[Ee.length-1].color};Ee.push($r)}for(var tn="",fr=0,sn=0;sn<xt.length;sn++){for(at=xt[sn];at>Ee[fr+1].offset;)fr++;var rn=Ee[fr].offset,An=(at-rn)/(Ee[fr+1].offset-rn),ao=Ee[fr].color,Jo=Ee[fr+1].color;tn+=Z(Math.round((1-An)*ao[0]+An*Jo[0]).toString(16))+Z(Math.round((1-An)*ao[1]+An*Jo[1]).toString(16))+Z(Math.round((1-An)*ao[2]+An*Jo[2]).toString(16))}return tn.trim()})(P.colors,q),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+q+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ei({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),Q("endobj"),P.objectNumber=Pr(),Q("<< /ShadingType "+P.type),Q("/ColorSpace /DeviceRGB");var Ne="/Coords ["+E(parseFloat(P.coords[0]))+" "+E(parseFloat(P.coords[1]))+" ";P.type===2?Ne+=E(parseFloat(P.coords[2]))+" "+E(parseFloat(P.coords[3])):Ne+=E(parseFloat(P.coords[2]))+" "+E(parseFloat(P.coords[3]))+" "+E(parseFloat(P.coords[4]))+" "+E(parseFloat(P.coords[5])),Q(Ne+="]"),P.matrix&&Q("/Matrix ["+P.matrix.toString()+"]"),Q("/Function "+ne+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},tc=function(P,q){var ne=yr(),ce=Pr();q.push({resourcesOid:ne,objectOid:ce}),P.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+P.boundingBox.map(E).join(" ")+"]"}),ve.push({key:"XStep",value:E(P.xStep)}),ve.push({key:"YStep",value:E(P.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),P.matrix&&ve.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Ei({data:P.stream,additionalKeyValues:ve,objectId:P.objectNumber}),Q("endobj")},Dv=function(P){for(var q in P.objectNumber=Pr(),Q("<<"),P)switch(q){case"opacity":Q("/ca "+A(P[q]));break;case"stroke-opacity":Q("/CA "+A(P[q]))}Q(">>"),Q("endobj")},ad=function(P){bn(P.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in Q("/Font <<"),nt)nt.hasOwnProperty(q)&&(f===!1||f===!0&&p.hasOwnProperty(q))&&Q("/"+q+" "+nt[q].objectNumber+" 0 R");Q(">>")})(),(function(){if(Object.keys(ft).length>0){for(var q in Q("/Shading <<"),ft)ft.hasOwnProperty(q)&&ft[q]instanceof vl&&ft[q].objectNumber>=0&&Q("/"+q+" "+ft[q].objectNumber+" 0 R");$e.publish("putShadingPatternDict"),Q(">>")}})(),(function(q){if(Object.keys(ft).length>0){for(var ne in Q("/Pattern <<"),ft)ft.hasOwnProperty(ne)&&ft[ne]instanceof h.TilingPattern&&ft[ne].objectNumber>=0&&ft[ne].objectNumber<q&&Q("/"+ne+" "+ft[ne].objectNumber+" 0 R");$e.publish("putTilingPatternDict"),Q(">>")}})(P.objectOid),(function(){if(Object.keys(ht).length>0){var q;for(q in Q("/ExtGState <<"),ht)ht.hasOwnProperty(q)&&ht[q].objectNumber>=0&&Q("/"+q+" "+ht[q].objectNumber+" 0 R");$e.publish("putGStateDict"),Q(">>")}})(),(function(){for(var q in Q("/XObject <<"),Yt)Yt.hasOwnProperty(q)&&Yt[q].objectNumber>=0&&Q("/"+q+" "+Yt[q].objectNumber+" 0 R");$e.publish("putXobjectDict"),Q(">>")})(),Q(">>"),Q("endobj")},jh=function(P){_t[P.fontName]=_t[P.fontName]||{},_t[P.fontName][P.fontStyle]=P.id},Nh=function(P,q,ne,ce,ve){var Ne={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:P,fontName:q,fontStyle:ne,encoding:ce,isStandardFont:ve||!1,metadata:{}};return $e.publish("addFont",{font:Ne,instance:this}),nt[Ne.id]=Ne,jh(Ne),Ne.id},Ti=h.__private__.pdfEscape=h.pdfEscape=function(P,q){return(function(ne,ce){var ve,Ne,Ee,et,at,xt,Ct,Qt,$r;if(Ee=(ce=ce||{}).sourceEncoding||"Unicode",at=ce.outputEncoding,(ce.autoencode||at)&&nt[it].metadata&&nt[it].metadata[Ee]&&nt[it].metadata[Ee].encoding&&(et=nt[it].metadata[Ee].encoding,!at&&nt[it].encoding&&(at=nt[it].encoding),!at&&et.codePages&&(at=et.codePages[0]),typeof at=="string"&&(at=et[at]),at)){for(Ct=!1,xt=[],ve=0,Ne=ne.length;ve<Ne;ve++)(Qt=at[ne.charCodeAt(ve)])?xt.push(String.fromCharCode(Qt)):xt.push(ne[ve]),xt[ve].charCodeAt(0)>>8&&(Ct=!0);ne=xt.join("")}for(ve=ne.length;Ct===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(Ct=!0),ve--;if(!Ct)return ne;for(xt=ce.noBOM?[]:[254,255],ve=0,Ne=ne.length;ve<Ne;ve++){if(($r=(Qt=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push($r),xt.push(Qt-($r<<8))}return String.fromCharCode.apply(void 0,xt)})(P,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},od=h.__private__.beginPage=function(P){ge[++rr]=[],vt[rr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},Ph(rr),me(ge[U])},Ah=function(P,q){var ne,ce,ve;switch(r=q||r,typeof P=="string"&&(ne=b(P.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ve=ne[1])),Array.isArray(P)&&(ce=P[0]*ut,ve=P[1]*ut),isNaN(ce)&&(ce=i[0],ve=i[1]),(ce>14400||ve>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),i=[ce,ve],r.substr(0,1)){case"l":ve>ce&&(i=[ve,ce]);break;case"p":ce>ve&&(i=[ve,ce])}od(i),Vv(dd),Q(nc),hd!==0&&Q(hd+" J"),pd!==0&&Q(pd+" j"),$e.publish("addPage",{pageNumber:rr})},sd=function(P){P>0&&P<=rr&&(ge.splice(P,1),vt.splice(P,1),rr--,U>rr&&(U=rr),this.setPage(U))},Ph=function(P){P>0&&P<=rr&&(U=P)},kh=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ge.length-1},Ch=function(P,q,ne){var ce,ve=void 0;return ne=ne||{},P=P!==void 0?P:nt[it].fontName,q=q!==void 0?q:nt[it].fontStyle,ce=P.toLowerCase(),_t[ce]!==void 0&&_t[ce][q]!==void 0?ve=_t[ce][q]:_t[P]!==void 0&&_t[P][q]!==void 0?ve=_t[P][q]:ne.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+P+"', '"+q+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=_t.times[q])==null&&(ve=_t.times.normal),ve},rc=h.__private__.putInfo=function(){var P=Pr(),q=function(ce){return ce};for(var ne in d!==null&&(q=Hr.encryptor(P,0)),Q("<<"),Q("/Producer ("+Ti(q("jsPDF "+lt.version))+")"),jt)jt.hasOwnProperty(ne)&&jt[ne]&&Q("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Ti(q(jt[ne]))+")");Q("/CreationDate ("+Ti(q(X))+")"),Q(">>"),Q("endobj")},$v=h.__private__.putCatalog=function(P){var q=(P=P||{}).rootDictionaryObjId||Yo;switch(Pr(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+q+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Qe;ne.substr(ne.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+A(Qe)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}He&&Q("/PageMode /"+He),$e.publish("putCatalog"),Q(">>"),Q("endobj")},en=h.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(le+1)),Q("/Root "+le+" 0 R"),Q("/Info "+(le-1)+" 0 R"),d!==null&&Q("/Encrypt "+Hr.oid+" 0 R"),Q("/ID [ <"+Y+"> <"+Y+"> ]"),Q(">>")},Oh=h.__private__.putHeader=function(){Q("%PDF-"+g),Q("%")},Eh=h.__private__.putXRef=function(){var P="0000000000";Q("xref"),Q("0 "+(le+1)),Q("0000000000 65535 f ");for(var q=1;q<=le;q++)typeof oe[q]=="function"?Q((P+oe[q]()).slice(-10)+" 00000 n "):oe[q]!==void 0?Q((P+oe[q]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},ro=h.__private__.buildDocument=function(){var P;le=0,ae=0,de=[],oe=[],he=[],Yo=yr(),Yi=yr(),me(de),$e.publish("buildDocument"),Oh(),ja(),(function(){$e.publish("putAdditionalObjects");for(var ne=0;ne<he.length;ne++){var ce=he[ne];bn(ce.objId,!0),Q(ce.content),Q("endobj")}$e.publish("postPutAdditionalObjects")})(),P=[],(function(){for(var ne in nt)nt.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&zs(nt[ne])})(),(function(){var ne;for(ne in ht)ht.hasOwnProperty(ne)&&Dv(ht[ne])})(),(function(){for(var ne in Yt)Yt.hasOwnProperty(ne)&&Ql(Yt[ne])})(),(function(ne){var ce;for(ce in ft)ft.hasOwnProperty(ce)&&(ft[ce]instanceof vl?ec(ft[ce]):ft[ce]instanceof Hc&&tc(ft[ce],ne))})(P),$e.publish("putResources"),P.forEach(ad),ad({resourcesOid:Yi,objectOid:Number.MAX_SAFE_INTEGER}),$e.publish("postPutResources"),d!==null&&(Hr.oid=Pr(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Hr.v),Q("/R "+Hr.r),Q("/U <"+Hr.toHexString(Hr.U)+">"),Q("/O <"+Hr.toHexString(Hr.O)+">"),Q("/P "+Hr.P),Q(">>"),Q("endobj")),rc(),$v();var q=ae;return Eh(),en(),Q("startxref"),Q(""+q),Q("%%EOF"),me(ge[U]),de.join(`
`)},Ws=h.__private__.getBlob=function(P){return new Blob([Fe(P)],{type:"application/pdf"})},Ji=h.output=h.__private__.output=(Tr=function(P,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",P){case void 0:return ro();case"save":h.save(q.filename);break;case"arraybuffer":return Fe(ro());case"blob":return Ws(ro());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Ws(ro()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=ro();try{ne=DA(ce)}catch{ne=DA(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+q.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(ve=q.pdfObjectUrl,Ne="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",et=wt.open();return et!==null&&et.document.write(Ee),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',xt=wt.open();if(xt!==null){xt.document.write(at);var Ct=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=q.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',$r=wt.open();if($r!==null&&($r.document.write(Qt),$r.document.title=q.filename),$r||typeof safari>"u")return $r;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",q);default:return null}},Tr.foo=function(){try{return Tr.apply(this,arguments)}catch(ne){var P=ne.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var q="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ne.message;if(!wt.console)throw new Error(q);wt.console.error(q,ne),wt.alert&&alert(q)}},Tr.foo.bar=Tr,Tr.foo),Hs=function(P){return Array.isArray(vr)===!0&&vr.indexOf(P)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Hs("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var Hr=null;se(),$();var ld=h.__private__.getPageInfo=h.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[P].objId,pageNumber:P,pageContext:vt[P]}},Fv=h.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in vt)if(vt[q].objId===P)break;return ld(q)},Bv=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:vt[U].objId,pageNumber:U,pageContext:vt[U]}};h.addPage=function(){return Ah.apply(this,arguments),this},h.setPage=function(){return Ph.apply(this,arguments),me.call(this,ge[U]),this},h.insertPage=function(P){return this.addPage(),this.movePage(U,P),this},h.movePage=function(P,q){var ne,ce;if(P>q){ne=ge[P],ce=vt[P];for(var ve=P;ve>q;ve--)ge[ve]=ge[ve-1],vt[ve]=vt[ve-1];ge[q]=ne,vt[q]=ce,this.setPage(q)}else if(P<q){ne=ge[P],ce=vt[P];for(var Ne=P;Ne<q;Ne++)ge[Ne]=ge[Ne+1],vt[Ne]=vt[Ne+1];ge[q]=ne,vt[q]=ce,this.setPage(q)}return this},h.deletePage=function(){return sd.apply(this,arguments),this},h.__private__.text=h.text=function(P,q,ne,ce,ve){var Ne,Ee,et,at,xt,Ct,Qt,$r,tn,fr=(ce=ce||{}).scope||this;if(typeof P=="number"&&typeof q=="number"&&(typeof ne=="string"||Array.isArray(ne))){var sn=ne;ne=q,q=P,P=sn}if(arguments[3]instanceof Be==0?(et=arguments[4],at=arguments[5],cr(Qt=arguments[3])==="object"&&Qt!==null||(typeof et=="string"&&(at=et,et=null),typeof Qt=="string"&&(at=Qt,Qt=null),typeof Qt=="number"&&(et=Qt,Qt=null),ce={flags:Qt,angle:et,align:at})):(T("The transform parameter of text() with a Matrix value"),tn=ve),isNaN(q)||isNaN(ne)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return fr;var rn,An="",ao=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Gs,Jo=fr.internal.scaleFactor;function Qv(br){return br=br.split("	").join(Array(ce.TabLen||9).join(" ")),Ti(br,Qt)}function Lh(br){for(var xr,Gr=br.concat(),Yr=[],co=Gr.length;co--;)typeof(xr=Gr.shift())=="string"?Yr.push(xr):Array.isArray(br)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?Yr.push(xr[0]):Yr.push([xr[0],xr[1],xr[2]]);return Yr}function Zs(br,xr){var Gr;if(typeof br=="string")Gr=xr(br)[0];else if(Array.isArray(br)){for(var Yr,co,pc=br.concat(),Ea=[],Ad=pc.length;Ad--;)typeof(Yr=pc.shift())=="string"?Ea.push(xr(Yr)[0]):Array.isArray(Yr)&&typeof Yr[0]=="string"&&(co=xr(Yr[0],Yr[1],Yr[2]),Ea.push([co[0],co[1],co[2]]));Gr=Ea}return Gr}var Zi=!1,bd=!0;if(typeof P=="string")Zi=!0;else if(Array.isArray(P)){var sc=P.concat();Ee=[];for(var Zo,xn=sc.length;xn--;)(typeof(Zo=sc.shift())!="string"||Array.isArray(Zo)&&typeof Zo[0]!="string")&&(bd=!1);Zi=bd}if(Zi===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var oo=Pe/fr.internal.scaleFactor,so=oo*(ao-1);switch(ce.baseline){case"bottom":ne-=so;break;case"top":ne+=oo-so;break;case"hanging":ne+=oo-2*so;break;case"middle":ne+=oo/2-so}if((Ct=ce.maxWidth||0)>0&&(typeof P=="string"?P=fr.splitTextToSize(P,Ct):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(br,xr){return br.concat(fr.splitTextToSize(xr,Ct))},[]))),Ne={text:P,x:q,y:ne,options:ce,mutex:{pdfEscape:Ti,activeFontKey:it,fonts:nt,activeFontSize:Pe}},$e.publish("preProcessText",Ne),P=Ne.text,et=(ce=Ne.options).angle,tn instanceof Be==0&&et&&typeof et=="number"){et*=Math.PI/180,ce.rotationDirection===0&&(et=-et),S===w&&(et=-et);var lc=Math.cos(et),xd=Math.sin(et);tn=new Be(lc,xd,-xd,lc,0,0)}else et&&et instanceof Be&&(tn=et);S!==w||tn||(tn=ei),(xt=ce.charSpace||ac)!==void 0&&(An+=E(D(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($r=ce.horizontalScale)!==void 0&&(An+=E(100*$r)+` Tz
`),ce.lang;var qn=-1,Rh=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,cc=fr.internal.getCurrentPageInfo().pageContext;switch(Rh){case 0:case!1:case"fill":qn=0;break;case 1:case!0:case"stroke":qn=1;break;case 2:case"fillThenStroke":qn=2;break;case 3:case"invisible":qn=3;break;case 4:case"fillAndAddForClipping":qn=4;break;case 5:case"strokeAndAddPathForClipping":qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qn=6;break;case 7:case"addToPathForClipping":qn=7}var Mh=cc.usedRenderingMode!==void 0?cc.usedRenderingMode:-1;qn!==-1?An+=qn+` Tr
`:Mh!==-1&&(An+=`0 Tr
`),qn!==-1&&(cc.usedRenderingMode=qn),at=ce.align||"left";var ln,Ii=Pe*ao,wd=fr.internal.pageSize.getWidth(),_d=nt[it];xt=ce.charSpace||ac,Ct=ce.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Qo=[],uc=function(br){return fr.getStringUnitWidth(br,{font:_d,charSpace:xt,fontSize:Pe,doKerning:!1})*Pe/Jo};if(Object.prototype.toString.call(P)==="[object Array]"){var ti;Ee=Lh(P),at!=="left"&&(ln=Ee.map(uc));var ri,Qs=0;if(at==="right"){q-=ln[0],P=[],xn=Ee.length;for(var Pa=0;Pa<xn;Pa++)Pa===0?(ri=no(q),ti=io(ne)):(ri=D(Qs-ln[Pa]),ti=-Ii),P.push([Ee[Pa],ri,ti]),Qs=ln[Pa]}else if(at==="center"){q-=ln[0]/2,P=[],xn=Ee.length;for(var es=0;es<xn;es++)es===0?(ri=no(q),ti=io(ne)):(ri=D((Qs-ln[es])/2),ti=-Ii),P.push([Ee[es],ri,ti]),Qs=ln[es]}else if(at==="left"){P=[],xn=Ee.length;for(var Sd=0;Sd<xn;Sd++)P.push(Ee[Sd])}else if(at==="justify"&&_d.encoding==="Identity-H"){P=[],xn=Ee.length,Ct=Ct!==0?Ct:wd;for(var ts=0,Vr=0;Vr<xn;Vr++)if(ti=Vr===0?io(ne):-Ii,ri=Vr===0?no(q):ts,Vr<xn-1){var e0=D((Ct-ln[Vr])/(Ee[Vr].split(" ").length-1)),ka=Ee[Vr].split(" ");P.push([ka[0]+" ",ri,ti]),ts=0;for(var Ca=1;Ca<ka.length;Ca++){var dc=(uc(ka[Ca-1]+" "+ka[Ca])-uc(ka[Ca]))*Jo+e0;Ca==ka.length-1?P.push([ka[Ca],dc,0]):P.push([ka[Ca]+" ",dc,0]),ts-=dc}}else P.push([Ee[Vr],ri,ti]);P.push(["",ts,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],xn=Ee.length,Ct=Ct!==0?Ct:wd,Vr=0;Vr<xn;Vr++)ti=Vr===0?io(ne):-Ii,ri=Vr===0?no(q):0,Vr<xn-1?Qo.push(E(D((Ct-ln[Vr])/(Ee[Vr].split(" ").length-1)))):Qo.push(0),P.push([Ee[Vr],ri,ti])}}(typeof ce.R2L=="boolean"?ce.R2L:Ke)===!0&&(P=Zs(P,function(br,xr,Gr){return[br.split("").reverse().join(""),xr,Gr]})),Ne={text:P,x:q,y:ne,options:ce,mutex:{pdfEscape:Ti,activeFontKey:it,fonts:nt,activeFontSize:Pe}},$e.publish("postProcessText",Ne),P=Ne.text,rn=Ne.mutex.isHex||!1;var jd=nt[it].encoding;jd!=="WinAnsiEncoding"&&jd!=="StandardEncoding"||(P=Zs(P,function(br,xr,Gr){return[Qv(br),xr,Gr]})),Ee=Lh(P),P=[];for(var fc,hc,el,tl=Array.isArray(Ee[0])?1:0,lo="",Nd=function(br,xr,Gr){var Yr="";return Gr instanceof Be?(Gr=typeof ce.angle=="number"?Fr(Gr,new Be(1,0,0,1,br,xr)):Fr(new Be(1,0,0,1,br,xr),Gr),S===w&&(Gr=Fr(new Be(1,0,0,-1,0,0),Gr)),Yr=Gr.join(" ")+` Tm
`):Yr=E(br)+" "+E(xr)+` Td
`,Yr},fi=0;fi<Ee.length;fi++){switch(lo="",tl){case 1:el=(rn?"<":"(")+Ee[fi][0]+(rn?">":")"),fc=parseFloat(Ee[fi][1]),hc=parseFloat(Ee[fi][2]);break;case 0:el=(rn?"<":"(")+Ee[fi]+(rn?">":")"),fc=no(q),hc=io(ne)}Qo!==void 0&&Qo[fi]!==void 0&&(lo=Qo[fi]+` Tw
`),fi===0?P.push(lo+Nd(fc,hc,tn)+el):tl===0?P.push(lo+el):tl===1&&P.push(lo+Nd(fc,hc,tn)+el)}P=tl===0?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Oa=`BT
/`;return Oa+=it+" "+Pe+` Tf
`,Oa+=E(Pe*ao)+` TL
`,Oa+=Ys+`
`,Oa+=An,Oa+=P,Q(Oa+="ET"),p[it]=!0,fr};var qv=h.__private__.clip=h.clip=function(P){return Q(P==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return qv("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Q("n"),this};var Na=h.__private__.isValidStyle=function(P){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(q=!0),q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(P){return Na(P)&&(u=P),this};var Th=h.__private__.getStyle=h.getStyle=function(P){var q=u;switch(P){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=P}return q},Ih=h.close=function(){return Q("h"),this};h.stroke=function(){return Q("S"),this},h.fill=function(P){return Ko("f",P),this},h.fillEvenOdd=function(P){return Ko("f*",P),this},h.fillStroke=function(P){return Ko("B",P),this},h.fillStrokeEvenOdd=function(P){return Ko("B*",P),this};var Ko=function(P,q){cr(q)==="object"?zv(q,P):Q(P)},cd=function(P){P===null||S===w&&P===void 0||(P=Th(P),Q(P))};function Uv(P,q,ne,ce,ve){var Ne=new Hc(q||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);Ne.stream=this.stream;var Ee=P+"$$"+this.cloneIndex+++"$$";return Er(Ee,Ne),Ne}var zv=function(P,q){var ne=Rt[P.key],ce=ft[ne];if(ce instanceof vl)Q("q"),Q(Wv(q)),ce.gState&&h.setGState(ce.gState),Q(P.matrix.toString()+" cm"),Q("/"+ne+" sh"),Q("Q");else if(ce instanceof Hc){var ve=new Be(1,0,0,-1,0,di());P.matrix&&(ve=ve.multiply(P.matrix||ei),ne=Uv.call(ce,P.key,P.boundingBox,P.xStep,P.yStep,ve).id),Q("q"),Q("/Pattern cs"),Q("/"+ne+" scn"),ce.gState&&h.setGState(ce.gState),Q(q),Q("Q")}},Wv=function(P){switch(P){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ud=h.moveTo=function(P,q){return Q(E(D(P))+" "+E(F(q))+" m"),this},Vs=h.lineTo=function(P,q){return Q(E(D(P))+" "+E(F(q))+" l"),this},Xo=h.curveTo=function(P,q,ne,ce,ve,Ne){return Q([E(D(P)),E(F(q)),E(D(ne)),E(F(ce)),E(D(ve)),E(F(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(P,q,ne,ce,ve){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Na(ve))throw new Error("Invalid arguments passed to jsPDF.line");return S===_?this.lines([[ne-P,ce-q]],P,q,[1,1],ve||"S"):this.lines([[ne-P,ce-q]],P,q,[1,1]).stroke()},h.__private__.lines=h.lines=function(P,q,ne,ce,ve,Ne){var Ee,et,at,xt,Ct,Qt,$r,tn,fr,sn,rn,An;if(typeof P=="number"&&(An=ne,ne=q,q=P,P=An),ce=ce||[1,1],Ne=Ne||!1,isNaN(q)||isNaN(ne)||!Array.isArray(P)||!Array.isArray(ce)||!Na(ve)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ud(q,ne),Ee=ce[0],et=ce[1],xt=P.length,sn=q,rn=ne,at=0;at<xt;at++)(Ct=P[at]).length===2?(sn=Ct[0]*Ee+sn,rn=Ct[1]*et+rn,Vs(sn,rn)):(Qt=Ct[0]*Ee+sn,$r=Ct[1]*et+rn,tn=Ct[2]*Ee+sn,fr=Ct[3]*et+rn,sn=Ct[4]*Ee+sn,rn=Ct[5]*et+rn,Xo(Qt,$r,tn,fr,sn,rn));return Ne&&Ih(),cd(ve),this},h.path=function(P){for(var q=0;q<P.length;q++){var ne=P[q],ce=ne.c;switch(ne.op){case"m":ud(ce[0],ce[1]);break;case"l":Vs(ce[0],ce[1]);break;case"c":Xo.apply(this,ce);break;case"h":Ih()}}return this},h.__private__.rect=h.rect=function(P,q,ne,ce,ve){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Na(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return S===_&&(ce=-ce),Q([E(D(P)),E(F(q)),E(D(ne)),E(D(ce)),"re"].join(" ")),cd(ve),this},h.__private__.triangle=h.triangle=function(P,q,ne,ce,ve,Ne,Ee){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Ne)||!Na(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-P,ce-q],[ve-ne,Ne-ce],[P-ve,q-Ne]],P,q,[1,1],Ee,!0),this},h.__private__.roundedRect=h.roundedRect=function(P,q,ne,ce,ve,Ne,Ee){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(Ne)||!Na(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Ne=Math.min(Ne,.5*ce),this.lines([[ne-2*ve,0],[ve*et,0,ve,Ne-Ne*et,ve,Ne],[0,ce-2*Ne],[0,Ne*et,-ve*et,Ne,-ve,Ne],[2*ve-ne,0],[-ve*et,0,-ve,-Ne*et,-ve,-Ne],[0,2*Ne-ce],[0,-Ne*et,ve*et,-Ne,ve,-Ne]],P+ve,q,[1,1],Ee,!0),this},h.__private__.ellipse=h.ellipse=function(P,q,ne,ce,ve){if(isNaN(P)||isNaN(q)||isNaN(ne)||isNaN(ce)||!Na(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*ne,Ee=4/3*(Math.SQRT2-1)*ce;return ud(P+ne,q),Xo(P+ne,q-Ee,P+Ne,q-ce,P,q-ce),Xo(P-Ne,q-ce,P-ne,q-Ee,P-ne,q),Xo(P-ne,q+Ee,P-Ne,q+ce,P,q+ce),Xo(P+Ne,q+ce,P+ne,q+Ee,P+ne,q),cd(ve),this},h.__private__.circle=h.circle=function(P,q,ne,ce){if(isNaN(P)||isNaN(q)||isNaN(ne)||!Na(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,q,ne,ne,ce)},h.setFont=function(P,q,ne){return ne&&(q=k(q,ne)),it=Ch(P,q,{disableWarning:!1}),this};var Hv=h.__private__.getFont=h.getFont=function(){return nt[Ch.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var P,q,ne={};for(P in _t)if(_t.hasOwnProperty(P))for(q in ne[P]=[],_t[P])_t[P].hasOwnProperty(q)&&ne[P].push(q);return ne},h.addFont=function(P,q,ne,ce,ve){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(ne=k(ne,ce)),Nh.call(this,P,q,ne,ve=ve||"Identity-H")};var Gs,dd=t.lineWidth||.200025,Nt=h.__private__.getLineWidth=h.getLineWidth=function(){return dd},Vv=h.__private__.setLineWidth=h.setLineWidth=function(P){return dd=P,Q(E(D(P))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(P,q){if(P=P||[],q=q||0,isNaN(q)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(ne){return E(D(ne))}).join(" "),q=E(D(q)),Q("["+P+"] "+q+" d"),this};var Gv=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Gs};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Gs};var Yv=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Gs=P),this},Kv=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Gs};Yv(t.lineHeight);var no=h.__private__.getHorizontalCoordinate=function(P){return D(P)},io=h.__private__.getVerticalCoordinate=function(P){return S===w?P:vt[U].mediaBox.topRightY-vt[U].mediaBox.bottomLeftY-D(P)},Xv=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(P){return E(no(P))},Jv=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(P){return E(io(P))},nc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Sa(nc)},h.__private__.setStrokeColor=h.setDrawColor=function(P,q,ne,ce){return nc=Ki({ch1:P,ch2:q,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),Q(nc),this};var fd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Sa(fd)},h.__private__.setFillColor=h.setFillColor=function(P,q,ne,ce){return fd=Ki({ch1:P,ch2:q,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),Q(fd),this};var Ys=t.textColor||"0 g",ic=h.__private__.getTextColor=h.getTextColor=function(){return Sa(Ys)};h.__private__.setTextColor=h.setTextColor=function(P,q,ne,ce){return Ys=Ki({ch1:P,ch2:q,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var ac=t.charSpace,Zv=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ac||0)};h.__private__.setCharSpace=h.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ac=P,this};var hd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(P){var q=h.CapJoinStyles[P];if(q===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hd=q,Q(q+" J"),this};var pd=0;h.__private__.setLineJoin=h.setLineJoin=function(P){var q=h.CapJoinStyles[P];if(q===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pd=q,Q(q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(E(D(P))+" M"),this},h.GState=am,h.setGState=function(P){(P=typeof P=="string"?ht[Mr[P]]:Ks(null,P)).equals(Wr)||(Q("/"+P.id+" gs"),Wr=P)};var Ks=function(P,q){if(!P||!Mr[P]){var ne=!1;for(var ce in ht)if(ht.hasOwnProperty(ce)&&ht[ce].equals(q)){ne=!0;break}if(ne)q=ht[ce];else{var ve="GS"+(Object.keys(ht).length+1).toString(10);ht[ve]=q,q.id=ve}return P&&(Mr[P]=q.id),$e.publish("addGState",q),q}};h.addGState=function(P,q){return Ks(P,q),this},h.saveGraphicsState=function(){return Q("q"),tr.push({key:it,size:Pe,color:Ys}),this},h.restoreGraphicsState=function(){Q("Q");var P=tr.pop();return it=P.key,Pe=P.size,Ys=P.color,Wr=null,this},h.setCurrentTransformationMatrix=function(P){return Q(P.toString()+" cm"),this},h.comment=function(P){return Q("#"+P),this};var Xs=function(P,q){var ne=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ne){isNaN(Ne)||(ne=parseFloat(Ne))}});var ce=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ne){ve=Ne.toString()}}),this},md=function(P,q,ne,ce){Xs.call(this,P,q),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ee){isNaN(Ee)||(ve=parseFloat(Ee))}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Ee){isNaN(Ee)||(Ne=parseFloat(Ee))}}),this},oc=function(){this.page=rr,this.currentPage=U,this.pages=ge.slice(0),this.pagesContext=vt.slice(0),this.x=ot,this.y=Vt,this.matrix=Gt,this.width=vd(U),this.height=di(U),this.outputDestination=ke,this.id="",this.objectNumber=-1};oc.prototype.restore=function(){rr=this.page,U=this.currentPage,vt=this.pagesContext,ge=this.pages,ot=this.x,Vt=this.y,Gt=this.matrix,yd(U,this.width),Aa(U,this.height),ke=this.outputDestination};var gd=function(P,q,ne,ce,ve){Bn.push(new oc),rr=U=0,ge=[],ot=P,Vt=q,Gt=ve,od([ne,ce])};for(var Js in h.beginFormObject=function(P,q,ne,ce,ve){return gd(P,q,ne,ce,ve),this},h.endFormObject=function(P){return(function(q){if(Dr[q])Bn.pop().restore();else{var ne=new oc,ce="Xo"+(Object.keys(Yt).length+1).toString(10);ne.id=ce,Dr[q]=ce,Yt[ce]=ne,$e.publish("addFormObject",ne),Bn.pop().restore()}})(P),this},h.doFormObject=function(P,q){var ne=Yt[Dr[P]];return Q("q"),Q(q.toString()+" cm"),Q("/"+ne.id+" Do"),Q("Q"),this},h.getFormObject=function(P){var q=Yt[Dr[P]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},h.save=function(P,q){return P=P||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(fl(Ws(ro()),P),typeof fl.unload=="function"&&wt.setTimeout&&setTimeout(fl.unload,911),this):new Promise(function(ne,ce){try{var ve=fl(Ws(ro()),P);typeof fl.unload=="function"&&wt.setTimeout&&setTimeout(fl.unload,911),ne(ve)}catch(Ne){ce(Ne.message)}})},lt.API)lt.API.hasOwnProperty(Js)&&(Js==="events"&&lt.API.events.length?(function(P,q){var ne,ce,ve;for(ve=q.length-1;ve!==-1;ve--)ne=q[ve][0],ce=q[ve][1],P.subscribe.apply(P,[ne].concat(typeof ce=="function"?[ce]:ce))})($e,lt.API.events):h[Js]=lt.API[Js]);var vd=h.getPageWidth=function(P){return(vt[P=P||U].mediaBox.topRightX-vt[P].mediaBox.bottomLeftX)/ut},yd=h.setPageWidth=function(P,q){vt[P].mediaBox.topRightX=q*ut+vt[P].mediaBox.bottomLeftX},di=h.getPageHeight=function(P){return(vt[P=P||U].mediaBox.topRightY-vt[P].mediaBox.bottomLeftY)/ut},Aa=h.setPageHeight=function(P,q){vt[P].mediaBox.topRightY=q*ut+vt[P].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ti,getStyle:Th,getFont:Hv,getFontSize:Le,getCharSpace:Zv,getTextColor:ic,getLineHeight:Gv,getLineHeightFactor:Kv,getLineWidth:Nt,write:We,getHorizontalCoordinate:no,getVerticalCoordinate:io,getCoordinateString:Xv,getVerticalCoordinateString:Jv,collections:{},newObject:Pr,newAdditionalObject:qs,newObjectDeferred:yr,newObjectDeferredBegin:bn,getFilters:Xi,putStream:Ei,events:$e,scaleFactor:ut,pageSize:{getWidth:function(){return vd(U)},setWidth:function(P){yd(U,P)},getHeight:function(){return di(U)},setHeight:function(P){Aa(U,P)}},encryptionOptions:d,encryption:Hr,getEncryptor:function(P){return d!==null?Hr.encryptor(P,0):function(q){return q}},output:Ji,getNumberOfPages:kh,pages:ge,out:Q,f2:A,f3:L,getPageInfo:ld,getPageInfoByObjId:Fv,getCurrentPageInfo:Bv,getPDFVersion:m,Point:Xs,Rectangle:md,Matrix:Be,hasHotfix:Hs},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return vd(U)},set:function(P){yd(U,P)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return di(U)},set:function(P){Aa(U,P)},enumerable:!0,configurable:!0}),(function(P){for(var q=0,ne=Ue.length;q<ne;q++){var ce=Nh.call(this,P[q][0],P[q][1],P[q][2],Ue[q][3],!0);f===!1&&(p[ce]=!0);var ve=P[q][0].split("-");jh({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}$e.publish("addFonts",{fonts:nt,dictionary:_t})}).call(h,Ue),it="F1",Ah(i,r),$e.publish("initialized"),h}Uc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Uc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uc.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Uc.prototype.processOwnerPassword=function(t,e){return Zw(Jw(e).substr(0,5),t)},Uc.prototype.encryptor=function(t,e){var r=Jw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Zw(r,n)}},am.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||cr(t)!==cr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},lt.API={events:[]},lt.version="3.0.2";var Ur=lt.API,m_=1,Gl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ec=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},ds=function(t){return t.toFixed(5)};Ur.__acroform__={};var ci=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qA=function(t){return t*m_},La=function(t){var e=new b8,r=Ze.internal.getHeight(t)||0,n=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(At(n)),Number(At(r))],e},dY=Ur.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},fY=Ur.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},hY=Ur.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Jr=Ur.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hY(t,e-1)},Zr=Ur.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dY(t,e-1)},Qr=Ur.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fY(t,e-1)},pY=Ur.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+s)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(a)||0,[Number(At(l.lowerLeft_X)),Number(At(l.lowerLeft_Y)),Number(At(l.upperRight_X)),Number(At(l.upperRight_Y))]},mY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Qw(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+At(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=La(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Qw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var a=r,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var s=Ze.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(A,L,D){if(A+1<i.length){var F=L+" "+i[A+1][0];return wp(F,t,D).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,f=wp("3",t,a).height,p=t.multiline?o-a:(o-f)/2,h=p+=2,g=0,m=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+wp(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var b="",_=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var S=!1;if(i[w].length!==1&&v!==i[w].length-1){if((f+2)*(_+2)+2>o)continue e;b+=i[w][v],S=!0,m=w,w--}else{b=(b+=i[w][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var j=parseInt(w),C=l(j,b,a),k=w>=i.length-1;if(C&&!k){b+=" ",v=0;continue}if(C||k){if(k)m=j;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;m=j}}for(var E="",T=g;T<=m;T++){var I=i[T];if(t.multiline){if(T===m){E+=I[v]+" ",v=(v+1)%I.length;continue}if(T===g){E+=I[I.length-1]+" ";continue}}E+=I[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=wp(E,t,a).width,t.textAlign){case"right":u=s-d-2;break;case"center":u=(s-d)/2;break;default:u=2}e+=At(u)+" "+At(h)+` Td
`,e+="("+Gl(E)+`) Tj
`,e+=-At(u)+` 0 Td
`,h=-(a+2),d=0,g=S?m:m+1,_++,b=""}break}return n.text=e,n.fontSize=a,n},wp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},gY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vY=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},yY=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(gY)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");m_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new x8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&vY(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=pY(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Ze.createDefaultAppearanceStream(s),cr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var d=mY(s);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(i,s)),f+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,s)),f+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&(function(m,v){for(var b in m)if(m.hasOwnProperty(b)){var _=b,w=m[b];v.internal.newObjectDeferredBegin(w.objId,!0),cr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[_]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},y8=Ur.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),cr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Gl(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ry=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Gl(n(t))+")"},Fa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fa.prototype.toString=function(){return this.objId+" 0 R"},Fa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Fa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:y8(i,this.objId,this.scope)}):i instanceof Fa?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var b8=function(){Fa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ci(b8,Fa);var x8=function(){Fa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Gl(r(t))+")"}},set:function(r){t=r}})};ci(x8,Fa);var xa=function t(){Fa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(e,3)},set:function(b){b?this.F=Zr(e,3):this.F=Qr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof om)return;a="FieldObject"+t.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Gl(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/m_:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof om||this instanceof Al))return ry(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Sn==0?ry(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Sn==0?b.substr(0,1)==="("?Ec(b.substr(1,b.length-2)):Ec(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn==1?Ec(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Sn==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Sn==0?ry(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof Sn==0?b.substr(0,1)==="("?Ec(b.substr(1,b.length-2)):Ec(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn==1?Ec(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof Sn==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(b){b=!!b,m=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(b){b?this.Ff=Zr(this.Ff,1):this.Ff=Qr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(b){b?this.Ff=Zr(this.Ff,2):this.Ff=Qr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(b){b?this.Ff=Zr(this.Ff,3):this.Ff=Qr(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ci(xa,Fa);var Zc=function(){xa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y8(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(r){r?this.Ff=Zr(this.Ff,18):this.Ff=Qr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zr(this.Ff,19):this.Ff=Qr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(r){r?(this.Ff=Zr(this.Ff,20),e.sort()):this.Ff=Qr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(r){r?this.Ff=Zr(this.Ff,22):this.Ff=Qr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(r){r?this.Ff=Zr(this.Ff,23):this.Ff=Qr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(r){r?this.Ff=Zr(this.Ff,27):this.Ff=Qr(this.Ff,27)}}),this.hasAppearanceStream=!1};ci(Zc,xa);var Qc=function(){Zc.call(this),this.fontName="helvetica",this.combo=!1};ci(Qc,Zc);var eu=function(){Qc.call(this),this.combo=!0};ci(eu,Qc);var Wp=function(){eu.call(this),this.edit=!0};ci(Wp,eu);var Sn=function(){xa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(r){r?this.Ff=Zr(this.Ff,15):this.Ff=Qr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(r){r?this.Ff=Zr(this.Ff,16):this.Ff=Qr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(r){r?this.Ff=Zr(this.Ff,17):this.Ff=Qr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(r){r?this.Ff=Zr(this.Ff,26):this.Ff=Qr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Gl(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){cr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ci(Sn,xa);var Hp=function(){Sn.call(this),this.pushButton=!0};ci(Hp,Sn);var tu=function(){Sn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ci(tu,Sn);var om=function(){var t,e;xa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Gl(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){cr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ci(om,xa),tu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},tu.prototype.createOption=function(t){var e=new om;return e.Parent=this,e.optionName=t,this.Kids.push(e),bY.call(this.scope,e),e};var Vp=function(){Sn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};ci(Vp,Sn);var Al=function(){xa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(e){e?this.Ff=Zr(this.Ff,13):this.Ff=Qr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(e){e?this.Ff=Zr(this.Ff,21):this.Ff=Qr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=Qr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(e){e?this.Ff=Zr(this.Ff,24):this.Ff=Qr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(e){e?this.Ff=Zr(this.Ff,25):this.Ff=Qr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=Qr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ci(Al,xa);var Gp=function(){Al.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(t){t?this.Ff=Zr(this.Ff,14):this.Ff=Qr(this.Ff,14)}}),this.password=!0};ci(Gp,Al);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=La(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Qw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+At(Ze.internal.getWidth(t))+" "+At(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+At(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=La(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),s=Qw(t,t.caption);return i.push("1 g"),i.push("0 0 "+At(o)+" "+At(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(o-1)+" "+At(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+At(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=La(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ze.internal.getWidth(t))+" "+At(Ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=La(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ze.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ds(Ze.internal.getWidth(t)/2)+" "+ds(Ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=La(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((n*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ds(Ze.internal.getWidth(t)/2)+" "+ds(Ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ds(Ze.internal.getWidth(t)/2)+" "+ds(Ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=La(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ds(Ze.internal.getWidth(t)/2)+" "+ds(Ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=La(t);e.scope=t.scope;var r=[],n=Ze.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+At(Ze.internal.getWidth(t)-2)+" "+At(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),r.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),r.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),r.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=La(t);e.scope=t.scope;var r=Ze.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+At(Ze.internal.getWidth(t))+" "+At(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+At(Ze.internal.getWidth(t)-2)+" "+At(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),n.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),n.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),n.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=La(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(Ze.internal.getWidth(t))+" "+At(Ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),r=Ze.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ze.internal.getWidth=function(t){var e=0;return cr(t)==="object"&&(e=qA(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return cr(t)==="object"&&(e=qA(t.Rect[3])),e};var bY=Ur.addField=function(t){if(yY(this,t),!(t instanceof xa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ur.AcroFormChoiceField=Zc,Ur.AcroFormListBox=Qc,Ur.AcroFormComboBox=eu,Ur.AcroFormEditBox=Wp,Ur.AcroFormButton=Sn,Ur.AcroFormPushButton=Hp,Ur.AcroFormRadioButton=tu,Ur.AcroFormCheckBox=Vp,Ur.AcroFormTextField=Al,Ur.AcroFormPasswordField=Gp,Ur.AcroFormAppearance=Ze,Ur.AcroForm={ChoiceField:Zc,ListBox:Qc,ComboBox:eu,EditBox:Wp,Button:Sn,PushButton:Hp,RadioButton:tu,CheckBox:Vp,TextField:Al,PasswordField:Gp,Appearance:Ze},lt.AcroForm={ChoiceField:Zc,ListBox:Qc,ComboBox:eu,EditBox:Wp,Button:Sn,PushButton:Hp,RadioButton:tu,CheckBox:Vp,TextField:Al,PasswordField:Gp,Appearance:Ze};lt.AcroForm;function w8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(A,L){var D,F,X,Y,V,$=r;if((L=L||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(C(A))for(V in n)for(X=n[V],D=0;D<X.length;D+=1){for(Y=!0,F=0;F<X[D].length;F+=1)if(X[D][F]!==void 0&&X[D][F]!==A[F]){Y=!1;break}if(Y===!0){$=V;break}}else for(V in n)for(X=n[V],D=0;D<X.length;D+=1){for(Y=!0,F=0;F<X[D].length;F+=1)if(X[D][F]!==void 0&&X[D][F]!==A.charCodeAt(F)){Y=!1;break}if(Y===!0){$=V;break}}return $===r&&L!==r&&($=L),$},a=function A(L){for(var D=this.internal.write,F=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:L.width}),Y.push({key:"Height",value:L.height}),L.colorSpace===b.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===b.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var V="",$=0,ie=L.transparency.length;$<ie;$++)V+=L.transparency[$]+" "+L.transparency[$]+" ";Y.push({key:"Mask",value:"["+V+"]"})}L.sMask!==void 0&&Y.push({key:"SMask",value:L.objectId+1+" 0 R"});var re=L.filter!==void 0?["/"+L.filter]:void 0;if(F({data:L.data,additionalKeyValues:Y,alreadyAppliedFilters:re,objectId:L.objectId}),D("endobj"),"sMask"in L&&L.sMask!==void 0){var se=(L.predictor!=null?"/Predictor "+L.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+L.width,M={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:se,data:L.sMask};"filter"in L&&(M.filter=L.filter),A.call(this,M)}if(L.colorSpace===b.INDEXED){var U=this.internal.newObject();F({data:E(new Uint8Array(L.palette)),objectId:U}),D("endobj")}},o=function(){var A=this.internal.collections[e+"images"];for(var L in A)a.call(this,A[L])},s=function(){var A,L=this.internal.collections[e+"images"],D=this.internal.write;for(var F in L)D("/I"+(A=L[F]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(A){return typeof t["process"+A.toUpperCase()]=="function"},p=function(A){return cr(A)==="object"&&A.nodeType===1},h=function(A,L){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var D=""+A.getAttribute("src");if(D.indexOf("data:image/")===0)return zp(unescape(D).split("base64,").pop());var F=t.loadFile(D,!0);if(F!==void 0)return F}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var X;switch(L){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return zp(A.toDataURL(X,1).split("base64,").pop())}},g=function(A){var L=this.internal.collections[e+"images"];if(L){for(var D in L)if(A===L[D].alias)return L[D]}},m=function(A,L,D){return A||L||(A=-96,L=-96),A<0&&(A=-1*D.width*72/A/this.internal.scaleFactor),L<0&&(L=-1*D.height*72/L/this.internal.scaleFactor),A===0&&(A=L*D.width/D.height),L===0&&(L=A*D.height/D.width),[A,L]},v=function(A,L,D,F,X,Y){var V=m.call(this,D,F,X),$=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,re=u.call(this);if(D=V[0],F=V[1],re[X.index]=X,Y){Y*=Math.PI/180;var se=Math.cos(Y),M=Math.sin(Y),U=function(Z){return Z.toFixed(4)},z=[U(se),U(M),U(-1*M),U(se),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,$(A),ie(L+F),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([$(D),"0","0",$(F),"0","0","cm"].join(" "))):this.internal.write([$(D),"0","0",$(F),$(A),ie(L+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(A){var L,D,F=0;if(typeof A=="string")for(D=A.length,L=0;L<D;L++)F=(F<<5)-F+A.charCodeAt(L),F|=0;else if(C(A))for(D=A.byteLength/2,L=0;L<D;L++)F=(F<<5)-F+A[L],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var L=!0;return A.length===0&&(L=!1),A.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(L=!1),L},j=t.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var L=A.indexOf(",");return L<0?null:A.substring(0,L).trim().endsWith("base64")?A.substring(L+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(A){for(var L=A.length,D=new Uint8Array(L),F=0;F<L;F++)D[F]=A.charCodeAt(F);return D},E=t.__addimage__.arrayBufferToBinaryString=function(A){for(var L="",D=C(A)?A:new Uint8Array(A),F=0;F<D.length;F+=8192)L+=String.fromCharCode.apply(null,D.subarray(F,F+8192));return L};t.addImage=function(){var A,L,D,F,X,Y,V,$,ie;if(typeof arguments[1]=="number"?(L=r,D=arguments[1],F=arguments[2],X=arguments[3],Y=arguments[4],V=arguments[5],$=arguments[6],ie=arguments[7]):(L=arguments[1],D=arguments[2],F=arguments[3],X=arguments[4],Y=arguments[5],V=arguments[6],$=arguments[7],ie=arguments[8]),cr(A=arguments[0])==="object"&&!p(A)&&"imageData"in A){var re=A;A=re.imageData,L=re.format||L||r,D=re.x||D||0,F=re.y||F||0,X=re.w||re.width||X,Y=re.h||re.height||Y,V=re.alias||V,$=re.compression||$,ie=re.rotation||re.angle||ie}var se=this.internal.getFilters();if($===void 0&&se.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(D)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=T.call(this,A,L,V,$);return v.call(this,D,F,X,Y,M,ie),this};var T=function(A,L,D,F){var X,Y,V;if(typeof A=="string"&&i(A)===r){A=unescape(A);var $=I(A,!1);($!==""||($=t.loadFile(A,!0))!==void 0)&&(A=$)}if(p(A)&&(A=h(A,L)),L=i(A,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((V=D)==null||V.length===0)&&(D=(function(ie){return typeof ie=="string"||C(ie)?w(ie):C(ie.data)?w(ie.data):null})(A)),(X=g.call(this,D))||(A instanceof Uint8Array||L==="RGBA"||(Y=A,A=k(A)),X=this["process"+L.toUpperCase()](A,d.call(this),D,(function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:_.NONE})(F),Y)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},I=t.__addimage__.convertBase64ToBinaryString=function(A,L){L=typeof L!="boolean"||L;var D,F="";if(typeof A=="string"){var X;D=(X=j(A))!==null&&X!==void 0?X:A;try{F=zp(D)}catch(Y){if(L)throw S(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(A){var L,D,F="";if(p(A)&&(A=h(A)),typeof A=="string"&&i(A)===r&&((F=I(A,!1))===""&&(F=t.loadFile(A)||""),A=F),D=i(A),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(A instanceof Uint8Array||(A=k(A)),!(L=this["process"+D.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=D,L}})(lt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(m.objId),_=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(b(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(b(_))+") >>",m.content=a;var w=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var C=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var d=this.splitTextToSize(r,s).length;o=Math.ceil(u*d)}else s=l,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,s,o,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(lt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},s=t.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&a(m)&&e[m.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(m){var v=0,b=r,_="",w=0;for(v=0;v<m.length;v+=1)b[m.charCodeAt(v)]!==void 0?(w++,typeof(b=b[m.charCodeAt(v)])=="number"&&(_+=String.fromCharCode(b),b=r,w=0),v===m.length-1&&(b=r,_+=m.charAt(v-(w-1)),v-=w-1,w=0)):(b=r,_+=m.charAt(v-w),v-=w,w=0);return _};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(m,v,b){return o(m)?a(m)===!1?-1:!u(m)||!o(v)&&!o(b)||!o(b)&&s(v)||s(m)&&!o(v)||s(m)&&l(v)||s(m)&&s(v)?0:d(m)&&o(v)&&!s(v)&&o(b)&&u(b)?3:s(m)||!o(b)?1:2:-1},h=function(m){var v=0,b=0,_=0,w="",S="",j="",C=(m=m||"").split("\\s+"),k=[];for(v=0;v<C.length;v+=1){for(k.push(""),b=0;b<C[v].length;b+=1)w=C[v][b],S=C[v][b-1],j=C[v][b+1],o(w)?(_=p(w,S,j),k[v]+=_!==-1?String.fromCharCode(e[w.charCodeAt(0)][_]):w):k[v]+=w;k[v]=f(k[v])}return k.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var _=0;for(b=[],_=0;_<v.length;_+=1)Array.isArray(v[_])?b.push([h(v[_][0]),v[_][1],v[_][2]]):b.push([h(v[_])]);m=b}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])})(lt.API),lt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(lt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=u.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,S){return w.concat(v.splitTextToSize(S,b))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)h<(m=this.getStringUnitWidth(l[_],{font:f})*d)&&(h=m);return h!==0&&(g=l.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,m,v,b=[],_=[],w=[],S={},j={},C=[],k=[],E=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,I=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,A=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,D=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=F,this.setFontSize(I),f==null)_=b=Object.keys(d[0]),w=b.map(function(){return"left"});else if(Array.isArray(f)&&cr(f[0])==="object")for(b=f.map(function(re){return re.name}),_=f.map(function(re){return re.prompt||re.name||""}),w=f.map(function(re){return re.align||"left"}),h=0;h<f.length;h+=1)j[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=b=f,w=b.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(S[v=b[h]]=d.map(function(re){return re[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=S[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)C.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[v]=Math.max.apply(null,C)+L+L,C=[]}if(T){var X={};for(h=0;h<b.length;h+=1)X[b[h]]={},X[b[h]].text=_[h],X[b[h]].align=w[h];var Y=s.call(this,X,j);k=b.map(function(re){return new a(l,u,j[re],Y,X[re].text,void 0,X[re].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var V=f.reduce(function(re,se){return re[se.name]=se.align,re},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var $=s.call(this,d[h],j);for(m=0;m<b.length;m+=1){var ie=d[h][b[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:m,data:ie},this),o.call(this,new a(l,u,j[b[m]],$,ie,h+2,V[b[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(lt.API);var _8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e2=w8(S8),j8=[100,200,300,400,500,600,700,800,900],xY=w8(j8);function ny(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return _8[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof e2[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function UA(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var wY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function HA(t){return t.trimLeft()}function _Y(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function SY(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var _p,VA,GA,Tc,Sp,YA,KA,XA,iy=["times"];function JA(t,e,r,n){var i=4,a=QA;switch(n){case lt.API.image_compression.FAST:i=1,a=ZA;break;case lt.API.image_compression.MEDIUM:i=6,a=e4;break;case lt.API.image_compression.SLOW:i=9,a=t4}t=(function(s,l,u,d){for(var f,p=s.length/l,h=new Uint8Array(s.length+p),g=[jY,ZA,QA,e4,t4],m=0;m<p;m+=1){var v=m*l,b=s.subarray(v,v+l);if(d)h.set(d(b,u,f),v+m);else{for(var _=g.length,w=[],S=0;S<_;S+=1)w[S]=g[S](b,u,f);var j=AY(w.concat());h.set(w[j],v+m)}f=b}return h})(t,e,r,a);var o=Gw(t,{level:i});return lt.API.__addimage__.arrayBufferToBinaryString(o)}function jY(t){var e=Array.apply([],t);return e.unshift(0),e}function ZA(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function QA(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function e4(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,s=r&&r[a]||0;i[a+1]=t[a]+256-(o+s>>>1)&255}return i}function t4(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=NY(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function NY(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function AY(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function ay(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return N8(t,i)>>a&o}function r4(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,l=(e&s)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,a,N8(t,a)&~(s<<o)&65535|l)}function N8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function PY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&m||(p=null),h=m>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++],j=S>>6&1,C=1<<1+(7&S),k=s,E=l,T=!1;S>>7&&(T=!0,k=e,E=C,e+=3*C);var I=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}d.push({x:v,y:b,width:_,height:w,has_local_palette:T,palette_offset:k,palette_size:E,data_offset:I,data_length:e-I,transparent_index:p,interlaced:!!j,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,D){var F=this.frameInfo(L),X=F.width*F.height,Y=new Uint8Array(X);n4(t,F.data_offset,Y,X);var V=F.palette_offset,$=F.transparent_index;$===null&&($=256);var ie=F.width,re=r-ie,se=ie,M=4*(F.y*r+F.x),U=4*((F.y+F.height)*r+F.x),z=M,Z=4*re;F.interlaced===!0&&(Z+=4*r*7);for(var le=8,oe=0,de=Y.length;oe<de;++oe){var ae=Y[oe];if(se===0&&(se=ie,(z+=Z)>=U&&(Z=4*re+4*r*(le-1),z=M+(ie+re)*(le<<1),le>>=1)),ae===$)z+=4;else{var he=t[V+3*ae],ge=t[V+3*ae+1],ue=t[V+3*ae+2];D[z++]=ue,D[z++]=ge,D[z++]=he,D[z++]=255}--se}},this.decodeAndBlitFrameRGBA=function(L,D){var F=this.frameInfo(L),X=F.width*F.height,Y=new Uint8Array(X);n4(t,F.data_offset,Y,X);var V=F.palette_offset,$=F.transparent_index;$===null&&($=256);var ie=F.width,re=r-ie,se=ie,M=4*(F.y*r+F.x),U=4*((F.y+F.height)*r+F.x),z=M,Z=4*re;F.interlaced===!0&&(Z+=4*r*7);for(var le=8,oe=0,de=Y.length;oe<de;++oe){var ae=Y[oe];if(se===0&&(se=ie,(z+=Z)>=U&&(Z=4*re+4*r*(le-1),z=M+(ie+re)*(le<<1),le>>=1)),ae===$)z+=4;else{var he=t[V+3*ae],ge=t[V+3*ae+1],ue=t[V+3*ae+2];D[z++]=he,D[z++]=ge,D[z++]=ue,D[z++]=255}--se}}}function n4(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<l)break;var v=f&u;if(f>>=l,d-=l,v!==a){if(v===o)break;for(var b=v<s?v:m,_=0,w=b;w>a;)w=g[w]>>8,++_;var S=w;if(p+_+(b!==v?1:0)>n)return void mr.log("Warning, gif stream longer than expected.");r[p++]=S;var j=p+=_;for(b!==v&&(r[p++]=S),w=b;_--;)w=g[w],r[--j]=255&w,w>>=8;m!==null&&s<4096&&(g[s++]=m<<8|S,s>=u+1&&l<12&&(++l,u=u<<1|1)),m=v}else s=o+1,u=(1<<(l=i+1))-1,m=null}return p!==n&&mr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oy(t){var e,r,n,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,b=7,_=new Array(64),w=new Array(64),S=new Array(64),j=new Array(256),C=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(M,U){for(var z=0,Z=0,le=new Array,oe=1;oe<=16;oe++){for(var de=1;de<=M[oe];de++)le[U[Z]]=[],le[U[Z]][0]=z,le[U[Z]][1]=oe,Z++,z++;z*=2}return le}function V(M){for(var U=M[0],z=M[1]-1;z>=0;)U&1<<z&&(v|=1<<b),z--,--b<0&&(v==255?($(255),$(0)):$(v),b=7,v=0)}function $(M){m.push(M)}function ie(M){$(M>>8&255),$(255&M)}function re(M,U,z,Z,le){for(var oe,de=le[0],ae=le[240],he=(function(Pe,Qe){var Le,Ke,He,Ut,mt,gt,er,jt,it,ut,ot=0;for(it=0;it<8;++it){Le=Pe[ot],Ke=Pe[ot+1],He=Pe[ot+2],Ut=Pe[ot+3],mt=Pe[ot+4],gt=Pe[ot+5],er=Pe[ot+6];var Vt=Le+(jt=Pe[ot+7]),Gt=Le-jt,nt=Ke+er,_t=Ke-er,tr=He+gt,ft=He-gt,Rt=Ut+mt,ht=Ut-mt,Mr=Vt+Rt,Wr=Vt-Rt,rr=nt+tr,vt=nt-tr;Pe[ot]=Mr+rr,Pe[ot+4]=Mr-rr;var $e=.707106781*(vt+Wr);Pe[ot+2]=Wr+$e,Pe[ot+6]=Wr-$e;var vr=.382683433*((Mr=ht+ft)-(vt=_t+Gt)),Yt=.5411961*Mr+vr,Dr=1.306562965*vt+vr,Bn=.707106781*(rr=ft+_t),Be=Gt+Bn,Fr=Gt-Bn;Pe[ot+5]=Fr+Yt,Pe[ot+3]=Fr-Yt,Pe[ot+1]=Be+Dr,Pe[ot+7]=Be-Dr,ot+=8}for(ot=0,it=0;it<8;++it){Le=Pe[ot],Ke=Pe[ot+8],He=Pe[ot+16],Ut=Pe[ot+24],mt=Pe[ot+32],gt=Pe[ot+40],er=Pe[ot+48];var ei=Le+(jt=Pe[ot+56]),Er=Le-jt,Tr=Ke+er,Pr=Ke-er,yr=He+gt,bn=He-gt,qs=Ut+mt,Yo=Ut-mt,Yi=ei+qs,Sa=ei-qs,Ki=Tr+yr,Xi=Tr-yr;Pe[ot]=Yi+Ki,Pe[ot+32]=Yi-Ki;var Ei=.707106781*(Xi+Sa);Pe[ot+16]=Sa+Ei,Pe[ot+48]=Sa-Ei;var Us=.382683433*((Yi=Yo+bn)-(Xi=Pr+Er)),ja=.5411961*Yi+Us,zs=1.306562965*Xi+Us,Ql=.707106781*(Ki=bn+Pr),ec=Er+Ql,tc=Er-Ql;Pe[ot+40]=tc+ja,Pe[ot+24]=tc-ja,Pe[ot+8]=ec+zs,Pe[ot+56]=ec-zs,ot++}for(it=0;it<64;++it)ut=Pe[it]*Qe[it],h[it]=ut>0?ut+.5|0:ut-.5|0;return h})(M,U),ge=0;ge<64;++ge)g[k[ge]]=he[ge];var ue=g[0]-z;z=g[0],ue==0?V(Z[0]):(V(Z[p[oe=32767+ue]]),V(f[oe]));for(var ke=63;ke>0&&g[ke]==0;)ke--;if(ke==0)return V(de),z;for(var me,Q=1;Q<=ke;){for(var We=Q;g[Q]==0&&Q<=ke;)++Q;var Fe=Q-We;if(Fe>=16){me=Fe>>4;for(var Ue=1;Ue<=me;++Ue)V(ae);Fe&=15}oe=32767+g[Q],V(le[(Fe<<4)+p[oe]]),V(f[oe]),Q++}return ke!=63&&V(de),z}function se(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(U){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var le=o((z[Z]*U+50)/100);le=Math.min(Math.max(le,1),255),s[k[Z]]=le}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ae=o((oe[de]*U+50)/100);ae=Math.min(Math.max(ae,1),255),l[k[de]]=ae}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ue=0;ue<8;ue++)for(var ke=0;ke<8;ke++)u[ge]=1/(s[k[ge]]*he[ue]*he[ke]*8),d[ge]=1/(l[k[ge]]*he[ue]*he[ke]*8),ge++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,U){U&&se(U),m=new Array,v=0,b=7,ie(65496),ie(65504),ie(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),ie(1),ie(1),$(0),$(0),(function(){ie(65499),ie(132),$(0);for(var Ke=0;Ke<64;Ke++)$(s[Ke]);$(1);for(var He=0;He<64;He++)$(l[He])})(),(function(Ke,He){ie(65472),ie(17),$(8),ie(He),ie(Ke),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(M.width,M.height),(function(){ie(65476),ie(418),$(0);for(var Ke=0;Ke<16;Ke++)$(E[Ke+1]);for(var He=0;He<=11;He++)$(T[He]);$(16);for(var Ut=0;Ut<16;Ut++)$(I[Ut+1]);for(var mt=0;mt<=161;mt++)$(A[mt]);$(1);for(var gt=0;gt<16;gt++)$(L[gt+1]);for(var er=0;er<=11;er++)$(D[er]);$(17);for(var jt=0;jt<16;jt++)$(F[jt+1]);for(var it=0;it<=161;it++)$(X[it])})(),ie(65498),ie(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var z=0,Z=0,le=0;v=0,b=7,this.encode.displayName="_encode_";for(var oe,de,ae,he,ge,ue,ke,me,Q,We=M.data,Fe=M.width,Ue=M.height,Pe=4*Fe,Qe=0;Qe<Ue;){for(oe=0;oe<Pe;){for(ge=Pe*Qe+oe,ke=-1,me=0,Q=0;Q<64;Q++)ue=ge+(me=Q>>3)*Pe+(ke=4*(7&Q)),Qe+me>=Ue&&(ue-=Pe*(Qe+1+me-Ue)),oe+ke>=Pe&&(ue-=oe+ke-Pe+4),de=We[ue++],ae=We[ue++],he=We[ue++],_[Q]=(C[de]+C[ae+256|0]+C[he+512|0]>>16)-128,w[Q]=(C[de+768|0]+C[ae+1024|0]+C[he+1280|0]>>16)-128,S[Q]=(C[de+1280|0]+C[ae+1536|0]+C[he+1792|0]>>16)-128;z=re(_,u,z,e,n),Z=re(w,d,Z,r,i),le=re(S,d,le,r,i),oe+=32}Qe+=8}if(b>=0){var Le=[];Le[1]=b+1,Le[0]=(1<<b+1)-1,V(Le)}return ie(65497),new Uint8Array(m)},t=t||50,(function(){for(var M=String.fromCharCode,U=0;U<256;U++)j[U]=M(U)})(),e=Y(E,T),r=Y(L,D),n=Y(I,A),i=Y(F,X),(function(){for(var M=1,U=2,z=1;z<=15;z++){for(var Z=M;Z<U;Z++)p[32767+Z]=z,f[32767+Z]=[],f[32767+Z][1]=z,f[32767+Z][0]=Z;for(var le=-(U-1);le<=-M;le++)p[32767+le]=z,f[32767+le]=[],f[32767+le][1]=z,f[32767+le][0]=U-1+le;M<<=1,U<<=1}})(),(function(){for(var M=0;M<256;M++)C[M]=19595*M,C[M+256|0]=38470*M,C[M+512|0]=7471*M+32768,C[M+768|0]=-11059*M,C[M+1024|0]=-21709*M,C[M+1280|0]=32768*M+8421375,C[M+1536|0]=-27439*M,C[M+1792|0]=-5329*M})(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ra(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i4(t){function e(T){if(!T)throw Error("assert :P")}function r(T,I,A){for(var L=0;4>L;L++)if(T[I+L]!=A.charCodeAt(L))return!0;return!1}function n(T,I,A,L,D){for(var F=0;F<D;F++)T[I+F]=A[L+F]}function i(T,I,A,L){for(var D=0;D<L;D++)T[I+D]=A}function a(T){return new Int32Array(T)}function o(T,I){for(var A=[],L=0;L<T;L++)A.push(new I);return A}function s(T,I){var A=[];return(function L(D,F,X){for(var Y=X[F],V=0;V<Y&&(D.push(X.length>F+1?[]:new I),!(X.length<F+1));V++)L(D[V],F+1,X)})(A,0,T),A}var l=function(){var T=this;function I(y,x){for(var O=1<<x-1>>>0;y&O;)O>>>=1;return O?(y&O-1)+O:y}function A(y,x,O,R,B){e(!(R%O));do y[x+(R-=O)]=B;while(0<R)}function L(y,x,O,R,B){if(e(2328>=B),512>=B)var W=a(512);else if((W=a(B))==null)return 0;return(function(H,G,J,ee,fe,xe){var te,pe,ye=G,_e=1<<J,be=a(16),je=a(16);for(e(fe!=0),e(ee!=null),e(H!=null),e(0<J),pe=0;pe<fe;++pe){if(15<ee[pe])return 0;++be[ee[pe]]}if(be[0]==fe)return 0;for(je[1]=0,te=1;15>te;++te){if(be[te]>1<<te)return 0;je[te+1]=je[te]+be[te]}for(pe=0;pe<fe;++pe)te=ee[pe],0<ee[pe]&&(xe[je[te]++]=pe);if(je[15]==1)return(ee=new D).g=0,ee.value=xe[0],A(H,ye,1,_e,ee),_e;var Ae,Te=-1,Oe=_e-1,st=0,Ve=1,Et=1,tt=1<<J;for(pe=0,te=1,fe=2;te<=J;++te,fe<<=1){if(Ve+=Et<<=1,0>(Et-=be[te]))return 0;for(;0<be[te];--be[te])(ee=new D).g=te,ee.value=xe[pe++],A(H,ye+st,fe,tt,ee),st=I(st,te)}for(te=J+1,fe=2;15>=te;++te,fe<<=1){if(Ve+=Et<<=1,0>(Et-=be[te]))return 0;for(;0<be[te];--be[te]){if(ee=new D,(st&Oe)!=Te){for(ye+=tt,Ae=1<<(Te=te)-J;15>Te&&!(0>=(Ae-=be[Te]));)++Te,Ae<<=1;_e+=tt=1<<(Ae=Te-J),H[G+(Te=st&Oe)].g=Ae+J,H[G+Te].value=ye-G-Te}ee.g=te-J,ee.value=xe[pe++],A(H,ye+(st>>J),fe,tt,ee),st=I(st,te)}}return Ve!=2*je[15]-1?0:_e})(y,x,O,R,B,W)}function D(){this.value=this.g=0}function F(){this.value=this.g=0}function X(){this.G=o(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pa,F)}function Y(y,x,O,R){e(y!=null),e(x!=null),e(2147483648>R),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=x,y.pa=O,y.Jd=x,y.Yc=O+R,y.Zc=4<=R?O+R-4+1:O,de(y)}function V(y,x){for(var O=0;0<x--;)O|=he(y,128)<<x;return O}function $(y,x){var O=V(y,x);return ae(y)?-O:O}function ie(y,x,O,R){var B,W=0;for(e(y!=null),e(x!=null),e(4294967288>R),y.Sb=R,y.Ra=0,y.u=0,y.h=0,4<R&&(R=4),B=0;B<R;++B)W+=x[O+B]<<8*B;y.Ra=W,y.bb=R,y.oa=x,y.pa=O}function re(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<ts-8>>>0,++y.bb,y.u-=8;Z(y)&&(y.h=1,y.u=0)}function se(y,x){if(e(0<=x),!y.h&&x<=Sd){var O=z(y)&es[x];return y.u+=x,re(y),O}return y.h=1,y.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(y){return y.Ra>>>(y.u&ts-1)>>>0}function Z(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>ts}function le(y,x){y.u=x,y.h=Z(y)}function oe(y){y.u>=Vr&&(e(y.u>=Vr),re(y))}function de(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ae(y){return V(y,1)}function he(y,x){var O=y.Ca;0>y.b&&de(y);var R=y.b,B=O*x>>>8,W=(y.I>>>R>B)+0;for(W?(O-=B,y.I-=B+1<<R>>>0):O=B+1,R=O,B=0;256<=R;)B+=8,R>>=8;return R=7^B+e0[R],y.b-=R,y.Ca=(O<<R)-1,W}function ge(y,x,O){y[x+0]=O>>24&255,y[x+1]=O>>16&255,y[x+2]=O>>8&255,y[x+3]=255&O}function ue(y,x){return y[x+0]|y[x+1]<<8}function ke(y,x){return ue(y,x)|y[x+2]<<16}function me(y,x){return ue(y,x)|ue(y,x+2)<<16}function Q(y,x){var O=1<<x;return e(y!=null),e(0<x),y.X=a(O),y.X==null?0:(y.Mb=32-x,y.Xa=x,1)}function We(y,x){e(y!=null),e(x!=null),e(y.Xa==x.Xa),n(x.X,0,y.X,0,1<<x.Xa)}function Fe(){this.X=[],this.Xa=this.Mb=0}function Ue(y,x,O,R){e(O!=null),e(R!=null);var B=O[0],W=R[0];return B==0&&(B=(y*W+x/2)/x),W==0&&(W=(x*B+y/2)/y),0>=B||0>=W?0:(O[0]=B,R[0]=W,1)}function Pe(y,x){return y+(1<<x)-1>>>x}function Qe(y,x){return((4278255360&y)+(4278255360&x)>>>0&4278255360)+((16711935&y)+(16711935&x)>>>0&16711935)>>>0}function Le(y,x){T[x]=function(O,R,B,W,H,G,J){var ee;for(ee=0;ee<H;++ee){var fe=T[y](G[J+ee-1],B,W+ee);G[J+ee]=Qe(O[R+ee],fe)}}}function Ke(){this.ud=this.hd=this.jd=0}function He(y,x){return((4278124286&(y^x))>>>1)+(y&x)>>>0}function Ut(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function mt(y,x){return Ut(y+(y-x+.5>>1))}function gt(y,x,O){return Math.abs(x-O)-Math.abs(y-O)}function er(y,x,O,R,B,W,H){for(R=W[H-1],O=0;O<B;++O)W[H+O]=R=Qe(y[x+O],R)}function jt(y,x,O,R,B){var W;for(W=0;W<O;++W){var H=y[x+W],G=H>>8&255,J=16711935&(J=(J=16711935&H)+((G<<16)+G));R[B+W]=(4278255360&H)+J>>>0}}function it(y,x){x.jd=255&y,x.hd=y>>8&255,x.ud=y>>16&255}function ut(y,x,O,R,B,W){var H;for(H=0;H<R;++H){var G=x[O+H],J=G>>>8,ee=G,fe=255&(fe=(fe=G>>>16)+((y.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee+=(y.hd<<24>>24)*(J<<24>>24)>>>5)+((y.ud<<24>>24)*(fe<<24>>24)>>>5)),B[W+H]=(4278255360&G)+(fe<<16)+ee}}function ot(y,x,O,R,B){T[x]=function(W,H,G,J,ee,fe,xe,te,pe){for(J=xe;J<te;++J)for(xe=0;xe<pe;++xe)ee[fe++]=B(G[R(W[H++])])},T[y]=function(W,H,G,J,ee,fe,xe){var te=8>>W.b,pe=W.Ea,ye=W.K[0],_e=W.w;if(8>te)for(W=(1<<W.b)-1,_e=(1<<te)-1;H<G;++H){var be,je=0;for(be=0;be<pe;++be)be&W||(je=R(J[ee++])),fe[xe++]=B(ye[je&_e]),je>>=te}else T["VP8LMapColor"+O](J,ee,ye,_e,fe,xe,H,G,pe)}}function Vt(y,x,O,R,B){for(O=x+O;x<O;){var W=y[x++];R[B++]=W>>16&255,R[B++]=W>>8&255,R[B++]=255&W}}function Gt(y,x,O,R,B){for(O=x+O;x<O;){var W=y[x++];R[B++]=W>>16&255,R[B++]=W>>8&255,R[B++]=255&W,R[B++]=W>>24&255}}function nt(y,x,O,R,B){for(O=x+O;x<O;){var W=(H=y[x++])>>16&240|H>>12&15,H=240&H|H>>28&15;R[B++]=W,R[B++]=H}}function _t(y,x,O,R,B){for(O=x+O;x<O;){var W=(H=y[x++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;R[B++]=W,R[B++]=H}}function tr(y,x,O,R,B){for(O=x+O;x<O;){var W=y[x++];R[B++]=255&W,R[B++]=W>>8&255,R[B++]=W>>16&255}}function ft(y,x,O,R,B,W){if(W==0)for(O=x+O;x<O;)ge(R,((W=y[x++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),B+=32;else n(R,B,y,x,O)}function Rt(y,x){T[x][0]=T[y+"0"],T[x][1]=T[y+"1"],T[x][2]=T[y+"2"],T[x][3]=T[y+"3"],T[x][4]=T[y+"4"],T[x][5]=T[y+"5"],T[x][6]=T[y+"6"],T[x][7]=T[y+"7"],T[x][8]=T[y+"8"],T[x][9]=T[y+"9"],T[x][10]=T[y+"10"],T[x][11]=T[y+"11"],T[x][12]=T[y+"12"],T[x][13]=T[y+"13"],T[x][14]=T[y+"0"],T[x][15]=T[y+"0"]}function ht(y){return y==n0||y==i0||y==Uh||y==a0}function Mr(){this.eb=[],this.size=this.A=this.fb=0}function Wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mr,this.f.kb=new Wr,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $e(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Yt(y,x){var O=y.T,R=x.ba.f.RGBA,B=R.eb,W=R.fb+y.ka*R.A,H=Ri[x.ba.S],G=y.y,J=y.O,ee=y.f,fe=y.N,xe=y.ea,te=y.W,pe=x.cc,ye=x.dc,_e=x.Mc,be=x.Nc,je=y.ka,Ae=y.ka+y.T,Te=y.U,Oe=Te+1>>1;for(je==0?H(G,J,null,null,ee,fe,xe,te,ee,fe,xe,te,B,W,null,null,Te):(H(x.ec,x.fc,G,J,pe,ye,_e,be,ee,fe,xe,te,B,W-R.A,B,W,Te),++O);je+2<Ae;je+=2)pe=ee,ye=fe,_e=xe,be=te,fe+=y.Rc,te+=y.Rc,W+=2*R.A,H(G,(J+=2*y.fa)-y.fa,G,J,pe,ye,_e,be,ee,fe,xe,te,B,W-R.A,B,W,Te);return J+=y.fa,y.j+Ae<y.o?(n(x.ec,x.fc,G,J,Te),n(x.cc,x.dc,ee,fe,Oe),n(x.Mc,x.Nc,xe,te,Oe),O--):1&Ae||H(G,J,null,null,ee,fe,xe,te,ee,fe,xe,te,B,W+R.A,null,null,Te),O}function Dr(y,x,O){var R=y.F,B=[y.J];if(R!=null){var W=y.U,H=x.ba.S,G=H==qh||H==Uh;x=x.ba.f.RGBA;var J=[0],ee=y.ka;J[0]=y.T,y.Kb&&(ee==0?--J[0]:(--ee,B[0]-=y.width),y.j+y.ka+y.T==y.o&&(J[0]=y.o-y.j-ee));var fe=x.eb;ee=x.fb+ee*x.A,y=fj(R,B[0],y.width,W,J,fe,ee+(G?0:3),x.A),e(O==J),y&&ht(H)&&Pd(fe,ee,G,W,J,x.A)}return 0}function Bn(y){var x=y.ma,O=x.ba.S,R=11>O,B=O==Fh||O==Bh||O==qh||O==r0||O==12||ht(O);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!ti(x.Oa,y,B?11:12))return 0;if(B&&ht(O)&&bd(),y.da)alert("todo:use_scaling");else{if(R){if(x.Ib=vr,y.Kb){if(O=y.U+1>>1,x.memory=a(y.U+2*O),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+y.U,x.Mc=x.cc,x.Nc=x.dc+O,x.Ib=Yt,bd()}}else alert("todo:EmitYUV");B&&(x.Jb=Dr,R&&Zs())}if(R&&!kj){for(y=0;256>y;++y)AF[y]=89858*(y-128)+Wh>>zh,CF[y]=-22014*(y-128)+Wh,kF[y]=-45773*(y-128),PF[y]=113618*(y-128)+Wh>>zh;for(y=Cd;y<l0;++y)x=76283*(y-16)+Wh>>zh,OF[y-Cd]=ln(x,255),EF[y-Cd]=ln(x+8>>4,15);kj=1}return 1}function Be(y){var x=y.ma,O=y.U,R=y.T;return e(!(1&y.ka)),0>=O||0>=R?0:(O=x.Ib(y,x),x.Jb!=null&&x.Jb(y,x,O),x.Dc+=O,1)}function Fr(y){y.ma.memory=null}function ei(y,x,O,R){return se(y,8)!=47?0:(x[0]=se(y,14)+1,O[0]=se(y,14)+1,R[0]=se(y,1),se(y,3)!=0?0:!y.h)}function Er(y,x){if(4>y)return y+1;var O=y-2>>1;return(2+(1&y)<<O)+se(x,O)+1}function Tr(y,x){return 120<x?x-120:1<=(O=((O=fF[x-1])>>4)*y+(8-(15&O)))?O:1;var O}function Pr(y,x,O){var R=z(O),B=y[x+=255&R].g-8;return 0<B&&(le(O,O.u+8),R=z(O),x+=y[x].value,x+=R&(1<<B)-1),le(O,O.u+y[x].g),y[x].value}function yr(y,x,O){return O.g+=y.g,O.value+=y.value<<x>>>0,e(8>=O.g),y.g}function bn(y,x,O){var R=y.xc;return e((x=R==0?0:y.vc[y.md*(O>>R)+(x>>R)])<y.Wb),y.Ya[x]}function qs(y,x,O,R){var B=y.ab,W=y.c*x,H=y.C;x=H+x;var G=O,J=R;for(R=y.Ta,O=y.Ua;0<B--;){var ee=y.gc[B],fe=H,xe=x,te=G,pe=J,ye=(J=R,G=O,ee.Ea);switch(e(fe<xe),e(xe<=ee.nc),ee.hc){case 2:dc(te,pe,(xe-fe)*ye,J,G);break;case 0:var _e=fe,be=xe,je=J,Ae=G,Te=(tt=ee).Ea;_e==0&&(ka(te,pe,null,null,1,je,Ae),er(te,pe+1,0,0,Te-1,je,Ae+1),pe+=Te,Ae+=Te,++_e);for(var Oe=1<<tt.b,st=Oe-1,Ve=Pe(Te,tt.b),Et=tt.K,tt=tt.w+(_e>>tt.b)*Ve;_e<be;){var zt=Et,cn=tt,Tt=1;for(Ca(te,pe,je,Ae-Te,1,je,Ae);Tt<Te;){var rt=(Tt&~st)+Oe;rt>Te&&(rt=Te),(0,tl[zt[cn++]>>8&15])(te,pe+ +Tt,je,Ae+Tt-Te,rt-Tt,je,Ae+Tt),Tt=rt}pe+=Te,Ae+=Te,++_e&st||(tt+=Ve)}xe!=ee.nc&&n(J,G-ye,J,G+(xe-fe-1)*ye,ye);break;case 1:for(ye=te,be=pe,Te=(te=ee.Ea)-(Ae=te&~(je=(pe=1<<ee.b)-1)),_e=Pe(te,ee.b),Oe=ee.K,ee=ee.w+(fe>>ee.b)*_e;fe<xe;){for(st=Oe,Ve=ee,Et=new Ke,tt=be+Ae,zt=be+te;be<tt;)it(st[Ve++],Et),lo(Et,ye,be,pe,J,G),be+=pe,G+=pe;be<zt&&(it(st[Ve++],Et),lo(Et,ye,be,Te,J,G),be+=Te,G+=Te),++fe&je||(ee+=_e)}break;case 3:if(te==J&&pe==G&&0<ee.b){for(be=J,te=ye=G+(xe-fe)*ye-(Ae=(xe-fe)*Pe(ee.Ea,ee.b)),pe=J,je=G,_e=[],Ae=(Te=Ae)-1;0<=Ae;--Ae)_e[Ae]=pe[je+Ae];for(Ae=Te-1;0<=Ae;--Ae)be[te+Ae]=_e[Ae];jd(ee,fe,xe,J,ye,J,G)}else jd(ee,fe,xe,te,pe,J,G)}G=R,J=O}J!=O&&n(R,O,G,J,W)}function Yo(y,x){var O=y.V,R=y.Ba+y.c*y.C,B=x-y.C;if(e(x<=y.l.o),e(16>=B),0<B){var W=y.l,H=y.Ta,G=y.Ua,J=W.width;if(qs(y,B,O,R),B=G=[G],e((O=y.C)<(R=x)),e(W.v<W.va),R>W.o&&(R=W.o),O<W.j){var ee=W.j-O;O=W.j,B[0]+=ee*J}if(O>=R?O=0:(B[0]+=4*W.v,W.ka=O-W.j,W.U=W.va-W.v,W.T=R-O,O=1),O){if(G=G[0],11>(O=y.ca).S){var fe=O.f.RGBA,xe=(R=O.S,B=W.U,W=W.T,ee=fe.eb,fe.A),te=W;for(fe=fe.fb+y.Ma*fe.A;0<te--;){var pe=H,ye=G,_e=B,be=ee,je=fe;switch(R){case $h:Nd(pe,ye,_e,be,je);break;case Fh:fi(pe,ye,_e,be,je);break;case n0:fi(pe,ye,_e,be,je),Pd(be,je,0,_e,1,0);break;case bj:xr(pe,ye,_e,be,je);break;case Bh:ft(pe,ye,_e,be,je,1);break;case i0:ft(pe,ye,_e,be,je,1),Pd(be,je,0,_e,1,0);break;case qh:ft(pe,ye,_e,be,je,0);break;case Uh:ft(pe,ye,_e,be,je,0),Pd(be,je,1,_e,1,0);break;case r0:Oa(pe,ye,_e,be,je);break;case a0:Oa(pe,ye,_e,be,je),dj(be,je,_e,1,0);break;case xj:br(pe,ye,_e,be,je);break;default:e(0)}G+=J,fe+=xe}y.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=O.height)}}y.C=x,e(y.C<=y.i)}function Yi(y){var x;if(0<y.ua)return 0;for(x=0;x<y.Wb;++x){var O=y.Ya[x].G,R=y.Ya[x].H;if(0<O[1][R[1]+0].g||0<O[2][R[2]+0].g||0<O[3][R[3]+0].g)return 0}return 1}function Sa(y,x,O,R,B,W){if(y.Z!=0){var H=y.qd,G=y.rd;for(e(ns[y.Z]!=null);x<O;++x)ns[y.Z](H,G,R,B,R,B,W),H=R,G=B,B+=W;y.qd=H,y.rd=G}}function Ki(y,x){var O=y.l.ma,R=O.Z==0||O.Z==1?y.l.j:y.C;if(R=y.C<R?R:y.C,e(x<=y.l.o),x>R){var B=y.l.width,W=O.ca,H=O.tb+B*R,G=y.V,J=y.Ba+y.c*R,ee=y.gc;e(y.ab==1),e(ee[0].hc==3),hc(ee[0],R,x,G,J,W,H),Sa(O,R,x,W,H,B)}y.C=y.Ma=x}function Xi(y,x,O,R,B,W,H){var G=y.$/R,J=y.$%R,ee=y.m,fe=y.s,xe=O+y.$,te=xe;B=O+R*B;var pe=O+R*W,ye=280+fe.ua,_e=y.Pb?G:16777216,be=0<fe.ua?fe.Wa:null,je=fe.wc,Ae=xe<pe?bn(fe,J,G):null;e(y.C<W),e(pe<=B);var Te=!1;e:for(;;){for(;Te||xe<pe;){var Oe=0;if(G>=_e){var st=xe-O;e((_e=y).Pb),_e.wd=_e.m,_e.xd=st,0<_e.s.ua&&We(_e.s.Wa,_e.s.vb),_e=G+pF}if(J&je||(Ae=bn(fe,J,G)),e(Ae!=null),Ae.Qb&&(x[xe]=Ae.qb,Te=!0),!Te)if(oe(ee),Ae.jc){Oe=ee,st=x;var Ve=xe,Et=Ae.pd[z(Oe)&Pa-1];e(Ae.jc),256>Et.g?(le(Oe,Oe.u+Et.g),st[Ve]=Et.value,Oe=0):(le(Oe,Oe.u+Et.g-256),e(256<=Et.value),Oe=Et.value),Oe==0&&(Te=!0)}else Oe=Pr(Ae.G[0],Ae.H[0],ee);if(ee.h)break;if(Te||256>Oe){if(!Te)if(Ae.nd)x[xe]=(Ae.qb|Oe<<8)>>>0;else{if(oe(ee),Te=Pr(Ae.G[1],Ae.H[1],ee),oe(ee),st=Pr(Ae.G[2],Ae.H[2],ee),Ve=Pr(Ae.G[3],Ae.H[3],ee),ee.h)break;x[xe]=(Ve<<24|Te<<16|Oe<<8|st)>>>0}if(Te=!1,++xe,++J>=R&&(J=0,++G,H!=null&&G<=W&&!(G%16)&&H(y,G),be!=null))for(;te<xe;)Oe=x[te++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe}else if(280>Oe){if(Oe=Er(Oe-256,ee),st=Pr(Ae.G[4],Ae.H[4],ee),oe(ee),st=Tr(R,st=Er(st,ee)),ee.h)break;if(xe-O<st||B-xe<Oe)break e;for(Ve=0;Ve<Oe;++Ve)x[xe+Ve]=x[xe+Ve-st];for(xe+=Oe,J+=Oe;J>=R;)J-=R,++G,H!=null&&G<=W&&!(G%16)&&H(y,G);if(e(xe<=B),J&je&&(Ae=bn(fe,J,G)),be!=null)for(;te<xe;)Oe=x[te++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe}else{if(!(Oe<ye))break e;for(Te=Oe-280,e(be!=null);te<xe;)Oe=x[te++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe;Oe=xe,e(!(Te>>>(st=be).Xa)),x[Oe]=st.X[Te],Te=!0}Te||e(ee.h==Z(ee))}if(y.Pb&&ee.h&&xe<B)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&We(y.s.vb,y.s.Wa);else{if(ee.h)break e;H!=null&&H(y,G>W?W:G),y.a=0,y.$=xe-O}return 1}return y.a=3,0}function Ei(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var x=y.Wa;x!=null&&(x.X=null),y.vb=null,e(y!=null)}function Us(){var y=new $r;return y==null?null:(y.a=0,y.xb=Sj,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),dc=jt,lo=ut,Nd=Vt,fi=Gt,Oa=nt,br=_t,xr=tr,T.VP8LMapColor32b=fc,T.VP8LMapColor8b=el,y)}function ja(y,x,O,R,B){var W=1,H=[y],G=[x],J=R.m,ee=R.s,fe=null,xe=0;e:for(;;){if(O)for(;W&&se(J,1);){var te=H,pe=G,ye=R,_e=1,be=ye.m,je=ye.gc[ye.ab],Ae=se(be,2);if(ye.Oc&1<<Ae)W=0;else{switch(ye.Oc|=1<<Ae,je.hc=Ae,je.Ea=te[0],je.nc=pe[0],je.K=[null],++ye.ab,e(4>=ye.ab),Ae){case 0:case 1:je.b=se(be,3)+2,_e=ja(Pe(je.Ea,je.b),Pe(je.nc,je.b),0,ye,je.K),je.K=je.K[0];break;case 3:var Te,Oe=se(be,8)+1,st=16<Oe?0:4<Oe?1:2<Oe?2:3;if(te[0]=Pe(je.Ea,st),je.b=st,Te=_e=ja(Oe,1,0,ye,je.K)){var Ve,Et=Oe,tt=je,zt=1<<(8>>tt.b),cn=a(zt);if(cn==null)Te=0;else{var Tt=tt.K[0],rt=tt.w;for(cn[0]=tt.K[0][0],Ve=1;Ve<1*Et;++Ve)cn[Ve]=Qe(Tt[rt+Ve],cn[Ve-1]);for(;Ve<4*zt;++Ve)cn[Ve]=0;tt.K[0]=null,tt.K[0]=cn,Te=1}}_e=Te;break;case 2:break;default:e(0)}W=_e}}if(H=H[0],G=G[0],W&&se(J,1)&&!(W=1<=(xe=se(J,4))&&11>=xe)){R.a=3;break e}var Me;if(Me=W)t:{var Kr,kt,Ht,kr=R,Pn=H,Un=G,Br=xe,En=O,zn=kr.m,un=kr.s,Kt=[null],ar=1,qr=0,or=hF[Br];r:for(;;){if(En&&se(zn,1)){var kn=se(zn,3)+2,ea=Pe(Pn,kn),Xr=Pe(Un,kn),ni=ea*Xr;if(!ja(ea,Xr,0,kr,Kt))break r;for(Kt=Kt[0],un.xc=kn,Kr=0;Kr<ni;++Kr){var pr=Kt[Kr]>>8&65535;Kt[Kr]=pr,pr>=ar&&(ar=pr+1)}}if(zn.h)break r;for(kt=0;5>kt;++kt){var dn=wj[kt];!kt&&0<Br&&(dn+=1<<Br),qr<dn&&(qr=dn)}var pi=o(ar*or,D),Wn=ar,mi=o(Wn,X);if(mi==null)var gi=null;else e(65536>=Wn),gi=mi;var ii=a(qr);if(gi==null||ii==null||pi==null){kr.a=1;break r}var vi=pi;for(Kr=Ht=0;Kr<ar;++Kr){var wr=gi[Kr],yi=wr.G,ta=wr.H,rl=0,fo=1,Cn=0;for(kt=0;5>kt;++kt){dn=wj[kt],yi[kt]=vi,ta[kt]=Ht,!kt&&0<Br&&(dn+=1<<Br);i:{var Vh,c0=dn,Gh=kr,Od=ii,LF=vi,RF=Ht,u0=0,is=Gh.m,MF=se(is,1);if(i(Od,0,0,c0),MF){var DF=se(is,1)+1,$F=se(is,1),Ej=se(is,$F==0?1:8);Od[Ej]=1,DF==2&&(Od[Ej=se(is,8)]=1);var Yh=1}else{var Tj=a(19),Ij=se(is,4)+4;if(19<Ij){Gh.a=3;var Kh=0;break i}for(Vh=0;Vh<Ij;++Vh)Tj[dF[Vh]]=se(is,3);var d0=void 0,Ed=void 0,Lj=Gh,FF=Tj,Xh=c0,Rj=Od,f0=0,as=Lj.m,Mj=8,Dj=o(128,D);n:for(;L(Dj,0,7,FF,19);){if(se(as,1)){var BF=2+2*se(as,3);if((d0=2+se(as,BF))>Xh)break n}else d0=Xh;for(Ed=0;Ed<Xh&&d0--;){oe(as);var $j=Dj[0+(127&z(as))];le(as,as.u+$j.g);var mc=$j.value;if(16>mc)Rj[Ed++]=mc,mc!=0&&(Mj=mc);else{var qF=mc==16,Fj=mc-16,UF=cF[Fj],Bj=se(as,lF[Fj])+UF;if(Ed+Bj>Xh)break n;for(var zF=qF?Mj:0;0<Bj--;)Rj[Ed++]=zF}}f0=1;break n}f0||(Lj.a=3),Yh=f0}(Yh=Yh&&!is.h)&&(u0=L(LF,RF,8,Od,c0)),Yh&&u0!=0?Kh=u0:(Gh.a=3,Kh=0)}if(Kh==0)break r;if(fo&&uF[kt]==1&&(fo=vi[Ht].g==0),rl+=vi[Ht].g,Ht+=Kh,3>=kt){var Td,h0=ii[0];for(Td=1;Td<dn;++Td)ii[Td]>h0&&(h0=ii[Td]);Cn+=h0}}if(wr.nd=fo,wr.Qb=0,fo&&(wr.qb=(yi[3][ta[3]+0].value<<24|yi[1][ta[1]+0].value<<16|yi[2][ta[2]+0].value)>>>0,rl==0&&256>yi[0][ta[0]+0].value&&(wr.Qb=1,wr.qb+=yi[0][ta[0]+0].value<<8)),wr.jc=!wr.Qb&&6>Cn,wr.jc){var Jh,ho=wr;for(Jh=0;Jh<Pa;++Jh){var os=Jh,ss=ho.pd[os],Zh=ho.G[0][ho.H[0]+os];256<=Zh.value?(ss.g=Zh.g+256,ss.value=Zh.value):(ss.g=0,ss.value=0,os>>=yr(Zh,8,ss),os>>=yr(ho.G[1][ho.H[1]+os],16,ss),os>>=yr(ho.G[2][ho.H[2]+os],0,ss),yr(ho.G[3][ho.H[3]+os],24,ss))}}}un.vc=Kt,un.Wb=ar,un.Ya=gi,un.yc=pi,Me=1;break t}Me=0}if(!(W=Me)){R.a=3;break e}if(0<xe){if(ee.ua=1<<xe,!Q(ee.Wa,xe)){R.a=1,W=0;break e}}else ee.ua=0;var p0=R,qj=H,WF=G,m0=p0.s,g0=m0.xc;if(p0.c=qj,p0.i=WF,m0.md=Pe(qj,g0),m0.wc=g0==0?-1:(1<<g0)-1,O){R.xb=wF;break e}if((fe=a(H*G))==null){R.a=1,W=0;break e}W=(W=Xi(R,fe,0,H,G,G,null))&&!J.h;break e}return W?(B!=null?B[0]=fe:(e(fe==null),e(O)),R.$=0,O||Ei(ee)):Ei(ee),W}function zs(y,x){var O=y.c*y.i,R=O+x+16*x;return e(y.c<=x),y.V=a(R),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+O+x,1)}function Ql(y,x){var O=y.C,R=x-O,B=y.V,W=y.Ba+y.c*O;for(e(x<=y.l.o);0<R;){var H=16<R?16:R,G=y.l.ma,J=y.l.width,ee=J*H,fe=G.ca,xe=G.tb+J*O,te=y.Ta,pe=y.Ua;qs(y,H,B,W),hj(te,pe,fe,xe,ee),Sa(G,O,O+H,fe,xe,J),R-=H,B+=H*y.c,O+=H}e(O==x),y.C=y.Ma=x}function ec(){this.ub=this.yd=this.td=this.Rb=0}function tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dv(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ad(){this.Yb=(function(){var y=[];return(function x(O,R,B){for(var W=B[R],H=0;H<W&&(O.push(B.length>R+1?[]:0),!(B.length<R+1));H++)x(O[H],R+1,B)})(y,0,[3,11]),y})()}function jh(){this.jb=a(3),this.Wc=s([4,8],ad),this.Xc=s([4,17],ad)}function Nh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function od(){this.Na=this.la=0}function Ah(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sd(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ph(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new sd),this.aa=0,this.l=new rc}function kh(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ch(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new ec,this.Kc=new tc,this.ed=new Nh,this.Qa=new Dv,this.Ic=this.$c=this.Aa=0,this.D=new Ph,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,Ah),this.Pa=new jh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kh),this.Hd=0,this.rb=Array(new od),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sd),this.L=this.aa=0,this.gd=s([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $v(){var y=new Ch;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,kd||(kd=ro)),y}function en(y,x,O){return y.a==0&&(y.a=x,y.sc=O,y.cb=0),0}function Oh(y,x,O){return 3<=O&&y[x+0]==157&&y[x+1]==1&&y[x+2]==42}function Eh(y,x){if(y==null)return 0;if(y.a=0,y.sc="OK",x==null)return en(y,2,"null VP8Io passed to VP8GetHeaders()");var O=x.data,R=x.w,B=x.ha;if(4>B)return en(y,7,"Truncated header.");var W=O[R+0]|O[R+1]<<8|O[R+2]<<16,H=y.Od;if(H.Rb=!(1&W),H.td=W>>1&7,H.yd=W>>4&1,H.ub=W>>5,3<H.td)return en(y,3,"Incorrect keyframe parameters.");if(!H.yd)return en(y,4,"Frame not displayable.");R+=3,B-=3;var G=y.Kc;if(H.Rb){if(7>B)return en(y,7,"cannot parse picture header");if(!Oh(O,R,B))return en(y,3,"Bad code word");G.c=16383&(O[R+4]<<8|O[R+3]),G.Td=O[R+4]>>6,G.i=16383&(O[R+6]<<8|O[R+5]),G.Ud=O[R+6]>>6,R+=7,B-=7,y.za=G.c+15>>4,y.Ub=G.i+15>>4,x.width=G.c,x.height=G.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((W=y.Pa).jb,0,255,W.jb.length),e((W=y.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(H.ub>B)return en(y,7,"bad partition length");Y(W=y.m,O,R,H.ub),R+=H.ub,B-=H.ub,H.Rb&&(G.Ld=ae(W),G.Kd=ae(W)),G=y.Qa;var J,ee=y.Pa;if(e(W!=null),e(G!=null),G.Cb=ae(W),G.Cb){if(G.Bb=ae(W),ae(W)){for(G.Fb=ae(W),J=0;4>J;++J)G.Zb[J]=ae(W)?$(W,7):0;for(J=0;4>J;++J)G.Lb[J]=ae(W)?$(W,6):0}if(G.Bb)for(J=0;3>J;++J)ee.jb[J]=ae(W)?V(W,8):255}else G.Bb=0;if(W.Ka)return en(y,3,"cannot parse segment header");if((G=y.ed).zd=ae(W),G.Tb=V(W,6),G.wb=V(W,3),G.Pc=ae(W),G.Pc&&ae(W)){for(ee=0;4>ee;++ee)ae(W)&&(G.vd[ee]=$(W,6));for(ee=0;4>ee;++ee)ae(W)&&(G.od[ee]=$(W,6))}if(y.L=G.Tb==0?0:G.zd?1:2,W.Ka)return en(y,3,"cannot parse filter header");var fe=B;if(B=J=R,R=J+fe,G=fe,y.Xb=(1<<V(y.m,2))-1,fe<3*(ee=y.Xb))O=7;else{for(J+=3*ee,G-=3*ee,fe=0;fe<ee;++fe){var xe=O[B+0]|O[B+1]<<8|O[B+2]<<16;xe>G&&(xe=G),Y(y.Jc[+fe],O,J,xe),J+=xe,G-=xe,B+=3}Y(y.Jc[+ee],O,J,G),O=J<R?0:5}if(O!=0)return en(y,O,"cannot parse partitions");for(O=V(J=y.m,7),B=ae(J)?$(J,4):0,R=ae(J)?$(J,4):0,G=ae(J)?$(J,4):0,ee=ae(J)?$(J,4):0,J=ae(J)?$(J,4):0,fe=y.Qa,xe=0;4>xe;++xe){if(fe.Cb){var te=fe.Zb[xe];fe.Fb||(te+=O)}else{if(0<xe){y.pb[xe]=y.pb[0];continue}te=O}var pe=y.pb[xe];pe.Sc[0]=o0[ln(te+B,127)],pe.Sc[1]=s0[ln(te+0,127)],pe.Eb[0]=2*o0[ln(te+R,127)],pe.Eb[1]=101581*s0[ln(te+G,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=o0[ln(te+ee,117)],pe.Qc[1]=s0[ln(te+J,127)],pe.lc=te+J}if(!H.Rb)return en(y,4,"Not a key frame.");for(ae(W),H=y.Pa,O=0;4>O;++O){for(B=0;8>B;++B)for(R=0;3>R;++R)for(G=0;11>G;++G)ee=he(W,bF[O][B][R][G])?V(W,8):vF[O][B][R][G],H.Wc[O][B].Yb[R][G]=ee;for(B=0;17>B;++B)H.Xc[O][B]=H.Wc[O][xF[B]]}return y.kc=ae(W),y.kc&&(y.Bd=V(W,8)),y.cb=1}function ro(y,x,O,R,B,W,H){var G=x[B].Yb[O];for(O=0;16>B;++B){if(!he(y,G[O+0]))return B;for(;!he(y,G[O+1]);)if(G=x[++B].Yb[0],O=0,B==16)return 16;var J=x[B+1].Yb;if(he(y,G[O+2])){var ee=y,fe=0;if(he(ee,(te=G)[(xe=O)+3]))if(he(ee,te[xe+6])){for(G=0,xe=2*(fe=he(ee,te[xe+8]))+(te=he(ee,te[xe+9+fe])),fe=0,te=mF[xe];te[G];++G)fe+=fe+he(ee,te[G]);fe+=3+(8<<xe)}else he(ee,te[xe+7])?(fe=7+2*he(ee,165),fe+=he(ee,145)):fe=5+he(ee,159);else fe=he(ee,te[xe+4])?3+he(ee,te[xe+5]):2;G=J[2]}else fe=1,G=J[1];J=H+gF[B],0>(ee=y).b&&de(ee);var xe,te=ee.b,pe=(xe=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=pe,ee.Ca|=1,ee.I-=(xe+1&pe)<<te,W[J]=((fe^pe)-pe)*R[(0<B)+0]}return 16}function Ws(y){var x=y.rb[y.sb-1];x.la=0,x.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function Ji(y,x,O,R,B){B=y[x+O+32*R]+(B>>3),y[x+O+32*R]=-256&B?0>B?0:255:B}function Hs(y,x,O,R,B,W){Ji(y,x,0,O,R+B),Ji(y,x,1,O,R+W),Ji(y,x,2,O,R-W),Ji(y,x,3,O,R-B)}function Hr(y){return(20091*y>>16)+y}function ld(y,x,O,R){var B,W=0,H=a(16);for(B=0;4>B;++B){var G=y[x+0]+y[x+8],J=y[x+0]-y[x+8],ee=(35468*y[x+4]>>16)-Hr(y[x+12]),fe=Hr(y[x+4])+(35468*y[x+12]>>16);H[W+0]=G+fe,H[W+1]=J+ee,H[W+2]=J-ee,H[W+3]=G-fe,W+=4,x++}for(B=W=0;4>B;++B)G=(y=H[W+0]+4)+H[W+8],J=y-H[W+8],ee=(35468*H[W+4]>>16)-Hr(H[W+12]),Ji(O,R,0,0,G+(fe=Hr(H[W+4])+(35468*H[W+12]>>16))),Ji(O,R,1,0,J+ee),Ji(O,R,2,0,J-ee),Ji(O,R,3,0,G-fe),W++,R+=32}function Fv(y,x,O,R){var B=y[x+0]+4,W=35468*y[x+4]>>16,H=Hr(y[x+4]),G=35468*y[x+1]>>16;Hs(O,R,0,B+H,y=Hr(y[x+1]),G),Hs(O,R,1,B+W,y,G),Hs(O,R,2,B-W,y,G),Hs(O,R,3,B-H,y,G)}function Bv(y,x,O,R,B){ld(y,x,O,R),B&&ld(y,x+16,O,R+4)}function qv(y,x,O,R){Yr(y,x+0,O,R,1),Yr(y,x+32,O,R+128,1)}function Na(y,x,O,R){var B;for(y=y[x+0]+4,B=0;4>B;++B)for(x=0;4>x;++x)Ji(O,R,x,B,y)}function Th(y,x,O,R){y[x+0]&&Ea(y,x+0,O,R),y[x+16]&&Ea(y,x+16,O,R+4),y[x+32]&&Ea(y,x+32,O,R+128),y[x+48]&&Ea(y,x+48,O,R+128+4)}function Ih(y,x,O,R){var B,W=a(16);for(B=0;4>B;++B){var H=y[x+0+B]+y[x+12+B],G=y[x+4+B]+y[x+8+B],J=y[x+4+B]-y[x+8+B],ee=y[x+0+B]-y[x+12+B];W[0+B]=H+G,W[8+B]=H-G,W[4+B]=ee+J,W[12+B]=ee-J}for(B=0;4>B;++B)H=(y=W[0+4*B]+3)+W[3+4*B],G=W[1+4*B]+W[2+4*B],J=W[1+4*B]-W[2+4*B],ee=y-W[3+4*B],O[R+0]=H+G>>3,O[R+16]=ee+J>>3,O[R+32]=H-G>>3,O[R+48]=ee-J>>3,R+=64}function Ko(y,x,O){var R,B=x-32,W=hi,H=255-y[B-1];for(R=0;R<O;++R){var G,J=W,ee=H+y[x-1];for(G=0;G<O;++G)y[x+G]=J[ee+y[B+G]];x+=32}}function cd(y,x){Ko(y,x,4)}function Uv(y,x){Ko(y,x,8)}function zv(y,x){Ko(y,x,16)}function Wv(y,x){var O;for(O=0;16>O;++O)n(y,x+32*O,y,x-32,16)}function ud(y,x){var O;for(O=16;0<O;--O)i(y,x,y[x-1],16),x+=32}function Vs(y,x,O){var R;for(R=0;16>R;++R)i(x,O+32*R,y,16)}function Xo(y,x){var O,R=16;for(O=0;16>O;++O)R+=y[x-1+32*O]+y[x+O-32];Vs(R>>5,y,x)}function Hv(y,x){var O,R=8;for(O=0;16>O;++O)R+=y[x-1+32*O];Vs(R>>4,y,x)}function Gs(y,x){var O,R=8;for(O=0;16>O;++O)R+=y[x+O-32];Vs(R>>4,y,x)}function dd(y,x){Vs(128,y,x)}function Nt(y,x,O){return y+2*x+O+2>>2}function Vv(y,x){var O,R=x-32;for(R=new Uint8Array([Nt(y[R-1],y[R+0],y[R+1]),Nt(y[R+0],y[R+1],y[R+2]),Nt(y[R+1],y[R+2],y[R+3]),Nt(y[R+2],y[R+3],y[R+4])]),O=0;4>O;++O)n(y,x+32*O,R,0,R.length)}function Gv(y,x){var O=y[x-1],R=y[x-1+32],B=y[x-1+64],W=y[x-1+96];ge(y,x+0,16843009*Nt(y[x-1-32],O,R)),ge(y,x+32,16843009*Nt(O,R,B)),ge(y,x+64,16843009*Nt(R,B,W)),ge(y,x+96,16843009*Nt(B,W,W))}function Yv(y,x){var O,R=4;for(O=0;4>O;++O)R+=y[x+O-32]+y[x-1+32*O];for(R>>=3,O=0;4>O;++O)i(y,x+32*O,R,4)}function Kv(y,x){var O=y[x-1+0],R=y[x-1+32],B=y[x-1+64],W=y[x-1-32],H=y[x+0-32],G=y[x+1-32],J=y[x+2-32],ee=y[x+3-32];y[x+0+96]=Nt(R,B,y[x-1+96]),y[x+1+96]=y[x+0+64]=Nt(O,R,B),y[x+2+96]=y[x+1+64]=y[x+0+32]=Nt(W,O,R),y[x+3+96]=y[x+2+64]=y[x+1+32]=y[x+0+0]=Nt(H,W,O),y[x+3+64]=y[x+2+32]=y[x+1+0]=Nt(G,H,W),y[x+3+32]=y[x+2+0]=Nt(J,G,H),y[x+3+0]=Nt(ee,J,G)}function no(y,x){var O=y[x+1-32],R=y[x+2-32],B=y[x+3-32],W=y[x+4-32],H=y[x+5-32],G=y[x+6-32],J=y[x+7-32];y[x+0+0]=Nt(y[x+0-32],O,R),y[x+1+0]=y[x+0+32]=Nt(O,R,B),y[x+2+0]=y[x+1+32]=y[x+0+64]=Nt(R,B,W),y[x+3+0]=y[x+2+32]=y[x+1+64]=y[x+0+96]=Nt(B,W,H),y[x+3+32]=y[x+2+64]=y[x+1+96]=Nt(W,H,G),y[x+3+64]=y[x+2+96]=Nt(H,G,J),y[x+3+96]=Nt(G,J,J)}function io(y,x){var O=y[x-1+0],R=y[x-1+32],B=y[x-1+64],W=y[x-1-32],H=y[x+0-32],G=y[x+1-32],J=y[x+2-32],ee=y[x+3-32];y[x+0+0]=y[x+1+64]=W+H+1>>1,y[x+1+0]=y[x+2+64]=H+G+1>>1,y[x+2+0]=y[x+3+64]=G+J+1>>1,y[x+3+0]=J+ee+1>>1,y[x+0+96]=Nt(B,R,O),y[x+0+64]=Nt(R,O,W),y[x+0+32]=y[x+1+96]=Nt(O,W,H),y[x+1+32]=y[x+2+96]=Nt(W,H,G),y[x+2+32]=y[x+3+96]=Nt(H,G,J),y[x+3+32]=Nt(G,J,ee)}function Xv(y,x){var O=y[x+0-32],R=y[x+1-32],B=y[x+2-32],W=y[x+3-32],H=y[x+4-32],G=y[x+5-32],J=y[x+6-32],ee=y[x+7-32];y[x+0+0]=O+R+1>>1,y[x+1+0]=y[x+0+64]=R+B+1>>1,y[x+2+0]=y[x+1+64]=B+W+1>>1,y[x+3+0]=y[x+2+64]=W+H+1>>1,y[x+0+32]=Nt(O,R,B),y[x+1+32]=y[x+0+96]=Nt(R,B,W),y[x+2+32]=y[x+1+96]=Nt(B,W,H),y[x+3+32]=y[x+2+96]=Nt(W,H,G),y[x+3+64]=Nt(H,G,J),y[x+3+96]=Nt(G,J,ee)}function Jv(y,x){var O=y[x-1+0],R=y[x-1+32],B=y[x-1+64],W=y[x-1+96];y[x+0+0]=O+R+1>>1,y[x+2+0]=y[x+0+32]=R+B+1>>1,y[x+2+32]=y[x+0+64]=B+W+1>>1,y[x+1+0]=Nt(O,R,B),y[x+3+0]=y[x+1+32]=Nt(R,B,W),y[x+3+32]=y[x+1+64]=Nt(B,W,W),y[x+3+64]=y[x+2+64]=y[x+0+96]=y[x+1+96]=y[x+2+96]=y[x+3+96]=W}function nc(y,x){var O=y[x-1+0],R=y[x-1+32],B=y[x-1+64],W=y[x-1+96],H=y[x-1-32],G=y[x+0-32],J=y[x+1-32],ee=y[x+2-32];y[x+0+0]=y[x+2+32]=O+H+1>>1,y[x+0+32]=y[x+2+64]=R+O+1>>1,y[x+0+64]=y[x+2+96]=B+R+1>>1,y[x+0+96]=W+B+1>>1,y[x+3+0]=Nt(G,J,ee),y[x+2+0]=Nt(H,G,J),y[x+1+0]=y[x+3+32]=Nt(O,H,G),y[x+1+32]=y[x+3+64]=Nt(R,O,H),y[x+1+64]=y[x+3+96]=Nt(B,R,O),y[x+1+96]=Nt(W,B,R)}function fd(y,x){var O;for(O=0;8>O;++O)n(y,x+32*O,y,x-32,8)}function Ys(y,x){var O;for(O=0;8>O;++O)i(y,x,y[x-1],8),x+=32}function ic(y,x,O){var R;for(R=0;8>R;++R)i(x,O+32*R,y,8)}function ac(y,x){var O,R=8;for(O=0;8>O;++O)R+=y[x+O-32]+y[x-1+32*O];ic(R>>4,y,x)}function Zv(y,x){var O,R=4;for(O=0;8>O;++O)R+=y[x+O-32];ic(R>>3,y,x)}function hd(y,x){var O,R=4;for(O=0;8>O;++O)R+=y[x-1+32*O];ic(R>>3,y,x)}function pd(y,x){ic(128,y,x)}function Ks(y,x,O){var R=y[x-O],B=y[x+0],W=3*(B-R)+t0[1020+y[x-2*O]-y[x+O]],H=Dh[112+(W+4>>3)];y[x-O]=hi[255+R+Dh[112+(W+3>>3)]],y[x+0]=hi[255+B-H]}function Xs(y,x,O,R){var B=y[x+0],W=y[x+O];return Li[255+y[x-2*O]-y[x-O]]>R||Li[255+W-B]>R}function md(y,x,O,R){return 4*Li[255+y[x-O]-y[x+0]]+Li[255+y[x-2*O]-y[x+O]]<=R}function oc(y,x,O,R,B){var W=y[x-3*O],H=y[x-2*O],G=y[x-O],J=y[x+0],ee=y[x+O],fe=y[x+2*O],xe=y[x+3*O];return 4*Li[255+G-J]+Li[255+H-ee]>R?0:Li[255+y[x-4*O]-W]<=B&&Li[255+W-H]<=B&&Li[255+H-G]<=B&&Li[255+xe-fe]<=B&&Li[255+fe-ee]<=B&&Li[255+ee-J]<=B}function gd(y,x,O,R){var B=2*R+1;for(R=0;16>R;++R)md(y,x+R,O,B)&&Ks(y,x+R,O)}function Js(y,x,O,R){var B=2*R+1;for(R=0;16>R;++R)md(y,x+R*O,1,B)&&Ks(y,x+R*O,1)}function vd(y,x,O,R){var B;for(B=3;0<B;--B)gd(y,x+=4*O,O,R)}function yd(y,x,O,R){var B;for(B=3;0<B;--B)Js(y,x+=4,O,R)}function di(y,x,O,R,B,W,H,G){for(W=2*W+1;0<B--;){if(oc(y,x,O,W,H))if(Xs(y,x,O,G))Ks(y,x,O);else{var J=y,ee=x,fe=O,xe=J[ee-2*fe],te=J[ee-fe],pe=J[ee+0],ye=J[ee+fe],_e=J[ee+2*fe],be=27*(Ae=t0[1020+3*(pe-te)+t0[1020+xe-ye]])+63>>7,je=18*Ae+63>>7,Ae=9*Ae+63>>7;J[ee-3*fe]=hi[255+J[ee-3*fe]+Ae],J[ee-2*fe]=hi[255+xe+je],J[ee-fe]=hi[255+te+be],J[ee+0]=hi[255+pe-be],J[ee+fe]=hi[255+ye-je],J[ee+2*fe]=hi[255+_e-Ae]}x+=R}}function Aa(y,x,O,R,B,W,H,G){for(W=2*W+1;0<B--;){if(oc(y,x,O,W,H))if(Xs(y,x,O,G))Ks(y,x,O);else{var J=y,ee=x,fe=O,xe=J[ee-fe],te=J[ee+0],pe=J[ee+fe],ye=Dh[112+(4+(_e=3*(te-xe))>>3)],_e=Dh[112+(_e+3>>3)],be=ye+1>>1;J[ee-2*fe]=hi[255+J[ee-2*fe]+be],J[ee-fe]=hi[255+xe+_e],J[ee+0]=hi[255+te-ye],J[ee+fe]=hi[255+pe-be]}x+=R}}function P(y,x,O,R,B,W){di(y,x,O,1,16,R,B,W)}function q(y,x,O,R,B,W){di(y,x,1,O,16,R,B,W)}function ne(y,x,O,R,B,W){var H;for(H=3;0<H;--H)Aa(y,x+=4*O,O,1,16,R,B,W)}function ce(y,x,O,R,B,W){var H;for(H=3;0<H;--H)Aa(y,x+=4,1,O,16,R,B,W)}function ve(y,x,O,R,B,W,H,G){di(y,x,B,1,8,W,H,G),di(O,R,B,1,8,W,H,G)}function Ne(y,x,O,R,B,W,H,G){di(y,x,1,B,8,W,H,G),di(O,R,1,B,8,W,H,G)}function Ee(y,x,O,R,B,W,H,G){Aa(y,x+4*B,B,1,8,W,H,G),Aa(O,R+4*B,B,1,8,W,H,G)}function et(y,x,O,R,B,W,H,G){Aa(y,x+4,1,B,8,W,H,G),Aa(O,R+4,1,B,8,W,H,G)}function at(){this.ba=new rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $e,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new Fe,this.vb=new Fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new D}function $r(){this.xb=this.a=0,this.l=new rc,this.ca=new rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=o(4,Ct),this.Oc=0}function tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fr(y,x,O,R,B,W,H){for(y=y==null?0:y[x+0],x=0;x<H;++x)B[W+x]=y+O[R+x]&255,y=B[W+x]}function sn(y,x,O,R,B,W,H){var G;if(y==null)fr(null,null,O,R,B,W,H);else for(G=0;G<H;++G)B[W+G]=y[x+G]+O[R+G]&255}function rn(y,x,O,R,B,W,H){if(y==null)fr(null,null,O,R,B,W,H);else{var G,J=y[x+0],ee=J,fe=J;for(G=0;G<H;++G)ee=fe+(J=y[x+G])-ee,fe=O[R+G]+(-256&ee?0>ee?0:255:ee)&255,ee=J,B[W+G]=fe}}function An(y,x,O,R){var B=x.width,W=x.o;if(e(y!=null&&x!=null),0>O||0>=R||O+R>W)return null;if(!y.Cc){if(y.ga==null){var H;if(y.ga=new tn,(H=y.ga==null)||(H=x.width*x.o,e(y.Gb.length==0),y.Gb=a(H),y.Uc=0,y.Gb==null?H=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,H=1),H=!H),!H){H=y.ga;var G=y.Fa,J=y.P,ee=y.qc,fe=y.mb,xe=y.nb,te=J+1,pe=ee-1,ye=H.l;if(e(G!=null&&fe!=null&&x!=null),ns[0]=null,ns[1]=fr,ns[2]=sn,ns[3]=rn,H.ca=fe,H.tb=xe,H.c=x.width,H.i=x.height,e(0<H.c&&0<H.i),1>=ee)x=0;else if(H.$a=3&G[J+0],H.Z=G[J+0]>>2&3,H.Lc=G[J+0]>>4&3,J=G[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)x=0;else if(ye.put=Be,ye.ac=Bn,ye.bc=Fr,ye.ma=H,ye.width=x.width,ye.height=x.height,ye.Da=x.Da,ye.v=x.v,ye.va=x.va,ye.j=x.j,ye.o=x.o,H.$a)e:{e(H.$a==1),x=Us();t:for(;;){if(x==null){x=0;break e}if(e(H!=null),H.mc=x,x.c=H.c,x.i=H.i,x.l=H.l,x.l.ma=H,x.l.width=H.c,x.l.height=H.i,x.a=0,ie(x.m,G,te,pe),!ja(H.c,H.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Yi(x.s)?(H.ic=1,G=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(G),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(H.ic=0,x=zs(x,H.c)),!x))break t;x=1;break e}H.mc=null,x=0}else x=pe>=H.c*H.i;H=!x}if(H)return null;y.ga.Lc!=1?y.Ga=0:R=W-O}e(y.ga!=null),e(O+R<=W);e:{if(x=(G=y.ga).c,W=G.l.o,G.$a==0){if(te=y.rc,pe=y.Vc,ye=y.Fa,J=y.P+1+O*x,ee=y.mb,fe=y.nb+O*x,e(J<=y.P+y.qc),G.Z!=0)for(e(ns[G.Z]!=null),H=0;H<R;++H)ns[G.Z](te,pe,ye,J,ee,fe,x),te=ee,pe=fe,fe+=x,J+=x;else for(H=0;H<R;++H)n(ee,fe,ye,J,x),te=ee,pe=fe,fe+=x,J+=x;y.rc=te,y.Vc=pe}else{if(e(G.mc!=null),x=O+R,e((H=G.mc)!=null),e(x<=H.i),H.C>=x)x=1;else if(G.ic||Zs(),G.ic){G=H.V,te=H.Ba,pe=H.c;var _e=H.i,be=(ye=1,J=H.$/pe,ee=H.$%pe,fe=H.m,xe=H.s,H.$),je=pe*_e,Ae=pe*x,Te=xe.wc,Oe=be<Ae?bn(xe,ee,J):null;e(be<=je),e(x<=_e),e(Yi(xe));t:for(;;){for(;!fe.h&&be<Ae;){if(ee&Te||(Oe=bn(xe,ee,J)),e(Oe!=null),oe(fe),256>(_e=Pr(Oe.G[0],Oe.H[0],fe)))G[te+be]=_e,++be,++ee>=pe&&(ee=0,++J<=x&&!(J%16)&&Ki(H,J));else{if(!(280>_e)){ye=0;break t}_e=Er(_e-256,fe);var st,Ve=Pr(Oe.G[4],Oe.H[4],fe);if(oe(fe),!(be>=(Ve=Tr(pe,Ve=Er(Ve,fe)))&&je-be>=_e)){ye=0;break t}for(st=0;st<_e;++st)G[te+be+st]=G[te+be+st-Ve];for(be+=_e,ee+=_e;ee>=pe;)ee-=pe,++J<=x&&!(J%16)&&Ki(H,J);be<Ae&&ee&Te&&(Oe=bn(xe,ee,J))}e(fe.h==Z(fe))}Ki(H,J>x?x:J);break t}!ye||fe.h&&be<je?(ye=0,H.a=fe.h?5:3):H.$=be,x=ye}else x=Xi(H,H.V,H.Ba,H.c,H.i,x,Ql);if(!x){R=0;break e}}O+R>=W&&(y.Cc=1),R=1}if(!R)return null;if(y.Cc&&((R=y.ga)!=null&&(R.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+O*B}function ao(y,x,O,R,B,W){for(;0<B--;){var H,G=y,J=x+(O?1:0),ee=y,fe=x+(O?0:3);for(H=0;H<R;++H){var xe=ee[fe+4*H];xe!=255&&(xe*=32897,G[J+4*H+0]=G[J+4*H+0]*xe>>23,G[J+4*H+1]=G[J+4*H+1]*xe>>23,G[J+4*H+2]=G[J+4*H+2]*xe>>23)}x+=W}}function Jo(y,x,O,R,B){for(;0<R--;){var W;for(W=0;W<O;++W){var H=y[x+2*W+0],G=15&(ee=y[x+2*W+1]),J=4369*G,ee=(240&ee|ee>>4)*J>>16;y[x+2*W+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,y[x+2*W+1]=240&ee|G}x+=B}}function Qv(y,x,O,R,B,W,H,G){var J,ee,fe=255;for(ee=0;ee<B;++ee){for(J=0;J<R;++J){var xe=y[x+J];W[H+4*J]=xe,fe&=xe}x+=O,H+=G}return fe!=255}function Lh(y,x,O,R,B){var W;for(W=0;W<B;++W)O[R+W]=y[x+W]>>8}function Zs(){Pd=ao,dj=Jo,fj=Qv,hj=Lh}function Zi(y,x,O){T[y]=function(R,B,W,H,G,J,ee,fe,xe,te,pe,ye,_e,be,je,Ae,Te){var Oe,st=Te-1>>1,Ve=G[J+0]|ee[fe+0]<<16,Et=xe[te+0]|pe[ye+0]<<16;e(R!=null);var tt=3*Ve+Et+131074>>2;for(x(R[B+0],255&tt,tt>>16,_e,be),W!=null&&(tt=3*Et+Ve+131074>>2,x(W[H+0],255&tt,tt>>16,je,Ae)),Oe=1;Oe<=st;++Oe){var zt=G[J+Oe]|ee[fe+Oe]<<16,cn=xe[te+Oe]|pe[ye+Oe]<<16,Tt=Ve+zt+Et+cn+524296,rt=Tt+2*(zt+Et)>>3;tt=rt+Ve>>1,Ve=(Tt=Tt+2*(Ve+cn)>>3)+zt>>1,x(R[B+2*Oe-1],255&tt,tt>>16,_e,be+(2*Oe-1)*O),x(R[B+2*Oe-0],255&Ve,Ve>>16,_e,be+(2*Oe-0)*O),W!=null&&(tt=Tt+Et>>1,Ve=rt+cn>>1,x(W[H+2*Oe-1],255&tt,tt>>16,je,Ae+(2*Oe-1)*O),x(W[H+2*Oe+0],255&Ve,Ve>>16,je,Ae+(2*Oe+0)*O)),Ve=zt,Et=cn}1&Te||(tt=3*Ve+Et+131074>>2,x(R[B+Te-1],255&tt,tt>>16,_e,be+(Te-1)*O),W!=null&&(tt=3*Et+Ve+131074>>2,x(W[H+Te-1],255&tt,tt>>16,je,Ae+(Te-1)*O)))}}function bd(){Ri[$h]=_F,Ri[Fh]=jj,Ri[bj]=SF,Ri[Bh]=Nj,Ri[qh]=Aj,Ri[r0]=Pj,Ri[xj]=jF,Ri[n0]=jj,Ri[i0]=Nj,Ri[Uh]=Aj,Ri[a0]=Pj}function sc(y){return y&-16384?0>y?0:255:y>>NF}function Zo(y,x){return sc((19077*y>>8)+(26149*x>>8)-14234)}function xn(y,x,O){return sc((19077*y>>8)-(6419*x>>8)-(13320*O>>8)+8708)}function oo(y,x){return sc((19077*y>>8)+(33050*x>>8)-17685)}function so(y,x,O,R,B){R[B+0]=Zo(y,O),R[B+1]=xn(y,x,O),R[B+2]=oo(y,x)}function lc(y,x,O,R,B){R[B+0]=oo(y,x),R[B+1]=xn(y,x,O),R[B+2]=Zo(y,O)}function xd(y,x,O,R,B){var W=xn(y,x,O);x=W<<3&224|oo(y,x)>>3,R[B+0]=248&Zo(y,O)|W>>5,R[B+1]=x}function qn(y,x,O,R,B){var W=240&oo(y,x)|15;R[B+0]=240&Zo(y,O)|xn(y,x,O)>>4,R[B+1]=W}function Rh(y,x,O,R,B){R[B+0]=255,so(y,x,O,R,B+1)}function cc(y,x,O,R,B){lc(y,x,O,R,B),R[B+3]=255}function Mh(y,x,O,R,B){so(y,x,O,R,B),R[B+3]=255}function ln(y,x){return 0>y?0:y>x?x:y}function Ii(y,x,O){T[y]=function(R,B,W,H,G,J,ee,fe,xe){for(var te=fe+(-2&xe)*O;fe!=te;)x(R[B+0],W[H+0],G[J+0],ee,fe),x(R[B+1],W[H+0],G[J+0],ee,fe+O),B+=2,++H,++J,fe+=2*O;1&xe&&x(R[B+0],W[H+0],G[J+0],ee,fe)}}function wd(y,x,O){return O==0?y==0?x==0?6:5:x==0?4:0:O}function _d(y,x,O,R,B){switch(y>>>30){case 3:Yr(x,O,R,B,0);break;case 2:co(x,O,R,B);break;case 1:Ea(x,O,R,B)}}function Qo(y,x){var O,R,B=x.M,W=x.Nb,H=y.oc,G=y.pc+40,J=y.oc,ee=y.pc+584,fe=y.oc,xe=y.pc+600;for(O=0;16>O;++O)H[G+32*O-1]=129;for(O=0;8>O;++O)J[ee+32*O-1]=129,fe[xe+32*O-1]=129;for(0<B?H[G-1-32]=J[ee-1-32]=fe[xe-1-32]=129:(i(H,G-32-1,127,21),i(J,ee-32-1,127,9),i(fe,xe-32-1,127,9)),R=0;R<y.za;++R){var te=x.ya[x.aa+R];if(0<R){for(O=-1;16>O;++O)n(H,G+32*O-4,H,G+32*O+12,4);for(O=-1;8>O;++O)n(J,ee+32*O-4,J,ee+32*O+4,4),n(fe,xe+32*O-4,fe,xe+32*O+4,4)}var pe=y.Gd,ye=y.Hd+R,_e=te.ad,be=te.Hc;if(0<B&&(n(H,G-32,pe[ye].y,0,16),n(J,ee-32,pe[ye].f,0,8),n(fe,xe-32,pe[ye].ea,0,8)),te.Za){var je=H,Ae=G-32+16;for(0<B&&(R>=y.za-1?i(je,Ae,pe[ye].y[15],4):n(je,Ae,pe[ye+1].y,0,4)),O=0;4>O;O++)je[Ae+128+O]=je[Ae+256+O]=je[Ae+384+O]=je[Ae+0+O];for(O=0;16>O;++O,be<<=2)je=H,Ae=G+Cj[O],Qi[te.Ob[O]](je,Ae),_d(be,_e,16*+O,je,Ae)}else if(je=wd(R,B,te.Ob[0]),rs[je](H,G),be!=0)for(O=0;16>O;++O,be<<=2)_d(be,_e,16*+O,H,G+Cj[O]);for(O=te.Gc,je=wd(R,B,te.Dd),uo[je](J,ee),uo[je](fe,xe),be=_e,je=J,Ae=ee,255&(te=0|O)&&(170&te?pc(be,256,je,Ae):Ad(be,256,je,Ae)),te=fe,be=xe,255&(O>>=8)&&(170&O?pc(_e,320,te,be):Ad(_e,320,te,be)),B<y.Ub-1&&(n(pe[ye].y,0,H,G+480,16),n(pe[ye].f,0,J,ee+224,8),n(pe[ye].ea,0,fe,xe+224,8)),O=8*W*y.B,pe=y.sa,ye=y.ta+16*R+16*W*y.R,_e=y.qa,te=y.ra+8*R+O,be=y.Ha,je=y.Ia+8*R+O,O=0;16>O;++O)n(pe,ye+O*y.R,H,G+32*O,16);for(O=0;8>O;++O)n(_e,te+O*y.B,J,ee+32*O,8),n(be,je+O*y.B,fe,xe+32*O,8)}}function uc(y,x,O,R,B,W,H,G,J){var ee=[0],fe=[0],xe=0,te=J!=null?J.kd:0,pe=J??new xt;if(y==null||12>O)return 7;pe.data=y,pe.w=x,pe.ha=O,x=[x],O=[O],pe.gb=[pe.gb];e:{var ye=x,_e=O,be=pe.gb;if(e(y!=null),e(_e!=null),e(be!=null),be[0]=0,12<=_e[0]&&!r(y,ye[0],"RIFF")){if(r(y,ye[0]+8,"WEBP")){be=3;break e}var je=me(y,ye[0]+4);if(12>je||4294967286<je){be=3;break e}if(te&&je>_e[0]-8){be=7;break e}be[0]=je,ye[0]+=12,_e[0]-=12}be=0}if(be!=0)return be;for(je=0<pe.gb[0],O=O[0];;){e:{var Ae=y;_e=x,be=O;var Te=ee,Oe=fe,st=ye=[0];if((tt=xe=[xe])[0]=0,8>be[0])be=7;else{if(!r(Ae,_e[0],"VP8X")){if(me(Ae,_e[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Ve=me(Ae,_e[0]+8),Et=1+ke(Ae,_e[0]+12);if(2147483648<=Et*(Ae=1+ke(Ae,_e[0]+15))){be=3;break e}st!=null&&(st[0]=Ve),Te!=null&&(Te[0]=Et),Oe!=null&&(Oe[0]=Ae),_e[0]+=18,be[0]-=18,tt[0]=1}be=0}}if(xe=xe[0],ye=ye[0],be!=0)return be;if(_e=!!(2&ye),!je&&xe)return 3;if(W!=null&&(W[0]=!!(16&ye)),H!=null&&(H[0]=_e),G!=null&&(G[0]=0),H=ee[0],ye=fe[0],xe&&_e&&J==null){be=0;break}if(4>O){be=7;break}if(je&&xe||!je&&!xe&&!r(y,x[0],"ALPH")){O=[O],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Ve=y,be=x,je=O;var tt=pe.gb;Te=pe.na,Oe=pe.P,st=pe.Sa,Et=22,e(Ve!=null),e(je!=null),Ae=be[0];var zt=je[0];for(e(Te!=null),e(st!=null),Te[0]=null,Oe[0]=null,st[0]=0;;){if(be[0]=Ae,je[0]=zt,8>zt){be=7;break e}var cn=me(Ve,Ae+4);if(4294967286<cn){be=3;break e}var Tt=8+cn+1&-2;if(Et+=Tt,0<tt&&Et>tt){be=3;break e}if(!r(Ve,Ae,"VP8 ")||!r(Ve,Ae,"VP8L")){be=0;break e}if(zt[0]<Tt){be=7;break e}r(Ve,Ae,"ALPH")||(Te[0]=Ve,Oe[0]=Ae+8,st[0]=cn),Ae+=Tt,zt-=Tt}}if(O=O[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],be!=0)break}O=[O],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(tt=y,be=x,je=O,Te=pe.gb[0],Oe=pe.Ja,st=pe.xa,Ve=be[0],Ae=!r(tt,Ve,"VP8 "),Et=!r(tt,Ve,"VP8L"),e(tt!=null),e(je!=null),e(Oe!=null),e(st!=null),8>je[0])be=7;else{if(Ae||Et){if(tt=me(tt,Ve+4),12<=Te&&tt>Te-12){be=3;break e}if(te&&tt>je[0]-8){be=7;break e}Oe[0]=tt,be[0]+=8,je[0]-=8,st[0]=Et}else st[0]=5<=je[0]&&tt[Ve+0]==47&&!(tt[Ve+4]>>5),Oe[0]=je[0];be=0}if(O=O[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],x=x[0],be!=0)break;if(4294967286<pe.Ja)return 3;if(G==null||_e||(G[0]=pe.xa?2:1),H=[H],ye=[ye],pe.xa){if(5>O){be=7;break}G=H,te=ye,_e=W,y==null||5>O?y=0:5<=O&&y[x+0]==47&&!(y[x+4]>>5)?(je=[0],tt=[0],Te=[0],ie(Oe=new U,y,x,O),ei(Oe,je,tt,Te)?(G!=null&&(G[0]=je[0]),te!=null&&(te[0]=tt[0]),_e!=null&&(_e[0]=Te[0]),y=1):y=0):y=0}else{if(10>O){be=7;break}G=ye,y==null||10>O||!Oh(y,x+3,O-3)?y=0:(te=y[x+0]|y[x+1]<<8|y[x+2]<<16,_e=16383&(y[x+7]<<8|y[x+6]),y=16383&(y[x+9]<<8|y[x+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=pe.Ja||!_e||!y?y=0:(H&&(H[0]=_e),G&&(G[0]=y),y=1))}if(!y||(H=H[0],ye=ye[0],xe&&(ee[0]!=H||fe[0]!=ye)))return 3;J!=null&&(J[0]=pe,J.offset=x-J.w,e(4294967286>x-J.w),e(J.offset==J.ha-O));break}return be==0||be==7&&xe&&J==null?(W!=null&&(W[0]|=pe.na!=null&&0<pe.na.length),R!=null&&(R[0]=H),B!=null&&(B[0]=ye),0):be}function ti(y,x,O){var R=x.width,B=x.height,W=0,H=0,G=R,J=B;if(x.Da=y!=null&&0<y.Da,x.Da&&(G=y.cd,J=y.bd,W=y.v,H=y.j,11>O||(W&=-2,H&=-2),0>W||0>H||0>=G||0>=J||W+G>R||H+J>B))return 0;if(x.v=W,x.j=H,x.va=W+G,x.o=H+J,x.U=G,x.T=J,x.da=y!=null&&0<y.da,x.da){if(!Ue(G,J,O=[y.ib],W=[y.hb]))return 0;x.ib=O[0],x.hb=W[0]}return x.ob=y!=null&&y.ob,x.Kb=y==null||!y.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*B/4,x.Kb=0),1}function ri(y){if(y==null)return 2;if(11>y.S){var x=y.f.RGBA;x.fb+=(y.height-1)*x.A,x.A=-x.A}else x=y.f.kb,y=y.height,x.O+=(y-1)*x.fa,x.fa=-x.fa,x.N+=(y-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(y-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(y-1)*x.lb,x.lb=-x.lb);return 0}function Qs(y,x,O,R){if(R==null||0>=y||0>=x)return 2;if(O!=null){if(O.Da){var B=O.cd,W=O.bd,H=-2&O.v,G=-2&O.j;if(0>H||0>G||0>=B||0>=W||H+B>y||G+W>x)return 2;y=B,x=W}if(O.da){if(!Ue(y,x,B=[O.ib],W=[O.hb]))return 2;y=B[0],x=W[0]}}R.width=y,R.height=x;e:{var J=R.width,ee=R.height;if(y=R.S,0>=J||0>=ee||!(y>=$h&&13>y))y=2;else{if(0>=R.Rd&&R.sd==null){H=W=B=x=0;var fe=(G=J*Oj[y])*ee;if(11>y||(W=(ee+1)/2*(x=(J+1)/2),y==12&&(H=(B=J)*ee)),(ee=a(fe+2*W+H))==null){y=1;break e}R.sd=ee,11>y?((J=R.f.RGBA).eb=ee,J.fb=0,J.A=G,J.size=fe):((J=R.f.kb).y=ee,J.O=0,J.fa=G,J.Fd=fe,J.f=ee,J.N=0+fe,J.Ab=x,J.Cd=W,J.ea=ee,J.W=0+fe+W,J.Db=x,J.Ed=W,y==12&&(J.F=ee,J.J=0+fe+2*W),J.Tc=H,J.lb=B)}if(x=1,B=R.S,W=R.width,H=R.height,B>=$h&&13>B)if(11>B)y=R.f.RGBA,x&=(G=Math.abs(y.A))*(H-1)+W<=y.size,x&=G>=W*Oj[B],x&=y.eb!=null;else{y=R.f.kb,G=(W+1)/2,fe=(H+1)/2,J=Math.abs(y.fa),ee=Math.abs(y.Ab);var xe=Math.abs(y.Db),te=Math.abs(y.lb),pe=te*(H-1)+W;x&=J*(H-1)+W<=y.Fd,x&=ee*(fe-1)+G<=y.Cd,x=(x&=xe*(fe-1)+G<=y.Ed)&J>=W&ee>=G&xe>=G,x&=y.y!=null,x&=y.f!=null,x&=y.ea!=null,B==12&&(x&=te>=W,x&=pe<=y.Tc,x&=y.F!=null)}else x=0;y=x?0:2}}return y!=0||O!=null&&O.fd&&(y=ri(R)),y}var Pa=64,es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sd=24,ts=32,Vr=8,e0=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(y){return y},T.Predictor2=function(y,x,O){return x[O+0]},T.Predictor3=function(y,x,O){return x[O+1]},T.Predictor4=function(y,x,O){return x[O-1]},T.Predictor5=function(y,x,O){return He(He(y,x[O+1]),x[O+0])},T.Predictor6=function(y,x,O){return He(y,x[O-1])},T.Predictor7=function(y,x,O){return He(y,x[O+0])},T.Predictor8=function(y,x,O){return He(x[O-1],x[O+0])},T.Predictor9=function(y,x,O){return He(x[O+0],x[O+1])},T.Predictor10=function(y,x,O){return He(He(y,x[O-1]),He(x[O+0],x[O+1]))},T.Predictor11=function(y,x,O){var R=x[O+0];return 0>=gt(R>>24&255,y>>24&255,(x=x[O-1])>>24&255)+gt(R>>16&255,y>>16&255,x>>16&255)+gt(R>>8&255,y>>8&255,x>>8&255)+gt(255&R,255&y,255&x)?R:y},T.Predictor12=function(y,x,O){var R=x[O+0];return(Ut((y>>24&255)+(R>>24&255)-((x=x[O-1])>>24&255))<<24|Ut((y>>16&255)+(R>>16&255)-(x>>16&255))<<16|Ut((y>>8&255)+(R>>8&255)-(x>>8&255))<<8|Ut((255&y)+(255&R)-(255&x)))>>>0},T.Predictor13=function(y,x,O){var R=x[O-1];return(mt((y=He(y,x[O+0]))>>24&255,R>>24&255)<<24|mt(y>>16&255,R>>16&255)<<16|mt(y>>8&255,R>>8&255)<<8|mt(255&y,255&R))>>>0};var ka=T.PredictorAdd0;T.PredictorAdd1=er,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Ca=T.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var dc,jd=T.ColorIndexInverseTransform,fc=T.MapARGB,hc=T.VP8LColorIndexInverseTransformAlpha,el=T.MapAlpha,tl=T.VP8LPredictorsAdd=[];tl.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var lo,Nd,fi,Oa,br,xr,Gr,Yr,co,pc,Ea,Ad,QS,ej,tj,rj,nj,ij,aj,oj,sj,lj,cj,uj,Pd,dj,fj,hj,pj=a(511),mj=a(2041),gj=a(225),vj=a(767),yj=0,t0=mj,Dh=gj,hi=vj,Li=pj,$h=0,Fh=1,bj=2,Bh=3,qh=4,r0=5,xj=6,n0=7,i0=8,Uh=9,a0=10,lF=[2,3,7],cF=[3,3,11],wj=[280,256,256,256,40],uF=[0,1,1,1,0],dF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pF=8,o0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],s0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kd=null,mF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_j=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rs=[],Qi=[],uo=[],wF=1,Sj=2,ns=[],Ri=[];Zi("UpsampleRgbLinePair",so,3),Zi("UpsampleBgrLinePair",lc,3),Zi("UpsampleRgbaLinePair",Mh,4),Zi("UpsampleBgraLinePair",cc,4),Zi("UpsampleArgbLinePair",Rh,4),Zi("UpsampleRgba4444LinePair",qn,2),Zi("UpsampleRgb565LinePair",xd,2);var _F=T.UpsampleRgbLinePair,SF=T.UpsampleBgrLinePair,jj=T.UpsampleRgbaLinePair,Nj=T.UpsampleBgraLinePair,Aj=T.UpsampleArgbLinePair,Pj=T.UpsampleRgba4444LinePair,jF=T.UpsampleRgb565LinePair,zh=16,Wh=1<<zh-1,Cd=-227,l0=482,NF=6,kj=0,AF=a(256),PF=a(256),kF=a(256),CF=a(256),OF=a(l0-Cd),EF=a(l0-Cd);Ii("YuvToRgbRow",so,3),Ii("YuvToBgrRow",lc,3),Ii("YuvToRgbaRow",Mh,4),Ii("YuvToBgraRow",cc,4),Ii("YuvToArgbRow",Rh,4),Ii("YuvToRgba4444Row",qn,2),Ii("YuvToRgb565Row",xd,2);var Cj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hh=[0,2,8],TF=[8,7,6,4,4,2,2,2,1,1,1,1],IF=1;this.WebPDecodeRGBA=function(y,x,O,R,B){var W=Fh,H=new at,G=new rr;H.ba=G,G.S=W,G.width=[G.width],G.height=[G.height];var J=G.width,ee=G.height,fe=new vt;if(fe==null||y==null)var xe=2;else e(fe!=null),xe=uc(y,x,O,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(xe!=0?J=0:(J!=null&&(J[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),J=1),J){G.width=G.width[0],G.height=G.height[0],R!=null&&(R[0]=G.width),B!=null&&(B[0]=G.height);e:{if(R=new rc,(B=new xt).data=y,B.w=x,B.ha=O,B.kd=1,x=[0],e(B!=null),((y=uc(B.data,B.w,B.ha,null,null,null,x,null,B))==0||y==7)&&x[0]&&(y=4),(x=y)==0){if(e(H!=null),R.data=B.data,R.w=B.w+B.offset,R.ha=B.ha-B.offset,R.put=Be,R.ac=Bn,R.bc=Fr,R.ma=H,B.xa){if((y=Us())==null){H=1;break e}if((function(te,pe){var ye=[0],_e=[0],be=[0];t:for(;;){if(te==null)return 0;if(pe==null)return te.a=2,0;if(te.l=pe,te.a=0,ie(te.m,pe.data,pe.w,pe.ha),!ei(te.m,ye,_e,be)){te.a=3;break t}if(te.xb=Sj,pe.width=ye[0],pe.height=_e[0],!ja(ye[0],_e[0],1,te,null))break t;return 1}return e(te.a!=0),0})(y,R)){if(R=(x=Qs(R.width,R.height,H.Oa,H.ba))==0){t:{R=y;r:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((O=R.l)!=null),e((B=O.ma)!=null),R.xb!=0){if(R.ca=B.ba,R.tb=B.tb,e(R.ca!=null),!ti(B.Oa,O,Bh)){R.a=2;break r}if(!zs(R,O.width)||O.da)break r;if((O.da||ht(R.ca.S))&&Zs(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Zs()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Q(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!Xi(R,R.V,R.Ba,R.c,R.i,O.o,Yo))break r;B.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(x=y.a)}else x=y.a}else{if((y=new $v)==null){H=1;break e}if(y.Fa=B.na,y.P=B.P,y.qc=B.Sa,Eh(y,R)){if((x=Qs(R.width,R.height,H.Oa,H.ba))==0){if(y.Aa=0,O=H.Oa,e((B=y)!=null),O!=null){if(0<(J=0>(J=O.Md)?0:100<J?255:255*J/100)){for(ee=fe=0;4>ee;++ee)12>(xe=B.pb[ee]).lc&&(xe.ia=J*TF[0>xe.lc?0:xe.lc]>>3),fe|=xe.ia;fe&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=O.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(te,pe){if(te==null)return 0;if(pe==null)return en(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Eh(te,pe))return 0;if(e(te.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(te.L=0);var ye=Hh[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=pe.v-ye>>4,te.zb=pe.j-ye>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=pe.o+15+ye>>4,te.Hb=pe.va+15+ye>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var _e=te.ed;for(ye=0;4>ye;++ye){var be;if(te.Qa.Cb){var je=te.Qa.Lb[ye];te.Qa.Fb||(je+=_e.Tb)}else je=_e.Tb;for(be=0;1>=be;++be){var Ae=te.gd[ye][be],Te=je;if(_e.Pc&&(Te+=_e.vd[0],be&&(Te+=_e.od[0])),0<(Te=0>Te?0:63<Te?63:Te)){var Oe=Te;0<_e.wb&&(Oe=4<_e.wb?Oe>>2:Oe>>1)>9-_e.wb&&(Oe=9-_e.wb),1>Oe&&(Oe=1),Ae.dd=Oe,Ae.tc=2*Te+Oe,Ae.ld=40<=Te?2:15<=Te?1:0}else Ae.tc=0;Ae.La=be}}}ye=0}else en(te,6,"Frame setup failed"),ye=te.a;if(ye=ye==0){if(ye){te.$c=0,0<te.Aa||(te.Ic=IF);t:{ye=te.Ic,_e=4*(Oe=te.za);var st=32*Oe,Ve=Oe+1,Et=0<te.L?Oe*(0<te.Aa?2:1):0,tt=(te.Aa==2?2:1)*Oe;if((Ae=_e+832+(be=3*(16*ye+Hh[te.L])/2*st)+(je=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ae)ye=0;else{if(Ae>te.Vb){if(te.Vb=0,te.Ec=a(Ae),te.Fc=0,te.Ec==null){ye=en(te,1,"no memory during frame initialization.");break t}te.Vb=Ae}Ae=te.Ec,Te=te.Fc,te.Ac=Ae,te.Bc=Te,Te+=_e,te.Gd=o(st,kh),te.Hd=0,te.rb=o(Ve+1,od),te.sb=1,te.wa=Et?o(Et,Ti):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Oe),e(!0),te.oc=Ae,te.pc=Te,Te+=832,te.ya=o(tt,sd),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Oe),te.R=16*Oe,te.B=8*Oe,Oe=(st=Hh[te.L])*te.R,st=st/2*te.B,te.sa=Ae,te.ta=Te+Oe,te.qa=te.sa,te.ra=te.ta+16*ye*te.R+st,te.Ha=te.qa,te.Ia=te.ra+8*ye*te.B+st,te.$c=0,Te+=be,te.mb=je?Ae:null,te.nb=je?Te:null,e(Te+je<=te.Fc+te.Vb),Ws(te),i(te.Ac,te.Bc,0,_e),ye=1}}if(ye){if(pe.ka=0,pe.y=te.sa,pe.O=te.ta,pe.f=te.qa,pe.N=te.ra,pe.ea=te.Ha,pe.Vd=te.Ia,pe.fa=te.R,pe.Rc=te.B,pe.F=null,pe.J=0,!yj){for(ye=-255;255>=ye;++ye)pj[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)mj[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)gj[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)vj[255+ye]=0>ye?0:255<ye?255:ye;yj=1}Gr=Ih,Yr=Bv,pc=qv,Ea=Na,Ad=Th,co=Fv,QS=P,ej=q,tj=ve,rj=Ne,nj=ne,ij=ce,aj=Ee,oj=et,sj=gd,lj=Js,cj=vd,uj=yd,Qi[0]=Yv,Qi[1]=cd,Qi[2]=Vv,Qi[3]=Gv,Qi[4]=Kv,Qi[5]=io,Qi[6]=no,Qi[7]=Xv,Qi[8]=nc,Qi[9]=Jv,rs[0]=Xo,rs[1]=zv,rs[2]=Wv,rs[3]=ud,rs[4]=Hv,rs[5]=Gs,rs[6]=dd,uo[0]=ac,uo[1]=Uv,uo[2]=fd,uo[3]=Ys,uo[4]=hd,uo[5]=Zv,uo[6]=pd,ye=1}else ye=0}ye&&(ye=(function(zt,cn){for(zt.M=0;zt.M<zt.Va;++zt.M){var Tt,rt=zt.Jc[zt.M&zt.Xb],Me=zt.m,Kr=zt;for(Tt=0;Tt<Kr.za;++Tt){var kt=Me,Ht=Kr,kr=Ht.Ac,Pn=Ht.Bc+4*Tt,Un=Ht.zc,Br=Ht.ya[Ht.aa+Tt];if(Ht.Qa.Bb?Br.$b=he(kt,Ht.Pa.jb[0])?2+he(kt,Ht.Pa.jb[2]):he(kt,Ht.Pa.jb[1]):Br.$b=0,Ht.kc&&(Br.Ad=he(kt,Ht.Bd)),Br.Za=!he(kt,145)+0,Br.Za){var En=Br.Ob,zn=0;for(Ht=0;4>Ht;++Ht){var un,Kt=Un[0+Ht];for(un=0;4>un;++un){Kt=yF[kr[Pn+un]][Kt];for(var ar=_j[he(kt,Kt[0])];0<ar;)ar=_j[2*ar+he(kt,Kt[ar])];Kt=-ar,kr[Pn+un]=Kt}n(En,zn,kr,Pn,4),zn+=4,Un[0+Ht]=Kt}}else Kt=he(kt,156)?he(kt,128)?1:3:he(kt,163)?2:0,Br.Ob[0]=Kt,i(kr,Pn,Kt,4),i(Un,0,Kt,4);Br.Dd=he(kt,142)?he(kt,114)?he(kt,183)?1:3:2:0}if(Kr.m.Ka)return en(zt,7,"Premature end-of-partition0 encountered.");for(;zt.ja<zt.za;++zt.ja){if(Kr=rt,kt=(Me=zt).rb[Me.sb-1],kr=Me.rb[Me.sb+Me.ja],Tt=Me.ya[Me.aa+Me.ja],Pn=Me.kc?Tt.Ad:0)kt.la=kr.la=0,Tt.Za||(kt.Na=kr.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var qr,or;if(kt=kr,kr=Kr,Pn=Me.Pa.Xc,Un=Me.ya[Me.aa+Me.ja],Br=Me.pb[Un.$b],Ht=Un.ad,En=0,zn=Me.rb[Me.sb-1],Kt=un=0,i(Ht,En,0,384),Un.Za)var kn=0,ea=Pn[3];else{ar=a(16);var Xr=kt.Na+zn.Na;if(Xr=kd(kr,Pn[1],Xr,Br.Eb,0,ar,0),kt.Na=zn.Na=(0<Xr)+0,1<Xr)Gr(ar,0,Ht,En);else{var ni=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)Ht[En+ar]=ni}kn=1,ea=Pn[0]}var pr=15&kt.la,dn=15&zn.la;for(ar=0;4>ar;++ar){var pi=1&dn;for(ni=or=0;4>ni;++ni)pr=pr>>1|(pi=(Xr=kd(kr,ea,Xr=pi+(1&pr),Br.Sc,kn,Ht,En))>kn)<<7,or=or<<2|(3<Xr?3:1<Xr?2:Ht[En+0]!=0),En+=16;pr>>=4,dn=dn>>1|pi<<7,un=(un<<8|or)>>>0}for(ea=pr,kn=dn>>4,qr=0;4>qr;qr+=2){for(or=0,pr=kt.la>>4+qr,dn=zn.la>>4+qr,ar=0;2>ar;++ar){for(pi=1&dn,ni=0;2>ni;++ni)Xr=pi+(1&pr),pr=pr>>1|(pi=0<(Xr=kd(kr,Pn[2],Xr,Br.Qc,0,Ht,En)))<<3,or=or<<2|(3<Xr?3:1<Xr?2:Ht[En+0]!=0),En+=16;pr>>=2,dn=dn>>1|pi<<5}Kt|=or<<4*qr,ea|=pr<<4<<qr,kn|=(240&dn)<<qr}kt.la=ea,zn.la=kn,Un.Hc=un,Un.Gc=Kt,Un.ia=43690&Kt?0:Br.ia,Pn=!(un|Kt)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[Tt.$b][Tt.Za],Me.wa[Me.Y+Me.ja].La|=!Pn),Kr.Ka)return en(zt,7,"Premature end-of-file encountered.")}if(Ws(zt),Me=cn,Kr=1,Tt=(rt=zt).D,kt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Tt.M=rt.M,Tt.uc=kt,Qo(rt,Tt),Kr=1,Tt=(or=rt.D).Nb,kt=(Kt=Hh[rt.L])*rt.R,kr=Kt/2*rt.B,ar=16*Tt*rt.R,ni=8*Tt*rt.B,Pn=rt.sa,Un=rt.ta-kt+ar,Br=rt.qa,Ht=rt.ra-kr+ni,En=rt.Ha,zn=rt.Ia-kr+ni,dn=(pr=or.M)==0,un=pr>=rt.Va-1,rt.Aa==2&&Qo(rt,or),or.uc)for(pi=(Xr=rt).D.M,e(Xr.D.uc),or=Xr.yb;or<Xr.Hb;++or){kn=or,ea=pi;var Wn=(mi=(Cn=Xr).D).Nb;qr=Cn.R;var mi=mi.wa[mi.Y+kn],gi=Cn.sa,ii=Cn.ta+16*Wn*qr+16*kn,vi=mi.dd,wr=mi.tc;if(wr!=0)if(e(3<=wr),Cn.L==1)0<kn&&lj(gi,ii,qr,wr+4),mi.La&&uj(gi,ii,qr,wr),0<ea&&sj(gi,ii,qr,wr+4),mi.La&&cj(gi,ii,qr,wr);else{var yi=Cn.B,ta=Cn.qa,rl=Cn.ra+8*Wn*yi+8*kn,fo=Cn.Ha,Cn=Cn.Ia+8*Wn*yi+8*kn;Wn=mi.ld,0<kn&&(ej(gi,ii,qr,wr+4,vi,Wn),rj(ta,rl,fo,Cn,yi,wr+4,vi,Wn)),mi.La&&(ij(gi,ii,qr,wr,vi,Wn),oj(ta,rl,fo,Cn,yi,wr,vi,Wn)),0<ea&&(QS(gi,ii,qr,wr+4,vi,Wn),tj(ta,rl,fo,Cn,yi,wr+4,vi,Wn)),mi.La&&(nj(gi,ii,qr,wr,vi,Wn),aj(ta,rl,fo,Cn,yi,wr,vi,Wn))}}if(rt.ia&&alert("todo:DitherRow"),Me.put!=null){if(or=16*pr,pr=16*(pr+1),dn?(Me.y=rt.sa,Me.O=rt.ta+ar,Me.f=rt.qa,Me.N=rt.ra+ni,Me.ea=rt.Ha,Me.W=rt.Ia+ni):(or-=Kt,Me.y=Pn,Me.O=Un,Me.f=Br,Me.N=Ht,Me.ea=En,Me.W=zn),un||(pr-=Kt),pr>Me.o&&(pr=Me.o),Me.F=null,Me.J=null,rt.Fa!=null&&0<rt.Fa.length&&or<pr&&(Me.J=An(rt,Me,or,pr-or),Me.F=rt.mb,Me.F==null&&Me.F.length==0)){Kr=en(rt,3,"Could not decode alpha data.");break t}or<Me.j&&(Kt=Me.j-or,or=Me.j,e(!(1&Kt)),Me.O+=rt.R*Kt,Me.N+=rt.B*(Kt>>1),Me.W+=rt.B*(Kt>>1),Me.F!=null&&(Me.J+=Me.width*Kt)),or<pr&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=or-Me.j,Me.U=Me.va-Me.v,Me.T=pr-or,Kr=Me.put(Me))}Tt+1!=rt.Ic||un||(n(rt.sa,rt.ta-kt,Pn,Un+16*rt.R,kt),n(rt.qa,rt.ra-kr,Br,Ht+8*rt.B,kr),n(rt.Ha,rt.Ia-kr,En,zn+8*rt.B,kr))}if(!Kr)return en(zt,6,"Output aborted.")}return 1})(te,pe)),pe.bc!=null&&pe.bc(pe),ye&=1}return ye?(te.cb=0,ye):0})(y,R)||(x=y.a)}}else x=y.a}x==0&&H.Oa!=null&&H.Oa.fd&&(x=ri(H.ba))}H=x}W=H!=0?null:11>W?G.f.RGBA.eb:G.f.kb.y}else W=null;return W};var Oj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,I){for(var A="",L=0;L<4;L++)A+=String.fromCharCode(T[I++]);return A}function d(T,I){return T[I+0]|T[I+1]<<8}function f(T,I){return(T[I+0]|T[I+1]<<8|T[I+2]<<16)>>>0}function p(T,I){return(T[I+0]|T[I+1]<<8|T[I+2]<<16|T[I+3]<<24)>>>0}new l;var h=[0],g=[0],m=[],v=new l,b=t,_=(function(T,I){var A={},L=0,D=!1,F=0,X=0;if(A.frames=[],!(function(M,U){for(var z=0;z<4;z++)if(M[U+z]!="RIFF".charCodeAt(z))return!0;return!1})(T,I)){for(p(T,I+=4),I+=8;I<T.length;){var Y=u(T,I),V=p(T,I+=4);I+=4;var $=V+(1&V);switch(Y){case"VP8 ":case"VP8L":A.frames[L]===void 0&&(A.frames[L]={}),(se=A.frames[L]).src_off=D?X:I-8,se.src_size=F+V+8,L++,D&&(D=!1,F=0,X=0);break;case"VP8X":(se=A.header={}).feature_flags=T[I];var ie=I+4;se.canvas_width=1+f(T,ie),ie+=3,se.canvas_height=1+f(T,ie),ie+=3;break;case"ALPH":D=!0,F=$+8,X=I-8;break;case"ANIM":(se=A.header).bgcolor=p(T,I),ie=I+4,se.loop_count=d(T,ie),ie+=2;break;case"ANMF":var re,se;(se=A.frames[L]={}).offset_x=2*f(T,I),I+=3,se.offset_y=2*f(T,I),I+=3,se.width=1+f(T,I),I+=3,se.height=1+f(T,I),I+=3,se.duration=f(T,I),I+=3,re=T[I++],se.dispose=1&re,se.blend=re>>1&1}Y!="ANMF"&&(I+=$)}return A}})(b,0);_.response=b,_.rgbaoutput=!0,_.dataurl=!1;var w=_.header?_.header:null,S=_.frames?_.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],g=[w.canvas_width];for(var j=0;j<S.length&&S[j].blend!=0;j++);}var C=S[0],k=v.WebPDecodeRGBA(b,C.src_off,C.src_size,g,h);C.rgba=k,C.imgwidth=g[0],C.imgheight=h[0];for(var E=0;E<g[0]*h[0]*4;E++)m[E]=k[E];return this.width=g,this.height=h,this.data=m,this}(function(t){var e,r,n,i,a,o,s,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=M;Object.defineProperty(this,"pdf",{get:function(){return U}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(me){z=!!me}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(me){Z=!!me}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(me){isNaN(me)||(le=me)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(me){isNaN(me)||(oe=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var Q;typeof me=="number"?Q=[me,me,me,me]:((Q=new Array(4))[0]=me[0],Q[1]=me.length>=2?me[1]:Q[0],Q[2]=me.length>=3?me[2]:Q[0],Q[3]=me.length>=4?me[3]:Q[1]),u.margin=Q}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(me){de=me}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(me){ae=me}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(me){he=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof d&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(me){ge=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var Q;Q=p(me),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var Q=p(me);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var ue=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(me){ue=null,ke=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var Q;if(this.ctx.font=me,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var We=Q[1];Q[2];var Fe=Q[3],Ue=Q[4];Q[5];var Pe=Q[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(Qe==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Le=(function(ut){var ot,Vt,Gt=[],nt=ut.trim();if(nt==="")return iy;if(nt in zA)return[zA[nt]];for(;nt!=="";){switch(Vt=null,ot=(nt=HA(nt)).charAt(0)){case'"':case"'":Vt=_Y(nt.substring(1),ot);break;default:Vt=SY(nt)}if(Vt===null||(Gt.push(Vt[0]),(nt=HA(Vt[1]))!==""&&nt.charAt(0)!==","))return iy;nt=nt.replace(/^,/,"")}return Gt})(Pe);if(this.fontFaces){var Ke=(function(ut,ot){if(ue===null){var Vt=(function(Gt){var nt=[];return Object.keys(Gt).forEach(function(_t){Gt[_t].forEach(function(tr){var ft=null;switch(tr){case"bold":ft={family:_t,weight:"bold"};break;case"italic":ft={family:_t,style:"italic"};break;case"bolditalic":ft={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:_t}}ft!==null&&(ft.ref={name:_t,style:tr},nt.push(ft))})}),nt})(ut.getFontList());ue=(function(Gt){for(var nt={},_t=0;_t<Gt.length;++_t){var tr=ny(Gt[_t]),ft=tr.family,Rt=tr.stretch,ht=tr.style,Mr=tr.weight;nt[ft]=nt[ft]||{},nt[ft][Rt]=nt[ft][Rt]||{},nt[ft][Rt][ht]=nt[ft][Rt][ht]||{},nt[ft][Rt][ht][Mr]=tr}return nt})(Vt.concat(ot))}return ue})(this.pdf,this.fontFaces),He=Le.map(function(ut){return{family:ut,stretch:"normal",weight:Fe,style:We}}),Ut=(function(ut,ot,Vt){for(var Gt=(Vt=Vt||{}).defaultFontFamily||"times",nt=Object.assign({},wY,Vt.genericFontFamilies||{}),_t=null,tr=null,ft=0;ft<ot.length;++ft)if(nt[(_t=ny(ot[ft])).family]&&(_t.family=nt[_t.family]),ut.hasOwnProperty(_t.family)){tr=ut[_t.family];break}if(!(tr=tr||ut[Gt]))throw new Error("Could not find a font-family for the rule '"+WA(_t)+"' and default family '"+Gt+"'.");if(tr=(function(Rt,ht){if(ht[Rt])return ht[Rt];var Mr=e2[Rt],Wr=Mr<=e2.normal?-1:1,rr=UA(ht,S8,Mr,Wr);if(!rr)throw new Error("Could not find a matching font-stretch value for "+Rt);return rr})(_t.stretch,tr),tr=(function(Rt,ht){if(ht[Rt])return ht[Rt];for(var Mr=_8[Rt],Wr=0;Wr<Mr.length;++Wr)if(ht[Mr[Wr]])return ht[Mr[Wr]];throw new Error("Could not find a matching font-style for "+Rt)})(_t.style,tr),!(tr=(function(Rt,ht){if(ht[Rt])return ht[Rt];if(Rt===400&&ht[500])return ht[500];if(Rt===500&&ht[400])return ht[400];var Mr=xY[Rt],Wr=UA(ht,j8,Mr,Rt<400?-1:1);if(!Wr)throw new Error("Could not find a matching font-weight for value "+Rt);return Wr})(_t.weight,tr)))throw new Error("Failed to resolve a font for the rule '"+WA(_t)+"'.");return tr})(Ke,He);this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var mt="";(Fe==="bold"||parseInt(Fe,10)>=700||We==="bold")&&(mt="bold"),We==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var gt="",er={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jt=0;jt<Le.length;jt++){if(this.pdf.internal.getFont(Le[jt],mt,{noFallback:!0,disableWarning:!0})!==void 0){gt=Le[jt];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(Le[jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=Le[jt],mt="bold";else if(this.pdf.internal.getFont(Le[jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=Le[jt],mt="normal";break}}if(gt===""){for(var it=0;it<Le.length;it++)if(er[Le[it]]){gt=er[Le[it]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,U){if(isNaN(M)||isNaN(U))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(M,U));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(M,U)},f.prototype.closePath=function(){var M=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&cr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){M=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,U){if(isNaN(M)||isNaN(U))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(M,U));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,U,z,Z){if(isNaN(z)||isNaN(Z)||isNaN(M)||isNaN(U))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(z,Z)),oe=this.ctx.transform.applyToPoint(new o(M,U));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},f.prototype.bezierCurveTo=function(M,U,z,Z,le,oe){if(isNaN(le)||isNaN(oe)||isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(le,oe)),ae=this.ctx.transform.applyToPoint(new o(M,U)),he=this.ctx.transform.applyToPoint(new o(z,Z));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(M,U,z,Z,le,oe){if(isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(le))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(M,U));M=de.x,U=de.y;var ae=this.ctx.transform.applyToPoint(new o(0,z)),he=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ae.x-he.x,2)+Math.pow(ae.y-he.y,2))}Math.abs(le-Z)>=2*Math.PI&&(Z=0,le=2*Math.PI),this.path.push({type:"arc",x:M,y:U,radius:z,startAngle:Z,endAngle:le,counterclockwise:oe})},f.prototype.arcTo=function(M,U,z,Z,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,U,z,Z){if(isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,U),this.lineTo(M+z,U),this.lineTo(M+z,U+Z),this.lineTo(M,U+Z),this.lineTo(M,U),this.lineTo(M+z,U),this.lineTo(M,U)},f.prototype.fillRect=function(M,U,z,Z){if(isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,U,z,Z),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function(M,U,z,Z){if(isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,U,z,Z),this.stroke())},f.prototype.clearRect=function(M,U,z,Z){if(isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,U,z,Z))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var U,z,Z,le;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))U=0,z=0,Z=0,le=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(oe!==null)U=parseInt(oe[1]),z=parseInt(oe[2]),Z=parseInt(oe[3]),le=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)U=parseInt(oe[1]),z=parseInt(oe[2]),Z=parseInt(oe[3]),le=parseFloat(oe[4]);else{if(le=1,typeof M=="string"&&M.charAt(0)!=="#"){var de=new m8(M);M=de.ok?de.toHex():"#000000"}M.length===4?(U=M.substring(1,2),U+=U,z=M.substring(2,3),z+=z,Z=M.substring(3,4),Z+=Z):(U=M.substring(1,3),z=M.substring(3,5),Z=M.substring(5,7)),U=parseInt(U,16),z=parseInt(z,16),Z=parseInt(Z,16)}}return{r:U,g:z,b:Z,a:le,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,U,z,Z){if(isNaN(U)||isNaN(z)||typeof M!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var le=$(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;L.call(this,{text:M,x:U,y:z,scale:oe,angle:le,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(M,U,z,Z){if(isNaN(U)||isNaN(z)||typeof M!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Z=isNaN(Z)?void 0:Z;var le=$(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;L.call(this,{text:M,x:U,y:z,scale:oe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(M){if(typeof M!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,z=this.pdf.internal.scaleFactor,Z=U.internal.getFontSize(),le=U.getStringUnitWidth(M)*Z/U.internal.scaleFactor;return new function(oe){var de=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:le*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(M,U){if(isNaN(M)||isNaN(U))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(M,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(M){if(isNaN(M))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(M,U){if(isNaN(M)||isNaN(U))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,M,U);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(M,U,z,Z,le,oe){if(isNaN(M)||isNaN(U)||isNaN(z)||isNaN(Z)||isNaN(le)||isNaN(oe))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(M,U,z,Z,le,oe);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(M,U,z,Z,le,oe){M=isNaN(M)?1:M,U=isNaN(U)?0:U,z=isNaN(z)?0:z,Z=isNaN(Z)?1:Z,le=isNaN(le)?0:le,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(M,U,z,Z,le,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,U,z,Z,le,oe,de,ae,he){var ge=this.pdf.getImageProperties(M),ue=1,ke=1,me=1,Q=1;Z!==void 0&&ae!==void 0&&(me=ae/Z,Q=he/le,ue=ge.width/Z*ae/Z,ke=ge.height/le*he/le),oe===void 0&&(oe=U,de=z,U=0,z=0),Z!==void 0&&ae===void 0&&(ae=Z,he=le),Z===void 0&&ae===void 0&&(ae=ge.width,he=ge.height);for(var We,Fe=this.ctx.transform.decompose(),Ue=$(Fe.rotate.shx),Pe=new l,Qe=(Pe=(Pe=(Pe=Pe.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new s(oe-U*me,de-z*Q,Z*ue,le*ke)),Le=v.call(this,Qe),Ke=[],He=0;He<Le.length;He+=1)Ke.indexOf(Le[He])===-1&&Ke.push(Le[He]);if(w(Ke),this.autoPaging)for(var Ut=Ke[0],mt=Ke[Ke.length-1],gt=Ut;gt<mt+1;gt++){this.pdf.setPage(gt);var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=gt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=gt===1?0:it+(gt-2)*ut;if(this.ctx.clip_path.length!==0){var Vt=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(We,this.posX+this.margin[3],-ot+jt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Vt}var Gt=JSON.parse(JSON.stringify(Qe));Gt=_([Gt],this.posX+this.margin[3],-ot+jt+this.ctx.prevPageLastElemOffset)[0];var nt=(gt>Ut||gt<mt)&&m.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,ut,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,Ue),nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,Ue)};var v=function(M,U,z){var Z=[];U=U||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Z.push(Math.floor((M.y+le)/z)+1);break;case"arc":Z.push(Math.floor((M.y+le-M.radius)/z)+1),Z.push(Math.floor((M.y+le+M.radius)/z)+1);break;case"qct":var oe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Z.push(Math.floor((oe.y+le)/z)+1),Z.push(Math.floor((oe.y+oe.h+le)/z)+1);break;case"bct":var de=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Z.push(Math.floor((de.y+le)/z)+1),Z.push(Math.floor((de.y+de.h+le)/z)+1);break;case"rect":Z.push(Math.floor((M.y+le)/z)+1),Z.push(Math.floor((M.y+M.h+le)/z)+1)}for(var ae=0;ae<Z.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ae];)b.call(this);return Z},b=function(){var M=this.fillStyle,U=this.strokeStyle,z=this.font,Z=this.lineCap,le=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=U,this.font=z,this.lineCap=Z,this.lineWidth=le,this.lineJoin=oe},_=function(M,U,z){for(var Z=0;Z<M.length;Z++)switch(M[Z].type){case"bct":M[Z].x2+=U,M[Z].y2+=z;case"qct":M[Z].x1+=U,M[Z].y1+=z;default:M[Z].x+=U,M[Z].y+=z}return M},w=function(M){return M.sort(function(U,z){return U-z})},S=function(M,U){for(var z,Z,le=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,ae=this.lineWidth,he=Math.abs(ae*this.ctx.transform.scaleX),ge=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),me=[],Q=0;Q<ke.length;Q++)if(ke[Q].x!==void 0)for(var We=v.call(this,ke[Q]),Fe=0;Fe<We.length;Fe+=1)me.indexOf(We[Fe])===-1&&me.push(We[Fe]);for(var Ue=0;Ue<me.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<me[Ue];)b.call(this);if(w(me),this.autoPaging)for(var Pe=me[0],Qe=me[me.length-1],Le=Pe;Le<Qe+1;Le++){this.pdf.setPage(Le),this.fillStyle=le,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=he,this.lineJoin=ge;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Le===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Le===1?0:Ut+(Le-2)*mt;if(this.ctx.clip_path.length!==0){var er=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(z,this.posX+this.margin[3],-gt+He+this.ctx.prevPageLastElemOffset),j.call(this,M,!0),this.path=er}if(Z=JSON.parse(JSON.stringify(ue)),this.path=_(Z,this.posX+this.margin[3],-gt+He+this.ctx.prevPageLastElemOffset),U===!1||Le===0){var jt=(Le>Pe||Le<Qe)&&m.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,mt,null).clip().discardPath()),j.call(this,M,U),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=he,j.call(this,M,U),this.lineWidth=ae;this.path=ue},j=function(M,U){if((M!=="stroke"||U||!g.call(this))&&(M==="stroke"||U||!h.call(this))){for(var z,Z,le=[],oe=this.path,de=0;de<oe.length;de++){var ae=oe[de];switch(ae.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ae,deltas:[],abs:[]});break;case"lt":var he=le.length;if(oe[de-1]&&!isNaN(oe[de-1].x)&&(z=[ae.x-oe[de-1].x,ae.y-oe[de-1].y],he>0)){for(;he>=0;he--)if(le[he-1].close!==!0&&le[he-1].begin!==!0){le[he-1].deltas.push(z),le[he-1].abs.push(ae);break}}break;case"bct":z=[ae.x1-oe[de-1].x,ae.y1-oe[de-1].y,ae.x2-oe[de-1].x,ae.y2-oe[de-1].y,ae.x-oe[de-1].x,ae.y-oe[de-1].y],le[le.length-1].deltas.push(z);break;case"qct":var ge=oe[de-1].x+2/3*(ae.x1-oe[de-1].x),ue=oe[de-1].y+2/3*(ae.y1-oe[de-1].y),ke=ae.x+2/3*(ae.x1-ae.x),me=ae.y+2/3*(ae.y1-ae.y),Q=ae.x,We=ae.y;z=[ge-oe[de-1].x,ue-oe[de-1].y,ke-oe[de-1].x,me-oe[de-1].y,Q-oe[de-1].x,We-oe[de-1].y],le[le.length-1].deltas.push(z);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ae)}}Z=U?null:M==="stroke"?"stroke":"fill";for(var Fe=!1,Ue=0;Ue<le.length;Ue++)if(le[Ue].arc)for(var Pe=le[Ue].abs,Qe=0;Qe<Pe.length;Qe++){var Le=Pe[Qe];Le.type==="arc"?E.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,U,!Fe):D.call(this,Le.x,Le.y),Fe=!0}else if(le[Ue].close===!0)this.pdf.internal.out("h"),Fe=!1;else if(le[Ue].begin!==!0){var Ke=le[Ue].start.x,He=le[Ue].start.y;F.call(this,le[Ue].deltas,Ke,He),Fe=!0}Z&&T.call(this,Z),U&&I.call(this)}},C=function(M){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-z;case"top":return M+U-z;case"hanging":return M+U-2*z;case"middle":return M+U/2-z;default:return M}},k=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(U,z){this.colorStops.push([U,z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,U,z,Z,le,oe,de,ae,he){for(var ge=Y.call(this,z,Z,le,oe),ue=0;ue<ge.length;ue++){var ke=ge[ue];ue===0&&(he?A.call(this,ke.x1+M,ke.y1+U):D.call(this,ke.x1+M,ke.y1+U)),X.call(this,M,U,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ae?I.call(this):T.call(this,de)},T=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(M,U){this.pdf.internal.out(r(M)+" "+n(U)+" m")},L=function(M){var U;switch(M.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var z=this.pdf.getTextDimensions(M.text),Z=C.call(this,M.y),le=k.call(this,Z)-z.h,oe=this.ctx.transform.applyToPoint(new o(M.x,Z)),de=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,ge,ue,ke=this.ctx.transform.applyToRectangle(new s(M.x,Z,z.w,z.h)),me=ae.applyToRectangle(new s(M.x,le,z.w,z.h)),Q=v.call(this,me),We=[],Fe=0;Fe<Q.length;Fe+=1)We.indexOf(Q[Fe])===-1&&We.push(Q[Fe]);if(w(We),this.autoPaging)for(var Ue=We[0],Pe=We[We.length-1],Qe=Ue;Qe<Pe+1;Qe++){this.pdf.setPage(Qe);var Le=Qe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],Ut=He-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],gt=mt-this.margin[3],er=Qe===1?0:Ke+(Qe-2)*Ut;if(this.ctx.clip_path.length!==0){var jt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(he,this.posX+this.margin[3],-1*er+Le),j.call(this,"fill",!0),this.path=jt}var it=_([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-er+Le+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*M.scale),ue=this.lineWidth,this.lineWidth=ue*M.scale);var ut=this.autoPaging!=="text";if(ut||it.y+it.h<=He){if(ut||it.y>=Le&&it.x<=mt){var ot=ut?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||mt-it.x)[0],Vt=_([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-er+Le+this.ctx.prevPageLastElemOffset)[0],Gt=ut&&(Qe>Ue||Qe<Pe)&&m.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Ut,null).clip().discardPath()),this.pdf.text(ot,Vt.x,Vt.y,{angle:M.angle,align:U,renderingMode:M.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else it.y<He&&(this.ctx.prevPageLastElemOffset+=He-it.y);M.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)}else M.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*M.scale),ue=this.lineWidth,this.lineWidth=ue*M.scale),this.pdf.text(M.text,oe.x+this.posX,oe.y+this.posY,{angle:M.angle,align:U,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ue)},D=function(M,U,z,Z){z=z||0,Z=Z||0,this.pdf.internal.out(r(M+z)+" "+n(U+Z)+" l")},F=function(M,U,z){return this.pdf.lines(M,U,z,null,null)},X=function(M,U,z,Z,le,oe,de,ae){this.pdf.internal.out([e(i(z+M)),e(a(Z+U)),e(i(le+M)),e(a(oe+U)),e(i(de+M)),e(a(ae+U)),"c"].join(" "))},Y=function(M,U,z,Z){for(var le=2*Math.PI,oe=Math.PI/2;U>z;)U-=le;var de=Math.abs(z-U);de<le&&Z&&(de=le-de);for(var ae=[],he=Z?-1:1,ge=U;de>1e-5;){var ue=ge+he*Math.min(de,oe);ae.push(V.call(this,M,ge,ue)),de-=Math.abs(ue-ge),ge=ue}return ae},V=function(M,U,z){var Z=(z-U)/2,le=M*Math.cos(Z),oe=M*Math.sin(Z),de=le,ae=-oe,he=de*de+ae*ae,ge=he+de*le+ae*oe,ue=4/3*(Math.sqrt(2*he*ge)-ge)/(de*oe-ae*le),ke=de-ue*ae,me=ae+ue*de,Q=ke,We=-me,Fe=Z+U,Ue=Math.cos(Fe),Pe=Math.sin(Fe);return{x1:M*Math.cos(U),y1:M*Math.sin(U),x2:ke*Ue-me*Pe,y2:ke*Pe+me*Ue,x3:Q*Ue-We*Pe,y3:Q*Pe+We*Ue,x4:M*Math.cos(z),y4:M*Math.sin(z)}},$=function(M){return 180*M/Math.PI},ie=function(M,U,z,Z,le,oe){var de=M+.5*(z-M),ae=U+.5*(Z-U),he=le+.5*(z-le),ge=oe+.5*(Z-oe),ue=Math.min(M,le,de,he),ke=Math.max(M,le,de,he),me=Math.min(U,oe,ae,ge),Q=Math.max(U,oe,ae,ge);return new s(ue,me,ke-ue,Q-me)},re=function(M,U,z,Z,le,oe,de,ae){var he,ge,ue,ke,me,Q,We,Fe,Ue,Pe,Qe,Le,Ke,He,Ut=z-M,mt=Z-U,gt=le-z,er=oe-Z,jt=de-le,it=ae-oe;for(ge=0;ge<41;ge++)Ue=(We=(ue=M+(he=ge/40)*Ut)+he*((me=z+he*gt)-ue))+he*(me+he*(le+he*jt-me)-We),Pe=(Fe=(ke=U+he*mt)+he*((Q=Z+he*er)-ke))+he*(Q+he*(oe+he*it-Q)-Fe),ge==0?(Qe=Ue,Le=Pe,Ke=Ue,He=Pe):(Qe=Math.min(Qe,Ue),Le=Math.min(Le,Pe),Ke=Math.max(Ke,Ue),He=Math.max(He,Pe));return new s(Math.round(Qe),Math.round(Le),Math.round(Ke-Qe),Math.round(He-Le))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,U,z=(M=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:U}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(lt.API),(function(t){var e=function(o){var s,l,u,d,f,p,h,g,m,v;for(l=[],u=0,d=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,g+33,m+33,v+33)):l.push(122);return(function(b,_){for(var w=_;w>0;w--)b.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var s,l,u,d,f,p=String,h="length",g=255,m="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(o+=s="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)l=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(_,w){for(var S=w;S>0;S--)_.pop()})(u,s[h]),p.fromCharCode.apply(p,u)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},a=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return(s=Gw(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,s){var l=0,u=o||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(lt.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=(function(l,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var m=g.length,v=[],b=String.fromCharCode;for(p=0;p<m;p+=1)v.push(b(255&g.charCodeAt(p)));return v.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(i,a,o)}catch{}return s})(e,r,n)},t.loadImageFile=t.loadFile})(lt.API),(function(t){function e(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):ji(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):ji(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=cr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function s(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(s(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return(d=d.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],m=g.src.find(function(v){return v.format==="truetype"});m&&u.addFont(m.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,u,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,u,d){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then;var d=this;s&&(s=s.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=u.call(f,s,l);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,lt.getPageSize=function(s,l,u){if(cr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,m=0,v=0;if(h.hasOwnProperty(p))m=h[p][1]/f,v=h[p][0]/f;else try{m=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",v>m&&(g=v,v=m,m=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:l,k:f,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(ny):null;var u=new o(l);return l.worker?u:u.from(s).doCallback()}})(lt.API),lt.API.addJS=function(t){return GA=t,this.internal.events.subscribe("postPutResources",function(){_p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),VA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_p!==void 0&&VA!==void 0&&this.internal.out("/Names <</JavaScript "+_p+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(lt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,s){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}})(lt.API),lt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=oY(t,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,u=a.palette,d=a.depth;i=u&&l===1?(function(k){for(var E=k.width,T=k.height,I=k.data,A=k.palette,L=k.depth,D=!1,F=[],X=[],Y=void 0,V=!1,$=0,ie=0;ie<A.length;ie++){var re=JN(A[ie],4),se=re[0],M=re[1],U=re[2],z=re[3];F.push(se,M,U),z!=null&&(z===0?($++,X.length<1&&X.push(ie)):z<255&&(V=!0))}if(V||$>1){D=!0,X=void 0;var Z=E*T;Y=new Uint8Array(Z);for(var le=new DataView(I.buffer),oe=0;oe<Z;oe++){var de=ay(le,oe,L),ae=JN(A[de],4)[3];Y[oe]=ae}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:I,alphaBytes:Y,needSMask:D,palette:F,mask:X}})(a):l===2||l===4?(function(k){for(var E=k.data,T=k.width,I=k.height,A=k.channels,L=k.depth,D=A===2?"DeviceGray":"DeviceRGB",F=A-1,X=T*I,Y=F,V=X*Y,$=1*X,ie=Math.ceil(V*L/8),re=Math.ceil($*L/8),se=new Uint8Array(ie),M=new Uint8Array(re),U=new DataView(E.buffer),z=new DataView(se.buffer),Z=new DataView(M.buffer),le=!1,oe=0;oe<X;oe++){for(var de=oe*A,ae=0;ae<Y;ae++)r4(z,ay(U,de+ae,L),oe*Y+ae,L);var he=ay(U,de+Y,L);he<(1<<L)-1&&(le=!0),r4(Z,he,1*oe,L)}return{colorSpace:D,colorsPerPixel:F,colorBytes:se,alphaBytes:M,needSMask:le}})(a):(function(k){var E=k.data,T=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:E instanceof Uint8Array?E:new Uint8Array(E.buffer),needSMask:!1}})(a);var f,p,h,g=i,m=g.colorSpace,v=g.colorsPerPixel,b=g.colorBytes,_=g.alphaBytes,w=g.needSMask,S=g.palette,j=g.mask,C=null;return n!==lt.API.image_compression.NONE&&typeof Gw=="function"?(C=(function(k){var E;switch(k){case lt.API.image_compression.FAST:E=11;break;case lt.API.image_compression.MEDIUM:E=13;break;case lt.API.image_compression.SLOW:E=14;break;default:E=12}return E})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(C," "),t=JA(b,o*v,v,n),w&&(h=JA(_,o,1,n))):(f=void 0,p="",t=b,w&&(h=_)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:j,palette:S,sMask:h,predictor:C,width:o,height:s,bitsPerComponent:d,colorSpace:m}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new PY(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},d=new oy(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A})(lt.API),ra.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ra.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){mr.log("bit decode error:"+r)}},ra.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},ra.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ra.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},ra.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},ra.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=t}},ra.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ra.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},ra.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new ra(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new oy(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}})(lt.API),i4.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new i4(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new oy(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}})(lt.API),lt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];a[s++]=d,a[s++]=f,a[s++]=p,o[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tc=lt.API,Sp=Tc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,m=s[0]||l,v=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(p=f&&cr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((s[n]||m)/l+p)),g=n;return v},YA=Tc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Tc.processArabic&&(t=Tc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Sp.apply(this,arguments).reduce(function(a,o){return a+o},0)},KA=function(t,e,r,n){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<r;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>n&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},XA=function(t,e,r){r||(r={});var n,i,a,o,s,l,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,m=t.split(" "),v=Sp.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var b=Array(l).join(" "),_=[];m.map(function(S){(S=S.split(/\s*\n/)).length>1?_=_.concat(S.map(function(j,C){return(C&&j.length?`
`:"")+j})):_.push(S[0])}),m=_,l=YA.apply(this,[b,r])}for(a=0,o=m.length;a<o;a++){var w=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),p+h+(g=(i=Sp.apply(this,[n,r])).reduce(function(S,j){return S+j},0))>e||w){if(g>e){for(s=KA.apply(this,[n,i,e-(p+h),e]),d.push(s.shift()),d=[s.pop()];s.length;)f.push([s.shift()]);g=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(S,j){return S+j},0)}else d=[n];f.push(d),p=g+l,h=v}else d.push(n),p+=h+g,h=v}return u=l?function(S,j){return(j?b:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(u)},Tc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat(XA.apply(this,[n[s],o,a]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(p){return"0x"+parseInt(p,10).toString(16)},s=t.__fontmetrics__.compress=function(p){var h,g,m,v,b=["{"];for(var _ in p){if(h=p[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=o(_).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),v="-"):(m=o(h).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(cr(h)!=="object")throw new Error("Don't know what to do with value type "+cr(h)+".");m=s(h)}b.push(g+m)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,b={},_=1,w=b,S=[],j="",C="",k=p.length-1,E=1;E<k;E+=1)(v=p[E])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(S.push([w,m]),w={},m=void 0):v=="}"?((g=S.pop())[0][g[1]]=w,m=void 0,w=g[0]):v=="-"?_=-1:m===void 0?n.hasOwnProperty(v)?(j+=n[v],m=parseInt(j,16)*_,_=1,j=""):j+=v:n.hasOwnProperty(v)?(C+=n[v],w[m]=parseInt(C,16)*_,_=1,m=void 0,C=""):C+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])})(lt.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(zp(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})(lt),lt.API.addSvgAsImage=function(t,e,r,n,i,a,o,s){if(isNaN(e)||isNaN(r))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(wt.canvg?Promise.resolve(wt.canvg):ji(()=>import("./index.es-CSQ2k0Fi.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,o,s)})},lt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},lt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,d=0,f=0;function p(g,m){var v,b=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=s.length;for(f=0;f<h;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(cr(t)==="object"){for(i in t)if(a=t[i],p(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(lt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=a.length;f<p;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return d.join("");s=s.toString(16),d.push(u[4-s.length],s)}return d.join("")},n=function(a){var o,s,l,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(s=Object.keys(a).sort(function(h,g){return h-g})).length;f<p;f++)o=s[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var m=u();d({data:h,addLength1:!0,objectId:m}),l("endobj");var v=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+zc(s.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+zc(s.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+zc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,d=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var m=u();d({data:n(s.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+zc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var b=0;b<s.metadata.hmtx.widths.length;b++)s.metadata.hmtx.widths[b]=parseInt(s.metadata.hmtx.widths[b]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+zc(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,d=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",b=0,_="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:s,x:l,y:u,options:d,mutex:f};for(_=s,m=h,Array.isArray(s)&&(_=s[0]),b=0;b<_.length;b+=1)g[m].metadata.hasOwnProperty("cmap")&&(o=g[m].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),o||_[b].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=_[b]:v+="";var S="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?S=p(v,m).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(S=r(v,g[m])),f.isHex=!0,{text:S,x:l,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])})(lt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(lt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,s,l,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var S=function(A){var L=A.charCodeAt(),D=L>>8,F=m[D];return F!==void 0?f[256*F+(255&L)]:D===252||D===253?"AL":b.test(D)?"L":D===8?"R":"N"},j=function(A){for(var L,D=0;D<A.length;D++){if((L=S(A.charAt(D)))==="L")return!1;if(L==="R")return!0}return!1},C=function(A,L,D,F){var X,Y,V,$,ie=L[F];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ie="AN");break;case"AL":_=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":F<1||F+1>=L.length||(X=D[F-1])!=="EN"&&X!=="AN"||(Y=L[F+1])!=="EN"&&Y!=="AN"?ie="N":_&&(Y="AN"),ie=Y===X?Y:"N";break;case"ES":ie=(X=F>0?D[F-1]:"B")==="EN"&&F+1<L.length&&L[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&D[F-1]==="EN"){ie="EN";break}if(_){ie="N";break}for(V=F+1,$=L.length;V<$&&L[V]==="ET";)V++;ie=V<$&&L[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for($=L.length,V=F+1;V<$&&L[V]==="NSM";)V++;if(V<$){var re=A[F],se=re>=1425&&re<=2303||re===64286;if(X=L[V],se&&(X==="R"||X==="AL")){ie="R";break}}}ie=F<1||(X=L[F-1])==="B"?"N":D[F-1];break;case"B":_=!1,i=!0,ie=w;break;case"S":a=!0,ie="N"}return ie},k=function(A,L,D){var F=A.split("");return D&&E(F,D,{hiLevel:w}),F.reverse(),L&&L.reverse(),F.join("")},E=function(A,L,D){var F,X,Y,V,$,ie=-1,re=A.length,se=0,M=[],U=w?h:p,z=[];for(_=!1,i=!1,a=!1,X=0;X<re;X++)z[X]=S(A[X]);for(Y=0;Y<re;Y++){if($=se,M[Y]=C(A,z,M,Y),F=240&(se=U[$][g[M[Y]]]),se&=15,L[Y]=V=U[se][5],F>0)if(F===16){for(X=ie;X<Y;X++)L[X]=1;ie=-1}else ie=-1;if(U[se][6])ie===-1&&(ie=Y);else if(ie>-1){for(X=ie;X<Y;X++)L[X]=V;ie=-1}z[Y]==="B"&&(L[Y]=0),D.hiLevel|=V}a&&(function(Z,le,oe){for(var de=0;de<oe;de++)if(Z[de]==="S"){le[de]=w;for(var ae=de-1;ae>=0&&Z[ae]==="WS";ae--)le[ae]=w}})(z,L,re)},T=function(A,L,D,F,X){if(!(X.hiLevel<A)){if(A===1&&w===1&&!i)return L.reverse(),void(D&&D.reverse());for(var Y,V,$,ie,re=L.length,se=0;se<re;){if(F[se]>=A){for($=se+1;$<re&&F[$]>=A;)$++;for(ie=se,V=$-1;ie<V;ie++,V--)Y=L[ie],L[ie]=L[V],L[V]=Y,D&&(Y=D[ie],D[ie]=D[V],D[V]=Y);se=$}se++}}},I=function(A,L,D){var F=A.split(""),X={hiLevel:w};return D||(D=[]),E(F,D,X),(function(Y,V,$){if($.hiLevel!==0&&d)for(var ie,re=0;re<Y.length;re++)V[re]===1&&(ie=v.indexOf(Y[re]))>=0&&(Y[re]=v[ie+1])})(F,D,X),T(2,F,L,D,X),T(1,F,L,D,X),F.join("")};return this.__bidiEngine__.doBidiReorder=function(A,L,D){if((function(X,Y){if(Y)for(var V=0;V<X.length;V++)Y[V]=V;s===void 0&&(s=j(X)),u===void 0&&(u=j(X))})(A,L),o||!l||u)if(o&&l&&s^u)w=s?1:0,A=k(A,L,D);else if(!o&&l&&u)w=s?1:0,A=I(A,L,D),A=k(A,L);else if(!o||s||l||u){if(o&&!l&&s^u)A=k(A,L),s?(w=0,A=I(A,L,D)):(w=1,A=I(A,L,D),A=k(A,L));else if(o&&s&&!l&&u)w=1,A=I(A,L,D),A=k(A,L);else if(!o&&!l&&s^u){var F=d;s?(w=1,A=I(A,L,D),w=0,d=!1,A=I(A,L,D),d=F):(w=0,A=I(A,L,D),A=k(A,L),w=1,d=!1,A=I(A,L,D),d=F,A=k(A,L))}}else w=0,A=I(A,L,D);else w=s?1:0,A=I(A,L,D);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,l=A.isOutputVisual,s=A.isInputRtl,u=A.isOutputRtl,d=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(lt),lt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Cs(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new UY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new kY(this.contents),this.head=new OY(this),this.name=new RY(this),this.cmap=new A8(this),this.toUnicode={},this.hhea=new EY(this),this.maxp=new MY(this),this.hmtx=new DY(this),this.post=new IY(this),this.os2=new TY(this),this.loca=new qY(this),this.glyf=new $Y(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var wa,Cs=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,s,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),kY=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,s,l,u,d,f,p,h,g,m;for(m in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),d=16*h-f,(i=new Cs).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(d),a=16*h,u=i.pos+a,s=null,g=[],r)for(p=r[m],i.writeString(m),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),g=g.concat(p),m==="head"&&(s=u),u+=p.length;u%4;)g.push(0),u++;return i.write(g),n=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=P8.call(r);r.length%4;)r.push(0);for(a=new Cs(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),CY={}.hasOwnProperty,Ja=function(t,e){for(var r in e)CY.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};wa=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var OY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Cs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),a4=(function(){function t(e,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,b,_,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=(function(){var S,j;for(j=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)j.push(e.readUInt16());return j})(),e.pos+=2,m=(function(){var S,j;for(j=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)j.push(e.readUInt16());return j})(),u=(function(){var S,j;for(j=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)j.push(e.readUInt16());return j})(),d=(function(){var S,j;for(j=[],l=S=0;0<=p?S<p:S>p;l=0<=p?++S:--S)j.push(e.readUInt16());return j})(),i=(this.length-e.pos+this.offset)/2,s=(function(){var S,j;for(j=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)j.push(e.readUInt16());return j})(),l=b=0,w=a.length;b<w;l=++b)for(v=a[l],n=_=g=m[l];g<=v?_<=v:_>=v;n=g<=v?++_:--_)d[l]===0?o=n+u[l]:(o=s[d[l]/2+(n-g)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,b,_,w,S,j,C,k,E,T,I,A,L,D,F,X,Y,V,$,ie,re,se,M,U,z,Z,le,oe,de,ae,he,ge,ue;switch(F=new Cs,o=Object.keys(e).sort(function(ke,me){return ke-me}),r){case"macroman":for(m=0,v=(function(){var ke=[];for(g=0;g<256;++g)ke.push(0);return ke})(),_={0:0},a={},X=0,ie=o.length;X<ie;X++)_[ae=e[i=o[X]]]==null&&(_[ae]=++m),a[i]={old:e[i],new:_[e[i]]},v[i]=_[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(v),{charMap:a,subtable:F.data,maxGlyphID:m+1};case"unicode":for(L=[],f=[],w=0,_={},n={},b=u=null,Y=0,re=o.length;Y<re;Y++)_[j=e[i=o[Y]]]==null&&(_[j]=++w),n[i]={old:j,new:_[j]},s=_[j]-i,b!=null&&s===u||(b&&f.push(b),L.push(i),u=s),b=i;for(b&&f.push(b),f.push(65535),L.push(65535),I=2*(T=L.length),E=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,k=2*T-E,l=[],C=[],h=[],g=V=0,se=L.length;V<se;g=++V){if(A=L[g],d=f[g],A===65535){l.push(0),C.push(0);break}if(A-(D=n[A].new)>=32768)for(l.push(0),C.push(2*(h.length+T-g)),i=$=A;A<=d?$<=d:$>=d;i=A<=d?++$:--$)h.push(n[i].new);else l.push(D-A),C.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*T+2*h.length),F.writeUInt16(0),F.writeUInt16(I),F.writeUInt16(E),F.writeUInt16(p),F.writeUInt16(k),oe=0,M=f.length;oe<M;oe++)i=f[oe],F.writeUInt16(i);for(F.writeUInt16(0),de=0,U=L.length;de<U;de++)i=L[de],F.writeUInt16(i);for(he=0,z=l.length;he<z;he++)s=l[he],F.writeUInt16(s);for(ge=0,Z=C.length;ge<Z;ge++)S=C[ge],F.writeUInt16(S);for(ue=0,le=h.length;ue<le;ue++)m=h[ue],F.writeUInt16(m);return{charMap:n,subtable:F.data,maxGlyphID:w+1}}},t})(),A8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new a4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=a4.encode(e,r),(i=new Cs).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),EY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),TY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),IY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,s,l;for(l=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t})(),LY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},RY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,s,l,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),s=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},a=d=0,f=n.length;d<f;a=++d)i=n[a],e.pos=i.offset,u=e.readString(i.length),o=new LY(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),MY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),DY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,s,l;for(e.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),P8=[].slice,$Y=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,s,l,u,d,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(s=new Cs(r.read(i))).readShort(),u=s.readShort(),f=s.readShort(),l=s.readShort(),d=s.readShort(),this.cache[e]=o===-1?new BY(s,u,f,l,d):new FY(s,o,u,f,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,s,l;for(o=[],a=[],s=0,l=r.length;s<l;s++)i=e[r[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t})(),FY=(function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),BY=(function(){function t(e,r,n,i,a){var o,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Cs(P8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),qY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,wa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var s=this.offsets[o],l=this.offsets[o+1]-s;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t})(),UY=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,s,l,u,d,f,p,h,g,m,v,b;for(i in n=A8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},b=n.charMap)h[(l=b[i]).old]=l.new;for(g in p=n.maxGlyphID,o)g in h||(h[g]=p++);return d=(function(_){var w,S;for(w in S={},_)S[_[w]]=w;return S})(h),f=Object.keys(d).sort(function(_,w){return _-w}),m=(function(){var _,w,S;for(S=[],_=0,w=f.length;_<w;_++)s=f[_],S.push(d[s]);return S})(),a=this.font.glyf.encode(o,m,h),u=this.font.loca.encode(a.offsets,m),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();lt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+(function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e})();const k8=async t=>{try{const e=new lt;let r=20;e.setFontSize(24),e.setFont("helvetica","bold"),e.text("Rosemama",20,r),r+=10,e.setFontSize(16),e.setFont("helvetica","normal"),e.text("CLOTHING STORE",20,r),r+=8,e.setFontSize(10),e.setTextColor(100,100,100),e.text("New Rd, Carlswald, Midrand, 1684",20,r),r+=5,e.text("info@rosemama.store | +27 63 470 8046",20,r),r+=15,e.setDrawColor(59,130,246),e.setLineWidth(1),e.line(20,r,190,r),r+=20;const n=20,i=110;let a=r;e.setTextColor(0,0,0),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Invoice Details",n,a),a+=10,e.setFontSize(11),e.setFont("helvetica","normal"),e.text(`Invoice Number: INV-${t.order_id.slice(-8).toUpperCase()}`,n,a),a+=6,e.text(`Order ID: ${t.order_id}`,n,a),a+=6,e.text(`Invoice Date: ${new Date(t.order_date).toLocaleDateString()}`,n,a),a+=6,e.setFillColor(219,234,254),e.setTextColor(30,64,175),e.rect(n,a-4,25,6,"F"),e.text(`Status: ${t.status.charAt(0).toUpperCase()+t.status.slice(1)}`,n,a),e.setTextColor(0,0,0),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Bill To",i,r);let o=r+10;if(e.setFontSize(11),e.setFont("helvetica","bold"),e.text(`${t.customer_name}`,i,o),o+=6,e.setFont("helvetica","normal"),e.text(`${t.customer_email}`,i,o),o+=6,t.shipping_address&&(e.text(`${t.shipping_address.address}`,i,o),o+=6,e.text(`${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}`,i,o),o+=6,e.text(`${t.shipping_address.country}`,i,o),o+=6,e.text(` ${t.shipping_address.phone}`,i,o)),r=Math.max(a+10,o+10),t.order_items&&t.order_items.length>0){e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Order Items",20,r),r+=8,e.setFillColor(249,250,251),e.rect(20,r-4,170,8,"F"),e.setFontSize(10),e.text("Item",25,r),e.text("Qty",125,r),e.text("Price",145,r),e.text("Total",175,r),r+=8,e.setFont("helvetica","normal"),e.setDrawColor(229,231,235),e.setLineWidth(.2),t.order_items.forEach((g,m)=>{var v,b;e.line(20,r+6,190,r+6),e.text(((v=g.products)==null?void 0:v.name)||"Unknown Product",25,r),r+=4,e.setFontSize(8),e.setTextColor(100,100,100),e.text(((b=g.products)==null?void 0:b.category)||"N/A",25,r),r+=2,e.setTextColor(0,0,0),e.setFontSize(10),e.text(g.quantity.toString(),125,r),e.text(fa(g.price_at_purchase),145,r),e.text(fa(g.quantity*g.price_at_purchase),175,r),r+=6,r>260&&(e.addPage(),r=20)}),r+=5,e.line(20,r,190,r),r+=10;const u=20,d=110;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Payment Method",u,r),r+=8,e.setFontSize(10),e.setFont("helvetica","normal");const f=t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified";e.text(f,u,r),r+=6;let p=r-8;e.setDrawColor(229,231,235),e.setLineWidth(.5),e.rect(d,p,80,30),e.setFontSize(10),e.setFont("helvetica","normal");let h=p+8;e.text("Subtotal:",d+5,h),e.text(g_(t).toString(),d+70,h,{align:"right"}),h+=6,e.text("Shipping:",d+5,h),e.text("R150.00",d+70,h,{align:"right"}),h+=6,e.line(d+5,h,d+75,h),h+=6,e.setFont("helvetica","bold"),e.setFontSize(12),e.text("Total:",d+5,h),e.text(fa(t.amount),d+70,h,{align:"right"})}r>250?(e.addPage(),r=20):r+=20,e.setFontSize(10),e.setTextColor(100,100,100),e.setFont("helvetica","normal");const s=r;e.text("Thank you for shopping with Rosemama! We appreciate your business.",20,s),e.text("For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046",20,s+6);const l=`INV-${t.order_id.slice(-8).toUpperCase()}`;e.save(`${l}.pdf`)}catch(e){throw console.error("Error generating PDF:",e),new Error("Failed to generate PDF invoice. Please try again.")}},g_=t=>t.order_items?t.order_items.reduce((e,r)=>e+r.quantity*r.price_at_purchase,0):t.amount,fa=t=>`R${t.toFixed(2)}`,C8=async t=>{try{const e=window.open("","_blank","width=800,height=600");if(!e)throw new Error("Please allow popups for this site to print invoices.");const r=`
      <div style="max-width: 800px; margin: 0 auto; padding: 20px; background: white; font-family: Arial, sans-serif;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 30px;">
          <h1 style="font-size: 36px; font-weight: bold; margin-bottom: 10px;">Rosemama</h1>
          <p style="font-size: 18px; color: #666;">CLOTHING STORE</p>
          <p style="font-size: 14px; color: #666;">
            New Rd, Carlswald, Midrand, 1684 | info@rosemama.store | +27 63 470 8046
          </p>
          <div style="border-top: 2px solid #3b82f6; margin-top: 20px;"></div>
        </div>

        <!-- Invoice Details -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">
          <div style="width: 48%;">
            <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 15px;">Invoice Details</h2>
            <p><strong>Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
            <p><strong>Order ID:</strong> ${t.order_id}</p>
            <p><strong>Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
            <p><strong>Status:</strong> <span style="background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 4px; font-size: 12px;">${t.status}</span></p>
          </div>
          <div style="width: 48%;">
            <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 15px;">Bill To</h2>
            <p><strong>${t.customer_name}</strong></p>
            <p>${t.customer_email}</p>
            ${t.shipping_address?`
              <p>${t.shipping_address.address}</p>
              <p>${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
              <p>${t.shipping_address.country}</p>
              <p> ${t.shipping_address.phone}</p>
            `:""}
          </div>
        </div>

        <!-- Order Items -->
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px; border: 1px solid #e5e7eb;">
          <thead style="background: #f9fafb;">
            <tr>
              <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb;">Item</th>
              <th style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Qty</th>
              <th style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Price</th>
              <th style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Total</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map(n=>{var i,a;return`
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb;">
                    <div>
                      <div style="font-weight: 500;">${((i=n.products)==null?void 0:i.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: #666;">${((a=n.products)==null?void 0:a.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">${n.quantity}</td>
                  <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">${fa(n.price_at_purchase)}</td>
                  <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb; font-weight: 500;">${fa(n.quantity*n.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 12px; text-align: center; color: #666;">No items found in this order</td></tr>'}
          </tbody>
        </table>

        <!-- Totals -->
        <div style="display: flex; justify-content: space-between;">
          <div style="width: 48%;">
            <h3 style="font-size: 18px; font-weight: bold; margin-bottom: 15px;">Payment Method</h3>
            <p style="color: #666;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          <div style="width: 48%;">
            <div style="border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span>Subtotal:</span>
                <span>${fa(g_(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 8px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 18px;">
                <span>Total:</span>
                <span>${fa(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div style="margin-top: 40px; text-align: center; border-top: 1px solid #e5e7eb; padding-top: 20px;">
          <p style="color: #666; margin-bottom: 8px;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 12px; color: #666;">
            For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
          </p>
        </div>
      </div>
    `;e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice - ${t.order_id}</title>
          <style>
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
            body { font-family: Arial, sans-serif; }
            .invoice-container { max-width: 800px; margin: 0 auto; padding: 20px; }
          </style>
        </head>
        <body>
          <div class="invoice-container">
            ${r}
          </div>
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 1000);
            }
          <\/script>
        </body>
      </html>
    `),e.document.close()}catch(e){throw console.error("Error printing invoice:",e),e}},O8=async t=>{const e=`
    <div style="max-width: 800px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);">
      <!-- Modern Header -->
      <div style="text-align: center; margin-bottom: 40px;">
        <div style="background: linear-gradient(135deg, #9333ea 0%, #ec4899 100%); padding: 25px; border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); margin-bottom: 25px;">
          <h1 style="font-size: 42px; font-weight: bold; color: white; margin-bottom: 8px;">ROSMAMA</h1>
          <p style="font-size: 20px; font-weight: 500; color: #fce7f3;">Premium Fashion & Lifestyle</p>
          <div style="width: 80px; height: 4px; background: white; margin: 15px auto 0; border-radius: 2px;"></div>
        </div>
        <div style="display: flex; justify-content: center; align-items: center; gap: 30px;">
          <div style="display: flex; align-items: center; color: #374151;">
            <svg style="width: 18px; height: 18px; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
            </svg>
            <span>New Rd, Carlswald, Midrand, 1684</span>
          </div>
          <div style="display: flex; align-items: center; color: #2563eb;">
            <svg style="width: 18px; height: 18px; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
            </svg>
            <span>+27 63 470 8046</span>
          </div>
          <div style="display: flex; align-items: center; color: #374151;">
            <svg style="width: 18px; height: 18px; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
            </svg>
            <span>info@rosemama.store</span>
          </div>
        </div>
      </div>

        <!-- Invoice Details -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">
          <div style="width: 48%;">
            <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 15px;">Invoice Details</h2>
            <p><strong>Invoice Number:</strong> INV-${t.order_id.slice(-8).toUpperCase()}</p>
            <p><strong>Order ID:</strong> ${t.order_id}</p>
            <p><strong>Invoice Date:</strong> ${new Date(t.order_date).toLocaleDateString()}</p>
            <p><strong>Status:</strong> <span style="background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 4px; font-size: 12px;">${t.status}</span></p>
          </div>
          <div style="width: 48%;">
            <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 15px;">Bill To</h2>
            <p><strong>${t.customer_name}</strong></p>
            <p>${t.customer_email}</p>
            ${t.shipping_address?`
              <p>${t.shipping_address.address}</p>
              <p>${t.shipping_address.city}, ${t.shipping_address.state} ${t.shipping_address.zipCode}</p>
              <p>${t.shipping_address.country}</p>
              <p> ${t.shipping_address.phone}</p>
            `:""}
          </div>
        </div>

        <!-- Order Items -->
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 30px; border: 1px solid #e5e7eb;">
          <thead style="background: #f9fafb;">
            <tr>
              <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb;">Item</th>
              <th style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Qty</th>
              <th style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Price</th>
              <th style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">Total</th>
            </tr>
          </thead>
          <tbody>
            ${t.order_items&&t.order_items.length>0?t.order_items.map(i=>{var a,o;return`
                <tr>
                  <td style="padding: 12px; border-bottom: 1px solid #e5e7eb;">
                    <div>
                      <div style="font-weight: 500;">${((a=i.products)==null?void 0:a.name)||"Unknown Product"}</div>
                      <div style="font-size: 12px; color: #666;">${((o=i.products)==null?void 0:o.category)||"N/A"}</div>
                    </div>
                  </td>
                  <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">${i.quantity}</td>
                  <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb;">${fa(i.price_at_purchase)}</td>
                  <td style="padding: 12px; text-align: right; border-bottom: 1px solid #e5e7eb; font-weight: 500;">${fa(i.quantity*i.price_at_purchase)}</td>
                </tr>
              `}).join(""):'<tr><td colspan="4" style="padding: 12px; text-align: center; color: #666;">No items found in this order</td></tr>'}
          </tbody>
        </table>

        <!-- Totals -->
        <div style="display: flex; justify-content: space-between;">
          <div style="width: 48%;">
            <h3 style="font-size: 18px; font-weight: bold; margin-bottom: 15px;">Payment Method</h3>
            <p style="color: #666;">
              ${t.payment_method==="cash-on-delivery"?"Cash on Delivery":t.payment_method==="bank-transfer"?"Bank Transfer":t.payment_method==="credit-card"?"Credit Card":"Payment Method Not Specified"}
            </p>
          </div>
          <div style="width: 48%;">
            <div style="border: 1px solid #e5e7eb; padding: 20px; border-radius: 8px;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span>Subtotal:</span>
                <span>${fa(g_(t))}</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                <span>Shipping:</span>
                <span>R150.00</span>
              </div>
              <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 8px 0;">
              <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 18px;">
                <span>Total:</span>
                <span>${fa(t.amount)}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div style="margin-top: 40px; text-align: center; border-top: 1px solid #e5e7eb; padding-top: 20px;">
          <p style="color: #666; margin-bottom: 8px;">
            Thank you for shopping with Rosemama! We appreciate your business.
          </p>
          <p style="font-size: 12px; color: #666;">
            For any inquiries, please contact us at info@rosemama.store or call +27 63 470 8046
          </p>
        </div>
      </div>
    `,r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.5)",r.style.zIndex="9999",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center";const n=document.createElement("div");n.style.backgroundColor="white",n.style.maxWidth="90vw",n.style.maxHeight="90vh",n.style.overflow="auto",n.style.borderRadius="8px",n.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1)",n.innerHTML=`
    <div style="padding: 20px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="font-size: 24px; font-weight: bold;">Invoice Preview</h2>
        <button onclick="this.closest('div').parentElement.remove()" style="background: #ef4444; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Close</button>
      </div>
      ${e}
    </div>
  `,r.appendChild(n),document.body.appendChild(r)};function zY({variant:t="banner",showDismiss:e=!1,onDismiss:r,className:n=""}){const{user:i,isEmailVerified:a,pendingVerification:o,resendVerification:s}=Ci(),[l,u]=N.useState(!1);if(!i||a||l)return null;const d=async()=>{await s()?Ce.success("Verification email sent! Check your inbox."):Ce.error("Failed to send verification email. Please try again.")},f=()=>{u(!0),r==null||r()},p=c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(ff,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Verify your email address"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Check your inbox and click the verification link to access order tracking and earn rewards."})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(we,{variant:"outline",size:"sm",onClick:d,disabled:o,className:"text-xs",children:o?c.jsxs(c.Fragment,{children:[c.jsx(da,{className:"h-3 w-3 mr-1 animate-spin"}),"Sending..."]}):"Resend Email"}),e&&c.jsx(we,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto",children:c.jsx(Ss,{className:"h-4 w-4"})})]})]});return t==="card"?c.jsx(Ge,{className:`border-blue-200 bg-blue-50 ${n}`,children:c.jsx(Ye,{className:"p-4",children:p})}):t==="inline"?c.jsx("div",{className:`rounded-md bg-blue-50 border border-blue-200 p-3 ${n}`,children:p}):c.jsx("div",{className:`bg-blue-50 border-b border-blue-200 px-4 py-3 ${n}`,children:p})}function WY({className:t=""}){const{user:e,isEmailVerified:r,resendVerification:n}=Ci(),[i,a]=N.useState(!1);return!e||r?null:c.jsxs("div",{className:`relative ${t}`,children:[c.jsxs(we,{variant:"ghost",size:"sm",onClick:()=>a(!i),className:"text-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[c.jsx(ff,{className:"h-3 w-3 mr-1"}),"Verify Email"]}),i&&c.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border p-3 z-50",children:c.jsxs("div",{className:"text-xs",children:[c.jsx("p",{className:"font-medium mb-1",children:"Email verification needed"}),c.jsx("p",{className:"text-gray-600 mb-2",children:"Verify your email to track orders and earn rewards."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(we,{size:"sm",onClick:async()=>{await n(),a(!1),Ce.success("Verification email sent!")},className:"text-xs",children:"Resend"}),c.jsx(we,{variant:"outline",size:"sm",onClick:()=>a(!1),className:"text-xs",children:"Later"})]})]})})]})}function HY({onLogout:t}){const{user:e,loading:r,signOut:n}=Ci(),[i,a]=N.useState(!1),[o,s]=N.useState(!1),[l,u]=N.useState([]),[d,f]=N.useState(!1),[p,h]=N.useState(null),[g,m]=N.useState(!1);N.useEffect(()=>{g&&e&&v()},[g,e]);const v=async()=>{f(!0);try{const I=await TT();u(I)}catch(I){console.error("Error fetching orders:",I),Ce.error("Failed to load order history")}finally{f(!1)}};if(r)return c.jsx("div",{className:"text-center py-12",children:"Loading profile..."});if(!e)return c.jsx("div",{className:"text-center py-12",children:"Could not load user profile. Please try logging in again."});const[b,_]=N.useState({name:e.name,email:e.email,phone:e.phone||""}),w=()=>{a(!1),Ce.info("Profile update functionality is coming soon!")},S=async()=>{if(o){console.log("Profile: Logout already in progress, ignoring click");return}console.log("Profile: Logout button clicked"),s(!0);try{console.log("Profile: Calling signOut()"),await n(),console.log("Profile: signOut() completed"),Ce.success("Signed out successfully"),console.log("Profile: About to reload page immediately");try{window.location.reload(),console.log("Profile: window.location.reload() called successfully")}catch(I){console.error("Profile: Error calling window.location.reload():",I),setTimeout(()=>{console.log("Profile: Fallback reload attempt"),window.location.reload()},100)}}catch(I){console.error("Profile: Logout failed:",I),Ce.error("Failed to log out"),s(!1)}},j=async I=>{var L;const A={id:I.id,order_id:I.id,customer_name:e.name,customer_email:e.email,amount:I.total_amount,status:I.status,order_date:new Date(I.created_at).toLocaleDateString(),shipping_address:I.shipping_address,order_items:I.order_items,payment_method:((L=I.shipping_address)==null?void 0:L.paymentMethod)||"N/A"};try{await C8(A),Ce.success("Invoice opened for printing")}catch(D){console.error("Error printing invoice:",D),Ce.error(D instanceof Error?D.message:"Failed to print invoice")}},C=async I=>{var L;const A={id:I.id,order_id:I.id,customer_name:e.name,customer_email:e.email,amount:I.total_amount,status:I.status,order_date:new Date(I.created_at).toLocaleDateString(),shipping_address:I.shipping_address,order_items:I.order_items,payment_method:((L=I.shipping_address)==null?void 0:L.paymentMethod)||"N/A"};try{await k8(A),Ce.success("PDF downloaded successfully")}catch(D){console.error("Error generating PDF:",D),Ce.error("Failed to generate PDF")}},k=async I=>{var L;const A={id:I.id,order_id:I.id,customer_name:e.name,customer_email:e.email,amount:I.total_amount,status:I.status,order_date:new Date(I.created_at).toLocaleDateString(),shipping_address:I.shipping_address,order_items:I.order_items,payment_method:((L=I.shipping_address)==null?void 0:L.paymentMethod)||"N/A"};try{await O8(A)}catch(D){console.error("Error viewing invoice:",D),Ce.error("Failed to view invoice")}},E=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),T=[{icon:Ol,label:"Order History",action:()=>m(!0)},{icon:Ps,label:"Wishlist",action:()=>Ce.info("Wishlist coming soon!")},{icon:z5,label:"Addresses",action:()=>Ce.info("Address management coming soon!")},{icon:F5,label:"Payment Methods",action:()=>Ce.info("Payment methods coming soon!")},{icon:bl,label:"Notifications",action:()=>Ce.info("Notification settings coming soon!")},{icon:jo,label:"Privacy & Security",action:()=>Ce.info("Privacy settings coming soon!")}];return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-2xl",children:[c.jsx(zY,{variant:"card",className:"mb-4",showDismiss:!0}),c.jsx(Ge,{className:"mb-6",children:c.jsx(Ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(iI,{className:"h-20 w-20",children:c.jsx(aI,{className:"text-xl",children:e.name.split(" ").map(I=>I[0]).join("").toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h2",{className:"text-xl font-semibold",children:e.name}),c.jsxs(Wt,{variant:"secondary",className:e.membershipTier==="Gold"?"bg-yellow-100 text-yellow-800":e.membershipTier==="Silver"?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800",children:[e.membershipTier," Member"]})]}),c.jsx("p",{className:"text-muted-foreground",children:e.email}),c.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[c.jsxs("span",{className:"text-sm",children:[" ",e.points," points"]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Member since ",e.created_at?new Date(e.created_at).getFullYear():"2024"]})]})]}),c.jsx(we,{variant:"outline",size:"sm",onClick:()=>a(!i),children:c.jsx(G5,{className:"h-4 w-4"})})]})})}),i&&c.jsxs(Ge,{className:"mb-6",children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Edit Profile"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"name",children:"Full Name"}),c.jsx(Lt,{id:"name",value:b.name,onChange:I=>_(A=>({...A,name:I.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"email",children:"Email"}),c.jsx(Lt,{id:"email",type:"email",value:b.email,onChange:I=>_(A=>({...A,email:I.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"phone",children:"Phone"}),c.jsx(Lt,{id:"phone",type:"tel",value:b.phone,onChange:I=>_(A=>({...A,phone:I.target.value})),placeholder:"Enter phone number"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(we,{onClick:w,children:"Save Changes"}),c.jsx(we,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]}),c.jsxs(Ge,{className:"mb-6",children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Account Settings"})}),c.jsx(Ye,{className:"p-0",children:c.jsx("ul",{className:"divide-y",children:T.map((I,A)=>c.jsx("li",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-muted/50",onClick:I.action,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(I.icon,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{children:I.label})]})},A))})})]}),c.jsx(we,{variant:"destructive",className:"w-full",onClick:S,disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):c.jsxs(c.Fragment,{children:[c.jsx(eT,{className:"h-4 w-4 mr-2"}),"Sign Out"]})}),c.jsx(Lo,{open:g,onOpenChange:m,children:c.jsxs(Ga,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Ro,{children:c.jsx(Mo,{className:"text-2xl",children:"Order History"})}),d?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Nl,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading your orders..."]}):l.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No orders found. Start shopping to see your order history here."}):c.jsx("div",{className:"space-y-4",children:l.map(I=>{var A;return c.jsx(Ge,{children:c.jsx(Ye,{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsxs("h3",{className:"text-lg font-semibold",children:["Order #",I.id.slice(-8)]}),c.jsx(Wt,{variant:"outline",className:`${I.status==="delivered"?"border-green-500 text-green-700":I.status==="shipped"?"border-blue-500 text-blue-700":I.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:I.status})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Ordered on ",new Date(I.created_at).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})]}),c.jsxs("p",{className:"text-sm font-medium",children:["Total: ",E(I.total_amount)]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Lo,{children:[c.jsx(u_,{asChild:!0,children:c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>h(I),children:[c.jsx(To,{className:"h-4 w-4 mr-1"}),"View Details"]})}),c.jsxs(Ga,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Ro,{children:c.jsxs(Mo,{children:["Order #",I.id.slice(-8)]})}),p&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Ge,{children:c.jsxs(Ye,{className:"pt-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Order Date:"}),c.jsx("span",{className:"text-sm",children:new Date(p.created_at).toLocaleDateString()})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Status:"}),c.jsx(Wt,{variant:"outline",className:`${p.status==="delivered"?"border-green-500 text-green-700":p.status==="shipped"?"border-blue-500 text-blue-700":p.status==="processing"?"border-yellow-500 text-yellow-700":"border-gray-500 text-gray-700"}`,children:p.status})]})]})}),c.jsx(Ge,{children:c.jsxs(Ye,{className:"pt-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total Amount:"}),c.jsx("span",{className:"text-sm font-semibold",children:E(p.total_amount)})]}),((A=p.shipping_address)==null?void 0:A.paymentMethod)&&c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),c.jsxs("span",{className:"text-sm",children:[p.shipping_address.paymentMethod==="cash-on-delivery"&&" COD",p.shipping_address.paymentMethod==="bank-transfer"&&" Bank Transfer",p.shipping_address.paymentMethod==="credit-card"&&" Card"]})]})]})}),c.jsx(Ge,{children:c.jsx(Ye,{className:"pt-4",children:c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsx("div",{children:c.jsx("strong",{children:"Shipping Address:"})}),p.shipping_address?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[p.shipping_address.firstName," ",p.shipping_address.lastName]}),c.jsx("div",{children:p.shipping_address.address}),c.jsxs("div",{children:[p.shipping_address.city,", ",p.shipping_address.state]}),c.jsx("div",{children:p.shipping_address.country}),c.jsxs("div",{children:[" ",p.shipping_address.phone]})]}):c.jsx("div",{className:"text-muted-foreground",children:"Address not available"})]})})})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{className:"text-lg",children:"Order Items"})}),c.jsx(Ye,{children:p.order_items&&p.order_items.length>0?c.jsxs("div",{className:"space-y-3",children:[p.order_items.map((L,D)=>{var F,X;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[((F=L.products)==null?void 0:F.image_url)&&c.jsx("img",{src:L.products.image_url,alt:L.products.name,className:"w-12 h-12 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:((X=L.products)==null?void 0:X.name)||"Unknown Product"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",L.quantity,"  ",E(L.price_at_purchase)]})]})]}),c.jsx("p",{className:"font-medium",children:E(L.quantity*L.price_at_purchase)})]},D)}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsx("span",{children:E(p.total_amount)})]})]}):c.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"text-lg flex items-center gap-2",children:[c.jsx(ko,{className:"h-5 w-5"}),"Invoice Actions"]})}),c.jsxs(Ye,{children:[c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsxs(we,{variant:"outline",onClick:()=>k(p),className:"flex items-center gap-2",children:[c.jsx(ko,{className:"h-4 w-4"}),"View Invoice"]}),c.jsxs(we,{variant:"outline",onClick:()=>C(p),className:"flex items-center gap-2",children:[c.jsx(Q6,{className:"h-4 w-4"}),"Download PDF"]}),c.jsxs(we,{variant:"outline",onClick:()=>j(p),className:"flex items-center gap-2",children:[c.jsx(iT,{className:"h-4 w-4"}),"Print Invoice"]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate and download professional invoices for your orders."})]})]})]})]})]}),c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>k(I),children:[c.jsx(ko,{className:"h-4 w-4 mr-1"}),"Invoice"]})]})]})})},I.id)})})]})}),c.jsx(Is,{})]})}function E8(t){const e=t+"CollectionProvider",[r,n]=Qn(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:b}=m,_=K.useRef(null),w=K.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:w,collectionRef:_,children:b})};o.displayName=e;const s=t+"CollectionSlot",l=Cl(s),u=K.forwardRef((m,v)=>{const{scope:b,children:_}=m,w=a(s,b),S=Dt(v,w.collectionRef);return c.jsx(l,{ref:S,children:_})});u.displayName=s;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Cl(d),h=K.forwardRef((m,v)=>{const{scope:b,children:_,...w}=m,S=K.useRef(null),j=Dt(v,S),C=a(d,b);return K.useEffect(()=>(C.itemMap.set(S,{ref:S,...w}),()=>void C.itemMap.delete(S))),c.jsx(p,{[f]:"",ref:j,children:_})});h.displayName=d;function g(m){const v=a(t+"CollectionConsumer",m);return K.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,k)=>w.indexOf(C.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,n]}var VY=N.createContext(void 0);function oh(t){const e=N.useContext(VY);return t||e||"ltr"}var sy="rovingFocusGroup.onEntryFocus",GY={bubbles:!1,cancelable:!0},sh="RovingFocusGroup",[t2,T8,YY]=E8(sh),[KY,Tg]=Qn(sh,[YY]),[XY,JY]=KY(sh),I8=N.forwardRef((t,e)=>c.jsx(t2.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(t2.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(ZY,{...t,ref:e})})}));I8.displayName=sh;var ZY=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=N.useRef(null),h=Dt(e,p),g=oh(a),[m,v]=Io({prop:o,defaultProp:s??null,onChange:l,caller:sh}),[b,_]=N.useState(!1),w=$n(u),S=T8(r),j=N.useRef(!1),[C,k]=N.useState(0);return N.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(sy,w),()=>E.removeEventListener(sy,w)},[w]),c.jsx(XY,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:N.useCallback(E=>v(E),[v]),onItemShiftTab:N.useCallback(()=>_(!0),[]),onFocusableItemAdd:N.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:N.useCallback(()=>k(E=>E-1),[]),children:c.jsx(ct.div,{tabIndex:b||C===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:dt(t.onMouseDown,()=>{j.current=!0}),onFocus:dt(t.onFocus,E=>{const T=!j.current;if(E.target===E.currentTarget&&T&&!b){const I=new CustomEvent(sy,GY);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const A=S().filter(Y=>Y.focusable),L=A.find(Y=>Y.active),D=A.find(Y=>Y.id===m),X=[L,D,...A].filter(Boolean).map(Y=>Y.ref.current);M8(X,d)}}j.current=!1}),onBlur:dt(t.onBlur,()=>_(!1))})})}),L8="RovingFocusGroupItem",R8=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=t,l=Co(),u=a||l,d=JY(L8,r),f=d.currentTabStopId===u,p=T8(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:m}=d;return N.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),c.jsx(t2.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:c.jsx(ct.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...s,ref:e,onMouseDown:dt(t.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:dt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:dt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=tK(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=p().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(v.currentTarget);w=d.loop?rK(w,S+1):w.slice(S+1)}setTimeout(()=>M8(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});R8.displayName=L8;var QY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tK(t,e,r){const n=eK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return QY[n]}function M8(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function rK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var D8=I8,$8=R8,Ig="Tabs",[nK,jbe]=Qn(Ig,[Tg]),F8=Tg(),[iK,v_]=nK(Ig),B8=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=t,d=oh(s),[f,p]=Io({prop:n,onChange:i,defaultProp:a??"",caller:Ig});return c.jsx(iK,{scope:r,baseId:Co(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:c.jsx(ct.div,{dir:d,"data-orientation":o,...u,ref:e})})});B8.displayName=Ig;var q8="TabsList",U8=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=v_(q8,r),o=F8(r);return c.jsx(D8,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(ct.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});U8.displayName=q8;var z8="TabsTrigger",W8=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=v_(z8,r),s=F8(r),l=G8(o.baseId,n),u=Y8(o.baseId,n),d=n===o.value;return c.jsx($8,{asChild:!0,...s,focusable:!i,active:d,children:c.jsx(ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:dt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:dt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:dt(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});W8.displayName=z8;var H8="TabsContent",V8=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=v_(H8,r),l=G8(s.baseId,n),u=Y8(s.baseId,n),d=n===s.value,f=N.useRef(d);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Oi,{present:i||d,children:({present:p})=>c.jsx(ct.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});V8.displayName=H8;function G8(t,e){return`${t}-trigger-${e}`}function Y8(t,e){return`${t}-content-${e}`}var aK=B8,oK=U8,sK=W8,lK=V8;function lh({className:t,...e}){return c.jsx(aK,{"data-slot":"tabs",className:qe("flex flex-col gap-2",t),...e})}function ch({className:t,...e}){return c.jsx(oK,{"data-slot":"tabs-list",className:qe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px]",t),...e})}function Gn({className:t,...e}){return c.jsx(sK,{"data-slot":"tabs-trigger",className:qe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Yn({className:t,...e}){return c.jsx(lK,{"data-slot":"tabs-content",className:qe("flex-1 outline-none",t),...e})}function cK({products:t}){const[e,r]=N.useState({revenue:0,orders:0,users:0,growth:{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}}),[n,i]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[l,u,d,f]=await Promise.all([FT(),BT(),qT(),HT(30)]);r({revenue:l||0,orders:u||0,users:d||0,growth:f||{current_period_revenue:0,previous_period_revenue:0,growth_percentage:0}})}catch(l){console.error("Error fetching metrics:",l)}finally{i(!1)}})()},[]);const a=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),o=s=>new Intl.NumberFormat("en-US").format(s);return n?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((s,l)=>c.jsx(Ge,{children:c.jsx(Ye,{className:"p-6",children:c.jsx("div",{className:"flex items-center justify-center h-20",children:c.jsx(da,{className:"h-6 w-6 animate-spin"})})})},l))}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[c.jsx(Ge,{children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pw,{className:"h-5 w-5 text-green-600"}),c.jsx("span",{className:"text-sm font-medium",children:"Total Revenue"})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"text-2xl font-bold",children:a(e.revenue)}),c.jsxs("p",{className:`text-xs ${e.growth.growth_percentage>=0?"text-green-600":"text-red-600"}`,children:[e.growth.growth_percentage>=0?"+":"",e.growth.growth_percentage.toFixed(1),"% from last month"]})]})]})}),c.jsx(Ge,{children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qp,{className:"h-5 w-5 text-blue-600"}),c.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"text-2xl font-bold",children:o(e.orders)}),c.jsx("p",{className:"text-xs text-blue-600",children:"All time orders"})]})]})}),c.jsx(Ge,{children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ol,{className:"h-5 w-5 text-purple-600"}),c.jsx("span",{className:"text-sm font-medium",children:"Total Products"})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"text-2xl font-bold",children:o(t.length)}),c.jsx("p",{className:"text-xs text-purple-600",children:"Available in store"})]})]})}),c.jsx(Ge,{children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cT,{className:"h-5 w-5 text-orange-600"}),c.jsx("span",{className:"text-sm font-medium",children:"Total Users"})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"text-2xl font-bold",children:o(e.users)}),c.jsx("p",{className:"text-xs text-orange-600",children:"Registered users"})]})]})})]})}var ly,o4;function ui(){if(o4)return ly;o4=1;var t=Array.isArray;return ly=t,ly}var cy,s4;function K8(){if(s4)return cy;s4=1;var t=typeof Qh=="object"&&Qh&&Qh.Object===Object&&Qh;return cy=t,cy}var uy,l4;function Za(){if(l4)return uy;l4=1;var t=K8(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return uy=r,uy}var dy,c4;function uh(){if(c4)return dy;c4=1;var t=Za(),e=t.Symbol;return dy=e,dy}var fy,u4;function uK(){if(u4)return fy;u4=1;var t=uh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(s?o[i]=l:delete o[i]),d}return fy=a,fy}var hy,d4;function dK(){if(d4)return hy;d4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return hy=r,hy}var py,f4;function zo(){if(f4)return py;f4=1;var t=uh(),e=uK(),r=dK(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):r(s)}return py=o,py}var my,h4;function Wo(){if(h4)return my;h4=1;function t(e){return e!=null&&typeof e=="object"}return my=t,my}var gy,p4;function Wu(){if(p4)return gy;p4=1;var t=zo(),e=Wo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return gy=n,gy}var vy,m4;function y_(){if(m4)return vy;m4=1;var t=ui(),e=Wu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return vy=i,vy}var yy,g4;function Ls(){if(g4)return yy;g4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return yy=t,yy}var by,v4;function b_(){if(v4)return by;v4=1;var t=zo(),e=Ls(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==a}return by=o,by}var xy,y4;function fK(){if(y4)return xy;y4=1;var t=Za(),e=t["__core-js_shared__"];return xy=e,xy}var wy,b4;function hK(){if(b4)return wy;b4=1;var t=fK(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return wy=r,wy}var _y,x4;function X8(){if(x4)return _y;x4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return _y=r,_y}var Sy,w4;function pK(){if(w4)return Sy;w4=1;var t=b_(),e=hK(),r=Ls(),n=X8(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,d=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var h=t(p)?d:a;return h.test(n(p))}return Sy=f,Sy}var jy,_4;function mK(){if(_4)return jy;_4=1;function t(e,r){return e==null?void 0:e[r]}return jy=t,jy}var Ny,S4;function Yl(){if(S4)return Ny;S4=1;var t=pK(),e=mK();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Ny=r,Ny}var Ay,j4;function Lg(){if(j4)return Ay;j4=1;var t=Yl(),e=t(Object,"create");return Ay=e,Ay}var Py,N4;function gK(){if(N4)return Py;N4=1;var t=Lg();function e(){this.__data__=t?t(null):{},this.size=0}return Py=e,Py}var ky,A4;function vK(){if(A4)return ky;A4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ky=t,ky}var Cy,P4;function yK(){if(P4)return Cy;P4=1;var t=Lg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return Cy=i,Cy}var Oy,k4;function bK(){if(k4)return Oy;k4=1;var t=Lg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Oy=n,Oy}var Ey,C4;function xK(){if(C4)return Ey;C4=1;var t=Lg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Ey=r,Ey}var Ty,O4;function wK(){if(O4)return Ty;O4=1;var t=gK(),e=vK(),r=yK(),n=bK(),i=xK();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ty=a,Ty}var Iy,E4;function _K(){if(E4)return Iy;E4=1;function t(){this.__data__=[],this.size=0}return Iy=t,Iy}var Ly,T4;function x_(){if(T4)return Ly;T4=1;function t(e,r){return e===r||e!==e&&r!==r}return Ly=t,Ly}var Ry,I4;function Rg(){if(I4)return Ry;I4=1;var t=x_();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Ry=e,Ry}var My,L4;function SK(){if(L4)return My;L4=1;var t=Rg(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return My=n,My}var Dy,R4;function jK(){if(R4)return Dy;R4=1;var t=Rg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Dy=e,Dy}var $y,M4;function NK(){if(M4)return $y;M4=1;var t=Rg();function e(r){return t(this.__data__,r)>-1}return $y=e,$y}var Fy,D4;function AK(){if(D4)return Fy;D4=1;var t=Rg();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Fy=e,Fy}var By,$4;function Mg(){if($4)return By;$4=1;var t=_K(),e=SK(),r=jK(),n=NK(),i=AK();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,By=a,By}var qy,F4;function w_(){if(F4)return qy;F4=1;var t=Yl(),e=Za(),r=t(e,"Map");return qy=r,qy}var Uy,B4;function PK(){if(B4)return Uy;B4=1;var t=wK(),e=Mg(),r=w_();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Uy=n,Uy}var zy,q4;function kK(){if(q4)return zy;q4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return zy=t,zy}var Wy,U4;function Dg(){if(U4)return Wy;U4=1;var t=kK();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Wy=e,Wy}var Hy,z4;function CK(){if(z4)return Hy;z4=1;var t=Dg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Hy=e,Hy}var Vy,W4;function OK(){if(W4)return Vy;W4=1;var t=Dg();function e(r){return t(this,r).get(r)}return Vy=e,Vy}var Gy,H4;function EK(){if(H4)return Gy;H4=1;var t=Dg();function e(r){return t(this,r).has(r)}return Gy=e,Gy}var Yy,V4;function TK(){if(V4)return Yy;V4=1;var t=Dg();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Yy=e,Yy}var Ky,G4;function __(){if(G4)return Ky;G4=1;var t=PK(),e=CK(),r=OK(),n=EK(),i=TK();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ky=a,Ky}var Xy,Y4;function J8(){if(Y4)return Xy;Y4=1;var t=__(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,Xy=r,Xy}var Jy,K4;function IK(){if(K4)return Jy;K4=1;var t=J8(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Jy=r,Jy}var Zy,X4;function LK(){if(X4)return Zy;X4=1;var t=IK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return Zy=n,Zy}var Qy,J4;function S_(){if(J4)return Qy;J4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Qy=t,Qy}var eb,Z4;function RK(){if(Z4)return eb;Z4=1;var t=uh(),e=S_(),r=ui(),n=Wu(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return eb=o,eb}var tb,Q4;function Z8(){if(Q4)return tb;Q4=1;var t=RK();function e(r){return r==null?"":t(r)}return tb=e,tb}var rb,eP;function Q8(){if(eP)return rb;eP=1;var t=ui(),e=y_(),r=LK(),n=Z8();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return rb=i,rb}var nb,tP;function $g(){if(tP)return nb;tP=1;var t=Wu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return nb=e,nb}var ib,rP;function j_(){if(rP)return ib;rP=1;var t=Q8(),e=$g();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return ib=r,ib}var ab,nP;function eL(){if(nP)return ab;nP=1;var t=j_();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return ab=e,ab}var MK=eL();const Ai=dr(MK);var ob,iP;function DK(){if(iP)return ob;iP=1;function t(e){return e==null}return ob=t,ob}var $K=DK();const $t=dr($K);var sb,aP;function FK(){if(aP)return sb;aP=1;var t=zo(),e=ui(),r=Wo(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return sb=i,sb}var BK=FK();const Ll=dr(BK);var qK=b_();const St=dr(qK);var UK=Ls();const Hu=dr(UK);var lb={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function zK(){if(oP)return nr;oP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function m(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case r:case i:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case l:case p:case f:case a:return v;default:return b}}case e:return b}}}return nr.ContextConsumer=o,nr.ContextProvider=a,nr.Element=t,nr.ForwardRef=l,nr.Fragment=r,nr.Lazy=p,nr.Memo=f,nr.Portal=e,nr.Profiler=i,nr.StrictMode=n,nr.Suspense=u,nr.SuspenseList=d,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(v){return m(v)===o},nr.isContextProvider=function(v){return m(v)===a},nr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},nr.isForwardRef=function(v){return m(v)===l},nr.isFragment=function(v){return m(v)===r},nr.isLazy=function(v){return m(v)===p},nr.isMemo=function(v){return m(v)===f},nr.isPortal=function(v){return m(v)===e},nr.isProfiler=function(v){return m(v)===i},nr.isStrictMode=function(v){return m(v)===n},nr.isSuspense=function(v){return m(v)===u},nr.isSuspenseList=function(v){return m(v)===d},nr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===u||v===d||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===a||v.$$typeof===o||v.$$typeof===l||v.$$typeof===g||v.getModuleId!==void 0)},nr.typeOf=m,nr}var sP;function WK(){return sP||(sP=1,lb.exports=zK()),lb.exports}var HK=WK(),cb,lP;function tL(){if(lP)return cb;lP=1;var t=zo(),e=Wo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return cb=n,cb}var ub,cP;function VK(){if(cP)return ub;cP=1;var t=tL();function e(r){return t(r)&&r!=+r}return ub=e,ub}var GK=VK();const dh=dr(GK);var YK=tL();const KK=dr(YK);var Xn=function(e){return e===0?0:e>0?1:-1},xl=function(e){return Ll(e)&&e.indexOf("%")===e.length-1},Ie=function(e){return KK(e)&&!dh(e)},XK=function(e){return $t(e)},vn=function(e){return Ie(e)||Ll(e)},JK=0,fh=function(e){var r=++JK;return"".concat(e||"").concat(r)},Jn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(e)&&!Ll(e))return n;var a;if(xl(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return dh(a)&&(a=n),i&&a>r&&(a=r),a},xs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ZK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},gs=function(e,r){return Ie(e)&&Ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function r2(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ai(n,e))===r})}var QK=function(e,r){return Ie(e)&&Ie(r)?e-r:Ll(e)&&Ll(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ru(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function n2(t){"@babel/helpers - typeof";return n2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n2(t)}var eX=["viewBox","children"],tX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uP=["points","pathLength"],db={svg:eX,polygon:uP,polyline:uP},N_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!Hu(n))return null;var i={};return Object.keys(n).forEach(function(a){N_.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},rX=function(e,r,n){return function(i){return e(r,n,i),null}},Rl=function(e,r,n){if(!Hu(e)||n2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];N_.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=rX(o,r,n))}),i},nX=["children"],iX=["children"];function dP(t,e){if(t==null)return{};var r=aX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hP=null,fb=null,A_=function t(e){if(e===hP&&Array.isArray(fb))return fb;var r=[];return N.Children.forEach(e,function(n){$t(n)||(HK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),fb=r,hP=e,r};function zi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Oo(i)}):n=[Oo(e)],A_(t).forEach(function(i){var a=Ai(i,"type.displayName")||Ai(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function wi(t,e){var r=zi(t,e);return r&&r[0]}var pP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ie(n)||n<=0||!Ie(i)||i<=0)},oX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sX=function(e){return e&&e.type&&Ll(e.type)&&oX.indexOf(e.type)>=0},lX=function(e,r,n,i){var a,o=(a=db==null?void 0:db[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!St(e)&&(i&&o.includes(r)||tX.includes(r))||n&&N_.includes(r)},bt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Hu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;lX((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},i2=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!mP(a,o))return!1}return!0},mP=function(e,r){if($t(e)&&$t(r))return!0;if(!$t(e)&&!$t(r)){var n=e.props||{},i=n.children,a=dP(n,nX),o=r.props||{},s=o.children,l=dP(o,iX);return i&&s?ru(a,l)&&i2(i,s):!i&&!s?ru(a,l):!1}return!1},gP=function(e,r){var n=[],i={};return A_(e).forEach(function(a,o){if(sX(a))n.push(a);else if(a){var s=Oo(a.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},cX=function(e){var r=e&&e.type;return r&&fP[r]?fP[r]:null},uX=function(e,r){return A_(r).indexOf(e)},dX=["children","width","height","viewBox","className","style","title","desc"];function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a2.apply(this,arguments)}function fX(t,e){if(t==null)return{};var r=hX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o2(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=fX(t,dX),d=i||{width:r,height:n,x:0,y:0},f=It("recharts-surface",a);return K.createElement("svg",a2({},bt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,s),K.createElement("desc",null,l),e)}var pX=["children","className"];function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s2.apply(this,arguments)}function mX(t,e){if(t==null)return{};var r=gX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ur=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=mX(t,pX),a=It("recharts-layer",n);return K.createElement("g",s2({className:a},bt(i,!0),{ref:e}),r)}),ha=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},hb,vP;function vX(){if(vP)return hb;vP=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return hb=t,hb}var pb,yP;function yX(){if(yP)return pb;yP=1;var t=vX();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return pb=e,pb}var mb,bP;function rL(){if(bP)return mb;bP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return mb=l,mb}var gb,xP;function bX(){if(xP)return gb;xP=1;function t(e){return e.split("")}return gb=t,gb}var vb,wP;function xX(){if(wP)return vb;wP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",m="["+a+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+m+g+")*",b=m+g+v,_="(?:"+[d+s+"?",s,f,p,o].join("|")+")",w=RegExp(l+"(?="+l+")|"+_+b,"g");function S(j){return j.match(w)||[]}return vb=S,vb}var yb,_P;function wX(){if(_P)return yb;_P=1;var t=bX(),e=rL(),r=xX();function n(i){return e(i)?r(i):t(i)}return yb=n,yb}var bb,SP;function _X(){if(SP)return bb;SP=1;var t=yX(),e=rL(),r=wX(),n=Z8();function i(a){return function(o){o=n(o);var s=e(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return bb=i,bb}var xb,jP;function SX(){if(jP)return xb;jP=1;var t=_X(),e=t("toUpperCase");return xb=e,xb}var jX=SX();const Fg=dr(jX);function jr(t){return function(){return t}}const nL=Math.cos,lm=Math.sin,_a=Math.sqrt,cm=Math.PI,Bg=2*cm,l2=Math.PI,c2=2*l2,hl=1e-6,NX=c2-hl;function iL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function AX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class PX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iL:AX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,d=o-e,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>hl)if(!(Math.abs(f*l-u*d)>hl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-o,g=i-s,m=l*l+u*u,v=h*h+g*g,b=Math.sqrt(m),_=Math.sqrt(p),w=a*Math.tan((l2-Math.acos((m+p-v)/(2*b*_)))/2),S=w/_,j=w/b;Math.abs(S-1)>hl&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*h>d*g)},${this._x1=e+j*l},${this._y1=r+j*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,d=r+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hl||Math.abs(this._y1-d)>hl)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%c2+c2),p>NX?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>hl&&this._append`A${n},${n},0,${+(p>=l2)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function P_(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new PX(e)}function k_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aL(t){this._context=t}aL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qg(t){return new aL(t)}function oL(t){return t[0]}function sL(t){return t[1]}function lL(t,e){var r=jr(!0),n=null,i=qg,a=null,o=P_(s);t=typeof t=="function"?t:t===void 0?oL:jr(t),e=typeof e=="function"?e:e===void 0?sL:jr(e);function s(l){var u,d=(l=k_(l)).length,f,p=!1,h;for(n==null&&(a=i(h=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,u,l),+e(f,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:jr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:jr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function jp(t,e,r){var n=null,i=jr(!0),a=null,o=qg,s=null,l=P_(u);t=typeof t=="function"?t:t===void 0?oL:jr(+t),e=typeof e=="function"?e:jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?sL:jr(+r);function u(f){var p,h,g,m=(f=k_(f)).length,v,b=!1,_,w=new Array(m),S=new Array(m);for(a==null&&(s=o(_=l())),p=0;p<=m;++p){if(!(p<m&&i(v=f[p],p,f))===b)if(b=!b)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=h;--g)s.point(w[g],S[g]);s.lineEnd(),s.areaEnd()}b&&(w[p]=+t(v,p,f),S[p]=+e(v,p,f),s.point(n?+n(v,p,f):w[p],r?+r(v,p,f):S[p]))}if(_)return s=null,_+""||null}function d(){return lL().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jr(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:jr(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class cL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function kX(t){return new cL(t,!0)}function CX(t){return new cL(t,!1)}const C_={draw(t,e){const r=_a(e/cm);t.moveTo(r,0),t.arc(0,0,r,0,Bg)}},OX={draw(t,e){const r=_a(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},uL=_a(1/3),EX=uL*2,TX={draw(t,e){const r=_a(e/EX),n=r*uL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},IX={draw(t,e){const r=_a(e),n=-r/2;t.rect(n,n,r,r)}},LX=.8908130915292852,dL=lm(cm/10)/lm(7*cm/10),RX=lm(Bg/10)*dL,MX=-nL(Bg/10)*dL,DX={draw(t,e){const r=_a(e*LX),n=RX*r,i=MX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Bg*a/5,s=nL(o),l=lm(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},wb=_a(3),$X={draw(t,e){const r=-_a(e/(wb*3));t.moveTo(0,r*2),t.lineTo(-wb*r,-r),t.lineTo(wb*r,-r),t.closePath()}},Mi=-.5,Di=_a(3)/2,u2=1/_a(12),FX=(u2/2+1)*3,BX={draw(t,e){const r=_a(e/FX),n=r/2,i=r*u2,a=n,o=r*u2+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Mi*n-Di*i,Di*n+Mi*i),t.lineTo(Mi*a-Di*o,Di*a+Mi*o),t.lineTo(Mi*s-Di*l,Di*s+Mi*l),t.lineTo(Mi*n+Di*i,Mi*i-Di*n),t.lineTo(Mi*a+Di*o,Mi*o-Di*a),t.lineTo(Mi*s+Di*l,Mi*l-Di*s),t.closePath()}};function qX(t,e){let r=null,n=P_(i);t=typeof t=="function"?t:jr(t||C_),e=typeof e=="function"?e:jr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:jr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:jr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function um(){}function dm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function fL(t){this._context=t}fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UX(t){return new fL(t)}function hL(t){this._context=t}hL.prototype={areaStart:um,areaEnd:um,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zX(t){return new hL(t)}function pL(t){this._context=t}pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WX(t){return new pL(t)}function mL(t){this._context=t}mL.prototype={areaStart:um,areaEnd:um,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HX(t){return new mL(t)}function NP(t){return t<0?-1:1}function AP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(NP(a)+NP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function PP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function _b(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function fm(t){this._context=t}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_b(this,this._t0,PP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_b(this,PP(this,r=AP(this,t,e)),r);break;default:_b(this,this._t0,r=AP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function gL(t){this._context=new vL(t)}(gL.prototype=Object.create(fm.prototype)).point=function(t,e){fm.prototype.point.call(this,e,t)};function vL(t){this._context=t}vL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function VX(t){return new fm(t)}function GX(t){return new gL(t)}function yL(t){this._context=t}yL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=kP(t),i=kP(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function YX(t){return new yL(t)}function Ug(t,e){this._context=t,this._t=e}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function KX(t){return new Ug(t,.5)}function XX(t){return new Ug(t,0)}function JX(t){return new Ug(t,1)}function du(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function d2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ZX(t,e){return t[e]}function QX(t){const e=[];return e.key=t,e}function eJ(){var t=jr([]),e=d2,r=du,n=ZX;function i(a){var o=Array.from(t.apply(this,arguments),QX),s,l=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=k_(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:jr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:jr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?d2:typeof a=="function"?a:jr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??du,i):r},i}function tJ(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}du(t,e)}}function rJ(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}du(t,e)}}function nJ(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<s;++g){var m=t[e[g]],v=m[n][1]||0,b=m[n-1][1]||0;h+=v-b}l+=f,u+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,du(t,e)}}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var iJ=["type","size","sizeType"];function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f2.apply(this,arguments)}function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){aJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aJ(t,e,r){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oJ(t){var e=sJ(t,"string");return yf(e)=="symbol"?e:e+""}function sJ(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lJ(t,e){if(t==null)return{};var r=cJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bL={symbolCircle:C_,symbolCross:OX,symbolDiamond:TX,symbolSquare:IX,symbolStar:DX,symbolTriangle:$X,symbolWye:BX},uJ=Math.PI/180,dJ=function(e){var r="symbol".concat(Fg(e));return bL[r]||C_},fJ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hJ=function(e,r){bL["symbol".concat(Fg(e))]=r},O_=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=lJ(e,iJ),u=OP(OP({},l),{},{type:n,size:a,sizeType:s}),d=function(){var v=dJ(n),b=qX().type(v).size(fJ(a,s,n));return b()},f=u.className,p=u.cx,h=u.cy,g=bt(u,!0);return p===+p&&h===+h&&a===+a?K.createElement("path",f2({},g,{className:It("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};O_.registerSymbol=hJ;function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(this,arguments)}function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){bf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wL(n.key),n)}}function vJ(t,e,r){return e&&gJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yJ(t,e,r){return e=hm(e),bJ(t,xL()?Reflect.construct(e,r||[],hm(t).constructor):e.apply(t,r))}function bJ(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJ(t)}function xJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}function wJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p2(t,e)}function p2(t,e){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p2(t,e)}function bf(t,e,r){return e=wL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wL(t){var e=_J(t,"string");return fu(e)=="symbol"?e:e+""}function _J(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $i=32,E_=(function(t){function e(){return mJ(this,e),yJ(this,e,arguments)}return wJ(e,t),vJ(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=$i/2,o=$i/6,s=$i/3,l=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:$i,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat($i,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($i/8,"h").concat($i,"v").concat($i*3/4,"h").concat(-$i,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var u=pJ({},n);return delete u.legendIcon,K.cloneElement(n.legendIcon,u)}return K.createElement(O_,{fill:l,cx:a,cy:a,size:$i,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:$i,height:$i},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,g){var m=h.formatter||l,v=It(bf(bf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=St(h.value)?null:h.value;ha(!St(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=h.inactive?u:h.color;return K.createElement("li",h2({className:v,style:f,key:"legend-item-".concat(g)},Rl(n.props,h,g)),K.createElement(o2,{width:o,height:o,viewBox:d,style:p},n.renderIcon(h)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},m?m(b,h,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(N.PureComponent);bf(E_,"displayName","Legend");bf(E_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sb,TP;function SJ(){if(TP)return Sb;TP=1;var t=Mg();function e(){this.__data__=new t,this.size=0}return Sb=e,Sb}var jb,IP;function jJ(){if(IP)return jb;IP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return jb=t,jb}var Nb,LP;function NJ(){if(LP)return Nb;LP=1;function t(e){return this.__data__.get(e)}return Nb=t,Nb}var Ab,RP;function AJ(){if(RP)return Ab;RP=1;function t(e){return this.__data__.has(e)}return Ab=t,Ab}var Pb,MP;function PJ(){if(MP)return Pb;MP=1;var t=Mg(),e=w_(),r=__(),n=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return Pb=i,Pb}var kb,DP;function _L(){if(DP)return kb;DP=1;var t=Mg(),e=SJ(),r=jJ(),n=NJ(),i=AJ(),a=PJ();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,kb=o,kb}var Cb,$P;function kJ(){if($P)return Cb;$P=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Cb=e,Cb}var Ob,FP;function CJ(){if(FP)return Ob;FP=1;function t(e){return this.__data__.has(e)}return Ob=t,Ob}var Eb,BP;function SL(){if(BP)return Eb;BP=1;var t=__(),e=kJ(),r=CJ();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Eb=n,Eb}var Tb,qP;function jL(){if(qP)return Tb;qP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Tb=t,Tb}var Ib,UP;function NL(){if(UP)return Ib;UP=1;function t(e,r){return e.has(r)}return Ib=t,Ib}var Lb,zP;function AL(){if(zP)return Lb;zP=1;var t=SL(),e=jL(),r=NL(),n=1,i=2;function a(o,s,l,u,d,f){var p=l&n,h=o.length,g=s.length;if(h!=g&&!(p&&g>h))return!1;var m=f.get(o),v=f.get(s);if(m&&v)return m==s&&v==o;var b=-1,_=!0,w=l&i?new t:void 0;for(f.set(o,s),f.set(s,o);++b<h;){var S=o[b],j=s[b];if(u)var C=p?u(j,S,b,s,o,f):u(S,j,b,o,s,f);if(C!==void 0){if(C)continue;_=!1;break}if(w){if(!e(s,function(k,E){if(!r(w,E)&&(S===k||d(S,k,l,u,f)))return w.push(E)})){_=!1;break}}else if(!(S===j||d(S,j,l,u,f))){_=!1;break}}return f.delete(o),f.delete(s),_}return Lb=a,Lb}var Rb,WP;function OJ(){if(WP)return Rb;WP=1;var t=Za(),e=t.Uint8Array;return Rb=e,Rb}var Mb,HP;function EJ(){if(HP)return Mb;HP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return Mb=t,Mb}var Db,VP;function T_(){if(VP)return Db;VP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Db=t,Db}var $b,GP;function TJ(){if(GP)return $b;GP=1;var t=uh(),e=OJ(),r=x_(),n=AL(),i=EJ(),a=T_(),o=1,s=2,l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w=t?t.prototype:void 0,S=w?w.valueOf:void 0;function j(C,k,E,T,I,A,L){switch(E){case _:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case b:return!(C.byteLength!=k.byteLength||!A(new e(C),new e(k)));case l:case u:case p:return r(+C,+k);case d:return C.name==k.name&&C.message==k.message;case h:case m:return C==k+"";case f:var D=i;case g:var F=T&o;if(D||(D=a),C.size!=k.size&&!F)return!1;var X=L.get(C);if(X)return X==k;T|=s,L.set(C,k);var Y=n(D(C),D(k),T,I,A,L);return L.delete(C),Y;case v:if(S)return S.call(C)==S.call(k)}return!1}return $b=j,$b}var Fb,YP;function PL(){if(YP)return Fb;YP=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Fb=t,Fb}var Bb,KP;function IJ(){if(KP)return Bb;KP=1;var t=PL(),e=ui();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return Bb=r,Bb}var qb,XP;function LJ(){if(XP)return qb;XP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];r(s,n,e)&&(o[a++]=s)}return o}return qb=t,qb}var Ub,JP;function RJ(){if(JP)return Ub;JP=1;function t(){return[]}return Ub=t,Ub}var zb,ZP;function MJ(){if(ZP)return zb;ZP=1;var t=LJ(),e=RJ(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return n.call(o,s)}))}:e;return zb=a,zb}var Wb,QP;function DJ(){if(QP)return Wb;QP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Wb=t,Wb}var Hb,ek;function $J(){if(ek)return Hb;ek=1;var t=zo(),e=Wo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Hb=n,Hb}var Vb,tk;function I_(){if(tk)return Vb;tk=1;var t=$J(),e=Wo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Vb=a,Vb}var Kd={exports:{}},Gb,rk;function FJ(){if(rk)return Gb;rk=1;function t(){return!1}return Gb=t,Gb}Kd.exports;var nk;function kL(){return nk||(nk=1,(function(t,e){var r=Za(),n=FJ(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Kd,Kd.exports)),Kd.exports}var Yb,ik;function L_(){if(ik)return Yb;ik=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Yb=r,Yb}var Kb,ak;function R_(){if(ak)return Kb;ak=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Kb=e,Kb}var Xb,ok;function BJ(){if(ok)return Xb;ok=1;var t=zo(),e=R_(),r=Wo(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]",A={};A[_]=A[w]=A[S]=A[j]=A[C]=A[k]=A[E]=A[T]=A[I]=!0,A[n]=A[i]=A[v]=A[a]=A[b]=A[o]=A[s]=A[l]=A[u]=A[d]=A[f]=A[p]=A[h]=A[g]=A[m]=!1;function L(D){return r(D)&&e(D.length)&&!!A[t(D)]}return Xb=L,Xb}var Jb,sk;function CL(){if(sk)return Jb;sk=1;function t(e){return function(r){return e(r)}}return Jb=t,Jb}var Xd={exports:{}};Xd.exports;var lk;function qJ(){return lk||(lk=1,(function(t,e){var r=K8(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(Xd,Xd.exports)),Xd.exports}var Zb,ck;function OL(){if(ck)return Zb;ck=1;var t=BJ(),e=CL(),r=qJ(),n=r&&r.isTypedArray,i=n?e(n):t;return Zb=i,Zb}var Qb,uk;function UJ(){if(uk)return Qb;uk=1;var t=DJ(),e=I_(),r=ui(),n=kL(),i=L_(),a=OL(),o=Object.prototype,s=o.hasOwnProperty;function l(u,d){var f=r(u),p=!f&&e(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&a(u),m=f||p||h||g,v=m?t(u.length,String):[],b=v.length;for(var _ in u)(d||s.call(u,_))&&!(m&&(_=="length"||h&&(_=="offset"||_=="parent")||g&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,b)))&&v.push(_);return v}return Qb=l,Qb}var e1,dk;function zJ(){if(dk)return e1;dk=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return e1=e,e1}var t1,fk;function EL(){if(fk)return t1;fk=1;function t(e,r){return function(n){return e(r(n))}}return t1=t,t1}var r1,hk;function WJ(){if(hk)return r1;hk=1;var t=EL(),e=t(Object.keys,Object);return r1=e,r1}var n1,pk;function HJ(){if(pk)return n1;pk=1;var t=zJ(),e=WJ(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return n1=i,n1}var i1,mk;function hh(){if(mk)return i1;mk=1;var t=b_(),e=R_();function r(n){return n!=null&&e(n.length)&&!t(n)}return i1=r,i1}var a1,gk;function zg(){if(gk)return a1;gk=1;var t=UJ(),e=HJ(),r=hh();function n(i){return r(i)?t(i):e(i)}return a1=n,a1}var o1,vk;function VJ(){if(vk)return o1;vk=1;var t=IJ(),e=MJ(),r=zg();function n(i){return t(i,r,e)}return o1=n,o1}var s1,yk;function GJ(){if(yk)return s1;yk=1;var t=VJ(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,u,d){var f=s&e,p=t(a),h=p.length,g=t(o),m=g.length;if(h!=m&&!f)return!1;for(var v=h;v--;){var b=p[v];if(!(f?b in o:n.call(o,b)))return!1}var _=d.get(a),w=d.get(o);if(_&&w)return _==o&&w==a;var S=!0;d.set(a,o),d.set(o,a);for(var j=f;++v<h;){b=p[v];var C=a[b],k=o[b];if(l)var E=f?l(k,C,b,o,a,d):l(C,k,b,a,o,d);if(!(E===void 0?C===k||u(C,k,s,l,d):E)){S=!1;break}j||(j=b=="constructor")}if(S&&!j){var T=a.constructor,I=o.constructor;T!=I&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof I=="function"&&I instanceof I)&&(S=!1)}return d.delete(a),d.delete(o),S}return s1=i,s1}var l1,bk;function YJ(){if(bk)return l1;bk=1;var t=Yl(),e=Za(),r=t(e,"DataView");return l1=r,l1}var c1,xk;function KJ(){if(xk)return c1;xk=1;var t=Yl(),e=Za(),r=t(e,"Promise");return c1=r,c1}var u1,wk;function TL(){if(wk)return u1;wk=1;var t=Yl(),e=Za(),r=t(e,"Set");return u1=r,u1}var d1,_k;function XJ(){if(_k)return d1;_k=1;var t=Yl(),e=Za(),r=t(e,"WeakMap");return d1=r,d1}var f1,Sk;function JJ(){if(Sk)return f1;Sk=1;var t=YJ(),e=w_(),r=KJ(),n=TL(),i=XJ(),a=zo(),o=X8(),s="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=o(t),g=o(e),m=o(r),v=o(n),b=o(i),_=a;return(t&&_(new t(new ArrayBuffer(1)))!=p||e&&_(new e)!=s||r&&_(r.resolve())!=u||n&&_(new n)!=d||i&&_(new i)!=f)&&(_=function(w){var S=a(w),j=S==l?w.constructor:void 0,C=j?o(j):"";if(C)switch(C){case h:return p;case g:return s;case m:return u;case v:return d;case b:return f}return S}),f1=_,f1}var h1,jk;function ZJ(){if(jk)return h1;jk=1;var t=_L(),e=AL(),r=TJ(),n=GJ(),i=JJ(),a=ui(),o=kL(),s=OL(),l=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(m,v,b,_,w,S){var j=a(m),C=a(v),k=j?d:i(m),E=C?d:i(v);k=k==u?f:k,E=E==u?f:E;var T=k==f,I=E==f,A=k==E;if(A&&o(m)){if(!o(v))return!1;j=!0,T=!1}if(A&&!T)return S||(S=new t),j||s(m)?e(m,v,b,_,w,S):r(m,v,k,b,_,w,S);if(!(b&l)){var L=T&&h.call(m,"__wrapped__"),D=I&&h.call(v,"__wrapped__");if(L||D){var F=L?m.value():m,X=D?v.value():v;return S||(S=new t),w(F,X,b,_,S)}}return A?(S||(S=new t),n(m,v,b,_,w,S)):!1}return h1=g,h1}var p1,Nk;function M_(){if(Nk)return p1;Nk=1;var t=ZJ(),e=Wo();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,s)}return p1=r,p1}var m1,Ak;function QJ(){if(Ak)return m1;Ak=1;var t=_L(),e=M_(),r=1,n=2;function i(a,o,s,l){var u=s.length,d=u,f=!l;if(a==null)return!d;for(a=Object(a);u--;){var p=s[u];if(f&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++u<d;){p=s[u];var h=p[0],g=a[h],m=p[1];if(f&&p[2]){if(g===void 0&&!(h in a))return!1}else{var v=new t;if(l)var b=l(g,m,h,a,o,v);if(!(b===void 0?e(m,g,r|n,l,v):b))return!1}}return!0}return m1=i,m1}var g1,Pk;function IL(){if(Pk)return g1;Pk=1;var t=Ls();function e(r){return r===r&&!t(r)}return g1=e,g1}var v1,kk;function eZ(){if(kk)return v1;kk=1;var t=IL(),e=zg();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,t(s)]}return i}return v1=r,v1}var y1,Ck;function LL(){if(Ck)return y1;Ck=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return y1=t,y1}var b1,Ok;function tZ(){if(Ok)return b1;Ok=1;var t=QJ(),e=eZ(),r=LL();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return b1=n,b1}var x1,Ek;function rZ(){if(Ek)return x1;Ek=1;function t(e,r){return e!=null&&r in Object(e)}return x1=t,x1}var w1,Tk;function nZ(){if(Tk)return w1;Tk=1;var t=Q8(),e=I_(),r=ui(),n=L_(),i=R_(),a=$g();function o(s,l,u){l=t(l,s);for(var d=-1,f=l.length,p=!1;++d<f;){var h=a(l[d]);if(!(p=s!=null&&u(s,h)))break;s=s[h]}return p||++d!=f?p:(f=s==null?0:s.length,!!f&&i(f)&&n(h,f)&&(r(s)||e(s)))}return w1=o,w1}var _1,Ik;function iZ(){if(Ik)return _1;Ik=1;var t=rZ(),e=nZ();function r(n,i){return n!=null&&e(n,i,t)}return _1=r,_1}var S1,Lk;function aZ(){if(Lk)return S1;Lk=1;var t=M_(),e=eL(),r=iZ(),n=y_(),i=IL(),a=LL(),o=$g(),s=1,l=2;function u(d,f){return n(d)&&i(f)?a(o(d),f):function(p){var h=e(p,d);return h===void 0&&h===f?r(p,d):t(f,h,s|l)}}return S1=u,S1}var j1,Rk;function Vu(){if(Rk)return j1;Rk=1;function t(e){return e}return j1=t,j1}var N1,Mk;function oZ(){if(Mk)return N1;Mk=1;function t(e){return function(r){return r==null?void 0:r[e]}}return N1=t,N1}var A1,Dk;function sZ(){if(Dk)return A1;Dk=1;var t=j_();function e(r){return function(n){return t(n,r)}}return A1=e,A1}var P1,$k;function lZ(){if($k)return P1;$k=1;var t=oZ(),e=sZ(),r=y_(),n=$g();function i(a){return r(a)?t(n(a)):e(a)}return P1=i,P1}var k1,Fk;function Qa(){if(Fk)return k1;Fk=1;var t=tZ(),e=aZ(),r=Vu(),n=ui(),i=lZ();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return k1=a,k1}var C1,Bk;function RL(){if(Bk)return C1;Bk=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return C1=t,C1}var O1,qk;function cZ(){if(qk)return O1;qk=1;function t(e){return e!==e}return O1=t,O1}var E1,Uk;function uZ(){if(Uk)return E1;Uk=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return E1=t,E1}var T1,zk;function dZ(){if(zk)return T1;zk=1;var t=RL(),e=cZ(),r=uZ();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return T1=n,T1}var I1,Wk;function fZ(){if(Wk)return I1;Wk=1;var t=dZ();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return I1=e,I1}var L1,Hk;function hZ(){if(Hk)return L1;Hk=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return L1=t,L1}var R1,Vk;function pZ(){if(Vk)return R1;Vk=1;function t(){}return R1=t,R1}var M1,Gk;function mZ(){if(Gk)return M1;Gk=1;var t=TL(),e=pZ(),r=T_(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return M1=i,M1}var D1,Yk;function gZ(){if(Yk)return D1;Yk=1;var t=SL(),e=fZ(),r=hZ(),n=NL(),i=mZ(),a=T_(),o=200;function s(l,u,d){var f=-1,p=e,h=l.length,g=!0,m=[],v=m;if(d)g=!1,p=r;else if(h>=o){var b=u?null:i(l);if(b)return a(b);g=!1,p=n,v=new t}else v=u?[]:m;e:for(;++f<h;){var _=l[f],w=u?u(_):_;if(_=d||_!==0?_:0,g&&w===w){for(var S=v.length;S--;)if(v[S]===w)continue e;u&&v.push(w),m.push(_)}else p(v,w,d)||(v!==m&&v.push(w),m.push(_))}return m}return D1=s,D1}var $1,Kk;function vZ(){if(Kk)return $1;Kk=1;var t=Qa(),e=gZ();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return $1=r,$1}var yZ=vZ();const Xk=dr(yZ);function ML(t,e,r){return e===!0?Xk(t,r):St(e)?Xk(t,e):t}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}var bZ=["ref"];function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){Wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function wZ(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Z(t,e,r){return e=pm(e),SZ(t,DL()?Reflect.construct(e,r||[],pm(t).constructor):e.apply(t,r))}function SZ(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(t)}function jZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}function NZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m2(t,e)}function m2(t,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m2(t,e)}function Wg(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=AZ(t,"string");return hu(e)=="symbol"?e:e+""}function AZ(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PZ(t,e){if(t==null)return{};var r=kZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CZ(t){return t.value}function OZ(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=PZ(e,bZ);return K.createElement(E_,r)}var Qk=1,nu=(function(t){function e(){var r;xZ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_Z(this,e,[].concat(i)),Wg(r,"lastBoundingBox",{width:-1,height:-1}),r}return NZ(e,t),wZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Qk||Math.abs(i.height-this.lastBoundingBox.height)>Qk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();p={top:((d||0)-g.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return vo(vo({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=vo(vo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return K.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},OZ(a,vo(vo({},this.props),{},{payload:ML(d,u,CZ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=vo(vo({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Ie(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(N.PureComponent);Wg(nu,"displayName","Legend");Wg(nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var F1,eC;function EZ(){if(eC)return F1;eC=1;var t=uh(),e=I_(),r=ui(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return F1=i,F1}var B1,tC;function FL(){if(tC)return B1;tC=1;var t=PL(),e=EZ();function r(n,i,a,o,s){var l=-1,u=n.length;for(a||(a=e),s||(s=[]);++l<u;){var d=n[l];i>0&&a(d)?i>1?r(d,i-1,a,o,s):t(s,d):o||(s[s.length]=d)}return s}return B1=r,B1}var q1,rC;function TZ(){if(rC)return q1;rC=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var u=s[e?l:++a];if(n(o[u],u,o)===!1)break}return r}}return q1=t,q1}var U1,nC;function IZ(){if(nC)return U1;nC=1;var t=TZ(),e=t();return U1=e,U1}var z1,iC;function BL(){if(iC)return z1;iC=1;var t=IZ(),e=zg();function r(n,i){return n&&t(n,i,e)}return z1=r,z1}var W1,aC;function LZ(){if(aC)return W1;aC=1;var t=hh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return W1=e,W1}var H1,oC;function D_(){if(oC)return H1;oC=1;var t=BL(),e=LZ(),r=e(t);return H1=r,H1}var V1,sC;function qL(){if(sC)return V1;sC=1;var t=D_(),e=hh();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(s,l,u){o[++a]=i(s,l,u)}),o}return V1=r,V1}var G1,lC;function RZ(){if(lC)return G1;lC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return G1=t,G1}var Y1,cC;function MZ(){if(cC)return Y1;cC=1;var t=Wu();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=t(r),l=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!s&&r>n||s&&l&&d&&!u&&!f||a&&l&&d||!i&&d||!o)return 1;if(!a&&!s&&!f&&r<n||f&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!d)return-1}return 0}return Y1=e,Y1}var K1,uC;function DZ(){if(uC)return K1;uC=1;var t=MZ();function e(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,u=i.length;++a<l;){var d=t(o[a],s[a]);if(d){if(a>=u)return d;var f=i[a];return d*(f=="desc"?-1:1)}}return r.index-n.index}return K1=e,K1}var X1,dC;function $Z(){if(dC)return X1;dC=1;var t=S_(),e=j_(),r=Qa(),n=qL(),i=RZ(),a=CL(),o=DZ(),s=Vu(),l=ui();function u(d,f,p){f.length?f=t(f,function(m){return l(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):f=[s];var h=-1;f=t(f,a(r));var g=n(d,function(m,v,b){var _=t(f,function(w){return w(m)});return{criteria:_,index:++h,value:m}});return i(g,function(m,v){return o(m,v,p)})}return X1=u,X1}var J1,fC;function FZ(){if(fC)return J1;fC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return J1=t,J1}var Z1,hC;function BZ(){if(hC)return Z1;hC=1;var t=FZ(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(u),t(n,this,d)}}return Z1=r,Z1}var Q1,pC;function qZ(){if(pC)return Q1;pC=1;function t(e){return function(){return e}}return Q1=t,Q1}var ex,mC;function UL(){if(mC)return ex;mC=1;var t=Yl(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return ex=e,ex}var tx,gC;function UZ(){if(gC)return tx;gC=1;var t=qZ(),e=UL(),r=Vu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return tx=n,tx}var rx,vC;function zZ(){if(vC)return rx;vC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return rx=n,rx}var nx,yC;function WZ(){if(yC)return nx;yC=1;var t=UZ(),e=zZ(),r=e(t);return nx=r,nx}var ix,bC;function HZ(){if(bC)return ix;bC=1;var t=Vu(),e=BZ(),r=WZ();function n(i,a){return r(e(i,a,t),i+"")}return ix=n,ix}var ax,xC;function Hg(){if(xC)return ax;xC=1;var t=x_(),e=hh(),r=L_(),n=Ls();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?e(s)&&r(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return ax=i,ax}var ox,wC;function VZ(){if(wC)return ox;wC=1;var t=FL(),e=$Z(),r=HZ(),n=Hg(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return ox=i,ox}var GZ=VZ();const $_=dr(GZ);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function g2(){return g2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g2.apply(this,arguments)}function YZ(t,e){return ZZ(t)||JZ(t,e)||XZ(t,e)||KZ()}function KZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ZZ(t){if(Array.isArray(t))return t}function SC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(r),!0).forEach(function(n){QZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QZ(t,e,r){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQ(t){var e=tQ(t,"string");return xf(e)=="symbol"?e:e+""}function tQ(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rQ(t){return Array.isArray(t)&&vn(t[0])&&vn(t[1])?t.join(" ~ "):t}var nQ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,w=function(){if(d&&d.length){var L={padding:0,margin:0},D=(p?$_(d,p):d).map(function(F,X){if(F.type==="none")return null;var Y=sx({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),V=F.formatter||f||rQ,$=F.value,ie=F.name,re=$,se=ie;if(V&&re!=null&&se!=null){var M=V($,ie,F,X,d);if(Array.isArray(M)){var U=YZ(M,2);re=U[0],se=U[1]}else re=M}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Y},vn(se)?K.createElement("span",{className:"recharts-tooltip-item-name"},se):null,vn(se)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:L},D)}return null},S=sx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=sx({margin:0},u),C=!$t(m),k=C?m:"",E=It("recharts-default-tooltip",h),T=It("recharts-tooltip-label",g);C&&v&&d!==void 0&&d!==null&&(k=v(m,d));var I=_?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",g2({className:E,style:S},I),K.createElement("p",{className:T,style:j},K.isValidElement(k)?k:"".concat(k)),w())};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Np(t,e,r){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iQ(t){var e=aQ(t,"string");return wf(e)=="symbol"?e:e+""}function aQ(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dd="recharts-tooltip-wrapper",oQ={visibility:"hidden"};function sQ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return It(Dd,Np(Np(Np(Np({},"".concat(Dd,"-right"),Ie(r)&&e&&Ie(e.x)&&r>=e.x),"".concat(Dd,"-left"),Ie(r)&&e&&Ie(e.x)&&r<e.x),"".concat(Dd,"-bottom"),Ie(n)&&e&&Ie(e.y)&&n>=e.y),"".concat(Dd,"-top"),Ie(n)&&e&&Ie(e.y)&&n<e.y))}function jC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ie(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var p=d,h=l[n];return p<h?Math.max(f,l[n]):Math.max(d,l[n])}var g=f+s,m=l[n]+u;return g>m?Math.max(d,l[n]):Math.max(f,l[n])}function lQ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function cQ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=jC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=jC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=lQ({translateX:d,translateY:f,useTranslate3d:s})):u=oQ,{cssProperties:u,cssClasses:sQ({translateX:d,translateY:f,coordinate:r})}}function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function NC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(r),!0).forEach(function(n){y2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function fQ(t,e,r){return e&&dQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQ(t,e,r){return e=mm(e),pQ(t,zL()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function pQ(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQ(t)}function mQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v2(t,e)}function v2(t,e){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v2(t,e)}function y2(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WL(t){var e=vQ(t,"string");return pu(e)=="symbol"?e:e+""}function vQ(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PC=1,yQ=(function(t){function e(){var r;uQ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=hQ(this,e,[].concat(i)),y2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),y2(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return gQ(e,t),fQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>PC||Math.abs(n.height-this.state.lastBoundingBox.height)>PC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=cQ({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=w.cssClasses,j=w.cssProperties,C=AC(AC({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return K.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(E){n.wrapperNode=E}},u)}}])})(N.PureComponent),bQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gu={isSsr:bQ()};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function kC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(r),!0).forEach(function(n){F_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VL(n.key),n)}}function _Q(t,e,r){return e&&wQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SQ(t,e,r){return e=gm(e),jQ(t,HL()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function jQ(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NQ(t)}function NQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function AQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b2(t,e)}function F_(t,e,r){return e=VL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=PQ(t,"string");return mu(e)=="symbol"?e:e+""}function PQ(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kQ(t){return t.dataKey}function CQ(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(nQ,e)}var la=(function(t){function e(){return xQ(this,e),SQ(this,e,arguments)}return AQ(e,t),_Q(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,j=g??[];f&&j.length&&(j=ML(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,kQ));var C=j.length>0;return K.createElement(yQ,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:d,hasPayload:C,offset:h,position:v,reverseDirection:b,useTranslate3d:_,viewBox:w,wrapperStyle:S},CQ(u,CC(CC({},this.props),{},{payload:j})))}}])})(N.PureComponent);F_(la,"displayName","Tooltip");F_(la,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lx,OC;function OQ(){if(OC)return lx;OC=1;var t=Za(),e=function(){return t.Date.now()};return lx=e,lx}var cx,EC;function EQ(){if(EC)return cx;EC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return cx=e,cx}var ux,TC;function TQ(){if(TC)return ux;TC=1;var t=EQ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ux=r,ux}var dx,IC;function GL(){if(IC)return dx;IC=1;var t=TQ(),e=Ls(),r=Wu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):i.test(u)?n:+u}return dx=l,dx}var fx,LC;function IQ(){if(LC)return fx;LC=1;var t=Ls(),e=OQ(),r=GL(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var d,f,p,h,g,m,v=0,b=!1,_=!1,w=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(b=!!u.leading,_="maxWait"in u,p=_?i(r(u.maxWait)||0,l):p,w="trailing"in u?!!u.trailing:w);function S(D){var F=d,X=f;return d=f=void 0,v=D,h=s.apply(X,F),h}function j(D){return v=D,g=setTimeout(E,l),b?S(D):h}function C(D){var F=D-m,X=D-v,Y=l-F;return _?a(Y,p-X):Y}function k(D){var F=D-m,X=D-v;return m===void 0||F>=l||F<0||_&&X>=p}function E(){var D=e();if(k(D))return T(D);g=setTimeout(E,C(D))}function T(D){return g=void 0,w&&d?S(D):(d=f=void 0,h)}function I(){g!==void 0&&clearTimeout(g),v=0,d=m=f=g=void 0}function A(){return g===void 0?h:T(e())}function L(){var D=e(),F=k(D);if(d=arguments,f=this,m=D,F){if(g===void 0)return j(m);if(_)return clearTimeout(g),g=setTimeout(E,l),S(m)}return g===void 0&&(g=setTimeout(E,l)),h}return L.cancel=I,L.flush=A,L}return fx=o,fx}var hx,RC;function LQ(){if(RC)return hx;RC=1;var t=IQ(),e=Ls(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return hx=n,hx}var RQ=LQ();const YL=dr(RQ);function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function MC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(n){MQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MQ(t,e,r){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DQ(t){var e=$Q(t,"string");return _f(e)=="symbol"?e:e+""}function $Q(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FQ(t,e){return zQ(t)||UQ(t,e)||qQ(t,e)||BQ()}function BQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qQ(t,e){if(t){if(typeof t=="string")return DC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zQ(t){if(Array.isArray(t))return t}var KL=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,b=t.className,_=t.onResize,w=t.style,S=w===void 0?{}:w,j=N.useRef(null),C=N.useRef();C.current=_,N.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=N.useState({containerWidth:i.width,containerHeight:i.height}),E=FQ(k,2),T=E[0],I=E[1],A=N.useCallback(function(D,F){I(function(X){var Y=Math.round(D),V=Math.round(F);return X.containerWidth===Y&&X.containerHeight===V?X:{containerWidth:Y,containerHeight:V}})},[]);N.useEffect(function(){var D=function(ie){var re,se=ie[0].contentRect,M=se.width,U=se.height;A(M,U),(re=C.current)===null||re===void 0||re.call(C,M,U)};m>0&&(D=YL(D,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(D),X=j.current.getBoundingClientRect(),Y=X.width,V=X.height;return A(Y,V),F.observe(j.current),function(){F.disconnect()}},[A,m]);var L=N.useMemo(function(){var D=T.containerWidth,F=T.containerHeight;if(D<0||F<0)return null;ha(xl(o)||xl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ha(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=xl(o)?D:o,Y=xl(l)?F:l;r&&r>0&&(X?Y=X/r:Y&&(X=Y*r),p&&Y>p&&(Y=p)),ha(X>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,Y,o,l,d,f,r);var V=!Array.isArray(h)&&Oo(h.type).endsWith("Chart");return K.Children.map(h,function($){return K.isValidElement($)?N.cloneElement($,Ap({width:X,height:Y},V?{style:Ap({height:"100%",width:"100%",maxHeight:Y,maxWidth:X},$.props.style)}:{})):$})},[r,h,l,p,f,d,T,o]);return K.createElement("div",{id:v?"".concat(v):void 0,className:It("recharts-responsive-container",b),style:Ap(Ap({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:p}),ref:j},L)}),Vg=function(e){return null};Vg.displayName="Cell";function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){WQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WQ(t,e,r){return e=HQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HQ(t){var e=VQ(t,"string");return Sf(e)=="symbol"?e:e+""}function VQ(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ic={widthCache:{},cacheCount:0},GQ=2e3,YQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FC="recharts_measurement_span";function KQ(t){var e=x2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var af=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gu.isSsr)return{width:0,height:0};var n=KQ(r),i=JSON.stringify({text:e,copyStyle:n});if(Ic.widthCache[i])return Ic.widthCache[i];try{var a=document.getElementById(FC);a||(a=document.createElement("span"),a.setAttribute("id",FC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=x2(x2({},YQ),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Ic.widthCache[i]=l,++Ic.cacheCount>GQ&&(Ic.cacheCount=0,Ic.widthCache={}),l}catch{return{width:0,height:0}}},XQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function vm(t,e){return eee(t)||QQ(t,e)||ZQ(t,e)||JQ()}function JQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(t,e){if(t){if(typeof t=="string")return BC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eee(t){if(Array.isArray(t))return t}function tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nee(n.key),n)}}function ree(t,e,r){return e&&qC(t.prototype,e),r&&qC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nee(t){var e=iee(t,"string");return jf(e)=="symbol"?e:e+""}function iee(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},see=Object.keys(XL),Vc="NaN";function lee(t,e){return t*XL[e]}var Pp=(function(){function t(e,r){tee(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!aee.test(r)&&(this.num=NaN,this.unit=""),see.includes(r)&&(this.num=lee(e,r),this.unit="px")}return ree(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=oee.exec(r))!==null&&n!==void 0?n:[],a=vm(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])})();function JL(t){if(t.includes(Vc))return Vc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=UC.exec(e))!==null&&r!==void 0?r:[],i=vm(n,4),a=i[1],o=i[2],s=i[3],l=Pp.parse(a??""),u=Pp.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Vc;e=e.replace(UC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=zC.exec(e))!==null&&f!==void 0?f:[],h=vm(p,4),g=h[1],m=h[2],v=h[3],b=Pp.parse(g??""),_=Pp.parse(v??""),w=m==="+"?b.add(_):b.subtract(_);if(w.isNaN())return Vc;e=e.replace(zC,w.toString())}return e}var WC=/\(([^()]*)\)/;function cee(t){for(var e=t;e.includes("(");){var r=WC.exec(e),n=vm(r,2),i=n[1];e=e.replace(WC,JL(i))}return e}function uee(t){var e=t.replace(/\s+/g,"");return e=cee(e),e=JL(e),e}function dee(t){try{return uee(t)}catch{return Vc}}function px(t){var e=dee(t.slice(5,-1));return e===Vc?"":e}var fee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hee=["dx","dy","angle","className","breakAll"];function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w2.apply(this,arguments)}function HC(t,e){if(t==null)return{};var r=pee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VC(t,e){return yee(t)||vee(t,e)||gee(t,e)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(t,e){if(t){if(typeof t=="string")return GC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yee(t){if(Array.isArray(t))return t}var ZL=/[ \f\n\r\t\v\u2028\u2029]+/,QL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];$t(r)||(n?a=r.toString().split(""):a=r.toString().split(ZL));var o=a.map(function(l){return{word:l,width:af(l,i).width}}),s=n?0:af("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},bee=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Ie(o),f=s,p=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(Y,V){var $=V.word,ie=V.width,re=Y[Y.length-1];if(re&&(i==null||a||re.width+ie+n<Number(i)))re.words.push($),re.width+=ie+n;else{var se={words:[$],width:ie};Y.push(se)}return Y},[])},h=p(r),g=function(X){return X.reduce(function(Y,V){return Y.width>V.width?Y:V})};if(!d)return h;for(var m="",v=function(X){var Y=f.slice(0,X),V=QL({breakAll:u,style:l,children:Y+m}).wordsWithComputedWidth,$=p(V),ie=$.length>o||g($).width>Number(i);return[ie,$]},b=0,_=f.length-1,w=0,S;b<=_&&w<=f.length-1;){var j=Math.floor((b+_)/2),C=j-1,k=v(C),E=VC(k,2),T=E[0],I=E[1],A=v(j),L=VC(A,1),D=L[0];if(!T&&!D&&(b=j+1),T&&D&&(_=j-1),!T&&D){S=I;break}w++}return S||h},YC=function(e){var r=$t(e)?[]:e.toString().split(ZL);return[{words:r}]},xee=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Gu.isSsr){var l,u,d=QL({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;l=f,u=p}else return YC(i);return bee({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return YC(i)},KC="#808080",Ml=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,h=p===void 0?"start":p,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,b=v===void 0?KC:v,_=HC(e,fee),w=N.useMemo(function(){return xee({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),S=_.dx,j=_.dy,C=_.angle,k=_.className,E=_.breakAll,T=HC(_,hee);if(!vn(n)||!vn(a))return null;var I=n+(Ie(S)?S:0),A=a+(Ie(j)?j:0),L;switch(m){case"start":L=px("calc(".concat(u,")"));break;case"middle":L=px("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:L=px("calc(".concat(w.length-1," * -").concat(s,")"));break}var D=[];if(f){var F=w[0].width,X=_.width;D.push("scale(".concat((Ie(X)?X/F:1)/F,")"))}return C&&D.push("rotate(".concat(C,", ").concat(I,", ").concat(A,")")),D.length&&(T.transform=D.join(" ")),K.createElement("text",w2({},bt(T,!0),{x:I,y:A,className:It("recharts-text",k),textAnchor:h,fill:b.includes("url")?KC:b}),w.map(function(Y,V){var $=Y.words.join(E?"":" ");return K.createElement("tspan",{x:I,dy:V===0?L:s,key:"".concat($,"-").concat(V)},$)}))};function js(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B_(t){let e,r,n;t.length!==2?(e=js,r=(s,l)=>js(t(s),l),n=(s,l)=>t(s)-l):(e=t===js||t===wee?t:_ee,r=t,n=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function _ee(){return 0}function eR(t){return t===null?NaN:+t}function*See(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const jee=B_(js),ph=jee.right;B_(eR).center;class XC extends Map{constructor(e,r=Pee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(JC(this,e))}has(e){return super.has(JC(this,e))}set(e,r){return super.set(Nee(this,e),r)}delete(e){return super.delete(Aee(this,e))}}function JC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Nee({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Aee({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Pee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kee(t=js){if(t===js)return tR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function tR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Cee=Math.sqrt(50),Oee=Math.sqrt(10),Eee=Math.sqrt(2);function ym(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Cee?10:a>=Oee?5:a>=Eee?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?ym(t,e,r*2):[s,l,u]}function _2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?ym(e,t,r):ym(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function S2(t,e,r){return e=+e,t=+t,r=+r,ym(t,e,r)[2]}function j2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?S2(e,t,r):S2(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ZC(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QC(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rR(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?tR:kee(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/l+p)),g=Math.min(n,Math.floor(e+(l-u)*f/l+p));rR(t,e,h,g,i)}const a=t[e];let o=r,s=n;for($d(t,r,e),i(t[n],a)>0&&$d(t,r,n);o<s;){for($d(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?$d(t,r,s):(++s,$d(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function $d(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Tee(t,e,r){if(t=Float64Array.from(See(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return QC(t);if(e>=1)return ZC(t);var n,i=(n-1)*e,a=Math.floor(i),o=ZC(rR(t,a).subarray(0,a+1)),s=QC(t.subarray(a+1));return o+(s-o)*(i-a)}}function Iee(t,e,r=eR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Lee(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ho(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const N2=Symbol("implicit");function q_(){var t=new XC,e=[],r=[],n=N2;function i(a){let o=t.get(a);if(o===void 0){if(n!==N2)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new XC;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q_(e,r).unknown(n)},Vi.apply(i,arguments),i}function Nf(){var t=q_().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var p=e().length,h=i<n,g=h?i:n,m=h?n:i;a=(m-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(m-g-a*(p-l))*d,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=Lee(p).map(function(b){return g+a*b});return r(h?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Nf(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},Vi.apply(f(),arguments)}function nR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nR(e())},t}function of(){return nR(Nf.apply(null,arguments).paddingInner(1))}function U_(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function iR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function mh(){}var Af=.7,bm=1/Af,iu="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ree=/^#([0-9a-f]{3,8})$/,Mee=new RegExp(`^rgb\\(${iu},${iu},${iu}\\)$`),Dee=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),$ee=new RegExp(`^rgba\\(${iu},${iu},${iu},${Pf}\\)$`),Fee=new RegExp(`^rgba\\(${za},${za},${za},${Pf}\\)$`),Bee=new RegExp(`^hsl\\(${Pf},${za},${za}\\)$`),qee=new RegExp(`^hsla\\(${Pf},${za},${za},${Pf}\\)$`),e3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U_(mh,kf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:t3,formatHex:t3,formatHex8:Uee,formatHsl:zee,formatRgb:r3,toString:r3});function t3(){return this.rgb().formatHex()}function Uee(){return this.rgb().formatHex8()}function zee(){return aR(this).formatHsl()}function r3(){return this.rgb().formatRgb()}function kf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ree.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?n3(e):r===3?new oi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?kp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?kp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Mee.exec(t))?new oi(e[1],e[2],e[3],1):(e=Dee.exec(t))?new oi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$ee.exec(t))?kp(e[1],e[2],e[3],e[4]):(e=Fee.exec(t))?kp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bee.exec(t))?o3(e[1],e[2]/100,e[3]/100,1):(e=qee.exec(t))?o3(e[1],e[2]/100,e[3]/100,e[4]):e3.hasOwnProperty(t)?n3(e3[t]):t==="transparent"?new oi(NaN,NaN,NaN,0):null}function n3(t){return new oi(t>>16&255,t>>8&255,t&255,1)}function kp(t,e,r,n){return n<=0&&(t=e=r=NaN),new oi(t,e,r,n)}function Wee(t){return t instanceof mh||(t=kf(t)),t?(t=t.rgb(),new oi(t.r,t.g,t.b,t.opacity)):new oi}function A2(t,e,r,n){return arguments.length===1?Wee(t):new oi(t,e,r,n??1)}function oi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}U_(oi,A2,iR(mh,{brighter(t){return t=t==null?bm:Math.pow(bm,t),new oi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new oi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new oi(Pl(this.r),Pl(this.g),Pl(this.b),xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i3,formatHex:i3,formatHex8:Hee,formatRgb:a3,toString:a3}));function i3(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function Hee(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function a3(){const t=xm(this.opacity);return`${t===1?"rgb(":"rgba("}${Pl(this.r)}, ${Pl(this.g)}, ${Pl(this.b)}${t===1?")":`, ${t})`}`}function xm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wl(t){return t=Pl(t),(t<16?"0":"")+t.toString(16)}function o3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ua(t,e,r,n)}function aR(t){if(t instanceof ua)return new ua(t.h,t.s,t.l,t.opacity);if(t instanceof mh||(t=kf(t)),!t)return new ua;if(t instanceof ua)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ua(o,s,l,t.opacity)}function Vee(t,e,r,n){return arguments.length===1?aR(t):new ua(t,e,r,n??1)}function ua(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}U_(ua,Vee,iR(mh,{brighter(t){return t=t==null?bm:Math.pow(bm,t),new ua(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new ua(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new oi(mx(t>=240?t-240:t+120,i,n),mx(t,i,n),mx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ua(s3(this.h),Cp(this.s),Cp(this.l),xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xm(this.opacity);return`${t===1?"hsl(":"hsla("}${s3(this.h)}, ${Cp(this.s)*100}%, ${Cp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function s3(t){return t=(t||0)%360,t<0?t+360:t}function Cp(t){return Math.max(0,Math.min(1,t||0))}function mx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const z_=t=>()=>t;function Gee(t,e){return function(r){return t+r*e}}function Yee(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Kee(t){return(t=+t)==1?oR:function(e,r){return r-e?Yee(e,r,t):z_(isNaN(e)?r:e)}}function oR(t,e){var r=e-t;return r?Gee(t,r):z_(isNaN(t)?e:t)}const l3=(function t(e){var r=Kee(e);function n(i,a){var o=r((i=A2(i)).r,(a=A2(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=oR(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n})(1);function Xee(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Jee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zee(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Yu(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Qee(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function wm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ete(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Yu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var P2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gx=new RegExp(P2.source,"g");function tte(t){return function(){return t}}function rte(t){return function(e){return t(e)+""}}function nte(t,e){var r=P2.lastIndex=gx.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=P2.exec(t))&&(i=gx.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:wm(n,i)})),r=gx.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?rte(l[0].x):tte(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Yu(t,e){var r=typeof e,n;return e==null||r==="boolean"?z_(e):(r==="number"?wm:r==="string"?(n=kf(e))?(e=n,l3):nte:e instanceof kf?l3:e instanceof Date?Qee:Jee(e)?Xee:Array.isArray(e)?Zee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ete:wm)(t,e)}function W_(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ite(t,e){e===void 0&&(e=t,t=Yu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function ate(t){return function(){return t}}function _m(t){return+t}var c3=[0,1];function Zn(t){return t}function k2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ate(isNaN(e)?NaN:.5)}function ote(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ste(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=k2(i,n),a=r(o,a)):(n=k2(n,i),a=r(a,o)),function(s){return a(n(s))}}function lte(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=k2(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=ph(t,s,1,n)-1;return a[l](i[l](s))}}function gh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gg(){var t=c3,e=c3,r=Yu,n,i,a,o=Zn,s,l,u;function d(){var p=Math.min(t.length,e.length);return o!==Zn&&(o=ote(t[0],t[p-1])),s=p>2?lte:ste,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(n),e,r)))(n(o(p)))}return f.invert=function(p){return o(i((u||(u=s(e,t.map(n),wm)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,_m),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=W_,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Zn,d()):o!==Zn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,d()}}function H_(){return Gg()(Zn,Zn)}function cte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function gu(t){return t=Sm(Math.abs(t)),t?t[1]:NaN}function ute(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function dte(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var fte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cf(t){if(!(e=fte.exec(t)))throw new Error("invalid format: "+t);var e;return new V_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cf.prototype=V_.prototype;function V_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hte(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var sR;function pte(t,e){var r=Sm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(sR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Sm(t,Math.max(0,e+a-1))[0]}function u3(t,e){var r=Sm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const d3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>u3(t*100,e),r:u3,s:pte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function f3(t){return t}var h3=Array.prototype.map,p3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mte(t){var e=t.grouping===void 0||t.thousands===void 0?f3:ute(h3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?f3:dte(h3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Cf(f);var p=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,b=f.width,_=f.comma,w=f.precision,S=f.trim,j=f.type;j==="n"?(_=!0,j="g"):d3[j]||(w===void 0&&(w=12),S=!0,j="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=m==="$"?n:/[%p]/.test(j)?o:"",E=d3[j],T=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(A){var L=C,D=k,F,X,Y;if(j==="c")D=E(A)+D,A="";else{A=+A;var V=A<0||1/A<0;if(A=isNaN(A)?l:E(Math.abs(A),w),S&&(A=hte(A)),V&&+A==0&&g!=="+"&&(V=!1),L=(V?g==="("?g:s:g==="-"||g==="("?"":g)+L,D=(j==="s"?p3[8+sR/3]:"")+D+(V&&g==="("?")":""),T){for(F=-1,X=A.length;++F<X;)if(Y=A.charCodeAt(F),48>Y||Y>57){D=(Y===46?i+A.slice(F+1):A.slice(F))+D,A=A.slice(0,F);break}}}_&&!v&&(A=e(A,1/0));var $=L.length+A.length+D.length,ie=$<b?new Array(b-$+1).join(p):"";switch(_&&v&&(A=e(ie+A,ie.length?b-D.length:1/0),ie=""),h){case"<":A=L+A+D+ie;break;case"=":A=L+ie+A+D;break;case"^":A=ie.slice(0,$=ie.length>>1)+L+A+D+ie.slice($);break;default:A=ie+L+A+D;break}return a(A)}return I.toString=function(){return f+""},I}function d(f,p){var h=u((f=Cf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(gu(p)/3)))*3,m=Math.pow(10,-g),v=p3[8+g/3];return function(b){return h(m*b)+v}}return{format:u,formatPrefix:d}}var Op,G_,lR;gte({thousands:",",grouping:[3],currency:["$",""]});function gte(t){return Op=mte(t),G_=Op.format,lR=Op.formatPrefix,Op}function vte(t){return Math.max(0,-gu(Math.abs(t)))}function yte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gu(e)/3)))*3-gu(Math.abs(t)))}function bte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gu(e)-gu(t))+1}function cR(t,e,r,n){var i=j2(t,e,r),a;switch(n=Cf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=yte(i,o))&&(n.precision=a),lR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=bte(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=vte(i))&&(n.precision=a-(n.type==="%")*2);break}}return G_(n)}function Rs(t){var e=t.domain;return t.ticks=function(r){var n=e();return _2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return cR(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=S2(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function jm(){var t=H_();return t.copy=function(){return gh(t,jm())},Vi.apply(t,arguments),Rs(t)}function uR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,_m),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return uR(t).unknown(e)},t=arguments.length?Array.from(t,_m):[0,1],Rs(r)}function dR(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function m3(t){return Math.log(t)}function g3(t){return Math.exp(t)}function xte(t){return-Math.log(-t)}function wte(t){return-Math.exp(-t)}function _te(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ste(t){return t===10?_te:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function v3(t){return(e,r)=>-t(-e,r)}function Y_(t){const e=t(m3,g3),r=e.domain;let n=10,i,a;function o(){return i=jte(n),a=Ste(n),r()[0]<0?(i=v3(i),a=v3(a),t(xte,wte)):t(m3,g3),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=i(u),h=i(d),g,m;const v=s==null?10:+s;let b=[];if(!(n%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(m=p<0?g/a(-p):g*a(p),!(m<u)){if(m>d)break;b.push(m)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(m=p>0?g/a(-p):g*a(p),!(m<u)){if(m>d)break;b.push(m)}b.length*2<v&&(b=_2(u,d,v))}else b=_2(p,h,Math.min(h-p,v)).map(a);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cf(l)).precision==null&&(l.trim=!0),l=G_(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(dR(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function fR(){const t=Y_(Gg()).domain([1,10]);return t.copy=()=>gh(t,fR()).base(t.base()),Vi.apply(t,arguments),t}function y3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function b3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function K_(t){var e=1,r=t(y3(e),b3(e));return r.constant=function(n){return arguments.length?t(y3(e=+n),b3(e)):e},Rs(r)}function hR(){var t=K_(Gg());return t.copy=function(){return gh(t,hR()).constant(t.constant())},Vi.apply(t,arguments)}function x3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ate(t){return t<0?-t*t:t*t}function X_(t){var e=t(Zn,Zn),r=1;function n(){return r===1?t(Zn,Zn):r===.5?t(Nte,Ate):t(x3(r),x3(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Rs(e)}function J_(){var t=X_(Gg());return t.copy=function(){return gh(t,J_()).exponent(t.exponent())},Vi.apply(t,arguments),t}function Pte(){return J_.apply(null,arguments).exponent(.5)}function w3(t){return Math.sign(t)*t*t}function kte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pR(){var t=H_(),e=[0,1],r=!1,n;function i(a){var o=kte(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(w3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,_m)).map(w3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pR(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vi.apply(i,arguments),Rs(i)}function mR(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=Iee(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[ph(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(js),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return mR().domain(t).range(e).unknown(n)},Vi.apply(a,arguments)}function gR(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[ph(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return gR().domain([t,e]).range(i).unknown(a)},Vi.apply(Rs(o),arguments)}function vR(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[ph(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return vR().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}const vx=new Date,yx=new Date;function yn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>yn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(vx.setTime(+a),yx.setTime(+o),t(vx),t(yx),Math.floor(r(vx,yx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Nm=yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Nm);Nm.range;const No=1e3,qi=No*60,Ao=qi*60,Do=Ao*24,Z_=Do*7,_3=Do*30,bx=Do*365,_l=yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*No)},(t,e)=>(e-t)/No,t=>t.getUTCSeconds());_l.range;const Q_=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getMinutes());Q_.range;const eS=yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getUTCMinutes());eS.range;const tS=yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*No-t.getMinutes()*qi)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getHours());tS.range;const rS=yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCHours());rS.range;const vh=yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qi)/Do,t=>t.getDate()-1);vh.range;const Yg=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Do,t=>t.getUTCDate()-1);Yg.range;const yR=yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Do,t=>Math.floor(t/Do));yR.range;function Kl(t){return yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qi)/Z_)}const Kg=Kl(0),Am=Kl(1),Cte=Kl(2),Ote=Kl(3),vu=Kl(4),Ete=Kl(5),Tte=Kl(6);Kg.range;Am.range;Cte.range;Ote.range;vu.range;Ete.range;Tte.range;function Xl(t){return yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Z_)}const Xg=Xl(0),Pm=Xl(1),Ite=Xl(2),Lte=Xl(3),yu=Xl(4),Rte=Xl(5),Mte=Xl(6);Xg.range;Pm.range;Ite.range;Lte.range;yu.range;Rte.range;Mte.range;const nS=yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nS.range;const iS=yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iS.range;const $o=yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$o.range;const Fo=yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Fo.range;function bR(t,e,r,n,i,a){const o=[[_l,1,No],[_l,5,5*No],[_l,15,15*No],[_l,30,30*No],[a,1,qi],[a,5,5*qi],[a,15,15*qi],[a,30,30*qi],[i,1,Ao],[i,3,3*Ao],[i,6,6*Ao],[i,12,12*Ao],[n,1,Do],[n,2,2*Do],[r,1,Z_],[e,1,_3],[e,3,3*_3],[t,1,bx]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:l(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function l(u,d,f){const p=Math.abs(d-u)/f,h=B_(([,,v])=>v).right(o,p);if(h===o.length)return t.every(j2(u/bx,d/bx,f));if(h===0)return Nm.every(Math.max(j2(u,d,f),1));const[g,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return g.every(m)}return[s,l]}const[Dte,$te]=bR(Fo,iS,Xg,yR,rS,eS),[Fte,Bte]=bR($o,nS,Kg,vh,tS,Q_);function xx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function qte(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Bd(i),d=qd(i),f=Bd(a),p=qd(a),h=Bd(o),g=qd(o),m=Bd(s),v=qd(s),b=Bd(l),_=qd(l),w={a:V,A:$,b:ie,B:re,c:null,d:k3,e:k3,f:ure,g:xre,G:_re,H:sre,I:lre,j:cre,L:xR,m:dre,M:fre,p:se,q:M,Q:E3,s:T3,S:hre,u:pre,U:mre,V:gre,w:vre,W:yre,x:null,X:null,y:bre,Y:wre,Z:Sre,"%":O3},S={a:U,A:z,b:Z,B:le,c:null,d:C3,e:C3,f:Pre,g:Dre,G:Fre,H:jre,I:Nre,j:Are,L:_R,m:kre,M:Cre,p:oe,q:de,Q:E3,s:T3,S:Ore,u:Ere,U:Tre,V:Ire,w:Lre,W:Rre,x:null,X:null,y:Mre,Y:$re,Z:Bre,"%":O3},j={a:I,A,b:L,B:D,c:F,d:A3,e:A3,f:nre,g:N3,G:j3,H:P3,I:P3,j:Qte,L:rre,m:Zte,M:ere,p:T,q:Jte,Q:are,s:ore,S:tre,u:Vte,U:Gte,V:Yte,w:Hte,W:Kte,x:X,X:Y,y:N3,Y:j3,Z:Xte,"%":ire};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),S.x=C(r,S),S.X=C(n,S),S.c=C(e,S);function C(ae,he){return function(ge){var ue=[],ke=-1,me=0,Q=ae.length,We,Fe,Ue;for(ge instanceof Date||(ge=new Date(+ge));++ke<Q;)ae.charCodeAt(ke)===37&&(ue.push(ae.slice(me,ke)),(Fe=S3[We=ae.charAt(++ke)])!=null?We=ae.charAt(++ke):Fe=We==="e"?" ":"0",(Ue=he[We])&&(We=Ue(ge,Fe)),ue.push(We),me=ke+1);return ue.push(ae.slice(me,ke)),ue.join("")}}function k(ae,he){return function(ge){var ue=Fd(1900,void 0,1),ke=E(ue,ae,ge+="",0),me,Q;if(ke!=ge.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(he&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(me=wx(Fd(ue.y,0,1)),Q=me.getUTCDay(),me=Q>4||Q===0?Pm.ceil(me):Pm(me),me=Yg.offset(me,(ue.V-1)*7),ue.y=me.getUTCFullYear(),ue.m=me.getUTCMonth(),ue.d=me.getUTCDate()+(ue.w+6)%7):(me=xx(Fd(ue.y,0,1)),Q=me.getDay(),me=Q>4||Q===0?Am.ceil(me):Am(me),me=vh.offset(me,(ue.V-1)*7),ue.y=me.getFullYear(),ue.m=me.getMonth(),ue.d=me.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Q="Z"in ue?wx(Fd(ue.y,0,1)).getUTCDay():xx(Fd(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Q+5)%7:ue.w+ue.U*7-(Q+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,wx(ue)):xx(ue)}}function E(ae,he,ge,ue){for(var ke=0,me=he.length,Q=ge.length,We,Fe;ke<me;){if(ue>=Q)return-1;if(We=he.charCodeAt(ke++),We===37){if(We=he.charAt(ke++),Fe=j[We in S3?he.charAt(ke++):We],!Fe||(ue=Fe(ae,ge,ue))<0)return-1}else if(We!=ge.charCodeAt(ue++))return-1}return ue}function T(ae,he,ge){var ue=u.exec(he.slice(ge));return ue?(ae.p=d.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function I(ae,he,ge){var ue=h.exec(he.slice(ge));return ue?(ae.w=g.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function A(ae,he,ge){var ue=f.exec(he.slice(ge));return ue?(ae.w=p.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function L(ae,he,ge){var ue=b.exec(he.slice(ge));return ue?(ae.m=_.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function D(ae,he,ge){var ue=m.exec(he.slice(ge));return ue?(ae.m=v.get(ue[0].toLowerCase()),ge+ue[0].length):-1}function F(ae,he,ge){return E(ae,e,he,ge)}function X(ae,he,ge){return E(ae,r,he,ge)}function Y(ae,he,ge){return E(ae,n,he,ge)}function V(ae){return o[ae.getDay()]}function $(ae){return a[ae.getDay()]}function ie(ae){return l[ae.getMonth()]}function re(ae){return s[ae.getMonth()]}function se(ae){return i[+(ae.getHours()>=12)]}function M(ae){return 1+~~(ae.getMonth()/3)}function U(ae){return o[ae.getUTCDay()]}function z(ae){return a[ae.getUTCDay()]}function Z(ae){return l[ae.getUTCMonth()]}function le(ae){return s[ae.getUTCMonth()]}function oe(ae){return i[+(ae.getUTCHours()>=12)]}function de(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var he=C(ae+="",w);return he.toString=function(){return ae},he},parse:function(ae){var he=k(ae+="",!1);return he.toString=function(){return ae},he},utcFormat:function(ae){var he=C(ae+="",S);return he.toString=function(){return ae},he},utcParse:function(ae){var he=k(ae+="",!0);return he.toString=function(){return ae},he}}}var S3={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,Ute=/^%/,zte=/[\\^$*+?|[\]().{}]/g;function Zt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Wte(t){return t.replace(zte,"\\$&")}function Bd(t){return new RegExp("^(?:"+t.map(Wte).join("|")+")","i")}function qd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Hte(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Vte(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Gte(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Yte(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Kte(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function j3(t,e,r){var n=Nn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function N3(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Xte(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Jte(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Zte(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function A3(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Qte(t,e,r){var n=Nn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function P3(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ere(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function tre(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function rre(t,e,r){var n=Nn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function nre(t,e,r){var n=Nn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ire(t,e,r){var n=Ute.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function are(t,e,r){var n=Nn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ore(t,e,r){var n=Nn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function k3(t,e){return Zt(t.getDate(),e,2)}function sre(t,e){return Zt(t.getHours(),e,2)}function lre(t,e){return Zt(t.getHours()%12||12,e,2)}function cre(t,e){return Zt(1+vh.count($o(t),t),e,3)}function xR(t,e){return Zt(t.getMilliseconds(),e,3)}function ure(t,e){return xR(t,e)+"000"}function dre(t,e){return Zt(t.getMonth()+1,e,2)}function fre(t,e){return Zt(t.getMinutes(),e,2)}function hre(t,e){return Zt(t.getSeconds(),e,2)}function pre(t){var e=t.getDay();return e===0?7:e}function mre(t,e){return Zt(Kg.count($o(t)-1,t),e,2)}function wR(t){var e=t.getDay();return e>=4||e===0?vu(t):vu.ceil(t)}function gre(t,e){return t=wR(t),Zt(vu.count($o(t),t)+($o(t).getDay()===4),e,2)}function vre(t){return t.getDay()}function yre(t,e){return Zt(Am.count($o(t)-1,t),e,2)}function bre(t,e){return Zt(t.getFullYear()%100,e,2)}function xre(t,e){return t=wR(t),Zt(t.getFullYear()%100,e,2)}function wre(t,e){return Zt(t.getFullYear()%1e4,e,4)}function _re(t,e){var r=t.getDay();return t=r>=4||r===0?vu(t):vu.ceil(t),Zt(t.getFullYear()%1e4,e,4)}function Sre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zt(e/60|0,"0",2)+Zt(e%60,"0",2)}function C3(t,e){return Zt(t.getUTCDate(),e,2)}function jre(t,e){return Zt(t.getUTCHours(),e,2)}function Nre(t,e){return Zt(t.getUTCHours()%12||12,e,2)}function Are(t,e){return Zt(1+Yg.count(Fo(t),t),e,3)}function _R(t,e){return Zt(t.getUTCMilliseconds(),e,3)}function Pre(t,e){return _R(t,e)+"000"}function kre(t,e){return Zt(t.getUTCMonth()+1,e,2)}function Cre(t,e){return Zt(t.getUTCMinutes(),e,2)}function Ore(t,e){return Zt(t.getUTCSeconds(),e,2)}function Ere(t){var e=t.getUTCDay();return e===0?7:e}function Tre(t,e){return Zt(Xg.count(Fo(t)-1,t),e,2)}function SR(t){var e=t.getUTCDay();return e>=4||e===0?yu(t):yu.ceil(t)}function Ire(t,e){return t=SR(t),Zt(yu.count(Fo(t),t)+(Fo(t).getUTCDay()===4),e,2)}function Lre(t){return t.getUTCDay()}function Rre(t,e){return Zt(Pm.count(Fo(t)-1,t),e,2)}function Mre(t,e){return Zt(t.getUTCFullYear()%100,e,2)}function Dre(t,e){return t=SR(t),Zt(t.getUTCFullYear()%100,e,2)}function $re(t,e){return Zt(t.getUTCFullYear()%1e4,e,4)}function Fre(t,e){var r=t.getUTCDay();return t=r>=4||r===0?yu(t):yu.ceil(t),Zt(t.getUTCFullYear()%1e4,e,4)}function Bre(){return"+0000"}function O3(){return"%"}function E3(t){return+t}function T3(t){return Math.floor(+t/1e3)}var Lc,jR,NR;qre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qre(t){return Lc=qte(t),jR=Lc.format,Lc.parse,NR=Lc.utcFormat,Lc.utcParse,Lc}function Ure(t){return new Date(t)}function zre(t){return t instanceof Date?+t:+new Date(+t)}function aS(t,e,r,n,i,a,o,s,l,u){var d=H_(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),_=u("%b %d"),w=u("%B"),S=u("%Y");function j(C){return(l(C)<C?h:s(C)<C?g:o(C)<C?m:a(C)<C?v:n(C)<C?i(C)<C?b:_:r(C)<C?w:S)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?p(Array.from(C,zre)):p().map(Ure)},d.ticks=function(C){var k=p();return t(k[0],k[k.length-1],C??10)},d.tickFormat=function(C,k){return k==null?j:u(k)},d.nice=function(C){var k=p();return(!C||typeof C.range!="function")&&(C=e(k[0],k[k.length-1],C??10)),C?p(dR(k,C)):d},d.copy=function(){return gh(d,aS(t,e,r,n,i,a,o,s,l,u))},d}function Wre(){return Vi.apply(aS(Fte,Bte,$o,nS,Kg,vh,tS,Q_,_l,jR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hre(){return Vi.apply(aS(Dte,$te,Fo,iS,Xg,Yg,rS,eS,_l,NR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jg(){var t=0,e=1,r,n,i,a,o=Zn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(Yu),u.rangeRound=d(W_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function AR(){var t=Rs(Jg()(Zn));return t.copy=function(){return Ms(t,AR())},Ho.apply(t,arguments)}function PR(){var t=Y_(Jg()).domain([1,10]);return t.copy=function(){return Ms(t,PR()).base(t.base())},Ho.apply(t,arguments)}function kR(){var t=K_(Jg());return t.copy=function(){return Ms(t,kR()).constant(t.constant())},Ho.apply(t,arguments)}function oS(){var t=X_(Jg());return t.copy=function(){return Ms(t,oS()).exponent(t.exponent())},Ho.apply(t,arguments)}function Vre(){return oS.apply(null,arguments).exponent(.5)}function CR(){var t=[],e=Zn;function r(n){if(n!=null&&!isNaN(n=+n))return e((ph(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(js),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Tee(t,a/n))},r.copy=function(){return CR(e).domain(t)},Ho.apply(r,arguments)}function Zg(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=Zn,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-a)*(n*m<n*a?s:l),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function g(m){return function(v){var b,_,w;return arguments.length?([b,_,w]=v,u=ite(m,[b,_,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(Yu),h.rangeRound=g(W_),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function OR(){var t=Rs(Zg()(Zn));return t.copy=function(){return Ms(t,OR())},Ho.apply(t,arguments)}function ER(){var t=Y_(Zg()).domain([.1,1,10]);return t.copy=function(){return Ms(t,ER()).base(t.base())},Ho.apply(t,arguments)}function TR(){var t=K_(Zg());return t.copy=function(){return Ms(t,TR()).constant(t.constant())},Ho.apply(t,arguments)}function sS(){var t=X_(Zg());return t.copy=function(){return Ms(t,sS()).exponent(t.exponent())},Ho.apply(t,arguments)}function Gre(){return sS.apply(null,arguments).exponent(.5)}const I3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nf,scaleDiverging:OR,scaleDivergingLog:ER,scaleDivergingPow:sS,scaleDivergingSqrt:Gre,scaleDivergingSymlog:TR,scaleIdentity:uR,scaleImplicit:N2,scaleLinear:jm,scaleLog:fR,scaleOrdinal:q_,scalePoint:of,scalePow:J_,scaleQuantile:mR,scaleQuantize:gR,scaleRadial:pR,scaleSequential:AR,scaleSequentialLog:PR,scaleSequentialPow:oS,scaleSequentialQuantile:CR,scaleSequentialSqrt:Vre,scaleSequentialSymlog:kR,scaleSqrt:Pte,scaleSymlog:hR,scaleThreshold:vR,scaleTime:Wre,scaleUtc:Hre,tickFormat:cR},Symbol.toStringTag,{value:"Module"}));var _x,L3;function Qg(){if(L3)return _x;L3=1;var t=Wu();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,d=s}return d}return _x=e,_x}var Sx,R3;function IR(){if(R3)return Sx;R3=1;function t(e,r){return e>r}return Sx=t,Sx}var jx,M3;function Yre(){if(M3)return jx;M3=1;var t=Qg(),e=IR(),r=Vu();function n(i){return i&&i.length?t(i,r,e):void 0}return jx=n,jx}var Kre=Yre();const ev=dr(Kre);var Nx,D3;function LR(){if(D3)return Nx;D3=1;function t(e,r){return e<r}return Nx=t,Nx}var Ax,$3;function Xre(){if($3)return Ax;$3=1;var t=Qg(),e=LR(),r=Vu();function n(i){return i&&i.length?t(i,r,e):void 0}return Ax=n,Ax}var Jre=Xre();const tv=dr(Jre);var Px,F3;function Zre(){if(F3)return Px;F3=1;var t=S_(),e=Qa(),r=qL(),n=ui();function i(a,o){var s=n(a)?t:r;return s(a,e(o,3))}return Px=i,Px}var kx,B3;function Qre(){if(B3)return kx;B3=1;var t=FL(),e=Zre();function r(n,i){return t(e(n,i),1)}return kx=r,kx}var ene=Qre();const tne=dr(ene);var Cx,q3;function rne(){if(q3)return Cx;q3=1;var t=M_();function e(r,n){return t(r,n)}return Cx=e,Cx}var nne=rne();const rv=dr(nne);var Ku=1e9,ine={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cS,Rr=!0,Hi="[DecimalError] ",kl=Hi+"Invalid argument: ",lS=Hi+"Exponent out of range: ",Xu=Math.floor,pl=Math.pow,ane=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,_n=1e7,Cr=7,RR=9007199254740991,km=Xu(RR/Cr),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Cr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(t){return Eo(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,r=e.constructor;return gr(Eo(e,new r(t),0,1),r.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return an(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Si))throw Error(Hi+"NaN");if(r.s<1)throw Error(Hi+(r.s?"NaN":"-Infinity"));return r.eq(Si)?new n(0):(Rr=!1,e=Eo(Of(r,a),Of(t,a),a),Rr=!0,gr(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$R(e,t):MR(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Hi+"NaN");return r.s?(Rr=!1,e=Eo(r,t,0,1).times(t),Rr=!0,r.minus(e)):gr(new n(r),i)};ze.naturalExponential=ze.exp=function(){return DR(this)};ze.naturalLogarithm=ze.ln=function(){return Of(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MR(e,t):$R(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kl+t);if(e=an(i)+1,n=i.d.length-1,r=n*Cr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ze.squareRoot=ze.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Hi+"NaN")}for(t=an(s),Rr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ba(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Eo(s,a,o+2)).times(.5),Ba(a.d).slice(0,o)===(e=Ba(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(gr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Rr=!0,gr(n,r)};ze.times=ze.mul=function(t){var e,r,n,i,a,o,s,l,u,d=this,f=d.constructor,p=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,u=h.length,l<u&&(a=p,p=h,h=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+h[n]*p[i-n-1]+e,a[i--]=s%_n|0,e=s/_n|0;a[i]=(a[i]+e)%_n|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Rr?gr(t,f.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ya(t,0,Ku),e===void 0?e=n.rounding:Ya(e,0,8),gr(r,t+an(r)+1,e))};ze.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Dl(n,!0):(Ya(t,0,Ku),e===void 0?e=i.rounding:Ya(e,0,8),n=gr(new i(n),t+1,e),r=Dl(n,!0,t+1)),r};ze.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Dl(i):(Ya(t,0,Ku),e===void 0?e=a.rounding:Ya(e,0,8),n=gr(new a(i),t+an(i)+1,e),r=Dl(n.abs(),!1,t+an(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return gr(new e(t),an(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Si);if(s=new l(s),!s.s){if(t.s<1)throw Error(Hi+"Infinity");return s}if(s.eq(Si))return s;if(n=l.precision,t.eq(Si))return gr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=RR){for(i=new l(Si),e=Math.ceil(n/Cr+4),Rr=!1;r%2&&(i=i.times(s),z3(i.d,e)),r=Xu(r/2),r!==0;)s=s.times(s),z3(s.d,e);return Rr=!0,t.s<0?new l(Si).div(i):gr(i,n)}}else if(a<0)throw Error(Hi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Rr=!1,i=t.times(Of(s,n+u)),Rr=!0,i=DR(i),i.s=a,i};ze.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=an(i),n=Dl(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ya(t,1,Ku),e===void 0?e=a.rounding:Ya(e,0,8),i=gr(new a(i),t,e),r=an(i),n=Dl(i,t<=r||r<=a.toExpNeg,t)),n};ze.toSignificantDigits=ze.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ya(t,1,Ku),e===void 0?e=n.rounding:Ya(e,0,8)),gr(new n(r),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),r=t.constructor;return Dl(t,e<=r.toExpNeg||e>=r.toExpPos)};function MR(t,e){var r,n,i,a,o,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rr?gr(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/Cr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/_n|0,l[a]%=_n;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Rr?gr(e,f):e}function Ya(t,e,r){if(t!==~~t||t<e||t>r)throw Error(kl+t)}function Ba(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Cr-n.length,r&&(a+=vs(r)),a+=n;o=t[e],n=o+"",r=Cr-n.length,r&&(a+=vs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Eo=(function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%_n|0,o=a/_n|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*_n+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,d,f,p,h,g,m,v,b,_,w,S,j,C,k,E,T=n.constructor,I=n.s==i.s?1:-1,A=n.d,L=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Hi+"Division by zero");for(l=n.e-i.e,k=L.length,j=A.length,h=new T(I),g=h.d=[],u=0;L[u]==(A[u]||0);)++u;if(L[u]>(A[u]||0)&&--l,a==null?_=a=T.precision:o?_=a+(an(n)-an(i))+1:_=a,_<0)return new T(0);if(_=_/Cr+2|0,u=0,k==1)for(d=0,L=L[0],_++;(u<j||d)&&_--;u++)w=d*_n+(A[u]||0),g[u]=w/L|0,d=w%L|0;else{for(d=_n/(L[0]+1)|0,d>1&&(L=t(L,d),A=t(A,d),k=L.length,j=A.length),S=k,m=A.slice(0,k),v=m.length;v<k;)m[v++]=0;E=L.slice(),E.unshift(0),C=L[0],L[1]>=_n/2&&++C;do d=0,s=e(L,m,k,v),s<0?(b=m[0],k!=v&&(b=b*_n+(m[1]||0)),d=b/C|0,d>1?(d>=_n&&(d=_n-1),f=t(L,d),p=f.length,v=m.length,s=e(f,m,p,v),s==1&&(d--,r(f,k<p?E:L,p))):(d==0&&(s=d=1),f=L.slice()),p=f.length,p<v&&f.unshift(0),r(m,f,v),s==-1&&(v=m.length,s=e(L,m,k,v),s<1&&(d++,r(m,k<v?E:L,v))),v=m.length):s===0&&(d++,m=[0]),g[u++]=d,s&&m[0]?m[v++]=A[S]||0:(m=[A[S]],v=1);while((S++<j||m[0]!==void 0)&&_--)}return g[0]||g.shift(),h.e=l,gr(h,o?a+an(h)+1:a)}})();function DR(t,e){var r,n,i,a,o,s,l=0,u=0,d=t.constructor,f=d.precision;if(an(t)>16)throw Error(lS+an(t));if(!t.s)return new d(Si);for(Rr=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(pl(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Si),d.precision=s;;){if(i=gr(i.times(t),s),r=r.times(++l),o=a.plus(Eo(i,r,s)),Ba(o.d).slice(0,s)===Ba(a.d).slice(0,s)){for(;u--;)a=gr(a.times(a),s);return d.precision=f,e==null?(Rr=!0,gr(a,f)):a}a=o}}function an(t){for(var e=t.e*Cr,r=t.d[0];r>=10;r/=10)e++;return e}function Ox(t,e,r){if(e>t.LN10.sd())throw Rr=!0,r&&(t.precision=r),Error(Hi+"LN10 precision limit exceeded");return gr(new t(t.LN10),e)}function vs(t){for(var e="";t--;)e+="0";return e}function Of(t,e){var r,n,i,a,o,s,l,u,d,f=1,p=10,h=t,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(Hi+(h.s?"NaN":"-Infinity"));if(h.eq(Si))return new m(0);if(e==null?(Rr=!1,u=v):u=e,h.eq(10))return e==null&&(Rr=!0),Ox(m,u);if(u+=p,m.precision=u,r=Ba(g),n=r.charAt(0),a=an(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Ba(h.d),n=r.charAt(0),f++;a=an(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=Ox(m,u+2,v).times(a+""),h=Of(new m(n+"."+r.slice(1)),u-p).plus(l),m.precision=v,e==null?(Rr=!0,gr(h,v)):h;for(s=o=h=Eo(h.minus(Si),h.plus(Si),u),d=gr(h.times(h),u),i=3;;){if(o=gr(o.times(d),u),l=s.plus(Eo(o,new m(i),u)),Ba(l.d).slice(0,u)===Ba(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Ox(m,u+2,v).times(a+""))),s=Eo(s,new m(f),u),m.precision=v,e==null?(Rr=!0,gr(s,v)):s;s=l,i+=2}}function U3(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Xu(r/Cr),t.d=[],n=(r+1)%Cr,r<0&&(n+=Cr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Cr;n<i;)t.d.push(+e.slice(n,n+=Cr));e=e.slice(n),n=Cr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Rr&&(t.e>km||t.e<-km))throw Error(lS+r)}else t.s=0,t.e=0,t.d=[0];return t}function gr(t,e,r){var n,i,a,o,s,l,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Cr,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Cr),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=Cr,i=n-Cr+o}if(r!==void 0&&(a=pl(10,o-i-1),s=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/pl(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=an(t),f.length=1,e=e-a-1,f[0]=pl(10,(Cr-e%Cr)%Cr),t.e=Xu(-e/Cr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=pl(10,Cr-n),f[d]=i>0?(u/pl(10,o-i)%pl(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==_n&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=_n)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Rr&&(t.e>km||t.e<-km))throw Error(lS+an(t));return t}function $R(t,e){var r,n,i,a,o,s,l,u,d,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Rr?gr(e,h):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(h/Cr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=_n-1;--l[a],l[i]+=_n}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Rr?gr(e,h):e):new p(0)}function Dl(t,e,r){var n,i=an(t),a=Ba(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+vs(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+vs(-i-1)+a,r&&(n=r-o)>0&&(a+=vs(n))):i>=o?(a+=vs(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+vs(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=vs(n))),t.s<0?"-"+a:a}function z3(t,e){if(t.length>e)return t.length=e,!0}function FR(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return U3(o,a.toString())}else if(typeof a!="string")throw Error(kl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ane.test(a))U3(o,a);else throw Error(kl+a)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FR,i.config=i.set=one,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function one(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,r,n,i=["precision",1,Ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Xu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(kl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(kl+r+": "+n);return this}var cS=FR(ine);Si=new cS(1);const hr=cS;function sne(t){return dne(t)||une(t)||cne(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(t,e){if(t){if(typeof t=="string")return C2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C2(t,e)}}function une(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dne(t){if(Array.isArray(t))return C2(t)}function C2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fne=function(e){return e},BR={},qR=function(e){return e===BR},W3=function(e){return function r(){return arguments.length===0||arguments.length===1&&qR(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},hne=function t(e,r){return e===1?r:W3(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==BR}).length;return o>=e?r.apply(void 0,i):t(e-o,W3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return qR(f)?l.shift():f});return r.apply(void 0,sne(d).concat(l))}))})},nv=function(e){return hne(e.length,e)},O2=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},pne=nv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),mne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return fne;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},E2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},UR=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function gne(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function vne(t,e,r){for(var n=new hr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var yne=nv(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),bne=nv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),xne=nv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const iv={rangeStep:vne,getDigitCount:gne,interpolateNumber:yne,uninterpolateNumber:bne,uninterpolateTruncation:xne};function T2(t){return Sne(t)||_ne(t)||zR(t)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sne(t){if(Array.isArray(t))return I2(t)}function Ef(t,e){return Ane(t)||Nne(t,e)||zR(t,e)||jne()}function jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zR(t,e){if(t){if(typeof t=="string")return I2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(t,e)}}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Ane(t){if(Array.isArray(t))return t}function WR(t){var e=Ef(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function HR(t,e,r){if(t.lte(0))return new hr(0);var n=iv.getDigitCount(t.toNumber()),i=new hr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new hr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new hr(Math.ceil(l))}function Pne(t,e,r){var n=1,i=new hr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new hr(10).pow(iv.getDigitCount(t)-1),i=new hr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new hr(Math.floor(t)))}else t===0?i=new hr(Math.floor((e-1)/2)):r||(i=new hr(Math.floor(t)));var o=Math.floor((e-1)/2),s=mne(pne(function(l){return i.add(new hr(l-o).mul(n)).toNumber()}),O2);return s(0,e)}function VR(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var a=HR(new hr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new hr(0):(o=new hr(t).add(e).div(2),o=o.sub(new hr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new hr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?VR(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new hr(s).mul(a)),tickMax:o.add(new hr(l).mul(a))})}function kne(t){var e=Ef(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=WR([r,n]),l=Ef(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(T2(O2(0,i-1).map(function(){return 1/0}))):[].concat(T2(O2(0,i-1).map(function(){return-1/0})),[d]);return r>n?E2(f):f}if(u===d)return Pne(u,i,a);var p=VR(u,d,o,a),h=p.step,g=p.tickMin,m=p.tickMax,v=iv.rangeStep(g,m.add(new hr(.1).mul(h)),h);return r>n?E2(v):v}function Cne(t,e){var r=Ef(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WR([n,i]),s=Ef(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=HR(new hr(u).sub(l).div(d-1),a,0),p=[].concat(T2(iv.rangeStep(new hr(l),new hr(u).sub(new hr(.99).mul(f)),f)),[u]);return n>i?E2(p):p}var One=UR(kne),Ene=UR(Cne),Tne="Invariant failed";function $l(t,e){throw new Error(Tne)}var Ine=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cm.apply(this,arguments)}function Lne(t,e){return $ne(t)||Dne(t,e)||Mne(t,e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return H3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H3(t,e)}}function H3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $ne(t){if(Array.isArray(t))return t}function Fne(t,e){if(t==null)return{};var r=Bne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Une(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KR(n.key),n)}}function zne(t,e,r){return e&&Une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t,e,r){return e=Om(e),Hne(t,GR()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function Hne(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(t)}function Vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L2(t,e)}function YR(t,e,r){return e=KR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KR(t){var e=Yne(t,"string");return bu(e)=="symbol"?e:e+""}function Yne(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var av=(function(t){function e(){return qne(this,e),Wne(this,e,arguments)}return Gne(e,t),zne(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=Fne(n,Ine),h=bt(p,!1);this.props.direction==="x"&&d.type!=="number"&&$l();var g=l.map(function(m){var v=u(m,s),b=v.x,_=v.y,w=v.value,S=v.errorVal;if(!S)return null;var j=[],C,k;if(Array.isArray(S)){var E=Lne(S,2);C=E[0],k=E[1]}else C=k=S;if(a==="vertical"){var T=d.scale,I=_+i,A=I+o,L=I-o,D=T(w-C),F=T(w+k);j.push({x1:F,y1:A,x2:F,y2:L}),j.push({x1:D,y1:I,x2:F,y2:I}),j.push({x1:D,y1:A,x2:D,y2:L})}else if(a==="horizontal"){var X=f.scale,Y=b+i,V=Y-o,$=Y+o,ie=X(w-C),re=X(w+k);j.push({x1:V,y1:re,x2:$,y2:re}),j.push({x1:Y,y1:ie,x2:Y,y2:re}),j.push({x1:V,y1:ie,x2:$,y2:ie})}return K.createElement(ur,Cm({className:"recharts-errorBar",key:"bar-".concat(j.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),j.map(function(se){return K.createElement("line",Cm({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return K.createElement(ur,{className:"recharts-errorBars"},g)}}])})(K.Component);YR(av,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YR(av,"displayName","ErrorBar");function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function V3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(r),!0).forEach(function(n){Kne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kne(t,e,r){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xne(t){var e=Jne(t,"string");return Tf(e)=="symbol"?e:e+""}function Jne(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XR=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=wi(r,nu);if(!o)return null;var s=nu.defaultProps,l=s!==void 0?ol(ol({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?ol(ol({},p),f.props):{},g=h.dataKey,m=h.name,v=h.legendType,b=h.hide;return{inactive:b,dataKey:g,type:l.iconType||v||"square",color:uS(f),value:m||g,payload:h}}),ol(ol(ol({},l),nu.getWithHeight(o,i)),{},{payload:u,item:o})};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function G3(t){return tie(t)||eie(t)||Qne(t)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qne(t,e){if(t){if(typeof t=="string")return R2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(t,e)}}function eie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tie(t){if(Array.isArray(t))return R2(t)}function R2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(r),!0).forEach(function(n){au(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function au(t,e,r){return e=rie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rie(t){var e=nie(t,"string");return If(e)=="symbol"?e:e+""}function nie(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fn(t,e,r){return $t(t)||$t(e)?r:vn(e)?Ai(t,e,r):St(e)?e(t):r}function sf(t,e,r,n){var i=tne(t,function(s){return Fn(s,e)});if(r==="number"){var a=i.filter(function(s){return Ie(s)||parseFloat(s)});return a.length?[tv(a),ev(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!$t(s)}):i;return o.map(function(s){return vn(s)||s instanceof Date?s:""})}var iie=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(Xn(f-d)!==Xn(p-f)){var g=[];if(Xn(p-f)===Xn(l[1]-l[0])){h=p;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{h=d;var v=p+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var _=Math.min(d,p),w=Math.max(d,p);if(e>(_+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},uS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},aie=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var g=d[f[p]],m=g.items,v=g.cateAxisId,b=m.filter(function(k){return Oo(k.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,w=_!==void 0?zr(zr({},_),b[0].props):b[0].props,S=w.barSize,j=w[v];o[j]||(o[j]=[]);var C=$t(S)?r:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:$t(C)?void 0:Jn(C,n,0)})}}return o},oie=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Jn(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=i/l,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&h>0&&(p=!0,h*=.9,g=l*h);var m=(i-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(S,j){var C={item:j.item,position:{offset:v.offset+v.size+u,size:p?h:j.barSize}},k=[].concat(G3(S),[C]);return v=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:v})}),k},f)}else{var b=Jn(n,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var _=(i-2*b-(l-1)*u)/l;_>1&&(_>>=0);var w=s===+s?Math.min(_,s):_;d=o.reduce(function(S,j,C){var k=[].concat(G3(S),[{item:j.item,position:{offset:b+(_+u)*C+(_-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},f)}return d},sie=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=XR({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,p=d.height,h=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&h!=="center"&&Ie(e[h]))return zr(zr({},e),{},au({},h,e[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&g!=="middle"&&Ie(e[g]))return zr(zr({},e),{},au({},g,e[g]+(p||0)))}return e},lie=function(e,r,n){return $t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},JR=function(e,r,n,i,a){var o=r.props.children,s=zi(o,av).filter(function(u){return lie(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Fn(d,n);if($t(f))return u;var p=Array.isArray(f)?[tv(f),ev(f)]:[f,f],h=l.reduce(function(g,m){var v=Fn(d,m,0),b=p[0]-Math.abs(Array.isArray(v)?v[0]:v),_=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},cie=function(e,r,n,i,a){var o=r.map(function(s){return JR(e,s,n,a,i)}).filter(function(s){return!$t(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},ZR=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&JR(e,l,u,i)||sf(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},QR=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},eM=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Po=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Xn(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return d.filter(function(f){return!dh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:a?a[f]:f,index:p,offset:u}})},Ex=new WeakMap,Ep=function(e,r){if(typeof r!="function")return e;Ex.has(e)||Ex.set(e,new WeakMap);var n=Ex.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},tM=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Nf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:jm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:of(),realScaleType:"point"}:a==="category"?{scale:Nf(),realScaleType:"band"}:{scale:jm(),realScaleType:"linear"};if(Ll(i)){var l="scale".concat(Fg(i));return{scale:(I3[l]||of)(),realScaleType:I3[l]?l:"point"}}return St(i)?{scale:i}:{scale:of(),realScaleType:"point"}},K3=1e-4,rM=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-K3,o=Math.max(i[0],i[1])+K3,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},uie=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},die=function(e,r){if(!r||r.length!==2||!Ie(r[0])||!Ie(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ie(e[0])||e[0]<n)&&(a[0]=n),(!Ie(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},fie=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=dh(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},hie=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=dh(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},pie={sign:fie,expand:tJ,none:du,silhouette:rJ,wiggle:nJ,positive:hie},mie=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=pie[n],o=eJ().keys(i).value(function(s,l){return+Fn(s,l,0)}).order(d2).offset(a);return o(e)},gie=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,p){var h,g=(h=p.type)!==null&&h!==void 0&&h.defaultProps?zr(zr({},p.type.defaultProps),p.props):p.props,m=g.stackId,v=g.hide;if(v)return f;var b=g[n],_=f[b]||{hasStack:!1,stackGroups:{}};if(vn(m)){var w=_.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(p),_.hasStack=!0,_.stackGroups[m]=w}else _.stackGroups[fh("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return zr(zr({},f),{},au({},b,_))},l),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,v){var b=h.stackGroups[v];return zr(zr({},m),{},au({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:mie(e,b.items,a)}))},g)}return zr(zr({},f),{},au({},p,h))},d)},nM=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=One(u,a,s);return e.domain([tv(d),ev(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),p=Ene(f,a,s);return{niceTicks:p}}return null},X3=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Fn(o,r.dataKey,r.domain[s]);return $t(l)?null:r.scale(l)-a/2+i},vie=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},yie=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(vn(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},bie=function(e){return e.reduce(function(r,n){return[tv(n.concat([r[0]]).filter(Ie)),ev(n.concat([r[1]]).filter(Ie))]},[1/0,-1/0])},iM=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,d){var f=bie(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},J3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M2=function(e,r,n){if(St(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ie(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(J3.test(e[0])){var a=+J3.exec(e[0])[1];i[0]=r[0]-a}else St(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ie(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(Z3.test(e[1])){var o=+Z3.exec(e[1])[1];i[1]=r[1]+o}else St(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Em=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=$_(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Q3=function(e,r,n){return!e||!e.length||rv(e,Ai(n,"type.defaultProps.domain"))?r:e},aM=function(e,r){var n=e.type.defaultProps?zr(zr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return zr(zr({},bt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:uS(e),value:Fn(r,i),type:l,payload:r,chartType:u,hide:d})};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){oM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oM(t,e,r){return e=xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xie(t){var e=wie(t,"string");return Lf(e)=="symbol"?e:e+""}function wie(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ie(t,e){return Aie(t)||Nie(t,e)||jie(t,e)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(t,e){if(t){if(typeof t=="string")return tO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Aie(t){if(Array.isArray(t))return t}var Tm=Math.PI/180,Pie=function(e){return e*180/Math.PI},Nr=function(e,r,n,i){return{x:e+Math.cos(-Tm*i)*n,y:r+Math.sin(-Tm*i)*n}},sM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kie=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=Jn(e.cx,o,o/2),f=Jn(e.cy,s,s/2),p=sM(o,s,n),h=Jn(e.innerRadius,p,0),g=Jn(e.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(v,b){var _=r[b],w=_.domain,S=_.reversed,j;if($t(_.range))i==="angleAxis"?j=[l,u]:i==="radiusAxis"&&(j=[h,g]),S&&(j=[j[1],j[0]]);else{j=_.range;var C=j,k=_ie(C,2);l=k[0],u=k[1]}var E=tM(_,a),T=E.realScaleType,I=E.scale;I.domain(w).range(j),rM(I);var A=nM(I,_o(_o({},_),{},{realScaleType:T})),L=_o(_o(_o({},_),A),{},{range:j,radius:g,realScaleType:T,scale:I,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:l,endAngle:u});return _o(_o({},v),{},oM({},b,L))},{})},Cie=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Oie=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Cie({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Pie(u),angleInRadian:u}},Eie=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Tie=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},rO=function(e,r){var n=e.x,i=e.y,a=Oie({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=Eie(r),f=d.startAngle,p=d.endAngle,h=s,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?_o(_o({},r),{},{radius:o,angle:Tie(h,r)}):null},lM=function(e){return!N.isValidElement(e)&&!St(e)&&typeof e!="boolean"?e.className:""};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var Iie=["offset"];function Lie(t){return $ie(t)||Die(t)||Mie(t)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mie(t,e){if(t){if(typeof t=="string")return D2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D2(t,e)}}function Die(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ie(t){if(Array.isArray(t))return D2(t)}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fie(t,e){if(t==null)return{};var r=Bie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){qie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qie(t,e,r){return e=Uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uie(t){var e=zie(t,"string");return Rf(e)=="symbol"?e:e+""}function zie(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mf.apply(this,arguments)}var Wie=function(e){var r=e.value,n=e.formatter,i=$t(e.children)?r:e.children;return St(n)?n(i):i},Hie=function(e,r){var n=Xn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Vie=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+p)/2,b=Hie(h,g),_=b>=0?1:-1,w,S;i==="insideStart"?(w=h+_*o,S=m):i==="insideEnd"?(w=g-_*o,S=!m):i==="end"&&(w=g+_*o,S=m),S=b<=0?S:!S;var j=Nr(u,d,v,w),C=Nr(u,d,v,w+(S?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),E=$t(e.id)?fh("recharts-radial-line-"):e.id;return K.createElement("text",Mf({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",s)}),K.createElement("defs",null,K.createElement("path",{id:E,d:k})),K.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Gie=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,p=(d+f)/2;if(i==="outside"){var h=Nr(o,s,u+n,p),g=h.x,m=h.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,b=Nr(o,s,v,p),_=b.x,w=b.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Yie=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*i,h=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*i,b=m>0?"end":"start",_=m>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return pn(pn({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+d+p,textAnchor:"middle",verticalAnchor:g};return pn(pn({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var j={x:s-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return pn(pn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:s+u+v,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return pn(pn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?pn({x:s+v,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},k):a==="insideRight"?pn({x:s+u-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideTop"?pn({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:g},k):a==="insideBottom"?pn({x:s+u/2,y:l+d-p,textAnchor:"middle",verticalAnchor:h},k):a==="insideTopLeft"?pn({x:s+v,y:l+p,textAnchor:_,verticalAnchor:g},k):a==="insideTopRight"?pn({x:s+u-v,y:l+p,textAnchor:b,verticalAnchor:g},k):a==="insideBottomLeft"?pn({x:s+v,y:l+d-p,textAnchor:_,verticalAnchor:h},k):a==="insideBottomRight"?pn({x:s+u-v,y:l+d-p,textAnchor:b,verticalAnchor:h},k):Hu(a)&&(Ie(a.x)||xl(a.x))&&(Ie(a.y)||xl(a.y))?pn({x:s+Jn(a.x,u),y:l+Jn(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):pn({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Kie=function(e){return"cx"in e&&Ie(e.cx)};function jn(t){var e=t.offset,r=e===void 0?5:e,n=Fie(t,Iie),i=pn({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,p=i.textBreakAll;if(!a||$t(s)&&$t(l)&&!N.isValidElement(u)&&!St(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var h;if(St(u)){if(h=N.createElement(u,i),N.isValidElement(h))return h}else h=Wie(i);var g=Kie(a),m=bt(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Vie(i,h,m);var v=g?Gie(i):Yie(i);return K.createElement(Ml,Mf({className:It("recharts-label",f)},m,v,{breakAll:p}),h)}jn.displayName="Label";var cM=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,h=e.top,g=e.left,m=e.width,v=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(Ie(m)&&Ie(v)){if(Ie(f)&&Ie(p))return{x:f,y:p,width:m,height:v};if(Ie(h)&&Ie(g))return{x:h,y:g,width:m,height:v}}return Ie(f)&&Ie(p)?{x:f,y:p,width:0,height:0}:Ie(r)&&Ie(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Xie=function(e,r){return e?e===!0?K.createElement(jn,{key:"label-implicit",viewBox:r}):vn(e)?K.createElement(jn,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===jn?N.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(jn,{key:"label-implicit",content:e,viewBox:r}):St(e)?K.createElement(jn,{key:"label-implicit",content:e,viewBox:r}):Hu(e)?K.createElement(jn,Mf({viewBox:r},e,{key:"label-implicit"})):null:null},Jie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=cM(e),o=zi(i,jn).map(function(l,u){return N.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=Xie(e.label,r||a);return[s].concat(Lie(o))};jn.parseViewBox=cM;jn.renderCallByParent=Jie;var Tx,iO;function Zie(){if(iO)return Tx;iO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Tx=t,Tx}var Qie=Zie();const eae=dr(Qie);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var tae=["valueAccessor"],rae=["data","dataKey","clockWise","id","textBreakAll"];function nae(t){return sae(t)||oae(t)||aae(t)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(t,e){if(t){if(typeof t=="string")return $2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $2(t,e)}}function oae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sae(t){if(Array.isArray(t))return $2(t)}function $2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){lae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lae(t,e,r){return e=cae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cae(t){var e=uae(t,"string");return Df(e)=="symbol"?e:e+""}function uae(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sO(t,e){if(t==null)return{};var r=dae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fae=function(e){return Array.isArray(e.value)?eae(e.value):e.value};function Ns(t){var e=t.valueAccessor,r=e===void 0?fae:e,n=sO(t,tae),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=sO(n,rae);return!i||!i.length?null:K.createElement(ur,{className:"recharts-label-list"},i.map(function(d,f){var p=$t(a)?r(d,f):Fn(d&&d.payload,a),h=$t(s)?{}:{id:"".concat(s,"-").concat(f)};return K.createElement(jn,Im({},bt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:jn.parseViewBox($t(o)?d:oO(oO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ns.displayName="LabelList";function hae(t,e){return t?t===!0?K.createElement(Ns,{key:"labelList-implicit",data:e}):K.isValidElement(t)||St(t)?K.createElement(Ns,{key:"labelList-implicit",data:e,content:t}):Hu(t)?K.createElement(Ns,Im({data:e},t,{key:"labelList-implicit"})):null:null}function pae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=zi(n,Ns).map(function(o,s){return N.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=hae(t.label,e);return[a].concat(nae(i))}Ns.renderCallByParent=pae;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F2.apply(this,arguments)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mae(t,e,r){return e=gae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gae(t){var e=vae(t,"string");return $f(e)=="symbol"?e:e+""}function vae(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yae=function(e,r){var n=Xn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Tp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/Tm,p=u?a:a+o*f,h=Nr(r,n,d,p),g=Nr(r,n,i,p),m=u?a-o*f:a,v=Nr(r,n,d*Math.cos(f*Tm),m);return{center:h,circleTangency:g,lineTangency:v,theta:f}},uM=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=yae(o,s),u=o+l,d=Nr(r,n,a,o),f=Nr(r,n,a,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Nr(r,n,i,o),g=Nr(r,n,i,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},bae=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Xn(d-u),p=Tp({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,g=p.lineTangency,m=p.theta,v=Tp({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=v.circleTangency,_=v.lineTangency,w=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-m-w;if(S<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):uM({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var C=Tp({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=C.circleTangency,E=C.lineTangency,T=C.theta,I=Tp({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=I.circleTangency,L=I.lineTangency,D=I.theta,F=l?Math.abs(u-d):Math.abs(u-d)-T-D;if(F<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},xae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dM=function(e){var r=cO(cO({},xae),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<a||d===f)return null;var h=It("recharts-sector",p),g=o-a,m=Jn(s,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=bae({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=uM({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),K.createElement("path",F2({},bt(r,!0),{className:h,d:v,role:"img"}))};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B2.apply(this,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=Sae(t,"string");return Ff(e)=="symbol"?e:e+""}function Sae(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fO={curveBasisClosed:zX,curveBasisOpen:WX,curveBasis:UX,curveBumpX:kX,curveBumpY:CX,curveLinearClosed:HX,curveLinear:qg,curveMonotoneX:VX,curveMonotoneY:GX,curveNatural:YX,curveStep:KX,curveStepAfter:JX,curveStepBefore:XX},Ip=function(e){return e.x===+e.x&&e.y===+e.y},Ud=function(e){return e.x},zd=function(e){return e.y},jae=function(e,r){if(St(e))return e;var n="curve".concat(Fg(e));return(n==="curveMonotone"||n==="curveBump")&&r?fO["".concat(n).concat(r==="vertical"?"Y":"X")]:fO[n]||qg},Nae=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=jae(n,s),f=u?a.filter(function(m){return Ip(m)}):a,p;if(Array.isArray(o)){var h=u?o.filter(function(m){return Ip(m)}):o,g=f.map(function(m,v){return dO(dO({},m),{},{base:h[v]})});return s==="vertical"?p=jp().y(zd).x1(Ud).x0(function(m){return m.base.x}):p=jp().x(Ud).y1(zd).y0(function(m){return m.base.y}),p.defined(Ip).curve(d),p(g)}return s==="vertical"&&Ie(o)?p=jp().y(zd).x1(Ud).x0(o):Ie(o)?p=jp().x(Ud).y1(zd).y0(o):p=lL().x(Ud).y(zd),p.defined(Ip).curve(d),p(f)},q2=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Nae(e):i;return N.createElement("path",B2({},bt(e,!1),sm(e),{className:It("recharts-curve",r),d:o,ref:a}))},Ix={exports:{}},Lx,hO;function Aae(){if(hO)return Lx;hO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Lx=t,Lx}var Rx,pO;function Pae(){if(pO)return Rx;pO=1;var t=Aae();function e(){}function r(){}return r.resetWarningCache=e,Rx=function(){function n(o,s,l,u,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Rx}var mO;function kae(){return mO||(mO=1,Ix.exports=Pae()()),Ix.exports}var Cae=kae();const ir=dr(Cae);var Oae=Object.getOwnPropertyNames,Eae=Object.getOwnPropertySymbols,Tae=Object.prototype.hasOwnProperty;function gO(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Lp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function vO(t){return Oae(t).concat(Eae(t))}var Iae=Object.hasOwn||(function(t,e){return Tae.call(t,e)});function Jl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Lae="__v",Rae="__o",Mae="_owner",yO=Object.getOwnPropertyDescriptor,bO=Object.keys;function Dae(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function $ae(t,e){return Jl(t.getTime(),e.getTime())}function Fae(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Bae(t,e){return t===e}function xO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],l,f,t,e,r)&&r.equals(p[1],h[1],p[0],h[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var qae=Jl;function Uae(t,e,r){var n=bO(t),i=n.length;if(bO(e).length!==i)return!1;for(;i-- >0;)if(!fM(t,e,r,n[i]))return!1;return!0}function Wd(t,e,r){var n=vO(t),i=n.length;if(vO(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!fM(t,e,r,a)||(o=yO(t,a),s=yO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function zae(t,e){return Jl(t.valueOf(),e.valueOf())}function Wae(t,e){return t.source===e.source&&t.flags===e.flags}function wO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Hae(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Vae(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function fM(t,e,r,n){return(n===Mae||n===Rae||n===Lae)&&(t.$$typeof||e.$$typeof)?!0:Iae(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Gae="[object Arguments]",Yae="[object Boolean]",Kae="[object Date]",Xae="[object Error]",Jae="[object Map]",Zae="[object Number]",Qae="[object Object]",eoe="[object RegExp]",toe="[object Set]",roe="[object String]",noe="[object URL]",ioe=Array.isArray,_O=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SO=Object.assign,aoe=Object.prototype.toString.call.bind(Object.prototype.toString);function ooe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(g,m,v):b==="function"?i(g,m,v):!1;var _=g.constructor;if(_!==m.constructor)return!1;if(_===Object)return s(g,m,v);if(ioe(g))return e(g,m,v);if(_O!=null&&_O(g))return f(g,m,v);if(_===Date)return r(g,m,v);if(_===RegExp)return u(g,m,v);if(_===Map)return a(g,m,v);if(_===Set)return d(g,m,v);var w=aoe(g);return w===Kae?r(g,m,v):w===eoe?u(g,m,v):w===Jae?a(g,m,v):w===toe?d(g,m,v):w===Qae?typeof g.then!="function"&&typeof m.then!="function"&&s(g,m,v):w===noe?p(g,m,v):w===Xae?n(g,m,v):w===Gae?s(g,m,v):w===Yae||w===Zae||w===roe?l(g,m,v):!1}}function soe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Wd:Dae,areDatesEqual:$ae,areErrorsEqual:Fae,areFunctionsEqual:Bae,areMapsEqual:n?gO(xO,Wd):xO,areNumbersEqual:qae,areObjectsEqual:n?Wd:Uae,arePrimitiveWrappersEqual:zae,areRegExpsEqual:Wae,areSetsEqual:n?gO(wO,Wd):wO,areTypedArraysEqual:n?Wd:Hae,areUrlsEqual:Vae};if(r&&(i=SO({},i,r(i))),e){var a=Lp(i.areArraysEqual),o=Lp(i.areMapsEqual),s=Lp(i.areObjectsEqual),l=Lp(i.areSetsEqual);i=SO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function loe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function coe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(l,u,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var uoe=Ds();Ds({strict:!0});Ds({circular:!0});Ds({circular:!0,strict:!0});Ds({createInternalComparator:function(){return Jl}});Ds({strict:!0,createInternalComparator:function(){return Jl}});Ds({circular:!0,createInternalComparator:function(){return Jl}});Ds({circular:!0,createInternalComparator:function(){return Jl},strict:!0});function Ds(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=soe(t),l=ooe(s),u=n?n(l):loe(l);return coe({circular:r,comparator:l,createState:i,equals:u,strict:o})}function doe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):doe(i)};requestAnimationFrame(n)}function U2(t){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}function foe(t){return goe(t)||moe(t)||poe(t)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(t,e){if(t){if(typeof t=="string")return NO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(t,e)}}function NO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function goe(t){if(Array.isArray(t))return t}function voe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=foe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){jO(i.bind(null,u),l);return}i(l),jO(i.bind(null,u));return}U2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){hM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hM(t,e,r){return e=yoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yoe(t){var e=boe(t,"string");return Bf(e)==="symbol"?e:String(e)}function boe(t,e){if(Bf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xoe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},woe=function(e){return e},_oe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lf=function(e,r){return Object.keys(r).reduce(function(n,i){return PO(PO({},n),{},hM({},i,e(i,r[i])))},{})},kO=function(e,r,n){return e.map(function(i){return"".concat(_oe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Soe(t,e){return Aoe(t)||Noe(t,e)||pM(t,e)||joe()}function joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Aoe(t){if(Array.isArray(t))return t}function Poe(t){return Ooe(t)||Coe(t)||pM(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(t,e){if(t){if(typeof t=="string")return z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z2(t,e)}}function Coe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ooe(t){if(Array.isArray(t))return z2(t)}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lm=1e-4,mM=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},gM=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},CO=function(e,r){return function(n){var i=mM(e,r);return gM(i,n)}},Eoe=function(e,r){return function(n){var i=mM(e,r),a=[].concat(Poe(i.map(function(o,s){return o*s}).slice(1)),[0]);return gM(a,n)}},OO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Soe(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=CO(i,o),p=CO(a,s),h=Eoe(i,o),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var _=b>1?1:b,w=_,S=0;S<8;++S){var j=f(w)-_,C=h(w);if(Math.abs(j-_)<Lm||C<Lm)return p(w);w=g(w-j/C)}return p(w)};return m.isStepper=!1,m},Toe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,f,p){var h=-(d-f)*n,g=p*a,m=p+(h-g)*s/1e3,v=p*s/1e3+d;return Math.abs(v-f)<Lm&&Math.abs(m)<Lm?[f,0]:[v,m]};return l.isStepper=!0,l.dt=s,l},Ioe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OO(i);case"spring":return Toe();default:if(i.split("(")[0]==="cubic-bezier")return OO(i)}return typeof i=="function"?i:null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function EO(t){return Moe(t)||Roe(t)||vM(t)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Roe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Moe(t){if(Array.isArray(t))return H2(t)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){W2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W2(t,e,r){return e=Doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Doe(t){var e=$oe(t,"string");return qf(e)==="symbol"?e:String(e)}function $oe(t,e){if(qf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t,e){return Uoe(t)||qoe(t,e)||vM(t,e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vM(t,e){if(t){if(typeof t=="string")return H2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(t,e)}}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uoe(t){if(Array.isArray(t))return t}var Rm=function(e,r,n){return e+(r-e)*n},V2=function(e){var r=e.from,n=e.to;return r!==n},zoe=function t(e,r,n){var i=lf(function(a,o){if(V2(o)){var s=e(o.from,o.to,o.velocity),l=Foe(s,2),u=l[0],d=l[1];return On(On({},o),{},{from:u,velocity:d})}return o},r);return n<1?lf(function(a,o){return V2(o)?On(On({},o),{},{velocity:Rm(o.velocity,i[a].velocity,n),from:Rm(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Woe=(function(t,e,r,n,i){var a=xoe(t,e),o=a.reduce(function(v,b){return On(On({},v),{},W2({},b,[t[b],e[b]]))},{}),s=a.reduce(function(v,b){return On(On({},v),{},W2({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,d,f=function(){return null},p=function(){return lf(function(b,_){return _.from},s)},h=function(){return!Object.values(s).filter(V2).length},g=function(b){u||(u=b);var _=b-u,w=_/r.dt;s=zoe(r,s,w),i(On(On(On({},t),e),p())),u=b,h()||(l=requestAnimationFrame(f))},m=function(b){d||(d=b);var _=(b-d)/n,w=lf(function(j,C){return Rm.apply(void 0,EO(C).concat([r(_)]))},o);if(i(On(On(On({},t),e),w)),_<1)l=requestAnimationFrame(f);else{var S=lf(function(j,C){return Rm.apply(void 0,EO(C).concat([r(1)]))},o);i(On(On(On({},t),e),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}var Hoe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Voe(t,e){if(t==null)return{};var r=Goe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Goe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Mx(t){return Joe(t)||Xoe(t)||Koe(t)||Yoe()}function Yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function Xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Joe(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){Jd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jd(t,e,r){return e=yM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yM(n.key),n)}}function ese(t,e,r){return e&&Qoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yM(t){var e=tse(t,"string");return xu(e)==="symbol"?e:String(e)}function tse(t,e){if(xu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y2(t,e)}function nse(t){var e=ise();return function(){var n=Mm(t),i;if(e){var a=Mm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return K2(this,i)}}function K2(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X2(t)}function X2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ise(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(t)}var Bo=(function(t){rse(r,t);var e=nse(r);function r(n,i){var a;Zoe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(X2(a)),a.changeStyle=a.changeStyle.bind(X2(a)),!s||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:d}),K2(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof p=="function")return a.state={style:u},K2(a);a.state={style:l?Jd({},l,u):u}}else a.state={style:{}};return a}return ese(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,p=this.state.style;if(s){if(!o){var h={style:l?Jd({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(h);return}if(!(uoe(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:i.to;if(this.state&&p){var v={style:l?Jd({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(v)}this.runAnimation(na(na({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=Woe(o,s,Ioe(u),l,this.changeStyle),g=function(){a.stopJSAnimation=h()};this.manager.start([p,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,v,b){if(b===0)return m;var _=v.duration,w=v.easing,S=w===void 0?"ease":w,j=v.style,C=v.properties,k=v.onAnimationEnd,E=b>0?o[b-1]:v,T=C||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(Mx(m),[a.runJSAnimation.bind(a,{from:E.style,to:j,duration:_,easing:S}),_]);var I=kO(T,_,S),A=na(na(na({},E.style),j),{},{transition:I});return[].concat(Mx(m),[A,_,k]).filter(woe)};return this.manager.start([l].concat(Mx(o.reduce(h,[d,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=voe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=s?Jd({},s,l):l,v=kO(Object.keys(m),o,u);g.start([d,a,na(na({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Voe(i,Hoe),u=N.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(h){var g=h.props,m=g.style,v=m===void 0?{}:m,b=g.className,_=N.cloneElement(h,na(na({},l),{},{style:na(na({},v),d),className:b}));return _};return u===1?f(N.Children.only(a)):K.createElement("div",null,N.Children.map(a,function(p){return f(p)}))}}]),r})(N.PureComponent);Bo.displayName="Animate";Bo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bo.propTypes={from:ir.oneOfType([ir.object,ir.string]),to:ir.oneOfType([ir.object,ir.string]),attributeName:ir.string,duration:ir.number,begin:ir.number,easing:ir.oneOfType([ir.string,ir.func]),steps:ir.arrayOf(ir.shape({duration:ir.number.isRequired,style:ir.object.isRequired,easing:ir.oneOfType([ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ir.func]),properties:ir.arrayOf("string"),onAnimationEnd:ir.func})),children:ir.oneOfType([ir.node,ir.func]),isActive:ir.bool,canBegin:ir.bool,onAnimationEnd:ir.func,shouldReAnimate:ir.bool,onAnimationStart:ir.func,onAnimationReStart:ir.func};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}function ase(t,e){return cse(t)||lse(t,e)||sse(t,e)||ose()}function ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sse(t,e){if(t){if(typeof t=="string")return LO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cse(t){if(Array.isArray(t))return t}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){use(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function use(t,e,r){return e=dse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dse(t){var e=fse(t,"string");return Uf(e)=="symbol"?e:e+""}function fse(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DO=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>o?o:a[p];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(e,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*g,`
            L `).concat(e+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},hse=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return n>=u&&n<=d&&i>=f&&i<=p}return!1},pse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dS=function(e){var r=MO(MO({},pse),e),n=N.useRef(),i=N.useState(-1),a=ase(i,2),o=a[0],s=a[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=It("recharts-rectangle",h);return _?K.createElement(Bo,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:_},function(S){var j=S.width,C=S.height,k=S.x,E=S.y;return K.createElement(Bo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},K.createElement("path",Dm({},bt(r,!0),{className:w,d:DO(k,E,j,C,p),ref:n})))}):K.createElement("path",Dm({},bt(r,!0),{className:w,d:DO(l,u,d,f,p)}))},mse=["points","className","baseLinePoints","connectNulls"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gc.apply(this,arguments)}function gse(t,e){if(t==null)return{};var r=vse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $O(t){return wse(t)||xse(t)||bse(t)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return J2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(t,e)}}function xse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wse(t){if(Array.isArray(t))return J2(t)}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FO=function(e){return e&&e.x===+e.x&&e.y===+e.y},_se=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){FO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),FO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cf=function(e,r){var n=_se(e);r&&(n=[n.reduce(function(a,o){return[].concat($O(a),$O(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Sse=function(e,r,n){var i=cf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cf(r.reverse(),n).slice(1))},jse=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=gse(e,mse);if(!r||!r.length)return null;var s=It("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Sse(r,i,a);return K.createElement("g",{className:s},K.createElement("path",Gc({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?K.createElement("path",Gc({},bt(o,!0),{fill:"none",d:cf(r,a)})):null,l?K.createElement("path",Gc({},bt(o,!0),{fill:"none",d:cf(i,a)})):null)}var d=cf(r,a);return K.createElement("path",Gc({},bt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z2.apply(this,arguments)}var fS=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=It("recharts-dot",a);return r===+r&&n===+n&&i===+i?N.createElement("circle",Z2({},bt(e,!1),sm(e),{className:o,cx:r,cy:n,r:i})):null};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}var Nse=["x","y","top","left","width","height","className"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ase(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){Pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pse(t,e,r){return e=kse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kse(t){var e=Cse(t,"string");return zf(e)=="symbol"?e:e+""}function Cse(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e){if(t==null)return{};var r=Ese(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ese(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tse=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Ise=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,p=e.height,h=p===void 0?0:p,g=e.className,m=Ose(e,Nse),v=Ase({x:n,y:a,top:s,left:u,width:f,height:h},m);return!Ie(n)||!Ie(a)||!Ie(f)||!Ie(h)||!Ie(s)||!Ie(u)?null:K.createElement("path",Q2({},bt(v,!0),{className:It("recharts-cross",g),d:Tse(n,a,f,h,s,u)}))},Dx,qO;function Lse(){if(qO)return Dx;qO=1;var t=Qg(),e=IR(),r=Qa();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return Dx=n,Dx}var Rse=Lse();const Mse=dr(Rse);var $x,UO;function Dse(){if(UO)return $x;UO=1;var t=Qg(),e=Qa(),r=LR();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return $x=n,$x}var $se=Dse();const Fse=dr($se);var Bse=["cx","cy","angle","ticks","axisLine"],qse=["ticks","tick","angle","tickFormatter","stroke"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uf.apply(this,arguments)}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){ov(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WO(t,e){if(t==null)return{};var r=Use(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Use(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xM(n.key),n)}}function Wse(t,e,r){return e&&HO(t.prototype,e),r&&HO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hse(t,e,r){return e=$m(e),Vse(t,bM()?Reflect.construct(e,r||[],$m(t).constructor):e.apply(t,r))}function Vse(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gse(t)}function Gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bM=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e5(t,e)}function ov(t,e,r){return e=xM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xM(t){var e=Kse(t,"string");return wu(e)=="symbol"?e:e+""}function Kse(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sv=(function(t){function e(){return zse(this,e),Hse(this,e,arguments)}return Yse(e,t),Wse(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Nr(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=Mse(s,function(d){return d.coordinate||0}),u=Fse(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=WO(n,Bse),d=s.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Nr(i,a,d[0],o),p=Nr(i,a,d[1],o),h=sl(sl(sl({},bt(u,!1)),{},{fill:"none"},bt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return K.createElement("line",uf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=WO(i,qse),f=this.getTickTextAnchor(),p=bt(d,!1),h=bt(o,!1),g=a.map(function(m,v){var b=n.getTickValueCoord(m),_=sl(sl(sl(sl({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:v},b),{},{payload:m});return K.createElement(ur,uf({className:It("recharts-polar-radius-axis-tick",lM(o)),key:"tick-".concat(m.coordinate)},Rl(n.props,m,v)),e.renderTickItem(o,_,l?l(m.value,v):m.value))});return K.createElement(ur,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:K.createElement(ur,{className:It("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),jn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):St(n)?o=n(i):o=K.createElement(Ml,uf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(N.PureComponent);ov(sv,"displayName","PolarRadiusAxis");ov(sv,"axisType","radiusAxis");ov(sv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yl.apply(this,arguments)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){lv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_M(n.key),n)}}function Jse(t,e,r){return e&&GO(t.prototype,e),r&&GO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zse(t,e,r){return e=Fm(e),Qse(t,wM()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function Qse(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ele(t)}function ele(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function tle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t5(t,e)}function lv(t,e,r){return e=_M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _M(t){var e=rle(t,"string");return _u(e)=="symbol"?e:e+""}function rle(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nle=Math.PI/180,YO=1e-5,cv=(function(t){function e(){return Xse(this,e),Zse(this,e,arguments)}return tle(e,t),Jse(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Nr(a,o,s,n.coordinate),p=Nr(a,o,s+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*nle),o;return a>YO?o=i==="outer"?"start":"end":a<-YO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=ll(ll({},bt(this.props,!1)),{},{fill:"none"},bt(s,!1));if(l==="circle")return K.createElement(fS,yl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(p){return Nr(i,a,o,p.coordinate)});return K.createElement(jse,yl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=bt(this.props,!1),f=bt(o,!1),p=ll(ll({},d),{},{fill:"none"},bt(s,!1)),h=a.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),_=ll(ll(ll({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return K.createElement(ur,yl({className:It("recharts-polar-angle-axis-tick",lM(o)),key:"tick-".concat(g.coordinate)},Rl(n.props,g,m)),s&&K.createElement("line",yl({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&e.renderTickItem(o,_,l?l(g.value,m):g.value))});return K.createElement(ur,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:K.createElement(ur,{className:It("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):St(n)?o=n(i):o=K.createElement(Ml,yl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(N.PureComponent);lv(cv,"displayName","PolarAngleAxis");lv(cv,"axisType","angleAxis");lv(cv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fx,KO;function ile(){if(KO)return Fx;KO=1;var t=EL(),e=t(Object.getPrototypeOf,Object);return Fx=e,Fx}var Bx,XO;function ale(){if(XO)return Bx;XO=1;var t=zo(),e=ile(),r=Wo(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return Bx=u,Bx}var ole=ale();const sle=dr(ole);var qx,JO;function lle(){if(JO)return qx;JO=1;var t=zo(),e=Wo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return qx=n,qx}var cle=lle();const ule=dr(cle);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bm.apply(this,arguments)}function dle(t,e){return mle(t)||ple(t,e)||hle(t,e)||fle()}function fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hle(t,e){if(t){if(typeof t=="string")return ZO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZO(t,e)}}function ZO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ple(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mle(t){if(Array.isArray(t))return t}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){gle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gle(t,e,r){return e=vle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vle(t){var e=yle(t,"string");return Wf(e)=="symbol"?e:e+""}function yle(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tE=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},ble={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xle=function(e){var r=eE(eE({},ble),e),n=N.useRef(),i=N.useState(-1),a=dle(i,2),o=a[0],s=a[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var _=It("recharts-trapezoid",h);return b?K.createElement(Bo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:l,y:u},duration:m,animationEasing:g,isActive:b},function(w){var S=w.upperWidth,j=w.lowerWidth,C=w.height,k=w.x,E=w.y;return K.createElement(Bo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},K.createElement("path",Bm({},bt(r,!0),{className:_,d:tE(k,E,S,j,C),ref:n})))}):K.createElement("g",null,K.createElement("path",Bm({},bt(r,!0),{className:_,d:tE(l,u,d,f,p)})))},wle=["option","shapeType","propTransformer","activeClassName","isActive"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function _le(t,e){if(t==null)return{};var r=Sle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){jle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jle(t,e,r){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nle(t){var e=Ale(t,"string");return Hf(e)=="symbol"?e:e+""}function Ale(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){return qm(qm({},e),t)}function kle(t,e){return t==="symbols"}function nE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(dS,r);case"trapezoid":return K.createElement(xle,r);case"sector":return K.createElement(dM,r);case"symbols":if(kle(e))return K.createElement(O_,r);break;default:return null}}function Cle(t){return N.isValidElement(t)?t.props:t}function SM(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Ple:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=_le(t,wle),u;if(N.isValidElement(e))u=N.cloneElement(e,qm(qm({},l),Cle(e)));else if(St(e))u=e(l);else if(sle(e)&&!ule(e)){var d=i(e,l);u=K.createElement(nE,{shapeType:r,elementProps:d})}else{var f=l;u=K.createElement(nE,{shapeType:r,elementProps:f})}return s?K.createElement(ur,{className:o},u):u}function uv(t,e){return e!=null&&"trapezoids"in t.props}function dv(t,e){return e!=null&&"sectors"in t.props}function Vf(t,e){return e!=null&&"points"in t.props}function Ole(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ele(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Tle(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Ile(t,e){var r;return uv(t,e)?r=Ole:dv(t,e)?r=Ele:Vf(t,e)&&(r=Tle),r}function Lle(t,e){var r;return uv(t,e)?r="trapezoids":dv(t,e)?r="sectors":Vf(t,e)&&(r="points"),r}function Rle(t,e){if(uv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(dv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vf(t,e)?e.payload:{}}function Mle(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Lle(r,e),a=Rle(r,e),o=n.filter(function(l,u){var d=rv(a,l),f=r.props[i].filter(function(g){var m=Ile(r,e);return m(g,e)}),p=r.props[i].indexOf(f[f.length-1]),h=u===p;return d&&h}),s=n.indexOf(o[o.length-1]);return s}var Yp;function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yc.apply(this,arguments)}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){Bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NM(n.key),n)}}function $le(t,e,r){return e&&aE(t.prototype,e),r&&aE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fle(t,e,r){return e=Um(e),Ble(t,jM()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Ble(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(t)}function qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jM=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r5(t,e)}function Bi(t,e,r){return e=NM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NM(t){var e=zle(t,"string");return Su(e)=="symbol"?e:e+""}function zle(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vo=(function(t){function e(r){var n;return Dle(this,e),n=Fle(this,e,[r]),Bi(n,"pieRef",null),Bi(n,"sectorRefs",[]),Bi(n,"id",fh("recharts-pie-")),Bi(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),St(i)&&i()}),Bi(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),St(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Ule(e,t),$le(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,d=bt(this.props,!1),f=bt(o,!1),p=bt(s,!1),h=o&&o.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,_=Nr(m.cx,m.cy,m.outerRadius+h,b),w=Sr(Sr(Sr(Sr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,m.cx)},_),S=Sr(Sr(Sr(Sr({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:v,points:[Nr(m.cx,m.cy,m.outerRadius,b),_]}),j=l;return $t(l)&&$t(u)?j="value":$t(l)&&(j=u),K.createElement(ur,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,S,"line"),e.renderLabelItem(o,w,Fn(m,j)))});return K.createElement(ur,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),p=l&&i.hasActiveIndex()?l:null,h=f?o:p,g=Sr(Sr({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return K.createElement(ur,Yc({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Rl(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),K.createElement(SM,Yc({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return K.createElement(Bo,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=a&&a[0],_=b.startAngle;return a.forEach(function(w,S){var j=p&&p[S],C=S>0?Ai(w,"paddingAngle",0):0;if(j){var k=gs(j.endAngle-j.startAngle,w.endAngle-w.startAngle),E=Sr(Sr({},w),{},{startAngle:_+C,endAngle:_+k(m)+C});v.push(E),_=E.endAngle}else{var T=w.endAngle,I=w.startAngle,A=gs(0,T-I),L=A(m),D=Sr(Sr({},w),{},{startAngle:_+C,endAngle:_+L+C});v.push(D),_=D.endAngle}}),K.createElement(ur,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!rv(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!Ie(u)||!Ie(d)||!Ie(f)||!Ie(p))return null;var m=It("recharts-pie",s);return K.createElement(ur,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),jn.renderCallByParent(this.props,null,!1),(!h||g)&&Ns.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(K.isValidElement(n))return K.cloneElement(n,i);if(St(n))return n(i);var o=It("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(q2,Yc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(K.isValidElement(n))return K.cloneElement(n,i);var o=a;if(St(n)&&(o=n(i),K.isValidElement(o)))return o;var s=It("recharts-pie-label-text",typeof n!="boolean"&&!St(n)?n.className:"");return K.createElement(Ml,Yc({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(N.PureComponent);Yp=Vo;Bi(Vo,"displayName","Pie");Bi(Vo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Bi(Vo,"parseDeltaAngle",function(t,e){var r=Xn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Bi(Vo,"getRealPieData",function(t){var e=t.data,r=t.children,n=bt(t,!1),i=zi(r,Vg);return e&&e.length?e.map(function(a,o){return Sr(Sr(Sr({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Sr(Sr({},n),a.props)}):[]});Bi(Vo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=sM(i,a),s=n+Jn(t.cx,i,i/2),l=r+Jn(t.cy,a,a/2),u=Jn(t.innerRadius,o,0),d=Jn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Bi(Vo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Sr(Sr({},e.type.defaultProps),e.props):e.props,i=Yp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),g=Yp.parseCoordinateOfPie(n,r),m=Yp.parseDeltaAngle(o,s),v=Math.abs(m),b=u;$t(u)&&$t(f)?(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):$t(u)&&(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var _=i.filter(function(E){return Fn(E,b,0)!==0}).length,w=(v>=360?_:_-1)*l,S=v-_*h-w,j=i.reduce(function(E,T){var I=Fn(T,b,0);return E+(Ie(I)?I:0)},0),C;if(j>0){var k;C=i.map(function(E,T){var I=Fn(E,b,0),A=Fn(E,d,T),L=(Ie(I)?I:0)/j,D;T?D=k.endAngle+Xn(m)*l*(I!==0?1:0):D=o;var F=D+Xn(m)*((I!==0?h:0)+L*S),X=(D+F)/2,Y=(g.innerRadius+g.outerRadius)/2,V=[{name:A,value:I,payload:E,dataKey:b,type:p}],$=Nr(g.cx,g.cy,Y,X);return k=Sr(Sr(Sr({percent:L,cornerRadius:a,name:A,tooltipPayload:V,midAngle:X,middleRadius:Y,tooltipPosition:$},E),g),{},{value:Fn(E,b),startAngle:D,endAngle:F,payload:E,paddingAngle:Xn(m)*l}),k})}return Sr(Sr({},g),{},{sectors:C,data:i})});var Ux,oE;function Wle(){if(oE)return Ux;oE=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var s=-1,l=e(t((i-n)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=a;return u}return Ux=r,Ux}var zx,sE;function AM(){if(sE)return zx;sE=1;var t=GL(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return zx=n,zx}var Wx,lE;function Hle(){if(lE)return Wx;lE=1;var t=Wle(),e=Hg(),r=AM();function n(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),t(a,o,s,i)}}return Wx=n,Wx}var Hx,cE;function Vle(){if(cE)return Hx;cE=1;var t=Hle(),e=t();return Hx=e,Hx}var Gle=Vle();const zm=dr(Gle);function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function uE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(r),!0).forEach(function(n){PM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PM(t,e,r){return e=Yle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yle(t){var e=Kle(t,"string");return Gf(e)=="symbol"?e:e+""}function Kle(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xle=["Webkit","Moz","O","ms"],Jle=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Xle.reduce(function(a,o){return dE(dE({},a),{},PM({},o+n,r))},{});return i[e]=r,i};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}function fE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(r),!0).forEach(function(n){xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CM(n.key),n)}}function Qle(t,e,r){return e&&hE(t.prototype,e),r&&hE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ece(t,e,r){return e=Hm(e),tce(t,kM()?Reflect.construct(e,r||[],Hm(t).constructor):e.apply(t,r))}function tce(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(t)}function rce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kM=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(t)}function nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n5(t,e)}function n5(t,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n5(t,e)}function xi(t,e,r){return e=CM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CM(t){var e=ice(t,"string");return ju(e)=="symbol"?e:e+""}function ice(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ace=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=of().domain(zm(0,l)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},pE=function(e){return e.changedTouches&&!!e.changedTouches.length},Nu=(function(t){function e(r){var n;return Zle(this,e),n=ece(this,e,[r]),xi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),xi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xi(n,"handleSlideDragStart",function(i){var a=pE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return nce(e,t),Qle(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(o,f),g=e.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Fn(a[n],s,n);return St(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,g=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-s,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-s));var v=this.getIndex({startX:o+m,endX:s+m});(v.startIndex!==p||v.endIndex!==h)&&g&&g(v),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=pE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},_=n.pageX-a;_>0?_=Math.min(_,f+p-h-u):_<0&&(_=Math.max(_,f-u)),b[o]=u+_;var w=this.getIndex(b),S=w.startIndex,j=w.endIndex,C=function(){var E=v.length-1;return o==="startX"&&(s>l?S%m===0:j%m===0)||s<l&&j===E||o==="endX"&&(s>l?j%m===0:S%m===0)||s>l&&j===E};this.setState(xi(xi({},o,u+_),"brushMoveStartX",n.pageX),function(){g&&C()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(xi({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return K.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?K.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,b=Math.max(n,this.props.x),_=Vx(Vx({},bt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=h||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return K.createElement(ur,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),s.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,_))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,h=5,g={pointerEvents:"none",fill:u};return K.createElement(ur,{className:"recharts-brush-texts"},K.createElement(Ml,Wm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},g),this.getTextOfTick(i)),K.createElement(Ml,Wm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,g=p.endX,m=p.isTextActive,v=p.isSlideMoving,b=p.isTravellerMoving,_=p.isTravellerFocused;if(!i||!i.length||!Ie(s)||!Ie(l)||!Ie(u)||!Ie(d)||u<=0||d<=0)return null;var w=It("recharts-brush",a),S=K.Children.count(o)===1,j=Jle("userSelect","none");return K.createElement(ur,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),K.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return K.isValidElement(n)?a=K.cloneElement(n,i):St(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Vx({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?ace({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(N.PureComponent);xi(Nu,"displayName","Brush");xi(Nu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Gx,mE;function oce(){if(mE)return Gx;mE=1;var t=D_();function e(r,n){var i;return t(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return Gx=e,Gx}var Yx,gE;function sce(){if(gE)return Yx;gE=1;var t=jL(),e=Qa(),r=oce(),n=ui(),i=Hg();function a(o,s,l){var u=n(o)?t:r;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return Yx=a,Yx}var lce=sce();const cce=dr(lce);var Wa=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Kx,vE;function uce(){if(vE)return Kx;vE=1;var t=UL();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Kx=e,Kx}var Xx,yE;function dce(){if(yE)return Xx;yE=1;var t=uce(),e=BL(),r=Qa();function n(i,a){var o={};return a=r(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return Xx=n,Xx}var fce=dce();const hce=dr(fce);var Jx,bE;function pce(){if(bE)return Jx;bE=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Jx=t,Jx}var Zx,xE;function mce(){if(xE)return Zx;xE=1;var t=D_();function e(r,n){var i=!0;return t(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return Zx=e,Zx}var Qx,wE;function gce(){if(wE)return Qx;wE=1;var t=pce(),e=mce(),r=Qa(),n=ui(),i=Hg();function a(o,s,l){var u=n(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,r(s,3))}return Qx=a,Qx}var vce=gce();const OM=dr(vce);var yce=["x","y"];function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function i5(){return i5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i5.apply(this,arguments)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){bce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bce(t,e,r){return e=xce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xce(t){var e=wce(t,"string");return Yf(e)=="symbol"?e:e+""}function wce(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ce(t,e){if(t==null)return{};var r=Sce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jce(t,e){var r=t.x,n=t.y,i=_ce(t,yce),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return Hd(Hd(Hd(Hd(Hd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function SE(t){return K.createElement(SM,i5({shapeType:"rectangle",propTransformer:jce,activeClassName:"recharts-active-bar"},t))}var Nce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Ie(n)||XK(n);return a?e(n,i):(a||$l(),r)}},Ace=["value","background"],EM;function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Pce(t,e){if(t==null)return{};var r=kce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(this,arguments)}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){_s(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IM(n.key),n)}}function Oce(t,e,r){return e&&NE(t.prototype,e),r&&NE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ece(t,e,r){return e=Gm(e),Tce(t,TM()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function Tce(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(t)}function Ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TM=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function Lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a5(t,e)}function a5(t,e){return a5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a5(t,e)}function _s(t,e,r){return e=IM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IM(t){var e=Rce(t,"string");return Au(e)=="symbol"?e:e+""}function Rce(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zl=(function(t){function e(){var r;Cce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ece(this,e,[].concat(i)),_s(r,"state",{isAnimationFinished:!1}),_s(r,"id",fh("recharts-bar-")),_s(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),_s(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Lce(e,t),Oce(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,p){var h=p===l,g=h?u:o,m=nn(nn(nn({},d),f),{},{isActive:h,option:g,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(ur,Vm({className:"recharts-bar-rectangle"},Rl(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),K.createElement(SE,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state.prevData;return K.createElement(Bo,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,m=a.map(function(v,b){var _=p&&p[b];if(_){var w=gs(_.x,v.x),S=gs(_.y,v.y),j=gs(_.width,v.width),C=gs(_.height,v.height);return nn(nn({},v),{},{x:w(g),y:S(g),width:j(g),height:C(g)})}if(o==="horizontal"){var k=gs(0,v.height),E=k(g);return nn(nn({},v),{},{y:v.y+v.height-E,height:E})}var T=gs(0,v.width),I=T(g);return nn(nn({},v),{},{width:I})});return K.createElement(ur,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!rv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=bt(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,p=Pce(u,Ace);if(!f)return null;var h=nn(nn(nn(nn(nn({},p),{},{fill:"#eee"},f),l),Rl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(SE,Vm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=zi(d,av);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,b){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Fn(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(ur,g,f.map(function(m){return K.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,h=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=It("recharts-bar",o),_=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,S=_||w,j=$t(m)?this.id:m;return K.createElement(ur,{className:b},_||w?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(j)},K.createElement("rect",{x:_?u:u-f/2,y:w?d:d-p/2,width:_?f:f*2,height:w?p:p*2}))):null,K.createElement(ur,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!h||v)&&Ns.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(N.PureComponent);EM=Zl;_s(Zl,"displayName","Bar");_s(Zl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_s(Zl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,h=uie(n,r);if(!h)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?nn(nn({},m),r.props):r.props,b=v.dataKey,_=v.children,w=v.minPointSize,S=g==="horizontal"?o:a,j=u?S.scale.domain():null,C=vie({numericAxis:S}),k=zi(_,Vg),E=f.map(function(T,I){var A,L,D,F,X,Y;u?A=die(u[d+I],j):(A=Fn(T,b),Array.isArray(A)||(A=[C,A]));var V=Nce(w,EM.defaultProps.minPointSize)(A[1],I);if(g==="horizontal"){var $,ie=[o.scale(A[0]),o.scale(A[1])],re=ie[0],se=ie[1];L=X3({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:T,index:I}),D=($=se??re)!==null&&$!==void 0?$:void 0,F=h.size;var M=re-se;if(X=Number.isNaN(M)?0:M,Y={x:L,y:o.y,width:F,height:o.height},Math.abs(V)>0&&Math.abs(X)<Math.abs(V)){var U=Xn(X||V)*(Math.abs(V)-Math.abs(X));D-=U,X+=U}}else{var z=[a.scale(A[0]),a.scale(A[1])],Z=z[0],le=z[1];if(L=Z,D=X3({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:T,index:I}),F=le-Z,X=h.size,Y={x:a.x,y:D,width:a.width,height:X},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var oe=Xn(F||V)*(Math.abs(V)-Math.abs(F));F+=oe}}return nn(nn(nn({},T),{},{x:L,y:D,width:F,height:X,value:u?A:A[1],payload:T,background:Y},k&&k[I]&&k[I].props),{},{tooltipPayload:[aM(r,T)],tooltipPosition:{x:L+F/2,y:D+X/2}})});return nn({data:E,layout:g},p)});function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LM(n.key),n)}}function Dce(t,e,r){return e&&AE(t.prototype,e),r&&AE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(r),!0).forEach(function(n){fv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fv(t,e,r){return e=LM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LM(t){var e=$ce(t,"string");return Kf(e)=="symbol"?e:e+""}function $ce(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fce=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!wi(u,Zl);return d.reduce(function(h,g){var m=r[g],v=m.orientation,b=m.domain,_=m.padding,w=_===void 0?{}:_,S=m.mirror,j=m.reversed,C="".concat(v).concat(S?"Mirror":""),k,E,T,I,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var L=b[1]-b[0],D=1/0,F=m.categoricalDomain.sort(QK);if(F.forEach(function(z,Z){Z>0&&(D=Math.min((z||0)-(F[Z-1]||0),D))}),Number.isFinite(D)){var X=D/L,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=X*Y/2),m.padding==="no-gap"){var V=Jn(e.barCategoryGap,X*Y),$=X*Y/2;k=$-V-($-V)/Y*V}}}i==="xAxis"?E=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:E=m.range,j&&(E=[E[1],E[0]]);var ie=tM(m,a,p),re=ie.scale,se=ie.realScaleType;re.domain(b).range(E),rM(re);var M=nM(re,ca(ca({},m),{},{realScaleType:se}));i==="xAxis"?(A=v==="top"&&!S||v==="bottom"&&S,T=n.left,I=f[C]-A*m.height):i==="yAxis"&&(A=v==="left"&&!S||v==="right"&&S,T=f[C]-A*m.width,I=n.top);var U=ca(ca(ca({},m),M),{},{realScaleType:se,x:T,y:I,scale:re,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return U.bandSize=Em(U,M),!m.hide&&i==="xAxis"?f[C]+=(A?-1:1)*U.height:m.hide||(f[C]+=(A?-1:1)*U.width),ca(ca({},h),{},fv({},g,U))},{})},RM=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Bce=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return RM({x:r,y:n},{x:i,y:a})},MM=(function(){function t(e){Mce(this,t),this.scale=e}return Dce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();fv(MM,"EPS",1e-4);var hS=function(e){var r=Object.keys(e).reduce(function(n,i){return ca(ca({},n),{},fv({},i,MM.create(e[i])))},{});return ca(ca({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return hce(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return OM(i,function(a,o){return r[o].isInRange(a)})}})};function qce(t){return(t%180+180)%180}var Uce=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=qce(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ew,kE;function zce(){if(kE)return ew;kE=1;var t=Qa(),e=hh(),r=zg();function n(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(f){return u(l[f],f,l)}}var d=i(a,o,s);return d>-1?l[u?a[d]:d]:void 0}}return ew=n,ew}var tw,CE;function Wce(){if(CE)return tw;CE=1;var t=AM();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return tw=e,tw}var rw,OE;function Hce(){if(OE)return rw;OE=1;var t=RL(),e=Qa(),r=Wce(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),t(a,e(o,3),u)}return rw=i,rw}var nw,EE;function Vce(){if(EE)return nw;EE=1;var t=zce(),e=Hce(),r=t(e);return nw=r,nw}var Gce=Vce();const Yce=dr(Gce);var Kce=J8();const Xce=dr(Kce);var Jce=Xce(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pS=N.createContext(void 0),mS=N.createContext(void 0),DM=N.createContext(void 0),$M=N.createContext({}),FM=N.createContext(void 0),BM=N.createContext(0),qM=N.createContext(0),TE=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Jce(a);return K.createElement(pS.Provider,{value:n},K.createElement(mS.Provider,{value:i},K.createElement($M.Provider,{value:a},K.createElement(DM.Provider,{value:d},K.createElement(FM.Provider,{value:o},K.createElement(BM.Provider,{value:u},K.createElement(qM.Provider,{value:l},s)))))))},Zce=function(){return N.useContext(FM)},UM=function(e){var r=N.useContext(pS);r==null&&$l();var n=r[e];return n==null&&$l(),n},Qce=function(){var e=N.useContext(pS);return xs(e)},eue=function(){var e=N.useContext(mS),r=Yce(e,function(n){return OM(n.domain,Number.isFinite)});return r||xs(e)},zM=function(e){var r=N.useContext(mS);r==null&&$l();var n=r[e];return n==null&&$l(),n},tue=function(){var e=N.useContext(DM);return e},rue=function(){return N.useContext($M)},gS=function(){return N.useContext(qM)},vS=function(){return N.useContext(BM)};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HM(n.key),n)}}function aue(t,e,r){return e&&iue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oue(t,e,r){return e=Ym(e),sue(t,WM()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function sue(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(t)}function lue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o5(t,e)}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){yS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yS(t,e,r){return e=HM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HM(t){var e=uue(t,"string");return Pu(e)=="symbol"?e:e+""}function uue(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function due(t,e){return mue(t)||pue(t,e)||hue(t,e)||fue()}function fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hue(t,e){if(t){if(typeof t=="string")return RE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(t,e)}}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mue(t){if(Array.isArray(t))return t}function s5(){return s5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s5.apply(this,arguments)}var gue=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):St(e)?n=e(r):n=K.createElement("line",s5({},r,{className:"recharts-reference-line-line"})),n},vue=function(e,r,n,i,a,o,s,l,u){var d=a.x,f=a.y,p=a.width,h=a.height;if(n){var g=u.y,m=e.y.apply(g,{position:o});if(Wa(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+p,y:m},{x:d,y:m}];return l==="left"?v.reverse():v}if(r){var b=u.x,_=e.x.apply(b,{position:o});if(Wa(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+h},{x:_,y:f}];return s==="top"?w.reverse():w}if(i){var S=u.segment,j=S.map(function(C){return e.apply(C,{position:o})});return Wa(u,"discard")&&cce(j,function(C){return!e.isInRange(C)})?null:j}return null};function yue(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Zce(),d=UM(i),f=zM(a),p=tue();if(!u||!p)return null;ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=hS({x:d.scale,y:f.scale}),g=vn(e),m=vn(r),v=n&&n.length===2,b=vue(h,g,m,v,p,t.position,d.orientation,f.orientation,t);if(!b)return null;var _=due(b,2),w=_[0],S=w.x,j=w.y,C=_[1],k=C.x,E=C.y,T=Wa(t,"hidden")?"url(#".concat(u,")"):void 0,I=LE(LE({clipPath:T},bt(t,!0)),{},{x1:S,y1:j,x2:k,y2:E});return K.createElement(ur,{className:It("recharts-reference-line",s)},gue(o,I),jn.renderCallByParent(t,Bce({x1:S,y1:j,x2:k,y2:E})))}var bS=(function(t){function e(){return nue(this,e),oue(this,e,arguments)}return cue(e,t),aue(e,[{key:"render",value:function(){return K.createElement(yue,this.props)}}])})(K.Component);yS(bS,"displayName","ReferenceLine");yS(bS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function l5(){return l5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l5.apply(this,arguments)}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){hv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GM(n.key),n)}}function wue(t,e,r){return e&&xue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e,r){return e=Km(e),Sue(t,VM()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function Sue(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jue(t)}function jue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VM=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c5(t,e)}function c5(t,e){return c5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c5(t,e)}function hv(t,e,r){return e=GM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GM(t){var e=Aue(t,"string");return ku(e)=="symbol"?e:e+""}function Aue(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pue=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=hS({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Wa(e,"discard")&&!o.isInRange(s)?null:s},pv=(function(t){function e(){return bue(this,e),_ue(this,e,arguments)}return Nue(e,t),wue(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=vn(i),d=vn(a);if(ha(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Pue(this.props);if(!f)return null;var p=f.x,h=f.y,g=this.props,m=g.shape,v=g.className,b=Wa(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=DE(DE({clipPath:b},bt(this.props,!0)),{},{cx:p,cy:h});return K.createElement(ur,{className:It("recharts-reference-dot",v)},e.renderDot(m,_),jn.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])})(K.Component);hv(pv,"displayName","ReferenceDot");hv(pv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hv(pv,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):St(t)?r=t(e):r=K.createElement(fS,l5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){mv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KM(n.key),n)}}function Oue(t,e,r){return e&&Cue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eue(t,e,r){return e=Xm(e),Tue(t,YM()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function Tue(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iue(t)}function Iue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d5(t,e)}function d5(t,e){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d5(t,e)}function mv(t,e,r){return e=KM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KM(t){var e=Rue(t,"string");return Cu(e)=="symbol"?e:e+""}function Rue(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mue=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var p=hS({x:d.scale,y:f.scale}),h={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Wa(a,"discard")&&(!p.isInRange(h)||!p.isInRange(g))?null:RM(h,g)},gv=(function(t){function e(){return kue(this,e),Eue(this,e,arguments)}return Lue(e,t),Oue(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ha(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vn(i),p=vn(a),h=vn(o),g=vn(s),m=this.props.shape;if(!f&&!p&&!h&&!g&&!m)return null;var v=Mue(f,p,h,g,this.props);if(!v&&!m)return null;var b=Wa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(ur,{className:It("recharts-reference-area",l)},e.renderRect(m,FE(FE({clipPath:b},bt(this.props,!0)),v)),jn.renderCallByParent(this.props,v))}}])})(K.Component);mv(gv,"displayName","ReferenceArea");mv(gv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mv(gv,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):St(t)?r=t(e):r=K.createElement(dS,u5({},e,{className:"recharts-reference-area-rect"})),r});function XM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Due(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Uce(n,r)}function $ue(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Jm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Fue(t,e){return XM(t,e+1)}function Bue(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,d=o,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:XM(n,u)};var m=l,v,b=function(){return v===void 0&&(v=r(g,m)),v},_=g.coordinate,w=l===0||Jm(t,_,b,d,s);w||(l=0,d=o,u+=1),w&&(d=_+t*(b()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t,e,r){return e=Uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uue(t){var e=zue(t,"string");return Xf(e)=="symbol"?e:e+""}function zue(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var h=a[p],g,m=function(){return g===void 0&&(g=r(h,p)),g};if(p===o-1){var v=t*(h.coordinate+t*m()/2-l);a[p]=h=Mn(Mn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else a[p]=h=Mn(Mn({},h),{},{tickCoord:h.coordinate});var b=Jm(t,h.tickCoord,m,s,l);b&&(l=h.tickCoord-t*(m()/2+i),a[p]=Mn(Mn({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Hue(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var d=n[s-1],f=r(d,s-1),p=t*(d.coordinate+t*f/2-u);o[s-1]=d=Mn(Mn({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var h=Jm(t,d.tickCoord,function(){return f},l,u);h&&(u=d.tickCoord-t*(f/2+i),o[s-1]=Mn(Mn({},d),{},{isShow:!0}))}for(var g=a?s-1:s,m=function(_){var w=o[_],S,j=function(){return S===void 0&&(S=r(w,_)),S};if(_===0){var C=t*(w.coordinate-t*j()/2-l);o[_]=w=Mn(Mn({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else o[_]=w=Mn(Mn({},w),{},{tickCoord:w.coordinate});var k=Jm(t,w.tickCoord,j,l,u);k&&(l=w.tickCoord+t*(j()/2+i),o[_]=Mn(Mn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function xS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Ie(l)||Gu.isSsr)return Fue(i,typeof l=="number"&&Ie(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",g=d&&h==="width"?af(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,S){var j=St(u)?u(w.value,S):w.value;return h==="width"?Due(af(j,{fontSize:e,letterSpacing:r}),g,f):af(j,{fontSize:e,letterSpacing:r})[h]},v=i.length>=2?Xn(i[1].coordinate-i[0].coordinate):1,b=$ue(a,v,h);return l==="equidistantPreserveStart"?Bue(v,b,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Hue(v,b,m,i,o,l==="preserveStartEnd"):p=Wue(v,b,m,i,o),p.filter(function(_){return _.isShow}))}var Vue=["viewBox"],Gue=["viewBox"],Yue=["ticks"];function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kc.apply(this,arguments)}function qE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iw(t,e){if(t==null)return{};var r=Kue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZM(n.key),n)}}function Jue(t,e,r){return e&&UE(t.prototype,e),r&&UE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zue(t,e,r){return e=Zm(e),Que(t,JM()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Que(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ede(t)}function ede(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function tde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f5(t,e)}function f5(t,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f5(t,e)}function wS(t,e,r){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZM(t){var e=rde(t,"string");return Ou(e)=="symbol"?e:e+""}function rde(t,e){if(Ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ju=(function(t){function e(r){var n;return Xue(this,e),n=Zue(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return tde(e,t),Jue(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=iw(n,Vue),s=this.props,l=s.viewBox,u=iw(s,Gue);return!ru(a,l)||!ru(o,u)||!ru(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,p=i.tickMargin,h,g,m,v,b,_,w=f?-1:1,S=n.tickSize||d,j=Ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=g=n.coordinate,v=o+ +!f*l,m=v-w*S,_=m-w*p,b=j;break;case"left":m=v=n.coordinate,g=a+ +!f*s,h=g-w*S,b=h-w*p,_=j;break;case"right":m=v=n.coordinate,g=a+ +f*s,h=g+w*S,b=h+w*p,_=j;break;default:h=g=n.coordinate,v=o+ +f*l,m=v+w*S,_=m+w*p,b=j;break}return{line:{x1:h,y1:m,x2:g,y2:v},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=hn(hn(hn({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=hn(hn({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=hn(hn({},f),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return K.createElement("line",Kc({},f,{className:It("recharts-cartesian-axis-line",Ai(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,p=s.unit,h=xS(hn(hn({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=bt(this.props,!1),b=bt(d,!1),_=hn(hn({},v),{},{fill:"none"},bt(l,!1)),w=h.map(function(S,j){var C=o.getTickLineCoord(S),k=C.line,E=C.tick,T=hn(hn(hn(hn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),E),{},{index:j,payload:S,visibleTicksCount:h.length,tickFormatter:f});return K.createElement(ur,Kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Rl(o.props,S,j)),l&&K.createElement("line",Kc({},_,k,{className:It("recharts-cartesian-axis-tick-line",Ai(l,"className"))})),d&&e.renderTickItem(d,T,"".concat(St(f)?f(S.value,j):S.value).concat(p||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,p=f.ticks,h=iw(f,Yue),g=p;return St(l)&&(g=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!g||!g.length?null:K.createElement(ur,{className:It("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=It(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?o=K.cloneElement(n,hn(hn({},i),{},{className:s})):St(n)?o=n(hn(hn({},i),{},{className:s})):o=K.createElement(Ml,Kc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(N.Component);wS(Ju,"displayName","CartesianAxis");wS(Ju,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nde=["x1","y1","x2","y2","key"],ide=["offset"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function zE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(r),!0).forEach(function(n){ade(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ade(t,e,r){return e=ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ode(t){var e=sde(t,"string");return Fl(e)=="symbol"?e:e+""}function sde(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sl.apply(this,arguments)}function WE(t,e){if(t==null)return{};var r=lde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cde=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return K.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QM(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(St(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=WE(e,nde),u=bt(l,!1);u.offset;var d=WE(u,ide);r=K.createElement("line",Sl({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function ude(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dn(Dn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return QM(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dde(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dn(Dn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return QM(i,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fde(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?i+o-p:d[h+1]-p;if(m<=0)return null;var v=h%e.length;return K.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function hde(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var g=!d[h+1],m=g?a+s-p:d[h+1]-p;if(m<=0)return null;var v=h%n.length;return K.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var pde=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return eM(xS(Dn(Dn(Dn({},Ju.defaultProps),n),{},{ticks:Po(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},mde=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return eM(xS(Dn(Dn(Dn({},Ju.defaultProps),n),{},{ticks:Po(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Rc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eD(t){var e,r,n,i,a,o,s=gS(),l=vS(),u=rue(),d=Dn(Dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Rc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Rc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Rc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Rc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Rc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Rc.verticalFill,x:Ie(t.x)?t.x:u.left,y:Ie(t.y)?t.y:u.top,width:Ie(t.width)?t.width:u.width,height:Ie(t.height)?t.height:u.height}),f=d.x,p=d.y,h=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,_=Qce(),w=eue();if(!Ie(h)||h<=0||!Ie(g)||g<=0||!Ie(f)||f!==+f||!Ie(p)||p!==+p)return null;var S=d.verticalCoordinatesGenerator||pde,j=d.horizontalCoordinatesGenerator||mde,C=d.horizontalPoints,k=d.verticalPoints;if((!C||!C.length)&&St(j)){var E=v&&v.length,T=j({yAxis:w?Dn(Dn({},w),{},{ticks:E?v:w.ticks}):void 0,width:s,height:l,offset:u},E?!0:m);ha(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fl(T),"]")),Array.isArray(T)&&(C=T)}if((!k||!k.length)&&St(S)){var I=b&&b.length,A=S({xAxis:_?Dn(Dn({},_),{},{ticks:I?b:_.ticks}):void 0,width:s,height:l,offset:u},I?!0:m);ha(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fl(A),"]")),Array.isArray(A)&&(k=A)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(cde,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(ude,Sl({},d,{offset:u,horizontalPoints:C,xAxis:_,yAxis:w})),K.createElement(dde,Sl({},d,{offset:u,verticalPoints:k,xAxis:_,yAxis:w})),K.createElement(fde,Sl({},d,{horizontalPoints:C})),K.createElement(hde,Sl({},d,{verticalPoints:k})))}eD.displayName="CartesianGrid";function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function yde(t,e,r){return e&&vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bde(t,e,r){return e=Qm(e),xde(t,tD()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function xde(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(t)}function wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function _de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h5(t,e)}function h5(t,e){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h5(t,e)}function rD(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=Sde(t,"string");return Eu(e)=="symbol"?e:e+""}function Sde(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function p5(){return p5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p5.apply(this,arguments)}function jde(t){var e=t.xAxisId,r=gS(),n=vS(),i=UM(e);return i==null?null:N.createElement(Ju,p5({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Po(o,!0)}}))}var vv=(function(t){function e(){return gde(this,e),bde(this,e,arguments)}return _de(e,t),yde(e,[{key:"render",value:function(){return N.createElement(jde,this.props)}}])})(N.Component);rD(vv,"displayName","XAxis");rD(vv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Nde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ade(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oD(n.key),n)}}function Pde(t,e,r){return e&&Ade(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kde(t,e,r){return e=eg(e),Cde(t,iD()?Reflect.construct(e,r||[],eg(t).constructor):e.apply(t,r))}function Cde(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ode(t)}function Ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(t)}function Ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m5(t,e)}function m5(t,e){return m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m5(t,e)}function aD(t,e,r){return e=oD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oD(t){var e=Tde(t,"string");return Tu(e)=="symbol"?e:e+""}function Tde(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g5.apply(this,arguments)}var Ide=function(e){var r=e.yAxisId,n=gS(),i=vS(),a=zM(r);return a==null?null:N.createElement(Ju,g5({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Po(s,!0)}}))},yv=(function(t){function e(){return Nde(this,e),kde(this,e,arguments)}return Ede(e,t),Pde(e,[{key:"render",value:function(){return N.createElement(Ide,this.props)}}])})(N.Component);aD(yv,"displayName","YAxis");aD(yv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HE(t){return Dde(t)||Mde(t)||Rde(t)||Lde()}function Lde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){if(t){if(typeof t=="string")return v5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v5(t,e)}}function Mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dde(t){if(Array.isArray(t))return v5(t)}function v5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y5=function(e,r,n,i,a){var o=zi(e,bS),s=zi(e,pv),l=[].concat(HE(o),HE(s)),u=zi(e,gv),d="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(m,v){if(v.props[d]===n&&Wa(v.props,"extendDomain")&&Ie(v.props[f])){var b=v.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},p)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(m,v){if(v.props[d]===n&&Wa(v.props,"extendDomain")&&Ie(v.props[h])&&Ie(v.props[g])){var b=v.props[h],_=v.props[g];return[Math.min(m[0],b,_),Math.max(m[1],b,_)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,v){return Ie(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},p)),p},aw={exports:{}},VE;function $de(){return VE||(VE=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,h,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,p),!0;case 5:return v.fn.call(v.context,d,f,p,h),!0;case 6:return v.fn.call(v.context,d,f,p,h,g),!0}for(w=1,_=new Array(b-1);w<b;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var S=v.length,j;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,p);break;default:if(!_)for(j=1,_=new Array(b-1);j<b;j++)_[j-1]=arguments[j];v[w].fn.apply(v[w].context,_)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==d||p&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(aw)),aw.exports}var Fde=$de();const Bde=dr(Fde);var ow=new Bde,sw="recharts.syncMouseEvents";function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ude(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sD(n.key),n)}}function zde(t,e,r){return e&&Ude(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lw(t,e,r){return e=sD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sD(t){var e=Wde(t,"string");return Jf(e)=="symbol"?e:e+""}function Wde(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hde=(function(){function t(){qde(this,t),lw(this,"activeIndex",0),lw(this,"coordinateList",[]),lw(this,"layout","horizontal")}return zde(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,p=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function Vde(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ie(n)&&Ie(i))return!0}return!1}function Gde(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function lD(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Nr(e,r,n,i),s=Nr(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Yde(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,p=Nr(s,l,u,f),h=Nr(s,l,d,f);n=p.x,i=p.y,a=h.x,o=h.y}else return lD(e);return[{x:n,y:i},{x:a,y:o}]}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){Kde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kde(t,e,r){return e=Xde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xde(t){var e=Jde(t,"string");return Zf(e)=="symbol"?e:e+""}function Jde(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zde(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var g,m=q2;if(p==="ScatterChart")g=o,m=Ise;else if(p==="BarChart")g=Gde(f,o,l,d),m=dS;else if(f==="radial"){var v=lD(o),b=v.cx,_=v.cy,w=v.radius,S=v.startAngle,j=v.endAngle;g={cx:b,cy:_,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},m=dM}else g={points:Yde(f,o,l)},m=q2;var C=Rp(Rp(Rp(Rp({stroke:"#ccc",pointerEvents:"none"},l),g),bt(h,!1)),{},{payload:s,payloadIndex:u,className:It("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,C):N.createElement(m,C)}var Qde=["item"],efe=["children","className","width","height","style","compact","title","desc"];function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xc.apply(this,arguments)}function YE(t,e){return nfe(t)||rfe(t,e)||uD(t,e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function nfe(t){if(Array.isArray(t))return t}function KE(t,e){if(t==null)return{};var r=ife(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ife(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ofe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function sfe(t,e,r){return e&&ofe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lfe(t,e,r){return e=tg(e),cfe(t,cD()?Reflect.construct(e,r||[],tg(t).constructor):e.apply(t,r))}function cfe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ufe(t)}function ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(t)}function dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b5(t,e)}function b5(t,e){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b5(t,e)}function Lu(t){return pfe(t)||hfe(t)||uD(t)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uD(t,e){if(t){if(typeof t=="string")return x5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x5(t,e)}}function hfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pfe(t){if(Array.isArray(t))return x5(t)}function x5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pt(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=mfe(t,"string");return Iu(e)=="symbol"?e:e+""}function mfe(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gfe={xAxis:["bottom","top"],yAxis:["left","right"]},vfe={width:"100%",height:"100%"},fD={x:0,y:0};function Mp(t){return t}var yfe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},bfe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Se(Se(Se({},i),Nr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Se(Se(Se({},i),Nr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return fD},bv=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Lu(s),Lu(u)):s},[]);return o.length>0?o:e&&e.length&&Ie(i)&&Ie(a)?e.slice(i,a+1):[]};function hD(t){return t==="number"?[0,"auto"]:void 0}var w5=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=bv(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=r2(h,o.dataKey,i)}else p=f&&f[n]||s[n];return p?[].concat(Lu(l),[aM(u,p)]):l},[])},JE=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=yfe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=iie(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,p=w5(e,r,d,f),h=bfe(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},xfe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,h=QR(d,a);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?Se(Se({},m.type.defaultProps),m.props):m.props,_=b.type,w=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,C=b.scale,k=b.ticks,E=b.includeHidden,T=b[o];if(g[T])return g;var I=bv(e.data,{graphicalItems:i.filter(function(M){var U,z=o in M.props?M.props[o]:(U=M.type.defaultProps)===null||U===void 0?void 0:U[o];return z===T}),dataStartIndex:l,dataEndIndex:u}),A=I.length,L,D,F;Vde(b.domain,S,_)&&(L=M2(b.domain,null,S),h&&(_==="number"||C!=="auto")&&(F=sf(I,w,"category")));var X=hD(_);if(!L||L.length===0){var Y,V=(Y=b.domain)!==null&&Y!==void 0?Y:X;if(w){if(L=sf(I,w,_),_==="category"&&h){var $=ZK(L);j&&$?(D=L,L=zm(0,A)):j||(L=Q3(V,L,m).reduce(function(M,U){return M.indexOf(U)>=0?M:[].concat(Lu(M),[U])},[]))}else if(_==="category")j?L=L.filter(function(M){return M!==""&&!$t(M)}):L=Q3(V,L,m).reduce(function(M,U){return M.indexOf(U)>=0||U===""||$t(U)?M:[].concat(Lu(M),[U])},[]);else if(_==="number"){var ie=cie(I,i.filter(function(M){var U,z,Z=o in M.props?M.props[o]:(U=M.type.defaultProps)===null||U===void 0?void 0:U[o],le="hide"in M.props?M.props.hide:(z=M.type.defaultProps)===null||z===void 0?void 0:z.hide;return Z===T&&(E||!le)}),w,a,d);ie&&(L=ie)}h&&(_==="number"||C!=="auto")&&(F=sf(I,w,"category"))}else h?L=zm(0,A):s&&s[T]&&s[T].hasStack&&_==="number"?L=p==="expand"?[0,1]:iM(s[T].stackGroups,l,u):L=ZR(I,i.filter(function(M){var U=o in M.props?M.props[o]:M.type.defaultProps[o],z="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return U===T&&(E||!z)}),_,d,!0);if(_==="number")L=y5(f,L,T,a,k),V&&(L=M2(V,L,S));else if(_==="category"&&V){var re=V,se=L.every(function(M){return re.indexOf(M)>=0});se&&(L=re)}}return Se(Se({},g),{},pt({},T,Se(Se({},b),{},{axisType:a,domain:L,categoricalDomain:F,duplicateDomain:D,originalDomain:(v=b.domain)!==null&&v!==void 0?v:X,isCategorical:h,layout:d})))},{})},wfe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,p=bv(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),h=p.length,g=QR(d,a),m=-1;return n.reduce(function(v,b){var _=b.type.defaultProps!==void 0?Se(Se({},b.type.defaultProps),b.props):b.props,w=_[o],S=hD("number");if(!v[w]){m++;var j;return g?j=zm(0,h):s&&s[w]&&s[w].hasStack?(j=iM(s[w].stackGroups,l,u),j=y5(f,j,w,a)):(j=M2(S,ZR(p,n.filter(function(C){var k,E,T=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],I="hide"in C.props?C.props.hide:(E=C.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),j=y5(f,j,w,a)),Se(Se({},v),{},pt({},w,Se(Se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ai(gfe,"".concat(a,".").concat(m%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return v},{})},_fe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),p=zi(d,a),h={};return p&&p.length?h=xfe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(h=wfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),h},Sfe=function(e){var r=xs(e),n=Po(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Em(r,n)}},ZE=function(e){var r=e.children,n=e.defaultShowTooltip,i=wi(r,Nu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},jfe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Oo(r&&r.type);return n&&n.indexOf("Bar")>=0})},QE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nfe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,p=n.margin||{},h=wi(f,Nu),g=wi(f,nu),m=Object.keys(l).reduce(function(j,C){var k=l[C],E=k.orientation;return!k.mirror&&!k.hide?Se(Se({},j),{},pt({},E,j[E]+k.width)):j},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(j,C){var k=o[C],E=k.orientation;return!k.mirror&&!k.hide?Se(Se({},j),{},pt({},E,Ai(j,"".concat(E))+k.height)):j},{top:p.top||0,bottom:p.bottom||0}),b=Se(Se({},v),m),_=b.bottom;h&&(b.bottom+=h.props.height||Nu.defaultProps.height),g&&r&&(b=sie(b,i,n,r));var w=u-b.left-b.right,S=d-b.top-b.bottom;return Se(Se({brushBottom:_},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},Afe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},pD=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(b,_){var w=_.graphicalItems,S=_.stackGroups,j=_.offset,C=_.updateId,k=_.dataStartIndex,E=_.dataEndIndex,T=b.barSize,I=b.layout,A=b.barGap,L=b.barCategoryGap,D=b.maxBarSize,F=QE(I),X=F.numericAxisName,Y=F.cateAxisName,V=jfe(w),$=[];return w.forEach(function(ie,re){var se=bv(b.data,{graphicalItems:[ie],dataStartIndex:k,dataEndIndex:E}),M=ie.type.defaultProps!==void 0?Se(Se({},ie.type.defaultProps),ie.props):ie.props,U=M.dataKey,z=M.maxBarSize,Z=M["".concat(X,"Id")],le=M["".concat(Y,"Id")],oe={},de=l.reduce(function(Le,Ke){var He=_["".concat(Ke.axisType,"Map")],Ut=M["".concat(Ke.axisType,"Id")];He&&He[Ut]||Ke.axisType==="zAxis"||$l();var mt=He[Ut];return Se(Se({},Le),{},pt(pt({},Ke.axisType,mt),"".concat(Ke.axisType,"Ticks"),Po(mt)))},oe),ae=de[Y],he=de["".concat(Y,"Ticks")],ge=S&&S[Z]&&S[Z].hasStack&&yie(ie,S[Z].stackGroups),ue=Oo(ie.type).indexOf("Bar")>=0,ke=Em(ae,he),me=[],Q=V&&aie({barSize:T,stackGroups:S,totalSize:Afe(de,Y)});if(ue){var We,Fe,Ue=$t(z)?D:z,Pe=(We=(Fe=Em(ae,he,!0))!==null&&Fe!==void 0?Fe:Ue)!==null&&We!==void 0?We:0;me=oie({barGap:A,barCategoryGap:L,bandSize:Pe!==ke?Pe:ke,sizeList:Q[le],maxBarSize:Ue}),Pe!==ke&&(me=me.map(function(Le){return Se(Se({},Le),{},{position:Se(Se({},Le.position),{},{offset:Le.position.offset-Pe/2})})}))}var Qe=ie&&ie.type&&ie.type.getComposedData;Qe&&$.push({props:Se(Se({},Qe(Se(Se({},de),{},{displayedData:se,props:b,dataKey:U,item:ie,bandSize:ke,barPosition:me,offset:j,stackedData:ge,layout:I,dataStartIndex:k,dataEndIndex:E}))),{},pt(pt(pt({key:ie.key||"item-".concat(re)},X,de[X]),Y,de[Y]),"animationId",C)),childIndex:uX(ie,b.children),item:ie})}),$},h=function(b,_){var w=b.props,S=b.dataStartIndex,j=b.dataEndIndex,C=b.updateId;if(!pP({props:w}))return null;var k=w.children,E=w.layout,T=w.stackOffset,I=w.data,A=w.reverseStackOrder,L=QE(E),D=L.numericAxisName,F=L.cateAxisName,X=zi(k,n),Y=gie(I,X,"".concat(D,"Id"),"".concat(F,"Id"),T,A),V=l.reduce(function(M,U){var z="".concat(U.axisType,"Map");return Se(Se({},M),{},pt({},z,_fe(w,Se(Se({},U),{},{graphicalItems:X,stackGroups:U.axisType===D&&Y,dataStartIndex:S,dataEndIndex:j}))))},{}),$=Nfe(Se(Se({},V),{},{props:w,graphicalItems:X}),_==null?void 0:_.legendBBox);Object.keys(V).forEach(function(M){V[M]=d(w,V[M],$,M.replace("Map",""),r)});var ie=V["".concat(F,"Map")],re=Sfe(ie),se=p(w,Se(Se({},V),{},{dataStartIndex:S,dataEndIndex:j,updateId:C,graphicalItems:X,stackGroups:Y,offset:$}));return Se(Se({formattedGraphicalItems:se,graphicalItems:X,offset:$,stackGroups:Y},re),V)},g=(function(v){function b(_){var w,S,j;return afe(this,b),j=lfe(this,b,[_]),pt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pt(j,"accessibilityManager",new Hde),pt(j,"handleLegendBBoxUpdate",function(C){if(C){var k=j.state,E=k.dataStartIndex,T=k.dataEndIndex,I=k.updateId;j.setState(Se({legendBBox:C},h({props:j.props,dataStartIndex:E,dataEndIndex:T,updateId:I},Se(Se({},j.state),{},{legendBBox:C}))))}}),pt(j,"handleReceiveSyncEvent",function(C,k,E){if(j.props.syncId===C){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),pt(j,"handleBrushChange",function(C){var k=C.startIndex,E=C.endIndex;if(k!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var T=j.state.updateId;j.setState(function(){return Se({dataStartIndex:k,dataEndIndex:E},h({props:j.props,dataStartIndex:k,dataEndIndex:E,updateId:T},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),pt(j,"handleMouseEnter",function(C){var k=j.getMouseInfo(C);if(k){var E=Se(Se({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var T=j.props.onMouseEnter;St(T)&&T(E,C)}}),pt(j,"triggeredAfterMouseMove",function(C){var k=j.getMouseInfo(C),E=k?Se(Se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var T=j.props.onMouseMove;St(T)&&T(E,C)}),pt(j,"handleItemMouseEnter",function(C){j.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),pt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),pt(j,"handleMouseMove",function(C){C.persist(),j.throttleTriggeredAfterMouseMove(C)}),pt(j,"handleMouseLeave",function(C){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var E=j.props.onMouseLeave;St(E)&&E(k,C)}),pt(j,"handleOuterEvent",function(C){var k=cX(C),E=Ai(j.props,"".concat(k));if(k&&St(E)){var T,I;/.*touch.*/i.test(k)?I=j.getMouseInfo(C.changedTouches[0]):I=j.getMouseInfo(C),E((T=I)!==null&&T!==void 0?T:{},C)}}),pt(j,"handleClick",function(C){var k=j.getMouseInfo(C);if(k){var E=Se(Se({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var T=j.props.onClick;St(T)&&T(E,C)}}),pt(j,"handleMouseDown",function(C){var k=j.props.onMouseDown;if(St(k)){var E=j.getMouseInfo(C);k(E,C)}}),pt(j,"handleMouseUp",function(C){var k=j.props.onMouseUp;if(St(k)){var E=j.getMouseInfo(C);k(E,C)}}),pt(j,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),pt(j,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseDown(C.changedTouches[0])}),pt(j,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseUp(C.changedTouches[0])}),pt(j,"handleDoubleClick",function(C){var k=j.props.onDoubleClick;if(St(k)){var E=j.getMouseInfo(C);k(E,C)}}),pt(j,"handleContextMenu",function(C){var k=j.props.onContextMenu;if(St(k)){var E=j.getMouseInfo(C);k(E,C)}}),pt(j,"triggerSyncEvent",function(C){j.props.syncId!==void 0&&ow.emit(sw,j.props.syncId,C,j.eventEmitterSymbol)}),pt(j,"applySyncEvent",function(C){var k=j.props,E=k.layout,T=k.syncMethod,I=j.state.updateId,A=C.dataStartIndex,L=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)j.setState(Se({dataStartIndex:A,dataEndIndex:L},h({props:j.props,dataStartIndex:A,dataEndIndex:L,updateId:I},j.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,F=C.chartY,X=C.activeTooltipIndex,Y=j.state,V=Y.offset,$=Y.tooltipTicks;if(!V)return;if(typeof T=="function")X=T($,C);else if(T==="value"){X=-1;for(var ie=0;ie<$.length;ie++)if($[ie].value===C.activeLabel){X=ie;break}}var re=Se(Se({},V),{},{x:V.left,y:V.top}),se=Math.min(D,re.x+re.width),M=Math.min(F,re.y+re.height),U=$[X]&&$[X].value,z=w5(j.state,j.props.data,X),Z=$[X]?{x:E==="horizontal"?$[X].coordinate:se,y:E==="horizontal"?M:$[X].coordinate}:fD;j.setState(Se(Se({},C),{},{activeLabel:U,activeCoordinate:Z,activePayload:z,activeTooltipIndex:X}))}else j.setState(C)}),pt(j,"renderCursor",function(C){var k,E=j.state,T=E.isTooltipActive,I=E.activeCoordinate,A=E.activePayload,L=E.offset,D=E.activeTooltipIndex,F=E.tooltipAxisBandSize,X=j.getTooltipEventType(),Y=(k=C.props.active)!==null&&k!==void 0?k:T,V=j.props.layout,$=C.key||"_recharts-cursor";return K.createElement(Zde,{key:$,activeCoordinate:I,activePayload:A,activeTooltipIndex:D,chartName:r,element:C,isActive:Y,layout:V,offset:L,tooltipAxisBandSize:F,tooltipEventType:X})}),pt(j,"renderPolarAxis",function(C,k,E){var T=Ai(C,"type.axisType"),I=Ai(j.state,"".concat(T,"Map")),A=C.type.defaultProps,L=A!==void 0?Se(Se({},A),C.props):C.props,D=I&&I[L["".concat(T,"Id")]];return N.cloneElement(C,Se(Se({},D),{},{className:It(T,D.className),key:C.key||"".concat(k,"-").concat(E),ticks:Po(D,!0)}))}),pt(j,"renderPolarGrid",function(C){var k=C.props,E=k.radialLines,T=k.polarAngles,I=k.polarRadius,A=j.state,L=A.radiusAxisMap,D=A.angleAxisMap,F=xs(L),X=xs(D),Y=X.cx,V=X.cy,$=X.innerRadius,ie=X.outerRadius;return N.cloneElement(C,{polarAngles:Array.isArray(T)?T:Po(X,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(I)?I:Po(F,!0).map(function(re){return re.coordinate}),cx:Y,cy:V,innerRadius:$,outerRadius:ie,key:C.key||"polar-grid",radialLines:E})}),pt(j,"renderLegend",function(){var C=j.state.formattedGraphicalItems,k=j.props,E=k.children,T=k.width,I=k.height,A=j.props.margin||{},L=T-(A.left||0)-(A.right||0),D=XR({children:E,formattedGraphicalItems:C,legendWidth:L,legendContent:u});if(!D)return null;var F=D.item,X=KE(D,Qde);return N.cloneElement(F,Se(Se({},X),{},{chartWidth:T,chartHeight:I,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),pt(j,"renderTooltip",function(){var C,k=j.props,E=k.children,T=k.accessibilityLayer,I=wi(E,la);if(!I)return null;var A=j.state,L=A.isTooltipActive,D=A.activeCoordinate,F=A.activePayload,X=A.activeLabel,Y=A.offset,V=(C=I.props.active)!==null&&C!==void 0?C:L;return N.cloneElement(I,{viewBox:Se(Se({},Y),{},{x:Y.left,y:Y.top}),active:V,label:X,payload:V?F:[],coordinate:D,accessibilityLayer:T})}),pt(j,"renderBrush",function(C){var k=j.props,E=k.margin,T=k.data,I=j.state,A=I.offset,L=I.dataStartIndex,D=I.dataEndIndex,F=I.updateId;return N.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Ep(j.handleBrushChange,C.props.onChange),data:T,x:Ie(C.props.x)?C.props.x:A.left,y:Ie(C.props.y)?C.props.y:A.top+A.height+A.brushBottom-(E.bottom||0),width:Ie(C.props.width)?C.props.width:A.width,startIndex:L,endIndex:D,updateId:"brush-".concat(F)})}),pt(j,"renderReferenceElement",function(C,k,E){if(!C)return null;var T=j,I=T.clipPathId,A=j.state,L=A.xAxisMap,D=A.yAxisMap,F=A.offset,X=C.type.defaultProps||{},Y=C.props,V=Y.xAxisId,$=V===void 0?X.xAxisId:V,ie=Y.yAxisId,re=ie===void 0?X.yAxisId:ie;return N.cloneElement(C,{key:C.key||"".concat(k,"-").concat(E),xAxis:L[$],yAxis:D[re],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:I})}),pt(j,"renderActivePoints",function(C){var k=C.item,E=C.activePoint,T=C.basePoint,I=C.childIndex,A=C.isRange,L=[],D=k.props.key,F=k.item.type.defaultProps!==void 0?Se(Se({},k.item.type.defaultProps),k.item.props):k.item.props,X=F.activeDot,Y=F.dataKey,V=Se(Se({index:I,dataKey:Y,cx:E.x,cy:E.y,r:4,fill:uS(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},bt(X,!1)),sm(X));return L.push(b.renderActiveDot(X,V,"".concat(D,"-activePoint-").concat(I))),T?L.push(b.renderActiveDot(X,Se(Se({},V),{},{cx:T.x,cy:T.y}),"".concat(D,"-basePoint-").concat(I))):A&&L.push(null),L}),pt(j,"renderGraphicChild",function(C,k,E){var T=j.filterFormatItem(C,k,E);if(!T)return null;var I=j.getTooltipEventType(),A=j.state,L=A.isTooltipActive,D=A.tooltipAxis,F=A.activeTooltipIndex,X=A.activeLabel,Y=j.props.children,V=wi(Y,la),$=T.props,ie=$.points,re=$.isRange,se=$.baseLine,M=T.item.type.defaultProps!==void 0?Se(Se({},T.item.type.defaultProps),T.item.props):T.item.props,U=M.activeDot,z=M.hide,Z=M.activeBar,le=M.activeShape,oe=!!(!z&&L&&V&&(U||Z||le)),de={};I!=="axis"&&V&&V.props.trigger==="click"?de={onClick:Ep(j.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(de={onMouseLeave:Ep(j.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Ep(j.handleItemMouseEnter,C.props.onMouseEnter)});var ae=N.cloneElement(C,Se(Se({},T.props),de));function he(Ke){return typeof D.dataKey=="function"?D.dataKey(Ke.payload):null}if(oe)if(F>=0){var ge,ue;if(D.dataKey&&!D.allowDuplicatedCategory){var ke=typeof D.dataKey=="function"?he:"payload.".concat(D.dataKey.toString());ge=r2(ie,ke,X),ue=re&&se&&r2(se,ke,X)}else ge=ie==null?void 0:ie[F],ue=re&&se&&se[F];if(le||Z){var me=C.props.activeIndex!==void 0?C.props.activeIndex:F;return[N.cloneElement(C,Se(Se(Se({},T.props),de),{},{activeIndex:me})),null,null]}if(!$t(ge))return[ae].concat(Lu(j.renderActivePoints({item:T,activePoint:ge,basePoint:ue,childIndex:F,isRange:re})))}else{var Q,We=(Q=j.getItemByXY(j.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:ae},Fe=We.graphicalItem,Ue=Fe.item,Pe=Ue===void 0?C:Ue,Qe=Fe.childIndex,Le=Se(Se(Se({},T.props),de),{},{activeIndex:Qe});return[N.cloneElement(Pe,Le),null,null]}return re?[ae,null,null]:[ae,null]}),pt(j,"renderCustomized",function(C,k,E){return N.cloneElement(C,Se(Se({key:"recharts-customized-".concat(E)},j.props),j.state))}),pt(j,"renderMap",{CartesianGrid:{handler:Mp,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Mp},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Mp},YAxis:{handler:Mp},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:fh("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=YL(j.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return dfe(b,v),sfe(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,C=w.height,k=w.layout,E=wi(S,la);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,A=w5(this.state,j,T,I),L=this.state.tooltipTicks[T].coordinate,D=(this.state.offset.top+C)/2,F=k==="horizontal",X=F?{x:L,y:D}:{y:L,x:D},Y=this.state.formattedGraphicalItems.find(function($){var ie=$.item;return ie.type.name==="Scatter"});Y&&(X=Se(Se({},X),Y.props.points[T].tooltipPosition),A=Y.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:I,activePayload:A,activeCoordinate:X};this.setState(V),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,C;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){i2([wi(w.children,la)],[wi(this.props.children,la)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=wi(this.props.children,la);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),C=XQ(j),k={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},E=j.width/S.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,E);if(!T)return null;var I=this.state,A=I.xAxisMap,L=I.yAxisMap,D=this.getTooltipEventType(),F=JE(this.state,this.props.data,this.props.layout,T);if(D!=="axis"&&A&&L){var X=xs(A).scale,Y=xs(L).scale,V=X&&X.invert?X.invert(k.chartX):null,$=Y&&Y.invert?Y.invert(k.chartY):null;return Se(Se({},k),{},{xValue:V,yValue:$},F)}return F?Se(Se({},k),F):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=w/j,E=S/j;if(C==="horizontal"||C==="vertical"){var T=this.state.offset,I=k>=T.left&&k<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return I?{x:k,y:E}:null}var A=this.state,L=A.angleAxisMap,D=A.radiusAxisMap;if(L&&D){var F=xs(L);return rO({x:k,y:E},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=wi(w,la),C={};j&&S==="axis"&&(j.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=sm(this.props,this.handleOuterEvent);return Se(Se({},k),C)}},{key:"addListener",value:function(){ow.on(sw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ow.removeListener(sw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var C=this.state.formattedGraphicalItems,k=0,E=C.length;k<E;k++){var T=C[k];if(T.item===w||T.props.key===w.key||S===Oo(T.item.type)&&j===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,C=S.top,k=S.height,E=S.width;return K.createElement("defs",null,K.createElement("clipPath",{id:w},K.createElement("rect",{x:j,y:C,height:k,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var C=YE(j,2),k=C[0],E=C[1];return Se(Se({},S),{},pt({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var C=YE(j,2),k=C[0],E=C[1];return Se(Se({},S),{},pt({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,C=S.activeItem;if(j&&j.length)for(var k=0,E=j.length;k<E;k++){var T=j[k],I=T.props,A=T.item,L=A.type.defaultProps!==void 0?Se(Se({},A.type.defaultProps),A.props):A.props,D=Oo(A.type);if(D==="Bar"){var F=(I.data||[]).find(function($){return hse(w,$)});if(F)return{graphicalItem:T,payload:F}}else if(D==="RadialBar"){var X=(I.data||[]).find(function($){return rO(w,$)});if(X)return{graphicalItem:T,payload:X}}else if(uv(T,C)||dv(T,C)||Vf(T,C)){var Y=Mle({graphicalItem:T,activeTooltipItem:C,itemData:L.data}),V=L.activeIndex===void 0?Y:L.activeIndex;return{graphicalItem:Se(Se({},T),{},{childIndex:V}),payload:Vf(T,C)?L.data[Y]:T.props.data[Y]}}}return null}},{key:"render",value:function(){var w=this;if(!pP(this))return null;var S=this.props,j=S.children,C=S.className,k=S.width,E=S.height,T=S.style,I=S.compact,A=S.title,L=S.desc,D=KE(S,efe),F=bt(D,!1);if(I)return K.createElement(TE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(o2,Xc({},F,{width:k,height:E,title:A,desc:L}),this.renderClipPath(),gP(j,this.renderMap)));if(this.props.accessibilityLayer){var X,Y;F.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,F.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",F.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},F.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return K.createElement(TE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Xc({className:It("recharts-wrapper",C),style:Se({position:"relative",cursor:"default",width:k,height:E},T)},V,{ref:function(ie){w.container=ie}}),K.createElement(o2,Xc({},F,{width:k,height:E,title:A,desc:L,style:vfe}),this.renderClipPath(),gP(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);pt(g,"displayName",r),pt(g,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pt(g,"getDerivedStateFromProps",function(v,b){var _=v.dataKey,w=v.data,S=v.children,j=v.width,C=v.height,k=v.layout,E=v.stackOffset,T=v.margin,I=b.dataStartIndex,A=b.dataEndIndex;if(b.updateId===void 0){var L=ZE(v);return Se(Se(Se({},L),{},{updateId:0},h(Se(Se({props:v},L),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:w,prevWidth:j,prevHeight:C,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:S})}if(_!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||C!==b.prevHeight||k!==b.prevLayout||E!==b.prevStackOffset||!ru(T,b.prevMargin)){var D=ZE(v),F={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},X=Se(Se({},JE(b,w,k)),{},{updateId:b.updateId+1}),Y=Se(Se(Se({},D),F),X);return Se(Se(Se({},Y),h(Se({props:v},Y),b)),{},{prevDataKey:_,prevData:w,prevWidth:j,prevHeight:C,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:S})}if(!i2(S,b.prevChildren)){var V,$,ie,re,se=wi(S,Nu),M=se&&(V=($=se.props)===null||$===void 0?void 0:$.startIndex)!==null&&V!==void 0?V:I,U=se&&(ie=(re=se.props)===null||re===void 0?void 0:re.endIndex)!==null&&ie!==void 0?ie:A,z=M!==I||U!==A,Z=!$t(w),le=Z&&!z?b.updateId:b.updateId+1;return Se(Se({updateId:le},h(Se(Se({props:v},b),{},{updateId:le,dataStartIndex:M,dataEndIndex:U}),b)),{},{prevChildren:S,dataStartIndex:M,dataEndIndex:U})}return null}),pt(g,"renderActiveDot",function(v,b,_){var w;return N.isValidElement(v)?w=N.cloneElement(v,b):St(v)?w=v(b):w=K.createElement(fS,b),K.createElement(ur,{className:"recharts-active-dot",key:_},w)});var m=N.forwardRef(function(b,_){return K.createElement(g,Xc({},b,{ref:_}))});return m.displayName=g.displayName,m},Pfe=pD({chartName:"BarChart",GraphicalChild:Zl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vv},{axisType:"yAxis",AxisComp:yv}],formatAxisMap:Fce}),kfe=pD({chartName:"PieChart",GraphicalChild:Vo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cv},{axisType:"radiusAxis",AxisComp:sv}],formatAxisMap:kie,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Cfe=["top","right","bottom","left"],Os=Math.min,_i=Math.max,rg=Math.round,Dp=Math.floor,Ha=t=>({x:t,y:t}),Ofe={left:"right",right:"left",bottom:"top",top:"bottom"},Efe={start:"end",end:"start"};function _5(t,e,r){return _i(t,Os(e,r))}function qo(t,e){return typeof t=="function"?t(e):t}function Uo(t){return t.split("-")[0]}function Zu(t){return t.split("-")[1]}function _S(t){return t==="x"?"y":"x"}function SS(t){return t==="y"?"height":"width"}const Tfe=new Set(["top","bottom"]);function qa(t){return Tfe.has(Uo(t))?"y":"x"}function jS(t){return _S(qa(t))}function Ife(t,e,r){r===void 0&&(r=!1);const n=Zu(t),i=jS(t),a=SS(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=ng(o)),[o,ng(o)]}function Lfe(t){const e=ng(t);return[S5(t),e,S5(e)]}function S5(t){return t.replace(/start|end/g,e=>Efe[e])}const e6=["left","right"],t6=["right","left"],Rfe=["top","bottom"],Mfe=["bottom","top"];function Dfe(t,e,r){switch(t){case"top":case"bottom":return r?e?t6:e6:e?e6:t6;case"left":case"right":return e?Rfe:Mfe;default:return[]}}function $fe(t,e,r,n){const i=Zu(t);let a=Dfe(Uo(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(S5)))),a}function ng(t){return t.replace(/left|right|bottom|top/g,e=>Ofe[e])}function Ffe(t){return{top:0,right:0,bottom:0,left:0,...t}}function mD(t){return typeof t!="number"?Ffe(t):{top:t,right:t,bottom:t,left:t}}function ig(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function r6(t,e,r){let{reference:n,floating:i}=t;const a=qa(e),o=jS(e),s=SS(o),l=Uo(e),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:d,y:n.y-i.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Zu(e)){case"start":h[o]-=p*(r&&u?-1:1);break;case"end":h[o]+=p*(r&&u?-1:1);break}return h}const Bfe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=r6(u,n,l),p=n,h={},g=0;for(let m=0;m<s.length;m++){const{name:v,fn:b}=s[m],{x:_,y:w,data:S,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=w??f,h={...h,[v]:{...h[v],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:d,y:f}=r6(u,p,l)),m=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:h}};async function Qf(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=qo(e,t),g=mD(h),v=s[p?f==="floating"?"reference":"floating":f],b=ig(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),_=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},j=ig(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:w,strategy:l}):_);return{top:(b.top-j.top+g.top)/S.y,bottom:(j.bottom-b.bottom+g.bottom)/S.y,left:(b.left-j.left+g.left)/S.x,right:(j.right-b.right+g.right)/S.x}}const qfe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:d=0}=qo(t,e)||{};if(u==null)return{};const f=mD(d),p={x:r,y:n},h=jS(i),g=SS(h),m=await o.getDimensions(u),v=h==="y",b=v?"top":"left",_=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[h]-p[h]-a.floating[g],j=p[h]-a.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=C?C[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=s.floating[w]||a.floating[g]);const E=S/2-j/2,T=k/2-m[g]/2-1,I=Os(f[b],T),A=Os(f[_],T),L=I,D=k-m[g]-A,F=k/2-m[g]/2+E,X=_5(L,F,D),Y=!l.arrow&&Zu(i)!=null&&F!==X&&a.reference[g]/2-(F<L?I:A)-m[g]/2<0,V=Y?F<L?F-L:F-D:0;return{[h]:p[h]+V,data:{[h]:X,centerOffset:F-X-V,...Y&&{alignmentOffset:V}},reset:Y}}}),Ufe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=qo(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Uo(i),_=qa(s),w=Uo(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=p||(w||!m?[ng(s)]:Lfe(s)),C=g!=="none";!p&&C&&j.push(...$fe(s,m,g,S));const k=[s,...j],E=await Qf(e,v),T=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[b]),f){const F=Ife(i,o,S);T.push(E[F[0]],E[F[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(F=>F<=0)){var A,L;const F=(((A=a.flip)==null?void 0:A.index)||0)+1,X=k[F];if(X&&(!(f==="alignment"?_!==qa(X):!1)||I.every($=>qa($.placement)===_?$.overflows[0]>0:!0)))return{data:{index:F,overflows:I},reset:{placement:X}};let Y=(L=I.filter(V=>V.overflows[0]<=0).sort((V,$)=>V.overflows[1]-$.overflows[1])[0])==null?void 0:L.placement;if(!Y)switch(h){case"bestFit":{var D;const V=(D=I.filter($=>{if(C){const ie=qa($.placement);return ie===_||ie==="y"}return!0}).map($=>[$.placement,$.overflows.filter(ie=>ie>0).reduce((ie,re)=>ie+re,0)]).sort(($,ie)=>$[1]-ie[1])[0])==null?void 0:D[0];V&&(Y=V);break}case"initialPlacement":Y=s;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function n6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function i6(t){return Cfe.some(e=>t[e]>=0)}const zfe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=qo(t,e);switch(n){case"referenceHidden":{const a=await Qf(e,{...i,elementContext:"reference"}),o=n6(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:i6(o)}}}case"escaped":{const a=await Qf(e,{...i,altBoundary:!0}),o=n6(a,r.floating);return{data:{escapedOffsets:o,escaped:i6(o)}}}default:return{}}}}},gD=new Set(["left","top"]);async function Wfe(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Uo(r),s=Zu(r),l=qa(r)==="y",u=gD.has(o)?-1:1,d=a&&l?-1:1,f=qo(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),l?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const Hfe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await Wfe(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Vfe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...l}=qo(t,e),u={x:r,y:n},d=await Qf(e,l),f=qa(Uo(i)),p=_S(f);let h=u[p],g=u[f];if(a){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=h+d[v],w=h-d[b];h=_5(_,h,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=g+d[v],w=g-d[b];g=_5(_,g,w)}const m=s.fn({...e,[p]:h,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[f]:o}}}}}},Gfe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=qo(t,e),d={x:r,y:n},f=qa(i),p=_S(f);let h=d[p],g=d[f];const m=qo(s,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=p==="y"?"height":"width",S=a.reference[p]-a.floating[w]+v.mainAxis,j=a.reference[p]+a.reference[w]-v.mainAxis;h<S?h=S:h>j&&(h=j)}if(u){var b,_;const w=p==="y"?"width":"height",S=gD.has(Uo(i)),j=a.reference[f]-a.floating[w]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:v.crossAxis),C=a.reference[f]+a.reference[w]+(S?0:((_=o.offset)==null?void 0:_[f])||0)-(S?v.crossAxis:0);g<j?g=j:g>C&&(g=C)}return{[p]:h,[f]:g}}}},Yfe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...u}=qo(t,e),d=await Qf(e,u),f=Uo(i),p=Zu(i),h=qa(i)==="y",{width:g,height:m}=a.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,v=p==="end"?"top":"bottom");const _=m-d.top-d.bottom,w=g-d.left-d.right,S=Os(m-d[v],_),j=Os(g-d[b],w),C=!e.middlewareData.shift;let k=S,E=j;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=_),C&&!p){const I=_i(d.left,0),A=_i(d.right,0),L=_i(d.top,0),D=_i(d.bottom,0);h?E=g-2*(I!==0||A!==0?I+A:_i(d.left,d.right)):k=m-2*(L!==0||D!==0?L+D:_i(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:k});const T=await o.getDimensions(s.floating);return g!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function xv(){return typeof window<"u"}function Qu(t){return vD(t)?(t.nodeName||"").toLowerCase():"#document"}function Pi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eo(t){var e;return(e=(vD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vD(t){return xv()?t instanceof Node||t instanceof Pi(t).Node:!1}function ma(t){return xv()?t instanceof Element||t instanceof Pi(t).Element:!1}function Ka(t){return xv()?t instanceof HTMLElement||t instanceof Pi(t).HTMLElement:!1}function a6(t){return!xv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pi(t).ShadowRoot}const Kfe=new Set(["inline","contents"]);function yh(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ga(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Kfe.has(i)}const Xfe=new Set(["table","td","th"]);function Jfe(t){return Xfe.has(Qu(t))}const Zfe=[":popover-open",":modal"];function wv(t){return Zfe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Qfe=["transform","translate","scale","rotate","perspective"],ehe=["transform","translate","scale","rotate","perspective","filter"],the=["paint","layout","strict","content"];function NS(t){const e=AS(),r=ma(t)?ga(t):t;return Qfe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||ehe.some(n=>(r.willChange||"").includes(n))||the.some(n=>(r.contain||"").includes(n))}function rhe(t){let e=Es(t);for(;Ka(e)&&!Ru(e);){if(NS(e))return e;if(wv(e))return null;e=Es(e)}return null}function AS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nhe=new Set(["html","body","#document"]);function Ru(t){return nhe.has(Qu(t))}function ga(t){return Pi(t).getComputedStyle(t)}function _v(t){return ma(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Es(t){if(Qu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||a6(t)&&t.host||eo(t);return a6(e)?e.host:e}function yD(t){const e=Es(t);return Ru(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ka(e)&&yh(e)?e:yD(e)}function eh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=yD(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Pi(i);if(a){const s=j5(o);return e.concat(o,o.visualViewport||[],yh(i)?i:[],s&&r?eh(s):[])}return e.concat(i,eh(i,[],r))}function j5(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bD(t){const e=ga(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ka(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=rg(r)!==a||rg(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function PS(t){return ma(t)?t:t.contextElement}function ou(t){const e=PS(t);if(!Ka(e))return Ha(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=bD(e);let o=(a?rg(r.width):r.width)/n,s=(a?rg(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const ihe=Ha(0);function xD(t){const e=Pi(t);return!AS()||!e.visualViewport?ihe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ahe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Pi(t)?!1:e}function Bl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=PS(t);let o=Ha(1);e&&(n?ma(n)&&(o=ou(n)):o=ou(t));const s=ahe(a,r,n)?xD(a):Ha(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const p=Pi(a),h=n&&ma(n)?Pi(n):n;let g=p,m=j5(g);for(;m&&n&&h!==g;){const v=ou(m),b=m.getBoundingClientRect(),_=ga(m),w=b.left+(m.clientLeft+parseFloat(_.paddingLeft))*v.x,S=b.top+(m.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=w,u+=S,g=Pi(m),m=j5(g)}}return ig({width:d,height:f,x:l,y:u})}function Sv(t,e){const r=_v(t).scrollLeft;return e?e.left+r:Bl(eo(t)).left+r}function wD(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Sv(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function ohe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=eo(n),s=e?wv(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Ha(1);const d=Ha(0),f=Ka(n);if((f||!f&&!a)&&((Qu(n)!=="body"||yh(o))&&(l=_v(n)),Ka(n))){const h=Bl(n);u=ou(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=o&&!f&&!a?wD(o,l):Ha(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-l.scrollTop*u.y+d.y+p.y}}function she(t){return Array.from(t.getClientRects())}function lhe(t){const e=eo(t),r=_v(t),n=t.ownerDocument.body,i=_i(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=_i(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Sv(t);const s=-r.scrollTop;return ga(n).direction==="rtl"&&(o+=_i(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}const o6=25;function che(t,e){const r=Pi(t),n=eo(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const d=AS();(!d||d&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const u=Sv(n);if(u<=0){const d=n.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-h);g<=o6&&(a-=g)}else u<=o6&&(a+=u);return{width:a,height:o,x:s,y:l}}const uhe=new Set(["absolute","fixed"]);function dhe(t,e){const r=Bl(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Ka(t)?ou(t):Ha(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:o,height:s,x:l,y:u}}function s6(t,e,r){let n;if(e==="viewport")n=che(t,r);else if(e==="document")n=lhe(eo(t));else if(ma(e))n=dhe(e,r);else{const i=xD(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ig(n)}function _D(t,e){const r=Es(t);return r===e||!ma(r)||Ru(r)?!1:ga(r).position==="fixed"||_D(r,e)}function fhe(t,e){const r=e.get(t);if(r)return r;let n=eh(t,[],!1).filter(s=>ma(s)&&Qu(s)!=="body"),i=null;const a=ga(t).position==="fixed";let o=a?Es(t):t;for(;ma(o)&&!Ru(o);){const s=ga(o),l=NS(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&uhe.has(i.position)||yh(o)&&!l&&_D(t,o))?n=n.filter(d=>d!==o):i=s,o=Es(o)}return e.set(t,n),n}function hhe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?wv(e)?[]:fhe(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=s6(e,d,i);return u.top=_i(f.top,u.top),u.right=Os(f.right,u.right),u.bottom=Os(f.bottom,u.bottom),u.left=_i(f.left,u.left),u},s6(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function phe(t){const{width:e,height:r}=bD(t);return{width:e,height:r}}function mhe(t,e,r){const n=Ka(e),i=eo(e),a=r==="fixed",o=Bl(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=Ha(0);function u(){l.x=Sv(i)}if(n||!n&&!a)if((Qu(e)!=="body"||yh(i))&&(s=_v(e)),n){const h=Bl(e,!0,a,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?wD(i,s):Ha(0),f=o.left+s.scrollLeft-l.x-d.x,p=o.top+s.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function cw(t){return ga(t).position==="static"}function l6(t,e){if(!Ka(t)||ga(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return eo(t)===r&&(r=r.ownerDocument.body),r}function SD(t,e){const r=Pi(t);if(wv(t))return r;if(!Ka(t)){let i=Es(t);for(;i&&!Ru(i);){if(ma(i)&&!cw(i))return i;i=Es(i)}return r}let n=l6(t,e);for(;n&&Jfe(n)&&cw(n);)n=l6(n,e);return n&&Ru(n)&&cw(n)&&!NS(n)?r:n||rhe(t)||r}const ghe=async function(t){const e=this.getOffsetParent||SD,r=this.getDimensions,n=await r(t.floating);return{reference:mhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vhe(t){return ga(t).direction==="rtl"}const yhe={convertOffsetParentRelativeRectToViewportRelativeRect:ohe,getDocumentElement:eo,getClippingRect:hhe,getOffsetParent:SD,getElementRects:ghe,getClientRects:she,getDimensions:phe,getScale:ou,isElement:ma,isRTL:vhe};function jD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bhe(t,e){let r=null,n;const i=eo(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(s||e(),!p||!h)return;const g=Dp(f),m=Dp(i.clientWidth-(d+p)),v=Dp(i.clientHeight-(f+h)),b=Dp(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:_i(0,Os(1,l))||1};let S=!0;function j(C){const k=C[0].intersectionRatio;if(k!==l){if(!S)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!jD(u,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(t)}return o(!0),a}function xhe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=PS(t),d=i||a?[...u?eh(u):[],...eh(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&s?bhe(u,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!l&&h.observe(u),h.observe(e));let g,m=l?Bl(t):null;l&&v();function v(){const b=Bl(t);m&&!jD(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(_=>{i&&_.removeEventListener("scroll",r),a&&_.removeEventListener("resize",r)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const whe=Hfe,_he=Vfe,She=Ufe,jhe=Yfe,Nhe=zfe,c6=qfe,Ahe=Gfe,Phe=(t,e,r)=>{const n=new Map,i={platform:yhe,...r},a={...i.platform,_c:n};return Bfe(t,e,{...i,platform:a})};var khe=typeof document<"u",Che=function(){},Kp=khe?N.useLayoutEffect:Che;function ag(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ag(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!ag(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ND(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function u6(t,e){const r=ND(t);return Math.round(e*r)/r}function uw(t){const e=N.useRef(t);return Kp(()=>{e.current=t}),e}function Ohe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[d,f]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=N.useState(n);ag(p,n)||h(n);const[g,m]=N.useState(null),[v,b]=N.useState(null),_=N.useCallback($=>{$!==C.current&&(C.current=$,m($))},[]),w=N.useCallback($=>{$!==k.current&&(k.current=$,b($))},[]),S=a||g,j=o||v,C=N.useRef(null),k=N.useRef(null),E=N.useRef(d),T=l!=null,I=uw(l),A=uw(i),L=uw(u),D=N.useCallback(()=>{if(!C.current||!k.current)return;const $={placement:e,strategy:r,middleware:p};A.current&&($.platform=A.current),Phe(C.current,k.current,$).then(ie=>{const re={...ie,isPositioned:L.current!==!1};F.current&&!ag(E.current,re)&&(E.current=re,hg.flushSync(()=>{f(re)}))})},[p,e,r,A,L]);Kp(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const F=N.useRef(!1);Kp(()=>(F.current=!0,()=>{F.current=!1}),[]),Kp(()=>{if(S&&(C.current=S),j&&(k.current=j),S&&j){if(I.current)return I.current(S,j,D);D()}},[S,j,D,I,T]);const X=N.useMemo(()=>({reference:C,floating:k,setReference:_,setFloating:w}),[_,w]),Y=N.useMemo(()=>({reference:S,floating:j}),[S,j]),V=N.useMemo(()=>{const $={position:r,left:0,top:0};if(!Y.floating)return $;const ie=u6(Y.floating,d.x),re=u6(Y.floating,d.y);return s?{...$,transform:"translate("+ie+"px, "+re+"px)",...ND(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:re}},[r,s,Y.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:D,refs:X,elements:Y,floatingStyles:V}),[d,D,X,Y,V])}const Ehe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?c6({element:n.current,padding:i}).fn(r):{}:n?c6({element:n,padding:i}).fn(r):{}}}},The=(t,e)=>({...whe(t),options:[t,e]}),Ihe=(t,e)=>({..._he(t),options:[t,e]}),Lhe=(t,e)=>({...Ahe(t),options:[t,e]}),Rhe=(t,e)=>({...She(t),options:[t,e]}),Mhe=(t,e)=>({...jhe(t),options:[t,e]}),Dhe=(t,e)=>({...Nhe(t),options:[t,e]}),$he=(t,e)=>({...Ehe(t),options:[t,e]});var Fhe="Arrow",AD=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(ct.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});AD.displayName=Fhe;var Bhe=AD;function jv(t){const[e,r]=N.useState(void 0);return on(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var kS="Popper",[PD,Nv]=Qn(kS),[qhe,kD]=PD(kS),CD=t=>{const{__scopePopper:e,children:r}=t,[n,i]=N.useState(null);return c.jsx(qhe,{scope:e,anchor:n,onAnchorChange:i,children:r})};CD.displayName=kS;var OD="PopperAnchor",ED=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=kD(OD,r),o=N.useRef(null),s=Dt(e,o),l=N.useRef(null);return N.useEffect(()=>{const u=l.current;l.current=(n==null?void 0:n.current)||o.current,u!==l.current&&a.onAnchorChange(l.current)}),n?null:c.jsx(ct.div,{...i,ref:s})});ED.displayName=OD;var CS="PopperContent",[Uhe,zhe]=PD(CS),TD=N.forwardRef((t,e)=>{var oe,de,ae,he,ge,ue;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...m}=t,v=kD(CS,r),[b,_]=N.useState(null),w=Dt(e,ke=>_(ke)),[S,j]=N.useState(null),C=jv(S),k=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,T=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],L=A.length>0,D={padding:I,boundary:A.filter(Hhe),altBoundary:L},{refs:F,floatingStyles:X,placement:Y,isPositioned:V,middlewareData:$}=Ohe({strategy:"fixed",placement:T,whileElementsMounted:(...ke)=>xhe(...ke,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[The({mainAxis:i+E,alignmentAxis:o}),l&&Ihe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Lhe():void 0,...D}),l&&Rhe({...D}),Mhe({...D,apply:({elements:ke,rects:me,availableWidth:Q,availableHeight:We})=>{const{width:Fe,height:Ue}=me.reference,Pe=ke.floating.style;Pe.setProperty("--radix-popper-available-width",`${Q}px`),Pe.setProperty("--radix-popper-available-height",`${We}px`),Pe.setProperty("--radix-popper-anchor-width",`${Fe}px`),Pe.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),S&&$he({element:S,padding:s}),Vhe({arrowWidth:k,arrowHeight:E}),p&&Dhe({strategy:"referenceHidden",...D})]}),[ie,re]=RD(Y),se=$n(g);on(()=>{V&&(se==null||se())},[V,se]);const M=(oe=$.arrow)==null?void 0:oe.x,U=(de=$.arrow)==null?void 0:de.y,z=((ae=$.arrow)==null?void 0:ae.centerOffset)!==0,[Z,le]=N.useState();return on(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),c.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:V?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(he=$.transformOrigin)==null?void 0:he.x,(ge=$.transformOrigin)==null?void 0:ge.y].join(" "),...((ue=$.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Uhe,{scope:r,placedSide:ie,onArrowChange:j,arrowX:M,arrowY:U,shouldHideArrow:z,children:c.jsx(ct.div,{"data-side":ie,"data-align":re,...m,ref:w,style:{...m.style,animation:V?void 0:"none"}})})})});TD.displayName=CS;var ID="PopperArrow",Whe={top:"bottom",right:"left",bottom:"top",left:"right"},LD=N.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=zhe(ID,n),o=Whe[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(Bhe,{...i,ref:r,style:{...i.style,display:"block"}})})});LD.displayName=ID;function Hhe(t){return t!==null}var Vhe=t=>({name:"transformOrigin",options:t,fn(e){var v,b,_;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=RD(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,h=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=o?f:`${p}px`,m=`${-l}px`):u==="top"?(g=o?f:`${p}px`,m=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=o?f:`${h}px`):u==="left"&&(g=`${n.floating.width+l}px`,m=o?f:`${h}px`),{data:{x:g,y:m}}}});function RD(t){const[e,r="center"]=t.split("-");return[e,r]}var MD=CD,OS=ED,DD=TD,$D=LD,Av="Popover",[FD,Nbe]=Qn(Av,[Nv]),bh=Nv(),[Ghe,$s]=FD(Av),BD=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=bh(e),l=N.useRef(null),[u,d]=N.useState(!1),[f,p]=Io({prop:n,defaultProp:i??!1,onChange:a,caller:Av});return c.jsx(MD,{...s,children:c.jsx(Ghe,{scope:e,contentId:Co(),triggerRef:l,open:f,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};BD.displayName=Av;var qD="PopoverAnchor",Yhe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=$s(qD,r),a=bh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return N.useEffect(()=>(o(),()=>s()),[o,s]),c.jsx(OS,{...a,...n,ref:e})});Yhe.displayName=qD;var UD="PopoverTrigger",zD=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=$s(UD,r),a=bh(r),o=Dt(e,i.triggerRef),s=c.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YD(i.open),...n,ref:o,onClick:dt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:c.jsx(OS,{asChild:!0,...a,children:s})});zD.displayName=UD;var ES="PopoverPortal",[Khe,Xhe]=FD(ES,{forceMount:void 0}),WD=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=$s(ES,e);return c.jsx(Khe,{scope:e,forceMount:r,children:c.jsx(Oi,{present:r||a.open,children:c.jsx(_g,{asChild:!0,container:i,children:n})})})};WD.displayName=ES;var Mu="PopoverContent",HD=N.forwardRef((t,e)=>{const r=Xhe(Mu,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=$s(Mu,t.__scopePopover);return c.jsx(Oi,{present:n||a.open,children:a.modal?c.jsx(Zhe,{...i,ref:e}):c.jsx(Qhe,{...i,ref:e})})});HD.displayName=Mu;var Jhe=Cl("PopoverContent.RemoveScroll"),Zhe=N.forwardRef((t,e)=>{const r=$s(Mu,t.__scopePopover),n=N.useRef(null),i=Dt(e,n),a=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return i_(o)},[]),c.jsx(jg,{as:Jhe,allowPinchZoom:!0,children:c.jsx(VD,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:dt(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:dt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Qhe=N.forwardRef((t,e)=>{const r=$s(Mu,t.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return c.jsx(VD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),VD=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=t,p=$s(Mu,r),h=bh(r);return n_(),c.jsx(wg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(xg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:c.jsx(DD,{"data-state":YD(p.open),role:"dialog",id:p.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),GD="PopoverClose",epe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=$s(GD,r);return c.jsx(ct.button,{type:"button",...n,ref:e,onClick:dt(t.onClick,()=>i.onOpenChange(!1))})});epe.displayName=GD;var tpe="PopoverArrow",rpe=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bh(r);return c.jsx($D,{...i,...n,ref:e})});rpe.displayName=tpe;function YD(t){return t?"open":"closed"}var npe=BD,ipe=zD,ape=WD,ope=HD;function spe({...t}){return c.jsx(npe,{"data-slot":"popover",...t})}function lpe({...t}){return c.jsx(ipe,{"data-slot":"popover-trigger",...t})}function cpe({className:t,align:e="center",sideOffset:r=4,...n}){return c.jsx(ape,{children:c.jsx(ope,{"data-slot":"popover-content",align:e,sideOffset:r,className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function Xt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ki(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Vn(t,e){const r=Xt(t);return isNaN(e)?ki(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function va(t,e){const r=Xt(t);if(isNaN(e))return ki(t,NaN);if(!e)return r;const n=r.getDate(),i=ki(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const TS=6048e5,upe=864e5;let dpe={};function xh(){return dpe}function Xa(t,e){var s,l,u,d;const r=xh(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Xt(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ql(t){return Xa(t,{weekStartsOn:1})}function KD(t){const e=Xt(t),r=e.getFullYear(),n=ki(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=ql(n),a=ki(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ql(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Du(t){const e=Xt(t);return e.setHours(0,0,0,0),e}function og(t){const e=Xt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ua(t,e){const r=Du(t),n=Du(e),i=+r-og(r),a=+n-og(n);return Math.round((i-a)/upe)}function fpe(t){const e=KD(t),r=ki(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ql(r)}function N5(t,e){const r=e*7;return Vn(t,r)}function hpe(t,e){return va(t,e*12)}function ppe(t){let e;return t.forEach(function(r){const n=Xt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function mpe(t){let e;return t.forEach(r=>{const n=Xt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function si(t,e){const r=Du(t),n=Du(e);return+r==+n}function IS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gpe(t){if(!IS(t)&&typeof t!="number")return!1;const e=Xt(t);return!isNaN(Number(e))}function th(t,e){const r=Xt(t),n=Xt(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function vpe(t,e,r){const n=Xa(t,r),i=Xa(e,r),a=+n-og(n),o=+i-og(i);return Math.round((a-o)/TS)}function LS(t){const e=Xt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function li(t){const e=Xt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function XD(t){const e=Xt(t),r=ki(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function RS(t,e){var s,l,u,d;const r=xh(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Xt(t),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function JD(t){return RS(t,{weekStartsOn:1})}const ype={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bpe=(t,e,r)=>{let n;const i=ype[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function dw(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const xpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Spe={date:dw({formats:xpe,defaultWidth:"full"}),time:dw({formats:wpe,defaultWidth:"full"}),dateTime:dw({formats:_pe,defaultWidth:"full"})},jpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Npe=(t,e,r,n)=>jpe[t];function Vd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Ape={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ppe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ope={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Epe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tpe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ipe={ordinalNumber:Tpe,era:Vd({values:Ape,defaultWidth:"wide"}),quarter:Vd({values:Ppe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vd({values:kpe,defaultWidth:"wide"}),day:Vd({values:Cpe,defaultWidth:"wide"}),dayPeriod:Vd({values:Ope,defaultWidth:"wide",formattingValues:Epe,defaultFormattingWidth:"wide"})};function Gd(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Rpe(s,f=>f.test(o)):Lpe(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Lpe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Rpe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Mpe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const Dpe=/^(\d+)(th|st|nd|rd)?/i,$pe=/\d+/i,Fpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bpe={any:[/^b/i,/^(a|c)/i]},qpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Upe={any:[/1/i,/2/i,/3/i,/4/i]},zpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ype={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kpe={ordinalNumber:Mpe({matchPattern:Dpe,parsePattern:$pe,valueCallback:t=>parseInt(t,10)}),era:Gd({matchPatterns:Fpe,defaultMatchWidth:"wide",parsePatterns:Bpe,defaultParseWidth:"any"}),quarter:Gd({matchPatterns:qpe,defaultMatchWidth:"wide",parsePatterns:Upe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gd({matchPatterns:zpe,defaultMatchWidth:"wide",parsePatterns:Wpe,defaultParseWidth:"any"}),day:Gd({matchPatterns:Hpe,defaultMatchWidth:"wide",parsePatterns:Vpe,defaultParseWidth:"any"}),dayPeriod:Gd({matchPatterns:Gpe,defaultMatchWidth:"any",parsePatterns:Ype,defaultParseWidth:"any"})},ZD={code:"en-US",formatDistance:bpe,formatLong:Spe,formatRelative:Npe,localize:Ipe,match:Kpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xpe(t){const e=Xt(t);return Ua(e,XD(e))+1}function QD(t){const e=Xt(t),r=+ql(e)-+fpe(e);return Math.round(r/TS)+1}function e7(t,e){var d,f,p,h;const r=Xt(t),n=r.getFullYear(),i=xh(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=ki(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Xa(o,e),l=ki(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=Xa(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Jpe(t,e){var s,l,u,d;const r=xh(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=e7(t,e),a=ki(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Xa(a,e)}function t7(t,e){const r=Xt(t),n=+Xa(r,e)-+Jpe(r,e);return Math.round(n/TS)+1}function sr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const fs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return sr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):sr(r+1,2)},d(t,e){return sr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return sr(t.getHours()%12||12,e.length)},H(t,e){return sr(t.getHours(),e.length)},m(t,e){return sr(t.getMinutes(),e.length)},s(t,e){return sr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return sr(i,e.length)}},Mc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d6={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return fs.y(t,e)},Y:function(t,e,r,n){const i=e7(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return sr(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):sr(a,e.length)},R:function(t,e){const r=KD(t);return sr(r,e.length)},u:function(t,e){const r=t.getFullYear();return sr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return sr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return sr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return fs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return sr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=t7(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):sr(i,e.length)},I:function(t,e,r){const n=QD(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):sr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):fs.d(t,e)},D:function(t,e,r){const n=Xpe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):sr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return sr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return sr(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return sr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Mc.noon:n===0?i=Mc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Mc.evening:n>=12?i=Mc.afternoon:n>=4?i=Mc.morning:i=Mc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):fs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):sr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):fs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):fs.s(t,e)},S:function(t,e){return fs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return h6(n);case"XXXX":case"XX":return ml(n);case"XXXXX":case"XXX":default:return ml(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return h6(n);case"xxxx":case"xx":return ml(n);case"xxxxx":case"xxx":default:return ml(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+f6(n,":");case"OOOO":default:return"GMT"+ml(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+f6(n,":");case"zzzz":default:return"GMT"+ml(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return sr(n,e.length)},T:function(t,e,r){const n=t.getTime();return sr(n,e.length)}};function f6(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+sr(a,2)}function h6(t,e){return t%60===0?(t>0?"-":"+")+sr(Math.abs(t)/60,2):ml(t,e)}function ml(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=sr(Math.trunc(n/60),2),a=sr(n%60,2);return r+i+e+a}const p6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},r7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Zpe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return p6(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",p6(n,e)).replace("{{time}}",r7(i,e))},Qpe={p:r7,P:Zpe},eme=/^D+$/,tme=/^Y+$/,rme=["D","DD","YY","YYYY"];function nme(t){return eme.test(t)}function ime(t){return tme.test(t)}function ame(t,e,r){const n=ome(t,e,r);if(console.warn(n),rme.includes(t))throw new RangeError(n)}function ome(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cme=/^'([^]*?)'?$/,ume=/''/g,dme=/[a-zA-Z]/;function Va(t,e,r){var d,f,p,h,g,m,v,b;const n=xh(),i=(r==null?void 0:r.locale)??n.locale??ZD,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,s=Xt(t);if(!gpe(s))throw new RangeError("Invalid time value");let l=e.match(lme).map(_=>{const w=_[0];if(w==="p"||w==="P"){const S=Qpe[w];return S(_,i.formatLong)}return _}).join("").match(sme).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const w=_[0];if(w==="'")return{isToken:!1,value:fme(_)};if(d6[w])return{isToken:!0,value:_};if(w.match(dme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const w=_.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&ime(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&nme(w))&&ame(w,e,String(t));const S=d6[w[0]];return S(s,w,i.localize,u)}).join("")}function fme(t){const e=t.match(cme);return e?e[1].replace(ume,"'"):t}function hme(t){const e=Xt(t),r=e.getFullYear(),n=e.getMonth(),i=ki(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function pme(t){return Math.trunc(+Xt(t)/1e3)}function mme(t){const e=Xt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function gme(t,e){return vpe(mme(t),li(t),e)+1}function A5(t,e){const r=Xt(t),n=Xt(e);return r.getTime()>n.getTime()}function n7(t,e){const r=Xt(t),n=Xt(e);return+r<+n}function MS(t,e){const r=Xt(t),n=Xt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function vme(t,e){const r=Xt(t),n=Xt(e);return r.getFullYear()===n.getFullYear()}function fw(t,e){return Vn(t,-e)}function hw(t,e){const r=Xt(t),n=r.getFullYear(),i=r.getDate(),a=ki(t,0);a.setFullYear(n,e,15),a.setHours(0,0,0,0);const o=hme(a);return r.setMonth(e,Math.min(i,o)),r}function m6(t,e){const r=Xt(t);return isNaN(+r)?ki(t,NaN):(r.setFullYear(e),r)}var yt=function(){return yt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yt.apply(this,arguments)};function yme(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function i7(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function wh(t){return t.mode==="multiple"}function _h(t){return t.mode==="range"}function Pv(t){return t.mode==="single"}var bme={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function xme(t,e){return Va(t,"LLLL y",e)}function wme(t,e){return Va(t,"d",e)}function _me(t,e){return Va(t,"LLLL",e)}function Sme(t){return"".concat(t)}function jme(t,e){return Va(t,"cccccc",e)}function Nme(t,e){return Va(t,"yyyy",e)}var Ame=Object.freeze({__proto__:null,formatCaption:xme,formatDay:wme,formatMonthCaption:_me,formatWeekNumber:Sme,formatWeekdayName:jme,formatYearCaption:Nme}),Pme=function(t,e,r){return Va(t,"do MMMM (EEEE)",r)},kme=function(){return"Month: "},Cme=function(){return"Go to next month"},Ome=function(){return"Go to previous month"},Eme=function(t,e){return Va(t,"cccc",e)},Tme=function(t){return"Week n. ".concat(t)},Ime=function(){return"Year: "},Lme=Object.freeze({__proto__:null,labelDay:Pme,labelMonthDropdown:kme,labelNext:Cme,labelPrevious:Ome,labelWeekNumber:Tme,labelWeekday:Eme,labelYearDropdown:Ime});function Rme(){var t="buttons",e=bme,r=ZD,n={},i={},a=1,o={},s=new Date;return{captionLayout:t,classNames:e,formatters:Ame,labels:Lme,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:s,mode:"default"}}function Mme(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return n?a=li(n):e&&(a=new Date(e,0,1)),i?o=LS(i):r&&(o=new Date(r,11,31)),{fromDate:a?Du(a):void 0,toDate:o?Du(o):void 0}}var a7=N.createContext(void 0);function Dme(t){var e,r=t.initialProps,n=Rme(),i=Mme(r),a=i.fromDate,o=i.toDate,s=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;s!=="buttons"&&(!a||!o)&&(s="buttons");var l;(Pv(r)||wh(r)||_h(r))&&(l=r.onSelect);var u=yt(yt(yt({},n),r),{captionLayout:s,classNames:yt(yt({},n.classNames),r.classNames),components:yt({},r.components),formatters:yt(yt({},n.formatters),r.formatters),fromDate:a,labels:yt(yt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:yt(yt({},n.modifiers),r.modifiers),modifiersClassNames:yt(yt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:yt(yt({},n.styles),r.styles),toDate:o});return c.jsx(a7.Provider,{value:u,children:t.children})}function Ar(){var t=N.useContext(a7);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function o7(t){var e=Ar(),r=e.locale,n=e.classNames,i=e.styles,a=e.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function $me(t){return c.jsx("svg",yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function s7(t){var e,r,n=t.onChange,i=t.value,a=t.children,o=t.caption,s=t.className,l=t.style,u=Ar(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:$me;return c.jsxs("div",{className:s,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Fme(t){var e,r=Ar(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,s=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var f=[];if(vme(n,i))for(var p=li(n),h=n.getMonth();h<=i.getMonth();h++)f.push(hw(p,h));else for(var p=li(new Date),h=0;h<=11;h++)f.push(hw(p,h));var g=function(v){var b=Number(v.target.value),_=hw(li(t.displayMonth),b);t.onChange(_)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:s7;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:a.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:s(t.displayMonth,{locale:o}),children:f.map(function(v){return c.jsx("option",{value:v.getMonth(),children:s(v,{locale:o})},v.getMonth())})})}function Bme(t){var e,r=t.displayMonth,n=Ar(),i=n.fromDate,a=n.toDate,o=n.locale,s=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!i)return c.jsx(c.Fragment,{});if(!a)return c.jsx(c.Fragment,{});for(var h=i.getFullYear(),g=a.getFullYear(),m=h;m<=g;m++)p.push(m6(XD(new Date),m));var v=function(_){var w=m6(li(r),Number(_.target.value));t.onChange(w)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:s7;return c.jsx(b,{name:"years","aria-label":f(),className:l.dropdown_year,style:s.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:p.map(function(_){return c.jsx("option",{value:_.getFullYear(),children:d(_,{locale:o})},_.getFullYear())})})}function qme(t,e){var r=N.useState(t),n=r[0],i=r[1],a=e===void 0?n:e;return[a,i]}function Ume(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,a=t.toDate,o=t.fromDate,s=t.numberOfMonths,l=s===void 0?1:s;if(a&&th(a,i)<0){var u=-1*(l-1);i=va(a,u)}return o&&th(i,o)<0&&(i=o),li(i)}function zme(){var t=Ar(),e=Ume(t),r=qme(e,t.month),n=r[0],i=r[1],a=function(o){var s;if(!t.disableNavigation){var l=li(o);i(l),(s=t.onMonthChange)===null||s===void 0||s.call(t,l)}};return[n,a]}function Wme(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=li(t),a=li(va(i,n)),o=th(a,i),s=[],l=0;l<o;l++){var u=va(i,l);s.push(u)}return r&&(s=s.reverse()),s}function Hme(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=n?a:1,s=li(t);if(!r)return va(s,o);var l=th(r,t);if(!(l<a))return va(s,o)}}function Vme(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=n?a:1,s=li(t);if(!r)return va(s,-o);var l=th(s,r);if(!(l<=0))return va(s,-o)}}var l7=N.createContext(void 0);function Gme(t){var e=Ar(),r=zme(),n=r[0],i=r[1],a=Wme(n,e),o=Hme(n,e),s=Vme(n,e),l=function(f){return a.some(function(p){return MS(f,p)})},u=function(f,p){l(f)||(p&&n7(f,p)?i(va(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:l};return c.jsx(l7.Provider,{value:d,children:t.children})}function Sh(){var t=N.useContext(l7);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function g6(t){var e,r=Ar(),n=r.classNames,i=r.styles,a=r.components,o=Sh().goToMonth,s=function(d){o(va(d,t.displayIndex?-t.displayIndex:0))},l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:o7,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:u}),c.jsx(Fme,{onChange:s,displayMonth:t.displayMonth}),c.jsx(Bme,{onChange:s,displayMonth:t.displayMonth})]})}function Yme(t){return c.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Kme(t){return c.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var sg=N.forwardRef(function(t,e){var r=Ar(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];t.className&&a.push(t.className);var o=a.join(" "),s=yt(yt({},i.button_reset),i.button);return t.style&&Object.assign(s,t.style),c.jsx("button",yt({},t,{ref:e,type:"button",className:o,style:s}))});function Xme(t){var e,r,n=Ar(),i=n.dir,a=n.locale,o=n.classNames,s=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var p=u(t.previousMonth,{locale:a}),h=[o.nav_button,o.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:a}),m=[o.nav_button,o.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:Kme,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Yme;return c.jsxs("div",{className:o.nav,style:s.nav,children:[!t.hidePrevious&&c.jsx(sg,{name:"previous-month","aria-label":p,className:h,style:s.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(v,{className:o.nav_icon,style:s.nav_icon}):c.jsx(b,{className:o.nav_icon,style:s.nav_icon})}),!t.hideNext&&c.jsx(sg,{name:"next-month","aria-label":g,className:m,style:s.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(b,{className:o.nav_icon,style:s.nav_icon}):c.jsx(v,{className:o.nav_icon,style:s.nav_icon})})]})}function v6(t){var e=Ar().numberOfMonths,r=Sh(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,s=o.findIndex(function(g){return MS(t.displayMonth,g)}),l=s===0,u=s===o.length-1,d=e>1&&(l||!u),f=e>1&&(u||!l),p=function(){n&&a(n)},h=function(){i&&a(i)};return c.jsx(Xme,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:p,onNextClick:h})}function Jme(t){var e,r=Ar(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,s=r.components,l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:o7,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=c.jsx(g6,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(g6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(v6,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(v6,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:n.caption,style:a.caption,children:u})}function Zme(t){var e=Ar(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?c.jsx("tfoot",{className:i,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function Qme(t,e,r){for(var n=r?ql(new Date):Xa(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Vn(n,a);i.push(o)}return i}function ege(){var t=Ar(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,s=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=Qme(i,a,o);return c.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return c.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:i}),children:s(d,{locale:i})},f)})]})}function tge(){var t,e=Ar(),r=e.classNames,n=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:ege;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(a,{})})}function rge(t){var e=Ar(),r=e.locale,n=e.formatters.formatDay;return c.jsx(c.Fragment,{children:n(t.date,{locale:r})})}var DS=N.createContext(void 0);function nge(t){if(!wh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(DS.Provider,{value:e,children:t.children})}return c.jsx(ige,{initialProps:t.initialProps,children:t.children})}function ige(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,a=e.max,o=function(u,d,f){var p,h;(p=e.onDayClick)===null||p===void 0||p.call(e,u,d,f);var g=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var v=n?i7([],n):[];if(d.selected){var b=v.findIndex(function(_){return si(u,_)});v.splice(b,1)}else v.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,v,u,d,f)}}},s={disabled:[]};n&&s.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(p){return si(p,u)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:s};return c.jsx(DS.Provider,{value:l,children:r})}function $S(){var t=N.useContext(DS);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function age(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?si(i,t)&&si(n,t)?void 0:si(i,t)?{from:i,to:void 0}:si(n,t)?void 0:A5(n,t)?{from:t,to:i}:{from:n,to:t}:i?A5(t,i)?{from:i,to:t}:{from:t,to:i}:n?n7(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var FS=N.createContext(void 0);function oge(t){if(!_h(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(FS.Provider,{value:e,children:t.children})}return c.jsx(sge,{initialProps:t.initialProps,children:t.children})}function sge(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},a=i.from,o=i.to,s=e.min,l=e.max,u=function(h,g,m){var v,b;(v=e.onDayClick)===null||v===void 0||v.call(e,h,g,m);var _=age(h,n);(b=e.onSelect)===null||b===void 0||b.call(e,_,h,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],si(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),s&&(a&&!o&&d.disabled.push({after:fw(a,s-1),before:Vn(a,s-1)}),a&&o&&d.disabled.push({after:a,before:Vn(a,s-1)}),!a&&o&&d.disabled.push({after:fw(o,s-1),before:Vn(o,s-1)})),l){if(a&&!o&&(d.disabled.push({before:Vn(a,-l+1)}),d.disabled.push({after:Vn(a,l-1)})),a&&o){var f=Ua(o,a)+1,p=l-f;d.disabled.push({before:fw(a,p)}),d.disabled.push({after:Vn(o,p)})}!a&&o&&(d.disabled.push({before:Vn(o,-l+1)}),d.disabled.push({after:Vn(o,l-1)}))}return c.jsx(FS.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function BS(){var t=N.useContext(FS);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Xp(t){return Array.isArray(t)?i7([],t):t!==void 0?[t]:[]}function lge(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=Xp(i)}),e}var ya;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ya||(ya={}));var cge=ya.Selected,yo=ya.Disabled,uge=ya.Hidden,dge=ya.Today,pw=ya.RangeEnd,mw=ya.RangeMiddle,gw=ya.RangeStart,fge=ya.Outside;function hge(t,e,r){var n,i=(n={},n[cge]=Xp(t.selected),n[yo]=Xp(t.disabled),n[uge]=Xp(t.hidden),n[dge]=[t.today],n[pw]=[],n[mw]=[],n[gw]=[],n[fge]=[],n);return t.fromDate&&i[yo].push({before:t.fromDate}),t.toDate&&i[yo].push({after:t.toDate}),wh(t)?i[yo]=i[yo].concat(e.modifiers[yo]):_h(t)&&(i[yo]=i[yo].concat(r.modifiers[yo]),i[gw]=r.modifiers[gw],i[mw]=r.modifiers[mw],i[pw]=r.modifiers[pw]),i}var c7=N.createContext(void 0);function pge(t){var e=Ar(),r=$S(),n=BS(),i=hge(e,r,n),a=lge(e.modifiers),o=yt(yt({},i),a);return c.jsx(c7.Provider,{value:o,children:t.children})}function u7(){var t=N.useContext(c7);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function mge(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function gge(t){return!!(t&&typeof t=="object"&&"from"in t)}function vge(t){return!!(t&&typeof t=="object"&&"after"in t)}function yge(t){return!!(t&&typeof t=="object"&&"before"in t)}function bge(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function xge(t,e){var r,n=e.from,i=e.to;if(n&&i){var a=Ua(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=Ua(t,n)>=0&&Ua(i,t)>=0;return o}return i?si(i,t):n?si(n,t):!1}function wge(t){return IS(t)}function _ge(t){return Array.isArray(t)&&t.every(IS)}function Sge(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(wge(r))return si(t,r);if(_ge(r))return r.includes(t);if(gge(r))return xge(t,r);if(bge(r))return r.dayOfWeek.includes(t.getDay());if(mge(r)){var n=Ua(r.before,t),i=Ua(r.after,t),a=n>0,o=i<0,s=A5(r.before,r.after);return s?o&&a:a||o}return vge(r)?Ua(t,r.after)>0:yge(r)?Ua(r.before,t)>0:typeof r=="function"?r(t):!1})}function qS(t,e,r){var n=Object.keys(e).reduce(function(a,o){var s=e[o];return Sge(t,s)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!MS(t,r)&&(i.outside=!0),i}function jge(t,e){for(var r=li(t[0]),n=LS(t[t.length-1]),i,a,o=r;o<=n;){var s=qS(o,e),l=!s.disabled&&!s.hidden;if(!l){o=Vn(o,1);continue}if(s.selected)return o;s.today&&!a&&(a=o),i||(i=o),o=Vn(o,1)}return a||i}var Nge=365;function d7(t,e){var r=e.moveBy,n=e.direction,i=e.context,a=e.modifiers,o=e.retry,s=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,p={day:Vn,week:N5,month:va,year:hpe,startOfWeek:function(v){return i.ISOWeek?ql(v):Xa(v,{locale:f,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?JD(v):RS(v,{locale:f,weekStartsOn:l})}},h=p[r](t,n==="after"?1:-1);n==="before"&&u?h=ppe([u,h]):n==="after"&&d&&(h=mpe([d,h]));var g=!0;if(a){var m=qS(h,a);g=!m.disabled&&!m.hidden}return g?h:s.count>Nge?s.lastFocused:d7(h,{moveBy:r,direction:n,context:i,modifiers:a,retry:yt(yt({},s),{count:s.count+1})})}var f7=N.createContext(void 0);function Age(t){var e=Sh(),r=u7(),n=N.useState(),i=n[0],a=n[1],o=N.useState(),s=o[0],l=o[1],u=jge(e.displayMonths,r),d=i??(s&&e.isDateDisplayed(s))?s:u,f=function(){l(i),a(void 0)},p=function(v){a(v)},h=Ar(),g=function(v,b){if(i){var _=d7(i,{moveBy:v,direction:b,context:h,modifiers:r});si(i,_)||(e.goToDate(_,i),p(_))}},m={focusedDay:i,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return c.jsx(f7.Provider,{value:m,children:t.children})}function US(){var t=N.useContext(f7);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Pge(t,e){var r=u7(),n=qS(t,r,e);return n}var zS=N.createContext(void 0);function kge(t){if(!Pv(t.initialProps)){var e={selected:void 0};return c.jsx(zS.Provider,{value:e,children:t.children})}return c.jsx(Cge,{initialProps:t.initialProps,children:t.children})}function Cge(t){var e=t.initialProps,r=t.children,n=function(a,o,s){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,a,o,s),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,o,s);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,s)},i={selected:e.selected,onDayClick:n};return c.jsx(zS.Provider,{value:i,children:r})}function h7(){var t=N.useContext(zS);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Oge(t,e){var r=Ar(),n=h7(),i=$S(),a=BS(),o=US(),s=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,p=o.focus,h=o.focusMonthBefore,g=o.focusMonthAfter,m=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,_=o.focusEndOfWeek,w=function(V){var $,ie,re,se;Pv(r)?($=n.onDayClick)===null||$===void 0||$.call(n,t,e,V):wh(r)?(ie=i.onDayClick)===null||ie===void 0||ie.call(i,t,e,V):_h(r)?(re=a.onDayClick)===null||re===void 0||re.call(a,t,e,V):(se=r.onDayClick)===null||se===void 0||se.call(r,t,e,V)},S=function(V){var $;p(t),($=r.onDayFocus)===null||$===void 0||$.call(r,t,e,V)},j=function(V){var $;f(),($=r.onDayBlur)===null||$===void 0||$.call(r,t,e,V)},C=function(V){var $;($=r.onDayMouseEnter)===null||$===void 0||$.call(r,t,e,V)},k=function(V){var $;($=r.onDayMouseLeave)===null||$===void 0||$.call(r,t,e,V)},E=function(V){var $;($=r.onDayPointerEnter)===null||$===void 0||$.call(r,t,e,V)},T=function(V){var $;($=r.onDayPointerLeave)===null||$===void 0||$.call(r,t,e,V)},I=function(V){var $;($=r.onDayTouchCancel)===null||$===void 0||$.call(r,t,e,V)},A=function(V){var $;($=r.onDayTouchEnd)===null||$===void 0||$.call(r,t,e,V)},L=function(V){var $;($=r.onDayTouchMove)===null||$===void 0||$.call(r,t,e,V)},D=function(V){var $;($=r.onDayTouchStart)===null||$===void 0||$.call(r,t,e,V)},F=function(V){var $;($=r.onDayKeyUp)===null||$===void 0||$.call(r,t,e,V)},X=function(V){var $;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?s():l();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():s();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?m():h();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():g();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),_();break}($=r.onDayKeyDown)===null||$===void 0||$.call(r,t,e,V)},Y={onClick:w,onFocus:S,onBlur:j,onKeyDown:X,onKeyUp:F,onMouseEnter:C,onMouseLeave:k,onPointerEnter:E,onPointerLeave:T,onTouchCancel:I,onTouchEnd:A,onTouchMove:L,onTouchStart:D};return Y}function Ege(){var t=Ar(),e=h7(),r=$S(),n=BS(),i=Pv(t)?e.selected:wh(t)?r.selected:_h(t)?n.selected:void 0;return i}function Tge(t){return Object.values(ya).includes(t)}function Ige(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(Tge(n)){var a=t.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Lge(t,e){var r=yt({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=yt(yt({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Rge(t,e,r){var n,i,a,o=Ar(),s=US(),l=Pge(t,e),u=Oge(t,l),d=Ege(),f=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var C;l.outside||s.focusedDay&&f&&si(s.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[s.focusedDay,t,r,f,l.outside]);var p=Ige(o,l).join(" "),h=Lge(o,l),g=!!(l.outside&&!o.showOutsideDays||l.hidden),m=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:rge,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),b={style:h,className:p,children:v,role:"gridcell"},_=s.focusTarget&&si(s.focusTarget,t)&&!l.outside,w=s.focusedDay&&si(s.focusedDay,t),S=yt(yt(yt({},b),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=w||_?0:-1,n)),u),j={isButton:f,isHidden:g,activeModifiers:l,selectedDays:d,buttonProps:S,divProps:b};return j}function Mge(t){var e=N.useRef(null),r=Rge(t.date,t.displayMonth,e);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(sg,yt({name:"day",ref:e},r.buttonProps)):c.jsx("div",yt({},r.divProps))}function Dge(t){var e=t.number,r=t.dates,n=Ar(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,s=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:s});if(!i)return c.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=l(Number(e),{locale:s}),p=function(h){i(e,r,h)};return c.jsx(sg,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:p,children:d})}function $ge(t){var e,r,n=Ar(),i=n.styles,a=n.classNames,o=n.showWeekNumber,s=n.components,l=(e=s==null?void 0:s.Day)!==null&&e!==void 0?e:Mge,u=(r=s==null?void 0:s.WeekNumber)!==null&&r!==void 0?r:Dge,d;return o&&(d=c.jsx("td",{className:a.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(f){return c.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:f})},pme(f))})]})}function y6(t,e,r){for(var n=r!=null&&r.ISOWeek?JD(e):RS(e,r),i=r!=null&&r.ISOWeek?ql(t):Xa(t,r),a=Ua(n,i),o=[],s=0;s<=a;s++)o.push(Vn(i,s));var l=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?QD(d):t7(d,r),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function Fge(t,e){var r=y6(li(t),LS(t),e);if(e!=null&&e.useFixedWeeks){var n=gme(t,e);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=N5(a,6-n),s=y6(N5(a,1),o,e);r.push.apply(r,s)}}return r}function Bge(t){var e,r,n,i=Ar(),a=i.locale,o=i.classNames,s=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,p=i.firstWeekContainsDate,h=i.ISOWeek,g=Fge(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:f,firstWeekContainsDate:p}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:tge,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:$ge,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Zme;return c.jsxs("table",{id:t.id,className:o.table,style:s.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:o.tbody,style:s.tbody,children:g.map(function(_){return c.jsx(v,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),c.jsx(b,{displayMonth:t.displayMonth})]})}function qge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Uge=qge()?N.useLayoutEffect:N.useEffect,vw=!1,zge=0;function b6(){return"react-day-picker-".concat(++zge)}function Wge(t){var e,r=t??(vw?b6():null),n=N.useState(r),i=n[0],a=n[1];return Uge(function(){i===null&&a(b6())},[]),N.useEffect(function(){vw===!1&&(vw=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Hge(t){var e,r,n=Ar(),i=n.dir,a=n.classNames,o=n.styles,s=n.components,l=Sh().displayMonths,u=Wge(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[a.month],p=o.month,h=t.displayIndex===0,g=t.displayIndex===l.length-1,m=!h&&!g;i==="rtl"&&(e=[h,g],g=e[0],h=e[1]),h&&(f.push(a.caption_start),p=yt(yt({},p),o.caption_start)),g&&(f.push(a.caption_end),p=yt(yt({},p),o.caption_end)),m&&(f.push(a.caption_between),p=yt(yt({},p),o.caption_between));var v=(r=s==null?void 0:s.Caption)!==null&&r!==void 0?r:Jme;return c.jsxs("div",{className:f.join(" "),style:p,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(Bge,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Vge(t){var e=Ar(),r=e.classNames,n=e.styles;return c.jsx("div",{className:r.months,style:n.months,children:t.children})}function Gge(t){var e,r,n=t.initialProps,i=Ar(),a=US(),o=Sh(),s=N.useState(!1),l=s[0],u=s[1];N.useEffect(function(){i.initialFocus&&a.focusTarget&&(l||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,l,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=yt(yt({},i.styles.root),i.style),p=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return yt(yt({},g),(v={},v[m]=n[m],v))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:Vge;return c.jsx("div",yt({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:c.jsx(h,{children:o.displayMonths.map(function(g,m){return c.jsx(Hge,{displayIndex:m,displayMonth:g},m)})})}))}function Yge(t){var e=t.children,r=yme(t,["children"]);return c.jsx(Dme,{initialProps:r,children:c.jsx(Gme,{children:c.jsx(kge,{initialProps:r,children:c.jsx(nge,{initialProps:r,children:c.jsx(oge,{initialProps:r,children:c.jsx(pge,{children:c.jsx(Age,{children:e})})})})})})})}function Kge(t){return c.jsx(Yge,yt({},t,{children:c.jsx(Gge,{initialProps:t})}))}function Xge({className:t,classNames:e,showOutsideDays:r=!0,...n}){return c.jsx(Kge,{showOutsideDays:r,className:qe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:qe(df({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:qe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:qe(df({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...a})=>c.jsx(Z6,{className:qe("size-4",i),...a}),IconRight:({className:i,...a})=>c.jsx(Jp,{className:qe("size-4",i),...a})},...n})}function Jge(){const[t,e]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState({from:new Date(new Date().getFullYear(),new Date().getMonth()-5,1),to:new Date});N.useEffect(()=>{i.from&&i.to&&o()},[i]);const o=async()=>{if(!(!i.from||!i.to))try{n(!0);const u=i.from.toISOString().split("T")[0],d=i.to.toISOString().split("T")[0],f=await UT(u,d);e(f||[])}catch(u){console.error("Error fetching sales data:",u),e([])}finally{n(!1)}},s=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),l=({active:u,payload:d,label:f})=>u&&d&&d.length?c.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium",children:f}),c.jsxs("p",{className:"text-blue-600",children:["Sales: ",s(d[0].value)]}),c.jsxs("p",{className:"text-gray-600",children:["Orders: ",d[0].payload.orders_count]})]}):null;return c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(qt,{children:"Sales Overview"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(spe,{children:[c.jsx(lpe,{asChild:!0,children:c.jsxs(we,{variant:"outline",size:"sm",children:[c.jsx(X6,{className:"h-4 w-4 mr-2"}),i.from?i.to?c.jsxs(c.Fragment,{children:[Va(i.from,"LLL dd, y")," -"," ",Va(i.to,"LLL dd, y")]}):Va(i.from,"LLL dd, y"):"Pick a date range"]})}),c.jsx(cpe,{className:"w-auto p-0",align:"end",children:c.jsx(Xge,{initialFocus:!0,mode:"range",defaultMonth:i.from,selected:{from:i.from,to:i.to},onSelect:u=>{a({from:u==null?void 0:u.from,to:u==null?void 0:u.to})},numberOfMonths:2})})]})})]})}),c.jsx(Ye,{children:r?c.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[c.jsx(da,{className:"h-6 w-6 animate-spin"}),c.jsx("span",{className:"ml-2",children:"Loading sales data..."})]}):t.length===0?c.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No sales data found for the selected period"}):c.jsx(KL,{width:"100%",height:300,children:c.jsxs(Pfe,{data:t,children:[c.jsx(eD,{strokeDasharray:"3 3"}),c.jsx(vv,{dataKey:"month"}),c.jsx(yv,{tickFormatter:s}),c.jsx(la,{content:c.jsx(l,{})}),c.jsx(Zl,{dataKey:"sales",fill:"#8884d8"})]})})})]})}const x6=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function Zge(){const[t,e]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const s=(await zT()||[]).map((l,u)=>({name:l.category_name,value:l.product_count,percentage:l.percentage,color:x6[u%x6.length]}));e(s)}catch(o){console.error("Error fetching category data:",o),e([])}finally{n(!1)}})()},[]);const i=({active:a,payload:o})=>{if(a&&o&&o.length){const s=o[0].payload;return c.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium",children:s.name}),c.jsxs("p",{className:"text-blue-600",children:["Products: ",s.value]}),c.jsxs("p",{className:"text-gray-600",children:["Percentage: ",s.percentage.toFixed(1),"%"]})]})}return null};return c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Product Distribution by Category"})}),c.jsx(Ye,{children:r?c.jsxs("div",{className:"flex items-center justify-center h-[300px]",children:[c.jsx(da,{className:"h-6 w-6 animate-spin"}),c.jsx("span",{className:"ml-2",children:"Loading category data..."})]}):t.length===0?c.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No category data available"}):c.jsx(KL,{width:"100%",height:300,children:c.jsxs(kfe,{children:[c.jsx(Vo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percentage:o})=>`${a} ${o.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((a,o)=>c.jsx(Vg,{fill:a.color},`cell-${o}`))}),c.jsx(la,{content:c.jsx(i,{})})]})})})]})}function Qge({className:t,...e}){return c.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:c.jsx("table",{"data-slot":"table",className:qe("w-full caption-bottom text-sm",t),...e})})}function eve({className:t,...e}){return c.jsx("thead",{"data-slot":"table-header",className:qe("[&_tr]:border-b",t),...e})}function tve({className:t,...e}){return c.jsx("tbody",{"data-slot":"table-body",className:qe("[&_tr:last-child]:border-0",t),...e})}function w6({className:t,...e}){return c.jsx("tr",{"data-slot":"table-row",className:qe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function cl({className:t,...e}){return c.jsx("th",{"data-slot":"table-head",className:qe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function ul({className:t,...e}){return c.jsx("td",{"data-slot":"table-cell",className:qe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function P5(t,[e,r]){return Math.min(r,Math.max(e,t))}function kv(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rve="VisuallyHidden",nve=N.forwardRef((t,e)=>c.jsx(ct.span,{...t,ref:e,style:{...p7,...t.style}}));nve.displayName=rve;var ive=[" ","Enter","ArrowUp","ArrowDown"],ave=[" ","Enter"],Ul="Select",[Cv,Ov,ove]=E8(Ul),[ed,Abe]=Qn(Ul,[ove,Nv]),Ev=Nv(),[sve,Fs]=ed(Ul),[lve,cve]=ed(Ul),m7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,m=Ev(e),[v,b]=N.useState(null),[_,w]=N.useState(null),[S,j]=N.useState(!1),C=oh(u),[k,E]=Io({prop:n,defaultProp:i??!1,onChange:a,caller:Ul}),[T,I]=Io({prop:o,defaultProp:s,onChange:l,caller:Ul}),A=N.useRef(null),L=v?g||!!v.closest("form"):!0,[D,F]=N.useState(new Set),X=Array.from(D).map(Y=>Y.props.value).join(";");return c.jsx(MD,{...m,children:c.jsxs(sve,{required:h,scope:e,trigger:v,onTriggerChange:b,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Co(),value:T,onValueChange:I,open:k,onOpenChange:E,dir:C,triggerPointerDownPosRef:A,disabled:p,children:[c.jsx(Cv.Provider,{scope:e,children:c.jsx(lve,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(Y=>{F(V=>new Set(V).add(Y))},[]),onNativeOptionRemove:N.useCallback(Y=>{F(V=>{const $=new Set(V);return $.delete(Y),$})},[]),children:r})}),L?c.jsxs(D7,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:Y=>I(Y.target.value),disabled:p,form:g,children:[T===void 0?c.jsx("option",{value:""}):null,Array.from(D)]},X):null]})})};m7.displayName=Ul;var g7="SelectTrigger",v7=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=Ev(r),o=Fs(g7,r),s=o.disabled||n,l=Dt(e,o.onTriggerChange),u=Ov(r),d=N.useRef("touch"),[f,p,h]=F7(m=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),_=B7(v,m,b);_!==void 0&&o.onValueChange(_.value)}),g=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(OS,{asChild:!0,...a,children:c.jsx(ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":$7(o.value)?"":void 0,...i,ref:l,onClick:dt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:dt(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:dt(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(v&&m.key===" ")&&ive.includes(m.key)&&(g(),m.preventDefault())})})})});v7.displayName=g7;var y7="SelectValue",b7=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=Fs(y7,r),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,f=Dt(e,l.onValueNodeChange);return on(()=>{u(d)},[u,d]),c.jsx(ct.span,{...s,ref:f,style:{pointerEvents:"none"},children:$7(l.value)?c.jsx(c.Fragment,{children:o}):a})});b7.displayName=y7;var uve="SelectIcon",x7=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(ct.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});x7.displayName=uve;var dve="SelectPortal",w7=t=>c.jsx(_g,{asChild:!0,...t});w7.displayName=dve;var zl="SelectContent",_7=N.forwardRef((t,e)=>{const r=Fs(zl,t.__scopeSelect),[n,i]=N.useState();if(on(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?hg.createPortal(c.jsx(S7,{scope:t.__scopeSelect,children:c.jsx(Cv.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(j7,{...t,ref:e})});_7.displayName=zl;var oa=10,[S7,Bs]=ed(zl),fve="SelectContentImpl",hve=Cl("SelectContent.RemoveScroll"),j7=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=t,_=Fs(zl,r),[w,S]=N.useState(null),[j,C]=N.useState(null),k=Dt(e,oe=>S(oe)),[E,T]=N.useState(null),[I,A]=N.useState(null),L=Ov(r),[D,F]=N.useState(!1),X=N.useRef(!1);N.useEffect(()=>{if(w)return i_(w)},[w]),n_();const Y=N.useCallback(oe=>{const[de,...ae]=L().map(ue=>ue.ref.current),[he]=ae.slice(-1),ge=document.activeElement;for(const ue of oe)if(ue===ge||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&j&&(j.scrollTop=0),ue===he&&j&&(j.scrollTop=j.scrollHeight),ue==null||ue.focus(),document.activeElement!==ge))return},[L,j]),V=N.useCallback(()=>Y([E,w]),[Y,E,w]);N.useEffect(()=>{D&&V()},[D,V]);const{onOpenChange:$,triggerPointerDownPosRef:ie}=_;N.useEffect(()=>{if(w){let oe={x:0,y:0};const de=he=>{var ge,ue;oe={x:Math.abs(Math.round(he.pageX)-(((ge=ie.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ue=ie.current)==null?void 0:ue.y)??0))}},ae=he=>{oe.x<=10&&oe.y<=10?he.preventDefault():w.contains(he.target)||$(!1),document.removeEventListener("pointermove",de),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,$,ie]),N.useEffect(()=>{const oe=()=>$(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[$]);const[re,se]=F7(oe=>{const de=L().filter(ge=>!ge.disabled),ae=de.find(ge=>ge.ref.current===document.activeElement),he=B7(de,oe,ae);he&&setTimeout(()=>he.ref.current.focus())}),M=N.useCallback((oe,de,ae)=>{const he=!X.current&&!ae;(_.value!==void 0&&_.value===de||he)&&(T(oe),he&&(X.current=!0))},[_.value]),U=N.useCallback(()=>w==null?void 0:w.focus(),[w]),z=N.useCallback((oe,de,ae)=>{const he=!X.current&&!ae;(_.value!==void 0&&_.value===de||he)&&A(oe)},[_.value]),Z=n==="popper"?k5:N7,le=Z===k5?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return c.jsx(S7,{scope:r,content:w,viewport:j,onViewportChange:C,itemRefCallback:M,selectedItem:E,onItemLeave:U,itemTextRefCallback:z,focusSelectedItem:V,selectedItemText:I,position:n,isPositioned:D,searchRef:re,children:c.jsx(jg,{as:hve,allowPinchZoom:!0,children:c.jsx(wg,{asChild:!0,trapped:_.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:dt(i,oe=>{var de;(de=_.trigger)==null||de.focus({preventScroll:!0}),oe.preventDefault()}),children:c.jsx(xg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:c.jsx(Z,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:oe=>oe.preventDefault(),...b,...le,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:dt(b.onKeyDown,oe=>{const de=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!de&&oe.key.length===1&&se(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let he=L().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ge=oe.target,ue=he.indexOf(ge);he=he.slice(ue+1)}setTimeout(()=>Y(he)),oe.preventDefault()}})})})})})})});j7.displayName=fve;var pve="SelectItemAlignedPosition",N7=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Fs(zl,r),o=Bs(zl,r),[s,l]=N.useState(null),[u,d]=N.useState(null),f=Dt(e,k=>d(k)),p=Ov(r),h=N.useRef(!1),g=N.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:_}=o,w=N.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&m&&v&&b){const k=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(a.dir!=="rtl"){const ge=I.left-E.left,ue=T.left-ge,ke=k.left-ue,me=k.width+ke,Q=Math.max(me,E.width),We=window.innerWidth-oa,Fe=P5(ue,[oa,Math.max(oa,We-Q)]);s.style.minWidth=me+"px",s.style.left=Fe+"px"}else{const ge=E.right-I.right,ue=window.innerWidth-T.right-ge,ke=window.innerWidth-k.right-ue,me=k.width+ke,Q=Math.max(me,E.width),We=window.innerWidth-oa,Fe=P5(ue,[oa,Math.max(oa,We-Q)]);s.style.minWidth=me+"px",s.style.right=Fe+"px"}const A=p(),L=window.innerHeight-oa*2,D=m.scrollHeight,F=window.getComputedStyle(u),X=parseInt(F.borderTopWidth,10),Y=parseInt(F.paddingTop,10),V=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),ie=X+Y+D+$+V,re=Math.min(v.offsetHeight*5,ie),se=window.getComputedStyle(m),M=parseInt(se.paddingTop,10),U=parseInt(se.paddingBottom,10),z=k.top+k.height/2-oa,Z=L-z,le=v.offsetHeight/2,oe=v.offsetTop+le,de=X+Y+oe,ae=ie-de;if(de<=z){const ge=A.length>0&&v===A[A.length-1].ref.current;s.style.bottom="0px";const ue=u.clientHeight-m.offsetTop-m.offsetHeight,ke=Math.max(Z,le+(ge?U:0)+ue+V),me=de+ke;s.style.height=me+"px"}else{const ge=A.length>0&&v===A[0].ref.current;s.style.top="0px";const ke=Math.max(z,X+m.offsetTop+(ge?M:0)+le)+ae;s.style.height=ke+"px",m.scrollTop=de-z+m.offsetTop}s.style.margin=`${oa}px 0`,s.style.minHeight=re+"px",s.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,s,u,m,v,b,a.dir,n]);on(()=>w(),[w]);const[S,j]=N.useState();on(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const C=N.useCallback(k=>{k&&g.current===!0&&(w(),_==null||_(),g.current=!1)},[w,_]);return c.jsx(gve,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(ct.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});N7.displayName=pve;var mve="SelectPopperPosition",k5=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=oa,...a}=t,o=Ev(r);return c.jsx(DD,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});k5.displayName=mve;var[gve,WS]=ed(zl,{}),C5="SelectViewport",A7=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Bs(C5,r),o=WS(C5,r),s=Dt(e,a.onViewportChange),l=N.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Cv.Slot,{scope:r,children:c.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:dt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const g=window.innerHeight-oa*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(m,v);if(b<g){const _=b+h,w=Math.min(g,_),S=_-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});A7.displayName=C5;var P7="SelectGroup",[vve,yve]=ed(P7),bve=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Co();return c.jsx(vve,{scope:r,id:i,children:c.jsx(ct.div,{role:"group","aria-labelledby":i,...n,ref:e})})});bve.displayName=P7;var k7="SelectLabel",xve=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yve(k7,r);return c.jsx(ct.div,{id:i.id,...n,ref:e})});xve.displayName=k7;var lg="SelectItem",[wve,C7]=ed(lg),O7=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Fs(lg,r),l=Bs(lg,r),u=s.value===n,[d,f]=N.useState(a??""),[p,h]=N.useState(!1),g=Dt(e,_=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,_,n,i)}),m=Co(),v=N.useRef("touch"),b=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(wve,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:N.useCallback(_=>{f(w=>w||((_==null?void 0:_.textContent)??"").trim())},[]),children:c.jsx(Cv.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(ct.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:dt(o.onFocus,()=>h(!0)),onBlur:dt(o.onBlur,()=>h(!1)),onClick:dt(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:dt(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:dt(o.onPointerDown,_=>{v.current=_.pointerType}),onPointerMove:dt(o.onPointerMove,_=>{var w;v.current=_.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(o.onPointerLeave,_=>{var w;_.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:dt(o.onKeyDown,_=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&_.key===" "||(ave.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});O7.displayName=lg;var Zd="SelectItemText",E7=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Fs(Zd,r),s=Bs(Zd,r),l=C7(Zd,r),u=cve(Zd,r),[d,f]=N.useState(null),p=Dt(e,b=>f(b),l.onItemTextChange,b=>{var _;return(_=s.itemTextRefCallback)==null?void 0:_.call(s,b,l.value,l.disabled)}),h=d==null?void 0:d.textContent,g=N.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return on(()=>(m(g),()=>v(g)),[m,v,g]),c.jsxs(c.Fragment,{children:[c.jsx(ct.span,{id:l.textId,...a,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hg.createPortal(a.children,o.valueNode):null]})});E7.displayName=Zd;var T7="SelectItemIndicator",I7=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return C7(T7,r).isSelected?c.jsx(ct.span,{"aria-hidden":!0,...n,ref:e}):null});I7.displayName=T7;var O5="SelectScrollUpButton",L7=N.forwardRef((t,e)=>{const r=Bs(O5,t.__scopeSelect),n=WS(O5,t.__scopeSelect),[i,a]=N.useState(!1),o=Dt(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?c.jsx(M7,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});L7.displayName=O5;var E5="SelectScrollDownButton",R7=N.forwardRef((t,e)=>{const r=Bs(E5,t.__scopeSelect),n=WS(E5,t.__scopeSelect),[i,a]=N.useState(!1),o=Dt(e,n.onScrollButtonChange);return on(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?c.jsx(M7,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});R7.displayName=E5;var M7=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Bs("SelectScrollButton",r),o=N.useRef(null),s=Ov(r),l=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>l(),[l]),on(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c.jsx(ct.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:dt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:dt(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:dt(i.onPointerLeave,()=>{l()})})}),_ve="SelectSeparator",Sve=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(ct.div,{"aria-hidden":!0,...n,ref:e})});Sve.displayName=_ve;var T5="SelectArrow",jve=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ev(r),a=Fs(T5,r),o=Bs(T5,r);return a.open&&o.position==="popper"?c.jsx($D,{...i,...n,ref:e}):null});jve.displayName=T5;var Nve="SelectBubbleInput",D7=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=N.useRef(null),a=Dt(n,i),o=kv(e);return N.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(s,e),s.dispatchEvent(f)}},[o,e]),c.jsx(ct.select,{...r,style:{...p7,...r.style},ref:a,defaultValue:e})});D7.displayName=Nve;function $7(t){return t===""||t===void 0}function F7(t){const e=$n(t),r=N.useRef(""),n=N.useRef(0),i=N.useCallback(o=>{const s=r.current+o;e(s),(function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[e]),a=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function B7(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Ave(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Ave(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Pve=m7,kve=v7,Cve=b7,Ove=x7,Eve=w7,Tve=_7,Ive=A7,Lve=O7,Rve=E7,Mve=I7,Dve=L7,$ve=R7;function td({...t}){return c.jsx(Pve,{"data-slot":"select",...t})}function rd({...t}){return c.jsx(Cve,{"data-slot":"select-value",...t})}function nd({className:t,size:e="default",children:r,...n}){return c.jsxs(kve,{"data-slot":"select-trigger","data-size":e,className:qe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,c.jsx(Ove,{asChild:!0,children:c.jsx(J6,{className:"size-4 opacity-50"})})]})}function id({className:t,children:e,position:r="popper",...n}){return c.jsx(Eve,{children:c.jsxs(Tve,{"data-slot":"select-content",className:qe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(Fve,{}),c.jsx(Ive,{className:qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),c.jsx(Bve,{})]})})}function lr({className:t,children:e,...r}){return c.jsxs(Lve,{"data-slot":"select-item",className:qe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(Mve,{children:c.jsx(pg,{className:"size-4"})})}),c.jsx(Rve,{children:e})]})}function Fve({className:t,...e}){return c.jsx(Dve,{"data-slot":"select-scroll-up-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(rB,{className:"size-4"})})}function Bve({className:t,...e}){return c.jsx($ve,{"data-slot":"select-scroll-down-button",className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(J6,{className:"size-4"})})}const yw=t=>{switch(t){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};function _6({showActions:t=!1}){const[e,r]=N.useState([]),[n,i]=N.useState(!0),[a,o]=N.useState(null),[s,l]=N.useState(!1);N.useEffect(()=>{u()},[t]);const u=async()=>{try{const b=t?await IT():await WT(10);if(t&&Array.isArray(b)){const _=b.map(w=>{var S,j,C;return{id:w.id,order_id:w.id,customer_email:((S=w.users)==null?void 0:S.email)||"N/A",customer_name:((j=w.users)==null?void 0:j.name)||"N/A",amount:w.total_amount,status:w.status,order_date:new Date(w.created_at).toLocaleDateString(),shipping_address:w.shipping_address,order_items:w.order_items||[],payment_method:((C=w.shipping_address)==null?void 0:C.paymentMethod)||"N/A"}});r(_)}else if(!t&&Array.isArray(b)){const _=b.map(w=>({id:w.order_id,order_id:w.order_id,customer_email:w.customer_email,customer_name:w.customer_name||"N/A",amount:w.amount,status:w.status,order_date:new Date(w.order_date).toLocaleDateString(),shipping_address:null,order_items:[],payment_method:"N/A"}));r(_)}}catch(b){console.error("Error fetching orders:",b),Ce.error("Failed to load orders")}finally{i(!1)}},d=async(b,_)=>{l(!0);try{await LT(b,_)?(r(S=>S.map(j=>j.order_id===b?{...j,status:_}:j)),(a==null?void 0:a.order_id)===b&&o(S=>S?{...S,status:_}:null),Ce.success(`Order status updated to ${_}`)):Ce.error("Failed to update order status")}catch(w){console.error("Error updating order status:",w),Ce.error("Failed to update order status")}finally{l(!1)}},f=b=>({pending:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered"],delivered:[],cancelled:[]})[b]||[],p=b=>{switch(b.toLowerCase()){case"pending":return c.jsx(Ol,{className:"h-4 w-4"});case"processing":return c.jsx(da,{className:"h-4 w-4"});case"shipped":return c.jsx(cu,{className:"h-4 w-4"});case"delivered":return c.jsx(mg,{className:"h-4 w-4"});case"cancelled":return c.jsx(F5,{className:"h-4 w-4"});default:return c.jsx(Ol,{className:"h-4 w-4"})}},h=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),g=async b=>{try{const _={...b,status:b.status,payment_method:b.payment_method};await C8(_),Ce.success("Invoice opened for printing")}catch(_){console.error("Error printing invoice:",_),Ce.error(_ instanceof Error?_.message:"Failed to print invoice")}},m=async b=>{try{const _={...b,status:b.status,payment_method:b.payment_method};await k8(_),Ce.success("PDF downloaded successfully")}catch(_){console.error("Error generating PDF:",_),Ce.error("Failed to generate PDF")}},v=async b=>{try{const _={...b,status:b.status,payment_method:b.payment_method};await O8(_)}catch(_){console.error("Error viewing invoice:",_),Ce.error("Failed to view invoice")}};return n?c.jsxs("div",{className:"flex items-center justify-center p-8",children:[c.jsx(da,{className:"h-6 w-6 animate-spin"}),c.jsx("span",{className:"ml-2",children:"Loading orders..."})]}):e.length===0?c.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No orders found"}):c.jsx("div",{className:"space-y-4",children:c.jsxs(Qge,{children:[c.jsx(eve,{children:c.jsxs(w6,{children:[c.jsx(cl,{children:"Order ID"}),c.jsx(cl,{children:"Customer"}),c.jsx(cl,{children:"Amount"}),c.jsx(cl,{children:"Status"}),c.jsx(cl,{children:"Payment"}),c.jsx(cl,{children:"Date"}),t&&c.jsx(cl,{children:"Actions"})]})}),c.jsx(tve,{children:e.map(b=>c.jsxs(w6,{children:[c.jsxs(ul,{className:"font-medium",children:["#",b.order_id.slice(-8)]}),c.jsx(ul,{children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:b.customer_name}),c.jsx("div",{className:"text-sm text-muted-foreground",children:b.customer_email})]})}),c.jsx(ul,{className:"font-medium",children:h(b.amount)}),c.jsx(ul,{children:c.jsxs(Wt,{className:`${yw(b.status)} flex items-center gap-1 w-fit`,children:[p(b.status),b.status]})}),c.jsx(ul,{children:c.jsxs("div",{className:"text-sm",children:[b.payment_method==="cash-on-delivery"&&" COD",b.payment_method==="bank-transfer"&&" Bank Transfer",b.payment_method==="credit-card"&&" Card",!b.payment_method||b.payment_method==="N/A"?"N/A":b.payment_method]})}),c.jsx(ul,{children:b.order_date}),t&&c.jsx(ul,{children:c.jsxs(Lo,{children:[c.jsx(u_,{asChild:!0,children:c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>o(b),children:[c.jsx(To,{className:"h-4 w-4 mr-1"}),"View Details"]})}),c.jsxs(Ga,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Ro,{children:c.jsxs(Mo,{className:"flex items-center gap-2",children:["Order #",a==null?void 0:a.order_id.slice(-8),c.jsx(Wt,{className:a?yw(a.status):"",children:a==null?void 0:a.status})]})}),a&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Ge,{children:c.jsx(Ye,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ks,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Customer"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:a.customer_name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:a.customer_email})]})]})})}),c.jsx(Ge,{children:c.jsx(Ye,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(X6,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Order Date"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:a.order_date})]})]})})}),c.jsx(Ge,{children:c.jsx(Ye,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(gB,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Total Amount"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:h(a.amount)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:a.payment_method})]})]})})})]}),a.shipping_address&&c.jsxs(Ge,{children:[c.jsx(Bt,{className:"pb-3",children:c.jsxs(qt,{className:"text-lg flex items-center gap-2",children:[c.jsx(z5,{className:"h-5 w-5"}),"Shipping Address"]})}),c.jsx(Ye,{children:c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("p",{className:"font-medium",children:[a.shipping_address.firstName," ",a.shipping_address.lastName]}),c.jsx("p",{children:a.shipping_address.address}),c.jsxs("p",{children:[a.shipping_address.city,", ",a.shipping_address.state," ",a.shipping_address.zipCode]}),c.jsx("p",{children:a.shipping_address.country}),c.jsxs("p",{className:"text-muted-foreground",children:[" ",a.shipping_address.phone]}),c.jsxs("p",{className:"text-muted-foreground",children:[" ",a.shipping_address.email]})]})})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{className:"pb-3",children:c.jsx(qt,{className:"text-lg",children:"Order Items"})}),c.jsx(Ye,{children:a.order_items&&a.order_items.length>0?c.jsxs("div",{className:"space-y-3",children:[a.order_items.map((_,w)=>{var S;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:((S=_.products)==null?void 0:S.name)||"Unknown Product"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",_.quantity,"  ",h(_.price_at_purchase)]})]}),c.jsx("p",{className:"font-medium",children:h(_.quantity*_.price_at_purchase)})]},w)}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsx("span",{children:h(a.amount)})]})]}):c.jsx("p",{className:"text-muted-foreground",children:"No items found in this order."})})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{className:"pb-3",children:c.jsx(qt,{className:"text-lg",children:"Order Status Management"})}),c.jsxs(Ye,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Current Status"}),c.jsxs(Wt,{className:`${yw(a.status)} flex items-center gap-1 w-fit mt-1`,children:[p(a.status),a.status]})]})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Update Status"}),c.jsxs(td,{value:"",onValueChange:_=>d(a.order_id,_),disabled:s||f(a.status).length===0,children:[c.jsx(nd,{className:"w-40",children:c.jsx(rd,{placeholder:"Next action"})}),c.jsx(id,{children:f(a.status).map(_=>c.jsx(lr,{value:_,className:"capitalize",children:_},_))})]})]})]}),f(a.status).length===0&&c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No further actions available for this order status."})]})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{className:"pb-3",children:c.jsxs(qt,{className:"text-lg flex items-center gap-2",children:[c.jsx(ko,{className:"h-5 w-5"}),"Invoice Actions"]})}),c.jsxs(Ye,{children:[c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsxs(we,{variant:"outline",onClick:()=>v(a),className:"flex items-center gap-2",children:[c.jsx(ko,{className:"h-4 w-4"}),"View Invoice"]}),c.jsxs(we,{variant:"outline",onClick:()=>m(a),className:"flex items-center gap-2",children:[c.jsx(Q6,{className:"h-4 w-4"}),"Download PDF"]}),c.jsxs(we,{variant:"outline",onClick:()=>g(a),className:"flex items-center gap-2",children:[c.jsx(iT,{className:"h-4 w-4"}),"Print Invoice"]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:"Generate professional invoices for your orders. You can view them in your browser, download as PDF files, or print them directly."})]})]})]})]})]})})]},b.order_id))})]})})}function q7({className:t,...e}){return c.jsx("textarea",{"data-slot":"textarea",className:qe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}var Tv="Checkbox",[qve,Pbe]=Qn(Tv),[Uve,HS]=qve(Tv);function zve(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=t,[p,h]=Io({prop:r,defaultProp:i??!1,onChange:l,caller:Tv}),[g,m]=N.useState(null),[v,b]=N.useState(null),_=N.useRef(!1),w=g?!!o||!!g.closest("form"):!0,S={checked:p,disabled:a,setChecked:h,control:g,setControl:m,name:s,form:o,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:As(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:b};return c.jsx(Uve,{scope:e,...S,children:Wve(f)?f(S):n})}var U7="CheckboxTrigger",z7=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:s,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=HS(U7,t),m=Dt(i,d),v=N.useRef(l);return N.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const _=()=>f(v.current);return b.addEventListener("reset",_),()=>b.removeEventListener("reset",_)}},[a,f]),c.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":As(l)?"mixed":l,"aria-required":u,"data-state":K7(l),"data-disabled":s?"":void 0,disabled:s,value:o,...n,ref:m,onKeyDown:dt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:dt(r,b=>{f(_=>As(_)?!0:!_),g&&h&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});z7.displayName=U7;var W7=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l,onCheckedChange:u,form:d,...f}=t;return c.jsx(zve,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(z7,{...f,ref:e,__scopeCheckbox:r}),p&&c.jsx(Y7,{__scopeCheckbox:r})]})})});W7.displayName=Tv;var H7="CheckboxIndicator",V7=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=HS(H7,r);return c.jsx(Oi,{present:n||As(a.checked)||a.checked===!0,children:c.jsx(ct.span,{"data-state":K7(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});V7.displayName=H7;var G7="CheckboxBubbleInput",Y7=N.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:l,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=HS(G7,t),g=Dt(r,h),m=kv(a),v=jv(n);N.useEffect(()=>{const _=p;if(!_)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,C=!i.current;if(m!==a&&j){const k=new Event("click",{bubbles:C});_.indeterminate=As(a),j.call(_,As(a)?!1:a),_.dispatchEvent(k)}},[p,m,a,i]);const b=N.useRef(As(a)?!1:a);return c.jsx(ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:s,disabled:l,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Y7.displayName=G7;function Wve(t){return typeof t=="function"}function As(t){return t==="indeterminate"}function K7(t){return As(t)?"indeterminate":t?"checked":"unchecked"}function I5({className:t,...e}){return c.jsx(W7,{"data-slot":"checkbox",className:qe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(V7,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:c.jsx(pg,{className:"size-3.5"})})})}var VS="Progress",GS=100,[Hve,kbe]=Qn(VS),[Vve,Gve]=Hve(VS),X7=N.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Yve,...o}=t;(i||i===0)&&!S6(i)&&console.error(Kve(`${i}`,"Progress"));const s=S6(i)?i:GS;n!==null&&!j6(n,s)&&console.error(Xve(`${n}`,"Progress"));const l=j6(n,s)?n:null,u=cg(l)?a(l,s):void 0;return c.jsx(Vve,{scope:r,value:l,max:s,children:c.jsx(ct.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":cg(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":Q7(l,s),"data-value":l??void 0,"data-max":s,...o,ref:e})})});X7.displayName=VS;var J7="ProgressIndicator",Z7=N.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Gve(J7,r);return c.jsx(ct.div,{"data-state":Q7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});Z7.displayName=J7;function Yve(t,e){return`${Math.round(t/e*100)}%`}function Q7(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function cg(t){return typeof t=="number"}function S6(t){return cg(t)&&!isNaN(t)&&t>0}function j6(t,e){return cg(t)&&!isNaN(t)&&t<=e&&t>=0}function Kve(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${GS}\`.`}function Xve(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${GS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Jve=X7,Zve=Z7;function L5({className:t,value:e,...r}){return c.jsx(Jve,{"data-slot":"progress",className:qe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:c.jsx(Zve,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const Qve=M5("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function e0e({className:t,variant:e,...r}){return c.jsx("div",{"data-slot":"alert",role:"alert",className:qe(Qve({variant:e}),t),...r})}function t0e({className:t,...e}){return c.jsx("div",{"data-slot":"alert-description",className:qe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}class $a{static validateFile(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{valid:!1,error:"File size too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Invalid file type. Only JPEG, PNG, WebP, and AVIF are allowed."}}static async fileToCanvas(e){return new Promise((r,n)=>{const i=new Image,a=document.createElement("canvas"),o=a.getContext("2d");if(!o){n(new Error("Could not get canvas context"));return}i.onload=()=>{let{width:u,height:d}=i;if(u>1920||d>1920){const f=Math.min(1920/u,1920/d);u*=f,d*=f}a.width=u,a.height=d,o.drawImage(i,0,0,u,d),r({canvas:a,ctx:o,width:u,height:d})},i.onerror=()=>n(new Error("Failed to load image")),i.src=URL.createObjectURL(e)})}static async canvasToBlob(e,r,n=.85){return new Promise((i,a)=>{e.toBlob(o=>{o?i(o):a(new Error("Failed to convert canvas to blob"))},r,n)})}static async processImage(e,r={}){const{maxWidth:n=1920,maxHeight:i=1920,quality:a=.85,format:o="webp",generateSizes:s=!0}=r,l=this.validateFile(e);if(!l.valid)throw new Error(l.error);const{canvas:u,ctx:d,width:f,height:p}=await this.fileToCanvas(e);if(f>n||p>i){const v=Math.min(n/f,i/p),b=f*v,_=p*v,w=document.createElement("canvas"),S=w.getContext("2d");w.width=b,w.height=_,S.drawImage(u,0,0,b,_),u.width=b,u.height=_,d.drawImage(w,0,0)}const h=`image/${o}`,g=await this.canvasToBlob(u,h,a);let m;if(s){const v=document.createElement("canvas"),b=v.getContext("2d"),_=300,w=Math.min(_/f,_/p);v.width=f*w,v.height=p*w,b.drawImage(u,0,0,v.width,v.height),m=await this.canvasToBlob(v,h,a)}return{original:e,optimized:g,thumbnail:m,format:o,originalSize:e.size,optimizedSize:g.size,dimensions:{width:u.width,height:u.height}}}static async uploadToStorage(e,r,n){const i=Date.now(),a=`${r}/${i}.${e.format}`,{data:o,error:s}=await Re.storage.from(this.BUCKET_NAME).upload(a,e.optimized,{contentType:`image/${e.format}`,upsert:!1});if(s)throw new Error(`Upload failed: ${s.message}`);const{data:l}=Re.storage.from(this.BUCKET_NAME).getPublicUrl(a);let u;if(e.thumbnail){const d=`${r}/${i}_thumb.${e.format}`,{data:f,error:p}=await Re.storage.from(this.BUCKET_NAME).upload(d,e.thumbnail,{contentType:`image/${e.format}`,upsert:!1});if(!p){const{data:h}=Re.storage.from(this.BUCKET_NAME).getPublicUrl(d);u=h.publicUrl}}return{url:l.publicUrl,thumbnailUrl:u}}static async uploadMultipleImages(e,r,n={},i,a){const o=[];for(let s=0;s<e.length;s++){const l=e[s];try{const u=await this.processImage(l,n),d=await this.uploadToStorage(u,r),f={url:d.url,thumbnailUrl:d.thumbnailUrl,fileName:l.name};o.push(f),a==null||a(s,f)}catch(u){console.error(`Failed to upload ${l.name}:`,u)}}return o}static async deleteImage(e){const r=e.split("/"),n=r[r.length-1],i=r[r.length-2];if(!n||!i)throw new Error("Invalid image URL format");const{error:a}=await Re.storage.from(this.BUCKET_NAME).remove([`${i}/${n}`]);if(a)throw new Error(`Failed to delete image: ${a.message}`)}static async checkBucketExists(){try{const{data:e,error:r}=await Re.storage.listBuckets();return r?(console.error("Error listing buckets:",r),await this.checkBucketDirectly()):e==null?void 0:e.some(i=>i.name===this.BUCKET_NAME)}catch(e){return console.error("Error checking bucket existence:",e),!1}}static async checkBucketDirectly(){try{const{error:e}=await Re.storage.from(this.BUCKET_NAME).list("",{limit:1});return!e}catch(e){return console.error("Error checking bucket directly:",e),!1}}}Jt($a,"MAX_FILE_SIZE",10*1024*1024),Jt($a,"ALLOWED_TYPES",["image/jpeg","image/png","image/webp","image/avif"]),Jt($a,"BUCKET_NAME","product-images");const r0e=Object.freeze(Object.defineProperty({__proto__:null,ImageUploadService:$a,default:$a},Symbol.toStringTag,{value:"Module"}));var n0e=Object.defineProperty,i0e=(t,e,r)=>e in t?n0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lr=(t,e,r)=>i0e(t,typeof e!="symbol"?e+"":e,r);const ug={x:0,y:0,width:0,height:0,unit:"px"},Dc=(t,e,r)=>Math.min(Math.max(t,e),r),a0e=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),N6=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function o0e(t,e,r,n){const i=Ma(t,r,n);return t.width&&(i.height=i.width/e),t.height&&(i.width=i.height*e),i.y+i.height>n&&(i.height=n-i.y,i.width=i.height*e),i.x+i.width>r&&(i.width=r-i.x,i.height=i.width/e),t.unit==="%"?ys(i,r,n):i}function s0e(t,e,r){const n=Ma(t,e,r);return n.x=(e-n.width)/2,n.y=(r-n.height)/2,t.unit==="%"?ys(n,e,r):n}function ys(t,e,r){return t.unit==="%"?{...ug,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/r*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/r*100:0}}function Ma(t,e,r){return t.unit?t.unit==="px"?{...ug,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*r/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*r/100:0}:{...ug,...t,unit:"px"}}function A6(t,e,r,n,i,a=0,o=0,s=n,l=i){const u={...t};let d=Math.min(a,n),f=Math.min(o,i),p=Math.min(s,n),h=Math.min(l,i);e&&(e>1?(d=o?o*e:d,f=d/e,p=s*e):(f=a?a/e:f,d=f*e,h=l/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,d),u.x=0);const g=n-(u.x+u.width);g<0&&(u.x=Math.min(u.x,n-d),u.width+=g);const m=i-(u.y+u.height);if(m<0&&(u.y=Math.min(u.y,i-f),u.height+=m),u.width<d&&((r==="sw"||r=="nw")&&(u.x-=d-u.width),u.width=d),u.height<f&&((r==="nw"||r=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((r==="sw"||r=="nw")&&(u.x-=p-u.width),u.width=p),u.height>h&&((r==="nw"||r=="ne")&&(u.y-=h-u.height),u.height=h),e){const v=u.width/u.height;if(v<e){const b=Math.max(u.width/e,f);(r==="nw"||r=="ne")&&(u.y-=b-u.height),u.height=b}else if(v>e){const b=Math.max(u.height*e,d);(r==="sw"||r=="nw")&&(u.x-=b-u.width),u.width=b}}return u}function l0e(t,e,r,n){const i={...t};return e==="ArrowLeft"?n==="nw"?(i.x-=r,i.y-=r,i.width+=r,i.height+=r):n==="w"?(i.x-=r,i.width+=r):n==="sw"?(i.x-=r,i.width+=r,i.height+=r):n==="ne"?(i.y+=r,i.width-=r,i.height-=r):n==="e"?i.width-=r:n==="se"&&(i.width-=r,i.height-=r):e==="ArrowRight"&&(n==="nw"?(i.x+=r,i.y+=r,i.width-=r,i.height-=r):n==="w"?(i.x+=r,i.width-=r):n==="sw"?(i.x+=r,i.width-=r,i.height-=r):n==="ne"?(i.y-=r,i.width+=r,i.height+=r):n==="e"?i.width+=r:n==="se"&&(i.width+=r,i.height+=r)),e==="ArrowUp"?n==="nw"?(i.x-=r,i.y-=r,i.width+=r,i.height+=r):n==="n"?(i.y-=r,i.height+=r):n==="ne"?(i.y-=r,i.width+=r,i.height+=r):n==="sw"?(i.x+=r,i.width-=r,i.height-=r):n==="s"?i.height-=r:n==="se"&&(i.width-=r,i.height-=r):e==="ArrowDown"&&(n==="nw"?(i.x+=r,i.y+=r,i.width-=r,i.height-=r):n==="n"?(i.y+=r,i.height-=r):n==="ne"?(i.y+=r,i.width-=r,i.height-=r):n==="sw"?(i.x-=r,i.width+=r,i.height+=r):n==="s"?i.height+=r:n==="se"&&(i.width+=r,i.height+=r)),i}const $c={capture:!0,passive:!1};let c0e=0;const ms=class aa extends N.PureComponent{constructor(){super(...arguments),Lr(this,"docMoveBound",!1),Lr(this,"mouseDownOnCrop",!1),Lr(this,"dragStarted",!1),Lr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Lr(this,"componentRef",N.createRef()),Lr(this,"mediaRef",N.createRef()),Lr(this,"resizeObserver"),Lr(this,"initChangeCalled",!1),Lr(this,"instanceId",`rc-${c0e++}`),Lr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Lr(this,"onCropPointerDown",e=>{const{crop:r,disabled:n}=this.props,i=this.getBox();if(!r)return;const a=Ma(r,i.width,i.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,s=!!o;let l=e.clientX,u=e.clientY,d=a.x,f=a.y;if(o){const p=e.clientX-i.x,h=e.clientY-i.y;let g=0,m=0;o==="ne"||o=="e"?(g=p-(a.x+a.width),m=h-a.y,d=a.x,f=a.y+a.height):o==="se"||o==="s"?(g=p-(a.x+a.width),m=h-(a.y+a.height),d=a.x,f=a.y):o==="sw"||o=="w"?(g=p-a.x,m=h-(a.y+a.height),d=a.x+a.width,f=a.y):(o==="nw"||o=="n")&&(g=p-a.x,m=h-a.y,d=a.x+a.width,f=a.y+a.height),l=d+i.x+g,u=f+i.y+m}this.evData={startClientX:l,startClientY:u,startCropX:d,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:s,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Lr(this,"onComponentPointerDown",e=>{const{crop:r,disabled:n,locked:i,keepSelection:a,onChange:o}=this.props,s=this.getBox();if(n||i||a&&r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.clientX-s.x,u=e.clientY-s.y,d={unit:"px",x:l,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(Ma(d,s.width,s.height),ys(d,s.width,s.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Lr(this,"onDocPointerMove",e=>{const{crop:r,disabled:n,onChange:i,onDragStart:a}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:s}=this;s.clientX=e.clientX,s.clientY=e.clientY;let l;s.isResize?l=this.resizeCrop():l=this.dragCrop(),N6(r,l)||i(Ma(l,o.width,o.height),ys(l,o.width,o.height))}),Lr(this,"onComponentKeyDown",e=>{const{crop:r,disabled:n,onChange:i,onComplete:a}=this.props;if(n)return;const o=e.key;let s=!1;if(!r)return;const l=this.getBox(),u=this.makePixelCrop(l),d=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?aa.nudgeStepLarge:e.shiftKey?aa.nudgeStepMedium:aa.nudgeStep;if(o==="ArrowLeft"?(u.x-=d,s=!0):o==="ArrowRight"?(u.x+=d,s=!0):o==="ArrowUp"?(u.y-=d,s=!0):o==="ArrowDown"&&(u.y+=d,s=!0),s){e.cancelable&&e.preventDefault(),u.x=Dc(u.x,0,l.width-u.width),u.y=Dc(u.y,0,l.height-u.height);const f=Ma(u,l.width,l.height),p=ys(u,l.width,l.height);i(f,p),a&&a(f,p)}}),Lr(this,"onHandlerKeyDown",(e,r)=>{const{aspect:n=0,crop:i,disabled:a,minWidth:o=0,minHeight:s=0,maxWidth:l,maxHeight:u,onChange:d,onComplete:f}=this.props,p=this.getBox();if(a||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?aa.nudgeStepLarge:e.shiftKey?aa.nudgeStepMedium:aa.nudgeStep,g=Ma(i,p.width,p.height),m=l0e(g,e.key,h,r),v=A6(m,n,r,p.width,p.height,o,s,l,u);if(!N6(i,v)){const b=ys(v,p.width,p.height);d(v,b),f&&f(v,b)}}),Lr(this,"onDocPointerDone",e=>{const{crop:r,disabled:n,onComplete:i,onDragEnd:a}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),i&&i(Ma(r,o.width,o.height),ys(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Lr(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:i,height:a}=e.getBoundingClientRect();return{x:r,y:n,width:i,height:a}}componentDidUpdate(e){const{crop:r,onComplete:n}=this.props;if(n&&!e.crop&&r){const{width:i,height:a}=this.getBox();i&&a&&n(Ma(r,i,a),ys(r,i,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,$c),this.document.addEventListener("pointerup",this.onDocPointerDone,$c),this.document.addEventListener("pointercancel",this.onDocPointerDone,$c),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,$c),this.document.removeEventListener("pointerup",this.onDocPointerDone,$c),this.document.removeEventListener("pointercancel",this.onDocPointerDone,$c),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,r=this.getBox(),n=this.makePixelCrop(r),i=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return n.x=Dc(e.startCropX+i,0,r.width-n.width),n.y=Dc(e.startCropY+a,0,r.height-n.height),n}getPointRegion(e,r,n,i){const{evData:a}=this,o=a.clientX-e.x,s=a.clientY-e.y;let l;i&&r?l=r==="nw"||r==="n"||r==="ne":l=s<a.startCropY;let u;return n&&r?u=r==="nw"||r==="w"||r==="sw":u=o<a.startCropX,u?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(e,r,n=0,i=0){const a=Math.min(n,e.width),o=Math.min(i,e.height);return!r||!a&&!o?[a,o]:r>1?a?[a,a/r]:[o*r,o]:o?[o*r,o]:[a,a/r]}resizeCrop(){const{evData:e}=this,{aspect:r=0,maxWidth:n,maxHeight:i}=this.props,a=this.getBox(),[o,s]=this.resolveMinDimensions(a,r,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(a);const u=this.getPointRegion(a,e.ord,o,s),d=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(o&&d==="nw"||d==="w"||d==="sw")&&(f=Math.min(f,-o)),(s&&d==="nw"||d==="n"||d==="ne")&&(p=Math.min(p,-s));const h={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(h.x=e.startCropX,h.width=f,r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY-h.height)):u==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=f,r?h.height=h.width/r:h.height=p):u==="sw"?(h.x=e.startCropX+f,h.y=e.startCropY,h.width=Math.abs(f),r?h.height=h.width/r:h.height=p):u==="nw"&&(h.x=e.startCropX+f,h.width=Math.abs(f),r?(h.height=h.width/r,h.y=e.startCropY-h.height):(h.height=Math.abs(p),h.y=e.startCropY+p));const g=A6(h,r,u,a.width,a.height,o,s,n,i);return r||aa.xyOrds.indexOf(d)>-1?l=g:aa.xOrds.indexOf(d)>-1?(l.x=g.x,l.width=g.width):aa.yOrds.indexOf(d)>-1&&(l.y=g.y,l.height=g.height),l.x=Dc(l.x,0,a.width-l.width),l.y=Dc(l.y,0,a.height-l.height),l}renderCropSelection(){const{ariaLabels:e=aa.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:i,ruleOfThirds:a,crop:o}=this.props,s=this.getCropStyle();if(o)return K.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&K.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},K.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),i&&K.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},i(this.state)),a&&K.createElement(K.Fragment,null,K.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),K.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const r={...ug,...this.props.crop||{}};return Ma(r,e.width,e.height)}render(){const{aspect:e,children:r,circularCrop:n,className:i,crop:a,disabled:o,locked:s,style:l,ruleOfThirds:u}=this.props,{cropIsActive:d,newCropIsBeingDrawn:f}=this.state,p=a?this.renderCropSelection():null,h=a0e("ReactCrop",i,d&&"ReactCrop--active",o&&"ReactCrop--disabled",s&&"ReactCrop--locked",f&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&n&&"ReactCrop--circular-crop",a&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return K.createElement("div",{ref:this.componentRef,className:h,style:l},K.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),a?K.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},K.createElement("defs",null,K.createElement("mask",{id:`hole-${this.instanceId}`},K.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?K.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):K.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),K.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Lr(ms,"xOrds",["e","w"]),Lr(ms,"yOrds",["n","s"]),Lr(ms,"xyOrds",["nw","ne","se","sw"]),Lr(ms,"nudgeStep",1),Lr(ms,"nudgeStepMedium",10),Lr(ms,"nudgeStepLarge",100),Lr(ms,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let u0e=ms;const d0e=Math.PI/180;async function f0e(t,e,r,n=1,i=0){const a=e.getContext("2d");if(!a)throw new Error("No 2d context");const o=t.naturalWidth/t.width,s=t.naturalHeight/t.height,l=window.devicePixelRatio;e.width=Math.floor(r.width*o*l),e.height=Math.floor(r.height*s*l),a.scale(l,l),a.imageSmoothingQuality="high";const u=r.x*o,d=r.y*s,f=i*d0e,p=t.naturalWidth/2,h=t.naturalHeight/2;a.save(),a.translate(-u,-d),a.translate(p,h),a.rotate(f),a.scale(n,n),a.translate(-p,-h),a.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),a.restore()}async function h0e(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const i=document.createElement("canvas"),a=i.getContext("2d");if(!a){r(new Error("Could not get canvas context"));return}i.width=n.naturalWidth,i.height=n.naturalHeight,a.drawImage(n,0,0);try{const o=i.toDataURL("image/png");e(o)}catch(o){r(o)}},n.onerror=()=>r(new Error("Failed to load image")),n.src=t})}function p0e({src:t,onCropComplete:e,onClose:r,aspect:n=3/4}){const[i,a]=N.useState(),[o,s]=N.useState(),[l,u]=N.useState(null),[d,f]=N.useState(!1),p=N.useRef(null),h=N.useRef(null);N.useEffect(()=>{t&&t.startsWith("http")?(f(!0),h0e(t).then(v=>{u(v),f(!1)}).catch(v=>{console.error("Error converting image to data URL:",v),u(t),f(!1)})):u(t)},[t]);function g(v){if(n){const{width:b,height:_}=v.currentTarget;a(s0e(o0e({unit:"%",width:90},n,b,_),b,_))}}async function m(){const v=p.current,b=h.current;if(!(!v||!b||!o))try{await f0e(v,b,o),b.toBlob(_=>{_?e(_):(console.error("Failed to create blob from canvas"),alert("Failed to crop image. Please try again."))},"image/png")}catch(_){console.error("Error cropping image:",_),alert("Failed to crop image. Please try again.")}}return N.useEffect(()=>{a(void 0),s(void 0)},[t]),t?c.jsx(Lo,{open:!!t,onOpenChange:v=>!v&&r(),children:c.jsxs(Ga,{className:"max-w-3xl",children:[c.jsx(Ro,{children:c.jsx(Mo,{children:"Crop Image"})}),d?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),c.jsx("p",{children:"Loading image..."})]})}):c.jsx("div",{className:"flex justify-center p-4",children:c.jsx(u0e,{crop:i,onChange:(v,b)=>a(b),onComplete:v=>s(v),aspect:n,minWidth:100,minHeight:100,children:c.jsx("img",{ref:p,alt:"Crop me",src:l||"",onLoad:g,style:{maxHeight:"70vh"}})})}),c.jsx("canvas",{ref:h,style:{display:"none"}}),c.jsxs(QH,{children:[c.jsx(we,{variant:"outline",onClick:r,children:"Cancel"}),c.jsx(we,{onClick:m,disabled:d||!o,children:"Save Crop"})]})]})}):null}function P6({mode:t="create",product:e=null,onSuccess:r,onCancel:n}){var $,ie;const[i,a]=N.useState({name:(e==null?void 0:e.name)||"",category:(e==null?void 0:e.category)||"Casual",price:(($=e==null?void 0:e.price)==null?void 0:$.toString())||"",originalPrice:((ie=e==null?void 0:e.originalPrice)==null?void 0:ie.toString())||"",description:(e==null?void 0:e.description)||"",inStock:(e==null?void 0:e.inStock)??!0,sizes:(e==null?void 0:e.sizes)||["S","M","L"],colors:(e==null?void 0:e.colors)||["Black","White"],images:(e==null?void 0:e.images)||[]}),[o,s]=N.useState([]),[l,u]=N.useState((e==null?void 0:e.images)||[]),[d,f]=N.useState(!1),[p,h]=N.useState(0),[g,m]=N.useState(!1),[v,b]=N.useState(""),[_,w]=N.useState(""),S=N.useRef(null),[j,C]=N.useState(null);N.useEffect(()=>()=>{o.forEach(re=>{re.preview&&URL.revokeObjectURL(re.preview)})},[o]);const k=re=>{if(!j)return;const se=new File([re],"cropped_image.png",{type:"image/png"}),M=URL.createObjectURL(se);j.type==="new"?s(U=>{const z=[...U],Z=z[j.index].preview;return URL.revokeObjectURL(Z),z[j.index]={...z[j.index],file:se,preview:M,status:"pending"},z}):(u(U=>U.filter((z,Z)=>Z!==j.index)),s(U=>[...U,{file:se,preview:M,status:"pending",progress:0}])),C(null),Ce.success("Image cropped successfully. Ready for upload.")},E=N.useCallback(re=>{re.preventDefault(),re.stopPropagation(),re.type==="dragenter"||re.type==="dragover"?m(!0):re.type==="dragleave"&&m(!1)},[]),T=N.useCallback(re=>{re.preventDefault(),re.stopPropagation(),m(!1),re.dataTransfer.files&&re.dataTransfer.files[0]&&I(Array.from(re.dataTransfer.files))},[]),I=re=>{const se=re.filter(U=>{const z=$a.validateFile(U);return z.valid?!0:(Ce.error(`${U.name}: ${z.error}`),!1)});if(se.length===0)return;const M=se.map(U=>({file:U,preview:URL.createObjectURL(U),status:"pending",progress:0}));s(U=>[...U,...M]),Ce.success(`${se.length} image(s) ready for upload`)},A=re=>{const se=o[re];se.preview&&URL.revokeObjectURL(se.preview),se.url&&$a.deleteImage(se.url).catch(M=>{console.warn("Failed to delete image from storage:",M)}),s(M=>M.filter((U,z)=>z!==re))},L=re=>{u(se=>se.filter(M=>M!==re))},D=()=>{v.trim()&&!i.sizes.includes(v.trim())&&(a(re=>({...re,sizes:[...re.sizes,v.trim()]})),b(""))},F=re=>{a(se=>({...se,sizes:se.sizes.filter(M=>M!==re)}))},X=()=>{_.trim()&&!i.colors.includes(_.trim())&&(a(re=>({...re,colors:[...re.colors,_.trim()]})),w(""))},Y=re=>{a(se=>({...se,colors:se.colors.filter(M=>M!==re)}))},V=async re=>{if(re.preventDefault(),!i.name.trim()){Ce.error("Product name is required");return}if(!i.price||isNaN(parseFloat(i.price))){Ce.error("Valid price is required");return}if(o.some(se=>se.status==="uploading")){Ce.error("Please wait for all images to finish uploading");return}f(!0),h(0);try{const se={name:i.name,category:i.category,price:parseFloat(i.price),original_price:i.originalPrice?parseFloat(i.originalPrice):void 0,description:i.description,in_stock:i.inStock,sizes:i.sizes,colors:i.colors,images:[...l]};let M;if(t==="edit"&&(e!=null&&e.id))await Fp(e.id,se),M=e.id;else{const z=await RT(se);if(!z||!z.id)throw new Error("Failed to create product");M=z.id}let U=[...l];if(o.length>0){s(de=>de.map(ae=>({...ae,status:"uploading",progress:0})));const z=o.map(de=>de.file),Z={format:"webp",quality:.85,generateSizes:!0},le=await $a.uploadMultipleImages(z,M,Z,(de,ae)=>{s(he=>he.map((ge,ue)=>ue===de?{...ge,progress:ae.percentage}:ge)),h(Math.round((de+ae.percentage/100)/z.length*100))},(de,ae)=>{s(he=>he.map((ge,ue)=>ue===de?{...ge,status:"completed",url:ae.url,thumbnailUrl:ae.thumbnailUrl,progress:100}:ge))}).catch(async de=>{console.error("Upload failed:",de),console.log("Checking bucket existence...");const ae=await $a.checkBucketExists();if(console.log("Bucket exists:",ae),!ae)return Ce.error("Image storage bucket is not accessible"),[];console.log("Checking direct bucket access...");const he=await $a.checkBucketDirectly();return console.log("Direct bucket access:",he),Ce.error(`Upload failed: ${de.message}`),[]}),oe=le.map(de=>de.url);U=[...l,...oe],await Fp(M,{images:U}),Ce.success(`${t==="edit"?"Updated":"Created"} product with ${le.length} new image(s)`)}else await Fp(M,{images:U}),Ce.success(`Product ${t==="edit"?"updated":"created"} successfully!`);r==null||r(),t==="create"&&(a({name:"",category:"Casual",price:"",originalPrice:"",description:"",inStock:!0,sizes:["S","M","L"],colors:["Black","White"],images:[]}),u([])),o.forEach(z=>{z.preview&&URL.revokeObjectURL(z.preview)}),s([]),h(0)}catch(se){console.error(`Error ${t==="edit"?"updating":"creating"} product:`,se),Ce.error(se instanceof Error?se.message:`Failed to ${t==="edit"?"update":"create"} product`),s(M=>M.map(U=>U.status==="uploading"?{...U,status:"error",error:"Upload failed"}:U))}finally{f(!1)}};return c.jsxs(Ge,{className:"w-full",children:[c.jsx(Bt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(qt,{className:"flex items-center gap-2",children:[t==="edit"?c.jsx(Zp,{className:"h-5 w-5"}):c.jsx(jl,{className:"h-5 w-5"}),t==="edit"?"Edit Product":"Add New Product"]}),n&&c.jsx(we,{variant:"ghost",onClick:n,children:"Cancel"})]})}),c.jsxs(Ye,{children:[c.jsxs("form",{onSubmit:V,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"product-name",children:"Product Name *"}),c.jsx(Lt,{id:"product-name",value:i.name,onChange:re=>a(se=>({...se,name:re.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"category",children:"Category"}),c.jsxs(td,{value:i.category,onValueChange:re=>a(se=>({...se,category:re})),children:[c.jsx(nd,{children:c.jsx(rd,{})}),c.jsxs(id,{children:[c.jsx(lr,{value:"Casual",children:"Casual"}),c.jsx(lr,{value:"Party",children:"Party"}),c.jsx(lr,{value:"Shoes",children:"Shoes"}),c.jsx(lr,{value:"Outwear",children:"Outwear"}),c.jsx(lr,{value:"Dresses",children:"Dresses"}),c.jsx(lr,{value:"Accessories",children:"Accessories"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"price",children:"Price *"}),c.jsx(Lt,{id:"price",type:"number",step:"0.01",min:"0",value:i.price,onChange:re=>a(se=>({...se,price:re.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"original-price",children:"Original Price (for sales)"}),c.jsx(Lt,{id:"original-price",type:"number",step:"0.01",min:"0",value:i.originalPrice,onChange:re=>a(se=>({...se,originalPrice:re.target.value}))})]})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"description",children:"Description"}),c.jsx(q7,{id:"description",value:i.description,onChange:re=>a(se=>({...se,description:re.target.value})),rows:3})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(I5,{id:"in-stock",checked:i.inStock,onCheckedChange:re=>a(se=>({...se,inStock:re}))}),c.jsx(Pt,{htmlFor:"in-stock",children:"In Stock"})]}),c.jsxs("div",{children:[c.jsx(Pt,{children:"Sizes"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx(Lt,{value:v,onChange:re=>b(re.target.value),placeholder:"Add size (e.g., XL)",onKeyPress:re=>re.key==="Enter"&&(re.preventDefault(),D())}),c.jsx(we,{type:"button",variant:"outline",onClick:D,children:c.jsx(jl,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:i.sizes.map(re=>c.jsxs(Wt,{variant:"secondary",className:"flex items-center gap-1",children:[re,c.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>F(re),children:c.jsx(Ss,{className:"h-3 w-3"})})]},re))})]}),c.jsxs("div",{children:[c.jsx(Pt,{children:"Colors"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx(Lt,{value:_,onChange:re=>w(re.target.value),placeholder:"Add color (e.g., Red)",onKeyPress:re=>re.key==="Enter"&&(re.preventDefault(),X())}),c.jsx(we,{type:"button",variant:"outline",onClick:X,children:c.jsx(jl,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:i.colors.map(re=>c.jsxs(Wt,{variant:"secondary",className:"flex items-center gap-1",children:[re,c.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>Y(re),children:c.jsx(rh,{className:"h-3 w-3"})})]},re))})]}),c.jsxs("div",{children:[c.jsx(Pt,{children:"Product Images"}),l.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Current Images:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.map((re,se)=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>C({index:se,src:re,type:"existing"}),children:[c.jsx("img",{src:re,alt:`Existing ${se+1}`,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:c.jsx(eN,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})})]}),c.jsx(we,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:M=>{M.stopPropagation(),L(re)},children:c.jsx(Ss,{className:"h-3 w-3"})})]},`existing-${se}`))})]}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${g?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:T,onClick:()=>{var re;return(re=S.current)==null?void 0:re.click()},children:[c.jsx("input",{ref:S,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:re=>re.target.files&&I(Array.from(re.target.files))}),c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(bq,{className:"h-8 w-8 text-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Drop new images here or click to browse"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPEG, PNG, WebP, AVIF (max 10MB each)"})]})]})]}),o.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"New Images to Upload:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:o.map((re,se)=>c.jsxs("div",{className:"relative group",children:[c.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border cursor-pointer",onClick:()=>C({index:se,src:re.preview,type:"new"}),children:[c.jsx("img",{src:re.preview,alt:`New ${se+1}`,className:"w-full h-full object-cover"}),c.jsxs("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:[re.status==="pending"&&c.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:c.jsx(eN,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100"})}),re.status==="uploading"&&c.jsxs("div",{className:"text-white text-center",children:[c.jsx("div",{className:"w-8 h-8 mx-auto mb-2",children:c.jsx(L5,{value:re.progress,className:"w-full h-full"})}),c.jsxs("p",{className:"text-xs",children:[re.progress,"%"]})]}),re.status==="completed"&&c.jsx(mg,{className:"h-8 w-8 text-green-500"}),re.status==="error"&&c.jsxs("div",{className:"text-center",children:[c.jsx(lu,{className:"h-8 w-8 text-red-500 mx-auto mb-1"}),c.jsx("p",{className:"text-xs text-red-400",children:"Failed"})]})]})]}),c.jsx(we,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:M=>{M.stopPropagation(),A(se)},children:c.jsx(Ss,{className:"h-3 w-3"})})]},`new-${se}`))})]}),d&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[c.jsx("span",{children:"Uploading images..."}),c.jsxs("span",{children:[p,"%"]})]}),c.jsx(L5,{value:p})]}),o.some(re=>re.status==="error")&&c.jsx("div",{className:"mt-4",children:c.jsxs(e0e,{variant:"destructive",children:[c.jsx(lu,{className:"h-4 w-4"}),c.jsx(t0e,{children:"Upload failed. Check browser console (F12) for detailed error information."})]})})]}),c.jsxs("div",{className:"flex gap-4 pt-4",children:[n&&c.jsx(we,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),c.jsx(we,{type:"submit",className:"flex-1",disabled:d||o.some(re=>re.status==="uploading"),children:d?"Uploading...":t==="edit"?"Update Product":"Create Product"})]})]}),c.jsx(p0e,{src:(j==null?void 0:j.src)||null,onClose:()=>C(null),onCropComplete:k})]})]})}var e$="AlertDialog",[m0e,Cbe]=Qn(e$,[yI]),Go=yI(),t$=t=>{const{__scopeAlertDialog:e,...r}=t,n=Go(e);return c.jsx(l_,{...n,...r,modal:!0})};t$.displayName=e$;var g0e="AlertDialogTrigger",r$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Go(r);return c.jsx(Ag,{...i,...n,ref:e})});r$.displayName=g0e;var v0e="AlertDialogPortal",n$=t=>{const{__scopeAlertDialog:e,...r}=t,n=Go(e);return c.jsx(c_,{...n,...r})};n$.displayName=v0e;var y0e="AlertDialogOverlay",i$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Go(r);return c.jsx(Pg,{...i,...n,ref:e})});i$.displayName=y0e;var su="AlertDialogContent",[b0e,x0e]=m0e(su),w0e=r9("AlertDialogContent"),a$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Go(r),o=N.useRef(null),s=Dt(e,o),l=N.useRef(null);return c.jsx(YH,{contentName:su,titleName:o$,docsSlug:"alert-dialog",children:c.jsx(b0e,{scope:r,cancelRef:l,children:c.jsxs(kg,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:dt(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(w0e,{children:n}),c.jsx(S0e,{contentRef:o})]})})})});a$.displayName=su;var o$="AlertDialogTitle",s$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Go(r);return c.jsx(LI,{...i,...n,ref:e})});s$.displayName=o$;var l$="AlertDialogDescription",c$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Go(r);return c.jsx(RI,{...i,...n,ref:e})});c$.displayName=l$;var _0e="AlertDialogAction",u$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Go(r);return c.jsx(Cg,{...i,...n,ref:e})});u$.displayName=_0e;var d$="AlertDialogCancel",f$=N.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=x0e(d$,r),a=Go(r),o=Dt(e,i);return c.jsx(Cg,{...a,...n,ref:o})});f$.displayName=d$;var S0e=({contentRef:t})=>{const e=`\`${su}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${su}\` by passing a \`${l$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${su}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},j0e=t$,N0e=r$,A0e=n$,h$=i$,P0e=a$,k0e=u$,C0e=f$,O0e=s$,E0e=c$;function p$({...t}){return c.jsx(j0e,{"data-slot":"alert-dialog",...t})}function m$({...t}){return c.jsx(N0e,{"data-slot":"alert-dialog-trigger",...t})}function T0e({...t}){return c.jsx(A0e,{"data-slot":"alert-dialog-portal",...t})}const g$=N.forwardRef(({className:t,...e},r)=>c.jsx(h$,{...e,ref:r,"data-slot":"alert-dialog-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t)}));g$.displayName=h$.displayName;function v$({className:t,...e}){return c.jsxs(T0e,{children:[c.jsx(g$,{}),c.jsx(P0e,{"data-slot":"alert-dialog-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function y$({className:t,...e}){return c.jsx("div",{"data-slot":"alert-dialog-header",className:qe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function b$({className:t,...e}){return c.jsx("div",{"data-slot":"alert-dialog-footer",className:qe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function x$({className:t,...e}){return c.jsx(O0e,{"data-slot":"alert-dialog-title",className:qe("text-lg font-semibold",t),...e})}function w$({className:t,...e}){return c.jsx(E0e,{"data-slot":"alert-dialog-description",className:qe("text-muted-foreground text-sm",t),...e})}function _$({className:t,...e}){return c.jsx(k0e,{className:qe(df(),t),...e})}function S$({className:t,...e}){return c.jsx(C0e,{className:qe(df({variant:"outline"}),t),...e})}function $u({src:t,alt:e,className:r,sizes:n="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:i=!1,placeholder:a,onLoad:o,onError:s}){const[l,u]=N.useState(!1),[d,f]=N.useState(!1),[p,h]=N.useState(i),g=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{if(!(i||!g.current))return m.current=new IntersectionObserver(w=>{var j;const[S]=w;S.isIntersecting&&(h(!0),(j=m.current)==null||j.disconnect())},{threshold:.1,rootMargin:"50px"}),g.current&&m.current.observe(g.current),()=>{var w;(w=m.current)==null||w.disconnect()}},[i]);const v=()=>{u(!0),o==null||o()},b=()=>{f(!0),s==null||s()},_=w=>w.startsWith("data:")?w:w.includes("supabase")?[400,800,1200,1600].map(j=>`${w}?width=${j} ${j}w`).join(", "):w;return d?c.jsx("div",{className:qe("flex items-center justify-center bg-gray-100 text-gray-400",r),children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl mb-2",children:""}),c.jsx("p",{className:"text-sm",children:"Image unavailable"})]})}):c.jsxs("div",{className:qe("relative overflow-hidden",r),children:[(!l||!p)&&c.jsx("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:a?c.jsx("img",{src:a,alt:"",className:"w-full h-full object-cover opacity-50"}):c.jsxs("div",{className:"text-gray-400",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-xs",children:"Loading..."})]})}),p&&c.jsx("img",{ref:g,src:t,alt:e,className:qe("w-full h-full object-cover transition-opacity duration-300",l?"opacity-100":"opacity-0"),sizes:n,srcSet:_(t),onLoad:v,onError:b,loading:i?"eager":"lazy"}),p&&t&&!t.startsWith("data:")&&c.jsxs("picture",{children:[c.jsx("source",{srcSet:`${t}?format=webp`,type:"image/webp"}),c.jsx("source",{srcSet:`${t}?format=avif`,type:"image/avif"}),c.jsx("img",{src:t,alt:e,className:"hidden","aria-hidden":"true"})]})]})}function j$({images:t,name:e,className:r,priority:n=!1}){const i=t==null?void 0:t[0];return i?t.length===1?c.jsx($u,{src:i,alt:e,className:qe("object-cover rounded-lg",r),priority:n}):c.jsx("div",{className:qe("relative group",r),children:c.jsx($u,{src:i,alt:e,className:"w-full h-full object-cover rounded-lg",priority:n})}):c.jsx("div",{className:qe("bg-gray-100 flex items-center justify-center aspect-square rounded-lg",r),children:c.jsxs("div",{className:"text-center text-gray-400",children:[c.jsx("div",{className:"text-2xl mb-1",children:""}),c.jsx("p",{className:"text-xs",children:"No image"})]})})}function I0e({products:t,onEditProduct:e,onRefresh:r}){const[n,i]=N.useState(""),[a,o]=N.useState("All"),[s,l]=N.useState(null),[u,d]=N.useState("list"),f=t.filter(g=>{const m=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase()),v=a==="All"||g.category===a;return m&&v}),p=async(g,m)=>{try{await MT(g)?(Ce.success(`Product "${m}" deleted successfully`),r==null||r()):Ce.error("Failed to delete product")}catch(v){console.error("Error deleting product:",v),Ce.error("Failed to delete product")}},h=(g,m)=>m&&m>g?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]}),c.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",m.toFixed(2)]}),c.jsxs(Wt,{variant:"destructive",className:"text-xs",children:[Math.round((1-g/m)*100),"% OFF"]})]}):c.jsxs("span",{className:"font-semibold text-lg",children:["R",g.toFixed(2)]});return c.jsxs(Ge,{children:[c.jsxs(Bt,{children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(qt,{children:["Product Inventory (",f.length,")"]})}),c.jsxs("div",{className:"flex gap-4 mt-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(Lt,{placeholder:"Search products...",value:n,onChange:g=>i(g.target.value),className:"pl-10"})]}),c.jsxs(td,{value:a,onValueChange:o,children:[c.jsx(nd,{className:"w-48",children:c.jsx(rd,{})}),c.jsxs(id,{children:[c.jsx(lr,{value:"All",children:"All Categories"}),c.jsx(lr,{value:"Casual",children:"Casual"}),c.jsx(lr,{value:"Party",children:"Party"}),c.jsx(lr,{value:"Shoes",children:"Shoes"}),c.jsx(lr,{value:"Outwear",children:"Outwear"}),c.jsx(lr,{value:"Dresses",children:"Dresses"}),c.jsx(lr,{value:"Accessories",children:"Accessories"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(we,{variant:u==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),children:c.jsx(q5,{className:"w-4 h-4"})}),c.jsx(we,{variant:u==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:c.jsx(U5,{className:"w-4 h-4"})})]})]})]}),c.jsxs(Ye,{className:"w-full overflow-hidden",children:[u==="grid"?c.jsx("div",{className:"w-full overflow-hidden",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 w-full",children:f.map(g=>c.jsx(R0e,{product:g,onEdit:e,onDelete:p,onView:m=>l(m),formatPrice:h},g.id))})}):c.jsx("div",{className:"w-full overflow-hidden",children:c.jsx("div",{className:"space-y-4 w-full",children:f.map(g=>c.jsx(L0e,{product:g,onEdit:e,onDelete:p,onView:m=>l(m),formatPrice:h},g.id))})}),f.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ol,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),c.jsx("p",{className:"text-gray-500",children:t.length===0?"No products in inventory yet. Add your first product to get started.":"Try adjusting your search or filter criteria."})]})]}),c.jsx(Lo,{open:!!s,onOpenChange:()=>l(null),children:c.jsxs(Ga,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Ro,{children:c.jsx(Mo,{children:"Product Details"})}),s&&c.jsx(M0e,{product:s})]})})]})}function L0e({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:i}){return c.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow w-full min-w-0",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4 w-full min-w-0",children:[c.jsx("div",{className:"w-full sm:w-12 h-24 sm:h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:c.jsx($u,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"w-full h-full object-cover",priority:!0})}),c.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-2 w-full min-w-0",children:[c.jsxs("div",{className:"mb-2 sm:mb-0 min-w-0 flex-1",children:[c.jsx("h3",{className:"font-semibold text-lg truncate w-full",title:t.name,children:t.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[c.jsx(Wt,{variant:"secondary",children:t.category}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ui,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),c.jsxs("div",{className:"text-left sm:text-right flex-shrink-0 sm:ml-4",children:[i(t.price,t.originalPrice),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.images.length," image",t.images.length!==1?"s":""]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-2 w-full",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(aT,{className:"h-4 w-4"}),c.jsxs("span",{children:[t.sizes.length," sizes"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(nT,{className:"h-4 w-4"}),c.jsxs("span",{children:[t.colors.length," colors"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ol,{className:"h-4 w-4"}),c.jsx("span",{className:t.inStock?"text-green-600":"text-red-600",children:t.inStock?"In Stock":"Out of Stock"})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 w-full min-w-0",children:t.description||"No description available"})]}),c.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 justify-center sm:items-center flex-shrink-0 sm:ml-4",children:[c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"flex-1 sm:flex-none",children:[c.jsx(To,{className:"h-4 w-4 mr-1 sm:mr-0"}),c.jsx("span",{className:"sm:hidden",children:"View"})]}),c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"flex-1 sm:flex-none",children:[c.jsx(G5,{className:"h-4 w-4 mr-1 sm:mr-0"}),c.jsx("span",{className:"sm:hidden",children:"Edit"})]}),c.jsxs(p$,{children:[c.jsx(m$,{asChild:!0,children:c.jsxs(we,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 flex-1 sm:flex-none",children:[c.jsx(rh,{className:"h-4 w-4 mr-1 sm:mr-0"}),c.jsx("span",{className:"sm:hidden",children:"Delete"})]})}),c.jsxs(v$,{children:[c.jsxs(y$,{children:[c.jsx(x$,{children:"Delete Product"}),c.jsxs(w$,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),c.jsxs(b$,{children:[c.jsx(S$,{children:"Cancel"}),c.jsx(_$,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700",children:"Delete Product"})]})]})]})]})]})})}function R0e({product:t,onEdit:e,onDelete:r,onView:n,formatPrice:i}){return c.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow bg-black text-white w-full min-w-0",children:[c.jsx("div",{className:"relative w-full aspect-[4/3] bg-gray-100 overflow-hidden",children:c.jsx($u,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNDAiIHk9IjQwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzk3OTdhNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K",alt:t.name,className:"absolute inset-0 w-full h-full object-cover hover:scale-105 transition-transform duration-300",priority:!0})}),c.jsxs("div",{className:"p-3 space-y-2 w-full min-w-0",children:[c.jsxs("div",{className:"w-full min-w-0",children:[c.jsx("h3",{className:"font-semibold text-sm truncate w-full",title:t.name,children:t.name}),c.jsxs("div",{className:"flex items-center justify-between mt-1 w-full",children:[c.jsx(Wt,{variant:"secondary",className:"text-xs flex-shrink-0",children:t.category}),c.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[c.jsxs("div",{className:"text-sm font-semibold",children:["R",t.price.toFixed(2)]}),t.originalPrice&&t.originalPrice>t.price&&c.jsxs("div",{className:"text-xs text-muted-foreground line-through",children:["R",t.originalPrice.toFixed(2)]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground w-full",children:[c.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[c.jsx(Ui,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),c.jsx("span",{children:t.rating})]}),c.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[c.jsx(Ol,{className:"h-3 w-3"}),c.jsx("span",{className:t.inStock?"text-green-600":"text-red-600",children:t.inStock?"Stock":"Out"})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground w-full",children:[c.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[c.jsx(aT,{className:"h-3 w-3"}),c.jsxs("span",{children:[t.sizes.length," sizes"]})]}),c.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[c.jsx(nT,{className:"h-3 w-3"}),c.jsxs("span",{children:[t.colors.length," colors"]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-1 pt-2 w-full",children:[c.jsx(we,{variant:"outline",size:"sm",onClick:()=>n==null?void 0:n(t),className:"text-xs h-7 px-2",children:c.jsx(To,{className:"h-3 w-3"})}),c.jsx(we,{variant:"outline",size:"sm",onClick:()=>e==null?void 0:e(t),className:"text-xs h-7 px-2",children:c.jsx(G5,{className:"h-3 w-3"})}),c.jsxs(p$,{children:[c.jsx(m$,{asChild:!0,children:c.jsx(we,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 text-xs h-7 px-2",children:c.jsx(rh,{className:"h-3 w-3"})})}),c.jsxs(v$,{children:[c.jsxs(y$,{children:[c.jsx(x$,{children:"Delete Product"}),c.jsxs(w$,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone and will also delete all associated images.']})]}),c.jsxs(b$,{children:[c.jsx(S$,{children:"Cancel"}),c.jsx(_$,{onClick:()=>r==null?void 0:r(t.id,t.name),className:"bg-red-600 hover:bg-red-700",children:"Delete Product"})]})]})]})]})]})]})}function M0e({product:t}){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx($u,{src:t.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiByeD0iOCIgZmlsbD0iI2Y5ZmFmYiIgc3Ryb2tlPSIjYWNhYmRhIiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iMjAwIiB5PSIxNTAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmaWxsPSIjOTc5N2E3IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Tm8gSW1hZ2U8L3RleHQ+Cjwvc3ZnPgo=",alt:t.name,className:"w-full h-64 object-cover rounded-lg",priority:!0}),t.images.length>1&&c.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.images.slice(1,5).map((e,r)=>c.jsx($u,{src:e,alt:`${t.name} ${r+2}`,className:"w-full h-16 object-cover rounded"},r))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:t.name}),c.jsx("p",{className:"text-muted-foreground",children:t.category})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-1",children:"Price"}),t.originalPrice&&t.originalPrice>t.price?c.jsxs("div",{children:[c.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R",t.price.toFixed(2)]}),c.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["R",t.originalPrice.toFixed(2)]}),c.jsxs(Wt,{className:"ml-2",variant:"destructive",children:[Math.round((1-t.price/t.originalPrice)*100),"% OFF"]})]}):c.jsxs("span",{className:"text-2xl font-bold",children:["R",t.price.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Stock Status"}),c.jsx(Wt,{variant:t.inStock?"default":"destructive",children:t.inStock?"In Stock":"Out of Stock"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-2",children:"Available Sizes"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:t.sizes.map(e=>c.jsx(Wt,{variant:"outline",children:e},e))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-2",children:"Available Colors"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:t.colors.map(e=>c.jsx(Wt,{variant:"outline",children:e},e))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-2",children:"Rating & Reviews"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,r)=>c.jsx(Ui,{className:`h-4 w-4 ${r<Math.floor(t.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},r))}),c.jsxs("span",{className:"text-sm",children:[t.rating," (",t.reviews.length," reviews)"]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-2",children:"Description"}),c.jsx("p",{className:"text-muted-foreground",children:t.description||"No description available"})]})]})}var Iv="Switch",[D0e,Obe]=Qn(Iv),[$0e,F0e]=D0e(Iv),N$=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=t,[p,h]=N.useState(null),g=Dt(e,w=>h(w)),m=N.useRef(!1),v=p?d||!!p.closest("form"):!0,[b,_]=Io({prop:i,defaultProp:a??!1,onChange:u,caller:Iv});return c.jsxs($0e,{scope:r,checked:b,disabled:s,children:[c.jsx(ct.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":C$(b),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:g,onClick:dt(t.onClick,w=>{_(S=>!S),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&c.jsx(k$,{control:p,bubbles:!m.current,name:n,value:l,checked:b,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});N$.displayName=Iv;var A$="SwitchThumb",P$=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=F0e(A$,r);return c.jsx(ct.span,{"data-state":C$(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});P$.displayName=A$;var B0e="SwitchBubbleInput",k$=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=N.useRef(null),s=Dt(o,a),l=kv(r),u=jv(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k$.displayName=B0e;function C$(t){return t?"checked":"unchecked"}var q0e=N$,U0e=P$;function Wc({className:t,...e}){return c.jsx(q0e,{"data-slot":"switch",className:qe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(U0e,{"data-slot":"switch-thumb",className:qe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const z0e=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email"},{key:"pushNotifications",label:"Push Notifications",description:"Receive push notifications in browser"},{key:"systemAlerts",label:"System Alerts",description:"Important system notifications"},{key:"orderAlerts",label:"Order Alerts",description:"Notifications for new orders"},{key:"securityAlerts",label:"Security Alerts",description:"Security-related notifications"}],W0e=[{key:"theme",label:"Theme",options:[{value:"light",label:"Light",icon:c.jsx(Aw,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:c.jsx(Nw,{className:"h-4 w-4"})},{value:"system",label:"System",icon:c.jsx(UB,{className:"h-4 w-4"})}]},{key:"language",label:"Language",options:[{value:"en",label:"English"},{value:"af",label:"Afrikaans"},{value:"zu",label:"isiZulu"},{value:"xh",label:"isiXhosa"},{value:"tn",label:"Setswana"},{value:"st",label:"Sesotho"},{value:"ve",label:"Tshivenda"},{value:"ts",label:"Xitsonga"}]},{key:"timezone",label:"Timezone",options:[{value:"UTC+3",label:"UTC+3 (Nairobi, Kenya)"},{value:"UTC+2",label:"UTC+2 (Johannesburg, South Africa)"},{value:"UTC+1",label:"UTC+1 (Lagos, Nigeria)"},{value:"UTC+0",label:"UTC+0 (Dakar, Senegal)"},{value:"UTC-1",label:"UTC-1 (Cape Verde)"}]},{key:"itemsPerPage",label:"Items Per Page",options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}],bw={emailNotifications:!0,pushNotifications:!1,systemAlerts:!0,orderAlerts:!0,securityAlerts:!0,language:"en",timezone:"UTC+2",theme:"system",dashboardLayout:"default",itemsPerPage:"20"},k6="admin_preferences";function O$(){const{user:t,isAdmin:e,signOut:r}=Ci(),[n,i]=N.useState(!1),[a,o]=N.useState(!1),[s,l]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[h,g]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,v]=N.useState(bw),[b,_]=N.useState(!1);N.useEffect(()=>{(()=>{try{const E=localStorage.getItem(k6);if(E){const T=JSON.parse(E),I={...bw,...T};v(I)}}catch(E){console.error("Error loading preferences from localStorage:",E),v(bw)}})()},[]),N.useEffect(()=>{const k=()=>{try{localStorage.setItem(k6,JSON.stringify(m))}catch(E){console.error("Error saving preferences to localStorage:",E)}};Object.keys(m).length>0&&k()},[m]);const w=async()=>{if(!t){Ce.error("User not found");return}l(!0);try{console.log("AdminAccountSettings: Updating user profile:",f);const k={};if(f.name!==(t.name||"")&&(k.name=f.name),f.phone!==(t.phone||"")&&(k.phone=f.phone),f.email!==(t.email||"")&&(k.email=f.email),Object.keys(k).length===0){Ce.info("No changes to save"),i(!1),l(!1);return}console.log("AdminAccountSettings: Updates to save:",k);const E=await DT(t.id,k);if(E)console.log("AdminAccountSettings: Profile updated successfully:",E),Ce.success("Profile updated successfully!"),p({name:(E==null?void 0:E.name)||f.name,email:(E==null?void 0:E.email)||f.email,phone:(E==null?void 0:E.phone)||f.phone}),i(!1);else throw new Error("Failed to update profile")}catch(k){console.error("AdminAccountSettings: Error updating profile:",k),Ce.error("Failed to update profile")}finally{l(!1)}},S=async()=>{var k,E,T;if(h.newPassword!==h.confirmPassword){Ce.error("New passwords do not match");return}if(h.newPassword.length<6){Ce.error("Password must be at least 6 characters long");return}l(!0);try{if(console.log("AdminAccountSettings: Changing user password"),await $T(h.newPassword))console.log("AdminAccountSettings: Password changed successfully"),Ce.success("Password changed successfully!"),g({currentPassword:"",newPassword:"",confirmPassword:""});else throw new Error("Failed to update password")}catch(I){console.error("AdminAccountSettings: Error changing password:",I),(k=I.message)!=null&&k.includes("session_not_found")||(E=I.message)!=null&&E.includes("refresh_token_not_found")?Ce.error("Session expired. Please log in again to change your password."):(T=I.message)!=null&&T.includes("same_password")?Ce.error("New password must be different from current password"):Ce.error("Failed to change password. Please try again.")}finally{l(!1)}},j=N.useCallback(async(k,E)=>{if(!b){_(!0);try{v(T=>({...T,[k]:E})),await new Promise(T=>setTimeout(T,300)),Ce.success("Preference updated")}catch(T){console.error("Error updating preference:",T),Ce.error("Failed to update preference")}finally{_(!1)}}},[b]),C=async()=>{if(u){console.log("AdminAccountSettings: Logout already in progress, ignoring click");return}console.log("AdminAccountSettings: Logout button clicked"),d(!0);try{console.log("AdminAccountSettings: Calling signOut()"),await r(),console.log("AdminAccountSettings: signOut() completed"),Ce.success("Logged out successfully"),console.log("AdminAccountSettings: About to reload page immediately");try{window.location.reload(),console.log("AdminAccountSettings: window.location.reload() called successfully")}catch(k){console.error("AdminAccountSettings: Error calling window.location.reload():",k),setTimeout(()=>{console.log("AdminAccountSettings: Fallback reload attempt"),window.location.reload()},100)}}catch(k){console.error("AdminAccountSettings: Logout failed:",k),Ce.error("Failed to log out"),d(!1)}};return!t||!e?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(jo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to access this page."})]}):c.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-4xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Admin Account Settings"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your admin account and preferences"})]}),c.jsxs(lh,{defaultValue:"profile",className:"space-y-6",children:[c.jsxs(ch,{className:"grid w-full grid-cols-4",children:[c.jsx(Gn,{value:"profile",children:"Profile"}),c.jsx(Gn,{value:"security",children:"Security"}),c.jsx(Gn,{value:"preferences",children:"Preferences"}),c.jsx(Gn,{value:"system",children:"System"})]}),c.jsx(Yn,{value:"profile",children:c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(ks,{className:"h-5 w-5"}),"Admin Profile"]})}),c.jsxs(Ye,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(iI,{className:"h-20 w-20",children:c.jsx(aI,{className:"text-xl",children:t.name.split(" ").map(k=>k[0]).join("").toUpperCase()})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h3",{className:"text-xl font-semibold",children:t.name}),c.jsxs(Wt,{variant:"secondary",className:"bg-red-100 text-red-800",children:[c.jsx(jo,{className:"h-3 w-3 mr-1"}),"Administrator"]})]}),c.jsx("p",{className:"text-muted-foreground",children:t.email}),c.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[c.jsxs("span",{className:"text-sm",children:["Member since ",t.created_at?new Date(t.created_at).getFullYear():"2024"]}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Last login: Today"})]})]}),c.jsx(we,{variant:"outline",size:"sm",onClick:()=>i(!n),children:n?"Cancel":"Edit Profile"})]}),n&&c.jsxs("div",{className:"space-y-4 border-t pt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"name",children:"Full Name"}),c.jsx(Lt,{id:"name",value:f.name,onChange:k=>p(E=>({...E,name:k.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"email",children:"Email"}),c.jsx(Lt,{id:"email",type:"email",value:f.email,onChange:k=>p(E=>({...E,email:k.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"phone",children:"Phone"}),c.jsx(Lt,{id:"phone",type:"tel",value:f.phone,onChange:k=>p(E=>({...E,phone:k.target.value})),placeholder:"Enter phone number"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(we,{onClick:w,disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Zp,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),c.jsx(we,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]})]})}),c.jsx(Yn,{value:"security",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(tN,{className:"h-5 w-5"}),"Change Password"]})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"currentPassword",children:"Current Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Lt,{id:"currentPassword",type:a?"text":"password",value:h.currentPassword,onChange:k=>g(E=>({...E,currentPassword:k.target.value}))}),c.jsx(we,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!a),children:a?c.jsx(jw,{className:"h-4 w-4"}):c.jsx(To,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"newPassword",children:"New Password"}),c.jsx(Lt,{id:"newPassword",type:"password",value:h.newPassword,onChange:k=>g(E=>({...E,newPassword:k.target.value}))})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx(Lt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:k=>g(E=>({...E,confirmPassword:k.target.value}))})]}),c.jsx(we,{onClick:S,disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):"Change Password"})]})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(jo,{className:"h-5 w-5"}),"Security Settings"]})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"Enable 2FA"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Active Sessions"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your active login sessions"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"View Sessions"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Login History"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"View your recent login activity"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"View History"})]})]})]})]})}),c.jsx(Yn,{value:"preferences",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(bl,{className:"h-5 w-5"}),"Notification Preferences"]})}),c.jsx(Ye,{className:"space-y-4",children:z0e.map(k=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:k.label}),c.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),c.jsx(Wc,{checked:m[k.key],onCheckedChange:E=>j(k.key,E),disabled:b})]},k.key))})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(H5,{className:"h-5 w-5"}),"Display Settings"]})}),c.jsx(Ye,{className:"space-y-4",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:W0e.map(k=>c.jsxs("div",{children:[c.jsx(Pt,{children:k.label}),c.jsxs(td,{value:m[k.key],onValueChange:E=>j(k.key,E),disabled:b,children:[c.jsx(nd,{children:c.jsx(rd,{})}),c.jsx(id,{children:k.options.map(E=>c.jsx(lr,{value:E.value,children:c.jsxs("div",{className:"flex items-center gap-2",children:[E.icon,E.label]})},E.value))})]})]},k.key))})})]})]})}),c.jsx(Yn,{value:"system",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(H9,{className:"h-5 w-5"}),"System Status"]})}),c.jsx(Ye,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"99.9%"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1.2s"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"24/7"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]})]})})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(jo,{className:"h-5 w-5"}),"Admin Actions"]})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Export System Data"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Download system data for backup"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"Export Data"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Clear System Cache"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear cached data to improve performance"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"Clear Cache"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"View Admin Logs"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Access system and admin activity logs"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"View Logs"})]})]})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(tN,{className:"h-5 w-5"}),"API Keys"]})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Generate New API Key"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create API keys for integrations"})]}),c.jsx(we,{variant:"outline",size:"sm",children:"Generate Key"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Active API Keys"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"No active API keys. Generate one to get started."})]})]})]})]})})]}),c.jsx("div",{className:"mt-8",children:c.jsx(we,{variant:"destructive",className:"w-full",onClick:C,disabled:u,children:u?c.jsxs(c.Fragment,{children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing Out..."]}):c.jsxs(c.Fragment,{children:[c.jsx(eT,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})})]})}class Fi{static async fetchPageContent(e){try{const{data:r,error:n}=await Re.from("content_pages").select("page_data").eq("page_type",e).eq("is_active",!0).single();return n?(console.error(`Error fetching content for ${e}:`,n),null):!r||!r.page_data?null:r.page_data}catch(r){return console.error(`Unexpected error fetching content for ${e}:`,r),null}}static async fetchAllContent(){try{const{data:e,error:r}=await Re.from("content_pages").select("*").eq("is_active",!0).order("page_type");return r?(console.error("Error fetching all content:",r),[]):e||[]}catch(e){return console.error("Unexpected error fetching all content:",e),[]}}static async fetchContentWithHistory(e){try{const{data:r,error:n}=await Re.from("content_pages").select("*").eq("page_type",e).eq("is_active",!0).single();if(n&&n.code!=="PGRST116")return console.error(`Error fetching current content for ${e}:`,n),null;const{data:i,error:a}=r?await Re.from("content_versions").select("*").eq("content_page_id",r.id).order("version_number",{ascending:!1}):{data:[],error:null};return a?(console.error(`Error fetching version history for ${e}:`,a),{current:r||null,history:[]}):{current:r||null,history:i||[]}}catch(r){return console.error(`Unexpected error fetching content history for ${e}:`,r),null}}static async savePageContent(e,r,n){try{const{data:i}=await Re.auth.getUser();if(!i.user)return{success:!1,error:"User not authenticated"};const{data:a,error:o}=await Re.from("content_pages").insert({page_type:e,page_data:r,created_by:i.user.id,updated_by:i.user.id}).select().single();return o?(console.error(`Error saving content for ${e}:`,o),{success:!1,error:o.message}):{success:!0,data:a}}catch(i){return console.error(`Unexpected error saving content for ${e}:`,i),{success:!1,error:"Unexpected error occurred"}}}static async updatePageContent(e,r,n){try{const{data:i}=await Re.auth.getUser();if(!i.user)return{success:!1,error:"User not authenticated"};const{data:a,error:o}=await Re.from("content_pages").select("id").eq("page_type",e).eq("is_active",!0).single();if(o||!a)return console.error("Error fetching current content for update:",o),{success:!1,error:"Content not found for update"};const{data:s,error:l}=await Re.from("content_pages").update({page_data:r,updated_by:i.user.id}).eq("id",a.id).select().single();return l?(console.error(`Error updating content for ${e}:`,l),{success:!1,error:l.message}):{success:!0,data:s}}catch(i){return console.error(`Unexpected error updating content for ${e}:`,i),{success:!1,error:"Unexpected error occurred"}}}static async deletePageContent(e){try{const{data:r}=await Re.auth.getUser();if(!r.user)return{success:!1,error:"User not authenticated"};const{error:n}=await Re.from("content_pages").update({is_active:!1,updated_by:r.user.id}).eq("page_type",e).eq("is_active",!0);return n?(console.error(`Error deleting content for ${e}:`,n),{success:!1,error:n.message}):{success:!0}}catch(r){return console.error(`Unexpected error deleting content for ${e}:`,r),{success:!1,error:"Unexpected error occurred"}}}static async revertToVersion(e,r){try{const{data:n}=await Re.auth.getUser();if(!n.user)return{success:!1,error:"User not authenticated"};const{data:i,error:a}=await Re.from("content_versions").select("page_data").eq("version_number",r).limit(1).single();return a||!i?{success:!1,error:"Version not found"}:await this.updatePageContent(e,i.page_data,`Reverted to version ${r}`)}catch(n){return console.error("Unexpected error reverting to version:",n),{success:!1,error:"Unexpected error occurred"}}}static subscribeToContentChanges(e,r){return Re.channel(`content-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"content_pages",filter:`page_type=eq.${e}`},r).subscribe()}static unsubscribeFromContentChanges(e){return Re.removeChannel(e)}static async fetchMultiplePageContent(e){try{const r={},n=e.map(async a=>{const o=await this.fetchPageContent(a);return{pageType:a,content:o}});return(await Promise.all(n)).forEach(({pageType:a,content:o})=>{r[a]=o}),r}catch(r){return console.error("Error fetching multiple page content:",r),{}}}static async searchContent(e){try{const{data:r,error:n}=await Re.from("content_pages").select("*").eq("is_active",!0).textSearch("page_data",e);return n?(console.error("Error searching content:",n),[]):r||[]}catch(r){return console.error("Unexpected error searching content:",r),[]}}static async checkAdminAccess(){try{const{data:e}=await Re.auth.getUser();if(!e.user)return!1;const r=e.user.user_metadata;return(r==null?void 0:r.role)==="admin"}catch(e){return console.error("Error checking admin access:",e),!1}}}const H0e={contentCache:{},loadingStates:{},errorStates:{},lastUpdated:{},adminContent:{},contentHistory:{},isLoading:!1,globalError:null,subscriptions:{},isAdminMode:!1};function V0e(t,e){switch(e.type){case"SET_LOADING":return{...t,loadingStates:{...t.loadingStates,[e.pageType]:e.isLoading}};case"SET_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:e.content},lastUpdated:{...t.lastUpdated,[e.pageType]:Date.now()},loadingStates:{...t.loadingStates,[e.pageType]:!1},errorStates:{...t.errorStates,[e.pageType]:null}};case"SET_ERROR":return{...t,errorStates:{...t.errorStates,[e.pageType]:e.error},loadingStates:{...t.loadingStates,[e.pageType]:!1}};case"SET_ADMIN_CONTENT":return{...t,adminContent:{...t.adminContent,[e.pageType]:e.adminContent}};case"SET_CONTENT_HISTORY":return{...t,contentHistory:{...t.contentHistory,[e.pageType]:e.history}};case"SET_GLOBAL_LOADING":return{...t,isLoading:e.isLoading};case"SET_GLOBAL_ERROR":return{...t,globalError:e.error};case"SET_SUBSCRIPTION":return{...t,subscriptions:{...t.subscriptions,[e.pageType]:e.subscription}};case"REMOVE_SUBSCRIPTION":const r={...t.subscriptions};return delete r[e.pageType],{...t,subscriptions:r};case"SET_ADMIN_MODE":return{...t,isAdminMode:e.isAdminMode};case"CLEAR_CACHE":if(e.pageType){const n={...t.contentCache};return delete n[e.pageType],{...t,contentCache:n}}return{...t,contentCache:{}};case"INVALIDATE_CONTENT":return{...t,contentCache:{...t.contentCache,[e.pageType]:null},lastUpdated:{...t.lastUpdated,[e.pageType]:0}};default:return t}}const E$=N.createContext(void 0),G0e=300*1e3,Y0e=({children:t})=>{const[e,r]=N.useReducer(V0e,H0e);console.log("ContentProvider rendered with state:",e);const n=N.useRef(e),i=N.useRef(null);n.current=e;const a=N.useCallback(S=>{const j=e.lastUpdated[S];return j?Date.now()-j<G0e:!1},[e.lastUpdated]),o=N.useCallback(async(S,j=!1)=>{if(!j&&e.contentCache[S]&&a(S))return e.contentCache[S];r({type:"SET_LOADING",pageType:S,isLoading:!0});try{const C=await Fi.fetchPageContent(S);return r({type:"SET_CONTENT",pageType:S,content:C}),C}catch(C){const k=C instanceof Error?C.message:"Failed to fetch content";return r({type:"SET_ERROR",pageType:S,error:k}),null}},[e.contentCache,a]);i.current=o;const s=N.useCallback(async S=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const j=await Fi.fetchMultiplePageContent(S);return Object.entries(j).forEach(([C,k])=>{r({type:"SET_CONTENT",pageType:C,content:k})}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),j}catch(j){const C=j instanceof Error?j.message:"Failed to fetch multiple content";return r({type:"SET_GLOBAL_ERROR",error:C}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),{}}},[]),l=N.useCallback(async(S,j,C)=>{r({type:"SET_LOADING",pageType:S,isLoading:!0});try{const k=await Fi.savePageContent(S,j,C);return k.success?(r({type:"SET_CONTENT",pageType:S,content:j}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:S,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:S,error:k.error||"Failed to save content"}),!1)}catch(k){const E=k instanceof Error?k.message:"Failed to save content";return r({type:"SET_ERROR",pageType:S,error:E}),!1}},[]),u=N.useCallback(async(S,j,C)=>{r({type:"SET_LOADING",pageType:S,isLoading:!0});try{const k=await Fi.updatePageContent(S,j,C);return k.success?(r({type:"SET_CONTENT",pageType:S,content:j}),k.data&&r({type:"SET_ADMIN_CONTENT",pageType:S,adminContent:k.data}),!0):(r({type:"SET_ERROR",pageType:S,error:k.error||"Failed to update content"}),!1)}catch(k){const E=k instanceof Error?k.message:"Failed to update content";return r({type:"SET_ERROR",pageType:S,error:E}),!1}},[]),d=N.useCallback(async S=>{r({type:"SET_LOADING",pageType:S,isLoading:!0});try{const j=await Fi.deletePageContent(S);return j.success?(r({type:"CLEAR_CACHE",pageType:S}),r({type:"SET_ADMIN_CONTENT",pageType:S,adminContent:null}),!0):(r({type:"SET_ERROR",pageType:S,error:j.error||"Failed to delete content"}),!1)}catch(j){const C=j instanceof Error?j.message:"Failed to delete content";return r({type:"SET_ERROR",pageType:S,error:C}),!1}},[]),f=N.useCallback(async S=>{r({type:"SET_LOADING",pageType:S,isLoading:!0});try{const j=await Fi.fetchContentWithHistory(S);return r({type:"SET_CONTENT_HISTORY",pageType:S,history:j}),r({type:"SET_LOADING",pageType:S,isLoading:!1}),j}catch(j){const C=j instanceof Error?j.message:"Failed to fetch content history";return r({type:"SET_ERROR",pageType:S,error:C}),null}},[]),p=N.useCallback(async(S,j)=>{r({type:"SET_LOADING",pageType:S,isLoading:!0});try{const C=await Fi.revertToVersion(S,j);return C.success&&C.data?(r({type:"SET_CONTENT",pageType:S,content:C.data.page_data}),r({type:"SET_ADMIN_CONTENT",pageType:S,adminContent:C.data}),!0):(r({type:"SET_ERROR",pageType:S,error:C.error||"Failed to revert content"}),!1)}catch(C){const k=C instanceof Error?C.message:"Failed to revert content";return r({type:"SET_ERROR",pageType:S,error:k}),!1}},[]),h=N.useCallback(S=>{if(n.current.subscriptions[S])return;const j=Fi.subscribeToContentChanges(S,C=>{console.log("Real-time content update received:",C),r({type:"INVALIDATE_CONTENT",pageType:S}),n.current.isAdminMode&&i.current&&i.current(S,!0)});r({type:"SET_SUBSCRIPTION",pageType:S,subscription:j})},[]),g=N.useCallback(S=>{const j=n.current.subscriptions[S];j&&(Fi.unsubscribeFromContentChanges(j),r({type:"REMOVE_SUBSCRIPTION",pageType:S}))},[]),m=N.useCallback(S=>{r({type:"CLEAR_CACHE",pageType:S})},[]),v=N.useCallback(S=>{r({type:"SET_ADMIN_MODE",isAdminMode:S})},[]),b=N.useCallback(async S=>{await o(S,!0)},[o]),_=N.useCallback(async S=>{r({type:"SET_GLOBAL_LOADING",isLoading:!0});try{const j=await Fi.searchContent(S);return r({type:"SET_GLOBAL_LOADING",isLoading:!1}),j}catch(j){const C=j instanceof Error?j.message:"Failed to search content";return r({type:"SET_GLOBAL_ERROR",error:C}),r({type:"SET_GLOBAL_LOADING",isLoading:!1}),[]}},[]);N.useEffect(()=>()=>{Object.values(e.subscriptions).forEach(S=>{S&&Fi.unsubscribeFromContentChanges(S)})},[e.subscriptions]);const w={state:e,getPageContent:o,getMultiplePageContent:s,savePageContent:l,updatePageContent:u,deletePageContent:d,getContentHistory:f,revertToVersion:p,subscribeToPageContent:h,unsubscribeFromPageContent:g,clearCache:m,setAdminMode:v,refreshContent:b,searchContent:_};return N.useEffect(()=>()=>{Object.keys(n.current.subscriptions).forEach(S=>{const j=n.current.subscriptions[S];j&&Fi.unsubscribeFromContentChanges(j)})},[]),c.jsx(E$.Provider,{value:w,children:t})},T$=()=>{const t=N.useContext(E$);if(t===void 0)throw console.error("useContent hook called outside ContentProvider. Component tree:",{stackTrace:new Error().stack}),new Error("useContent must be used within a ContentProvider");return t},R5=[{id:"about",name:"About Us",title:"About Rosmama Clothing",description:"Company information, story, and values",icon:Ps},{id:"privacy",name:"Privacy Policy",title:"Privacy Policy",description:"How we handle customer data and privacy",icon:jo},{id:"terms",name:"Terms of Service",title:"Terms & Conditions",description:"Legal terms and conditions",icon:ko},{id:"shipping",name:"Shipping Policy",title:"Shipping & Delivery",description:"Shipping methods and delivery information",icon:cu},{id:"returns",name:"Returns Policy",title:"Returns & Exchanges",description:"Return and exchange policy",icon:hf},{id:"help",name:"Help Center",title:"Help & Support",description:"Frequently asked questions and support",icon:gg},{id:"contact",name:"Contact Us",title:"Contact Information",description:"How to reach our customer service",icon:W5}],$p=t=>{const e=R5.find(n=>n.id===t),r=(e==null?void 0:e.title)||"Page Title";return{title:r,description:(e==null?void 0:e.description)||"Page description",sections:[{id:`${t}-intro`,title:"Introduction",content:`<h4>Welcome to ${r}</h4><p>This is the introduction section. Edit this content to provide information about ${t}.</p>`}]}};function K0e(){const{state:t,getPageContent:e,savePageContent:r,updatePageContent:n,refreshContent:i,setAdminMode:a,getContentHistory:o,revertToVersion:s}=T$(),[l,u]=N.useState("about"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState(""),[v,b]=N.useState(!1),[_,w]=N.useState(null),[S,j]=N.useState(!1),[C,k]=N.useState(null),[E,T]=N.useState(!1);N.useEffect(()=>{a(!0)},[a]),N.useEffect(()=>{(async()=>{console.log("[ContentManager] Loading content for page:",l);const Z=await e(l);console.log("[ContentManager] Loaded content:",Z);const le=Z||$p(l);console.log("[ContentManager] Final content to set:",le),w(le)})()},[l,e]);const I=R5.find(z=>z.id===l),A=t.loadingStates[l]||!1,L=t.errorStates[l],D=z=>{const Z=_==null?void 0:_.sections.find(le=>le.id===z);Z&&(f(z),h(Z.content),m(Z.title))},F=async()=>{if(!d||!_)return;const z={..._,sections:_.sections.map(le=>le.id===d?{...le,title:g,content:p}:le)};await n(l,z,"Updated section content")?(w(z),f(null),h(""),m(""),Ce.success("Section updated successfully!")):Ce.error("Failed to update section. Please try again.")},X=()=>{f(null),h(""),m("")},Y=async()=>{if(!_)return;const z={id:`section-${Date.now()}`,title:"New Section",content:"<p>Enter your content here...</p>"},Z={..._,sections:[..._.sections,z]};await n(l,Z,"Added new section")?(w(Z),Ce.success("New section added!")):Ce.error("Failed to add section. Please try again.")},V=async z=>{if(!_)return;const Z={..._,sections:_.sections.filter(oe=>oe.id!==z)};await n(l,Z,"Deleted section")?(w(Z),Ce.success("Section deleted!")):Ce.error("Failed to delete section. Please try again.")},$=async()=>{if(!_)return;await n(l,_,"Saved all changes")?Ce.success("All changes saved successfully!"):Ce.error("Failed to save changes. Please try again.")},ie=async()=>{const z=$p(l);await n(l,z,"Restored to defaults")?(w(z),Ce.success("Content restored to defaults!")):Ce.error("Failed to restore defaults. Please try again.")},re=async()=>{await i(l);const z=await e(l,!0);w(z||$p(l)),Ce.success("Content refreshed!")},se=async()=>{T(!0);try{const z=await o(l);k(z),j(!0)}catch{Ce.error("Failed to load version history")}finally{T(!1)}},M=async z=>{try{if(await s(l,z)){const le=await e(l,!0);w(le||$p(l)),j(!1),Ce.success(`Reverted to version ${z} successfully!`)}else Ce.error("Failed to revert to selected version")}catch{Ce.error("Failed to revert to selected version")}},U=z=>new Date(z).toLocaleString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return I?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white p-6 rounded-lg",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Content Management System"}),c.jsx("p",{className:"text-purple-100",children:"Manage information pages, policies, and user-helpful content with Supabase integration"})]}),c.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(we,{onClick:$,className:"bg-green-600 hover:bg-green-700",disabled:A,children:[A?c.jsx(da,{className:"h-4 w-4 mr-2 animate-spin"}):c.jsx(Zp,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),c.jsxs(we,{variant:"outline",onClick:()=>b(!v),children:[c.jsx(To,{className:"h-4 w-4 mr-2"}),v?"Edit Mode":"Preview Mode"]}),c.jsxs(we,{variant:"outline",onClick:re,disabled:A,children:[c.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),c.jsxs(we,{variant:"outline",onClick:se,disabled:E,children:[E?c.jsx(da,{className:"h-4 w-4 mr-2 animate-spin"}):c.jsx(x0,{className:"h-4 w-4 mr-2"}),"Version History"]})]}),c.jsxs(we,{variant:"destructive",onClick:ie,className:"bg-orange-600 hover:bg-orange-700",disabled:A,children:[c.jsx(hf,{className:"h-4 w-4 mr-2"}),"Restore Defaults"]})]}),L&&c.jsx(Ge,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:c.jsx(Ye,{className:"pt-4",children:c.jsxs("p",{className:"text-red-700 dark:text-red-300",children:["Error: ",L]})})}),c.jsxs(lh,{value:l,onValueChange:z=>u(z),children:[c.jsx(ch,{className:"grid w-full grid-cols-4 lg:grid-cols-7",children:R5.map(z=>{const Z=z.icon;return c.jsxs(Gn,{value:z.id,className:"flex items-center gap-2",children:[c.jsx(Z,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:z.name})]},z.id)})}),c.jsxs(Yn,{value:l,className:"space-y-6",children:[c.jsxs(Ge,{children:[c.jsxs(Bt,{children:[c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(I.icon,{className:"h-5 w-5"}),I.title,A&&c.jsx(da,{className:"h-4 w-4 animate-spin"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:I.description})]}),c.jsx(Ye,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(Wt,{variant:"secondary",children:[(_==null?void 0:_.sections.length)||0," section",((_==null?void 0:_.sections.length)||0)!==1?"s":""]}),c.jsxs(we,{onClick:Y,size:"sm",disabled:A,children:[c.jsx(jl,{className:"h-4 w-4 mr-1"}),"Add Section"]})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: currentPageContent = ",_?"exists":"null",", sections = ",(_==null?void 0:_.sections.length)||0]}),_==null?void 0:_.sections.map(z=>c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(qt,{className:"text-lg",children:z.title}),c.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground mt-1",children:c.jsxs("span",{children:["Section ID: ",z.id]})})]}),c.jsx("div",{className:"flex gap-2",children:d===z.id?c.jsxs(c.Fragment,{children:[c.jsxs(we,{size:"sm",onClick:F,disabled:A,children:[c.jsx(Zp,{className:"h-3 w-3 mr-1"}),"Save"]}),c.jsx(we,{size:"sm",variant:"outline",onClick:X,children:"Cancel"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(we,{size:"sm",variant:"outline",onClick:()=>D(z.id),disabled:A,children:[c.jsx(GB,{className:"h-3 w-3 mr-1"}),"Edit"]}),c.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>V(z.id),disabled:A,children:[c.jsx(rh,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]})}),c.jsx(Ye,{children:d===z.id?c.jsxs("div",{className:"space-y-4",children:[c.jsx(Lt,{value:g,onChange:Z=>m(Z.target.value),placeholder:"Section title"}),c.jsx(q7,{value:p,onChange:Z=>h(Z.target.value),className:"min-h-[200px] font-mono text-sm",placeholder:"Section content (supports HTML)"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:" You can use HTML tags like <h4>, <p>, <ul>, <li>, <strong>, etc."})]}):v?c.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:z.content}}):c.jsx("div",{className:"bg-muted p-4 rounded border font-mono text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:z.content})})]},z.id)),(!(_!=null&&_.sections)||_.sections.length===0)&&c.jsx(Ge,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:c.jsx(Ye,{className:"pt-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ko,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"No Content Sections"}),c.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-4",children:`This page doesn't have any content sections yet. Click "Add Section" to get started.`}),c.jsxs(we,{onClick:Y,disabled:A,children:[c.jsx(jl,{className:"h-4 w-4 mr-2"}),"Add First Section"]})]})})})]})]})]}),c.jsx(Ge,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:c.jsx(Ye,{className:"pt-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(gg,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Content Management Tips"}),c.jsxs("ul",{className:"space-y-1 text-blue-700 dark:text-blue-300",children:[c.jsx("li",{children:" Content is automatically saved to Supabase database"}),c.jsx("li",{children:" Use HTML tags for formatting (h4, p, ul, li, strong, etc.)"}),c.jsx("li",{children:" Preview mode shows how content will appear to users"}),c.jsx("li",{children:" Changes are synced across all admin users in real-time"}),c.jsx("li",{children:' Use "Restore Defaults" to reset content to original state'}),c.jsx("li",{children:" Version history tracks all changes with timestamps"})]})]})]})})}),c.jsx(Lo,{open:S,onOpenChange:j,children:c.jsxs(Ga,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsx(Ro,{children:c.jsxs(Mo,{className:"flex items-center gap-2",children:[c.jsx(x0,{className:"h-5 w-5"}),"Version History - ",I==null?void 0:I.title]})}),c.jsx("div",{className:"space-y-4",children:C?c.jsxs(c.Fragment,{children:[C.current&&c.jsxs(Ge,{className:"border-green-200 bg-green-50 dark:bg-green-950/20",children:[c.jsx(Bt,{children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsx(qt,{className:"text-lg flex items-center gap-2",children:c.jsxs(Wt,{variant:"default",className:"bg-green-600",children:["Current Version ",C.current.version]})}),c.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground mt-2",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Qj,{className:"h-3 w-3"}),U(C.current.updated_at)]}),C.current.updated_by&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ks,{className:"h-3 w-3"}),C.current.updated_by]})]})]})})}),c.jsxs(Ye,{children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("strong",{children:"Title:"})," ",C.current.page_data.title]}),c.jsxs("div",{className:"text-sm mt-1",children:[c.jsx("strong",{children:"Sections:"})," ",C.current.page_data.sections.length]})]})]}),C.history.length>0?c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-semibold",children:"Previous Versions"}),C.history.map(z=>c.jsxs(Ge,{className:"border-gray-200",children:[c.jsx(Bt,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(qt,{className:"text-sm flex items-center gap-2",children:c.jsxs(Wt,{variant:"outline",children:["Version ",z.version_number]})}),c.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground mt-2",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Qj,{className:"h-3 w-3"}),U(z.created_at)]}),z.created_by&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ks,{className:"h-3 w-3"}),z.created_by]})]}),z.change_summary&&c.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[c.jsx("strong",{children:"Changes:"})," ",z.change_summary]})]}),c.jsxs(we,{size:"sm",variant:"outline",onClick:()=>M(z.version_number),className:"text-xs",children:[c.jsx(hf,{className:"h-3 w-3 mr-1"}),"Revert"]})]})}),c.jsxs(Ye,{children:[c.jsxs("div",{className:"text-xs",children:[c.jsx("strong",{children:"Title:"})," ",z.page_data.title]}),c.jsxs("div",{className:"text-xs mt-1",children:[c.jsx("strong",{children:"Sections:"})," ",z.page_data.sections.length]})]})]},z.id))]}):c.jsx(Ge,{className:"border-gray-200",children:c.jsxs(Ye,{className:"pt-6 text-center text-muted-foreground",children:[c.jsx(x0,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No version history available"})]})})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(da,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading version history..."})]})})]})})]}):c.jsx("div",{children:"Page configuration not found"})}function X0e({products:t,defaultTab:e="overview"}){const[r,n]=N.useState(null),[i,a]=N.useState(!1),o=u=>{n(u),a(!0)},s=()=>{n(null),a(!1)},l=()=>{n(null),a(!1)};return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your store and view analytics"})]}),c.jsxs(lh,{defaultValue:e,className:"space-y-6",children:[c.jsxs(ch,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-6 h-auto p-1 bg-muted rounded-lg",children:[c.jsx(Gn,{value:"overview",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Overview"}),c.jsx(Gn,{value:"products",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Products"}),c.jsx(Gn,{value:"orders",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Orders"}),c.jsx(Gn,{value:"analytics",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Analytics"}),c.jsx(Gn,{value:"content",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Content"}),c.jsx(Gn,{value:"settings",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Settings"})]}),c.jsxs(Yn,{value:"overview",children:[c.jsx(cK,{products:t}),c.jsxs(Ge,{className:"mt-6",children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Recent Orders"})}),c.jsx(Ye,{children:c.jsx(_6,{})})]})]}),c.jsxs(Yn,{value:"products",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx(P6,{onSuccess:s}),c.jsx("div",{className:"lg:col-span-2",children:c.jsx(I0e,{products:t,onEditProduct:o,onRefresh:()=>window.location.reload()})})]}),c.jsx(Lo,{open:i,onOpenChange:a,children:c.jsxs(Ga,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsx(Ro,{children:c.jsx(Mo,{children:"Edit Product"})}),r&&c.jsx(P6,{mode:"edit",product:r,onSuccess:s,onCancel:l})]})})]}),c.jsx(Yn,{value:"orders",children:c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{children:"All Orders"})}),c.jsx(Ye,{children:c.jsx(_6,{showActions:!0})})]})}),c.jsx(Yn,{value:"analytics",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Jge,{}),c.jsx(Zge,{})]})}),c.jsx(Yn,{value:"content",children:c.jsx(K0e,{})}),c.jsx(Yn,{value:"settings",children:c.jsx(O$,{})})]}),c.jsx(Is,{})]})}function I$({...t}){return c.jsx(l_,{"data-slot":"sheet",...t})}const YS=N.forwardRef(({...t},e)=>c.jsx(Ag,{"data-slot":"sheet-trigger",ref:e,...t}));YS.displayName=Ag.displayName;function J0e({...t}){return c.jsx(c_,{"data-slot":"sheet-portal",...t})}function Z0e({className:t,...e}){return c.jsx(Pg,{"data-slot":"sheet-overlay",className:qe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function L$({className:t,children:e,side:r="right",...n}){return c.jsxs(J0e,{children:[c.jsx(Z0e,{}),c.jsxs(kg,{"data-slot":"sheet-content",className:qe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[e,c.jsxs(Cg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[c.jsx(Ss,{className:"size-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const C6=[{id:"about",title:"About Us",description:"Learn about Rosmama Clothing",icon:vg,category:"Company"},{id:"privacy",title:"Privacy Policy",description:"How we protect your data",icon:jo,category:"Legal"},{id:"terms",title:"Terms of Service",description:"Our terms and conditions",icon:ko,category:"Legal"},{id:"shipping",title:"Shipping Policy",description:"Delivery information",icon:cu,category:"Policies"},{id:"returns",title:"Return Policy",description:"Returns and exchanges",icon:hf,category:"Policies"},{id:"help",title:"Help Center",description:"FAQ and support",icon:gg,category:"Support"},{id:"contact",title:"Contact Us",description:"Get in touch",icon:W5,category:"Support"}];function Q0e({children:t,title:e,description:r,onBack:n,onNavigate:i}){const[a,o]=N.useState(!1),s=Array.from(new Set(C6.map(u=>u.category))),l=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center pb-4 border-b",children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Information Center"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Everything you need to know about Rosmama"})]}),s.map(u=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:u}),c.jsx("div",{className:"space-y-1",children:C6.filter(d=>d.category===u).map(d=>{const f=d.icon;return c.jsxs(we,{variant:"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{i==null||i(d.id),o(!1)},children:[c.jsx(f,{className:"h-4 w-4 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium",children:d.title}),c.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.description})]})]},d.id)})})]},u))]});return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-r from-rose-500 to-pink-600 text-white shadow-lg",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(we,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20",children:c.jsx($5,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl font-bold",children:e}),r&&c.jsx("p",{className:"text-sm text-white/80 mt-1",children:r})]}),c.jsxs(I$,{open:a,onOpenChange:o,children:[c.jsx(YS,{asChild:!0,children:c.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden text-white hover:bg-white/20",children:c.jsx(tT,{className:"h-5 w-5"})})}),c.jsx(L$,{side:"right",className:"w-80",children:c.jsx(l,{})})]})]})})}),c.jsx("div",{className:"container mx-auto px-4 py-6",children:c.jsxs("div",{className:"flex gap-6",children:[c.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:c.jsx("div",{className:"sticky top-24 bg-card border rounded-lg p-4",children:c.jsx(l,{})})}),c.jsx("div",{className:"flex-1",children:c.jsx("div",{className:"bg-card border rounded-lg p-6",children:t})})]})})]})}function R$({pageType:t,defaultContent:e=[],className:r="",onRetry:n}){const{getPageContent:i,state:a,subscribeToPageContent:o,unsubscribeFromPageContent:s}=T$(),[l,u]=N.useState(null),[d,f]=N.useState(!0),[p,h]=N.useState(null),[g,m]=N.useState(!1),v=N.useRef(!1);N.useEffect(()=>(b(),v.current||(o(t),v.current=!0),()=>{v.current&&(s(t),v.current=!1)}),[t]),N.useEffect(()=>{const S=a.contentCache[t];if(S&&S!==l&&(u(S),l!==null)){m(!0);const j=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(j)}},[a.contentCache,t,l]);const b=N.useCallback(async()=>{try{f(!0),h(null);const S=await i(t);u(S)}catch(S){h(S instanceof Error?S.message:"Failed to load content")}finally{f(!1)}},[t,i]),_=()=>{n?n():b()};if(d&&!l)return c.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx(da,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-rose-500"}),c.jsx("p",{className:"text-gray-600",children:"Loading content..."})]})});if(p&&!l&&e.length===0)return c.jsx("div",{className:`flex items-center justify-center min-h-64 ${r}`,children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx(lu,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Content"}),c.jsx("p",{className:"text-gray-600 mb-4",children:p}),c.jsx(we,{onClick:_,variant:"outline",children:"Try Again"})]})});const w=(l==null?void 0:l.sections)||e;return w.length===0?c.jsx("div",{className:`text-center py-12 ${r}`,children:c.jsx("p",{className:"text-gray-500",children:"No content available for this page."})}):c.jsxs("div",{className:`space-y-8 ${r}`,children:[g&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-in slide-in-from-top-2 duration-300",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(mg,{className:"h-5 w-5 text-green-600 mr-2"}),c.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Content updated! You're viewing the latest version."}),c.jsx(Nl,{className:"h-4 w-4 text-green-600 ml-auto animate-spin"})]})}),p&&l&&c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(lu,{className:"h-5 w-5 text-amber-600 mr-2"}),c.jsxs("p",{className:"text-amber-800 text-sm",children:["Content may be outdated. ",p]}),c.jsx(we,{onClick:_,variant:"ghost",size:"sm",className:"ml-auto text-amber-700 hover:text-amber-900",children:"Refresh"})]})}),w.map((S,j)=>c.jsx(eye,{section:S},S.id||j))]})}function eye({section:t}){return c.jsxs("section",{className:"space-y-4",children:[t.title&&c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:t.title}),t.content&&c.jsx("div",{className:`prose prose-gray max-w-none\r
            prose-headings:text-gray-900 \r
            prose-p:text-gray-700 prose-p:leading-relaxed\r
            prose-ul:text-gray-700 prose-ol:text-gray-700\r
            prose-li:mb-1\r
            prose-strong:text-gray-900\r
            prose-a:text-rose-600 prose-a:no-underline hover:prose-a:underline`,dangerouslySetInnerHTML:{__html:t.content}})]})}const tye=[{id:"hero-section",title:"Welcome to Rosmama Clothing",content:`
      <p class="text-xl text-gray-600 mb-6">Where fashion meets passion, and style tells your story.</p>
      
      <p>Rosmama Clothing was born from a simple belief: every woman deserves to feel confident, beautiful, and empowered through fashion. Founded in South Africa, we've grown from a small boutique dream into a trusted destination for women who appreciate quality, style, and authentic craftsmanship.</p>
    `},{id:"our-story",title:"Our Story",content:`
      <p>What started as a passion project in 2015 has blossomed into a movement celebrating women of all ages, sizes, and styles. Our founder, Rosemary, noticed a gap in the market for fashion that was both accessible and aspirational  clothing that made women feel amazing without breaking the bank.</p>
      
      <p>From our headquarters in Midrand, Johannesburg, we carefully curate and design pieces that celebrate the modern African woman. Each piece in our collection is selected or created with intention, ensuring it meets our high standards for quality, comfort, and style.</p>
    `},{id:"our-mission",title:"Our Mission",content:`
      <p>To empower women through fashion by providing:</p>
      
      <ul>
        <li><strong>Quality Pieces:</strong> Carefully selected fabrics and construction that last</li>
        <li><strong>Inclusive Sizing:</strong> Fashion for every body type and size</li>
        <li><strong>Accessible Luxury:</strong> High-end looks at reasonable prices</li>
        <li><strong>Sustainable Practices:</strong> Ethical sourcing and environmental responsibility</li>
        <li><strong>Personal Style:</strong> Pieces that help you express your unique personality</li>
      </ul>
    `},{id:"our-values",title:"Our Values",content:`
      <div class="grid md:grid-cols-2 gap-6 mt-6">
        <div class="p-6 bg-rose-50 rounded-lg">
          <h4 class="font-semibold text-rose-800 mb-2">Quality First</h4>
          <p class="text-gray-700">We believe in investing in pieces that will love you back. Every item undergoes rigorous quality checks.</p>
        </div>
        
        <div class="p-6 bg-pink-50 rounded-lg">
          <h4 class="font-semibold text-pink-800 mb-2">Customer-Centric</h4>
          <p class="text-gray-700">Your satisfaction drives everything we do. From design to delivery, you're at the heart of our decisions.</p>
        </div>
        
        <div class="p-6 bg-purple-50 rounded-lg">
          <h4 class="font-semibold text-purple-800 mb-2">Sustainable Fashion</h4>
          <p class="text-gray-700">We're committed to reducing our environmental impact through responsible sourcing and packaging.</p>
        </div>
        
        <div class="p-6 bg-blue-50 rounded-lg">
          <h4 class="font-semibold text-blue-800 mb-2">Authentic Style</h4>
          <p class="text-gray-700">Fashion should reflect who you are, not who you think you should be. We celebrate individuality.</p>
        </div>
      </div>
    `},{id:"our-team",title:"Meet Our Team",content:`
      <p class="mb-8">Behind every great fashion brand is a passionate team of dreamers, creators, and style enthusiasts.</p>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Rosemary Oku" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Rosemary Oku</h4>
          <p class="text-rose-600 font-medium">Founder & CEO</p>
          <p class="text-gray-600 text-sm mt-2">Fashion visionary with 15+ years in luxury retail, bringing dreams to life through sustainable fashion.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="James Chen" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">James Chen</h4>
          <p class="text-rose-600 font-medium">Creative Director</p>
          <p class="text-gray-600 text-sm mt-2">Award-winning designer from Milan Fashion Week, creating pieces that blend elegance with everyday wearability.</p>
        </div>
        
        <div class="text-center">
          <img src="/images/placeholder-product.svg" alt="Sarah Johnson" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
          <h4 class="font-semibold text-lg">Sarah Johnson</h4>
          <p class="text-rose-600 font-medium">Head of Sustainability</p>
          <p class="text-gray-600 text-sm mt-2">Environmental advocate ensuring our fashion choices contribute to a better world for future generations.</p>
        </div>
      </div>
    `},{id:"our-stats",title:"Our Impact",content:`
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">50K+</div>
          <div class="text-gray-600">Happy Customers</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">25+</div>
          <div class="text-gray-600">Countries Served</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">10+</div>
          <div class="text-gray-600">Years of Excellence</div>
        </div>
        
        <div class="p-4">
          <div class="text-3xl font-bold text-rose-600 mb-2">4.9</div>
          <div class="text-gray-600">Customer Rating</div>
        </div>
      </div>
    `},{id:"contact-info",title:"Get in Touch",content:`
      <p class="mb-6">We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share your feedback, we're here to help.</p>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Email Us</h5>
            <p class="text-gray-600 text-sm">hello@rosemamaclothing.store</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Call Us</h5>
            <p class="text-gray-600 text-sm">+27 735 514 705</p>
          </div>
        </div>
        
        <div class="flex items-start space-x-3 p-4 bg-gray-50 rounded-lg">
          <div class="bg-rose-100 p-2 rounded-full">
            <svg class="w-5 h-5 text-rose-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          <div>
            <h5 class="font-semibold mb-1">Visit Us</h5>
            <p class="text-gray-600 text-sm">New Road, Midrand<br>Johannesburg, South Africa</p>
          </div>
        </div>
      </div>
    `}];function O6({onNavigate:t}){return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx(R$,{pageType:"about",defaultContent:tye,className:"space-y-12"})})}const rye=[{id:"introduction",title:"Introduction and POPIA Compliance",content:`
      <p>Rosmama Clothing is committed to protecting your privacy and personal information in accordance with the Protection of Personal Information Act (POPIA), Act 4 of 2013, and other applicable South African privacy laws.</p>
      
      <p><strong>Responsible Party:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
      
      <p>This policy explains how we collect, use, store, and protect your personal information when you visit our website or use our services. <em>Last updated: September 12, 2025</em></p>
    `},{id:"information-collection",title:"Information We Collect",content:`
      <p>We collect personal information necessary to provide our services. This includes information you provide directly and information collected automatically.</p>
      
      <h4>Personal Information includes:</h4>
      <ul>
        <li><strong>Identity Information:</strong> Name, surname, ID number (when required)</li>
        <li><strong>Contact Information:</strong> Email address, phone number, postal address</li>
        <li><strong>Financial Information:</strong> Payment details, billing address</li>
        <li><strong>Account Information:</strong> Username, password, purchase history</li>
        <li><strong>Communication Records:</strong> Customer service interactions, feedback</li>
        <li><strong>Technical Information:</strong> IP address, browser type, device information</li>
      </ul>
      
      <h4>Lawful Basis for Processing:</h4>
      <p>We process your personal information based on:</p>
      <ul>
        <li>Contractual necessity (to fulfill orders and provide services)</li>
        <li>Legal compliance (tax records, fraud prevention)</li>
        <li>Legitimate interests (improving services, security)</li>
        <li>Consent (marketing communications, optional features)</li>
      </ul>
    `},{id:"information-use",title:"How We Use Your Information",content:`
      <p>Your personal information is used to provide and improve our services:</p>
      
      <ul>
        <li><strong>Order Processing:</strong> To process and fulfill your orders</li>
        <li><strong>Customer Service:</strong> To respond to inquiries and provide support</li>
        <li><strong>Account Management:</strong> To maintain your account and preferences</li>
        <li><strong>Payment Processing:</strong> To process payments securely</li>
        <li><strong>Marketing Communications:</strong> To send newsletters and promotions (with consent)</li>
        <li><strong>Website Improvement:</strong> To analyze usage and enhance user experience</li>
        <li><strong>Legal Compliance:</strong> To comply with tax, accounting, and legal requirements</li>
        <li><strong>Fraud Prevention:</strong> To protect against fraudulent activities</li>
      </ul>
    `},{id:"information-sharing",title:"Information Sharing and Disclosure",content:`
      <p>We do not sell your personal information to third parties. We may share information with:</p>
      
      <ul>
        <li><strong>Service Providers:</strong> Payment processors, shipping companies, email service providers</li>
        <li><strong>Legal Authorities:</strong> When required by law or to protect our rights</li>
        <li><strong>Business Transfers:</strong> In the event of a merger or acquisition</li>
        <li><strong>Consent-Based Sharing:</strong> When you explicitly consent to sharing</li>
      </ul>
      
      <p>All third-party service providers are contractually bound to protect your information and use it only for specified purposes.</p>
    `},{id:"data-security",title:"Data Security and Retention",content:`
      <p>We implement appropriate technical and organizational measures to protect your personal information:</p>
      
      <ul>
        <li><strong>Encryption:</strong> Data is encrypted in transit and at rest</li>
        <li><strong>Access Controls:</strong> Limited access on a need-to-know basis</li>
        <li><strong>Regular Audits:</strong> Security assessments and monitoring</li>
        <li><strong>Staff Training:</strong> Regular privacy and security training</li>
      </ul>
      
      <h4>Data Retention:</h4>
      <p>We retain personal information for as long as necessary to:</p>
      <ul>
        <li>Fulfill the purposes for which it was collected</li>
        <li>Comply with legal obligations (e.g., tax records for 5 years)</li>
        <li>Resolve disputes and enforce agreements</li>
      </ul>
    `},{id:"your-rights",title:"Your Rights Under POPIA",content:`
      <p>Under the Protection of Personal Information Act, you have the right to:</p>
      
      <ul>
        <li><strong>Access:</strong> Request copies of your personal information</li>
        <li><strong>Correction:</strong> Update or correct inaccurate information</li>
        <li><strong>Deletion:</strong> Request deletion of your personal information</li>
        <li><strong>Objection:</strong> Object to processing for direct marketing</li>
        <li><strong>Data Portability:</strong> Receive your data in a structured format</li>
        <li><strong>Withdraw Consent:</strong> Withdraw consent for processing</li>
      </ul>
      
      <p>To exercise these rights, contact us at <strong>hello@rosemamaclothing.store</strong> or <strong>+27 735 514 705</strong>.</p>
      
      <p>We will respond to your request within 30 days. If you're not satisfied with our response, you can lodge a complaint with the Information Regulator of South Africa.</p>
    `},{id:"cookies-tracking",title:"Cookies and Tracking Technologies",content:`
      <p>We use cookies and similar technologies to enhance your browsing experience:</p>
      
      <ul>
        <li><strong>Essential Cookies:</strong> Required for website functionality</li>
        <li><strong>Performance Cookies:</strong> Help us analyze website usage</li>
        <li><strong>Functional Cookies:</strong> Remember your preferences</li>
        <li><strong>Marketing Cookies:</strong> Deliver relevant advertisements (with consent)</li>
      </ul>
      
      <p>You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect website functionality.</p>
    `},{id:"international-transfers",title:"International Data Transfers",content:`
      <p>Some of our service providers may be located outside South Africa. When we transfer personal information internationally, we ensure:</p>
      
      <ul>
        <li>The receiving country has adequate data protection laws, or</li>
        <li>Appropriate safeguards are in place (e.g., standard contractual clauses)</li>
        <li>We have obtained your explicit consent for the transfer</li>
      </ul>
    `},{id:"children-privacy",title:"Children's Privacy",content:`
      <p>Our services are not intended for children under 18 years old. We do not knowingly collect personal information from children without parental consent.</p>
      
      <p>If you believe we have collected information from a child without proper consent, please contact us immediately.</p>
    `},{id:"policy-updates",title:"Policy Updates",content:`
      <p>We may update this privacy policy from time to time to reflect changes in our practices or legal requirements. We will:</p>
      
      <ul>
        <li>Post the updated policy on our website</li>
        <li>Update the "last updated" date</li>
        <li>Notify you of material changes via email or website notice</li>
      </ul>
      
      <p>Your continued use of our services after policy updates constitutes acceptance of the changes.</p>
    `},{id:"contact-information",title:"Contact Information",content:`
      <p>For any privacy-related questions, concerns, or requests, please contact us:</p>
      
      <div class="bg-gray-50 p-6 rounded-lg mt-4">
        <h5 class="font-semibold mb-3">Rosmama Clothing - Privacy Office</h5>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
          </div>
          <div>
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
          </div>
        </div>
        
        <p class="mt-4 text-sm text-gray-600">
          <strong>Information Regulator:</strong> If you're not satisfied with our response to your privacy request, 
          you can contact the Information Regulator of South Africa at <em>inforeg@justice.gov.za</em>
        </p>
      </div>
    `}],nye=[{id:"introduction",title:"Introduction",content:`
      <p>Welcome to Rosmama Clothing. These Terms of Service ("Terms") govern your use of our website and services. By accessing or using our services, you agree to be bound by these Terms.</p>
      
      <p><em>Last updated: September 12, 2025</em></p>
      
      <p><strong>Company Information:</strong><br>
      Rosmama Clothing<br>
      New Road, Midrand, South Africa<br>
      Email: hello@rosemamaclothing.store<br>
      Phone: +27 735 514 705</p>
    `},{id:"acceptance-terms",title:"Acceptance of Terms",content:`
      <p>By accessing our website, creating an account, or making a purchase, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy.</p>
      
      <p>If you do not agree with these Terms, please do not use our services.</p>
    `},{id:"use-of-services",title:"Use of Our Services",content:`
      <h4>Permitted Use</h4>
      <p>You may use our services for lawful purposes only. You agree not to:</p>
      
      <ul>
        <li>Violate any applicable laws or regulations</li>
        <li>Infringe on intellectual property rights</li>
        <li>Transmit harmful or malicious code</li>
        <li>Engage in fraudulent activities</li>
        <li>Harass other users or our staff</li>
        <li>Attempt to gain unauthorized access to our systems</li>
      </ul>
      
      <h4>Account Responsibility</h4>
      <p>You are responsible for:</p>
      <ul>
        <li>Maintaining the confidentiality of your account credentials</li>
        <li>All activities under your account</li>
        <li>Providing accurate and current information</li>
        <li>Notifying us immediately of any unauthorized use</li>
      </ul>
    `}],iye=[{id:"shipping-overview",title:"Shipping Information",content:`
      <p>We're committed to getting your Rosmama pieces to you quickly and safely. Here's everything you need to know about our shipping policies.</p>
    `},{id:"shipping-areas",title:"Shipping Areas",content:`
      <p>We currently ship to:</p>
      
      <ul>
        <li><strong>South Africa:</strong> Nationwide delivery available</li>
        <li><strong>International:</strong> Selected countries (contact us for availability)</li>
      </ul>
      
      <p>Shipping costs and delivery times vary by location and order value.</p>
    `},{id:"delivery-times",title:"Delivery Times",content:`
      <h4>South Africa</h4>
      <ul>
        <li><strong>Major Cities:</strong> 2-3 business days</li>
        <li><strong>Other Areas:</strong> 3-5 business days</li>
        <li><strong>Rural Areas:</strong> 5-7 business days</li>
      </ul>
      
      <h4>International</h4>
      <ul>
        <li><strong>Regional:</strong> 5-10 business days</li>
        <li><strong>Global:</strong> 10-15 business days</li>
      </ul>
      
      <p><em>Delivery times are estimates and may vary during peak seasons or due to unforeseen circumstances.</em></p>
    `}],aye=[{id:"returns-overview",title:"Returns & Exchanges",content:`
      <p>We want you to love your Rosmama pieces. If you're not completely satisfied, we offer a hassle-free return and exchange policy.</p>
    `},{id:"return-policy",title:"Return Policy",content:`
      <ul>
        <li><strong>Timeframe:</strong> 30 days from delivery date</li>
        <li><strong>Condition:</strong> Items must be unworn, unwashed, and with original tags</li>
        <li><strong>Packaging:</strong> Original packaging preferred but not required</li>
        <li><strong>Proof of Purchase:</strong> Order number or receipt required</li>
      </ul>
      
      <h4>Non-Returnable Items</h4>
      <ul>
        <li>Intimate apparel and swimwear</li>
        <li>Sale items marked as final sale</li>
        <li>Custom or personalized items</li>
        <li>Items damaged by normal wear</li>
      </ul>
    `}],oye=[{id:"help-overview",title:"Help Center",content:`
      <p>Need assistance? We're here to help! Find answers to common questions or contact our support team.</p>
    `},{id:"faq",title:"Frequently Asked Questions",content:`
      <h4>Ordering</h4>
      <p><strong>Q: How do I place an order?</strong><br>
      A: Browse our catalog, add items to cart, and proceed to checkout. Create an account or checkout as a guest.</p>
      
      <p><strong>Q: Can I modify my order after placing it?</strong><br>
      A: Contact us within 2 hours of placing your order. We'll do our best to accommodate changes.</p>
      
      <h4>Sizing</h4>
      <p><strong>Q: How do I find my size?</strong><br>
      A: Check our detailed size guide available on each product page. When in doubt, contact us for personalized sizing advice.</p>
      
      <h4>Payment</h4>
      <p><strong>Q: What payment methods do you accept?</strong><br>
      A: We accept all major credit cards, EFT, and mobile payments.</p>
    `}],sye=[{id:"contact-overview",title:"Get in Touch",content:`
      <p>We'd love to hear from you! Whether you have questions about our products, need styling advice, or want to share feedback, our team is here to help.</p>
    `},{id:"contact-methods",title:"Contact Information",content:`
      <div class="grid md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h4 class="font-semibold">Customer Service</h4>
          <div class="space-y-2">
            <p><strong>Email:</strong> hello@rosemamaclothing.store</p>
            <p><strong>Phone:</strong> +27 735 514 705</p>
            <p><strong>Hours:</strong> Monday - Friday, 9AM - 5PM (SAST)</p>
          </div>
        </div>
        
        <div class="space-y-4">
          <h4 class="font-semibold">Visit Our Store</h4>
          <div class="space-y-2">
            <p><strong>Address:</strong><br>
            New Road, Midrand<br>
            Johannesburg, South Africa</p>
            <p><strong>Store Hours:</strong> By appointment only</p>
          </div>
        </div>
      </div>
    `},{id:"response-times",title:"Response Times",content:`
      <ul>
        <li><strong>Email:</strong> We respond within 24 hours</li>
        <li><strong>Phone:</strong> Immediate assistance during business hours</li>
        <li><strong>Social Media:</strong> Follow us for updates and quick responses</li>
      </ul>
    `}],lye={privacy:{content:rye,pageType:"privacy"},terms:{content:nye,pageType:"terms"},shipping:{content:iye,pageType:"shipping"},returns:{content:aye,pageType:"returns"},help:{content:oye,pageType:"help"},contact:{content:sye,pageType:"contact"}};function Fc({type:t}){const{content:e,pageType:r}=lye[t];return c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx(R$,{pageType:r,defaultContent:e,className:"space-y-8"})})}function cye({onBack:t,initialPage:e="about"}){const[r,n]=N.useState(e),i=l=>{n(l)},a=()=>{switch(r){case"about":return"About Us";case"privacy":return"Privacy Policy";case"terms":return"Terms of Service";case"shipping":return"Shipping Policy";case"returns":return"Return Policy";case"help":return"Help Center";case"contact":return"Contact Us";default:return"Information Center"}},o=()=>{switch(r){case"about":return"Learn about our story, values, and team";case"privacy":return"How we protect and use your personal information";case"terms":return"Terms and conditions for using our services";case"shipping":return"Shipping methods, costs, and delivery information";case"returns":return"Return and exchange policies and procedures";case"help":return"Frequently asked questions and support resources";case"contact":return"Get in touch with our customer service team";default:return"Your one-stop destination for helpful information"}},s=()=>{switch(r){case"about":return c.jsx(O6,{onNavigate:i});case"privacy":return c.jsx(Fc,{type:"privacy"});case"terms":return c.jsx(Fc,{type:"terms"});case"shipping":return c.jsx(Fc,{type:"shipping"});case"returns":return c.jsx(Fc,{type:"returns"});case"help":return c.jsx(Fc,{type:"help"});case"contact":return c.jsx(Fc,{type:"contact"});default:return c.jsx(O6,{onNavigate:i})}};return c.jsx(Q0e,{title:a(),description:o(),onBack:t,onNavigate:i,children:s()})}function uye({onInfoClick:t}){const e=r=>{t&&t(r)};return c.jsx("footer",{className:"bg-gradient-to-r from-slate-900 to-slate-800 text-white mt-auto",children:c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ps,{className:"h-6 w-6 text-rose-400"}),c.jsx("h3",{className:"text-xl font-bold",children:"Rosmama"})]}),c.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"Fashion that inspires, quality that endures. Creating beautiful pieces for the modern woman since 2014."}),c.jsxs("div",{className:"flex gap-4 pt-2",children:[c.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),c.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.747-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z"})})}),c.jsx("button",{className:"text-slate-300 hover:text-white transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold",children:"Shop"}),c.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[c.jsx("li",{children:c.jsx("button",{className:"hover:text-white transition-colors",children:"New Arrivals"})}),c.jsx("li",{children:c.jsx("button",{className:"hover:text-white transition-colors",children:"Women"})}),c.jsx("li",{children:c.jsx("button",{className:"hover:text-white transition-colors",children:"Men"})}),c.jsx("li",{children:c.jsx("button",{className:"hover:text-white transition-colors",children:"Sale"})}),c.jsx("li",{children:c.jsx("button",{className:"hover:text-white transition-colors",children:"Size Guide"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold",children:"Information"}),c.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[c.jsx("li",{children:c.jsxs("button",{onClick:()=>e("about"),className:"hover:text-white transition-colors flex items-center gap-2",children:[c.jsx(Ps,{className:"h-3 w-3"}),"About Us"]})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>e("shipping"),className:"hover:text-white transition-colors",children:"Shipping & Returns"})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>e("help"),className:"hover:text-white transition-colors flex items-center gap-2",children:[c.jsx(gg,{className:"h-3 w-3"}),"FAQ & Support"]})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>e("contact"),className:"hover:text-white transition-colors",children:"Contact Us"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold",children:"Legal"}),c.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[c.jsx("li",{children:c.jsxs("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors flex items-center gap-2",children:[c.jsx(jo,{className:"h-3 w-3"}),"Privacy Policy"]})}),c.jsx("li",{children:c.jsxs("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors flex items-center gap-2",children:[c.jsx(ko,{className:"h-3 w-3"}),"Terms of Service"]})}),c.jsx("li",{children:c.jsx("button",{onClick:()=>e("returns"),className:"hover:text-white transition-colors",children:"Return Policy"})})]}),c.jsxs("div",{className:"pt-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[c.jsx(ff,{className:"h-3 w-3"}),"hello@rosemamaclothing.store"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[c.jsx(W5,{className:"h-3 w-3"}),"+27 735 514 705"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[c.jsx(z5,{className:"h-3 w-3"}),"Midrand, South Africa"]})]})]})]}),c.jsxs("div",{className:"border-t border-slate-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsx("p",{className:"text-xs text-slate-400",children:" 2024 Rosmama Clothing. All rights reserved."}),c.jsxs("div",{className:"flex gap-6 text-xs text-slate-400",children:[c.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors",children:"Privacy"}),c.jsx("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors",children:"Terms"}),c.jsx("button",{onClick:()=>e("help"),className:"hover:text-white transition-colors",children:"Support"})]})]})]})})}const dye=()=>{const[t,e]=N.useState([]);return{cart:t,addToCart:(l,u,d,f)=>{e(p=>p.find(g=>g.productId===l.id&&g.size===u&&g.color===d)?p.map(g=>g.productId===l.id&&g.size===u&&g.color===d?{...g,quantity:g.quantity+f}:g):[...p,{productId:l.id,product:l,size:u,color:d,quantity:f}])},removeFromCart:(l,u,d)=>{e(f=>f.filter(p=>!(p.productId===l&&p.size===u&&p.color===d)))},updateCartQuantity:(l,u,d,f)=>{e(p=>f<=0?p.filter(h=>!(h.productId===l&&h.size===u&&h.color===d)):p.map(h=>h.productId===l&&h.size===u&&h.color===d?{...h,quantity:f}:h))},clearCart:()=>{e([])},getTotalItems:()=>t.reduce((l,u)=>l+u.quantity,0),getTotalPrice:()=>t.reduce((l,u)=>l+u.product.price*u.quantity,0)}},M$=N.createContext(void 0),fye=({children:t})=>{const[e,r]=N.useState("light");N.useEffect(()=>{const i=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches,o=i||(a?"dark":"light");r(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const n=()=>{const i=e==="light"?"dark":"light";r(i),document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)};return c.jsx(M$.Provider,{value:{theme:e,toggleTheme:n},children:t})},hye=()=>{const t=K.useContext(M$);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function pye(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var KS="ScrollArea",[D$,Ebe]=Qn(KS),[mye,Gi]=D$(KS),$$=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(null),[h,g]=N.useState(null),[m,v]=N.useState(null),[b,_]=N.useState(0),[w,S]=N.useState(0),[j,C]=N.useState(!1),[k,E]=N.useState(!1),T=Dt(e,A=>l(A)),I=oh(i);return c.jsx(mye,{scope:r,type:n,dir:I,scrollHideDelay:a,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:_,onCornerHeightChange:S,children:c.jsx(ct.div,{dir:I,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});$$.displayName=KS;var F$="ScrollAreaViewport",B$=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,o=Gi(F$,r),s=N.useRef(null),l=Dt(e,s,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});B$.displayName=F$;var to="ScrollAreaScrollbar",q$=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Gi(to,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return N.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?c.jsx(gye,{...n,ref:e,forceMount:r}):i.type==="scroll"?c.jsx(vye,{...n,ref:e,forceMount:r}):i.type==="auto"?c.jsx(U$,{...n,ref:e,forceMount:r}):i.type==="always"?c.jsx(XS,{...n,ref:e}):null});q$.displayName=to;var gye=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Gi(to,t.__scopeScrollArea),[a,o]=N.useState(!1);return N.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(Oi,{present:r||a,children:c.jsx(U$,{"data-state":a?"visible":"hidden",...n,ref:e})})}),vye=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Gi(to,t.__scopeScrollArea),a=t.orientation==="horizontal",o=Rv(()=>l("SCROLL_END"),100),[s,l]=pye("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay,l]),N.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(l("SCROLL"),o()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,a,l,o]),c.jsx(Oi,{present:r||s!=="hidden",children:c.jsx(XS,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:dt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:dt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),U$=N.forwardRef((t,e)=>{const r=Gi(to,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=N.useState(!1),s=t.orientation==="horizontal",l=Rv(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return Fu(r.viewport,l),Fu(r.content,l),c.jsx(Oi,{present:n||a,children:c.jsx(XS,{"data-state":a?"visible":"hidden",...i,ref:e})})}),XS=N.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Gi(to,t.__scopeScrollArea),a=N.useRef(null),o=N.useRef(0),[s,l]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=G$(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return Sye(p,o.current,s,h)}return r==="horizontal"?c.jsx(yye,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,h=E6(p,s,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):r==="vertical"?c.jsx(bye,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,h=E6(p,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),yye=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Gi(to,t.__scopeScrollArea),[o,s]=N.useState(),l=N.useRef(null),u=Dt(e,l,a.onScrollbarXChange);return N.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(W$,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lv(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),K$(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:fg(o.paddingLeft),paddingEnd:fg(o.paddingRight)}})}})}),bye=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Gi(to,t.__scopeScrollArea),[o,s]=N.useState(),l=N.useRef(null),u=Dt(e,l,a.onScrollbarYChange);return N.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(W$,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lv(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const p=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),K$(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:fg(o.paddingTop),paddingEnd:fg(o.paddingBottom)}})}})}),[xye,z$]=D$(to),W$=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=Gi(to,r),[g,m]=N.useState(null),v=Dt(e,T=>m(T)),b=N.useRef(null),_=N.useRef(""),w=h.viewport,S=n.content-n.viewport,j=$n(d),C=$n(l),k=Rv(f,10);function E(T){if(b.current){const I=T.clientX-b.current.left,A=T.clientY-b.current.top;u({x:I,y:A})}}return N.useEffect(()=>{const T=I=>{const A=I.target;(g==null?void 0:g.contains(A))&&j(I,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,g,S,j]),N.useEffect(C,[n,C]),Fu(g,k),Fu(h.content,k),c.jsx(xye,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:$n(a),onThumbPointerUp:$n(o),onThumbPositionChange:C,onThumbPointerDown:$n(s),children:c.jsx(ct.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:dt(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=g.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:dt(t.onPointerMove,E),onPointerUp:dt(t.onPointerUp,T=>{const I=T.target;I.hasPointerCapture(T.pointerId)&&I.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=_.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),dg="ScrollAreaThumb",H$=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=z$(dg,t.__scopeScrollArea);return c.jsx(Oi,{present:r||i.hasThumb,children:c.jsx(wye,{ref:e,...n})})}),wye=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=Gi(dg,r),o=z$(dg,r),{onThumbPositionChange:s}=o,l=Dt(e,f=>o.onThumbChange(f)),u=N.useRef(void 0),d=Rv(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(d(),!u.current){const h=jye(f,s);u.current=h,s()}};return s(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,d,s]),c.jsx(ct.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:dt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:dt(t.onPointerUp,o.onThumbPointerUp)})});H$.displayName=dg;var JS="ScrollAreaCorner",V$=N.forwardRef((t,e)=>{const r=Gi(JS,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(_ye,{...t,ref:e}):null});V$.displayName=JS;var _ye=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Gi(JS,r),[a,o]=N.useState(0),[s,l]=N.useState(0),u=!!(a&&s);return Fu(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Fu(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?c.jsx(ct.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function fg(t){return t?parseInt(t,10):0}function G$(t,e){const r=t/e;return isNaN(r)?0:r}function Lv(t){const e=G$(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Sye(t,e,r,n="ltr"){const i=Lv(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Y$([l,u],f)(t)}function E6(t,e,r="ltr"){const n=Lv(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],u=P5(t,l);return Y$([0,o],[0,s])(u)}function Y$(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function K$(t,e){return t>0&&t<e}var jye=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function Rv(t,e){const r=$n(t),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Fu(t,e){const r=$n(e);on(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var Nye=$$,Aye=B$,Pye=V$;function kye({className:t,children:e,...r}){return c.jsxs(Nye,{"data-slot":"scroll-area",className:qe("relative",t),...r,children:[c.jsx(Aye,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),c.jsx(Cye,{}),c.jsx(Pye,{})]})}function Cye({className:t,orientation:e="vertical",...r}){return c.jsx(q$,{"data-slot":"scroll-area-scrollbar",orientation:e,className:qe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:c.jsx(H$,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}class Oye{async createNotification(e){try{return this.createNotificationFallback(e)}catch(r){return console.error("Error creating notification:",r),null}}async createNotificationFallback(e){try{const r=crypto.randomUUID(),n={id:r,user_id:e.user_id,type:e.type,category:e.category,title:e.title,message:e.message,data:e.data||{},priority:e.priority||1,action_url:e.action_url,action_text:e.action_text,expires_at:e.expires_at,created_at:new Date().toISOString(),read_at:null};try{const{error:i}=await Re.from("notifications").insert(n);return i&&(console.warn("Notifications table not available yet. Using localStorage fallback:",i.message),this.storeNotificationLocally(n)),r}catch(i){return console.warn("Database not ready, using localStorage:",i),this.storeNotificationLocally(n),r}}catch(r){return console.error("Error in fallback notification creation:",r),null}}storeNotificationLocally(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r);n.push(e),n.length>50&&n.splice(0,n.length-50),localStorage.setItem("temp_notifications",JSON.stringify(n)),console.log("Notification stored locally (temporary):",e.title)}catch(r){console.error("Error storing notification locally:",r)}}async getUserNotifications(e,r=20,n=0,i=!1){try{const{data:a,error:o}=await Re.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);if(o)return console.warn("Notifications table not available, using local storage:",o.message),this.getNotificationsFromLocalStorage(e,r,n,i);let s=a||[];return i&&(s=s.filter(l=>!l.read_at)),s}catch(a){return console.error("Error fetching notifications:",a),this.getNotificationsFromLocalStorage(e,r,n,i)}}getNotificationsFromLocalStorage(e,r,n,i){try{const a=localStorage.getItem("temp_notifications")||"[]";let o=JSON.parse(a);return o=o.filter(s=>s.user_id===e),i&&(o=o.filter(s=>!s.read_at)),o.sort((s,l)=>new Date(l.created_at).getTime()-new Date(s.created_at).getTime()),o.slice(n,n+r)}catch(a){return console.error("Error getting notifications from localStorage:",a),[]}}async getUnreadCount(e){try{const{data:r,error:n}=await Re.from("notifications").select("id",{count:"exact"}).eq("user_id",e).is("read_at",null);return n?(console.warn("Using localStorage for unread count:",n.message),this.getNotificationsFromLocalStorage(e,1e3,0,!0).length):(r==null?void 0:r.length)||0}catch(r){return console.error("Error fetching unread count:",r),0}}async markAsRead(e,r){try{const{error:n}=await Re.from("notifications").update({read_at:new Date().toISOString()}).eq("id",e).eq("user_id",r);return n&&(console.warn("Using localStorage for mark as read:",n.message),this.markAsReadInLocalStorage(e)),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}markAsReadInLocalStorage(e){try{const r=localStorage.getItem("temp_notifications")||"[]",n=JSON.parse(r),i=n.find(a=>a.id===e);i&&(i.read_at=new Date().toISOString(),localStorage.setItem("temp_notifications",JSON.stringify(n)))}catch(r){console.error("Error marking notification as read in localStorage:",r)}}async getNotificationPreferences(e){try{const{data:r,error:n}=await Re.from("notification_preferences").select("*").eq("user_id",e).single();return n?(console.warn("Notification preferences table not available, using defaults:",n.message),{user_id:e,email_notifications:!0,push_notifications:!1,system_alerts:!0,order_alerts:!0,security_alerts:!0}):r}catch(r){return console.error("Error fetching notification preferences:",r),null}}async updateNotificationPreferences(e,r){try{const{error:n}=await Re.from("notification_preferences").upsert({user_id:e,...r,updated_at:new Date().toISOString()});if(n){console.warn("Notification preferences table not available:",n.message);const i=`notification_preferences_${e}`;return localStorage.setItem(i,JSON.stringify({user_id:e,...r})),!0}return!0}catch(n){return console.error("Error updating notification preferences:",n),!1}}async sendSecurityAlert(e,r,n,i){try{return this.createNotification({user_id:e,type:"security",category:r,title:"Security Alert",message:n,priority:3,data:{alert_type:r,ip_address:i,timestamp:new Date().toISOString()}})}catch(a){return console.error("Error sending security alert:",a),null}}async sendSystemNotification(e,r,n=1,i){try{return console.log("System notification (development mode):",{title:e,message:r,priority:n}),1}catch(a){return console.error("Error sending system notification:",a),0}}subscribeToNotifications(e,r,n){const i=Re.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},a=>{console.log("New notification received:",a),r(a.new)}).subscribe(a=>{a==="SUBSCRIBED"?console.log("Subscribed to notifications for user:",e):a==="CHANNEL_ERROR"&&n&&(console.warn("Notification subscription error (table may not exist yet):",a),n(a))});return()=>{Re.removeChannel(i)}}async requestPushPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":(console.warn("This browser does not support notifications"),!1)}async showPushNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted"&&!await this.requestPushPermission())return!1;try{const n=new Notification(e,{icon:r.icon||"/images/placeholder-product.svg",badge:r.badge||"/images/placeholder-product.svg",body:r.body,tag:r.tag,data:r.data,requireInteraction:!0,...r});return n.onclick=i=>{var a;i.preventDefault(),window.focus(),(a=r.data)!=null&&a.url&&(window.location.href=r.data.url),n.close()},!0}catch(n){return console.error("Error showing push notification:",n),!1}}async cleanupOldNotifications(){return console.log("Cleanup old notifications (development mode)"),0}}const bo=new Oye,Eye={email:vg,push:bl,system:H5,order:mg,security:lT},Tye={1:"bg-blue-500",2:"bg-yellow-500",3:"bg-red-500"};function Iye({className:t}){const{user:e}=Ci(),[r,n]=N.useState([]),[i,a]=N.useState(0),[o,s]=N.useState(null),[l,u]=N.useState(!1),[d,f]=N.useState("all"),[p,h]=N.useState(0),[g,m]=N.useState(!0),[v,b]=N.useState(!1),_=N.useCallback(async(A=!1)=>{if(!(!(e!=null&&e.id)||l)){u(!0);try{const L=A?0:p,D=d==="unread",F=await bo.getUserNotifications(e.id,20,L*20,D);A?(n(F),h(0)):n(X=>[...X,...F]),m(F.length===20),h(L+1)}catch(L){console.error("Error loading notifications:",L),Ce.error("Failed to load notifications")}finally{u(!1)}}},[e==null?void 0:e.id,p,d,l]),w=N.useCallback(async()=>{if(e!=null&&e.id)try{const A=await bo.getUnreadCount(e.id);a(A)}catch(A){console.error("Error loading unread count:",A)}},[e==null?void 0:e.id]),S=N.useCallback(async()=>{if(e!=null&&e.id)try{const A=await bo.getNotificationPreferences(e.id);s(A)}catch(A){console.error("Error loading preferences:",A)}},[e==null?void 0:e.id]),j=async A=>{if(e!=null&&e.id)try{await bo.markAsRead(A,e.id)&&(n(D=>D.map(F=>F.id===A?{...F,read_at:new Date().toISOString()}:F)),a(D=>Math.max(0,D-1)),Ce.success("Notification marked as read"))}catch(L){console.error("Error marking notification as read:",L),Ce.error("Failed to mark notification as read")}},C=async()=>{if(e!=null&&e.id)try{const L=r.filter(D=>!D.read_at).map(D=>bo.markAsRead(D.id,e.id));await Promise.all(L),n(D=>D.map(F=>({...F,read_at:F.read_at||new Date().toISOString()}))),a(0),Ce.success("All notifications marked as read")}catch(A){console.error("Error marking all as read:",A),Ce.error("Failed to mark all notifications as read")}},k=async(A,L)=>{if(!(!(e!=null&&e.id)||!o))try{const D={...o,[A]:L};await bo.updateNotificationPreferences(e.id,{[A]:L})&&(s(D),Ce.success("Notification preferences updated"))}catch(D){console.error("Error updating preferences:",D),Ce.error("Failed to update preferences")}},E=async()=>{try{await bo.requestPushPermission()?(Ce.success("Push notifications enabled"),k("push_notifications",!0)):(Ce.error("Push notifications denied"),k("push_notifications",!1))}catch(A){console.error("Error requesting push permission:",A),Ce.error("Failed to request push permission")}},T=r.filter(A=>{switch(d){case"unread":return!A.read_at;case"system":return A.type==="system";case"order":return A.type==="order";case"security":return A.type==="security";default:return!0}});N.useEffect(()=>{e!=null&&e.id&&(_(!0),w(),S())},[e==null?void 0:e.id,d]),N.useEffect(()=>e!=null&&e.id?bo.subscribeToNotifications(e.id,L=>{n(D=>[L,...D]),a(D=>D+1),o!=null&&o.push_notifications&&bo.showPushNotification(L.title,{body:L.message,tag:L.id,data:{notificationId:L.id,url:L.action_url}}),Ce.info(`New notification: ${L.title}`)}):void 0,[e==null?void 0:e.id,o==null?void 0:o.push_notifications]);const I=A=>{const L=new Date(A),F=Math.floor((new Date().getTime()-L.getTime())/(1e3*60*60));return F<1?"Just now":F<24?`${F}h ago`:F<168?`${Math.floor(F/24)}d ago`:L.toLocaleDateString()};return c.jsxs(Lo,{open:v,onOpenChange:b,children:[c.jsx(u_,{asChild:!0,children:c.jsxs(we,{variant:"ghost",size:"icon",className:`relative ${t}`,children:[c.jsx(bl,{className:"h-5 w-5"}),i>0&&c.jsx(Wt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:i>99?"99+":i})]})}),c.jsxs(Ga,{className:"max-w-2xl max-h-[80vh]",children:[c.jsx(Ro,{children:c.jsxs(Mo,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bl,{className:"h-5 w-5"}),"Notifications",i>0&&c.jsxs(Wt,{variant:"secondary",children:[i," unread"]})]}),i>0&&c.jsxs(we,{size:"sm",variant:"outline",onClick:C,children:[c.jsx(pg,{className:"h-4 w-4 mr-2"}),"Mark all read"]})]})}),c.jsxs(lh,{defaultValue:"notifications",className:"w-full",children:[c.jsxs(ch,{className:"grid w-full grid-cols-2",children:[c.jsx(Gn,{value:"notifications",children:"Notifications"}),c.jsx(Gn,{value:"settings",children:"Settings"})]}),c.jsxs(Yn,{value:"notifications",className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(B5,{className:"h-4 w-4"}),c.jsxs(td,{value:d,onValueChange:A=>f(A),children:[c.jsx(nd,{className:"w-40",children:c.jsx(rd,{})}),c.jsxs(id,{children:[c.jsx(lr,{value:"all",children:"All"}),c.jsx(lr,{value:"unread",children:"Unread"}),c.jsx(lr,{value:"system",children:"System"}),c.jsx(lr,{value:"order",children:"Orders"}),c.jsx(lr,{value:"security",children:"Security"})]})]})]}),c.jsx(kye,{className:"h-96",children:c.jsxs("div",{className:"space-y-3",children:[T.map(A=>{const L=Eye[A.type]||bl,D=!A.read_at;return c.jsx(Ge,{className:`${D?"border-blue-200 bg-blue-50/50":""} cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>D&&j(A.id),children:c.jsx(Ye,{className:"p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`p-2 rounded-full ${Tye[A.priority]} text-white`,children:c.jsx(L,{className:"h-4 w-4"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("h4",{className:`font-medium ${D?"text-blue-900":"text-gray-900"}`,children:A.title}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500",children:I(A.created_at)}),D&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.message}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(Wt,{variant:"outline",className:"text-xs",children:A.type}),c.jsx(Wt,{variant:"outline",className:"text-xs",children:A.category})]}),A.action_url&&A.action_text&&c.jsx(we,{size:"sm",variant:"link",className:"p-0 h-auto mt-2",onClick:F=>{F.stopPropagation(),window.open(A.action_url,"_blank")},children:A.action_text})]})]})})},A.id)}),T.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(bl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No notifications found"})]}),g&&c.jsx(we,{variant:"outline",onClick:()=>_(!1),disabled:l,className:"w-full",children:"Load More"})]})})]}),c.jsx(Yn,{value:"settings",className:"space-y-4",children:o&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{className:"text-lg",children:"Notification Preferences"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),c.jsx(Wc,{checked:o.email_notifications,onCheckedChange:A=>k("email_notifications",A)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive push notifications in browser"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wc,{checked:o.push_notifications,onCheckedChange:A=>{A?E():k("push_notifications",!1)}}),!o.push_notifications&&c.jsx(we,{size:"sm",variant:"outline",onClick:E,children:"Enable"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"System Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Important system notifications"})]}),c.jsx(Wc,{checked:o.system_alerts,onCheckedChange:A=>k("system_alerts",A)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Order Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for order updates"})]}),c.jsx(Wc,{checked:o.order_alerts,onCheckedChange:A=>k("order_alerts",A)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Security Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Security-related notifications"})]}),c.jsx(Wc,{checked:o.security_alerts,onCheckedChange:A=>k("security_alerts",A)})]})]})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{className:"text-lg",children:"Browser Settings"})}),c.jsx(Ye,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Push Notification Status"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Current permission: ",typeof window<"u"&&"Notification"in window?Notification.permission:"Not supported"]})]}),c.jsx(we,{onClick:E,variant:"outline",children:"Request Push Permission"})]})})]})]})})]})]})]})}const Lye=({onSearch:t,cartItemCount:e=0,onProfileClick:r,onInfoClick:n})=>{const[i,a]=N.useState(""),[o,s]=N.useState(!1),{theme:l,toggleTheme:u}=hye(),{cart:d}=dye(),{user:f}=Ci(),p=(d==null?void 0:d.reduce((m,v)=>m+v.quantity,0))||e,h=N.useCallback(m=>{m.preventDefault(),t==null||t(i)},[t,i]),g=[{name:"New Arrivals",href:"#new",icon:oT,onClick:()=>{}},{name:"Women",href:"#women",icon:cT,onClick:()=>{}},{name:"Men",href:"#men",icon:wq,onClick:()=>{}},{name:"Sale",href:"#sale",icon:sT,onClick:()=>{}},{name:"About",href:"#about",icon:vg,onClick:()=>n==null?void 0:n()}];return c.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex h-16 items-center justify-between",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs("a",{href:"#",className:"text-2xl font-bold text-primary",children:["Rosemama",c.jsx("br",{}),c.jsx("span",{className:"text-xs mt-1 block",children:"CLOTHING"})]})}),c.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:g.map(m=>{const v=m.icon;return c.jsx("button",{onClick:m.onClick,className:"p-2 rounded-md text-foreground hover:text-primary hover:bg-muted transition-colors",title:m.name,"aria-label":m.name,children:c.jsx(v,{className:"h-5 w-5"})},m.name)})}),c.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:c.jsx("form",{onSubmit:h,className:"w-full",children:c.jsxs("div",{className:"relative",children:[c.jsx(pf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(Lt,{type:"search",placeholder:"Search products...",value:i,onChange:m=>a(m.target.value),className:"w-full pl-10 pr-4 bg-muted/50 border-0 focus:bg-background"})]})})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(we,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full hover:bg-muted","aria-label":"Toggle theme",children:l==="dark"?c.jsx(Aw,{className:"h-5 w-5"}):c.jsx(Nw,{className:"h-5 w-5"})}),f&&c.jsx(Iye,{className:"rounded-full hover:bg-muted"}),c.jsxs(we,{variant:"ghost",size:"icon",className:"relative rounded-full hover:bg-muted",children:[c.jsx(Qp,{className:"h-5 w-5"}),p>0&&c.jsx(Wt,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-primary text-[10px] font-bold",children:p})]}),c.jsx(WY,{}),c.jsx(we,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-muted",onClick:r,children:c.jsx(ks,{className:"h-5 w-5"})}),c.jsxs(I$,{open:o,onOpenChange:s,children:[c.jsx(YS,{asChild:!0,children:c.jsx(we,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted",children:c.jsx(tT,{className:"h-5 w-5"})})}),c.jsx(L$,{side:"right",className:"w-[300px] sm:w-[400px]",children:c.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[c.jsx("form",{onSubmit:h,children:c.jsxs("div",{className:"relative",children:[c.jsx(pf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(Lt,{type:"search",placeholder:"Search products...",value:i,onChange:m=>a(m.target.value),className:"w-full pl-10"})]})}),c.jsx("nav",{className:"flex flex-col space-y-3",children:g.map(m=>{const v=m.icon;return c.jsxs("button",{onClick:()=>{m.onClick(),s(!1)},className:"flex items-center text-lg font-medium text-foreground hover:text-primary transition-colors py-2 text-left",children:[c.jsx(v,{className:"h-5 w-5 mr-3"}),m.name]},m.name)})}),c.jsxs("div",{className:"flex flex-col space-y-3 border-t pt-4",children:[c.jsx(we,{variant:"ghost",className:"justify-start",onClick:u,children:l==="dark"?c.jsxs(c.Fragment,{children:[c.jsx(Aw,{className:"h-4 w-4 mr-2"})," Light mode"]}):c.jsxs(c.Fragment,{children:[c.jsx(Nw,{className:"h-4 w-4 mr-2"})," Dark mode"]})}),c.jsxs(we,{variant:"ghost",className:"justify-start",children:[c.jsx(ks,{className:"h-4 w-4 mr-2"}),"Account"]}),c.jsxs(we,{variant:"ghost",className:"justify-start",children:[c.jsx(Qp,{className:"h-4 w-4 mr-2"}),"Cart (",p,")"]})]})]})})]})]})]})})})},Rye=N.memo(Lye);function Mye({currentPage:t,onPageChange:e}){const{isAdmin:r}=Ci(),{items:n}=ih(),i=n?n.reduce((o,s)=>o+s.quantity,0):0,a=[{id:"home",label:"Home",icon:kB},{id:"catalog",label:"Shop",icon:pf},{id:"cart",label:"Cart",icon:V5,badge:i},{id:"rewards",label:"Rewards",icon:Y9},{id:"profile",label:"Profile",icon:ks},...r?[{id:"admin",label:"Admin",icon:H5}]:[]];return c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-40",children:c.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:a.map(o=>c.jsxs(we,{variant:"ghost",className:`flex-col h-auto p-2 min-w-0 flex-1 ${t===o.id?"text-primary":"text-muted-foreground"}`,onClick:()=>e(o.id),children:[c.jsxs("div",{className:"relative",children:[c.jsx(o.icon,{className:"h-5 w-5"}),o.badge&&o.badge>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full h-4 w-4 flex items-center justify-center",children:o.badge>9?"9+":o.badge})]}),c.jsx("span",{className:"text-xs mt-1",children:o.label})]},o.id))})})}function Dye(){const{user:t,loading:e}=Ci(),[r,n]=N.useState(null);if(e)return c.jsx("div",{className:"text-center py-12",children:"Loading rewards..."});if(!t)return c.jsx("div",{className:"text-center py-12",children:"Please sign in to view your rewards."});const i=p=>{console.log("User update requested:",p),Ce.info("User data is managed globally now.")},a={Bronze:{minPoints:0,color:"bg-orange-600",benefits:["5% cashback","Birthday discount"]},Silver:{minPoints:500,color:"bg-gray-400",benefits:["7% cashback","Free shipping","Early access"]},Gold:{minPoints:1e3,color:"bg-yellow-500",benefits:["10% cashback","Free express shipping","VIP support","Exclusive events"]}},o=t.membershipTier==="Bronze"?"Silver":t.membershipTier==="Silver"?"Gold":null,s=o?a[o].minPoints-t.points:0,l=o?t.points/a[o].minPoints*100:100,u=[{id:"1",name:"$5 Off Next Purchase",cost:100,type:"discount",icon:_0},{id:"2",name:"$10 Off Next Purchase",cost:200,type:"discount",icon:_0},{id:"3",name:"Free Standard Shipping",cost:50,type:"shipping",icon:cu},{id:"4",name:"Free Express Shipping",cost:150,type:"shipping",icon:cu},{id:"5",name:"$25 Off Next Purchase",cost:500,type:"discount",icon:_0},{id:"6",name:"Exclusive Access Item",cost:750,type:"access",icon:pB}],d=[{date:"2024-01-15",type:"earned",points:50,description:"Purchase at Rosemama"},{date:"2024-01-10",type:"earned",points:25,description:"Product Review"},{date:"2024-01-05",type:"redeemed",points:-100,description:"$5 Off Discount Used"},{date:"2024-01-01",type:"earned",points:100,description:"New Year Bonus"}],f=p=>{t.points>=p.cost?(i({...t,points:t.points-p.cost}),Ce.success(`${p.name} redeemed successfully!`)):Ce.error("Insufficient points to redeem this reward")};return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Rewards & Membership"}),c.jsx("p",{className:"text-muted-foreground",children:"Earn points with every purchase and unlock exclusive benefits"})]}),c.jsx(Ge,{className:"mb-6",children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${a[t.membershipTier].color}`}),c.jsxs("h3",{className:"text-xl font-semibold",children:[t.membershipTier," Member"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-2xl font-bold",children:t.points}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"points"})]})]}),o&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[c.jsxs("span",{children:["Progress to ",o]}),c.jsxs("span",{children:[s," points to go"]})]}),c.jsx(L5,{value:l,className:"h-2"})]})}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:a[t.membershipTier].benefits.map((p,h)=>c.jsx("div",{className:"text-center p-3 bg-secondary/30 rounded-lg",children:c.jsx("div",{className:"text-sm font-medium",children:p})},h))})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Rewards"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(p=>c.jsx(Ge,{className:`cursor-pointer transition-all ${t.points>=p.cost?"hover:shadow-md hover:scale-105":"opacity-60"}`,onClick:()=>t.points>=p.cost&&f(p),children:c.jsxs(Ye,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${p.type==="discount"?"bg-green-100":p.type==="shipping"?"bg-blue-100":"bg-purple-100"}`,children:c.jsx(p.icon,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium",children:p.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsxs("span",{className:"text-sm font-medium",children:[p.cost," pts"]}),t.points>=p.cost?c.jsx(Wt,{variant:"secondary",className:"text-xs",children:"Available"}):c.jsxs(Wt,{variant:"outline",className:"text-xs",children:["Need ",p.cost-t.points," more"]})]})]})]}),c.jsx(we,{className:"w-full",size:"sm",disabled:t.points<p.cost,onClick:h=>{h.stopPropagation(),f(p)},children:t.points>=p.cost?"Redeem":"Insufficient Points"})]})},p.id))})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsxs(qt,{className:"flex items-center gap-2",children:[c.jsx(Ui,{className:"h-5 w-5"}),"How to Earn Points"]})}),c.jsxs(Ye,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm",children:"Every $1 spent"}),c.jsx("span",{className:"text-sm font-medium",children:"1 point"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm",children:"Product review"}),c.jsx("span",{className:"text-sm font-medium",children:"25 points"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm",children:"Birthday bonus"}),c.jsx("span",{className:"text-sm font-medium",children:"100 points"})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm",children:"Referral bonus"}),c.jsx("span",{className:"text-sm font-medium",children:"200 points"})]})]})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Recent Activity"})}),c.jsx(Ye,{className:"space-y-3",children:d.map((p,h)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium",children:p.description}),c.jsx("div",{className:"text-xs text-muted-foreground",children:p.date})]}),c.jsxs("div",{className:`text-sm font-medium ${p.type==="earned"?"text-green-600":"text-orange-600"}`,children:[p.type==="earned"?"+":"",p.points]})]},h))})]})]})]}),c.jsx(Is,{})]})}var ZS="Radio",[$ye,X$]=Qn(ZS),[Fye,Bye]=$ye(ZS),J$=N.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:u,...d}=t,[f,p]=N.useState(null),h=Dt(e,v=>p(v)),g=N.useRef(!1),m=f?u||!!f.closest("form"):!0;return c.jsxs(Fye,{scope:r,checked:i,disabled:o,children:[c.jsx(ct.button,{type:"button",role:"radio","aria-checked":i,"data-state":tF(i),"data-disabled":o?"":void 0,disabled:o,value:s,...d,ref:h,onClick:dt(t.onClick,v=>{i||l==null||l(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&c.jsx(eF,{control:f,bubbles:!g.current,name:n,value:s,checked:i,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});J$.displayName=ZS;var Z$="RadioIndicator",Q$=N.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=Bye(Z$,r);return c.jsx(Oi,{present:n||a.checked,children:c.jsx(ct.span,{"data-state":tF(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});Q$.displayName=Z$;var qye="RadioBubbleInput",eF=N.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=N.useRef(null),s=Dt(o,a),l=kv(r),u=jv(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const g=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(g)}},[l,r,n]),c.jsx(ct.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eF.displayName=qye;function tF(t){return t?"checked":"unchecked"}var Uye=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mv="RadioGroup",[zye,Tbe]=Qn(Mv,[Tg,X$]),rF=Tg(),nF=X$(),[Wye,Hye]=zye(Mv),iF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...p}=t,h=rF(r),g=oh(u),[m,v]=Io({prop:a,defaultProp:i??null,onChange:f,caller:Mv});return c.jsx(Wye,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:v,children:c.jsx(D8,{asChild:!0,...h,orientation:l,dir:g,loop:d,children:c.jsx(ct.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:g,...p,ref:e})})})});iF.displayName=Mv;var aF="RadioGroupItem",oF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=Hye(aF,r),o=a.disabled||n,s=rF(r),l=nF(r),u=N.useRef(null),d=Dt(e,u),f=a.value===i.value,p=N.useRef(!1);return N.useEffect(()=>{const h=m=>{Uye.includes(m.key)&&(p.current=!0)},g=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),c.jsx($8,{asChild:!0,...s,focusable:!o,active:f,children:c.jsx(J$,{disabled:o,required:a.required,checked:f,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:dt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:dt(i.onFocus,()=>{var h;p.current&&((h=u.current)==null||h.click())})})})});oF.displayName=aF;var Vye="RadioGroupIndicator",sF=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=nF(r);return c.jsx(Q$,{...i,...n,ref:e})});sF.displayName=Vye;var Gye=iF,Yye=oF,Kye=sF;function Xye({className:t,...e}){return c.jsx(Gye,{"data-slot":"radio-group",className:qe("grid gap-3",t),...e})}function xw({className:t,...e}){return c.jsx(Yye,{"data-slot":"radio-group-item",className:qe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(Kye,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:c.jsx(sB,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Jye({items:t,user:e,onOrderComplete:r,onBack:n}){const{isGuestCart:i}=ih(),[a,o]=N.useState({firstName:(e==null?void 0:e.name.split(" ")[0])||"",lastName:(e==null?void 0:e.name.split(" ")[1])||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:"",city:"",state:"",zipCode:"",country:"South Africa"}),[s,l]=N.useState("cash-on-delivery"),[u,d]=N.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[f,p]=N.useState(!1),[h,g]=N.useState({password:"",confirmPassword:""}),[m,v]=N.useState(!1),[b,_]=N.useState(!1),w=t.reduce((T,I)=>T+I.product.price*I.quantity,0),S=m&&e?Math.min(e.points*.01,w*.2):0,j=w>100?0:9.99,C=(w-S)*.08,k=w-S+j+C,E=async T=>{T.preventDefault(),_(!0);try{if(!a.address||!a.city||!a.state||!a.zipCode){Ce.error("Please fill in all shipping address fields"),_(!1);return}if(s==="credit-card"&&(!u.cardNumber||!u.expiryDate||!u.cvv)){Ce.error("Please fill in all payment details"),_(!1);return}if(!e&&f){if(!h.password||h.password.length<6){Ce.error("Password must be at least 6 characters long"),_(!1);return}if(h.password!==h.confirmPassword){Ce.error("Passwords do not match"),_(!1);return}}const I={firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone,address:a.address,city:a.city,state:a.state,zipCode:a.zipCode,country:a.country,paymentMethod:s,usePointsDiscount:m,pointsUsed:m&&e?Math.min(e.points,Math.floor(w*20)):0};let A;if(e)A=await OT(I);else{const D={email:a.email,firstName:a.firstName,lastName:a.lastName,phone:a.phone};A=await ET(t,I,D,f,f?h.password:void 0)}if(!A)throw new Error("Failed to create order");i&&localStorage.removeItem("rosemama_guest_cart");let L="Order placed successfully!";!e&&f&&(L+=" Check your email to verify your account for order tracking."),s==="cash-on-delivery"?(L=`Order placed successfully! Pay R${k.toFixed(2)} on delivery.`,!e&&f&&(L+=" Check your email to verify your account.")):s==="bank-transfer"?(L=`Order placed successfully! Please send R${k.toFixed(2)} to our bank account.`,!e&&f&&(L+=" Check your email to verify your account.")):L=`Order placed successfully! Payment processed via ${s}.`,Ce.success(L),r()}catch(I){console.error("Order submission failed:",I),Ce.error(I instanceof Error?I.message:"Failed to place order. Please try again.")}finally{_(!1)}};return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24 max-w-6xl",children:[c.jsxs(we,{variant:"ghost",onClick:n,className:"mb-6",children:[c.jsx($5,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),c.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),c.jsx("form",{onSubmit:E,children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Shipping Information"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"firstName",children:"First Name"}),c.jsx(Lt,{id:"firstName",value:a.firstName,onChange:T=>o(I=>({...I,firstName:T.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"lastName",children:"Last Name"}),c.jsx(Lt,{id:"lastName",value:a.lastName,onChange:T=>o(I=>({...I,lastName:T.target.value})),required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"email",children:"Email"}),c.jsx(Lt,{id:"email",type:"email",value:a.email,onChange:T=>o(I=>({...I,email:T.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"phone",children:"Phone"}),c.jsx(Lt,{id:"phone",type:"tel",value:a.phone,onChange:T=>o(I=>({...I,phone:T.target.value}))})]})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"address",children:"Address"}),c.jsx(Lt,{id:"address",value:a.address,onChange:T=>o(I=>({...I,address:T.target.value})),placeholder:"Street address",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"city",children:"City"}),c.jsx(Lt,{id:"city",value:a.city,onChange:T=>o(I=>({...I,city:T.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"state",children:"Province"}),c.jsxs(td,{value:a.state,onValueChange:T=>o(I=>({...I,state:T})),children:[c.jsx(nd,{children:c.jsx(rd,{placeholder:"Select province"})}),c.jsxs(id,{children:[c.jsx(lr,{value:"EC",children:"Eastern Cape"}),c.jsx(lr,{value:"FS",children:"Free State"}),c.jsx(lr,{value:"GP",children:"Gauteng"}),c.jsx(lr,{value:"KZN",children:"KwaZulu-Natal"}),c.jsx(lr,{value:"LP",children:"Limpopo"}),c.jsx(lr,{value:"MP",children:"Mpumalanga"}),c.jsx(lr,{value:"NC",children:"Northern Cape"}),c.jsx(lr,{value:"NW",children:"North West"}),c.jsx(lr,{value:"WC",children:"Western Cape"})]})]})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"zipCode",children:"Postal Code"}),c.jsx(Lt,{id:"zipCode",value:a.zipCode,onChange:T=>o(I=>({...I,zipCode:T.target.value})),required:!0})]})]})]})]}),!e&&c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Account Options"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(I5,{id:"createAccount",checked:f,onCheckedChange:T=>p(T)}),c.jsx(Pt,{htmlFor:"createAccount",className:"text-sm",children:"Create an account to track your orders and earn rewards points"})]}),f&&c.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"password",children:"Password"}),c.jsx(Lt,{id:"password",type:"password",value:h.password,onChange:T=>g(I=>({...I,password:T.target.value})),placeholder:"Create a password",required:f})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"confirmPassword",children:"Confirm Password"}),c.jsx(Lt,{id:"confirmPassword",type:"password",value:h.confirmPassword,onChange:T=>g(I=>({...I,confirmPassword:T.target.value})),placeholder:"Confirm your password",required:f})]})]})]})]}),c.jsxs(Ge,{children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Payment Method"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs(Xye,{value:s,onValueChange:l,children:[c.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[c.jsx(xw,{value:"cash-on-delivery",id:"cash-on-delivery"}),c.jsxs(Pt,{htmlFor:"cash-on-delivery",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[c.jsx(SB,{className:"h-4 w-4"}),"Cash on Delivery"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[c.jsx(xw,{value:"bank-transfer",id:"bank-transfer"}),c.jsxs(Pt,{htmlFor:"bank-transfer",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[c.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),"Bank Transfer (Manual Payment)"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[c.jsx(xw,{value:"credit-card",id:"credit-card"}),c.jsxs(Pt,{htmlFor:"credit-card",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[c.jsx(F5,{className:"h-4 w-4"}),"Credit/Debit Card"]})]}),s==="bank-transfer"&&c.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gray-50",children:[c.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Bank Transfer Details:"}),c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Account Name:"})," CLARA RANYAMA"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Bank:"})," FNB"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Account Number:"})," 62804733766"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Branch Code:"})," 250655"]}),c.jsxs("p",{className:"text-blue-600 mt-2",children:[c.jsx("strong",{children:"Reference:"})," Dolls send me proof of payment "]})]})]})]}),s==="credit-card"&&c.jsxs("div",{className:"space-y-4 mt-4 p-4 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"cardNumber",children:"Card Number"}),c.jsx(Lt,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:u.cardNumber,onChange:T=>d(I=>({...I,cardNumber:T.target.value})),required:!0})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"expiryDate",children:"Expiry Date"}),c.jsx(Lt,{id:"expiryDate",placeholder:"MM/YY",value:u.expiryDate,onChange:T=>d(I=>({...I,expiryDate:T.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"cvv",children:"CVV"}),c.jsx(Lt,{id:"cvv",placeholder:"123",value:u.cvv,onChange:T=>d(I=>({...I,cvv:T.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Pt,{htmlFor:"cardholderName",children:"Cardholder"}),c.jsx(Lt,{id:"cardholderName",placeholder:"Full name",value:u.cardholderName,onChange:T=>d(I=>({...I,cardholderName:T.target.value}))})]})]})]})]})]})]}),c.jsx("div",{children:c.jsxs(Ge,{className:"sticky top-24",children:[c.jsx(Bt,{children:c.jsx(qt,{children:"Order Summary"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsx("div",{className:"space-y-3",children:t.map(T=>c.jsxs("div",{className:"flex gap-3",children:[c.jsx(JT,{src:T.product.images[0],alt:T.product.name,className:"w-12 h-12 object-cover rounded",loading:"eager"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium line-clamp-1",children:T.product.name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[T.size,"  ",T.color,"  Qty ",T.quantity]})]}),c.jsxs("span",{className:"text-sm font-medium",children:["R",(T.product.price*T.quantity).toFixed(2)]})]},`${T.productId}-${T.size}-${T.color}`))}),c.jsx(Kn,{}),e&&e.points>0&&c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(I5,{id:"use-points",checked:m,onCheckedChange:T=>v(T)}),c.jsxs(Pt,{htmlFor:"use-points",className:"text-sm",children:["Use ",Math.min((e==null?void 0:e.points)||0,Math.floor(w*20))," points (save R",S.toFixed(2),")"]})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Subtotal"}),c.jsxs("span",{children:["R",w.toFixed(2)]})]}),S>0&&c.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[c.jsx("span",{children:"Points Discount"}),c.jsxs("span",{children:["-R",S.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Shipping"}),c.jsx("span",{children:j===0?c.jsx("span",{className:"text-green-600",children:"FREE"}):`R${j.toFixed(2)}`})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Tax"}),c.jsxs("span",{children:["R",C.toFixed(2)]})]})]}),c.jsx(Kn,{}),c.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["R",k.toFixed(2)]})]}),c.jsx(we,{type:"submit",className:"w-full",size:"lg",disabled:b,children:b?"Processing...":`Place Order - R${k.toFixed(2)}`}),c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By placing your order, you agree to our Terms & Conditions and Privacy Policy."})]})]})})]})}),c.jsx(Is,{})]})}var Zye=(t,e,r,n,i,a,o,s)=>{let l=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(g=>{let m=g==="class",v=m&&a?i.map(b=>a[b]||b):i;m?(l.classList.remove(...v),l.classList.add(a&&a[h]?a[h]:h)):l.setAttribute(g,h)}),f(h)}function f(h){s&&u.includes(h)&&(l.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let h=localStorage.getItem(e)||r,g=o&&h==="system"?p():h;d(g)}catch{}},Qye=N.createContext(void 0),ebe={setTheme:t=>{},themes:[]},tbe=()=>{var t;return(t=N.useContext(Qye))!=null?t:ebe};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,themes:s,nonce:l,scriptProps:u})=>{let d=JSON.stringify([r,e,a,t,s,o,n,i]).slice(1,-1);return N.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Zye.toString()})(${d})`}})});const rbe=({...t})=>{const{theme:e="system"}=tbe();return c.jsx(pW,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function nbe({isOpen:t,mode:e,onClose:r,onLoginSuccess:n,onSignupSuccess:i,onSwitchMode:a,title:o,description:s}){const{signIn:l,signUp:u}=Ci(),[d,f]=N.useState(!1),[p,h]=N.useState(!1),[g,m]=N.useState({email:"",password:"",name:"",confirmPassword:""}),v=(S,j)=>{m(C=>({...C,[S]:j}))},b=async S=>{S.preventDefault(),f(!0);const j=await l(g.email,g.password);f(!1),j?n():Ce.error("Login failed. Please check your credentials.")},_=async S=>{if(S.preventDefault(),g.password!==g.confirmPassword){Ce.error("Passwords do not match.");return}f(!0);const j=await u(g.email,g.password,g.name);f(!1),j?i():Ce.error("Signup failed. Please try again.")},w=S=>{Ce.info(`Social login with ${S} is not yet implemented.`)};return c.jsx(Lo,{open:t,onOpenChange:r,children:c.jsxs(Ga,{className:"sm:max-w-[425px]",children:[c.jsxs(Ro,{children:[c.jsx(Mo,{children:o||(e==="login"?"Sign In":"Create Account")}),s&&c.jsx(eV,{children:s})]}),c.jsxs(lh,{value:e,onValueChange:S=>a(S),className:"w-full",children:[c.jsxs(ch,{className:"grid w-full grid-cols-2",children:[c.jsx(Gn,{value:"login",children:"Login"}),c.jsx(Gn,{value:"signup",children:"Sign Up"})]}),c.jsx(Yn,{value:"login",children:c.jsxs(Ge,{children:[c.jsxs(Bt,{children:[c.jsx(qt,{children:"Welcome Back"}),c.jsx(PN,{children:"Enter your credentials to access your account."})]}),c.jsxs(Ye,{children:[c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Pt,{htmlFor:"login-email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ff,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Lt,{id:"login-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:S=>v("email",S.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Pt,{htmlFor:"login-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(w0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Lt,{id:"login-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:S=>v("password",S.target.value)}),c.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?c.jsx(jw,{className:"h-4 w-4"}):c.jsx(To,{className:"h-4 w-4"})})]})]}),c.jsx(we,{type:"submit",className:"w-full",disabled:d,children:d?"Signing In...":"Sign In"})]}),c.jsx("div",{className:"mt-4 text-center text-sm",children:c.jsx("a",{href:"#",className:"underline",onClick:()=>Ce.info("Password reset coming soon!"),children:"Forgot your password?"})})]})]})}),c.jsx(Yn,{value:"signup",children:c.jsxs(Ge,{children:[c.jsxs(Bt,{children:[c.jsx(qt,{children:"Create an Account"}),c.jsx(PN,{children:"Join us to get the best shopping experience."})]}),c.jsx(Ye,{children:c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Pt,{htmlFor:"signup-name",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Lt,{id:"signup-name",placeholder:"John Doe",required:!0,className:"pl-10",value:g.name,onChange:S=>v("name",S.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Pt,{htmlFor:"signup-email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ff,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Lt,{id:"signup-email",type:"email",placeholder:"m@example.com",required:!0,className:"pl-10",value:g.email,onChange:S=>v("email",S.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Pt,{htmlFor:"signup-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(w0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Lt,{id:"signup-password",type:p?"text":"password",required:!0,className:"pl-10 pr-10",value:g.password,onChange:S=>v("password",S.target.value)}),c.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>h(!p),children:p?c.jsx(jw,{className:"h-4 w-4"}):c.jsx(To,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Pt,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(w0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Lt,{id:"signup-confirm-password",type:"password",required:!0,className:"pl-10",value:g.confirmPassword,onChange:S=>v("confirmPassword",S.target.value)})]})]}),c.jsx(we,{type:"submit",className:"w-full",disabled:d,children:d?"Creating Account...":"Create Account"})]})})]})})]}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(we,{variant:"outline",onClick:()=>w("Google"),children:"Google"}),c.jsx(we,{variant:"outline",onClick:()=>w("Facebook"),children:"Facebook"})]})]})})}const ibe={success:pg,error:lu,warning:lT,info:vg},abe={success:"border-green-200 bg-green-50 text-green-800",error:"border-red-200 bg-red-50 text-red-800",warning:"border-yellow-200 bg-yellow-50 text-yellow-800",info:"border-blue-200 bg-blue-50 text-blue-800"},obe={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"};function sbe({notification:t,onClose:e}){const[r,n]=N.useState(!1),[i,a]=N.useState(!1),o=ibe[t.type];N.useEffect(()=>{n(!0);const l=t.duration||5e3;if(l>0){const u=setTimeout(()=>{s()},l);return()=>clearTimeout(u)}},[t.duration]);const s=()=>{a(!0),setTimeout(()=>{e(t.id)},200)};return c.jsx(Ge,{className:`
        ${abe[t.type]}
        border shadow-lg transition-all duration-200 mb-2
        ${r&&!i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${i?"translate-x-full opacity-0":""}
      `,children:c.jsx(Ye,{className:"p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(o,{className:`h-5 w-5 mt-0.5 ${obe[t.type]}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-sm",children:t.title}),c.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message}),t.action&&c.jsx(we,{size:"sm",variant:"ghost",className:"mt-2 h-8 px-2 text-xs",onClick:t.action.onClick,children:t.action.label})]}),c.jsx(we,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 opacity-60 hover:opacity-100",onClick:s,children:c.jsx(Ss,{className:"h-4 w-4"})})]})})})}const lbe=K.createContext(null);function cbe({children:t,position:e="top-right",maxToasts:r=5}){const[n,i]=N.useState([]),a=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),o=m=>{const v=a(),b={...m,id:v};i(_=>[b,..._].slice(0,r))},s=(m,v="",b)=>{o({title:m,message:v,type:"success",action:b})},l=(m,v="",b)=>{o({title:m,message:v,type:"error",action:b,duration:8e3})},u=(m,v="",b)=>{o({title:m,message:v,type:"warning",action:b,duration:6e3})},d=(m,v="",b)=>{o({title:m,message:v,type:"info",action:b})},f=m=>{i(v=>v.filter(b=>b.id!==m))},p=()=>{i([])},h=()=>{switch(e){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}},g={showToast:o,showSuccess:s,showError:l,showWarning:u,showInfo:d,dismissToast:f,dismissAll:p};return c.jsxs(lbe.Provider,{value:g,children:[t,c.jsx("div",{className:`fixed z-50 ${h()} w-80 max-w-sm pointer-events-none`,style:{maxHeight:"90vh",overflowY:"auto"},children:c.jsx("div",{className:"space-y-2 pointer-events-auto",children:n.map(m=>c.jsx(sbe,{notification:m,onClose:f},m.id))})})]})}function ube({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:i,loading:a}=bg(),[o,s]=N.useState("featured"),[l,u]=N.useState("grid"),[d,f]=N.useState(new Set),p=N.useMemo(()=>{let g=[...i];switch(t&&(g=g.filter(m=>m.name.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(g=g.filter(m=>m.category===e)),o){case"price-low":g=g.sort((m,v)=>m.price-v.price);break;case"price-high":g=g.sort((m,v)=>v.price-m.price);break;case"rating":g=g.sort((m,v)=>v.rating-m.rating);break}return g},[i,t,e,o]),h=g=>{const m=new Set(d);m.has(g)?m.delete(g):m.add(g),f(m)};return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:e==="All"?"All Products":e}),c.jsxs("p",{className:"text-muted-foreground",children:[p.length," products found"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"hidden md:flex border rounded-lg p-1",children:[c.jsx(we,{variant:l==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),children:c.jsx(q5,{className:"h-4 w-4"})}),c.jsx(we,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),children:c.jsx(U5,{className:"h-4 w-4"})})]}),c.jsxs("select",{value:o,onChange:g=>s(g.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[c.jsx("option",{value:"featured",children:"Featured"}),c.jsx("option",{value:"newest",children:"Newest"}),c.jsx("option",{value:"price-low",children:"Price: Low to High"}),c.jsx("option",{value:"price-high",children:"Price: High to Low"}),c.jsx("option",{value:"rating",children:"Highest Rated"})]}),c.jsxs(we,{variant:"outline",size:"sm",children:[c.jsx(B5,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),c.jsx("div",{className:l==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24":"space-y-4 pb-24",children:p.map(g=>c.jsx(Ge,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 ${l==="list"?"flex":"flex flex-col h-full"}`,onClick:()=>r(g),children:c.jsxs(Ye,{className:`p-0 ${l==="grid"?"flex flex-col h-full":""}`,children:[c.jsxs("div",{className:`relative overflow-hidden ${l==="list"?"w-32 flex-shrink-0":"rounded-t-lg flex-shrink-0"}`,children:[c.jsx(j$,{images:g.images,name:g.name,className:l==="list"?"w-32 h-32":"w-full aspect-[4/3]",priority:!0}),c.jsx(we,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:m=>{m.stopPropagation(),h(g.id)},children:c.jsx(Ps,{className:`h-4 w-4 ${d.has(g.id)?"fill-red-500 text-red-500":""}`})}),g.originalPrice&&g.originalPrice!==g.price&&c.jsxs(Wt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:[Math.round((g.originalPrice-g.price)/g.originalPrice*100),"% OFF"]})]}),c.jsxs("div",{className:`space-y-2 ${l==="list"?"p-4 flex-1":"p-4 flex-1 flex flex-col justify-between"}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx("h4",{className:"font-medium line-clamp-2 flex-1 min-w-0",children:g.name}),c.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[g.images.length>1&&c.jsxs("div",{className:"flex gap-0.5 max-w-[60px] flex-wrap",children:[g.images.slice(0,5).map((m,v)=>c.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-gray-300 flex-shrink-0",style:{minWidth:"20px",minHeight:"20px"},children:c.jsx("img",{src:m,alt:"",className:"w-full h-full object-cover",loading:"lazy"})},v)),g.images.length>5&&c.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border border-gray-300 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-[8px] text-gray-600 font-bold leading-none",children:"+"})})]}),!g.inStock&&c.jsx(Wt,{variant:"secondary",className:"text-xs ml-1",children:"Out of Stock"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ui,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.rating," (",g.reviews.length,")"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"font-semibold",children:["R",g.price]}),g.originalPrice&&g.originalPrice!==g.price&&c.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",g.originalPrice]})]}),c.jsxs("div",{className:"flex gap-1",children:[g.colors.slice(0,4).map(m=>c.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-gray-300 ${m.toLowerCase()==="black"?"bg-black":m.toLowerCase()==="white"?"bg-white":m.toLowerCase()==="gray"?"bg-gray-400":m.toLowerCase()==="navy"?"bg-blue-900":m.toLowerCase()==="brown"?"bg-amber-800":m.toLowerCase()==="beige"?"bg-amber-100":m.toLowerCase()==="pink"?"bg-pink-400":m.toLowerCase()==="blue"?"bg-blue-500":m.toLowerCase()==="red"?"bg-red-500":"bg-green-500"}`},m)),g.colors.length>4&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.colors.length-4]})]})]})]})},g.id))}),p.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),c.jsx(we,{onClick:()=>n("All"),children:"Clear filters"})]}),c.jsx(Is,{})]})}function dbe(){const{user:t,isAdmin:e}=Ci(),{products:r}=bg(),{items:n,addItem:i,updateItemQuantity:a,removeItem:o,fetchCart:s}=ih(),[l,u]=N.useState("home"),[d,f]=N.useState(null),[p,h]=N.useState(""),[g,m]=N.useState("All"),[v,b]=N.useState(!1),[_,w]=N.useState("about"),[S,j]=N.useState({mode:"login",title:"Sign In Required",description:"Please sign in to continue"}),C=(V,$,ie)=>{t?V():(j({mode:"login",title:$||"Sign In Required",description:ie||"Please sign in to continue"}),b(!0))},k=V=>{f(V),u("product")},E=V=>{m(V),u("catalog")},T=()=>{C(()=>u("checkout"),"Checkout","Please sign in to proceed with your order.")},I=()=>{C(()=>u("profile"),"My Account","Please sign in to view your profile.")},A=()=>{C(()=>u("rewards"),"My Rewards","Please sign in to view your rewards.")},L=()=>{b(!1),Ce.success("Welcome back!"),S.title.includes("Checkout")?u("checkout"):S.title.includes("Profile")?u("profile"):S.title.includes("Rewards")&&u("rewards")},D=V=>{const $=V;["profile","rewards","admin"].includes($)?($==="profile"&&I(),$==="rewards"&&A(),$==="admin"&&e&&u("admin")):u($)},F=async(V,$,ie,re)=>{if(console.log("handleUpdateQuantity called:",{productId:V,size:$,color:ie,quantity:re}),n.find(M=>M.productId===V&&M.size===$&&M.color===ie)){const M=`${V}|${$}|${ie}`;console.log("Updating item with identifier:",M,"to quantity:",re);const U=await a(M,re);console.log("Update result:",U),U||Ce.error("Failed to update item quantity")}else console.log("Item not found in cart for quantity update"),Ce.error("Item not found in cart")},X=async(V,$,ie)=>{console.log("handleRemoveItem called:",{productId:V,size:$,color:ie});const re=n.find(se=>se.productId===V&&se.size===$&&se.color===ie);if(console.log("Found cart item:",re),console.log("Current items:",n),re){const se=`${V}|${$}|${ie}`;console.log("Removing item with identifier:",se);const M=await o(se);console.log("Remove result:",M),M||Ce.error("Failed to remove item from cart")}else console.log("Item not found in cart"),Ce.error("Item not found in cart")},Y=()=>{switch(l){case"home":return c.jsx(KT,{onViewProduct:k,onNavigateToCategory:E});case"catalog":return c.jsx(ube,{searchQuery:p,selectedCategory:g,onViewProduct:k,onCategoryChange:m});case"product":return d?c.jsx(mW,{product:d,onBack:()=>u("catalog"),onAddToCart:i}):null;case"cart":return c.jsx(vW,{items:n,onUpdateQuantity:F,onRemoveItem:X,onProceedToCheckout:T,onContinueShopping:()=>u("catalog")});case"checkout":return c.jsx(Jye,{user:t,items:n,onOrderComplete:()=>{u("home"),Ce.success("Order placed successfully!")},onBack:()=>u("cart")});case"profile":return t?e?c.jsx(O$,{}):c.jsx(HY,{onLogout:()=>{}}):null;case"rewards":return t?c.jsx(Dye,{}):null;case"admin":return e?c.jsx(X0e,{products:r}):null;case"info":return c.jsx(cye,{onBack:()=>u("home"),initialPage:_});default:return null}};return c.jsxs("div",{className:"flex flex-col min-h-screen",children:[c.jsx(Rye,{onSearch:h,onProfileClick:I,onInfoClick:()=>{w("about"),u("info")}}),c.jsx("main",{className:"flex-1 pb-28 md:pb-4",children:Y()}),c.jsx(uye,{onInfoClick:V=>{w(V),u("info")}}),c.jsx(Mye,{currentPage:l,onPageChange:D}),c.jsx(nbe,{isOpen:v,mode:S.mode,onClose:()=>b(!1),onLoginSuccess:L,onSignupSuccess:L,title:S.title,description:S.description,onSwitchMode:V=>j($=>({...$,mode:V}))}),c.jsx(rbe,{})]})}function fbe(){return c.jsx(Iz,{children:c.jsx(Tz,{children:c.jsx(Lz,{children:c.jsx(Y0e,{children:c.jsx(fye,{children:c.jsx(cbe,{position:"top-right",maxToasts:5,children:c.jsx(dbe,{})})})})})})})}function hbe({searchQuery:t,selectedCategory:e,onViewProduct:r,onCategoryChange:n}){const{products:i}=bg(),{user:a}=Ci(),{addItem:o}=ih(),[s,l]=N.useState("featured"),[u,d]=N.useState("grid"),[f,p]=N.useState(new Set),[h,g]=N.useState([0,500]),[m,v]=N.useState([]),[b,_]=N.useState(!1),w=[...new Set(i.flatMap(I=>I.colors))],S=async I=>{try{console.log(" ProductCatalog: Adding product to cart:",I.id,I.name);const A="M",L=I.colors[0]||"Default";await o(I,A,L,1)?console.log(" ProductCatalog: Product added to cart successfully"):console.error(" ProductCatalog: Failed to add product to cart")}catch(A){console.error(" ProductCatalog: Error adding product to cart:",A)}},j=I=>{console.log(" ProductCatalog: Viewing product details:",I.id,I.name),r(I)},C=I=>{console.log(" ProductCatalog: Toggling wishlist for product:",I.id,I.name),p(A=>{const L=new Set(A);return L.has(I.id)?(L.delete(I.id),console.log(" ProductCatalog: Removed from wishlist")):(L.add(I.id),console.log(" ProductCatalog: Added to wishlist")),L})},k=N.useMemo(()=>{let I=[...i];switch(t&&(I=I.filter(A=>A.name.toLowerCase().includes(t.toLowerCase())||A.category.toLowerCase().includes(t.toLowerCase())||A.description.toLowerCase().includes(t.toLowerCase()))),e&&e!=="All"&&(I=I.filter(A=>A.category===e)),I=I.filter(A=>A.price>=h[0]&&A.price<=h[1]),m.length>0&&(I=I.filter(A=>m.some(L=>A.colors.includes(L)))),s){case"price-low":I.sort((A,L)=>A.price-L.price);break;case"price-high":I.sort((A,L)=>L.price-A.price);break;case"rating":I.sort((A,L)=>L.rating-A.rating);break;case"newest":I.sort((A,L)=>parseInt(L.id)-parseInt(A.id));break}return I},[i,t,e,s,h,m]),E=I=>{const A=new Set(f);A.has(I)?A.delete(I):A.add(I),p(A)},T=()=>{g([0,500]),v([]),n("All")};return c.jsxs("div",{className:"container mx-auto px-6 py-6 pb-24",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e==="All"?"All Products":e}),c.jsxs("p",{className:"text-muted-foreground",children:[k.length," products found"]})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsxs("div",{className:"border rounded-lg p-1",children:[c.jsx(we,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),children:c.jsx(q5,{className:"h-4 w-4"})}),c.jsx(we,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),children:c.jsx(U5,{className:"h-4 w-4"})})]}),c.jsxs("select",{value:s,onChange:I=>l(I.target.value),className:"px-3 py-2 border rounded-md bg-background text-sm",children:[c.jsx("option",{value:"featured",children:"Featured"}),c.jsx("option",{value:"newest",children:"Newest First"}),c.jsx("option",{value:"price-low",children:"Price: Low to High"}),c.jsx("option",{value:"price-high",children:"Price: High to Low"}),c.jsx("option",{value:"rating",children:"Highest Rated"})]}),c.jsxs(we,{variant:"outline",size:"sm",onClick:()=>_(!b),className:b?"bg-primary/10":"",children:[c.jsx(B5,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),b&&c.jsx(Ge,{className:"mb-6",children:c.jsx(Ye,{className:"p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"font-medium mb-3 block",children:"Price Range"}),c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Lt,{type:"number",placeholder:"Min",value:h[0],onChange:I=>g([Number(I.target.value),h[1]]),className:"w-20"}),c.jsx("span",{className:"self-center",children:"-"}),c.jsx(Lt,{type:"number",placeholder:"Max",value:h[1],onChange:I=>g([h[0],Number(I.target.value)]),className:"w-20"})]})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"font-medium mb-3 block",children:"Colors"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:w.slice(0,8).map(I=>c.jsx("button",{onClick:()=>v(A=>A.includes(I)?A.filter(L=>L!==I):[...A,I]),className:`px-3 py-1 text-xs border rounded-full transition-colors ${m.includes(I)?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:I},I))})]}),c.jsxs("div",{className:"flex items-end gap-2",children:[c.jsxs(we,{onClick:T,variant:"outline",children:[c.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Clear All"]}),c.jsx(we,{onClick:()=>_(!1),children:"Apply"})]})]})})}),k.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(pf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),c.jsx(we,{onClick:T,children:"Clear all filters"})]}):c.jsx("div",{className:`grid gap-6 ${u==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:k.map(I=>{var A;return console.log(" ProductCatalog: Rendering product:",{id:I.id,name:I.name,price:I.price,originalPrice:I.originalPrice,category:I.category,imageCount:((A=I.images)==null?void 0:A.length)||0,rating:I.rating,colors:I.colors,inStock:I.inStock,viewMode:u}),u==="list"?c.jsx(Ge,{className:`group cursor-pointer hover:shadow-lg transition-all duration-300 flex \r
                           bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                           border border-border dark:border-border/50`,onClick:()=>r(I),children:c.jsxs(Ye,{className:"p-0 flex",children:[c.jsxs("div",{className:"relative overflow-hidden w-60 flex-shrink-0",children:[c.jsx(j$,{images:I.images,name:I.name,className:"w-60 h-60",priority:!0}),c.jsx(we,{variant:"ghost",size:"icon",className:`absolute top-2 right-2 bg-background/80 backdrop-blur-sm \r
                                hover:bg-background dark:bg-card/80 dark:hover:bg-card`,onClick:L=>{L.stopPropagation(),E(I.id)},children:c.jsx(Ps,{className:`h-4 w-4 ${f.has(I.id)?"fill-red-500 text-red-500":"text-foreground"}`})}),I.originalPrice&&c.jsx(Wt,{className:"absolute top-2 left-2 bg-rose-500 text-white dark:bg-rose-600 dark:text-white",children:"Sale"}),!I.inStock&&c.jsx("div",{className:"absolute inset-0 bg-black/60 dark:bg-black/70 flex items-center justify-center",children:c.jsx("span",{className:"text-white font-medium px-3 py-1 bg-black/40 backdrop-blur-sm rounded",children:"Out of Stock"})})]}),c.jsxs("div",{className:"p-6 flex-1 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Wt,{variant:"secondary",className:"text-xs bg-secondary/80 text-secondary-foreground",children:I.category}),!I.inStock&&c.jsx(Wt,{variant:"outline",className:"text-xs text-rose-500 dark:text-rose-400 border-rose-200 dark:border-rose-800",children:"Out of Stock"})]}),c.jsx("h4",{className:"font-semibold text-lg line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:I.name}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center",children:[...Array(5)].map((L,D)=>c.jsx(Ui,{className:`h-4 w-4 ${D<Math.floor(I.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`},D))}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[I.rating," (",I.reviews.length,")"]})]}),c.jsxs("div",{className:"flex gap-1",children:[I.colors.slice(0,4).map(L=>c.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${L.toLowerCase()==="black"?"bg-black border-gray-300 dark:border-gray-600":L.toLowerCase()==="white"?"bg-white border-gray-400":L.toLowerCase()==="gray"?"bg-gray-400 border-gray-500":L.toLowerCase()==="navy"?"bg-blue-900 border-blue-800":L.toLowerCase()==="brown"?"bg-amber-800 border-amber-700":L.toLowerCase()==="beige"?"bg-amber-100 border-amber-200":L.toLowerCase()==="pink"?"bg-pink-400 border-pink-500":L.toLowerCase()==="blue"?"bg-blue-500 border-blue-600":L.toLowerCase()==="red"?"bg-red-500 border-red-600":"bg-green-500 border-green-600"}`,title:L},L)),I.colors.length>4&&c.jsxs("span",{className:"text-xs text-muted-foreground self-center ml-1",children:["+",I.colors.length-4]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[c.jsxs("span",{className:"font-bold text-lg text-foreground",children:["R",I.price]}),I.originalPrice&&c.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["R",I.originalPrice]})]})]})]})},I.id):c.jsx("div",{children:c.jsx(kw,{product:I,layout:"enhanced",showQuickActions:!0,onAddToCart:S,onViewDetails:j,onToggleWishlist:C,className:`shadow-md hover:shadow-xl transition-shadow duration-300\r
                               bg-background/70 dark:bg-card/80 hover:bg-background dark:hover:bg-card/95\r
                               border border-border dark:border-border/50`})},I.id)})}),k.length>12&&c.jsx("div",{className:"text-center mt-8",children:c.jsx(we,{variant:"outline",size:"lg",children:"Load More Products"})})]})}const pbe=KF([{path:"/",element:c.jsx(fbe,{}),children:[{index:!0,element:c.jsx(KT,{onViewProduct:()=>{},onNavigateToCategory:()=>{}})},{path:"products",element:c.jsx(hbe,{searchQuery:"",selectedCategory:"All",onViewProduct:()=>{},onCategoryChange:()=>{}})}]}],{basename:"/"});e9.createRoot(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsx(XF,{router:pbe})}));export{cr as _};
